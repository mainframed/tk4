CKSYMBOL AMODE 24
CKSYMBOL RMODE 24
CKSYMBOL CKINICIO
OPEN     OPEN  (ENTRA,INPUT)
         OPEN  (SALID,OUTPUT)
LEER     EQU   *
         GET   ENTRA,AENTRA
*
         XC    SYMBP(SYMBP_LEN),SYMBP
         LA    R4,AENTRA
         ST    R4,SYMBPPATTERN@
         LA    R4,L'AENTRA
         ST    R4,SYMBPPATTERNLENGTH
         LA    R4,ASALID
         ST    R4,SYMBPTARGET@
         MVC   LSALID,=A(L'ASALID)
         LA    R4,LSALID
         ST    R4,SYMBPTARGETLENGTH@
         LA    R4,RETCOD
         ST    R4,SYMBPRETURNCODE@
*
         LINK  EP=ASASYMBM,MF=(E,SYMBP)
*
         PUT   SALID,ASALID
         B     LEER
FIN      EQU   *
         CLOSE ENTRA
         CLOSE SALID
         CKFINAL RET=0
AENTRA   DS    CL80
         DS    0F
RETCOD   DS    F
LSALID   DS    F
ASALID   DS    CL80
         ASASYMBP DSECT=NO
ENTRA    DCB   DDNAME=SYSUT1,MACRF=GM,EODAD=FIN,DSORG=PS
SALID    DCB   DDNAME=SYSUT2,MACRF=PM,DSORG=PS,LRECL=80
         END   CKSYMBOL

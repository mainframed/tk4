//E0115DMA JOB EDPCSBS1,'SASD',MSGCLASS=X,CLASS=1,NOTIFY=ED115DM
//*
//SAS     EXEC EDSAS609,OPTIONS=NODATE
//DATLIB  DD DISP=SHR,DSN=EDS1.PROD.SMFDUMPW
//SYSIN   DD *
TITLE SMF 22;
  DATA;
  RETAIN V;
  INFILE DATLIB JFCB=JF MISSOVER;
  IF _N_ = 1 THEN DO;
                  INPUT @;
                  IF INDEX(JF,'SYS1.MAN') ^=0 THEN V=4; ELSE V=0;
                  END;
  IF V=4 THEN
      INPUT    SMFXXLEN PIB2. SMFXXSEG PIB2. @ ;
  INPUT    SMFXXFLG PIB1. SMFXXRTY PIB1.
                       @;
  IF SMFXXRTY = 212 THEN DO;
                        *PUT '212 DETECTED - SKIPPING';
                         DELETE;
                         END;
  INPUT    TIMEOUT SMFSTAMP8.
      SMFXXSID $CHAR4. @;
  IF SMFXXRTY = 22;
  INPUT SMF22IND PIB2. SMF22ECT PIB2.
  @ ;
    PUT SMFXXRTY +5 TIMEOUT DATETIME.
    +5 SMFXXSID +5 SMF22IND  +5   SMF22ECT
    ;
  INPUT SMF22RV0 PIB1.     SMF22PID PIB1.      SMF22CPN PIB2.
        SMF22RV1 PIB1.     SMF22CPA PIB1.
  @ ;
    PUT SMF22RV0   +5      SMF22PID    +5      SMF22CPN   +5
        SMF22RV1   +5      SMF22CPA
    ;
  INPUT SMF22CSD PIB1.     SMF22CID PIB1.      SMF22CHN PIB2.
        SMF22CHA PIB1.     SMF22CPD PIB1.
  @ ;
    PUT SMF22CSD   +5      SMF22CID   +5       SMF22CHN   +5
        SMF22CHA   +5      SMF22CPD
    ;
  INPUT SMF22RV3 PIB1.     SMF22TID PIB1.      SMF22PGL PIB2.
        SMF22NPG PIB2.
  @ ;
    PUT SMF22RV3   +5      SMF22TID    +5      SMF22PGL   +5
        SMF22NPG
    ;
  INPUT SMF22RV4 PIB1.     SMF22IID PIB1.
  @ ;
    PUT SMF22RV4   +5      SMF22IID
  @ ;
  INPUT SMF22IN1 PIB1.     SMF22IN2 PIB1.      SMF22IN3 PIB2.
        SMF22IN4 PIB2.     SMF22IN5 PIB1.      SMF22IN6 PIB1.
        SMF22IN7 PIB4.     SMF22IN8 PIB4.      SMF22IN9 PIB4.
        SMF22INA PIB4.     SMF22INB PIB4.      SMF22INC PIB4.
        SMF22IND PIB4.     SMF22INE PIB3.      SMF22INF PIB1.
  @ ;
    PUT SMF22IN1   +5      SMF22IN2    +5      SMF22IN3    +5
        SMF22IN4   +5      SMF22IN5    +5      SMF22IN6    +5
        SMF22IN7   +5      SMF22IN8    +5      SMF22IN9    +5
        SMF22INA   +5      SMF22INB    +5      SMF22INC    +5
        SMF22IND   +5      SMF22INE    +5      SMF22INF
    ;
  INPUT SMF22RV5  PIB1.    SMF22NID  PIB1.     SMF22RVA  PIB1.
        SMF22NSI  PIB3.
  @ ;
    PUT SMF22RV5    +5     SMF22NID    +5      SMF22RVA    +5
        SMF22NSI
    ;
  INPUT SMF22RV6  PIB1.    SMF22FID  PIB1.     SMF22RVB  PIB1.
        SMF22FSI  PIB3.
  @ ;
    PUT SMF22RV6    +5     SMF22FID    +5      SMF22RVB    +5
        SMF22FSI
    ;

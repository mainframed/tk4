//ED115DMA JOB EDPCSBS1,MSGCLASS=X,CLASS=3,NOTIFY=ED115DM
//*
//  EXEC SAS606
//DATLIB DD DSN=EDH1.PROD.SMFDUMPW.HOLD,DISP=SHR
//*ATLIB DD DSN=SYS1.MAN1,DISP=SHR
//SYSIN DD *
DATA SMF48 (KEEP =
       SMF48SBS         SMF48RSV       SMF48LRR
       SMF48EVT         SMF48RV1       SMF48RMT
       SMF48LIN         SMF48PSW
       SMF48TRN         SMF48TOT
       SMF48NKS         SMF48SO1       SMF48SO2
       SMF48S1          SMF48S21       SMF48S22
       SMF48S3
                  );
  RETAIN V;
  INFILE DATLIB JFCB=JF;
  IF _N_ = 1 THEN DO;
                  INPUT @;
                  IF INDEX(JF,'SYS1.MAN') ^=0 THEN V=4; ELSE V=0;
                  END;
  IF V=4 THEN
      INPUT    SMFXXLEN PIB2. SMFXXSEG PIB2. @ ;
  INPUT    SMFXXFLG PIB1. SMFXXRTY PIB1.
                       @;
  IF SMFXXRTY = 212 THEN DO;
                        *PUT '212 DETECTED - SKIPPING';
                         DELETE;
                         END;
  INPUT    TIMEOUT SMFSTAMP8.
      SMFXXSID $CHAR4. @;
  IF SMFXXRTY = 48;
 INPUT SMF48SBS PIB2.   SMF48RSV PIB2. SMF48LRR PIB2.
       SMF48EVT PIB2.   SMF48RV1 PIB2. SMF48RMT $CHAR8.
       SMF48LIN $CHAR8. SMF48PSW $CHAR8. @;
 INPUT SMF48TRN PIB4.   SMF48TOT PIB2.
       SMF48NKS PIB2.   SMF48SO1 PIB1. SMF48SO2 PIB2.
       SMF48S1  PIB1.   SMF48S21 PIB1. SMF48S22 PIB2.
       SMF48S3  PIB1.
       ;
RETURN;
PROC PRINT;
FORMAT TIMEOUT DATETIME.;

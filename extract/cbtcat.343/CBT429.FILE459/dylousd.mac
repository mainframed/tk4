*------- SET USER'S SELECTION(S) AND/OR DEFAULTS
         SPACE 1
        @SETI  TDSI,SYS            SET TO BE NOT DE-ALLOCATED
         SPACE 1
*=== 1. CHECK AND SET SYSTEM USER
         SPACE 1
        @IF    GROUP=(SYS1,SYS,OPER),ELSE=TUSD0
        @SETI  XDSI,SYS            SET SYSTEM
         SPACE 1
*=== 2. CHECK TERMINAL TYPE
         SPACE 1
TUSD0   @IF    TERMINAL=L,GOTO=TUSD40
         SPACE 1
*=== 3. IT IS A SCREEN TERMINAL
         SPACE 1
*------ A. CHECK IF ANY OPERAND(S) SPECIFIED
        @IF    KEYWORD=(ADA,U),ELSE=TUSD20
        @IF    KEYWORD=(SPF,U),ELSE=TUSD20
        @IF    KEYWORD=(MFT,U),ELSE=TUSD20
        @IF    KEYWORD=(IFS,U),ELSE=TUSD20
        @IF    KEYWORD=(SMP,U),ELSE=TUSD20
         SPACE 1
*------ B. NONE SPECIFIED, SET DEFAULTS
        @SETI  XDSI,SPF            SAY ISPF
        @IF    GROUP=(SYS1,SYS,OPER),ELSE=USDOK
        @SETI  XDSI,MFT            SAY MFTS
        @IF    GROUP=(SYS1,SYS),ELSE=USDOK
        @SETI  XDSI,IFS            SAY INFO SYSTEM
        @SETI  XDSI,SMP            SAY SMP
        @IF    USER=(SYSRACF,SYSDMS),ELSE=TUSD10
        @SETI  XDSI,DMS,GOTO=USDOK SAY DMS MANAGER
TUSD10  @IF    USER=(SYSTSO1,SYSTSO2),ELSE=USDOK
        @SETI  XDSI,IFM,GOTO=USDOK SAY INFO MANAGER
         SPACE 1
*------ C. SET ONLY WHAT SPECIFIED AND VALID
TUSD20  @IF    KEYWORD=(ADA,S),ELSE=TUSD21
        @SETI  XDSI,ADA            SAY ADABAS
TUSD21  @IF    KEYWORD=(SPF,S),ELSE=TUSD22
        @SETI  XDSI,SPF            SAY ISPF
TUSD22  @IF    KEYWORD=(MFT,S),ELSE=TUSD23
        @SETI  XDSI,MFT            SAY MFTS
TUSD23  @IF    GROUP=(SYS1,SYS),ELSE=TUSD30
        @IF    KEYWORD=(SPF,S),ELSE=USDERR
        @IF    KEYWORD=(IFS,S),ELSE=TUSD24
        @SETI  XDSI,IFS            SAY INFO SYSTEM
        @IF    USER=(SYSTSO1,SYSTSO2),ELSE=TUSD24
        @SETI  XDSI,IFM            SAY INFO MANAGER
TUSD24  @IF    KEYWORD=(SMP,S),ELSE=TUSD25
        @SETI  XDSI,SMP            SAY SMP
TUSD25  @IF    USER=(SYSRACF,SYSDMS),ELSE=USDOK
        @SETI  XDSI,DMS,GOTO=USDOK SAY DMS MANAGER
         SPACE 1
*------ D. SEE IF ANY INVALID SPECIFICATION
TUSD30  @IF    KEYWORD=(IFS,U),ELSE=USDERR
        @IF    KEYWORD=(SMP,U),ELSE=USDERR
        @IF    KEYWORD=(MFT,S),ELSE=USDOK
        @IF    KEYWORD=(SPF,S),GOTO=USDOK,ELSE=USDERR
         SPACE 1
*=== 4. IT IS NOT A SCREEN TERMINAL (LINE/BACKGROUND)
         SPACE 1
*------- IGNORE ALL UNLESS ADABAS REQUEST
TUSD40  @IF    KEYWORD=(ADA,S),ELSE=USDOK
        @SETI  XDSI,ADA,GOTO=USDOK SAY ADABAS AND

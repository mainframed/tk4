¯
¸
¸
¸
¸
¸
¸

°                        MVS TUNING REPORT
°
°                           VERSION II
°
°                          JULY 15, 1977
¸
¸
¸
°  COPYRIGHT SHARE, INC. 1977
°  THIS DOCUMENT IS COPYRIGHTED BY SHARE INC. REPRINT RIGHTS TO THE
°  INFORMATION IN THIS PUBLICATION MAY BE ASSUMED FOR NON-COMMERICAL AND
°  NON-PROFIT PURPOSES PROVIDED THE COPYRIGHT NOTICE PRINTED ABOVE IS
°  SET FORTH IN FULL TEXT ON THE TITLE PAGE OF EACH DOCUEMENT PRODUCED.
¸
¸
¸

°                                             MVS Tuning Committee
¸
¸
¸
¸

¯
¸
°The following people worked on this document at the Minneapolis
°meeting and deserve thanks along with the other contributors of
°information and time. It is hoped that as more information is
°made available it will be submitted to the MVS Tuning Committee
°for inclusion in future versions of this report.

°                                             Phyllis Livings
°                                             Committee Chairman
°                                             MVS Tuning Committee
¸
¸
¸

°     FRED BADER                        FRANK MILLER
°     ARNOLD CASINGHINO                 DONN MUKENSNABLE
°     KEN COLLINS                       BILL MCDONALD
°     BOB COOK                          BILL PASHWA
°     FRED FRANK                        CAROL POWELL
°     BILL HARTMAN                      JIM SACHS
°     SANDRA HEATH                      DAVID SAGER
°     CLARK HUNTER                      KEITH SOPER
°     HAL KETCHUM                       KEN TUCKER
°     STEVEN KONRAD                     ROGER ZIMMERMANN
°     FRED LUDDY
°
°Contributors - not at Minneapolis.
°
°     BOB ELLSWORTH                     R. W. MURRAY
°     D. M. GARNEAU                     J. K. PESTRO
°     B. M. FULLER                      FRANK RUSBASAN
°     D. L. HINTON                      NANCY SURLES
°     PETE LEICHLITER                   DAVE THEWLIS
¸
¸
¸
¸
¸
¸

¯
¸
°TABLE OF CONTENTS                                            PAGE

°Contents By Section
°
°     Methodology................................................1
°     Configuration.............................................13
°     Data set tuning...........................................17
°     VIO.......................................................23
°     System parameters.........................................30
°     SRM.......................................................34
°     ASM.......................................................39
°     Job Tuning ...............................................42
°     SMF.......................................................44
°     IMS.......................................................48
°     IOS.......................................................56
°     SCP.......................................................62
°     TSO.......................................................70
°     TCAM .....................................................81
°     JES2 .....................................................86
°     MSS.......................................................89
°     Tuning Tools .............................................93
°
°Contents By Item (zaps, tables, fine tuning, etc.)
°
°     Configuration
°         1.0   QUICKGEN .......................................15
°         2.0   RESERVE.........................................16
°     Data set tuning
°         1.0   Quicker catalog referencing.....................20
°         2.0   Catalog buffers.................................21
°         3.0   IEHPROGM delete index...........................21
°         4.0   VSAM dump.......................................22
°     VIO
°         1.0   Optimization with 3330 .........................24
°         2.0   Optimization with 3350 .........................25
°         3.0   Avoid chained scheduling .......................26
°         4.0   BUFNO...........................................27
°         5.0   Limit VIO track capacity .......................28
°         6.0   Limit VIO requests .............................29
°     SRM
°         1.0   Excessive paging ...............................37
°         2.0   Service unit calculation .......................38
°     ASM
°         1.0   Slot turnaround.................................40
°         2.0   SLOTC and SLOTV.................................41
°     SMF
°         1.0   OPTCD=W.........................................45
°         2.0   Record type 40 .................................45
°         3.0   Extraneous messages.............................46
°         4.0   Don't SWAP while ENQ'ed.........................47
¸
¸
¯
¸
°TABLE OF CONTENTS                                            PAGE

°     IMS
°         1.0   ESTAE from FETCH ...............................49
°         2.0   FETCH work area.................................49
°         3.0   ESTAE from BTAM.................................50
°         4.0   Fix list .......................................50
°         5.0   Pack list.......................................51
°         6.0   MPP termination.................................52
°         7.0   IMS TCB, must complete .........................54
°         8.0   Other ESTAEs ...................................55
°     IOS
°         1.0   Channel rotate .................................56
°         2.0   Priority IO queuing.............................57
°         3.0   VATLST defaults.................................59
°         4.0   IOHALT page fix.................................60
°         5.0   Shoulder taps...................................61
°     SCP
°         1.0   Subsystem requests .............................62
°         2.0   ESTAE from WTOR.................................63
°         3.0   Long wait from STIMER...........................64
°         4.0   ESTAE from WTL .................................64
°         5.0   Console automatic ROLL mode.....................65
°         6.0   D R enhancement.................................66
°         7.0   DASD date last used.............................67
°         8.0   Skip expiration date check on DASD .............68
°         9.0   Storage at IPL .................................69
°     TSO
°         1.0   TSO ALLOC.......................................71
°         2.0   Edit tab for 3270...............................71
°         3.0   Edit data set size .............................72
°         4.0   PROCLIB.........................................72
°         5.0   MVT IEBCOPY for MVS.............................73
°         6.0   Command search .................................74
°         7.0   SVS IEBCOPY for MVS.............................75
°         8.0   CMDLIB members to LPALIB .......................76
°         9.0   LINK and LOAD overhead .........................77
°        10.0   TMP allocation .................................78
°        11.0   Full screen edit ...............................79
°        12.0   CVOL search.....................................80
°     TCAM
°         1.0   USERMAX.........................................81
°         2.0   3270 polling ...................................83
°         3.0   TSOMCP threshold with SPF.......................83
°         4.0   TSOMCP message limit with SPF...................84
°         5.0   Fixed  frames...................................85
°     JES2
°         1.0   Automatic command bootstrap.....................87
°         2.0   Hard copy log...................................88
¸
¸

¯
¸
°TABLE OF CONTENTS                                            PAGE

°     MSS
°         1.0   INPL ...........................................89
°         2.0   Staging space...................................89
°         3.0   Table pack usage ...............................89
°         4.0   Track allocation ...............................90
°         5.0   Temporary datasets .............................90
°         6.0   RELEASE and LRU problem.........................91
°         7.0   Shared virtual addresses .......................91
°         8.0   QSAM dataset performance .......................92
°         9.0   MSS messages ...................................92
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 1
¸
°METHODOLOGY
°
°Primary credit for the methodology in this section is due to
°Scott Loftesness, IBM, who presented much of the material at
°SHARE XLVI in San Francisco. That material was expanded upon by
°the MVS Tuning Committee at the Interim SHARE in Phoenix. It has
°been further expanded to include additional information relevant
°to MVS with the supervisor I, II and scheduler selectable units
°installed.

°The format of the methodology described in this report is divided
°into several sections. The first section consists of a HIPO
°diagram of MVS and a discussion of what MVS can and cannot do.
°This is followed by lists of those items that can be tuned in
°MVS. These lists are by order of importance and by ease of
°change.

°This is followed by those parameters that will need to be
°measured to tune MVS. The tools available to measure the
°parameters of MVS are described in this report under the 'TOOLS'
°section. Like any craft the tool used is up to the installation
°and should be selected based on the desired results, (A
°micrometer and a ruler can both measure length but the result may
°be significantly different), next are some parameters that can be
°calculated from measured information to further determine tuning
°strategies and performance bottlenecks. Finally there is included
°a list of magic values that offer guidelines for determining good
°and bad performance for various areas of the system. These values
°have held up over time and appear to be invariant to changes made
°by various selectable units.

°With the above information the actual methodology is then
°outlined. The approach should be to select those areas that are
°applicable to your installation based on each tuneable area and
°determine if you are receiving maximum performance.

°Remember:

°     ›     An abnormal situation at one installation may be the
°           norm at another site. Only where a quasi-standard for
°           MVS exists will an attempt be made to give a judgment.
°           As with most aspects of systems programming, intuition
°           is a most valuable asset.

°     ›     A tuning methodology once executed is not a permanent
°           solution. The methodology must be repeated
°           periodically to compensate for workload changes. The
°           methodology should also be revised as the system
°           changes and as knowledge and experience increases.

¸
¸
¯
°                                                       PAGE 2
¸
°1.   What can MVS do?

°     MVS can be a response oriented system and it can be a
°     thruput oriented system. To be both at one time will require
°     excess capacity or compromises. Response implies
°     availability of a resource upon demand (terminal input),
°     while thruput implies maximum utilization of all resources.

°     Therefore, before any tuning can begin you should be able to
°     answer the following questions:

°           What type of system do I have? Response? Thruput?

°           If a response system, what constitutes acceptable
°           response for your environment for trivial commands,
°           complex commands, and an average for all commands?

°           If a thruput oriented system, what is considered good
°           and bad turnaround for the major classes of work you
°           run?

°           If a thruput oriented system, how are you measuring
°           thruput to give an accurate picture of system thruput
°           versus operator thruput, or external interaction?

°MVS response oriented system:

°  INPUT                  PROCESS               OUTPUT
°  ---------------       ---------------       -----------------
 .               .     .               .     .                 .
° '               '     '               '     '                 '
 .TSO transaction.     . CPU usage     .     . Systems         .
° '               '     '               '     '                 '
 .               .     .   problem     .     .  Expectation    .
° '               '     '               '     '                 '
 .               .     .   supervisor  .     .  of useful work .
° '               '     '               '     '                 '
 .               .     .               .     .                 .
° '               '     '               '     '                 '
 .Operator       .     . Channel usage .     . Users           .
° '               '     '               '     '                 '
 .  interaction  .     .   swapping    .     .  Expectation    .
° '               '     '               '     '                 '
 .               . >>> .   paging      . >>> .  of useful work .
° '               '     '               '     '                 '
 .               .     .   problem I/O .     .                 .
° '               '     '               '     '                 '
 .Subsystems     .     .   system I/O  .     .                 .
° '               '     '               '     '                 '
 .               .     .               .     .                 .
° '               '     '               '     '                 '
 .Started Tasks  .     . External      .     . Managements     .
° '               '     '               '     '                 '
 .               .     .   processing  .     .  Expectation    .
° '               '     '               '     '                 '
 .Interactive    .     .               .     .  of useful work .
° '               '     '               '     '                 '
 .  systems      .     .               .     .                 .
° '               '     '               '     '                 '
 .               .     .               .     .                 .
° '               '     '               '     '                 '
°  ---------------       ---------------       -----------------
¸
¸
¸

¯
°                                                       PAGE 3
¸
°MVS thruput oriented system:
°
°  INPUT                  PROCESS               OUTPUT
°  ---------------       ---------------       -----------------
 .               .     .               .     .                 .
° '               '     '               '     '                 '
 .Batch jobs     .     . CPU usage     .     . Systems         .
° '               '     '               '     '                 '
 .               .     .   problem     .     .  Expectation    .
° '               '     '               '     '                 '
 .               .     .   supervisor  .     .  of useful work .
° '               '     '               '     '                 '
 .               .     .               .     .                 .
° '               '     '               '     '                 '
 .Operator       .     . Channel usage .     . Users           .
° '               '     '               '     '                 '
 .  interaction  .     .   swapping    .     .  Expectation    .
° '               '     '               '     '                 '
 .               . >>> .   paging      . >>> .  of useful work .
° '               '     '               '     '                 '
 .               .     .   problem I/O .     .                 .
° '               '     '               '     '                 '
 .Started Tasks  .     .   system I/O  .     .                 .
° '               '     '               '     '                 '
 .               .     .               .     .                 .
° '               '     '               '     '                 '
 .               .     . External      .     . Managements     .
° '               '     '               '     '                 '
 .               .     .   processing  .     .  Expectation    .
° '               '     '               '     '                 '
 .Subsystems     .     .               .     .  of useful work .
° '               '     '               '     '                 '
 .               .     .               .     .                 .
° '               '     '               '     '                 '
 .               .     .               .     .                 .
° '               '     '               '     '                 '
°  ---------------       ---------------       -----------------
°
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 4
¸
°2.   What is measured?
°
°     CPU utilization - problem, system, supervisor
°     Paging rates - by component type
°     Swapping rates
°     Swapping reasons - counts of each type
°     Service distribution - (SRMs view of service)
°     Channel utilization
°     Control unit utilization
°     Device utilization
°     Real storage utilization
°           device used, class of use.
°     4.    Job tuning by redesign, repackage, or data management
°           use improvement.
°     5.    SRM tuning by IPS modification and internal constants
°           change.
°     6.    Real storage utilization - by scheduling, PARMLIB, by
°           job working set size.
°     7.    CPU utilization by jobs and supervisor.
°     8.    JES utilization primarily by buffer size and spooling
°           device selection.
°     9.    Modifications to the operating system.

°     By ease of change.

°     1.    JES utilization primarily by buffer size and spooling
°           device selection.
°     2.    SRM tuning by IPS modification and internal constants
°           change.
°     3.    Data set location and use.
°     4.    Real storage utilization - by scheduling, PARMLIB, by
°           job working set size.
°     5.    Auxiliary storage utilization - by size, number,
°           device used, class of use.
°     6.    CPU utilization by jobs and supervisor.
°     7.    Modifications to the operating system.
°     8.    Hardware configuration.
°     9.    Job tuning by redesign, repackage, or data management
°           use improvement.
¸
¸

¯
°                                                       PAGE 5
¸
°4.   What is calculated?

°     The following values are calculated from measured items and
°     may be useful in determining where performance bottlenecks
°     are located and what area should be tuned.

°     ›     Residency time = Average time of ended transactions

           X   Average_transaction_service_rate
°               _______ ___________ _______ ____
°               Average absorption service rate
°
°     ›     Wait to start time = Avg. time of ended trans. -
°           Residency time (for TSO from RMF)
°     ›     Wait to start time = Restore complete - User ready
°           (for TSO from GTF)
°     ›     Wait to start time = Initiator job select - RDR read job
°           (for batch from SMF)
°     ›     Swap in time = Restore complete - Swap in start (from
°           GTF tracing sysevents)
°     ›     Swap in delay = Swap in start - User ready (from GTF
°           tracing sysevents)
°
           ›   CPU time between page faults = total TCB cpu
°                                              _____________
°                                              Number of page faults
°
°           ›   Total swapped out time = Elapsed time - Residency time
°               (from SMF type 4 and 34 or 5 and 35)

°5.   Magic numbers
°
°     The following numbers represent goodness in a tuning sense.
°     They are intended to provide additional information in
°     determining whether a particular area of your system should
°     be looked at for tuning.

°     ›     1.1 swaps/transaction - This rate holds from both
°           batch jobs and TSO transactions.
°     ›     1/2 sec. should be less than wait to start time for
°           TSO transactions.
°     ›     50 ms should be less than the time between page
°           faults.
°     ›     85% CPU utilization is normal in a busy system.
°     ›     15 pages/second is a reasonable paging rate on a 3330.
°     ›     25 pages/second is a reasonable paging rate on a 2305.
°     ›     30% busy or less is ideal for a channel load on a
°           Block multiplexor channel.
°     ›     40-50% busy on a channel is a bad situation and will
°           normally cause queuing delays on all I/O to that
°           channel.
°     ›     90% of all seeks on a volume should be in a 10
°           cylinder range for maximum performance and minimum I/O
°           delay time caused by seeking.

¸
¯
°                                                       PAGE 6
¸
°6.   Where to start?

°     The following is a collection of three questions that
°     address the tuning of MVS. Following each question is a list
°     of topics that should be investigated. Each topic has
°     additional discussion in the text that follows.

°DO YOU HAVE SUFFICIENT CAPACITY TO RUN MVS?

YES, continue on to the next question.
°___

NO, hunt for something to use as a paddle to propel yourself up
°__
°this inland waterway you find yourself on.

DON'T KNOW, see the section on hardware configuration in this
°_____ ____
°report.

°IS INTERACTIVE RESPONSE ACCEPTABLE (TSO)?

YES, continue on to the next question.
°___

NO, start checking the following areas in the order listed:
°__
°     CPU Utilization
°     Swapping
°     Paging
°     Profile service
°     ENQ contention
°     Real Storage critical
°     Priority
°     Ready users versus Multiprogramming level
°     Channels
°     Devices and Control Units
°     Miscellaneous
°
°IS THRUPUT ACCEPTABLE?
°
YES, stop take the day off your system is tuned.
°___
°
NO, start checking the following areas in the order listed:
°__
°     CPU Utilization
°     Swapping
°     Paging
°     Profile service
°     ENQ contention
°     Real storage critical
°     Operational Interactions
°     Priority
°     Channels
°     Devices and Control Units
°     Miscellaneous
¸
¸
¯
°                                                       PAGE 7
¸
°a.   CPU Utilization
°
°CPU high
°
°Is your CPU utilization high? A value greater than 85% is normal,
°but one should be concerned if this value is achieved and the
°system is unproductive. A value of less than 85% indicates
°insufficient workload or severe hardware/software problems. A
°constant 100% CPU utilization and multiprogramming levels below
°the minimum level required to meet your performance objectives
°may require and upgrade to a more powerful CPU.

°Is Supervisor overhead high?

°Measure by a hardware monitor, or an approximation can be
°obtained by subtracting total SMF job step time from total CPU
°time obtained from MF1.

°A normal percentage is in the 70% range and values as high as 80%
°have been observed for a heavy TSO workload. For non-TSO a range
°of 50-70% is normal.

°Supervisor Overhead can be reduced by:
°
°     ›     Add reentrant code to PLPA (SYS1.LPALIB).
°     ›     Use fix lists.
°     ›     Use BLDL (fixed) list to reduce I/O requirements.
°     ›     Increase I/O blocking for frequently used data sets.
°     ›     Convert VIO to non VIO to trade CPU time for I/O time.
°     ›     Find dominant workload and optimize. (Use MF1
°           performance groups to monitor service used by class of
°           users.  Use SMF or address space monitors to locate
°           jobs).
°     ›     Redesign and optimize programs as in MVT and SVS to be
°           aware of the environment they are running in.
°     ›     Use repack programs to reduce page faults.
°     ›     If supervisor time is high (greater than 70%) check
°           the swapping rates as a possible cause.
°     ›     If swapping is low profile other supervisor services
°           see the section on Profile Service.

°CPU low - Greater than 10% wait

°     ›     If real storage is critical:
°               Decrease fixed requirements.
°               Decrease multiprogramming level in IPS.
°               Increase amount of real storage.
°     ›     Check channels and control unit activity for delays
°           caused by I/O.
°     ›     Check paging and swapping activity.
¸
¸
¯
°                                                       PAGE 8
¸
°b.   Swapping

°Is swapping high? A value of less than 1.1 swaps per transaction
°ended is good.

°If attempts to reduce swapping have not solved the problem try a
°faster swapping device or try swap data sets. If this fails
°consider additional storage.

°Check the data set placement of swap and page data sets to reduce
°I/O delay time caused by arm movement.

°Is the count of long waits high?

°     ›     Reduce use of STIMER.
°     ›     Increase the ENQ residency value to reduce the
°           contention on ENQed resources.
°     ›     Reschedule work to avoid waiting for resources.
°     ›     Change the program issuing waits.
°
°Determine type of swap
°
°1.   Real storage swaps can be reduced by:
°
°     ›     Increasing the amount of real storage.
°     ›     Decreasing the fixed requirements of the system. This
°           can be accomplished by reducing the number or size of
°           TP buffers, fixed resident modules, or fixed BLDL.
°     ›     Decrease the multiprogramming level in the IPS.

°2.   Exchange swaps can be reduced by:

°     ›     IPS variations to deliver more service while in
°           storage.
°     ›     Make a high swapping application non-swappable in the
°           PPT.

°3.   Unilateral swaps can be reduced by increasing the
°     multiprogramming level in the IPS.

°4.   Auxilary storage swaps can be reduced by:

°     ›     Increasing auxilarly storage.
°     ›     Decreasing multiprogramming level in the IPS.

°5.   ENQ exchange swaps can be reduced by:

°     -     Increasing the ENQ residency value (ERV).
°     ›     Scheduling jobs that require the same resource at
°           different times.
°     ›     Change the resources or the program to avoid
°           contention or serialization for a single resource.
°     ›     Change JCL to use FREE=CLOSE.


¯
°                                                       PAGE 9
¸
°6.   Detected waits.

°     ›     Check number or initiators and type of work scheduled
°           for each. Avoid an over commitment or resources.

°c.   Paging

°Is total paging rate high?

°     A value of 15 pages/second is reasonable for 3330's and 25
°     pages/sec for a 2305-2. Extreme variability with good
°     performance have been ovserved.

°Is pageable linkpack area paging high?  A rate of 12 to 15
°pages/second indicate a problem.
°
°     ›     Improve IEAPAK00 (see tools).
°     ›     Move nonshared code from PLPA to LNKLSTxx (eg VTAM).
°     ›     Consider splitting PLPA across channels.
°
°Is CSA paging high?  A count of LPA/CSA page out of greater than
°5 pages/second indicates a problem.

°     ›     Eliminate the use of duplex link pack area.
°     ›     Don't default MAXUSERS.
°     ›     Check expansion of SQA into CSA and correct.
°
°Is VIO paging high?

°     ›     Set maximum BLKSIZE equal to 3 pages for a 3330 paging
°           device.
°     ›     A low reclaim rate is an indication of missuse (e.g.,
°           SORT).
°     ›     Reduce VIO BLKSIZE.
°     ›     ZAP default BUFNO = 1 for VIO.
°     ›     Change simulated device (3330 to 2314) to optimize the
°           window size for the paging device being used.

°Is demand paging high?
°
°     ›     Run non-swappable jobs priviledged.
°     ›     Reduce use of Virtual = Real.
°     ›     Consider adding more real storage.
°     ›     Move reentrant modules to LPA.
°     ›     Decrease Multiprogramming level.
°     ›     Reorder CSECTs based on page fault reference patterns.
°     ›     Change problem programs to reference pages in a manner
°           that acknowledges running in a virtual environment.
¸
¸

¯
°                                                       PAGE 10
¸
°d.   Profile Service

°Determine the type of service being used - SRB, Task or
°Supervisor.

°High SRB usage - examine data management being used.

°Low SRB usage, high task or supervisor time.

°     ›     Change application program if excessive supervisor
°           services are used.
°     ›     Consider a faster CPU if task time is high and work is
°           not being completed.
°     ›     Investigate operating system areas of greatest use and
°           determine if modification is feasable to increase
°           production work.

°Wait to start time.
°
°     ›     If unacceptable for batch:
°           -   Evaluate the number of initiators used.
°           -   Evaluate the initiator to job class structure.
°
°     ›     If acceptable for batch:
°           -   Check CPU time between page faults. If less than
°               50 ms, check common pageins caused by jobs. If
°               greater than 50 ms, check other uses of the CPU
°               (SRB, supervisor time).
°           -   Check ENQ contention.

°For TSO trivial commands compare wait to start time to 1/2
°second.

°     ›     If wait to start time is less than 1/2 second.
°           -   Check CPU time between page faults. If less than
°               50 ms, check common page-ins caused by tasks. If
°               greater than 50 ms, check other uses of the CPU
°               (SRB, supervisor time).
°           -   Check ENQ contention.

°     ›     If wait to start time is greater than 1/2 second.

°           -   Determine the component parts of the wait to start
°           time. If swap in time is the major factor then
°           consider more swap data sets or spreading swap and
°           page data sets. If the swap in time is not the major
°           component: Increase the weight for the TSO trivial
°           domain. Increase the minimum and maximum MPL. Separate
°           trivial and non trivial commands into different
°           domains.

°e.   ENQ contention - See swapping - ENQ exchange swaps.

¸
¯
°                                                       PAGE 11
¸
°f.   Real Storage Critical

°Since the only way the system has of relieving real storage
°shortage situations is by swapping or paging, see the swapping
°and paging section.

°g.   Operational Interactions - Use syslog or console log to
°observe any operation anomolies.

°     ›     Missing tape mounts, or excessive amount of time for
°           mounts.
°     ›     Shift changes may require additional overlap.
°     ›     Job queues may be held or manipulated.
°     ›     Schedule work in a more optimal fashion.
°
°h.   Priority
°
°Use DPRTY to order types of work (e.g., Interactive, TP line
°handlers, critical batch, etc.,).  DPRTY can be used to run tasks
°outside the APG.

°If less ready users than maximum MPL:  Consider increasing
°minimum MPL to increase sensitivity to peak load situations.

°j.   Channels

°Values less than 30% busy are ideal, periodic 40-50% busy are
°very bad, and values greater than 50% are a major problem.

°Is channel utilization high?

°     ›     If optional channels are in your system investigate
°           the channel rotate modification.
°     ›     Review volume placement.
°     ›     Increase the number of paging datasets to spread the
°           load across several channels.
°     ›     Install priority I/O zap to force servicing most
°           inportant work first.
°     ›     Balance channels and control units.
°     ›     Avoid ISAM on channels used by the system or other
°           high priority work that shouldn't be delayed.
°     ›     Find major users and investigate for proper use of I/O
°           on the channels.
¸

¯
°                                                       PAGE 12
¸
°k.   Devices and Control Units - I/O Delayed

°Is seek activity high?  An optimal situation is when 90% of all
°seeks fall within a 10 cylinder range.

°     ›     Use GTF to improve data set placement.
°     ›     Avoid multiple extents on high activity data sets.
°     ›     Install more devices.
°     ›     Redesign file structure.

°Is there shared DASD in the system?  Use GTF DASD contention
°analyzer to determine if a problem exists.

°Is I/O being delayed?

°     ›     Examine control unit concurrent demand and separate
°           requested data to different locations on other control
°           units.
°     ›     Install more control units if queue lengths are long.
°     ›     Install faster devices.
°     ›     Examine contention caused by string switches.
°     ›     Don't share devices when not required (consider
°           turning off shared bit in UCB).
°     ›     Redesign DASD configuration to the usage pattern of
°           MVS. The original configuration was probably designed
°           for MVT and some of the basic assumptions are no
°           longer valid.
°     ›     Implement work scheduling.

°     Other areas that can decrease I/O delay include:
°
°     ›     Decrease MPL.
°     ›     Increase blocksize to decrease number of I/O requests.
°     ›     Use VIO if CPU cycles are available.
°     ›     Watch for any allocation that require more than one
°           extent.
°     ›     Schedule heavy I/O users to times of low total I/O
°           demand.

°l.   Miscellaneous Areas

°     ›     Watch for large working set sizes that affect swap
°           load.
°     ›     SMF data sets are heavily used so select buffer size
°           and options carefully. Allocate on a volume with low
°           contention.
°     ›     Avoid excessive libraries in LNKLSTxx.
°     ›     BLDL lists offer a good way of reducing both CPU and
°           I/O at the cost of storage.
°     ›     Avoid JES journalling.
°     ›     Avoid shared UCBs.
¸

¯
°                                                       PAGE 13
¸
°CONFIGURATION
°
°1.   Channel planning
°
°     ›     Channel utilization measured via (MF/1 & GTF SIO) may
°           identify possible bottlenecks.
°     ›     Channel utilization guidelines for DASD devices:
°           Recommended channel busy range - 20-40%
°           Recommended maximum EXCP's per channel - 40
°
°2.   Control unit planning
°
°     ›     In a shared DASD environment, a control unit
°           contention of 10-15% (control unit busy events/total
°           I/O events measured by GTF DASD Contention Analyzer)
°           indicates a potential bottleneck. This range has been
°           experimentally determined by plotting average I/O time
°           against control unit contention.
°     ›     String switching is strictly for availability/
°           recoverability and may cause some performance
°           degradation depending on channel activity.

°3.   Device planning

°     ›     Consider the tradeoff: Paging Device Speed
°                                          vs
°                                  Real Core increase
°           Check the same workload benchmark using MF/1:  at what
°           point does core increase not buy anything in terms of
           paging rates decreasing? Performance improvements may
°                                                             ___
°           be achieved by hardware "upgrades". Warning: Not a
           panacea.
°                  '
°     ›     DASDI:
°           Although allocation routines have been rewritten for
°           increased parellelism, some installations may still
°           run into the problem of serialization due to mounts.
°           The same DASD planning used in MVT/SVS will apply in
°           MVS.
°     ›     Shared DASD:
°           In general it remains a problem, although MP can
°           relieve it to some degree.
°     ›     3350's are highly recommended for fixed heads:

°           -   SPOOL - HASPCHKPT
°           -   OS CVOL's
°           -   SWAP
°           -   VTOC's
¸
¸
¸
¯
°                                                       PAGE 14
¸
°4.   SYSGEN planning
°
°     a.    Device classes to reduce serialization.
°           ›   Have many esoteric names for small groups of
°               devices.
°           ›   Use VIO because it doesn't serialize.
°           ›   Separate scratch for TSO & Batch.
°     b.    Master catalog
°           ›   Pointer in SYS1.NUCLEUS can be changed (see
°               Conversion Notebook GC28-0689).
°           ›   Put where you want it after Stage 2, don't let
°               SYSGEN define it.
°           ›   If it has to be moved (this is very difficult), be
°               sure it is in the right place and size when you
°               come up. Consider future generations and isolate
°               from all other SYS1 data sets. (see SYSGEN
°               manual).
°           ›   Be careful with the allocation of data sets, so
°               that you use enough size, don't assume that you
°               want the catalog, PROCLIB, PARALIB on SYSRES.
°           ›   LPALIB is only needed at CLPA time, so put away
°               from the VTOC.
°     c.    Sysgen not model dependent 158-168 etc.
°     d.    ACRDODE - if an MP is not in your future, do not
°           specify and it will save about 1K in the nucleus.
°     e.    OLTEP needs an APF library.
°     f.    Storage size - ASM tables are built from this;
°           therefore, if storage constrained , leave out to force
°           NIP to set the maximum online storage as storage size.
°     g.    Most of CTRLPROG parameters can be changed at IPL
°           time.
°     h.    JES3 must be the primary subsystem if more than one
°           subsystem used.
°     i.    All subsystems must be defined at SYSGEN.
°     j.    Consoles - make sure the alternate console chain does
°           not loop back in the middle; this can cause failure to
°           reach all consoles.
°     k.    TSO defaults.
°           ›   Review data set blocksizes, use larger blocksizes
°               on larger systems.
°           ›   Watch blocksize compatability, JCL and source must
°               be the same.
°     l.    Stage 2 can be run under production MVT by using the
°           job card MACRO to put in what is acceptable to your
°           system. (MVS must be used for AMS, defining page
°           spaces).
°     m.    WTO buffers should be set much higher than default
°           which is 20, to avoid wait prior to JES startup.

°           Note:   A sample sysgen can be found in the sysgen
°                   manual (GC28-3792).
¸

¯
°                                                       PAGE 15
¸
°CONFIGURATION 1.0
°
°TYPE:          SYSGEN MACRO
°RELEASE:       3.7 (thru PTF tape 7610)-IPO SYSTEM with SUs
°KEYPHRASE:     Fast SYSGEN for UNITNAME reassignments

°ENVIRONMENT:   For installation undergoing DASD conversions or
°               having constantly changing DASD pack assignments.

°PROBLEM:       Adding esoteric UNITNAMES or adding addresses to
°               an esoteric UNITNAME requires an I/O SYSGEN to be
°               performed.

°SOLUTION:      Add a modified GENERATE MACRO to produce just
°               those tables used for device allocation.

°EXAMPLE:       See below.
°               Changes provided are the minimum required to
°               effect the change. Other changes/enhancements can
°               be made to tailor the MACRO to specific needs of
°               an installation.

°BENEFITS:      Reduction of individual and computer time for
°               SYSGEN processing. This routine can be used as a
°               temporary circumvention until a user written
°               program is functionally operational.

°WARNINGS:      I/O DEVICE assignments must not be changed from
°               the most current SYSGEN of the system to be
°               updated.

°           1.  Make a copy of GENERATE in SYS1.AGENLIB and rename
°               it (e.g.QUICKGEN).
°           2.  Make the following updates to MACRO QUICKGEN with
°               IEBUPDTE:
°                QUICKGEN &GENTYPE=ALL,&OBJPDS=SYS1.OBJPDS *00080002
°                SGIEF217                                   17660000
°                AGO      .SEA111                           17670000
°           3.  Perform I/O SYSGEN replacing 'GENERATE' MACRO with
°               'QUICKGEN'.
°           4.  Run the 5 assemblies produced from sysgen output.
°           5.  Using SMP, receive and apply 3 object csects
°               (IEFWMAS1,IEFWMSKA,IEFEDTTB) into your system.
°               Assembly for IEFDEVPT can be ignored. Replace
°               csect IEFAQTOP in NUCLEUS if length of constants
°               'AMASK' and 'BMASK' have changed from prior
°               SYSGEN.
°           6.  IPL and test.

°               NOTE:   Modules replaced are DEVNAMET, DEVMASKT,
°                       IEFAB4E5, IEFIB600, IEFW21SD and IEANUC01
°                       if IEFAQTOP was reassembled.
¸

¯
°                                                       PAGE 16
¸
°CONFIGURATION 2.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°PTF's:         7612
°KEYPHRASE:     RESERVE

°ENVIRONMENT:   Multiple CPU's and shared DASD.

°PROBLEM:       1.  Deadly embrace or lock-out between one or more
°                   CPU's.
°               2.  DASD utilization degraded and made
°                   inefficient.

°SOLUTION:      Prevent a RESERVE from being issued on DASD to
°               SYSLMOD using temporary and new data sets with the
°               Linkage-Editor.

°               HEWLFLINT in HEWL, requires zap to bypass RESERVE
°               on temporary dsnames and also to bypass issuing a
°               DEQ.

°BENEFITS:      Prevent unnecessary shared DASD pack lock-outs
°               across computers. Improve DASD performance.

°DESCRIPTION
°* MODIFICATION TO LINKAGE EDITOR
°* PREVENTS RESERVE FROM BEING ISSUED TO SYSLMOD PACK
°* FOR TEMPORARY AND NEW DATASETS
°* ALSO ADDED CODE TO OMIT ISSUING DEQ WHEN RESERVE WAS NOT ISSUED
° */.
°++ZAP (HEWLFINT)
°NAME HEWLFINT
°VER 0DFC  47ECCE10     RESERVED ISSUED?
°VER 0232  4780C23A     SYSLMOD DD ?
°VER 0F90  00000000,00000000 PATCH AREA
°REP 0DFC  47F0CFA6         B    PATCH2
°REP 0232  478CCF8A         BE   PATCH
°REP 0F90  5810CA52         L    R1,MAINGOT POINT TO JFCB
°REP 0F94  91C01057         TM   JFCBIND2,X'C0' NEW DATA SET ?
°REP 0F98  4710CF9E         BO   SETFLAG    YES--NO RESERVE
°REP 0F9C  91011057         TM   JFCBIND2,X'01' TEMPORARY DATA SET ?
°REP 0FA0  4780C23A         BZ   RESV       NO--ISSUE RESERVE
°REP 0FA4  9602CFBA SETFLAG OI   INTERN1,X'02' SET NOT RESV FLAG
°REP 0FA8  47F0C260         B    CHECKENQ   OMIT RESERVE
°REP 0FAC  4710CDFA         BO   DEQ        RESTORE ZAPPED INSTR
°REP 0FB0  9102CFBA         TM   INTERN1,X'02'  WAS RESERVED ISSUED ?
°REP 0FB4  4780CE10         BZ   ABENT1A    GO DEQ
°REP 0FB8  94FBCFBA         NI   INTERN1,X'FB'  RESET FLAG
°REP 0FBC  47F0CE10         B    ABENTIA     GO CHECK FOR DEQ
°REP 0FC0  00               SWITCH  02 NO RESV. ISSUED.
¸

¯
°                                                       PAGE 17
¸
°DATA SET TUNING
°
°A.   Non VSAM
°
°     1.    PLPA
°
°           ›   Put AMS in PLPA, this eliminates a requirement of
°               512K for TSO users and batch. (See data set tuning
°               1.0).
°           ›   The location of SYS1.LPALIB is unimportant
°               (possible demountable volume).
°           ›   Consider the tradeoff between storage (size of
°               PLPA) and I/O to LINKLIB, CMDLIB, etc.  If storage
°               is not a bottleneck, put everything possible in
°               PLPA. (Reentrant processors, etc.)
°           ›   Be more selective about which modules to put in
°               PLPA (most highly used) when you are core limited.
°           ›   SMP must be told of any moves to PLPA from other
°               data sets.

°     2.    CMDLIB

°           ›   If storage is available, put it in PLPA.
°           ›   Depending on the number of modules in PLPA,
°               packing can be important.

°     3.    MANX, MANY

°           ›   TCLOSE with write validity check is done every
°               time a buffer is written; therefore place the data
°               sets close to the VTOC. Write validity check may
°               be removed via an available zap.
°           ›   Large blocksize means fewer TCLOSES and DSCB
°               accesses (8K buffer).
°           ›   Unwanted or unneeded SMF records should not be
°               written. In a heavy TSO user system Type 40
°               records can be as much as 45% of total SMF.
°           ›   Until IBM makes the change that allows record
°               types to be accumulated according to an entry in
°               PARMLIB, unwanted records can be turned off in two
°               ways.

°               a)  Use the U-83 exit and don't write records you
°                   don't need.

°               b)  No-op the SMF SVC in the module that writes
°                   the unwanted SMF record. The Release 3.7 SMF
°                   manual gives the module name that writes each
°                   type.

¸
¸
¯
°                                                       PAGE 18
¸
°     4.    SPOOL space

°           ›   3350 is a prime candidate. Put the checkpoint
°               dataset under the fixed head if the spool pack is
°               not a shared volume. For shared DASD, do not place
°               the checkpoint data set on a spool volume.
°           ›   Use multiple spool devices for performance.

°     5.    VTOC

°           ›   High water mark of format 0 DSCBs should be reset
°               periodically to limit the VTOC searches. Zap the
°               DIRF bit to force DADISM to fix up the VTOC.
°           ›   Placement depends on actual data on pack.  Are the
°               datasets opened frequently or just once like
°               certain IMS datasets?
°           ›   Usually place it 1/3 to 1/2 of the way into the
°               volume.

°     6.    PROCLIBS

°           ›   There are serious performance problems with
°               multiple non-concatenated proclibs because of
°               multiple opens and closes in JES2.
°           ›   There is a tradeoff between maintainability and
°               performance with multiple proclibs.
°           ›   JES will not start if a concatenated proclib is
°               not found during initialization.

°     7.    OS CVOLS - Should be placed next to the VTOC to reduce
°           head movement, because the CVOL is LOCATED for every
°           job step requiring reference to it.

°     8.    Cylinder allocation - Can be a performance gain
°           especially for link libraries.

°               Reason: Multi-track reads to a data set will cause
°               an I/O interrupt at the end of each track for data
°               libraries under the fixed head of a 3350.
°           ›   If you have high activity modules you may want to
°               place those modules in BLDL; you may also want to
°               restructure the library so that the high use
°               modules are next to the directory.
¸

¯
°                                                       PAGE 19
¸
°B.   VSAM

°     1.    Page spaces

°           ›   If core is not limited, PLPA isn't used much and
°               should be put on a slower device (3330 not 2314).
°           ›   If TSO is the chief objective, the first swap
°               dataset should go on fastest device (drum).
°           ›   Split page datasets on different channels with no
°               more than 2 active page spaces per channel.
°           ›   Several smaller ones may be better than few large
°               ones, (but only one per volume).
°           ›   If not using checkpoint restart specity CVIO;
°               otherwise, VIO temporary datasets may remain in
°               pagespace after system failure.

°     2.    STGINDEX - It is used only for jobs requesting
°           journalling.

°     3.    VSAM catalog

°           ›   Put it on a separate pack away from residence
°               volume for ease in maintenance.
°           ›   Use a buffer space parameter of 8192 (if storage
°               is available).
°           ›   Put CVOLs in random order when converting
°               catalogs.  (Otherwise there will be too many C.I.
°               splits because AMS does not use sequential insert.
°               You then have too many half used control
°               intervals).
°           ›   The estimates of size in conversion notebook is
°               good.
°           ›   The VSAM catalog should be on a non-shared volume
°               (ie.shared bit off in the UCB).

°     4.    VSAM user datasets

°           ›   See the SRL for VSAM Options for Advanced
°               Applications.

°           ›   The VSAM ICR (Enhanced VSAM) should be applied to
°               MVS Systems prior to 3.7.
¸
¸
¸
¸

¯
°                                                       PAGE 20
¸
°DATA SET TUNING 1.0

°TYPE:          MACRO
°RELEASE:       3.7B (Through 7610) IPO BASE SYSTEM
°KEYPHRASE:     Quicker Catalog Referencing
°
°ENVIRONMENT:   168 MP with 3330s and 2305-2s
°
°PROBLEM:       Poor performance and large region size
°               requirements to perform catalog update and list
°               functions.

°SOLUTION:      Move Access Method Services to SYS1.LPALIB
°
°BENEFITS:      7 to 15% reduction in CPU time and elapsed time
°               depending on function.  Noticeable improvement to
°               TSO users.

°WARNINGS:      Increases PLPA size requirements by 500K; watch
°               for SMP mods to LINKLIB that must be carried after
°               the move.

°++PTF  .
°++VER (Z037)  .
°++UPDTE (GENERATE) DISTLIB (AGENLIB)  .
°./CHANGE NAME=GENERATE
°.**** ALL ****                                             29890000
°*** SGIDC401 **** AMS Utility ICR *** SC1DK ****           29900000
°    SGIDC401                                               29910000
°./DELETE SEQ1=40800002,SEQ2=40880002
°./CHANGE NAME=SGIDC401
°&SGCTRLC(7) SETC '&SGCTRLC(20)' SET LPALIB VOLUME SERIAL   00250001
°&SGCTRLC(8) SETC '&SGCTRLC(19)' SET LPALIB UNIT            00300001
°&SGCTRLC(9) SETC 'LPALIB' SET LPALIB NAME                  00350001
°./ ENDUP
°
°NOTE - for GENERATE the three added statements should fall between
°           SGIDAY00                   29880002
°.**** ALL ****                        29920002
°The  three  deleted  statements  should  be the same as the three
°inserted.
¸
¸
¸
¸
¸
¯
°                                                       PAGE 21
¸
°DATA SET TUNING 2.0
°
°TYPE:          ZAP
°RELEASE:       3.0
°KEYPHRASE:     VSAM Catalog Buffers
°
°ENVIRONMENT:   Non-shared DASD
°
°++PTF.
°++VER (Z030) /* 74/10/19 LOCAL FIX */.
°++ZAP (ICAC192Z) DISTLIB (AOSAC).
°  NAME ICA0192Z
°* ZAP OBTAINED FROM DOWNTCWN PCKY TO IMPROVE VSAM CATALOG
°* PERFORMANCE --CATALOG BUFFERS MUST BE REFRESHED FOR
°* EACH CATALOG REQUEST BUT ONLY IN A SHARED DASD SYSTEM...
° VER 0430 9110DCFC,47EC3420
° REP 0434 47F03420
°   IDRDATA
°
°DATA SET TUNING 3.0
°
°TYPE:          ZAP
°RELEASE:       3.7B (Through 7610) BASE IPO SYSTEM
°KEYPHRASE:     IEHPROGM delete index
°
°REQUIREMENTS:  OS/CVOL catalogues
°ENVIRONMENT:   For installations using IEHPROGM for OS/CVOL
°               maintenance.
°PROBLEM:       When IEHPROGM deletes a catalogue entry, it will
°               not free up an empty index structure.

°SOLUTION:      Add delete empty index as an option for UNCATLG.
°
°EXAMPLE:       Attached is superzap modification.
°
°BENEFITS:      For those installations using IEHPROGM SCRATCH/
°               UNCATLG for pack maintenance, it saves OS/CVOL
°               catalogue space by freeing blocks which only
°               contain empty index structures after the last data
°               set with that index level has been uncatalogued.
°
°++PTF  .
°++VER (Z037)  .
°++ZAP (IEHPROG1)  .
°NAME IEHPROGB
°VER 019C 0100,5000,0C00
°REP 019C 0100,5000,0C04
¸
¸
¸
¯
°                                                       PAGE 22
¸
°DATA SET TUNING 4.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°KEYPHRASE:     VASM Dump
°
°++PTF  .
°++VER (Z037)  .
°++ZAP (IDA0200T)  .
°  Name IDA0200T
°* LOCAL FIX FOR APAR Z09385  .
°* VSAM CLOSE ATTEMPTS TO TAKE SEVEN SDUMPS TO RECORD GSR GLOBAL DATA
°* WHEN A FORCE DELETE VRP IS REQUIRED  .
°* THIS MOD WILL DELETE THE SYSDUMP FOR DLVRP ALTOGETHER
°* CAUSE AT PRESENT IT HAS BEEN VIRTUALLY USELESS
° VER 16B4 45E0C703                 BAL  14,GSRDUMP
° VER 1A78 00000000       PTCH200T  DC   F'0'
° REP 16B4 45E0CA5D                 BAL  14,PTCH200T
° REP 1A78 D247D114CA1D   PTCH200T  MVC  MWASDUMP(72),SDUMPPL
° REP 1A7E 9204D116                 MVI  MWASDUMP+2,X'04' DUMP REGION
° REP 1A82 9280D117                 MVI  MWASDUMP+3,X'80' DUMP CSA
° REP 1A86 4110D114                 LA  R1,MWASDUMP
° REP 1A8A 0700                     NOP
° REP 1A8C 1BBB                     SR   MWADRET,MWADRET
° REP 1A8E 07FE                     BR   14
°IDRDATA
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 23
¸
°VIO

°     1.    Heavy use of VIO may hurt system performance in a real
°           storage constrained environment.  It can also make TSO
°           response erratic.

°     2.    As the block size of the data set increases, the
°           benefits of VIO diminish.  VIO may use more CPU, but
°           run in less elapsed time.  See IBM's Conversion
°           Notebook.

°     3.    Nothing is gained by using more than one buffer for a
°           VIO data set.  Have 2314s sysgend first for virtual
°           devices to get more efficient VIO usage.   Use 3330s
°           for the actual paging devices to get 2 pages, 7K + CB,
°           instead of 3.1 pages.  Characteristics use determined
°           by first device, but other device types in the group
°           can be used for paging.

°     4.    In most shops, the simplest significant performance
°           improvement for VIO will probably come about from its
°           use for work data sets in compiles and utilities, and
°           for TSP EDIT work files.

°     5.    Avoid using VIO for large data sets.
°
°     6.    Don't use VIO for sort work data sets.
°
°     7.    Don't use VIO for SYSUT1 of IEHMOVE.
°
°     8.    Allocate VIO datasets on cylinder boundaries.
°
°     9.    If concerned about real storage, use a 2314 window device.
°
°    10.    If concerned about controlling users, consider a 2305 window
°
°    11.    CPU time required for VIO increases above real I/O.
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 24
¸
°VIO 1.0
°
°TYPE:          TABLE
°KEYPHRASE: Optimization of VIO with 3330
                                               _____________
°                                               13165
°     1.    Blocks/track on 3330 Mod 1 and 11 = Blksize + 135
°
°     2.    VIO buffer utilization = (BLKSIZE + 8) * BLK/TRK  + 30
°
     3.    Pages used = VIO Buffer Util + 4095
°                        ______________________
°                                 4096
°
°     4.    Last page wastage = (Pages used X 4096) - VIO buffer Util.
¸

°_________________________________________________________________
° BYTES/BLOCK                 MAX BYTES/BLOCK       BYTES/BLOCK
° WITHOUT KEYS  BLOCKS/TRK      OPTIMUM VIO     TO MINIMIZE WASTAGE
°
°  (1)   (2)       (3)              (4)                (5)
°  MIN.  MAX.
°_________________________________________________________________
° 6448 13030        1             12250           11840
° 4252  6447        2              6121            5916
° 3157  4253        3              4078            3938
° 2449  3156        4              3056            2952
° 2060  2498        5              2443            2360
° 1746  2059        6              2035            1965
° 1511  1745        7              1743            1683
° 1328  1510        8              1510            1472
° 1182  1327        9              1327            1307
_1062__1181_______10______________1181____________1176___________
° ____  ____       __              ____            ____
     NOTES:
°     _____
°     The value in column (4) is the largest blocksize in this
°     range which will provide maximum utilization of the VIO
°     buffer - as close to 100% of the 4th page in the buffer as
°     possible.

°     A value between (4) and (5) should be used since this will
°     limit wastage of the 4th buffer page to less than 10%.

°     The choice of blocksize between the values in (2) and (4)
°     should be avoided since this will cause the buffer to
°     overflow into the 5th buffer page.

°     A value between (1) and (5) should also be avoided since
°     this is less efficient utilization of the 4th page (less
°     than 90%).
¸
¸
¯
°                                                       PAGE 25
¸
°VIO 2.0
°
°TYPE:          TABLE
°KEYPHRASE: Optimization of VIO with 3350
°
                                            19254________
°                                            _____
°     1.    Blocks/track on 3350 (no keys) = BLKSIZE + 185
°
°     2.    VIO buffer utilization + (BLKSIZE + 8) * BLK/TRK + 30
°
     3.    Pages used = VIO Buffer Util + 4095
°                        ______________________
°                                4096
°
°     4.    Last page wastage = (Pages used X 4096) - VIO Buffer Util.
¸

°_________________________________________________________________
° BYTES/BLOCK                 MAX BYTES/BLOCK       BYTES/BLOCK
° WITHOUT KEYS  BLOCKS/TRK      OPTIMUM VIO     TO MINIMIZE WASTAGE
°
°  (1)   (2)       (3)              (4)                (5)
°  MIN.  MAX.
°_________________________________________________________________
° 9443 19069        1             16346           15936
° 6234  9442        2              8169            7964
° 4629  6233        3              5443            5306
° 3666  4628        4              4080            3978
° 3025  3665        5              3262            3180
° 2566  3024        6              2717            2649
° 2222  2565        7              2328            2269
° 1955  2221        8              2036            1985
° 1741  1954        9              1809            1762
 1566__1740_______10______________1627____________1586___________
°_____  ____       __              ____            ____
     NOTES:
°     _____
°
°     The value in column (4) is the largest blocksize in this
°     range which will provide maximum utilization of the VIO
°     buffer - as close to 100% of the 4th page in the buffer as
°     possible.

°     A value between (4) and (5) should be used since this will
°     limit wastage of the 4th buffer page to less than 10%.

°     The choice of blocksize between the values in (2) and (4)
°     should be avoided since this will cause the buffer to
°     overflow into the 5th buffer page.

°     A value between (1) and (5) should also be avoided since
°     this is less efficient utilization of the 4th page (less
°     than 90%).
¸

¯
°                                                       PAGE 26
¸
°VIO 3.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°KEYPHRASE:     Avoid chained scheduling for VIO
°
°++PTF. /* AZ05455 */.
°++VER (Z037) NPRE(UZ04614).
°++ZAP (IGG0193I) DISTLIB (AOSD0).
°  NAME IGG0193I
°* LOCAL MOD TO SAM OPEN TO AVOID DEFAULTING TO CHAINED SCHEDULING
°*        FOR VIO DATA SETS
° VER 008A 474031A8                 BM   A0181 USE PCI FOR INOUT/OUTIN D
° VER 009E 471031A8                 BO   A0181 USE PCI FOR DA OUTPUT
° VER 00B2 474031A8                 BM   A0181 USE PCI FOR DA INPUT
° VER 0272 00000000
° REP 008A 47403270                 BM   PATCH CHECK VIO FIRST
° REP 009E 47103278                 BO   PATCH1
° REP 00B2 47403278                 BM   PATCH1
° REP 0272 45E03280                 BAL  14,VIOTST IS IT VIO
° REP 0276 47F0308C                 B    A0130-8   USE NORMAL SCHED.
° REP 027A 45E03280                 BAL  14,VIOTST IS IT VIO
° REP 027E 47F030B4                 B    A0150-8    YES USE NORM SCHED
° REP 0282 58A0B020          VIOTST L    RUCB,DEBUCBAD  GET UCB
° REP 0286 9180A000                 TM   UCBJBNR,UCBVRDEV  IS IT VIO
° REP 028A 478031A8                 BZ   A0181          NO OK TO USE PCI
° REP 028E 07FE                     BR   14   CHANGE TO NORM SHCED.
°IDRDATA
¸
¸
¸
¸
¸
¸
¸
¸
°KEYPHRASE:     BUFNO
°
°++PTF /* AZ05456 */.
°++VER (Z037).
°++ZAP (IGG0196B) DISTLIB (AOSD0).
°  NAME IGG0196B
°* LOCAL MOD TO QSAM OPEN TO SET DEFAULT NUMBER OF BUFFERS
°*  FOR VIO TO 1 INSTEAD OF 5
°VER 00D8 92052014  OVLY      MVI DCBBUFNO,GENDEF
°VER 0240 00000000  PATCH     DC  F'0'
°REP 00D8 47F03272  OVLY      B   PATCH
°REP 0274 92052014  PATCH     MVI DCBBUFNO,GENDEF
°REP 0278 58A0B020            L   RUCB,DEBUCBAD   PICK UP UCB ADDR.
°REP 027C 9180A000            TM  UCBJBNR,UCBVRDEV    IS IT VIO
°REP 0280 478030DA            BZ  OVLY+4                NO
°REP 0284 92012014            MVI DCBBUFNO,X'01'   DEFAULT TO 1 BUFFER
°REP 0288 47F030DA            B   OVLY+4
°IDRDATA
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 28
¸
°VIO 5.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°KEYPHRASE:     Limit VIO track capacity
°
°++PFT  .
°++VER (Z037) PRE (UZ05057).
°++ZAP (IGC0002D) DISTLIB (AOSD0).
°  NAME IGC0002D
°* LOCAL MOD TO DEVTYPE SVC TO RETURN A VALUE OF 12250 AS MAXIMUM
°*  TRACK CAPACITY FOR VIO 3330 MOD1 & 16346 FOR 3350 VIO.
° VER 0206 50C02004     DVDA1      ST   DVNUMRG,DVAMAXRC
° VER 03B8 5C5C5C5C     DVCPATCH   DC   CL50'****'
° REP 0206 47F063B6     DVDA1      B    DVCPATCH
° REP 03B8 91808000                TM   UCBJBNR,UCBVRDEV
° REP 03BC 47E063D2                BNO  EXITPTCH
° REP 03C0 95098013                CLI  UCBTBYT4,D3330
° REP 03C4 478063DA                BE   VIO3330
° REP 03C8 950B8013                CLI  UCBTBYT4,D3350
° REP 03CC 477063D2                BNE  EXITPTCH
° REP 03D0 48C063E4                LH   DVNUMRG,VIOMAX2
° REP 03D4 50C02004     EXITPTCH   ST   DVNUMRG,DVAMAXRC
° REP 03D8 47F06208                B    DVDA+4
° REP 03DC 48C063E2     VIO3330    LH   DVNUMRG,VIOMAX1
° REP 03E0 47F063D2                B    EXITPTCH
° REP 03E4 2FDA         VIOMAX1    DC   H'12250'
° REP 03E6 3FDA         VIOMAX2    DC   H'16346'
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 29
¸
°VIO 6.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°KEYPHRASE:     Limit VIO requests
°
°
°++PTF /* MOD TO PREVENT VIO FROM BEING ASSIGNED TO LARGE
°     SPACE REQUESTS.  LIMIT VIO TO 9 CYLS (171 TRKS) OR LESS THAN
°     2 MB IF THE REQUEST IS IN BLOCKS. ALSO PREVENT VIO FROM
°     BEING USED FOR SORTWK DD STATEMENTS.  */ .
°++VER (Z037) PRE(UZ05102).
°++ZAP (IEFAB464).
° NAME IEFAB464
°* CHANGE LARGE VIO USERS TO REAL
° VER 0830 47F0C844                 B   'RC00303
° VER 085C 9620602B                 OI  SIOVAMDS(CSIOTP),X'20'
° VER 0E9A 00000000        PATCHLOC DC  F'0'
° VER 0F20 00000000        PATCHEND DC  F'0'
° REP 0830 47F0CE7E                 B   PATCH
° REP 085C 47F0CE7E                 B   PATCH
° REP 0E9A 9620602B                     TURN ON VIO FLAG.
° REP 0E9E 91C0709B                 TM  JFCBCTRI,X'C0' ALLOC IN CYL
° REP 0EA2 47E0CE92                 BNO NEXT1       NOPE
° REP 0EA6 41F00010                 LA  R15,16    MAX CYL REQ
° REP 0EAA 47F0CECC                 B   COMPARE
° REP 0EAE 9180709B        NEXT1    TM  JFCBCTRI,X'80' ALLOC IN TRKS
° REP 0EB2 47E0CEA2                 BNO NEXT2      NOPE
° REP 0EB6 41F001E0                 LA  R15,480   MAX TRACKS REQ
° REP 0EBA 47F0CECC                 B   COMPARE
° REP 0EBE 9140709B        NEXT2    TM  JFCBCTRI,X'40' A_LOC IN BLKS
° REP 0EC2 47E0C844                 BNO RETURN  WANTS DEFAULT SPACE
° REP 0EC6 58F0CF04                 L   R15,MAXBYTES
° REP 0ECA 58A07098                 L   R10,JFCBPQTY
° REP 0ECE 88A00008                 SRL R10,8     SHIFT INTO REG.
° REP 0ED2 5840709C                 L   R4,JFCBSQTY  SECONDARY QUANTITY
° REP 0ED6 88400008                 SRL R4,8  SHIFT INFO REG
° REP 0EDA 4C40CEFA                 MH  R4,=H'15' MULT SEC BY 15
° REP 0EDE 1AA4                     AR  R10,R4 ADD TO PRIME QUANTITY
° REP 0EE0 4CA070AC                 MH  R10,JFCBDRLH+1 #BLKS X AV BLK LN
° REP 0EE4 47F0CEE2                 B   COMPARE+22
° REP 0EE8 58A07098        COMPARE  L   R10,JFCBPQTY
° REP 0EEC 88A00008                 SRL R10,8
° REP 0EF0 5840709C                 L   R4,JFCBSQTY
° REP 0EF4 88400008                 SRL R4 ,8
° REP 0EF8 4C40CEFA                 MH  R4,=H'15'
° REP 0EFC 1AA4                     AR  R10,R4
° REP 0EFE 19AF                     CR  R10,R15
° REP 0F00 4720CEF2                 BH  NOVIO
° REP 0F04 D5056004CEFE             CLC SCTDDNAM(6,CSIOTP),=C'SORTWK'
° REP 0F0A 4770C844                 BNE RETURN
° REP 0F0E 94DF602B        NOVIO    NI  SIOVAMDS(CSIOTP),X'DF' TURN OFF
° REP 0F12 47F0C844                 B   RETURN
° REP 0F16 000F0000                 DC  H'15'
° REP 0F1A E2D6D9E3E6D2             DC  CL6'SORTWK'
° REP 0F20 00800000        MAXBYTES DC  F'08388608'
¯
°                                                       PAGE 30
¸
°SYSTEM PARAMETERS
°
°1.   COMMNDxx -    Used to structure the system during IPL. For
°     performance reasons TRACE=OFF (trace table turned off)
°     should be specified.

°2.   IEAAPFxx -    The APF library table is built in core from
°     this specification. Note: the size of this table must be
°     less than 2040 bytes. This constant is in the nucleus and
°     may be zapped.

°3.   IEABLDxx

°     ›     Is 4096 in length and each entry is 60 bytes long.
°     ›     It should be monitored and updated regularly.
°     ›     It is of more benefit if the linklist is long. The
°           BLDL value is directly proportional to length of
°           linklist.
°     ›     BLDL list may be fixed or pageable. Fixed BLDL is
°           recommended for small lists only.
°     ›     GTF may be used to analyze SVC 18 usage.  Excessive
°           use of BLDL may indicate a candidate for inclusion in
°           the list.

°4.   IEAFIXxx -    Use of fix list has negative and positive
°                   aspects:

     ›     Positive -  Modules in fix list are located more
°           ________
°                       quickly than in Linklib or PLPA. No page
°                       faults are generated by the modules, fix
°                       lists are in real storage and are good for
°                       such things as CCW translation.

     ›     Negative -  Fix list modules take up real storage even
°           ________
°                       if they are not used.  Fix list modules
°                       are located via a CDE and are always on
°                       the active LPA queue. Modules on PLPA or
°                       Linklib thus take more time to locate. Fix
°                       list modules are placed at the top of the
°                       Nucleus space and are rounded up to a 4K
°                       boundary. Thus if a module slightly
°                       exceeds 4K in size the rest of the page is
                       wasted. A module in the fix list cannot be
°                                                        ______
°                       overridden by an MLPA specification.

¸
¸
¸

¯
°                                                       PAGE 31
¸
°     A large fix list may degrade performance.  A suggested fix
°     list is as follows:

                           SIZE
°                           ____
°     IEAVAR00              6816            RCT INIT/TERM
°     IEWFBOSV              6384            Program Fetch
°     IEWMSEPT                -             Fetch Alias
°     IGC0001F              5092            Purge (SVC 16)
°     IGC0001G               368            Restore (SVC 17)
°     IGC0003C              3656            I/O Halt
°     IGC0004F              3000            TTIMER
°     IGC0004G              3000            TTIMER
°
°5.   IEAIPSxx
°
°     ›     An inappropriate IPS can degrade system performance
°           easily.
°     ›     See the SRM section for more detail on the IPS
°           selection process.

°6.   IEALODxx -    PLPA modules specified in the load list will
°     be found more quickly than those that are not, but module
°     searches for PLPA modules will take longer to find because
°     of the longer queue search. If a module is heavily used,
°     there is a good probability that the module will already be
°     in main storage and the CDE will be on the LPA queue. If the
     module is not heavily used but requires rapid access, you
°               ___
°     may use the fixed LPA or pre-load the module via an
°     application program.

°7.   IEALPAxx -    Both the module name and any alias entries
°     must be specified.

°8.   IEAOPTxx

°     ›     If you want the 00 member, it must be specified, since
°           there is no default.
°     ›     Default value for ERV is 1. This implies that 1 CPU
°           service unit is given before a swap. In some cases
°           this may cause an increase in the amount of CPU and
°           I/O resources used. If RMF indicates a high number of
°           swaps due to ENQ exchange, this number should be
°           increased. ERV=500 is a suggested compromise.

¸
¸
¸
¸
¯
°                                                       PAGE 32
¸
°9.   IEAPAKoo

°     ›     There are programs around to build pack lists based on
°           PSW samples (see MVS project program tape).
°     ›     A good pack list can increase available CPU and real
°           storage. The gain is greatest in a storage constrained
°           environment.
°     ›     Pack list creation is an ongoing process due to the
°           fact that operating system modifications (SU
°           installation, PTF, etc.) may have an impact on the
°           effectiveness of a pack list.

°10.  IEASYSxx

°     ›     SQA/CSA     Too much cuts down on private area. The
°                       more address spaces active the more
°                       SQA/CSA needed. IMS is a heavy user of
°                       CSA. A constant in the nucleus may be
°                       zapped to allow CSA to increse beyond 4
°                       megabytes.
°     ›     CVIO        Should be used for every IPL unless you
°                       are taking checkpoints of jobs using VIO;
°                       otherwise holes appear in the paging data
°                       sets.
°     ›     CLPA        Assumes CVIO.
°     ›     MAXUSER     Used to limit the number of address spaces
°                       created; helps a size constrained system,
°                       and is a timing consideration.
°     ›     REAL        The smallest number you can fit the
°                       largest V=R jobs into. Make it as small as
°                       you can but consistent with V=R
°                       requirements (76K for OLTEP).
°     ›     WTOBFRS     Must be larger than default (20). If too
°                       large, and jobs in a WTO loop will cause
°                       problems. If the value specified is too
°                       small, a wait state may occur during IPL.

¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 33
¸
°     ›     PAGNUM      With SU7, this parameter specifies the
°                       maximum number of page/swap datasets that
°                       may be dynamically added after the IPL.
°                       Real storage is used to contain this
°                       information.
°     ›     DUPLEX      Must be specified to duplex the common
°                       area under SU7. This parameter incurs
°                       system overhead when used.

°11.  IKJPRMOO -    BUFSIZE and #BUFFERS should be matched to your
°                   TSO and TSAM specifications.

°12.  IRBMF1xx/ERBMF1xx

°     ›     If used too frequently (cycle), the monitor can
°           adversely affect performance.
°     ›     Cycle (999) appears to be a good value with minimum
°           impact.

°13.  LNKLSTxx -    Directory search time can be reduced by
°     ordering link list libraries in descending order by
°     directory names. Every data set must be in master catalog.

°14.  SMFPRMxx

°     ›     BUF, DSV, REC are prime parameters used to control SMF
°           effect on performance.
°     ›     A buffer size of 8K will reduce the number of writes
°           to the SMF data set.
°     ›     IEFU83 exit should be used to eliminate unneeded
°           records.

°15.  VATLSTxx

°     ›     See the zap to force volumes to PRIV/RESV.
°     ›     3350's should be marked non-removable.
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 34
¸
°SRM
°
°1.   What the SRM can and should do:

°     ›     Used to bias system resources delivered to users.

°     ›     Tries to enforce installation specified performance
°           objectives by swapping.

°     ›     SRM interprets performance objectives to determine
°           relative importance of particular users. Based upon
°           these objectives, the SRM will either swap a user in
°           storage or out.

°     ›     Certain users cannot be swapped; e.g., online DB/DC
°           systems.

°     ›     Certain users can be swapped; e.g., normal batch jobs.

°     ›     Certain users must be swapped; e.g., TSO users.

°     ›     Low service rate objectives for first period TSO
°           results in calculation of "swap-in delay". This can be
°           used to artificially slow TSO response.

°     ›     Performance objectives are unimportant to online DB/DC
°           systems and other non-swappable users.

°     ›     Performance objectives are potentially important to
°           batch jobs if resource shortages (especially storage)
°           develop.

°     ›     Performance objectives are very important to TSO
°           users.

°     ›     Dispatching priority (DPRTY) is of vital importance.

°     ›     DPRTY is only means of control for non-swappable
°           users.

°2.   Tailoring an IPS to an installation.

°     ›     Define like categories of work (domains); e.g., Batch,
°           TSO trivial, TSO medium, TSO long transactions,
°           started tasks, high priority batch, CICS, IMS.  Define
°           one domain for each category of work.

°     ›     Specify domain MPL constraints.  The minimum MPLs are
°           very significant in terms of system performance.

°     ›     Define the weighting factor for each domain. Values
°           too close together prevent discrimination between
°           domains.

°     ›     Define performance groups and periods and associate a
°           domain for each group of users.
¯
°                                                       PAGE 35
¸
°     ›     Use the APG specification to assign a range of
°           dispatching priorities. (APG is very important to non-
°           swappable address spaces).

°     ›     Construct reasonable performance objectives. Initially
°           retain period durations and ISV values from previous
°           IPS. This allows you to compare MF/1 and RMF values

°3.   IPS Notes.

°     ›     Without a unique domain for started tasks, the time
°           required to get a started task into execution becomes
°           excessive.

°     ›     Running last period TSO transactions in a batch domain
°           may result in excessive preemption of batch jobs as
°           TSO users switch into the batch domain.

°     ›     There is no reason to use a workload level
°           specification of more than four points. Additional
°           points will not be used later in performance objective
°           definition and only complicate the IPS.

°     ›     A reduction in the trivial domain maximum MPL is more
°           acceptable than a reduction in the minimum MPL for
°           subsequent TSO domains. This delays the user prior to
°           swap-in, whereas reducing the maximum MPL may force an
°           exchange swap as the TSO transaction period switches
°           into the new domain.

°     ›     To reduce exchange swaps:

           - Specify larger ISV's or smaller service definition
°                                  __
°           coefficients

°           - Construct objectives with a nearly vertical slope.

°           - Take all objectives within a domain to zero at the
°           same point.

¸
¸

¯
°                                                       PAGE 36
¸
°4.   SRM MPL adjustment summary.
°
°     Each domain should represent work with like characteristics.
°     A domain is defined with a minimum and maximum multi-
°     programming level and a weighting factor indicating its
°     relative importance. The SRM will adjust the target MPL
°     between the minimum and maximum MPL by using the contention
°     index and several system resource indicators. The weighting
°     factor from the IPS isused to calculate the contention
°     index. (Which is basically the ready user average times the
°     weighting factor).

°     System resource utilization is determined by monitoring the
°     following indicators in the RCT:

°           1.  CPU (RCVAVQC)
°           2.  Unreferenced interval count (RCVUICA)
°           3.  Auxiliary storage manager queue length (RCVASMQA)
°           4.  Average number of deferred IO requests (RCVTOTDF)
°           5.  Page fault rate from non-swap and non-VIO
°               page-ins plus reclaims (RCVPTR)
°
°     If the system utilization is high the target MPL of the
°     domain with the lowest contention index is lowered. If the
°     utilization is low, the domain with the highest contention
°     index is increased.  If the utilization is acceptable, the
°     target MPL's are adjusted to balance the contention indices.

°     The default indicators (happy values) in IRARMCNS:

°                                   GOOD        BAD
°           CPU utilization          96         100+
°           UIC count                 4           2
°           ASM queue length          7          10
°           Page fault rate         100         100 (ignored)
°           Deferred I/O request    100         100 (ignored)
°
°     The page fault rate and/or UIC threshold may need adjustment
°     in a storage contrained system.  Remember, the MPL is
°     lowered if any of the five resources is bad and the MPL is
     raised only if all five resources are good.  The display
°            ____
°     domain command, D DMN, is useful for watching the MPLs and
°     the ready user averages.
¸
¸
¸
¸

¯
°                                                       PAGE 37
¸
°SRM 1.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°KEYPHRASE:     Excessive paging
°
°ENVIRONMENT:   SOFTWARE IMS/BATCH
°               Hardware 158-3 meg

°PROBLEM:       Excessive paging in tasks with high dispatching
°               priority.

°SOLUTION:      Modify RSM to steal from low priority tasks first.

°BENEFITS:      Paging reduced in JES2 and IMS

°WARNING:       If used in a high batch paging environment, will
°               not allow batch jobs to establish working set.

°* LIBRARY SYS1,NUCLEUS
°*
°*
°* THIS ZAP ALTERS RSM TO STEAL PAGES FROM THE BOTTOM OF THE DISPATCHING
°* QUEUE RATHER THAN THE TOP
°* NAME IEANUC01 IRARMSTM
°*/
°++PTF
°++ZAP   (IRARMSTM) .
°NAME IRARMSTM
°VER 0038 58404004
°VER 005A 58404004
°VER 0082 58404004
°VER 00B8 58404004
°VER 0176 58404004
°VER 01B0 58404004
°REP 0038 58404008
°REP 005A 58404008
°REP 0082 58404008
°REP 00B8 58404008
°REP 0176 58404008
°REP 01B0 58404008
°IDRDATA
¸
¸
¸
¸

¯
°                                                       PAGE 38
¸
°SRM 2.0
°
°TYPE:          ZAP
°RELEASE:       3.7, SU7
°PTF:           UZ05144
°KEYPHRASE:     Service Unit Calculation
°
°++ PTF
°++ VER (Z037) PRE(UZ80700,UZ05144).
°++ ZAP (IRARMWLM) DISTLIB (AOSC5).
° EXPAND IRARMWLM(52)
°   NAME  IRARMWLM
°* LOCAL MOD TO SRM WORKLOAD MANAGER SERVICE CALCULATOR TO INCLUDE BOTH
°* TCB AND SRB TIME IN THE CPU TIME PORTION OF SERVICE UNITS INSTEAD
°* OF TCB TIME ONLY
° VER 002A 98AB5040           OVLY1 LM WKRE,WRK0,ASCBEJST(ASCBPTR)
° VER 0B70 00000000                 PATCH AREA
° REP 002A 47F0CB6E                 B    PATCH1
° REP 0B70 98AB5040          PATCH1 LM  WKRE,WRK0,ASCBEJST(ASCBPTR)
° REP 0B74 5EB050CC                 AL  WKR0,ASCBSRBT+4(,ASCBPTR)
° REP 9B78 47C0CB7E                 BC   12,*+8
° REP 0B7C 5AA0CB56                 A    WKRE,ONE
° REP 0B80 5EA050C8                 AL   WKRE,ASCBSRBT(,ASCBPTR)
° REP 0B84 47F0C02C                 B    OVLY1+4
° VER 0AC4 D20760605040       OVLY2 MVC  OUXBCPS(8,OUXBPTR),ASCBEJST(ASC
° REP 0AC4 47F0CB86                 B    PATCH2
° REP 0B88 98895040          PATCH2 LM   8,9,ASCBEJST(ASCBPTR)
° REP 0B8C 5E9050CC                 AL   9,ASCBSRBT+4(,ASCBPTR)
° REP 0B90 47C0CB96                 BC   12,*+8
° REP 0B94 5A80CB56                 A    8,ONE
° REP 0B98 5E8050C8                 AL   8,ASCBSRBT(,ASCBPTR)
° REP 0B9C 90896060                 STM  8,9,OUXBCPS(OUXBPTR)
° REP 0BA0 47F0CAC8                 B    OVLY2+6
°  IDRDATA
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 39
¸
°ASM
°
°ASM Considerations with SU7
°
°1.   A minimum of three page data sets is required; PLPA, COMMON,
°     and LOCAL.

°2.   The PLPA data set can overflow into the COMMON data set and
°     vice versa. However, PLPA or COMMON cannot overflow into a
°     LOCAL page dataset. Therefore it is critical to be sure that
°     the PLPA and COMMON page data sets are large enough to
°     contain all that they must.

°3.   Both swap and local page data set activity is round-robined
°     across devices with similar characteristics, e.g., fixed-
°     head devices (2305) and moveable-head devices
°     (3350,3330,...).

°4.   Duplexing of the common are is optional and governed by the
°     DUPLEX operand in the IEASYSXX member of PARMLIB. The value
°     of duplexing is not worth the overhead generated.

°5.   Swap data sets may be used for LSQA pages. They are
°     recommended for installations with high TSO activity. Swap
°     and page data sets may be dynamically added to the system
°     after IPL.  They cannot subsequently be deleted.

°6.   In a storage constrained system, PLPA and the first local
°     page space are the best candidates for a 2305 device. In all
°     other systems the first local page space is the best
°     candidate.

°7.   Allow extra space for all page data sets except PLPA, to
°     permit the creation of additional address spaces before
°     current ones are deleted and to permit some reasonable
°     increase in the number of concurrent VIO data sets.

°8.   Page data sets should be contiguous to avoid arm movement
°     across multiple extents.

°9.   The size of the PLPA data set can be reduced by properly
°     packing the LPA modules.

°10.  The fixed portion of a 3350 is a good candidate for a swap
°     data set.

°11.  Bad slots in a pagespace may degrade performance. RMF gives
°     statistics on bad slots.
¸
¸

¯
°                                                       PAGE 40
¸
°ASM 1.0
°
°TYPE:          FINE TUNING
°RELEASE:       3.7 with SU7
°KEYPHRASE:     Slot turnaround
°
°PROBLEM:       Determining quality of service from a page data in
°               deciding to add data sets, etc.

°SOLUTION:      Look at ASM's evaluation of the average turnaround
°               time for a page and total usage of the data set.

°To determine ASM's internal evaluation of slot turnaround, take a
°stand alone dump or use the 'dump' command to take a dump of
°ASID=01.

°In the ASMDATA portion of the formatted dump:

°           PARERQTM  =  average turnaround per
°                        slot to this page dataset
°           PARESZSL  =  size of pagespace in slots
°           PARESLTA  =  available slots
°
°           PARERQTM values are microseconds. This number should
°           fall within the following range for good paging:

°               2314      20000 - 24000
°               3330      10000 - 12000
°               2305-2     5000 -  7000
°               3350       7000 -  9000
°
°With SU7, these values may be obtained under program control,
°directly from the Paging Activity Reference Table (PART).
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 41
¸
°ASM 2.0
°
°TYPE:          FINE TUNING
°RELEASE:       VS2 rel 3.0
°KEYPHRASE:     SLOTC and SLOTV
°
°ENVIRONMENT:   3 mb 168 batch/TSO/IMS/CICS
°
°PROBLEM:       The default values for ILRSLOTC AND ILRSLOTV in
°               IEANUC01 cause the auxiliary storage manager to
°               reserve excessive amounts of page space for each
°               ASID.

°SOLUTION:      Change the defaults to you own specifications.

°EXAMPLE:       In our installation we changed the default VIO
°               space allocation fact (ILRSLOTV) from 4 to 48, and
°               the default region space allocation factor
°               (ILRSLOTC) from 4 to 18.  For example, the default
°               allocation for VIO was reduced from 1024 to 86
°               page frames.

°BENEFITS:      Reduced paging space requirements.

°WARNINGS:      Using an extremely large ILRSLOTC to trim paging
°               space requirements could result in a shortage of
°               auxiliary storage.

° NAME IEANUC01 ILRSLOTC
° VER 00 00000004        12MEG/4 FOR EACH ADDR SPACE
° REP 00 00000019        12MEG/25 FOR EACH ADDR SPACE
° NAME IEANUC01 ILRSLOTV
° VER 00 00000004        12MEG/4 FOR EACH VIO DSN
° REP 00 00000019        12MEG/25 FOR EACH VIO DSN
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 42
¸
°JOB TUNING
°
°An approach to tuning jobs
°
°1.   Determine what you want to accomplish.

°     Reduce CPU utilization? Reduce paging activity?  Decrease
°     elapsed time of certain critical jobs?  Reduce channel
°     usage? An improvement in one area will often cost you in
°     another.

°2.   Identify those jobs which need to be tuned.

°     SMF can be scanned to pick out programs with high CPU usage,
°     high paging activity, high EXCP counts, etc. Software
°     monitors and special operator commands can isolate programs
°     (and jobs) with high real storage requirements during
°     periods of heavy paging activity.

°3.   Work with the responsible programmer to see what can be done.
°
°     Without his or her cooperation and help, there's not much
°     you can do. (Data Management is area of highest benefit).
°     Some common solutions:

°     a.    To reduce channel bottlenecks and/or excp counts:

°           ›   Increase blocksize.
°           ›   Increase DCB BUFNO when chained scheduling is
°               used.
°           ›   Use VIO where possible.

°     b.    To reduce paging activity:

°           ›   Restructure program (put related CSECTS close
°               together; put subroutines in-line; etc.)
°           ›   Use fewer buffers and/or smaller blocksizes.
°           ›   Reduce use of VIO.
°           ›   Restructure job mix, if possible, to avoid
°               simultaneously running jobs requiring a lot of
°               real storage.

°     c.    To decrease elapsed time of a critical job:

°           ›   Increase blocksizes.
°           ›   Run it in a higher performance group.
°           ›   Reduce contention with other tasks (fewer
°               initiators, etc.)
°           ›   If a sort, give it more storage to work with.
°           ›   Make improvements in the other areas (CPU usage,
°               channel usage, paging activity).

°(Continued)
¸
¯
°                                                       PAGE 43
¸
°JOB TUNING (Continued)

°     d.    To reduce CPU usage:

°           ›   Increase blocksizes.
°           ›   For frequently used jobs reduce supervisor time
°               whenever possible.
°               -   Reduce getmain/freemain activity -
°                   get one large block and use 'cells'.
°               -   Handle page management when possible -
°                   PGFIX/FREE/RLSE/LOAD.
°               -   Process as many datasets as possible with one
°                   OPEN/CLOSE.
°               -   Use of a serial table search where a binary
°                   search would be more efficient.
°               -   Poor use of COBOL's TRANSFORM, EXAMINE,
°                   STRING, and UNSTRUNG verbs (or similar
°                   features in other languages).
°               -   Failure to use an efficient assembler
°                   subroutine when the desired processing cannot
°                   be done efficiently in a high level language.
°               -   Frequent data conversions due to mixed mode
°                   arithmetic.
°               -   Repeated opens, reads, and closes of a "table"
°                   file rather than reading it into main storage
°                   once and processing it there.
°               -   Unnecessary data movement in main storage.
°               -   Constant use of a SPIE routine to avoid 0C7
°                   abend when doing numeric operations on blank
°                   data fields.
°               -   Allowing SORT to have an unlimited amount of
°                   storage.
¸
¸
¸
¸
¸
¯
°                                                       PAGE 44
¸
°SMF
°
°1.   A contributing factor to overhead caused by SMF data
°     recording is the use of write-validity check (OPTCD=W) with
°     the SYS1.MAN datasets. This can be removed with a ZAP (SMF
°     1.0).

°2.   The recording of SMF records in which the installation is
°     not interested should be avoided. One method is to NOP the
°     SVC 83 (SMFWTM) in the routine creating the record (SMF
°     2.0).  Another method is to use the IEFU83 exit to prevent
°     writing the record to the SMF dataset. A sample IEFU83 exit
°     provided with the IPO system provides this facility.

°3.   If the installation uses the IEFACTRT exit to write JOB/STEP
°     information, then the information contained in messages
°     IEF373I, IEF374I, IEF375I, IEF376I may be redundant. These
°     can be eliminated by ZAP (SMF 3.0).

¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 45
¸
°SMF 1.0
°
°TYPE:          ZAP
°RELEASE:       MVS 3.7B (IPO)
°KEYPHRASE:     SMF recording
°
°PROBLEM:       Overhead of write validity check with SYS1.MAN
°               datasets

°SOLUTION:      Remove OPTCD=W from MANX/MANY DCB's


°++PTF.
°++ZAP(IEEMB822).
° NAME IEEMB822
° VER 03B4 E2D4,C6D4,C1D5,E740      'MANX'
° VER 0410 E2D4,C6D4,C1D5,E840      'MANY'
° VER 03C0 8000,0001                OPTCD=W
° VER 041C 8000,0001
° REP 03C0 0000
° REP 042C 0000
° DUMP IEEMB822
¸
°SMF 2.0
°
°TYPE:          ZAP
°RELEASE:       3.7B
°PTFS:          All PTF tapes through tape 77-01.
°KEYPHRASE:     SMF Record TYPE 40.
°
°ENVIRONMENT:   4 mb 168 BATCH/TSO/CICS.
°
°PROBLEM:       Much time being wasted writing many dynamic DD
°               allocation records (Type 40's).

°SOLUTION:      Turn off the writing of the SMF record Type 40.

°BENEFITS:      Less time spent writing SMF records. MANX and MANY
°               data sets fill up less quickly.


°++PTF.
°  /*   THIS ZAP WILL TURN OFF THE WRITING OF SMF RECORD TYPE 40
°   *   THE DYNAMIC DD ALLOCATION RECORD
°   */.
°++VER  (Z037).
°++ZAP  (IEFDB4F9).
° NAME IFFDB4F9
° VER  070E  0A53
° REP  070F  0700
¸

¯
°                                                       PAGE 46
¸
°SMF 3.0
°
°TYPE:          ZAP
°RELEASE:       3.7B
°PTFS:          All PTF tapes through tape 77-01.
°KEYPHRASE:     IEFACTRT.
°
°ENVIRONMENT:   4 mb 168 BATCH/TSO/CICS.
°
°PROBLEM:       When the Exit 'IEFACTRT' is used to print 'START',
°               'STOP', and other information; messages IEF373I,
°               IEF374I, IEF375I, and IEF376I are redundant.

°SOLUTION:      Stop the formatting and printing of the messages.

°BENEFITS:      Less time spent writing unneeded messages.


°++PTF.
° /*   WITH THE INSTALLATION OF THE IEFACTRT EXIT.
°  *   THE INFORMATION IN MESSAGES IEF373I, IEF374I,
°  *   IEF375I, AND IEF376I IS REDUNDANT.
°  *   THIS ZAP STOPS THE FORMATTING AND PRINTING OF THOSE MESSAGES.
°  */.
°++VER  (Z037).
°++ZAP  (IEFTB722).
° NAME IEFTR722
° VER 04AA 45F0,C74A        CALL SIGNON
° VER 04AF 4550,C840        CALL SIGNOFF
° VER 05D2 45F0,C743        CALL SIGNOFF
° VER 05D6 45E0,C840        CALL SIGNOFF
° REP 04AA 0700,0700
° REP 04AF 0700,0700
° REP 05D2 0700,0700
° REP 05D6 0700,0700
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 47
¸
°SMF 4.0
°
°TYPE:          ZAP
°RELEASE:       3.7B IPO system (through tape 7611)
°KEYPHRASE:     Don't SWAP while enqued on SMF buffer
°
°PROBLEM:       Lock out occurs if user gets swapped out while
°               holding the SMF buffer

°SOLUTION:      Mark user non-swappable while enqued.

°++PTF .
°++ZAP (IEEMB830) .
°****  DO NOT SWAP AN ADDRESS SPACE WHILE IT IS ENQUED ON THE SMF BUFFER
° NAME IGC0008C IEEMB830
° VER 0170 D20B,C158,B696      MVC ENQCORE(ENQLEN),ENQLIST
° VER 0416 947F,C13D           NI  ENQSW,B'01111111'
° VER 061C 947F,C13D           NI  ENQSW,B'01111111'
° VER 0700 00000000,00000000,00000000,00000000  PATCH AREA
° VER 0710 00000000,00000000,00000000,00000000  PATCH AREA
° VER 0720 00000000,00000000,00000000,00000000  PARCH AREA
°*******
°**********  BEGINNING ZAP CODE FOR PATCH AREA ONE                ***
° REP 0170 47F0,B6FE,0000    B PATCH1
° REP 0700 4100,0029         SET DONT SWAP CODE FOR SYSTEM EVENT SVC
° REP 0704 0A5F              ISSUE SYSTEM EVENT SVC
° REP 0706 D20B,C158,B696    REPLACE ORIGINAL MVC INSTRUCTION
° REP 070C 47F0,B174         BRANCH BACK TO FOLLOWING INSTRUCTION
°**********  THE END OF ZAP CODE FOR PATCH AREA ONE               ***
°*******
°**********  BEGINNING ZAP CODE FOR PATCH AREA TWO                ***
° REP 0416 47F0,B70E         B PATCH2
° REP 0710 4100,002A         SET OK TO SWAP CODE FOR SYSTEM EVENT SVC
° REP 0714 0A5F              ISSUE SYSTEM EVENT SVC
° REP 0716 947F,C13D         REPLACE ORIGINAL NI INSTRUCTION
° REP 071A 47F0,B418         BRANCH BACK TO FOLLOWING INSTRUCTION
°**********  THE END OF ZAP CODE FOR PATCH AREA TWO
°*******
°**********  BEGINNING ZAP CODE FOR PATCH AREA THREE              ***
° REP 061C 47F0,B71C         B PATCH3
° REP 071E 4100,002A         SET OK TO SWAP CODE FOR SYSTEM EVENT SVC
° REP 0722 0A5F              ISSUE SYSTEM EVENT SVC
° REP 0724 947F,C13D         REPLACE ORIGINAL NI INSTRUCTION
° REP 0728 47F0,B61E         BRANCH BACK TO FOLLOWING INSTRUCTION
°**********  THE END OF ZAP CODE FOR PATCH AREA THREE             ***
°*******
°    IDRDATA
¸
¸
¸
¯
°                                                       PAGE 48
¸
°IMS
°
°The following guidelines have proved useful in tuning IMS 1.1.1
°on a 4M 168.

°     1.    Pools should be adjusted to eliminate failures. This
°           is an effort that must be done an a continuing basis
°           because each change may or may not provide a
°           sufficient pool size.

°     2.    Use a program pre-load on applications that are high
°           in usage.

°     3.    Specify EXCPVR to page fix some of the I/O code and
°           minimize CCW translation.

°     4.    Specify index-in-core option for ISAM to reduce the
°           ISAM I/O activity.

°     5.    Make the MPR's and control region non-swapable to
°           guarantee CPU availability.

°     6.    Set the dispatching priority for the IMS control
°           region higher than the MPR's and these should be above
°           APG, BATCH, and (depending on environments) possibly
°           TSO.

°     7.    Set-up common blocksize to minimize buffer pool
°           compactions. (BFPLBSZ option).

°     8.    Make sure there are enough FRE's to support the
°           3270's.

°     9.    Turn off buffer handler trace (BHTRACE=0), on the
°           DFSVSAMP DD card to reduce IMS overhead.

°     10.   Split data sets across more than one pack, control
°           unit and channel. (Move the LGMSG, SHMSG and QBLKS
°           data sets off IMS control pack). Adjustments may be
°           necessary to balance the IMS packs and minimize each
°           ones usage.

°     11.   Review, frequently, the high overhead transactions
°           (selected from monitor and log tape statistics for
°           large CPU and large number of calls).

°     12.   Run IMS/VS control region in protect key #7.  This
°           will reduce overhead by shortening some path lengths
°           for some supervisor services.

°     13.   Order control region and fix the most active portions,
°           typically 30%-40%.

°     14.   Investigate placing high use transients (such as PLI
°           error handling etc.) in LPALIB or preloading them.

¯
°                                                       PAGE 49
¸
°IMS 1.0

°TYPE:          ZAP RELEASE:        MVS REL 3
°KEYPHRASE:  ESTATE from FETCH

°ENVIRONMENT:   158 3 MXG IMS dedicated

°PROBLEM:       IMS too slow

°SOLUTION:      Remove ESTAE from FETCH - put IEWFETCH in fix list
°               and remove PGFIX/PGFREE code.

°BENEFIT:       Better performance

°WARNINGS:      158 runs only IMS. Checked out in this
°               environment.

°           *   Remove  ESTAE from FETCH
°           *   LIB=SYS1.LPALIB
°               NAME    IEWFETCH
°               VER     0074    5820,BB5A
°               VER     0B28    4100,0084,0A3C
°               REP     0074    47F0,B080
°               REP     0B28    4700,0000,0700
¸
°IMS 2.0
°
°TYPE:          ZAP
°RELEASE:       3.7 IPO (thru 7610)
°KEYPHRASE:     IMS performance/FETCH work area
°
°++ PTF.
°++ VER (Z037).
°++ ZAP (IEWFETCH) TALIAS (IEWFBOSV,IEWMSEPT).
°   NAME IEWFETCH
°* LOCAL MOD TO FETCH TO INCREASE THE MAXIMUM SIZE AREA WHICH IS
°*  FIXED FOR PROGRAM TEXT DATA PER I/O SEQUENCE.
°*  THIS SHOULD HAVE THE EFFECT OF SUBSTANTIALLY INCREASING THE AMOUNT
°*  OF TEXT BLOCK CHAINED READS.
°*  WITH ITS CURRENT FIX LIMIT OF 18K, IF TEXT IS BLOCKED 12K WHICH IS
°*  THE MAXIMUM FOR 3330, ONLY ONE BLOCK CAN BE PROCESSED PER SIO.
°*  BY INCREASING THE FIX LIMIT TO 64K, POTENTIALLY 5 BLOCKS COULD BE
°*  PROCESSED ASSUMING RELOCATION CAN BE FULLY PERFORMED DURING PCI TIME
°*  THIS CHANGE SHOULD ALSO DECREASE (BY A FACTOR OF UP TO 5) THE NUMBER
°*  OF CHANNEL END/DEVICE END INTERRUPTS, RELATED IOS AND POST STATUS
°*  INTERRUP HANDLING TIME,AND DISPATCHER/SRB SCHEDULING/PROCESSING TIME
°*
° VER 0064 00004800             FIXLIMTM = 18K
° VER 1560 00004800             FIXLIMIT = 18K
° REP 0064 00010000             FIXLIMTM = 64K
° REP 1560 00010000             FIXLIMIT = 64K
¸
¯
°                                                       PAGE 50
¸
°IMS 3.0
°
°TYPE:          ZAP
°RELEASE:       MVS REL 3
°KEYPHRASE:     IMS Performance/BTAM
°
°ENVIRONMENT:   158 3 Meg IMS Dedicated
°
°PROBLEM:       IMS too slow
°
°SOLUTION:      Remove ESTAE from BTAM error recovery (IGE0904B)
°               and remove page fix page free code.

°WARNINGS:      PTF dependent

°           *  REMOVE ESTAE FROM BTAM ERROR RECOVERY
°
°           *  LIB=SYS1.LPALIB
°
°              NAME  IGE0904B
°               VER   10  D20F30888288
°               VER   9C  451080B0
°               REP   10  47F08028
°               REP   9C  47F080B8
°
°           *  with  PTF UZ2191
°               VER   14  D20F30882CC
°               VER   88  4510809C
°               REP   14  47F0802C
°               REP   88  47F080A4

°IMS 4.0
°
°TYPE:          FINE TUNING
°RELEASE:       MVS REL 3
°KEYPHRASE:     IMS PERFORMANCE
°
°ENVIRONMENT:   158 3 Meg IMS Dedicated
°
°PROBLEM:       IMS too slow
°
°SOLUTION:      Put IGC0004F and DFSMPOSO in the fix list and save
°               page fix and page free, also rescheduling of an
°               SRB if DFSMPOSO has page fault.

°BENEFIT:       Better Performance
¸
¸
¸
¯
°                                                       PAGE 51
¸
°IMS 5.0
°
°TYPE:          FINE TUNING
°RELEASE:       1.1.1
°KEYPHRASE:     LPA paging excessive
°
°ENVIRONMENT:   Software IMS/BATCH
°               Hardware 158-3 Meg

°PROBLEM:       LPA paging excessive with IMS running, thus bad
°               IMS response, and greater system overhead.

°SOLUTION:      Pack IMS modules in LPA by function and size.  See
°               attached pack list example.

°BENEFITS:      Paging reduced, IMS response improved.

°EXAMPLE:
°IEAPAK00
°     (DFSDLD00),                                        IMS
°     (DFSFXC10),                                        IMS
°     (DFSDVBH0,DFSISMN0),                               IMS
°     (DFSDBH00,DFSDISM0),                               IMS
°     (DFSIDSP0),                                        IMS
°     (DFSDLOC0),                                        IMS
°     (DFSDDLE0,DFSFPLG0),                               IMS
°     (DFSFLLG0),                                        IMS
°     (DFSRDLG0,DFSFUNL0),                               IMS
°     (IGG019JV,IGC0005D,IGG019J3,IGG019JK),             IMS
°     (IGG019G9,IGG019J0),                               IMS
°     (IGG019JH),                                        IMS
°     (IGG019JG,IGG019GZ),                               IMS
°     (IGG019G8)                                         IMS
¸
¸
¸
¸

¯
°                                                       PAGE 52
¸
°IMS 6.0
°
°TYPE:          ZAP
°RELEASE:       3.7 and 3.7 with SU7
°KEYPHRASE:     IMS task termination
°
°PROBLEM:       Overhead in MPP termination
°
°SOLUTION:      Save entry point addresses in CVT
°
°EXAMPLE:       (BASE MVS)
°
°++ PTF .
°++ VER (Z037) PRE (UX04740).
°++ ZAP  (IEAVTSKT).
° EXPAND IEAVTSKT(44)
° NAME IEAVTSKT
°* LOCAL MOD TO TERMINATION TO SAVE ADDRESSES OF ANY ROUTINES
°*  IN TABLE IEAVTRML.CURRENTLY THERE ARE 2 ENTRIES OF 12 BYTES
°*   EACH -ONE FOR IMS 1.1.1 AND ONE FOR IMS 1.1.3 THIS MOD WILL
°*    CUT OUT ALL THE OVERHEAD IN TERMINATION TO ISSUE 'LINK'
°*     EACH TIME ANY TASK OR MEMORY TERMINATION OCCURS.
°*
°* CVT RESERVED FIELDS CVTRV621, 622, AND 623 ARE USED TO SAVE
°*  THE ENTRY POINT ADDRESSES OF UP TO 3 INSTALLATION RESOURCE
°*  MANAGER ROUTINES.
° VER 0184 47708138                 BNE  'DL00148
° VER 05A0 00000000,00000000,00000000,00000000   16 BYTES BEFORE SKTPATC
° REP 0184 47708594                 BNE  PATCH
° REP 05B0 58C00010                 L    R2,CVTPTR
° REP 05B4 1819                     LR   R1,RMLPTR
° REP 05B6 5B108580                 S    R1,=V(IEAVTRML)
° REP 05BA 1F00                     SLR  R0,R0
° REP 05BC 5D0085E0                 D    R0,=F'3'
° REP 05C0 41C1C418                 LA   R12,CVTRV621(R1)
° REP 05C4 BFF7C001                 ICM  R15,5,1(R12)
° REP 05C8 477085C8                 BNZ  LABEL1
° REP 05CC 1809                     LR   R0,RMLPTR
° REP 05CE 58100010                 L    R1,CVTPTR
° REP 05D2 58101008                 L    R1,CVTLINK
° REP 05D6 0A08                     LOAD
° REP 05D8 5000C000                 ST   R0,CVTRV621
° REP 05DC 1809                     LR   R0,RMLPTR
° REP 05DE 0A09                     DELETE
° REP 05E0 58F0C000                 L    R15,CVTRV621
° REP 05E4 411052C4          LABEL1 LA   R1,RTM2RMPS(,RTM2PTR)
° REP 05E8 900F51F4                 STM  R0,R15,RTM2RREG(RTM2PTR)
° REP 05EC 05EF                     BALR R14,R15    GO TO TERM ROUTINE
° REP 05EE 41000084                 LA   R0,132    CANCEL DFSMRCL0'S
° REP 05F2 0A3C                     ESTAE  CANCEL        ESTAE ROUTINE
° REP 05F4 B20A0000                 SET KEY BACK TO ZERO.
° REP 05F8 47F0815E                 B  SSPRSRCH1
° REP 05FC 00000003                 DC   F'3'
° IDRDATA
°(Continued)

¯
°                                                       PAGE 53
¸
°IMS 6.0 (Continued)
°
°EXAMPLE:       (MVS with SU7 installed)
°
°++ PTF .
°++ VER (Z037) PRE (UZ80700).
°++ ZAP (IEAVTMMT).
° EXPAND IEAVTMMT(36)
° NAME IEAVTMMT
°* LOCAL MOD TO TERMINATION TO SAVE ADDRESSES OF ANY ROUTINES
°*  IN TABLE IEAVTRML.CURRENTLY THERE ARE 2 ENTRIES OF 12 BYTES
°*   EACH -ONE FOR IMS 1.1.1 AND ONE FOR IMS1.1.3. THIS MOD WILL
°*    CUT OUT ALL THE OVERHEAD IN TERMINATION TO ISSUE 'LINK'
°*     EACH TIME ANY TASK OR MEMORY TERMINATION OCCURS.ONLY IMS
°*      COULD USE AN ATROCITY LIKE THIS(YUK YUK).
°*
°* CVT RESERVED FIELDS CVTRV621, 622,    AND 623 ARE USED TO SAVE
°*  THE ENTRY POINT ADDRESSES OF UP TO 3 INSTALLATION RESOURCE
°*  MANAGER ROUTINES.
° VER 98   4770C04E                 BNE  'DL00065
° VER 0390 00000000,00000000        8 BYTES BEFORE MMTPATCH
° REP 0098 4770C37C
° REP 0398 1816                     LR   R1,RMLPTR
° REP 039A 5B10C36C                 S    R1,=A(IEAVTRML)
° REP 039E 1F00                     SLR  R0,R0
° REP 03A0 5D00C3C0                 D    R0,=F'3'
° REP 03A4 41714418                 LA   R7,CVTRV621(,R1)
° REP 03A8 BFF77001                 ICM  R15,7,1(R7)
° REP 03AC 4770C3A8                 BNZ  LABEL2
° REP 03B0 1806                     LR   R0,RMLPTR
° REP 03B2 58104008                 L    R1,CVTLINK
° REP 03B6 0A08                     LOAD
° REP 03B8 50007000                 ST   R0,CVTRV621
° REP 03BC 1806                     LR   R0,R6
° REP 03BE 0A09                     DELETE
° REP 03C0                          L    R15,CVTRV621
° REP 03C4 411052C4          LABEL2 LA   R1,RTM2RMPS(,RTM2PRT)
° REP 03C8 900F51F4                 STM  R0,R15,RTM2RREG(RTM2PTR)
° REP 03CC 05EF                     BALR R14,R15   GO TO TERM ROUTINE
° REP 03CE 41000084
° REP 03D2 0A3C
° REP 03D4 B20A0000                 SET KEY BACK TO ZERO
° REP 03D8 47F0C072                 B    SSPSRCH1
° REP 03DC 00000003                 DC   F'3'
° IDRDATA
¸
¸
¸

¯
°                                                       PAGE 54
¸
°IMS 7.0
°
°TYPE:          ZAP
°KEYPHRASE:     IMS TCB, must complete
°
°WARNINGS:      Release level not known
°
°The following code removes the must complete option for all TCB's
°in the address space with a job name of ONLINE. This prevents a
°task from going to sleep when another task uses SCRATCH or
°ALLOCATE under jobname ONLINE. This MOD still allows the setting
°to TCBSTMCT and ASCBSMCT.

° NAME IEANUC01 IGC079
° VER 02F8 9604A021         SET TCB AS NODISPATCHABLE
° REP 02F8 47F06D00         B    PATCH
° VER 0D00 00000000      PATCH
° REP 0D00 58B0400C         L    B ,TIOT
° REP 0D04 D404B000,6D18    CLC  TIOT,C'ONLINE'
° REP 0D0A 47806326         B    SCANTASK
° REP 0D0E 9604A021         OI   TCBFLGS5,TCBSTP
° REP 0D12 47F06326         B    SCANTASK
° REP 0D18 D6D5D3C9D5C5     DC   C'ONLINE'
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 55
¸
°IMS 8.0
°
°TYPE:          ZAP
°RELEASE:       MVS REL 3
°KEYPHRASE:     ESTAEs
°
°ENVIRONMENT:   158 3 Meg IMS Dedicated
°
°PROBLEM:       IMS too slow
°
°SOLUTION:      Eliminate ESTAE's in BLDL (IGC018), TRK-BALANCE
°               SVC25 (IGC0002E),TTIMER (IGC0004F0).

°WARNINGS:      Checked out IMS environment alone.


°           *   REMOVE ESTAE FROM TTIMER

°           *   LIB=SYS1.LPALIB

°               NAME  IGC0004F
°                VER  42    45109022
°                VER  02B8  410000840A3C
°                REP  42    47F0904E
°                REP  02B8  470000000700
°
°           *   REMOVE ESTAE FROM BLDL
°
°           *   LIB=SYS1.NUCLEUS
°
°               NAME  IGANUC01  IGC018
°                VER  0020  D72F,6060,6060
°                VER  0044  0A3C
°                REP  0044  0700
°
°           *   REMOVE ESTAE FROM SVC25 - TRKBAL
°
°           *   LIB=SYS1.LPALIB
°
°               NAME  IGC002E
°                VER  20    D20F5060844A
°                REP  20    47F0803A
¸
¸
¸
¸

¯
°                                                       PAGE 56
¸
°IOS 1.0
°
°TYPE:          SYSGEN MACRO & ZAP
°RELEASE:       3.7B (IPO Base System) Through Tape 7701
°PTF's:         UZ07494
°REFERENCES:    IOS Program Logic
°KEYPHRASE:     Channel Rotate
°
°ENVIRONMENT:   DASD/TAPE Devices With OPTCHAN
°
°PROBLEM:       MVS/IOS does not rotate physical channel paths to
°               a TAPE/DASD device.

°SOLUTION:      Update macro that creates logical channels for
°               inclusion of a flag byte and modify IOS to
°               FLIP/FLOP physical channels.

°EXAMPLE:       MOD attached - update for macro and superzap for
°               module in IOS.

°BENEFITS:      Instead of requiring the operator to vary paths
°               offline to prevent IOS from using only the lowest
°               channel address. Both channels to a device will be
°               utilized.

WARNING:       This code does work on MVS/MP.
°                         ____

°++PTF.
°++VER (Z037) .
°++UPDTE (IECXTCH) DISTLIB (AMODGEN) .
°./CHANGE NAME=IECXTCH
°     LCLC &T,&TT                                       02700000
°.TABLE ANOP                                            25800019
°&T SETC '&T'.'0'.'&CHAN'.'&CU'.'&VARY'                 26100037
°     AIF (&PATHS NE 2).SEJF01                          26750002
°&TT SETC '&T'(5,4).'&T'(1,4)                           26751002
°     DC X'&T.FF00',X'&TT.FFFF'                         26752002
°     AGO  .SEJF02                                      26753002
°.SEJF01 DC X'&T.FFFFFFFF'                              26754002
°.SEJF02 ANOP                                           26755002
°./ ENDUP
°
°++ZAP (IECIOSAM) .
°NAME IECIOSCN
°VER 0478 58A0,C010
°VER 1500 00000000,00000000,00000000    PATCH AREA
°REP 045C 47F0,8502       B     PATCH
°REP 1500 58A0,C010 PATCH L   10,16(12) LOAD CHAN TABLE
°REP 1504 9701,A005       XI  5(10),1   ROTATE DESIRED
°REP 1508 4770,547C       BNZ BACK      NO
°REP 150C 41A0,A006       LA  10,6(10)  YES, POINT TO ALTERNATE
°REP 1510 47F0,547C       B   BACK
¸

¯
°                                                       PAGE 57
¸
°IOS 2.0
°
°TYPE:          ZAP
°RELEASE:       3.7B
°PTF's:         PTF tapes through 77-01.
°KEYPHRASE:     Priority I/O queuing
°
°ENVIRONMENT:   4 mb 168 BATCH/TSO/CICS.
°
°PROBLEM:       Unable to provide adequate I/O response due to
°               high paging, data base access, and batch
°               processing.

°SOLUTION:      Modify IOS to provide I/O priority queuing.

°EXAMPLE:       CICS's I/O will get done before TSO's I/O, which
°               will get done before Batch I/O.

°RESULTS:       Not measured. System appeared better. More
°               consistent CICS and TSO response.

°WARNING:       This MOD checks APG MTW Group.

°/* THIS ZAP ADDS PRIORITY I/O QUEUING TO SYSTEM
°*  NAME IEANUC01 IECIOSCN
°*/
°++PTF.
°++ZAP  (IECIOSAM).
°NAME IECIOSCN
°VER 1514 00000000,00000000,00000000,00000000
°VER 1524 00000000,00000000,00000000,00000000
°VER 1534 00000000,00000000,00000000,00000000
°VER 1544 00000000,00000000,00000000,00000000
°VER 1554 00000000,00000000               CHK IOS PATCH AREA
°VER 044E 5020B008                        IOQ ASSOC WITH IOSB(INIT IOQE)
°REP 044E 47F08516                        B PATCH
°REP 1514 58A00224      L 10,PSAOLD       PICK UP PSA OLD ASCB
°REP 1518 D200B006A02B  MVC IOQPRI,ASCBDP
°REP 151E 5020B008      ST  IOSBR,IOQIOSB
°REP 1522 1BAA          SR  10,10
°REP 1524 43A0B006      IC  10,IOQPRI
°REP 1528 41E00077      LA  14,119        TOP OF LOWER FIX RNG OF APG
°REP 152C 19AE          CR  10,14         QPRI IN APG MTW GROUP?????
°REP 152E 47205452      BH  INLINE
°REP 1532 94F0B006      NI  IOQPRI,X'F0'  IGNORE MTW AND ALL BELOW
°REP 1536 47F05452      B   INLINE
°VER 0D26 58E01004      L   14,LCHLST     PICK UP LAST IOQ IN LCH
°REP 0D40 47F08542      B   PATCH2
°REP 1540 D500F006B006  CLC IOQPRI,IOQPRI NEXT TO CURRENT
°REP 1546 47408552      BL  CHAIN         IF NEXT LOWER CHAIN INCR
°REP 154A 18EF          LR  14,15         NEXT INTO PREVIOUS
°REP 154C 47F05D1C      B   IQUEE60       KEEP ON SEARCHING
°REP 1550 50B0E000      ST  11,IOQLNK     CHAIN CURR TO PREV
°REP 1554 50F0B000      ST  15,IOQLNK     CHAN NEXT OT CURRENT
°REP 1558 47F05D3A      B   IQUEE080      BACK INLINE

¯
°                                                       PAGE 58
¸
°IOS 2.1
°
°TYPE:          ZAP
°RELEASE:       3.7B
°PTF's:         PTF tapes through 77-01.
°KEYPHRASE:     Priority I/O queuing
°
°ENVIRONMENT:   4 mb 168 BATCH/TSO/CICS.
°
°PROBLEM:       Unable to provide adequate I/O response due to
°               high paging, data base access, and batch
°               processing.

°SOLUTION:      Modify IOS to provide I/O priority queuing.

°EXAMPLE:       CICS's I/O will get done before TSO's I/O which
°               will get done before Batch I/O.

°RESULTS:       Not measured. System appeared better. More
°               consistent CICS and TSO response.

WARNING:       This MOD does not check APG MTW Group.
°                        ____ ___

°++PTF
°*
°*          THIS ZAP ADDS PRIORITY I/O QUEUING TO SYSTEM.
°*          THIS ZAP SHOULD IMPROVE CICS AND TSO PERFORMANCE.
°*
°*/ .
°++VER  (Z037) .
°++ZAP  (IECIOSAM) .
° NAME IECIOSCN
° VER 044E 5020,B008
° VER 0D26 58F0,1004
° VER 14EE C9D6,E240,D7C1,E3C3,C800
° VER 1514 0000,0000,00000000,00000000,00000000
° REP 044E 47F0,8516                BRANCH TO PATCH AREA
° REP 0D26 47F0,852E                BRANCH TO PATCH
° REP 1514 58A0,0224                PICK UP PSA OLD ASCB POINTER
° REP 1518 D200,B006,A02B           MOVE ASCB PRI TO ICCPRI FIELD
° REP 151E 5020,B008                DUPLICATE EXISTING CODE
° REP 1522 41A0,003C
° REP 1526 40A0,B004
° REP 152A 07F4
° REP 152C D500,F006.B006           IS CURRENT IOQ LOWER IN PRIORITY
° REP 1532 4740,853E                IF YES THEN INSERT NEW
° REP 1536 18EF                     OTHERWISE UPDATE LOOP IOQ POINTER
° REP 1538 47F0,5D1C                AND BRANCH TO IQUEE060
° REP 153C 50B0,E000                STORE NEW IOQ PTR IN LINK FIELD
° REP 1540 50F0,B000                STORE POINTER TO OLD IOQ IN LINKFLD
° REP 1544 47F0,5D3A                AND BRANCH TO IQUEE080
° IDRDATA
¸

¯
°                                                       PAGE 59
¸
°IOS 3.0

°TYPE:          ZAP
°KEYPHRASE:     DASD VATLST defaults
°
°* Re-verify offsets
°Zap will allow all D/A volumes that are online at IPL times and
°not in the VATLSTnn to be mounted as reserved private.

°EXPAND IEAVAP00 (60)
°
°* R11--101B  )
°* R9--201A   )  base register setup
°* R8--3019   )
°* R4--4018   )
°
°VER   0090   4770C09E
°VER   4160   4 words of zeroes
°VER   4170   5 words of zeroes
°REP   0090   47704148            Br. to patch area
°REP   4160   9104A003            Is it perm. resident
°REP   4164   47104160            Yes, make private (Br to 4178)
°REP   4168   9120A003            Is it reserved
°REP   416C   47104160            Yes, make private  (Br to 4178)
°REP   4170   94DBA003            Reset reserved & resident bits
°REP   4174   9620A003            Turn on reserved bit
°REP   4178   94E3A022            Reset private, public, & storage bits
°REP   417C   9610A022            Turn on private bit
°REP   4180   47F0C09E            Back to inline code
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 60
¸
°IOS 4.0
°
°TYPE:          ZAP
°RELEASE:       3.7B IPO system through 7611
°KEYPHRASE:     IOHALT, PAGEFIX
°
°PROBLEM:       Page Fix and Page Free macros issued even when
°               module is fixed.

°SOLUTION:      Bypass PGFIX & PGFREE if module is fixed. It does
°               not apply to section of code to support halt to to
°               CTC device.

°BENEFIT:       Better response for TP systems.

°WARNING:       Place IGC0003C in the fix list.

°NAME  IGC0003C   (SYS1.LPALIB)
°
°* R6 = BASE
°* R3 = CVT
°  V 0082  1891,1BBB
°  V 0244  47F0 624E
°  V 09C0  8 full words of 0's
°  R 0082  45A0 69BE    BAL TO PATCH1
°  R 0244  47F0 69CE    BR  TO PATCH2
°  R 09C0  1891
°  R 09C2  1BBB
°  R 09C4  5960 3080    COMPARE BASE TO CVTNUCB,FIXED
°  R 09C8  4740 60B6    YES - BYPASS PAGE FIX
°  R 09CC  07FA         NO - GO ISSUE PAGE FIX
°  R 09D0  5960 3080    COMPARE BASE TO CVTNUCB,FIXED
°  R 09D4  4740 625A    YES, BYPASS PAGE FREE
°  R 09D8  47F0 624E    NO, ISSUE PAGE FREE
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 61
¸
°IOS 5.0
°
°TYPE:          ZAP
°PTF:           UZ06243 (Pre)
°KEYPHRASE:     Shoulder-taps (SIGP)
°
°PROBLEM:       Excessive overhead due to MP configuration.
°
°SOLUTION:      Eliminate shoulder-taps
°
°++ ZAP (IECIOSAM) DISTLIB(AOSC5) .
°NAME IECIOSCN
°* TO ELIMINATE SHOULDER-TAPS IN THE TEST CHANNEL SUBROUTINE
°*                             AFTER LABEL ITCH040
°VER 0538 47F054FA                      B    ITCH034
°VER 14EC 00000000,00000000    IOSPATCH DC   50H'0'
°REP 0538 47F084EE                      B    PATCH1
°REP 14EC 96017207             PATCH1   OI   UCBFLB,UCBSIGP  MARK AS
°*                                           ALREADY SHOULDER-TAPPED
°REP 14F0 47F054FA                      B    ITCH034
°*
°* TO ELIMINATE SHOULDER-TAPS IN THE POSTSIO ROUTINE CC=2
°*                             AFTER LABEL IPOST120
°VER 0B48 47F40008                      B    ENQST(LNKR)
°VER 14F4 00000000,00000000    IOSPATCH+8
°REP 0B48 47F084F6                      B    PATCH2
°REP 14F4 96017207             PATCH2   OI   UCBFLB,UCBSIGP  MARK AS
°*                                           ALREADY SHOULDER-TAPPED
°REP 14F8 47F40008                      B    ENQST(LNKR)
¸
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 62
¸
°SCP 1.0
°
°TYPE:          ZAP
°RELEASE:       3.7B
°PTFS:          All PTF tapes through tape 77-01.
°KEYPHRASE:     Subsystem requests
°
°ENVIRONMENT:   4 megabyte 168 BATCH/TSO/CICS.
°
°PROBLEM:       Separate GETMAINS are done for the DATD and SSIB
°               quite frequently.

°SOLUTION:      Combine the separate GETMAINS into one.

°BENEFITS:      Use of GETMAIN SVC reduced.


°++PTF.
° /*     MVS TUNING COOKBOOK ZAP NUMBER Z-7.3
°  */ .
°++VER  (Z037).
°++ZAP  (IEFJRASP)
° /*     THIS MODULES PURPOSE IS TO ROUTE SUBSYSTEM REQUEST
°  *     TO ALL ACTIVE SUBSYSTEMS. IT IS USED QUITE FREQUENTLY
°  *     (I.E. FOR EVERY WTO). THEREFORE THE SEPARATE GETMAINS
°  *      FOR THE DATD AND SSIB ARE COMBINED INTO ONE.
°  */ .
° NAME  IFFJRASP
° VER   0064  4510,C04C,0A0A
° VER   00FA  0A0A
° VER   012C  E600004C
° REP   0064  4110,D04C,0700
° REP   00FA  0700
° REP   012C  E6000070
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 63
¸
°SCP 2.0
°
°TYPE:          ZAP
°RELEASE:       3.x
°KEYPHRASE:     WTOR ESTAE REMOVAL
°
°PROBLEM:       Excessive overhead by setup of ESTAE in WTOR

°SOLUTION:      NO-OP the initialization and issuance of ESTAE

°EXAMPLE:

°* REMOVE ESTAE FROM SVC35 - WTOR

° LIB=SYS1.LPALIB
°
°  NAME  IGC0003E  IEAVVWTO
°   VER    003E    D717916C916C
°   VER    0BD2    410000840A3C
°   REP    003E    47F0B064
°   REP    0BD2    470000000700
°
°  NAME  IGC0003E  IEAVMWTO
°   VER    00B0    D717D0D4D0D4
°   VER    0B9E    41000084DA3C
°   REP    00B0    47F0B0F4
°   REP    0B9E    47000000070
°
°  NAME  IBC0003E  IGC0203E
°   VER    0042    45E0B0F8
°   VER    00F0    410000840A3C
°   REP    0042    47F0B032
°   REP    00F0    470000000700
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 64
¸
°SCP 3.0
°
°TYPE:          ZAP
°RELEASE:       3.x
°KEYPHRASE:     STIMER long wait removal.
°
°EXAMPLE:
°
°* REMOVE LONG WAIT FROM STIMER
°
°* LIB=SYS1.LPALIB
°
°  NAME  IGC0004G
°   VER    08C4   58E01010
°   VER    08EC   41000001
°   REP    08C4   47F098C8

°SCP 4.0
°
°TYPE:          ZAP
°RELEASE:       3.x
°KEYPHRASE:     WTL ESTAE REMOVAL
°
°PROBLEM:       Overhead of ESTAE in stable frequently used code.

°SOLUTION:      Remove initialization and invocation of ESTAE.


°* REMOVE ESTAE FROM SVC36 - WTL
°* LIB=SYS1.LPALIB
°  NAME    IGC0003F    IEEMB804
°   VER      0052      45E0B122
°   VER      0286      95FFC07C
°   REP      0052      47F0B042
°   REP      0286      47F0B27A
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 65
¸
°SCP 5.0
°
°TYPE:          ZAP
°RELEASE:       3.x
°KEYPHRASE:     Console automatic ROLL mode
°
°PROBLEM:       Unattended consoles will queue up messages and
°               eventually crash system due to buffer shortage.

°SOLUTION:      Invoke DIDOCS to setup screens in deletable mode
°               after initialization.

°WARNING:       Be sure to assign all alias names and entry point
°               on expand operation of linkage editor, or use SMP.

°*Be sure to assign all alias names and entry point on expand
°operation of linkage editor.

°*Modification will automatically set following mode on all
°graphics consoles:
°
°* K  S,DEL=RD,RTME=1,CON=N
°
°* R9--DCM transient base register
°* R9 + X'40'-- Pointer to entry area
°* R9 + X'54'-- Address of command operand
°* R9 + X'50'-- CXSA save area
°* R9 + X'160'-- Options Routine #1
°EXPAND IEECVETC(72)
°
° NAME  IEECVETC
°  VER    01D4    96F09122
°  VER    03A0    8 full words of zeroes
°  REP    01D4    47F0C39E
°  REP    03A0    96309122,58F09040,D216F000C3BF,41F0
°  REP    03B0    F002,50F09054,58F09160,58109050,07FF
°  REP    03C0    D240E26B,C4C5D97E,D9C46BD9,E3D4C57E
°  REP    03D0    F16BC3D6,D57ED540
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 66
¸
°SCP 6.0
°
°TYPE:          ZAP
°RELEASE:       3.0
°KEYPHRASE:     D R enhancement
°
°PROBLEM:       Difficult to identify issuer of WTOR or allocation
°               recovery.

°SOLUTION:      Provide jobname in display of requests (D R).

°WARNING:       Needs to be reworked for 3.7

°   NAME  IGE0025F  IGE0025F
°*********     THE FOLLOWING ZAP WILL MODIFY THE RESPONSE TO A*********
°*********     D R COMMAND SO THAT REPLY ID NUMBERS ARE FOLLOWED ******
°*********     BY THE TASK NAME OF THE REQUESTOR, THUS FACILITA- ******
°*********     TING THE TASK OF THE OPERATOR IN ENTERING A REPLY. *****
°*********     ZAP HAS BEEN APPLIED AND TESTED FOR REL 3.0        *****
°*********     WITHOUT AND WITH PTF TAPES THROUGH 13.
°
°++ZAP (IEE2903D)  DISTLIB(ADSB3).
°   NAME IEE2903D
° VER 0838 4040404040404040   VERIFY PATCH AREA
° VER 087C 4040               VERIFY END OF PATCH AREA
° VER 0102 41660002           LA    R6,2(R6)      INCREMENT MSG PTR
°*     BEGIN NEW CODE...
° REP 0838 7BCC       HMCODE  SR    WORK4,WORK4   CLEAR WORK REG
° REP 083A BFC38018           ICM,3,ORE+24        GET ASID
° REP 083E 47809876           BC    ZEROES,RET    RETURN IF BAD ASID
° REP 0842 58100010           L     REG1,CVTPTR   POINT AT CVT
° REP 0846 5810122C           L     R1,556(R1)    GET ASVT
° REP 084A 89C00002           SLL   WORK4,2       MULTIPLY ASID X 4
° REP 084E 581C120C           L     R1,524(WORK4,R1)   ADD TO 1ST ASID
°*         (ASVT+524) FOR POINTER TO ASCB AND GET ASCB IN
° REP 0852 47000000           FILL
° REP 0856 1801               LR    R0,R1         PRESERVE ASCB ADDRESS
° REP 0858 BF1710AD           ICM   R1,7,173(R1)  GET JOBNAME ADDRESS
° REP 085C 47709868           BNZ   *+14          IT'S A JOB, BRANCH
° REP 0860 1810               LR    R1,R0         RESTORE ASCB ADDRESS
° REP 0862 BF1710B1           ICM   R1,7,177(R1)  MAYBE STC/TSU
° REP 0866 47809876           BZ    RET           NEITHER, FORGET IT
° REP 086A D20760011000       MVC   1(8,R6),0(R1) MOVE TASK NAME TO BUFF
° REP 0870 92606000           MVI   0(R6),C'-'    INSERT DASH
° REP 0874 4160600A           LA    R6,10(,R6)    INCR. B UFF PTR BY 10
° REP 0878 4166002       RET  LA    R6,2(R6)      RESTORE ORIG. INSTRUCT
° REP 087C 07FE               BR    R14           **** AND RETURN ***
°*      NEW CODE ALL IN...
°*     NOW -- REPLACE INCREMENT INSTRUCTION WITH BRANCH TO HM CODE
° REP 0102 45E09836           BAL   R14,HMCODE
¸
¸
¯
°                                                       PAGE 67
¸
°SCP 7.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°REFERENCE:     SCP 8.0
°KEYPHRASE:     DASD (date last used)
°
°PROBLEM:       Provide usage tracking for data monitor.

°SOLUTION:      Update expiration date at open.

°++ PTF /* UPDATE EXPDT AT OPEN TIME FOR DASD DATA SETS.
°       PUT IN THE CURRENT DATE IF THE ONE THERE NOW IS NOT
°       GREATER OR EQUAL. SUPPORTS DATA SET ARCHIVAL PROGRAM.*/.
°++VER (Z030,Z036) .
°++VER (Z037) .
°++ZAP (IFG0196W) TALIAS (IGG0190S) .
° EXPAND IFG0196W(96)
° NAME IFG0196W
° VER 0068 41E0,0004         LA    RET,K4          HOOK TO GO HERE
° VER 04BF 04C0                    CURRENT MODULE LENGTH
° VER 04C0 0000,0000               PATCH AREA
° REP 0068 47F0,34C2         B     PATCH+4
° REP 04BE 0520                    NEW MODULE LENGTH
° REP 04C0 0099,366F     IPLDATE   DUMMY DATE USED DURING IPL
° REP 04C4 95F1,4000         CLI   DSCFMTID,X'F1'  FORMAT I DSCB
° REP 04C8 4770,350E         BNE   END             NO - DO NOTHING
° REP 04CC 58E0,0010         L     RE,CVTPTR       GET CVT ADDRESS
° REP 04D0 D502,34BF,E039    CLC   IPLDATE(3),CVTDATE  IPL IN PROGRESS
° REP 04D6 4780,350E         BE    END             YES - DO NOTHING
° REP 04DA D707,41A8,41A8    XC    DXREGSAV(8),DXREGSAV  CLEAR WORK
° REP 04E0 D201,41AE,E03A    MVC   DXREGSAV+6(2),CVTDAY  GET CURRENT DAY
° REP 04E6 4FF0,41A8         CVB   R15,DXREGSAV    CONVERT DAY TO BIN
° REP 04EA 40F0,41B2         STH   R15,DXREGSAV+10 SAVE CURRENT BIN DAY
° REP 04EE F170,41A8,E039    MVO   DXREGSAV(8),CVTYEAR(1) CURRENT YEAR
° REP 04F4 4FF0,41A8         CVB   R15,DXREGSAV    CONVERT YEAR TO BIN
° REP 04F8 40F0,41B0         STH   R15,DXREGSAV+8  SAVE BINARY YEAR
° REP 04FC D502,400C,41B1    CLC   DSCBEXDT(3),DXREGSAV+8  COMPARE
° REP 0502 47B0,350E         BNL   END             EXPDT IS GT OR EQ
° REP 0506 D202,400C,41B1    MVC   DSCBEXDT(3),DXREGSAV+8  USE CURRENT
° REP 050C 9640,40B0         OI    JFCBMASK+4,X'40'  DSCB REWRITE SW.
° REP 0510 41E0,0004     END LA    RET,K4          ZAPPED INSTRUCTION
° REP 0514 47F0,306A         B     BACK            RETURN TO MAINLINE
¸
¸
°RELEASE:       MVS/3.6
°PTF:           7602
°SUBJECT:       Bypass expiration date checking on DASD.
°
°REQUIREMENT:   Non-VSAM data sets.
°
°PROBLEM:       Installation requires user DASD data sets to use
°               expiration dates but prevent operator intervention
°               to "REPY U" when data sets are opened for update.

°SOLUTION:      IRG0194C, expand and zap to bypass expiration date
°               checking routine on all or selected data sets.

°BENEFITS:      1.  Prevents operator intervention.
°               2.  Permits use of retention periods.
°               3.  Allows daily scratch VTOC runs to eliminate
°                   expired data sets while retaining un-expired
°                   data sets.
°               4.  Makes some DASD storage space more readily
°                   available.

°  /*  BYPASS EXPIRATION CHECK DATE 4.
°++ ZAP (IFG0194C) .
° EXPAND IFG0194C(64)
° NAME IFG0194C
°  VER 09D8 D502B00C,41F9,47D03A2A
°  VER 1190 00000000,00000000,00000000,00000000,00000000,00000000,000000
°  REP 09D8 411C3FFF,47F01190,0700
°  REP 1190 D502B00041E9                CLC  EXPT
°  REP 1196 47D03A2A                    BNH  DATE EXPIRED
°  REP 119A D504D00011BC                CLC  JFCBDSNM,SYS1.
°  REP 11A0 47703A2A                    NO   SKIP REPLY 'U'
°  REP 11A4 D502D05311C1                CLC  EXPDT IN JCL = 99357
°  REP 11AA 47803A2A                    YES  SKIP REPLY 'U'
°  REP 11AE D502D00511BC                CLC  JFCBDSNM+5,SYS*****
°  REP 11B4 47803A2A                    BE   YES
°  REP 11B8 47F039E0                    GO TO REPLY 'U'
°  REP 11BC E2E832F14B                  SYS1.
°  REP 1101 630165                      99357
¸
¸
¸
¸

¯
°                                                       PAGE 69
¸
°SCP 9.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°PTF's:         UZ03938
°KEYPHRASE:     Full real storage at IPL
°
°PROBLEM:       All memory not available during IPL.
°
°SOLUTION:      Issue a warning message.
°
°WARNING:       Applicable to UP systems only.
°               Memory check is installation dependent.
°
°++ PTF.
°++ VER (Z037) PRE(UZ03938).
°++ ZAP (IEAVNIP0).
°   NAME IEAVNIP0
°* LOCAL MOD TO NIP TO CAUSE WARNING MESSAGE IEA955I TO BE ISSUED
°*  IF THE SYSTEM IS IPL'D WITH LESS THAN IT'S FULL AMOUNT OF
°*  REAL STORAGE - CURRENTLY 5 MEGS.
°* NOTE - APPLICABLE TO UP SYSTEMS ONLY
°*      - REQUIRES REVISION FOR CHANGE IN REAL STORAGE ON SYSTEM.
° VER 2BDC 000C0000                 768K
° VER 357E 404040D2                 XXXK IN MSG IEA955I
° VER 25B2 F321C7ACC7AA             UNPK NOLSUNPK(3),NOLSSTOR(2)
° VER 25B8 D600C7AEC3CC,D202CA42C7AC OC NOLSLOB(1),SIGNMASK MVC MSGFSIZE
° REP 2BDC 00500000                 5 MEG -INSTALLATION DEPENDENT.
° REP 357E 40D4C5C7                 XMEG
° REP 25B2 0700
° REP 25B4 4330C171                 IC   R3,NPOSTSZ+1 AVAIL REAL STORAGE
° REP 25B8 88300004                 SRL  R3,4
° REP 25BC 413030F0                 LA   R3,240(,R3)  ADD ZONE FOR PRINT
° REP 25C0 4230CA42                 STC  R3,MSGFSIZE  STORE IN MESSAGE
°IDRDATA
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 70
¸
°TSO
°
°1.   Evaluate TSO in or out of APG. Generally the later periods
°     (longer transactions) should be placed in APG priority.

°2.   IPS and task dispatching priority are most effective in a
°     TSO environment, particularly with the SRM SU installed.

°3.   The TIOC buffer is pageable.

°4.   Add SYS1.CMLIB to LPALIB - must remain on LNKLIST due to
°     BLBLs by edit (see TSO 6.0). Watch for overflow from PLPA to
°     second page data set.

°5.   Add AMS to LPALIB.

°6.   Use VIO wherever possible. (See VIO section).

°7.   A Fixed BLDL list for frequently used commands and
°     subcommands has been of use.

°8.   Also see the TCAM section, for some areas that are strongly
°     TSO related.
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 71
¸
°TSO 1.0
°
°TYPE:          ZAP
°RELEASE:       MVS 3.0+
°KEYPHRASE:     TSO ALLOC
°
°PROBLEM:       ALLOC defaults to "OLD"
°
°SOLUTION:      Change ALOC default to "SHR"
°
°BENEFIT:       Lessens data set contention by TSO users and/or
°               batch.
°
°NAME IKJEFD30 VER 021A D201A00CC41E
°              REP 021A D201A00CC420

°TSO 2.0
°
°TYPE:          ZAP
°RELEASE:       MVS 3.0+
°KEYPHRASE:     TSO EDIT TAB FOR 3270
°
°REQUIREMENTS:  3270's
°
°ENVIRONMENT:   TSO with 3270's
°
°PROBLEM:       3270's have no TAB key recognized by TSO.
°
°SOLUTION:      Choose a character and make it a logical tab key.

°EXAMPLE:       This makes the "#" a logical tab key. Entering
°               "TAB OFF" will return the use of "#" as an input
°               character. "TAB ON" will restore logical tab.

°BENEFITS:      Tabbing is very handy in edit.

°NAME IKJEBELE
° VER 0220 9240
° VER 0860 7A7B
° REP 0220 9278
° REP 0860 7A05
¸
¸
¸
¸

¯
°                                                       PAGE 72
¸
°TSO 3.0
°
°TYPE:          ZAP
°RELEASE:       MVS 3.7
°KEYPHRASE:     TSO EDIT
°
°PROBLEM:       TSO EDIT allocates new data sets too large.
°
°SOLUTION:      Change TSO EDIT to release space for new data
°               sets. (Changes SADA8N field).

°BENEFITS:      Data sets use only space really needed.

°WARNINGS:      Can fragment data sets if first created and then
°               added to.

°NAME IKJEBESA
° VER  1286  0402,0840
° REP  1286  0402,0850

°TSO 4.0
°
°TYPE:          FINE TUNING
°KEYPHRASE:     PROCLIB
°
°PROBLEM:       Switching from one proclib to another.
°
°SOLUTION:      Use only one proclib and have TSO procs start with
°               a character high in collating sequence; i.e., #,
°               @, or $, reducing the directory search. Also,
°               combining PROCLIB's eliminates the open-close
°               overhead involved in switching libraries between
°               batch and logon.
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 73
¸
°TSO 5.0
°
°TYPE:          SUPPORT
°KEYPHRASE:     MVT IEBCOPY under MVS for use in TSO
°
°//STEP1    EXEC PGM=LINKEDIT,
°//             PARM='LIST,LET,XREF,OVLY,SIZE=(160K,32K)'
°//SYSPRINT DD  SYSOUT=A
°//SYSUT1   DD  DSN=&&SYSUT1,UNIT=SCRATCH,SPACE=(CYL,(1,1)),DISP=(,PASS)
°//SYSLMOD  DD  DSN=SYS1.LINKLIB.DISP=SHR
°//IN       DD  DSN=SYS1.LINKLIB,DISP=SHR,UNIT=DISK,VOL=SER=DLIB01
°//SYSLIN   DD  *
°  INCLUDE IN(IEBCOPY)
° OVERLAY X
° INSERT IEBDV1
° INSERT IEBBAM
° OVERLAY X
° INSERT IEBSCN
° OVERLAY X
° INSERT IEBDRD
° INSERT IEBWSU
° INSERT IEBDWR
° OVERLAY Y
° INSERT IEBVDM
° OVERLAY Y
° INSERT IEBDRB
° OVERLAY Y
° INSERT IEBMCM
° OVERLAY Y
° INSERT IEBVTT
° OVERLAY Y
° INSERT IEBVTM
° OVERLAY X
° INSERT IEBVCT
° OVERLAY X
° INSERT IEBIOE
° NAME MVTCOPY
°//STEP2    EXEC PGM=LINKEDIT,
°//             PARM='LIST,LFT,XREF,SIZE=(160K,32K)'
°//SYSPRINT DD  SYSOUT=A
°//SYSUT1   DD  DSN=&&SYSUT1,DISP=(OLD,DELETE)
°//SYSLMOD  DD  DSN=SYS1.SVCLIB,DISP=SHR
°
°(Continued)
¸
¸
¸
¸
¯
°                                                       PAGE 74
¸
°TSO 5.0 (Continued)
°
°//IN       DD  DSN=SYS1.SVCLIB,DISP=SHR,UNIT=DISK,VOL=SER=DLIB01
°//SYSLIN   DD  *
° INCLUDE IN(IGG019C8)
° NAME IGG019ZC
°//STEP3    EXEC PGM=AMASPZAP
°//SYSPRINT DD  SYSOUT=A
°//SYSLIB   DD  DSN=SYS1.LINKLIB,DISP=SHR
°//SYSIN    DD  *
°NAME MVTCOPY IEBDSMCA
°VER 0606 C3F8
°VER 06AE C3F8
°VER 06CE C3F8
°REP 0606 E9C3
°REP 064E E9C3
°REP 06CE E9C3
°//STEP4    EXEC PGM=AMASPZAP
°//SYSPRINT DD  SYSOUT=A
°//SYSLIB   DD  DSN/SYS1.SVCLIB.DISP-SHR
°//SYSIN    DD  *
°NAME IGG019ZC IGG019C8
°VER 041C 53800040
°REP 041C 588020C8

°TSO 6.0
°
°TYPE:          FINE TUNING
°REFERENCE:     PCF Program Description SB21-1988-0
°KEYPHRASE:     Command search
°
°ENVIRONMENT:   TSO
°
°PROBLEM:       Library search for commands
°
°SOLUTION:      PCF 5798 - GGJ. PCF has a table of commands upon
°               which a binary search is done for a command.  If
°               found, the command is attached; otherwise, the
°               message "command not found" is issued. No library
°               search is made.
¸
¸
¸
¸
¸
¯
°                                                       PAGE 75
¸
°TSO 7.0
°
°TYPE:          SUPPORT
°RELEASE:       3.7 through 7604
°KEYPHRASE:     SVS IEBCOPY ON MVS For Use in TSO.
°
°1.   Copy from VS2R1.7 to MVS SYS1.SVCLIB
°               IGG019C8 as IGG019WA
°               IGG019FT as IGG019WB
°
°2.   Superzap IGG019WA
°
°     NAME IGG019WA IGG019C8
°     * To make SVS appendage routine compatible with MVS IOS.
°     VER FC 47F0, E004
°     REP FC 47F0, E000
°     * For correct CSW validity check
°     VER 0496 5880, 0040  (After PTF 70305 location verifies
°     REP 0496 5880, 2008  at 04B6)
°
°3.   LINKEDIT REL 1.7 (SVS) IEBCOPY into MVS SYS1.LINKLIB or user
°     library as TSOCOPY.
°
°4.   Superzap TSOCOPY to use IGG019WA and IGG019WB.
°
°     NAME TSOCOPY IEBDSMCA
°     VER 0682 C3F8C6E3
°     REP 0682 E6C1E6C2
°     VER 06CA C3F8C6E3
°     REP 06CA E6C1E6C2
°     VER 07FA C3F8C6E3
°     REP 07FA E6C1E6C2
°
°     NAME TSOCOPY IEBDV1
°     VER 0828 C3F8
°     REP 0828 E6C1
°     VER 083E C6E3
°     REP 083E E6C2
°
°5.   Update MVS SYS1.PARMLIB (IEAAPP00) to include IGG019WA  as  a
°     PCI appendage and IGG019WB as a SIO appendage.
°
°6.   Apply APAR 0Z 09210 to MVS  release 3.0 through 3.7 (UZ03714
°     on PTF tape 7604).
¸
¸
¸
¸
¯
°                                                       PAGE 76
¸
°TSO 8.0
°
°TYPE:          FINE TUNING + ZAP
°RELEASE:       3.7
°KEYPHRASE:     TSO
°
°ENVIRONMENT:   Any MVS TSO
°
°PROBLEM:       Unnecessary activity to CMDLIB
°
°SOLUTION:      Copy SYS1.CMDLIB members to SYS1.LPALIB
°
°BENEFITS:      15% reduction in TSO response for edit type
°               scripts measured (benchmarks on a 4 MB 158).

°               Increased efficiency in directory search, paging.

°WARNINGS:      Reduced Private Area size
°               Reduced SMF CPU time, for billing purposes, by 8-18%.
°               (8-18% measured)
°               158 runs only IMS. Checked out in this environment
°               ZAP could cause problems with SUBMIT or TSO utilities.
°
°EXAMPLE:       To remove the restriction of SYS1.CMDLIB being in
°               LNKLST, the following zaps will NOP the BLDL.

TEST COMMAND
°____ _______
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 77
¸
°TSO 9.0
°
°TYPE:          ZAP
°RELEASE:       VS2 REL 3.7
°PTF's:         PTF tape 7612
°KEYPHRASE:     PERFORMANCE; CVT
°
°ENVIRONMENT:   TSO
°
°PROBLEM:       Eliminate overhead of LINK or LOAD SVC's for
°               frequently invoked user modules.

°SOLUTION:      Utilize module IKJEFXSR to place address of module
°               in CVT. Module can then be invoked via CALL
°               instead of LINK or LOAD. IKJEFXSR searches the
°               LINKPACK area for the specific module and places
°               its addtess at the specified offset within the
°               CVT.  The high-order bit is turned on in the
°               address field. IKJEFXSR contains a table of
°               entries of modules whose addresses are to be added
°               to the CVT. Each table entry is twelve bytes long
°               and of the form:

°                   DC  CL8'NAME'
°                   DC  AL4(CVT-OFFSET)
°
°               The table starts at +560 and runs through +5D7.
°               IKJEFXSR can be expanded and new entries added at
°               the end of the table. The last entry in the table
°               is determined by a LA instruction at +11C. This
°               must be changed to point to the last entry added.

°WARNING:       The modules whose addresses are to be added to the
°               CVT must reside in the LINKPACK area.
°
°EXAMPLE:
°++ZAP(IKJEFXSR).
° EXPAND IKJEFXSR(40)
°NAME IKJEFXSR
°VER 05D8 00000000,00000000,00000000
°REP 05D8 C1C2C340,40404040          DC  CL8'ABC'
°REP 05E0 00000000                   DC  AL4(192)
°VER 011C 41F0C5B0
°REP 011C 41F0C5BC
¸
¸
¸
¸
¯
°                                                       PAGE 78
¸
°TSO 10.0
°
°TYPE:          ZAP
°RELEASE:       VS2 REL 3.7, SU 11
°PTF's:         PTF tape 7612
°KEYPHRASE:     TMP, ALLOCATION
°
°ENVIRONMENT:   TSO
°
°PROBLEM:       Data sets allocated by IBM written command
°               processors are not freed by the CP at termination.

°SOLUTION:      Upon termination of a command procedure, the TMP
°               will free all data sets allocated by the CP but
°               not freed by it. For efficiency, IKJEFXSR has been
°               used to place the address of the freeall module
°               into the CVT.

°WARNING:       The freeall module must reside in the LINKPACK
°               area.

°++ZAP(IKJEFXSR).
° EXPAND IKJEFXSR(40)
°NAME IKJEFXSR
°VER 05D8 00000000,00000000,00000000
°REP 05D8 C6D9C5C5C1D3D3040           DC  CL8'FREEALL'
°REP 05E0 00000000                    DC  AL4(192)
°VER 011C 41F005B0
°REP 011C 41F0C5BC
°
°++ZAP(IKJEFT02).
° EXPAND IKJEFT02  IKJEFT02
°VER  1078  47F0AFDE            B     @EL00010
°REP  1078  47F0B455            B     PATCH
°VER  1460  00000000
°REP  1460  C6D9C5C5C1D3D340    DC    CL8'FREEALL'
°REP  1468  FF000000            DC    X'FF000000'
°REP  1470  58109098      PATCH L     1,CPPLPTR
°REP  1474  5610B44D            O     1,=X'FF-000000'  INDICATE SPEC FCN
°REP  1478  58F00010            L     15,CVTPTR       A(CVT)
°REP  147C  9180F0C0            TM    192(15),X'80'   FREEALL PTR EXIST?
°REP  1480  4780B479            BZ    LINK            NO, DO LINK
°REP  1484  58FCF0C0            L     15,192(15)      A(FREEALL)
°REP  1488  05EF                BALR  14,15           INVOKE FREEALL
°REP  148A  50F094EC            ST    15,RCODE   STORE RETACODE
°REP  148E  18E6                LR    14,6
°REP  1490  47F0AFDE            B     @EL00010    RETURN TO MAINLINE
°REP  1494  41000008       LINK LA    0,8
°REP  1498  1110                LNR   1,0
°REP  149A  0A0A                SVC   10         GET 8-BYTE WORK AREA
°REP  149C  1841                LR    4,1
°REP  149E  18F1                LR    15,1       PARM REGISTER
°REP  14A0  4110B445            LA    1,=CL8"FREEALL'
°REP  14A4  50104000            ST    1,(4)      A(EP NAME)
°REP  14A8  D70340044004        XC    4(4,4),4(4)  ZERO DCB ADDRESS
°(Continued)
¯
°                                                       PAGE 79
¸
°TSO 10.0 (Continued)
°
°REP  14AE  58109098            L     1,CPPLPTR
°REP  14B2  4610BB3C            O     1,=X'FF000000'  INDICATE SPEC FCN
°REP  14B6  0A06                SVC   6          LINK TO FREEALL
°REP  14B8  50F094EC            ST    15,RCODE   STORE RET CODE
°REP  14BC  1814                LR    1,4
°REP  14BE  41000008            LA    0,8
°REP  14C2  0A0A                SVC   10         FREE WORK AREA
°REP  14C4  18E6                LR    14,6
°REP  14C6  47F0AFDE            B     @EL00010    RETURN TO MAINLINE

°TSO 11.0
°
°TYPE:          FINE TUNING
°KEYPHRASE:     EDIT package
°
°PROBLEM:       Large number of EXCP's issued during EDIT.
°
°SOLUTION:      Full screen edit; in one transaction a full screen
°               of data may be edited (20 lines of code). There
°               are several edit packages available, one is from
°               Palm Beach Computer Consultants, Tequesta,
°               Florida.

°BENEFIT:       Example savings for a full screen of data:

°               Without full screen     With full screen
°                 Capability              Capability
°
°                 28  SVC's               0  SVC's
°                 27  TPUT's              1  TPUT
°                  7  GETMAIN's           0  GETMAIN's
°                  9  SWAP's              1  SWAP
°                  7  TGET's              1  TGET
°                  7  FREEMAIN's          0  FREEMAIN's
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 80
¸
°TSO 12.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°KEYPHRASE:     CVOL
°
°PROBLEM:       Search of VSMA catalog to fing TSO CVOL.

°SOLUTION:      For data sets beginning with a $ go directly to
°               CVOL.

°WARNING:       This zap may have to be reworked if the data
°               management SU is installed.

°++ PTF /* AUTOMATIC CVOL POINTER FOR TSO DATA SETS -
°         FOR ANY DATA SET BEGINNING WITH A $ SEARCH THE MASTER CATALOG
°         FOR $TSO001 (WHICH IS AN ALIAS OF SYSCTLG.TSO001). */   .
°++ VER (Z030,Z036) PRE (UZ02305) .
°++ VER (Z037) .
°++ ZAP (IGG0CLA3) .
° NAME IGG0CLA3
° VER 048E 45E0,C734     Z027DOG   BAL   '14,IGGPDOG
° VER 0E24 0000,0000     PATCH     DC    NF'0'
° VER 0E3A 0000,0000     PATCHEND  DC    F'0'
° REP 048E 45E0,CDF6               BAL   '14,PATCH
° REP 0E24 955B,A05C               CLI   SCHQN('10),C'$'
° REP 0E28 4770,C734               BNE   IGGPDOG
° REP 0E2C D207,B02C,CE08          MVC   CCASRCH(8,R11),TSO001
° REP 0E32 47F0,C734               B     IGGPDOG
° REP 0E36 5BE3E2D6      TSO001    DC    C'$TSO'
° REP 0E3A F0F0F140                DC    C'001'
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 81
¸
°TCAM 1.0
°
°TYPE:          ZAP
°RELEASE:       3.7
°PTF:           AZ08014
°KEYPHRASE:     TCAM USERMAX
°
°ENVIRONMENT:   TSO or TSO/VTAM
°
°PROBLEM:       Cannot change maxusers
°
°WARNING:       If number is set larger than TIOC USERMAX, the
°               results are very unpredictable. There is also a
°               two digit limit.

°*
°*    THIS ZAP ALLOWS THE USERMAX VALUE OF TSO USERS TO BE RESET
°*    DYNAMICALLY AFTER TSO HAS BEEN INITIALIZED UNDER MVS.
°*
°*    F TCAM,TS=XXX        WHERE XXX IS THE NEW USERMAX DESIRED
°*
°*    XXX MAY RANGE FROM ZERO TO THE VALUE OF USERMAX SPECIFIED IN
°*    IKJPRMXX OR SET BY DEFAULT. ATTEMPTS TO INCREASE THE VALUE
°*    BEYOND THE ORIGINAL USERMAX WILL GIVE UNPREDICTABLE RESULTS.
°*
°*    LIBRARY -- SYS1.LPALIB
°*    APAR -- OZ08014          FUNCTION IS AVAILABLE IN TSO/VTAM
°*
° NAME IGCMC10D IEDAY1
°*
°*       R12 = 0002
°*
° VER 07B6 41000012          REPLACE THIS INSTRUCTION
° REP 07B6 47F0CC96          WITH BRANCH TO PATCH AREA
° VER 0C98 00000000          EMPTY PATCH AREA
° REP 0C98 41000012          RESTORE REPLACED INSTRUCTION
° REP 0C9C 95F03001          CLI  1(R3),C'0'      IS VALUE NUMERIC
° REP 0CA0 4740C7B8  (NOTE1) BL   ERROR           NO, EXIT SYNTAX ERR
° REP 0CA4 0650              BCTR R5,0            REDUCE LENGTH FOR =
° REP 0CA6 0650              BCTR R5,0            AND EXECUTE INSTR
° REP 0CA8 4450CCD8          EX   R5,PACK         PACK VALUE SPECIFIED
° REP 0CAC 4F80CCDE          CVB  R8,ZERO         CONVERT TO BINARY
° REP 0CB0 58400010          L    R4,CVTPTR       GET CVT POINTER
° REP 0CB4 584040F0          L    R4,CVTAQAVT-CVT(R4)  TCAM AVT
° REP 0CB8 58404024          L    R4,TCXRPT-IEDQTCX(R4)  AND RPT
° REP 0CBC 1244              LTR  R4,R4           IS TSO ACTIVE
° REP 0CBE 4780C7B8  (NOTE1) BZ   ERROR           NO, ERROR
° REP 0CC2 B20B0000          IPK                  SAVE CURR KEY REG2
° REP 0CC6 B20A0060          SPKA 96(0)           SET TCAM KEY
° REP 0CCA 4080400A          STH  R8,TIOCNTSB     SET NEW USERMAX VALUE
° REP 0CCE B20A2000          SPKA 0(R2)           RESTORE PROTECT KEY
° REP 0CD2 47F0C78E  (NOTE2) B    EXIT            NORMAL EXIT
° REP 0CDA F270CCDE3001      PACK ZERO(8),1(*-*,R3) PACK NEW VALUE
° REP 0CE0 0000000000000000  DC   D'0'            INTO THIS AREA
°(Continued)

¯
°                                                       PAGE 82
¸
°TCAM 1.0 (Continued)
°
°*
°*
°*    THE FOLLOWING ARE OFFSETS FOR CTS MODALE DUMPED ON 11/11/76
°*
°*
°*
° NAME IGCMC10D IEDAY1
°*
°*       R12 = 0002
°*
° VER 07BA 41000012          REPLACE THIS INSTRUCTION
° REP 07BA 47F0CC96          WITH BRANCH TO PATCH AREA
° VER 0CA0 00000000          EMPTY PATCH AREA
° REP 0CA0 41000012          RESTORE REPLACED INSTRUCTION
° REP 0CA4 95F03001          CLI  1(R3),C'0'      IS VALUE NUMERIC
° REP 0CA8 4740C7BC  (NOTE1) BL   ERROR           NO, EXIT SYNTAX ERR
° REP 0CAC 0650              BCTR R5,0            REDUCE LENGTH FOR =
° REP 0CAE 0650              BCTR R5,0            AND EXECUTE INSTR
° REP 0CB0 4450CCDC          EX   R5,PACK         PACK VALUE SPECIFIED
° REP 0CB4 4F80CCE2          CVB  R8,ZERO         CONVERT TO BINARY
° REP 0CB8 58400010          L    R4,CVTPTR       GET CVT POINTER
° REP 0CBC 584040F0          L    R4,CVTAQAVT-CVT(R4)  TCAM AVT
° REP 0CC0 58404024          L    R4,TCXRPT-IEDQTCX(R4)  AND RPT
° REP 0CC4 1244              LTR  R4,R4           IS TSO ACTIVE
° REP 0CC6 4780C7BC  (NOTE1) BZ   ERROR           NO, ERROR
° REP 0CCA B20B0000          IPK                  SAVE CURR KEY REG2
° REP 0CCE B20A0060          SPKA 96(0)           SET TCAM KEY
° REP 0CD2 4080400A          STH  R8,TIOCNTSB     SET NEW USERMAX VALUE
° REP 0CD6 B20A2000          SPKA 0(R2)           RESTORE PROTECT KEY
° REP 0CDA 47F0C792  (NOTE2) B    EXIT            NORMAL EXIT
° REP 0CDE F270CCE23001      PACK ZERO(8),1(*-*,R3) PACK NEW VALUE
° REP 0CE4 0000000000000000  DC   D'0'            INTO THIS AREA
°*
°*    THE FOLLOWING CODE SHOULD BE FOUND AT THESE LOCATIONS:
°*    NOTE1 -- 181D  (SHOULD BE PRIOR TO XCTL TO IGC0310D)
°*    NOTE2 -- 5850D00C,1B00,4000501C  (PRIOR TO XCTL TO IGC0710D)
°*
°*
° DUMPT IGCMC10D IEDAY1
¸
¸
¸
¸
¸
¯
°                                                       PAGE 83
¸
°TCAM 2.0
°
°TYPE:          FINE TUNING
°RELEASE:       3.7
°KEYPHRASE:     Remote 3270
°
°PROBLEM:       Excessive overhead for remote 3270 polling (4%)
°               per line.

°SOLUTION:      Vary off TP when not in use or use IEDPSTOP macro
°               in MCP.

°TCAM 3.0
°
°TYPE:          MACRO
°RELEASE:       3.7
°KEYPHRASE:     TSOMCP/THRESH
°
°ENVIRONMENT:   TSO 3270 with SPF fullscreen editor
°
°PROBLEM:       Line errors fill up LOGREC, canned MCP generates
°               incorrect code for fullscreen use of SPF.

°SOLUTION:      Add THRESH parameter to INTRO generation; increase
°               defaulted buffer sizes.

°BENEFITS:      Better TCAM thruput for 3270's fullscreen; easier
°               TCAM generation.

°WARNING:       Increases TCAM allocated region and fixed size.

°++PTF /* ADDS THRESH TO TSOMCP TO LIMIT NUMBER OF TCAM
°      IO ERRORS LOGGED TO SYS1.LOGREC. ALSO HAS MODS TO
°      SUPPORT THE SPF PACKAGE*/.
°++ VER (Z030,Z036) .
°++ VER (Z037) .
°++ UPDTE (TSOMCP) .
°+/ CHANGE NAME=TSOMCP,LIST=ALL                         33880005
° PUNCH '        THRESH=(255,50,255,50),LOCAL MOD FOR LOGREC PROX3388100
°               B ..........'                           33882005
° PUNCH'                BUFSIZE=2220,                  -52430005
°         AIF   ('&T(&I)'(1,3) NE '327').NASH1          65450505
°&K       SETA  2324                                    65450605
°.NASH1   ANOP                                          65450705
¸
¸
¸

¯
°                                                       PAGE 84
¸
°TCAM 4.0
°
°TYPE:          MACRO
°RELEASE:       3.7
°KEYPHRASE:     TSOMCP/MSGLIMIT
°
°ENVIRONMENT:   TSO with SPF fullscreen editor
°
°PROBLEM:       One terminal monopolizes controller, canned MCP
°               does not generate code for SPF package.

°SOLUTION:      Add MSGLIMIT to INHDR Group; add SPF message
°               handler macros.

°BENEFITS:      Minimizes terminal delays; easier TCAM generation.

°WARNING:       May increase TCAM program size.

°++ PTF (WC22003) /* ADDS MSGLIMIT 5 TO INHDR GROUP OF CANNED TSO
°               MESSAGE HANDLER TO PREVENT ANY ONE TERMINAL FROM
°               MONOPOLIZING THE ENTIRE LINE. ALSO HAS MODS TO
°               TO SUPPORT THE SPF PACKAGE */ .
°++ VER (Z030,Z036) .
°++VER (Z037) .
°++ UPDTE (TSOMH) .
°+/ CHANGE NAME=TSOMH,LIST=ALL                          14000005
°&NM     TSOMH &CUTOFF=2048,&FULLSCR=NO,&IEDHALT=LOGOFF 02000008
° PUNCH '        MSGLIMIT 5            LOCAL MOD   '    14001005
° PUNCH 'IEDQFS  SPFSCRN'                               19000005
° PUNCH '        SPFMCHK'                               56000505
¸
¸
¸
°TCAM 5.0
°
°TYPE:          FINE TUNING
°RELEASE:       Any
°REFERENCES:    TCAM SYSGEN Methodology - C. Powell
°KEYPHRASE:     Fixed frames and buffer pool hi-water mark.
°
°ENVIRONMENT:   Any system with TCAM
°
°PROBLEM:       Large amounts of fixed-core for TCAM buffers.
°
°SOLUTION:      See above document for procedure for determining:
°               1.  Optimal specification of
°                   a.  INTRO macro parameters:
°                       UNITSZ (KEYLEN)
°                       LNUNITS
°                       MSUNITS
°                   b.  DCB parameters:
°                       BUFIN
°                       BUFOUT
°                       BUFOUT
°                   c.  TERMINAL MACRO parameters:
°                       UNITNO
°                       BUFSIZE
°               2.  Optimal opening of DCB's
°                   a.  LCB's
°                   b.  SCB's
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 86
¸
°JES2
°
°1.   Turn off job journalling (only needed for checkpoint
°     restart).

°2.   Minimize PROCLIB switching.

°3.   Minimize JES SMF records (types 6 and 26).

°4.   Check &NUMTGV - recommended values:

°           DEVICE      &NUMTGV
°           3330        1279
°           3330-11     1919
°           3340-35     348
°           3340-70     696
°           2314        400
°           3350        3250
°
°5.   Hit STOP before LOAD.
°
°     If a write is being done to the HASP checkpoint data set at
     the time LOAD is hit, the checkpoint data set is written
°              ____
°     with zeroes.

°           HIT STOP
°           Count to 5
°           HIT LOAD
°
°     This gives I/O time to complete.
°
°6.   If using logon, preprompt and supply all JCL.
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 87
¸
°JES2 1.0
°
°TYPE:          SUPPORT
°KEYPHRASE:     JES2 Automatic Command Facility BOOTSTRAP
°
°BENEFIT:       The JES2 Automatic Command Facility may be used to
°               good effect in controlling standard systems
°               functions such as date/time stamping and printing
°               the systems logs, controlling RMF, etc., and may
°               be used to bootstrap itself. Properly set up, the
°               facility will operate correctly across IPLs, etc.

°SOLUTION:      The following strategy was employed:

°               1.  A member of PARMLIB was defined, "AUTOCMND".
°                   This member contains all commands to be
°                   established in the Automatic Command Facility
                   for the 24-hour period. Note that the last
°                                                         ____
°                   command, to be executed 25 hours from the
°                   midnight previous to the commands being set up
                   (i.e, one the next morning), bootstraps the
°                                 ____
°                   command set for the next day. Specific command
°                   ID numbers are assigned to force command
°                   replacement for those commands still in effect
°                   when the commands bootstrap at 1 AM (to avoid
°                   multiple "D T" every 10 minutes, for example).

°               2.  A standard IEBGENER to INTRDR from the PARMLIB
°                   AUTOCMND member is defined in SYS1.PROCLIB,
°                   such that the command "S AUTOCMND" will result
°                   in the automatic commands being fed to the
°                   internal reader.

°               3.  The INTRDR must be defined as allowing
°                   commands (JES2 initialization parameters)

°               4.  An "s autocmnd" must be placed in the commands
°                   executed by JES2 during initialization to
°                   cause the initial loading of the automatic
°                   commands.

WARNING:       DO NOT use the L= operand on the $TA commands in
°                  ___
°               AUTOCMND. If the console specified by L= is not
°               available at the time "s autocmnd" is issued, the
°               commands will be flushed and never set.
°
°EXAMPLE:       Sample AUTOCMND Member of SYS1.PARMLIB:
°
°/*$TA900,I=600,'$VS,''D T'''          /* DISPLAY TIME EVERY 10 MINUTES
°/*$TA901,I=7200,'$VS,''S DUMPCHK'''   /* CHK DUMP DS EVERY 2 HOURS */
°/*$TA903,T=24.00,'$VS,''S RMF.RMF'''  /* WRITE LOGS AT MIDNIGHT */
°/*$TA999,T=25.00,'$VS,''S AUTOCMND''' /* BOOTSTRAP AUTOCMND FOR NEXT DA
¸

¯
°                                                       PAGE 88
¸
°JES2 2.0
°
°TYPE:          Fine tuning
°RELEASE:       VS2 Rel 3.7 IPO
°KEYPHRASE:     Hardcopy log
°
°ENVIRONMENT:   3 mb 168 Batch only
°               (many RMT sites)
°               JES2 4.0
°
°PROBLEM:       If many $HASPxxx messages are being issued and
°               HARDCPY Log has a QN print chain, then shortage of
°               WTO buffers may occur ($ is a non-preferred QN
°               character).

°SOLUTION:      Use &CCOMCHR to change to a QN preferred
°               character.

°BENEFITS:      Speeds up HARDCPY Log.
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 89
¸
°MSS 1.0
°
°TYPE:          SUPPORT
°RELEASE:       MVS 3.7
°KEYPHRASE:     INPL of MSS
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       CPU lockouts or confusion in the MSS creating at
°               best an IPL.

SOLUTION:      INPL ONLY when the manual specifies you can.
°                    ____

°WARNINGS:      Extra care is needed when MSS is on multiple
°               CPU's.

°MSS 2.0
°
°TYPE:          FINE FUNING
°RELEASE:       MVS 3.7
°KEYPHRASE:     MSS staging space
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       Excessive stage/destage with loss of performance
°               and real core.

°SOLUTION:      Provide enough staging space for initiators
°               running. If LRU is invoked between different jobs,
°               each job waits on I/O and cannot be swapped out.

°BENEFITS:      More thruput, and significantly lower elapsed
°               time.

°MSS 3.0
°
°TYPE:          FINE TUNING
°RELEASE:       MVS 3.7
°KEYPHRASE:     MSS table pack usage; performance
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       High channel utilization due to excess table pack
°               usage.

°SOLUTION:      Dedicate the primary table pack for exclusive use
°               of MSC.

°BENEFITS:      More Batch thruput due to less system wait on MSS
°               UCB.
¸

¯
°                                                       PAGE 90
¸
°MSS 4.0
°
°TYPE:          FINE TUNING
°RELEASE:       MVS 3.7
°KEYPHRASE:     MSS performance
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       MSS overhead
°
°SOLUTION:      Minimize the use of track allocation for data sets
°               (i.e., use cylinders). n fact, data sets should be
               allocated on 8 cylinder boundaries, since this is
°                            _
°               a page increment for MSS.

°BENEFITS:      Less table pack activity, more availability MSS.

°MSS 5.0
°
°TYPE:          FINE TUNING
°RELEASE:       MVS 3.7
°KEYPHRASE:     MSS performance enhancement
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       Excessive IO to MSS causing over-utilization of
°               channel, and usage of MSS UCB. Creates excessive
°               core utilization during swapout while waiting for
°               staging.

SOLUTION:      Do NOT allocate temporary datasets and sortwort to
°                  ___
°               MSS. A technique for sortwork during heavy DASD
°               allocation is to us 'DEVPREF' in SYSGEN with
°               overflow to MSS.

°BENEFITS:      Dropped MSS UCB usage (in our installation) from
°               85% to 20%.

°WARNING:       Only necessary when utilization too high.
¸
¸
¸
¸
¸

¯
°                                                       PAGE 91
¸
°MSS 6.0
°
°TYPE:          SUPPORT
°RELEASE:       MVS 3.7
°KEYPHRASE:     'RELEASE' and related LRU problem
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       'RELEASE' JCL option with MSS does not release
°               excess of DASD on MSS. This creates LRU problems
°               at later times as this unnecessary data is
°               destaged.

°SOLUTION:      Do not use 'RELEASE' on MSS files.

°BENEFITS:      More MSS staging space available.

°WARNINGS:      SYNCSORT uses release option for workfiles.

°MSS 7.0
°
°TYPE:          SUGGESTED MOD
°REALESE:       MVS 3.7
°KEYPHRASE:     MSS performance with virtual unit addresses shared
°
°ENVIRONMENT:   370/168 - 370/168
°
°PROBLEM:       RESERVE/RELEASE on work volumes of shared VUA's
°               create problems of lockout for periods of time.

°SOLUTION:      ZAP VUA's to each machine when sharing unit
°               addresses across multiple machines.

°BENEFITS:      More productive batch time
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 92
¸
°MSS 8.0
°
°TYPE:          FINE TUNING
°RELEASE:       MVS 3.7
°KEYPHRASE:     QSAM dataset performance on MSS
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       QSAM datasets use read-previous-record before
°               reading the correct record, creating high overhead
°               on MSS.

°SOLUTION:      Use full track on QSAM datasets on MSS or use
°               OPTCD=Z (search direct).

°BENEFITS:      Reduction of elapsed time on datasets with this
°               option.

°WARNING:       COBOL cannot compile OPTCD=Z.

°MSS 9.0
°
°TYPE:          SUPPORT
°RELEASE:       MVS 3.7
°KEYPHRASE:     MSS messages
°
°ENVIRONMENT:   370/168
°
°PROBLEM:       MSS problems lost to operator causing long hangups
°               to resolve problems.

°SOLUTION:      One Console to receive MSS messages is helpful to
°               alleviate problems.
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 93
¸
°TUNING TOOLS
°
°A.   Address space monitors
°
°     1.    APEMAN - SHARE MVS PROJECT MODS TAPE
°     2.    CHIMP - SHARE MVS PROJECT MODS TAPE
°     3.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
°     4.    MVS SYSTEM INFORMATION ROUTINES (SIR) 5796-PGB
°     5.    RESOLVE - BOOLE AND BABBAGE, INC
°     6.    RSMON - 5788-CAF
°     7.    OMEGAMON - CANDLE SERVICE CORPORATION
°     8.    DCMS - SHARE MVS PROJECT MODS TAPE
°     9.    COMMAND SUBSYSTEM - CONNECTICUT BANK TAPE
°
°B.   DASD analysis
°
°     1.    CONFIGURATION UTILIZATION EVALUATOR (CUE) -
°           BOOLE AND BABBAGE, INC
°     2.    DATASET OPTIMIZER (DSO) - BOOLE AND BABBAGE, INC
°     3.    GTF DASD CONTENTION ANALYZER - 5798-CEZ
°     4.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
°     5.    GTF I/O CONCURRENCY REPORT - 5796-PGD
°     6.    MVS SEEK ANALYSIS PROGRAM - 5796-PJC
°     7.    MVSPT - IBM AID
°     8.    RESOLVE - BOOLE AND BABBAGE, INC
°     9.    RESOURCE MEASUREMENT FACILITY (RMF) - 5740-XXM
°     10.   SYSTEM ACTIVITY MEASUREMENT FACILITY (MF/1)
°     3.    QCB TRACE - SHARE MVS PROJECT MODS TAPE
°     4.    RESOLVE - BOOLE AND BABBAGE, INC
°     5.    COMMAND SUBSYSTEM - CONNECTICUT BANK TAPE
°
°D.   Global resource monitors
°
°     1.    APEMAN - SHARE MVS PROJECT MODS TAPE
°     2.    CHIMP - SHARE MVS PROJECT MODS TAPE
°     3.    CONFIGURATION UTILIZATION EVALUATOR (CUE) -
°           BOOLE AND BABBAGE, INC
°     4.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
°     5.    JES3 MONITORING FACILITY (JMF) - 5796-PHR
°     6.    MF/1 POST ANALYZER - 5798-CHX
°     7.    MVSPT - IBM AID
°     8.    RESOLVE - BOOLE AND BABBAGE, INC
°     9.    RESOURCE MEASUREMENT FACILITY (RMF) - 5740-XXM
°     10.   RSMON - 5788-CAF
°     11.   SYSTEM ACTIVITY MEASUREMENT FACILITY (MF/1)
°     12.   OMEGAMON - CANDLE SERVICE CORPORATION
°     13.   GENERALIZED DATA AREA MONITOR AND DISPLAY PROGRAM - 5798-CKK
¯
°                                                       PAGE 94
¸
°     14.   DCMS - SHARE MVS PROJECT MODS TAPE
°     15.   COMMAND SUBSYSTEM - CONNECTICUT BANK TAPE
°
°E.   Job data
°
°     1.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
°     2.    PROBLEM PROGRAM EVALUATOR ANALYZER (PPE) - BOOLE AND BABBAGE
°     3.    SMF DATA
°     4.    TOTAL SYSTEM ANALYZER (TSA) - BOOLE AND BABBAGE, INC
°     5.    COTUNE II - CAPEX CORPORATION
°     6.    DCMS - SHARE MVS PROJECT MODS TAPE
°
°F.   Module usage
°
°     1.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
°     2.    GTF SUPERVISOR SERVICES ANALYZER - 5796-PGE
°     3.    MVS SEEK ANALYSIS PROGRAM - 5796-PFC
°     4.    PROBLEM PROGRAM EVALUATOR ANALYZER (PPE) - BOOLE AND BABBAGE
°     5.    TOTAL SYSTEM ANALYZER (TSA) - BOOLE AND BABBAGE, INC
°
°G.   PLPA pack list generators
°
°     1.    APEMAN- SHARE MVS PROJECT MODS TAPE OR CONNECTICUT BANK TAPE
°     2.    MVS SEEK ANALYSIS PROGRAM - 5796-PJC
°     3.    PSW PACKER - SHARE MVS PROJECT MODS TAPE
°
°H.   Program packing - VS REPACK - 5796-PDZ
°
°I.   Miscellaneous - TSO TERMINAL INPUT/OUTPUT SIMULATOR (TIOS)
°             - BOEING COMPUTER SERVICES
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 95
¸
°TUNING TOOLS 1.0
°
°TYPE:          TOOL
°REFERENCES:    ALERT ANALYZERS USERS GUIDE
°KEYPHRASE:     ALERT
°
°ENVIRONMENT    Any MVS system
°
°PROBLEM:       Performance
°
°BENEFIT:       Better performance
°
°SOURCE:        Comten Inc.
°
°The ALERT performance analyzer pinpoints bottlenecks in
°operations, systems and programming by explaining with a
°narrative description the specific inefficiency problem, delay or
°degradation activity.

°ALERT

°     1.    Provides over sixty narrative reports.
°     2.    Reports only when user specified thresholds are
°           exceeded.
°     3.    Permits selection by frequency of occurrence.
°     4.    Allows items selected to be summarized.
°     5.    Permits selection of only the last, and most timely
°           occurrence of a condition.
°     6.    Report level can be controlled by user specified print
°           limits.
°     7.    Exceptional reporting conditions are presented in a
°           report summarization.
°     8.    Report referencing is facilitated with pagination and
°           a report table of contents.
°     9.    Source SMF data may be selectively saved during the
°           analysis for further investigation.
°     10.   Report narratives aid the user's efforts in
°           alleviating bottlenecks by providing recommended
°           solutions to the problems found.

°              NUMBER           DESCRIPTION
°
°               001         Less than optimum device blocksize
°               002         Less than optimum tape file blocksize
°               003         Cylinder boundary allocation
°               004         Track overflow usage
°               005         Write validity check
°               006         Variable blocked with locate mode usage
°               007         ISAM overflow area activity
°               008         Tape processing with chained scheduling
°               009         Tape volumes incurring permanent I/O errors
°               010         Tape volumes incurring temporary I/O errors
°               011         Low activity tape data sets
°               012         Tape and DISP=MOD usage
°               013         Input data sets with DISP=OLD
°(Continued)
¯
°                                                       PAGE 96
¸
°TUNING TOOLS 1.0 (Continued)
°
°               014         Hardware I/O error log
°               015         Low tape consumption data sets
°               016         Direct access datasets not using chained
°                           scheduling
°               017         Tape units incurring permanent I/O errors
°               018         Tape units incurring temporary I/O errors
°               019         Direct access data sets not using VIO
°               020         Inefficient page utilization using VIO
°               065         Excess direct access space allocation
°               066         Secondary space usage
°               067         Direct access space fragmentation
°               068         Data sets exceeding space allocation
°                           standards
°               069         Partial release of non-temporary data sets
°               070         System ABENDS related to space usage
°               071         Non-contiguous allocations
°               072         Direct access VTOC errors
°               073         Available VTOC entries at critical minimum
°               074         Available alternate tracks at critical
°                           minimum
°               075         Temporary use of private volumes
°               076         Insufficient direct access space
°               077         Recurring VSAM control interval splits
°               078         Excessive VSAM control interval splits
°               079         Recurring VSAM control area splits
°               080         Excessive VSA, control area splits
°               129         Core lock-out scheduling delays
°               130         Device allocation scheduling delays
°               131         Data set enqueue lock-outs
°               132         Frequent volume mounts
°               133         Multiple volume mounts
°               134         Allocation recovery delays
°               135         Direct access space unavailable
°               136         Expiration date checks
°               137         SMF action trace
°               138         Excessive job turnaround time
°               139         Excessive input queue wait time
°               193         Degraded printer performance
°               194         Tape drives allocated and never used
°               195         Unused core storage
°               196         Unused TSO region storage
°               197         Inactive TSO logon
°               198         Excessive program paging activity
°               199         User caused arm interference
°               200         User caused channel overload
°               201         Resource consuming job abends
°               202         Resource consuming operator cancellations
°               203         System IPL trace
°               204         Loss of real storage capacity
°               205         Repeating program abends
°               206         Heavy resource consuming TSO users
°               207         Programs causing excessive system overhead
°               208         Excessing program swapping activity

¯
°                                                       PAGE 97
¸
°TUNING TOOLS 2.0
°
°TYPE:          TOOL
°KEYPHRASE:     APEMAN (A Performance Evaluation Monitor for MVS)
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance
°
°SOLUTION:      Will monitor various system components:
°               1.  Monitors the page frame table entries.
°               2.  Monitors queue elements on any major/minor
°                   QCB chain.
°               3.  Monitors several of the internal variables
°                   of the SRM.
°               4.  Monitors the resource utilization of the
°                   address spaces.
°               5.  Monitors the trace table entries.
°               6.  Monitors the status of I/O devices attached
°                   to the system.
°
°BENEFIT:       Better performance and a deeper insight
°               into the internal operation of MVS.
°
°SOURCE:        CONNECTICUT BANK MODS TAPE OR SHARE MVS PROJECT
°               MODS TAPE
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 98
¸
°TUNING TOOLS 3.0
°
°TYPE:          TOOL
°RELEASE:       3.7B or IPO
°KEYPHRASE:     COMMAND subsystem

°PROBLEM:       Lack of information involving status of the system
°               and individual jobs.

°SOLUTION:      The command subsystem is a collection of display
°               commands that are easy to invoke and provide
°               information on the following:

°               1.  Job status.
°                   a.  ASID.
°                   b.  Dispatching priority from ASCB.
°                   c.  Swap load pages (in/out).
°                   d.  Swap count in decimal.
°                   e.  Performance group.
°                   f.  Dispatching priority from OUCB.
°                   g.  Domain number.
°                   h.  The OUCB flags (swap transition, swapout
°                       continuation, user type, algorithm status,
°                       transaction status, event status).
°                   i.  ASCB address.
°                   j.  Swap reason.
°                   k.  Dispatching queue position.
°                   l.  OUCB address.
°                   m.  Address space slots.
°                   n.  VIO slots.
°               2.  Storage.
°                   a.  UCB's by unit number.
°                   b.  Core by address and zapping facility.
°               3.  Page frame assignments.
°                   a.  Fixed frames by owners.
°                   b.  Specific megabytes (PFT flags, owning ASID).
°                   c.  Offline frames and intercepted frames.
°                   d.  V=R.
°               4.  IPS number and swap counts by reason since last IPL.
°               5.  ASM counts.
°               6.  Page data set usage.
°               7.  Active job display (modified D A).
°                   a.  Swapped in or out with reason.
°                   b.  ASID.
°                   c.  Dispatching priority.
°                   d.  Queing priority.
°                   e.  CPU time.
°               8.  TSO lines (USERID, ASID and TP line).
°               9.  ENQUE's (all or by major or minor name).
°               10. Device status.
°               11. LPA modules (name, starting address and length).
°               12. Units (single, by control unit, by VOLSER).
°               13. Clock and a bonus hex calculator.
°
°SOURCE:        CONNECTICUT BANK TAPE

¯
°                                                       PAGE 99
¸
°TUNING TOOLS 4.0
°
°TYPE:          TOOL
°KEYPHRASE:     CHIMP (Computerized Heuristic Information
°               Monitoring Program)
°
°REQUIREMENTS:  TSO 3270 Terminal
°
°ENVIRONMENT:   Any MVS system with TSO
°
°PROBLEM:       Performance
°
°SOLUTION:      CHIMP will display several system status
°               indicators on a job basis.

°BENEFIT:       Better performance

°SOURCE:        SHARE MVS PROJECT MODS TAPE



°TUNING TOOLS 5.0
°
°TYPE:          TOOL
°REFERENCES:    COTUNE II USERS GUIDE
°KEYPHRASE:     COTUNE II
°
°ENVIRONMENT:   Any MVS system with COBOL
°
°PROBLEM:       COBOL program performance
°
°SOLUTION:      Provides execution time analysis of COBOL programs.
°
°BENEFIT:       Reveals time spent in each section of code for
°               further investigation to improve performance.

°SOURCE:        CAPEX CORPORATION
°               2613 North Third Street
°               Phoenix, Arizona  85004
¸
¸
¸
¸
¸

¯
°                                                       PAGE 100
¸
°TUNING TOOLS 6.0
°
°TYPE:          TOOL
°REFERENCES:    CUE USERS GUIDE
°KEYPHRASE:     CUE (Configuration Utilization Evaluator)
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance
°
°SOLUTION:      CUE is a software product which measures
°               hardware/software performance. The standard CUE
°               package will perform the following functions:

°               1.  Inidcate usage of the channels and I/O devices
°                   as well as queueing for the CPU, channels
°                   control units, and I/O devices.
°               2.  Measure real storage page utilization.
°               3.  Measure main storage utilization.
°               4.  Measure device head movements.
°               5.  Measure paging in progress.
°               6.  Measure ENQ/DEQ activity.

°BENEFIT:       Possible reconfiguration to reduce resource
°               contention. Make more effective use of real
°               storage. Minimize average seek time.
°
°SOURCE:        BOOLE AND BABBAGE, INC
°               850 Stewart Drive
°               Sunnyvale, CA  94086
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 101
¸
°TUNING TOOLS 7.0
°
°TYPE:          TOOL
°KEYPHRASE:     DCMS
°
°ENVIRONMENT:   MVS
°
°PROBLEM:       An installation wishes to write monitor program
°               useful to itself and other SHARE installations.

°SOLUTION:      The SHARE standard monitor interface provides a
°               set of macro instructions that allow a programmer
°               to write a monitor in a relatively short period of
°               time. The interface provides full screen access to
°               local, remote and TSO. (Under TCAM only).

°               Several programs are provided with the package to
°               monitor various systems component:

°                   1.  Individual jobs.
°                   2.  Channel utilization.
°                   3.  Paging activity.
°                   4.  Core utilization.
°
°BENEFIT:       You can become a contributor to SHARE with
°               relative ease.

°SOURCE:        SHARE MVS MODS TAPE.
¸
¯
°                                                       PAGE 102
¸
°TUNING TOOLS 8.0
°
°TYPE:          TOOL
°RELEASE:       Version 2.3
°REFERENCES:    USER GUIDE FOR DSO
°KEYPHRASE:     DSO (Data Set Optimizer)
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance/excessive DASD head movement
°
°SOLUTION:      DSO performs an analysis of head movement activity
°               by data set within volume, produces a statistical
°               summary and calculates an optimal data set
°               organization of the volume, indicating the
°               anticipated head movement reduction of such a
°               reorganization.

°BENEFIT:       Reduction of head movement.
°
°SOURCE:        BOOLE AND BABBAGE, INC
°               850 Stewart Drive
°               Sunnyvale, CA  94086
¸

°TUNING TOOLS 9.0
°
°TYPE:          TOOL
°REFERENCES:    SB21-1910-0
°KEYPHRASE:     GENERALIZED DATA AREA MONITOR AND DISPLAY PROGRAM
°
°ENVIRONMENT:   OS, VS1, SVS, MVS
°
°PROBLEM:       Performance/lack of available information
°               concerning status of the system.

°SOLUTION:      Utilization of tool to display information about
°               internal MVS system operation.

°BENEFIT:       May be utilized to sample and report on any area
°               of storage that may be accessed. The generalized
°               data area monitor and display program is unique
°               among performance tools because it makes no
°               assumptions on which system data areas should be
°               monitored.

°SOURCE:        IBM FDP (5798 - CKK)
¸
¸

¯
°                                                       PAGE 103
¸
°TUNING TOOLS 10.0
°
°TYPE:          TOOL
°REFERENCES:    GC28-0674/ZZ05-0021
°KEYPHRASE:     GTF
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance
°
°SOLUTION:      GTF is capable of collecting a vast quantity of
°               event oriented information, including:

°               1.  SIOS against devices.
°               2.  I/O interrupt details.
°               3.  Recovery routines activity.
°               4.  SVC usage.
°               5.  SRM activity (SYSEVENTS).
°               6.  VTAM remote network activity.
°               7.  ENQ/DEQ activity.
°               8.  LINK, LOAD, XCTL, ATTACH activity.
°               9.  User events.
               0.  Program and external interrupts.
°              1
°
°BENEFIT:       A deeper insight into the operation of MVS.
°
°WARNING:       GTF data collection can impose a significant
°               overhead upon the system. A degradation of 30
°               percent in throughput due to GTF collecting
°               comprehensive data has been noted.

°SOURCE:        GTF is an integral part of MVS.
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 104
¸
°TUNING TOOLS 11.0
°
°TYPE:          TOOL
°RELEASE:       MVS
°KEYPHRASE:     GTF DASD SEEK ANALYSIS (TSGTFMAP)
°
°REQUIREMENTS:  Batch
°               Region = 512K
°
°ENVIRONMENT:   MVS
°
°PROBLEM:       Obtaining information on: DASDS seek contention,
°               string contention, and job/DASD contention.

°SOLUTION:      Display the following:

°               1.  By string/device/job.
°                   a.  SIOS by condition code
°                   b.  Maximum and average I/O time
°                   c.  Maximum and average defer time
°                   d.  Average seek in cylinders
°               2.  From and to seek matrix.
°               3.  Selected job interference display.
°
°BENEFIT:       Balance DASD across control units.
°               Job contention reduction.
°               Data set placement.
°
°WARNING:       Some installation dependent constants in code.
°
°SOURCE:        MVS MODS TAPE
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 105
¸
°TUNING TOOLS 12.0
°
°TYPE:          TOOL
°REFERENCES:    SN20-6454/SB21-1808-1
°KEYPHRASE:     GTF DATA ANALYSIS PROGRAM
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance

°SOLUTION:      This package possesses the ability to output a
°               maximum of 23 reports based upon GTF input.
°               Reports are created as follows:
°               1.  Short listing of all GTF records.
°               2.  Record summary by job.
°               3.  I/O count by DDNAME within job
°                   (DDNAME not available).
°               4.  SVC count by job.
°               5.  I/O count by device within job.
°               6.  SIO count by device within job.
°               7.  External interrupt count by job.
°               8.  Dispatcher activity by job.
°               9.  Page fault report by page within job.
°               10. Program interrupts by job.
°               11. PCI usage by device within job.
°               12. Unknown GTF records by job.
°               13. DDNAME activity by device
°                   (DDNAME not available).
°               14. Device activity by DDNAME
°                   (DDNAME not available).
°               15. Module activity by job.
°               16. Job activity by module.
°               17. SIO analysis by job within device.
°               18. I/O CSW analysis by job  within device.
°               19. GETMAIN/FREEMAIN length analysis by job.
°               20. SRM summary.
°               21. Recovery routine list.
°               22. DASD seek and arm movement analysis by device.
°               23. SRM summary by address space.
°
°BENEFIT:       Deeper insight into the operation of the system.
°               Primarily for resource usage and tracking.

°WARNING:       Utilization of GTF may seriously degrade system
°               performance.

°SOURCE:        IBM FDP (5798-CHT)
¸
¸
¸
¯
°                                                       PAGE 106
¸
°TUNING TOOLS 13.0
°
°TYPE:          TOOL
°REFERENCES:    SB21-1654-0/SN20-6461
°
°KEYPHRASE:     GTF DIRECT ACCESS CONTENTION ANALYZER
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance impact of operating in a shared DASD
°               environment.

°SOLUTION:      Provides a statistical tool for evaluating the
°               interference resulting from accessing DASD shared
°               between two or more CPUS. Also provides
°               statistical information for evaluating the
°               interference resulting from sharing a control unit
°               between two or more DASD devices.

°BENEFIT:       Identify bottleneck control units and volumes so
°               that corrective action may be taken.

°WARNING:       Utilization of GTF may seriously degrade system
°               performance.

°SOURCE:        IBM FDP (5798-CEZ)
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 107
¸
°TUNING TOOLS 14.0
°
°TYPE:          TOOL
°REFERENCES:    SH20-1815-0/LY20-2240-0
°KEYPHRASE:     GTF I/O CONCURRENCY REPORT
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance/IO interference causing degradation.
°
°SOLUTION:      GTFIOCUR displays the concurrency that exists
°               between devices, control units, or channels within
°               the system and the overlap that exists between
°               devices in the system.  This will aid the user in
°               identifying device contention, thereby aiding him
°               in balancing I/O loads, increasing the capacity of
°               the I/O system, improving response time, and
°               increasing throughput.

°BENEFIT:       Determine optimal placement of devices on control
°               units and channels in order to minimize I/O
°               interface.

°WARNING:       Utilization of GTF may seriously degrade system
°               performance.

°SOURCE:        IBM IUP (5796-PGD)
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 108
¸
°TUNING TOOLS 15.0
°
°TYPE:          TOOL
°REFERENCES:    SH20-1816-0
°KEYPHRASE:     GTF SUPERVISOR SERVICES ANALYZER
°
°REQUIREMENTS:  MVS
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance/excessive utilization of supervisor
°               services.

°SOLUTION:      Extracts and summarizes the number and types of
°               SVCS recorded by GTF. The objective is to allow
°               the user to pinpoint, with several degrees of
°               resolution, those jobs and programs which are the
°               heaviest users of supervisor services within the
°               system.

°BENEFIT:       Reduce utilization of supervisor services.

°WARNING:       Utilization of GTF may seriously degrade system
°               performance.

°SOURCE:        IBM IUP (5796-PGE)

°TUNING TOOLS 16.0
°
°TYPE:          TOOL
°REFERENCES:    SH20-1817-0
°KEYPHRASE:     GTF VTAM BUFFER ANALYSIS PROGRAM
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       VTAM performance

°SOLUTION:      Determine optimum buffer pool specification for
°               the installation. GTFVTAM produces numerous
°               reports summarizing VTAM buffer pool activity.

°BENEFIT:       Improved VTAM performance. Reduction of real
°               storage requirements and paging activity.

°WARNING:       Utilization of GTF may seriously degrade system
°               performance.

°SOURCE:        IBM IUP (5796 PGF)
¸
¸

¯
°                                                       PAGE 109
¸
°TUNING TOOLS 17.0
°
°TYPE:          TOOL
°REFERENCES:    SH20-1881/LY20-2270
°KEYPHRASE:     JMF (JES3 Monitoring Facility)
°
°ENVIRONMENT:   Any MVS system running JES3

°PROBLEM:       Performance in a JES3 user with information on the
°               activities and resource utilization of JES3. JMF
°               reports provide information on the following areas
°               of JES3:
°
°               1.  CPU utilization.
°               2.  Paging and allocated page frames.
°               3.  Subtask utilization.
°               4.  Function activity and summary.
°               5.  Spool activity and I/O chaining.
°               6.  Buffer utilization.
°               7.  Job analysis - time spent in each function.
°               8.  Job execution summary.
°               9.  JES3 device allocation activity.
°               10. Module utilization.
°               11. Function queue statistics.
°
°BENEFIT:       Information can be used to evaluate the
°               performance of an existing MVS/JES3 and to
°               understand the impact of particular JES3 functions
°               on the entire system. Used on a regular basis, JMF
°               can assist in identifying changes in the JES3
°               environment which affect overall JES3 performance.
°               Such information may also be useful in planning
°               for future growth of the system.

°SOURCE:        IBM IUP (5796-PHR)
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 110
¸
°TUNING TOOLS 18.0
°
°TYPE:          TOOL
°REFERENCES:    SB21-1814-1/LB21-1815-0
°KEYPHRASE:     MF/1 POST ANALYZER
°
°REQUIREMENTS:  MVS
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Consolidation of MF/1 or RMF data
°
°SOLUTION:      Consists of two programs, the first of which will
°               generate, from SMF records, the standard MF/1
°               report. The second program will summarize and
°               condense MF/1 or RMF data on an interval basis
°               using SMF data. The output is a series of summary
°               reports and histograms.

°BENEFITS:      Supplies RMF or MF/1 data in a more usable format.

°WARNING:       Minor changes, as described in the distributed
°               material, are required in order for this package
°               to function with RMF data.

°SOURCE:        IBM FDP (5798-CHX)
¸
¯
°                                                       PAGE 111
¸
°TUNING TOOLS 19.0

°TYPE:          TOOL
°REFERENCES:    GC28-0755-0
°KEYPHRASE:     MF/1 System activity Measurement Facility

°ENVIRONMENT:   Any MVS system

°PROBLEM:       Performance

°SOLUTION:      MF/1 permits the gathering of information on the
°               following classes of system activity:
°               1.  CPU activity.
°               2.  Channel activity and channel-CPU overlap
°                   activity.
°               3.  I/O device activity and contention.
°               4.  Paging activity.
°               5.  Workload activity.
°
°BENEFIT:       Better performance and a deeper insight into the
°               overall operation of the system.

°WARNING:       No noticeable degradation should occur while
°               sampling every .999 seconds. However, sampling
°               more frequently could significantly degrade system
°               performance, especially in the device measurements
°               area.

°SOURCE:        MF/1 is generated as a part of MVS, but its
°               utilization is completely optional.
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 112
¸
°TUNING TOOLS 20.0

°TYPE:          TOOL
°RELEASE:       Version 1 modification level 2
°REFERENCES:    ZZ20-2666-1
°KEYPHRASE:     MVSPT (Multiple Virtual Storage Performance Tool)

°ENVIRONMENT:   Any MVS system

°PROBLEM:       Performance

°SOLUTION:      MVSPT produces a series of reports in the
°               following format:
°               1.  CPU report.
°                   a.  CPU utilization (by processor)
°                   b.  CPU queue length
°                   c.  Overlap (MP only)
°               2.  Channel report.
°                   a.  Physical channel BUSY, BUSY and CPU wait,
°                       average service time, SIO counts
°                   b.  Logical channel BUSY, partial BUSY,
°                       request started and percent queued
°               3.  Device report.
°                   a.  BUSY, control unit queue, 2314 SEEK
°                   b.  Wait on UNIT/PATH, reserved, mount pending
°                   c.  Average service time, SIO counts
°                   d.  Request queue distribution
°               4.  Main storage report.
°                   a.  Main storage distribution
°                   b.  CPU time by ASID
°                   c.  Swap out time
°               5.  System data set report.
°                   a.  BUSY, BUSY and CPU wait
°                   b.  Wait on PATH/UNIT/DATA set
°                   c.  Queued requests
°               6.  Paging report, which is a duplication of  MF/1
°                   reports.
°               7.  SRM queue reports, queue distribution in, out,
°                   and wait.
°
°BENEFIT:       Better performance and a deeper insight into the
°               internal operation of MVS

°SOURCE:        This is an IBM aid and is available for use under
°               the Marketing Usage Guidelines for IBM aid
°               programs.
¸
¸
¸

¯
°                                                       PAGE 113
¸
°TUNING TOOLS 21.0

°TYPE:          TOOL
°RELEASE:       MVS 3.7 with SU5 and SU7
°REFERENCES:    OMEGAMON USERS GUIDE
°KEYPHRASE:     OMEGAMON
°
°REQUIREMENTS:  Local 3270 dedicated CRT and/or a local 3270 under
°               TSO.
°               REGION=40K

°PROBLEM:       Obtaining real-time information about the MVS
°               operating system.

°SOLUTION:      May measure the following:
°               1.  Status of MVS, batch jobs.
°               2.  TSO sessions.
°               3.  I/O devices.
°               4.  Channels.
°               5.  Real storage.
°               6.  Paging and swapping.
°               7.  Paging and swapping data sets.
°               8.  SRM information.
°               9.  Exception reporting.
°               10. COBOL programs.
°
°BENEFIT:       Real time monitoring of an MVS system tracking the
°               system and finding bottle necks before they occur
°               and become too serious.

°SOURCE:        CANDLE SERVICE CORPORATION
°               P. O. Box 280, Station 'A'
°               Canada  M5W 132
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 114
¸
°TUNING TOOLS 22.0
°
°TYPE:          TOOL
°RELEASE:       Version 3.0
°REFERENCES:    PPE REFERENCE GUIDE
°KEYPHRASE:     PPE ANALYZER (Problem Program Evaluator)
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance of user programs

°SOLUTION:      The PPE analyzer produces a series of reports
°               capable of describing program behavior according
°               to a variety of variables, such as CPU time by
°               instruction address, wait time, paging activity,
°               etc.

°BENEFIT:       Allows the user to effectively concentrate
°               optimization efforts in those program areas which
°               are most likely to yield thhe most significant
°               improvement.

°SOURCE:        BOOLE AND BABBAGE, INC
°               850 Stewart Drive
°               Sunnyvale, CA  94086
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 115
¸
°TUNING TOOLS 23.0
°
°TYPE:          TOOL
°REFERENCES:    PSW Packer Documentation File
°KEYPHRASE:     PSW Packer
°
°REQUIREMENTS:  MVS and PL/1 Optimizing Compiler
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Excessive PLPA paging
°
°SOlUTION:      Monitor PLPA paging and generate a pack List.
°
°BENEFIT:       Reduction of PLPA Paging
°
°WARNING:       Running the PSW sampler will incur a small amount
°               of system overhead.

°SOURCE:        SHARE MVS PROJECT MODS TAPE


°TUNING TOOLS 24.0

°TYPE:          TOOL
°KEYPHRASE:     QCB trace
°REQUIREMENTS:  TSO terminal and/or operator console

°ENVIRONMENT:   Any MVS system

°PROBLEM:       Enqueue lockout

°SOLUTION:      Use of the QCB trace displays the enqueue chain

°BENEFIT:       Operator will be able to see what resources are
°               enqueued by which jobs

°WARNING:       The trace does not go down the enqueue chain
°               disabled, so the chain may change.

°SOURCE:        SHARE MVS PROJECT MODS TAPE
¸
¸
¸
¸
¸
¯
°                                                       PAGE 116
¸
°TUNING TOOLS 25.0

°TYPE:          TOOL
°REFERENCES:    RESOLVE REFERENCE MANUAL
°KEYPHRASE:     RESOLVE

°ENVIRONMENT:   Any MVS system

°PROBLEM:       Performance/lack of sufficient display commands
°               under MVS.

°SOLUTION:      Utilization of RESOLVE by operational staff.
°               Utilization of RESOLVE by systems personnel by
°               means of a TSO terminal.

°BENEFIT:       Possesses the following display commands:
°               1.  ASM data.
°               2.  MCS console status.
°               3.  CPU usage by job.
°               4.  CSA.
°               5.  Data set attributes.
°               6.  Memory.
°               7.  Enqueue conflicts.
°               8.  Outstanding I/O requests.
°               9.  Ownership of system locks.
°               10. Paging rates.
°               11. Outstanding reserves.
°               12. RSM data.
°               13. Available DASD space on a volume.
°               14. SRM data.
°               15. Job status.
°               16. UCB.
°               17. Units utilized by a job.
°
°               May also be utilized to alter memory, unload
°               permanently resident DASD, submit jobs, alter swap
°               status, change dispatching priority, exit a job,
°               de-allocate devices, and execute commands from a
°               TSO terminal.

°WARNING:       Execution of certain display commands from a TSO
°               terminal will not obtain the requested display.

°SOURCE:        BOOLE AND BABBAGE, INC
°               850 Stewart Drive
°               Sunnyvale, CA  94086
¸
¸
¸

¯
°                                                       PAGE 117
¸
°TUNING TOOLS 26.0
°
°TYPE:          TOOL
°PTF'S:         UZ09951
°REFERENCES:    SC28-0740-1
°KEYPHRASE:     RMF (Resource Measurement Facility), Release 2
°
°ENVIRONMENT:   OS/VS2 release 3.7 and the supervisor Enhancements
°               No. 2 selectable unit (VS203807). Supervisor
°               enhancements No. 1 (VS203805) is also necessary
°               since it is a prerequisite of VS203807.

°PROBLEM;       Performance/MF1 tuning tool supplied with MVS
°               lacks information desirable for tuning system.

°SOLUTION:      Use RMF to supply information produced by MF/1
°               plus data and display enhancements.


°BENEFIT:       Enhancements include page data set analysis, swap
°               data set analysis, greater detail in paging and
°               workload activity reports, enqueue reports and
°               logical channel activity reports.  Workload
°               activity service units are divided into IOC, CPU,
°               and MSO. Post processor to analyze RMF's SMF data
°               is included with this program product. Real time
°               display data is available with or without TSO.

°WARNING:       PTF UZ09951 is a pre-requisite for RMF Release 2
°               (SU 52) to support the enqueue contention
°               reporting.  With options selected to produce all
°               available reports, no noticeable degradation
°               occurred on a 4MEG 168 while sampling every .999
°               seconds.  However, sampling more frequently could
°               significantly degrade system performance,
°               especially in the device measurements area.
°               Significant overhead may be realized through
°               indiscriminate usage of the trace facility.  Trace
°               records may approach 32K in size, potentially a
°               problem for user programs analyzing SMF data.

°SOURCE:        IBM PROGRAM PRODUCT (5740-XY4)
¸
¸
¸
¸

¯
°                                                       PAGE 118
¸
°TUNING TOOLS 27.0

°TYPE:          TOOL
°KEYPHRASE:     RSMON (Real Storage Monitor Program for MVS)

°ENVIRONMENT:   Any MVS system 3.7 level

°PROBLEM:       Performance

°SOLUTION:      RSMON is an MVS software monitor, especially
°               suited for measuring real storage utilization, and
°               related phenomena. This product can be run on-
°               line, using a dedicated BTAM terminal or IMS
°               terminal or IN BATCH mode. In any mode, a log tape
°               can be written which may be post analyzed to
°               produce various reports, with time selection
°               criteria, making RSMON quite flexible.  There are
°               8 major reports available from RSMON:
°               1.  Real storage frame usage, describing use of
°                   real memory.
°               2.  Real storage frame allocation by address
°                   space, giving a graphical representation of
°                   type of memory frames used.
°               3.  Paging rate report, divided into components
°                   such as VIO, system user, and swap.
°               4.  Auxiliary storage manager report, describing
°                   allocation of page storage, and paging
°                   activity.
°               5.  Address space summary, status of all address
°                   spaces in system.
°               6.  SRM, CPU, and channel utilization.
°               7.  Storage map report, displays contents of real
°                   storage frames.
°               8.  Storage residency report, measures real or
°                   virtual storage residency for an address
°                   space.

°BENEFIT:       Better performance and a deeper insight into the
°               internal operation of MVS.

°SOURCE         IBM PRODUCT (5788-CAF)
°               This is a Canadian 'Country Implemented Program'
°               and may not be available within the United States.
¸
¸
¸
¸

¯
°                                                       PAGE 119
¸
°TUNING TOOLS 28.0

°TYPE:          TOOL
°RELEASE:       Version 2 if supervisor II SU installed.
°               Otherwise use version 1.
°REFERENCES:    SH20-1813-1
°KEYPHRASE:     SIR (Ssystem Information Routine)

°ENVIRONMENT:   Any MVS system

°PROBLEM:       Performance/lack of available information
°               concerning status of the system.

°SOLUTION:      Utilization of SIR to display information about
°               internal MVS system operation.
°WARNING:       In order to reduce overhead, SIR does not acquire
°               many of the conventional locks and, as a result,
°               OC4's are not uncommon in certain environments.

°SOURCE:        IBM IUP (5796-PGB)
¸
¸
¸
¸
¸
¸
¸
¸
¸
¯
°                                                       PAGE 120
¸
°TUNING TOOLS 29.0

°TYPE:          TOOL
°REFERENCES:    SH20-1814-0
°KEYPHRASE:     SEEK ANALYSIS PROGRAM

°ENVIRONMENT:   Any MVS system

°PROBLEM:       Performance degradation as a result of excessive
°               head movement.

°SOLUTION:      Provides seek analysis histogram as well as an I/O
°               activity report by device address and condition
°               code. Three other reports produced are an SVC
°               usage report, a module usage report, and a module
°               affinity report.

°BENEFIT:       May be utilized to determine optimal placement of
°               data sets in order to reduce head movement
°               activity.

°WARNING:       Utilization of GTF may seriously degrade system
°               performance.

°SOURCE:        IBM IUP (5796-PJC)
¸
¸
¸
¸
¸
¸
¸
¸
¸
¸

¯
°                                                       PAGE 121
¸
°TUNING TOOLS 30.0

°TYPE:          TOOL
°RELEASE:       76.2
°REFERENCES:    A USERS GUIDE TO SAS 76
°KEYPHRASE:     SAS (Statistical Analysis System)

°ENVIRONMENT:   Any MVS system

°PROBLEM:       Consolidation of measurement data

°SOLUTION:      Data reduction programs which produce graphs and
°               statistical information, SAS allows one to read
°               and save any byte or bytes in a record. These
°               bytes may then be passed to SAS subroutines that
°               produce the graphs or statistical information. The
°               language is fairly easy to learn and use.

°BENEFIT:       A more meaningful presentation of data collected

°SOURCE:        SAS INSTITUTE, INCORPORATED
°               P. O. Box 10622
°               Raleigh, North Carolina  27605
°
°
°TUNING TOOLS 31.0
°
°TYPE:          TOOL
°KEYPHRASE:     SUBMAN
°
°REQUIREMENTS:  MVS with a 3270 with or without TSO
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance
°
°SOLUTION:      Will monitor various system components:
°               1.  Monitor jobs running.
°               2.  Monitor various system statistics.
°               3.  Monitor system enqueues.
°
°BENEFIT:       Greater insight into system operation

°WARNING:       The offsets of the OUCB fields may not have been
°               updated for the Supervisor SU's.

°SOURCE:        SHARE MVS PROJECT MODS TAPE
¸
¸
¸
¯
°                                                       PAGE 122
¸
°TUNING TOOLS 32.0

°TYPE:          TOOL
°KEYPHRASE:     TIOS (TSO Terminal Input/Output Simulator)

°REQUIREMENTS:  One offline UCB per simulated line (no
°               communication hardware required).

°ENVIRONMENT:   Any 360/370 TSO (MUV, SVS, MVS)

°PROBLEM:       TSO stress and performance testing is difficult
°               and costly using real terminals.

°SOLUTION:      TIOS runs on host CPU and drives TCAM as though
°               real terminals were present.

°BENEFIT:       Controlled TSO test and benchmark environment
°               without the requirement for communications
°               hardware.

°WARNINGS:      2-5% CPU overhead 20K + 0.9K per simulated line
°               fixed memory overhead.

°SOURCE:        This item is a BCS product.

°TUNING TOOLS 33.0
°
°TYPE:          TOOL
°KEYPHRASE:     TSO/MON
°
°ENVIRONMENT:   Any MVS system with TSO
°
°PROBLEM:       TSO control and monitoring
°
°SOLUTION:      Provides TSO management control, utilization and
°               performance information at the system and user
°               level.

°BENEFIT:       Better TSO performance and control

°SOURCE:        MORINO ASSOCIATES, INC
°               This item is a MORINO ASSOCIATES chargeable
°               product.
¸
¸
¸
¸
¯
°                                                       PAGE 123
¸
°TUNING TOOLS 34.0
°
°TYPE:          TOOL
°RELEASE:       Version 2.0
°REFERENCES:    TSA REFERENCE GUIDE
°KEYPHRASE:     TSA (Total System Analyzer)
°
°ENVIRONMENT:   Any MVS system
°
°PROBLEM:       Performance
°
°SOLUTION:      TSA is a software monitor designed to collect CPU
°               user data. TSA reports on the total CPU usage by
°               SVC modules, system task modules, and problem
°               program modules. The overall CPU usage can be
°               broken down in finer detail by specific module and
°               further by the calling job name to accurately
°               portray not only how the CPU usage was distributed
°               throughout the system but also which jobs were
°               using modules of particular interest. Histogram
°               reports for modules of special interest can be
°               obtained to identify the specific instruction
°               locations of high CPU activity. Time oriented
°               plots of CPU usage can be obtained by module or by
°               the entire system to identify patterns in system
°               behavior or to analyze specific time intervals
°               when bottlenecks occur. TSA may also be utilized
°               to create data for the PPE analyzer.

°BENEFIT:       Provides the user with necessary data to eliminate
°               module bottlenecks, optimize high CPU usage areas
°               in programs, reduce total CPU usage, and decrease
°               TP system response time.

°SOURCE:        BOOLE AND BABBAGE, INC
°               850 Stewart Drive
°               Sunnyvale, CA  94086
¸
¸
¸
¸
¸
¸

0NO LINES EQUALS 06377-- NO PAGES PER RUN EQUALS 00132  NO OF OVERPRINTS

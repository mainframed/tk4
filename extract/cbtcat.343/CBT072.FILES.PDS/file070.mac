************************************************************************
*
*        THESE SYSTEM MODIFICATIONS ARE FOR VS2 RELEASE 3.7, PTF
*        AND SU LEVEL AS INDICATED ON EACH VERIFY STATEMENT.
*        THESE MODIFICATIONS ARE CURRENTLY APPLIED TO A PRODUCTION
*        3.7A SYSTEM WITH SU S 1-8,10,13,15,17,20, AND 27 APPLIED.
*        NOTES AND RESTRICTIONS APPEAR IN THE COMMENTS WHICH
*        DESCRIBE EACH MODIFICATION ON THE ++ PTF STATEMENT .
*
*        TO THE BEST OF OUR KNOWLEDGE THESE MODIFICATIONS WORK AS
*        DESCRIBED, HOWEVER NO WARRANTY IS MADE TO THE ACCURACY OF THE
*        CODE AND NO RESPONSIBILITY IS ASSUMED FOR ANY SITUATION
*        DIRECTLY OR INDIRECTLY RELATED TO THE USE OF THESE MODS.
*
*        ADDITIONAL INFORMATION CAN BE OBTAINED FROM -
*
*                  R.C. CREWS
*                  GENERAL DYNAMICS CORPORATION
*                  WESTERN DATA SYSTEMS CENTER
*                  MAIL ZONE 531-0
*                  P.O. BOX 80847
*                  SAN DIEGO, CALIFORNIA 92138
*
*                  TELEPHONE 714-277-8900 EXT. 2076
*
************************************************************************
++ PTF(WC21002) /* CORPORATE MODIFICATION TO CAUSE GDG BASE LEVELS
         TO BE UPDATED AT STEP TERMINATION RATHER THAN REMAINING
         THE SAME THRUOUT THE ENTIRE JOB */ .
++ VER (Z037) .
++ ZAP(IEFAB461) .
 NAME IEFAB461
*
*        ZAP TO GDG SINGLE PROCESSING (IEFAB461) TO CAUSE GDGNT SEARCH
*        TO FAIL FOR A
*        TO OBTAIN THE CURRENT BASE GENERATION FROM THE CATALOG
*        RATHER THAN USING THE OLD ONE FROM THE GDGNT. ZAP ALSO
*        FORCES REUSE OF THE FIRST GDGNT ENTRY TO CONSERVE SWA AND
*        AVOID UNECESSARY SEARCHES OF A LENGTHY GDGNT .
*
 VER 0418 4770,C61A          BNE   @RF00150
 REP 0418 4700,C61A          NOP   @RF00150
 VER 05E8 1E3F               ALR   @03,@15
 REP 05E8 0700               NOP
++ PTF (WC21003) /* ALLOW ISAM UPDATES WITH DISP=SHR */ .
++ VER (Z037) .
++ ZAP (IGG0192A) .
 NAME IGG0192A
 VER 0150 4710,319A          BO    ISL00F21
 REP 0150 4700,319A          NOP
++ PTF (WC21004) /* SET TSO TAB CHARACTER TO # (POUND SIGN) .
               THIS IS FOR 3270 SUPPORT  */ .
++ VER (Z037) .
++ ZAP (IKJEBELE) .
 NAME IKJEBELE
 VER 0228 9240,6003          MVI   TEXTBFR-1(@06),C' '
 REP 0228 927B,6003          MVI   TEXTBFR-1(@06),C'#'
 VER 0858 7A7B7C                   TRANSLATE TABLE ENTRY
 REP 0858 7A057C                   TRANSLATE TABLE ENTRY
++ PTF (WC21006) /* IF JOBFAIL IS SET THEN MAKE UNALLOCATION DO
         CONDITIONAL DISPOSITION PROCESSING AT STEP END AND JOB END
         AS IF AN ABEND HAD OCCURED. THIS WILL CAUSE DATA SET
         CONDITIONAL DISPOSITION TO BE PROCESSED IF A JOB GETS A
         'DATA SET NOT FOUND' OR CANNOT FIND ENOUGH SPACE . */ .
++ VER (Z037) PRE (UZ07002) .
++ ZAP (IEFBB410) .
 NAME IEFBB410
*        ZAP TO CAUSE CONDITIONAL STEP DISPOSITION IF JOBFAIL SET
 VER 07D2 9624A1DC                OI    STPASS,B'00100100'
 VER 07E6 9617A1DC                OI    STPASS,B'00010111'
 REP 07E6 9624A1DC                OI    STPASS,B'00100100'
*        ZAP TO CAUSE CONDITIONAL JOB DISPOSITION IF JOBFAIL SET
 VER 0B0C 91088005                TM    JCTABEND(@08),B'00001000'
 VER 0B10 47E0BAF4                BNO @RF00...
 VER 1524 00000000      PATCH     DC    NF'0'    PATCH AREA
 VER 1530 00000000      PATCHEND  DC    F'0'     PATCH END
 REP 0B10 47E0C501                BNO  PATCH
 REP 1524 58809000                L     @08,LCTPTR(,PARMPTR)
 REP 1528 91C08020                TM    LCTJFAIL(@08),B'11000000'
 REP 152C 47E0BAF4                BNO   @RF00...
 REP 1530 47F0BAF0                B     @RF00...-4
++ PTF (WC21008) /* TSO LINE NUMBER DELETION MODIFICATION. IF A TSO
         USER IN EDIT MODE ENTERS A LINE NUMBER ONLY, THAT LINE NUMBER
         WOULD NORMALLY BE DELETED. THIS MOD ELIMINATES THAT FUNCTION
         THUS FORCING THE USER TO ENTER DEL OR DELETE PRECEEDING THE
         LINE NUMBER TO BE DELETED. NOTES: IF AFTER THIS ZAP HAS BEEN
         APPLIED A USER ENTERS A LINE NUMBER THERE WILL BE NO MESSAGE
         TO INFORM HIM THAT HIS LINE WAS NOT DELETED.  ALSO, IF A
         USER ENTERS AN ASTERISK AFTER THIS ZAP THE CURRENT LINE WILL
         BE DELETED (AS BEFORE) . */ .
++ VER (Z037) .
++ ZAP (IKJEBELI) .
 NAME IKJEBELI
 VER 03E0 4770,B56A
 REP 03E0 4770,B592
++ PTF (WC21009) /* CHANGE TSO EDIT MODE DEFAULT TO V ON . */ .
++ VER (Z037) .
++ UPDTE (SGIKJ0E2) DISTLIB(AMODGEN) .
./ CHANGE NAME=SGIKJ0E2,LIST=ALL
         OI    CACFLAG1,CAVRFYSW                                WC21009
++ PTF(WC22002) /* ADDS THRESH TO TSOMCP TO LIMIT NUMBER OF TCAM
               IO ERRORS LOGGED TO SYS1.LOGREC. ALSO HAS MODS TO
               SUPPORT THE SPF PACKAGE */ .
++ VER (Z037) .
++ UPDTE (TSOMCP) DISTLIB(ATSOMAC) .
./ CHANGE NAME=TSOMCP,LIST=ALL
 PUNCH '               THRESH=(255,50,255,50), LOCAL MOD FOR LOGREC PROX
               B ..........'
 PUNCH '               BUFSIZE=2220,                                   -
         AIF   ('&T(&I)'(1,3) NE '327').NASH1
&K       SETA  2324
.NASH1   ANOP
++ PTF (WC22003) /* ADDS MSGLIMIT 5 TO INHDR GROUP OF CANNED TSO
               MESSAGE HANDLER TO PREVENT ANY ONE TERMINAL FROM
               MONOPOLIZING THE ENTIRE LINE. ALSO HAS MODS TO
               TO SUPPORT THE SPF PACKEGE */ .
++ VER (Z037) .
++ UPDTE (TSOMH) DISTLIB(ATSOMAC) .
./ CHANGE NAME=TSOMH,LIST=ALL
&NM      TSOMH &CUTOFF=2048,&FULLSCR=NO,&IEDHALT=LOGOFF
 PUNCH '         MSGLIMIT 5            LOCAL MOD                  '
 PUNCH 'IEDQFS   SPFSCRN'
 PUNCH '         SPFMCHK'
++ PTF(WC22004) /* LOCAL ADDITIONS TO THE PROGRAM PROPERTIES TABLE */ .
++ VER (Z037) .
++ UPDTE (SGIEF0PT) DISTLIB(AMODGEN) .
./ CHANGE NAME=SGIEF0PT,LIST=ALL
         DC    AL1(PPTSKEY+PPTNSWP+PPTNOPAS+PPTNDSI)
         DC    AL1(PPTNCNCL+PPTSKEY+PPTNSWP+PPTSYSTK+PPTNDSI)
         DC    AL1(PPTNCNCL+PPTSKEY+PPTNSWP+PPTSYSTK+PPTNDSI)
         DC    AL1(PPTNCNCL+PPTSKEY+PPTNSWP+PPTSYSTK+PPTNDSI)
         SPACE 1
         DC    C'CHLGTF  '        CCWTRACE NAME
         DC    AL1(PPTNCNCL+PPTSKEY+PPTNSWP+PPTSYSTK+PPTNDSI)
         DC    AL1(PPTKEY0)
         DC    X'FFFF'       NO CPU AFINITY
         SPACE 1
         DC    C'DFSNRC00'        PRIVALEGED IMS MPR
         DC    AL1(PPTPRIV)
         DC    X'00'
         DC    X'FFFF'       NO CPU AFINITY
         SPACE 1
         DC    C'DFSNSC00'        NON SWAPABLE IMS MPR
         DC    AL1(PPTNSWP)
         DC    X'00'
         DC    X'FFFF'       NO CPU AFINITY
         DC    AL1(PPTPRIV+PPTSYSTK+PPTNDSI)
         SPACE 1
         DC    CL8'ERBMFMFC'       RMF (SU 20)
         DC    AL1(PPTPRIV+PPTSYSTK+PPTNDSI)
         DC    X'00'
         DC    X'FFFF'        NO CPU AFFINITY
         SPACE 1
         DC    CL8'IEHDASDR'       IEHDASDR ADDED - LOCAL MOD
         DC    AL1(PPTNOPAS)
         DC    X'00'
         DC    X'FFFF'             INDICATE NO CPU-TASK AFFIN.
         SPACE 1
         DC    CL8'FDR     '       FDR ADDED - LOCAL MOD
         DC    AL1(PPTNOPAS)
         DC    X'00'
         DC    X'FFFF'             INDICATE NO CPU-TASK AFFIN.
         SPACE 1
         DC    CL8'FDRDSF  '       FDRDSF ADDED - LOCAL MOD
         DC    AL1(PPTNOPAS)
         DC    X'00'
         DC    X'FFFF'             INDICATE NO CPU-TASK AFFIN.
         SPACE 1
         DC    CL8'DSS     '       DSS ACTIVATION PROGRAM
         DC    AL1(PPTSKEY)
         DC    AL1(PPTKEY0)
         DC    X'FFFF'             INDICATE NO CPU-TASK AFFIN.
         SPACE 1
         DC    CL8'DPINUC8 '       DPI CONTROL PROGRAM
         DC    AL1(PPTNSWP)
         DC    X'00'
         DC    X'FFFF'             INDICATE NO CPU-TASK AFFIN.
         SPACE 1
         DC    CL8'CPU0PGM '       NAME FOR AFFINITY TO CPU0
         DC    AL1(0)
         DC    X'00'
         DC    X'8000'             INDICATE AFFINITY TO CPU '0'
         SPACE 1
         DC    CL8'CPU1PGM '       NAME FOR AFFINITY TO CPU1
         DC    AL1(0)
         DC    X'00'
         DC    X'4000'             INDICATE AFFINITY TO CPU '1'
         DC    CL8'OLDQTCAM'
         DC    AL1(PPTSKEY+PPTNSWP+PPTNOPAS+PPTNDSI)
         DC    CL8'NEWQTCAM'
         DC    AL1(PPTSKEY+PPTNSWP+PPTNOPAS+PPTNDSI)
++ PTF (WC22006) /* LOCAL MOD TO JOBCARD MACRO TO GENERATE PROPER
         FORMAT JOBCARD AND TO ADD JOBCAT STATEMENTS TO SYSGEN
         JOBS ONE THROUGH N EXCEPT JOB SIX */ .
++ VER (Z037) .
++ UPDTE (JOBCARD) DISTLIB (AGENLIB) .
./ CHANGE NAME=JOBCARD,LIST=ALL
 PUNCH '//SYSGEN&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
 PUNCH '// CLASS=&SGCTRLC(42),MSGCLASS=&SGCTRLC(41),MSGLEVEL=(1,1),'
 PUNCH '// REGION=512K'
 PUNCH '/*JOBPARM      ROOM=HSS,TIME=60,LINES=150'
 PUNCH '//&SGCTRLC(40)&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
 PUNCH '// CLASS=&SGCTRLC(42),MSGCLASS=&SGCTRLC(41),MSGLEVEL=(1,1),'
 PUNCH '// REGION=512K'
 PUNCH '/*JOBPARM      ROOM=HSS,TIME=60,LINES=150'
 PUNCH '//SYSGEN&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
 PUNCH '// CLASS=&SGCTRLC(42),MSGCLASS=&SGCTRLC(41),MSGLEVEL=(1,1),'
 PUNCH '// REGION=512K,TYPRUN=HOLD'
 PUNCH '/*JOBPARM      ROOM=HSS,TIME=60,LINES=150'
 PUNCH '//&SGCTRLC(40)&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
 PUNCH '// CLASS=&SGCTRLC(42),MSGCLASS=&SGCTRLC(41),MSGLEVEL=(1,1),'
 PUNCH '// REGION=512K,TYPRUN=HOLD'
 PUNCH '/*JOBPARM      ROOM=HSS,TIME=60,LINES=150'
.MEND    AIF   (&SGCTRLA(3) EQ 0 OR &SGCTRLA(3) EQ 6).END
 PUNCH '//JOBCAT DD DSN=&SGVSNMC,DISP=SHR'
.END     MEND
++ PTF (WC22008) /* AUTOMATIC CVOL POINTER FOR TSO DATA SETS -
         FOR ANY DATA SET THAT BEGINS WITH A $ FORCE THE CATALOG
         SEARCH TO GO TO THE OS CVOL ON SHR305. THIS ELIMINATES
         THE NECESSITY OF HAVING A CVOL POINTER FOR EVERY TSO USER.
               NONVSAM REQUEST LOGIC - IF DATA SET BEGINS WITH A
               $ THEN PLUG IN A CVOL OF SHR305 IN THE CAMLIST.
               VSAM REQUEST LOGIC - IF DATASET BEGINS WITH A $ THEN
               ALSO CHECK TO SEE IF ANY PCCB HAS AN ALIAS OF $SHR305.
               IF ONE DOES THEN USE IT. IF A PCCB IS NOT FOUND THEN
               CONTINUE TO THE MASTER CATALOG SEARCH. ON THE LAST
               SEARCH OF THE MASTER CATALOG SEARCH FOR $SHR305
               INSTEAD OF THE REAL DATASET HIGH LEVEL QUALIFIER . */ .
++ VER (Z037) PRE(UZ80800,UZ80700,UZ04873) .
++ ZAP (IGC0002F) .
 NAME IGC0002F
*        NONVSAM REQUESTS GET PROCESSED HERE
 VER 032C 47E0,B31E               BNO   @RF00271
 VER 0330 9202,C29D               MVI   ROUTE,X'02'  INDICATE XCTL CVOL
 VER 0338 D205,C24C,A000          MVC   WKCVOLVS(6),CAMCVOLS(@10)
 VER 033E 47F0,B484               B     @RC00271
 VER 0D80 0000,0000     FIXAREA   DC    100X'00'
 VER 0D9C 0000,0000     ENDAREA   DC    4X'00'
 REP 032C 47E0,BD62               BNO   FIXAREA+6
 REP 0D80 E2C8,D9F3,F0F5  CVOL       DC   C'SHR305'
 REP 0D86 58E0,A004               L     R14,CAMPTR1   PTR TO NAME
 REP 0D8A 955B,E000               CLI   0(R14),C'$'      TSO ?
 REP 0D8E 4770,B31E               BNE   @RF00271
 REP 0D92 9202,C29D               MVI   ROUTE,X'02' INDICATE XCTL CVOL
 REP 0D96 D205,C24C,BD5C          MVC   WKCVOLVS(6),CVOL MOVE IT IN
 REP 0D9C 47F0,B484               B     @RC00271
++ ZAP (IGG0CLA3) .
 NAME IGG0CLA3
*        VSAM REQUESTS GET PROCESSED HERE
*        ZAP TO LOOK FOR PCCB WITH ALIAS OF $SHR305 IF TSO DATASET
 VER 016E 4770,C148               BNE   @RF00247   NO PCCB MATCH
 VER 0C04 0000,0000        PATCH     DC  NF'0'
 VER 0C32 0000,0000        PATCHEND  DC  F'0'
 REP 016E 4770,CBF2               BNE   PATCH2
 REP 0C20 955B,505C     PATCH2    CLI   SCHQN(@05),=C'$'    TSO ?
 REP 0C24 4770,C148               BNE   @RF00247    NO - RETURN
 REP 0C28 D507,CBE8,A048          CLC   SHR305(8),PCCTGCON(@10)
 REP 0C2E 4770,C148               BNE   @RF00247  NOT OUR ALIAS - RET
 REP 0C32 47F0,C144               B     @RT00247   MATCHING PCCB FOUND
*        ZAP TO SEARCH MASTER CATALOG FOR $SHR305 IF TSO DATASET
 VER 0260 45E0,C340        Z014D0G   BAL R14,IGGPDOG
 REP 0260 45E0,CBD6               BAL R14,PATCH
 REP 0C04 955B,A05C               CLI SCHQN(R10),C'$'
 REP 0C08 4770,C340               BNE IGGPDOG
 REP 0C0C D207,B02C,CBE8          MVC CCASRCH(8,R11),SHR305
 REP 0C12 47F0,C340               B  IGGPDOG
 REP 0C16 5BE2C8D9      SHR305  DC C'$SHR'
 REP 0C1A F3F0F540              DC C'305'
++ PTF (WC22009) /* MOD TO AMDPRDMP FROM THE CONVERSION NOTEBOOK.
         DELETES PRINTING CSA WITH AN ADDRESS SPACE . */ .
++ VER (Z037) PRE (UZ03467) .
++ ZAP (AMDPRPMS) .
 NAME AMDPRPMS
*              THIS INSTRUCTION IS LOCATED IN THE 'COMMON' ROUTINE.
 VER 075E 4110,BF3C        LA    R1,PCBPL
 REP 075E 47F0,BA42        B     RESTORE ERROR ROUTINE ADDRESSES
++ PTF (WC22010) /* MOD TO PREVENT VIO FROM BEING ASSIGNED TO LARGE
         SPACE REQUESTS .  LIMIT VIO TO 4 CYLS (120 TRKS) OR LESS
         THAN 2 MB IF THE REQUEST IS IN BLOCKS .  ALSO PREVENT VIO
         FROM BEING USED FOR SORTWK DD STATEMENTS.   */ .
++ VER (Z037) PRE (UZ08089) .
++ ZAP (IEFAB464) .
 NAME IEFAB464
 VER 088A 47E0,C876               BNO   @RF00334     NOT VIO ELGIBLE
 VER 0F82 0000,0000     PATCHEND  DC    F'0'
 VER 0F22 0000,0000     PATCH     DC    F'0'
 REP 088A 45E0,CF06               BAL   R14,PATCH
 REP 0F22 47E0,C876        PATCH  BNO   @RF00334   ZAPPED INSTRUCTION
 REP 0F26 91C0,709B               TM    JFCBCTRI,B'11000000'  IN CYLS ?
 REP 0F2A 47E0,CF1A               BNO   NEXT1      NO
 REP 0F2E 41F0,0004               LA    R15,4      MAX CYL REQUEST
 REP 0F32 47F0,CF46               B     COMPARE    GO COMPARE
 REP 0F36 9180,709B     NEXT1     TM    JFCBCTRI,B'10000000'  IN TRKS ?
 REP 0F3A 47E0,CF2A               BNO   NEXT2      NO - GO TRY BLKS
 REP 0F3E 41F0,0078               LA    R15,120    MAX TRKS FOR VIO
 REP 0F42 47F0,CF46               B     COMPARE    GO COMPARE
 REP 0F46 9140,709B     NEXT2     TM    JFCBCTRI,B'01000000' IN BLOCKS
 REP 0F4A 47E0,C876               BNO   @RF00334  UNKNOWN REQ = NO VIO
 REP 0F4E 58F0,CED8               L     R15,=F'2097152' MAX VIO CORE
 REP 0F52 58A0,7098               L     R10,JFCBPQTY   PRI # OF BLOCKS
 REP 0F56 88A0,0008               SRL   R10,8    SHIFT IN TO REG
 REP 0F5A 4CA0,70AC               MH    R10,JFCBDRLH+1   BLOCK LENGTH
 REP 0F5E 47F0,CF4E               B     COMPARE+8
 REP 0F62 58A0,7098     COMPARE   L     R10,JFCBPQTY  GET PRI ALLOC
 REP 0F66 88A0,0008               SRL   R10,8      SHIFT INTO REG
 REP 0F6A 19AF                    CR    R10,R15    COMP REQ TO MAX
 REP 0F6C 4720,C876               BH    @RF00334   MORE THAN ALLOWED
 REP 0F70 D505,6004,CF64          CLC   SCTDDNAM(6,CSIOTP),=C'SORTWK'
 REP 0F76 4780,C876               BE    @RF00334   DON'T ALLOW VIO
 REP 0F7A 07FE                    B     R14      RETURN - ALLOW VIO
 REP 0F7C 0020,0000               DC    F'2097152' MAXIMUN CORE FOR VIO
 REP 0F80 E2D6,D9E3,E6D2          DC    C'SORTWK'      SORT WORK FILE .
++ PTF (WC22012)  /* MOD TO CAUSE IEHPROGM TO USE THE UCATDX FORM
         OF CAMLST WHEN PROCESSING A DATA SET UNCATLG REQUEST.
         THIS CAUSES ALL UNECESSARY INDEX LEVELS TO BE DELETED . */ .
++ VER (Z037) PRE (UZ06176) .
++ ZAP (IEHPROG1) .
 NAME IEHPROGB
 VER 01A0 0C00
 REP 01A0 0C04
++ PTF (WC22013) /* MOD TO MAKE BUFNO=1 THE DEFAULT IF VIO USED */ .
++ VER (Z037) PRE (UZ81001) .
++ ZAP (IGG0196B) .
 NAME IGG0196B
 VER 00D8 9205,2014     OVLY      MVI   DCBBUFNO,GENDEF
 VER 025A 0000,0000     PATCH     DC    NF'0'
 REP 00D8 47F0,3258               B     PATCH
 REP 025A 9205,2014        PATCH  MVI   DCBBUFNO,GENDEF
 REP 025E 5810,B020               L     RF,DEBSUCBA
 REP 0262 9180,1000               TM    0(RF),UCBVRDEV  VIO ?
 REP 0266 47E0,30DA               BZ    OVLY+4      NO - RETURN
 REP 026A 9201,2014               MVI   DCBBUFNO,X'01'   DEFAULT
 REP 026E 47F0,30DA               B     OVLY+4   RETURN
++ PTF (WC22014) /* MOD TO ELIMINATE PCI IF VIO USED */ .
++ VER (Z037) PRE (UZ81001) .
++ ZAP (IGG0193I) .
 EXPAND IGG0193I(32)
 NAME IGG0193I
 VER 0026 58B0,202C
 VER 0082 4740,31B0                BM    A0181
 VER 009E 4710,31B0                BM    A0181
 VER 00B2 4740,31B0                BM    A0181
 VER 026A 0000,0000     PATCH     DC    NF'0'
 VER 0296 0000,0000     PATCHEND  DC    F'0'
 REP 0026 47F0,3268               B     PATCH
 REP 0082 47403274                 B     PATCH+12
 REP 009E 47103280                 B     PATCH+24
 REP 00B2 4740328C                 B     PATCH+36
 REP 026A 58B0,202C     PATCH     ZAPPED INST
 REP 026E 58A0,B020               L     R10,DEBUCBA
 REP 0272 47F0,3028               B     OVLY+4
 REP 0276 9180,A000      PATCH+12 TM    0(R10),UCBVRDEV
 REP 027A 47E0,31B0               BNO   A0181
 REP 027E 47F0,3084               B     OVLY+4
 REP 0282 9180,A000      PATCH+24 TM    0(R10),UCBVRDEV
 REP 0286 47E0,31B0               BNO   A0181
 REP 028A 47F0,30A0               B     OVLY+4
 REP 028E 9180,A000      PATCH+36 TM    0(R10),UCBVRDEV
 REP 0292 47E0,31B0               BNO   A0181
 REP 0296 47F0,30B4               B     OVLY+4
++ PTF (WC22015)  /* MOD TO IGC0001C FOR IMS/VS  */ .
++ VER (Z037) .
++ ZAP (IEAVTRML) .
 NAME IEAVTRML
 VER 00 0000,0000,0000,0000
 REP 00 C4C6,E2D4,D9C3,D3F0
++ PTF (WC22016) /* ZAP TO CAUSE TCAM TO BYPASS VALIDITY CHECKING
         OF CHARACTERS AND RELY ON TRANSLATION TABLE. THIS MOD IS
         NECESSARY TO SUPPORT THE TECTRONIX TRANSLATE TABLE */ .
++ VER (Z037) .
++ ZAP (IEDAYW) .
 NAME IEDAYW
 VER 0F60 4410
 REP 0F60 4700
 VER 0F6A 4770
 REP 0F6A 47F0
++ PTF (WC22017) /* TCAM TRANSLATION CSECT WHICH SUPPORTS THE
         TECTRONIX TERMINALS FOR THE NUMERICAL GEOMETRY SYSTEM */ .
++ VER (Z037) .
++ MOD (IEDQ22) DISTLIB (AOS21)
     LEPARM (NCAL,LIST,LET,XREF) .
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
END
++ PTF (WC22018) /* MODIFICATION TO IOS TCH ROUTINE TO CAUSE
               ROTATION OF PHYSICAL CHANNEL PATHS TO TAPE/DASD
               DEVICES. */ .
++ VER (Z037) PRE (UZ07494) .
++ UPDTE(IECXTCH) ASSEM(IEAASU00) DISTLIB(AMODGEN) .
./ CHANGE NAME=IECXTCH,LIST=ALL
         AGO   .CHGEND
.CHROT   ANOP
         DC    X'FF00'
         DC    X'0&CHANR(2).&CUR(2).&VARYR(2)'
         DC    X'0&CHANR(1).&CUR(1).&VARYR(1)'
         DC    X'FFFF'
.CHGEND  ANOP
++ ZAP (IECIOSAM) .
 NAME IECIOSCN
 VER 0478 58A0C010  LABEL ITCH010-12
 VER 14FC 00000000 IOSPATCH +4
 VER 1514 00000000  PATCHEND
 REP 0478 47F084FE  BR PATCH
 REP 14FC 58A0C010  LOAD CHANNEL TABLE
 REP 1500 91F0A005  TEST 'SW' FOR OPTCHAN AVAIL.
 REP 1504 4710547C  NOT ROTATEABLE, GO TO MAINLINE
 REP 1508 9701A005  XOR THE BIT
 REP 150C 4740547C  IF BIT A ON-XOR MADE ZERO DON'T INV.
 REP 1510 41A0A006  UPDATE PTR TO OTHER CHANNEL
 REP 1514 47F0547C  GO BACK TO MAINLINE
++ PTF (WC22023) /* CHANGE DEFAULT PAGE AND VIO SLOT GAURENTEE
                    VALUES FROM 1/4 TO 1/24. */ .
++ VER (Z037) SUP (WC22001) PRE (UZ80107) .
++ ZAP (ILRSLOTC) .
 NAME ILRSLOTC
 VER 0000 00000008
 REP 0000 00000018
 NAME ILRSLOTV
 VER 0000 00000004
 REP 0000 00000018
++ PTF (WC22025) /* MOD TO PUT THE ASID IN THE DISPLAY FOR A D A,L.
         THIS CHANGES THE OUTPUT FROM THE DISPLAY A,L COMMAND
         TO BE : JOBNAME STEPNAM PSTEPNM ASID V S
                 USERID ASID S USERID ASID S .......  */ .
++ VER (Z037) PRE (UZ81301) .
++ ZAP (IEECB800) .
 NAME IEECB800
*        THIS PART OF THE MOD TAKES CARE OF BATCH JOBS AND STARTS
 VER 0786 9504,5004               CLI   CHVCD(CSCBPTR),X'04'
 REP 0786 45E0,42B9               BAL   PATCH
 VER 1111 40E5,7ED9                     V=R
 REP 1111 4040,40D9                       R
 VER 1179 40E5,7EE5                     V=V
 REP 1179 4040,40E5                       V
 VER 12D0 4040,4040     PATCH     DC    XC' '
 VER 1306 4040,4040     PATCHEND  DC    C'    '
 REP 12D0 F342,42D9,501E          UNPK  WORK(5),CHASID(3) GET ASID
 REP 12D6 D403,42D9,42DF          NC    WORK(4),=4X'0F'
 REP 12DC DC03,42D9,42E3          TR    WORK(4),TABLE
 REP 12E2 D201,8021,42DB          MVC   WPLASID(2),WORK+2
 REP 12E8 9504,5004               CLI   ZAPPED INSTRUCTION
 REP 12EC 07FE                    B     BACK TO MAINLINE CODE
 REP 12F0 0000,0000,0000 WORK     DC    XL6'00'
 REP 12F6 0F0F,0F0F                     =4X'0F'
 REP 12FA F0F1,F2F3     TABLE     DC    C'0123456789ABCDEF'
 REP 12FE F4F5,F6F7
 REP 1302 F8F9,C1C2
 REP 1306 C3C4,C5C6
*        THIS PART OF THE MOD TAKES CARE OF TSO USERS
 VER 0FC8 0000,000A               DC    NUMBER OF CHAR FOR TSO USER
 REP 0FC8 0000,000D                     INCREASE FROM 10 TO 13
 VER 09BA 8B60,0002               SLA   ASCBENT,2 HOOK GOES HERE
 REP 09BA 45E0,42F3               BAL   PATCH
 VER 09DC 92E2,3008               MVI   TSSWPIND(TSNAMPTR),C'S'
 REP 09DC 92E2,300B               MVI   TSSWPIND(TSNAMPTR),C'S'
 VER 130A 4040,4040     PATCH     DC    XC' '
 VER 132E 4040,4040     PATCHEND  DC    C'    '
 REP 130A F342,42D9,501E          UNPK  WORK(5),CHASID(3) GET ASID
 REP 1310 D403,42D9,42DF          NC    WORK(4),=4X'0F'
 REP 1316 DC03,42D9,42E3          TR    WORK(4),TABLE
 REP 131C D201,3008,42DB          MVC   WPLASID(2),WORK+2
 REP 1322 8B60,0002               SLA   ASCBENT,2 ZAPPED INSTRUCTION
 REP 1326 07FE                    B     BACK TO MAINLINE CODE
*        NOW LIMIT NUMBER OF IDS ON ONE DISPLAY LINE.
 VER 09F0 4290,8001               STC @09,WPLMLLEN(,WPLPTR) HOOK HERE
 REP 09F0 45E0,4311               BAL   PATCH
 REP 1328 4290,8001               STC   ZAPPED INSTRUCTION
 REP 132C 41A0,0004               LA    @10,4 MAX ID ON ONE LINE
 REP 1330 07FE                    B     BACK TO MAINLINE
*        CLEAN UP CONSTANTS WE HAVE CHANGED
 VER 0668 5D00,BFB0               D     @00,@CF02785  ALSO USES CONST
 REP 0668 5D00,431D               D     @00,=F'10' MLWTOLIM SAME
 REP 1334 0000,000A     MUST STILL USE 10 FOR MLWTOLM VALUE
 VER 0FBC 0000,0006     @CF01212  DC    F'6'  NUMBER OF TS USERS/LINE
 REP 0FBC 0000,0004     @CF01212  DC    F'4'  NUMBER OF TS USERS/LINE
 VER 0FE4 FFFF,FFFB     @CF03022  DC    F'-5'  USED IN CALCULATING
 REP 0FE4 FFFF,FFFD     @CF03022  DC    F'-3'  NUMBER OF LINES FOR TS
++ PTF (WC22026) /* CHANGE THE DEFAULT TSO ALLOCATION DISP TO SHR */ .
++ VER (Z037) .
++ ZAP (IKJEFD30) .
 NAME IKJEFD30
 VER 021A D201,A00C,C41E
 REP 021A 9202,A00D,0700
++ PTF (WC22027) /* DON'T ISSUE THE 'DATA SET NOT FREED' MESSAGE */ .
++ VER (Z037) .
++ ZAP (IKJEFD20) .
 NAME IKJEFD20
 VER 06B4 90EC,B13C
 REP 06B4 07FE,0700
++ PTF (WC22028) /* MOD TO ALLOW UNRECEIVED PASSED DATASETS TO BE
         CATALOGED OR UNCATLGED (DISPOSITION PROCESSING) BY JOB
         TERMINATION. THIS IS DONE BY USING THE OS CVOL CATALOG
         NAMING CONVENTION OF SYSCTLG.VOLSER AND USING THE CATALOG
         NAME TO DETERMINE WHAT VOLUME IT IS ON RATHER THAN OBTAINING
         IT FROM A PCCB. THIS RESTRICTS THE NAMES WHICH CAN BE USED FOR
         OS CVOL CATALOGS AND USER CATALOGS. THIS MOD ALSO PRECLUDES
         THE USE OF 'NON STANDARD' USER CATALOGS SINCE THE CATALOG
         OBTAINED MAY NOT BE THE ONE IN WHICH THE USER INTENDED
         TO CATALOG THE DATA SET (VIA A STEPCAT OR JOBCAT) . */ .
++ VER (Z037) PRE (UZ07356) .
++ ZAP (IGG0CLCA) .
 NAME IGG0CLCA
 VER 0140 47F0,B346               B     @RC00151 VER OUR EXIT ADDRESS
 VER 013A D205,C24C,2074          MVC   WKCVOLVS(6),PCVOLSER VER WKCVOL
 VER 04E4 D52B,C1F4,F01C          CLC   WKCATNM(44),PCCDSNAM  VER CATLG
 VER 0158 D203,C184,2000          MVC   @TS00001(4),CAMOPTNS TO BE
 VER 015E D403,C184,A918          NC    @TS00001(4),OSLOCMSK  OVERLAYED
 REP 0158 D205,C24C,C1FD          MVC   WKCVOLVS(6),WKCATNAM+9
 REP 015E 47F0,B346               B     @RC00151    GO ON AS ALLOCATED
++ PTF (WC22031) /* AMDPRECT TO SUPPORT THE AMDPRDMP EXITS */ .
++ VER (Z037) .
++ MOD (AMDPRECT) DISTLIB(AOS12) .
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
END
++ PTF (WC22034) /*            JES2 LOCAL MODIFICATIONS :
         THIS PTF WILL BE USED TO APPLY ALL JES2 LOCAL MODIFICATIONS.
         WHEN A NEW MOD IS ADDED IT WILL BE ADDED TO THIS PACKAGE,
         THE CURRENT PTF IDENTIFIER WILL BE ADDED TO THE SUP LIST,
         AND THE NEW MOD ID WILL BECOME THIS PACKAGES IDETIFIER .
         THIS PTF CURRENTLY INCLUDES:

         WC22029 - ANY JOB PRINTING MORE THAN 10,000 LINES WILL WRITE
                   A MESSAGE TO THE OPERATOR WITH THE NUMBER OF LINES
                   THAT THE JOB WILL PRINT.
         WC22034 - JES2 WILL IGNORE ESTIMATED LINE COUNT IN DETERMINING
                   PRIORITY IN THE INPUT QUEUE.
                                                                   */ .
++ VER (Z037)      SUP (WC22029) PRE (UZ80300) .
++ UPDTE (HASPPTF)  DISTLIB(AOSH2) .
./ CHANGE NAME=HASPPTF,LIST=ALL
         CLC   JCTLINES,=F'10000'  MORE THAN 10,000 LINES       WC22029
         BL    PNOMSG              NO, SKIP MESSAGE             WC22029
         L     R1,JCTLINES         CONVERT LINES                WC22029
         CVD   R1,PCCWORK          TO DECIMAL                   WC22029
         MVC   PMESSAGE(L'PRTHIVOL),PRTHIVOL  MOVE TEST TO MSG  WC22029
         ED    PMESSAGE+12(8),PCCWORK+4  LINE COUNT TO EBCDIC   WC22029
        $WTO   PMESSAGE,L'PRTHIVOL,ROUTE=$LOG+$MAIN+$UR         WC22029
PNOMSG   DS    0H                                               WC22029
PRTHIVOL DC 0CL26'0',X'999F',C'WILL PRINT ',X'20202020202120',C' LINES'
         LR    RW,R0          PUT TIME REL PRIOIN RW            WC22034
         B     RPRISET        BRANCH AROUND LINES COMPUT.       WC22034
++ PTF (WC22035) /* CHANGE THE NUMBER OF DEVICES THAT A D U DISPLAYS
         FROM 100 TO 1 */ .
++ VER (Z037) .
++ ZAP (IEE20110) .
 NAME IEE20110
 VER 00E0 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
 VER 0114 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
 VER 0148 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
 VER 018A 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
 REP 00E0 9201,C085               MVI   NODIVICES+ONE,X'01'
 REP 0114 9201,C085               MVI   NODIVICES+ONE,X'01'
 REP 0148 9201,C085               MVI   NODIVICES+ONE,X'01'
 REP 018A 9201,C085               MVI   NODIVICES+ONE,X'01'
++ PTF (WC22036) /* CHANGE NUMBER OF LINES PER PAGE IN DUMP TO 80 */ .
++ VER (Z037) PRE (UZ06202) .
++ ZAP (IEAVAD01) .
 NAME IEAVAD01
 VER 02F8 9238210F
 VER 0C6A 9238210F
 VER 0CDC 9238210F
 REP 02F8 9250210F
 REP 0C6A 9250210F
 REP 0CDC 9250210F
++ PTF (WC22041) /* MODS TO SUPPORT TSO PAPER TAPE READER */.
++ VER (Z037) PRE(UZ07180) .
++ ZAP (IEDAYM) .
 EXPAND IEDAYM(100)
 NAME IEDAYM
 VER 0004 47F0C174           B AYM005
 VER 020A 5860D290  AYM160+22 L R6,AVTMSGS-1    (VERIFY)
 VER 0DC6 00000000
 VER 0E1C 00000000
 REP 0004 47F0CDC6           B TO PATCH
 REP 0DC6 91024047    PATCH
 REP 0DCA 4780CE1C
 REP 0DCE 1861
 REP 0DD0 4810401A
 REP 0DD4 5410D284
 REP 0DD8 58F0D160
 REP 0DDC 05EF
 REP 0DDE 58501000
 REP 0DE2 1816
 REP 0DE4 91805024
 REP 0DE8 4780CE1C
 REP 0DEC 4850501E
 REP 0DF0 58600010
 REP 0DF4 5866022C
 REP 0DF8 41660210
 REP 0DFC 0650
 REP 0DFE 89500002
 REP 0E02 1A65
 REP 0E04 58606000
 REP 0E08 5866003C
 REP 0E0C 955B6038
 REP 0E10 4770CE1C
 REP 0E14 50104050
 REP 0E18 47F0C20A           B AYM160+22
 REP 0E1C 47F0C174           B AYM005
++ZAP (IEDQKA) .
 NAME  IEDQKA01
 VER 10D0 010B
 REP 10D0 0311
++ZAP (IGG0940G) .
 NAME  IGG0940G
 VER 0012 4780
 REP 0012 4700
++ PTF (WC22042) /* MOD TO SYSGEN MACROS SGIEA2D2/3 TO PREDEFINE PFK
    # 12 FOR ALL OPERATOR CONSOLES. THIS IS TH 'ROLL-MODE' KEY. */ .
++ VER (Z037) .
++ UPDTE (SGIEA2D2) DISTLIB (AGENLIB) .
./ CHANGE NAME=SGIEA2D2,LIST=ALL
         AIF   ((&J+1) LT &PFKLIM(&I)).KEYLOOP
         PUNCH '         DC    FL1''&J'''
         PUNCH '         DC    X''80'''
 PUNCH '         DC    CL09''K A,NONE;'''
 PUNCH '         DC    CL08''K D,PFK;'''
 PUNCH '         DC    CL32''K S,DEL=R,SEG=19,CON=N,RTME=001;'''
 PUNCH '         DC    CL13''MN JOBNAMES,T'''
 PUNCH '         DC    CL46'' '''
++ UPDTE (SGIEA2D3) DISTLIB (AGENLIB) .
./ CHANGE NAME=SGIEA2D3,LIST=ALL
         AIF   ((&J+1) LT &PFKLIM(&I)).KEYLOOP
         PUNCH '         DC    FL1''&J'''
         PUNCH '         DC    X''80'''
 PUNCH '         DC    CL09''K A,NONE;'''
 PUNCH '         DC    CL08''K D,PFK;'''
 PUNCH '         DC    CL32''K S,DEL=R,SEG=19,CON=N,RTME=001;'''
 PUNCH '         DC    CL13''MN JOBNAMES,T'''
 PUNCH '         DC    CL46'' '''
++ PTF (WC22043) /* ZAP TO FIX 0C4 IN 'LOGDATA' AMDPRDMP EXIT. */ .
++ VER (Z037) PRE (UZ81702) .
++ ZAP (AMDPRUIM) .
 NAME AMDPRUIM
 VER 028C 1FCC
 VER 0448 1FCC
 REP 028C 0700
 REP 0448 0700
++ PTF (WC22046) /* MOD TO MAKE PROFILE OF WTP IN EFFECT FOR ALL
         TSO USERS (BYPASS CHECK IF WTP BIT IS ON) */ .
++ VER (Z037) .
++ ZAP (IGC0203E) .
 NAME IGC0203E
 VER 020E 4780,B214
 VER 021A 47E0,B214
 REP 020E 4700,B214
 REP 021A 4700,B214
++ PTF (WC22047) /* INCREASE THE FETCH BUFFER SIZE TO 24K */ .
++ VER (Z037) PRE (UZ05723) .
++ ZAP (IEWFETCH) DISTLIB (ALPALIB) .
 NAME IEWFETCH
 VER 0C64 0000,4800   FXLIMTM DC F'18432'
 VER 1560 0000,4800  FIXLIMIT DC F'18432'
 REP 0C64 0000,6000
 REP 1560 0000,6000
++ PTF (WC22048) /* NOT REALY NECESSARY TO DO VALIDITY CHECK ON SMF.
             ON SMF. THIS ZAP TURNS OFF THE OPTCD=W BIT FOR
             THE SMF DCBS TO REDUCE THE I/O LOAD TO THESE
             DATA SETS. */ .
++ VER (Z037) PRE (UZ04674) .
++ ZAP (IEEMB822) .
 NAME IEEMB822
 VER 03B4 E2D4C6D4,C1D5E740
 VER 03C0 80000001
 VER 041C 80000001
 REP 03C0 00
 REP 041C 00
++ PTF (WC22051) /* BYPASS PAGEFIX/PAGEFREE IN IOHALT IF FIXED. */ .
++ VER (Z037) PRE (UZ03841,UZ05750) .
++ ZAP (IGC0003C) DISTLIB (ALPALIB) .
 NAME IGC0003C
 VER 0082 1891,1BBB
 VER 0244 47F0624E
 VER 09B4 00000000,00000000,00000000,00000000
 VER 09C4 00000000,00000000,00000000,00000000
 REP 0082 45A069B2                 B     PATCH
 REP 0244 47F069C2                B     PATCH2
 REP 09B4 1891          PATCH      OVERLAYED INSTRUCTIONS
 REP 09B6 1BBB                     ''
 REP 09B8 BD673081           COMPARE BASE TO CVTNUCB - FIXED ?
 REP 09BC 474060B6           YES - BYPASS PAGEFIX
 REP 09C0 07FA               NO - GO ISSUE PAGEFIX
 REP 09C4 BD673081    PATCH2 COMPARE BASE TO CVTNUCB - FIXED ?
 REP 09C8 4740625A           YES - BYPASS PAGEFREE
 REP 09CC 47F0624E           NO - ISSUE PAGEFREE
++ PTF (WC22052) /*  FIX TO THE FULLSCR MACRO */ .
++ VER (Z037) .
++ UPDTE (FULLSCR) DISTLIB(ATCAMMAC) .
./ CHANGE NAME=FULLSCR,LIST=ALL
&NAME    FULLSCR &TRIGGER=X'6E',&LCOUNT=X'00',&CARRIER=X'00'
++ PTF(WC22054) /* MOD TO BYPASS BLDL VERIFY OF TSO EDIT SUBCMDS.
         THIS ALLOWS SYS1.CMDLIB TO BE REMOVED FROM LNKLST00 IF
         ALL TSO COMMANDS HAVE BEEN MOVED TO SYS1.LPALIB. */ .
++ VER (Z037) .
++ ZAP (IKJEBECI) .
 NAME IKJEBECI
 VER 01FC 0A12          BLDL SVC
 REP 01FC 18FF          SR    15,15
 VER 035C 9280          SET DE BIT IN ATTACH
 REP 035C 9200          DON'T SET DE BIT IN ATTACH
++ PTF (WC22057) /* MOD TO ALLOW ALL SYSTEM COMMANDS TO BE USED
         AS SUBCOMMANDS OF THE OPERATOR COMMAND. THERE IS CURRENTLY
         ONE PROBLEM WITH THIS MODIFICATION - THE END SUBCOMMAND
         WILL SOMETIMES ABEND AND ONE MUST EXIT OPERATOR VIA AN
         ATTN INTERUPT. THIS DOES NOT SEEM TO OCCUR WHEN UNDER TEST
         AND IS RATHER MINOR SO IT HAS NOT REALLY BEEN LOOKED INTO.
         ALSO IN THIS MOD IS THE SUPPORT FOR AN ABREVIATION OF THE
         QUIESCE COMMAND. IT IS SOMETIMES NECESSARY TO QUIESCE
         IMMEDIATELY (SUCH AS WHEN TCAM OR JES GETS LOSE WITH AN
         IO ERROR AND STARTS GENERATING MESSAGES AT MACHINE SPEED).
         THE ABREVIATION IS 'Q' AND WILL HELP ILLITERATE OPERATORS
         AND SYSTEM PROGRAMMERS USING THE QUIESCE COMMAND. */ .
++ VER (Z037) PRE (UZ05091) SUP(WC22011) .
++ ZAP (IKJEE100) .
 NAME IKJEE100
 VER 0406 4770,85E4               B     ERROR MESSAGE
 VER 0416 58A0,C0F0               CHECK WHERE WE ARE GOING
 VER 09BC 0660          NOP OUT THE BCTR TO KEEP OPERAND-LESS COMMANDS
 REP 0406 4770,83F6               GO ISSUE WTO AND SVC 34
 REP 09BC 0700          FROM WIPING OUT OUR WORK AREA BY TRANS FF BYTES
++ ZAP (IKJEFF00) .
 NAME IKJEFF00
 VER 0400 4780,C408               BE    @RT00282     (CMDVALID)
 REP 0400 47F0,C408               B     @RT00282     (CMDVALID)
 VER 044C 4780,C440               BE    @RT00295
 VER 048E 4780,C5A8               CHECK BRANCH ADDRESS FOR SVC34
 REP 044C 47F0,C5A8               B     SVC34
++ ZAP (IEE0403D) .
 EXPAND IEE0403D(16)
 NAME IEE0403D
*        THIS IS A NEW ZAP TO ALLOW JES2 COMMANDS TO BE ACCEPTED
*        FROM TSO OPERATOR MODE.  IT PASSES THE COMMAND TO JES2
*        AS THOUGH IT CAME FROM CONSOLE ID 00 (SYSLOG CONSOLE)
 VER 0088 50A0,3010               ST    REG10,SSOBINDV    PUT HOOK HERE
 REP 0088 45E0,C54E               BAL   R14,PATCH
 VER 0550 0000,0000     PATCH     DC    F'0'
 VER 0594 0000,0000     PATCHEND  DC    F'0'
 REP 0550 50A0,3010     PATCH     ST    REG10,SSOBINDV  ZAPPED INST.
 REP 0554 9180,301C               TM    SSCMSCID,X'80' COMMAND FROM A
 REP 0558 071E                    BOR   R14  READER - YES - RETURN
 REP 055A 9180,301E               TM    SSCMSCID+2,X'80' FROM TSO?
 REP 055E 078E                    BZR   R14    NO - MUST BE CONSOLE
 REP 0560 D203,301C,C566          MVC   SSCMSCID(4),=X'00000000' FAKE
 REP 0566 07FE                    BR    R14        RETURN
 REP 0568 0000,0000               DC    =X'00000000' FAKE INTERNAL
*        THIS PART OF THE ZAP ADDS A QUIESCE COMMAND ABREVIATION
 VER 0190 4780,C1EE               BZ    XERR     NOT A VALID COMMAND
 REP 0190 4780,C56A               BZ    PATCH2
 REP 056C 95FF,B001     PATCH2    CLI   1(REG11),X'FF' HERE BEFORE ?
 REP 0570 4780,C1EE               BE    XERR    YES - NOT VALID
 REP 0574 41B0,C584               LA    REG11,QUIESCE2
 REP 0578 4360,B000               IC    REG6,VERBLEN
 REP 057C 146D                    NR    REG6,REG13   CLEAR HIGH BITS
 REP 057E 5BF0,C592               S     R15,=F'44' RESET VCON POINTER
 REP 0582 47F0,C192               B     MAINLINE
 REP 0586 876080        QUIESCE2  DC    X'876080'    FLAGS
 REP 0589 D8E4,C9C5,E2C3,C5       DC    C'QUIESCE'
 REP 0590 D8                      DC    C'Q'
 REP 0591 00FF                    DC    X'00FF'       END OF LIST
 REP 0594 0000,002C               DC    F'44'     VCON POINTER RESET
++ PTF (WC22058) /* UPDATE EXPDT AT OPEN TIME FOR DASD DATA SETS.
         PUT IN THE CURRENT DATE IF THE ONE THERE NOW IS NOT
         GREATER OR EQUAL.  SUPPORTS DATA SET ARCHIVAL PROGRAM. */ .
++ VER (Z037) PRE(UZ04610) SUP(WC22005) .
++ ZAP (IFG0196W) TALIAS (IGG0190S) .
 EXPAND IFG0196W(96)
 NAME IFG0196W
 VER 0068 41E0,0004          LA    RET,K4          HOOK TO GO HERE
 VER 04D6 04D8                     CURRENT MODULE LENGTH
 VER 04D8 0000,0000                PATCH AREA
 REP 0068 47F0,34DA          B     PATCH+4
 REP 04D6 0536                     NEW MODULE LENGTH
 REP 04D8 0099,366F      IPLDATE   DUMMY DATE USED DURING IPL
 REP 04DC 95F1,4000          CLI   DSCFMTID,X'F1'  FORMAT 1 DSCB ?
 REP 04E0 4770,3526          BNE   END             NO - DO NOTHING
 REP 04E4 58E0,0010          L     RE,CVTPTR       GET CVT ADDRESS
 REP 04E8 D502,34D7,E039     CLC   IPLDATE(3),CVTDATE  IPL IN PROGRESS?
 REP 04EE 4780,3526          BE    END             YES - DO NOTHING
 REP 04F2 D707,41A8,41A8     XC    DXREGSAV(8),DXREGSAV  CLEAR WORK
 REP 04F8 D201,41AE,E03A     MVC   DXREGSAV+6(2),CVTDAY  GET CURRENT DAY
 REP 04FE 4FF0,41A8          CVB   R15,DXREGSAV    CONVERT DAY TO BIN
 REP 0502 40F0,41B2          STH   R15,DXREGSAV+10 SAVE CURRENT BIN DAY
++ PTF (WC22059) /* MOD TO PROVIDE CPUID IN IO ERROR MESSAGES */ .
++ VER (Z037) PRE (UZ05095) .
++ ZAP (IGE0025C) DISTLIB (ALPALIB) .
 NAME IGE0025C
 VER 094A F321               UNPACK HOURS
 VER 0950 F321               UNPACK MIN
 VER 0956 F321               UNPACK SECONDS
 REP 094A D206,8000,9D6A     CPUID = 0X
 REP 0950 D200,8007,201B     EWACPU FIELD
 REP 0956 96F0,8007          PRINTABLE CPU #
 REP 095A 0700
 REP 095C 4700
 REP 0960 4700
 REP 0D84 C3D7,E4C9,C47E,F000                'WTOPATCH'
++ PTF(WC22060) /*  ALLOWS ALL D/A VOLUMES THAT ARE ONLINE AT
         IPL TIME AND NOT IN THE VATLST TO BE MOUNTED AS RESERVED */ .
++ VER (Z037) .
++ ZAP (IEAVAP00) .
 EXPAND IEAVAP00(60)
 NAME IEAVAP00
 VER 0090 4770C09E
 VER 4160 00000000,00000000,00000000,00000000
 VER 4170 00000000,00000000,00000000,00000000,00000000
 REP 0090 47704148       BR. TO PATCH AREA
 REP 4160 9104A003       IS IT PERM. RESIDENT
 REP 4164 47104160       YES, MAKE PRIVATE (BR TO 4178)
 REP 4168 9120A003       IS IT RESERVED
 REP 416C 47104160       YES MAKE PRIVATE (BR TO 4178)
 REP 4170 94DBA003       RESET RESERVED AND RESIDENT BITS
 REP 4174 9620A003       TURN ON RESERVED BIT
 REP 4178 94E3A022       RESET PRIVATE, PUBLIC, & STORAGE BITS
 REP 417C 9610A022       TURN ON PRIVATE BIT
 REP 4180 47F0C09E       BACK TO INLINE CODE
++ PTF(WC22061) /* SET ROLL MODE ON GRAPHICS CONSOLE AUTOMATICALLY */.
++ VER (Z037) .
++ ZAP (IEECVETC) .
 EXPAND IEECVETC(72)
 NAME IEECVETC
*        THIS MODIFICATION WILL CAUSE PFK 12 TO BE EXECUTED
*        AUTOMATICALLY ON ALL 3277 TYPE CONSOLES. MODIFICATION
*        WC22042 PREDEFINES THIS KEY SO IT PUTS THE CONSOLE
*        IN AUTOMATIC ROLL MODE WITH NO STATIC DISPLAY AREA.
 VER 01D4 96E09122
 VER 03A0 00000000,00000000,00000000,00000000
 VER 03B0 00000000,00000000,00000000,00000000
 REP 01D4 47F0C39E
 REP 03A0 96309122           ZAPPED INSTRUCTION
 REP 03A4 95109131           IS THIS A 3277
 REP 03A8 4770C1D6           NO - RETURN
 REP 03AC 927C9058           INDICATE PFK NUMBER
 REP 03B0 96089123           SET DCMPFKAT SWITCH
 REP 03B4 58F09164           GET PFK ROUTINE ADDRESS
 REP 03B8 58109050           CXSA ADDRESS
 REP 03BC 07FF               AND AWAY WE GO
++ PTF (WC22062) /* MOD TO INCREASE IEALIMIT TO 128K. */ .
++ VER (Z037) .
++ ZAP (IEAVPRT0) .
 NAME IEALIMIT
 VER 0018 0001,0000          ADD 64K TO EFFECTIVE REGION
 REP 0018 0002,0000          ADD 128K TO EFFECTIVE REGION
++ PTF (WC22063)  /* MOD TO SUPPORT F TCAM,TS=XXX (NEW MAXUSER) */ .
++ VER (Z037) SUP(AZ08014) .
++ ZAP (IEDAY1) .
 NAME IEDAY1
 VER 07BA 4100,0012
 REP 07BA 47F0,CC9A
 VER 0C9C 0000,0000,0000,0000,0000,0000,0000,0000
 REP 0C9C 4100,0012,95F0,3001,4740,C7BC,0650,0650,4450,CCD8,4F80,CCE6
 REP 0CB4 5840,0010,5840,40F0,5840,4024,1244,4780,C7BC,B20B,0000
 REP 0CCA B20A,0060,4080,400A,B20A,2000,47F0,C792,F270,CCE6,3001
 VER 0CE0 0000,0000,0000,0000,0000,0000
++ PTF (WC22064) /* ZAP TO ALLOW IEBCOPY AND IEHMOVE IN FORGROUND */ .
++ VER (Z037) PRE (UZ81300) .
++ ZAP (IKJEFTE8) .
 NAME IKJEFTE8
 VER 0010 4040404040404040
 VER 0018 4040404040404040
 REP 0010 C9C5C2C3D6D7E840        DC    CL8'IEBCOPY '
 REP 0018 C9C5C8D4D6E5C540        DC    CL8'IEHMOVE '
++ PTF (WC22066) /* MOD TO ALLOW TSO OUTPUT CMD. FOR ANY JOBNAME */ .
++ VER (Z037) .
++ ZAP (IKJEFF53) .
 NAME IKJEFF53
 VER 009C 4770,C12E               BNE   @RF00039
 REP 009C 47F0,C12E               B     @RF00039
++ PTF (WC22067) /* SET PRIVATE AREAS HIGH WATER MARK FROM 8 TO 3 MEGS
        MAKES IT POSSIBLE TO SPECIFY A LARGER CSA */ .
++ VER (Z037) .
++ ZAP (IEAVNIP0) .
 NAME IEAVNIP0
 VER 2E5C 00800000 HIGH WATER MARK 8 MEGS
 REP 2E5C 00300000 HIGH WATER MARK 3 MEGS
++ ZAP (IEAVNP08) .
 NAME IEAVNP08
 VER 03A2 4740C380
 REP 03A2 47F0C380  ALLOWS REQUESTS GREATER THAN 8 MEGS
++PTF (WC22068) /* REMOVE BLDL FROM TSO TEST SUB CMDS
                ALLOWING COMMANDS TO BE PLACED INTO LPALIB */ .
++ VER (Z037) .
++ ZAP (IKJEGCIV) .
 NAME IKJEGCIV
 VER F0 4100A010
 VER F4 0A12      BLDL
 REP F4 1BFF    SR R15,R15
++ PTF (WC22070) /* THIS MODIFICATION ALLOWS THE WTO USER EXIT
         (IEECVXIT) TO BE GIVEN CONTROL FOR ALL MESSAGES. */ .
++ VER (Z037) PRE (UZ07018) .
++ ZAP (IEAVVWTO) .
 NAME IEAVVWTO
 VER 030C 47E0
 REP 030C 47F0
++PTF (WC22071)  /* BYPASS SDUMP ON 13E ABEND */ .
++ VER (Z037) .
++ ZAP (IKJCT460) .
 NAME IKJCT460
 VER 00EE 4770C0E6                 BNE @RF00060
 REP 00EE 4770C352                 BNE PATCH60
 VER 0368 E9C1D7F6F0E9C1D7F6F0E9C1D7F6F0E9   ZAP60...
 REP 0368 13E0           PATCH60   DC X'13E0'
 REP 036A D5016019C350             CLC SYSCODE(2,@06),PATCH60
 REP 0370 4770C0E6                 BNE @RF00060
 REP 0374 47F0C0DA                 B   @RT00060

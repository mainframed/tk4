1
0
0
0
0
0
0
0
0
0
0
0
0
                            P R I N T

                            D U M P

                            E X I T S

1                                                            PAGE 00
0
                               C O N T E N T S
0
 SAMPLE JCL                                                01
0
 IOSDATA   CONTROL STATEMENT                               01
0
 LOGDATA   CONTROL STATEMENT                               01
0
 PRINT     CONTROL STATEMENT                               02
0
 RSMDATA   CONTROL STATEMENT                               03
0
 SRMDATA   CONTROL STATEMENT                               03
0
 TRCDATA   CONTROL STATEMENT                               03
0
 VTAM DATA CONTROL STATEMENT                               04
0
 PRDMP USER EXIT FACILITY     (SEE APPENDIX C IN OS/VS2 SERVICE AIDS BOO
0
1                                                          PAGE 01

         THERE ARE SEVEN PRINT/DUMP EXITS THAT INTERFACE WITH THE
         SERVICE AID PROGRAM AMDPRDMP TO FORMAT, DUMP, AND
         ANALYZE CERTAIN SYSTEM FUNCTIONS.

         THESE EXITS ARE: IOSDATA, LOGDATA, PRINT, RSMDATA,
         SRMDATA, TRCDATA, AND VTAMDATA. THEY RESIDE ON FILE 58 OF
         THIS TAPE. THIS IEBCOPY FILE ALSO CONTAINS THE AMDPRDMP MODULE
         AND THE EXIT INTERFACE MODULE AMDPRECT.

         SAMPLE JCL TO PROCESS AN EXIT.

         //STEP00   EXEC  PGM=AMDPRDMP
         //STEPLIB  DD    DSN=YOUR.LIB,DISP=SHR
         //TAPE     DD    DESCRIBE DUMP IN A SEQUENTIAL DATA SET
         //SYSUT1   DD    UNIT=SYSDA,SPACE=(4104,(1000,10))
         //PRINTER  DD    SYSOUT=A
         //SYSIN    DD    *
           IOSDATA
         /*

         IOSDATA CONTROL STATEMENT

         THIS EXIT WILL DUMP THE FOLLOWING CONTROL BLOCKS AND QUEUES IN

         UCB'S - ALL UCBS ARE DUMPED
         IOS COMMUNICATION AREA
         LOGICAL CHANNEL QUEUES
         IO QUEUES AND ASSOCIATED IOSBS
         PCCA
         LCCA

         LOGDATA CONTROL STATEMENT

         THIS EXIT PROVIDES STANDARD EREP OUTPUT FOR LOGREC RECORDS
         PRESENT IN THE 'IN CORE' LOGREC BUFFER PROVIDED THE DUMP CONTAI
         THE 'IN CORE' BUFFER AND NECESSARY SYSTEM CONTROL BLOCKS TO LOC
         AND PROCESS THE BUFFER.

1                                                          PAGE 02
0
0
         A SIDE ADVANTAGE OF THIS EXIT IS THAT DUMP AND LOGREC ARE
         INSEPARABLE AND RECORDS WHICH ARE NOT WRITTEN TO LOGREC
         PRIOR TO THE SYSTEM FAILURE MAY BE OBTAINED FROM THE
         STAND-ALONE-DUMP TAKEN AT THE END OF THE IPL.

         SYNTAX

          LOGDATA

          LOGDATA SPOTCHECK

          LOGDATA INCLUDE (T1, T2.....)

          LOGDATA EXCLUDE (T1, T2.....)

          LOGDATA RECORD (NNNN)

          TN=SOFT, IPL, MIH, MDR, MCH, OBR, EOD, CCH, DDR.

          NNNN=RELATIVE RECORD NUMBER FROM THE START OF THE BUFFER
               (AVAILABLE FROM SPOTCHECK).


         PRINT CONTROL STATEMENT

         THIS EXIT ALLOWS YOU TO USE SYMBOLIC ASIDS WITHIN THE ASID
         KEYWORD AND SYMBOLIC ADDRESSES WITHIN THE ADDRESS RANGE PART OF
         THE STORAGE KEYWORD IF THE ASID KEYWORD HAS BEEN SPECIFIED
         AS PART OF THE STORAGE KEYWORD.

         EXAMPLE

         PRINT STORAGE=ASID(CPU0)=(PVTBGN,PVTEND)

         SUPPORTED SYMBOLIC ASIDS ARE.

         CPU0 CURRENT ADDRESS SPACE ON CPU 0
         CPU1 CURRENT ADDRESS SPACE ON CPU 1
         TCAM TCAM ADDRESS SPACE
         VTAM VTAM ADDRESS SPACE
         JES2 JES2 ADDRESS SPACE (HASP)
         JES3 JES3 ADDRESS SPACE (ASP)

         SUPPORTED SYMBOLIC ADDRESSES ARE.

         PVTBGN STARTING ADDRESS OF THE PRIVATE AREA
         PVTEND ENDING ADDRESS OF THE PRIVATE AREA

1
                                                           PAGE 03
0
         RSMDATA CONTROL STATEMENT

         THIS EXIT DUMPS THE FOLLOWING CONTROL BLOCKS AND QUEUES.

         PAGE VECTOR TABLE
         PAGE FRAME TABLE
         AVAILABLE QUEUE OF PFT ENTRIES
         COMMON QUEUE OF PFT ENTRIES
         SQA QUEUE OF PFT ENTRIES
         SQA RESERVE QUEUE OF PFT ENTRIES
         PAGE CONTROL BLOCK FREE QUEUE
         GLOBAL FRAME AREA PCB DEFER QUEUE

         AND FOR EACH ADDRESS SPACE.

         RSM HEADER
         SWAP COMMUNICATION TABLE AND EXTENTIONS
         ROOT PCB FOR SWAP
         LOCAL FRAME QUEUE
         LSQA FRAME QUEUE
         LOCAL I/O QUEUE


         SRMDATA CONTROL STATEMENT

         THIS EXIT DUMPS THE FOLLOWING QUEUES AND CONTROL BLOCKS

         SRM    CONSTANTS AREA
         OUCB   QUEUES
         ASCB   ASSOCIATED WITH THE OUCB
         TMQE - TIMED QUEUE ELEMENT
         WTQE - WAIT QUEUE ELEMENT (OUCBS WAITING BUT NOT READY)
         OTQE - OUT QUEUE (READY OUCBS SWAPPED OUT)
         INQE - IN QUEUE (OUCBS READY AND SWAPPED IN)
         AQQE - TIMED ACTION QUEUE NEWLY READY TSO OUCBS
                ALSO CALLED 'TRIVIAL QUEUE'

         TRCDATA CONTROL STATEMENT

         THIS EXIT DUMPS THE OS TRACE TABLE IN THE ORDER OF OLDEST ENTRY
         FIRST WITH ENGLISH HIGHLIGHTING CHARACTER STRINGS FOR UNUSUAL O
         ERROR TYPE CONDITIONS E.G. PCI. THE CURRENT HIGHLIGHTED
         CONDITIONS ARE.

         ENTRY CODE 0 (SIO)
         A) BAD SIO IF SIO CONDITION CODE = 2 OR 3
         B) FOR CONDITION CODE=1
              1. INITIALLY SET TO 'BAD SIO'
              2. MAY BE OVERRIDDEN TO
1
                                                           PAGE 04
                   A) CH AVL
                   B) LOG OUT PD
                   C) DFR SIO CC
                   D) ATTN
                   E) PCI
                   F) I/O ERROR
                   G) CU BUSY

         ENTRY CODE 1 (EXTERNAL INTERRUPT)

                   A) MFA --ACR-INTERRUPT CODE 1200
                   B) EXT INT KEY - INTERRUPT CODE 040

         ENTRY CODE 2 (SVC INTERRUPT)

                   A) ABEND UNLESS CASE B) APPLIES
                   B) NORM EOT

         ENTRY CODE 3 (PROGRAM CHECK INTERRUPT)

                   A) PGM CHK EXCEPT FOR CODE 0011 AND 0040

         ENTRY CODE 4 (I/O INTERRUPT) DEPENDING ON
         CSW STATUS.

                   A) CH AVL
                   B) LOG OUT PD
                   C) DFR SIO CC
                   D) ATTN
                   E) PCI
                   F) I/O ERROR
                   G) CU BUSY

         FOR ALL ENTRIES KNOWN TO HAVE A TIME STAMP, A CHECK IS MADE
         FOR MORE THAN TWO SECONDS BETWEEN CONSECUTIVE TRACE TABLE
         ENTRIES. IF MORE THAT TWO SECONDS HAVE ELAPSED, THEN THE
         ENTRY IS INITIALLY IDENTIFIED WITH TIME GAP.  IF FURTHER ANALYS
         INDICATES MORE IMPORTANT INFORMATION IS AVAILABLE, TIME GAP IS
         OVERRIDDEN.


         VTAMDATA CONTROL STATEMENT

         THIS EXIT DUMPS THE FOLLOWING QUEUES AND CONTROL BLOCKS IN
         VTAM STORAGE

         ATCCVT    VTAM COMMUNICATIONS VECTOR TABLE
         ISTBPD    BUFFER POOL DIRECTORY
         ISTBPCB   BUFFER POOL CONTROL BLOCK CHAIN
         ISTCNF    CONFIGURATION TABLE

1
                                                           PAGE 05
0
0
         ISTRDTE
         & NCB     RESOURCE DEFINITION TABLE ENTRY AND ASSOCIATED
                   NETWORK CONTROL BLOCKS.
         ISTMPLT   MEMORY PROCESS LIST TABLE
         ISTMPST   MEMORY PROCESS STATUS TABLE
         ISTDCE    DEB CONTROL EXTENT
         ISTACDEB  AC DATA EXTENT BLOCK
         ISTPST    PROCESS STATUS TABLE
         ISTEFMCB  FUNCTION MANAGER CONTROL BLOCK
         ISTCRA    ACTIVE COMPONENT RECOVERY AREA



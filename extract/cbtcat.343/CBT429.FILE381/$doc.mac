./ ADD NAME=PROSE
1        NORTHWESTERN BANK EXITS, PROGRAMS, AND UTILITIES

  NORTHWESTERN BANK NO LONGER EXISTS.  WE HAVE MERGED WITH FIRST UNION
  NATIONAL BANK IN CHARLOTTE, N.C. AS PART OF THE CHANGING BANKING
  INDUSTRY.  I DON'T KNOW IF WE WILL BE ABLE TO MAINTAIN THESE EXITS
  IN THE FUTURE, BUT WE WILL TRY.  BEST OF LUCK.


         THESE ROUTINES ARE COMPLETELY FUNCTIONAL TO THE BEST OF MY
         KNOWLEDGE.  WE DO NOT GUARANTEE TO KEEP THIS ROUTINE UP TO
         DATE HOWEVER WE WILL BE GLAD TO ANSWER ANY QUESTIONS AS TIME
         PERMITS.  GOOD LUCK!

         JOHN V. HOOPER
         FIRST UNION NATIONAL BANK
         1 FIRST UNION CENTER
         301 SOUTH COLLEGE ST.
         DC-7   FCS-12
         CHARLOTTE, N.C.  28288
         (704) 374-2427


  THE JES2 EXITS PREFIXED WITH 'JES' ARE FOR MVS SP 1.3.4 (HJE2330),
  SP 1.3.6 (HJE1367) OR SP 2.1.5 (HJE2157).  THESE EXITS ARE ALMOST
  IDENTICAL IN FUNCTION TO THE ORIGINAL EXITS WHICH HAVE BEEN
  AVAILABLE FOR SEVERAL YEARS.  BECAUSE OF CHANGING REQUIREMENTS,
  THESE EXITS HAVE CHANGED IN OUR CURRENT ENVIRONMENT AND THERE IS NO
  WAY TO INCORPORATE CHANGES OR ENHANCEMENTS INTO THE OLD EXITS.  THEY
  WILL BE INCLUDED ONLY FOR THOSE WHO MAY WANT TO COMPARE THE NEW
  VERSION OF THE EXITS TO THE OLD ONES.

  THE NEW EXITS ARE SET FOR SP 2.2.0 (HJE2221) ALTHOUGH THE CHANGES
  FROM SP 2.1.5 WERE MINOR.  THESE EXITS ALL START WITH "J" FOLLOWED
  BY AN EXIT NUMBER EXCEPT FOR EXIT 0 WHICH MUST BE NAMED HASPXIT0.
  THE NEW EXITS DO A LOT MORE BUT THERE IS MORE INSTALLATION DEPENDENT
  CODE IN THEM.  ALSO, SOME OF THE EXITS REQUIRE MODIFICATIONS TO THE
  JES2 JQE WHICH FORCES REASSEMBLY OF ALL OF JES2.  THE SMP USERMOD TO
  ACCOMPLISH THIS IS ALSO INCLUDED AS MEMBER FZ50V0.  I AM INCLUDING
  ALL OF OUR CURRENT EXITS IN THIS FILE.  SOME MAY BE OF NO INTEREST
  TO ANYONE.  OTHERS MAY BE CURIOUS AS TO HOW A PARTICULAR FACILITY
  WAS PROVIDED SO THAT THE TECHNIQUE CAN BE USED FOR OTHER FUNCTIONS.
  THE FOLLOWING SECTION EXPLAINS THE BASIC FUNCTIONS THAT THESE SERIES
  OF EXITS PROVIDES:

1                           HOLD PROCESSING

  IBM ONLY PROVIDES ONE FORM OF HOLD PROCESSING AND THAT IS WHAT WE
  CALL OPERATOR HOLD.  THERE IS ALSO QUEUE HOLD, BUT IS VERY SIMILAR
  IN ACTUAL PROCESSING.  WE HAD THE REQUIREMENT TO ADD TWO OTHER FORMS
  OF HOLD TYPES.

  JOBS WHICH REQUIRE OPERATOR ACTION PRIOR TO RELEASING A JOB FOR
  PROCESSING REPRESENT ONE HOLD TYPE - SETUP HOLD.  UNDER DEFAULT JES2
  PROCESSING, A /*SETUP CARD TURNS ON THE SAME HOLD BIT AS AN OPERATOR
  $HJ COMMAND.  THUS THE TAPE LIBRARY MAY RELEASE A JOB BECAUSE SETUP
  PROCESSING HAS BEEN COMPLETED AND ALLOW A JOB TO RUN THAT THE MASTER
  CONSOLE OPERATOR MAY WANT TO BE HELD.  BY DISTINGUISHING BETWEEN THE
  SETUP HOLD AND THE OPERATOR HOLD SITUATIONS, THIS CONFLICT OF
  INTEREST WILL NOT EXIST.

  OUR DEVELOPMENT STAFF HAD THE REQUIREMENT TO BE ABLE TO SUBMIT LONG
  RUNNING SERIES OF JOBS THAT WOULD RUN IN A PRESCRIBED ORDER AND
  STOP EXECUTION IF A FAILURE IN ONE OF THE JOBS OCCURRED.  THIS
  CAUSED US TO CREATE A NEW CLASSIFICATION OF HOLD - USER HOLD.  ANY
  JOB WHICH HAS TYPRUN=HOLD ON THE JOB CARD IS PLACED ON USER HOLD.
  SPECIAL JECL CONTROL CARDS IN OTHER JOBS CAN RELEASE THIS JOB
  UPON SUCCESSFUL COMPLETION OF EXECUTION.  THIS IS INCORPORATED AS
  A /*RELEASE CARD.  THIS FORM OF HOLD IS INDEPENDENT FROM BOTH
  OPERATOR HOLD AND SETUP HOLD.

  BECAUSE WORK SELECTION OPERATES WHILE IN CONTROL OF THE CHECKPOINT,
  THE HOLD BITS MUST BE IN THE JQE SINCE IT IS THE ONLY CONTROL BLOCK
  AVAILABLE WITHOUT RELEASING THE CHECKPOINT.  A JQE MODIFICATION IS
  REQUIRED.


1                      DEPENDENT JOB PROCESSING

  AS PREVIOUSLY MENTIONED OUR DEVELOPMENT STAFF HAD THE REQUIREMENT TO
  BE ABLE TO SUBMIT A LONG RUNNING SERIES OF JOBS THAT WOULD RUN IN A
  PRESCRIBED ORDER AND STOP EXECUTION IF A FAILURE IN ONE OF THE JOBS
  OCCURRED.  OTHER SIMILAR REQUIREMENTS IN THE SAME AREA ARE TO SINGLE
  THREAD JOBS REGARDLESS OF COMPLETION STATUS.  ALSO A MEANS TO
  PREVENT A JOB FROM RUNNING WHILE ANOTHER JOB IS RUNNING WAS
  REQUESTED.  OTHER SIMILAR MODIFICATIONS TO ACCOMPLISH THIS HAVE BEEN
  DISTRIBUTED IN THE PAST BUT THIS IS OUR VERSION.

  /*THREAD ???? NAME

  WHERE ???? MUST BE HOLD OR BLANKS STARTING IN COLUMN 10-14
        NAME IS A USER DEFINED RESOURCE NAME

  THE THREAD STATEMENT WILL SINGLE THREAD ALL JOBS CONTAINING THE SAME
  THREAD NAME.  THUS EACH JOB CONTAINING THE SAME NAME WILL RUN ONE
  AFTER THE OTHER REGARDLESS OF THE STATUS OF THE PREVIOUS JOB.  IF
  THE OPTIONAL 'HOLD' SPECIFICATION IS MADE, THE JOB WILL BE PLACED ON
  'USER HOLD' AS WELL WHICH REQUIRES ANOTHER JOB OR OPERATOR TO
  RELEASE IT PRIOR TO EXECUTION.  THIS CARD IS COLUMN DEPENDENT AND
  MUST CONTAINS BLANKS OR 'HOLD' IN COLUMN 10 AND THE RESOURCE NAME
  MUST START IN COLUMN 16


  /*EXCLUDE NAME

  WHERE NAME IS THE NAME OF ANOTHER JOB OR A THREAD NAME IN
             ANOTHER JOB

  THE EXCLUDE STATEMENT WILL PREVENT A JOB FROM RUNNING WHILE A JOB,
  STARTED TASK, OR USERID BY THE SPECIFIED NAME IS EXECUTING.  ALSO,
  ANY JOB WHICH IS RUNNING THAT HAS A THREAD NAME OF THE SAME NAME
  WILL ALSO PREVENT THIS JOB FROM RUNNING.  THE JOB/THREAD NAME IS NOT
  COLUMN DEPENDENT.


  /*RELEASE NAME

  WHERE NAME IS THE NAME OF ANOTHER JOB THAT IS ON OPERATOR HOLD

  THE RELEASE STATEMENT WILL RELEASE ALL JOBS BY THE SPECIFIED JOB,
  STARTED TASK, OR USERID BY THE SPECIFIED NAME IS EXECUTING.  ALSO,
  ANY JOB WHICH IS RUNNING THAT HAS A THREAD NAME OF THE SAME NAME
  WILL ALSO PREVENT THIS JOB FROM RUNNING.  THE JOB/THREAD NAME IS NOT
  COLUMN DEPENDENT.


1                      OUTPUT WORK SELECTION

  IN MOST INSTALLATIONS, PRODUCTION WORK IS MORE IMPORTANT THAN TEST
  WORK.  THERE ARE TIMES, PERHAPS MOST OF THE TIME, THAT EVEN HUGE
  PRODUCTION SYSOUT OUTPUT IS MORE IMPORTANT THAN EVEN TINY TEST JOBS.
  THE ONLY TECHNIQUE THAT NATIVE JES2 HAD GIVEN TO CONTROL THIS
  SITUATION IS HAVING SEPARATE PRINT CLASSES AND/OR FORM NUMBERS FOR
  TEST THAN IS USED BY PRODUCTION.  THEN, OPERATIONS MUST REMEMBER TO
  RESET THE PRINTER TO THE APPROPRIATE CLASS OR FORM FOR TEST WORK TO
  BE PRINTED.  WE HAVE SET UP A SPECIAL WORK SELECTION CRITERIA CALLED
  JTYPE TO INDICATE WHICH CATAGORY OF PRINT TO PROCESS.  WE HAVE SET
  ONLY TWO JOBTYPES - T FOR TEST AND P FOR PRODUCTION.  THE
  APPROPRIATE TYPES WILL PROCESS IN THE ORDER IN WHICH THEY ARE
  DEFINED.  IF JTYPE=PT, THEN ALL PRODUCTION WILL PRINT BEFORE ANY
  TEST.  IF JTYPE=TP, THEN THE REVERSE IS TRUE.  IF JTYPE IS SET TO
  BLANK, THEN IT IS NOT A FACTOR IN PRINT WORK SELECTION.  THE WORK
  SELECTION CRITERIA JT MUST BE SET ON THE RIGHT SIDE OF THE SLASH IN
  THE WORK SELECTION LIST FOR THE DEVICE.  THERE IS ONE PROBLEM.  THIS
  CRITERIA WILL ONLY WORK FOR LOCAL PRINTERS, LOCAL PUNCHES, AND
  OFFLOAD DEVICES.  THIS FACILITY WAS NOT PROVIDED BY IBM FOR REMOTE
  DEVICES.  MAYBE SOME DAY IT WILL.  BUT SINCE IT DOES WORK FOR
  OFFLOAD DEVICES, THIS FACILITY CAN BE USED TO OFFLOAD ONLY TEST
  OUTPUT IN CASES WHERE THE SPOOL QUEUE GETS FULL,  AGAIN, THE JTYPE
  INDICATOR MUST BE IN THE JQE SINCE IT IS THE ONLY CONTROL BLOCK
  AVAILABLE WHICH CAN BE ACCESSED WITHOUT RELEASING CONTROL OF THE
  CHECKPOINT.  A JQE MODIFICATION IS REQUIRED.


1                 SPECIAL OUTPUT SEPARATOR PROCESSING

  IN A LARGE INSTALLATION, DISTRIBUTION OF PRINTED REPORTS CAN BE A
  HUGE PROBLEM.  NORMALLY, THE ONLY SOURCE OF DISTRIBUTION INFORMATION
  IS FROM THE JOBNAME, PROGRAMMER NAME, OR BIN NUMBER.  IN MOST CASES
  THIS INFORMATION IS EITHER NOT ENOUGH OR JUST PLAIN WRONG.  FOR SOME
  REPORTS, SPECIAL PROCESSING SUCH AS A PHONE CALL MAY BE IN ORDER.
  TO PROVIDE THIS FACILITY, WE BUILT A VSAM DISTRIBUTION FILE WHICH IS
  ACCESSED BY THE JOB SEPARATOR ROUTINE TO EXTRACT DETAILED
  DISTRIBUTION INFORMATION FOR THE JOB OR USER.  FOR PRODUCTION JOBS,
  THE KEY TO THE FILE IS THE JOBNAME PLUS THE OUTPUT GROUP NAME.  FOR
  TEST JOBS, THE KEY IS THE RACF OR OWNERID OF THE USER.  FOR STARTED
  TASKS THE KEY IS THE JOB NAME.  MAINTENANCE TO THIS FILE IS PROVIDED
  BY A SERIES OF CICS COMMANDS, BUT THAT CODE IS NOT IN ANY KIND OF
  SHAPE TO PUT IN THIS FILE.  IT CAN BE MAINTAINED BY REPROING AN ISPF
  MAINTAINED FILE INTO THE VSAM CLUSTER.  ALL I/O FROM JES2 TO THE
  VSAM FILE IS PERFORMED BY A SUBTASK TO AVOID STOPPING THE JES2 MAIN
  TASK DURING THE I/O OPERATION.  THE INFORMATION IN THIS FILE IS AS
  FOLLOWS:

      8  CHARACTER PRIMARY SEPARATOR/BIN CODE
      8  CHARACTER SECONDARY SEPARATOR/BIN CODE
      4  CHARACTER REPORT DUE OUT TIME
      8  CHARACTER DESCRIPTION
      20 CHARACTER PROGRAMMER NAME
      15 CHARACTER LOCATION NAME
      20 CHARACTER DEPARTMENT NAME
      10 CHARACTER MAIL CODE
      15 CHARACTER PHONE NUMBER
      1  CHARACTER STARTED TASK SYSOUT CLASS
      1  CHARACTER CA-7 NOTIFICATION INDICATOR
      100 CHARACTERS OF SPECIAL INSTRUCTIONS


1                 STARTED TASK DEFAULT SYSOUT CLASS

  STANDARD JES2 ALLOW THE INSTALLATION TO GIVE ALL STARTED TASKS THE
  SAME DEFAULT STARTED TASK SYSOUT CLASS.  IN MOST INSTALLATIONS THIS
  IS SET TO A THROWAWAY CLASS TO AVOID EXCESSIVE GARBAGE PRINT.  WE
  FELT THIS TO BE RESTRICTIVE AND BUILT A FACILITY TO ALLOW DIFFERENT
  TASKS TO HAVE DIFFERENT DEFAULT SYSOUT CLASSES.  THIS ALLOWS NOT
  JUST THE REPORT FOR THE TASK TO PRINT, BUT THE JOBLOG, JCL, AND JOB
  MESSAGES TO PRINT ALSO.  AS PREVIOUSLY MENTIONED, A SPECIAL VSAM
  DISTRIBUTION FILE IS ACCESSED TO PRIVIDE DISTRIBUTION INFORMATION
  FOR THE JOB SEPARATOR ROUTINE.  THIS VSAM FILE IS ALSO USED TO
  PROVIDE A DEFAULT SYSOUT CLASS FOR STARTED TASKS.  A RECORD IN THIS
  FILES CAN BE CREATED WITH THE STC NAME AS THE KEY WHICH WILL PROVIDE
  THE SYSOUT CLASS AT INITIALIZATION TIME.  IF NO RECORD IS FOUND,
  THEN THE DEFAULT IS USED.  THIS SAME RECORD PROVIDES DISTRIBUTION
  INFORMATION FOR THAT STARTED TASK.  THIS HAS HELPED A LOT,
  ESPECIALLY WHEN JCL ERRORS OCCUR FOR IMS OR CICS AND THE JCL LISTING
  NO LONGER PURGES.

1                 UCC7 (CA-7) JOB NETWORKS

  WE HAVE SOME TIME SENSITIVE REPORTS THAT MUST BE DISTRIBUTED BY A
  CERTAIN TIME OF THE DAY.  IN THE PAST, THE USER WOULD COMPLAIN ABOUT
  NOT GETTING THE REPORTS AND THE DISTRIBUTION SECTION WOULD JUST HAVE
  TO ACCEPT THEIR WORD OR HAVE NO PROOF THAT THE REPORT WAS ACTUALLY
  PROCESSED.  THE SPECIAL VSAM DISTRIBUTION FILE PREVIOUSLY MENTIONED
  CONTAINS A CA-7 NOTIFICATION INDICATOR TO INDICATE THAT THE
  SEPARATOR ROUTINE SHOULD DEMAND A JOB NETWORK FOR THAT REPORT GROUP.
  THIS JOB NETWORK WOULD THEN BE SATISFIED BY THE DISTRIBUTION GROUP
  WHEN THE REPORT WAS PLACED IN THE APPROPRIATE BIN OR CART.  THIS
  PROVIDES ACCOUNTABILITY FOR SPECIFIC OUTPUT GROUPS.  THE ACTUAL
  INTERFACE WITH CA-7 IS ACCOMPLISHED BY A JES2 SUBTASK TO AVOID
  STOPPING THE JES2 MAIN TASK DURING THIS PROCESS.

  UCC-7 (CA-7) IS A PRODUCT OF COMPUTER ASSOCIATES


1                 /*JOBPARM MODIFICATIONS

  WE HAVE MADE SOME EXTENSIONS TO THE KEYWORDS ALLOWED ON THE JES2
  JOBPARM STATEMENT.  ONE EXTENSION WAS TO ALLOW A TEST JOB TO SPECIFY
  A DIFFERENT OWNER FOR DISTRIBUTION PURPOSES THAN THE SUBMITTOR.  WE
  ALSO USE THE XBATCH FACILITY IN JES2 AND NEEDED A WAY TO SET THE FCB
  AND UCS ID FOR XBATCH JOBS.  THE FOLLOWING KEYWORDS WERE ADDED TO
  THE JOBPARM STATEMENT TO PROVIDE THESE FACILITIES:

      OWNERID=      1 TO 8 CHARACTER ID OF THE OWNER OF THIS TEST JOB
      FCB=          1 TO 4 CHARACTER DEFAULT FCB FOR THE JOB
      UCS=          1 TO 4 CHARACTER DEFAULT UCS ID FOR THE JOB


1                 NJE USER JOB HEADERS

  WITH THE MODIFICATIONS TO THE JQE AND THE DESIRE TO SAVE JOB
  ACCOUNTING INFORMATION LONGER THAN 4 CHARACTERS, A USER NETWORK JOB
  HEADER WAS CREATED.  ALL NECESSARY JOB RELATED INFORMATION IS STORED
  IN THIS RECORD SO THAT IT CAN BE PRESERVED DURING A SPOOL
  OFFLOAD/RELOAD OPERATION AND ACROSS AN NJE NODE.


                       SPOOL PARTITIONING

  OUR MONTH END PROCESSING REQUIRES SEVERAL ADDITIONAL SPOOL VOLUMES
  TO BE ADDED TO JES2.  AFTER MONTH END, THEY ARE DRAINED AND RESERVED
  AS EMERGENCY SPARE VOLUMES IN CASE WE HAVE HARDWARE FAILURES.  WE
  ALSO ONLY PLAN ONE OUTAGE A MONTH ON OUR PRODUCTION CPU - RIGHT
  BEFORE MONTH END.  WE CANNOT GET THE SPOOL VOLUMES DRAINED IF SOME
  OF THE LONG RUNNING STARTED TASKS SUCH AS VTAM USE THAT VOLUME.  WE
  WROTE A SPOOL PARTITIONING EXIT TO INSURE THAT STARTED TASKS ONLY
  USE THE NORMAL SPOOL VOLUMES.


                       STANDARDS ENFORCEMENT

  EACH INSTALLATION HAS SPECIFIC JCL REQUIREMENTS WHICH MUST BE MET.
  ACCOUNTING VERIFICATION IS ONE.  THIS CAN BE DONE IN EXIT2 OR EXIT3
  BUT CREATES A PROBLEM IN AN NJE ENVIRONMENT WHERE DIFFERENT JOB
  ACCOUNTING STANDARDS EXIST.  ALL OF OUR JCL VERIFICATION IS
  PERFORMED IN EXIT6 WHICH SOLVES THE NJE PROBLEM AND ALLOWS US TO
  CHECK EVERY JCL STATEMENT FOR ANY RESTRICTED PARAMETERS.  ALL ERROR
  MESSAGES ARE WRITTEN TO THE JOB MESSAGE DATA SET AS IF IT WERE A
  STANDARD JCL ERROR OR COMMENT.  THE CLASS OF THE JOB AND THE
  PRIORITY ARE ALSO SET BY THIS EXIT BASED ON RESOURCE REQUIREMENTS.


1                      COMMAND ENHANCEMENTS

  A NUMBER OF JES2 COMMANDS WERE ADDED TO PROVIDE MORE DETAILED
  INFORMATION OR SUPPORT FOR ADDITIONAL FACILITIES.  A BRIEF LIST
  FOLLOWS:

  $LF    - A DETAILED VERSION OF THE IBM $DF COMMAND GIVING JOBNAME,
           LINE OR PAGE COUNT AS WELL AS OTHER INFORMATION.

  $DV    - A COMMAND THAT CAN LIST DASD VOLUMES BY DEVICE ADDRESS OR
           BY VOLSER OR PREFIX.  IT IS HARD TO FIND A SPECIFIC DASD
           VOLSER WHEN USING THE MVS 'D U' COMMAND

  $QJ    - A FUNCTIONAL REPLACEMENT FOR THE IBM $DJ COMMAND.  THIS
           VERSION LISTS ADDITIONAL INFORMATION TO SUPPORT THE
           MULTIPLE CATAGORIES OF HOLD, FAILURE FLAGS, TEST OR
           PRODUCTION INDICATORS AND OWNER ID.

  $QN    - A FUNCTIONAL REPLACEMENT FOR THE IBM $DN COMMAND.  THIS
           VERSION LISTS ADDITIONAL INFORMATION TO SUPPORT THE
           MULTIPLE CATAGORIES OF HOLD, FAILURE FLAGS, TEST OR
           PRODUCTION INDICATORS AND OWNER ID.

  $SL    - SUPPORT FOR THE SETUP HOLD FACILITY.  THIS COMMAND WILL
           EITHER LIST ALL JOBS ON THE SETUP HOLD QUEUE OR LIST
           THE ACTUAL /*SETUP CONTROL CARDS FOR AN INDIVIDUAL JOB.

  $SR    - SUPPORT FOR THE SETUP HOLD FACILITY.  THIS COMMAND WILL
           RELEASE JOBS FROM THE SETUP HOLD QUEUE.

  $UL    - SUPPORT FOR THE USER HOLD FACILITY.  THIS COMMAND WILL
           LIST JOBS IN THE USER HOLD QUEUE.

  $UA    - SUPPORT FOR THE USER HOLD FACILITY.  THIS COMMAND WILL
           PLACE JOBS IN THE USER HOLD QUEUE.

  $UR    - SUPPORT FOR THE USER HOLD FACILITY.  THIS COMMAND WILL
           RELEASE JOBS FROM THE USER HOLD QUEUE.

  $TJIT  - SUPPORT FOR THE JOB INFORMATION TASK OR VSAM DISTRIBUTION
           FILE FACILITY.  THIS COMMAND CAN START, STOP, RESTART,
           LIST STATUS, OR LIST THE DETAIL RECORD FROM THE VSAM FILE.

  $LOAD  - ALLOW JES2 EXITS TO BE RELOADED WITHOUT PERFORMING A JES2
           HOT START.

  $TUCC7 - SUPPORT FOR THE UCC-7 (CA-7) INTERFACE.  THIS COMMAND CAN
           START, STOP, RESTART, OR LIST THE STATUS OF THE INTERFACE.

1                   SOURCE MEMBER DESCRIPTIONS

  JES$LF   - (OLD) A JES2 EXIT (5) TO PROVIDE OPERATOR CAPABILITY TO
             DISPLAY DETAILED INFORMATION ABOUT JOBS IN THE PRINT
             QUEUE.  IT IS DESIGNED TO ENHANCE THE DISPLAY NORMALLY
             PROVIDED BY THE $DF COMMAND.

  JESEXIT1 - (OLD) A JES2 EXIT (1) TO PROVIDE ENHANCEMENTS TO THE IBM
             SUPPLIED SEPARATOR PAGE.  SUPPORT IS ALSO PROVIDED FOR
             THE KODAK KOMSTAR MICROFICHE PROCESSOR, THE DATAGRAPHIX
             ARIS II MICROFICHE PROCESSOR, THE IBM 6670 DOCUMENTATION
             PROCESSOR AND THE XEROX 9700 PRINTER.

  JESEXIT3 - (OLD) A JES2 EXIT (3) TO CREATE AN NJE JOB HEADER TO SAVE
             JOB ACCOUNTING INFORMATION LONGER THAN 4 CHARACTERS.
             NOTE THAT THIS EXIT IS USED IN CONJUNCTION WITH JESEXIT7
             TO PRODUCE AN SMF TYPE 30 RECORD FOR NJE PRINT JOBS AT
             THE RECEIVING NODE TO ALLOW JOB ACCOUNTING FOR NJE PRINT.

  JESEXIT5 - (OLD) A JES2 EXIT (5) TO FILTER JES2 COMMANDS TO DISALLOW
             CERTAIN COMMANDS OR OPERANDS ON THE COMMANDS.

  JESEXIT6 - (OLD) A JES2 EXIT (6) TO PERFORM STANDARDS ENFORCEMENT
             FOR JCL AS WELL AS SET THE JOB CLASS BASED UPON THE
             RESOURCES SUCH AS TAPE UNITS, REGION SIZE, OR CPU TIME.
             VIOLATIONS TO STANDARDS AND JOB CLASS REPORTING IS MADE
             TO THE JOB MESSAGE DATA SET FOR THE JOB AS IF THE
             CONVERTER WAS PRODUCING THE ERROR MESSAGES.

  JESEXIT7 - (OLD) A JES2 EXIT (7) TO CREATE AN SMF TYPE 30 RECORD FOR
             NJE PRINT JOBS AT THE RECEIVING NODE TO ALLOW JOB
             ACCOUNTING FOR NJE PRINT.  NOTE THAT THIS EXIT IS USED IN
             CONJUNCTION WITH JESEXIT3 TO PROVIDE JOB ACCOUNTING
             INFORMATION.

  JESEXIT9 - (OLD) A JES2 EXIT (9) TO ABEND TEST JOBS WHICH EXCEED THE
             ESTIMATED LINE COUNT WHILE ALLOWING ALL OTHER JOBS TO
             CONTINUE.

  JESXIT17 - (OLD) A JES2 EXIT (17) TO VALIDATE THE SIGNON CARD FROM
             BSC RJE WORKSTATIONS.  THIS EXIT WILL ISSUE A CALL TO
             ACF2 TO VALIDATE THE PASSWORD FOR THE REMOTEID.  THE
             SIGNON ATTEMPT WILL BE REJECTED WITH APPROPRIATE MESSAGES
             IF THE PASSWORD IS INVALID.

  JESXIT21 - (OLD) A JES2 EXIT (21) TO EXAMINE JES2 SMF RECORDS TO
             INSERT JOBNAME IN THE SMF TYPE57 RECORD.  THIS NJE SYSOUT
             TRANSMISSION RECORD CONTAINS JOB NUMBER BUT NO JOB NAME.
             IT IS DIFFICULT TO PRODUCE NJE STATISTICS WITHOUT THE
             JOBNAME.

1 J001$SP  - A JES2 EXIT (1) TO PROVIDE ENHANCEMENTS TO THE IBM
             SUPPLIED SEPARATOR PAGE.  THIS EXIT WILL REQUEST
             DISTRIBUTION INFORMATION FROM A JES2 TASK WHICH EXTRACTS
             THIS INFORMATION FROM A VSAM FILE.  SUPPORT IS ALSO
             PROVIDED FOR THE KODAK KOMSTAR MICROFICHE PROCESSOR, THE
             DATAGRAPHIX ARIS II MICROFICHE PROCESSOR, THE XEROX 3700
             PRINTER AND THE XEROX 9700 PRINTER.  ALSO REQUIRES EXITS
             HASPXIT0, J024JIT, J015$SP (FOR 3700 SUPPORT), J005JIT,
             AND J005UCC7 FOR FULL SUPPORT.  THERE ARE SEVERAL
             ASSEMBLY VARIABLES IN THE EXIT TO SET OPTIONS.  SEE THE
             COMMENTS IN THE PROGRAM

  J003STCS - A JES2 EXIT (3) TO SET THE DEFAULT SYSOUT CLASS AND
             PROGRAMMER NAME FOR STARTED TASKS.  THIS INFORMATION IS
             PROVIDED BY A JES2 TASK WHICH EXTRACTS THIS INFORMATION
             FROM A VSAM FILE.  THIS ALLOWS SOME STARTED TASKS TO
             DEFAULT TO A THROWAWAY SYSOUT CLASS AND OTHERS TO PRINT.
             THIS EXIT ALSO REQUIRES EXITS HASPXIT0 J024JIT, J005JIT,
             AND J005UCC7 FOR FULL SUPPORT.

  J003UNJH - A JES2 EXIT (3) TO CREATE AN NJE JOB HEADER TO SAVE
             JOB RELATED INFORMATION ACCROSS AN NJE ENVIRONMENT AND
             SPOOL OFFLOAD/RELOAD OPERATIONS.  THIS INFORMATION JOB
             ACCOUNTING INFORMATION LONGER THAN 4 CHARACTERS, AND
             INSTALLATION FIELDS IN THE JQE.  THE ACCOUNTING
             INFORMATION IS USED BY EXIT J007JQEU TO PRODUCE AN SMF
             TYPE 30 RECORD FOR NJE PRINT JOBS AT THE RECEIVING NODE
             TO ALLOW JOB ACCOUNTING FOR NJE PRINT.

  J004$JEC - A JES2 EXIT (4) TO PROCESS THE DEPENDENT JOB CONTROL
             JECL STATEMENTS.  THIS EXIT WILL PROCESS THE /*SETUP,
             /*THREAD, /*EXCLUDE, AND /*RELEASE JECL STATEMENTS.
             THIS EXIT FILLS IN MANY OF THE USER FIELDS IN THE
             MODIFIED JQE.  ALSO REQUIRES EXITS J005$SL, J005$SR,
             J007RLSE, J014$JCL, AND J020UHLD FOR FULL SUPPORT.

  J004$OWN - A JES2 EXIT (4) TO LOCAL EXTENSIONS TO THE /*JOBPARM
             JECL STATEMENT.  THESE FIELDS ARE OWNERID, FCB, AND
             UCS.  THIS ALLOWS XBATCH JOBS TO SPECIFY EXTRA JOB
             ATTRIBUTES.

  J005$DV  - A JES2 EXIT (5) TO PROVIDE OPERATOR CAPABILITY TO DISPLAY
             DASD VOLUMES BY DEVICE ADDRESS, VOLSER, OR VOLSER PREFIX.
             THE MVS 'D U' COMMAND IS CUMBERSOME  WHEN LOOKING FOR
             SPECIFIC VOLUMES.

  J005$LF  - A JES2 EXIT (5) TO PROVIDE OPERATOR CAPABILITY TO DISPLAY
             DETAILED INFORMATION ABOUT JOBS IN THE PRINT QUEUE.  IT
             IS DESIGNED TO ENHANCE THE DISPLAY NORMALLY PROVIDED BY
             THE $DF COMMAND.

1 J005$QJ  - A JES2 EXIT (5) TO PROVIDE A FUNCTIONAL REPLACEMENT FOR
             THE IBM $DJ COMMAND.  IT WAS WRITTEN TO PROVIDE A MEANS
             TO DISPLAY THE JOB RELATED INFORMATION ADDED BY OUR
             INSTALLATION.

  J005$QN  - A JES2 EXIT (5) TO PROVIDE A FUNCTIONAL REPLACEMENT FOR
             THE IBM $DN COMMAND.  IT WAS WRITTEN TO PROVIDE A MEANS
             TO DISPLAY THE JOB RELATED INFORMATION ADDED BY OUR
             INSTALLATION.

  J005$SL  - A JES2 EXIT (5) TO PROVIDE A WAY TO LIST ALL JOBS IN
             A USER DEFINED QUEUE CALLED THE SETUP QUEUE.  THIS QUEUE
             PREVENTS JOBS FROM EXECUTING.  IT ALSO ALLOWS THE CONSOLE
             OPERATOR THE ABILITY TO RELIST THE /*SETUP CARDS FOR EACH
             JOB.

  J005$SR  - A JES2 EXIT (5) TO PROVIDE A WAY TO RELEASE A JOB FROM
             A USER DEFINED QUEUE CALLED THE SETUP QUEUE.  THIS QUEUE
             PREVENTS JOBS FROM EXECUTING.

  J005$UA  - A JES2 EXIT (5) TO PROVIDE A WAY TO REMOVE A JOB FROM
             A USER DEFINED QUEUE CALLED THE USER HOLD QUEUE.  THIS
             QUEUE PREVENTS A JOB FROM EXECUTING (NOT FROM PRINTING).

  J005$UH  - A JES2 EXIT (5) TO PROVIDE A WAY TO PLACE A JOB IN A
             USER DEFINED QUEUE CALLED THE USER HOLD QUEUE.  THIS
             QUEUE PREVENTS A JOB FROM EXECUTING (NOT PRINTING).

  J005$UL  - A JES2 EXIT (5) TO PROVIDE A WAY TO LIST ALL JOBS IN
             A USER DEFINED QUEUE CALLED THE USER HOLD QUEUE.  THIS
             QUEUE PREVENTS A JOB FROM EXECUTING (NOT PRINTING).

  J005FILT - A JES2 EXIT (5) TO FILTER JES2 COMMANDS TO DISALLOW
             CERTAIN COMMANDS OR OPERANDS ON THE COMMANDS.

  J005JIT  - A JES2 EXIT (5) TO PROVIDE A COMMAND INTERFACE TO THE
             JOB INFORMATION TASK THAT READS JOB DISTRIBUTION
             INFORMATION FROM A VSAM FILE.  THIS CAMMAND CAN START,
             STOP, RESTART, MODIFY, OR PROVIDE STATUS ABOUT THE TASK.
             IT CAN ALSO LIST INDIVIDUAL RECORDS.

  J005LOAD - A JES2 EXIT (5) TO PROVIDE A MEANS OF RELOADING AN EXIT
             ROUTINE WITHOUT HAVING TO PERFORM A HOT START.

  J005UCC7 - A JES2 EXIT (5) TO PROVIDE A COMMAND INTERFACE TO THE
             UCC7 INTERFACE TASK THAT CAN DEMAND A JOB NETWORK ON
             BEHALF OF THE SEPARATOR ROUTINE BASED ON INFORMATION FROM
             A VSAM FILE.  THIS COMMAND CAN START, STOP, RESTART,
             OR PROVIDE STATUS ABOUT THE TASK.

  J006STDS - A JES2 EXIT (6) TO PROCESS THE INTERNAL TEXT FOR ALL
             JOBS.  THIS ROUTINE PROVIDES ACCOUNTING VERIFICATION,
             ENFORCEMENT OF STANDARDS, AND SETS CLASS AND PRIORITY
             BASED ON THE RESOURCES REQUIRED BY A JOB.

1 J007ENDJ - A JES2 EXIT (7) TO WRITE A SPECIAL END OF JOB MESSAGE
             TO THE CONSOLE (NOT THE JOB LOG).  IT IS VERY SIMILAR TO
             THE NORMAL END OF JOB MESSAGE EXCEPT IT INDICATES WHETHER
             THE JOB ABENDED OR HAD A JCL ERROR.  PRODUCTION JOBS HAVE
             A DIFFERENT MESSAGE NUMBER SO A WTO EXIT ROUTINE COULD
             MAKE ABEND AND JCL ERROR MESSAGES FOR THESE JOBS NON ROLL
             DELETABLE TO BRING THESE FAILURES TO THE IMMEDIATE
             ATTENTION OF THE CONSOLE OPERATOR.

  J007JCTU - A JES2 EXIT (7) TO RETAIN THE SPECIAL USER FIELDS IN
             THE JQE BY COPYING THEM TO THE NJE JOB HEADER.  THIS EXIT
             WILL PERFORM THIS TASK EACH TIME THE JCT IS WRITTEN BACK
             TO THE SPOOL.  THIS RETAINS THIS INFORMATION IN AN NJE
             ENVIRONMENT AND ACROSS A SPOOL OFFLOAD/RELOAD OPERATION.
             THIS FUNCTION ALSO REQUIRES J007REST TO RESTORE THESE
             FIELDS AFTER A RELOAD OPERATION.

  J007JQEU - A JES2 EXIT (7) TO UPDATE THE JQE USER FIELDS FROM THE
             AVAILABLE INFORMATION EACH TIME THE JCT IS REWRITTEN TO
             THE SPOOL.  THIS EXIT ALSO WRITES AN SMF TYPE 30 RECORD
             FOR ALL NJE PRINT JOBS TO PROVIDE ACCOUNTING INFORMATION
             FOR JOBS WHICH ONLY PRINT AT THIS NJE NODE.

  J007RACF - A JES2 EXIT (7) TO RETAIN THE RACF USERID ACROSS AN
             NJE SYSTEM.  IBM INTENTIONALLY ZEROS OUT THE RACF
             FIELDS IN THE JCT PRIOR TO TRANSMISSION.  THIS FORCES
             JOBS TO CODE USER= AND PASSWORD= ON THE JOB CARD.  THIS
             EXIT RETAINS THE USERID IN A USER NJE JOB HEADER AND
             RESTORES IT AFTER TRANSMISSION.  THE EXIT J003UNJH IS
             ALSO REQUIRED FOR THIS FUNCTION TO BUILD THE USER NJE
             JOB HEADER.

  J007RLSE - A JES2 EXIT (7) TO PERFORM RELEASE PROCESSING FOR ALL
             JOBS THAT CONTAIN A /*RELEASE CONTROL CARD.  THIS EXIT
             WILL RELEASE ALL JOBS WITH THE SPECIFIED JOB NAME AND
             MATCHING OWNERID NAME AT END OF JOB IF THIS JOB DID NOT
             ABEND OR HAVE A JCL ERROR.  MESSAGES ARE WRITTEN TO THE
             CONSOLE GIVING THE RESULTS OF PROCESSING.

  J011SPRT - A JES2 EXIT (11) TO PROVIDE SPOOL PARTITIONING.  WHEN
             SPOOL VOLUMES ARE STARTED AND DRAINED TO ACCOMODATE
             FLUCTUATING SPOOL REQUIREMENTS, STARTED TASKS MAY USE
             THE NEW SPOOL VOLUMES.  THIS WILL PREVENT THAT SPOOL
             FROM DRAINING UNTIL THE STARTED TASK TERMINATES AND IS
             PURGED.  THIS EXIT PROVIDES AN ELIGIBLE LIST OF SPOOL
             VOLUMES FOR STARTED TASKS TO PREVENT THIS FROM OCCURRING.

  J014$JSL - A JES2 EXIT (14) TO PERFORM JOB SELECTION BASES ON USER
             FIELDS IN THE JQE.  THIS IS WHERE THE USE OF /*THREAD AND
             /*EXCLUDE JECL CARDS IS PERFORMED AS WELL AS HONORING THE
             USER HOLD ATTRIBUTE.  BECAUSE THIS PROCESSING REQUIRES
             CONTROL OF THE JES2 CHECKPOINT, THESE FIELDS MUST BE IN
             THE JQE TO AVOID RELEASING THE CHECKPOINT.  IF THE
             ESOTERIC ROUTINE FACILITY IS GOING TO BE USED, USE THE
             EXIT 14 ROUTINE PROVIDED IN MODULE JESRESRC INSTEAD OF
             THIS MODULE.

  J015$SP  - A JES2 EXIT (15) TO GENERATE DJDE CONTROL STATEMENTS FOR
             A XEROX 3700 PRINTER.  THIS EXIT REQUIRES THAT THE 9700
             SUPPORT PRODUCT XJCF MARKETED BY XENOS COMPUTER SYSTEMS
             BE INSTALLED.

  J020UHLD - A JES2 EXIT (20) TO CHANGE TYPERUN=HOLD TO A USERHOLD
             ATTRIBUTE.

  J021$57  - A JES2 EXIT (21) WHICH MODIFIES THE SMF TYPE 57 RECORD
             WHICH RECORDS NJE ACTIVITY.  FOR SOME STRANGE REASON,
             THIS RECORD DOES NOT CONTAIN JOBNAME.  THE NETWORK
             ACCOUNTING FIELD IS OVERLAID WITH THE JOBNAME.  WHAT
             GOOD IS THIS INFORMATION WITHOUT BEING ABLE TO TIE IT
             BACK TO A JOB?

  J024JIT  - A JES2 EXIT (24) WHICH STARTS THE TWO JES2 USER SUBTASKS
             AT INITIALIZATION TIME.  STANDARD JES2 INTERFACES ARE
             USED TO PERFORM THIS FUNCTION.  CODE IS IN THE EXITS
             THEMSELVES TO SHUTDOWN WHEN JES2 IS TERMINATED.  THIS
             EXIT REQUIRES EXIT HASPXIT0 TO ESTABLISH THE SUBTASK
             ENVIRONMENT.

1 J255$FMT - A JES2 EXIT (24) TO FORMAT JOB RELATED INFORMATION FOR A
             SPECIFIC JOB IN THE PASSED PARAMETER LIST.  THIS ROUTINE
             IS USED BY SEVERAL EXITS TO DISPLAY STATUS ABOUT A JOB.

  HASPXIT0 - A JES2 EXIT (0) TO ALLOCATE A USER CONTROL TABLE (UCT),
             ALLOW THE JIT VSAM DATASET NAME TO BE SPECIFIED IN THE
             JES2 PARAMETERS, AND ESTABLISH THE USER WORK SELECTION
             FACILITY FOR FILTERING TEST AND PRODUCTION WORK ON LOCAL
             PRINTERS, PUNCHES, AND OFFLOAD DEVICES.

  JESRESRC - A SERIES OF JES2 EXITS (4,5, AND 14) TO PROVIDE ESOTERIC
             JOB ROUTING.  THIS IS A FUNCTIONAL DUPLICATION OF THE
             MELLON BANK MODS TO PROVIDE THE SAME FUNCTION.  THEY
             WERE REWRITTEN TO FIT INTO OUR SYSTEM OF EXITS.  THE
             JOB SELECT EXIT 14 IN THIS MODULE IS A REPLACEMENT FOR
             J014$JSL.  USE THIS EXIT 14 ROUTINE IF THIS FACILITY
             IS BEING USED OR USE THE OTHER EXIT 14 ROUTINE IF ONLY
             IMPLEMENTING THE USER AND SETUP HOLD FACILITY.

  FZ50V0   - A USERMOD TO UPDATE THE JES2 JQE AND QSE TO ADD USER
             FIELDS.  IT ALSO FORCES REASSEMBLY OF EVERY MODULE
             IN JES2 TO USE THE UPDATED MACROS.

  FZ51V0   - A USERMOD TO ADD ALL OF THE USER MAPPING MACROS TO THE
             JES2 MACRO LIBRARY.  MANY OF THE EXITS REQUIRE THESE
             MACROS.

  CONSOLE  - A TSO COMMAND TO ALLOW A TSO TERMINAL TO EFFECTIVELY BE
             TURNED INTO A CONSOLE.  CODE WILL FUNCTION ONLY UNDER
             XA.  A USER SUPPLIED SVC MUST BE SUPPLIED TO GET INTO
             KEY ZERO FOR AUTHORIZATION PURPOSES.

  DSAT     - A TSO COMMAND TO RETURN DATA SET ATTRIBUTES OF DATA SETS
             AT A SPECIFIED INDEX LEVEL.  THIS CODE IS LOOSELY BASED
             ON A COMMAND FROM FPL BUT DOES NOT HAVE ALL OF THE
             OPTIONS.  WHAT MAKES THIS ONE DIFFERENT IS THAT IT IS
             WRITTEN FOR DFP ONLY AND RETURNS GDG BASE INFORMATION
             AS WELL AS VSAM ATTRIBUTES.

  TESTJES  - A PROGRAM WHICH CAN BE USED TO TEST THE SP 1.3.3/1.3.4
             VERSION OF JESEXIT6 BY SETTING UP A FAKE EXIT ENVIRONMENT
             AND THEN CALLING THE MAIN ENTRY POINT OF THE EXIT.

  TESTJ136 - A PROGRAM WHICH CAN BE USED TO TEST THE SP 1.3.6/2.1.5
             VERSION OF JESEXIT6 BY SETTING UP A FAKE EXIT ENVIRONMENT
             AND THEN CALLING THE MAIN ENTRY POINT OF THE EXIT.

  PRINTDOC - SAMPLE JCL TO PRINT THIS MEMBER ($DOC).

./ ADD NAME=EXIT6
1                         J 0 0 6 S T D S

         THIS JES2 EXIT PROGRAM IS DESIGNED TO RUN AT CONVERTER
         TIME TO ENFORCE INSTALLATION JCL STANDARDS AND TO DETERMINE
         THE APPROPRIATE JOB CLASS BASED ON DEVICE UTILIZATION.

         THERE IS SOME INSTALLATION DEPENDENT CODE IN THIS EXIT
         ESPECIALLY IN THE JOB ACCOUNTING VERIFICATION ROUTINE
         AND THE DSNAME STANDARDS ENFORCEMENT ROUTINE.  THE JOB
         CLASSES ARE SET BY WAY OF A TABLE AS ARE THE UNITNAME
         ATTRIBUTES.  MUCH MORE COULD BE ENFORCED HERE OR IN
         OTHER EXITS OR BY A GOOD SECURITY SYSTEM.  WE FELT THAT
         IT WAS BETTER TO CATCH MANY ERRORS AT READER TIME
         RATHER THAN WAIT IN SOME CASES A LONG PERIOD OF TIME
         FOR VIOLATIONS TO OCCUR.

1        VIOLATIONS OF JCL STANDARDS ARE DOCUMENTED BY MESSAGES
         WRITTEN TO THE JES2 MESSAGE DATA SET FOR THE JOB AND
         FLAGGED FOR JCL ERROR BY THE USE OF THE JES2 EXIT RETURN
         CODE TO THE JES2 CONVERTER SUB-TASK.

         THIS EXIT USES THE INTERNAL TEXT DATA SET FOR ITS
         PROCESSING.  JES2 PASSES EACH INTERNAL TEXT STATEMENT
         TO THIS EXIT FOR EXAMINATION AND/OR MODIFICATION.  THE
         EXIT WILL MAINTAIN A TABLE OF DATASET NAMES AND DEVICE
         COUNTS TO BE USED AT END OF PROCESSING FOR DETERMINING
         JOB CLASS.  THE ACB FOR THE MESSAGE DATA SET IS IN THE
         DTE CONTROL BLOCK AND CAN BE USED TO ISSUE ERROR MESSAGES
         TO THE JOB MESSAGE PORTION OF THE LISTING.

         ALSO, THE CONVERTER IS A DUMB ANIMAL WHEN IT COMES TO
         SYNTAX CHECKING.  CHECKING IS MADE FOR KEYWORD VALUES,
         BUT NONE IS MADE ON THE VALUE FOR THE KEYWORD.  IE.,
         50 CHARACTER DATA SET NAMES, 20 CHARACTER VOLUME SERIAL
         NUMBERS, AND NUMEROUS SYNTAX ERRORS CAN PASS UNDETECTED
         THROUGH THE CONVERTER.  THESE ERRORS WILL BE CAUGHT BY
         THE INTERPRETER WHEN THE JOB GOES INTO EXECUTION, BUT
         THIS EXIT MUST PROCESS THEM.  CURRENTLY, ALL DETECTED
         ERRORS OF THIS TYPE WILL ISSUE A MESSAGE DESCRIBING THE
         ERROR AND FLAG THE JOB TO FAIL.  THE ESTAE ROUTINE,
         WHEN ENTERED FOR AN ABEND, WILL SET THE CLASS TO 'A'
         AND RECOVER TO PROTECT THE CONVERSION SUBTASK FROM ABEND
         AND CONSEQUENT LOSS OF THE JOB.

1        CLASS DETERMINATION IS MADE BY KEEPING A COUNT OF ALL
         OF THE MOUNTABLE DEVICES USED PER STEP.  THESE COUNTS
         ARE SAVED IN AN INTERNAL TABLE TO BE PROCESSED AT END
         OF INTERNAL TEXT.  ALSO SAVED IN THE TABLE ARE ENTRIES
         FOR DD STATEMENTS WHICH USED MOUNTABLE DEVICES
         FOR USE IN REFERBACKS AND UNIT=AFF.  IF THE UNIT
         HAS NOT BEEN DETERMINED AT THE END OF PROCESSING
         FOR A DD STATEMENT, THE CATALOG IS SEARCHED.  IF THE
         CATALOGED DEVICE IS SYSDA, THE UCBS ARE SEARCHED
         TO DETERMINE IF THE PACK IS MOUNTED AS PRIVATE,
         RESERVED, OR PERMANENTLY RESIDENT.  IF THE PACK
         IS NOT FOUND, A PRIV DISK MOUNT WILL BE CHARGED.
         CLASS IS SET ON THE BASIS OF THE MAXIMUM NUMBER OF TAPES
         PER STEP, MAXIMUM NUMBER OF PRIV DASD DEVICES PER STEP,
         TOTAL MAXIMUM MOUNTABLE DEVICES PER STEP, MAXIMUM REGION
         PER STEP, AND ESTIMATED EXECUTION TIME FOR JOB.

         INPUT TO THIS EXIT DURING TESTING WAS CREATED BY USING
         ONE OF THE LATEST VERSIONS OF "QUEUE" ON THE MODS TAPES
         WHICH ALLOWS ACCESS TO THE INTERNAL TEXT DATA SET
         FILE 5.  ONCE LISTING THE INTERNAL TEXT DATASET, THE
         USER CAN THEN ENTER "SAVE DSN" AND CREATE A DATASET
         WHICH THE TSO DRIVER CAN USE.

         THE TSO DRIVER PROGRAM IS TESTJES OR TESTJ136.  READ THE
         DOCUMENTATION FOR THAT PROGRAM.

1        THERE ARE SEVERAL ASSEMBLER VARIABLES AVAILABLE TO TAILOR
         THE PROGRAM TO CERTAIN OPTIONS.

         &TSO     'NO'         ASSEMBLE FOR TSO TESTING
         &CAMLST  'YES'        SEARCH CATALOG FOR DATASETS
         &ERRMSG  'YES'        PRODUCE JOBFAILED BY EXIT MESSAGE
         &SDUMP   'YES'        PRODUCE CONSOLE DUMP FOR ABENDS
         &FLUSH   'YES'        FLUSH JOB FOR STANDARDS VIOLATIONS
         &MODIFY  'YES'        MODIFY JOB CLASS IN JCT AND JQE
         &UCBSEAR 'YES'        SEARCH THE UCBS FOR UNMOUNTED PACKS

         &TSO

         WHEN TESTING THIS EXIT UNDER THE TSO INTERFACE, THE LOCAL
         VARIABLE &&TSO SHOULD BE CHANGED TO 'YES' FROM 'NO' TO
         CHANGE THE $$WTO INSTRUCTIONS TO WTO INSTRUCTIONS AND
         BYPASS THE ESTAE MACROS SO THAT THE TEST COMMAND CAN
         DETERMINE THE ADDRESS OF THE ABEND.


         &CAMLST

         THE ONLY WAY THAT THE EXIT CAN DETERMINE THE DEVICE TYPE
         FOR CATALOGED DATA SETS IS TO ISSUE THE CAMLST LOCATE
         MACRO FOR EVERY DATASET FOR WHICH NO UNIT IS SPECIFIED.
         THIS HAS TREMENDOUS OVERHEAD, BUT IS REQUIRED TO SET THE
         JOB CLASS CORRECTLY BASED ON THE NUMBER OF MOUNTABLE
         UNITS.


         &ERRMSG

         A MESSAGE WILL BE WRITTEN TO THE CONSOLE AND THE JOBLOG
         FOR THE JOB WHENEVER A STANDARDS VIOLATION IS DETECTED
         BY THE EXIT.  WITHOUT THIS MESSAGE, THE PERSON WHO
         SUBMITTED THE JOB MAY HAVE DIFFICULTY DETERMINING THAT
         THE JOB WAS FLUSHED FOR A VIOLATION.  THE OPTION TO
         BYPASS THE MESSAGE IS AVAILABLE HOWEVER.


         &SDUMP   'YES'        PRODUCE CONSOLE DUMP FOR ABENDS

         A CONSOLE DUMP CAN BE TAKEN BY THE ERROR RECOVERY ROUTINE
         WHEN REQUESTED BY THE OPTION.  SINCE ERRORS ARE HOPEFULLY
         FEW AND FAR BETWEEN, IT PROBABLY IS A GOOD IDEA TO TAKE A
         DUMP WHEN THEY OCCUR.  THE DUMP CAN BE CUT OFF IF DESIRED.


         &FLUSH   'YES'        FLUSH JOB FOR STANDARDS VIOLATIONS

         THE EXIT CAN BE RUN IN "NOFLUSH" MODE DURING WHICH TIME
         ALL ERROR MESSAGES WILL BE ISSUED, BUT THE JOB WILL NOT
         TERMINATED BY THE EXIT.  THIS IS ESPECIALLY USEFUL DURING
         IMPLEMENTATION.


1        &MODIFY  'YES'        MODIFY JOB CLASS IN JCT AND JQE

         THE JOB CLASS OF THE JOB CAN BE SET BY THE EXIT BASED
         ON THE RESOURCE REQUIREMENTS OF THE JOB.  THE MODIFICATION
         OF THE JOB CLASS IS MADE BY MODIFYING THE JOBCLASS FIELDS
         IN THE JCT AND THE JQE SINCE THEY WILL BE REWRITTEN AND
         REQUEUED FOLLOWING CONVERSION.  IT MAY BE NOTED THAT THERE
         IS CODE IN THE EXIT TO SET JOB "RESOURCE" INDICATORS BASED
         ON JOB CATAGORY, PROGRAM NAME, AND OTHER CRITERIA.  THIS
         CODE IS NOT CURRENTLY BEING USED AND IS IN THE PROGRAM
         FOR INFORMATIONAL PURPOSES ONLY.  THIS CAN BE USED WITH
         THE MELLON BANK RESOURCE MOD WHICH IS AVAILABLE ON THE
         MODS TAPE (I THINK).  IF YOU TRY TO INCORPORATE THIS CODE
         INTO THE RESOURCE MOD, ALL YOU SHOULD HAVE TO DO IS TO
         "OR" THE PROPERLY SETUP RESOURCE BITS INTO THE EXISTING
         BITS IN THE JQE.  GOOD LUCK.


         &UCBSEAR 'YES'        SEARCH UCBS FOR UNMOUNTED PACKS

         THE EXIT SEARCHES THE UCBS TO DETERMINE IF THE DASD
         VOLUMES REFERENCED BY A DD STATEMENT ARE MOUNTED.  THE
         JOB CAN BE CHARGED FOR THE MOUNT OR TERMINATE WITH A
         JCL ERROR AS IS CURRENTLY THE CASE.

1                  JOB CARD FIELDS PROCESSED

         1)  JOBNAME
         2)  ACCOUNTING FIELD
             THE FORMAT OF THE FIRST ACCOUNTING IS VERIFIED BY AN
             SVC ROUTINE.  OTHER INSTALLATIONS WILL HAVE TO INSERT
             THEIR OWN VERIFICATION ROUTINES IN THAT AREA OF CODE.
         3)  PROGRAMMER NAME
             THE PROGRAMMER NAME IS SAVED BUT IS CURRENTLY NOT
             BEING USED.  IT COULD BE USED AS ANOTHER SOURCE OF
             INFORMATION FOR AUTHORIZATION CHECKING.
         4)  JOB CLASS
             THE JOB CLASS IS SAVED SINCE CERTAIN JOB CLASS MAY BE
             SPECIFIED FOR SPECIAL SITUATIONS EVEN THOUGH THE
             RESOURCES FOR THIS CLASS MAY HAVE TO BE VERIFIED.
         5)  TIME
             IF TIME IS NOT SPECIFIED ON THE JOB CARD, THE
             INTERNAL TEXT WILL BE MODIFIED TO SET THE JOB
             DEFAULT TIME TO 1 MINUTE OF CPU.
             ALSO THE USE OF TIME=1440 IS RESTRICTED TO CERTAIN
             CATAGORIES OF JOBS.
         6)  REGION
             THE USE OF REGION ON THE JOB CARD IS RESTRICTED
             TO CERTAIN CATAGORIES OF JOBS.  REGION SHOULD ONLY
             BE SPECIFIED ON THE EXECUTE CARD.

1                 EXEC CARD FIELDS PROCESSED

         1)  PGM
             THE PROGRAM NAME IS PROCESSED TO SET "RESOURCE"
             ROUTINGS.  OTHER USES COULD BE TO RESTRICT THE
             USE OF CERTAIN PROGRAMS.
         2)  REGION
             THE STEP REGION SIZE IS SAVED TO USE IN THE CLASS
             DETERMINATION ROUTINE.
         3)  TIME
             THE TIME PARAMETER IS CHECKED TO PREVENT THE USE
             OF TIME=1440 BY UNAUTHORIZED JOBS.

1                   DD CARD FIELDS PROCESSED

         1)  DDNAME
             THE DDNAME IS SAVED IN A TABLE FOR POSSIBLE USE IN
             THE REFERBACK ROUTINE WHEN NEEDED.
         2)  DUMMY
             A DUMMY FILE WILL BE BYPASSED.
         3)  DSN
             THE DSNAME IS SAVED IN A TABLE FOR POSSIBLE USE IN
             THE REFERBACK ROUTINE, BY THE UNIT DETERMINATION
             ROUTINE OR BY THE AUTHORIZATION CHECKING ROUTINE.

                             N O T E

             IN ADDITION TO STANDARD DATASET NAMES, GENERATION
             DATA GROUPS AND REFERBACKS WILL BE PROCESSED.

         4)  DISP
             THE DISP IS PROCESSED TO CHECK FOR ILLEGAL DISPOSITION
             ON JOBLIB, JOBCAT, STEPLIB, STEPCAT, OR SYSTEM DATA
             SET.
         5)  UNIT
             THE UNIT NAME AND THE UNIT COUNT ARE SAVED IN CASE
             MULTIPLE UNITS OR PARALLEL MOUNTING IS REQUESTED.
             A UNIT NAME TABLE IS IN THE PROGRAM TO DETERMINE THE
             ATTRIBUTES OF THE SPECIFIED UNITNAME.
             UNIT = AFF IS ALSO PROCESSED.
         6)  VOL
             THE VOLUME COUNT IS SAVED IN CASE PARALLEL MOUNTING
             IS REQUESTED.
         7)  VOL=SER
             THE NUMBER OF VOL/SERS IS SAVED IN CASE PARALLEL
             MOUNTING IS REQUESTED.  THE FIRST VOLSER IS SAVED
             SO THAT ANY DD STATEMENTS WITHIN THE SAME STEP WHICH
             USE THE SAME VOLSER WILL USE IMPLIED UNIT=AFF
             PROCESSING.
         8)  VOL=REF
             THE VOL=REF IS USED TO SEARCH THE TABLE OF SAVED
             MOUNTABLE DEVICES TO DETERMINE WHETHER OR NOT THE
             VOLUME REFERRED TO IS ON A MOUNTABLE DEVICE.

1                   OUTPUT CARD FIELDS PROCESSED

         1)  PRTY
             TEST JOBS ARE NOT ALLOWED TO USE ALTER THE STANDARD
             PRIORITY OF THEIR OUTPUT.

1        IF UNIT HAS NOT BEEN DETERMINED, THE UNIT TYPE MUST
         BE SEARCHED FOR IN THE FOLLOWING ORDER:

         1)  THE DSNAME TABLE MAINTAINED BY THIS EXIT SINCE THE
             DATASET MAY HAVE BEEN CATALOGED OR PASSED BY A
             PREVIOUS DD STATEMENT.
         2)  THE SYSTEM CATALOG
         3)  THE SYSTEM UCBS MUST BE SEARCHED TO SEE IF THE
             REQUESTED DASD VOLUME IS MOUNTED OR ONLY MOUNTED
             PRIVATE IN WHICH CASE IT WILL BE DISMOUNTED AT END
             OF JOB.  IF NOT FOUND OR PRIVATE, IT IS A "PRIV"
             UNIT.

1        THE JOB CLASS DETERMINATION ROUTINE WILL USE ONY ONE OF
         SEVERAL TABLES DEPENDING ON JOB CATAGORY TO FIND A MATCH
         ON RESOURCES REQUIRED AND THE CORRESPONDING JOB CLASS.
         NOTE THAT SEVERAL CATAGORIES OF JOBS MAY SPECIFY A JOB
         CLASS TO SINGLE THREAD A SERIES OF JOBS OR BYPASS CERTAIN
         RESTRICTIONS.  SOME OF THESE MAY BE CHECKED FOR EXCEEDING
         THE ALLOWABLE RESOURCES FOR THAT CLASS.
         THE FORMAT OF THE CLASS TABLES IS AS FOLLOWS:
             1)  1 BYTE CLASS CODE APPLYING TO ENTRY
             2)  3 BYTE FILLER
             3)  HALFWORD MAXIMUM TAPES PER STEP
             4)  HALFWORD MAXIMUM PRIV UNITS PER STEP
             5)  HALFWORD MAXIMUM TOTAL DEVICES PER STEP
             6)  HALFWORD MAXIMUM REGION PER STEP
             7)  FULLWORD MAXIMUM CPU TIME FOR JOB

                            N O T E

         WHILE THE CLASS TABLES SUPPORT MOUNTABLE DASD DEVICES,
         WE NO LONGER HAVE ANY.  THUS THERE IS A CHECK IN THE
         CODE WHICH WILL FAIL ANY JOB REQUIRING A MOUNTABLE
         DASD DEVICE.

1                   M E S S A G E S


 FUN100I PROCSTEP JOBSTEP  TAPES= XXXXX PACKS= XXXXXX REGION= NNNNNK
         JTIME= XXXXX

 FUN101I CLASS SET TO X

 FUN102I JOB BEING PLACED IN THE SETUP QUEUE BECAUSE OF JOB
         REQUIREMENTS

 FUN103W JOB CLASS REQUESTED DOES NOT ALLOW SETUP - JOB CLASS WILL BE
         RESET

 FUN104I INTERNAL ERROR - MATCH WITHIN CLASS TABLE NOT FOUND

 FUN105W NDM REQUESTS MUST BE ISSUED ONLY FROM A SINGLE STEP JOB

 FUN106W ILLEGAL JOB CLASS REQUESTED BY A TEST JOB

 FUN107I JOB BEING PLACES IN THE OPERATOR HOLD QUEUE BECAUSE OF JOB
         REQUIREMENTS

 FUN001E INTERNAL ERROR - INVALID TEXT STATEMENT TYPE DETECTED

 FUN002E JOBNAME, ACCOUNTING INFORMATION, OR JOBNAME MISSING ON THE
         JOB CARD

 FUN003E LENGTH OF JOBNAME EXCEEDS MAXIMUM OF 8 CHARACTERS

 FUN004E LENGTH OF PROGRAMMER NAME FIELD ON THE JOB CARD EXCEEDS
          A MAXIMUM OF 20 CHARACTERS

 FUN006E TIME VALUE ON THE JOB CARD IS NOT NUMERIC

 FUN007E UNAUTHORIZED USE OF TIME=1440 ON THE JOB CARD

 FUN008E LENGTH OF THE STEP NAME ON THE EXECUTE CARD EXCEEDS
         A MAXIMUM OF 8 CHARACTERS

 FUN009E LENGTH OF THE PROGRAM NAME ON THE EXECUTE CARD EXCEEDS
         A MAXIMUM OF 8 CHARACTERS

 FUN010E INVALID FORMAT FOR THE REGION PARAMETER ON THE EXECUTE CARD

 FUN011E REGION SIZE ON THE EXECUTE CARD IS NOT NUMERIC

 FUN012E INVALID FORMAT FOR THE TIME PARAMETER ON THE EXECUTE CARD

 FUN013E UNAUTHORIZED USE OF TIME=1440 ON THE EXECUTE CARD

1FUN014E LENGTH OF THE DDNAME ON THE DD CARD EXCEEDS MAXIMUM OF
         8 CHARACTERS

 FUN015E INVALID FORMAT FOR THE DSNAME PARAMETER ON THE DD CARD

 FUN016E LENGTH OF THE DSNAME ON THE DD CARD EXCEEDS MAXIMUM OF
         44 CHARACTERS

 FUN017E INVALID FORMAT FOR THE DISP PARAMETER ON THE DD CARD

 FUN018E INVALID FORMAT FOR THE UNIT PARAMETER ON THE DD CARD

 FUN019E UNIT COUNT WITHIN THE UNIT PARAMETER ON THE DD CARD IS NOT
         NUMERIC

 FUN020E INVALID FORMAT FOR THE VOLUME PARAMETER ON THE DD CARD

 FUN021E VOLUME COUNT WITHIN THE VOLUME PARAMETER ON THE DD CARD IS
         NOT NUMERIC

 FUN022E LENGTH OF THE VOLSER PARAMETER(S) ON THE DD CARD EXCEEDS
         A MAXIMUM OF 6 CHARACTERS

 FUN023E UNAUTHORIZED DISPOSITION SPECIFIED FOR A SYSTEM DATA SET

 FUN024E INTERNAL ERROR - LENGTH OF THE INTERNAL TEXT OF AN EXECUTE
         CARD EXCEEDS 512 CHARS

 FUN025E LENGTH OF THE PROC STEP NAME ON THE EXECUTE CARD EXCEEDS
         A MAXIMUM OF 8 CHARACTERS

 FUN026E INVALID FORMAT FOR THE REFERBACK SUBPARAMETER ON THE DD CARD

 FUN027E INVALID DISPOSITION ON A JOBLIB, STEPLIB, JOBCAT, OR STEPCAT
         DD

 FUN028I THE LENGTH OF THE DSNAME ON A VOLUME REFERBACK EXCEEDS A
         MAXIMUM OF 44 CHARACTERS

 FUN029E THE REQUIRED ACCOUNTING FIELD ON THE JOB CARD WAS NOT
         SPECIFIED

 FUN030E INVALID FIRST UNION ACCOUNTING CODE SPECIFIED ON THE JOB CARD

 FUN031W UNAUTHORIZED USE OF JOBCAT OR STEPCAT DD STATEMENT

 FUN032W UNAUTHORIZED ATTEMPT TO ALLOCATE THE JES2 INTERNAL READER

 FUN034E UNAUTHORIZED USE OF PRTY PARAMETER ON OUTPUT STATEMENT

./ ADD NAME=CONSOLE
1                T S O    C O N S O L E    C O M M A N D

         THIS TSO COMMAND WILL ALLOW A TSO USER TO FUNCTION AS
         AN O/S CONSOLE.  THE ORIGINAL CODE WAS PROBABLY THE SPY
         COMMAND ON THE MODS TAPES, BUT IT HAS EVOLVED OVER A
         PERIOD OF TIME.  I REGRET THAT THE NAME OF THE ORIGINATOR
         OF THE CODE HAS BEEN LOST.



         THE COMMAND CHECKS FOR TSO OPERATOR AUTHORITY FOR ACCESS.  IT
         IS RECOMMENDED THAT SOME OTHER FORM OF PROTECTION SUCH AS
         RACF PROGRAM PROTECTION BE USED TO PROTECT THIS COMMAND.  IF
         ALL OF THESE CHECKS ARE MET, THE USER WILL THEN BE PROMPTED
         FOR AN AUTHORIZATION PASSWORD.  WHILE EXCESSIVE, THESE KINDS
         OF CHECKS WERE REQUIRED HERE TO MAKE PEOPLE HAPPY.  SINCE THE
         CONSOLE BUFFERS ARE IN THEIR OWN ADDRESS SPACE UNDER XA AND
         THE COMMAND INTERFACE IS SVC 34, THIS COMMAND MUST BE
         AUTHORIZED.  THIS AUTHORIZATION IS CURRENTLY PROVIDED BY AN
         SVC CALL TO AN SVC WHICH SETS THE COMMAND IN PROTECT KEY 0 TO
         SET THE AUTHORIZED BIT ON.  THUS THE COMMAND CAN PERFORM ALL
         REQUIRED FUCTIONS LATER AS REQUIRED.  THE SVC METHOD OF
         AUTHORIZATION IS USED INSTEAD OF IKJEFTE2 AUTHORIZATION SO
         THAT THIS COMMAND CAN RUN UNDER SPF OPTION 6 WITHOUT TSO/E.

         THE CONSOLE BUFFERS WHICH ARE DISPLAYED UPON ENTRY ARE THOSE
         FOR THE MASTER CONSOLE.  WHEN THE CONSOLE BEING VIEWED IS THE
         MASTER, MASTER-CONSOLE-ONLY COMMANDS SUCH AS DUMP AND FORCE
         CAN BE ISSUED.  CONSOLE SWITCHING CAN BE ACCOMPLISHED BY THE
         CONSOLE=NN COMMAND WHERE NN IS THE CONSOLE NUMBER OF ANOTHER
         CONSOLE.  CONSOLE=M CAN BE ISSUED TO SWITCH BACK TO THE
         MASTER CONSOLE.



1     COMMAND      DESCRIPTION

         ?         DISPLAYS HELP FOR CONSOLE
         END       END; END THE PROGRAM
         FREEZE    FREEZE DISPLAY ON THE CURRENT PAGE
         RELEASE   RELEASE DISPLAY; SHOW ALTERNATING PAGES
         WAITXX    AUTOMATICALLY REFRESH THE SCREEN
                   XX TIMES, THEN RETURN TO NORMAL MODE.
                   IF XX IS NOT ENTERED, 30 ITERATIONS ARE ASSUMED.
                   IF XX = 0, THE COMMAND WILL REFRESH THE SCREEN
                   UNTIL THE TSO USER PRESSES THE ATTENTION KEY
                   TO EXIT FROM THE DISPLAY.  NOTE THAT THE ATTN
                   KEY IS NOT THE PA1 KEY ON AN IBM 3278 TERMINAL.
         DELAYXX   SET DELAY TIME BETWEEN REFRESHES TO XX TENTHS
                   OF A SECOND.
         CONSOLE=NN SWITCH TO CONSOLE NUMBER NN
         RECALL    RECALL LAST ENTERED COMMAND FOR UPDATE
         Z         HALT: END THE PROGRAM


./ ADD NAME=DSAT
1                T S O    D S A T    C O M M A N D

         THIS TSO COMMAND WILL ALLOW A TSO USER TO LIST DATA SET
         ATTRIBUTES AT A SPECIFIED INDEX LEVEL.  THE CODE IS
         LOOSELY BASED ON A COMMAND FROM FLORIDA POWER AND LIGHT
         BUT DOES NOT HAVE ALL OF THE OPTIONS.  THIS VERSION WILL
         WORK PROPERLY ONLY UNDER DFP USING ICF CATALOGS.  IT WILL
         RETURN GDG BASE INFORMATION AS WELL AS ATTRIBUTES OF VSAM
         DATA SETS.  THE USE OF AN UNDOCUMENTED CATALOG INTERFACE
         ALLOWS THIS INFORMATION TO BE OBTAINED.


    COMMAND FORMAT:

         DSAT DSNAME ALL/DAONLY LONG/SHORT

         WHERE

         DSNAME - THE DATA SET NAME OR INDEX LEVEL FOR WHICH
                  INFORMATION IS TO BE LISTED.  IT DEFAULTS
                  TO THE TSO PREFIX OF THE TSO USER, BUT MUST
                  BE SPECIFIED IF ANY OF THE OTHER OPTIONAL
                  PARAMETERS ARE USED.

         ALL    - DISPLAY ALL OF THE DATA SETS UNDER THE
                  SPECIFIED INDEX LEVEL.

         DAONLY - DISPLAY DATA SETS ON MOUNTED DASD VOLUMES

         LONG   - DISPLAY DCB AND DASD SPACE INFORMATION

         SHORT  - DISPLAY ONLY VOLUME INFORMATION

./ ADD NAME=TESTJ136
1                         T E S T J 1 3 6

         THIS PROGRAM WAS WRITTEN TO TEST THE JES2 EXIT6 PROGRAM
         DESIGNED TO ENFORCE INSTALLATION JCL STANDARDS AND TO
         SET THE APPROPRIATE JOB CLASS BASED ON DEVICES USED.

         THIS VERSION OF THE PROGRAM WILL WORK WITH SP 1.3.6
         OR SP 2.1.5 JES2 ONLY.

         THE INPUT TO THIS PROGRAM IS A SEQUENTIAL FILE OF INTERNAL
         TEXT CREATED USING THE QUEUE COMMAND AVAILABLE ON MOST OF
         THE MODS TAPES.  FILE 5 OF A JOB CAN BE PROCESSED WITH ONE
         OF THE NEWER VERSIONS OF THE QUEUE COMMAND AND THE SAVE
         COMMAND CAN BE USED TO SAVE THIS FILE INTO A DATA SET.

         THE OUTPUT FILE MUST BE A JES2 SYSOUT DATA SET SINCE THE
         EXIT WILL DO A JES2 WRITE INTO THIS DATA SET WHENEVER AN
         ERROR IS DETECTED OR STEP STATISTICS ARE TO BE LISTED.

         THE REQUIRED JES2 CONTROL BLOCKS FOR THE EXIT ARE FAKED
         AND CREATED WITH JUST ENOUGH INFORMATION FOR THE EXIT
         TO FUNCTION.  THE CONTROL BLOCKS CREATED ARE THE JCT,
         PCE, AND JQE.

         THIS PROGRAM MAY BE LINKED INTO A TEST LIBRARY WITH ANY
         NAME BUT MUST HAVE AN ALIAS OF TESTJES TO UTILIZE THE
         ACTUAL ROUTINE ENTRY POINT INSTEAD OF THE JES PROLOGUE
         AT THE MAIN ENTRY POINT.

         THE EXIT MAY BE LINKED INTO A TEST LIBRARY WITH ANY
         NAME BUT MUST HAVE AN ALIAS OF E006STDS TO UTILIZE THE
         ACTUAL ROUTINE ENTRY POINT INSTEAD OF THE JES PROLOGUE
         AT THE MAIN ENTRY POINT.  IT ALSO MUST BE LINKED AS
         REENTRANT FOR THIS TEST PROCEDURE TO WORK.

         WHEN TESTING THIS JES2 EXIT, THE LOCAL VARIABLE &&TSO
         IN THE EXIT SHOULD BE CHANGED TO 'YES' FROM 'NO' TO
         CHANGE THE $$WTO INSTRUCTIONS TO WTO INSTRUCTIONS AND
         BYPASS THE ESTAE MACROS SO THAT THE TEST COMMAND CAN
         DETERMINE THE ADDRESS OF ANY ABENDS.

                   CLIST USED TO TEST JES2 EXIT6

         PROC 1 DSN
         CONTROL NOMSG
         FREE F(INTEXT,JESMSG)
         CONTROL MSG
         ALLOC F(INTEXT) DA(&DSN) SHR
         ALLOC F(JESMSG) SYSOUT(A) HOLD
         TEST USER.LIBRARY(TESTJES)
         LOAD USER.LIBRARY(E006STDS)
         Q E006STDS


./ ADD NAME=TESTJES
1                         T E S T J E S

         THIS PROGRAM WAS WRITTEN TO TEST THE JES2 EXIT6 PROGRAM
         DESIGNED TO ENFORCE INSTALLATION JCL STANDARDS AND TO
         SET THE APPROPRIATE JOB CLASS BASED ON DEVICES USED.

         THIS VERSION OF THE PROGRAM WILL WORK WITH SP 1.3.3
         OR SP 1.3.4 JES2 ONLY.

         THE INPUT TO THIS PROGRAM IS A SEQUENTIAL FILE OF INTERNAL
         TEXT CREATED USING THE QUEUE COMMAND AVAILABLE ON MOST OF
         THE MODS TAPES.  FILE 5 OF A JOB CAN BE PROCESSED WITH ONE
         OF THE NEWER VERSIONS OF THE QUEUE COMMAND AND THE SAVE
         COMMAND CAN BE USED TO SAVE THIS FILE INTO A DATA SET.

         THE OUTPUT FILE MUST BE A JES2 SYSOUT DATA SET SINCE THE
         EXIT WILL DO A JES2 WRITE INTO THIS DATA SET WHENEVER AN
         ERROR IS DETECTED OR STEP STATISTICS ARE TO BE LISTED.

         THE REQUIRED JES2 CONTROL BLOCKS FOR THE EXIT ARE FAKED
         AND CREATED WITH JUST ENOUGH INFORMATION FOR THE EXIT
         TO FUNCTION.  THE CONTROL BLOCKS CREATED ARE THE JCT,
         PCE, AND JQE.

         THIS PROGRAM MAY BE LINKED INTO A TEST LIBRARY WITH ANY
         NAME BUT MUST HAVE AN ALIAS OF TESTJES TO UTILIZE THE
         ACTUAL ROUTINE ENTRY POINT INSTEAD OF THE JES PROLOGUE
         AT THE MAIN ENTRY POINT.

         THE EXIT MAY BE LINKED INTO A TEST LIBRARY WITH ANY
         NAME BUT MUST HAVE AN ALIAS OF EXIT6 TO UTILIZE THE
         ACTUAL ROUTINE ENTRY POINT INSTEAD OF THE JES PROLOGUE
         AT THE MAIN ENTRY POINT.  IT ALSO MUST BE LINKED AS
         REENTRANT FOR THIS TEST PROCEDURE TO WORK.

         WHEN TESTING THIS JES2 EXIT, THE LOCAL VARIABLE &&TSO
         IN THE EXIT SHOULD BE CHANGED TO 'YES' FROM 'NO' TO
         CHANGE THE $$WTO INSTRUCTIONS TO WTO INSTRUCTIONS AND
         BYPASS THE ESTAE MACROS SO THAT THE TEST COMMAND CAN
         DETERMINE THE ADDRESS OF ANY ABENDS.

                   CLIST USED TO TEST JES2 EXIT6

         PROC 1 DSN
         CONTROL NOMSG
         FREE F(INTEXT,JESMSG)
         CONTROL MSG
         ALLOC F(INTEXT) DA(&DSN) SHR
         ALLOC F(JESMSG) SYSOUT(A) HOLD
         TEST USER.LIBRARY(TESTJES)
         LOAD USER.LIBRARY(EXIT6)
         Q EXIT6


./ ADD NAME=$LF
1                   J E S 2    $ L F    C O M M A N D


         A NEW COMMAND HAS BEEN ADDED TO JES2 FOR USE BY THE MVS
         COMPUTER CONSOLE OPERATORS.  IBM DID NOT SEE FIT TO SUPPLY AN
         EASY WAY FOR AN OPERATOR TO DETERMINE WHICH JOBS ARE WAITING
         TO PRINT, WHAT ORDER IN WHICH THESE JOBS WILL PRINT, OR HOW
         MANY LINES ARE TO BE PRINTED.  THE COMMAND SUPPLIED BY IBM IS
         THE $DF COMMAND WHICH ONLY LISTS HOW MANY JOBS ARE WAITING TO
         PRINT AS SEEN IN THE FOLLOWING EXAMPLE:

         $DF
         $HASP621 OUT R=LOCAL    F=STD. C=**** T=**** W= (NONE)  CLASS
                  A=15,R=1,C=1,D=2

1        THIS NEW COMMAND ALLOWS THE OPERATOR TO DETERMINE THE
         JOBNAME, JOB NUMBER, AND NUMBER OF PRINT LINES FOR EACH PRINT
         GROUP.  NOTE THAT THE XS OPERAND IS OPTIONAL FOR USERS OF THE
         XJCF PRODUCT FROM XENOS COMPUTING WHICH GIVES NATIVE JES2
         SUPPORT FOR THE XEROX 9700 PRINTER.  THE FORMAT OF THE NEW
         COMMAND IS AS FOLLOWS:


                        $LF,
                            Q=CLASSES,
                            J=JXXXX-YYYY,
                            R=RXX-RYY,
                            F=FORM,
                            C=FCB,
                            T=UCS,
                            O=OVERLAY,
                            B=Y/N,
                            LIM=LOW-HIGH,
                            XS=S/D/N,
                            HOLD,
                            L
         WHERE

         Q=CLASSES    - OPTIONAL LIST OF UP TO 8 SYSOUT Q CLASSES TO
                        BE LISTED
                        (DETAULTS TO ALL CLASSES)
         J=JXXXX-YYYY - OPTIONAL JOB OR RANGE OF JOBS TO BE LISTED
                        (DEFAULTS TO ALL JOBS)
         R=RXX-YY     - OPTIONAL LIST OF REMOTE DESTINATIONS TO BE
                        LISTED
                        (DEFAULTS TO LOCAL)
         F=FORM       - OPTIONAL SELECTION BY FORM NUMBER
                        (DEFAULTS TO ALL FORMS)
         C=FCB        - OPTIONAL SELECTION BY FCB NUMBER
                        (DEFAULTS TO ALL FCBS)
         T=UCS        - OPTIONAL SELECTION BY UCS OR CHARACTER SET
                        (DEFAULTS TO ALL UCS IDS)
         O=OVERLAY    - OPTIONAL SELECTION BY OVERLAY NAME
                        (DEFAULTS TO ALL OVERLAYS)
         B=Y/N        - OPTIONAL SELECTION BY 3800 BURST SPECIFICATION
                        (Y/N)
                        (DEFAULTS TO ALL VALUES)
         LIM=LOW-HIGH - OPTIONAL SELECTION BY LINE LIMIT RANGE
                        (DEFAULTS TO 0-*)
         XS=S/D/N     - OPTIONAL SELECTION BY XJCF SHIFT SPECIFICATION
                        (SIMPLEX/DUPLEX/NONE)
                        (DEFAULTS TO ALL VALUES)
         HOLD         - OPTIONAL SELECTION OF ONLY JOBS WHICH ARE HELD
                        OR NON-SELECTABLE
                        (DEFAULTS TO ALL JOBS)
         L            - OPTIONAL INDICATION TO USE THE LONG FORM OF
                        RESPONSE FOR MORE DETAIL
                        (DEFAULTS TO S)

1        SINCE THERE MAY BE MANY GROUPS OF OUTPUT WAITING TO PRINT,
         THERE MAY BE MANY CONSOLE MESSAGES GENERATED BY THIS COMMAND.
         THE $DF COMMAND CAN BE USED TO DETERMINE WHICH SYSOUT CLASSES
         ARE OF INTEREST, AND THE $LF COMMAND ENTERED WITH THE ONE OR
         MORE OF THE OPTIONAL OPERANDS TO LIMIT THE NUMBER OF
         MESSAGES.  SOME EXAMPLES OF THE COMMAND AND THE RESPONSES ARE
         AS FOLLOWS:

              $LF,Q=R
              $HASP900 LOGWTR   S 304 LOCAL  Q=R F=STD  XS=D    13702

              $LF,Q=R,L
              $HASP900 LOGWTR   S 304 LOCAL  Q=R F=STD  XS=D    13702
              $HASP900                C=**** T=**** O=**** B=N

              $LF,Q=CDR
              $HASP900 PA300200 J 323 LOCAL  Q=C F=STD  XS=S   237236
              $HASP900 PA300140 J 316 LOCAL  Q=D F=X404 XS=D    36256
              $HASP900 PA300200*J 323 LOCAL  Q=D F=X403 XS=N   187464
              $HASP900 LOGWTR   S 304 LOCAL  Q=R F=STD  XS=D    13702

                  THE ASTERISK BESIDE THE JOBNAME IN THE ABOVE EXAMPLE
                  INDICATES THAT THE JOB IS CURRENTLY BEING PRINTED.

              $LF,Q=CDR,XS=D
              $HASP900 PA300140 J 316 LOCAL  Q=D F=X404 XS=D    36256
              $HASP900 LOGWTR   S 304 LOCAL  Q=R F=STD  XS=D    13702

              $LF,R=DX
              $HASP900 SA03PRNT J 465 U1     Q=K F=STD  XD=D      350

                  DX IS THE DESTINATION OF THE DATAGRAPHIX MICROFICHE
                  PROCESSORS.

              $LF,Q=E
              $HASP919 NO OUTPUT QUEUED

./ ADD NAME=$QJ
1
                        JES2 $QJ COMMAND


 EXTENSIVE MODIFICATIONS HAVE BEEN MADE TO CONTROL JOB PROCESSING AT
 FIRST UNION NATIONAL BANK.  THIS HAS CAUSED THE ADDITION OF MANY
 "JOB FLAGS" TO BE ASSIGNED TO A JOB.  THE STANDARD IBM DISPLAY
 COMMAND DOES NOT DISPLAY THESE FLAGS.  A NEW COMMAND WAS WRITTEN TO
 EFFECTIVELY REPLACE THE IBM $DJ OR $D'JOBNAME' COMMAND.  THE FORMAT
 OF THE COMMAND IS IDENTICAL TO THE IBM COMMAND EXCEPT THAT THE LETTER
 'Q' IS SUBSTITUTED FOR THE LETTER 'D'.


 THE OUTPUT FROM THE COMMAND IS ALMOST IDENTICAL TO THE OUTPUT FROM
 THE IBM DISPLAY COMMAND EXCEPT WAITING HAS BEEN ABBREVIATED TO WAIT,
 EXECUTION TO EXEC, CONVERSION TO CONV, AND OUTPUT TO OUT.  THIS
 SHORTENS THE MESSAGE ENOUGH TO ALLOW MOST MESSAGES FOR A JOB TO
 FIT ON ONE LINE.  WHAT HAS CHANGED IS THE LIST OF ATTRIBUTES FOR
 THE JOB WHICH ARE DISPLAYED IMMEDIATELY AFTER THE PRIORITY.  A LIST
 OF THESE ATTRIBUTES FOLLOWS:

    TEST   - THE JOB IS A TEST JOB
    PROD   - THE JOB IS A PRODUCTION JOB
    SETUP  - THE JOB IS WAITING FOR SETUP
    UHOLD  - THE JOB IS WAITING FOR EXECUTION BECAUSE THE JOB HAS
             BEEN HELD BY A SPECIAL TSO COMMAND BY A TSO USER.
    DUPL   - THE JOB IS WAITING FOR EXECUTION BECAUSE A JOB BY THE
             SAME NAME IS EXECUTING
    QHOLD  - THE JOB IS WAITING FOR EXECUTION BECAUSE THE ENTIRE
             EXECUTION CLASS HAS BEEN HELD BY THE OPERATOR
    OHOLD  - THE JOB IS WAITING FOR EXECUTION BECAUSE THE JOB HAS
             BEEN HELD BY A $HJ COMMAND ISSUED BY THE OPERATOR OR
             THE JOB HAS A TYPRUN=HOLD ON THE JOB CARD.
    JCLERR - THE JOB FAILED WITH A JCL ERROR
    ABND   - THE JOB FAILED WITH AN ABEND
    PURGE  - THE JOB IS WAITING FOR AN OPERATOR PURGE COMMAND
             TO TAKE EFFECT
    CANCEL - THE JOB IS WAITING FOR AN OPERATOR CANCEL COMMAND
             TO TAKE EFFECT


1
                       $QJ COMMAND FORMAT


         $Q
             J=JXXXX-YYYY
                OR
             J=SXXXX-YYYY
                OR
             J=TXXXX-YYYY
                OR
             'JOBNAME'

                           ,SPOOL
                           ,OWNERID


 WHERE

 J=JXXXX-YYYY - JOB OR RANGE OF JOBS TO BE LISTED
 J=SXXXX-YYYY - JOB OR RANGE OF STARTED TASKS TO BE LISTED
 J=TXXXX-YYYY - JOB OR RANGE OF TSO USERS TO BE LISTED
 'JOBNAME'    - NAME OF JOB TO BE LISTED.  THE NAME DOES NOT HAVE
 'JOBNAME       TO BE FOLLOWED BY A CLOSING QUOTE LIKE THE IBM
 'JOBNAME*'     DISPLAY COMMAND.  THE JOBNAME MAY END IN A '*'
                TO INDICATE THAT ALL JOBS WHICH START WITH THE
                PRECEDING CHARACTERS ARE TO BE LISTED.
 SPOOL        - OPTIONAL REQUEST TO LIST THE NUMBER OF TRACK GROUPS,
                PERCENT OF SPOOL USED, AND A LIST OF ALL SPOOL
                VOLUMES USED BY EACH JOB.
 OWNERID      - OPTIONAL REQUEST TO LIST THE RACF OR JOBPARM "OWNER"
                OF THE JOB.
1
 SINCE THERE MAY BE MANY JOBS REQUESTED BY THIS COMMAND, THERE MAY BE
 MANY CONSOLE MESSAGES GENERATED BY THIS COMMAND.  SOME EXAMPLES OF
 THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:


         $QJ272
         JOB  272 $HASP908 GENER2   WAIT EXEC  1 PRIO 6 TEST ANY


         $QJ303
         JOB  303 $HASP908 GENER2   PRT LOCAL    PUN LOCAL    PRIO 1
                           TEST ANY


         $Q'EC*
         JOB  1023 $HASP908 EC131    ON PRINTER3 PRIO 1 PROD GK81
         JOB  1045 $HASP908 EC141    WAIT EXEC  A PRIO 3 PROD ANY
         JOB  1652 $HASP908 EC130    PRT LOCAL    PUN LOCAL    PRIO 1
                            PROD ABND ANY
         JOB  1972 $HASP908 EC145    WAIT EXEC  A PRIO 4 PROD OHOLD
                            GK81


         $QJ289,SPOOL
         JOB  289 $HASP908 EC130    PRT LOCAL    PUN LOCAL    PRIO 1
                  PROD ABND USES   123 TRACK GROUPS -   5% OF SPOOL ON
                  ($POOL1,3,4)


         $QJ289,OWNER
         JOB  289 $HASP908 EC130    PRT LOCAL    PUN LOCAL    PRIO 1
                  PROD ABND FOR D33997


         $QJ303
                  $HASP919 JOB(S) NOT FOUND

./ ADD NAME=$QN
1
                        JES2 $DN COMMAND


 EXTENSIVE MODIFICATIONS HAVE BEEN MADE TO CONTROL JOB PROCESSING AT
 FIRST UNION NATIONAL BANK.  THIS HAS CAUSED THE ADDITION OF MANY
 "JOB FLAGS" TO BE ASSIGNED TO A JOB.  THE STANDARD IBM DISPLAY
 COMMAND DOES NOT DISPLAY THESE FLAGS.  A NEW COMMAND WAS WRITTEN TO
 EFFECTIVELY REPLACE THE IBM $DN COMMAND.  THE FORMAT OF THE COMMAND
 IS IDENTICAL TO THE IBM COMMAND EXCEPT FOR SOME NEW ADDED
 PARAMETERS.  AFTER ALL SELECTED JOBS HAVE BEEN DISPLAYED, THE
 HASP946 MESSAGE WILL BE DISPLAYED GIVING THE PERCENT SPOOL
 UTILIZATION.  IF NO JOBS MEET THE DISPLAY REQUIREMENTS, ONLY THE
 HASP946 MESSAGE WILL BE DISPLAYED.  THE IBM $DN COMMAND CAN STILL
 BE ACCESSED BY USING ENTERING $QN INSTEAD.

 THE OUTPUT FROM THE COMMAND IS ALMOST IDENTICAL TO THE OUTPUT FROM
 THE IBM DISPLAY COMMAND EXCEPT WAITING HAS BEEN ABBREVIATED TO WAIT,
 EXECUTION TO EXEC, CONVERSION TO CONV, AND OUTPUT TO OUT.  THIS
 SHORTENS THE MESSAGE ENOUGH TO ALLOW MOST MESSAGES FOR A JOB TO
 FIT ON ONE LINE.  WHAT HAS CHANGED IS THE LIST OF ATTRIBUTES FOR
 THE JOB WHICH ARE DISPLAYED IMMEDIATELY AFTER THE PRIORITY.  A LIST
 OF THESE ATTRIBUTES FOLLOWS:

    TEST   - THE JOB IS A TEST JOB
    PROD   - THE JOB IS A PRODUCTION JOB
    SETUP  - THE JOB IS WAITING FOR SETUP
    UHOLD  - THE JOB IS WAITING FOR EXECUTION BECAUSE THE JOB HAS
             BEEN HELD BY A SPECIAL TSO COMMAND BY A TSO USER.
    DUPL   - THE JOB IS WAITING FOR EXECUTION BECAUSE A JOB BY THE
             SAME NAME IS EXECUTING
    QHOLD  - THE JOB IS WAITING FOR EXECUTION BECAUSE THE ENTIRE
             EXECUTION CLASS HAS BEEN HELD BY THE OPERATOR
    OHOLD  - THE JOB IS WAITING FOR EXECUTION BECAUSE THE JOB HAS
             BEEN HELD BY A $HJ COMMAND ISSUED BY THE OPERATOR OR
             THE JOB HAS A TYPRUN=HOLD ON THE JOB CARD.
    JCLERR - THE JOB FAILED WITH A JCL ERROR
    ABND   - THE JOB FAILED WITH AN ABEND
    PURGE  - THE JOB IS WAITING FOR AN OPERATOR PURGE COMMAND
             TO TAKE EFFECT
    CANCEL - THE JOB IS WAITING FOR AN OPERATOR CANCEL COMMAND
             TO TAKE EFFECT


1
                       $DN COMMAND FORMAT


         $DN,
             SYSTEM-ID
                OR
             ANY
                OR
             ALL
                            Q=CNV CLASS
                              XEQ CLASS
                              OUT
                              PPU
                              HOLD
                              XMT DEST1 - DEST2
                            IND
                            V=VOLSER
                            R=DEST1 - DEST2
                            JTYPE=JOBTYPE
                            FLAGS=HOLD  +
                                  OHOLD +
                                  UHOLD +
                                  SETUP +
                                  FAIL  +
                                  ABEND +
                                  JCLERROR
                            OWNERID
                            OWNERID=USERID


 WHERE

 SYSTEM-ID    - THE SYSTEM IS TO DISPLAY THE JOB INFORMATION
                FOR ALL JOBS WHOSE SYSTEM AFFINITIES INCLUDE
                THIS SYSTEM NAME.  THE DEFAULT IS THE SYSTEM-ID
                OF THE SYSTEM ON WHICH THE COMMAND IS ENTERED.
 ANY          - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE
                NO SYSTEM AFFINITY TO ANY CPU AND THUS HAVE AN
                AFFINITY OF "ANY".
 ALL          - THE SYSTEM IS TO DISPLAY ALL JOBS REGARDLESS
                OF ANY SYSTEM AFFINITY.
 Q=CNV CLASS  - THE SYSTEM IS TO DISPLAY ONLY JOBS WAITING FOR
                CONVERSION.  THE OPTIONAL CLASS, STC, OR TSU
                DESIGNATION CAN BE USED TO LIMIT WHICH JOBS
                ARE DISPLAYED.
 Q=XEQ CLASS  - THE SYSTEM IS TO DISPLAY ONLY JOBS WAITING FOR
                CONVERSION OR EXECUTION.  THE OPTIONAL CLASS, STC, OR
                TSU DESIGNATION CAN BE USED TO LIMIT WHICH JOBS ARE
                DISPLAYED.
1
 Q=OUT        - THE SYSTEM IS TO DISPLAY ONLY JOBS WAITING FOR
                OUTPUT PROCESSING.
 Q=PPU        - THE SYSTEM IS TO DISPLAY ONLY JOBS WAITING FOR
                PRINT OR PUNCH PROCESSING.
 Q=HOLD       - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE BEEN
                HELD BY THE OPERATOR.
 Q=XMT DEST   - THE SYSTEM IS TO DISPLAY ONLY JOBS WAITING FOR
                TRANSMISSION TO ANOTHER NJE NODE.  THE OPTIONAL
                DESTINATION OR DESTINATION RANGE CAN BE USED TO
                LIMIT WHICH JOBS ARE DISPLAYED.
 IND          - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE BEEN
                SET TO AFFINITY TO A SPECIAL AFFINITY OF IND.
 V=VOLSER     - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE BEEN
                DATA ON THE SPECIFIED SPOOL VOLUME.
 R=DEST       - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE DEFAULT
                PRINT OR PUNCH FOR THE SPECIFIED DESTINATION OR
                DESTINATION RANGE.  NOTE THAT ANY INDIVIDUAL OUTPUT
                GROUPS TO OTHER THAN THE JOB'S DEFAULT DESTINATION
                WILL NOT BE DISPLAYED.
 JTYPE=TYPE   - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE A JOB
                TYPE MATCHING THE SPECIFIED TYPE.  THE ONLY VALUES
                FOR TYPE THAT ARE ALLOWED ARE P FOR PRODUCTION OR
                T FOR TEST.
 FLAGS=LIST   - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH CONTAIN
                THE REQUESTED FLAGS.  MORE THAN ONE FLAG VALUE CAN
                BE SPECIFIED BY SEPARATING THE FLAG NAMES WITH A
                '+' SIGN.  IF MORE THAN ONE FLAG VALUE IS LISTED,
                ONLY JOBS WHICH MATCH ALL REQUESTS WILL BE DISPLAYED.
                FOR EXAMPLE, FLAGS=OHOLD+JCLERROR WILL DISPLAY ONLY
                JOBS ON OPERATOR HOLD WHICH HAVE FAILED WITH A JCL
                ERROR.
 FLAGS=HOLD   - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH ARE ON
                OPERATOR HOLD, USER HOLD, OR SETUP HOLD.  THIS FLAG
                VALUE IS EQUIVALENT TO OHOLD+UHOLD+SETUP.
 FLAGS=OHOLD  - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH ARE ON
                OPERATOR HOLD.
 FLAGS=UHOLD  - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH ARE ON
                USER HOLD.
 FLAGS=SETUP  - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH ARE ON
                SETUP HOLD.
 FLAGS=FAIL   - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE FAILED
                WITH AN ABEND OR JCL ERROR.  THIS FLAG VALUE IS
                EQUIVALENT TO ABEND+JCLERROR.
 FLAGS=ABEND  - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE FAILED
                WITH AN ABEND.
 FLAGS=JCLERR - THE SYSTEM IS TO DISPLAY ONLY JOBS WHICH HAVE FAILED
                WITH A JCL ERROR.
 OWNERID      - THE SYSTEM IS TO INCLUDE THE OWNERID OF THE JOB WITH
 OWNERID=OWNER  THE REST OF THE JOB INFORMATION.  IF AN OPTIONAL
                OWNERID VALUE IS SPECIFIED, ONLY JOBS FOR THAT USER
                WILL BE DISPLAYED.

1
 SINCE THERE MAY BE MANY JOBS REQUESTED BY THIS COMMAND, THERE MAY BE
 MANY CONSOLE MESSAGES GENERATED BY THIS COMMAND.  SOME EXAMPLES OF
 THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:


         $DN,Q=XEQ
         JOB  272 $HASP908 GENER2   WAIT EXEC  1 PRIO 6 TEST ANY
                  $HASP946   41 PERCENT SPOOL UTILIZATION


         $DN,Q=XEQ,OWNERID
         JOB  272 $HASP908 GENER2   WAIT EXEC  1 PRIO 6 TEST ANY
                           FOR S40384
                  $HASP946   41 PERCENT SPOOL UTILIZATION


         $DN,Q=PPU
         JOB  303 $HASP908 GENER2   PRT LOCAL    PUN LOCAL    PRIO 1
                           TEST ANY
                  $HASP946   62 PERCENT SPOOL UTILIZATION


         $DN,JT=P
         JOB  1023 $HASP908 EC131    ON PRINTER3 PRIO 1 PROD GK81
         JOB  1045 $HASP908 EC141    WAIT EXEC  A PRIO 3 PROD ANY
         JOB  1652 $HASP908 EC130    PRT LOCAL    PUN LOCAL    PRIO 1
                            PROD ABND ANY
         JOB  1972 $HASP908 EC145    WAIT EXEC  A PRIO 4 PROD OHOLD
                            GK81
                  $HASP946   19 PERCENT SPOOL UTILIZATION


         $DN,FLAGS=FAIL
         JOB  289 $HASP908 EC130    PRT LOCAL    PUN LOCAL    PRIO 1
                           PROD ABND
                  $HASP946   33 PERCENT SPOOL UTILIZATION


         $DN,Q=XEQ
                  $HASP946   46 PERCENT SPOOL UTILIZATION

./ ADD NAME=$TJIT
1


                        JES2 $TJIT COMMAND


 EXTENSIVE MODIFICATIONS HAVE BEEN MADE TO THE JES2 JOB SEPARATOR
 ROUTINES AT FIRST UNION BANK TO PROVIDE JOB DISTRITBUTION INFORMATION
 WHICH IS NOT NORMALLY AVAILABLE FOR A JOB.  THIS INFORMATION IS
 EXTRACTED FROM A VSAM FILE BY JOBNAME FOR PRODUCTION JOBS OR BY
 OWNERID FOR TEST JOBS.  TO AVOID THE EXPOSURE OF JES2 GOING INTO A
 WAIT STATE WHILE READING THE VSAM FILE, THE ACTUAL I/O TO THE
 FILE IS PERFORMED BY A SEPARATE TASK.  ANY JES2 ROUTINE CAN REQUEST
 INFORMATION FROM THIS TASK BY QUEUEING A REQUEST TO THE JIT OR
 JOB INFORMATION TASK.  BECAUSE THE JIT IS DEPENDENT UPON BEING ABLE
 TO READ A VSAM FILE, THE FACILITY CAN BE EFFECTIVELY DISABLED DUE
 TO I/O BOTTLENECKS, I/O ERRORS, OR A DAMAGED FILE.  A MECHANISM
 HAS BEEN PROVIDED TO DISPLAY AND/OR ALTER THE STATUS OF THE JIT.


                         COMMAND FORMAT

    $TJIT
             ,STOP
             ,START
             ,RESTART
             ,STATUS
             ,LIST=JIT.KEY
             ,DSN=VSAM.FILE.DSNAME

 STOP      - THE JIT IS TO CLOSE AND FREE THE VSAM FILE.  ANY REQUEST
             FOR INFORMATION WILL BE PROCESSED AS IF THE REQUESTED
             INFORMATION WAS NOT FOUND.  THIS MUST BE THE FIRST
             OPERAND IF SPECIFIED.

 START     - THE JIT IS TO ALLOCATE AND OPEN THE VSAM FILE.  NORMAL
             JIT PROCESSING IS TO RESUME.  THIS MUST BE THE FIRST
             OPERAND IF SPECIFIED.

 RESTART   - THE JIT IS TO CONDITIONALLY CLOSE AND FREE THE VSAM FILE
             IF IT IS CURRENTLY IN USE AND THEN REALLOCATE AND OPEN
             THE FILE.  THIS COULD FOLLOW A CHANGE IN THE VSAM FILE
             NAME AND WOULD RESULT IN SWITCHING TO ANOTHER FILE
             WITHOUT INTERRUPTION OF PROCESSING.  THIS MUST BE THE
             FIRST OPERAND IF SPECIFIED.

 STATUS    - THE STATUS OF THE JIT IS TO BE EXAMINED BY THE COMMAND
             ROUTINE AND RETURN THE INFORMATION TO THE OPERATOR.
             JIT SERVICES ARE NOT USED TO SUPPLY THIS INFORMATION.
             THIS MUST BE THE FIRST OPERAND IF SPECIFIED.

1


 LIST=KEY  - THE JIT IS TO RETURN THE JOB INFORMATION RECORD TO THE
             COMMAND ROUTINE TO BE DISPLAYED.  THE KEY WILL BE THE
             OWNERID FOR TEST OR THE JOBNAME FOLLOWED BY THE OPTIONAL
             OUTPUT GROUP NAME FOR PRODUCTION.  IF THE OPTIONAL OUTPUT
             GROUP NAME IS SPECIFIED AND THE JOBNAME IS LESS THAN 8
             CHARACTERS LONG, THE JOBNAME MUST BE PADDED WITH "." OR
             "*" TO FILL IN THE SPACE PRIOR TO THE OUTPUT GROUP NAME.
             THIS MUST BE THE FIRST OPERAND IF SPECIFIED.

 DSN=DSN   - THE DSNAME OF THE VSAM FILE USED BY THE JIT IS TO BE
             ALTERED.  THIS WILL NOT AFFECT CURRENT JIT PROCESSING
             BUT WILL TAKE EFFECT ON THE NEXT STOP/STOP SEQUENCE OR
             ON THE NEXT RESTART REQUEST.  NOTE THAT THIS OPERAND CAN
             BE USED AT THE SAME TIME AS A RESTART REQUEST SO THAT THE
             NAME CAN BE CHANGED AND THEN ACTIVATED AT THE SAME TIME.

1


                  MESSAGES FROM THE $TJIT COMMAND


         $HASP990 INSUFFICIENT OPERANDS

                  AT LEAST ONE OPERAND MUST BE SPECIFIED ON THE $TJIT
                  COMMAND

         $HASP990 ......... INVALID OPERAND

                  THE LISTED OPERAND IS EITHER INVALID OR SPECIFIED
                  OUT OF SEQUENCE.  SEVERAL OPERANDS MUST BE THE FIRST
                  OPERAND IN THE LIST IF SPECIFIED.

         $HASP990 DSNAME SUCCESSFULLY MODIFIED

                  THE $TJIT COMMAND WAS SPECIFIED WITH THE DSN=
                  OPERAND.  THE DSNAME VALUE WAS STORED FOR FUTURE
                  JIT START OR RESTART PROCESSING.

         $HASP990 JOB INFORMATION TASK NOT INITIALIZED

                  THE INTERNAL CONTROL BLOCK STRUCTURE INDICATES
                  THAT THE JIT WAS NOT INITIALIZED WHEN JES2 WAS
                  STARTED.  JIT PROCESSING WILL BE BYPASSED

         $HASP990 JIT ....... PROCESSING FAILED

                  AN ERROR OCCURRED ATTEMPTING TO PROCESS ONE
                  OF THE $TJIT OPTIONS.  A MESSAGE GIVING THE
                  REASON FOR THE FAILURE WILL PRECEDE THIS
                  MESSAGE.

         $HASP990 JIT ....... PROCESSING SUCCESSFULLY COMPLETED

                  THE REQUESTED $TJIT OPTION WAS SUCCESSFULLY
                  PROCESSED.  ADDITIONAL MESSAGES MAY FOLLOW
                  IF INFORMATION FROM THE JIT WAS REQUESTED.
1


         $HASP990 JIT DSN=............
         $HASP990 JIT STOPPED/STARTED INIT ALLOC OPENED I/O WAIT
                      ACTIVE QUEUE=NNN

                  THESE MESSAGES ARE IN RESPONSE TO THE STATUS
                  OPTION.  THE FIRST MESSAGE WILL LIST THE DSNAME
                  OF THE VSAM FILE.  THIS MAY NOT BE THE NAME OF
                  THE FILE CURRENTLY IN USE IF THE NAME HAS BEEN
                  ALTERED.  THE SECOND MESSAGE WILL LIST ATTRIBUTES
                  OF THE TASK AS FOLLOWS:

                  STOPPED   - THE JIT INTERFACE IS STOPPED BECAUSE
                              OF INITIALIZATION FAILURES OR OPERATOR
                              REQUEST.

                  STARTED   - THE JIT INTERFACE IS AVAILABLE FOR
                              NORMAL PROCESSING.

                  INIT      - THE INTERNAL VSAM CONTROL BLOCKS HAVE
                              BEEN INITIALIZED.

                  ALLOC     - THE VSAM FILE HAS BEEN ALLOCATED.

                  OPENED    - THE VSAM FILE IS OPENED FOR PROCESSING.

                  I/O       - A VSAM I/O REQUEST IS IN PROCESS.

                  WAIT      - THE JIT IS WAITING FOR WORK.

                  ACTIVE    - THE JIT IS CURRENTLY PROCESSING A
                              REQUEST.

                  QUEUE=NNN - THE JIT QUEUE HAS NNN REQUESTS
                              PENDING.


         $HASP990 JOBNAME =........  GROUPID =........
         $HASP990 PDIST   =........  SDIST   =........
         $HASP990 DUEOUT  =....      SYSCLASS=.
         $HASP990 DESCR   =........  UCC7FLG =.
         $HASP990 NAME    =....................
         $HASP990 PHONE   =...............
         $HASP990 LOCATION=...............
         $HASP990 DEPT    =....................
         $HASP990 MAILCODE=..........
         $HASP990 INS 1   =.........................
         $HASP990 INS 2   =.........................
         $HASP990 INS 3   =.........................
         $HASP990 INS 4   =.........................

                  THESE MESSAGES ARE IN RESPONSE TO THE LIST=
                  OPTION.  THESE MESSAGES WILL APPEAR EVEN IF
                  LIST REQUEST FAILS SINCE IT WILL DISPLAY THE
                  JOBNAME AND OUTPUT GROUP NAME WHICH WAS
                  REQUESTED.
1


                  MESSAGES FROM THE JOB INFORMATION TASK


         $HASP970 JOB INFORMATION SUBTASK INITIALIZATION BEGINNING

                  THIS MESSAGE SHOULD APPEAR WHEN JES2 IS STARTED
                  WHEN THE SYSTEM IS IPLED OR JES2 IS RESTARTED
                  FOR A HOT START.

         $HASP970 JOB INFORMATION SUBTASK TERMINATION REQUESTED

                  THIS MESSAGE SHOULD APPEAR WHEN JES2 IS STOPPED
                  FOR ANY REASON.

         $HASP970 INVALID JITB CHAIN ENCOUNTERED IN JOB INFORMATION
                  TASK

                  THIS JIT IS ATTEMPTING TO TAKE A REQUEST FROM THE
                  CHAIN OF REQUESTS, AND ONE OF THE REQUESTS IN THE
                  CHAIN IS NOT A JITB.  SINCE THE REQUEST CANNOT BE
                  PROPERLY HANDLED, IT IS LIKELY THAT ONE OR MORE
                  OF THE JES2 PROCESSORS WILL BE PERMANENTLY LOCKED
                  UP WAITING ON JIT PROCESSING.  BECAUSE OF THIS,
                  JES2 WILL BE TERMINATED WITH A SYSTEM FFF ABEND
                  AND A SYSTEM DUMP AUTOMATICALLY TAKEN.  JES2 CAN
                  THEN BE HOT STARTED TO RESUME PROCESSING.

         $HASP970 JOB INFORMATION FILE NOT STOPPED

                  A START REQUEST WAS RECEIVED AND THE JIT WAS
                  ALREADY STARTED.  A STOP REQUEST MUST FIRST BE
                  PROCESSED BEFORE A START REQUEST CAN BE ISSUED.

         $HASP970 JOB INFORMATION FILE CANNOT BE STARTED

                  AN INTERNAL ROUTINE FAILURE OCCURRED WHILE
                  PROCESSING A START REQUEST.  ANOTHER HASP970
                  MESSAGE HAS BEEN ISSUED GIVING THE REASON FOR
                  THE FAILURE.

         $HASP970 JOB INFORMATION FILE NOT STARTED

                  A STOP REQUEST WAS RECEIVED AND THE JIT WAS
                  ALREADY STOPPED.  A START REQUEST MUST FIRST BE
                  PROCESSED BEFORE A STOP REQUEST CAN BE ISSUED.

         $HASP970 JOB INFORMATION FILE CANNOT BE STOPPED

                  AN INTERNAL ROUTINE FAILURE OCCURRED WHILE
                  PROCESSING A STOP REQUEST.  ANOTHER HASP970
                  MESSAGE HAS BEEN ISSUED GIVING THE REASON FOR
                  THE FAILURE.
1


         $HASP970 JOB INFORMATION FILE CANNOT BE RESTARTED

                  AN INTERNAL ROUTINE FAILURE OCCURRED WHILE
                  PROCESSING A RESTART REQUEST.  ANOTHER HASP970
                  MESSAGE HAS BEEN ISSUED GIVING THE REASON FOR
                  THE FAILURE.

         $HASP970 LENGTH OF DSNAME FOR JOB INFORMATION FILE IS ZERO

                  THE JIT ALLOCATION ROUTINE DETERMINED THAT THE
                  CURRENT DSNAME FOR THE JIT FILE IS BLANK WHICH
                  IS DETECTED WHEN THE LENGTH IS ZERO.  THE START
                  OR RESTART REQUEST IS TERMINATED.

         $HASP970 UNABLE TO ALLOCATE JOB INFORMATION FILE
         $HASP970 SVC99 RC=XX E=XXXX I=XXXX

                  THESE MESSAGES ARE ISSUED WHEN THE ATTEMPT TO
                  ALLOCATE THE JIT FILE IS UNSUCESSFUL.  THE DYNAMIC
                  ALLOCATION RETURN CODE, ERROR CODE, AND INFORMATION
                  CODE WILL AID TECHNICAL SERVICES IN PROBLEM
                  DETERMINATION.

         $HASP970 UNABLE TO GENERATE ACB FOR JOB INFORMATION FILE

                  THE JIT INITIALIZATION ROUTINE FAILED ATTEMPTING TO
                  INITIALIZE THE ACB FOR THE JIT FILE.  THE
                  START/RESTART REQUEST IS TERMINATED.  NOTIFY
                  TECHNICAL SERVICES.

         $HASP970 UNABLE TO GENERATE RPL FOR JOB INFORMATION FILE

                  THE JIT INITIALIZATION ROUTINE FAILED ATTEMPTING TO
                  INITIALIZE THE RPL FOR THE JIT FILE.  THE
                  START/RESTART REQUEST IS TERMINATED.  NOTIFY
                  TECHNICAL SERVICES.

         $HASP970 UNABLE TO MODIFY ACB FOR JOB INFORMATION FILE

                  THE JIT INITIALIZATION ROUTINE FAILED ATTEMPTING TO
                  INITIALIZE THE ACB FOR THE JIT FILE.  THE
                  START/RESTART REQUEST IS TERMINATED.  NOTIFY
                  TECHNICAL SERVICES.

         $HASP970 UNABLE TO MODIFY RPL FOR JOB INFORMATION FILE

                  THE JIT INITIALIZATION ROUTINE FAILED ATTEMPTING TO
                  INITIALIZE THE RPL FOR THE JIT FILE.  THE
                  START/RESTART REQUEST IS TERMINATED.  NOTIFY
                  TECHNICAL SERVICES.

         $HASP970 UNABLE TO OPEN THE JOB INFORMATION FILE

                  THE JIT OPEN ROUTINE DETERMINED THAT THE SYSTEM OPEN
                  REQUEST FAILED. THE START/RESTART REQUEST IS
                  TERMINATED.  NOTIFY TECHNICAL SERVICES.
1


         $HASP970 JOB INFORMATION FILE I/O ERROR R15=XX
                  RPLFDBWD=XXXXXXXX

                  AN I/O ERROR OCCURRED ATTEMPTING TO READ THE JIT
                  FILE.  THE JIT REQUEST IS FAILED.  NOTIFY TECHNICAL
                  SERVICES.

         $HASP970 JOB INFORMATION FILE TASK ABEND - CURRENT REQUEST
                  WILL BE TERMINATED

                  AN ABEND WAS DETECTED IN THE JIT ROUTINE.  RECOVERY
                  WILL BE ATTEMPTED, BUT THE CURRENT REQUEST WILL BE
                  TERMINATED.

./ ADD NAME=$TUCC7
1


                        JES2 $TUCC7 COMMAND


 EXTENSIVE MODIFICATIONS HAVE BEEN MADE TO THE JES2 JOB SEPARATOR
 ROUTINES AT FIRST UNION BANK TO PROVIDE JOB DISTRITBUTION INFORMATION
 WHICH IS NOT NORMALLY AVAILABLE FOR A JOB.  THIS INFORMATION IS
 EXTRACTED FROM A VSAM FILE BY JOBNAME FOR PRODUCTION JOBS OR BY
 OWNERID FOR TEST JOBS.  IF THE VSAM RECORD FOR THIS JOB REQUESTS IT,
 THE SEPARATOR EXIT CAN DEMAND A JOB NETWORK FROM UCC7 FOR THE JOB
 WHICH HAS JUST BEEN PRINTED.  THIS NETWORK MUST BE POSTED BY
 DISTRIBUTION WHEN THIS REPORT IS PLACED IN THE USER'S BIN OR CART.
 THIS ALLOWS TRACKING OF SERVICE LEVEL AGREEMENTS FOR PRODUCTION
 PRINTED OUTPUT.  TO AVOID THE EXPOSURE OF JES2 GOING INTO A WAIT
 STATE WHILE THE UCC7 REQUEST IS BEING PROCESSED, A SEPARATE TASK HAS
 BEEN INITIALIZED TO PROCESS THESE REQUESTS.  ANY JES2 ROUTINE CAN
 DEMAND A NETWORK BY QUEUEING A REQUEST TO THE UCC7 TASK.  BECAUSE THE
 UCC7 INTERFACE PERFORMS EXTERNAL PROCESSING, THE FACILITY CAN BE
 EFFECTIVELY DISABLED DUE TO SYSTEM BOTTLENECKS. A MECHANISM HAS BEEN
 PROVIDED TO DISPLAY AND/OR ALTER THE STATUS OF THE UCC7 TASK.

                         COMMAND FORMAT

    $TUCC7
             ,STOP
             ,START
             ,RESTART
             ,STATUS
             ,DEMAND=JIT.KEY

 STOP      - THE UCC7 TASK IS DISABLE THE UCC7 INTERFACE.  ANY REQUEST
             WILL BE PROCESSED AS IF THE PROCESS FAILED.  THIS MUST BE
             THE FIRST OPERAND IF SPECIFIED.

 START     - THE UCC7 TASK  IS TO RELOAD THE UCC7 INTERFACE MODULE
             AND ENABLE THE UCC7 INTERFACE.  THIS MUST BE THE FIRST
             OPERAND IF SPECIFIED.

 RESTART   - THE UCC7 TASK  IS TO RELOAD THE UCC7 INTERFACE MODULE
             AND ENABLE THE UCC7 INTERFACE.  THIS MUST BE THE FIRST
             OPERAND IF SPECIFIED.

 STATUS    - THE STATUS OF THE UCC7 TASK  IS TO BE EXAMINED BY THE
             COMMAND ROUTINE AND RETURN THE INFORMATION TO THE
             OPERATOR.  UCC7 TASK  SERVICES ARE NOT USED TO SUPPLY
             THIS INFORMATION.  THIS MUST BE THE FIRST OPERAND IF
             SPECIFIED.

 DMD=KEY   - THE COMMAND ROUTINE IS TO READ THE JOB INFORMATION RECORD
             FROM THE JIT ACCORDING TO THE KEY ENTERED.  IF THE UCC7
             REQUESTED INDICATOR IS ON IN THE RECORD, THE UCC7 TASK
             WILL BE POSTED TO DEMAND THE JOB NETWORK.  THE KEY IS THE
             JOBNAME FOLLOWED BY THE GROUP NAME.  IF THE JOBNAME IS
             LESS THAN 8 CHARACTERS LONG, THE JOBNAME MUST BE PADDED
             WITH "." OR "*" TO FILL IN THE SPACE PRIOR TO THE OUTPUT
             GROUP NAME.  THIS MUST BE THE FIRST OPERAND IF SPECIFIED.
1


                  MESSAGES FROM THE $TUCC7 COMMAND


         $HASP990 INSUFFICIENT OPERANDS

                  AT LEAST ONE OPERAND MUST BE SPECIFIED ON THE $TUCC7
                  COMMAND

         $HASP990 ......... INVALID OPERAND

                  THE LISTED OPERAND IS EITHER INVALID OR SPECIFIED
                  OUT OF SEQUENCE.  SEVERAL OPERANDS MUST BE THE FIRST
                  OPERAND IN THE LIST IF SPECIFIED.

         $HASP990 UCC7 TASK TASK NOT INITIALIZED

                  THE INTERNAL CONTROL BLOCK STRUCTURE INDICATES THAT
                  THE UCC7 TASK  WAS NOT INITIALIZED WHEN JES2 WAS
                  STARTED.  UCC7 TASK  PROCESSING WILL BE BYPASSED.

         $HASP990 JOB INFORMATION TASK NOT INITIALIZED

                  THE INTERNAL CONTROL BLOCK STRUCTURE INDICATES
                  THAT THE JIT WAS NOT INITIALIZED WHEN JES2 WAS
                  STARTED.  UCC7 DEMAND  PROCESSING WILL BE BYPASSED
                  SINCE THE JITB CANNOT BE READ.

         $HASP990 UCC7 ....... PROCESSING FAILED

                  AN ERROR OCCURRED ATTEMPTING TO PROCESS ONE
                  OF THE $TUCC7 OPTIONS.  A MESSAGE GIVING THE
                  REASON FOR THE FAILURE WILL PRECEDE THIS
                  MESSAGE.

         $HASP990 UCC7 ....... PROCESSING SUCCESSFULLY COMPLETED

                  THE REQUESTED $TUCC7 OPTION WAS SUCCESSFULLY
                  PROCESSED.  ADDITIONAL MESSAGES MAY FOLLOW
                  IF THE DEMAND PROCESSING WAS REQUESTED.
1


         $HASP990 UCC7 ENABLED/DISABLED INTERFACE LOADED

                  THIS MESSAGES ARE IN RESPONSE TO THE STATUS
                  OPTION.  THIS WILL LIST ATTRIBUTES OF THE TASK
                  AS FOLLOWS:

                  DISABLED  - THE UCC7 INTERFACE IS STOPPED BECAUSE
                              OF INITIALIZATION FAILURES, AN INTERFACE
                              ABEND, OR OPERATOR REQUEST.

                  ENABLED   - THE UCC7 INTERFACE IS AVAILABLE FOR
                              NORMAL PROCESSING.

                  INTERFACE LOADED - THE UCC7 INTERFACE MODULE HAS
                              BEEN SUCESSFULLY LOADED INTO MEMORY.


         $HASP980 UCC7 JOBNAME =........
         $HASP980 UCC7 GROUPID =........

                  THESE MESSAGES ARE IN RESPONSE TO THE DMD= OPTION.
                  THESE MESSAGES WILL APPEAR EVEN IF DEMAND REQUEST
                  FAILS SINCE IT WILL DISPLAY THE JOBNAME AND OUTPUT
                  GROUP NAME WHICH WAS REQUESTED.
1


                      MESSAGES FROM THE UCC7 TASK


         $HASP980 UCC7 SUBTASK INITIALIZATION BEGINNING

                  THIS MESSAGE SHOULD APPEAR WHEN JES2 IS STARTED
                  WHEN THE SYSTEM IS IPLED OR JES2 IS RESTARTED
                  FOR A HOT START.

         $HASP980 UCC7 SUBTASK TERMINATION REQUESTED

                  THIS MESSAGE SHOULD APPEAR WHEN JES2 IS STOPPED
                  FOR ANY REASON.

         $HASP980 INVALID JITB CHAIN ENCOUNTERED IN UCC7 SUBTASK

                  THE UCC7 TASK IS ATTEMPTING TO TAKE A REQUEST FROM
                  THE CHAIN OF REQUESTS, AND ONE OF THE REQUESTS IN
                  THE CHAIN IS NOT A JITB.  SINCE THE REQUEST CANNOT
                  BE PROPERLY HANDLED, IT IS LIKELY THAT ONE OR MORE
                  OF THE JES2 PROCESSORS WILL BE PERMANENTLY LOCKED UP
                  WAITING ON UCC7 TASK PROCESSING.  BECAUSE OF THIS,
                  JES2 WILL BE TERMINATED WITH A SYSTEM FFF ABEND AND
                  A SYSTEM DUMP AUTOMATICALLY TAKEN.  JES2 CAN THEN BE
                  HOT STARTED TO RESUME PROCESSING.

         $HASP980 ERROR LOADING UCC7 INTERFACE MODULE -
                  ABEND SXXX RC=NNNN

                  THE UCC7 TASK ATTEMPTED TO LOAD THE UCC7 INTERFACE
                  MODULE, BUT AN ERROR OCCURRED.  CONTACT TECHNICAL
                  SUPPORT FOR PROBLEM RESOLUTION.

         $HASP980 DEMAND FOR UCC7 NETWORK JJJJJJJJ.NNNNNNNN FAILED -
                  INTERFACE ROUTINE LOAD ERROR

                  THE UCC7 TASK ATTEMPTED TO DEMAND A NETWORK FOR
                  JOBNAME JJJJJJJJ AND OUTPUT GROUP NNNNNNNN BUT IT
                  COULD NOT SINCE A PREVIOUS ATTEMPT TO LOAD THE
                  UCC7 INTERFACE MODULE HAD FAILED.

         $HASP980 DEMAND FOR UCC7 NETWORK JJJJJJJJ.NNNNNNNN FAILED -
                  INTERFACE ROUTINE DISABLED

                  THE UCC7 TASK ATTEMPTED TO DEMAND A NETWORK FOR
                  JOBNAME JJJJJJJJ AND OUTPUT GROUP NNNNNNNN BUT IT
                  COULD NOT SINCE THE INTERFACE WAS DISABLED DUE
                  TO A PREVIOUS ABEND CONDITION OR OPERATOR COMMAND.

         $HASP980 UCC7 INTERFACE TASK ABEND - INTERFACE WILL BE
                  DISABLED

                  AN ABEND WAS DETECTED IN THE UCC7 TASK ROUTINE.
                  RECOVERY WILL BE ATTEMPTED, BUT THE CURRENT REQUEST
                  WILL BE TERMINATED AND THE INTERFACE DISABLED.

./ ADD NAME=$DV
1
                        JES2 $DV COMMAND


 A NEW COMMAND HAS BEEN ADDED TO JES2 FOR USE BY THE MVS COMPUTER
 CONSOLE OPERATORS.  THERE ARE INSTANCES WHERE SOMEONE AT THE OPERATOR
 CONSOLE NEETS TO DISPLAY INFORMATION ABOUT A DASD VOLUME AND ALL THAT
 IS KNOWN IS THE VOLSER OR VOLSER PREFIX.  THE D U,DASD,ONLINE COMMAND
 WAS USED TO DISPLAY ALL VOLUMES AND THE LIST SCANNED FOR THE CORRECT
 VOLSER.  THE $DV COMMAND GIVES THE CONSOLE OPERATOR THE ABILITY TO
 DISPLAY DASD VOLUMES BY VOLSER, VOLSER PREFIX, OR UNIT ADDRESS.

         $DV,MVSRS
         $HASP900 MVSRSG  141 3380   PRIV/RSDNT    202
         $HASP900 MVSRSF  250 3380   PRIV/RSDNT    000
         $HASP900 MVSRS2  252 3380   PRIV/RSDNT    000

 THIS NEW COMMAND ALLOWS THE OPERATOR TO DETERMINE THE UNIT ADDRESS,
 DEVICE TYPE, MOUNT ATTRIBUTES, AND USE COUNT. THE FORMAT OF THE NEW
 COMMAND IS AS FOLLOWS:


1
                       $DV COMMAND FORMAT


         $DV,
             VOLSER
               OR
             @UUU
               OR
             ALL
 WHERE

 VOLSER       - THE COMPLETE VOLSER OR VOLSER PREFIX FOR WHICH
                INFORMATION IS TO BE DISPLAYED.
 @UUU         - AN "@" CHARACTER FOLLOWED BY THE FULL UNIT ADDRESS OR
                ADDRESS PREFIX FOR WHICH INFORMATION IS TO BE
                DISPLAYED.
 ALL          - INDICATED THAT INFORMATION IS TO BE DISPLAYED FOR
                ALL DASD VOLUMES.
1
         $DV,MVSRS
         $HASP900 MVSRSG  141 3380   PRIV/RSDNT    202
         $HASP900 MVSRSF  250 3380   PRIV/RSDNT    000
         $HASP900 MVSRS2  252 3380   PRIV/RSDNT    000

         $DV,MVSRSG
         $HASP900 MVSRSG  141 3380   PRIV/RSDNT    202

         $DV,@141
         $HASP900 MVSRSG  141 3380   PRIV/RSDNT    202

         $DV,DASD
         $HASP919 NO VOLUME(S) FOUND
./ ADD NAME=$SL
1
                        JES2 $SL COMMAND


 MODIFICATIONS HAVE BEEN MADE TO THE STANDARD IBM SETUP PROCESSING
 AT FIRST UNION NATIONAL BANK.  WE HAVE A REQUIREMENT TO BE ABLE TO
 LIST ALL JOBS WHICH HAVE NOT HAD THEIR SETUP REQUIREMENTS MET.
 OPERATIONS MUST ALSO BE ABLE TO RE-LIST THE JES2 SETUP CARDS WHICH
 DESCRIBE THE SETUP REQUIREMENTS.  THE $SL COMMAND WAS WRITTEN TO
 PROVIDE THIS FACILITY.


1
                       $SL COMMAND FORMAT


         $SL

                  OR

         $SL
             J=JXXXX-YYYY
                OR
             J=SXXXX-YYYY
                OR
             J=TXXXX-YYYY

                           ,JECL


 WHERE

 NO OPERANDS REQUESTS A LIST OF ALL JOBS WHICH ARE WAITING
 FOR SETUP.  SEE THE DOCUMENTATION ON THE $QJ COMMAND FOR
 DETAILS ON THE MESSAGE RESPONSE.

 J=JXXXX-YYYY - JOB OR RANGE OF JOBS TO BE LISTED
 J=SXXXX-YYYY - TASK OR RANGE OF STARTED TASKS TO BE LISTED
 J=TXXXX-YYYY - TSO USER OR RANGE OF TSO USERS TO BE LISTED
 JECL         - OPTIONAL REQUEST TO LIST THE JOB CARD AND ANY JES2
                JECL CONTROL CARDS FOR THE REQUESTED JOB(S).

1
 SINCE THERE MAY BE MANY JOBS REQUESTED BY THIS COMMAND, THERE MAY BE
 MANY CONSOLE MESSAGES GENERATED BY THIS COMMAND.  SOME EXAMPLES OF
 THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:


         $SL
         JOB  271 $HASP908 GENER1   WAIT EXEC  T PRIO 6 TEST SETUP ANY
         JOB  272 $HASP908 GENER2   WAIT EXEC  T PRIO 3 TEST SETUP
                  GK81
         JOB  273 $HASP908 GENER3   WAIT EXEC  T PRIO 7 TEST SETUP ANY


         $SL
                  $HASP999 NO JOBS AWAITING SETUP!


         $SL,J=J272
                  $HASP900 JOB  272 GENER2   AWAITING SETUP
                  $HASP900 JOB  SETUP:  SETUP MESSAGE 1
                  $HASP900              SETUP MESSAGE 2
                  $HASP900              SETUP MESSAGE 3


         $SL,J=J272
                  $HASP999 JOB  272 GENER2   NO SETUP INFORMATION
                           AVAILABLE


         $SL,J=J272
                  $HASP999 JOB(S) NOT FOUND
./ ADD NAME=$SR
1
                        JES2 $SR COMMAND


 MODIFICATIONS HAVE BEEN MADE TO THE STANDARD IBM SETUP PROCESSING AT
 FIRST UNION NATIONAL BANK.  WE HAVE A REQUIREMENT TO PLACE JOBS IN A
 SPECIAL SETUP QUEUE UNTIL THEIR SETUP REQUIREMENTS ARE MET.
 OPERATIONS MUST THEN BE ABLE SETUP THE JOB BY REMOVING THE JOB FROM
 THE SETUP QUEUE.  THE $SR COMMAND WAS WRITTEN TO PROVIDE THIS
 FACILITY.


1
                       $SR COMMAND FORMAT


         $SR
             J=JXXXX-YYYY
                OR
             J=SXXXX-YYYY
                OR
             J=TXXXX-YYYY


 WHERE

 J=JXXXX-YYYY - JOB OR RANGE OF JOBS TO BE SETUP
 J=SXXXX-YYYY - TASK OR RANGE OF STARTED TASKS TO BE SETUP
 J=TXXXX-YYYY - TSO USER OR RANGE OF TSO USERS TO BE SETUP

 IF A NUMBER IS ENTERED WITHOUT A "J" OR "S" OR A "T", THE "J" IS
 ASSUMED.
1
 SOME EXAMPLES OF THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:


         $SR  271
         $HASP901 JOB  271 GENER1   HAS BEEN SETUP

         $SR J271
         $HASP901 JOB  271 GENER1   HAS BEEN SETUP

         $SR J272
         $HASP902 JOB  272 GENER2   NOT AWAITING SETUP

         $SR  271,276
         $HASP901 JOB  271 GENER1   HAS BEEN SETUP
         $HASP901 JOB  276 GENER3   HAS BEEN SETUP

         $SR J299
         $HASP900 JOB(S) NOT FOUND

         $SR J299,B
         $HASP999 B       INVALID OPERAND

./ ADD NAME=$UA
1
                        JES2 $UA COMMAND


 MODIFICATIONS HAVE BEEN MADE TO THE STANDARD IBM HOLD PROCESSING TO
 PLACE JOBS IN A SPECIAL HOLD QUEUE CALLED THE USER HOLD QUEUE.  THIS
 IS NORMALLY ACCOMPLISHED BY USING THE TYPRUN=HOLD OPERAND ON THE JOB
 CARD FOR THE JOB OR USING THE HOLD OPERAND ON THE /*THREAD CARD.
 THESE JOBS WILL NORMALLY BE RELEASED FROM USER HOLD BY /*RELEASE
 CARDS IN OTHER JOBS.  THE USER CAN ALSO RELEASE HIS/HER OWN JOBS BY
 ENTERING THIS COMMAND THROUGH A PROGRAMMED INTERFACE.  THE $UA
 COMMAND WAS WRITTEN TO PROVIDE THIS FACILITY.


1
                       $UA COMMAND FORMAT


         $UA
             J=JXXXX-YYYY
                OR
             J=SXXXX-YYYY
                OR
             J=TXXXX-YYYY


 WHERE

 J=JXXXX-YYYY - JOB OR RANGE OF JOBS TO BE RELEASED FROM USER HOLD
 J=SXXXX-YYYY - TASK OR RANGE OF STARTED TASKS TO BE RELEASED FROM
                USER HOLD
 J=TXXXX-YYYY - TSO USER OR RANGE OF TSO USERS TO BE RELEASED FROM
                USER HOLD

 IF A NUMBER IS ENTERED WITHOUT A "J" OR "S" OR A "T", THE "J" IS
 ASSUMED.
1
 SOME EXAMPLES OF THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:


         $UA  271
         $HASP903 JOB  271 GENER1   RELEASED FROM USER HOLD

         $UA J271
         $HASP903 JOB  271 GENER1   RELEASED FROM USER HOLD

         $UA J272
         $HASP904 JOB  272 GENER2   NOT ON USER HOLD

         $UA  271,276
         $HASP903 JOB  271 GENER1   RELEASED FROM USER HOLD
         $HASP903 JOB  276 GENER3   RELEASED FROM USER HOLD

         $UA J299
         $HASP900 JOB(S) NOT FOUND

         $UA J299,B
         $HASP999 B       INVALID OPERAND

./ ADD NAME=$UH
1
                        JES2 $UH COMMAND


 MODIFICATIONS HAVE BEEN MADE TO THE STANDARD IBM HOLD PROCESSING TO
 PLACE JOBS IN A SPECIAL HOLD QUEUE CALLED THE USER HOLD QUEUE.  THIS
 IS NORMALLY ACCOMPLISHED BY USING THE TYPRUN=HOLD OPERAND ON THE JOB
 CARD FOR THE JOB OR USING THE HOLD OPERAND ON THE /*THREAD CARD.
 A JOB CAN ALSO BE PLACED IN THIS QUEUE BY USING THIS COMMAND.


1
                       $UH COMMAND FORMAT


         $UH
             J=JXXXX-YYYY
                OR
             J=SXXXX-YYYY
                OR
             J=TXXXX-YYYY


 WHERE

 J=JXXXX-YYYY - JOB OR RANGE OF JOBS TO BE PLACED IN USER HOLD
 J=SXXXX-YYYY - TASK OR RANGE OF STARTED TASKS TO BE PLACED IN
                USER HOLD
 J=TXXXX-YYYY - TSO USER OR RANGE OF TSO USERS TO BE PLACED IN
                USER HOLD

 IF A NUMBER IS ENTERED WITHOUT A "J" OR "S" OR A "T", THE "J" IS
 ASSUMED.
1
 SOME EXAMPLES OF THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:


         $UH  271
         $HASP905 JOB  271 GENER1   PLACED ON USER HOLD

         $UH J271
         $HASP905 JOB  271 GENER1   PLACED ON USER HOLD

         $UH J272
         $HASP906 JOB  272 GENER2   ALREADY ON USER HOLD

         $UH  271,276
         $HASP905 JOB  271 GENER1   PLACED ON USER HOLD
         $HASP905 JOB  276 GENER3   PLACED ON USER HOLD

         $UH J299
         $HASP900 JOB(S) NOT FOUND

         $UH J299,B
         $HASP999 B       INVALID OPERAND

./ ADD NAME=$UL
1
                        JES2 $UL COMMAND


 MODIFICATIONS HAVE BEEN MADE TO THE STANDARD IBM HOLD PROCESSING TO
 PLACE JOBS IN A SPECIAL HOLD QUEUE CALLED THE USER HOLD QUEUE.  THIS
 IS NORMALLY ACCOMPLISHED BY USING THE TYPRUN=HOLD OPERAND ON THE JOB
 CARD FOR THE JOB OR USING THE HOLD OPERAND ON THE /*THREAD CARD.
 THERE IS ALSO A REQUIREMENT TO LIST JOBS IN THIS QUEUE.


1
                       $UL COMMAND FORMAT


         $UH (NO OPERANDS)

 SOME EXAMPLES OF THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:


         $UL
         JOB  271 $HASP908 GENER1   WAIT EXEC X PRIO X XXXX
         JOB  276 $HASP908 GENER3   WAIT EXEC X PRIO X XXXX


         $UL
         $HASP900 JOB(S) NOT FOUND

         $UL J299
         $HASP999 J299    INVALID OPERAND

./ ADD NAME=$LOAD
1
                        JES2 $LOAD COMMAND


 IN INSTALLATIONS WHICH HAVE EXTENSIVE JES2 EXIT ROUTINES, IT MAY BE
 HARD AT TIMES TO GET A JES2 HOT START TO RELOAD AN EXIT WHICH MUST
 BE MODIFIED.  HOT STARTS WORK, BUT THEY ARE VERY DISRUPTIVE TO
 PRINTER, RJE, AND NJE ACTIVITY.  THE $LOAD COMMAND WAS WRITTEN TO
 PROVIDE A FACILITY TO RELOAD A JES2 EXIT WITHOUT A JES2 OUTAGE.


1
                       $LOAD COMMAND FORMAT


         $ULOAD, MODULENAME

         WHERE MODULENAME IS THE NAME OF THE EXIT LOAD MODULE WHICH
               IS TO BE RELOADED.

 SOME EXAMPLES OF THE COMMAND AND THE RESPONSES ARE AS FOLLOWS:



         $LOAD,J001$SP
         $HASP000 J001$SP  RELOADED

         THE REQUESTED EXIT LOAD MODULE WAS RELOADED SUCCESSFULLY.


         $LOAD,J001$SPX
         $HASP000 J001$SP  IS NOT IN THE LMT

         THE SPECIFIED LOAD MODULE NAME IS NOT IN THE LOAD MODULE
         TABLE FOR JES2.



         $LOAD,J001$SPY
         $HASP000 J001$SY  LOAD ERROR

         A FAILURE OCCURRED TRYING TO LOAD A NEW COPY OF THE LOAD
         MODULE.  PROBABLY THE MODULE COULD NOT BE FOUND.



         $LOAD,J005LOAD
         $HASP000 J005LOAD INVALID

         THIS COMMAND CANNOT RELOAD A COPY OF ITSELF.

./ ADD NAME=$DC
1
                        JES2 $DC COMMAND


 THE $DC COMMAND IS ONE OF THE 4 CONSOLE COMMANDS WHICH CONTROL THE
 RESOURCE ROUTING FACILITY OF JES2.  THE OTHER COMMANDS ARE $QA, $QD,
 AND $DR.  A JOB CAN REQUEST ONE OR MORE RESOURCES FROM A PREDEFINED
 LIST OF RESOURCES AND WILL NOT RUN UNLESS THAT RESOURCE NAME IS
 ATTACHED TO THE APPROPRIATE PROCESSOR.  THIS COMMAND DISPLAYS ANY
 JOBS THAT CANNOT RUN BECAUSE THEY REQUEST ONE OR MORE RESOURCES THAT
 ARE NOT ATTACHED TO ANY PROCESSOR.  THIS COMMAND ALLOWS THE CONSOLE
 OPERATOR TO SEE THE CONFLICTS AND REACT APPROPRIATELY TO IT.  THIS
 COMMAND WILL ALSO BE INVOKED INTERNALLY WHENEVER A RESOURCE IS ADDED
 OR DELETED FROM A PROCESSOR.  THE FORMAT OF THE $DC COMMAND IS AS
 FOLLOWS:


                       $DC COMMAND FORMAT


         $DC        NO OPERANDS


         EXAMPLES:

         $DC
         $HASP900 - NO CONFLICTS EXIST

         $DC
         $HASP908 JOB1     WAIT EXEC A PRIO 1 ANY  IMS
         $HASP908 JOB2     WAIT EXEC C PRIO 1 ANY  CICS TAPE
         $HASP900 - END OF CONFLICTS

         $DC,ANY
         $HASP972 NO OPERANDS ALLOWED ON THE $DC COMMAND
./ ADD NAME=$DR
1
                        JES2 $DR COMMAND


 THE $DR COMMAND IS ONE OF THE 4 CONSOLE COMMANDS WHICH CONTROL THE
 RESOURCE ROUTING FACILITY OF JES2.  THE OTHER COMMANDS ARE $QA, $QD,
 AND $DC.  THIS DISPLAYS THE ESOTERIC RESOURCE NAMES THAT ARE ATTACHED
 TO A PROCESSOR.  A JOB THAT REQUESTS ONE OF A PREDEFINED LIST OF
 RESOURCES WILL NOT RUN UNLESS THAT RESOURCE NAME IS ATTACHED TO THE
 APPROPRIATE PROCESSOR.  THIS COMMAND ALLOWS THE CONSOLE OPERATOR TO
 SEE WHICH RESOURCES HAVE BEEN ATTACHED.  THIS COMMAND WILL ALSO BE
 INVOKED INTERNALLY WHENEVER A RESOURCE IS ADDED OR DELETED FROM A
 PROCESSOR.  THE FORMAT OF THE $DR COMMAND IS AS FOLLOWS:


1
                       $DR COMMAND FORMAT


         $DR,
             SID
               OR
             ALL
 WHERE

 SID          - ONE OF THE SYSTEM IDS THAT HAVE BEEN DEFINED IN THE
                JES2 SYSTEM.  THE VALID VALUES CAN BE DISPLAYED WITH
                THE $LSYS COMMAND.
 ALL          - INDICATED THAT INFORMATION IS TO BE DISPLAYED FOR
                ALL SYSTEMS IN THE COMPLEX.

 THE DEFAULT SYSTEM ID IS THE SYSTEM ON WHICH THE COMMAND IS ENTERED.

1
         $DR
         $HASP900 G290 = TEST     IMSTEST  CICSTEST TAPE

         $DR,F290
         $HASP900 F290 = PROD     IMS      CICS     TAPE

         $DR,H290
         $HASP900 H290 = NO RESOURCES ATTACHED

         $DR,ALL
         $HASP900 F290 = PROD     IMS      CICS     TAPE
         $HASP900 G290 = TEST     IMSTEST  CICSTEST TAPE
         $HASP900 H290 = NO RESOURCES ATTACHED

         $DR,XXXX
         $HASP974 XXXX     INVALID SYSTEM ID
./ ADD NAME=$QA
1
                        JES2 $QA COMMAND


 THE $QA COMMAND IS ONE OF THE 4 CONSOLE COMMANDS WHICH CONTROL THE
 RESOURCE ROUTING FACILITY OF JES2.  THE OTHER COMMANDS ARE $DR, $QD,
 AND $DC.  JOBS THAT REQUEST RESOURCES WILL NOT RUN UNLESS THAT
 RESOURCE NAME IS ATTACHED TO THE APPROPRIATE PROCESSOR.  THIS COMMAND
 ALLOWS THE CONSOLE OPERATOR TO ATTACH A RESOURCE NAME TO A PROCESSOR
 TO ALLOW THE APPROPRIATE JOBS TO RUN ON THAT MACHINE.  THE $DR
 COMMAND WILL BE AUTOMATICALLY INVOKED AFTER PROCESSING COMPLETES FOR
 THIS COMMAND TO LIST THE RESOURCES THAT ARE NOW ATTACHED.  THE $DC
 COMMAND WILL ALSO BE AUTOMATICALLY INVOKED TO DISPLAY ANY JOBS WHICH
 STILL CANNOT EXECUTE BECAUSE THE APPROPRIATE RESOURCES ARE NOT
 AVAILABLE.  THE FORMAT OF THE $QA COMMAND IS AS FOLLOWS:


1
                       $QA COMMAND FORMAT


         $QA,
             RESOURCE
                ,SID
 WHERE

 RESOURCE     - ONE OF THE PREDEFINED LIST OF RESOURCE NAMES THAT CAN
                BE ATTACHED.  THE VALID RESOURCE NAMES WILL BE LISTED
                LATER IN THIS DESCRIPTION.
 SID          - ONE OF THE SYSTEM IDS THAT HAVE BEEN DEFINED IN THE
                JES2 SYSTEM.  THE VALID VALUES CAN BE DISPLAYED WITH
                THE $LSYS COMMAND.

 THE DEFAULT SYSTEM ID IS THE SYSTEM ON WHICH THE COMMAND IS ENTERED.

                       CURRENTLY VALID RESOURCE NAMES

                 1)   NDM
                 2)   TAPE
                 3)   TESTAPE
                 4)   TESTING
                 5)   IMS
                 6)   CICS
                 7)   TSO
                 8)   IMSTEST
                 9)   CICSTEST
                 10)  ROSCOE
                 11)  ROSTEST

1
         $QA,IMSTEST
         $HASP900 G290 = TEST     IMSTEST  CICSTEST TAPE
         $HASP900 - NO CONFLICTS EXIST

         $QA,IMS,F290
         $HASP900 F290 = PROD     IMS      CICS     TAPE
         $HASP900 - NO CONFLICTS EXIST

         $QA,XXXX
         $HASP900 XXXX     INVALID RESOURCE NAME

         $QA
         $HASP900 RESOURCE NAME MUST BE SPECIFIED

         $QA,IMS,XXXX
         $HASP900 XXXX     INVALID SYSTEM ID

./ ADD NAME=$QD
1
                        JES2 $QD COMMAND


 THE $QD COMMAND IS ONE OF THE 4 CONSOLE COMMANDS WHICH CONTROL THE
 RESOURCE ROUTING FACILITY OF JES2.  THE OTHER COMMANDS ARE $QA, $DR,
 AND $DC.  JOBS WHICH SPECIFY RESOURCES WILL NOT RUN UNLESS THAT
 RESOURCE NAME IS ATTACHED TO THE APPROPRIATE PROCESSOR.  THIS COMMAND
 ALLOWS THE CONSOLE OPERATOR TO DETACH A RESOURCE NAME FROM A
 PROCESSOR IF THAT RESOURCE IS NO LONGER AVAILABLE IN ORDER TO PREVENT
 JOBS WHICH REQUIRE THAT RESOURCE FROM EXECUTING.  THE $DR COMMAND
 WILL BE AUTOMATICALLY INVOKED AFTER PROCESSING COMPLETES FOR THIS
 COMMAND TO LIST THE RESOURCES THAT ARE STILL ATTACHED.  THE $DC
 COMMAND WILL ALSO BE AUTOMATICALLY INVOKED TO DISPLAY ANY JOBS WHICH
 NOW CANNOT EXECUTE BECAUSE THE APPROPRIATE RESOURCES ARE NOT
 AVAILABLE.  THE FORMAT OF THE $QD COMMAND IS AS FOLLOWS:

1
                       $QD COMMAND FORMAT


         $QD,
             RESOURCE
                ,SID
 WHERE

 RESOURCE     - ONE OF THE PREDEFINED LIST OF RESOURCE NAMES THAT IS
                TO BE REMOVED.  THE VALID RESOURCE NAMES WILL BE
                LISTED LATER IN THIS DESCRIPTION.
 SID          - ONE OF THE SYSTEM IDS THAT HAVE BEEN DEFINED IN THE
                JES2 SYSTEM.  THE VALID VALUES CAN BE DISPLAYED WITH
                THE $LSYS COMMAND.

 THE DEFAULT SYSTEM ID IS THE SYSTEM ON WHICH THE COMMAND IS ENTERED.

                       CURRENTLY VALID RESOURCE NAMES

                 1)   NDM
                 2)   TAPE
                 3)   TESTAPE
                 4)   TESTING
                 5)   IMS
                 6)   CICS
                 7)   TSO
                 8)   IMSTEST
                 9)   CICSTEST
                 10)  ROSCOE
                 11)  ROSTEST

1                       EXAMPLES

         $QD,IMSTEST
         $HASP900 G290 = TEST     CICSTEST TAPE
         $HASP900 - NO CONFLICTS EXIST

         $QD,IMS,F290
         $HASP900 F290 = PROD     CICS     TAPE
         $HASP900 - NO CONFLICTS EXIST

         $QD,XXXX
         $HASP900 XXXX     INVALID RESOURCE NAME

         $QD
         $HASP900 RESOURCE NAME MUST BE SPECIFIED

         $QD,IMS,XXXX
         $HASP900 XXXX     INVALID SYSTEM ID

./ ADD NAME=AUTHSVC
1                         A U T H S V C

         THIS SVC IS A TYPE 4 SVC WRITTEN TO ALLOW THE CALLER TO
         ENTER KEY 0.  THIS SVC IS A LITTLE DIFFERENT FROM MOST
         OTHER SVC CODE IN THAT IT WRITES AN SMF RECORD FOR EACH
         CALL TO PERFORM A FUNCTION.  THE CALLING PROGRAM NAME IS
         ASSUMED TO BE POINTED TO BY REGISTER 0 ON INPUT AND ALL
         OTHER INFORMATION SUCH AS JOBNAME/TSONAME, PROGRAMMER
         NAME, AND ACCOUNTING INFORMATION IS EXTRACTED TO PROVIDE
         AN AUDIT CAPABILITY FOR UNAUTHORIZED USE.  THE FUNCTION
         TO BE PERFORMED IS IN REGISTER 1 ON INPUT.  A ZERO INDICATES
         THAT PROTECT KEY ZERO IS DESIRED.  ANY OTHER VALUE WILL
         RESET THE USER BACK TO THE PROTECT KEY IN THE TCB.

./ ADD NAME=RESROUT
1                   R E S O U R C E   R O U T I N G

         A SERIES OF EXITS AND CONTROL BLOCK MODIFICATIONS PROVIDES
         A FACILITY WITHIN JES2 TO ROUTE JOBS TO A RESOURCE NAME
         RATHER THAN A SPECIFIC PROCESSOR.  THIS FACILITY IS A
         FUNCTIONAL COPY OF A SIMILAR FACILITY WHICH WAS DEVELOPED
         AND SUPPORTED BY MELLON BANK AND PROVIDED ON MANY OF THE
         MVS MODS TAPES.

         IN A JES2 SHARED SPOOL ENVIRONMENT, THERE ARE OFTEN
         FACILITIES THAT ARE AVAILABLE ON ONE PROCESSOR THAT ARE NOT
         AVAILABLE ON ALL PROCESSORS.  THE ONLY FACILITY THAT IS
         PROVIDED BY JES2 FOR SPECIFIC ROUTING IS TO USE THE /*JOBPARM
         SYSTEM AFFINITY STATEMENT TO ROUTE THE JOB TO THE SPECIFIC
         PROCESSOR.  IF THE FACILITY IS MOVED TO ANOTHER PROCESSOR ALL
         JOBS WHICH USE THAT FACILITY MUST BE ALTERED.  THERE IS ALSO
         NO WAY TO AUTOMATICALLY HOLD ALL JOBS WHICH NEED THAT
         RESOURCE IF IT BECOMES UNAVAILABLE FOR A PERIOD OF TIME.

         A FACILITY WAS DEVELOPED BY WHICH A JOB COULD BE ROUTED
         TO A USER SPECIFIED RESOURCE NAME INSTEAD OF THE SMF SYSTEM
         ID.  THE CONSOLE OPERATOR COULD ATTACH THAT RESOURCE NAME
         TO A SPECIFIC PROCESSOR OR, IF APPLICABLE, TO ALL PROCESSORS,
         WHICH WOULD ALLOW THESE JOBS TO RUN.  THIS ALLOWS RESOURCES
         TO BE MOVED OR TEMPORARILY HALTED BY THE OPERATOR WITHOUT
         REQUIRING JCL CHANGES.  THE BEST WAY TO TO DESCRIBE THIS IS
         GIVE AN EXAMPLE.

         A JOB HAS THE FOLLOWING JCL

         //JOB1   JOB ......
         /*JOBPARM S=G290
         /*ROUTE  XEQ TEST
         //STEP1  EXEC PGM=....

         THIS JOB WILL ONLY EXECUTE ON A PROCESSOR WHICH HAS THE
         "TEST" RESOURCE ATTACHED.


         THE $DC COMMAND CAN BE ISSUED TO SHOW ANY JOBS WHICH CANNOT
         EXECUTE BECAUSE THEY REQUIRE A RESOURCE THAT IS NOT AVAILABLE
         ON ANY PROCESSOR.

         $DC
         .
         $HASP908 JOB1     WAIT EXEC A PRIO 1 G290 TEST
         $HASP900 END OF CONFLICTS


         THE $QA COMMAND WILL ADD A RESOURCE NAME TO AN APPROPRIATE
         PROCESSOR AND THEN DISPLAY ALL OF THE RESOURCES ATTACHED TO
         THAT PROCESSOR.

         $QA,TEST,G290
         .
         $HASP900 G290 = TEST


1        THE $DC COMMAND WILL NOW SHOW NO CONFLICTS SINCE THE RESOURCE
         NAME IS NOW ATTACHED.

         $DC
         .
         $HASP900 NO CONFLICTS EXIST


         A JOB CAN BE ROUTED TO MULTIPLE RESOURCE NAMES AND WILL NOT
         EXECUTE UNLESS ALL RESOURCE NAMES ARE ATTACHED.  THIS FACILITY
         WILL BE EXPANDED IN THE FUTURE BY AUTOMATICALLY ADDING CERTAIN
         RESOURCE NAMES AUTOMATICALLY IN JES2 EXITS BASED UPON THE JCL.
         RESOURCE NAMES SUCH AS "TEST", "PROD", "TAPE", "IMS", "CICS",
         "IMSTEST", OR "CICSTEST" COULD AUTOMATICALLY BE ATTACHED TO A
         JOB AT READER TIME.  THIS WOULD REALLY MAKE THIS A POWERFUL
         FACILITY.

         THIS RESOURCE ROUTINE FACILITY IS CONTROLLED CURRENTLY BY
         /*ROUTE AND /*XEQ CONTROL CARDS WHICH ATTACH RESOURCES TO A
         PARTICULAR JOB AND THE FOLLOWING COMMANDS WHICH CONTROL THE
         RESOURCES ATTACHED TO A PROCESSOR:

         $QA - ADDS RESOURCES TO A PROCESSOR

         $QD - DELETES A RESOURCE FROM A PROCESSOR

         $DR - DISPLAYS RESOURCES THAT ARE ATTACHED TO A PROCESSOR

         $DC - DISPLAYS RESOURCE CONFLICTS.  THAT IS JOBS THAT
               CANNOT EXECUTE BECAUSE THE REQUIRED RESOURCES ARE
               NOT ATTACHED TO ANY PROCESSOR.

         THE DETAILED DESCRIPTION OF THE COMMANDS AND THE APPROPRIATE
         OPERANDS WILL FOLLOW.  THE RESOURCE NAMES THAT CAN BE USED
         ARE USER DEFINED IN THE $RESTABL MACRO AND ANY THAT ARE USED
         ARE FOR EXAMPLES ONLY.


* KSDS FILE SPACE DISTRIBUTION ANALYSIS ROUTINE
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
* THIS VERSION DOES A SEQUENTIAL PROCESSING OF THE DATA COMPONENT     *
* RESULTING IN BETTER PERFORMANCE (VSAM BUFFER READ AHEAD) IF EXTRA   *
* DATA BUFFERS ARE SPECIFIED.                                         *
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
*
* SPECIFICATIONS:
*
* MODULE NAME:          KSDSPACE
*
* ATTRIBUTES :          STANDARD (NOT AUTHORIZED) *** SEE NOTE BELOW ***
*                       AC(1) /APF AUTH IF YOU WISH PROCESS ICF BCS'ES
*                       RMODE 24
*                       AMODE 24
*
* ASSEMBLER OPTIONS:    NOALIGN
*
* FUNCTION = SEE BELOW
*
*     THE PURPOSE OF THIS ROUTINE IT TO READ THE INDEX (SEQUENCE
*  SET ONLY) AND DATA COMPONENTS OF A KSDS CLUSTER AND PRODUCE
*  SPACE UTILIZATION REPORTS FOR:
*
*  .EACH CONTROL AREA (DATA COMPONENT ONLY)
*  .INDEX COMPONENT
*  .THE WHOLE DATA COMPONENT
*
*  TWO REPORTS ARE PRINTED:  ONE WITH NUMERIC VALUES (TABLE LIKE
*  FORMAT) AND ANOTHER WHERE SPACE DISTRIBUTION IS PRESENTED IN
*  A GRAPHICAL FORMAT.  A LINE IS PRINTED FOR EACH CONTROL AREA.
*  IT REPRESENTS 100% OF THE SPACE. DIFFERENT CHARACTERS
*  REPRESENT BREAKDOWN OF THAT SPACE INTO THE FOLLOWING
*  COMPONENTS:
*
*  * - SPACE OCCUPIED BY DATA RECORDS.
*  - - UNUSED CONTROL INTERVALS RESULTING FROM CA FREE SPACE
*      SPECIFICATION AND/OR CA SPLITS (OR RECORD DELETES).
*  X - UNUSED SPACE IN CONTROL INTERVALS CONTAINING DATA RECORDS
*      RESULTING FROM CI FREE SPACE SPECIFICATION AND/OR CI SPLITS
*      (OR RECORD DELETES).
*  + - UNUSED CONTROL INTERVALS RESULTING FROM LACK OF SPACE IN THE
*      INDEX CI (INDICATION THAT INDEX CI IS TOO SMALL).
*      THIS IS AN ESTIMATE ONLY - NOT A PRECISE VALUE AND IT CAN ONLY
*      SHOW UP WHEN A CA IS FULLY LOADED (NO CA FREE SPACE).
*
*  "-", "+" WILL NEVER BE SHOWN FOR AN INDEX COMPONENT. ALSO,
*  "X" HAS A DIFFERENT MEANING: EITHER INDEX CI IS TWO LARGE OR
*  IT RESULTS FROM "-" TYPE FREE SPACE IN THE DATA COMPONENT.
*
*  THE REPORTS CAN BE USEFUL FOR TUNNING OF A KSDS FILE:  CI
*  SIZE SELECTION (BOTH INDEX AND DATA COMPONENTS), FREE SPACE
*  SPECIFICATION, CA SIZE SPECIFICATION, AND TO MAKE A DECISION
*  TO REORGANIZE A FILE.
*
*  DISK SPACE UTILIZATION, AS DETERMINED BY THE CI SIZE
*  SELECTION, IS NOT DEALT WITH BY THIS PROGRAM.
*
*
* RETURN CODES FROM THE PROGRAM:
*     0 - NORMAL SUCCESSFUL COMPLETION
*    16 - ERROR. CHECK MESSAGES IN SYSPRINT AND/OR SYSTEM LOG.
*
*
*    THE FOLLOWING JCL PROCEDURE HAS BEEN CATALOGED AND CAN BE INVOKED
*    TO RUN THIS PROGRAM:
*
*     //KSDSPACE PROC DISP=SHR,RPTT='SYSOUT=*',RPTG='SYSOUT=*'
*     //KSDSPACE EXEC PGM=KSDSPACE
*     //STEPLIB    DD DSN=SYS1.UTIL.LINKLIB,DISP=SHR
*     //KSDS       DD DSN=&KSDS,DISP=&DISP
*     //SYSPRINT   DD SYSOUT=*           MESSAGE FILE
*     //RPTT       DD &RPTT              TABLE FORMAT REPORT
*     //RPTG       DD &RPTG              GRAPHICAL FORMAT REPORT
*
*    "KSDS" SYMBOLIC PARAMETER HAS TO SPECIFY THE NAME OF THE
*    KSDS CLUSTER. STEPCAT/JOBCAT MAY BE REQUIRED TO LOCATE
*    THE KSDS FILE.  PARTICULAR REPORTS CAN BE SUPRESSED BY
*    SPECIFYING RPTT/RPTG=DUMMY.
*
*  DEC  03/99,JJ:
*   TO PROCESS AN ICF BCS - THE FOLLOWING  IS REQUIRED:
*   .KSDSPACE LINKEDITED WITH AC(1), INTO AN APF AUTHORIZED LOADLIB
*   .RACF ALTER AUTHORITY TO THE CATALOG IS REQUIRED (IF RACF PROTECTED)
*
* WRITTEN BY:
*            JAN (JANEK) JAKUBEK
*     TEL  : 416-255-8807 (CANADA, ONTARIO)
*     EMAIL: JAN.JAKUBEK@CGI.CA
*

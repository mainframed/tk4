         MACRO
&NAME    $IA   &DUMMY              RE-ENTER INSTRUCTION ZONE
         COPY  $MGBLDEF            BRING IN THE CLOWNS (VERSIONS 1 & 2)
         GBLC  &GSECT,&WSECT       PRESET NAMES (VERSION 2)
         LCLC  &X                  SHORT FOR CSECT
         AIF   ('&$MSECT(1)' EQ '').GENLOC ARE WE USING GO/STOP MACROS?
&X       SETC  '&$MSECT(&$MPLVL)'  YES - SET TO NAME OF CSECT
&X       CSECT                     BACK TO PREVIOUS CSECT
         MEXIT                     WRAP IT UP, TONY
.GENLOC  AIF   ('&GSECT' NE '').GEN2 GO IF ALREADY DEFINED
&GSECT   SETC  'GSECT'             GIVE IT A VALUE - ANY VALUE...
.GEN2    AIF   ('&$MLOCTR' EQ '&GSECT').MEND EXIT IF CODE NOT NEEDED
&$MLOCTR SETC  '&GSECT'            SAVE FOR NEXT TIME
&GSECT   LOCTR                     BACK TO INSTRUCTION TYPE LOCTR
.MEND    MEND

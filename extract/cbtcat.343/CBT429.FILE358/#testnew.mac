 #TESTNEW


 THIS MEMBER DESCRIBES A SAMPLE PROCEDURE TO TEST THIS NEW
 DISKWTR SYSTEM IF YOU ARE ALREADY RUNNING THE OLD SYSTEM.


 1) ASSEMBLE AND LINK ALL THE PROGRAMS INTO AN AUTHORIZED LOAD
    LIBRARY THAT IS NOT IN YOUR LINKLIST(LNKLST00); OR IS FURTHER
    DOWN THE LIST THAN YOUR EXISTING DISKWTR SYSTEM.
    (CHECK INSTALL MEMBER FOR LINK PARMS NEEDED)
    (ALL PROGRAMS CAN USE THE EXISTING NAMES AS SUPPLIED)

    ==> BEFORE ASSEMBLING "SOUTSEP"; CHANGE THE STOP AND START COMMANDS
        IN THE CODE TO POINT TO YOUR TEST PROC NAMES (SEE #4 BELOW)
        (FIND "STOPDISK" IN COL 1 AND CHANGE TO YOUR TEST PROC)
        (FIND "STARTSVE" IN COL 1 AND CHANGE TO YOUR TEST PROC)

 2) PLACE THE NEW ISPF PANELS IN A TEST ISPF PANEL LIBRARY
    (CHANGE THE PANEL  "CMNFS00";  IN THE "PROC" SECTION CHANGE:
      &CMNFSWTR = 'XXXXXX'  CHANGE TO YOUR TEST PREFIX
      &CMNFSWTO = 'XXXXXX'  CHANGE TO YOUR EXISTING PREFIX)

 3) PLACE THE NEW ISPF SKELETON IN A TEST SKELETON LIBRARY.
    ( RENAME "CMNFSKEL" TO "CMNFS00")

 4) SETUP TEST "DISKWTR" , "SAVEWTR" AND "CLEANWTR" PROCS WITH TEST
    NAMES (IE: NEWDISK  NEWSAVE) AND MAKE THE FOLLOWING CHANGES:

    A) STEPLIB ALL 3 PROCS TO THE LIBRARY SELECTED IN #1 ABOVE.

    B) CHANGE THE "PREFIX" IN ALL 3 PROCS TO YOUR TEST PREFIX
       (IE: USE YOUR TSOID    "TSOID.OPSWTR")

    C) CHANGE THE CLASS IN THE DISKWTR PROC TO POINT TO A TEST OUTPUT
       CLASS   (IE:  PARM='PX,SOUTSEP' WHERE "X" IS THE TEST CLASS)

    D) IN THE SAVEWTR PROC , CHANGE THE "STOP" COMMAND TO STOP YOUR
       TEST "DISKWTR" AND ALSO CHANGE THE "START" COMMAND TO THE TEST
       NAME

    E) IN THE "SAVEWTR" PROC , SET THE "DAYS=XXX" TO 1 OR 2 DAYS.
       THIS WILL KEEP THE DAILY DISK FILES ONLINE FOR THE SPECIFIED
       NUMBER OF DAYS BEFORE OFFLOADING TO TAPE

    F) IN THE CLEANWTR PROC, CHANGE THE "STOP" COMMAND TO STOP YOUR
       TEST "DISKWTR" AND ALSO CHANGE THE "START" COMMAND TO POINT TO
       YOUR TEST "SAVEWTR" PROC

 5) CREATE A TEST ACTIVE FILE WITH THE "TESTING" PREFIX
    (USE JOB  "FORMAT" WITH A TEST PREFIX AND A 1 OR 2 CYL ALLOCATION)

 6) CREATE A TEST VSAM JOURNAL WITH THE "TESTING" PREFIX
    (USE JOB "INITJRNL" WITH A TEST PREFIX )
    (CREATE TEST JOURNAL WITH 3000 TO 5000 RECORDS)

 7) CREATE OR MODIFY A TESTING TSO PROC AND STEPLIB TO THE AUTHORIZED
    LOAD LIBRARY (SEE #1) AND INSERT THE PANEL AND SKELETON LIBRARIES
    IN THE //ISPPLIB AND //ISPSLIB  DD CARDS.

 8) START THE TEST "DISKWTR" STARTED TASK (USE TEST NAME)
    AND CREATE SOME OUTPUT TO PRINT IN THE TEST OUTPUT CLASS

 9) LOGON TO THE TESTING TSO PROC AND TEST THE "4.S" OPTION

10) START THE TEST "SAVEWTR" PROC TO OFFLOAD THE ACTIVE FILE

11) TEST THE "4.S" OPTION TO VERIFY THAT THE ACTIVE FILE WAS OFFLOADED

12) PERFORM ADDITIONAL DISKWTR/SAVEWTR TESTING AS NEEDED.
    TO TEST THE "ARCHIVE" LOGIC, TESTING MUST BE PERFORMED OVER
    MULTIPLE DAYS; OPTIONALLY, YOU COULD RENAME THE DAILY FILES JUST
    CREATED (OPT 3.2). THE DATE STAMP IN THE DATASET NAME IS ALL THAT
    NEED TO BE CHANGED (IE:  ...D1840910.THHMM   TO  ...D1840905.THHMM)
    THE "ARCHIVE' LOGIC USES THE DATASET NAME TO DETERMINE WHICH FILES
    TO OFFLOAD TO TAPE. AFTER A RENAME, JUST START "SAVEWTR". IF THE
    DATE STAMP IS OLDER THAN THE "DAYS=XXX" PARM, THE DAILY
    FILES WILL BE OFFLOADED TO ARCHIVE TAPE.

13) TEST THE "CLEANWTR" PROC
     A) CHANGE THE "DAYS OLD" FIELD TO 1 OR 2 (IT COULD ALSO BE 0)
     B) YOU COULD ALSO RUN IN TEST MODE (IE PARM='TEST,00001,010)

     ANY VSAM RECORDS CREATED THAT ARE OLDER THAN THE "DAYS' FIELD
     WILL BE DELETED AND ANY EMPTY DATASETS WILL ALSO BE DELETED
     (UNLESS IN TEST MODE - THEN IT IS JUST A SIMULATION)

14) TEST THE "CONVERT" PROGRAM (USE MEMBER "CONVERT")
     A) STEPLIB TO THE LIBRARY IN #1 ABOVE
     B) CHANGE THE //JOURNAL DD  TO POINT TO YOUR TEST JOURNAL
     C) POINT THE "//INPUT DD" TO YOUR EXISTING DAILY JOURNALS
        (USE YOUR OLD JOURNALS; NOT THE SYSOUT DATASETS)
        (SELECT 1 OR 2  GDG'S FOR TESTING)

        //INPUT  DD DSN=SYS2.OPSWTR.DAILY.G0010V00,DISP=SHR
        //       DD DSN=SYS2.OPSWTR.DAILY.G0011V00,DISP=SHR

     D) SET THE PARM TO  "PARM=D"  (OR "R" IF USING ARCHIVE)
        (SEE STEP #13 IN MEMBER #CONVERT FOR FURTHER EXPLANATION)
     E) STOP THE TEST "DISKWTR" IF RUNNING
     F) RUN THE JOB; THE OLD JOURNAL RECORDS IN "//INPUT" WILL BE
        CONVERTED TO THE NEW FORMAT IN THE TEST VSAM JOURNAL.
        THE DATA ON THE OLD SYSOUT DATASETS CAN REMAIN THERE. THIS
        NEW SYSTEM CAN STILL READ THE OLD SYSOUT REPORTS.
     G) TEST RESULTS USING  "4.S"
        1) TRY LISTING SOME OLD JOBS (IE: SYSLOG)
        2) USE THE "Q" OPTIONS ON THE LISTING TO SHOW DATASET NAMES
        3) SELECT SOME OF THE JOBS FOR VIEWING

15) THIS IS JUST A SAMPLE PROCEDURE FOR TESTING. PERFORM ADDITIONAL
    TESTING AS REQUIRED. GOOD LUCK!!!

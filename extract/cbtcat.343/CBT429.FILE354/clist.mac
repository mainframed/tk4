PROC 1 LIB PUNCHOUT(PUNCHOUT) PRINTOUT(PRINTOUT) SUPVR FLTPT LIST -
       DIAGNOSE CONTROL(*) CALL(CALL) LOAD('')
/*
/*    THIS CLIST INVOLVES THE DISASSEMBLER:
/*      (DISASSEMBLER IS A PRODUCT OF:
/*        DISK THORNTON
/*        BLUE CROSS OF VIRGINIA
/*        2015 STAPLES MILL ROAD
/*        RICHMOND, VA. 23279).
/*
IF ('&DIAGNOSE.' EQ 'DIAGNOSE')  -
   THEN CONTROL   PROMPT   LIST   CONLIST   SYMLIST MSG
   ELSE CONTROL NOPROMPT NOLIST NOCONLIST NOSYMLIST MSG
IF &SUPVR = SUPVR THEN +
    IF &FLTPT = FLTPT THEN +
        SET &PARM = 'SUPVR,FLTPT'
    ELSE +
        SET &PARM = 'SUPVR'
ELSE +
    IF &FLTPT = FLTPT THEN +
        SET &PARM = 'FLTPT'
    ELSE
        SET &PARM = &STR()
ALLOC FI(SYSLIB) DA(&LIB) SHR REU
CONTROL NOMSG
FREE FI(SYSPUNCH) ATTR(DAPRATTR DAPUATTR)
CONTROL MSG
ATTR DAPUATTR BLKSIZE(19040)
%ALLOCDS FI(SYSPUNCH) DA(&PUNCHOUT) PRIME(60) USING(DAPUATTR)
ATTR DAPRATTR BLKSIZE(18997)
%ALLOCDS FI(SYSPRINT) DA(&PRINTOUT) PRIME(90) USING(DAPRATTR)
ALLOC FI(SYSIN) DA(&STR(&CONTROL)) REUSE
IF &STR(&CONTROL) ^= &STR(*) -
THEN -
   GOTO DOIT
CLEAR
WRITE ENTER CONTROL STATEMENTS:
WRITE 1ST CARD: MODULE CSECT  (CSECT IS OPTIONAL)   <== REQUIRED 1ST CAR
WRITE ALL OTHER CARDS ARE OPTIONAL--THEY INCLUDE:
WRITE DATA ONLY CARD: 1-4='DATA';6-11=START OFFSET(HEX);13-18=END OFFSET
WRITE DSECT DEFINITIONS--HEADER AND DEFINITION CARDS:
/* W AT THE END OF THE NEXT LINE WAS TRUNCATED, ADD IT BACK PLEASE
WRITE  HEADER: 1-8=DSECT NAME;10-14='DSECT';16-19=# OF DEFINITION CARDS
/* TH AT THE END OF THE NEXT LINE WAS TRUNCATED, ADD IT BACK PLEASE
WRITE  DEFINITION: 1-8=FIELD-NAME;10-13=DECIMAL OFFSET TO FIELD;15-17=FI
WRITE ULABL CARDS: 1-5='ULABL';7-14=LABEL-NAME;16-21=HEX OFFSET TO START
WRITE              23-25=LENGTH(DEC)
WRITE USING CARD: 1-5='USING';7-12=BEGIN LOC(HEX)-IE, WHERE USING GOES;
WRITE             14-19=END LOC(HEX)-IE, WHERE DROP GOES; 21=BASE(0-F);
WRITE             23=TYPE('P'=PROGRAM,'D'=DSECT);
WRITE             25-30=INITIAL BASE VALUE-FOR TYPE 'P'
WRITE             25-32=DSECT NAME-FOR TYPE 'D'
WRITE ---+----1----+----2----+----3----+----4----+----5----+----6----+--
DOIT: +
&CALL. 'QC22505.TSO&LOAD..LOAD(DISASM)' &PARM
IF &CALL=TEST THEN GOTO DONE
WRITE ******  END OF DISASSEMBLY  ******
IF &LIST=LIST THEN -
   LIST PUNCHOUT
WRITE SEE DATASET &PRINTOUT FOR LISTING;
WRITE SEE DATASET &PUNCHOUT FOR DECK.
TERMIO
DONE: SET A = 1

//IBMUSERH JOB (ACCT#),HANDBOOK,
// NOTIFY=&SYSUID,REGION=5M,
// CLASS=A,MSGCLASS=X,COND=(0,NE)
//*
//*    THIS JOB ASSEMBLES SOME MVS CONTROL BLOCKS AND STORES
//*    THE OUTPUT INTO A PDS FOR ON-LINE VIEWING.
//*
//*    TO SAVE DASD SPACE, THE ISPF/PDF'S LMCOPY SERVICE IS INVOKED
//*    TO PACK EACH MEMBER.
//*
//UPDTE   EXEC PGM=IEBUPDTE,PARM=NEW
//SYSPRINT DD SYSOUT=*
./  ADD NAME=SPFPACK      <=== MAIN MACRO
PROC 1 MBR
CONTROL LIST CONLIST NOFLUSH
ISPEXEC SELECT PGM(IEV90) -
    PARM(NOESD,NORLD,NOOBJECT,NODECK,LINECOUNT(120),TERM)
IF &LASTCC > 0 THEN GOTO ERROR
ISPEXEC LMINIT DATAID(ID1) DDNAME(SYSPRINT) ENQ(SHR)
IF &LASTCC > 0 THEN GOTO ERROR
ISPEXEC LMINIT DATAID(ID2) DDNAME(PERM) ENQ(SHRW)
IF &LASTCC > 0 THEN GOTO ERROR
ISPEXEC LMCOPY FROMID(&ID1) TODATAID(&ID2) TOMEM(&MBR) -
               REPLACE PACK TRUNC
IF &LASTCC > 0 THEN GOTO ERROR
ISPEXEC LMFREE DATAID(&ID1)
IF &LASTCC > 0 THEN GOTO ERROR
ISPEXEC LMFREE DATAID(&ID2)
IF &LASTCC > 0 THEN GOTO ERROR
EXIT CODE(0)
ERROR: +
  ISPEXEC GETMSG MSG(&ZERRMSG) LONGMSG(XX)
  WRITE &XX
  EXIT CODE(12)
//SYSUT2   DD UNIT=VIO,SPACE=(80,(1,,1)),DISP=(,PASS),
//            DCB=(RECFM=FB,LRECL=80,BLKSIZE=800)
//TEMPF    DD UNIT=VIO,SPACE=(CYL,10),DCB=BLKSIZE=12947,DISP=(,PASS)
//*
//ASMMAC PROC MBR=
//TMP     EXEC PGM=IKJEFT01,PARM='ISPSTART CMD(%SPFPACK &MBR)'
//SYSPROC  DD DSN=*.UPDTE.SYSUT2,DISP=(OLD,PASS)
//SYSTSPRT DD SYSOUT=*
//SYSTSIN  DD DUMMY
//*
//SYSLIB   DD DISP=SHR,DSN=SYS1.MACLIB
//         DD DISP=SHR,DSN=SYS1.MODGEN
//SYSUT1   DD UNIT=VIO,SPACE=(CYL,20)
//SYSTERM  DD SYSOUT=*
//SYSPRINT DD DSN=*.UPDTE.TEMPF,DISP=(OLD,PASS)
//*
//PERM     DD DSN=IBMUSER.HANDBOOK,
// DISP=SHR,
//*DISP=(,CATLG,DELETE),
// UNIT=SYSALLDA,
// SPACE=(TRK,(50,5,5)),
// RECFM=FBM,LRECL=121,DSORG=PO            SDB
//*
//ISPPROF  DD UNIT=VIO,SPACE=(800,(1,,1)),
//            DCB=(RECFM=FB,LRECL=80,BLKSIZE=800)
//ISPPLIB  DD UNIT=VIO,SPACE=(800,(1,,1)),DCB=*.ISPPROF
//ISPMLIB  DD DISP=SHR,DSN=ISP.SISPMENU
//ISPSLIB  DD UNIT=VIO,SPACE=(800,(1,,1)),DCB=*.ISPPROF
//ISPTLIB  DD DISP=SHR,DSN=ISP.SISPTENU
//        PEND
//*
//ACB    EXEC ASMMAC,MBR=ACB
         IFGACB
         END
//ACEE   EXEC ASMMAC,MBR=ACEE
         IHAACEE
         END
//ASCB   EXEC ASMMAC,MBR=ASCB
         IHAASCB DSECT=YES,LIST=YES
         END
//ASVT   EXEC ASMMAC,MBR=ASVT
         IHAASVT DSECT=YES,LIST=YES
         END
//ASSB   EXEC ASMMAC,MBR=ASSB
         IHAASSB LIST=YES
         END
//ASXB   EXEC ASMMAC,MBR=ASXB
         IHAASXB DSECT=YES,LIST=YES
         END
//ATTACH EXEC ASMMAC,MBR=ATTACH
         IEZATTCH LIST=YES
         END
//BASEA  EXEC ASMMAC,MBR=BASEA
         IEEBASEA
         END
//CDE    EXEC ASMMAC,MBR=CDE
         IHACDE
         END
//CSCB   EXEC ASMMAC,MBR=CSCB
         IEECHAIN
         END
//CSD    EXEC ASMMAC,MBR=CSD
         IHACSD DSECT=YES
         END
//CTXT   EXEC ASMMAC,MBR=CTXT
         IEZVX100 DSECT=YES
         END
//CVT    EXEC ASMMAC,MBR=CVT
         CVT DSECT=YES,LIST=YES,PREFIX=YES
         END
//DCB    EXEC ASMMAC,MBR=DCB
         DCBD  DSORG=PS
         END
//DCBDA  EXEC ASMMAC,MBR=DCBDA
         DCBD  DSORG=DA
         END
//DCE    EXEC ASMMAC,MBR=DCE
         IECDDCE
         END
//DECB   EXEC ASMMAC,MBR=DECB
         IHADECB DSECT=YES
         END
//DFA    EXEC ASMMAC,MBR=DFA
         IHADFA DSECT=YES
         END
//DSAB   EXEC ASMMAC,MBR=DSAB
         IHADSAB
         END
//DSCB1  EXEC ASMMAC,MBR=DSCB1
         IECSDSL1 1
         END
//DSCB4  EXEC ASMMAC,MBR=DSCB4
         DS    44X'04'
         IECSDSL1 4
         END
//DYNALL EXEC ASMMAC,MBR=DYNALLOC
*STATUS      OLD=01   MOD=02    NEW=04    SHR=08
*DISP    UNCATLG=01 CATLG=02 DELETE=04   KEEP=08
*SPACE                ALX=02   MXIG=04 CONTIG=08
*LABEL        NL=01    SL=02    NSL=04            SUL=0A
*             BLP=10  LTM=21     AL=40    AUL=48
         IEFZB4D0
         IEFZB4D2
         END
//DEB    EXEC ASMMAC,MBR=DEB
         IEZDEB LIST=YES
         END
//DVA    EXEC ASMMAC,MBR=DVA
         IHADVA DSECT=YES
         END
//DVCT   EXEC ASMMAC,MBR=DVCT
         IHADVCT DSECT=YES
         END
//ECT    EXEC ASMMAC,MBR=ECT
         IKJECT
         END
//ECVT   EXEC ASMMAC,MBR=ECVT
         IHAECVT LIST=YES
         END
//EPIE   EXEC ASMMAC,MBR=EPIE
         IHAEPIE
         END
//GDA    EXEC ASMMAC,MBR=GDA
         IHAGDA
         END
//IOB    EXEC ASMMAC,MBR=IOB
         IEZIOB DSECT=YES
         END
//IOCOM  EXEC ASMMAC,MBR=IOCOM
         IECDIOCM
         END
//IPA    EXEC ASMMAC,MBR=IPA
         IHAIPA
         END
//JCT    EXEC ASMMAC,MBR=JCT
JCT      DSECT
         IEFAJCTB
         END
//JCTX   EXEC ASMMAC,MBR=JCTX
JCTX     DSECT
         IEFJCTX
         END
//JESCT  EXEC ASMMAC,MBR=JESCT
         IEFJESCT
         END
//JFCB   EXEC ASMMAC,MBR=JFCB
JFCB     DSECT
         IEFJFCBN LIST=YES
         END
//JMR    EXEC ASMMAC,MBR=JMR
         IEFJMR
         END
//JSAB   EXEC ASMMAC,MBR=JSAB
         IAZJSAB
         END
//JSCB   EXEC ASMMAC,MBR=JSCB
         IEZJSCB
         END
//JSCVT  EXEC ASMMAC,MBR=JSCVT
         IEFJSCVT
         END
//LCCA   EXEC ASMMAC,MBR=LCCA
         IHALCCA DSECT=YES
         END
//LCT    EXEC ASMMAC,MBR=LCT
         IEFALLCT
         END
//LDA    EXEC ASMMAC,MBR=LDA
         IHALDA
         END
//LLE    EXEC ASMMAC,MBR=LLE
         IHALLE
         END
//LPDE   EXEC ASMMAC,MBR=LPDE
         IHALPDE
         END
//LWA    EXEC ASMMAC,MBR=LWA
         IKJEFLWA
         END
//OCE    EXEC ASMMAC,MBR=OCE
         IECDSECS
         IECDSECT
         END
//ORE    EXEC ASMMAC,MBR=ORE
         IHAORE DSECT=YES
         END
//OUCB   EXEC ASMMAC,MBR=OUCB
         IRAOUCB DSECT=YES
         END
//OUXB   EXEC ASMMAC,MBR=OUXB
         IHAOUXB DSECT=YES
         IEZBITS
         END
//PCCA   EXEC ASMMAC,MBR=PCCA
         IHAPCCA DSECT=YES
         END
//PDS2   EXEC ASMMAC,MBR=PDS2
         IHAPDS DSECT=YES,PDSBLDL=YES
         END
//PSA    EXEC ASMMAC,MBR=PSA
         IHAPSA DSECT=YES,LIST=YES
         END
//PSCB   EXEC ASMMAC,MBR=PSCB
         IKJPSCB
         END
//RAX    EXEC ASMMAC,MBR=RAX
         IARRAX                 RSM ADDR SPC BLOCK EXTENSION
         END
//RCE    EXEC ASMMAC,MBR=RCE
         IARRCE                 RSM CONTROL AND ENUMERATION AREA
         END
//RCVT   EXEC ASMMAC,MBR=RCVT
         ICHPRCVT               RACF CVT
         END
//RD     EXEC ASMMAC,MBR=RD
         IHARD                  REGION DESCRIPTOR
         END
//RMCT   EXEC ASMMAC,MBR=RMCT
         IRARMCT DSECT=YES      RESOURCE MANAGET CONTROL TABLE
         END
*/SAMB   EXEC ASMMAC,MBR=SAMB
*        IGGSAMB DSECT=YES
*        END
//RB     EXEC ASMMAC,MBR=RB
         IKJRB DSECT=YES,LIST=YES
         END
//REXX   EXEC ASMMAC,MBR=REXX
         IRXARGTB
         IRXCMPTB ,            COMPILER TABLE TSO/E 2.3.1
         IRXDSIB
         IRXEFPL
         IRXENVB               ENVIRONMENT BLOCK
         IRXENVT               ENVIRONMENT TABLE (IRXANCHR)
         IRXEVALB
         IRXEXECB
         IRXEXTE
         IRXFPDIR
         IRXINSTB
         IRXMODNT
         IRXPACKT
         IRXPARMB
         IRXSHVB
         IRXSUBCT
         IRXWORKB
         END
//RIB    EXEC ASMMAC,MBR=RIB
         ISGRIB
         END
//RPL    EXEC ASMMAC,MBR=RPL
         IFGRPL
         IDARMRCD ,                RECORD MGMT ERROR CODES
         END
//SCA    EXEC ASMMAC,MBR=SCA
         IHASCA
         END
//SCB    EXEC ASMMAC,MBR=SCB
         IHASCB DSECT=YES
         END
//SCCB   EXEC ASMMAC,MBR=SCCB
         IHASCCB
         END
//SCT    EXEC ASMMAC,MBR=SCT
SCT      DSECT
         IEFASCTB
         END
//SCTX   EXEC ASMMAC,MBR=SCTX
         IEFSCTX DSECT=YES
         END
//SCVT   EXEC ASMMAC,MBR=SCVT
         IHASCVT DSECT=YES,LIST=YES
         END
//SDWA   EXEC ASMMAC,MBR=SDWA
         IHASDWA DSECT=YES,VRAMAP=YES
         END
//SIOT   EXEC ASMMAC,MBR=SIOT
SIOT     DSECT
         IEFASIOT
         END
//SMCA   EXEC ASMMAC,MBR=SMCA
         IEESMCA
         END
//SNAP   EXEC ASMMAC,MBR=SNAP
         IHASNAP DSECT=YES
         END
//SPIE   EXEC ASMMAC,MBR=SPIE
         IHASCA                 SPIE/ESPIE CONTROL AREA
         IHAEPIE                EXTENDED PROGRAM INTERRUPT ELEMENT
         IHAPIE                 PROGRAM INTERRUPT ELEMENT
         IHAPICA                PROGRAM INTERRUPTION CONTROL AREA
         END
//SPQE   EXEC ASMMAC,MBR=SPQE
         IHASPQE                SP Q ELEMENT
         IHAFBQE                FREE BLOCK
         IHASPQA                SP Q DESCRIPTOR
         IHADQE                 DESCRIPTOR Q ELEMENT
         IHAFQE                 FREE Q ELEMENT
         IHASPT                 CSA
         END
//SSOB   EXEC ASMMAC,MBR=SSOB
         IEFJSSOB (AL,SO)
         END
//SSIB   EXEC ASMMAC,MBR=SSIB
         IEFJSSIB
         END
//SSSA   EXEC ASMMAC,MBR=SSSA
         IEFSSSA
         END
//SSVT   EXEC ASMMAC,MBR=SSVT
         IEFJSSVT
         END
//STCB   EXEC ASMMAC,MBR=STCB
         IHASTCB LIST=YES
         END
//SVT    EXEC ASMMAC,MBR=SVT
         IHASVT LIST=YES
         END
//SWB    EXEC ASMMAC,MBR=SWB
         IEFSWB
         END
//TAXE   EXEC ASMMAC,MBR=TAXE
         IKJTAXE
         END
//TCAS   EXEC ASMMAC,MBR=TCAS
         IKTTCAST DSECT=YES
         END
//TCB    EXEC ASMMAC,MBR=TCB
         IKJTCB DSECT=YES,LIST=YES
         END
//TCT    EXEC ASMMAC,MBR=TCT
         IEFTCT
         END
//TIOT   EXEC ASMMAC,MBR=TIOT
TIOT     DSECT
         IEFTIOT1
         END
//TMPWA  EXEC ASMMAC,MBR=TMPWA
         IKJTMPWA
         END
//TPC    EXEC ASMMAC,MBR=TPC
         IEAVVTPC
         END
//TQE    EXEC ASMMAC,MBR=TQE
         IHATQE
         END
//TSB    EXEC ASMMAC,MBR=TSB
         IKJTSB LIST=YES,EXT=YES
         END
//TSVT   EXEC ASMMAC,MBR=TSVT
         IKJTSVT
         END
//UCB    EXEC ASMMAC,MBR=UCB
**       IEFUCBOB LIST=YES,PREFIX=YES,SSMD=YES
         IEFUCBOB LIST=YES,PREFIX=YES
         END
//UCM    EXEC ASMMAC,MBR=UCM
         IEECUCM LIST=YES,DSECT=YES
         END
//UPT    EXEC ASMMAC,MBR=UPT
         IKJUPT
         END
//VLD    EXEC ASMMAC,MBR=IGDVLD
         IGDVLD
         END
//XCF    EXEC ASMMAC,MBR=XCF
         IXCYQUAA DSECT=YES            XCF-ANSWER AREA
         END
//XL     EXEC ASMMAC,MBR=XL
         IHAXTLST
         END

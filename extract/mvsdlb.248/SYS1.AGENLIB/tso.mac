         MACRO
&NAME    TSO   &LOGTIME=300,&LOGLINE=10,&CMDS=YES
         COPY  SGGBLPAK
.***** START OF SPECIFICATIONS **************************************
.*
.* MODULE NAME - TSO
.*
.* DESCRIPTIVE NAME - TSO SYSTEM GENERATION
.*
.* COPYRIGHT - NONE
.*
.* STATUS - CHANGE LEVEL 02
.*
.* FUNCTION -
.*       THIS MACRO IS USED TO SPECIFY THE TSO SYSTEM.
.*
.* NOTES - N/A
.*
.* MODULE TYPE - MACRO
.*
.* ENTRY POINT - N/A
.*
.* INPUT - THE FOLLOWING PARAMETERS ARE ALLOWED ON TSO
.*             &LOGTIME - SPECIFIES THE NUMBER OF SECONDS YOU MAY
.*                        WAIT WITHOUT A TERMINAL RESPONSE DURING A
.*                        LOGON. NUMBER BETWEEN 1 AND 16,777,215.
.*             &LOGLINE - THE NUMBER OF LINES THAT MAY BE ENTERED
.*                        BEFORE AN ATTEMPT TO LOGON IS AUTOMATICALLY
.*                        CANCELED.
.*             &CMDS    - SPECIFIES THE TSO COMMAND SYSTEM WILL BE
.*                        INCLUDED.
.*
.* OUTPUT -
.*       GLOBALS USED ARE -
.*             &SGMENTB(63) - TSO IN THE SYSTEM
.*             &SGSCHDB(44) - TSO SCHEDULER
.*             &SGDMGTB(5)  - TCAM IN THE SYSTEM WHEN TSO INCLUDED
.*             &SGCMDSC(1)  -
.*             &SGQUITB     - ERROR SWITCH
.*             &SGTSOPA(2)  - LOG ON TIME AVAILABLE TO LOG ON SYSTEM
.*             &SGTSOPA(3)  - LOG ON LINES ALLOWED FOR LOG ON ATTEMPT
.*
.*       LOCALS USED ARE -    NONE
.*
.* EXIT, NORMAL - N/A
.*
.* EXIT, ERROR - N/A
.*
.* EXTERNAL REFERENCES - N/A
.*
.* TABLES - N/A
.*
.* MACROS - NONE
.*
.* CHANGE ACTIVITY - MODIFIED FOR V02036,VS01199
.*
.***** END OF SPECIFICATIONS ************************************
         AIF   (&SGMENTB(63)).ER1       PREVIOUSLY DEFINED
&SGMENTB(63) SETB 1                     TSO MACRO CALLED
&SGSCHDB(44) SETB 1                     TSO SCHEDULER
         AIF   ('&CMDS' NE 'YES').T1    VALID PARM -TSO IN SYSTEM
&SGTSOB  SETB  1                        TSO INCLUDED IN SYSTEM
         AGO  .T0
.T1      AIF   ('&CMDS' EQ 'NO').T0     VALID PARM -LIMITED TSO
    MNOTE 5,'* * *IEITSO101 CMDS VALUE &CMDS INVALID MUST BE YES OR NO'
&SGQUITB SETB  1
.T0      ANOP
&SGCMDSC(1)    SETC  '&CMDS'
         AIF   (T'&LOGTIME NE 'N').T3   INVALID CHARS
         AIF   (&LOGTIME GE 1 AND &LOGTIME LE 16777215).T5  VALID
.T3 MNOTE 5,'* * * IEITSO107 LOGTIME VALUE &LOGTIME INVALID'
&SGQUITB SETB  1
         AGO   .L1                      CHECK LOGLINE PARM
.T5      ANOP
&SGTSOPA(2) SETA &LOGTIME
    MNOTE *,'    LOGON MESSAGE EVERY &SGTSOPA(2) SECONDS'
.L1      AIF   (T'&LOGLINE NE 'N').L3   INVALID CHARS
         AIF   (&LOGLINE GE 1 AND &LOGLINE LE 16777215).L5  VALID
.L3 MNOTE 5,'* * * IEITSO108 LOGLINE VALUE &LOGLINE INVALID'
&SGQUITB SETB  1
     MEXIT
.L5 MNOTE *,'    LOGON AUTOMATICALLY CANCELED AFTER &LOGLINE LINES'
&SGTSOPA(3) SETA &LOGLINE
         MEXIT
.ER1 MNOTE 5,'* * * IEITSO112 TSO MACRO PREVIOUSLY DEFINED'
&SGQUITB SETB 1
         MEND

         MACRO -- $ALLOC -- ALLOCATE A HASP DEVICE
&NAME    $ALLOC &LOC,&NONE
         $CHEK X,&LOC              INSURE DCT ADDRESS WAS PROVIDED
&NAME    $DECODE &LOC,OPA=L        SET UP DCT ADDRESS IN R1
         L     R15,$DYNADDR        GET ADDRESS OF DYNAMIC ALLOCATE
         BALR  LINK,R15            LINK TO CONTROL SERVICE PROGRAM
         $NPEXIT &NONE             SET UP NON-PROCESS EXIT
         MEND

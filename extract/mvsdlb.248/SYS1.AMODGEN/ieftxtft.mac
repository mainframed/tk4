*       %GOTO   TEXTPLS;
         MACRO
         IEFTXTFT
*%TEXTPLS:;
*/*
*
*   MACMEAN  IEFTXTFT MEANS TEXT FORMAT
*   MACCOMP  Y-2  SC1B9/PZD02                                  @G16APPK
*   MACSTAT  Y-2  76322/G16APPK                                @G16APPK
*
***********************************************************************
*                                                                     *
*  THIS MACRO IS USED TO MAP THE INTERNAL TEXT GENERATED BY THE       *
*  CONVERTER.   THE MACRO REFLECTS THE NEW FORMAT FOR INTERNAL TEXT,  *
*  IMPLEMENTED IN SUPPORT OF VS/2.   THE FORMATS FOR JOB,             *
*  PROC/EXEC AND DD DIFFER EXCEPT FOR THE FIRST TWO FIELDS -          *
*  THE LENGTH AND STATEMENT TYPE FIELDS ARE COMMON TO ALL THREE       *
*  FORMATS.  SUBSEQUENT REFERENCES TO A PARTICULAR TEXT STRING        *
*  ARE BASED UPON THE SETTING OF THE STATEMENT TYPE(STRINDCS).        *
*  FIELDS PRECEDING THE FIRST KEY FIELD ARE REFERRED TO AS THE        *
*  TEXT STRING PREFIX.                                                *
*                                                                     *
* STATUS - VS2 SU16 - IN THIS MACRO, SU 16 SUPPORTS           @G16APPK*
*          VPSS SUPPORT (SU 29 - @G29AN2E).                   @G16APPK*
*          MERGE SU 4,10,16 CODE TO REL 037 BASE PTF          @ZA28955*
*          ADD DTXPROC TO STRDINDC FOR USE IN IEFVFA & IEFVHE @ZA53693*
*                                                                     *
***********************************************************************
*                                                                    */
*       %GOTO    DCLPLS;
*/*
TEXT     DSECT
*
*  THE FOLLOWING FIELDS ARE COMMON TO ALL TEXT STRING TYPES.
*
STRLTH   DS    CL2                 LENGTH OF TEXT STRING.
STRINDCS DS    CL1                 STATEMENT TYPE AND
*                                  MISCELLANEOUS INDICATORS
JOBSTR   EQU   X'01'               JOB STATEMENT TEXT STRING
EXECSTR  EQU   X'02'               EXEC STATEMENT TEXT STRING
DDSTR    EQU   X'04'               DD STATEMENT TEXT STRING
PROCSTR  EQU   X'08'               PROC STATEMENT TEXT STRING
LASTSTMT EQU   X'10'               LAST STMT FOR THIS STEP.
         SPACE 3
*
*  FORMAT FOR JOB TEXT STRING
*******************************************************************
*              2*        1*        1*        1*        1*        1*
*     STRLTH    *STRINDCS *STRJINDC *STRJIND2 *STRJLABD *STRJKEY  *
*              2*        1*        1*        1*        1*        1*
*******************************************************************
*
*
STRJINDC DS    CL1                 JOB INDICATORS
JTXACCTN EQU   X'01'               ACCT NO. REQUIRED.
JTXPROGN EQU   X'02'               PROGRAMMER NAME REQUIRED.
JTXJOBFL EQU   X'04'               JOB HAS BEEN FAILED.
JTXSYSCK EQU   X'08'               JOB HAS SYSCHK DD.
JTXCPSTF EQU   X'10'               C/R - FLUSH TO RESTART STEPNAME.
JTXMHEDR EQU   X'20'               MESSAGE HEADER HAS BEEN WRITTEN.
JTXREGDF EQU   X'40'               REGION VALUE IS A DEFAULT.
*
STRJIND2 DS    CL1                 BYTE 2 OF JOB TEXT INDICATORS.
*
STRJLABD DS    CL1                 BYPASS LABEL PROCESSING DEFAULT.
* ENTIRE BYTE IS USED, AS IEFVDA OR'S BYTE DIRECTLY INTO JFCB.
JTXLABNL EQU   X'01'               DEFAULT IS NO LABEL.
JTXLABLP EQU   X'10'               DEFAULT IS BYPASS LABEL
*                                  PROCESSING.
*  END OF JOB TEXT STRING PREFIX
STRJKEY  DS    0C                  VERB KEY FOR JOB TEXT STRING
STRJPFXL EQU   STRJKEY-TEXT        LENGTH OF JOB TEXT STRING PREFIX
         SPACE 3
*
*  FORMAT FOR EXEC/PROC TEXT STRINGS
***************************************************
*                  2*         1*       1*        1*
*     STRLTH        *STRINDCS *STREINDC *STREKEY  *
*                   *         *         *         *
***************************************************
*
*
         ORG   STRINDCS+1
*
STREINDC DS    CL1                 EXEC INDICATORS.
ETXCPFLG EQU   X'01'               CHECKPT/RESTART EXEC STMT.
ETXSTPCT EQU   X'02'               STEP HAS A STEPCAT DD.
ETXSTPLB EQU   X'04'               STEP HAS A STEPLIB DD.
ETXPROC  EQU   X'08'               STATEMENT IS FROM A PROC.
ETXNODD  EQU   X'10'               STEP HAS NO DD STATEMENTS.
ETXPRCV  EQU   X'20'               STATEMENT INVOKES A PROCEDURE.
*  END OF EXEC/PROC TEXT STRING PREFIX
STREKEY  DS    0C                  VERB KEY FOR EXEC/PROC TEXT STRING
STREPFXL EQU   STREKEY-TEXT        LENGTH OF EXEC/PROC TEXT STRING PFX
         SPACE 3
*
*  FORMAT FOR DD TEXT STRINGS
***************************************************
*                  2*         1*       1*        1*
*     STRLTH        *STRINDCS *STRDINDC *STRDKEY  *
*                   *         *         *         *
***************************************************
*
*
         ORG   STRINDCS+1
*
STRDINDC DS    CL1                 DD TEXT STRING INDICATORS.
*
DTXDUMMY EQU   X'01'               DUMMY SPECIFIED ON STATEMENT.
DTXDDNM  EQU   X'02'               DDNAME= SPECIFIED ON STATEMENT.
DTXDSNLT EQU   X'04'               DSNAME SPECIFIED AS A LITERAL.
DTXDYNAM EQU   X'08'               DYNAM SPECIFIED ON STATEMENT.
DTXSYSIN EQU   X'10'               TEXT IS FOR A SPOOLED DATA SET.
DTXSYOUT  EQU  X'20' TEXT IS FOR A SYSOUT DATA SET
DTXSUBSK EQU   X'40'               SUBSYS= SPECIFIED ON STMT   @G29AN2E
DTXPROC  EQU   X'80'               STATEMENT IS FROM A PROC.   @ZA53693
*
*  END OF DD TEXT STRING PREFIX
STRDKEY  DS    0C                  VERB KEY FOR DD TEXT STRING
STRDPFXL EQU   STRDKEY-TEXT        LENGTH OF DD TEXT STRING PREFIX
         MEND
*                                                                    */
*%DCLPLS:;
*/*
*  THE FOLLOWING FIELDS ARE COMMON TO BOTH JOB/EXEC AND DD TEXT STRINGS
*                                                                    */
*DCL 1 TEXT BASED(TEXTPTR),      /* FORMAT FOR COMMON AREA           */
*                                /* USE LENGTH FUNCTION OF THIS      */
*                                /* LABEL TO GET THE LENGTH OF       */
*                                /* THE COMMON AREA                  */
*      2 STRLTH CHAR(2),         /* LENGTH OF TEXT STRING            */
*      2 STRINDCS CHAR(1),       /*STATEMENT TYPE AND                */
*                                /*MISCELLANEOUS INDICATORS          */
*           3 *       BIT(3),    /*            UNUSED                */
*           3 LASTSTMT BIT(1),   /* LAST STMT FOR THIS STEP          */
*           3 PROCSTR BIT(1),    /*PROC STATEMENT TEXT STRING        */
*           3 DDSTR   BIT(1),    /*DD STATEMENT TEXT STRING          */
*           3 EXECSTR BIT(1),    /*EXEC STATEMENT TEXT STRING        */
*           3 JOBSTR   BIT(1);   /*JOB STATEMENT TEXT STRING         */
*/*
*
*  FORMAT FOR JOB TEXT STRING
*******************************************************************
*              2*        1*        1*        1*        1*        1*
*     STRLTH    *STRINDCS *STRJINDC *STRJIND2 *STRJLABD *STRJKEY  *
*              2*        1*        1*        1*        1*        1*
*******************************************************************
*
*                                                                    */
*DCL 1 STRJPFX BASED(ADDR(TEXT)),/*FORMAT FOR JOB TEXT STRING        */
*                                /* USE LENGTH FUNCTION OF THIS      */
*                                /* LABEL TO GET THE LENGTH OF       */
*                                /* THE JOB PREFIX                   */
*      2 *        CHAR(3),       /*COMMON FIELDS                     */
*      2 STRJINDC,               /*JOB INDICATORS                    */
*           3 *        BIT(1),   /*        UNUSED                    */
*           3 JTXREGDF BIT(1),   /* REGION VALUE IS A DEFAULT        */
*           3 JTXMHEDR BIT(1),   /* MESSAGE HEADER HAS BEEN WRITTEN  */
*           3 JTXCPSTF BIT(1),   /* C/R - FLUSH TO RESTART STEPNAME  */
*           3 JTXSYSCK BIT(1),   /* JOB HAS SYSCHK DD                */
*           3 JTXJOBFL BIT(1),   /* JOB HAS BEEN FAILED              */
*           3 JTXPROGN BIT(1),   /* PROGRAMMER NAME REQUIRED         */
*           3 JTXACCTN BIT(1),   /* ACCT NUMBER REQUIRED             */
*
*      2 STRJIND2 CHAR(1),       /* BYTE 2 OF JOBTEXT INDICATORS     */
*
*      2 STRJLABD,               /* BYPASS LABLE PROCESSING DEFAULT  */
*/* ENTIRE BYTE IS USED, AS IEFVDA OR'S BYTE DIRECTLY INTO JFCB      */
*           3 JTXLABLP BIT(4),   /* DEFAULT IS BYPASS LABEL    Y02668*/
*                                /* PROCESSING                       */
*           3 JTXLABNL BIT(4);   /* DEFAULT IS NO LABEL        Y02668*/
*/*  END OF JOB TEXT STRING PREFIX                                   */
*DCL STRJKEY CHAR(1) BASED(ADDR(TEXT)+LENGTH(STRJPFX));
*                                /*VERB KEY FOR JOB TEXT STRING      */
*
*
*/*  FORMAT FOR EXEC/PROC TEXT STRINGS
***************************************************
*                  2*         1*       1*        1*
*     STRLTH        *STRINDCS *STREINDC *STREKEY  *
*                   *         *         *         *
***************************************************
*
*                                                                    */
*DCL 1 STREPFX BASED(ADDR(TEXT)),/*FORMAT FOR EXEC TEXT STRING       */
*                                /* USE LENGTH FUNCTION OF THIS      */
*                                /* LABEL TO GET THE LENGTH OF       */
*                                /* THE EXEC PREFIX                  */
*      2 *        CHAR(3),       /*COMMON FIELDS                     */
*      2 STREINDC,               /* EXEC INDICATORS                  */
*           3 *        BIT(2),   /*           UNUSED                 */
*           3 ETXPRCV  BIT(1),   /* STATMENT INVOKES A PROCEDURE     */
*           3 ETXNODD  BIT(1),   /* STEP HAS NO DD STATEMENTS        */
*           3 ETXPROC  BIT(1),   /* STATEMENT IS FROM A PROC         */
*           3 ETXSTPLB BIT(1),   /* STEP HAS A STEPLIB               */
*           3 ETXSTPCT BIT(1),   /* STEP HAS A STEPCAT               */
*           3 ETXCPFLG BIT(1);   /* CHECKPT/RESTART EXEC STMT        */
*/*  END OF EXEC/PROC TEXT STRING PREFIX                             */
*DCL STREKEY CHAR(1) BASED(ADDR(TEXT)+LENGTH(STREPFX));
*                                /*VERB KEY EXEC TEXT STRING         */
*
*
*/*FORMAT FOR DD TEXT STRINGS
***************************************************
*                  2*         1*       1*        1*
*     STRLTH        *STRINDCS *STRDINDC *STRDKEY  *
*                   *         *         *         *
***************************************************
*
*                                                                    */
*DCL 1 STRDPFX BASED(ADDR(TEXT)),/*FORMAT FOR DD TEXT STRING         */
*      2 * CHAR(3),              /*COMMON FIELDS                     */
*      2 STRDINDC,               /* DD TEXT STRING INDICATORS        */
*           3 DTXPROC  BIT(1),   /* STATEMENT IS FROM A PROC @ZA53693*/
*           3 DTXSUBSK BIT(1),   /* SUBSYS= SPECIFIED ON STMT@G29AN2E*/
*           3 DTXSYOUT BIT(1),   /* TEXT IS FOR A SYSOUT DATA SET    */
*           3 DTXSYSIN BIT(1),   /* TEXT IS FOR A SPOOLED DATA SET   */
*           3 DTXDYNAM BIT(1),   /* DYNAM SPECIFIED ON STATEMENT     */
*           3 DTXSNLTM BIT(1),   /* DSNAME SPECIFIED AS A LITERAL    */
*           3 DTXDDNM  BIT(1),   /* DDNAME= SPECIFIED ON STATEMENT   */
*           3 DTXDUMMY BIT(1);   /* DUMMY SPECIFIED ON STATEMENT     */
*
*/*  END OF DD TEXT STRING PREFIX                                    */
*DCL STRDKEY CHAR(1) BASED(ADDR(TEXT)+LENGTH(STRDPFX));
*                                /*VERB KEY FOR DD TEXT STRING       */

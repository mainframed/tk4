*
*        %GOTO WQEL1;        /* BILINGUAL MAPPING
         MACRO
         IHAWQE &DSECT=YES,&FORMAT=OLD           */
*%WQEL1 : ;
*
*/* **************************************************************** */
*/*                                                                  */
*/*        WRITE-TO-OPERATOR QUEUE ELEMENT (WQE) DEFINITIONS         */
*/*                                                                  */
*/*  OS/VS2 SYSTEM CONTROL PROGRAM 2, 08/24/79, LEVEL=04     @ZA38566*/
*/*                                                                  */
*/*  METHOD OF ACCESS                                                */
*/*      PL/S - DCL (WQEPTR,WMJPTR,WMNPTR) PTR                       */
*/*      BAL  - DSECT(S) ARE PRODUCED UNLESS DSECT=NO IS SPECIFIED.  */
*/*             USING ON DSECT NAME GIVES ADDRESSABILITY FOR ALL     */
*/*             SYMBOLS IN THAT DSECT.  IF FORMAT=OLD IS SPECIFIED   */
*/*             OR DEFAULTED, 1 DSECT CALLED WQE IS PRODUCED.        */
*/*             IF FORMAT=NEW IS SPECIFIED, 3 DSECTS ARE PRODUCED,   */
*/*             AND THEY ARE                                         */
*/*                 WQE    - NORMAL WQE                              */
*/*                 WQEMAJ - MAJOR WQE                               */
*/*                 WQEMIN - MINOR WQE                               */
*/*                                                                  */
*/*  CHANGE ACTIVITY = ZA26741,ZA38566,G64DPSS                       */
*/* **************************************************************** */
*%GOTO WQEL2;  /*
         SPACE
         IEZBITS , -          SYMBOLIC BIT DEFINITIONS
***********************************************************************
*                                                                     *
*                   WQE (NORMAL FORMAT)                               *
*                                                                     *
***********************************************************************
         SPACE
         AIF   ('&DSECT' EQ 'NO').WQE0000
WQE      DSECT
         AGO   .WQE0020
.WQE0000 ANOP
         DS    0D
WQE      EQU   *
.WQE0020 ANOP
         SPACE
WQELKP   DS    0A -           LINKAGE POINTER
WQEUSE   DS    FL1 -          WQE USE COUNT
WQELKPA  DS    AL3 -          ADDRESS OF NEXT WQE IN CHAIN
WQENBR   DS    F -            MESSAGE LENGTH (CCW COUNT FIELD)
WQERR    DS    CL4 -          ROUTE CODES                        YO2710
WQEPAD   DS    C -            BLANK                              Y02710
WQETS    DS    CL8 -          TIME STAMP                         Y02710
WQEPAD1  DS    C -            BLANK                              Y02710
WQEJOBNM DS    CL8            JOBNAME INSERTED BY SUBSYSTEM      Y02710
WQEPAD2  DS    CL1            BLANK                              Y02710
WQETXT   DS    0CL128 -       MESSAGE TEXT (MAX 128 BYTES)
         DS    CL127
WQETXTL  DS    C -            LAST BYTE OF MESSAGE TEXT
WQEPAD3  DS    C -            EXTRA BYTE SO REMAINING FIELDS ARE Y02710
*                             ON A WORD BOUNDRY                  Y02710
         SPACE
WQEXA    DS    B -            DISPOSITION FLAGS
WQEPURGE EQU   BIT0 -         PURGE THIS WQE
WQEQFHC  EQU   BIT1 -         QUEUE FOR HARD COPY
WQEORE   EQU   BIT2 -         ORE EXISTS FOR THIS WQE            Y02710
WQEQDFHC EQU   BIT3 -         QUEUED FOR HARD COPY
WQEWTOR  EQU   BIT4 -         WQE CREATED FOR WTOR
WQEDOM   EQU   BIT5 -         MESSAGE TO BE DOM'ED               Y02710
WQESUSP  EQU   BIT6 -         PROCESSING TEMPORARILY SUSPENDED   Y02710
WQEAUTH  EQU   BIT7 -         MESSAGE ISSUED BY AUTHORIZED USER  Y02710
         SPACE
WQEASID  DS    CL2 -          ASID OF USER                       Y02710
         SPACE
WQEAVAIL DS    B -            BUFFER STATUS FLAGS
WQEBUFA  EQU   BIT0 -         BUFFER IS FREE
WQEBUFB  EQU   BIT1 -         BUFFER IS IN USE
WQEBUFC  EQU   BIT2 -         READY FOR HARDCOPY                 Y02710
WQEBUFD  EQU   BIT3 -         BUFFER OBTAINED DYNAMICALLY
WQEBUFE  EQU   BIT4 -         BUFFER HAS BEEN SERVICED
WQEBUFF  EQU   BIT5 -         TPUT - TO DO                       Y02710
WQERSV06 EQU   BIT6,,C'X' -   RESERVED
WQEMTRCD EQU   BIT7 -         BUFFER HAS BEEN MASTER TRACED    @G64MP2D
         SPACE
WQETCB   DS    F -            POINTER TO USER'S TCB              Y02710
WQERTCT  DS    FL1 -          ROUTED WQE COUNT
WQESEQN  DS    FL3 -          24-BIT ID SEQUENCE NUMBER
         SPACE
WQEMCSF  DS    0BL2 -         MCS FLAGS
WQEMCSF1 DS    B -            FIRST BYTE OF MCS FLAGS
WQEMCSA  EQU   BIT0 -         ROUTING AND DESCRIPTOR CODE FIELDS EXIST
WQEMCSB  EQU   BIT1 -         QUEUE AT LEAST TO UCM ENTRY PASSED
*                             IN REG 0 (IF THE CONSOLE IS ACTIVE)
WQEMCSC  EQU   BIT2 -         COMMAND RESPONSE (INCLUDES HARD COPY)
WQEMCSD  EQU   BIT3 -         MESSAGE TYPE FLAGS FIELD EXISTS
WQEMCSE  EQU   BIT4 -         THIS WTO IS A REPLY TO A WTOR
WQEMCSFF EQU   BIT5 -         BROADCAST TO ALL ACTIVE CONSOLES
WQEMCSG  EQU   BIT6 -         QUEUE FOR HARD COPY ONLY
WQEMCSH  EQU   BIT7 -         QUEUE UNCONDITIONALLY TO UCM ENTRY
*                             PASSED IN REG 0
WQEMCSF2 DS    B -            SECOND BYTE OF MCS FLAGS
WQEMCSI  EQU   BIT0 -         NO TIME STAMP
WQEMCSJ  EQU   BIT1 -         MUST BE ZERO
WQEMCSK  EQU   BIT2 -         SUBSYSTEM USE ONLY               @ZA26741
WQERSV09 EQU   BIT3,,C'X' -   RESERVED
WQERSV10 EQU   BIT4,,C'X' -   RESERVED
WQEMCSN  EQU   BIT5 -         BYPASS QUEUING TO HARD COPY (FOR
*                             USERS OPERATING IN PROTECT KEY 0 ONLY)
WQEMCSO  EQU   BIT6 -         RESERVED FOR DOM FUNCTION
WQEMCSP  EQU   BIT7 -         RESERVED FOR GRAPHICS
         SPACE
WQEMSGTP DS    0BL2 -         MESSAGE TYPE FLAGS
WQEMSGT1 DS    B -            FIRST BYTE OF MESSAGE TYPE FLAGS
WQEMSGTA EQU   BIT0 -         DISPLAY JOBNAMES
WQEMSGTB EQU   BIT1 -         DISPLAY STATUS
WQEMSGTC EQU   BIT2 -         MONITOR ACTIVE
WQEMSGTD EQU   BIT3 -         INDICATES EXISTENCE OF QID FIELD IN
*                             WPL  (AOS/1)                       ICB468
WQERSV13 EQU   BIT4,,C'X' -   RESERVED
WQEMSGTF EQU   BIT5 -         MONITOR SESS
WQERSV14 EQU   BIT6,,C'X' -   RESERVED
WQERSV15 EQU   BIT7,,C'X' -   RESERVED
WQEMSGT2 DS    B -            SECOND BYTE OF MESSAGE TYPE FLAGS
         SPACE
WQEROUT  DS    0BL2 -         ROUTING CODES
*                             THESE CODES INDICATE THE FUNCTIONAL
*                             AREA OR AREAS TO WHICH A MESSAGE IS TO
*                             BE SENT.
WQEROUT1 DS    B -            1ST BYTE OF ROUTING CODES
WQEROUTA EQU   BIT0 -         MASTER CONSOLE
WQEROUTB EQU   BIT1 -         MASTER CONSOLE INFORMATIONAL
WQEROUTC EQU   BIT2 -         TAPE POOL
WQEROUTD EQU   BIT3 -         DIRECT ACCESS POOL
WQEROUTE EQU   BIT4 -         TAPE LIBRARY
WQEROUTF EQU   BIT5 -         DISK LIBRARY
WQEROUTG EQU   BIT6 -         UNIT RECORD POOL
WQEROUTH EQU   BIT7 -         TELEPROCESSING CONTROL
WQEROUT2 DS    B -            2ND BYTE OF ROUTING CODES
WQEROUTI EQU   BIT0 -         SYSTEM SECURITY
WQEROUTJ EQU   BIT1 -         SYSTEM/ERROR MAINTENANCE
WQEROUTK EQU   BIT2 -         PROGRAMMER INFORMATION
WQEROUTL EQU   BIT3 -         EMULATOR INFORMATION
WQEROUTM EQU   BIT4 -         USER ROUTING CODE
WQEROUTN EQU   BIT5 -         USER ROUTING CODE
WQEROUTO EQU   BIT6 -         USER ROUTING CODE
WQERSV16 EQU   BIT7,,C'X' -   RESERVED
         SPACE
WQERSV17 DS    CL2            RESERVED
WQEUCMID DS    FL1 -          UNIQUE UCM ENTRY ID
WQERSV18 DS    FL1 -          RESERVED                           Y02710
WQERPYID DS    CL2 -          REPLY ID                           Y02710
         SPACE
WQEDESCD DS    0BL2 -         DESCRIPTOR CODES
WQEDC1   DS    B -            FIRST BYTE OF DESCRIPTOR CODES
WQEDCA   EQU   BIT0 -         SYSTEM FAILURE MESSAGE
WQEDCB   EQU   BIT1 -         IMMEDIATE ACTION REQUIRED MESSAGE
WQEDCC   EQU   BIT2 -         EVENTUAL ACTION REQUIRED MESSAGE
WQEDCD   EQU   BIT3 -         SYSTEM STATUS MESSAGE
WQEDCE   EQU   BIT4 -         IMMEDIATE COMMAND RESPONSE MESSAGE
WQEDCF   EQU   BIT5 -         JOB STATUS MESSAGE
WQEDCG   EQU   BIT6 -         APPLICATION PROGRAM/PROCESSOR MESSAGE
WQEDCH   EQU   BIT7 -         OUT-OF-LINE MESSAGE
WQEDC2   DS    B -            SECOND BYTE OF DESCRIPTOR CODES
WQEDCI   EQU   BIT0 -         DESCRIPTOR CODE 9
WQEDCJ   EQU   BIT1 -         DESCRIPTOR CODE 10                 Y02710
WQEDCK   EQU   BIT2 -         CRITICAL EVENTUAL ACTION MSG -   @G64DPSS
*                             DESCRIPTOR CODE 11               @G64DPSS
WQERSV21 EQU   BIT3,,C'X' -   RESERVED
WQERSV22 EQU   BIT4,,C'X' -   RESERVED
WQERSV23 EQU   BIT5,,C'X' -   RESERVED
WQERSV24 EQU   BIT6,,C'X' -   RESERVED
WQERSV25 EQU   BIT7,,C'X' -   RESERVED
         SPACE
WQERSV26 DS    CL2 -          RESERVED
WQEJSTCB DS    F -            ADRESS OF JOB STEP TCB             Y02710
WQEL     EQU   * -            END OF WQE
WQESIZE  EQU   WQEL-WQE -     LENGTH OF WQE
         EJECT
***********************************************************************
*                                                                     *
*                        MAJOR WQE                                    *
*                                                                     *
***********************************************************************
         SPACE
         AIF   ('&DSECT' EQ 'YES' AND '&FORMAT' EQ 'NEW').WQE0100
         ORG   WQE
         SPACE
         AGO   .WQE0200
.WQE0100 ANOP
WQEMAJ   DSECT , -            MAJOR WQE
.WQE0200 ANOP
WMJM     EQU   * -            START OF MAJOR WQE
WMJMEXT  DS    0A -           POINTER TO NEXT WQE
WMJMUC   DS    FL1 -          USE COUNT
WMJMEXTA DS    AL3 -          ADDRESS OF NEXT WQE
WMJMNXT  EQU   WMJMEXTA -     ALIAS FOR WMJMEXTA
         SPACE
WMJMMLW  DS    B -            MLWTO FLAGS
WMJMMLWA EQU   BIT0 -         DO NOT QUEUE MLWTO TO CONSOLES
WMJMMLWB EQU   BIT1 -         MAJOR WQE
WMJMMLWC EQU   BIT2 -         MINOR WQE
WMJMMLWD EQU   BIT3 -         CHAIN ALTERED
WMJMMLWE EQU   BIT4 -         WTL ISSUED
WMJMMLWF EQU   BIT5 -         QUEUEING TO START AT TOP OF CHAIN
WMJMMLWG EQU   BIT6 -         SERVICE THIS CHAIN
WMJMMLWH EQU   BIT7 -         MINOR WQE QUEUED HAS NO TEXT
         SPACE
WMJMAREA DS    C -            AREA ID
WMJMTXTL DS    H -            LENGTH OF TEXT
WMJMRR   DS    CL4 -          ROUTE CODES                        Y02710
WMJMPAD  DS    C -            BLANK                              Y02710
WMJMTS   DS    CL8 -          TIME STAMP                         Y02710
WMJMPAD1 DS    C -            BLANK                              Y02710
WMJMJBNM DS    CL8 -          JOBNAME INSERTED BY SUBSYSTEM      Y02710
WMJMPAD2 DS    C -            BLANK                              Y02710
WMJMTXT  DS    CL72 -         MESSAGE TEXT (MAXIMUM OF 72 BYTES)
WMJMHCID DS    CL4 -          HARDCOPY ID
WMJMPAD3 DS    C -            BLANK INSERTED SO THAT REMAINING   Y02710
*                             FIELDS ARE ON A WORD BOUNDRY.      Y02710
WMJMRESA DS    2F -          DUMMY MINOR CREATED BY PURGE OS/VS2 Y02710
WQERSV29 DS    F -            RESERVED                           Y02710
WQERSV30 DS    H -            RESERVED
         SPACE
WMJMSER  DS    0BL2 -         LINE CONTROL FLAGS
WMJMSER1 DS    B -            1ST BYTE OF LINE CONTROL FLAGS
WMJMSERA EQU   BIT0 -         C LINE IN MAJOR WQE
WMJMSERB EQU   BIT1 -         ONE LABEL LINE FOUND
WMJMSERC EQU   BIT2 -         TWO LABEL LINES FOUND
WMJMSERD EQU   BIT3 -         LAST TYPE WAS CONTROL LINE
WMJMSERE EQU   BIT4 -         LAST TYPE WAS LABEL LINE
WQERSV31 EQU   BIT5,,C'X' -   RESERVED
WQERSV32 EQU   BIT6,,C'X' -   RESERVED
WQERSV33 EQU   BIT7,,C'X' -   RESERVED
WMJMSER2 DS    B -            2ND BYTE OF LINE CONTROL FLAGS
         SPACE
WQERSVD2 DS    BL8 -          RESERVED                         @ZA38566
WQERSV34 DS    XL2 -          RESERVED  ***WMJMRESB***
         SPACE
WMJMLTYP DS    0BL2 -         LINE TYPE FLAGS
WMJMLTY1 DS    B -            1ST BYTE OF LINE TYPE FLAGS
WMJMLTYA EQU   BIT0 -         CONTROL LINE
WMJMLTYB EQU   BIT1 -         LABEL LINE
WMJMLTYC EQU   BIT2 -         DATA LINE                          ICB433
WMJMLTYD EQU   BIT3 -         END LINE                           ICB433
WQERSV35 EQU   BIT4,,C'X' -   RESERVED
WQERSV36 EQU   BIT5,,C'X' -   RESERVED
WQERSV37 EQU   BIT6,,C'X' -   RESERVED
WQERSV38 EQU   BIT7,,C'X' -   RESERVED
WMJMLTY2 DS    B -            2ND BYTE OF LINE TYPE FLAGS
         SPACE
WMJMMIN  DS    A -            ADDRESS OF FIRST MINOR WQE
WMJMAECB DS    BL4 -          ECB USED IN MLWTO PROCESSING       Y02710
WMJMMSGN DS    CL4 -          MLWTO ID                           Y02710
         SPACE
WMJMECBF DS    B -            STATUS FLAGS                     @ZA38566
WMJMWAIT EQU   BIT0 -         USER IS WAITING ON WMJMAECB        Y02710
WMJMMAJD EQU   BIT1 -         SUBSYSTEM OR USERS EXIT ASKED TO         *
                              DELETE THIS MLWTO                  Y02710
WMJMCONS EQU   BIT2       -   FRAME FULL CONTROL BIT           @ZA38566
WQERSVD3 EQU   BIT3,,C'X' -   RESERVED                           Y02710
WQERSVD4 EQU   BIT4,,C'X' -   RESERVED                           Y02710
WQERSVD5 EQU   BIT5,,C'X' -   RESERVED                           Y02710
WQERSVD6 EQU   BIT6,,C'X' -   RESERVED                           Y02710
WQERSVD7 EQU   BIT7,,C'X' -   RESERVED                           Y02710
WQERSVD8 DS    XL3 -          RESERVED                           Y02710
         SPACE
WQERSVA4 DS    F -            RESERVED                           Y02710
WQERSVA5 DS    F -            RESERVED                           Y02710
         SPACE
WMJMDSP  DS    B -            DISPOSITION FLAGS
WMJMDSPA EQU   BIT0 -         PURGE THIS WQE
WMJMDSPB EQU   BIT1 -         QUEUE WQE TO HARDCOPY
WMJMDSPC EQU   BIT2 -         MUST BE ZERO
WMJMDSPD EQU   BIT3 -         QUEUED TO HARDCOPY
WMJMDSPE EQU   BIT4 -         MUST BE ZERO
WMJMDSPF EQU   BIT5 -         MESSAGE TO BE DOM'ED               Y02710
WMJMDSPG EQU   BIT6 -         PROCESSING TEMPORARILY SUSPENDED   Y02710
WMJMDSPH EQU   BIT7 -         MSG ISSUED BY AUTH USER            Y02710
         SPACE
WMJMASID DS    CL2 -          ASID OF USER                       Y02710
         SPACE
WMJMBUF  DS    B -            BUFFER STATUS FLAGS
WMJMBUFA EQU   BIT0 -         WQE AVAILABLE
WMJMBUFB EQU   BIT1 -         WQE IN USE
WMJMBUFC EQU   BIT2 -         READY FOR HARDCOPY                 Y02710
WMJMBUFD EQU   BIT3 -         WQE ACQUIRED BY GETMAIN
WMJMBUFE EQU   BIT4 -         WQE SERVICED
WMJMBUFF EQU   BIT5 -         TPUT TO DO                         Y02710
WMJMBUFG EQU   BIT6 -         TPUT DONE                          Y02710
WMJMTRCD EQU   BIT7 -         MAJOR WQE HAS BEEN MASTER TRACED @G64MP2D
         SPACE
         DS    0F -
WMJMTCB  DS    A -            ADDRESS OF ISSUER'S TCB            Y02710
WMJMRTCT DS    FL1 -          ROUTED COUNT
WMJMSEQ  DS    FL3 -          SEQUENCE NUMBER
         SPACE
WMJMCS   DS    0BL2 -         MCS FLAGS
WMJMCS1  DS    B -            1ST BYTE OF MCS FLAGS
WMJMCS1A EQU   BIT0 -         ROUTE AND DESCRIPTOR CODES EXIST
WMJMCS1B EQU   BIT1 -         QUEUE BY ID TO ACTIVE CONSOLE
WMJMCS1C EQU   BIT2 -         COMMAND RESPONSE
WMJMCS1D EQU   BIT3 -         MESSAGE TYPE FIELD PRESENT
WMJMCS1E EQU   BIT4 -         ACCEPTED REPLY TO A WTOR
WMJMCS1F EQU   BIT5 -         BROADCAST (ROUTE TO ALL ACTIVE CONSOLES)
WMJMCS1G EQU   BIT6 -         QUEUE TO HARDCOPY ONLY
WMJMCS1H EQU   BIT7 -         QUEUE UNCONDITIONALLY BY ID
*                             TO CONSOLE
WMJMCS2  DS    B -            2ND BYTE OF MCS FLAGS
WMJMCS2A EQU   BIT0 -         DO NOT TIME STAMP
WMJMCS2B EQU   BIT1 -         MLWTO
WMJMCS2C EQU   BIT2 -         SUBSYSTEM USE ONLY               @ZA26741
WQERSV47 EQU   BIT3,,C'X' -   RESERVED
WQERSV48 EQU   BIT4,,C'X' -   RESERVED
WMJMCS2F EQU   BIT5 -         BYPASS HARDCOPY QUEUEING
WQERSV49 EQU   BIT6,,C'X' -   RESERVED
WQERSV11 EQU   BIT7,,C'X' -   RESERVED
         SPACE
WMJMMT   DS    0BL2 -         MESSAGE TYPE FLAGS
WMJMMT1  DS    B -            1ST BYTE OF MESSAGE TYPE FLAGS
WMJMMT1A EQU   BIT0 -         DISPLAY JOBNAMES
WMJMMT1B EQU   BIT1 -         DISPLAY STATUS
WQERSVA6 EQU   BIT2,,C'X' -   RESERVED   ***WMJMMT1C***          Y02710
WMJMMT1D EQU   BIT3 -         MUST BE ZERO
WQERSV50 EQU   BIT4,,C'X' -   RESERVED
WMJMMT1F EQU   BIT5 -         MONITOR SESS
WQERSV51 EQU   BIT6,,C'X' -   RESERVED
WQERSV52 EQU   BIT7,,C'X' -   RESERVED
WMJMMT2  DS    B -            2ND BYTE OF MESSAGE TYPE FLAGS
         SPACE
WMJMRTC  DS    0BL4 -         ROUTING CODES
WMJMRCT1 DS    B -            1ST BYTE OF ROUTING CODES
WMJMRCTA EQU   BIT0 -         MASTER CONSOLE
WMJMRCTB EQU   BIT1 -         MASTER CONSOLE INFORMATIONAL
WMJMRCTC EQU   BIT2 -         TAPE POOL
WMJMRCTD EQU   BIT3 -         DIRECT ACCESS POOL
WMJMRCTE EQU   BIT4 -         TAPE LIBRARY
WMJMRCTF EQU   BIT5 -         DISK LIBRARY
WMJMRCTG EQU   BIT6 -         UNIT RECORD POOL
WMJMRCTH EQU   BIT7 -         TELEPROCESSING CONTROL
WMJMRCT2 DS    B -            2ND BYTE OF ROUTING CODES
WMJMRCTI EQU   BIT0 -         SYSTEM SECURITY
WMJMRCTJ EQU   BIT1 -         SYSTEM/ERROR MAINTENANCE
WMJMRCTK EQU   BIT2 -         PROGRAMMER INFORMATION
WMJMRCTL EQU   BIT3 -         EMULATOR INFORMATION
WMJMRCTM EQU   BIT4 -         USER ROUTING CODE
WMJMRCTN EQU   BIT5 -         USER ROUTING CODE
WMJMRCTO EQU   BIT6 -         USER ROUTING CODE
WQERSV53 EQU   BIT7,,C'X' -   RESERVED
WMJMRCT3 DS    B -            3RD BYTE OF ROUTING CODES
WMJMRCT4 DS    B -            4TH BYTE OF ROUTING CODES
         SPACE
WMJMUID  DS    C -            UCM ENTRY ID
WQERSV54 DS    XL3 -          RESERVED  ***WMJMRESC***  AND
*                             ***WMJMLSQA***                     Y02710
         SPACE
WMJMDEC  DS    0BL4 -         DESCRIPTOR CODES
WMJMDEC1 DS    B -            1ST BYTE OF DESCRIPTOR CODES
WMJMDECA EQU   BIT0 -         SYSTEM FAILURE MESSAGE
WMJMDECB EQU   BIT1 -         IMMEDIATE ACTION REQUIRED MESSAGE
WMJMDECC EQU   BIT2 -         EVENTUAL ACTION REQUIRED MESSAGE
WMJMDECD EQU   BIT3 -         SYSTEM STATUS MESSAGE
WMJMDECE EQU   BIT4 -         IMMEDIATE COMMAND RESPONSE MESSAGE
WMJMDECF EQU   BIT5 -         JOB STATUS MESSAGE
WMJMDECG EQU   BIT6 -         APPLICATION PROGRAM/PROCESSOR MESSAGE
WMJMDECH EQU   BIT7 -         OUT-OF-LINE MESSAGE
WMJMDEC2 DS    B -            2ND BYTE OF DESCRIPTOR CODES
WMJMDECI EQU   BIT0 -         DESCRIPTOR CODE 9
WMJMDECJ EQU   BIT1 -         DESCRIPTOR CODE 10                 Y02710
WMJMDECK EQU   BIT2 -         CRITICAL EVENTUAL ACTION MSG -   @G64DPSS
*                             DESCRIPTOR CODE 11               @G64DPSS
WQERSV57 EQU   BIT3,,C'X' -   RESERVED
WQERSV58 EQU   BIT4,,C'X' -   RESERVED
WQERSV59 EQU   BIT5,,C'X' -   RESERVED
WQERSV60 EQU   BIT6,,C'X' -   RESERVED
WQERSV61 EQU   BIT7,,C'X' -   RESERVED
         SPACE 1                                               @G64DPSS
WMJMDEC3 DS    B -            3RD BYTE OF DESCRIPTOR CODES
WMJMDEC4 DS    B -            4TH BYTE OF DESCRIPTOR CODES
         SPACE
WMJMJTCB DS    F -            ADDRESS OF JOB STEP TCB            Y02710
WMJMSIZE EQU   *-WMJM -       SIZE OF MAJOR WQE                  ICB433
         EJECT
***********************************************************************
*                                                                     *
*                        MINOR WQE                                    *
*                                                                     *
***********************************************************************
         SPACE
         AIF   ('&DSECT' EQ 'YES' AND '&FORMAT' EQ 'NEW').WQE0300
         ORG   WQE
         SPACE
         AGO   .WQE0400
.WQE0300 ANOP
WQEMIN   DSECT , -            MINOR WQE
.WQE0400 ANOP
WMNM     EQU   * -            START OF MINOR WQE
WMNMEXT  DS    0A -           POINTER TO SECOND HALF OF WQE
WMNMUC1  DS    FL1 -          USE COUNT 1
WMNMNX1  DS    AL3 -          ADDRESS OF SECOND HALF OF WQE OR ZERO
         SPACE
WMNMML1  DS    B -            MLWTO FLAGS FOR FIRST MESSAGE
WQERSV62 EQU   BIT0,,C'X' -   RESERVED
WMNMML1B EQU   BIT1 -         MAJOR WQE
WMNMML1C EQU   BIT2 -         MINOR WQE
WMNMML1D EQU   BIT3 -         CHAIN ALTERED
WMNMML1E EQU   BIT4 -         WTL ISSUED
WMNMML1F EQU   BIT5 -         MINOR WQE FOR ABEND                ICB433
WMNMML1G EQU   BIT6 -         SERVICE THIS CHAIN
WMNMML1H EQU   BIT7 -         MINOR WQE ACQUIRED BY GETMAIN      ICB461
         SPACE
WMNMLT1  DS    B -            LINE TYPE FLAGS FOR FIRST MESSAGE
WMNMLT1A EQU   BIT0 -         CONTROL LINE
WMNMLT1B EQU   BIT1 -         LABEL LINE
WMNMLT1C EQU   BIT2 -         DATA LINE
WMNMLT1D EQU   BIT3 -         END INDICATOR
WQERSV63 EQU   BIT4,,C'X' -   RESERVED
WQERSV64 EQU   BIT5,,C'X' -   RESERVED
WQERSV65 EQU   BIT6,,C'X' -   RESERVED
WQERSV66 EQU   BIT7,,C'X' -   RESERVED
         SPACE
WQERSV67 DS    X -            RESERVED
WMNMTL1  DS    FL1 -          LENGTH OF FIRST MESSAGE TEXT
WMNMHCT1 DS    CL4 -          HARDCOPY ID FOR FIRST MESSAGE
WMNMTXT1 DS    CL72 -         FIRST MESSAGE TEXT (MAX 72 BYTES)
WMNMST1  DS    B -            STATUS FLAGS                       Y02710
WMNMTPD1 EQU   BIT0 -         TPUT DONE                          Y02710
WMNMTRC1 EQU   BIT1 -         FIRST MINOR WQE HAS BEEN         @G64MP2D
*                             MASTER TRACED                    @G64MP2D
WQERSVA9 EQU   BIT2,,C'X' -   RESERVED                           Y02710
WQERSVB1 EQU   BIT3,,C'X' -   RESERVED                           Y02710
WQERSVB2 EQU   BIT4,,C'X' -   RESERVED                           Y02710
WQERSVB3 EQU   BIT5,,C'X' -   RESERVED                           Y02710
WQERSVB4 EQU   BIT6,,C'X' -   RESERVED                           Y02710
WQERSVB5 EQU   BIT7,,C'X' -   RESERVED                           Y02710
         SPACE
WQERSVB6 DS    XL3 -          RESERVED                           Y02710
WQERSVB7 DS    2F -           RESERVED                           Y02710
         SPACE
WMNMUC2  DS    FL1 -          USE COUNT 2
WMNMNX2  DS    AL3 -          ADDRESS OF NEXT MINOR WQE OR ZERO
         SPACE
WMNMML2  DS    B -            MLWTO FLAGS FOR SECOND MESSAGE
WQERSV68 EQU   BIT0,,C'X' -   RESERVED
WMNMML2B EQU   BIT1 -         MAJOR WQE
WMNMML2C EQU   BIT2 -         MINOR WQE
WMNMML2D EQU   BIT3 -         CHAIN ALTERED
WMNMML2E EQU   BIT4 -         WTL ISSUED
WQERSV69 EQU   BIT5,,C'X' -   RESERVED
WMNMML2G EQU   BIT6 -         SERVICE THIS CHAIN
WMNMML2H EQU   BIT7 -         LINE 2 AVAILABLE
         SPACE
WMNMLT2  DS    B -            LINE TYPE FLAGS FOR SECOND MESSAGE
WMNMLT2A EQU   BIT0 -         CONTROL LINE
WMNMLT2B EQU   BIT1 -         LABEL LINE
WMNMLT2C EQU   BIT2 -         DATA LINE
WMNMLT2D EQU   BIT3 -         END INDICATOR
WQERSV70 EQU   BIT4,,C'X' -   RESERVED
WQERSV71 EQU   BIT5,,C'X' -   RESERVED
WQERSV72 EQU   BIT6,,C'X' -   RESERVED
WQERSV73 EQU   BIT7,,C'X' -   RESERVED
         SPACE
WQERSV74 DS    X -            RESERVED
WMNMTL2  DS    FL1 -          LENGTH OF SECOND MESSAGE TEXT
WMNMHCT2 DS    CL4 -          HARDCOPY ID FOR SECOND MESSAGE
WMNMTXT2 DS    CL72 -         SECOND MESSAGE TEXT (MAX 72 BYTES)
WMNMST2  DS    B -            STATUS FLAGS                       Y02710
WMNMTPD2 EQU   BIT0 -         TPUT DONE                          Y02710
WMNMTRC2 EQU   BIT1 -         SECOND MINOR WQE HAS BEEN        @G64MP2D
*                             MASTER TRACED                    @G64MP2D
WQERSVB9 EQU   BIT2,,C'X' -   RESERVED                           Y02710
WQERSVC1 EQU   BIT3,,C'X' -   RESERVED                           Y02710
WQERSVC2 EQU   BIT4,,C'X' -   RESERVED                           Y02710
WQERSVC3 EQU   BIT5,,C'X' -   RESERVED                           Y02710
WQERSVC4 EQU   BIT6,,C'X' -   RESERVED                           Y02710
WQERSVC5 EQU   BIT7,,C'X' -   RESERVED                           Y02710
          SPACE
WQERSVC6 DS    XL3 -          RESERVED                           Y02710
WQERSVC7 DS    2F -           RESERVED                           Y02710
          SPACE
WMNMSIZE EQU   *-WMNM -       SIZE OF MINOR WQE                  ICB433
         MEND  , -               */
*%WQEL2: ;
*@SPACE(2);                                                    @G64DPSS
*/********************************************************************/
*/*                                                                  */
*/*                 WQE (NORMAL FORMAT)                              */
*/*                                                                  */
*/********************************************************************/
*
*DECLARE
*  1 WQE BASED(WQEPTR) BDY(WORD),        /* START OF WQE             */
*   2 WQELKP      PTR(31),               /* LINKAGE POINTER          */
*    3 WQEUSE      PTR(8),               /* WQE USE COUNT            */
*    3 WQELKPA     PTR(24),              /* ADDRESS OF NEXT WQE
*                                           IN CHAIN                 */
*   2 WQENBR      FIXED(31),             /* MESSAGE LENGTH (CCW
*                                           COUNT FIELD)             */
*   2 WQERR       CHAR(4) BDY(WORD),     /* ROUTE CODES        Y02710*/
*   2 WQEPAD      CHAR(1),               /* BLANK              Y02710*/
*   2 WQETS       CHAR(8) BDY(WORD,2),   /* TIME STAMP         Y02710*/
*     3 WQETSHH   CHAR(2),               /* HOURS PART OF TIME Y02710*/
*     3 WQEPER1   CHAR(1),               /* PERIOD IN TIME     Y02710*/
*     3 WQETSMM   CHAR(2),               /* MINUTES PART OF TS Y02710*/
*     3 WQEPER2   CHAR(1),               /* PERIOD IN TIME     Y02710*/
*     3 WQETSSS   CHAR(2),               /* SECONDS PART OF TS Y02710*/
*   2 WQEPAD1     CHAR(1),               /* BLANK                    */
*   2 WQEJOBNM    CHAR(8),               /* JOBNAME INSERTED BY THE
*                                           SUBSYSTEM          Y02710*/
*   2 WQEPAD2     CHAR(1),               /* BLANK              Y02710*/
*   2 WQETXT      CHAR(128) BDY(WORD,4), /* MESSAGE TEXT (MAX 128
*                                           BYTES)                   */
*    3 *           CHAR(127),            /* MESSAGE TEXT             */
*    3 WQETXTL     CHAR(1),              /* LAST BYTE OF MESSAGE
*                                           TEXT                     */
*   2 WQEPAD3     CHAR(1),               /* USED TO PUT REMAINING
*                                           FIELDS ON WORD BDY Y02710*/
*
*   2 WQEXA       BIT(8) BDY(WORD),      /* DISPOSITION FLAGS        */
*    3 WQEPURGE  BIT(1),                 /* PURGE THIS WQE           */
*    3 WQEQFHC   BIT(1),                 /* QUEUE FOR HARD COPY      */
*    3 WQEORE    BIT(1),                 /* AN ORE EXISTS FOR
*                                           THIS WQE                 */
*    3 WQEQDFHC  BIT(1),                 /* QUEUED FOR HARD COPY     */
*    3 WQEWTOR   BIT(1),                 /* WQE CREATED FOR WTOR     */
*    3 WQEDOM    BIT(1),                 /* MESSAGE TO BE DOM'ED     */
*    3 WQESUSP   BIT(1),                 /* PROCESSING TEMPORARILY
*                                           SUSPENDED                */
*    3 WQEAUTH   BIT(1),                 /* MSG ISSUED BY AUTH USER  */
*
*   2 WQEASID     CHAR(2),               /* ASID OF USER             */
*
*   2 WQEAVAIL    BIT(8),                /* BUFFER STATUS FLAGS      */
*    3 WQEBUFA   BIT(1),                 /* BUFFER IS FREE           */
*    3 WQEBUFB   BIT(1),                 /* BUFFER IS IN USE         */
*    3 WQEBUFC   BIT(1),                 /* READY FOR HARDCOPY
*                                                              Y02710*/
*    3 WQEBUFD   BIT(1),                 /* BUFFER OBTAINED
*                                           DYNAMICALLY              */
*    3 WQEBUFE   BIT(1),                 /* BUFFER HAS BEEN SERVICED */
*    3 WQEBUFF   BIT(1),                 /* TPUT TO DO               */
*    3 WQERSV06  BIT(1),                 /* RESERVED                 */
*    3 WQEMTRCD  BIT(1),                 /* BUFFER HAS BEEN MASTER
*                                           TRACED           @G64MP2D*/
*
*   2 WQETCB      PTR(31),               /* ADDRESS OF USER'S TCB    */
*   2 WQERTCT     PTR(8) BDY(WORD),      /* ROUTED WQE COUNT         */
*   2 WQESEQN     PTR(24),               /* 24-BIT ID SEQUENCE
*                                           NUMBER                   */
*
*   2 WQEMCSF     CHAR(2) BDY(WORD),     /* MCS FLAGS                */
*    3 WQEMCSF1    BIT(8),               /* FIRST BYTE OF MCS FLAGS  */
*     4 WQEMCSA  BIT(1),                 /* ROUTING AND DESCRIPTOR
*                                           CODE FIELDS EXIST        */
*     4 WQEMCSB  BIT(1),                 /* QUEUE AT LEAST TO THE UCM
*                                           ENTRY PASSED IN REG 0 (IF
*                                           THE CONSOLE IS ACTIVE)   */
*     4 WQEMCSC  BIT(1),                 /* COMMAND RESPONSE
*                                           (INCLUDES HARD COPY)     */
*     4 WQEMCSD  BIT(1),                 /* MESSAGE TYPE FLAGS FIELD
*                                           EXISTS                   */
*     4 WQEMCSE  BIT(1),                 /* THIS WTO IS A REPLY TO
*                                           A WTOR                   */
*     4 WQEMCSFF BIT(1),                 /* BROADCAST TO ALL ACTIVE
*                                           CONSOLES                 */
*     4 WQEMCSG  BIT(1),                 /* QUEUE FOR HARD COPY
*                                           ONLY                     */
*     4 WQEMCSH  BIT(1),                 /* QUEUE UNCONDITIONALLY TO
*                                           UCM ENTRY PASSED IN REG 0*/
*    3 WQEMCSF2    BIT(8),               /* SECOND BYTE OF MCS FLAGS */
*     4 WQEMCSI  BIT(1),                 /* NO TIME STAMP            */
*     4 WQEMCSJ  BIT(1),                 /* MUST BE ZERO             */
*     4 WQEMCSK  BIT(1),                 /* SUBSYSTEM USE ONLY
*                                                            @ZA26741*/
*     4 WQERSV09 BIT(1),                 /* RESERVED                 */
*     4 WQERSV10 BIT(1),                 /* RESERVED                 */
*     4 WQEMCSN  BIT(1),                 /* BYPASS QUEUING TO HARD
*                                           COPY (FOR USERS OPERATING
*                                           IN PROTECT KEY 0 ONLY)   */
*     4 WQEMCSO  BIT(1),                 /* RESERVED FOR DOM FUNCTION*/
*     4 WQEMCSP  BIT(1),                 /* RESERVED FOR GRAPHICS    */
*
*   2 WQEMSGTP    CHAR(2),               /* MESSAGE TYPE FLAGS       */
*    3 WQEMSGT1  BIT(8),                 /* FIRST BYTE OF MESSAGE
*                                           TYPE FLAGS               */
*     4 WQEMSGTA BIT(1),                 /* DISPLAY JOBNAMES         */
*     4 WQEMSGTB BIT(1),                 /* DISPLAY STATUS           */
*     4 WQEMSGTC BIT(1),                 /* MONITOR ACTIVE           */
*     4 WQEMSGTD BIT(1),                 /* INDICATES EXISTENCE OF
*                                           QID FIELD IN WPL
*                                           (AOS/1)            ICB468*/
*     4 WQERSV13 BIT(1),                 /* RESERVED                 */
*     4 WQEMSGTF BIT(1),                 /* MONITOR SESS             */
*     4 WQERSV14 BIT(1),                 /* RESERVED                 */
*     4 WQERSV15 BIT(1),                 /* RESERVED                 */
*
*   2 WQEROUT CHAR(2) BDY(WORD),         /* ROUTING CODES (2 BYTES)  */
*/*      THESE CODES INDICATE THE FUNCTIONAL AREA OR AREAS TO WHICH  */
*/*      A MESSAGE IS TO BE SENT                                     */
*
*    3 WQEROUT1    CHAR(1),              /* 1ST BYTE OF ROUTING CODES*/
*     4 WQEROUTA BIT(1),                 /* MASTER CONSOLE           */
*     4 WQEROUTB BIT(1),                 /* MASTER CONSOLE INFO      */
*     4 WQEROUTC BIT(1),                 /* TAPE POOL                */
*     4 WQEROUTD BIT(1),                 /* DIRECT ACCESS POOL       */
*     4 WQEROUTE BIT(1),                 /* TAPE LIBRARY             */
*     4 WQEROUTF BIT(1),                 /* DISK LIBRARY             */
*     4 WQEROUTG BIT(1),                 /* UNIT RECORD POOL         */
*     4 WQEROUTH BIT(1),                 /* TELEPROCESSING CONTROL   */
*    3 WQEROUT2    CHAR(1),              /* 2ND BYTE OF ROUTING CODES*/
*     4 WQEROUTI BIT(1),                 /* SYSTEM SECURITY          */
*     4 WQEROUTJ BIT(1),                 /* SYSTEM/ERROR MAINTENANCE */
*     4 WQEROUTK BIT(1),                 /* PROGRAMMER INFORMATION   */
*     4 WQEROUTL BIT(1),                 /* EMULATOR INFORMATION     */
*     4 WQEROUTM BIT(1),                 /* USER ROUTING CODE        */
*     4 WQEROUTN BIT(1),                 /* USER ROUTING CODE        */
*     4 WQEROUTO BIT(1),                 /* USER ROUTING CODE        */
*     4 WQERSV16 BIT(1),                 /* RESERVED                 */
*   2 WQERSV17    FIXED(15),             /* RESERVED                 */
*   2 WQEUCMID    PTR(8) BDY(WORD),      /* UNIQUE UCM ENTRY ID      */
*   2 WQERSV18    PTR(8),                /* RESERVED                 */
*   2 WQERPYID    CHAR(2),               /*  REPLY ID                */
*   2 WQEDESCD    CHAR(2) BDY(WORD),     /* DESCRIPTOR CODES
*                                           (2 BYTES)                */
*/*      DESCRIPTOR CODES ARE USED TO FUNCTIONALLY CLASSIFY WTO AND  */
*/*      WTOR MESSAGES.                                              */
*
*    3 WQEDC1      CHAR(1),              /* 1ST BYTE OF DESCRIPTOR
*                                           CODES                    */
*     4 WQEDCA   BIT(1),                 /* SYSTEM FAILURE MESSAGE   */
*     4 WQEDCB   BIT(1),                 /* IMMEDIATE ACTION
*                                           REQUIRED MESSAGE         */
*     4 WQEDCC   BIT(1),                 /* EVENTUAL ACTION
*                                           REQUIRED MESSAGE         */
*     4 WQEDCD   BIT(1),                 /* SYSTEM STATUS MESSAGE    */
*     4 WQEDCE   BIT(1),                 /* IMMEDIATE COMMAND
*                                           RESPONSE MESSAGE         */
*     4 WQEDCF   BIT(1),                 /* JOB STATUS MESSAGE       */
*     4 WQEDCG   BIT(1),                 /* APPLICATION PROGRAM/
*                                           PROCESSOR MESSAGE        */
*     4 WQEDCH   BIT(1),                 /* OUT-OF-LINE MESSAGE      */
*    3 WQEDC2      CHAR(1),              /* 2ND BYTE OF DESCRIPTOR
*                                           CODES                    */
*     4 WQEDCI   BIT(1),                 /* DESCRIPTOR CODE 9        */
*     4 WQEDCJ   BIT(1),                 /* DESCRIPTOR CODE 10
*                                                              Y02710*/
*     4 WQEDCK   BIT(1),                 /* CRITICAL EVENTUAL ACTION
*                                           MSG - DESCRIPTOR CODE 11
*                                                            @G64DPSS*/
*     4 WQERSV21 BIT(1),                 /* RESERVED                 */
*     4 WQERSV22 BIT(1),                 /* RESERVED                 */
*     4 WQERSV23 BIT(1),                 /* RESERVED                 */
*     4 WQERSV24 BIT(1),                 /* RESERVED                 */
*     4 WQERSV25 BIT(1),                 /* RESERVED                 */
*   2 WQERSV26     CHAR(2),              /* RESERVED                 */
*   2 WQEJSTCB    PTR(31);               /* ADDR OF JOB STEP TCB
*                                                              Y02710*/
*%WQESIZE = 'LENGTH(WQE)';               /* GET LENGTH OF WQE        */
* @EJECT;                                                      @G64MP2D
*/********************************************************************/
*/*                                                                  */
*/*                      MAJOR WQE                                   */
*/*                                                                  */
*/********************************************************************/
*
*DECLARE
*  1 WMJM  BASED(WMJPTR) BDY(WORD),      /* START OF MAJOR WQE       */
*   2 WMJMEXT     PTR(31),               /* POINTER TO NEXT WQE      */
*    3 WMJMUC      PTR(8),               /* USE COUNT                */
*    3 WMJMEXTA    PTR(24),              /* ADDRESS OF NEXT WQE      */
*     4 WMJMNXT     PTR(24),             /* ALIAS FOR WMJMEXTA       */
*   2 WMJMMLW     BIT(8),                /* MLWTO FLAGS              */
*    3 WMJMMLWA BIT(1),                  /* DO NOT QUEUE MLWTO TO
*                                           CONSOLES                 */
*    3 WMJMMLWB BIT(1),                  /* MAJOR WQE                */
*    3 WMJMMLWC BIT(1),                  /* MINOR WQE                */
*    3 WMJMMLWD BIT(1),                  /* CHAIN ALTERED            */
*    3 WMJMMLWE BIT(1),                  /* WTL ISSUED               */
*    3 WMJMMLWF BIT(1),                  /* QUEUEING TO START AT TOP
*                                           OF CHAIN                 */
*    3 WMJMMLWG BIT(1),                  /* SERVICE THIS CHAIN       */
*    3 WMJMMLWH BIT(1),                  /* MINOR WQE QUEUED HAS NO
*                                           TEXT                     */
*   2 WMJMAREA    CHAR(1),               /* AREA ID                  */
*   2 WMJMTXTL    FIXED(15),             /* LENGTH OF MESSAGE TEXT   */
*   2 WMJMRR      CHAR(4) BDY(WORD),     /* ROUTE CODES        Y02710*/
*   2 WMJMPAD     CHAR(1),               /* BLANK                    */
*   2 WMJMTS      CHAR(8) BDY(WORD,2),   /* TIME STAMP         Y02710*/
*     3 WMJMTSHH  CHAR(2),               /* HOURS PART OF TS   Y02710*/
*     3 WMJMTSP1  CHAR(1),               /* PERIOD             Y02710*/
*     3 WMJMTSMM  CHAR(2),               /* MINUTES PART OF TS Y02710*/
*     3 WMJMTSP2  CHAR(1),               /* PERIOD             Y02710*/
*     3 WMJMTSSS  CHAR(2),               /* SECONDS PART OF TS Y02710*/
*   2 WMJMPAD1    CHAR(1),               /* BLANK                    */
*   2 WMJMJBNM    CHAR(8),               /* JOBNAME INSERTED BY THE
*                                           SUBSYSTEM          Y02710*/
*   2 WMJMPAD2    CHAR(1),               /* BLANK              Y02710*/
*   2 WMJMTXT     CHAR(72) BDY(WORD,4),  /* MESSAGE TEXT (MAXIMUM
*                                           OF 72 BYTES)       Y02710*/
*   2 WMJMHCID    CHAR(4) BDY(WORD,4),   /* HARDCOPY ID        Y02710*/
*   2 WNJNPAD3    CHAR(1),               /* BLANK TO LINE UP
*                                           REMAINING FIELDS   Y02710*/
*   2 WMJMRESA    CHAR(8) BDY(WORD),     /* DUMMY MINOR CREATED BY
*                                           PURGE OS/VS2 REL1        */
*   2 WQERSV29    PTR(31),               /* RESERVED           Y02710*/
*   2 WQERSV30    FIXED(15),             /* RESERVED                 */
*   2 WMJMSER     CHAR(2),               /* LINE CONTROL FLAGS       */
*    3 WMJMSER1    BIT(8),               /* 1ST BYTE OF LINE CONTROL
*                                           FLAGS                    */
*     4 WMJMSERA BIT(1),                 /* C LINE IN MAJOR WQE      */
*     4 WMJMSERB BIT(1),                 /* ONE LABEL LINE FOUND     */
*     4 WMJMSERC BIT(1),                 /* TWO LABEL LINES FOUND    */
*     4 WMJMSERD BIT(1),                 /* LAST TYPE WAS CONTROL
*                                           LINE                     */
*     4 WMJMSERE BIT(1),                 /* LAST TYPE WAS LABEL LINE */
*     4 WQERSV31 BIT(1),                 /* RESERVED                 */
*     4 WQERSV32 BIT(1),                 /* RESERVED                 */
*     4 WQERSV33 BIT(1),                 /* RESERVED                 */
*    3 WMJMSER2    BIT(8),               /* 2ND BYTE OF LINE CONTROL
*                                           FLAGS                    */
*   2 WQERSVD2    CHAR(8) BDY(WORD),     /* RESERVED         @ZA38566*/
*   2 WQERSV34    FIXED(15),             /* RESERVED **WMJMRESB**    */
*   2 WMJMLTYP    CHAR(2),               /* LINE TYPE FLAGS          */
*    3 WMJMLTY1    BIT(8),               /* 1ST BYTE OF LINE TYPE
*                                           FLAGS                    */
*     4 WMJMLTYA BIT(1),                 /* CONTROL LINE             */
*     4 WMJMLTYB BIT(1),                 /* LABEL LINE               */
*     4 WMJMLTYC BIT(1),                 /* DATA LINE                */
*     4 WMJMLTYD BIT(1),                 /* END LINE           ICB433*/
*     4 WQERSV35 BIT(1),                 /* RESERVED                 */
*     4 WQERSV36 BIT(1),                 /* RESERVED                 */
*     4 WQERSV37 BIT(1),                 /* RESERVED                 */
*     4 WQERSV38 BIT(1),                 /* RESERVED                 */
*    3 WMJMLTY2    BIT(8),               /* 2ND BYTE OF LINE TYPE
*                                           FLAGS                    */
*   2 WMJMMIN     PTR(31),               /* ADDR OF FIRST MINOR WQE  */
*   2 WMJMAECB    CHAR(4) BDY(WORD),     /* ECB USED IN MLWTO        */
*   2 WMJMMSGN    CHAR(4) BDY(WORD),     /* MLWTO ID           Y02710*/
*   2 WMJMECBF    BIT(8) BDY(WORD),      /* STATUS FLAGS     @ZA38566*/
*    3 WMJMWAIT BIT(1),                  /* USER IS WAITING ON
*                                           WMJMECB            Y02710*/
*    3 WMJMMAJD BIT(1),                  /* SUBSYSTEM OR USERS EXIT HAS
*                                           ASKED TO DELETE THIS MLWTO
*                                                              Y02710*/
*    3 WMJMCONS BIT(1),                  /* FRAME FULL CONTROL BIT
*                                                            @ZA38566*/
*    3 WQERSVD3 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVD4 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVD5 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVD6 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVD7 BIT(1),                  /* RESERVED           Y02710*/
*   2 WQERSVD8    FIXED(24),             /* RESERVED           Y02710*/
*   2 WQERSVA4    PTR(31),               /* RESERVED           Y02710*/
*   2 WQERSVA5    PTR(31),               /* RESERVED           Y02710*/
*   2 WMJMDSP     BIT(8) BDY(WORD),      /* DISPOSITION FLAGS        */
*    3 WMJMDSPA BIT(1),                  /* PURGE THIS WQE           */
*    3 WMJMDSPB BIT(1),                  /* QUEUE WQE TO HARDCOPY    */
*    3 WMJMDSPC BIT(1),                  /* MUST BE ZERO             */
*    3 WMJMDSPD BIT(1),                  /* QUEUED TO HARDCOPY       */
*    3 WMJMDSPE BIT(1),                  /* MUST BE ZERO             */
*    3 WMJMDSPF BIT(1),                  /* MESSAGE TO BE DOM'ED     */
*    3 WMJMDSPG BIT(1),                  /* PROCESSING TEMPORARILY
*                                           SUSPENDED          Y02710*/
*    3 WMJMDSPH BIT(1),                  /* MSG ISSUED BY AUTH USER
*                                                              Y02710*/
*   2 WMJMASID    CHAR(2),               /* ASID OF USER       Y02710*/
*   2 WMJMBUF     BIT(8),                /* BUFFER STATUS FLAGS      */
*    3 WMJMBUFA BIT(1),                  /* WQE AVAILABLE            */
*    3 WMJMBUFB BIT(1),                  /* WQE IN USE               */
*    3 WMJMBUFC BIT(1),                  /* READY FOR HARDCOPY
*                                                              Y02710*/
*    3 WMJMBUFD BIT(1),                  /* WQE ACQUIRED BY GETMAIN  */
*    3 WMJMBUFE BIT(1),                  /* WQE SERVICED             */
*    3 WMJMBUFF BIT(1),                  /* TPUT TO DO         Y02710*/
*    3 WMJMBUFG BIT(1),                  /* TPUT DONE          Y02710*/
*    3 WMJMTRCD BIT(1),                  /* MAJOR WQE HAS BEEN
*                                           MASTER TRACED    @G64MP2D*/
*   2 WMJMTCB     PTR(31),               /* ADDR OF ISSUER'S TCB
*                                                              Y02710*/
*   2 WMJMRTCT    PTR(8) BDY(WORD),      /* ROUTED COUNT             */
*   2 WMJMSEQ     PTR(24),               /* SEQUENCE NUMBER          */
*   2 WMJMCS      CHAR(2) BDY(WORD),     /* MCS FLAGS                */
*    3 WMJMCS1     BIT(8),               /* 1ST BYTE OF MCS FLAGS    */
*     4 WMJMCS1A BIT(1),                 /* ROUTE AND DESCRIPTOR
*                                           CODES EXIST              */
*     4 WMJMCS1B BIT(1),                 /* QUEUE BY ID TO ACTIVE
*                                           CONSOLE                  */
*     4 WMJMCS1C BIT(1),                 /* COMMAND RESPONSE         */
*     4 WMJMCS1D BIT(1),                 /* MESSAGE TYPE FIELD
*                                           PRESENT                  */
*     4 WMJMCS1E BIT(1),                 /* ACCEPTED REPLY TO A WTOR */
*     4 WMJMCS1F BIT(1),                 /* BROADCAST (ROUTE TO ALL
*                                           ACTIVE CONSOLES)         */
*     4 WMJMCS1G BIT(1),                 /* QUEUE TO HARDCOPY ONLY   */
*     4 WMJMCS1H BIT(1),                 /* QUEUE UNCONDITIONALLY BY
*                                           ID TO CONSOLE            */
*    3 WMJMCS2     BIT(8),               /* 2ND BYTE OF MCS FLAGS    */
*     4 WMJMCS2A BIT(1),                 /* DO NOT TIME STAMP        */
*     4 WMJMCS2B BIT(1),                 /* MLWTO                    */
*     4 WMJMCS2C BIT(1),                 /* SUBSYSTEM USE ONLY
*                                                            @ZA26741*/
*     4 WQERSV47 BIT(1),                 /* RESERVED                 */
*     4 WQERSV48 BIT(1),                 /* RESERVED                 */
*     4 WMJMCS2F BIT(1),                 /* BYPASS HARDCOPY QUEUEING */
*     4 WQERSV49 BIT(1),                 /* RESERVED                 */
*     4 WQERSV11 BIT(1),                 /* RESERVED                 */
*   2 WMJMMT      CHAR(2),               /* MESSAGE TYPE FLAGS       */
*    3 WMJMMT1     BIT(8),               /* 1ST BYTE OF MESSAGE TYPE
*                                           FLAGS                    */
*     4 WMJMMT1A BIT(1),                 /* DISPLAY JOBNAMES         */
*     4 WMJMMT1B BIT(1),                 /* DISPLAY STATUS           */
*     4 WQERSVA6 BIT(1),                 /* RESERVED  ***WMJMMT1C***
*                                                              Y02710*/
*     4 WMJMMT1D BIT(1),                 /* MUST BE ZERO             */
*     4 WQERSV50 BIT(1),                 /* RESERVED                 */
*     4 WMJMMT1F BIT(1),                 /* MONITOR SESS             */
*     4 WQERSV51 BIT(1),                 /* RESERVED                 */
*     4 WQERSV52 BIT(1),                 /* RESERVED                 */
*    3 WMJMMT2     BIT(8),               /* 2ND BYTE OF MESSAGE TYPE
*                                           FLAGS                    */
*   2 WMJMRTC     CHAR(4) BDY(WORD),     /* ROUTING CODES            */
*    3 WMJMRCT1    BIT(8),               /* 1ST BYTE OF ROUTING CODES*/
*     4 WMJMRCTA BIT(1),                 /* MASTER CONSOLE           */
*     4 WMJMRCTB BIT(1),                 /* MASTER CONSOLE INFO      */
*     4 WMJMRCTC BIT(1),                 /* TAPE POOL                */
*     4 WMJMRCTD BIT(1),                 /* DIRECT ACCESS POOL       */
*     4 WMJMRCTE BIT(1),                 /* TAPE LIBRARY             */
*     4 WMJMRCTF BIT(1),                 /* DISK LIBRARY             */
*     4 WMJMRCTG BIT(1),                 /* UNIT RECORD POOL         */
*     4 WMJMRCTH BIT(1),                 /* TELEPROCESSING CONTROL   */
*    3 WMJMRCT2    BIT(8),               /* 2ND BYTE OF ROUTING CODES*/
*     4 WMJMRCTI BIT(1),                 /* SYSTEM SECURITY          */
*     4 WMJMRCTJ BIT(1),                 /* SYSTEM/ERROR MAINTENANCE */
*     4 WMJMRCTK BIT(1),                 /* PROGRAMMER INFORMATION   */
*     4 WMJMRCTL BIT(1),                 /* EMULATOR INFORMATION     */
*     4 WMJMRCTM BIT(1),                 /* USER ROUTING CODE        */
*     4 WMJMRCTN BIT(1),                 /* USER ROUTING CODE        */
*     4 WMJMRCTO BIT(1),                 /* USER ROUTING CODE        */
*     4 WQERSV53 BIT(1),                 /* RESERVED                 */
*    3 WMJMRCT3    BIT(8),               /* 3RD BYTE OF ROUTING CODES*/
*    3 WMJMRCT4    BIT(8),               /* 4TH BYTE OF ROUTING CODES*/
*   2 WMJMUID     CHAR(1) BDY(WORD),     /* UCM ENTRY ID             */
*   2 WQERSV54    FIXED(24),             /* RESERVED ***WMJMRESC***
*                                           AND***WMJMLSQA***  Y02710*/
*   2 WMJMDEC     CHAR(4) BDY(WORD),     /* DESCRIPTOR CODES         */
*    3 WMJMDEC1    BIT(8),               /* 1ST BYTE OF DESCRIPTOR
*                                           CODES                    */
*     4 WMJMDECA BIT(1),                 /* SYSTEM FAILURE MESSAGE   */
*     4 WMJMDECB BIT(1),                 /* IMMEDIATE ACTION
*                                           REQUIRED MESSAGE         */
*     4 WMJMDECC BIT(1),                 /* EVENTUAL ACTION
*                                           REQUIRED MESSAGE         */
*     4 WMJMDECD BIT(1),                 /* SYSTEM STATUS MESSAGE    */
*     4 WMJMDECE BIT(1),                 /* IMMEDIATE COMMAND
*                                           RESPONSE MESSAGE         */
*     4 WMJMDECF BIT(1),                 /* JOB STATUS MESSAGE       */
*     4 WMJMDECG BIT(1),                 /* APPLICATION PROGRAM/
*                                           PROCESSOR MESSAGE        */
*     4 WMJMDECH BIT(1),                 /* OUT-OF-LINE MESSAGE      */
*    3 WMJMDEC2    BIT(8),               /* 2ND BYTE OF DESCRIPTOR
*                                           CODES                    */
*     4 WMJMDECI BIT(1),                 /* DESCRIPTOR CODE 9        */
*     4 WMJMDECJ BIT(1),                 /* DESCRIPTOR CODE 10
*                                                              Y02710*/
*     4 WMJMDECK BIT(1),                 /* CRITICAL EVENTUAL ACTION
*                                           MSG - DESCRIPTOR CODE 11
*                                                            @G64DPSS*/
*     4 WQERSV57 BIT(1),                 /* RESERVED                 */
*     4 WQERSV58 BIT(1),                 /* RESERVED                 */
*     4 WQERSV59 BIT(1),                 /* RESERVED                 */
*     4 WQERSV60 BIT(1),                 /* RESERVED                 */
*     4 WQERSV61 BIT(1),                 /* RESERVED                 */
*    3 WMJMDEC3    BIT(8),               /* 3RD BYTE OF DESCRIPTOR
*                                           CODES - RESERVED         */
*    3 WMJMDEC4    BIT(8),               /* 4TH BYTE OF DESCRIPTOR
*                                           CODES - RESERVED         */
*   2 WMJMJTCB    PTR(31);               /* ADDR OF JOB STEP TCB
*                                                              Y02710*/
*%WMJMSIZE = 'LENGTH(WMJM)';             /* GET SIZE OF MAJOR WQE
*                                                              ICB433*/
* @EJECT;                                                      @G64MP2D
*/********************************************************************/
*/*                                                                  */
*/*                      MINOR WQE                                   */
*/*                                                                  */
*/********************************************************************/
*
*DECLARE
*  1 WMNM  BASED(WMNPTR) BDY(WORD),      /* START OF MINOR WQE       */
*   2 WMNMEXT     PTR(31),               /* POINTER TO SECOND HALF OF
*                                           WQE                      */
*    3 WMNMUC1     PTR(8),               /* USE COUNT 1              */
*    3 WMNMNX1     PTR(24),              /* ADDRESS OF SECOND HALF OF
*                                           WQE OR ZERO              */
*   2 WMNMML1     BIT(8) BDY(WORD),      /* MLWTO FLAGS FOR FIRST
*                                           MESSAGE                  */
*    3 WQERSV62 BIT(1),                  /* RESERVED                 */
*    3 WMNMML1B BIT(1),                  /* MAJOR WQE                */
*    3 WMNMML1C BIT(1),                  /* MINOR WQE                */
*    3 WMNMML1D BIT(1),                  /* CHAIN ALTERED            */
*    3 WMNMML1E BIT(1),                  /* WTL ISSUED               */
*    3 WMNMML1F BIT(1),                  /* MINOR WQE FOR ABEND
*                                                              ICB433*/
*    3 WMNMML1G BIT(1),                  /* SERVICE THIS CHAIN       */
*    3 WMNMML1H BIT(1),                  /* MINOR WQE ACQUIRED VIA
*                                           GETMAIN            ICB461*/
*   2 WMNMLT1     BIT(8),                /* LINE TYPE FLAGS FOR FIRST
*                                           MESSAGE                  */
*    3 WMNMLT1A BIT(1),                  /* CONTROL LINE             */
*    3 WMNMLT1B BIT(1),                  /* LABEL LINE               */
*    3 WMNMLT1C BIT(1),                  /* DATA LINE                */
*    3 WMNMLT1D BIT(1),                  /* END INDICATOR            */
*    3 WQERSV63 BIT(1),                  /* RESERVED                 */
*    3 WQERSV64 BIT(1),                  /* RESERVED                 */
*    3 WQERSV65 BIT(1),                  /* RESERVED                 */
*    3 WQERSV66 BIT(1),                  /* RESERVED                 */
*   2 WQERSV67    PTR(8),                /* RESERVED                 */
*   2 WMNMTL1     PTR(8),                /* LENGTH OF FIRST MESSAGE
*                                           TEXT                     */
*   2 WMNMHCT1    CHAR(4) BDY(WORD),     /* HARDCOPY ID FOR FIRST
*                                           MESSAGE                  */
*   2 WMNMTXT1    CHAR(72) BDY(WORD),    /* FIRST MESSAGE TEXT
*                                           (MAXIMUM 72 BYTES)       */
*   2 WMNMST1     BIT(8) BDY(WORD),      /* STATUS FLAGS       Y02710*/
*    3 WMNMTPD1 BIT(1),                  /* TPUT DONE          Y02710*/
*    3 WMNMTRC1 BIT(1),                  /* FIRST MINOR WQE HAS BEEN
*                                           MASTER TRACED    @G64MP2D*/
*    3 WQERSVA9 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVB1 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVB2 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVB3 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVB4 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVB5 BIT(1),                  /* RESERVED           Y02710*/
*
*   2 WQERSVB6    CHAR(3),               /* RESERVED           Y02710*/
*
*   2 WQERSVB7(2) PTR(31),               /* RESERVED           Y02710*/
*   2 WMNMUC2     PTR(8) BDY(WORD),      /* USE COUNT 2              */
*   2 WMNMNX2     PTR(24),               /* ADDRESS OF NEXT MINOR
*                                           WQE OR ZERO              */
*   2 WMNMML2     BIT(8) BDY(WORD),      /* MLWTO FLAGS FOR SECOND
*                                           MESSAGE                  */
*    3 WQERSV68 BIT(1),                  /* RESERVED                 */
*    3 WMNMML2B BIT(1),                  /* MAJOR WQE                */
*    3 WMNMML2C BIT(1),                  /* MINOR WQE                */
*    3 WMNMML2D BIT(1),                  /* CHAIN ALTERED            */
*    3 WMNMML2E BIT(1),                  /* WTL ISSUED               */
*    3 WQERSV69 BIT(1),                  /* RESERVED                 */
*    3 WMNMML2G BIT(1),                  /* SERVICE THIS CHAIN       */
*    3 WMNMML2H BIT(1),                  /* LINE 2 AVAILABLE         */
*   2 WMNMLT2     BIT(8),                /* LINE TYPE FLAGS FOR
*                                           SECOND MESSAGE           */
*    3 WMNMLT2A BIT(1),                  /* CONTROL LINE             */
*    3 WMNMLT2B BIT(1),                  /* LABEL LINE               */
*    3 WMNMLT2C BIT(1),                  /* DATA LINE                */
*    3 WMNMLT2D BIT(1),                  /* END INDICATOR            */
*    3 WQERSV70 BIT(1),                  /* RESERVED                 */
*    3 WQERSV71 BIT(1),                  /* RESERVED                 */
*    3 WQERSV72 BIT(1),                  /* RESERVED                 */
*    3 WQERSV73 BIT(1),                  /* RESERVED                 */
*   2 WQERSV74  PTR(8),                  /* RESERVED                 */
*   2 WMNMTL2   PTR(8),                  /* LENGTH OF SECOND MESSAGE
*                                           TEXT                     */
*   2 WMNMHCT2    CHAR(4) BDY(WORD),     /* HARDCOPY ID FOR SECOND
*                                           MESSAGE                  */
*   2 WMNMTXT2    CHAR(72) BDY(WORD),    /* SECOND MESSAGE TEXT
*                                           (MAXIMUM 72 BYTES)       */
*
*   2 WMNMST2     BIT(8) BDY(WORD),      /* STATUS FLAGS 2     Y02710*/
*    3 WMNMTPD2 BIT(1),                  /* TPUT DONE MSG 2    Y02710*/
*    3 WMNMTRC2 BIT(1),                  /* SECOND MINOR WQE HAS BEEN
*                                           MASTER TRACED    @G64MP2D*/
*    3 WQERSVB9 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVC1 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVC2 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVC3 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVC4 BIT(1),                  /* RESERVED           Y02710*/
*    3 WQERSVC5 BIT(1),                  /* RESERVED           Y02710*/
*
*  2  WQERSVC6    CHAR(3),               /* RESERVED           Y02710*/
*
*  2  WQERSVC7(2) PTR(31) BDY(WORD);     /* RESERVED           Y02710*/
*%WMNMSIZE = 'LENGTH(WMNM)';             /* GET LENGTH OF MINOR WQE
*                                                              ICB433*/

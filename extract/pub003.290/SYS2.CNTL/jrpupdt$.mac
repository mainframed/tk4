//JRPUPDT JOB (HERC01),
//             'Modify JRP for TK4-',
//             CLASS=A,
//             MSGCLASS=X,
//             REGION=2048K,
//             MSGLEVEL=(1,1),
//             NOTIFY=HERC01
//*
//*********************************************************************
//*
//* Name : JRPUPDT$
//*
//* Desc : Bug fixes and updates to Scott Vetter's JRP implementation
//*        for MVS 3.8j, which is available from CBT file 755.
//*
//* Usage: This job creates an updated version of the JRP distribution
//*        PDS as found in CBT file 755. It requires the following
//*        input datasets:
//*
//*        o TK4-.SCOTT.CBT755.JRP.ZIP: The original CBT file 755
//*        o SYS2.ASM(JRPUPDT): The source updates to be applied
//*
//*        The updated PDS will be named HERC01.JRP. See member
//*        $$TK4- in the updated PDS for a summary of changes
//*        applied and further installation instructions.
//*
//* 10/26/2013 Juergen Winkelmann, winkelmann@id.ethz.ch
//*
//*********************************************************************
//*
//* IEBUPDTE procedure for in place resequencing
//*
//RENUM   PROC
//RENUM   EXEC PGM=IEBUPDTE
//SYSUT1   DD DISP=(OLD,PASS),DSN=&&PDS
//SYSPRINT DD SYSOUT=*
// PEND
//*
//* unzip CBT file
//*
//UNZIP   EXEC PGM=MINIUNZ,PARM='ZIPIN FILEOUT FILE755.XMI'
//STDOUT   DD SYSOUT=*
//ZIPIN    DD DSN=TK4-.SCOTT.CBT755.JRP.ZIP,DISP=SHR
//FILEOUT  DD DSN=&&XMI,DISP=(,PASS),
//            UNIT=3390,SPACE=(TRK,(50,10),RLSE),
//            DCB=(RECFM=FB,LRECL=80,BLKSIZE=3200,DSORG=PS)
//*
//* receive CBT file
//*
//RECV370 EXEC PGM=RECV370
//RECVLOG  DD SYSOUT=*
//XMITIN   DD DSN=&&XMI,DISP=(OLD,DELETE)
//SYSPRINT DD SYSOUT=*
//SYSUT1   DD DSN=&&SYSUT1,
//            UNIT=3390,
//            SPACE=(CYL,(100,50)),
//            DISP=(,DELETE,DELETE)
//SYSUT2   DD DSN=&&PDS,
//            DISP=(,PASS),SPACE=(TRK,(50,10,20),RLSE),
//            UNIT=3390
//SYSIN    DD DUMMY
//SYSUDUMP DD SYSOUT=*
//*
//* receive support members
//*
//RECV370 EXEC PGM=RECV370
//RECVLOG  DD SYSOUT=*
//XMITIN   DD DATA,DLM=$$
-\INMR01
026104306







  $$TK4-  
GEN   JRP     
JUERGEN   JRPINST 
ÿÿÿÿÿÿ



S=X,NOTIFY=HERC01               00000100//STEP1   EXEC  PGM=IEBGENER
                                00000200//SYSPRINT  DD  SYSOUT=A
                                00000300/ÿ
DISP=SHR                          00000400//SYSUT2    DD  SYSOUT=G,DCB=(
A,LRECL=80,BLKSIZE=5600)          00000500//SYSIN     DD  DUMMY
                                  00000600/*            &
                                    00000700
 M=JRPINIT                                                            //
**********************************************************            //
                                                                      /ÿ
HE FOLLOWING PROGRAMS MUST RESIDE IN LINKLIST LIBRARY

RP100    MAIN DRIVER MODULE FOR JES REMOTE PRINT
RP110 ÿ
 JRP120    JRP CONTROL TERMINAL DRIVER
 JRP121    JRP CONTROL TERMINAL PARSE MODULE
 JRP122    JRP CONTROÿ
   JRP123    JRP CONTROL TERMINAL LOGON PROCESSOR USER SECURITY EXIT
   JRP200    JRP JES2 PRINTER OUT-PUT CONTROL MODULE
   JRP210    JRP JES2 PRINTER OUT-PUÿ
*    JRP220    JRP JES2 PRINTER OUT-PUT DYNAMIC ALLOCATE/DEALLOCATE
*    JRP300    JRP JES2 PRINT SUBTASK
*    JRP310    JRP JES2 PRINT SUBTASK UNSOLICITED Cÿ
//*              INTERFACE
//******************************************************************
//*                                                               ÿ
  //JRP    EXEC PGM=JRP100,REGION=256K,TIME=1440
  //JRPDATA  DD DISP=SHR,DSN=SYS2.SYSINLIB(&M)
  //JRPLOG   DD SYSOUT=*
 ^  //SYSABEND DD SYSOUT=*
    
                      00000100//         NOTIFY=HERC01,REGION=4096K
                      00000200//*
                      00000300/ÿ
                        00000400//         MEMBER=,
                        00000500//         LIB='SYS2.LINKLIB',
==> YOUR APF AUTH LIB   00000600//         SRCÿ
====> YOUR SOURCE LIB     00000700//         HSPSRCE='SYS1.HASPSRC',
====> HASP SOURCE LIB     00000800//         MACLIB='SYS1.MACLIB',
====> YOUR SYSTEM MACLIB  00000900//         AMODGEN='SYS1.AMÿ
  ====> YOUR AMODGEN        00001000//*        VOL='VSRES',
  ====> SYSREZ VOL SER      00001100//*        U='3380'
  ====> SYSREZ DEV TYPE     00001200//ASM      EXEC  PGM=IFOX00,PARM='LI
    ====> ASSEMBLER "H"       00001300//             REGION=4096K
  PARM HAD TEST OPTN          00001400//SYSIN    DD  DISP=SHR,DSN=&SRCLI
R)                            00001500//SYSLIB   DD  DISP=SHR,DSN=&MACLI
           ÿ
                                00001700//         DD  DISP=SHR,DSN=&AMO
                                00001800//         DD  DISP=SHR,DSN=&HSP
                          ÿ
                                  00002000//SYSPUNCH DD  DISP=(NEW,PASS)
OADSET,UNIT=SYSDA,                00002100//             DCB=BLKSIZE=800
                                  0000220ÿ
,ROUND)                             00002300//SYSUT1   DD  UNIT=SYSDA,SP
,(1200,400),,,ROUND)                00002400//SYSUT2   DD  UNIT=SYSDA,SP
,(1200,400),,,ROUND)                00002500//SYSUT3   Dÿ
60,(1200,400),,,ROUND)                00002600//SYSUT4   DD  UNIT=SYSDA,
60,(1200,400),,,ROUND)                00002700//LKED    EXEC PGM=IEWL,RE
4K,                                   00002800//  PARM=',LIST,LET,NCAL,ÿ
50K,50K)&AC&RENT&REFR',                 00002900//  COND=(4,LT)
            PARM HAD TEST OPTN          00003000//SYSLIB    DD DSN=&LIB,
                                        00003100//SYSLIN    DD DSN=&&LOA
P=(OLDÿ
=(TRK,0)                                  00003300//SYSLMOD   DD DISP=SH
IB(&MEMBER)                               00003400//SYSPRINT  DD SYSOUT=
                     ÿ
ACE=(460,(800,400),,,ROUND)                 00003600//         PEND
                                            00003700//T100  EXEC TMRSASM
JRP100,AC=',AC=1',    ====> JRP MANAÿ
                                              00003900//T110 EXEC TMRSAS
=JRP110,RENT=,REFR=     ====> INIT PARSE      00004000//T120   EXEC TMRS
ER=JRP120,RENT=,REFR=   ====> CONS DRIVER     00004ÿ
MBER=JRP121,RENT=,REFR=   ====> CONS PARSE      00004200//T122   EXEC TM
MBER=JRP122,RENT=,REFR=   ====> CONS LOGON      00004300//T123   EXEC TM
MBER=JRP123,RENT=',RENT',REFR=',REFR',          00004400//       Pÿ
T,RENT'                     ====> CONS SEC. EXIT  00004500//T200  EXEC T
EMBER=JRP200,AC=',AC=1',    ====> SSOB SUP.       00004600//      RENT=,
                                                  00004700//T210  EXEC T
Eÿ
                                                    00004900//T220  EXEC
,MEMBER=JRP220,RENT=,REFR=    ====> ALLO/DEALLO     00005000//T300   EXE
M,MEMBER=JRP300,ÿ
,AC=',AC=1'                                           00005200//T310   E
ASM,MEMBER=JRP310,RENT=,REFR=   ====> UNSOL PROC.     00005300//T400  EX
SM,MEMBER=JRP400,AC=',AC=1',   ÿ
R=                                                      00005500//JRPRIN
MRSASM,MEMBER=JRPRINT,RENT=,REFR=, ===> TSO PRINT UTIL  00005600//
SYS2.CMDLIB'                      ====> LINKLS½ T LIB     00005700



             ÿ


                            ÿ


                                           ÿ


                                   JJJJJJJJJJJJJ      RRRRÿ
 PPPPPPPPPPPP                       JJJJJJJJJJJJJ      RRRRRRRRRRRRRRR
PPPPPRPPPPPPPP                          JJJJJ         RRRRRR    RRRRRR
PPPP    PPPPPP                         JJJJJ         RRRRRR     RRRRRR
PPPPP     PPPPPP                        JJJJJ         RRRRRRRRRRRRRRRR
PPPPPPPPPPPPPP                         JJJJJES2      RRRRRRRRRRRRRRRR
PPPPPPPPPPPP                  JJJJJ   JJJJJ         RRRRR        REMOTE
PP      ÿ
PPPRINT                          JJJJJJJJJJ         RRRRR          RRRR
PP                                JJJJJJJ          RRRRR           RRRRR
P                      ÿ
                              CONTENT                                 PA

                              INTRODUCÿ
                                "JRP" INSTALLATION......................
                                "JRP" STARTUP...........................
                                "JRP" SHUTDOWN.......ÿ
                                  "JRP" CONTROL TERMINALS...............
                                  "JRP" COMMANDS........................
                                  "JRP" ATTRIBUTE SPECIFICATION.....ÿ
                                    "JRP" PRINTER STATUS................
                                    "JRP" USE OF........................
                                    "JRP" SNA FEATURES..................
   ÿ
                                      "JRP" USER ABEND CODES............
                                      "JRP" MODULE FLOW ................
                  ÿ
16                                  1       INTRODUCING JRP(JES2 REMOTE
)                       PAGE 1
                                 ÿ
TEN WITH THE INTENT OF                    INCREASING USER AS WELL AS PRO
PRODUCTIVITY. IT("JRP")                   MAKES USE OF 3270 PRINTER DEVI
RINT SPOOLED JES2 OUTPUT.                 OUTPUTÿ
VIA A SEQUENTIAL DATA SET.                  EACH CONTROL CARD IN THIS DA
ESCRIBES THE ATTRIBUTES                     OF ONE PRINTER.
                                               AFTER "JRP" INITÿ
BSYSTEM REQUEST IS ISSUED TO                  JES2 BASED ON EACH PRINTER
PTION. IF JES2 CONFIRMS THAT                  OUTPUT IS AVAILABLE FOR TH
R DESCRIBED,A SUBTASK IS CREATED,             USING THE ATTRIBUTES DEFIN
 THAT PARTICULAR DEVICE.                        THE SPOOL DATASET IS REA
RED, THEN WRITTEN TO THE PRINTER                VIA "VTAM".

             ÿ
                                                  JRP WILL PRINT A MAXIM
6 CHARACTERS PER RECORD                           ******* IMPORTANT NOTE
                            ÿ
                                  PAGE 2
                                                    1.  UNLOAD FILE 1 (O
0/3120 DATA PDS:                           ÿ
                                                          //STEP1   EXEC
COPY                                                      //SYSUT1    DD
TP,UNIT=6250,LABEL=(1,NL),                                ÿ
(OLD,KEEP),VOL=SER=JRP                                      //SYSUT2
JRP.DATA",DISP=(,CATLG),VOL=SER="VOLSER",                   //
VTYP",SPACE=(TRK,(20,2,5))                                  //SYSPRINT
OUT=A                                                         //SYSIN
                                                                COPY IND
,OUTDD=SYSUT2                                                 /*
        È                                               ÿç

YLOR PROC JRP FROM JRP.DATA LIB FOR YOUR APF AUTHORIZED
TEPLIB OR REMOVE STEPLIB AND LET LINKLIST DO IT.                       ÿ

EDIT JRPINST MEMBER TO SPECIFY YOUR LIBRARY NAMES FOR
SYSLIB, SYSLMOD... FOR JRPRINT BE SURE TO SPECIFY A
LINKLIÿ

  SUBMIT JRPINST TO BATCH FOR ASSEMBLY AND LINK.
  NOTE** REASSEMBLE Jÿ

5.  COPY MEMBER JRPRINTH TO SYS1.HELP CHANGING NAME TO JRPRINT
                                    ÿ
  6.  EDIT AND FORMAT THE "JRP" INITIALIZATION DATA-SET TO
      DEFINE THE REMOTE PRINTERS IN YOUR ENVIRONMENT:
                                                   ÿ
         COL 1-8    :    PRINTER NAME(1-8 CHARACTERS)
         COL 10-72  :    PRINTER ATTRIBUTES AS DESCRIBED IN SECTION,
                         'ATTRIBUTE SPECIFICATION'.  THE OPERANDS ÿ
                           ARE SPECIFIED WITH KEYWORDS, AND MAY BE
                           ENTERED IN ANY ORDER.
                     *NOTE CONTROL INFORMATION FOR EACH PRINTER
 ÿ
                        INCLUDING ,(COMMA) AFTER LAST PARAMETER
                        ON CARD "X" IN COLUMN 72 AND CONTINUATION
                ÿ

                EX.:
        COL:    1        10    ÿ
                  RMT001   R=RMT001,SCS=N,LGMD=NSNAPRT,LU=LU0A0,S=N,
                           MLIN=0,F=A100,C=A,LPP=068,
                  R002     R=RMT002,LGMD=SCSPRÿ

                7.  ADD THE VTAM NODE'S FOR JRP AND "JRP" CONTROL TERMIN
                     AS FOLLOWS;                             ÿ

                      JRPA     APPL   ACBNAME=JRP,AUTH=ACQ
                      CJRPA    APPL   ACBNAME=CJRP,AUTH=PASS



           ÿ
    PAGE 3
                    AFTER ALL UPDATES HAVE BEEN MADE TO JRPDATA, JRP MAY
                    INITIAÿ

                        ENTER:  S JRP
                        RESP:   JRPI101 Iÿ
                          WTOR:   XX JRP100I ENTER "ICLOSE" TO SHUT DOWN

                            JRP SHUTDOWN                ÿ

                          TO HALT AND REQUEUE ALL CURRENT PRINTING ACTIV
                          TERMINATE JRP FROM MVS OPERATOR CONSOLE ENTERÿ

                               ENTER:  R XX,ICLOSE               ---  OR
N        (SKV)                 RESP:   JRPI102 ICLOSE IN PROGRESS
      ÿ


                     ÿ
                            1       JRP CONTROL TERMINALS
              PAGE 4
                                    ÿ
LS AS "JRP"                       CONTROL TERMINALS. A MAXIMUM OF 25(TWE
) TERMINALS ARE                   SUPPORT SIMULTANIOUSLY. ALL FUNCTIONS
 TO SUPPORT "JRPS"                PRINTER DEVICES Aÿ
ONTROL TERMINAL.                    USE OF THESE CONTROL TERMINALS IS DE
BELOW ALTHOUGH                      PRINTER CONTROL COMMANDS ARE DESCRIB
CTION "JRP COMMANDS"                                              È
                                  ÿç
MINAL(USS TABLE LOGON IS PREFERABLE).                   OR  'LOGON APPLI
'                                                    2. ENTER USERID AND
D.(THIS IS ONLY MEANINGFULL TO "JRP"             ÿ
T IS CODED ALTHOUGH AT LEAST ON CHARECTER                 IN USERID AND
 FIELD IS REQUIRED.)                                   3. AFTER USERID A
ORD ACCEPTANCE THE COMMAND SCREEN IS                      DISPLAÿ
PPER LEFT COMMAND LINE ON LOWER LEFT.                       "JRP" CONTRO
AL OR PRINTER COMMANDS MAY BE ENTERED NOW.          1       JRP COMMANDS
                                        PAGE 5

ARE ARE ISSUED FROM A "JRP" CONTROL TERMINAL

              ÿ
 TERMINAL TO 3278 MOD2 SCREEN SIZE (DEFAULT).
                                                           ALTSCN
 TERMINAL TO ALTERNATE SCREENÿ
N BIND.
* CARE MUST BE TAKEN TO ENSURE TERMINAL
ILL SUPPORT THE ALTERNATE SCREEN SIZE AS DEFÿ
 INACT/ACT OF LU WILL BE REQUIRED IF INCOMPATIBLE
 SIZE REQUESTED.
                                                           ÿ
    SET TERMINAL IN AUTO WRAP MODE.    (DEFAULT)
                                                                 NOWRAP
   "JRP" WILL SEND ONE SCREEN OF REQUESTED INFORMTION,
     'MORE DATA....' WILL APPEAR IN LOWER LEFT OF
     TERMINAL THEN WAIT FOR FURTHER INTERVENTION FROM
     "JRP" OPERATOR(ENTER). NO "JRP" COMMANDS WILL BE
     ACCEÿ
       CLEARED.
                                                                     NOU
       NO "JRP" UNSOLICIÿ
         THIS TERMINAL.           (DEFAULT)
                                                                       U
         "JRP" WILL SEND ANY UNSOLICITEÿ
           INFORMATION TO THIS TERMINAL.
        **NOTE: UNSOL AND NOWRAP ARE MUTUALLY EXCLUSIVE.
           ONE MUST BE REVERSED BEFORE THE OTHER IS ACÿ

 AAAAAAAA     THIS COMMAND WILL ALLOW DIRECT LOGON FROM "JRP"
             CONTROL TERMINAL TO AAAAAAAA(ANY VALID VTAM APPLID      ÿ
               AS SPECIFIED IN LABEL OF VTAM APPL DEFINATION).

OFF             TERMINATE THIS "JRP" CONTROL TERMINAL SESSION.
OUT ÿ
OG                  * SAME AS LOGOFF                         (SKV)

LOSE              Rÿ
                   CURRENT PRINT ACTIVITY.(THIS MAY TAKE A WHILE AND
                   ALL CONTROL TERMINAL SUPPORT IS TERMINATED AT THIS
                   POINT). CLOSE Aÿ
                 *NOTE: IF JRP IS CANCELED BY MVS OPERATOR OUTPUT
                        CURRENTLY PRINTING OR RETRYING ON A "JRP"
                        PRINTER WILL BE LOST!!!!!ÿ

     ICLOSE             REQUESTS THAT "JRP" REQUE CURRENT PRINT ACTIVITY
                       TO JES2,  TERMINATE ALL PRINTER SESSIONS ÿ
                         COMPLETE NORMAL CLOSE-DOWN. THIS IS THE RECOMME
                         CLOSE PROCEDURE BECAUSE IT TAKES A RELATIVELY S
                         PERIOD OF TIME TO COMPLETE(NORMALLY UP TO 5 MIN

                           TERMINAL SESSIONS ARE TERMINATED AFTER CLOSE
                           ICLOSE COMMANDS ARE ISSUED.
              ÿ
                         *NOTE: IF JRP IS CANCELED BY MVS OPERATOR OUTPU
                                CURRENTLY PRINTING OR RETRYING ON A "JRP
                             ÿ
             SHUTDOWN           *  SAME AS ICLOSE
)
             CANCEL LLLLLLLL    THIS COMMANDÈ  WILL TERMINATE A "JRP" CO
            ÿç
                                               LLLLLLLL = VTAM LUID OF "
TROL TERMINAL.
                           ÿ
L "JRP"                                          CONTROL TERMINAL SESSIO
T CONTROL TERMINAL                               ACB AND REALLOW LOGONS
 CONTROL TERMINALS.                       ÿ
                              1
                 PAGE 6
                                $DXXXXXXXX         DISPLAÿ
ER XXXXXXXX
                                  $DU                DISPLAY THE STATUS
RINTERS
                                    $SXXXXXXXX         RESUME PRINTER XX
 ELIGIBILITY TO                                        RECEIVE OUTPUT AF
P $P COMMAND OR ERROR                                  CONDITION HAS MAD
LIGIBLEÿ
                                      $SU                RESUME ALL PRIN
GIBILITY TO RECEIVE                                      OUTPUT AFTER A
COMMAND OR ERROR CONDIÿ
IBLE
                                        $PXXXXXXXX         REMOVE ELIGIB
 PRINTER XXXXXXXX TO RECEIVE         ÿ
RRENT PRINT ACTIVITY HAS                                     COMPLETED O
EVICE
                                          $PU       ÿ
 OF ALL PRINTERS TO RECEIVE                                    OUTPUT AF
ENT ACTIVITY ON EACH DEVICE                                    HAS COMPL
                                                                   ÿ
                                              $EXXXXXXXX         RESTART
Y ON PRINTER XXXXXXXX
                                              $CXXXXXXXX         CANCEL
UTÿ
SULT MAY BE OBTAINED ON AN 'SCS'                                   EQUIP
TER BY PUSHING:                                                       1.
RINT             ÿ
EL PRINT
LE PRINT
E PRINTER STATUS CODE, 59, MUST ÿ
DISPLAYED ON THE PRINTER BEFORE CANCEL
WILL BE ACCEPTED BY JRP
                                               ÿ
THE INITIAL ATTRIBUTES FOR PRINTER XXXXXXXX.
TRIBUTE SPECIFICATION' FOR THE LIST OF
TES THAT MAY BE MODIFIED WITH THE JRP                         ÿ
COMMAND.

                                                      1       ATTRIBUTE
ICATION                                     PAGE 7
                                                           CONTROL CARD
                                                           1. PRINTER NA
HARACTERS) Mÿ
1 OF A CONTINUATION SERIES(IF CONTINUATION IS                   USED).

                           ÿ
TERS(TO INCLUDE CONTINUATION CARD IF USED) MUST                  BEGIN I
 10.
                                          ÿ
 CHARACTER MUST BE IN COLUMN 72 AND A BLANK MUST                   PRECE
NUATION CHARACTER IF CONTINUATION IS USED.
                                                         ÿ
 KEYWORDS ARE VALID TO DEFINE PRINTER ATTRIBUTES                   IN TH
A FILE FOR START-UP OR AS MODIFIES AFTER                           INITI
N USING THE "JRP" $T COMMAND . *SEE "JRP COMMANDS"

      SPECIIFY THE NUMBER OF LINES PER PAGE FOR
      'SCS=N' PRINTERS ONLY.  THE DEFAULT IS 68
      Lÿ
        PER INCH
EFAULT: LPP=68
                      È                                               ÿç

                        HAVING A MAXIMUM OF 8 CHARACTERS.  THE LU
                        NAME MUST BE SPECIFIED AT INITIALIZATION;
     ÿ

             R=           SPECIFIES THE RJE DESTINATION ID. IF RJE
                    ÿ
                            INITIALIZATION TIME.
                   DEFAULT: LOCAL.
                                   ÿ
                 LGMD=        THE LOGMODE ENTRY NAME APPLICABLE FOR THIS
,                             A MAXIMUM OF EIGHT CHARACTERS MAY BE USED.
                     DEFAULT: VTAM DEFAULT ON VTAMÿ
                                TABLE IF NOT DEFINED ON PRINTER LBUILD D
N.                            *NOTE; IF LGMD IS SPECIFIED RELRQ EXITS WI
                                     BE INVOKED.                 ÿ

                     MLIN=        THE MAXIMUM NUMBER OF LINES TO BE PRIN
HIS                               DEVICE FOR ANY ONE JOB OR TSO SPINNOFF
ÿ
                                    TERMINATED AND OUTPUT WILL BE PURGED
EUE.                       DEFAULT: 9999 LINES
               ÿ
                         SCS=         SET TO 'Y' OR 'N' TO SPECIFY IF A
IS                                    SCS OR DSC EQUIPPED.
                             Dÿ

                                        NOTE: IF SCS EQUIPPED, PRINTER M
 SNA DEVICE                             AND Cÿ
S=Y' IS                                   SPECIFIED, THE LOGMODE MUST AL
R A SNA                                   PRINTER.  IF 'SCS=N' IS SPECIF
 LOGMODE                                  MUST BE FOR A NON-ÿ
 WILL WORK FOR                              EITHER SNA OR NON-SNA, BUT S
RES WILL                                    NOT BE AVAILABLE (JRP CANCEL
 BRACKET                                    PROTOCOL). SEE JRP SNA FEATU
R MORE DETAILS.
                                 F=           SPECIFY A FOUR CHARACTER F
ER.  THIS                                     OPTION IS NOT REQUIRED, AN
 RECOMMENDÿ

                                   C=           SPECIFY THE OUTPUT CLASS
TION.  A MAXIMUM         ÿ
S SEARCH ARGUMENTS                                MAY BE DEFINED WITH NO
ATING COMMA'S.                           DEFAULT: NONE.
                                     DRAÿ
 TO BE IN A DRAINED                                 STATE WHEN JRP START
                                           DEFAULT: PRINTER IS ACTIVE ON
                                                       ÿ

                                  1       PRINTER STATUS
                      PAGE 8                                          ÿ

                                          THE JRP '$DXXXX' OR THE '$DU'
WILL DISPLAY THE PRINTER                  STATUS TO THE OPERATOR CONSOLE
EANINÿ

                                         ACTIVE       THE PRINTER IS CUR
CTIVE; THE JOBNAME Aÿ
ISPLAYED.
                                           INACTIVE     THE PRINTER IS C
 IDLE AND IS AVAILABLE TO          ÿ
S.
                                             DRAINED      THE PRINTER IS
GIBLE TO RECEIVE WORK DUE TO                      ÿ
COMMAND.   THE JRP '$S' COMMAND                             WOULD RESTOR
LITY.
                                               DRAINING     THE Pÿ
E INELIGIBLE TO RECEIVE WORK AFTER                            THE CURREN
TY HAS COMPLETED ON THE SPECIFIED                             DEVICE.THE
' COMMAND WOULD RESTORE ELIGIBILITY.
È                                               ÿç
IS PRINTER IS IN RETRY STATUS. ATTEMPTS AT CONTACTING
IS DEVICE HAVE BEEN UNSUCCESSFUL THUS FAR, THOUGH
"S RETRY LIMIT HAS NOT BEEN REACHED.                           ÿ
                                                                   RETRY
THE 'RETRY LIMIT' HAS BEEN MET DUE TO I/O ERRORS ON
THAT DEVICE, AND THE DEVICE IS NOW IN AN INELIGIBLE
  STATUS.ISSUE THE JRP '$S' COMMAND AFTER CORRECTING THE
  HARDWARE PROBLEM (POWER OFF, HOLD, CABLE CONNECTION,
  ETC.) TO RESTORE THE ELIGIBLE STATUS.
             ÿ
    THIS PRINTER SUBTASK AT SOME POINT ENCOUNTERED
    A PROBLEM LEADING TO AN ABEND. THIS STATUS IS
    POSTED AS SUCH. JRP '$S'ÿ
      THIS PRINTER TO RESTORE OUTPUT ELIGIBILITY.
 ==>  ABEND TYPE S(SYSTEM) U(USER)
 ==>  ABEND CODE(I.E. 0C4)                 ÿ


JRP USE OF                                                ÿ
RE ARE A NUMBER OF WAYS TO UTILIZE JRP"S ABILITY TO INTERFACE
H JES2. ONE IS TO SPECIFY OUTPUT CLASS AND SPECIAL FORM NUMBER,
 USE THOSE AS THE SPECIFICATION ON OUTPUT DD STATEMENT.
      BELOW IS THE SPECIFICATION FOR JRPDATA AND OUTPUT DD.

   EX JRP;PRT1      LU=VTS05A,SCS=N,LGMD=DSILGMOD,F=PRT1,C=A
   EX DDÿ

 ANOTHER USE, ALSO THE RECOMMENDED USE IS VIA JES NONSNA RJE ID"S.
 THIS TECHNIQUE LEAVES ÿ
   EFFECTIVE UTILIZATION. BELOW IS AN EXAMPLE OF JRP INITIALIZATION
   CONTROL CARD AND USES OF RJE DESTINATION.
                                      ÿ
         EX JRP;  R001      LU=VTS05A,SCS=N,LGMD=DSILGMD,R=RMT001
         EX JCL; */ ROUTE RMT001  (ROUTES ALL JOB OUTPUT TO RMT001)
         EX DD ; //SYSPRINT DD SYSOUT=*,DEST=RMT001  ÿ
           EX TSO;  ALLOC SYSOUT(A) DEST(RMT001) DD(SYSPRINT)

       THE RJE ID"S YOU WISH TO USE MUST BE DEFINED TO JES2. IF YOU ÿ
         NO RJE ID"S DEFINED OR WISH TO DEFINE MORE A JES2 COLD START IS
         REQUIRED.

   ÿ
           BE CHOSEN BASED ON IT"S REMOTE ID(OR FORM NUMBER IF THAT IS T
           METHOD OF USE). FOR EXAMPLE IF THE FORM NUMBER IS PRT1 THEN T
           PRINTERÿ
             PRINTER NAME MIGHT BE RMT001 OR R001.

              ******* IMPORTANT Nÿ
                JRP WILL PRINT A MAXIMUM OF 256 CHARACTERS PER RECORD
                ******* IMPORTANT NOTE *******
                                                ÿ

              1       JRP SNA FEATURES
  PAGE 10                                                      ÿ

                   1.  BRACKET PROTOCOL

                         BRACKET PROTOCOL WILL PREVENT THE INTERLEAVING
                         UNSOLICITED OUTPUT, REQUESTED WITH THE LOCAL PR
                         AND JRP OUTPUT.
             ÿ
                       2.  CANCEL KEY

                           Aÿ
                                     CANCEL PRINT
                                     ENABLE PRINT
                                           ÿ
                                  IF THE PRINTER CODE, 59, IS NOT DISPLA
 THE                              CANCEL PRINT KEY IS PUSHED, COMPLETE S
AND RETRY.                                                È
                          ÿç

                                                THE NUMBER OF PRINT LINE
GE MAY BE CONTROLLED WITH                ÿ
E PRINTER.                                1       JRP MESSAGES
                              PAGE 11
                                                        ÿ

                                                         "MESSAGES ISSUE
100"                                                                   ÿ
                                                 JRPI101 INITIALIZATION
                                                           ALL INITIALIZ
 SUBTASK DYNAMIC AREA'S BY DATA                            IN INITIALIZA
A-SET ÿ
HAS BEEN CREATED.
                                                   JRPI102 ICLOSE IN PRO
                     ÿ
NOTIFIED THAT "F JRP,ICLOSE" HAS                               BEEN ISSU
E WILL COMPLETE AFTER ALL ACTIVE PRINT                         HAS BEEN
 AND SUBTASKS TERMINATED.           ÿ
                                                       JRPI103 CLOSE IN
                                                                 ALL SUB
E NOTIFIED THAT "F JRP,CLOSE" HAS                  ÿ
CLOSE WILL COMPLETE AFTER ALL ACTIVE PRINT                         HAS C
 AND SUBTASKS TERMINATED.
                                                         JRPI104 Sÿ
LETE, ENDING.                                                        "CL
ICLOSE" OR ABEND PROCESSING HAS COMPLETED AND                        ALL
S HAVE TERMINATED. JRP IS TERMINATING.
 ÿ
ILABLE.                                                                J
 IS IN USE, NOT ACTIVE, OR NOT DEFINED                                 A
1 WILL FOLLOW.  ÿ
                                                               JRPE101 J
ROR ENCOUNTERED
AND OR JRP210 ENCOUNTERED SOME ÿ
SING JES2 BASED ON SUBSYSTEM CONTROL BLOCK DEFINATION.        1
 "MESSAGES ISSUED BY JRP110-JRP121"              PAGE 12
                                              ÿ
INVALID
S MESSAGE IS ISSUED IN RESPONSE TO ANY DISPLAY
MAND OK ==> COMMAND ACCEPTED AS ENTERED,                     ÿ
NVALID ==> COMMAND IN ERROR(SYNTACTICALLY , MISSPELLED ,
R INVALID PRINTER NAME) CONSULT USER GUIDE AND OR
RP ADMINISTRATOR FOR ASSISTANCE.
                                                                       J
XXX SSSSSSSSSS JJJJJJJJ(NNNNNNNN) F=FFFF,C=CCCCCCCC,                   C
   R=RRRRRRRR,S=Y/N,LPP=LLL,MLIN=MMMM,LU=LUIDENT ,SCS=Y/N,             C
   LGMD=MODÿ

   THIS STATUS MESSAGE IS ISSUED IN RESPONSE TO ANY JRP
   COMMAND TO DISPLAY OR Cÿ
     XXXX     ==>  PRINTER NAME
     SSSSSSSS ==>  PRINTER STATUS
     JJJJJJJJ ==>  NAME OF JOB ACTIVE ON ÿ
       NNNNNNNN ==>  NUMBER OF JOB ACTIVE ON THIS PRINTER
       FFFF     ==>  FORM NUMBER(SSOB SEARCH ARGUMENT)
       CCCCCCCC ==>  OUTPUT CLASS NUMBER(SSOB SEARCH ARGÿ
         RRRRRRRR ==>  REMOTE DESTINATION(SSOB SEARCH ARGUMENT)
    S=   Y/N      ==>  SEPERATOR PAGES REQUESTED(YES(Y) OR NO(N))
         LLL      ==>  LINES PER PAGE(VALID ONLY FOR SCS=N)            ÿ
           MMMM     ==>  MAXIMUM LINES TO BE PRINTED PER JOB
           LUIDENT  ==>  VTAM SYMBOLIC NAME FOR THIS DEVICE
    SCS=   Y/N      ==>  SCS EQUIPTED SNA PRINTER(YES(Y) RO NO(N))
      ÿ
             AA       ==>  LAST INDICATOR FROM RPLRTNCD FIELD
             BB       ==>  LAST INDICATOR FROM RPLFDBK2 FIELD
             QQQQQQQQÿ

  1                   "MESSAGES ISSUED BY JRP300"                     PA
                                    È
    ÿç
                               THIS MESSAGE IS ISSUED WHEN WHEN THE PRIN
ASK                            HAS BEEN CREATED IS ABOUT TO ACQUIRE THE
OR                 ÿ
                                 JJJJJJJJ ==>  NAME OF JOB ACTIVE ON THI
R                                NNNNNNNN ==>  NUMBER OF JOB ACTIVE ON T
TER                              Xÿ
                                   LUIDENT  ==>  VTAM SYMBOLIC DEVICE ID
TION
                         JRPI301 XXXX(LUIDENT) OUÿ
                                     THIS MESSAGE IS ISSUED WHEN WHEN TH
 CURRENTLY                           ACTIVE ON PRINTER IS TERMINATED(DEL
M SPOOL)                             WHERE:                     ÿ
                                       XXXX     ==>  PRINTER NAME
                                       LUIDENT  ==>  VTAM SYMBOLIC DEVIC
FICATION                               WWWWWWW  ==>  HE WHO TAKES RESPON

                               JRPI302 XXXX(LUIDENT) OUTPUT RESTARTED BY
                                         THIS MESSAGE IS ISSUED WHEN WHE
TPUT CURRENTLYÿ
D AND REQUEUED)                            WHERE:
                                           XXXX     ==>  PRINTER NAME
                             ÿ
IDENTIFICATION                               WWWWWWW  ==>  HE WHO TAKES
BILITY FOR RESTART
                                   JRPI305 Xÿ
BK2=FF SENSE=SSSS                              TWENTY CONSECUTIVE VTAM E
E BEEN ENCOUNTERED                             ATTEMPTING TO OPEN OR WRI
IS PRINTER.                                    THE OUTPUT Iÿ
ODES IN VTAM PROGRAMMERS GD.                     CORRECT PROBLEM IF REQU
 $S MUST BE ISSUED TO MARK                       PRINTER WITH "RETRYLM"
LIGIBLE FOR PROCESSING.                          WHERE:
                                                   XXXX     ==>  PRINTER
                                                   RR       ==>  VALUE F
 RPL RTNCD FIELD                                   FF       ==>  VALUE F
 RPL FDBKÿ
TION FROM VTAM RPL                                   XX       ==> GENCB
ODE                                                  *  JRP $SXXXXXXXX M
SSUED TO MARK PRINTER INÿ
TUS ELIGIBLE FOR PROCESSING.
                                             JRPE300   NIB GENCB FAILED
                                       ÿ
ATION FAILED REGISTER 15 CONTAINS                        RETURN CODE WHI
CUMENTED IN ACF VTAM PROGRAMMERS GD.                     WHERE:
                                                      ÿ
TURN CODE                                                           * US
 CODE 4 ACOMPANIES THIS MESSAGE
                                                 JRPE301   RPL GENCB ÿ
5=XX                                                         RPL CONTROL
ENERATION FAILED REGISTER 15 CONTAINS                        RETURN CODE
S DOCUMENTED IN ACF VTAM PROGRAMMERS GD.                     WHERE:
    ÿ
B RETURN CODE
BEND CODE 4 ACOMPANIES THIS MESSAGE
                   ÿ
R ABEND CODES"                          PAGE 14
                                                      U200        JRP200
OGNIZED A FAILURE BY JRP210       ÿ
ESSAGES FOR REASON.                                     U220        JRP2
AILED IN DYNAMIC ALLOCATION                                        CONSU
YSTEM PROGRAMMER.                                ÿ
 FAILED FOR A DEVICE. THIS DEVICE WILL                               NOT
BLE BY JRP UNTIL JRP RESTART.                           1
 MODULE FLOW"                               PAGE 15             ÿ

            --------
           : JRP100 :

     _____________:______________
   :                              :
--------      È                  --------                     ÿç
               : JRP120 :                     : JRP200 :
                --------                       --------
           ________:_______               _________:___________
            :                :             :         :           :
         --------        --------      --------   --------   --------
        : JRP122 :      : JRP121 :    : JRP210 : : JRP220 : : JRP300 :
         ---ÿ
              :                                                   :
          ---------                                            --------
         : JRP123  :       ÿ
            ---------                                            -------
  1        JRP MODULE DESCRIPTIONS                               PAGE 16
                                          ÿ
             JRP100           MAIN DRIVER MODULE

                        THIS MODULE FIRST READS THE JRP Iÿ
                          CONTROL CARDS, GETMAINS A DYNAMIC REGION FOR T
                          PRINTER TASK DEFINED BY THE CONTROL CARD, SETS
                          ALL PRINTER DEFAULTS, CALLS JRP110 TO VERIFY
                            CONTROL CARD PARAMETERS AND RESETS PRINTER D
                            AS DEFINED BY THE CONTROL CARDS. IT THEN BUI
                            AND OPENS VTAM PRINTER ACB. NEXT SUBTASKS JR
       ÿ
                              CONTROL TERMINAL SUPERVISOR). AT THIS POIN
                              ISSUES THE 'JRP INITIALIZATION COMPLETE' M
ND                    ÿ
                                JRP100 IS TO WAIT AND SUPERVISE ORDERLY
                                ON REQUEST FROM MVS CONSOLE OPERATOR(REP
                                SHUTDÿ
AL,                               OR IN CASE OF ANY PROBLEMS WITH THE JE
SSED                              OUTPUT INTERFACE.
                                                    ÿ
                         JRP110           CONTROL CARD PARSE MODULE

                                    THIS MODULE SIMPLY VERIFIES EACÿ
ARD                                   PARAMETER AND RESETS PRINTER DEFAU
EFINED                                BY THE CONTROL CARD.

  ÿ

                                        THIS MODULE EVERY 10 SECONDS SET
R OUTPUT         ÿ
PTION BLOCK),                             CALLS JRP210 WHICH PRESENTS TH
T FOR OUTPUT                              TO JES2. IF JES2 PASSES CONFIR
HAT THE                         ÿ
 PRINTER CONTOL                             BLOCK HAS BEEN MET THEN JRP2
IC ALLOCATE/                                DEALLOCATE) IS CALLED. UPON
UL RETURN FROM                              JRPÿ
300(PRINTER I/O).
                                   JRP210           JES2 PROCESSED SYSOU
ARY INTERFACE                                                 ÿ
                                                THIS MODULE PRESENTS THE
EATED BY JRP200                                 TO JES2 AND PASSES A RET
 BASED ON THE                                   RESULTS OF THAT PRESENTA
ACK TO JRP200.
                                       JRP220           DYNAMIC ALLOCATE
ATE MODULE
            ÿ
CATES OR DEALLOCATES                                BASED ON A REQUEST F
00 A SPOOL DATA-SET                                 AND SETS THE DATA-SE
ITION AS DIRECTED          ÿ
 BLOCK.
                                  1        JRP300           PRINTER I/O
                  PAGE 17                 ÿ
                                                        THIS MODULE BUIL
NITIALIZES THE PRINTERS                                 VTAM CONTROL BLO
NS THE SPOOL DATA-SET                                   Pÿ
Y JRP200 AND ALLOCATED BY                                 JRP220. BEGINS
ON WITH THE DESIGNATED                                    PRINTER, CALLS
TO NOTIFY JRP CONTROL TERMINAL                            OPERATOR(WHO H
UESTED UNSOLICITED OUTPUT) THAT         ÿç
 IS ABOUT TO BEGIN ON THIS PRINTER, QSAM READS
OOL DATA-SET UNTIL THE PRINTER BUFFER IS FULL,
NDS THE DATA TO THE PRINTER VIA 3270 VTAM              ÿ
OCOL. UPON NEGATIVE RESPONSE FROM VTAM THE
TER STATUS CONTROL BLOCK FIELDS ARE SET AS
OWS. STATUS='RETRYING',  RTNCD, FDBK2 AND                             ÿ
NSE= LAST RPL FIELD SETTINGS, RETRY COUNTER IS
CREMENTED. THE OPERATION IS RETRIED UNTIL THE
TRY LIMIT OF 100(IN MOST CASES) HAS BEEN EXAUSTED.
E REAÿ
1. END OF FILE  2. $C OR $E FROM JRP OPERATOR
3. NOTIFICATION OF CLOSEDOWN.
PRINTER IS FREED ANDÿ
                                                                       J
        JRP UNSOLICITED MESSAGE PROCESSOR.
                                   ÿ
    THIS MODULE UPON REQUEST FROM JRP300 SEND PRINTER
    STATUS  MESSAGES TO JRP TERMINAL OPERATORS WHO HAVE
    REQUESTED UNSOLICITED OUTPUT.                 ÿ

0           JRP CONTROL TERMINAL DRIVER
                                                                 ÿ
        THIS MODULE ACCEPTS LOGONS FROM 3270 TYPE TERMINALS
        CALLS JRP122(LOGON VERIFICATION PROCESSOR) AND
        ROUTES JRP COMMANDS FROM EACH CONTROL TERMINAL TO
ÿ
          COMMANDS "ICLOSE", "CLOSE", "LOGON", "LOGOFF" ARE
          PROCESSED DIRECTLY BY JRP120 AND ARE NOT ROUTED TO
          JRP12ÿ

 JRP121           JRP CONTROL TERMINAL COMMAND PROCESSOR
                              ÿ
              THIS MODULE PARSES ALL COMMANDS ROUTED TO IT BY
              JRP120 AND MODIFIES THE PRINTER CONTROL BLOCK AS
              REQUESTED, FORMATS MAJOR PRINTEÿ
                FIELDS AND DISPLAYS TO JRP TERMINAL OPERATOR.

     JRP122           JRP LOGON VERIFICATION PROCESSOR      ÿ

                  THIS MODULE REQUESTS LOGON USERID AND PASSWORD
                  VERIFYING THAT THE FIELDS HAVE BEEN FILLED IN,
                    CALLS JRP123(JRP SECURITY EXIT) THEN ACCEPTS THE
                    SESSION, REQUESTS ADDITIONAL INFORMATION OR REJECTS
                    THE SESSION BASED ON RETURN CODE FROM JRP123.
          ÿ
           JRP123           JRP USER SECURITY EXIT.

                      THIÿ
                        ACCORDING TO STANDARDS OUTLINED IN SOURCE CODE.

             JRP123           JRP USER Sÿ

                          THIS MODULE IS A DUMMY MODULE TO BE CODED BY U
                          ACCORDING TO STANDARDS OUTLIN ED IN SOURCE CO
        1SUMMARY OF CHANGES:                                      PAGE 1

        
                                  COMMCHR=$
                                  SMFID=253
                                  Pÿ
                           X                 MLIN=0,
                           X                 S=N,
                           X                 C=G, ÿ
                             X                 LU=CUU0C7,
                             X                 LGMD=S3270,
                             X                 SCS=N,            l
                               X                 DRAIN
                                        
s PDS is a modification of Scott Vetter's
implementation for MVS 3.8j (CBT File 755)
==========================================                         ÿ

                                                                    Chan
ied above CBT 755                                                   ----
--ÿ
                                                                      o
ort:
                 ÿ
ole users have to authenticate using their userid
password as defined by the security system being
lace (RAKF on TK4-).            ÿ

ad access to the JRPAUTH resource in the FACILITY
ass is required to access the JRP console.     ÿ

er authentication and authorization checking is done only
 a resource access control (RAC) system is installed and      ÿ
active. Otherwise any userid/passwort combination is allowed
to logon to the JRP console.

o Various bug fixes (LU0/2 protocol violations, reentrancy
  issues, assembler language errors, logic errors, memory leak).

o Optimized ÿ
    100 times 20 seconds after each block sent to a printer
    (i.e. a minimum of 20 seconds between two consecutive
    blocks!) now a wait of ÿ
      with each additional consecutive wait to a maximum of 14
      waits before an error condition is reported. This speeds
      up printing significantly.          ÿ

      o Console terminal recognition by bind image has been replaced
        with WSF query reply analysis. VTAM level 2 as usÿ
          MVS 3.8j has no bind image support for non-SNA logical
          units. Furthermore, terminals today cannot be predefined
          using default logmodes as their capabilities will vary
            depending on the tn3270 client and settings in use.

          o Full console functionality as advertised in the source
       ÿ
              i.e. PRISCN and ALTSCN commands to change between primary
              and alternate screen size for 3270 models 2, 3, 4 and 5.
              Note, hoÿ
                are supported.

              o Console usability enhÿ

                  - Use of different colors for commands, command respon
                    and unsolicited message to improÿ

                    - Two line display of PFKey assignments. Note that t
                      PFKey assignment is still hardcoded and so isÿ
                        display.

                    o Sample procedure (JRP), parameter file (JRPINIT) a
 jÿ
 system.
                      o DOCPRINT job adapted to print to JES2 output cla
ich, on the      ÿ
ss 0C7, driven            by VTAM as non-SNA logical unit CUU0C7 and def
JRP as PRT4.
                        o Documeÿ
using DOCPRINT,             without changing the original contents. That
hat the                     documentation isn't fully in synch with the
functionality               of JRP.            ÿ

                            10/26/2013 Juergen Winkelmann, winkelmann@id
                                                              È
                              ÿç
                                            Installation Steps
                                            ------------------
                                             ÿ
                                              Note that these steps are
 to work in a TK4- environment. They          might need to be adjusted
 is to be used on other systems.                            ÿ
                                                o Run job JRPINST from H
P to assemble and link the modules.
                                                o Copy member JRPINIT to
SYSINLIB
                                                  o Copy member JRP to S
LIB
          ÿ
S2.HELP with new name JRPRINT
                                                    o Edit SYS1.JES2PARM
M) to change printer clasÿ
TRKCEL      output class for JRP printer at 0C7
                                                      o Change the 3270
t 0C7 in your Hercules configuration filÿ
                                                        o Change the las
in SYS1.VTAMLST(L3274) to read                            CUU0C7   LOCAL
86,CUADDR=0C7,ISTATUS=ACTIVE                           ÿ
                                                          o Add member A
YS1.VTAMLST with the following contents                     JRP      APP
CQ                                                          CJRP     Aÿ
=PASS
                                                            o Add the fo
line after the ASNASOL entry to SYS1.VTAMLST(ATCCON01)        AJRP,
     ÿ
                                                              o Delete m
274 from SYS1.VTAMOBJ
                    ÿ
ing lines to SYS1.SECURE.CNTL(PROFILES) after the ETPSAUTH        defini
ote that the location is imperative, statements in the            RAKF p
able must be in ascending alphabetiÿ
                                                                    * rd
cility jrpauth uacc(none)                                           * pe
auth cl(facility) id(admin,stcgroup) access(read) ÿ
                                                                      FA
PAUTH                                             NONE                FA
PAUTH                                     ADMIN   READ           ÿ
JRPAUTH                                     STCGROUPREAD
                                                                      o
a full power cycle:
ÿ
 and restart Hercules
MVS
               ÿ

Corrigenda
----------                    ÿ

status of the $$DOC member is undefined: Basically it is the original
ion written by Mike Shortman with minimal addÿ
ott Vetter. Although the present update changed $$DOC to print nicely
ing JES2 or JRP, it didn't change its contents. Instead, the following
rrigenda mentions the most obvious differences between this ÿ
version and the documentation in $$DOC.

o INSTALLATION on PAGE 2, item 6:

    New options for the JRP initialization member introduced by Scott Ve

    WTOR  ÿ
      NOWTOR       use console stop/modify for operator communication
      COMMCHR=c    set JRP console command prefix character to c
      SMFID=nnn    recordÿ
        JRPAPP=name  JRP's VTAM application name - default JRP
        JRPCPP=name  JRP's console VTAM app name - default CJRP
                                        È
        ÿç

                        The VTAM application node definition syntax in V
l 2 doesn't            ÿ
e same as the             application name. The syntax to be used is:

                          JRP      APPÿ
                            CJRP     APPL AUTH=PASS

                          o JRP SHUTDOWN on PAGE 3:  ÿ

                              The preferred method is to set NOWTOR in t
alization member and          to issue P JRP on the MVS system consoÿ
 JRP.
                              o JRP CONTROL TERMINALS on PAGE 4:

   ÿ
 panel enter LOGON APPLID=CJRP              On the TK4- SNA logon panel
PPLID CJRP and press enter twice
                  ÿ
ctive, enter userid and                       password of a user having
ess to the JRPAUTH resource                   in the FACILITY class. Els
bitrary userid and password      ÿ

                                    o JRP COMMANDS on PAGE 5:
                                                ÿ
                                        The commands CLOSE, ICLOSE and S
are broken. Set NOWTOR in               the initialization member and is
P on the MVS system console             to stop JRP.           ÿ

                                        o JRP USE OF on PAGE 9:

                                            Typo in     EX JCL; */ ROUTE
 (ROUTES ALL JOB OUTPUT TO RMT001)          Should read EX JCL; /*ROUTE
(ROUTES ALL JOB OUTPUT TO RMT001)
                                             Note however, that the sam
allation on TK4- defines a local              printer serving class G, i
remote notation doesn't apply here.         
$$
//SYSPRINT DD SYSOUT=*
//SYSUT1   DD DSN=&&SYSUT1,
//            UNIT=3390,
//            SPACE=(CYL,(100,50)),
//            DISP=(,DELETE,DELETE)
//SYSUT2   DD DSN=HERC01.JRP,
//            DISP=(,CATLG),SPACE=(TRK,(50,5,9)),
//            UNIT=3390
//SYSIN    DD DUMMY
//SYSUDUMP DD SYSOUT=*
//*
//* copy members not being updated
//*
//COPY    EXEC PGM=IEBCOPY
//FROM     DD DISP=(OLD,PASS),DSN=&&PDS
//TO       DD DISP=SHR,DSN=HERC01.JRP
//SYSPRINT DD SYSOUT=*
//SYSIN    DD *
 COPY INDD=((FROM,R)),OUTDD=TO
 EXCLUDE MEMBER=(JRPAMAC,JRPDMAC,JRPTMAC,JRP100,JRP120,JRP121,JRP122,  X
               JRP123,JRP300,JRP310,$$DOC,DOCPRINT,JRP,JRPINIT,JRPINST)
/*
//*
//* resequence members to be updated
//*
//RENUM1  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRPAMAC,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM2  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRPDMAC,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM3  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRPTMAC,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM4  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRP120,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM5  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRP121,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM6  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRP122,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM7  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRP123,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM8  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRP300,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//RENUM9  EXEC RENUM
//SYSIN    DD *
./ CHANGE NAME=JRP310,UPDATE=INPLACE
./ NUMBER SEQ1=ALL,NEW1=00010000,INCR=10000
/*
//*
//* update source members
//*
//UPDTE   EXEC PGM=IEBUPDTE
//SYSUT1   DD DISP=(OLD,DELETE),DSN=&&PDS
//SYSUT2   DD DISP=SHR,DSN=HERC01.JRP
//SYSIN    DD DISP=SHR,DSN=SYS2.ASM(JRPUPDT)
//SYSPRINT DD SYSOUT=*
//*
//* update statistics
//*
//STATUPD EXEC PGM=IKJEFT01
//SYSPRINT DD SYSOUT=*
//SYSTSPRT DD SYSOUT=*
//SYSTSIN  DD *
PDS 'HERC01.JRP'
MEMBERS (JRPAMAC)
ATTRIB * VER(80) MOD(01) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRPDMAC)
ATTRIB * VER(80) MOD(10) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRPTMAC)
ATTRIB * VER(80) MOD(20) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRP100)
ATTRIB * VER(81) MOD(55) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRP120)
ATTRIB * VER(80) MOD(69) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRP121)
ATTRIB * VER(80) MOD(63) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRP122)
ATTRIB * VER(80) MOD(24) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRP123)
ATTRIB * VER(80) MOD(21) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRP300)
ATTRIB * VER(80) MOD(45) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
MEMBERS (JRP310)
ATTRIB * VER(80) MOD(03) ID(JUERGEN) MODIFIED(13/10/26) +
         TIME(1100) SECS(00)
END
RLSE 'HERC01.JRP'
/*
//

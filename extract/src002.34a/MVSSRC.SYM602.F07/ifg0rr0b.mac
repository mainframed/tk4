         TITLE 'IFG0RR0B -- FORCE CLOSE PROCESSING && EXECUTOR INTERFAC*
               CE        '
IFG0RR0B CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(16)                                             0001
         DC    C'IFG0RR0B  78.146'                                 0001
         DROP  @15
@PROLOG  BALR  @03,0                                               0001
@PSTART  LA    @05,4095(,@03)                                      0001
         USING @PSTART,@03                                         0001
         USING @PSTART+4095,@05                                    0001
START0B  DS    0H                                                  0267
*   RET=ADDR(GETCRSA);              /* REG 14 RETRY ADDR             */
         LA    RET,GETCRSA                                         0270
*   RR1RETRY=ADDR(RETRY0B);         /* SET RETRY ROUTINE ADDR        */
         LA    @15,RETRY0B                                         0271
         ST    @15,RR1RETRY(,RRRF)                                 0271
*   GEN REFS(IECREGSV,IECEXTPR,TRRWTG,CVT,CVTDMSR);                0272
*        IECRES LOAD,EXTPR=(RD),MODNM=RR0B,BRANCH=NO  OPTIONAL TRACE
         LR    15,RD                    GET PTR TO EXT PREFIX
         STM   14,12,IECREGSV-IECEXTPR+12(15) SAVE REGISTERS
         LA    1,IECEXTPR-IECPREFX(0,0) BACK UP REGISTER 15 TO
         SR    15,1                     POINT TO START OF PREFIX
         MVC   TRRWTG(12,13),RR0B       MOVE MODULE NAME & EPA
         LA    6,TRRWTG(,13)            LOAD PTR TO WTG MOD NAME
         L     5,CVTPTR                 GET ADDRESS OF CVT
         L     5,CVTDMSR-CVT(,5)        ADDRESS OF RESIDENT RTN
         BAL   14,24(,5)                LOAD AND RETURN
         LM    14,12,44(15)             RESTORE REGISTERS
*   GEN(EJECT);                                                    0273
         EJECT
*                                                                  0274
*/********************************************************************/
*/*               BUILD COMPONENT RECOVERY STATUS AREA               */
*/********************************************************************/
*                                                                  0274
*GETCRSA:                           /* OBTAIN AND INITIALIZE CRSA    */
*   SARETRY=ADDR(CHKFIN1);          /* SET SAVED RETRY ADDR          */
GETCRSA  LA    @15,CHKFIN1                                         0274
         ST    @15,SARETRY(,RD)                                    0274
*   R2=IECDCBNO;                    /* GET NUMBER OF DCBS            */
         L     @15,WTGPREFX(,RWTG)                                 0275
         SLR   R2,R2                                               0275
         IC    R2,IECDCBNO(,@15)                                   0275
*   R2=(R2*LENGTH(CRSIECNT))+LENGTH(IECCRSA);/* CALC CRSA CORE       */
         LR    @15,R2                                              0276
         MH    @15,@CH00188                                        0276
         LA    @15,20(,@15)                                        0276
         LR    R2,@15                                              0276
*   RFY                                                            0277
*     RF RSTD;                      /* RESTRICT REG                  */
*   RF=ADDR(TRRSAV2);               /* PT TO SAVE AREA FOR IECRES    */
         LA    RF,TRRSAV2(,RD)                                     0278
*   GEN(IECRES GET,PREFIX=NO,LV=(R2),STM=(2,14,0(RF)))             0279
*   REFS(CVT,CVTDMSR);              /* GET CRSA CORE                 */
         IECRES GET,PREFIX=NO,LV=(R2),STM=(2,14,0(RF))
*   RFY                                                            0280
*     RF UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   RFY                                                            0281
*     R1 RSTD;                      /* RESTRICT REG                  */
*   IF SDWACOMP^=0 THEN             /* IF OLD CRSA PTR EXISTS THEN   */
         L     @15,SDWACOMP(,SDWAPTR)                              0282
         LTR   @15,@15                                             0282
         BZ    @RF00282                                            0282
*     R1->CRSIECBS=SDWACOMP;        /* SAVE IT IN NEW CRSA           */
         ST    @15,CRSIECBS(,R1)                                   0283
*   GEN(MODESET EXTKEY=ZERO);       /* KEY ZERO                YM7871*/
@RF00282 DS    0H                                                  0284
         MODESET EXTKEY=ZERO
*   SDWACOMP=R1;                    /* PUT NEW CRSA PTR IN RTCA      */
         ST    R1,SDWACOMP(,SDWAPTR)                               0285
*   GEN(MODESET EXTKEY=DATAMGT);    /* DATA MANAGEMENT KEY     YM7871*/
         MODESET EXTKEY=DATAMGT
*   CRSIECID=OCEID;                 /* INIT CRSA COMPONENT ID        */
         L     @15,SDWACOMP(,SDWAPTR)                              0287
         MVC   CRSIECID(3,@15),OCEID                               0287
*   CRSIECMM(8)=ON;                 /* INIT CRSA FORMAT ID           */
         OI    CRSIECMM(@15),B'00000001'                           0288
*   CRSIECLN=R2;                    /* INIT CRSA LENGTH              */
         STH   R2,CRSIECLN(,@15)                                   0289
*   CRSIECSP=230;                   /* INIT CRSA SUBPOOL NUMBER      */
         MVI   CRSIECSP(@15),X'E6'                                 0290
*   CRSIECKY=FIVE;                  /* INIT CRSA KEY                 */
         MVI   CRSIECKY(@15),X'05'                                 0291
*   CRSIECFN=RRFUNCTN;              /* INIT CRSA FUNCTION ID         */
         MVC   CRSIECFN(1,@15),RRFUNCTN(RRRF)                      0292
*   R2=IECDCBNO;                    /* GET NUMBER OF DCBS            */
         L     @15,WTGPREFX(,RWTG)                                 0293
         SLR   R2,R2                                               0293
         IC    R2,IECDCBNO(,@15)                                   0293
*   R1=R1+(LENGTH(IECCRSA)-LENGTH(CRSIECNT));/* SET UP SO THAT THE 0294
*                                      FOLLOWING DO-WHILE LOOP WILL
*                                      PICK UP 1ST CRSA ENTRY        */
         LA    R1,8(,R1)                                           0294
*   RWTGC=RWTG+(LENGTH(WTG)-LENGTH(WTGENTRY));/* SET UP SO THAT THE
*                                      FOLLOWING DO-WHILE LOOP WILL
*                                      PICK UP 1ST WTG ENTRY         */
         LA    RWTGC,24(,RWTG)                                     0295
*   DO WHILE R2^=0;                 /* FOR EACH DCB,                 */
         B     @DE00296                                            0296
@DL00296 DS    0H                                                  0297
*     R1=R1+LENGTH(CRSIECNT);       /* PT TO ITS CRSA ENTRY,         */
         LA    R1,12(,R1)                                          0297
*     RWTGC=RWTGC+LENGTH(WTGENTRY); /* PT TO ITS WTG TBL ENTRY,      */
         LA    RWTGC,8(,RWTGC)                                     0298
*     RCORE=WTGCORE;                /* GET ITS WORK AREA ADDRESS.    */
         L     RCORE,WTGCORE-1(,RWTGC)                             0299
         LA    RCORE,0(,RCORE)                                     0299
*     IF RCORE^=0 THEN              /* IF A WORK AREA PTR EXISTS,    */
         LTR   RCORE,RCORE                                         0300
         BZ    @RF00300                                            0300
*       DXATCOM4=R1;                /* SAVE THE CRSA ENTRY PTR.      */
         ST    R1,DXATCOM4(,RCORE)                                 0301
*     R2=R2-1;                      /* DECREMENT DCB COUNT           */
@RF00300 BCTR  R2,0                                                0302
*   END;                            /* END OF CRSA ENTRY LOOP        */
@DE00296 LTR   R2,R2                                               0303
         BNZ   @DL00296                                            0303
*   R1->CRSLAST=ON;                 /* INDICATE LAST CRSA ENTRY      */
         OI    CRSLAST(R1),B'10000000'                             0304
*   RFY                                                            0305
*     R1 UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   GEN(EJECT);                                                    0306
         EJECT
*                                                                  0307
*/********************************************************************/
*/*         CHECK FOR COMPLETION OF FIRST MODULE OF FUNCTION         */
*/********************************************************************/
*                                                                  0307
*CHKFIN1:                           /* CHK FOR 1ST LOAD COMPLETION   */
*   SARETRY=RR0E(9:12);             /* SET RETRY PTR TO IFG0RR0E     */
CHKFIN1  MVC   SARETRY(4,RD),RR0E+8                                0307
*   IF RRFFIN1=OFF THEN             /* IF 1ST MOD NOT COMPLETE YM7099*/
         TM    RRFFIN1(RRRF),B'10000000'                           0308
         BNZ   @RF00308                                            0308
*     DO;                           /* THEN                          */
*       RFY                                                        0310
*         RF RSTD;                  /* RESTRICT REG                  */
*       RF=RR0E(9:12);              /* GET PTR TO CLEAN UP MODULE    */
         ICM   RF,15,RR0E+8                                        0311
*       GEN(BR    RF);              /* BRANCH TO CLEAN UP MODULE     */
         BR    RF
*       RFY                                                        0313
*         RF UNRSTD;                /* MAKE REG UNRESTRICTED         */
*     END;                                                         0314
*   ELSE                            /* 1ST LOAD COMPLETED            */
*     TRRRWTGC=RWTG+(LENGTH(WTG)-LENGTH(WTGENTRY));/* SET UP SO THAT
*                                      THE FOLLOWING DO-WHILE LOOP 0315
*                                      WILL PICK UP 1ST WTG TBL ENTRY
*                                      ON INITIAL ENTRY TO THE SELECT
*                                      SUBROUTINE                    */
         B     @RC00308                                            0315
@RF00308 LA    @15,24                                              0315
         ALR   @15,RWTG                                            0315
         ST    @15,TRRRWTGC(,RD)                                   0315
*/********************************************************************/
*/*                    START OF FORCE CLOSE LOOP                     */
*/********************************************************************/
*                                                                  0316
*FCLOOP:                            /* START OF FORCE CLOSE LOOP     */
*   DO WHILE RRFFINFC=OFF;          /* ENTER FORCE CLOSE LOOP WHILE
*                                      FINAL PASS NOT YET MADE       */
@RC00308 DS    0H                                                  0316
FCLOOP   B     @DE00316                                            0316
@DL00316 DS    0H                                                  0317
*SELTCALL:                          /* DCB/ACB SELECTION             */
*     CALL SELECT;                  /* SELECT DCB TO FORCE CLOSE     */
SELTCALL BAL   @14,SELECT                                          0317
*     GOTO SELTCALL;                /* GO MAKE ANOTHER SELECTION     */
         B     SELTCALL                                            0318
*SELTFIN:                           /* DCB/ACB SELECTION DONE        */
*     RWTGC=TRRRWTGC;               /* GET CURRENT WTG ENTRY PTR     */
SELTFIN  L     RWTGC,TRRRWTGC(,RD)                                 0319
*     IF RWTGC>=(IECRRPRM-8) THEN   /* IF WTG ENTRY PTR IS NOT       */
         L     @15,WTGPREFX(,RWTG)                                 0320
         L     @15,IECRRPRM(,@15)                                  0320
         SL    @15,@CF00069                                        0320
         CR    RWTGC,@15                                           0320
         BL    @RF00320                                            0320
*       DO;                         /* VALID THEN                    */
*         RRFFINFC=ON;              /* SET FINAL PASS INDICATOR      */
         OI    RRFFINFC(RRRF),B'00100000'                          0322
*         GOTO POSTFC;              /* GO TO END OF FORCE CLOSE      */
         B     POSTFC                                              0323
*       END;                                                       0324
*     IF DCBMFECP=OFF&ACBDORGA=ON&(ACBAMETH='60'X×ACBDDNM=VTAMDDNM)
*       THEN                        /* IF VTAM THEN          @ZA03175*/
@RF00320 TM    DCBMFECP+40(R2),B'10000000'                         0325
         BNZ   @RF00325                                            0325
         TM    ACBDORGA(R2),B'00001000'                            0325
         BNO   @RF00325                                            0325
         CLI   ACBAMETH(R2),96                                     0325
         BE    @RT00325                                            0325
         CLC   ACBDDNM(8,R2),VTAMDDNM                              0325
         BE    @RT00325                                            0325
*       GOTO SKIPCHK;               /* SKIP DEBCHK           @ZA03175*/
*     IF IDAMB=OFF THEN             /* IF AMB IS IN PROCESS    YM4652*/
@RF00325 TM    IDAMB(RD),B'10000000'                               0327
         BNZ   @RF00327                                            0327
*       DO;                         /* THEN                          */
*         DEBPTR=0;                 /* INITIALIZE DEB PTR TO ZERO    */
         SLR   DEBPTR,DEBPTR                                       0329
*VALCALL:                                                          0330
*         CALL DEBVALCK;            /* GO FIND VALID DEB PTR         */
VALCALL  BAL   @14,DEBVALCK                                        0330
*       END;                                                       0331
*SKIPCHK:                                                          0332
*     TRRWORK3=0;                   /* INIT FOR EXEC RETURN CODE     */
@RF00327 DS    0H                                                  0332
SKIPCHK  SLR   @15,@15                                             0332
         ST    @15,TRRWORK3(,RD)                                   0332
*     SARETRY=ADDR(POSTFCX);        /* SET SAVED RETRY PTR           */
         LA    @01,POSTFCX                                         0333
         ST    @01,SARETRY(,RD)                                    0333
*     IF DXATCOM4^=0 THEN           /* IF A CRSA EXISTS THEN         */
         L     @01,DXATCOM4(,RCORE)                                0334
         CR    @01,@15                                             0334
         BE    @RF00334                                            0334
*       CRSFCAT=ON;                 /* SHOW FORCE CLOSE ATTEMPTED    */
         OI    CRSFCAT(@01),B'01000000'                            0335
*     RFY                                                          0336
*       RF RSTD;                    /* RESTRICT REG                  */
@RF00334 DS    0H                                                  0337
*     IF RRFUNCTN^=RRFEOV&          /* IF NOT AN EOV ENTRY AND       */
*         RRFUNCTN^=RRFFEOV&        /* NOT A FEOV ENTRY AND          */
*         RRFUNCTN^=RRFTCLOS THEN   /* NOT A TCLOSE ENTRY THEN       */
         CLI   RRFUNCTN(RRRF),X'37'                                0337
         BE    @RF00337                                            0337
         CLI   RRFUNCTN(RRRF),X'1F'                                0337
         BE    @RF00337                                            0337
         CLI   RRFUNCTN(RRRF),X'17'                                0337
         BE    @RF00337                                            0337
*CTRCALL:                                                          0338
*       CALL CTRLCHK;               /* CHK IF EXEC NEEDS CONTROL     */
CTRCALL  BAL   @14,CTRLCHK                                         0338
*     ELSE                          /* EOV OR FEOV OR TCLOSE ENTRY   */
*       DO;                                                        0339
         B     @RC00337                                            0339
@RF00337 DS    0H                                                  0340
*         IF DCBMFECP=OFF&ACBDORGA=ON&(ACBAMETH='60'X×ACBDDNM=VTAMDDNM)
*           THEN                    /* IF VTAM THEN          @ZA03175*/
         TM    DCBMFECP+40(R2),B'10000000'                         0340
         BNZ   @RF00340                                            0340
         TM    ACBDORGA(R2),B'00001000'                            0340
         BNO   @RF00340                                            0340
         CLI   ACBAMETH(R2),96                                     0340
         BE    @RT00340                                            0340
         CLC   ACBDDNM(8,R2),VTAMDDNM                              0340
         BE    @RT00340                                            0340
*           GOTO POSTFCX;           /* SKIP EOV PROCESS      @ZA03175*/
*         IF IDAMB=ON THEN          /* IF AMB IS IN PROCESS    YM4652*/
@RF00340 TM    IDAMB(RD),B'10000000'                               0342
         BNO   @RF00342                                            0342
*           DO;                                                    0343
*             RF=ADDR(VSAMX);       /* PT TO VSAM RECOVERY EXEC      */
         LA    RF,VSAMX                                            0344
*             GOTO EOVCALLX;        /* GO CALL VSAM EXECUTOR         */
         B     EOVCALLX                                            0345
*           END;                                                   0346
*         ELSE                      /* NOT AN AMB                    */
*           DO;                                                    0347
@RF00342 DS    0H                                                  0348
*             IF DXATFC=OFF&        /* IF FORCE CLOSE NOT INDIC    0348
*                                                              YM7099*/
*                 DEBPTR^=0 THEN    /* A DEB PTR EXISTS THEN   YM7099*/
         TM    DXATFC(RCORE),B'10000000'                           0348
         BNZ   @RF00348                                            0348
         LTR   DEBPTR,DEBPTR                                       0348
         BZ    @RF00348                                            0348
*               DO;                                                0349
*                 IF DXATNVOL=ON&   /* IF ON NEW VOLUME AND    YM7099*/
*                     UCB3DACC=ON THEN/* DEV IS DIRECT ACCESS  YM7099*/
         TM    DXATNVOL(RCORE),B'01000000'                         0350
         BNO   @RF00350                                            0350
         TM    UCB3DACC(UCBPTR),B'00100000'                        0350
         BNO   @RF00350                                            0350
*                   DO;             /* THEN                    YM7099*/
*                     CALL PREVOLCK;/* GO CHK PREVIOUS VOL     YM7099*/
         BAL   @14,PREVOLCK                                        0352
*                     IF DXATNVOL=OFF&/* IF IFG0554T SUCCESSFUL &    */
*                         DXATDMCT=ON THEN/* NEW VOL HAS BEEN MTD  0353
*                                      THEN                          */
         TM    DXATNVOL(RCORE),B'01000000'                         0353
         BNZ   @RF00353                                            0353
         TM    DXATDMCT(RCORE),B'10000000'                         0353
         BNO   @RF00353                                            0353
*                       CALL DECRDMCT;/* GO DECR DM CNT ON NEW VOL   */
         BAL   @14,DECRDMCT                                        0354
*                   END;            /*                         YM7099*/
@RF00353 DS    0H                                                  0356
*                 IF DXATNVOL=OFF THEN/* NEW VOL SW NOW OFF    YM7099*/
@RF00350 TM    DXATNVOL(RCORE),B'01000000'                         0356
         BNZ   @RF00356                                            0356
*                   DO;             /* THEN                    YM7099*/
*                     IF RRFUNCTN=RRFEOV&/* IF EOV ENTRY AND @ZA05430*/
*                         DEBACCS(2:4)='111'B&/* OUTPUT DEB  @ZA05430*/
*                         DEBDISP(1:2)='01'B&/* OLD AND      @ZA05430*/
*                         DCBCNSTO^=ON&/* NOT MEM STOW AND   @ZA05430*/
*                         DCBCNQSM^=ON&/* NOT QSAM AND       @ZA05430*/
*                         DCBOPTT^=ON&/* NOT USER TOTAL AND  @ZA05430*/
*                         DCBMACF2^='28'X&/* NOT BDAM CREATE @ZA05430*/
*                         DEBAMLNG>=8 THEN/* MEMNAME LONG ENOUGH   0358
*                                                            @ZA05430*/
         CLI   RRFUNCTN(RRRF),X'37'                                0358
         BNE   @RF00358                                            0358
         TM    DEBACCS(DEBPTR),B'00000111'                         0358
         BNO   @RF00358                                            0358
         TM    DEBDISP(DEBPTR),B'01000000'                         0358
         BNO   @RF00358                                            0358
         TM    DEBDISP(DEBPTR),B'10000000'                         0358
         BNZ   @RF00358                                            0358
         LA    @01,52                                              0358
         ALR   @01,R2                                              0358
         TM    DCBCNSTO(@01),B'10000001'                           0358
         BNZ   @RF00358                                            0358
         TM    DCBOPTT(@01),B'00000010'                            0358
         BO    @RF00358                                            0358
         CLI   DCBMACF2+40(R2),X'28'                               0358
         BE    @RF00358                                            0358
         CLI   DEBAMLNG(DEBPTR),8                                  0358
         BL    @RF00358                                            0358
*                       DO;         /* THEN                  @ZA05430*/
*                         RFY                                      0360
*                           RET RSTD;/* RESTRICT REGISTER 14 @ZA05430*/
*                         RF=DEBEXSCL;/* POINT DEB EXTENT SCALE    0361
*                                                            @ZA05430*/
         SLR   RF,RF                                               0361
         IC    RF,DEBEXSCL(,DEBPTR)                                0361
*                         RET=DEBNMEXT;/* POINT NUMBER OF EXTENTS  0362
*                                                            @ZA05430*/
         SLR   RET,RET                                             0362
         IC    RET,DEBNMEXT(,DEBPTR)                               0362
*                         SLL(RET,RF);/* MULTIPLY SCALE TIMES EXTENTS
*                                                            @ZA05430*/
         SLL   RET,0(RF)                                           0363
*                         RFY                                      0364
*                           DEBACS01 BASED(ADDR(DEBBASND)+RET);/*  0364
*                                      POINT LAST EXT        @ZA05430*/
*                         IF DCBDSGPO=ON&/* IF BPAM AND      @ZA18498*/
*                             DEBDSNAM(1)^=0 THEN/* MEMNAME THERE  0365
*                                                            @ZA05430*/
         TM    DCBDSGPO+16(R2),B'00000010'                         0365
         BNO   @RF00365                                            0365
         LA    @01,DEBBASND(,DEBPTR)                               0365
         ALR   @01,RET                                             0365
         CLI   DEBDSNAM(@01),0                                     0365
         BE    @RF00365                                            0365
*                           DO;     /* THEN                  @ZA05430*/
*                             DEBDSNAM=TEMPNAME;/* CHANGE NAME     0367
*                                                            @ZA05430*/
         MVC   DEBDSNAM(8,@01),TEMPNAME                            0367
*                             RFY                                  0368
*                               DEBACS01 BASED(ADDR(DEBBASND)+RET+4);
*                                   /* PNT LAST EXT          @ZA05430*/
*                           END;    /*                       @ZA05430*/
*                         ELSE      /* OTHERWISE             @ZA05430*/
*                           IF DCBDSGPO^=ON&/* IF NOT BPAM AND     0370
*                                                            @ZA18498*/
*                               DEBDSNAM(1)^=0 THEN/* MEMNAME THERE
*                                                            @ZA05430*/
         B     @RC00365                                            0370
@RF00365 TM    DCBDSGPO+16(R2),B'00000010'                         0370
         BO    @RF00370                                            0370
         LA    @01,DEBBASND(,DEBPTR)                               0370
         ALR   @01,RET                                             0370
         AL    @01,@CF00129                                        0370
         CLI   DEBDSNAM(@01),0                                     0370
         BE    @RF00370                                            0370
*                             DO;   /* THEN                  @ZA05430*/
*                               DEBDSNAM=TEMPNAME;/* CHANGE NAME   0372
*                                                            @ZA05430*/
         MVC   DEBDSNAM(8,@01),TEMPNAME                            0372
*                               RFY                                0373
*                                 DEBACS01 BASED(DEBEXPTR);/* REPOINT
*                                      EXTENT BASIC          @ZA05430*/
*                               RFY                                0374
*                                 RET UNRSTD;/*              @ZA05430*/
*                             END;  /*                       @ZA05430*/
*                           ELSE                                   0376
*                             ;     /*                       @ZA05430*/
@RF00370 DS    0H                                                  0377
*                       END;        /*                       @ZA05430*/
*                     ELSE                                         0378
*                       ;           /* OTHERWISE             @ZA05430*/
@RF00358 DS    0H                                                  0379
*                     RC=DEBPTR-LENGTH(DEB);/* INIT REG TO   @ZA15965
*                                      CORRECTLY ADDRESS     @ZA15965
*                                      DEB EXTENSION         @ZA15965
*                                      POINTER               @ZA15965*/
@RC00358 LR    RC,DEBPTR                                           0379
         SL    RC,@CF01096                                         0379
*                     RC=RC->DEBXTNP;/* PICKUP DEB           @ZA15965
*                                      EXTENSION POINTER     @ZA15965*/
         L     RC,DEBXTNP(,RC)                                     0380
*                     GEN REFS(DEBXCDCB,DCBPTOK);                  0381
          TM    DEBXCDCB(RC),B'10000000' IF DEB POINTS TO      @ZA15965
          BNO   DCBPTOK                  COPIED DCB THEN       @ZA15965
*                     DEBDCBB=DXUDCBAD;/* PT DEB TO USER'S     YM7099*/
         MVC   DEBDCBB(3,DEBPTR),DXUDCBAD+1(RCORE)                 0382
*                     GEN REFS(DEBXCDCB);                          0383
          NI    DEBXCDCB(RC),B'01111111'    DCB AND RESET FLAG @ZA15965
*DCBPTOK:                           /*                       @ZA15965*/
*                     DCBOFEOV=OFF; /* RESET EOV CONCATENATION BIT   */
DCBPTOK  DS    0H                                                  0385
*                     DCBOFUEX=ON;  /* RESET LOCK BIT          YM7099*/
*                     DCBOFIOF=OFF; /* RESET BUSY BIT          YM7099*/
         OI    DCBOFUEX+40(R2),B'00000010'                         0386
         NI    DCBOFEOV+40(R2),B'11011110'                         0386
*                     DXATREFR=OFF; /* INSURE DCB COPY BACK    YM7099*/
         NI    DXATREFR(RCORE),B'10111111'                         0387
*                     CALL COPYBACK;/* GO COPY BACK DCB        YM7099*/
         BAL   @14,COPYBACK                                        0388
*                     IF DXATCOM4^=0 THEN/* IF A CRSA EXISTS   YM7806*/
         L     @14,DXATCOM4(,RCORE)                                0389
         LTR   @14,@14                                             0389
         BZ    @RF00389                                            0389
*                       CRSFCAT=OFF;/* RESET FORCE CLOSE FLG   YM7806*/
         NI    CRSFCAT(@14),B'10111111'                            0390
*                     GOTO POSTFC;  /* BYPASS FORCE CLOSE SINCE    0391
*                                      NORMAL CLOSE IS POSSIBLE    0391
*                                                              YM7099*/
         B     POSTFC                                              0391
*                   END;                                           0392
*               END;                                               0393
@RF00356 DS    0H                                                  0394
*             RF=0;                 /* SET CODE TO CALL FCXCHK       */
@RF00348 SLR   RF,RF                                               0394
*           END;                                                   0395
*       END;                                                       0396
*     IF RF=0 THEN                  /* IF FCXCHK SHOULD BE CALLED    */
@RC00337 LTR   RF,RF                                               0397
         BNZ   @RF00397                                            0397
*       DO;                                                        0398
*         CALL FCXCHK;              /* GO SELECT RECOVERY EXECUTOR   */
         BAL   @14,FCXCHK                                          0399
*         IF RF^=0 THEN             /* IF RECOVERY EXEC WAS CHOSEN   */
         LTR   RF,RF                                               0400
         BZ    @RF00400                                            0400
*           DO;                     /* THEN                          */
*EOVCALLX:                                                         0402
*             CALL FCXIFACE;        /* GO SET UP FOR & GO TO EXEC    */
EOVCALLX BAL   @14,FCXIFACE                                        0402
*           END;                                                   0403
*       END;                                                       0404
@RF00400 DS    0H                                                  0405
*     RFY                                                          0405
*       RF UNRSTD;                  /* MAKE REG UNRESTRICTED         */
@RF00397 DS    0H                                                  0406
*     GEN(EJECT);                                                  0406
         EJECT
*                                                                  0407
*/********************************************************************/
*/*               POST FORCE CLOSE EXECUTOR PROCESSING               */
*/********************************************************************/
*                                                                  0407
*POSTFCX:                           /* POST EXECUTOR PROCESSING      */
*     SARETRY=ADDR(POSTFC);         /* SET SAVED REG 14 FOR RETRY    */
POSTFCX  LA    @15,POSTFC                                          0407
         ST    @15,SARETRY(,RD)                                    0407
*     IF IDAMB=ON THEN              /* IF AMB IS IN PROCESS    YM4652*/
         TM    IDAMB(RD),B'10000000'                               0408
         BO    @RT00408                                            0408
*       GOTO POSTFC;                /* GO TO END FORCE CLOSE         */
*     IF JFCORGAM=ON THEN           /* IF VSAM                       */
         TM    JFCORGAM+100(RCORE),B'00001000'                     0410
         BNO   @RF00410                                            0410
*       DO;                         /* THEN                          */
*         LIMIT=DIM(VSAM);          /* SET UP VSAM STRING            */
         MVI   LIMIT(RD),X'02'                                     0412
*         ARYPTR=ADDR(VSAM);                                       0413
         LA    @15,VSAM                                            0413
         ST    @15,ARYPTR(,RD)                                     0413
*       END;                                                       0414
*     ELSE                          /* NOT VSAM                      */
*       IF DCBMFECP=OFF&ACBDORGA=ON&(ACBAMETH='60'X×ACBDDNM=VTAMDDNM)
*         THEN                      /* IF VTAM THEN                  */
         B     @RC00410                                            0415
@RF00410 TM    DCBMFECP+40(R2),B'10000000'                         0415
         BNZ   @RF00415                                            0415
         TM    ACBDORGA(R2),B'00001000'                            0415
         BNO   @RF00415                                            0415
         CLI   ACBAMETH(R2),96                                     0415
         BE    @RT00415                                            0415
         CLC   ACBDDNM(8,R2),VTAMDDNM                              0415
         BNE   @RF00415                                            0415
@RT00415 DS    0H                                                  0416
*         DO;                                                      0416
*           LIMIT=DIM(VTAM);        /* SET UP VTAM STRING            */
         MVI   LIMIT(RD),X'02'                                     0417
*           ARYPTR=ADDR(VTAM);                                     0418
         LA    @15,VTAM                                            0418
         ST    @15,ARYPTR(,RD)                                     0418
*         END;                                                     0419
*       ELSE                        /* NOT VTAM                      */
*         IF TIOESYIN=ON×           /* IF A SPOOLED DATA SET         */
*             TIOESYOT=ON THEN      /* THEN                          */
         B     @RC00415                                            0420
@RF00415 TM    TIOESYIN-24(TIOTPTR),B'00000110'                    0420
         BZ    @RF00420                                            0420
*           IF ACBDORGA=ON THEN     /* IF AN ACB THEN                */
         TM    ACBDORGA(R2),B'00001000'                            0421
         BNO   @RF00421                                            0421
*             DO;                                                  0422
*               LIMIT=DIM(SPACB);   /* SET UP SPOOLED ACB STRING     */
         MVI   LIMIT(RD),X'06'                                     0423
*               ARYPTR=ADDR(SPACB);                                0424
         LA    @15,SPACB                                           0424
         ST    @15,ARYPTR(,RD)                                     0424
*             END;                                                 0425
*           ELSE                    /* NOT AN ACB                    */
*             DO;                                                  0426
         B     @RC00421                                            0426
@RF00421 DS    0H                                                  0427
*               LIMIT=DIM(SPDCB);   /* SET UP SPOOLED DCB STRING     */
         MVI   LIMIT(RD),X'03'                                     0427
*               ARYPTR=ADDR(SPDCB);                                0428
         LA    @15,SPDCB                                           0428
         ST    @15,ARYPTR(,RD)                                     0428
*             END;                                                 0429
*         ELSE                      /* NOT A SPOOLED DATA SET        */
*           IF UCBPTR=0×            /* IF NO UCB ADDRESS OR          */
*               DXJBF(1:8)=NULLFILE THEN/* DSNAME IS NULLFILE THEN   */
         B     @RC00420                                            0430
@RF00420 LTR   UCBPTR,UCBPTR                                       0430
         BZ    @RT00430                                            0430
         CLC   DXJBF(8,RCORE),NULLFILE                             0430
         BNE   @RF00430                                            0430
@RT00430 DS    0H                                                  0431
*             DO;                                                  0431
*               LIMIT=DIM(DUMMY);   /* SET UP DUMMY DATA SET STRING  */
         MVI   LIMIT(RD),X'08'                                     0432
*               ARYPTR=ADDR(DUMMY);                                0433
         LA    @15,DUMMY                                           0433
         ST    @15,ARYPTR(,RD)                                     0433
*             END;                                                 0434
*           ELSE                    /* NOT DUMMY DATA SET            */
*             IF UCB3TAPE=ON THEN   /* IF TAPE DATA SET THEN         */
         B     @RC00430                                            0435
@RF00430 TM    UCB3TAPE(UCBPTR),B'10000000'                        0435
         BNO   @RF00435                                            0435
*               IF UCBNOTRD=ON THEN /* IF UNIT IS NOT READY THEN     */
         TM    UCBNOTRD(UCBPTR),B'01000000'                        0436
         BNO   @RF00436                                            0436
*                 DO;                                              0437
*                   LIMIT=DIM(TAPNR);/* SET TAPE NOT READY     STRING*/
         MVI   LIMIT(RD),X'0B'                                     0438
*                   ARYPTR=ADDR(TAPNR);                            0439
         LA    @15,TAPNR                                           0439
         ST    @15,ARYPTR(,RD)                                     0439
*                 END;                                             0440
*               ELSE                /* TAPE UNIT READY               */
*                 IF UCBDADI=ON×    /* IF SL TAPE OR                 */
*                     UCBBSTR=ON THEN/* IF AL TAPE THEN              */
         B     @RC00436                                            0441
@RF00436 TM    UCBDADI(UCBPTR),B'00000001'                         0441
         BO    @RT00441                                            0441
         TM    UCBBSTR(UCBPTR),B'00000100'                         0441
         BNO   @RF00441                                            0441
@RT00441 DS    0H                                                  0442
*                   IF DCBOFLWR=OFF THEN/* IF NOT FOR OUTPUT THEN    */
         TM    DCBOFLWR+40(R2),B'10000000'                         0442
         BNZ   @RF00442                                            0442
*                     DO;                                          0443
*                       LIMIT=DIM(TAPSLIN);/* SET SL TAPE INPUT      */
         MVI   LIMIT(RD),X'0D'                                     0444
*                       ARYPTR=ADDR(TAPSLIN);                      0445
         LA    @15,TAPSLIN                                         0445
         ST    @15,ARYPTR(,RD)                                     0445
*                     END;                                         0446
*                   ELSE            /* SL OR AL TAPE FOR OUTPUT      */
*                     DO;                                          0447
         B     @RC00442                                            0447
@RF00442 DS    0H                                                  0448
*                       LIMIT=DIM(TAPSLOUT);/* SET SL TAPE OUTPUT    */
         MVI   LIMIT(RD),X'0E'                                     0448
*                       ARYPTR=ADDR(TAPSLOUT);                     0449
         LA    @15,TAPSLOUT                                        0449
         ST    @15,ARYPTR(,RD)                                     0449
*                     END;                                         0450
*                 ELSE              /* NEITHER SL NOR AL TAPE        */
*                   DO;                                            0451
         B     @RC00441                                            0451
@RF00441 DS    0H                                                  0452
*                     LIMIT=DIM(TAPNL);/* SET NL/NSL TAPE STRING     */
         MVI   LIMIT(RD),X'0E'                                     0452
*                     ARYPTR=ADDR(TAPNL);                          0453
         LA    @15,TAPNL                                           0453
         ST    @15,ARYPTR(,RD)                                     0453
*                   END;                                           0454
*             ELSE                  /* NOT A TAPE DATA SET           */
*               IF UCB3DACC=ON THEN /* IF DIRECT ACCESS DATA SET     */
         B     @RC00435                                            0455
@RF00435 TM    UCB3DACC(UCBPTR),B'00100000'                        0455
         BNO   @RF00455                                            0455
*                 IF(DCBMFECP=ON&   /* IF EXCP DCB DEVICE            */
*                     DCBMF5WD=OFF& /* DEPENDENT SECTION             */
*                     DCBMF4WD=OFF)×/* IS NOT PRESENT OR             */
*                     (DCBDSGPS=OFF&/* DSORG IS NOT PS &       YM6520*/
*                     DCBDSGPO=OFF)×/* NOT PO OR               YM6520*/
*                     DCBOFLWR=OFF THEN/* NOT AN OUTPUT DATA SET     */
         LA    @15,40                                              0456
         ALR   @15,R2                                              0456
         TM    DCBMFECP(@15),B'10000000'                           0456
         BNO   @GL00026                                            0456
         TM    DCBMF5WD(@15),B'00001100'                           0456
         BZ    @RT00456                                            0456
@GL00026 TM    DCBDSGPS+16(R2),B'01000010'                         0456
         BZ    @RT00456                                            0456
         TM    DCBOFLWR+40(R2),B'10000000'                         0456
         BNZ   @RF00456                                            0456
@RT00456 DS    0H                                                  0457
*                   DO;             /* THEN                          */
*                     LIMIT=DIM(DA1);/* SET DIRECT ACCESS            */
         MVI   LIMIT(RD),X'0C'                                     0458
*                     ARYPTR=ADDR(DA1);/* STRING 1                   */
         LA    @15,DA1                                             0459
         ST    @15,ARYPTR(,RD)                                     0459
*                   END;                                           0460
*                 ELSE              /* OUTPUT PS OR PO DATA SET      */
*                   DO;                                            0461
         B     @RC00456                                            0461
@RF00456 DS    0H                                                  0462
*                     LIMIT=DIM(DA3);/* SET DIRECT ACCESS            */
         MVI   LIMIT(RD),X'0E'                                     0462
*                     ARYPTR=ADDR(DA3);/* STRING 3                   */
         LA    @15,DA3                                             0463
         ST    @15,ARYPTR(,RD)                                     0463
*                   END;                                           0464
*               ELSE                /* NOT DIRECT ACCESS             */
*                 DO;                                              0465
         B     @RC00455                                            0465
@RF00455 DS    0H                                                  0466
*                   LIMIT=DIM(OTHER);/* SET STRING FOR ALL           */
         MVI   LIMIT(RD),X'0B'                                     0466
*                   ARYPTR=ADDR(OTHER);/* OTHER CASES                */
         LA    @15,OTHER                                           0467
         ST    @15,ARYPTR(,RD)                                     0467
*                 END;                                             0468
*     GEN(EJECT);                                                  0469
@RC00455 DS    0H                                                  0469
@RC00435 DS    0H                                                  0469
@RC00430 DS    0H                                                  0469
@RC00420 DS    0H                                                  0469
@RC00415 DS    0H                                                  0469
@RC00410 DS    0H                                                  0469
         EJECT
*                                                                  0470
*/********************************************************************/
*/*                CALL FORCE CLOSE SUBROUTINE STRING                */
*/********************************************************************/
*                                                                  0470
*CALLSUBS:                          /* CALL SUBROUTINE STRING        */
*     SARETRY=ADDR(RETCALL);        /* SET SAVED RETRY ADDRESS       */
CALLSUBS LA    @15,RETCALL                                         0470
         ST    @15,SARETRY(,RD)                                    0470
*     RR1RETRY=ADDR(RETRY0B);       /* SET UP RETRY ADDR             */
         LA    @15,RETRY0B                                         0471
         ST    @15,RR1RETRY(,RRRF)                                 0471
*     DO I=1 TO LIMIT;              /* DO LOOP TO CALL SUBROUTINES   */
         LA    @15,1                                               0472
         B     @DE00472                                            0472
@DL00472 DS    0H                                                  0473
*       RFY                                                        0473
*         RET UNRSTD;               /* MAKE REG UNRESTRICTED         */
*       RFY                                                        0474
*         RF RSTD;                  /* RESTRICT REG                  */
*       RF=DUMARY(I);               /* GET PTR TO SUBROUTINE         */
         LH    @14,I(,RD)                                          0475
         SLA   @14,2                                               0475
         L     @01,ARYPTR(,RD)                                     0475
         AL    @01,@CF04442                                        0475
         L     RF,DUMARY(@14,@01)                                  0475
*       CALL SUB;                   /* CALL SUBROUTINE               */
         BALR  @14,@15                                             0476
*       RFY                                                        0477
*         RET RSTD;                 /* MAKE REG UNRESTRICTED         */
*       RFY                                                        0478
*         RF UNRSTD;                /* MAKE REG UNRESTRICTED         */
*RETCALL:                           /* RETURN FROM SUBROUTINE        */
*     END;                                                         0479
*                                                                  0479
RETCALL  LA    @15,1                                               0479
         AH    @15,I(,RD)                                          0479
@DE00472 STH   @15,I(,RD)                                          0479
         SLR   @14,@14                                             0479
         IC    @14,LIMIT(,RD)                                      0479
         CR    @15,@14                                             0479
         BNH   @DL00472                                            0479
*/********************************************************************/
*/*                     END OF FORCE CLOSE LOOP                      */
*/********************************************************************/
*                                                                  0480
*POSTFC:                            /* END OF FORCE CLOSE LOOP       */
*   END;                            /* FORCE CLOSE COMPLETED         */
POSTFC   DS    0H                                                  0480
@DE00316 TM    RRFFINFC(RRRF),B'00100000'                          0480
         BZ    @DL00316                                            0480
*   RFY                                                            0481
*     RF RSTD;                      /* RESTRICT REG                  */
*   RF=RR0E(9:12);                  /* GET PTR TO CLEAN UP MODULE    */
         ICM   RF,15,RR0E+8                                        0482
*   GEN(BR    RF);                  /* BRANCH TO CLEAN UP MODULE     */
         BR    RF
*   RFY                                                            0484
*     RF UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   GEN(EJECT);                                                    0485
         EJECT
*                                                                  0486
*/********************************************************************/
*/*                 SELECT A DCB/ACB TO FORCE CLOSE                  */
*/********************************************************************/
*                                                                  0486
*SELECT:                                                           0486
*   PROC OPTIONS(NOSAVEAREA);                                      0486
         B     @PB00002                                            0486
SELECT   STM   @14,@12,12(@13)                                     0486
*   RFY                                                            0487
*    (R1,                                                          0487
*     RET) UNRSTD;                  /* MAKE REGS UNRESTRICTED        */
*   TRRRWTGC=TRRRWTGC+LENGTH(WTGENTRY);/* PT TO CURR WTG ENTRY       */
         LA    @15,8                                               0488
         L     @14,TRRRWTGC(,RD)                                   0488
         ALR   @14,@15                                             0488
         ST    @14,TRRRWTGC(,RD)                                   0488
*   IF TRRRWTGC<(IECRRPRM-8) THEN   /* IF VALID WTG ENTRY THEN       */
         L     @01,WTGPREFX(,RWTG)                                 0489
         LCR   @15,@15                                             0489
         AL    @15,IECRRPRM(,@01)                                  0489
         CR    @14,@15                                             0489
         BNL   @RF00489                                            0489
*     DO;                                                          0490
*       RWTGC=TRRRWTGC;             /* GET WTG ENTRY ADDR            */
         LR    RWTGC,@14                                           0491
*       RCORE=WTGCORE;              /* GET WORK AREA PTR             */
         L     RCORE,WTGCORE-1(,RWTGC)                             0492
         LA    RCORE,0(,RCORE)                                     0492
*       IF RCORE^=0 THEN            /* IF WORK AREA PTR NOT 0 THEN   */
         LTR   RCORE,RCORE                                         0493
         BZ    @RF00493                                            0493
*         DO;                                                      0494
*           R2=DXPDCBAD;            /* GET DCB/ACB PTR               */
         L     R2,DXPDCBAD(,RCORE)                                 0495
*           IF DCBOFOPN=ON THEN     /* INSURE DCB IS OPEN    @ZA26953*/
         TM    DCBOFOPN+40(R2),B'00010000'                         0496
         BNO   @RF00496                                            0496
*             DO;                                                  0497
*               TIOTPTR=DXTIOTAD;   /* GET TIOT DD ENTRY PTR         */
         L     TIOTPTR,DXTIOTAD(,RCORE)                            0498
*               IF DXUCBSVV^=0 THEN /* GET 1ST UCB PTR FROM SAVED    */
         L     @15,DXUCBSVV-1(,RCORE)                              0499
         LA    @15,0(,@15)                                         0499
         LTR   @15,@15                                             0499
         BZ    @RF00499                                            0499
*                 UCBPTR=DXUCBSVV;  /* UCB PTR FIELD                 */
         LR    UCBPTR,@15                                          0500
*               ELSE                /* OTHERWISE CURRENT UCB PTR     */
*                 UCBPTR=DXUCBADR;  /* IS 1ST UCB PTR                */
         B     @RC00499                                            0501
@RF00499 L     UCBPTR,DXUCBADR(,RCORE)                             0501
*               IF DXPDCBAD=DXUDCBAD THEN/* IF DCB NOT COPIED THEN   */
@RC00499 CLC   DXPDCBAD(4,RCORE),DXUDCBAD(RCORE)                   0502
         BNE   @RF00502                                            0502
*                 DO;                                              0503
*                   IF RRFUNCTN=RRFEOV×/* IF AN EOV ENTRY OR         */
*                       RRFUNCTN=RRFFEOV THEN/* AN FEOV ENTRY THEN   */
         CLI   RRFUNCTN(RRRF),X'37'                                0504
         BE    @RT00504                                            0504
         CLI   RRFUNCTN(RRRF),X'1F'                                0504
         BNE   @RF00504                                            0504
@RT00504 DS    0H                                                  0505
*                     DO;                                          0505
*                       GEN(MODESET EXTKEY=ZERO);/* SET KEY ZERO   0506
*                                                              YM7871*/
         MODESET EXTKEY=ZERO
*                       IF DCBMFECP=OFF&/* IF                        */
*                           ACBDORGA=ON&/* AN                        */
*                           R2->AMBID(1)=ON THEN/* AMB EXISTS THEN   */
         LA    @15,40                                              0507
         ALR   @15,R2                                              0507
         TM    DCBMFECP(@15),B'10000000'                           0507
         BNZ   @RF00507                                            0507
         TM    ACBDORGA(R2),B'00001000'                            0507
         BNO   @RF00507                                            0507
         TM    AMBID(R2),B'10000000'                               0507
         BNO   @RF00507                                            0507
*                         DO;                                      0508
*                           IDAMB=ON;/* SHOW AMB IN PROCESS    YM4652*/
         OI    IDAMB(RD),B'10000000'                               0509
*                           DEBPTR=DCBDEBA;/* GET DEB PTR FROM AMB   */
         L     DEBPTR,DCBDEBA-1(,@15)                              0510
         LA    DEBPTR,0(,DEBPTR)                                   0510
*                           SAREG11=DEBPTR;/* SAVE DEB PTR FOR CALLER*/
         ST    DEBPTR,SAREG11(,RD)                                 0511
*                           SARETRY=ADDR(SELTFIN);/* RESET RETURN PTR*/
         LA    @15,SELTFIN                                         0512
         ST    @15,SARETRY(,RD)                                    0512
*                         END;                                     0513
*                       GEN(MODESET EXTKEY=DATAMGT);/* SET KEY 5   0514
*                                                              YM7871*/
@RF00507 DS    0H                                                  0514
         MODESET EXTKEY=DATAMGT
*                     END;                                         0515
*                 END;                                             0516
*               ELSE                /* DCB COPY EXISTS               */
*                 SARETRY=ADDR(SELTFIN);/* RESET RETURN ADDR         */
         B     @RC00502                                            0517
@RF00502 LA    @15,SELTFIN                                         0517
         ST    @15,SARETRY(,RD)                                    0517
*               SAREG2=R2;          /* SAVE DCB/ACB PTR FOR CALLER   */
@RC00502 ST    R2,SAREG2(,RD)                                      0518
*               SAREG4=RCORE;       /* SAVE WORK AREA PTR      YM4690*/
         ST    RCORE,SAREG4(,RD)                                   0519
*               SAREG9=TIOTPTR;     /* SAVE TIOT PTR FOR CALLER      */
         ST    TIOTPTR,SAREG9(,RD)                                 0520
*               SAREG10=UCBPTR;     /* SAVE UCB PTR FOR CALLER       */
         ST    UCBPTR,SAREG10(,RD)                                 0521
*             END;                                                 0522
*         END;                                                     0523
*       ELSE                                                       0524
*         ;                                                        0524
@RF00493 DS    0H                                                  0525
*     END;                                                         0525
*   ELSE                                                           0526
*     SARETRY=ADDR(SELTFIN);        /* RESET RETURN ADDR             */
         B     @RC00489                                            0526
@RF00489 LA    @15,SELTFIN                                         0526
         ST    @15,SARETRY(,RD)                                    0526
*   RFY                                                            0527
*    (R1,                                                          0527
*     RET) RSTD;                    /* RESTRICT REGS                 */
*   END SELECT;                     /* RETURN TO CALLER              */
@EL00002 DS    0H                                                  0528
@EF00002 DS    0H                                                  0528
@ER00002 LM    @14,@12,12(@13)                                     0528
         BR    @14                                                 0528
@PB00002 DS    0H                                                  0529
*   GEN(EJECT);                                                    0529
         EJECT
*                                                                  0530
*/********************************************************************/
*/*                     FIND A VALID DEB POINTER                     */
*/********************************************************************/
*                                                                  0530
*DEBVALCK:                                                         0530
*   PROC OPTIONS(NOSAVEAREA);                                      0530
         B     @PB00003                                            0530
DEBVALCK STM   @14,@12,12(@13)                                     0530
*   RFY                                                            0531
*     R1 RSTD;                                                     0531
*   IGBIT=ON;                       /* 2ND LEVEL TRR IS TO IGNORE ANY
*                                      ERROR OCCURRING IN THIS 1ST 0532
*                                      LEVEL SUBROUTINE        YM4652*/
         OI    IGBIT(RD),B'01000000'                               0532
*   DEBPTR=DCBDEBA;                 /* GET DEB PTR FROM DCB    YM7806*/
         L     DEBPTR,DCBDEBA+39(,R2)                              0533
         LA    DEBPTR,0(,DEBPTR)                                   0533
*   IF DEBPTR^=0&                   /* IF A DEB PTR EXISTS &   YM5719*/
*       DEBPTR^=RCORE THEN          /* IS NOT EQUAL TO THE OPEN WORK
*                                      AREA PTR THEN           YM5719*/
         LTR   DEBPTR,DEBPTR                                       0534
         BZ    @RF00534                                            0534
         CR    DEBPTR,RCORE                                        0534
         BE    @RF00534                                            0534
*     DO;                                                          0535
*       GEN(LRA   R1,0(,DEBPTR));   /* CHK REAL ADDR OF DEB    YM7806*/
         LRA   R1,0(,DEBPTR)
*       BC(5,DEBVAL1);              /* BR IF INVALID SEGMENT TABLE 0537
*                                      ENTRY OR INVALID SEGMENT OR 0537
*                                      PAGE TABLE LENGTH       YM7806*/
         BC    5,DEBVAL1                                           0537
*       R1=0;                       /* INIT REG TO ZERO        YM5719*/
         SLR   R1,R1                                               0538
*       IF DEBDCBB=DXUACBAD THEN    /* IF DEB PTS TO USER'S DCB THEN
*                                                              YM5948*/
         CLC   DEBDCBB(3,DEBPTR),DXUACBAD(RCORE)                   0539
         BNE   @RF00539                                            0539
*         R1=DXUACBAD;              /* PT TO USER'S DCB        YM5719*/
         L     R1,DXUACBAD-1(,RCORE)                               0540
         LA    R1,0(,R1)                                           0540
*       ELSE                        /* DEB MAY PT TO DCB COPY  YM5719*/
*         IF DEBDCBB=R2 THEN        /* IF DEB PTS TO DCB COPY  YM5719*/
         B     @RC00539                                            0541
@RF00539 L     @15,DEBDCBB-1(,DEBPTR)                              0541
         LA    @15,0(,@15)                                         0541
         CR    R2,@15                                              0541
         BNE   @RF00541                                            0541
*           R1=R2;                  /* THEN PT TO DCB COPY     YM5719*/
         LR    R1,R2                                               0542
*       IF R1^=0 THEN               /* IF DEB ADDR EXISTS THEN YM5719*/
@RF00541 DS    0H                                                  0543
@RC00539 LTR   R1,R1                                               0543
         BZ    @RF00543                                            0543
*         DO;                                                      0544
*           IF DXATCLOS=0 THEN      /* IF DEB NOT YET DELETED FR DEB
*                                      TABLE BY CLOSE THEN     YM7806*/
         CLI   DXATCLOS(RCORE),0                                   0545
         BNE   @RF00545                                            0545
*             GEN(DEBCHK (1),TYPE=VERIFY);/* VERIFY DEB PTR          */
         DEBCHK (1),TYPE=VERIFY
*           ELSE                    /* DEB DELETED FR DEB TBL  YM7806*/
*             IF DXATCLOS<48 THEN   /* IF DEB NOT YET FREED    YM7806*/
         B     @RC00545                                            0547
@RF00545 CLI   DXATCLOS(RCORE),48                                  0547
         BNL   @RF00547                                            0547
*               R1=DCBDEBA;         /* THEN USE DCB DEB PTR    YM7806*/
         L     R1,DCBDEBA+39(,R2)                                  0548
         LA    R1,0(,R1)                                           0548
*             ELSE                  /* DEB FREED BY CLOSE      YM7806*/
*               R1=0;               /* INDICATE NO DEB ADDR    YM7806*/
         B     @RC00547                                            0549
@RF00547 SLR   R1,R1                                               0549
*           SAREG11=R1;             /* SAVE DEB PTR FOR CALLER       */
@RC00547 DS    0H                                                  0550
@RC00545 ST    R1,SAREG11(,RD)                                     0550
*         END;                                                     0551
*     END;                          /*                         YM5719*/
@RF00543 DS    0H                                                  0553
*DEBVAL1:                           /* LBL FOR LRA INSTR BR    YM7806*/
*   IGBIT=OFF;                      /* RESET IGNORE FLAG       YM4652*/
@RF00534 DS    0H                                                  0553
DEBVAL1  NI    IGBIT(RD),B'10111111'                               0553
*   RFY                                                            0554
*     R1 UNRSTD;                                                   0554
*   END DEBVALCK;                   /* RETURN TO CALLER              */
@EL00003 DS    0H                                                  0555
@EF00003 DS    0H                                                  0555
@ER00003 LM    @14,@12,12(@13)                                     0555
         BR    @14                                                 0555
@PB00003 DS    0H                                                  0556
*   GEN(EJECT);                                                    0556
         EJECT
*                                                                  0557
*/********************************************************************/
*/*        DETERMINE IF RECOVERY EXECUTOR SHOULD GET CONTROL         */
*/********************************************************************/
*                                                                  0557
*CTRLCHK:                                                          0557
*   PROC OPTIONS(NOSAVEAREA);                                      0557
         B     @PB00004                                            0557
CTRLCHK  STM   @14,@12,12(@13)                                     0557
*   RFY                                                            0558
*     RF RSTD;                      /* RESTRICT REG                  */
*   IF RRFUNCTN=RRFOPEN×            /* IF ENTRY FROM OPEN OR         */
*       RRFUNCTN=RRFOPENJ THEN      /* ENTRY FROM OPEN TYPE=J THEN   */
         CLI   RRFUNCTN(RRRF),X'13'                                0559
         BE    @RT00559                                            0559
         CLI   RRFUNCTN(RRRF),X'16'                                0559
         BNE   @RF00559                                            0559
@RT00559 DS    0H                                                  0560
*     IF DXATVGIV=ALLOFF3&          /* IF AN OPEN A.M. STRING WAS NOT
*                                      YET GIVEN CONTROL AND         */
*         RRFAMEXG=OFF THEN         /* THE 1ST OPEN A.M. EXEC WAS NOT
*                                      YET GIVEN CONTROL THEN        */
         TM    DXATVGIV(RCORE),B'00001110'                         0560
         BNZ   @RF00560                                            0560
         TM    RRFAMEXG(RRRF),B'00100000'                          0560
         BNZ   @RF00560                                            0560
*       RF=1;                       /* SET RETURN CODE TO BYPASS   0561
*                                      RECOVERY EXEC PROCESSING      */
         LA    RF,1                                                0561
*     ELSE                          /* OTHERWISE                     */
*       RF=0;                       /* SET RETURN CODE TO UNDERGO  0562
*                                      RECOVERY EXEC PROCESSING      */
         B     @RC00560                                            0562
@RF00560 SLR   RF,RF                                               0562
*   ELSE                            /* ENTRY FROM CLOSE OR TCLOSE    */
*     IF DXATVGIV=ALLOFF3&          /* IF A CLOSE A.M. STRING DID NOT
*                                      YET RETURN CONTROL AND        */
*         RRFAMEXR=OFF THEN         /* THE CLOSE A.M. EXECUTORS DID
*                                      NOT YET RETURN CONTROL THEN   */
         B     @RC00559                                            0563
@RF00559 TM    DXATVGIV(RCORE),B'00001110'                         0563
         BNZ   @RF00563                                            0563
         TM    RRFAMEXR(RRRF),B'00010000'                          0563
         BNZ   @RF00563                                            0563
*       RF=0;                       /* SET RETURN CODE TO UNDERGO  0564
*                                      RECOVERY EXEC PROCESSING      */
         SLR   RF,RF                                               0564
*     ELSE                          /* OTHERWISE                     */
*       RF=1;                       /* SET RETURN CODE TO BYPASS   0565
*                                      RECOVERY EXEC PROCESSING      */
         B     @RC00563                                            0565
@RF00563 LA    RF,1                                                0565
*   SAREG15=RF;                     /* SAVE RETURN CODE FOR CALLER   */
@RC00563 DS    0H                                                  0566
@RC00559 ST    RF,SAREG15(,RD)                                     0566
*   RFY                                                            0567
*     RF UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   END CTRLCHK;                    /* RETURN TO CALLER              */
@EL00004 DS    0H                                                  0568
@EF00004 DS    0H                                                  0568
@ER00004 LM    @14,@12,12(@13)                                     0568
         BR    @14                                                 0568
@PB00004 DS    0H                                                  0569
*   GEN(EJECT);                                                    0569
         EJECT
*                                                                  0570
*/********************************************************************/
*/*       DETERMINE WHICH RECOVERY EXECUTOR SHOULD GET CONTROL       */
*/********************************************************************/
*                                                                  0570
*FCXCHK:                                                           0570
*   PROC OPTIONS(NOSAVEAREA);                                      0570
         B     @PB00005                                            0570
FCXCHK   STM   @14,@12,12(@13)                                     0570
*   RFY                                                            0571
*     RF RSTD;                      /* RESTRICT REG                  */
*   IF DCBMFECP=ON THEN             /* IF EXCP THEN                  */
         TM    DCBMFECP+40(R2),B'10000000'                         0572
         BNO   @RF00572                                            0572
*     RF=0;                         /* INDICATE NO EXEC SELECTED     */
         SLR   RF,RF                                               0573
*   ELSE                            /* NOT EXCP                      */
*     IF ACBDORGA=ON THEN           /* IF AN ACB THEN                */
         B     @RC00572                                            0574
@RF00572 TM    ACBDORGA(R2),B'00001000'                            0574
         BNO   @RF00574                                            0574
*       IF ACBAMETH='60'X×          /* IF VTAM ACB                   */
*           ACBDDNM=VTAMDDNM THEN   /* THEN                          */
         CLI   ACBAMETH(R2),96                                     0575
         BE    @RT00575                                            0575
         CLC   ACBDDNM(8,R2),VTAMDDNM                              0575
         BNE   @RF00575                                            0575
@RT00575 DS    0H                                                  0576
*         RF=0;                     /* INDICATE NO EXEC SELECTED     */
         SLR   RF,RF                                               0576
*       ELSE                        /* NOT VTAM ACB                  */
*         IF TIOESYIN=ON×           /* IF SPOOLED ACB                */
*             TIOESYOT=ON THEN      /* THEN                          */
         B     @RC00575                                            0577
@RF00575 TM    TIOESYIN-24(TIOTPTR),B'00000110'                    0577
         BZ    @RF00577                                            0577
*           RF=ADDR(HASPX);         /* PT TO HASP EXECUTOR NAME      */
         LA    RF,HASPX                                            0578
*         ELSE                      /* NOT SPOOLED ACB               */
*           IF JFCORGAM=ON THEN     /* IF VSAM ACB THEN              */
         B     @RC00577                                            0579
@RF00577 TM    JFCORGAM+100(RCORE),B'00001000'                     0579
         BNO   @RF00579                                            0579
*             RF=ADDR(VSAMX);       /* PT TO VSAM EXECUTOR NAME      */
         LA    RF,VSAMX                                            0580
*           ELSE                    /* NOT VSAM ACB                  */
*             RF=0;                 /* INDICATE NO EXEC SELECTED     */
         B     @RC00579                                            0581
@RF00579 SLR   RF,RF                                               0581
*     ELSE                          /* NOT AN ACB                    */
*       IF TIOESYIN=ON×             /* IF SPOOLED DCB                */
*           TIOESYOT=ON THEN        /* THEN                          */
         B     @RC00574                                            0582
@RF00574 TM    TIOESYIN-24(TIOTPTR),B'00000110'                    0582
         BZ    @RF00582                                            0582
*         RF=ADDR(HASPCIX);         /* PT TO HASP CI EXECUTOR NAME   */
         LA    RF,HASPCIX                                          0583
*       ELSE                        /* NOT SPOOLED DCB               */
*         IF DCBDSGIS=ON THEN       /* IF ISAM THEN                  */
         B     @RC00582                                            0584
@RF00582 TM    DCBDSGIS+16(R2),B'10000000'                         0584
         BNO   @RF00584                                            0584
*           IF JFCORGAM=ON THEN     /* IF VSAM DATA SET THEN         */
         TM    JFCORGAM+100(RCORE),B'00001000'                     0585
         BNO   @RF00585                                            0585
*             RF=ADDR(ISAMCIX);     /* PT TO ISAM CI EXECUTOR NAME   */
         LA    RF,ISAMCIX                                          0586
*           ELSE                    /* ISAM                          */
*             RF=ADDR(ISAMX);       /* PT TO ISAM EXECUTOR NAME      */
         B     @RC00585                                            0587
@RF00585 LA    RF,ISAMX                                            0587
*         ELSE                      /* NOT ISAM                      */
*           IF DCBDSGPS=ON×         /* IF DSORG = PS OR              */
*               DCBDSGPO=ON×        /* DSORG = PO OR                 */
*               DCBDSGDA=ON THEN    /* DSORG = DIRECT THEN           */
         B     @RC00584                                            0588
@RF00584 TM    DCBDSGPS+16(R2),B'01100010'                         0588
         BZ    @RF00588                                            0588
*             RF=ADDR(SAMDAMX);     /* PT TO SAM/DAM EXECUTOR NAME   */
         LA    RF,SAMDAMX                                          0589
*           ELSE                    /* DSORG NOT PS, PO NOR DIRECT   */
*             IF DCBDSGGS=ON THEN   /* IF DSORG = GAM THEN           */
         B     @RC00588                                            0590
@RF00588 TM    DCBDSGGS+16(R2),B'10000000'                         0590
         BNO   @RF00590                                            0590
*               RF=ADDR(GAMX);      /* PT TO GAM EXECUTOR NAME       */
         LA    RF,GAMX                                             0591
*             ELSE                  /* NONE OF THE ABOVE APPLY       */
*               RF=0;               /* INDICATE NO EXEC SELECTED     */
         B     @RC00590                                            0592
@RF00590 SLR   RF,RF                                               0592
*   SAREG15=RF;                     /* SAVE INDICATOR FOR CALLER     */
@RC00590 DS    0H                                                  0593
@RC00588 DS    0H                                                  0593
@RC00584 DS    0H                                                  0593
@RC00582 DS    0H                                                  0593
@RC00574 DS    0H                                                  0593
@RC00572 ST    RF,SAREG15(,RD)                                     0593
*   RFY                                                            0594
*     RF UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   END FCXCHK;                     /* RETURN TO CALLER              */
@EL00005 DS    0H                                                  0595
@EF00005 DS    0H                                                  0595
@ER00005 LM    @14,@12,12(@13)                                     0595
         BR    @14                                                 0595
@PB00005 DS    0H                                                  0596
*   GEN(EJECT);                                                    0596
         EJECT
*                                                                  0597
*/********************************************************************/
*/*                    CALL FORCE CLOSE EXECUTOR                     */
*/********************************************************************/
*                                                                  0597
*FCXIFACE:                                                         0597
*   PROC OPTIONS(NOSAVEAREA);                                      0597
         B     @PB00006                                            0597
FCXIFACE STM   @14,@12,12(@13)                                     0597
*   RFY                                                            0598
*     RF RSTD;                      /* RESTRICT REG                  */
*   IF FCXNAME=HASPX THEN           /* IF HASP EXECUTOR WAS CHOSEN   */
         CLC   FCXNAME(12,RF),HASPX                                0599
         BNE   @RF00599                                            0599
*     RC=ADDR(HASPSUB);             /* THEN PT TO HASP SUBROUTINE    */
         LA    RC,HASPSUB                                          0600
*   ELSE                            /* NOT HASP                      */
*     DO;                                                          0601
         B     @RC00599                                            0601
@RF00599 DS    0H                                                  0602
*       RA=RWTG;                    /* SAVE ORIGINAL WTG TBL ADDR    */
         LR    RA,RWTG                                             0602
*       RWTG=TRRWTGP;               /* PT TO TRR WTG TBL             */
         L     RWTG,TRRWTGP(,RD)                                   0603
*       RC=RF;                      /* PT TO EXECUTOR NAME           */
         LR    RC,RF                                               0604
*       RF=ADDR(TRRSAV2);           /* PT TO 2ND REG SAVE AREA FOR 0605
*                                      IECRES REG SAVING       YM4614*/
         LA    RF,TRRSAV2(,RD)                                     0605
*       GEN REFS(IECREGSV,IECEXTPR,IECPREFX,WTGMODNM,CVTDMSR,CVT); 0606
*        IECRES LOAD,EXTPR=(RF),MODNM=(RC),BRANCH=NO  FIND EPA   YM4614
*                                       OF RECOVERY EXECUTOR     YM4614
         LR    15,RF                    GET PTR TO EXT PREFIX
         STM   0,14,IECREGSV-IECEXTPR(15) SAVE REGISTERS
         LA    1,IECEXTPR-IECPREFX(0,0) BACK UP REGISTER 15 TO
         SR    15,1                     POINT TO START OF PREFIX
         MVC   WTGMODNM(12,6),0(RC)     MOVE MODULE NAME AND EPA
         LA    6,WTGMODNM(,6)           LOAD PTR TO WTG MODULE NAME
         L     5,CVTPTR                 LOAD ADDRESS OF CVT
         L     5,CVTDMSR-CVT(,5)        LOAD ADDRESS OF IFG019RA
         BAL   14,24(,5)                LOAD AND RETURN
         LM    0,14,IECREGSV-IECPREFX(15) RESTORE REGISTERS
*       IF RC->FCXNAME=HASPCIX THEN /* IF HASP CI EXEC WAS CHOSEN    */
         CLC   FCXNAME(12,RC),HASPCIX                              0607
         BNE   @RF00607                                            0607
*         SPDCBMSK=HEXZERO4;        /* THEN CLEAR SPOOLED DCB      0608
*                                      MODIFICATION MASK AREA        */
         MVC   SPDCBMSK(4,RD),HEXZERO4                             0608
*       RC=WTGMODEP;                /* PICK UP EXECUTOR EPA          */
@RF00607 L     RC,WTGMODEP(,RWTG)                                  0609
*       RWTG=RA;                    /* RESTORE ORIGINAL WTG TBL PT   */
         LR    RWTG,RA                                             0610
*       R5=RR1WRKAR;                /* PT TO WORK AREA FOR EXEC      */
         L     R5,RR1WRKAR(,RRRF)                                  0611
*     END;                                                         0612
*   RF=ADDR(TRRSAV2);               /* PT TO TRRSAV2                 */
@RC00599 LA    RF,TRRSAV2(,RD)                                     0613
*   RF->SACALLER=RD;                /* CHAIN TRRSAV1 TO TRRSAV2      */
         ST    RD,SACALLER(,RF)                                    0614
*   SACALLED=RF;                    /* CHAIN TRRSAV2 TO TRRSAV1      */
         ST    RF,SACALLED(,RD)                                    0615
*   RD=RF;                          /* PT TO TRRSAV2                 */
         LR    RD,RF                                               0616
*   RF=RC;                          /* GET EXECUTOR EPA              */
         LR    RF,RC                                               0617
*   RRFFCEXC=ON;                    /* RECOVERY EXEC IN CTRL YM7099  */
         OI    RRFFCEXC(RRRF),B'00010000'                          0618
*   CALL SUB;                       /* CALL FORCE CLOSE EXECUTOR     */
         BALR  @14,@15                                             0619
*FCXRETRN:                          /* FORCE CLOSE EXECUTOR RETURN   */
*   GEN(MODESET EXTKEY=DATAMGT);    /* INSURE KEY 5 ON RETURN  YM7871*/
FCXRETRN MODESET EXTKEY=DATAMGT
*   RRFFCEXC=OFF;                   /* BACK FR RECOVERY EXEC YM7099  */
         NI    RRFFCEXC(RRRF),B'11101111'                          0621
*   RD=SACALLER;                    /* RESTORE TRRSAV1 PTR           */
         L     RD,SACALLER(,RD)                                    0622
*   R5=SAREG5;                      /* RESTORE 2ND BASE REG          */
         L     R5,SAREG5(,RD)                                      0623
*   TRRWTG=RR0B;                    /* RESTORE MODULE NAME     YM7316*/
         MVC   TRRWTG(12,RD),RR0B                                  0624
*   IF RF=0×                        /* IF THE RECOVERY EXECUTOR      */
*       RF=4×                       /* RETURNED A VALID RETURN       */
*       RF=8 THEN                   /* CODE THEN                     */
         LTR   RF,RF                                               0625
         BZ    @RT00625                                            0625
         C     RF,@CF00129                                         0625
         BE    @RT00625                                            0625
         C     RF,@CF00069                                         0625
         BNE   @RF00625                                            0625
@RT00625 DS    0H                                                  0626
*     TRRWORK3=RF;                  /* SAVE CODE IN AUDIT TRAIL      */
         ST    RF,TRRWORK3(,RD)                                    0626
*   ELSE                            /* INVALID RETURN CODE           */
*     TRRWORK3=4;                   /* SET DEFAULT RETURN CODE       */
         B     @RC00625                                            0627
@RF00625 MVC   TRRWORK3(4,RD),@CF00129                             0627
*   IF DXATCOM4^=0 THEN             /* IF A CRSA EXISTS THEN         */
@RC00625 L     @01,DXATCOM4(,RCORE)                                0628
         LTR   @01,@01                                             0628
         BZ    @RF00628                                            0628
*     CRSFCXRC=TRRWORK3;            /* SAVE RETURN CODE IN CRSA      */
         L     @00,TRRWORK3(,RD)                                   0629
         STC   @00,CRSFCXRC(,@01)                                  0629
*   RFY                                                            0630
*     RF UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   END FCXIFACE;                   /* RETURN TO CALLER              */
@EL00006 DS    0H                                                  0631
@EF00006 DS    0H                                                  0631
@ER00006 LM    @14,@12,12(@13)                                     0631
         BR    @14                                                 0631
@PB00006 DS    0H                                                  0632
*   GEN(EJECT);                                                    0632
         EJECT
*                                                                  0633
*/********************************************************************/
*/*         SPOOLED DATA SET FORCE CLOSE EXECUTOR SUBROUTINE         */
*/********************************************************************/
*                                                                  0633
*HASPSUB:                                                          0633
*   PROC OPTIONS(NOSAVEAREA);                                      0633
         B     @PB00007                                            0633
HASPSUB  STM   @14,@12,12(@13)                                     0633
*   RFY                                                            0634
*    (R2,                                                          0634
*     RWTG,                                                        0634
*     SDWAPTR,                                                     0634
*     R9) UNRSTD;                   /* MAKE REGS UNRESTRICTED        */
*   RFY                                                            0635
*    (R0,                                                          0635
*     R1) RSTD;                     /* RESTRICT REGS                 */
*   IF RDEB^=0 THEN                 /* IF A DEB EXISTS THEN BUILD    */
         LTR   RDEB,RDEB                                           0636
         BZ    @RF00636                                            0636
*     DO;                           /* LINKAGE AND GO TO SUBSYSTEM 0637
*                                      VIA THE IEFSSREQ MACRO.       */
*       SSOBFUNC=SSOBCLOS;          /* FUNCTION ID                   */
         LA    @15,4                                               0638
         LA    @02,SSIBSUSE+36(,DEBPTR)                            0638
         ALR   @02,@15                                             0638
         MVC   SSOBFUNC(2,@02),@CH00377                            0638
*       SSDAJFCB=ADDR(DXJBF);       /* JFCB ADDRESS                  */
         LA    @07,SSOBINDV(,@02)                                  0639
         ALR   @07,@15                                             0639
         LA    @15,DXJBF(,RCORE)                                   0639
         ST    @15,SSDAJFCB(,@07)                                  0639
*       DXCCW1A=ADDR(SSOB)×'80000000'X;/* PARM LIST END              */
         O     @02,@CF04243                                        0640
         ST    @02,DXCCW1A(,RCORE)                                 0640
*       R1=ADDR(DXCCW1A);           /* PT TO LIST                    */
         LA    R1,DXCCW1A(,RCORE)                                  0641
*       RFY                                                        0642
*         RF RSTD;                  /* RESTRICT REG                  */
*       RF=ADDR(TRRSAV3);           /* PT TO TRRSAV3                 */
         LA    RF,TRRSAV3(,RD)                                     0643
*       RF->SACALLER=RD;            /* CHAIN TRRSAV2 TO TRRSAV3      */
         ST    RD,SACALLER(,RF)                                    0644
*       SACALLED=RF;                /* CHAIN TRRSAV3 TO TRRSAV2      */
         ST    RF,SACALLED(,RD)                                    0645
*       RD=RF;                      /* PT TO TRRSAV3                 */
         LR    RD,RF                                               0646
*       IF RRFUNCTN=RRFOPEN×        /* IF OPEN OR            @ZA02504*/
*           RRFUNCTN=RRFOPENJ THEN  /* IF OPENJ AND          @ZA02504*/
         CLI   RRFUNCTN(RRRF),X'13'                                0647
         BE    @RT00647                                            0647
         CLI   RRFUNCTN(RRRF),X'16'                                0647
         BNE   @RF00647                                            0647
@RT00647 DS    0H                                                  0648
*         IF DXEXHASP=ON THEN       /* IF HASP RETURNED      @ZA02504*/
         TM    DXEXHASP(RCORE),B'10000000'                         0648
         BNO   @RF00648                                            0648
*           DO;                     /* CALL HASP-CLEAN UP    @ZA02504*/
*             GEN(IEFSSREQ);        /* ISSUE MACRO CALL      @ZA02504*/
         IEFSSREQ
*           END;                                                   0651
*         ELSE                                                     0652
*           RF=0;                   /* SET RETURN CODE       @ZA02504*/
         B     @RC00648                                            0652
@RF00648 SLR   RF,RF                                               0652
*       ELSE                        /* IF CLOSE IN CNTROL    @ZA02504*/
*         IF DXEXHASP=OFF THEN      /* HASP NOT IN CNTRL     @ZA02504*/
         B     @RC00647                                            0653
@RF00647 TM    DXEXHASP(RCORE),B'10000000'                         0653
         BNZ   @RF00653                                            0653
*           DO;                     /* CALL HASP-CLEAN UP    @ZA02504*/
*             GEN(IEFSSREQ);        /* ISSUE MACRO CALL      @ZA02504*/
         IEFSSREQ
*           END;                                                   0656
*         ELSE                                                     0657
*           RF=0;                   /* SET RETURN CODE       @ZA02504*/
         B     @RC00653                                            0657
@RF00653 SLR   RF,RF                                               0657
*       RD=SACALLER;                /* RESTORE TRRSAV2 PTR           */
@RC00653 DS    0H                                                  0658
@RC00647 L     RD,SACALLER(,RD)                                    0658
*       IF RF=SSDMOK THEN           /* IF IEFSSREQ RET CODE = 0      */
         SLR   @02,@02                                             0659
         CR    RF,@02                                              0659
         BNE   @RF00659                                            0659
*         SAREG15=SSDMOK;           /* SET CALLERS RET CODE = 0      */
         ST    @02,SAREG15(,RD)                                    0660
*       ELSE                        /* IEFSSREQ RET CODE ^= 0        */
*         SAREG15=SSDMFAIL;         /* SET CALLERS RET CODE = 4      */
         B     @RC00659                                            0661
@RF00659 MVC   SAREG15(4,RD),@CF00129                              0661
*       RFY                                                        0662
*         RF UNRSTD;                /* MAKE REG UNRESTRICTED         */
@RC00659 DS    0H                                                  0663
*     END;                                                         0663
*   RFY                                                            0664
*    (R0,                                                          0664
*     R1) UNRSTD;                   /* MAKE REGS UNRESTRICTED        */
*   RFY                                                            0665
*    (R2,                                                          0665
*     RWTG,                                                        0665
*     SDWAPTR,                                                     0665
*     R9) RSTD;                     /* RESTRICT REGS                 */
*   END HASPSUB;                    /* RETURN TO CALLER              */
@EL00007 DS    0H                                                  0666
@EF00007 DS    0H                                                  0666
@ER00007 LM    @14,@12,12(@13)                                     0666
         BR    @14                                                 0666
@PB00007 DS    0H                                                  0667
*   GEN(EJECT);                                                    0667
         EJECT
*                                                                  0668
*/********************************************************************/
*/*  CALL IFG0554T TO FIND IF THE PREVIOUS VOLUME IS STILL MOUNTED   */
*/*  ON THE UNIT WHICH THE DEB IS OPEN TO.  IF FOUND, INCREMENT THE  */
*/*  UNIT'S DATA MANAGEMENT COUNT TO ALLOW FOR A LATER NORMAL CLOSE. */
*/********************************************************************/
*                                                                  0668
*PREVOLCK:                                                         0668
*   PROC OPTIONS(NOSAVEAREA);       /*                         YM7099*/
         B     @PB00008                                            0668
PREVOLCK STM   @14,@12,12(@13)                                     0668
*   RC=ADDR(EOVOLMOD);              /* PT TO IFG0554T MODNM & EPA    */
         LA    RC,EOVOLMOD                                         0669
*   CALL LOADSUB;                   /* GO PASS CONTROL TO IFG0554T   */
         BAL   @14,LOADSUB                                         0670
*PREVORET:                          /* RETURN FROM IFG0554T          */
*   END PREVOLCK;                   /* RETURN TO CALLER        YM7099*/
@EL00008 DS    0H                                                  0671
@EF00008 DS    0H                                                  0671
@ER00008 LM    @14,@12,12(@13)                                     0671
         BR    @14                                                 0671
@PB00008 DS    0H                                                  0672
*   GEN(EJECT);                                                    0672
         EJECT
*                                                                  0673
*/********************************************************************/
*/*                 ISSUE IECRES LOAD,BRANCH=DIRECT                  */
*/********************************************************************/
*                                                                  0673
*LOADSUB:                                                          0673
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0673
         B     @PB00009                                            0673
LOADSUB  DS    0H                                                  0674
*   RWTG=TRRWTGP;                   /* PT TO TRR WTG TBL             */
         L     RWTG,TRRWTGP(,RD)                                   0674
*   RFY                                                            0675
*     R0 RSTD;                      /* RESTRICT REG                  */
*   STM(R0,RET,TRRSAV2);            /* SAVE THIS SUBROUTINE'S REGS   */
         STM   R0,RET,TRRSAV2(RD)                                  0676
*   RFY                                                            0677
*     R0 UNRSTD;                    /* MAKE REG UNRSTD               */
*   RRFWORK=ADDR(TRRSAV2);          /* SAVE PTR TO SAVE AREA USED BY
*                                      THIS SUBROUTINE               */
         LA    @15,TRRSAV2(,RD)                                    0678
         ST    @15,RRFWORK(,RRRF)                                  0678
*   SACALLED=ADDR(TRRSAV3);         /* SAVE PTR TO SAVE AREA TO BE 0679
*                                      USED BY CALLED MODULE         */
         LA    @15,TRRSAV3(,RD)                                    0679
         ST    @15,SACALLED(,RD)                                   0679
*   IF RC=ADDR(SMFMOD) THEN         /* IF GOING TO SMF MODULE THEN   */
         LA    @15,SMFMOD                                          0680
         CR    RC,@15                                              0680
         BNE   @RF00680                                            0680
*     IF RRFUNCTN=RRFCLOS THEN      /* IF CLOSE ENTRY THEN           */
         CLI   RRFUNCTN(RRRF),X'14'                                0681
         BNE   @RF00681                                            0681
*       RET=0;                      /* SET CLOSE ENTRY CODE TO SMF   */
         SLR   RET,RET                                             0682
*     ELSE                          /* EOV OR FEOV ENTRY             */
*       RET=4;                      /* SET EOV ENTRY TO SMF          */
         B     @RC00681                                            0683
@RF00681 LA    RET,4                                               0683
*   RFY                                                            0684
*     RF RSTD;                                                     0684
@RC00681 DS    0H                                                  0684
@RF00680 DS    0H                                                  0685
*   RF=ADDR(TRRSAV3);               /* PT TO 3RD REG SAVE AREA FOR 0685
*                                      IECRES REG SAVING             */
         LA    RF,TRRSAV3(,RD)                                     0685
*   GEN REFS(IECREGSV,IECEXTPR,IECPREFX,WTGMODNM,CVT,CVTDMSR);     0686
*        IECRES LOAD,EXTPR=(RF),MODNM=(RC),BRANCH=DIRECT
         LR    15,RF                    GET PTR TO EXT PREFIX
         STM   0,14,IECREGSV-IECEXTPR(15) SAVE REGISTERS
         LA    1,IECEXTPR-IECPREFX(0,0) BACK UP REGISTER 15 TO
         SR    15,1                     POINT TO START OF PREFIX
         MVC   WTGMODNM(12,6),0(RC)     MOVE MODULE NAME & EPA
         LA    6,WTGMODNM(,6)           LOAD PTR TO WTG MODULE NAME
         L     5,CVTPTR                 LOAD ADDRESS OF CVT
         L     5,CVTDMSR-CVT(,5)        LOAD ADDRESS OF IFG019RA
         B     20(,5)                   LOAD AND BRANCH DIRECT
*   RFY                                                            0687
*     RF UNRSTD;                                                   0687
*   END LOADSUB;                    /* END OF THIS SUBROUTINE---   0688
*                                      RETURN FROM CALLED MODULE IS
*                                      TO NSI OF LOADSUB'S CALLER    */
@EL00009 DS    0H                                                  0688
@EF00009 DS    0H                                                  0688
@ER00009 BR    @14                                                 0688
@PB00009 DS    0H                                                  0689
*   GEN(EJECT);                                                    0689
         EJECT
*                                                                  0690
*/********************************************************************/
*/*                 PURGE DEB ADDRESS FROM DEB TABLE                 */
*/********************************************************************/
*                                                                  0690
*DEBCKDEL:                                                         0690
*   PROC OPTIONS(NOSAVEAREA);                                      0690
         B     @PB00010                                            0690
DEBCKDEL STM   @14,@12,12(@13)                                     0690
*   IF DEBPTR^=0&                   /* IF A DEB EXISTS AND           */
*       DXATCLOS<2 THEN             /* DEB NOT YET DELETED FR TBL    */
         LTR   DEBPTR,DEBPTR                                       0691
         BZ    @RF00691                                            0691
         CLI   DXATCLOS(RCORE),2                                   0691
         BNL   @RF00691                                            0691
*     DO;                           /* THEN                          */
*       RFY                                                        0693
*         R1 RSTD;                  /* RESTRICT REG                  */
*       R1=DEBPTR;                  /* PT TO DEB               YM5934*/
         LR    R1,DEBPTR                                           0694
*       GEN(DEBCHK (1),TYPE=PURGE); /* PURGE DEB PTR FR DEB TBL      */
         DEBCHK (1),TYPE=PURGE
*       RFY                                                        0696
*         R1 UNRSTD;                /* MAKE REG UNRESTRICTED         */
*     END;                                                         0697
*   END DEBCKDEL;                   /* RETURN TO CALLER              */
@EL00010 DS    0H                                                  0698
@EF00010 DS    0H                                                  0698
@ER00010 LM    @14,@12,12(@13)                                     0698
         BR    @14                                                 0698
@PB00010 DS    0H                                                  0699
*   GEN(EJECT);                                                    0699
         EJECT
*                                                                  0700
*/********************************************************************/
*/*                        FREE ERP WORKAREA                         */
*/********************************************************************/
*                                                                  0700
*CHKUNREC:                                                         0700
*   PROC OPTIONS(NOSAVEAREA);                                      0700
         B     @PB00011                                            0700
CHKUNREC STM   @14,@12,12(@13)                                     0700
*   RFY                                                            0701
*     RET UNRSTD;                   /* MAKE REG UNRESTRICTED         */
*   IF UCB3UREC=ON&                 /* IF UNIT RECORD DEVICE AND     */
*       UCBTBYT4='09'X THEN         /* 3211 PRINTER THEN             */
         TM    UCB3UREC(UCBPTR),B'00001000'                        0702
         BNO   @RF00702                                            0702
         CLI   UCBTBYT4(UCBPTR),X'09'                              0702
         BNE   @RF00702                                            0702
*     DO;                                                          0703
*       R9=RD;                      /* SAVE PTR TO SAVE AREA         */
         LR    R9,RD                                               0704
*       GEN;                                                       0705
         MODESET EXTKEY=ZERO            SET UCB, SETLOCK KEY     YM7871
UNRECOOO SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,  DISABLE               *
               RELATED=(LOCAL,IFG0RR0B(UNRECRRR))
*       IF RD=0 THEN                /* IF NO SETLOCK ERROR THEN      */
         LTR   RD,RD                                               0706
         BNZ   @RF00706                                            0706
*         DO;                                                      0707
*           IF XUCBERAD^=0 THEN     /* IF NUMBER OF DCBS OPEN TO 3211
*                                      IS > ZERO THEN                */
         L     @15,UCBXTADR(,UCBPTR)                               0708
         CLI   XUCBERAD(@15),0                                     0708
         BE    @RF00708                                            0708
*             DO;                                                  0709
*               XUCBERAD=XUCBERAD-1;/* DECREMENT DCB COUNT           */
         SLR   @14,@14                                             0710
         IC    @14,XUCBERAD(,@15)                                  0710
         BCTR  @14,0                                               0710
         STC   @14,XUCBERAD(,@15)                                  0710
*               IF XUCBERAD=0 THEN  /* IF LAST DCB OPEN TO 3211      */
         CLI   XUCBERAD(@15),0                                     0711
         BNE   @RF00711                                            0711
*                 DO;               /* THEN                          */
*                   RFY                                            0713
*                    (R0,                                          0713
*                     R1,                                          0713
*                     RF) RSTD;                                    0713
*                   R1=UCBERADR;    /* GET ERP WORKAREA ADDRESS      */
         L     @14,UCBXTADR(,UCBPTR)                               0714
         L     R1,UCBERADR(,@14)                                   0714
*                   R0=WALNTH;      /* SET LENGTH AND SUBPOOL NO.    */
         L     R0,WALNTH                                           0715
*                   RF=ADDR(R9->TRRSAV2);/* PT TO SAVE AREA    YM5357*/
         LA    RF,TRRSAV2(,R9)                                     0716
*                   GEN REFS(CVTDMSR,CVT);                         0717
*                                            /*FREE 3211 ERP WORKAREA*/
         IECRES FREE,WLH,LV=(0),A=(1),KEY=0,SP=255,PREFIX=NO,    YM5357*
               STM=(0,14,0(RF))                                  YM5357
*                   RFY                                            0718
*                    (R0,                                          0718
*                     R1,                                          0718
*                     RF) UNRSTD;                                  0718
*                   UCBERADR=0;     /* ZERO ERP WORKAREA ADDRESS     */
         L     @01,UCBXTADR(,UCBPTR)                               0719
         SLR   @00,@00                                             0719
         ST    @00,UCBERADR(,@01)                                  0719
*                 END;                                             0720
*             END;                                                 0721
@RF00711 DS    0H                                                  0722
*           GEN;                                                   0722
@RF00708 DS    0H                                                  0722
UNRECRRR SETLOCK RELEASE,TYPE=LOCAL,    ENABLE                         *
               RELATED=(LOCAL,IFG0RR0B(UNRECOOO))
*         END;                                                     0723
*       GEN(MODESET EXTKEY=DATAMGT);/* SET DATA MGT KEY        YM7871*/
@RF00706 DS    0H                                                  0724
         MODESET EXTKEY=DATAMGT
*       RD=R9;                      /* RESTORE SAVE AREA PTR         */
         LR    RD,R9                                               0725
*     END;                                                         0726
*   RFY                                                            0727
*     RET RSTD;                     /* RESTRICT REG                  */
*   END CHKUNREC;                   /* RETURN TO CALLER              */
@EL00011 DS    0H                                                  0728
@EF00011 DS    0H                                                  0728
@ER00011 LM    @14,@12,12(@13)                                     0728
         BR    @14                                                 0728
@PB00011 DS    0H                                                  0729
*   GEN(EJECT);                                                    0729
         EJECT
*                                                                  0730
*/********************************************************************/
*/*       DELETE ACCESS METHOD SUBROUTINES AND I/O APPENDAGES        */
*/********************************************************************/
*                                                                  0730
*CHKSUBNM:                                                         0730
*   PROC OPTIONS(NOSAVEAREA);                                      0730
         B     @PB00012                                            0730
CHKSUBNM STM   @14,@12,12(@13)                                     0730
*   RFY                                                            0731
*     R0 RSTD;                      /* RESTRICT REG                  */
*   RFY                                                            0732
*    (RA,                                                          0732
*     RET) UNRSTD;                  /* MAKE REGS UNRESTRICTED        */
*   IF DEBPTR^=0&                   /* IF A DEB ADDR EXISTS AND      */
*       DXATCLOS<4 THEN             /* A.M. SUBRTNS & I/O APPENDAGES
*                                      NOT YET DELETED THEN    YM5934*/
         SLR   @01,@01                                             0733
         CR    DEBPTR,@01                                          0733
         BE    @RF00733                                            0733
         CLI   DXATCLOS(RCORE),4                                   0733
         BNL   @RF00733                                            0733
*     DO;                           /* DETERMINE THE OFFSET OF THE 0734
*                                      SUBROUTINE SECTION FROM THE 0734
*                                      BEGINNING OF THE DEB          */
*       RC=DEBNMSUB;                /* PICK UP NO. OF SUBROUTINES    */
         SLR   RC,RC                                               0735
         IC    RC,DEBNMSUB(,DEBPTR)                                0735
*       IF RC^=0 THEN               /* IF SUBROUTINES EXIST THEN     */
         CR    RC,@01                                              0736
         BE    @RF00736                                            0736
*         DO;                                                      0737
*           R9=DEBNMEXT;            /* PICK UP NO. OF EXTENTS        */
         SLR   R9,R9                                               0738
         IC    R9,DEBNMEXT(,DEBPTR)                                0738
*           R9=R9*4;                /* MULTIPLY BY FOUR              */
         SLL   R9,2                                                0739
*           IF DEBEXSCL='04'X THEN  /* IF EXTENT TYPE IS D.A. THEN   */
         CLI   DEBEXSCL(DEBPTR),X'04'                              0740
         BNE   @RF00740                                            0740
*             R9=R9*4;              /* MULTIPLY BY FOUR AGAIN        */
         SLL   R9,2                                                0741
*           R9=R9+LENGTH(DEBBASIC); /* ADD DEB BASIC SECTION SIZE    */
@RF00740 LA    R9,32(,R9)                                          0742
*           R0=DEBAMLNG;            /* PICK UP A.M.SECTION SIZE      */
         SLR   R0,R0                                               0743
         IC    R0,DEBAMLNG(,DEBPTR)                                0743
*           IF DCBMFECP=OFF THEN    /* IF NOT EXCP THEN              */
         TM    DCBMFECP+40(R2),B'10000000'                         0744
         BNZ   @RF00744                                            0744
*             IF DCBDSGDA=ON THEN   /* IF DSORG = BDAM THEN          */
         TM    DCBDSGDA+16(R2),B'00100000'                         0745
         BNO   @RF00745                                            0745
*               R0=R0*4;            /* CALCULATE A.M. SECTION SIZE   */
         SLL   R0,2                                                0746
*           DEBSBPTR=R9+R0+DEBPTR;  /* SUBRTN SECTION OFFSET         */
@RF00745 DS    0H                                                  0747
@RF00744 LR    @01,R9                                              0747
         ALR   @01,R0                                              0747
         ALR   @01,DEBPTR                                          0747
         LR    DEBSBPTR,@01                                        0747
*           DO WHILE RC^=0;         /* DO WHILE SUBRTN COUNT ^= 0    */
         B     @DE00748                                            0748
@DL00748 DS    0H                                                  0749
*             TRRWTGP->WTGMODNM(1:6)=IGG;/* SET UP FOR DELETE        */
         L     @01,TRRWTGP(,RD)                                    0749
         MVC   WTGMODNM(6,@01),IGG                                 0749
*             TRRWTGP->WTGMODID=DEBSUBID;/* MOVE IN SUBRTN ID        */
         MVC   WTGMODID(2,@01),DEBSUBID(DEBSBPTR)                  0750
*             R0=TRRWTGP;           /* SET SUBRTN NAME PTR           */
         LR    R0,@01                                              0751
*             GEN(DELETE EPLOC=(0));/* DELETE SUBROUTINE             */
         DELETE EPLOC=(0)
*             DEBSBPTR=DEBSBPTR+2;  /* INCREMENT TO NEXT ID          */
         LA    DEBSBPTR,2(,DEBSBPTR)                               0753
*             RC=RC-1;              /* DECREMENT ID COUNTER          */
         BCTR  RC,0                                                0754
*           END;                                                   0755
@DE00748 LTR   RC,RC                                               0755
         BNZ   @DL00748                                            0755
*         END;                                                     0756
*     END;                                                         0757
*   RFY                                                            0758
*     R0 UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   RFY                                                            0759
*    (RA,                                                          0759
*     RET) RSTD;                    /* RESTRICT REGS                 */
*   END CHKSUBNM;                   /* RETURN TO CALLER              */
@EL00012 DS    0H                                                  0760
@EF00012 DS    0H                                                  0760
@ER00012 LM    @14,@12,12(@13)                                     0760
         BR    @14                                                 0760
@PB00012 DS    0H                                                  0761
*   GEN(EJECT);                                                    0761
         EJECT
*                                                                  0762
*/********************************************************************/
*/*                   FREE USER TOTALING SAVE AREA                   */
*/********************************************************************/
*                                                                  0762
*CHKUTOT:                                                          0762
*   PROC OPTIONS(NOSAVEAREA);                                      0762
         B     @PB00013                                            0762
CHKUTOT  STM   @14,@12,12(@13)                                     0762
*   RFY                                                            0763
*     R1 RSTD;                      /* RESTRICT REG                  */
*   IF DEBPTR^=0&                   /* IF A DEB ADDR EXISTS AND      */
*       DCBMFECP=OFF&               /* NOT EXCP AND                  */
*       DCBDSGPS=ON&                /* DSORG = PS AND                */
*       DCBOPTT=ON&                 /* TOTALING WAS SPECIFIED AND    */
*       DEBACCS(1:3)^=ALLOFF3&      /* NOT INPUT, NOT RDBACK AND     */
*       DXATCLOS<8 THEN             /* TOTALING SAVE AREA NOT YET  0764
*                                      RELEASED THEN           YM5934*/
         LTR   DEBPTR,DEBPTR                                       0764
         BZ    @RF00764                                            0764
         TM    DCBMFECP+40(R2),B'10000000'                         0764
         BNZ   @RF00764                                            0764
         TM    DCBDSGPS+16(R2),B'01000000'                         0764
         BNO   @RF00764                                            0764
         TM    DCBOPTT+52(R2),B'00000010'                          0764
         BNO   @RF00764                                            0764
         TM    DEBACCS(DEBPTR),B'00001110'                         0764
         BZ    @RF00764                                            0764
         CLI   DXATCLOS(RCORE),8                                   0764
         BNL   @RF00764                                            0764
*     DO;                           /* GET ADDR OF TOTALING AREA FROM
*                                      A.M. PORTION OF DEB           */
*       RC=DEBNMEXT;                /* GET NO. OF EXTENTS            */
         SLR   RC,RC                                               0766
         IC    RC,DEBNMEXT(,DEBPTR)                                0766
*       R1=DEBEXSCL;                /* GET EXTENT SCALE              */
         SLR   R1,R1                                               0767
         IC    R1,DEBEXSCL(,DEBPTR)                                0767
*       GEN;                                                       0768
         SLL   RC,0(R1)                 COMPUTE LENGTH OF EXTENTS
         L     R1,36(RC,RDEB)           GET ADDR OF TOTALING SAVE AREA
         LA    R1,0(,R1)                CLEAR HI-ORDER BYTE
*       IF R1^=0 THEN               /* IF A SAVE AREA ADDR EXISTS    */
         LTR   R1,R1                                               0769
         BZ    @RF00769                                            0769
*         DO;                       /* THEN                          */
*           R2=DXUKEY;              /* GET USER KEY            YM7871*/
         SLR   R2,R2                                               0771
         IC    R2,DXUKEY(,RCORE)                                   0771
*           GEN;                                                   0772
         MODESET KEYADDR=(2),WORKREG=2  ENTER USER KEY           YM7871
         L     RC,TOTSVLNG-TOTSAVWA(,R1)  GET LNG OF TOTALING AREA
         LA    RC,0(,RC)                CLEAR HI-ORDER SUBPOOL BYTE
         LR    R0,RC                    SET PARAMETER REG
         FREEMAIN R,LV=(0),A=(1)        FREE USER TOTALING SAVE AREA
         MODESET EXTKEY=DATAMGT         DATA MANAGEMENT KEY      YM4679
*         END;                                                     0773
*     END;                                                         0774
*   RFY                                                            0775
*     R1 UNRSTD;                    /* MAKE REG UNRESTRICTED         */
*   END CHKUTOT;                    /* RETURN TO CALLER              */
@EL00013 DS    0H                                                  0776
@EF00013 DS    0H                                                  0776
@ER00013 LM    @14,@12,12(@13)                                     0776
         BR    @14                                                 0776
@PB00013 DS    0H                                                  0777
*   GEN(EJECT);                                                    0777
         EJECT
*                                                                  0778
*/********************************************************************/
*/*                  RESTORE DCB TO PRE-OPEN STATUS                  */
*/********************************************************************/
*                                                                  0778
*DCBREST:                                                          0778
*   PROC OPTIONS(NOSAVEAREA);                                      0778
         B     @PB00014                                            0778
DCBREST  STM   @14,@12,12(@13)                                     0778
*   RFY                                                            0779
*     RWTG UNRSTD;                  /*                         YM5934*/
*   IF DXATCLOS<12&                 /* IF RESTORE NOT YET BEGUN &    */
*       TRRWORK3^=8 THEN            /* RESTORATION NOT PREVENTED     */
         CLI   DXATCLOS(RCORE),12                                  0780
         BNL   @RF00780                                            0780
         CLC   TRRWORK3(4,RD),@CF00069                             0780
         BE    @RF00780                                            0780
*     DO;                           /* BY RECOVERY EXECUTOR THEN     */
*       IF TIOESYIN=ON×             /* IF A SPOOLED DATA SET         */
*           TIOESYOT=ON THEN        /* THEN                          */
         TM    TIOESYIN-24(TIOTPTR),B'00000110'                    0782
         BZ    @RF00782                                            0782
*         RDEB=ADDR(SPDCBMSK);      /* PT TO SPOOLED DCB MOD MASK  0783
*                                      SAVED IN SPDCBMSK BY FORCE  0783
*                                      CLOSE EXECUTOR IGG020FC.      */
         LA    RDEB,SPDCBMSK(,RD)                                  0783
*       ELSE                        /* NOT A SPOOLED DATA SET        */
*         IF DEBPTR^=0&             /* IF A DEB PTR EXISTS AND       */
*             DEBDCB=ON THEN        /* THE DCB WAS           @ZA15965
*                                      MODIFIED              @ZA15965*/
         B     @RC00782                                            0784
@RF00782 SLR   @15,@15                                             0784
         CR    DEBPTR,@15                                          0784
         BE    @RF00784                                            0784
         TM    DEBDCB(DEBPTR),B'00001000'                          0784
         BNO   @RF00784                                            0784
*           DO;                     /* DO THE FOLLOWING      @ZA15965*/
*             RC=DEBPTR-LENGTH(DEB);/* INIT REG TO           @ZA15965
*                                      CORRECTLY ADDRESS     @ZA15965
*                                      DEB EXTENSION         @ZA15965
*                                      POINTER               @ZA15965*/
         LR    RC,DEBPTR                                           0786
         SL    RC,@CF01096                                         0786
*             RC=RC->DEBXTNP;       /* PICKUP DEB            @ZA15965
*                                      EXTENSION POINTER     @ZA15965*/
         L     RC,DEBXTNP(,RC)                                     0787
*             IF RC^=0 THEN         /* IF EXTENSION PTR      @ZA15965
*                                      NOT ZERO              @ZA15965*/
         CR    RC,@15                                              0788
         BE    @RF00788                                            0788
*               GEN REFS(DEBXDCBM);                                0789
          LA    RDEB,DEBXDCBM(,RC)      PT TO DCB MOD MASK     @ZA15965
*             ELSE                  /* OTHERWISE             @ZA15965*/
*               RDEB=0;             /* ZERO MOD MASK PTR     @ZA15965*/
         B     @RC00788                                            0790
@RF00788 SLR   RDEB,RDEB                                           0790
*           END;                    /* END OF DO             @ZA15965*/
*         ELSE                      /* OTHERWISE                     */
*           RDEB=0;                 /* SET REG TO ZERO               */
         B     @RC00784                                            0792
@RF00784 SLR   RDEB,RDEB                                           0792
*       IF RDEB^=0 THEN             /* IF MOD MASK PTR EXISTS THEN   */
@RC00784 DS    0H                                                  0793
@RC00782 LTR   RDEB,RDEB                                           0793
         BZ    @RF00793                                            0793
*         DO;                                                      0794
*           RFY                                                    0795
*             R6 RSTD;                                             0795
*           R6=RDEB->MODMASK;       /* PICK UP MASK            YM5934*/
         ICM   R6,15,MODMASK(RDEB)                                 0796
*           DXCCW11(1)='00'X;       /* ZERO TEMP SAVE AREA           */
         MVI   DXCCW11(RCORE),X'00'                                0797
*           IF DCBMFECP=ON&         /* IF EXCP AND                   */
*               DCBMFFE=OFF THEN    /* FOUNDATION BLK EXT EXISTS     */
         TM    DCBMFECP+40(R2),B'10000000'                         0798
         BNO   @RF00798                                            0798
         TM    DCBMFFE+40(R2),B'01000000'                          0798
         BZ    @RT00798                                            0798
*             GOTO CFN04500;        /* THEN GO BEGIN RESTORE         */
*           IF DCBDSGIS=ON×         /* IF ISAM OR                    */
*               DCBDSGDA=ON×        /* DIRECT OR                     */
*               DCBDSGPO=ON THEN    /* PARTITIONED THEN              */
@RF00798 LA    @15,16                                              0800
         ALR   @15,R2                                              0800
         TM    DCBDSGIS(@15),B'10100010'                           0800
         BNZ   @RT00800                                            0800
*             GOTO CFN04400;        /* GO SAVE HIARCHY FLAGS         */
*           IF DCBDSGPS=OFF THEN    /* IF NOT PHYSICAL SEQUENTIAL    */
         TM    DCBDSGPS(@15),B'01000000'                           0802
         BZ    @RT00802                                            0802
*             GOTO CFN04300;        /* THEN GO CHK FOR GRAPHICS      */
*           IF TIOEQNAM=ON THEN     /* IF TCAM PS THEN               */
         TM    TIOEQNAM-24(TIOTPTR),B'00001000'                    0804
         BO    @RT00804                                            0804
*             GOTO CFN04500;        /* GO BEGIN RESTORE              */
*           IF RDEB->MODMASK(29)=ON THEN/* IF DCB FUNC BIT SET THEN  */
         TM    MODMASK+3(RDEB),B'00001000'                         0806
         BNO   @RF00806                                            0806
*             DCBFUNC=HEXZERO;      /* ZERO 3525 DCB FUNC FIELD      */
         MVI   DCBFUNC(@15),X'00'                                  0807
*           GOTO CFN04400;          /* GO SAVE HIARCHY FLAGS         */
         B     CFN04400                                            0808
*CFN04300:                          /* CHK FOR GRAPHICS              */
*           IF DCBDSGGS=ON THEN     /* IF GRAPHICS THEN              */
CFN04300 LA    @15,16                                              0809
         ALR   @15,R2                                              0809
         TM    DCBDSGGS(@15),B'10000000'                           0809
         BO    @RT00809                                            0809
*             GOTO CFN04500;        /* GO BEGIN RESTORE              */
*           IF DCBDSGTX=ON×         /* IF TCAM LINE GROUP OR         */
*               DCBDSGTQ=ON THEN    /* TCAM MESSAGE QUEUE THEN       */
         TM    DCBDSGTX(@15),B'01100000'                           0811
         BNZ   @RT00811                                            0811
*             GOTO CFN05100;        /* GO ZERO MERGED FIELDS         */
*           IF DCBMFRD=ON×          /* IF READ OR                    */
*               DCBMFWRT=ON THEN    /* WRITE THEN                    */
         LA    @15,40                                              0813
         ALR   @15,R2                                              0813
         TM    DCBMFRD(@15),B'00100000'                            0813
         BO    @RT00813                                            0813
         TM    DCBMFWRT(@15),B'00100000'                           0813
         BNO   @RF00813                                            0813
@RT00813 DS    0H                                                  0814
*CFN04400:                                                         0814
*             DO;                   /* DO THE FOLLOWING              */
CFN04400 DS    0H                                                  0815
*               DXCCW11(1)=DCBHIARC;/* SAVE HIARCHY FLAGS            */
         MVC   DXCCW11(1,RCORE),DCBHIARC+28(R2)                    0815
*               DXCCW11(1)=DXCCW11(1)&(DCBH0X+DCBH1X);/* CLEAR ALL 0816
*                                      BITS EXCEPT HIARCHY FLAGS     */
         SLR   @15,@15                                             0816
         IC    @15,DXCCW11(,RCORE)                                 0816
         N     @15,@CF04414                                        0816
         STC   @15,DXCCW11(,RCORE)                                 0816
*             END;                                                 0817
*CFN04500:                          /* BYPASS SAVING HIARCHY FLAGS   */
*           RFY                                                    0818
*             R1 RSTD;              /* RESTRICT REG                  */
@RF00813 DS    0H                                                  0818
CFN04500 DS    0H                                                  0819
*           R1=1;                   /* INIT REG WITH 1               */
         LA    R1,1                                                0819
*           RC=ADDR(DADSP);         /* PT TO DCB DISPLACEMENT TBL    */
         LA    RC,DADSP                                            0820
*           RFY                                                    0821
*             R7 RSTD;              /* RESTRICT REG                  */
*           R7=ADDR(DALGH);         /* PT TO DCB FIELD LENGTH TBL    */
         LA    R7,DALGH                                            0822
*           RET=0;                  /* CLEAR REG                     */
         SLR   RET,RET                                             0823
*           RFY                                                    0824
*             RF RSTD;              /* RESTRICT REG                  */
*           RF=0;                   /* CLEAR REG                     */
         SLR   RF,RF                                               0825
*CFN04700:                          /* CHK FOR ALTERED DCB FIELD     */
*           R1=R1&R6;               /* NEXT DCB FIELD CHGD     YM5934*/
CFN04700 NR    R1,R6                                               0826
*           BC(8,CFN04900);         /* NO, IT WAS NOT CHANGED        */
         BC    8,CFN04900                                          0827
*           RFY                                                    0828
*            (R1,                                                  0828
*             RF) UNRSTD;           /* MAKE REGS UNRESTRICTED        */
*           GEN REFS(DCBRECFM) FLOWS(CFN05100);                    0829
*                                                            @ZA05430*/
         IC    RET,0(,RC)               INSERT DCB FIELD DISPLACEMENT
         IC    RF,0(,R7)                INSERT DCB FIELD LENGTH-1
         CLI   0(RC),X'24'              IS THIS FIELD RECFM
         BE    CFN05000                 BR IF IT IS RECFM
CFN04800 EQU   *
         AR    RET,R2                   LOCATION OF FIELD IN DCB
         EX    RF,CFN05700              EXECUTE MOVE INSTRUCTION
*
*        FIELD  IN  DCB  HAS  BEEN  RETURNED  TO ITS
*                       FORMER  STATUS
CFN04900 EQU   *
         SRL   R6,1                     SHIFT MASK               YM5934
         SR    RET,RET                  CLEAR RET
         SR    RF,RF                    AND RF
         LA    RC,1(,RC)                GET NEXT DISP PARAMETER
         LA    R7,1(,R7)                GET NEXT LENGTH PARAMETER
         LA    R1,1                     REINITIALIZE R1 WITH ONE
         CLI   0(RC),0                  END OF RESTORE TABLE
         BE    CFN05800                 BRANCH IF THE END
         B     CFN04700                 CHECK NEXT FIELD
CFN05000 EQU   *
         TM    DCBRECFM+28(R2),1        INDICATIOR ON IN RECFM   YM4679
         BZ    CFN04800                 BR IF INDICATOR BIT OFF
         MVI   DCBRECFM+28(R2),1        RESET RECFM WITH BIT ON  YM5329
         B     CFN04900                 BR TO LOOK AT NEXT FIELD
*
* FOR TCAM WITH DSORG=TX OR DSORG=TQ, BUFMAX, PCI, RESERVE, BUFSIZE,
* AND THRESH FIELDS MAY HAVE BEEN MERGED FROM THE JFCB WITH A UNIQUE
* MERGE. THE MERGED FIELDS WILL BE RESTORED TO ZERO.
*
CFN05100 EQU   *
         LA    R1,8                     THRESH BIT MASK
         NR    R1,R6                    WAS FIELD MERGED         YM5934
         BZ    CFN05200                 BRANCH IF NO
         MVI   32(R2),0                 RESTORE FIELD TO ZERO
CFN05200 LA    R1,256                   BUFMAX BIT MASK
         NR    R1,R6                    WAS FIELD MERGED         YM5934
         BZ    CFN05300                 BRANCH IF NO
         MVI   28(R2),0                 RESTORE FIELD TO ZERO
CFN05300 LA    R1,1                     BUFSIZE BIT MASK
         SLL   R1,12                    SHIFT MASK
         NR    R1,R6                    WAS FIELD MERGED         YM5934
         BZ    CFN05400                 BRANCH IF NO
         SR    R7,R7                    ZERO OUT R7
         STH   R7,54(,R2)               RESTORE FIELD TO ZERO
CFN05400 LA    R1,1                     RESERVE BIT MASK
         SLL   R1,19                    SHIFT MASK
         NR    R1,R6                    WAS FIELD MERGED         YM5934
         BZ    CFN05500                 BRANCH IF NO
         ST    R7,56(,R2)               RESTORE FIELD TO ZERO
CFN05500 LA    R1,1                     PCI BIT MASK
         SLL   R1,21                    SHIFT MASK
         NR    R1,R6                    WAS FIELD MERGED         YM5934
         BZ    CFN05600                 BRANCH IF NO
         MVI   25(R2),0                 RESTORE FIELD TO ZERO
CFN05600 EQU   *
         B     CFN04500                 CHECK OTHER FIELDS
CFN05700 MVC   0(1,RET),DANULL          MOVE ZEROS TO DCB FIELD
*
*
CFN05800 EQU   *
*           RFY                                                    0830
*            (R6,                                                  0830
*             R7) UNRSTD;           /* MAKE REG UNRESTRICTED         */
*           IF RDEB->MODMASK(9)=ON THEN/* IF WRITE CHK BIT SET THEN  */
         TM    MODMASK+1(RDEB),B'10000000'                         0831
         BNO   @RF00831                                            0831
*             DCBOPTW=OFF;          /* RESET WRITE CHK SWITCH        */
         NI    DCBOPTW+52(R2),B'01111111'                          0832
*           IF RDEB->MODMASK(1)=ON THEN/* IF DCBUSASI BIT SET THEN   */
@RF00831 TM    MODMASK(RDEB),B'10000000'                           0833
         BNO   @RF00833                                            0833
*             DCBUSASI=DCBUSASI&('FF'X-DCBUSAON);/* RESET BIT        */
         LA    @15,80                                              0834
         ALR   @15,R2                                              0834
         SLR   @06,@06                                             0834
         IC    @06,DCBUSASI(,@15)                                  0834
         N     @06,@CF04415                                        0834
         STC   @06,DCBUSASI(,@15)                                  0834
*           DCBHIARC=DCBHIARC×DXCCW11(1);/* MAINTAIN HIARCHY FLAGS   */
@RF00833 OC    DCBHIARC+28(1,R2),DXCCW11(RCORE)                    0835
*           IF DXATCOM4^=0 THEN     /* IF A CRSA EXISTS THEN   YM7853*/
         L     @15,DXATCOM4(,RCORE)                                0836
         LTR   @15,@15                                             0836
         BZ    @RF00836                                            0836
*             CRSOPMOD=ON;          /* SHOW DCB FIELDS MODIFIED BY 0837
*                                      OPEN WERE RESTORED      YM7853*/
         OI    CRSOPMOD(@15),B'00100000'                           0837
*         END;                                                     0838
*     END;                                                         0839
*   RFY                                                            0840
*     RWTG RSTD;                    /*                         YM5934*/
*   END DCBREST;                    /* RETURN TO CALLER              */
@EL00014 DS    0H                                                  0841
@EF00014 DS    0H                                                  0841
@ER00014 LM    @14,@12,12(@13)                                     0841
         BR    @14                                                 0841
@PB00014 DS    0H                                                  0842
*   GEN(EJECT);                                                    0842
         EJECT
*                                                                  0843
*/********************************************************************/
*/*              RESTORE SPOOLED ACB TO PRE-OPEN STATUS              */
*/********************************************************************/
*                                                                  0843
*ACBREST:                                                          0843
*   PROC OPTIONS(NOSAVEAREA);                                      0843
         B     @PB00015                                            0843
ACBREST  STM   @14,@12,12(@13)                                     0843
*   IF DEBPTR^=0&                   /* IF A DEB PTR EXISTS AND THE   */
*       DEBDCB=ON&                  /* DCB/ACB WAS MODIFIED AND      */
*       TRRWORK3^=8 THEN            /* RESTORATION NOT PREVENTED     */
         SLR   @15,@15                                             0844
         CR    DEBPTR,@15                                          0844
         BE    @RF00844                                            0844
         TM    DEBDCB(DEBPTR),B'00001000'                          0844
         BNO   @RF00844                                            0844
         CLC   TRRWORK3(4,RD),@CF00069                             0844
         BE    @RF00844                                            0844
*     DO;                           /* BY RECOVERY EXECUTOR THEN     */
*       RC=DEBPTR-LENGTH(DEB);      /* INIT REG TO CORRECTLY ADDRESS
*                                      DEB EXTENSION PTR             */
         LR    RC,DEBPTR                                           0846
         SL    RC,@CF01096                                         0846
*       RC=RC->DEBXTNP;             /* PICK UP DEB EXTENSION PTR     */
         L     RC,DEBXTNP(,RC)                                     0847
*       IF RC->MODMASK(20)=ON THEN  /* IF ACBBLKSZ WAS MODIFIED      */
         TM    MODMASK+2(RC),B'00010000'                           0848
         BNO   @RF00848                                            0848
*         ACBBLKSZ=0;               /* THEN RESET FIELD TO ZERO      */
         STH   @15,ACBBLKSZ(,R2)                                   0849
*       IF RC->MODMASK(31)=ON THEN  /* IF ACBLRECL WAS MODIFIED      */
@RF00848 TM    MODMASK+3(RC),B'00000010'                           0850
         BNO   @RF00850                                            0850
*         ACBLRECL=0;               /* THEN RESET FIELD TO ZERO      */
         SLR   @15,@15                                             0851
         STH   @15,ACBLRECL(,R2)                                   0851
*     END;                                                         0852
*   END ACBREST;                    /* RETURN TO CALLER              */
@EL00015 DS    0H                                                  0853
@EF00015 DS    0H                                                  0853
@ER00015 LM    @14,@12,12(@13)                                     0853
         BR    @14                                                 0853
@PB00015 DS    0H                                                  0854
*   GEN(EJECT);                                                    0854
         EJECT
*                                                                  0855
*/********************************************************************/
*/*                    REMOVE DEB FROM DEB CHAIN                     */
*/********************************************************************/
*                                                                  0855
*DCHNDEB:                                                          0855
*   PROC OPTIONS(NOSAVEAREA);                                      0855
         B     @PB00016                                            0855
DCHNDEB  STM   @14,@12,12(@13)                                     0855
*   IF DEBPTR^=0&                   /* IF A DEB ADDR EXISTS AND      */
*       DXATCLOS<16 THEN            /* HAS NOT YET BEEN REMOVED      */
         LTR   DEBPTR,DEBPTR                                       0856
         BZ    @RF00856                                            0856
         CLI   DXATCLOS(RCORE),16                                  0856
         BNL   @RF00856                                            0856
*     DO;                           /* FROM THE DEB CHAIN THEN       */
*       R9=DEBPTR;                  /* SAVE DEB PTR ACROSS    SETLOCK*/
         LR    R9,DEBPTR                                           0858
*       RA=RD;                      /* SAVE PTR TO SAVE AREA         */
         LR    RA,RD                                               0859
*       GEN;                                                       0860
          MODESET EXTKEY=ZERO           SET KEY ZERO             YM7871
DCHNOOOO SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,  DISABLE               *
               RELATED=(LOCAL,IFG0RR0B(DCHNRRRR))
*       IF RD=0 THEN                /* IF NO SETLOCK ERROR THEN      */
         LTR   RD,RD                                               0861
         BNZ   @RF00861                                            0861
*         DO;                                                      0862
*           DEBPTR=R9;              /* RESTORE DEB PTR               */
         LR    DEBPTR,R9                                           0863
*           RFY                                                    0864
*             R1 RSTD;              /* RESTRICT REG                  */
*DCHNDEB1:                                                         0865
*           R1=DEBTCBAD+4;          /* INIT TO FIND 1ST DEB          */
DCHNDEB1 L     @15,DEBTCBAD(,DEBPTR)                               0865
         LA    @15,4(,@15)                                         0865
         LR    R1,@15                                              0865
*           DO WHILE DEBPTR^=R1->DEBDEBB;/* SEARCH DEB CHAIN         */
         B     @DE00866                                            0866
@DL00866 DS    0H                                                  0867
*             IF R1->DEBDEBB=0 THEN /* IF DEB NOT FOUND ON CHAIN     */
         L     @15,DEBDEBB-1(,R1)                                  0867
         LA    @15,0(,@15)                                         0867
         LTR   @15,@15                                             0867
         BZ    @RT00867                                            0867
*               GOTO DCHNDEB2;      /* GO PURGE DEB FROM DEB TABLE   */
*             R1=R1->DEBDEBB;       /* GET NEXT DEB AND CONTINUE     */
         LR    R1,@15                                              0869
*           END;                    /* WITH SEARCH                   */
@DE00866 L     @15,DEBDEBB-1(,R1)                                  0870
         LA    @15,0(,@15)                                         0870
         CR    DEBPTR,@15                                          0870
         BNE   @DL00866                                            0870
*           RC=DEBPTR;              /* DEB HAS BEEN FOUND ON CHAIN   */
         LR    RC,DEBPTR                                           0871
*           RD=DEBDEBAD;            /* INIT TO DECHAIN DEB           */
         L     RD,DEBDEBAD(,DEBPTR)                                0872
*           GEN REFS(DEBAMLNG,DEBBASIC,DEBDEBAD,DCHNDEB1);         0873
         ICM   RD,8,DEBAMLNG-DEBBASIC(R1)   PRIME HI-ORDER BYTE
         ICM   RC,8,DEBAMLNG-DEBBASIC(R1)   PRIME HI-ORDER BYTE
         CS    RC,RD,DEBDEBAD-DEBBASIC(R1)  DECHAIN DEB
         BNZ   DCHNDEB1                     BR IF NOT SUCCESSFUL
*           RFY                                                    0874
*             R1 UNRSTD;            /* MAKE REG UNRESTRICTED         */
*DCHNDEB2:                          /* RELEASE LOCK, PURGE DEB       */
*           GEN;                                                   0875
DCHNDEB2 DS    0H                                                  0875
DCHNRRRR SETLOCK RELEASE,TYPE=LOCAL,    ENABLE                         *
               RELATED=(LOCAL,IFG0RR0B(DCHNOOOO))
*         END;                                                     0876
*       GEN(MODESET EXTKEY=DATAMGT);/* SET DATA MGT KEY        YM7871*/
@RF00861 DS    0H                                                  0877
         MODESET EXTKEY=DATAMGT
*       RD=RA;                      /* RESTORE SAVE AREA PTR         */
         LR    RD,RA                                               0878
*     END;                                                         0879
*   END DCHNDEB;                    /* RETURN TO CALLER              */
@EL00016 DS    0H                                                  0880
@EF00016 DS    0H                                                  0880
@ER00016 LM    @14,@12,12(@13)                                     0880
         BR    @14                                                 0880
@PB00016 DS    0H                                                  0881
*   GEN(EJECT);                                                    0881
         EJECT
*                                                                  0882
*/********************************************************************/
*/*        DETERMINE IF DSAB OPEN COUNT SHOULD BE DECREMENTED        */
*/********************************************************************/
*                                                                  0882
*DECRDSAB:                                                         0882
*   PROC OPTIONS(NOSAVEAREA);                                      0882
         B     @PB00017                                            0882
DECRDSAB STM   @14,@12,12(@13)                                     0882
*   RA=RD;                          /* SAVE PTR TO SAVE AREA         */
         LR    RA,RD                                               0883
*   IF RRFUNCTN=RRFOPEN×            /* IF OPEN OR                    */
*       RRFUNCTN=RRFOPENJ THEN      /* OPEN J WAS IN CONTROL THEN    */
         CLI   RRFUNCTN(RRRF),X'13'                                0884
         BE    @RT00884                                            0884
         CLI   RRFUNCTN(RRRF),X'16'                                0884
         BNE   @RF00884                                            0884
@RT00884 DS    0H                                                  0885
*     DO;                                                          0885
*       IF DXATDFIN=ON THEN         /* IF DSAB INCREMENTING WAS      */
         TM    DXATDFIN(RCORE),B'00000100'                         0886
         BNO   @RF00886                                            0886
*         CALL DSABCALL;            /* FINISHED, DECR DSAB(S)        */
         BAL   @14,DSABCALL                                        0887
*     END;                                                         0888
*   ELSE                            /* OTHERWISE,                    */
*     IF RRFUNCTN=RRFCLOS THEN      /* IF CLOSE WAS IN CONTROL THEN  */
         B     @RC00884                                            0889
@RF00884 CLI   RRFUNCTN(RRRF),X'14'                                0889
         BNE   @RF00889                                            0889
*       DO;                                                        0890
*         IF DXATCLOS<20 THEN       /* IF DSAB DECREMENTING NOT      */
         CLI   DXATCLOS(RCORE),20                                  0891
         BNL   @RF00891                                            0891
*           CALL DSABCALL;          /* YET BEGUN, DECR DSAB(S)       */
         BAL   @14,DSABCALL                                        0892
*       END;                                                       0893
*     ELSE                          /* ELSE, EOV, FEOV, OR TCLOSE    */
*       CALL DSABCALL;              /* HAD CNTRL, SO DECR DSAB(S)    */
         B     @RC00889                                            0894
@RF00889 BAL   @14,DSABCALL                                        0894
*   RD=RA;                          /* RESTORE SAVE AREA PTR         */
@RC00889 DS    0H                                                  0895
@RC00884 LR    RD,RA                                               0895
*   END DECRDSAB;                                                  0896
*                                                                  0896
@EL00017 DS    0H                                                  0896
@EF00017 DS    0H                                                  0896
@ER00017 LM    @14,@12,12(@13)                                     0896
         BR    @14                                                 0896
*/********************************************************************/
*/*                    DECREMENT DSAB OPEN COUNT                     */
*/********************************************************************/
*                                                                  0897
*DSABCALL:                                                         0897
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0897
DSABCALL DS    0H                                                  0898
*   EVAL(ADDR(RA->TRRSAV2))->SARETRY=RET;/* SAVE RETURN ADDR         */
         LA    @15,TRRSAV2(,RA)                                    0898
         ST    RET,SARETRY(,@15)                                   0898
*   DSABPTR=DXDSABAD;               /* GET CURRENT DSAB              */
         L     DSABPTR,DXDSABAD(,RCORE)                            0899
*   IF DSABPTR=0 THEN               /* IF THERE IS NO DSAB THEN      */
         LTR   DSABPTR,DSABPTR                                     0900
         BZ    @RT00900                                            0900
*     GOTO DSABC070;                /* GO RETURN TO CALLER           */
*DSABC010:                          /* GET DSAB OPEN COUNT           */
*   GEN REFS(DSABOPCT,DSABFCHN,DSABTIOT,DSABBCHN,TIOEDDNM,DXTIOTAD,
*       DXDSABAD);                                                 0902
DSABC010 DS    0H                                                  0902
         L     RD,DSABOPCT-2(,DSABPTR)  DSABOPCT 2ND HALFWORD
DSABC020 MODESET EXTKEY=SCHED           ASSUME SCHEDULER KEY
         LR    RET,RD                   SAVE FOR CS IN RD
         SRDL  RET,16                   SHIFT OPEN CT TO RF
         SRA   RF,16                    PROPOGATE SIGN FOR LTR
         LTR   RF,RF                    MAKE SURE ITS POSITIVE
         BNP   DSABC030                 BRANCH IF NO
         BCTR  RF,R0                    DECREMENT BY ONE
         SLL   RF,16                    SHIFT TO HIGH 16 BITS
         SLDL  RET,16                   UPDATED FULLWORD IN RET
         CS    RD,RET,DSABOPCT-2(DSABPTR) TRY TO SNEAK IT IN
         BNE   DSABC020                 BR IF HAVE TO TRY AGAIN
DSABC030 MODESET EXTKEY=DATAMGT         DATA MANAGEMENT KEY
*        DECREMENT COUNT IN ALL DSABS WHOSE TIOT
*        ENTRIES HAVE BLANK DDNAMES
         L     RC,DSABFCHN(,DSABPTR)    NEXT DSAB
         LTR   RC,RC                    IS THERE A NEXT DSAB
         BZ    DSABC040                 BRANCH IF NO
         L     TIOTPTR,DSABTIOT(,DSABPTR) GET TIOT ENTRY
         CLI   TIOEDDNM-24(TIOTPTR),C' '            CONCATENATION
         BE    DSABC010                 GET NEXT DSAB
DSABC040 L     TIOTPTR,DXTIOTAD(,RCORE) RESTORE TIOT ADDRESS
         L     DSABPTR,DXDSABAD(,RCORE) GET CURRENT DSAB
DSABC050 CLI   TIOEDDNM-24(TIOTPTR),C' ' IS THIS TIOT ENTRY
*                                       CONCATENATED
         BNE   DSABC070                 BR IF NO-DONT BACK UP
         L     DSABPTR,DSABBCHN(,DSABPTR) GET PREVIOUS DSAB
         L     TIOTPTR,DSABTIOT(,DSABPTR) GET TIOT ADDRESS
         L     RET,DSABOPCT-2(,DSABPTR) GET OPEN COUNT
DSABC060 LR    RD,RET                   SAVE FOR CS
         SRDL  RET,16                   SHIFT COUNT TO RF
         SRA   RF,16                    PROPOGATE SIGN BIT
         LTR   RF,RF                    MAKE SURE ITS POSITIVE
         BNP   DSABC050                 BRANCH IF NO TO KEEP
*                                       BACKING UP DSAB CHAIN
         BCTR  RF,R0                    DECREMENT OPEN COUNT
         SLL   RF,16                    SHIFT TO HIGH 16 BITS
         SLDL  RET,16                   UPDATED FULLWORD IN RET
         MODESET EXTKEY=SCHED           SCHEDULER KEY FOR DSAB
         CS    RD,RET,DSABOPCT-2(DSABPTR) TRY TO SNEAK IT IN
         MODESET EXTKEY=DATAMGT         RETURN TO DATA MGT KEY
         BNE   DSABC060                 BR IF NEED TO TRY AGAIN
         B     DSABC050                 KEEP BACKING UP CHAIN
*DSABC070:                                                         0903
*   RET=(ADDR(RA->TRRSAV2))->SARETRY;/* RESTORE RETURN ADDR          */
DSABC070 LA    @15,TRRSAV2(,RA)                                    0903
         L     RET,SARETRY(,@15)                                   0903
*   END DSABCALL;                   /* RETURN TO CALLER              */
@EL00018 DS    0H                                                  0904
@EF00018 DS    0H                                                  0904
@ER00018 BR    @14                                                 0904
@PB00018 DS    0H                                                  0905
*   GEN(EJECT);                                                    0905
         EJECT
*                                                                  0906
*/********************************************************************/
*/*     DETERMINE IF DATA MANAGEMENT COUNT SHOULD BE DECREMENTED     */
*/********************************************************************/
*                                                                  0906
*DECRDMCT:                                                         0906
*   PROC OPTIONS(NOSAVEAREA);                                      0906
         B     @PB00019                                            0906
DECRDMCT STM   @14,@12,12(@13)                                     0906
*   IF DXATDMCT=ON THEN             /* IF DM CNT HAS BEEN INCR YM6520*/
         TM    DXATDMCT(RCORE),B'10000000'                         0907
         BNO   @RF00907                                            0907
*     DO;                           /* THEN                          */
*       IF DXUCBSAV^=0 THEN         /* GET 1ST UCB PTR FROM    YM7071*/
         L     @15,DXUCBSAV(,RCORE)                                0909
         LTR   @15,@15                                             0909
         BZ    @RF00909                                            0909
*         UCBPTR=DXUCBSVV;          /* SAVED UCB PTR FIELD     YM7071*/
         L     UCBPTR,DXUCBSVV-1(,RCORE)                           0910
         LA    UCBPTR,0(,UCBPTR)                                   0910
*       ELSE                        /* OTHERWISE CURR UCB      YM7071*/
*         UCBPTR=DXUCBADR;          /* PTR IS 1ST UCB PTR      YM7071*/
         B     @RC00909                                            0911
@RF00909 L     UCBPTR,DXUCBADR(,RCORE)                             0911
*       RC=RCORE;                   /* GET WORK AREA PTR             */
@RC00909 LR    RC,RCORE                                            0912
*       DO WHILE UCBPTR^=0;         /* FOR EVERY UCB PTR FOUND       */
         B     @DE00913                                            0913
@DL00913 DS    0H                                                  0914
*         CALL DMCTCALL;            /* GO DECREMENT DM COUNT         */
         BAL   @14,DMCTCALL                                        0914
*DMCTOP1:                                                          0915
*         IF RC=RC->DSCCORE×        /* IF A CHAINED DSCB PTR IS    0915
*                                      REALLY THE WORK AREA PTR OR   */
*             RC->DSCCORE=0 THEN    /* THERE IS NO CHAIN PTR THEN    */
DMCTOP1  L     @15,DSCCORE(,RC)                                    0915
         CR    RC,@15                                              0915
         BE    @RT00915                                            0915
         LTR   @15,@15                                             0915
         BNZ   @RF00915                                            0915
@RT00915 DS    0H                                                  0916
*           UCBPTR=0;               /* ZERO UCB REG                  */
         SLR   UCBPTR,UCBPTR                                       0916
*         ELSE                      /* A CHAINED DSCB PTR EXISTS     */
*           DO;                                                    0917
         B     @RC00915                                            0917
@RF00915 DS    0H                                                  0918
*             RC=RC->DSCCORE;       /* PICK UP CHAIN PTR IN REG      */
         L     RC,DSCCORE(,RC)                                     0918
*             IF RC->DXDSCB(1)^='1' THEN/* IF A FMT 1 DSCB IS        */
         CLI   DXDSCB(RC),C'1'                                     0919
         BE    @RF00919                                            0919
*               DO;                 /* NOT INDICATED THEN            */
*                 RC=RC+44;         /* INCR PAST DSNAME              */
         LA    RC,44(,RC)                                          0921
*                 IF RC->DXDSCB(1)^='1' THEN/* IF NOT A FMT 1        */
         CLI   DXDSCB(RC),C'1'                                     0922
         BNE   @RT00922                                            0922
*                   GOTO DMCTOP1;   /* DSCB THEN GO CHK CHAIN        */
*               END;                                               0924
*             IF RC^=RC->DSCCORE&   /* IF CHN PT ^= NEXT PT    YM7071*/
*                 DXFMTUCB^=0 THEN  /* & UCB PTR ^= 0 THEN     YM7071*/
@RF00919 C     RC,DSCCORE(,RC)                                     0925
         BE    @RF00925                                            0925
         L     @15,DXFMTUCB(,RC)                                   0925
         LTR   @15,@15                                             0925
         BZ    @RF00925                                            0925
*               UCBPTR=DXFMTUCB;    /* PICK UP UCB PTR IN REG        */
         LR    UCBPTR,@15                                          0926
*             ELSE                  /* CURR CHN PTR = NEXT PTR       */
*               UCBPTR=0;           /* SET UCB REG TO ZERO           */
         B     @RC00925                                            0927
@RF00925 SLR   UCBPTR,UCBPTR                                       0927
*           END;                                                   0928
@RC00925 DS    0H                                                  0929
*       END;                                                       0929
@RC00915 DS    0H                                                  0929
@DE00913 LTR   UCBPTR,UCBPTR                                       0929
         BNZ   @DL00913                                            0929
*     END;                                                         0930
*   ELSE                            /* GET UCB PTR FROM DEB    YM6520*/
*     IF DXATNVOL=OFF&              /* IF STILL ON OLD VOLUME &      */
*         DXATCLOS<=28&             /* DM CNT DECR NOT COMPLETED &   */
*         DEBPTR^=0 THEN            /* DEB PTR EXISTS THEN     YM4636*/
         B     @RC00907                                            0931
@RF00907 TM    DXATNVOL(RCORE),B'01000000'                         0931
         BNZ   @RF00931                                            0931
         CLI   DXATCLOS(RCORE),28                                  0931
         BH    @RF00931                                            0931
         LTR   DEBPTR,DEBPTR                                       0931
         BZ    @RF00931                                            0931
*       DO;                                                        0932
*         R6=DEBNMEXT;              /* GET NO. OF EXTENTS      YM4636*/
         SLR   R6,R6                                               0933
         IC    R6,DEBNMEXT(,DEBPTR)                                0933
*         R8=ADDR(DEBBASND);        /* PT TO DEV DEP SECT      YM4636*/
         LA    R8,DEBBASND(,DEBPTR)                                0934
*         IF UCB3DACC=ON&           /* IF DIRECT ACCESS DEVICE &     */
*             DEBRERR=ON THEN       /* BPAM CONCATENATION EXISTS     */
         TM    UCB3DACC(UCBPTR),B'00100000'                        0935
         BNO   @RF00935                                            0935
         TM    DEBRERR(DEBPTR),B'00000001'                         0935
         BNO   @RF00935                                            0935
*           DO;                     /* THEN                          */
*             SLL(R6,4);            /* OFFSET TO BPAM DEP SECTION    */
         SLL   R6,4                                                0937
*             DEBEXPTR=R8+R6;       /* PT TO BPAM DEPENDENT   SECTION*/
         LR    @15,R8                                              0938
         ALR   @15,R6                                              0938
         LR    DEBEXPTR,@15                                        0938
*             R7=DEBAMLNG+1;        /* GET NO. OF DATA SETS CONCAT   */
         SLR   @15,@15                                             0939
         IC    @15,DEBAMLNG(,DEBPTR)                               0939
         LA    @15,1(,@15)                                         0939
         LR    R7,@15                                              0939
*             DO WHILE R7^=0;       /* DO WHILE DATA SET CNT ^= 0    */
         B     @DE00940                                            0940
@DL00940 DS    0H                                                  0941
*               IF R7>DEBAMLNG THEN /* IF ON 1ST DATA SET THEN       */
         SLR   @15,@15                                             0941
         IC    @15,DEBAMLNG(,DEBPTR)                               0941
         CR    R7,@15                                              0941
         BNH   @RF00941                                            0941
*                 R9=0;             /* USE 0 OFFSET TO 1ST EXTENT    */
         SLR   R9,R9                                               0942
*               ELSE                /* NOT 1ST DATA SET              */
*                 DO;                                              0943
         B     @RC00941                                            0943
@RF00941 DS    0H                                                  0944
*                   R9=DEBEXTNM;    /* GET EXT NO. OF 1ST EXT OF D/S */
         SLR   R9,R9                                               0944
         IC    R9,DEBEXTNM(,DEBEXPTR)                              0944
*                   SLL(R9,4);      /* CALC OFFSET TO THAT EXTENT    */
         SLL   R9,4                                                0945
*                   DEBEXPTR=DEBEXPTR+1;/* INCR BPAM DEP SECT PTR    */
         LA    DEBEXPTR,1(,DEBEXPTR)                               0946
*                 END;                                             0947
*               IF(R8+R9)->DEBUCBA^=0 THEN/* IF UCB PTR ^= 0 THEN    */
@RC00941 LR    @15,R8                                              0948
         ALR   @15,R9                                              0948
         L     @15,DEBUCBA-1(,@15)                                 0948
         LA    @15,0(,@15)                                         0948
         LTR   @15,@15                                             0948
         BZ    @RF00948                                            0948
*                 DO;                                              0949
*                   UCBPTR=(R8+R9)->DEBUCBA;/* PICK UP UCB PTR       */
         LR    UCBPTR,@15                                          0950
*                   CALL DMCTCALL;  /* GO DECRMENT DM COUNT          */
         BAL   @14,DMCTCALL                                        0951
*                 END;                                             0952
*               R7=R7-1;            /* DECR DATA SET COUNT           */
@RF00948 BCTR  R7,0                                                0953
*             END;                                                 0954
@DE00940 LTR   R7,R7                                               0954
         BNZ   @DL00940                                            0954
*           END;                                                   0955
*         ELSE                      /* NOT BPAM CONCATENATION        */
*           DO;                                                    0956
         B     @RC00935                                            0956
@RF00935 DS    0H                                                  0957
*             IF DEBAMTYP=ISAM THEN /* IF ISAM THEN            YM4636*/
         L     @15,DEBAPPAD(,DEBPTR)                               0957
         CLC   DEBAMTYP(1,@15),ISAM                                0957
         BNE   @RF00957                                            0957
*               DO;                                                0958
*                 R8=R8+LENGTH(DEBBAS01);/* INCR PAST ISAM    SECTION*/
         LA    R8,16(,R8)                                          0959
*                 R6=R6-1;          /* DECR EXTENT COUNT       YM4636*/
         BCTR  R6,0                                                0960
*               END;                                               0961
*             DO WHILE R6^=0;       /* DO WHILE EXTENT COUNT ^= 0    */
@RF00957 B     @DE00962                                            0962
@DL00962 DS    0H                                                  0963
*               IF R8->DEBUCBA^=0 THEN/* IF UCB PT ^= 0 THEN   YM4636*/
         L     @15,DEBUCBA-1(,R8)                                  0963
         LA    @15,0(,@15)                                         0963
         LTR   @15,@15                                             0963
         BZ    @RF00963                                            0963
*                 DO;                                              0964
*                   UCBPTR=R8->DEBUCBA;/* PICK UP UCB PTR      YM4636*/
         LR    UCBPTR,@15                                          0965
*                   CALL DMCTCALL;  /* GO DECREMENT DM CNT     YM4636*/
         BAL   @14,DMCTCALL                                        0966
*                   IF R6>1 THEN    /* IF EXTENT CNT > 1 THEN        */
         C     R6,@CF00064                                         0967
         BNH   @RF00967                                            0967
*                     DO;                                          0968
*                       R7=R6;      /* GET EXTENT COUNT        YM4636*/
         LR    R7,R6                                               0969
*                       R9=R8;      /* SAVE EXTENT PTR         YM4636*/
         LR    R9,R8                                               0970
*                       DO WHILE R7^=0;/* DO WHILE EXTENT COUNT ^= 0 */
         B     @DE00971                                            0971
@DL00971 DS    0H                                                  0972
*                         IF R9->DEBUCBA=UCBPTR THEN/* IF UCB ADDR IN
*                                      EXTENT = CURR UCB PTR THEN    */
         L     @15,DEBUCBA-1(,R9)                                  0972
         LA    @15,0(,@15)                                         0972
         CR    UCBPTR,@15                                          0972
         BNE   @RF00972                                            0972
*                           R9->DEBUCBA=0;/* ZERO UCB ADDR IN EXTENT */
         SLR   @15,@15                                             0973
         STCM  @15,7,DEBUCBA(R9)                                   0973
*                         R7=R7-1;  /* DECR EXTENT COUNT             */
@RF00972 BCTR  R7,0                                                0974
*                         R9=R9+LENGTH(DEBDASD);/* INCR TO NEXT EXT  */
         LA    R9,16(,R9)                                          0975
*                       END;                                       0976
@DE00971 LTR   R7,R7                                               0976
         BNZ   @DL00971                                            0976
*                     END;                                         0977
*                 END;                                             0978
@RF00967 DS    0H                                                  0979
*               R6=R6-1;            /* DECR EXTENT COUNT             */
@RF00963 BCTR  R6,0                                                0979
*               R8=R8+LENGTH(DEBDASD);/* INCR TO NEXT EXTENT         */
         LA    R8,16(,R8)                                          0980
*             END;                  /*                         YM6520*/
@DE00962 LTR   R6,R6                                               0981
         BNZ   @DL00962                                            0981
*           END;                    /*                         YM6520*/
*       END;                        /*                         YM6520*/
*   END DECRDMCT;                   /* RETURN TO CALLER              */
@EL00019 DS    0H                                                  0984
@EF00019 DS    0H                                                  0984
@ER00019 LM    @14,@12,12(@13)                                     0984
         BR    @14                                                 0984
*/********************************************************************/
*/*               DECREMENT THE DATA MANAGEMENT COUNT                */
*/********************************************************************/
*                                                                  0985
*DMCTCALL:                                                         0985
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0985
DMCTCALL DS    0H                                                  0986
*   IF UCB3TAPE=ON×                 /* IF TAPE DEVICE OR             */
*       UCB3DACC=ON THEN            /* DIRECT ACCESS THEN            */
         TM    UCB3TAPE(UCBPTR),B'10100000'                        0986
         BZ    @RF00986                                            0986
*     DO;                                                          0987
*       GEN(MODESET EXTKEY=ZERO);   /* SET KEY ZERO            YM7871*/
         MODESET EXTKEY=ZERO
*       RFY                                                        0989
*        (R0,                                                      0989
*         R1,                                                      0989
*         RF) RSTD;                                                0989
*       R0=XUCBDMCT;                /* GET WORD CONTAINING DM CNT    */
         L     R0,XUCBDMCT(,UCBPTR)                                0990
*DMCTC1:                                                           0991
*       R1=R0;                      /* PREP TO RESET MOUNT BIT YM7099*/
DMCTC1   LR    R1,R0                                               0991
*       RF=CONFF7F;                 /* GET MASK FOR MOUNT BIT  YM7099*/
         L     RF,CONFF7F                                          0992
*       R1=R1&RF;                   /* RESET MOUNT BIT IN REG  YM7099*/
         NR    R1,RF                                               0993
*       RF=R0;                      /* GET DM COUNT                  */
         LR    RF,R0                                               0994
*       SLL(RF,25);                 /* LEAVE ONLY DM COUNT           */
         SLL   RF,25                                               0995
*       IF RF^=0 THEN               /* IF DM COUNT NOT ZERO THEN     */
         LTR   RF,RF                                               0996
         BZ    @RF00996                                            0996
*         R1=R1-1;                  /* DECR DM COUNT BY ONE    YM7099*/
         BCTR  R1,0                                                0997
*       CS(R0,R1,XUCBDMCT);         /* TRY TO UPDATE DM COUNT        */
@RF00996 CS    R0,@01,XUCBDMCT(UCBPTR)                             0998
*       BC(7,DMCTC1);               /* IF NOT DONE, TRY IT AGAIN     */
         BC    7,DMCTC1                                            0999
*       RFY                                                        1000
*        (R0,                                                      1000
*         R1,                                                      1000
*         RF) UNRSTD;               /*                         YM4636*/
*       IF UCBVRDEV=ON&             /* IF A VIO UCB AND              */
*           UCBDMC=ALLOFF7 THEN     /* DM COUNT IS ZERO THEN         */
         TM    UCBVRDEV(UCBPTR),B'10000000'                        1001
         BNO   @RF01001                                            1001
         TM    UCBDMC(UCBPTR),B'01111111'                          1001
         BNZ   @RF01001                                            1001
*         DO;                                                      1002
*           STM(DEBPTR,RET,TRRSAV2);/* SAVE REGS               YM7363*/
         STM   DEBPTR,RET,TRRSAV2(RD)                              1003
*           R2=RD;                  /* SAVE RD                 YM7363*/
         LR    R2,RD                                               1004
*           GEN;                                                   1005
DMCTOOOO SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,  DISABLE         YM7363*
               RELATED=(LOCAL,IFG0RR0B(DMCTRRRR))                YM7363
*           IF RD=0 THEN            /* IF NO SETLOCK ERROR THEN    1006
*                                      YM7363                        */
         LTR   RD,RD                                               1006
         BNZ   @RF01006                                            1006
*             DO;                                                  1007
*               RD=ADDR(R2->TRRSAV3);/* PT TO 3RD SAVEAREA     YM7363*/
         LA    RD,TRRSAV3(,R2)                                     1008
*               RFY                                                1009
*                 R1 RSTD;                                         1009
*               R1=ADDR(UCBPTR->VDSCB);/* PT TO VDSCB          YM5972*/
         LR    R1,UCBPTR                                           1010
*               GEN(WICLOSE VDSCB=(1))                             1011
*               REFS(CVTPWI,CVTTCBP);/* ISSUE VIO CLOSE              */
         WICLOSE VDSCB=(1)
*               RFY                                                1012
*                 R1 UNRSTD;                                       1012
*               GEN;                                               1013
DMCTRRRR SETLOCK RELEASE,TYPE=LOCAL,    ENABLE                   YM7363*
               RELATED=(LOCAL,IFG0RR0B(DMCTOOOO))                YM7363
*             END;                                                 1014
*           RD=R2;                  /* RESTORE RD              YM7363*/
@RF01006 LR    RD,R2                                               1015
*           LM(DEBPTR,RET,TRRSAV2); /* RESTORE REGS            YM7363*/
         LM    DEBPTR,RET,TRRSAV2(RD)                              1016
*         END;                                                     1017
*       GEN(MODESET EXTKEY=DATAMGT);/* SET DATA MGT            YM7871*/
@RF01001 DS    0H                                                  1018
         MODESET EXTKEY=DATAMGT
*     END;                                                         1019
*   END DMCTCALL;                   /* RETURN TO DECRDMCT            */
@EL00020 DS    0H                                                  1020
@EF00020 DS    0H                                                  1020
@ER00020 BR    @14                                                 1020
@PB00020 DS    0H                                                  1021
*   GEN(EJECT);                                                    1021
         EJECT
*                                                                  1022
*/********************************************************************/
*/*                       FREE STORAGE FOR IRB                       */
*/********************************************************************/
*                                                                  1022
*IRBCHK:                                                           1022
*   PROC OPTIONS(NOSAVEAREA);                                      1022
         B     @PB00021                                            1022
IRBCHK   STM   @14,@12,12(@13)                                     1022
*   IF DEBPTR^=0&                   /* IF A DEB PTR EXISTS &   YM7853*/
*       DXATCLOS<40&                /* IRB NOT YET FREED &     YM7853*/
*       EVAL(DEBPTR-36)->DEBAMTYP^=TCAMAP THEN/* NOT TCAMAP    YM7853*/
         SLR   @15,@15                                             1023
         CR    DEBPTR,@15                                          1023
         BE    @RF01023                                            1023
         CLI   DXATCLOS(RCORE),40                                  1023
         BNL   @RF01023                                            1023
         LR    @01,DEBPTR                                          1023
         SL    @01,@CF01096                                        1023
         CLC   DEBAMTYP(1,@01),TCAMAP                              1023
         BE    @RF01023                                            1023
*     DO;                           /* THEN                    YM7853*/
*       RFY                                                        1025
*        (R1,                                                      1025
*         RF) RSTD;                                                1025
*       R1=DEBIRBB;                 /* PICK UP IRB ADDRESS           */
         L     R1,DEBIRBB-1(,DEBPTR)                               1026
         LA    R1,0(,R1)                                           1026
*       IF R1^=0 THEN               /* IF AN IRB PTR EXISTS THEN     */
         SLR   @00,@00                                             1027
         CR    R1,@00                                              1027
         BE    @RF01027                                            1027
*         DO;                                                      1028
*           GEN(MODESET EXTKEY=ZERO);/* SET KEY ZERO         @ZA06710*/
         MODESET EXTKEY=ZERO
*           GEN REFS(IRBCHKX);                                     1030
         TM    RBSTAB2-RBSECT(R1),RBFACTV  IS THE IRB BUSY
         BO    IRBCHKX                     BRANCH OUT IF YES
         LH    R0,RBSIZE-RBSECT(,R1)    GET IRB SIZE IN DOUBLE WORDS
         SLL   R0,3                     GET IRB SIZE IN BYTES
         LA    RF,RBPRFLNA              GET LENGTH OF IRB PREFIX
*           R1=R1-RF;               /* PT TO IRB PREFIX              */
         SLR   R1,RF                                               1031
*           RF=ADDR(TRRSAV2);       /* PT TO 2ND SAVE AREA           */
         LA    RF,TRRSAV2(,RD)                                     1032
*           GEN(MODESET EXTKEY=DATAMGT);/* SET DATA MGT      @ZA06710*/
         MODESET EXTKEY=DATAMGT
*           GEN REFS(CVTDMSR,CVT);                                 1034
         IECRES FREE,A=(1),PREFIX=NO,STM=(0,14,0(RF)),SP=253,          *
               LV=(R0),KEY=0            FREE IRB
*         END;                                                     1035
*       RFY                                                        1036
*        (R1,                                                      1036
*         RF) UNRSTD;                                              1036
@RF01027 DS    0H                                                  1037
*     END;                                                         1037
*IRBCHKX:                                                          1038
*   END IRBCHK;                     /* RETURN TO CALLER              */
@EL00021 DS    0H                                                  1038
@EF00021 DS    0H                                                  1038
@ER00021 LM    @14,@12,12(@13)                                     1038
         BR    @14                                                 1038
@PB00021 DS    0H                                                  1039
*   GEN(EJECT);                                                    1039
         EJECT
*                                                                  1040
*/********************************************************************/
*/*              FREE STORAGE FOR RELATED REQUEST QUEUE              */
*/********************************************************************/
*                                                                  1040
*RRQCHK:                                                           1040
*   PROC OPTIONS(NOSAVEAREA);                                      1040
         B     @PB00022                                            1040
RRQCHK   STM   @14,@12,12(@13)                                     1040
*   IF DEBPTR^=0&                   /* IF A DEB PTR EXISTS &   YM7853*/
*       DXATCLOS<44 THEN            /* RRQ NOT YET FREED &     YM7853*/
         SLR   @15,@15                                             1041
         CR    DEBPTR,@15                                          1041
         BE    @RF01041                                            1041
         CLI   DXATCLOS(RCORE),44                                  1041
         BNL   @RF01041                                            1041
*     DO;                                                          1042
*       RFY                                                        1043
*        (R1,                                                      1043
*         RF) RSTD;                                                1043
*       R1=DEBECBB;                 /* GET RELATED REQUEST QUEUE PTR */
         L     R1,DEBECBB-1(,DEBPTR)                               1044
         LA    R1,0(,R1)                                           1044
*       IF R1^=0 THEN               /* IF RRQ PTR IS NOT ZERO THEN   */
         SLR   @00,@00                                             1045
         CR    R1,@00                                              1045
         BE    @RF01045                                            1045
*         DO;                                                      1046
*           IF UCB3UREC=ON THEN     /* IF UNIT RECORD DEVICE   YM7233*/
         TM    UCB3UREC(UCBPTR),B'00001000'                        1047
         BNO   @RF01047                                            1047
*             DO;                   /* THEN SEARCH TCB DEB CHAIN FOR
*                                      OTHER DEB WITH SAME RRQ YM7233*/
*               STM(DEBPTR,RET,TRRSAV2);/* SAVE SETLOCK REGS   YM7233*/
         STM   DEBPTR,RET,TRRSAV2(RD)                              1049
*               RF=RD;              /* SAVE REG 13           @ZA05470*/
         LR    RF,RD                                               1050
*               GEN;                                               1051
*                                       /*                     YM7233*/
         MODESET EXTKEY=SUPR            SETLOCK KEY              YM7871
RRQCHK10 SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,                        *
               RELATED=(LOCAL,IFG0RR0B(RRQCHK30))                YM7233
         MODESET EXTKEY=DATAMGT         DATA MGT KEY             YM7871
*               RD=RF;              /* RESTORE REG 13        @ZA05470*/
         LR    RD,RF                                               1052
*               LM(DEBPTR,RET,TRRSAV2);/* RESTORE REGS         YM7233*/
         LM    DEBPTR,RET,TRRSAV2(RD)                              1053
*               RF=DEBTCBAD+4;      /* INIT FOR DEB SEARCH     YM7233*/
         L     RF,DEBTCBAD(,DEBPTR)                                1054
         LA    RF,4(,RF)                                           1054
*               DO WHILE RF->DEBDEBB^=0;/* SEARCH DEBCHAIN     YM7233*/
         B     @DE01055                                            1055
@DL01055 DS    0H                                                  1056
*                 RF=RF->DEBDEBB;   /* GET NEXT DEB            YM7233*/
         L     @00,DEBDEBB-1(,RF)                                  1056
         ICM   @00,8,@CB00081                                      1056
         LR    RF,@00                                              1056
*                 IF R1=RF->DEBECBB THEN/* IF SAME RRQ         YM7233*/
         L     @00,DEBECBB-1(,RF)                                  1057
         ICM   @00,8,@CB00081                                      1057
         CR    R1,@00                                              1057
         BNE   @RF01057                                            1057
*                   DO;             /* DO NOT FREE THIS ONE    YM7233*/
*                     R1=0;         /* SET RRQ PTR TO 0        YM7233*/
         SLR   R1,R1                                               1059
*                     GOTO RRQCHK20;/* RELEASE LOCK            YM7233*/
         B     RRQCHK20                                            1060
*                   END;            /*                         YM7233*/
*               END;                /*                         YM7233*/
@RF01057 DS    0H                                                  1062
@DE01055 L     @00,DEBDEBB-1(,RF)                                  1062
         ICM   @00,8,@CB00081                                      1062
         LTR   @00,@00                                             1062
         BNZ   @DL01055                                            1062
*RRQCHK20:                          /* RELEASE LOCAL LOCK      YM7233*/
*               STM(DEBPTR,RET,TRRSAV2);/* SAVE SETLOCK REGS   YM7233*/
RRQCHK20 STM   DEBPTR,RET,TRRSAV2(RD)                              1063
*               RF=RD;              /* SAVE REG 13           @ZA05470*/
         LR    RF,RD                                               1064
*               GEN;                                               1065
         MODESET EXTKEY=SUPR            SETLOCK KEY              YM7871
RRQCHK30 SETLOCK RELEASE,TYPE=LOCAL,                                   *
               RELATED=(LOCAL,IFG0440B(RRQCHK10)) RELEASE LOCK   YM7233
         MODESET EXTKEY=DATAMGT         RETURN TO DATA MGT KEY   YM7871
*               RD=RF;              /* RESTORE REG 13        @ZA05470*/
         LR    RD,RF                                               1066
*               LM(DEBPTR,RET,TRRSAV2);/* RESTORE REGS         YM7233*/
         LM    DEBPTR,RET,TRRSAV2(RD)                              1067
*             END;                                                 1068
*           IF R1^=0 THEN           /* IF RRQ TO BE FREED      YM7233*/
@RF01047 LTR   R1,R1                                               1069
         BZ    @RF01069                                            1069
*             DO;                   /* FREE RRQ                YM7233*/
*               RF=ADDR(TRRSAV2);   /* PT TO 2ND SAVE AREA     YM7233*/
         LA    RF,TRRSAV2(,RD)                                     1071
*               GEN REFS(CVTDMSR,CVT);                             1072
         IECRES FREE,A=(1),PREFIX=NO,STM=(0,14,0(RF)),SP=254,          *
               LV=8,KEY=0               FREE RELATED REQUEST QUEUE
*             END;                  /*                         YM7233*/
*         END;                                                     1074
@RF01069 DS    0H                                                  1075
*       RFY                                                        1075
*        (R1,                                                      1075
*         RF) UNRSTD;                                              1075
@RF01045 DS    0H                                                  1076
*     END;                                                         1076
*   END RRQCHK;                     /* RETURN TO CALLER              */
@EL00022 DS    0H                                                  1077
@EF00022 DS    0H                                                  1077
@ER00022 LM    @14,@12,12(@13)                                     1077
         BR    @14                                                 1077
@PB00022 DS    0H                                                  1078
*   GEN(EJECT);                                                    1078
         EJECT
*                                                                  1079
*/********************************************************************/
*/*         FINAL RESTORATION OF DCB/ACB TO PRE-OPEN STATUS          */
*/********************************************************************/
*                                                                  1079
*FINREST:                                                          1079
*   PROC OPTIONS(NOSAVEAREA);                                      1079
         B     @PB00023                                            1079
FINREST  STM   @14,@12,12(@13)                                     1079
*   IF DCBMFECP=OFF&                /* IF NOT EXCP AND               */
*       ACBDORGA=ON&                /* AN ACB EXISTS AND             */
*       ACBAMETH='60'X THEN         /* VTAM IS INDICATED THEN        */
         LA    @15,40                                              1080
         ALR   @15,R2                                              1080
         TM    DCBMFECP(@15),B'10000000'                           1080
         BNZ   @RF01080                                            1080
         TM    ACBDORGA(R2),B'00001000'                            1080
         BNO   @RF01080                                            1080
         CLI   ACBAMETH(R2),96                                     1080
         BNE   @RF01080                                            1080
*     DO;                                                          1081
*       DCBOFLGS='02'X;             /* RESET OFLGS                   */
         MVI   DCBOFLGS(@15),X'02'                                 1082
*       DCBIFLG=DCBIFLGS;           /* RESET IFLGS                   */
         MVC   DCBIFLG(1,@15),DCBIFLGS(@15)                        1083
*       DCBDDNAM=VTAMDDNM;          /* RESTORE DDNAME                */
         MVC   DCBDDNAM(8,@15),VTAMDDNM                            1084
*     END;                                                         1085
*   ELSE                            /* NOT A VTAM ACB                */
*     DO;                                                          1086
         B     @RC01080                                            1086
@RF01080 DS    0H                                                  1087
*       DCBOFLWR=OFF;               /* RESET WRITE BIT               */
*       DCBOFLRB=OFF;               /* RESET READ BACKWARD BIT       */
*       DCBOFEOV=OFF;               /* RESET EOV CONCATENATION BIT   */
*       DCBOFOPN=OFF;               /* RESET OPEN BIT                */
*       DCBOFTM=OFF;                /* RESET TAPEMARK READ BIT       */
*       DCBOFIOF=OFF;               /* RESET BUSY BIT                */
*       DCBOFUEX=ON;                /* RESET LOCK BIT          YM7853*/
         OI    DCBOFUEX+40(R2),B'00000010'                         1093
         NI    DCBOFLWR+40(R2),B'00001010'                         1093
*       IF TIOEDDNM(1)=BLANK THEN   /* IF DDNAME IS BLANK THEN       */
         CLI   TIOEDDNM-24(TIOTPTR),C' '                           1094
         BNE   @RF01094                                            1094
*         DO;                                                      1095
*           RFY                                                    1096
*             RF RSTD;                                             1096
*           RF=DXDSABAD;            /* GET DSAB ADDR                 */
         L     RF,DXDSABAD(,RCORE)                                 1097
*           R9=RF->DSABTIOT;        /* GET TIOT ADDR                 */
         L     R9,DSABTIOT(,RF)                                    1098
*           DO WHILE TIOEDDNM(1)=BLANK;/* FIND NON-BLANK DDNAME      */
         B     @DE01099                                            1099
@DL01099 DS    0H                                                  1100
*             RF=RF->DSABBCHN;      /* GET PREVIOUS DSAB             */
         L     RF,DSABBCHN(,RF)                                    1100
*             R9=RF->DSABTIOT;      /* GET TIOT ADDR                 */
         L     R9,DSABTIOT(,RF)                                    1101
*           END;                    /* CONTINUE SEARCH               */
@DE01099 CLI   TIOEDDNM-24(TIOTPTR),C' '                           1102
         BE    @DL01099                                            1102
*           RFY                                                    1103
*             RF UNRSTD;                                           1103
*         END;                                                     1104
*       DCBMACR=DCBMACRF;           /* RESTORE MACRF                 */
@RF01094 LA    @15,40                                              1105
         ALR   @15,R2                                              1105
         MVC   DCBMACR(2,@15),DCBMACRF(@15)                        1105
*       DCBIFLG=DCBIFLGS;           /* RESTORE IFLGS                 */
         MVC   DCBIFLG(1,@15),DCBIFLGS(@15)                        1106
*       DCBDDNAM=TIOEDDNM;          /* RESTORE DDNAME                */
         MVC   DCBDDNAM(8,@15),TIOEDDNM-24(TIOTPTR)                1107
*     END;                                                         1108
*   DCBIBEC(1:2)=ALLOFF2;           /* RESET ERROR FLAGS             */
@RC01080 NI    DCBIBEC+40(R2),B'00111111'                          1109
*   END FINREST;                    /* RETURN TO CALLER              */
@EL00023 DS    0H                                                  1110
@EF00023 DS    0H                                                  1110
@ER00023 LM    @14,@12,12(@13)                                     1110
         BR    @14                                                 1110
@PB00023 DS    0H                                                  1111
*   GEN(EJECT);                                                    1111
         EJECT
*                                                                  1112
*/********************************************************************/
*/*               REFRESH REAL DCB WITH WORKAREA COPY                */
*/********************************************************************/
*                                                                  1112
*COPYBACK:                                                         1112
*   PROC OPTIONS(NOSAVEAREA);                                      1112
         B     @PB00024                                            1112
COPYBACK STM   @14,@12,12(@13)                                     1112
*   IF DXATREFR=OFF THEN            /* IS COPY BACK TO BE ALLOWED    */
         TM    DXATREFR(RCORE),B'01000000'                         1113
         BNZ   @RF01113                                            1113
*     DO;                           /* YES                           */
*       RFY                                                        1115
*         RF RSTD;                  /* RESTRICT REG                  */
*       RF=ADDR(TRRSAV2);           /* PT TO REG SAVE AREA           */
         LA    RF,TRRSAV2(,RD)                                     1116
*       GEN REFS(WTGPREFX,CVT,CVTDMSR);                            1117
*                                         /*COPY DCB BACK      YM8374*/
*        IECRES INIT,DCBCOPY=FRWKAR,STM=(3,14,8(RF))             YM8374
         STM   3,14,8(RF)               SAVE REGISTERS           YM8374
         LA    15,8(RF)                 ADDRESS OF REG SAVE AREA YM8374
         SR    0,0                      DO NOT INIT WORK AREA    YM8374
         L     6,WTGPREFX(,6)           R6 POINTS TO BASE PREFIX YM8374
         LA    1,8(,0)                  COPY DCB TO USER DCB     YM8374
         L     5,CVTPTR(,0)             LOAD ADDRESS OF CVT      YM8374
         L     5,CVTDMSR-CVT(,5)        LOAD ADDRESS OF IFG019RA YM8374
         BAL   14,44(,5)                LINK TO IFG019RA INIT    YM8374
         LM    3,14,0(15)               RESTORE REGISTERS        YM8374
*       RFY                                                        1118
*         RF UNRSTD;                /* MAKE REG UNRESTRICTED         */
*     END;                                                         1119
*   END COPYBACK;                   /* RETURN TO CALLER              */
@EL00024 DS    0H                                                  1120
@EF00024 DS    0H                                                  1120
@ER00024 LM    @14,@12,12(@13)                                     1120
         BR    @14                                                 1120
@PB00024 DS    0H                                                  1121
*   GEN(EJECT);                                                    1121
         EJECT
*                                                                  1122
*/********************************************************************/
*/*  DETERMINE IF TAPEMARK SHOULD BE WRITTEN FOR AN NL/NSL DATA SET  */
*/********************************************************************/
*                                                                  1122
*WRTM:                                                             1122
*   PROC OPTIONS(NOSAVEAREA);                                      1122
         B     @PB00025                                            1122
WRTM     STM   @14,@12,12(@13)                                     1122
*   IF RRFUNCTN^=RRFOPEN&           /* IF NOT OPEN FUNCTION AND      */
*       RRFUNCTN^=RRFOPENJ&         /* NOT OPENJ FUNCTION AND        */
*       RDEB^=0&                    /* A DEB EXISTS AND              */
*       UCBNOTRD=OFF&               /* THE DEVICE IS READY AND       */
*       DCBOFLWR=ON THEN            /* OUTPUT WAS CHOSEN THEN        */
         CLI   RRFUNCTN(RRRF),X'13'                                1123
         BE    @RF01123                                            1123
         CLI   RRFUNCTN(RRRF),X'16'                                1123
         BE    @RF01123                                            1123
         LTR   RDEB,RDEB                                           1123
         BZ    @RF01123                                            1123
         TM    UCBNOTRD(UCBPTR),B'01000000'                        1123
         BNZ   @RF01123                                            1123
         TM    DCBOFLWR+40(R2),B'10000000'                         1123
         BNO   @RF01123                                            1123
*     DO;                                                          1124
*       IF DEBLABEL=ON THEN         /* IF NSL WAS SPECIFIED THEN     */
         TM    DEBLABEL(DEBPTR),B'00000010'                        1125
         BNO   @RF01125                                            1125
*         DO;                                                      1126
*           IF DXATNSL=OFF THEN     /* IF NSL OUTPUT RTN DID NOT     */
         TM    DXATNSL(RCORE),B'00000001'                          1127
         BNZ   @RF01127                                            1127
*             DO;                   /* YET HAVE CONTROL THEN         */
*               CALL TAPEMARK;      /* GO WRITE A TAPEMARK           */
         BAL   @14,TAPEMARK                                        1129
*               IF RC=0&            /* IF TAPEMARK WRITTEN OK AND    */
*                   SDWACOMP^=0 THEN/* A CRSA EXISTS THEN            */
         SLR   @15,@15                                             1130
         CR    RC,@15                                              1130
         BNE   @RF01130                                            1130
         C     @15,SDWACOMP(,SDWAPTR)                              1130
         BE    @RF01130                                            1130
*                 CRSTMAD=ON;       /* SHOW TAPEMARK WAS WRITTEN     */
         L     @15,DXATCOM4(,RCORE)                                1131
         OI    CRSTMAD(@15),B'10000000'                            1131
*             END;                                                 1132
*           ELSE                    /* NSL OUTPUT RTN HAD CONTROL    */
*             IF SDWACOMP^=0 THEN   /* IF A CRSA EXISTS THEN SHOW    */
         B     @RC01127                                            1133
@RF01127 L     @15,SDWACOMP(,SDWAPTR)                              1133
         LTR   @15,@15                                             1133
         BZ    @RF01133                                            1133
*               CRSNSL=ON;          /* NSL OUTPUT RTN HAD CONTROL    */
         L     @15,DXATCOM4(,RCORE)                                1134
         OI    CRSNSL(@15),B'00000001'                             1134
*         END;                                                     1135
*       ELSE                        /* NOT NSL, MUST BE NL OR BLP    */
*         IF DXATDATM=OFF&          /* IF NO TAPEMARK WAS WRITTEN    */
*             DXATTTM1=OFF&DXATTTM2=OFF THEN/* THEN                  */
         B     @RC01125                                            1136
@RF01125 TM    DXATDATM(RCORE),B'00100110'                         1136
         BNZ   @RF01136                                            1136
*           DO;                                                    1137
*             CALL TAPEMARK;        /* GO WRITE A TAPEMARK           */
         BAL   @14,TAPEMARK                                        1138
*             IF RC=0&              /* IF TAPEMARK WRITTEN OK AND    */
*                 SDWACOMP^=0 THEN  /* A CRSA EXISTS THEN            */
         SLR   @15,@15                                             1139
         CR    RC,@15                                              1139
         BNE   @RF01139                                            1139
         C     @15,SDWACOMP(,SDWAPTR)                              1139
         BE    @RF01139                                            1139
*               CRSTMAD=ON;         /* SHOW TAPEMARK WAS WRITTEN     */
         L     @15,DXATCOM4(,RCORE)                                1140
         OI    CRSTMAD(@15),B'10000000'                            1140
*           END;                                                   1141
*     END;                                                         1142
*   END WRTM;                       /* RETURN TO CALLER              */
@EL00025 DS    0H                                                  1143
@EF00025 DS    0H                                                  1143
@ER00025 LM    @14,@12,12(@13)                                     1143
         BR    @14                                                 1143
@PB00025 DS    0H                                                  1144
*   GEN(EJECT);                                                    1144
         EJECT
*                                                                  1145
*/********************************************************************/
*/*             DETERMINE IF TAPEMARK-LABELS-TAPEMARKS               */
*/*             SHOULD BE WRITTEN FOR AN SL/AL DATA SET              */
*/********************************************************************/
*                                                                  1145
*WTMLBLTM:                                                         1145
*   PROC OPTIONS(NOSAVEAREA);                                      1145
         B     @PB00026                                            1145
WTMLBLTM STM   @14,@12,12(@13)                                     1145
*   SACALLED=ADDR(TRRSAV2);         /* FORWARD CHAIN S A       YM8374*/
         LA    @15,TRRSAV2(,RD)                                    1146
         ST    @15,SACALLED(,RD)                                   1146
*   EVAL(ADDR(TRRSAV2))->SACALLER=RD;/* SAVEAREA BACKCHAIN     YM8374*/
         LA    @01,TRRSAV2(,RD)                                    1147
         ST    RD,SACALLER(,@01)                                   1147
*   RD=ADDR(TRRSAV2);               /* SETUP SAVE AREA PTR     YM8374*/
         LR    RD,@15                                              1148
*   IF RRFUNCTN^=RRFOPEN&           /* IF NOT AN OPEN ENTRY AND      */
*       RRFUNCTN^=RRFOPENJ&         /* NOT AN OPENJ ENTRY AND        */
*       RDEB^=0&                    /* A DEB EXISTS AND              */
*       UCBNOTRD=OFF&               /* THE DEVICE IS READY AND       */
*       DXATNVOL=OFF THEN           /* EOV NEW VOLUME NOT INVOLVED   */
         CLI   RRFUNCTN(RRRF),X'13'                                1149
         BE    @RF01149                                            1149
         CLI   RRFUNCTN(RRRF),X'16'                                1149
         BE    @RF01149                                            1149
         LTR   RDEB,RDEB                                           1149
         BZ    @RF01149                                            1149
         TM    UCBNOTRD(UCBPTR),B'01000000'                        1149
         BNZ   @RF01149                                            1149
         TM    DXATNVOL(RCORE),B'01000000'                         1149
         BNZ   @RF01149                                            1149
*     DO;                           /* THEN                          */
*       CALL DATM;                  /* TRY TO WRITE TM AFTER DATA    */
         BAL   @14,DATM                                            1151
*       IF RC=0 THEN                /* SHOULD PROCESSING CONTINUE    */
         LTR   RC,RC                                               1152
         BNZ   @RF01152                                            1152
*         DO;                       /* YES, THEN                     */
*           CALL TRL1;              /* TRY TO WRITE TRAILER LBL 1    */
         BAL   @14,TRL1                                            1154
*           IF RC=0 THEN            /* SHOULD PROCESSING CONTINUE    */
         LTR   RC,RC                                               1155
         BNZ   @RF01155                                            1155
*             DO;                   /* YES, THEN                     */
*               CALL TRL2;          /* TRY TO WRITE TRAILER LBL 2    */
         BAL   @14,TRL2                                            1157
*               IF RC=0 THEN        /* SHOULD PROCESSING CONTINUE    */
         LTR   RC,RC                                               1158
         BNZ   @RF01158                                            1158
*                 DO;               /* YES, THEN                     */
*                   CALL TTM1;      /* TRY TO WRITE TRAILING TM 1    */
         BAL   @14,TTM1                                            1160
*                   IF RC=0 THEN    /* SHOULD PROCESSING CONTINUE    */
         LTR   RC,RC                                               1161
         BNZ   @RF01161                                            1161
*                     DO;           /* YES, THEN                     */
*                       CALL TTM2;  /* TRY TO WRITE TRAILING TM 2    */
         BAL   @14,TTM2                                            1163
*                     END;                                         1164
*                 END;                                             1165
@RF01161 DS    0H                                                  1166
*             END;                                                 1166
@RF01158 DS    0H                                                  1167
*         END;                                                     1167
@RF01155 DS    0H                                                  1168
*     END;                                                         1168
@RF01152 DS    0H                                                  1169
*   RD=SACALLER;                    /* GET CALLER SAVEAREA     YM8374*/
@RF01149 L     RD,SACALLER(,RD)                                    1169
*   END WTMLBLTM;                   /* RETURN TO CALLER              */
@EL00026 DS    0H                                                  1170
@EF00026 DS    0H                                                  1170
@ER00026 LM    @14,@12,12(@13)                                     1170
         BR    @14                                                 1170
@PB00026 DS    0H                                                  1171
*   GEN(EJECT);                                                    1171
         EJECT
*                                                                  1172
*/********************************************************************/
*/*                           WRITE TAPEMARK                         */
*/********************************************************************/
*                                                                  1172
*TAPEMARK:                                                         1172
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               1172
         B     @PB00027                                            1172
TAPEMARK DS    0H                                                  1173
*   DXCCW(1:16)=WTMCCW;             /* SET UP CCW TO WRITE TM        */
         MVC   DXCCW(16,RCORE),WTMCCW                              1173
*   DXDEBUCB=DEBSUCBA;              /* UCB ADDR TO WORK AREA DEB     */
         L     @15,DEBSUCBA(,DEBPTR)                               1174
         ST    @15,DXDEBUCB(,RCORE)                                1174
*   GEN(MODESET EXTKEY=SUPR);       /* SET UCB KEY             YM7871*/
         MODESET EXTKEY=SUPR
*   UCBREW=OFF;                     /* INSURE REWIND BIT OFF         */
         NI    UCBREW(UCBPTR),B'11101111'                          1176
*   GEN(MODESET EXTKEY=DATAMGT);    /* SET DATA MGT KEY        YM7871*/
         MODESET EXTKEY=DATAMGT
*   RFY                                                            1178
*     R1 RSTD;                      /* RESTRICT REG            YM4679*/
*   R1=ADDR(DXIOB);                 /* GET IOB ADDR            YM4679*/
         LA    R1,DXIOB(,RCORE)                                    1179
*   GEN(EXCP  (1));                 /* INIT I/O OPERATION      YM4679*/
         EXCP  (1)
*   R1=ADDR(DXECB);                 /* GET ECB ADDR            YM4679*/
         LA    R1,DXECB(,RCORE)                                    1181
*   GEN(WAIT  ,ECB=(1));            /* WAIT TO COMPLETE I/O    YM4679*/
         WAIT  ,ECB=(1)
*   RFY                                                            1183
*     R1 UNRSTD;                    /* MAKE REG UNRSTD         YM4679*/
*   IF DXECB(1)='7F'X THEN          /* IF I/O COMPLETED OK           */
         CLI   DXECB(RCORE),X'7F'                                  1184
         BNE   @RF01184                                            1184
*     RC=0;                         /* SET RETURN CODE OF ZERO       */
         SLR   RC,RC                                               1185
*   ELSE                            /* OTHERWISE                     */
*     RC=1;                         /* SET NON-ZERO RETURN CODE      */
         B     @RC01184                                            1186
@RF01184 LA    RC,1                                                1186
*   END TAPEMARK;                   /* RETURN TO CALLER              */
@EL00027 DS    0H                                                  1187
@EF00027 DS    0H                                                  1187
@ER00027 BR    @14                                                 1187
@PB00027 DS    0H                                                  1188
*   GEN(EJECT);                                                    1188
         EJECT
*                                                                  1189
*/********************************************************************/
*/*             DETERMINE IF TAPEMARK SHOULD BE WRITTEN              */
*/*             AFTER DATA FOR AN SL/AL DATA SET                     */
*/********************************************************************/
*                                                                  1189
*DATM:                                                             1189
*   PROC OPTIONS(NOSAVEAREA);                                      1189
         B     @PB00028                                            1189
DATM     STM   @14,@12,12(@13)                                     1189
*   IF DXATDATM=OFF THEN            /* TAPEMARK WRITTEN AFTER DATA   */
         TM    DXATDATM(RCORE),B'00100000'                         1190
         BNZ   @RF01190                                            1190
*     DO;                           /* NO, THEN                      */
*       CALL TAPEMARK;              /* GO WRITE A TAPEMARK           */
         BAL   @14,TAPEMARK                                        1192
*       IF RC=0 THEN                /* TAPEMARK WRITTEN OK           */
         SLR   @15,@15                                             1193
         CR    RC,@15                                              1193
         BNE   @RF01193                                            1193
*         DO;                       /* YES, THEN                     */
*           IF SDWACOMP^=0 THEN     /* DOES A CRSA EXIST             */
         C     @15,SDWACOMP(,SDWAPTR)                              1195
         BE    @RF01195                                            1195
*             CRSTMAD=ON;           /* YES, THEN SET FLAG            */
         L     @15,DXATCOM4(,RCORE)                                1196
         OI    CRSTMAD(@15),B'10000000'                            1196
*         END;                      /* GO RETURN                     */
*       ELSE                        /* ERROR WRITING TAPEMARK        */
*         RC=1;                     /* SET ERROR RETURN CODE         */
         B     @RC01193                                            1198
@RF01193 LA    RC,1                                                1198
*     END;                          /* GO RETURN                     */
*   ELSE                            /* TAPEMARK ALREADY WRITTEN      */
*     RC=0;                         /* SET RETURN CODE               */
         B     @RC01190                                            1200
@RF01190 SLR   RC,RC                                               1200
*   END DATM;                       /* RETURN TO CALLER              */
@EL00028 DS    0H                                                  1201
@EF00028 DS    0H                                                  1201
@ER00028 LM    @14,@12,12(@13)                                     1201
         BR    @14                                                 1201
@PB00028 DS    0H                                                  1202
*   GEN(EJECT);                                                    1202
         EJECT
*                                                                  1203
*/********************************************************************/
*/*                  CONSTRUCT END-OF-FILE LABEL 1                   */
*/********************************************************************/
*                                                                  1203
*TRL1:                                                             1203
*   PROC OPTIONS(NOSAVEAREA);                                      1203
         B     @PB00029                                            1203
TRL1     STM   @14,@12,12(@13)                                     1203
*   IF DXATTRL1=OFF THEN            /* IF TRLR LBL 1 NOT WRITTEN     */
         TM    DXATTRL1(RCORE),B'00010000'                         1204
         BNZ   @RF01204                                            1204
*     DO;                           /* THEN BUILD AND WRITE IT       */
*       FL1LABI=EOF;                /* SET FILE LABEL ID TO EOF      */
         MVC   FL1LABI(3,RCORE),EOF                                1206
*       FL1NO=CHAR1;                /* SET FILE LABEL NUMBER TO 1    */
         MVI   FL1NO(RCORE),C'1'                                   1207
*/*             DETERMINE 17 LEAST SIGNIFICANT NON-BLANK             */
*/*             CHARACTERS IN DATA SET NAME IN JFCB                  */
*                                                                  1208
*       R9=ADDR(JFCBDSNM);          /* PT TO JFCB DSNAME             */
         LA    R9,100(,RCORE)                                      1208
*       RET=R9+27;                  /* GET ADDR OF 1ST POSSIBLE    1209
*                                      SIGNIFICANT CHARACTER         */
         LA    RET,27(,R9)                                         1209
*       DO WHILE(RET+16)->JFCBDSNM(1)=BLANK;/* FIND NON-BLANK CHAR   */
         B     @DE01210                                            1210
@DL01210 DS    0H                                                  1211
*         RET=RET-1;                /* DECR POINTER                  */
         BCTR  RET,0                                               1211
*       END;                        /* CONTINUE SEARCH               */
@DE01210 CLI   JFCBDSNM+16(RET),C' '                               1212
         BE    @DL01210                                            1212
*       IF RET^<R9 THEN             /* IF LEFT PT WITHIN FIELD THEN  */
         CR    RET,R9                                              1213
         BL    @RF01213                                            1213
*         R9=RET;                   /* USE LAST 17 LEAST SIG CHARS   */
         LR    R9,RET                                              1214
*       FL1ID=R9->JFCBDSNM;         /* MOVE DSNAME INTO FILE ID      */
@RF01213 MVC   FL1ID(17,RCORE),JFCBDSNM(R9)                        1215
*/*        GENERATION NUMBER AND VERSION NUMBER OF GENERATION        */
*                                                                  1216
*       FL1GNO(1:45)='';            /* BLANK FIELDS                  */
         MVI   FL1GNO(RCORE),C' '                                  1216
         MVC   FL1GNO+1(44,RCORE),FL1GNO(RCORE)                    1216
*       IF JFCBELNM(2)^=BLANK THEN  /* IF A GENERATION DATA SET      */
         CLI   JFCBELNM+101(RCORE),C' '                            1217
         BE    @RF01217                                            1217
*         DO;                       /* THEN                          */
*           RET=RET+9;              /* PT TO GENERATION NO. IN DSN 1219
*                                      WHICH IS OF FORM GNNNNVNN     */
         LA    RET,9(,RET)                                         1219
*           FL1GNO=RET->JFCBDSNM(2:5);/* MOVE GENERATION NO. TO LBL  */
         MVC   FL1GNO(4,RCORE),JFCBDSNM+1(RET)                     1220
*           FL1VNG=RET->JFCBDSNM(7:8);/* MOVE VERSION NO. TO LBL     */
         MVC   FL1VNG(2,RCORE),JFCBDSNM+6(RET)                     1221
*         END;                                                     1222
*                                                                  1222
*/*      FILE SERIAL, VOLUME SEQUENCE AND FILE SEQUENCE NUMBERS      */
*                                                                  1223
*       FL1FILSR=UCBFSER;           /* FILE SERIAL NUMBER            */
@RF01217 MVC   FL1FILSR(6,RCORE),UCBFSER(UCBPTR)                   1223
*       RC=JFCBVLSQ;                /* VOL SEQ NUMBER OF 1ST VOL     */
         LH    RC,JFCBVLSQ+100(,RCORE)                             1224
*       IF RC^=0 THEN               /* VOL SEQ NUMBER EQUAL ZERO     */
         LTR   RC,RC                                               1225
         BZ    @RF01225                                            1225
*         RC=RC-1;                  /* NO, DECR BY 1                 */
         BCTR  RC,0                                                1226
*       RC=RC+(RDEB+38)->DEBVOLSQ;  /* ADD VOL SEQ NO. FROM DEB      */
@RF01225 LH    @15,DEBVOLSQ+38(,RDEB)                              1227
         N     @15,@CF04447                                        1227
         ALR   RC,@15                                              1227
*       CVD(RC,DXCCW2);             /* BINARY TO PACKED DECIMAL      */
         CVD   RC,DXCCW2(,RCORE)                                   1228
*       UNPK(FL1VOLSQ,DXCCW2);      /* VOL SEQ NUMBER IN EBCDIC      */
         UNPK  FL1VOLSQ(4,RCORE),DXCCW2(8,RCORE)                   1229
*       FL1VOLSQ(4)=FL1VOLSQ(4)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL1VOLSQ+3(RCORE),B'11110000'                       1230
*       RC=JFCBFLSQ;                /* VOL SEQ NUMBER OF 1ST VOL     */
         LA    @15,100                                             1231
         ALR   @15,RCORE                                           1231
         LH    RC,JFCBFLSQ(,@15)                                   1231
*       CVD(RC,DXCCW2);             /* BINARY TO PACKED DECIMAL      */
         CVD   RC,DXCCW2(,RCORE)                                   1232
*       UNPK(FL1FILSQ,DXCCW2);      /* FILE SEQ NUMBER IN EBCDIC     */
         UNPK  FL1FILSQ(4,RCORE),DXCCW2(8,RCORE)                   1233
*       FL1FILSQ(4)=FL1FILSQ(4)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL1FILSQ+3(RCORE),B'11110000'                       1234
*/*                          CREATION DATE                           */
*                                                                  1235
*       RC=JFCBCRDT(1);             /* PICK UP YEAR OF CREATION      */
         SLR   RC,RC                                               1235
         IC    RC,JFCBCRDT(,@15)                                   1235
*       CVD(RC,DXCCW2);             /* CONVERT YEAR TO DECIMAL LABEL
*                                      TO BE OF FORM BYYDDD          */
         CVD   RC,DXCCW2(,RCORE)                                   1236
*       UNPK(FL1CREDT(2:3),DXCCW2); /* YEAR IN EBCDIC INTO LABEL     */
         UNPK  FL1CREDT+1(2,RCORE),DXCCW2(8,RCORE)                 1237
*       FL1CREDT(3)=FL1CREDT(3)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL1CREDT+2(RCORE),B'11110000'                       1238
*       RC=JFCBCRDT(2:3);           /* PICK UP DAY OF CREATION       */
         SLR   RC,RC                                               1239
         ICM   RC,3,JFCBCRDT+1(@15)                                1239
*       CVD(RC,DXCCW2);             /* CONVERT DAY TO DECIMAL        */
         CVD   RC,DXCCW2(,RCORE)                                   1240
*       UNPK(FL1CREDT(4:6),DXCCW2); /* CREATION DAY (EBCDIC) TO LBL  */
         UNPK  FL1CREDT+3(3,RCORE),DXCCW2(8,RCORE)                 1241
*       FL1CREDT(6)=FL1CREDT(6)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL1CREDT+5(RCORE),B'11110000'                       1242
*/*                         EXPIRATION DATE                          */
*                                                                  1243
*       RC=0;                       /* CLEAR REGISTER                */
         SLR   RC,RC                                               1243
*       RC=JFCBXPDT(1);             /* PICK UP YEAR OF EXPIRATION    */
         SLR   RC,RC                                               1244
         IC    RC,JFCBXPDT(,@15)                                   1244
*       CVD(RC,DXCCW2);             /* CONVERT YEAR TO DECIMAL LABEL
*                                      TO BE OF FORM BYYDDD          */
         CVD   RC,DXCCW2(,RCORE)                                   1245
*       UNPK(FL1EXPDT(2:3),DXCCW2); /* YEAR IN EBCDIC INTO LABEL     */
         UNPK  FL1EXPDT+1(2,RCORE),DXCCW2(8,RCORE)                 1246
*       FL1EXPDT(3)=FL1EXPDT(3)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL1EXPDT+2(RCORE),B'11110000'                       1247
*       RC=JFCBXPDT(2:3);           /* PICK UP DAY OF EXPIRATION     */
         SLR   RC,RC                                               1248
         ICM   RC,3,JFCBXPDT+1(@15)                                1248
*       CVD(RC,DXCCW2);             /* CONVERT DAY TO DECIMAL        */
         CVD   RC,DXCCW2(,RCORE)                                   1249
*       UNPK(FL1EXPDT(4:6),DXCCW2); /* EBCDIC CREATION DAY TO LBL    */
         UNPK  FL1EXPDT+3(3,RCORE),DXCCW2(8,RCORE)                 1250
*       FL1EXPDT(6)=FL1EXPDT(6)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL1EXPDT+5(RCORE),B'11110000'                       1251
*/*                           BLOCK COUNT                            */
*                                                                  1252
*       RC=DCBBLKCT;                /* PICK UP BLOCK COUNT           */
         L     RC,DCBBLKCT(,R2)                                    1252
*       CVD(RC,DXCCW2);             /* CONVERT BLK CNT TO DECIMAL    */
         CVD   RC,DXCCW2(,RCORE)                                   1253
*       UNPK(FL1BLKCT,DXCCW2);      /* BLOCK COUNT (EBCDIC) TO LBL   */
         UNPK  FL1BLKCT(6,RCORE),DXCCW2(8,RCORE)                   1254
*       FL1BLKCT(6)=FL1BLKCT(6)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL1BLKCT+5(RCORE),B'11110000'                       1255
*       IF DCBMFECP=ON THEN         /* IF EXCP IS BEING USED THEN    */
         LA    @15,40                                              1256
         ALR   @15,R2                                              1256
         TM    DCBMFECP(@15),B'10000000'                           1256
         BNO   @RF01256                                            1256
*         IF DCBMF5WD=OFF&          /* IF THE TAPE DEPENDENT         */
*             DCBMF4WD=OFF THEN     /* PORTION DOES NOT EXIST THEN   */
         TM    DCBMF5WD(@15),B'00001100'                           1257
         BNZ   @RF01257                                            1257
*           FL1BLKCT=ZEROS;         /* ZERO BLOCK COUNT IN LABEL   1258
*                                      SINCE DCB FIELD NOT PRESENT   */
         MVI   FL1BLKCT+5(RCORE),C' '                              1258
         MVC   FL1BLKCT(5,RCORE),ZEROS                             1258
*/*                        DATA SET SECURITY                         */
*                                                                  1259
*       FL1FSEC=CHAR0;              /* RESET DATA SET SECURITY IND   */
@RF01257 DS    0H                                                  1259
@RF01256 MVI   FL1FSEC(RCORE),C'0'                                 1259
*       IF JFCSECUR(2)=ON THEN      /* IF SECURITY SPECIFIED THEN    */
         LA    @15,100                                             1260
         ALR   @15,RCORE                                           1260
         TM    JFCSECUR(@15),B'00010000'                           1260
         BNO   @RF01260                                            1260
*         DO;                                                      1261
*           FL1FSEC=CHAR1;          /* IND READ/WRITE PROTECTED      */
         MVI   FL1FSEC(RCORE),C'1'                                 1262
*           IF JFCSECUR(1)=ON THEN  /* IF WRITE-ONLY PROTECTED       */
         TM    JFCSECUR(@15),B'00100000'                           1263
         BNO   @RF01263                                            1263
*             FL1FSEC=CHAR3;        /* THEN SO INDICATE              */
         MVI   FL1FSEC(RCORE),C'3'                                 1264
*         END;                                                     1265
*                                                                  1265
@RF01263 DS    0H                                                  1266
*/*                 SYSTEM CODE AND RESERVED FIELDS                  */
*                                                                  1266
*       IF UCBBSTR=ON THEN          /* IF ANSI LABELS THEN           */
@RF01260 TM    UCBBSTR(UCBPTR),B'00000100'                         1266
         BNO   @RF01266                                            1266
*         DO;                                                      1267
*           IF JFCSECUR(2)=OFF THEN /* IF SECURITY NOT SPECIFIED     */
         TM    JFCSECUR+100(RCORE),B'00010000'                     1268
         BNZ   @RF01268                                            1268
*             FL1FSEC=BLANK;        /* BLANK ACCESSABILITY BYTE      */
         MVI   FL1FSEC(RCORE),C' '                                 1269
*           FL1SYSCD(1:5)=ASYSCD;   /* MOVE IN ANSI SYSTEM CODE      */
@RF01268 MVC   FL1SYSCD(5,RCORE),ASYSCD                            1270
*           RFY                                                    1271
*             R1 RSTD;              /* RESTRICT REG            YM4679*/
*           R1=ADDR(DXLBL);         /* GET PT TO LBL BFR       YM4679*/
         LR    R1,RCORE                                            1272
*           GEN(XLATE (1),80,TO=A); /* TRANSLATE FILE LBL 1    YM4679*/
         XLATE (1),80,TO=A
*           RFY                                                    1274
*             R1 UNRSTD;            /* MAKE REG UNRSTD         YM4679*/
*         END;                                                     1275
*       ELSE                        /* NOT ANSI LABELS               */
*         FL1SYSCD=VSSYSC;          /* MOVE IN VS SYSTEM CODE        */
         B     @RC01266                                            1276
@RF01266 MVC   FL1SYSCD(13,RCORE),VSSYSC                           1276
*       CALL TAPELBL;               /* GO WRITE LABEL                */
@RC01266 BAL   @14,TAPELBL                                         1277
*       IF RC=0 THEN                /* IF I/O COMPLETED OK THEN      */
         SLR   @15,@15                                             1278
         CR    RC,@15                                              1278
         BNE   @RF01278                                            1278
*         IF SDWACOMP^=0 THEN       /* IF A CRSA EXISTS THEN         */
         C     @15,SDWACOMP(,SDWAPTR)                              1279
         BE    @RF01279                                            1279
*           CRSEOF1=ON;             /* INDICATE TRLR LBL 1 WRITTEN   */
         L     @15,DXATCOM4(,RCORE)                                1280
         OI    CRSEOF1(@15),B'00100000'                            1280
*     END;                                                         1281
*   ELSE                            /* TRLR LBL 1 ALREADY WRITTEN    */
*     RC=0;                         /* SET RETURN CODE               */
         B     @RC01204                                            1282
@RF01204 SLR   RC,RC                                               1282
*   END TRL1;                       /* RETURN TO CALLER              */
@EL00029 DS    0H                                                  1283
@EF00029 DS    0H                                                  1283
@ER00029 LM    @14,@12,12(@13)                                     1283
         BR    @14                                                 1283
@PB00029 DS    0H                                                  1284
*   GEN(EJECT);                                                    1284
         EJECT
*                                                                  1285
*/********************************************************************/
*/*                  CONSTRUCT END-OF-FILE LABEL 2                   */
*/********************************************************************/
*                                                                  1285
*TRL2:                                                             1285
*   PROC OPTIONS(NOSAVEAREA);                                      1285
         B     @PB00030                                            1285
TRL2     STM   @14,@12,12(@13)                                     1285
*   IF DXATTRL2=OFF THEN            /* IF TRLR LBL 2 NOT WRITTEN     */
         TM    DXATTRL2(RCORE),B'00001000'                         1286
         BNZ   @RF01286                                            1286
*     DO;                           /* THEN BUILD AND WRITE IT       */
*       FL1LABI=EOF;                /* SET FILE LABEL ID TO EOF      */
         MVC   FL1LABI(3,RCORE),EOF                                1288
*       FL1NO=CHAR2;                /* SET FILE LABEL ID TO 2        */
         MVI   FL1NO(RCORE),C'2'                                   1289
*       FL2TRTCH(1:46)='';          /* BLANK 46 CHARACTERS OF LBL    */
         MVI   FL2TRTCH(RCORE),C' '                                1290
         MVC   FL2TRTCH+1(45,RCORE),FL2TRTCH(RCORE)                1290
*       IF DXDSAB->DSABCKDS=ON THEN /* IF CHECKPOINT DATA SET THEN   */
         L     @15,DXDSAB(,RCORE)                                  1291
         TM    DSABCKDS(@15),B'10000000'                           1291
         BNO   @RF01291                                            1291
*         FL2DSIND=FL2CKDS;         /* SET CHECKPOINT LABEL FLAG     */
         MVI   FL2DSIND(RCORE),C'C'                                1292
*/*                        BLOCKING ATTRIBUTE                        */
*                                                                  1293
*       RC=JFCRECFM;                /* RECORD FORMAT FROM JFCB       */
@RF01291 LA    @15,100                                             1293
         ALR   @15,RCORE                                           1293
         SLR   RC,RC                                               1293
         IC    RC,JFCRECFM(,@15)                                   1293
*       SRL(RC,3);                  /* BITS 0,1 CONTAIN BLK ATTRIB   */
         SRL   RC,3                                                1294
*       FL2BLKA=RC;                 /* PREPARE TO TRANSLATE BY       */
         STC   RC,FL2BLKA(,RCORE)                                  1295
*       FL2BLKA=FL2BLKA&'03'X;      /* ZEROING ALL BUT BITS 0,1      */
         NI    FL2BLKA(RCORE),X'03'                                1296
*       TR(FL2BLKA,ABLKA);          /* TRANSLATE TO S,B,R, OR BLANK  */
         TR    FL2BLKA(1,RCORE),ABLKA                              1297
*/*                          RECORD FORMAT                           */
*                                                                  1298
*       SRL(RC,3);                  /* BITS 0,1 CONTAIN RECFM        */
         SRL   RC,3                                                1298
*       FL2RECFM=RC;                /* SET UNTRANSLATED RECFM        */
         STC   RC,FL2RECFM(,RCORE)                                 1299
*       TR(FL2RECFM,ARECFM);        /* TRANSLATE TO F,V,U,D          */
         TR    FL2RECFM(1,RCORE),ARECFM                            1300
*/*               BLOCK SIZE AND LOGICAL RECORD LENGTH               */
*                                                                  1301
*       RC=JFCBLKSI;                /* GET BLK LNG FROM JFCB         */
         LH    RC,JFCBLKSI(,@15)                                   1301
*       CVD(RC,DXCCW2);             /* CONVERT BLK LNG TO DECIMAL    */
         CVD   RC,DXCCW2(,RCORE)                                   1302
*       UNPK(FL2BLKL,DXCCW2);       /* BLK LNG IN EBCDIC TO LABEL    */
         UNPK  FL2BLKL(5,RCORE),DXCCW2(8,RCORE)                    1303
*       FL2BLKL(5)=FL2BLKL(5)×ZONE; /* REMOVE SIGN BITS              */
         OI    FL2BLKL+4(RCORE),B'11110000'                        1304
*       RC=JFCLRECL;                /* GET LOGICAL RECORD LNG        */
         LH    RC,JFCLRECL(,@15)                                   1305
*       IF RC=AGRTR32K THEN         /* IF LRECL GREATER THAN 32K     */
         LH    @15,AGRTR32K                                        1306
         N     @15,@CF04447                                        1306
         CR    RC,@15                                              1306
         BNE   @RF01306                                            1306
*         FL2LRECL=NINES;           /* THEN SET LRECL TO 9'S         */
         MVC   FL2LRECL(5,RCORE),NINES                             1307
*       ELSE                        /* LRECL LESS THAN 32K           */
*         DO;                                                      1308
         B     @RC01306                                            1308
@RF01306 DS    0H                                                  1309
*           CVD(RC,DXCCW2);         /* CONVERT LRECL TO DECIMAL      */
         CVD   RC,DXCCW2(,RCORE)                                   1309
*           UNPK(FL2LRECL,DXCCW2);  /* LRECL IN EBCDIC TO LABEL      */
         UNPK  FL2LRECL(5,RCORE),DXCCW2(8,RCORE)                   1310
*           FL2LRECL(5)=FL2LRECL(5)×ZONE;/* REMOVE SIGN BITS         */
         OI    FL2LRECL+4(RCORE),B'11110000'                       1311
*         END;                                                     1312
*                                                                  1312
*/*                    DENSITY AND FILE POSITION                     */
*                                                                  1313
*       FL2DEN=CHAR4;               /* SET DENSITY TO FOUR           */
@RC01306 MVI   FL2DEN(RCORE),C'4'                                  1313
*       IF JFCDEN(1)=OFF&           /* IF DENSITY                    */
*           JFCDEN(2)=OFF&          /* IS 6250 BPI                   */
*           JFCDEN(4)=OFF THEN      /* THEN                          */
         LA    @15,100                                             1314
         ALR   @15,RCORE                                           1314
         TM    JFCDEN(@15),B'11010000'                             1314
         BNZ   @RF01314                                            1314
*         DO;                                                      1315
*           RC=JFCDEN;              /* GET DENSITY FROM JFCB         */
         SLR   RC,RC                                               1316
         IC    RC,JFCDEN(,@15)                                     1316
*           SRL(RC,6);              /* BITS 0,1 CONTAIN DENSITY      */
         SRL   RC,6                                                1317
*           FL2DEN=RC;              /* SET DENSITY IN LABEL          */
         STC   RC,FL2DEN(,RCORE)                                   1318
*           FL2DEN=FL2DEN×ZONE;     /* SET DENSITY TO EBCDIC         */
         OI    FL2DEN(RCORE),B'11110000'                           1319
*         END;                                                     1320
*       FL2FILP=CHAR0;              /* SET FILE POSITION IND TO 0    */
@RF01314 MVI   FL2FILP(RCORE),C'0'                                 1321
*       IF UCBVOLI^=JFCBVOLS(1:6) THEN/* IF NOT THE 1ST VOLUME THEN  */
         CLC   UCBVOLI(6,UCBPTR),JFCBVOLS+100(RCORE)               1322
         BE    @RF01322                                            1322
*         FL2FILP=CHAR1;            /* SET FILE POSITION IND TO 1    */
         MVI   FL2FILP(RCORE),C'1'                                 1323
*/*                     JOB/STEP IDENTIFICATION                      */
*                                                                  1324
*       FL2JOBD=TCBTIO->TIOCNJOB;   /* JOB ID FROM TIOT TO LABEL     */
@RF01322 L     @15,CVTPTR                                          1324
         L     @15,CVTTCBP(,@15)                                   1324
         L     @15,TCBPTR(,@15)                                    1324
         L     @15,TCBTIO(,@15)                                    1324
         MVC   FL2JOBD(8,RCORE),TIOCNJOB(@15)                      1324
*       FL2STEPD=TCBTIO->TIOCSTEP;  /* STEP ID FROM TIOT TO LABEL    */
         MVC   FL2STEPD(8,RCORE),TIOCSTEP(@15)                     1325
*       FL2JSSP=SLASH;              /* INSERT SLASH                  */
         MVI   FL2JSSP(RCORE),C'/'                                 1326
*/*                     TAPE RECORDING TECHNIQUE                     */
*                                                                  1327
*       RC=JFCTRTCH;                /* GET TAPE RECORDING TECH       */
         LA    @15,100                                             1327
         ALR   @15,RCORE                                           1327
         SLR   RC,RC                                               1327
         IC    RC,JFCTRTCH(,@15)                                   1327
*       SRL(RC,4);                  /* 13=C, 2B=ET, 0=BLANK          */
         SRL   RC,4                                                1328
*       FL2TRTCH=RC;                /* PLACE 1ST CHAR OF TRTCH       */
         STH   RC,FL2TRTCH(,RCORE)                                 1329
*       TR(FL2TRTCH(1),ATRTCH);     /* INTO LBL AS BLANK, C, E, T    */
         TR    FL2TRTCH(1,RCORE),ATRTCH                            1330
*       IF JFCTRTCH='2B'X THEN      /* IF BOTH EVEN PARITY & TRAN    */
         CLI   JFCTRTCH(@15),X'2B'                                 1331
         BNE   @RF01331                                            1331
*         FL2TRTCH(2)=CHART;        /* THEN TRTCH SHOULD BE ET       */
         MVI   FL2TRTCH+1(RCORE),C'T'                              1332
*/*                  CARRIAGE CONTROL CHARACTER SET                  */
*                                                                  1333
*       IF JFCCHAR(2)=ON THEN       /* IF MACHINE CODE CNTRL THEN    */
@RF01331 TM    JFCCHAR+100(RCORE),B'00000010'                      1333
         BNO   @RF01333                                            1333
*         FL2CNTRL=CHARM;           /* SET MACHINE CODE CNTRL CHAR   */
         MVI   FL2CNTRL(RCORE),C'M'                                1334
*       ELSE                        /* OTHERWISE                     */
*         IF JFCCHAR(1)=ON THEN     /* IF ASA CNTRL CHAR THEN        */
         B     @RC01333                                            1335
@RF01333 TM    JFCCHAR+100(RCORE),B'00000100'                      1335
         BNO   @RF01335                                            1335
*           FL2CNTRL=CHARA;         /* SET CONTROL CHAR TO ASA       */
         MVI   FL2CNTRL(RCORE),C'A'                                1336
*/*                         BUFFER ALIGNMENT                         */
*                                                                  1337
*       IF UCBBSTR=ON THEN          /* IF ANSI LABELS THEN           */
@RF01335 DS    0H                                                  1337
@RC01333 TM    UCBBSTR(UCBPTR),B'00000100'                         1337
         BNO   @RF01337                                            1337
*         DO;                                                      1338
*           DXCCW3(1)=JFCBUFOF;     /* GET BUFFER OFFSET LNG         */
         IC    @15,JFCBUFOF+100(,RCORE)                            1339
         STC   @15,DXCCW3(,RCORE)                                  1339
*           DXCCW3(1)=DXCCW3(1)&BIT0OFF;/* TURN OFF BIT 0            */
         NI    DXCCW3(RCORE),X'7F'                                 1340
*           RC=DXCCW3(1);           /* GET BUFFER LNG INTO REG       */
         SLR   RC,RC                                               1341
         IC    RC,DXCCW3(,RCORE)                                   1341
*           CVD(RC,DXCCW3);         /* CONVERT BFR LNG TO DECIMAL    */
         CVD   RC,DXCCW3(,RCORE)                                   1342
*           UNPK(FL2BUFOF,DXCCW3);  /* BFR LNG IN EBCDIC TO LABEL    */
         UNPK  FL2BUFOF(2,RCORE),DXCCW3(8,RCORE)                   1343
*           FL2BUFOF(2)=FL2BUFOF(2)×ZONE;/* REMOVE SIGN BITS         */
         OI    FL2BUFOF+1(RCORE),B'11110000'                       1344
*           RFY                                                    1345
*             R1 RSTD;              /* RESTRICT REG            YM4679*/
*           R1=ADDR(DXLBL);         /* GET PT TO LBL BFR       YM4679*/
         LR    R1,RCORE                                            1346
*           GEN(XLATE (1),80,TO=A); /* TRANSLATE FILE LBL 2    YM4679*/
         XLATE (1),80,TO=A
*           RFY                                                    1348
*             R1 UNRSTD;            /* MAKE REG UNRSTD         YM4679*/
*         END;                                                     1349
*       ELSE                        /* NOT ANSI LABELS               */
*         IF UCBTBYT4='03'X&        /* IF A 3400 DRIVE AND           */
*             UCBSNSCT=24 THEN      /* IT IS A MODEL A THEN          */
         B     @RC01337                                            1350
@RF01337 CLI   UCBTBYT4(UCBPTR),X'03'                              1350
         BNE   @RF01350                                            1350
         L     @15,UCBEXTPT(,UCBPTR)                               1350
         CLI   UCBSNSCT(@15),24                                    1350
         BNE   @RF01350                                            1350
*           DO;                                                    1351
*             RC=UCBCTD;            /* GET ID OF CREATING DRIVE      */
         L     @15,UCBXTN(,UCBPTR)                                 1352
         LH    RC,UCBCTD(,@15)                                     1352
*             CVD(RC,DXCCW2);       /* CONVERT ID TO DECIMAL         */
         CVD   RC,DXCCW2(,RCORE)                                   1353
*             UNPK(FL2ID,DXCCW2);   /* ID IN EBCDIC TO LABEL         */
         UNPK  FL2ID(5,RCORE),DXCCW2(8,RCORE)                      1354
*             FL2ID(5)=FL2ID(5)×ZONE;/* REMOVE SIGN BITS             */
         OI    FL2ID+4(RCORE),B'11110000'                          1355
*           END;                                                   1356
*       CALL TAPELBL;               /* GO WRITE LABEL                */
@RF01350 DS    0H                                                  1357
@RC01337 BAL   @14,TAPELBL                                         1357
*       IF RC=0 THEN                /* IF I/O COMPLETED OK THEN      */
         SLR   @15,@15                                             1358
         CR    RC,@15                                              1358
         BNE   @RF01358                                            1358
*         IF SDWACOMP^=0 THEN       /* IF A CRSA EXISTS THEN         */
         C     @15,SDWACOMP(,SDWAPTR)                              1359
         BE    @RF01359                                            1359
*           CRSEOF2=ON;             /* INDICATE TRLR LBL 2 WRITTEN   */
         L     @15,DXATCOM4(,RCORE)                                1360
         OI    CRSEOF2(@15),B'00010000'                            1360
*     END;                                                         1361
*   ELSE                            /* TRLR LBL 2 ALREADY WRITTEN    */
*     RC=0;                         /* SET RETURN CODE               */
         B     @RC01286                                            1362
@RF01286 SLR   RC,RC                                               1362
*   END TRL2;                       /* RETURN TO CALLER              */
@EL00030 DS    0H                                                  1363
@EF00030 DS    0H                                                  1363
@ER00030 LM    @14,@12,12(@13)                                     1363
         BR    @14                                                 1363
@PB00030 DS    0H                                                  1364
*   GEN(EJECT);                                                    1364
         EJECT
*                                                                  1365
*/********************************************************************/
*/*              I/O SUBROUTINE TO WRITE TRAILER LABEL               */
*/********************************************************************/
*                                                                  1365
*TAPELBL:                                                          1365
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               1365
         B     @PB00031                                            1365
TAPELBL  DS    0H                                                  1366
*   DXCCW1=WLBLCCW;                 /* SET CCW TO WRITE LABEL        */
         MVC   DXCCW1(8,RCORE),WLBLCCW                             1366
*   DXCCW1(2:4)=ADDR(DXLBL);        /* PUT LABEL AREA ADDR IN CCW    */
         STCM  RCORE,7,DXCCW1+1(RCORE)                             1367
*   DXDEBUCB=DEBSUCBA;              /* UCB ADDR TO WORK AREA DEB     */
         L     @15,DEBSUCBA(,DEBPTR)                               1368
         ST    @15,DXDEBUCB(,RCORE)                                1368
*   EVAL(ADDR(DXDCB))->DCBIBEC=ALLOFF2;/* SET ERROR OFF        YM8374*/
         LA    @15,DXDCB(,RCORE)                                   1369
         NI    DCBIBEC(@15),B'00111111'                            1369
*   RFY                                                            1370
*     R1 RSTD;                      /* RESTRICT REG            YM4679*/
*   R1=ADDR(DXIOB);                 /* GET IOB ADDR            YM4679*/
         LA    R1,DXIOB(,RCORE)                                    1371
*   GEN(EXCP  (1));                 /* INIT I/O OPERATION      YM4679*/
         EXCP  (1)
*   R1=ADDR(DXECB);                 /* GET ECB ADDR            YM4679*/
         LA    R1,DXECB(,RCORE)                                    1373
*   GEN(WAIT  ,ECB=(1));            /* WAIT TO COMPLETE I/O    YM4679*/
         WAIT  ,ECB=(1)
*   RFY                                                            1375
*     R1 UNRSTD;                    /* MAKE REG UNRSTD         YM4679*/
*   IF DXECB(1)='7F'X THEN          /* IF I/O COMPLETED OK THEN      */
         CLI   DXECB(RCORE),X'7F'                                  1376
         BNE   @RF01376                                            1376
*     RC=0;                         /* SET RETURN CODE               */
         SLR   RC,RC                                               1377
*   ELSE                            /* ERROR WRITING TRAILER LABEL   */
*     RC=1;                         /* SET ERROR RETURN CODE         */
         B     @RC01376                                            1378
@RF01376 LA    RC,1                                                1378
*   END TAPELBL;                    /* RETURN TO CALLER              */
@EL00031 DS    0H                                                  1379
@EF00031 DS    0H                                                  1379
@ER00031 BR    @14                                                 1379
@PB00031 DS    0H                                                  1380
*   GEN(EJECT);                                                    1380
         EJECT
*                                                                  1381
*/********************************************************************/
*/*                  WRITE FIRST TRAILING TAPEMARK                   */
*/********************************************************************/
*                                                                  1381
*TTM1:                                                             1381
*   PROC OPTIONS(NOSAVEAREA);                                      1381
         B     @PB00032                                            1381
TTM1     STM   @14,@12,12(@13)                                     1381
*   IF DXATTTM1=OFF THEN            /* 1ST TRAILING TM WRITTEN       */
         TM    DXATTTM1(RCORE),B'00000100'                         1382
         BNZ   @RF01382                                            1382
*     DO;                           /* NO, THEN                      */
*       CALL TAPEMARK;              /* GO WRITE TAPEMARK             */
         BAL   @14,TAPEMARK                                        1384
*       IF RC=0 THEN                /* TAPEMARK WRITTEN OK           */
         SLR   @15,@15                                             1385
         CR    RC,@15                                              1385
         BNE   @RF01385                                            1385
*         DO;                       /* YES, THEN                     */
*           IF SDWACOMP^=0 THEN     /* DOES A CRSA EXIST             */
         C     @15,SDWACOMP(,SDWAPTR)                              1387
         BE    @RF01387                                            1387
*             CRSEOF1T=ON;          /* YES, THEN SET FLAG            */
         L     @15,DXATCOM4(,RCORE)                                1388
         OI    CRSEOF1T(@15),B'00001000'                           1388
*         END;                      /* GO RETURN                     */
*       ELSE                        /* ERROR WRITING TAPEMARK        */
*         RC=1;                     /* SET ERROR RETURN CODE         */
         B     @RC01385                                            1390
@RF01385 LA    RC,1                                                1390
*     END;                          /* GO RETURN                     */
*   ELSE                            /* TAPEMARK ALREADY WRITTEN      */
*     RC=0;                         /* SET RETURN CODE               */
         B     @RC01382                                            1392
@RF01382 SLR   RC,RC                                               1392
*   END TTM1;                       /* RETURN TO CALLER              */
@EL00032 DS    0H                                                  1393
@EF00032 DS    0H                                                  1393
@ER00032 LM    @14,@12,12(@13)                                     1393
         BR    @14                                                 1393
@PB00032 DS    0H                                                  1394
*   GEN(EJECT);                                                    1394
         EJECT
*                                                                  1395
*/********************************************************************/
*/*                  WRITE SECOND TRAILING TAPEMARK                  */
*/********************************************************************/
*                                                                  1395
*TTM2:                                                             1395
*   PROC OPTIONS(NOSAVEAREA);                                      1395
         B     @PB00033                                            1395
TTM2     STM   @14,@12,12(@13)                                     1395
*   IF DXATTTM2=OFF THEN            /* 2ND TRAILING TM WRITTEN       */
         TM    DXATTTM2(RCORE),B'00000010'                         1396
         BNZ   @RF01396                                            1396
*     DO;                           /* NO, THEN                      */
*       CALL TAPEMARK;              /* GO WRITE TAPEMARK             */
         BAL   @14,TAPEMARK                                        1398
*       IF RC=0 THEN                /* TAPEMARK WRITTEN OK           */
         SLR   @15,@15                                             1399
         CR    RC,@15                                              1399
         BNE   @RF01399                                            1399
*         DO;                       /* YES, THEN                     */
*           IF SDWACOMP^=0 THEN     /* DOES A CRSA EXIST             */
         C     @15,SDWACOMP(,SDWAPTR)                              1401
         BE    @RF01401                                            1401
*             CRSEOF2T=ON;          /* YES, THEN SET FLAG            */
         L     @15,DXATCOM4(,RCORE)                                1402
         OI    CRSEOF2T(@15),B'00000100'                           1402
*         END;                      /* GO RETURN                     */
*       ELSE                        /* ERROR WRITING TAPEMARK        */
*         RC=1;                     /* SET ERROR RETURN CODE         */
         B     @RC01399                                            1404
@RF01399 LA    RC,1                                                1404
*     END;                                                         1405
*   END TTM2;                       /* RETURN TO CALLER              */
@EL00033 DS    0H                                                  1406
@EF00033 DS    0H                                                  1406
@ER00033 LM    @14,@12,12(@13)                                     1406
         BR    @14                                                 1406
@PB00033 DS    0H                                                  1407
*   GEN(EJECT);                                                    1407
         EJECT
*                                                                  1408
*/********************************************************************/
*/*                        VOLUME DISPOSITION                        */
*/********************************************************************/
*                                                                  1408
*VOLDISP:                                                          1408
*   PROC OPTIONS(NOSAVEAREA);                                      1408
         B     @PB00034                                            1408
VOLDISP  STM   @14,@12,12(@13)                                     1408
*   IF DXATDISP=OFF&                /* IF VOLUME DISP NOT YET DONE   */
*       UCBPTR^=0 THEN              /* AND A UCB PTR EXISTS THEN     */
         TM    DXATDISP(RCORE),B'00100000'                         1409
         BNZ   @RF01409                                            1409
         LTR   UCBPTR,UCBPTR                                       1409
         BZ    @RF01409                                            1409
*     DO;                           /* DO THE FOLLOWING              */
*       DXDEBUCB=UCBPTR;            /* UCB ADDR TO WA DEB    @ZA32720*/
         ST    UCBPTR,DXDEBUCB(,RCORE)                             1411
*       IF UCBREW=OFF THEN          /* REWIND IN PROGRESS            */
         TM    UCBREW(UCBPTR),B'00010000'                          1412
         BNZ   @RF01412                                            1412
*         DO;                       /* NO, THEN                      */
*           DXCCW(1:8)=REWCCW;      /* SET UP CCW TO REWIND VOLUME   */
         MVC   DXCCW(8,RCORE),REWCCW                               1414
*           GEN(MODESET EXTKEY=SUPR);/* SET UCB KEY            YM7871*/
         MODESET EXTKEY=SUPR
*           UCBREW=ON;              /* SET UCB REWIND BIT ON         */
         OI    UCBREW(UCBPTR),B'00010000'                          1416
*           GEN(MODESET EXTKEY=DATAMGT);/* SET DATA MGT KEY    YM7871*/
         MODESET EXTKEY=DATAMGT
*           EVAL(ADDR(DXDCB))->DCBIBEC=ALLOFF2;/* ERR OFF      YM8374*/
         LA    @15,DXDCB(,RCORE)                                   1418
         NI    DCBIBEC(@15),B'00111111'                            1418
*           RFY                                                    1419
*             R1 RSTD;              /* RESTRICT REG            YM4679*/
*           R1=ADDR(DXIOB);         /* GET IOB ADDR            YM4679*/
         LA    R1,DXIOB(,RCORE)                                    1420
*           GEN(EXCP  (1));         /* INIT I/O OPERATION      YM4679*/
         EXCP  (1)
*           R1=ADDR(DXECB);         /* GET ECB ADDR            YM4679*/
         LA    R1,DXECB(,RCORE)                                    1422
*           GEN(WAIT  ,ECB=(1));    /* WAIT TO COMPLETE I/O    YM4679*/
         WAIT  ,ECB=(1)
*           RFY                                                    1424
*             R1 UNRSTD;            /* MAKE REG UNRSTD         YM4679*/
*           IF DXECB(1)='7F'X THEN  /* IF I/O COMPLETED OK THEN      */
         CLI   DXECB(RCORE),X'7F'                                  1425
         BNE   @RF01425                                            1425
*             IF SDWACOMP^=0 THEN   /* IF A CRSA EXISTS THEN         */
         L     @15,SDWACOMP(,SDWAPTR)                              1426
         LTR   @15,@15                                             1426
         BZ    @RF01426                                            1426
*               CRSDISP=ON;         /* SET CRSA VOLUME DISP FLAG     */
         L     @15,DXATCOM4(,RCORE)                                1427
         OI    CRSDISP(@15),B'00000010'                            1427
*         END;                      /* GO RETURN                     */
@RF01426 DS    0H                                                  1428
@RF01425 DS    0H                                                  1429
*       GEN(MODESET EXTKEY=SUPR);   /* SET UCB KEY             YM7871*/
@RF01412 DS    0H                                                  1429
         MODESET EXTKEY=SUPR
*       UCBFSCT=0;                  /* SET UCB FILE SEQ COUNT = 0    */
         SLR   @15,@15                                             1430
         STH   @15,UCBFSCT(,UCBPTR)                                1430
*       UCBFSEQ=0;                  /* SET UCB FILE SEQ NUMBER = 0   */
         STH   @15,UCBFSEQ(,UCBPTR)                                1431
*       GEN(MODESET EXTKEY=DATAMGT);/* SET DATA MGT KEY        YM7871*/
         MODESET EXTKEY=DATAMGT
*     END;                                                         1433
*   END VOLDISP;                    /* RETURN TO CALLER              */
@EL00034 DS    0H                                                  1434
@EF00034 DS    0H                                                  1434
@ER00034 LM    @14,@12,12(@13)                                     1434
         BR    @14                                                 1434
@PB00034 DS    0H                                                  1435
*   GEN(EJECT);                                                    1435
         EJECT
*                                                                  1436
*/********************************************************************/
*/*                         WRITE FILE MARK                          */
*/********************************************************************/
*                                                                  1436
*WRFMARK:                                                          1436
*   PROC OPTIONS(NOSAVEAREA);       /*                         YM6520*/
         B     @PB00035                                            1436
WRFMARK  STM   @14,@12,12(@13)                                     1436
*   IF(RRFUNCTN=RRFFEOV×            /* IF AN FEOV ENTRY OR           */
*       RRFUNCTN=RRFCLOS×           /* A CLOSE ENTRY OR              */
*       RRFUNCTN=RRFTCLOS)&         /* A TCLOSE ENTRY, AND           */
*       DXATEOF=OFF&                /* FILEMARK NOT YET WRITTEN &    */
*       DEBPTR^=0 THEN              /* A DEB PTR EXISTS THEN         */
         CLI   RRFUNCTN(RRRF),X'1F'                                1437
         BE    @GL00078                                            1437
         CLI   RRFUNCTN(RRRF),X'14'                                1437
         BE    @GL00078                                            1437
         CLI   RRFUNCTN(RRRF),X'17'                                1437
         BNE   @RF01437                                            1437
@GL00078 TM    DXATEOF(RCORE),B'00000010'                          1437
         BNZ   @RF01437                                            1437
         LTR   DEBPTR,DEBPTR                                       1437
         BZ    @RF01437                                            1437
*     DO;                                                          1438
*       RC=ADDR(FMARKMOD);          /* PT TO FM MODNM & EPA    YM7099*/
         LA    RC,FMARKMOD                                         1439
*       CALL LOADSUB;               /* GO BR TO FILEMARK MOD   YM7099*/
         BAL   @14,LOADSUB                                         1440
*FMRET:                             /* RETURN FROM FILEMARK MODULE   */
*       IF DXATEOF=ON THEN          /* IF FILEMARK WRITTEN OK THEN   */
FMRET    TM    DXATEOF(RCORE),B'00000010'                          1441
         BNO   @RF01441                                            1441
*         IF SDWACOMP^=0 THEN       /* IF A CRSA EXISTS THEN         */
         L     @15,SDWACOMP(,SDWAPTR)                              1442
         LTR   @15,@15                                             1442
         BZ    @RF01442                                            1442
*           CRSEOFM=ON;             /* SET CRSA FM WRITTEN FLAG      */
         L     @15,DXATCOM4(,RCORE)                                1443
         OI    CRSEOFM(@15),B'01000000'                            1443
*     END;                                                         1444
*   END WRFMARK;                    /* RETURN TO CALLER        YM6520*/
@EL00035 DS    0H                                                  1445
@EF00035 DS    0H                                                  1445
@ER00035 LM    @14,@12,12(@13)                                     1445
         BR    @14                                                 1445
@PB00035 DS    0H                                                  1446
*   GEN(EJECT);                                                    1446
         EJECT
*                                                                  1447
*/********************************************************************/
*/*                 WRITE BACK UPDATED FORMAT 1 DSCB                 */
*/********************************************************************/
*                                                                  1447
*WRDSCB:                                                           1447
*   PROC OPTIONS(NOSAVEAREA);       /*                         YM6520*/
         B     @PB00036                                            1447
WRDSCB   STM   @14,@12,12(@13)                                     1447
*   IF(RRFUNCTN=RRFFEOV×            /* IF AN FEOV ENTRY OR           */
*       RRFUNCTN=RRFCLOS×           /* A CLOSE ENTRY OR              */
*       RRFUNCTN=RRFTCLOS)&         /* A TCLOSE ENTRY, AND           */
*       DXATUPDB=OFF&               /* DSCB NOT YET UPDATED AND      */
*       DEBPTR^=0 THEN              /* A DEB PTR EXISTS THEN         */
         CLI   RRFUNCTN(RRRF),X'1F'                                1448
         BE    @GL00082                                            1448
         CLI   RRFUNCTN(RRRF),X'14'                                1448
         BE    @GL00082                                            1448
         CLI   RRFUNCTN(RRRF),X'17'                                1448
         BNE   @RF01448                                            1448
@GL00082 TM    DXATUPDB(RCORE),B'00010000'                         1448
         BNZ   @RF01448                                            1448
         LTR   DEBPTR,DEBPTR                                       1448
         BZ    @RF01448                                            1448
*     IF UCBVRDEV=ON THEN           /* IF A VIO UCB THEN             */
         TM    UCBVRDEV(UCBPTR),B'10000000'                        1449
         BNO   @RF01449                                            1449
*       DO;                         /* THEN                          */
*/*                      READ VIO DSCB FROM SWA                      */
*                                                                  1451
*         DXDSCB=UCBPTR->VDSDSCB(LENGTH(JFCBDSNM)+1:LENGTH(VDSDSCB));
         MVI   DXDSCB+81(RCORE),C' '                               1451
         MVC   DXDSCB+82(14,RCORE),DXDSCB+81(RCORE)                1451
         MVC   DXDSCB(81,RCORE),VDSDSCB+44(UCBPTR)                 1451
*         GEN(OC   DXDSCB(81,RCORE),DXDSCB(RCORE));/* ANY DSCB       */
         OC   DXDSCB(81,RCORE),DXDSCB(RCORE)
*         BC(8,WRDSCB10);           /* NO, GO RETURN                 */
         BC    8,WRDSCB10                                          1453
*         CALL UPDADSCB;            /* GO UPDATE DSCB FIELDS         */
         BAL   @14,UPDADSCB                                        1454
*         GEN(MODESET EXTKEY=SCHED);/* SCHEDULER KEY           YM7871*/
         MODESET EXTKEY=SCHED
*/*                      WRITE VIO DSCB TO SWA                       */
*                                                                  1456
*         UCBPTR->VDSDSCB(LENGTH(JFCBDSNM)+1:LENGTH(VDSDSCB))=DXDSCB;
         MVC   VDSDSCB+44(81,UCBPTR),DXDSCB(RCORE)                 1456
*         GEN(MODESET EXTKEY=DATAMGT);/* DATA MGT KEY          YM7871*/
         MODESET EXTKEY=DATAMGT
*         IF SDWACOMP^=0 THEN       /* IF CRSA EXISTS THEN           */
         L     @15,SDWACOMP(,SDWAPTR)                              1458
         LTR   @15,@15                                             1458
         BZ    @RF01458                                            1458
*           CRSDSCB=ON;             /* INDICATE UPDATED DSCB WAS   1459
*                                      WRITTEN                       */
         L     @15,DXATCOM4(,RCORE)                                1459
         OI    CRSDSCB(@15),B'10000000'                            1459
*       END;                                                       1460
*     ELSE                          /* SET UP CCW'S                  */
*       DO;                                                        1461
         B     @RC01449                                            1461
@RF01449 DS    0H                                                  1462
*         DXDAADDR(2:8)=DEBDSCBA;   /* BBCCHHR TO WORK AREA          */
         L     @15,DEBAPPAD(,DEBPTR)                               1462
         MVC   DXDAADDR+1(7,RCORE),DEBDSCBA(@15)                   1462
*         DXDAADDR(1)=0;            /* SET EXTENT NO. TO 0           */
         MVI   DXDAADDR(RCORE),X'00'                               1463
*         DXCCW1(1:24)=DSCBCCW;     /* SET CCW SKELETON              */
         MVC   DXCCW1(24,RCORE),DSCBCCW                            1464
*         DXCCW1(2:4)=ADDR(DXDAADDR(4));/* PLACE ADDRESS OF CCHHR  1465
*                                      INTO 1ST CCW                  */
         LA    @15,DXDAADDR+3(,RCORE)                              1465
         STCM  @15,7,DXCCW1+1(RCORE)                               1465
*         DXCCW2(2:4)=ADDR(DXCCW1); /* PLACE ADDRESS OF 1ST CCW INTO
*                                      TIC CCW                       */
         LA    @15,DXCCW1(,RCORE)                                  1466
         STCM  @15,7,DXCCW2+1(RCORE)                               1466
*         DXCCW3(2:4)=ADDR(DXDSCB); /* BFR ADDR TO CCW               */
         STCM  RCORE,7,DXCCW3+1(RCORE)                             1467
*         EVAL(ADDR(DXDCB))->DCBIBEC=ALLOFF2;/* SET ERROR OFFYM8374  */
         LA    @15,DXDCB(,RCORE)                                   1468
         NI    DCBIBEC(@15),B'00111111'                            1468
*         RFY                                                      1469
*           R1 RSTD;                /* RESTRICT REG                  */
*         R1=ADDR(DXIOB);           /* GET IOB ADDR                  */
         LA    R1,DXIOB(,RCORE)                                    1470
*         GEN(EXCP  (1));           /* READ DSCB                     */
         EXCP  (1)
*         R1=ADDR(DXECB);           /* GET ECB ADDR                  */
         LA    R1,DXECB(,RCORE)                                    1472
*         GEN(WAIT  ,ECB=(1));      /* WAIT FOR DSCB                 */
         WAIT  ,ECB=(1)
*         RFY                                                      1474
*           R1 UNRSTD;              /* MAKE REG UNRSTD               */
*         IF DXECB(1)='7F'X THEN    /* IF I/O COMPLETED OK           */
         CLI   DXECB(RCORE),X'7F'                                  1475
         BNE   @RF01475                                            1475
*           DO;                     /* THEN                          */
*             CALL UPDADSCB;        /* GO UPDATE DSCB FIELDS         */
         BAL   @14,UPDADSCB                                        1477
*             DXCCW3(1)=CCWWRDA;    /* WRITE DATA OP CODE            */
         MVI   DXCCW3(RCORE),X'05'                                 1478
*             DXCCW3(5)=CCWCMDCH;   /* SET COMMAND CHAIN FLAG        */
         MVI   DXCCW3+4(RCORE),X'40'                               1479
*             DXCCW4(1:24)=DXCCW1(1:24);/* WRITE VAL CHK       YM8374*/
         MVC   DXCCW4(24,RCORE),DXCCW1(RCORE)                      1480
*             DXCCW5(2:4)=ADDR(DXCCW4);/* TIC BACK TO CCW4           */
         LA    @15,DXCCW4(,RCORE)                                  1481
         STCM  @15,7,DXCCW5+1(RCORE)                               1481
*             DXCCW6(1)=CCWRDDA;    /* READ DATA OP CODE             */
         MVI   DXCCW6(RCORE),X'06'                                 1482
*             DXCCW6(5)=CCWSKIP;    /* SET SKIP FLG IN CCW6          */
         MVI   DXCCW6+4(RCORE),X'10'                               1483
*             DXDCB(45)=HEXZERO;    /* ZERO ERROR INDICATOR          */
         MVI   DXDCB+44(RCORE),X'00'                               1484
*             EVAL(ADDR(DXDCB))->DCBIBEC=ALLOFF2;/* ERR OFF    YM8374*/
         LA    @15,DXDCB(,RCORE)                                   1485
         NI    DCBIBEC(@15),B'00111111'                            1485
*             RFY                                                  1486
*               R1 RSTD;            /* RESTRICT REG                  */
*             R1=ADDR(DXIOB);       /* GET IOB ADDR                  */
         LA    R1,DXIOB(,RCORE)                                    1487
*             GEN(EXCP  (1));       /* WRITE BACK DSCB               */
         EXCP  (1)
*             R1=ADDR(DXECB);       /* GET ECB ADDR                  */
         LA    R1,DXECB(,RCORE)                                    1489
*             GEN(WAIT  ,ECB=(1));  /* WAIT TO COMPLETE I/O          */
         WAIT  ,ECB=(1)
*             RFY                                                  1491
*               R1 UNRSTD;          /* MAKE REG UNRSTD               */
*             IF DXECB(1)='7F'X&    /* IF I/O COMPLETED OK           */
*                 SDWACOMP^=0 THEN  /* & A CRSA EXISTS THEN          */
         CLI   DXECB(RCORE),X'7F'                                  1492
         BNE   @RF01492                                            1492
         L     @15,SDWACOMP(,SDWAPTR)                              1492
         LTR   @15,@15                                             1492
         BZ    @RF01492                                            1492
*               CRSDSCB=ON;         /* INDICATE UPDATED DSCB WAS   1493
*                                      WRITTEN                       */
         L     @15,DXATCOM4(,RCORE)                                1493
         OI    CRSDSCB(@15),B'10000000'                            1493
*           END;                                                   1494
*       END;                                                       1495
*WRDSCB10:                          /* END OF SUBROUTINE             */
*   END WRDSCB;                     /* RETURN TO CALLER        YM6520*/
@EL00036 DS    0H                                                  1496
@EF00036 DS    0H                                                  1496
@ER00036 LM    @14,@12,12(@13)                                     1496
         BR    @14                                                 1496
*/********************************************************************/
*/*   UPDATE LAST TRACK USED AND TRACK BALANCE FIELDS OF THE DSCB    */
*/********************************************************************/
*                                                                  1497
*UPDADSCB:                                                         1497
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);/*                         YM6520*/
UPDADSCB DS    0H                                                  1498
*   RFY                                                            1498
*     R0 RSTD;                                                     1498
*   STM(R0,RET,TRRSAV2);            /* SAVE CALLER'S REGS            */
         STM   R0,RET,TRRSAV2(RD)                                  1499
*   RFY                                                            1500
*     R0 UNRSTD;                                                   1500
*   R6=RD;                          /* SAVE SAVE AREA PTR      YM7316*/
         LR    R6,RD                                               1501
*   R2=ADDR(DCBFDAD);               /* PT TO FULL DISK ADDR          */
         LA    @15,DCBFDAD(,R2)                                    1502
         LR    R2,@15                                              1502
*   RFY                                                            1503
*    (R1,                                                          1503
*     RF) RSTD;                                                    1503
*   R1=DEBPTR;                      /* GET DEB ADDR                  */
         LR    R1,DEBPTR                                           1504
*   RF=CVTPRLTV;                    /* GET CONVERT RTN ADDR          */
         L     RF,CVTPTR                                           1505
         L     RF,CVTPRLTV(,RF)                                    1505
*   CALL SUB;                       /* GO TO CONVERT RTN             */
         BALR  @14,@15                                             1506
*   RFY                                                            1507
*    (R1,                                                          1507
*     RF) UNRSTD;                                                  1507
*   RD=R6;                          /* RESTORE SAVEAREA PTR    YM7316*/
         LR    RD,R6                                               1508
*   LM(R2,RET,TRRSAV2(9:60));       /* RESTORE REGISTERS       YM7316*/
         LM    R2,RET,TRRSAV2+8(RD)                                1509
*   GEN REFS(DSCLSTAR)(STCM  R0,B'1110',DSCLSTAR(RCORE));/* UPDATE 1510
*                                      LAST TRACK ADDR               */
         STCM  R0,B'1110',DSCLSTAR(RCORE)
*   DSCLSTAR(4:5)=DCBTRBAL;         /* UPDATE TRACK BALANCE          */
         LA    @15,DCBFDAD(,R2)                                    1511
         MVC   DSCLSTAR+3(2,RCORE),DCBTRBAL+7(@15)                 1511
*   DSCLSTVL=ON;                    /* SET LAST VOLUME INDICATOR     */
         OI    DSCLSTVL(RCORE),B'10000000'                         1512
*   IF DCBMFECP=OFF&                /* IF NOT EXCP AND               */
*       DSCPART=ON&                 /* DATA SET IS PARTITIONED AND   */
*       DEBACCS(3)=ON THEN          /* I/O METHOD IS OUTPUT, OUTIN OR
*                                      INOUT THEN                    */
         TM    DCBMFECP+40(R2),B'10000000'                         1513
         BNZ   @RF01513                                            1513
         TM    DSCPART(RCORE),B'00000010'                          1513
         BNO   @RF01513                                            1513
         TM    DEBACCS(DEBPTR),B'00000010'                         1513
         BNO   @RF01513                                            1513
*     DO;                                                          1514
*       DSCBLDBL=DCBDIRCQ;          /* UPDATE DSCB DIRECTORY COUNT   */
         LA    @15,80                                              1515
         ALR   @15,R2                                              1515
         IC    @01,DCBDIRCQ(,@15)                                  1515
         STC   @01,DSCBLDBL(,RCORE)                                1515
*       DCBDIRCQ=0;                 /* ZERO DCB DIRECTORY COUNT      */
         MVI   DCBDIRCQ(@15),X'00'                                 1516
*     END;                                                         1517
*   END UPDADSCB;                   /* RETURN TO CALLER        YM6520*/
@EL00037 DS    0H                                                  1518
@EF00037 DS    0H                                                  1518
@ER00037 BR    @14                                                 1518
@PB00037 DS    0H                                                  1519
*   GEN(EJECT);                                                    1519
         EJECT
*                                                                  1520
*/********************************************************************/
*/*                          SMF PROCESSING                          */
*/********************************************************************/
*                                                                  1520
*CHKSMF:                                                           1520
*   PROC OPTIONS(NOSAVEAREA);       /*                         YM4614*/
         B     @PB00038                                            1520
CHKSMF   STM   @14,@12,12(@13)                                     1520
*   IF RRFUNCTN=RRFCLOS×            /* IF A CLOSE ENTRY OR     YM4614*/
*       RRFUNCTN=RRFEOV×            /* AN EOV ENTRY OR         YM4614*/
*       RRFUNCTN=RRFFEOV THEN       /* AN FEOV ENTRY THEN      YM4614*/
         CLI   RRFUNCTN(RRRF),X'14'                                1521
         BE    @RT01521                                            1521
         CLI   RRFUNCTN(RRRF),X'37'                                1521
         BE    @RT01521                                            1521
         CLI   RRFUNCTN(RRRF),X'1F'                                1521
         BNE   @RF01521                                            1521
@RT01521 DS    0H                                                  1522
*     IF WTGSMF=ON&                 /* IF SMF IS ACTIVE        YM5706*/
*         RRFSMF=OFF&               /* IF SMF NOT IN CONTROL AT TIME
*                                      OF ERROR AND            YM4614*/
*         DXATSMF=OFF&              /* SMF PROCESSING NOT YET BEGUN
*                                      FOR THIS DATA SET &     YM4614*/
*         DEBPTR^=0 THEN            /* DEB PTR EXISTS THEN     YM4614*/
         TM    WTGSMF(RWTG),B'00010000'                            1522
         BNO   @RF01522                                            1522
         TM    RRFSMF(RRRF),B'00000010'                            1522
         BNZ   @RF01522                                            1522
         TM    DXATSMF(RCORE),B'00001000'                          1522
         BNZ   @RF01522                                            1522
         LTR   DEBPTR,DEBPTR                                       1522
         BZ    @RF01522                                            1522
*       DO;                         /*                         YM4614*/
*         RC=ADDR(SMFMOD);          /* PT TO SMF MODNM & EPA   YM7099*/
         LA    RC,SMFMOD                                           1524
*         CALL LOADSUB;             /* GO BR TO SMF MODULE     YM7099*/
         BAL   @14,LOADSUB                                         1525
*SMFRET:                                                           1526
*       END;                        /* RETURN FROM SMF         YM4614*/
*   END CHKSMF;                     /* RETURN TO CALLER        YM4614*/
@EL00038 DS    0H                                                  1527
@EF00038 DS    0H                                                  1527
@ER00038 LM    @14,@12,12(@13)                                     1527
         BR    @14                                                 1527
@PB00038 DS    0H                                                  1528
*   GEN(EJECT);                                                    1528
         EJECT
*                                                                  1529
*/********************************************************************/
*/*                      IFG0RR0B RETRY ROUTINE                      */
*/********************************************************************/
*                                                                  1529
*RETRY0B:                                                          1529
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               1529
         B     @PB00039                                            1529
RETRY0B  DS    0H                                                  1530
*   RFY                                                            1530
*     R1 RSTD;                      /* RESTRICT REGS           YM5367*/
*   RD=R1+32;                       /* PT TO TRR WORK AREA           */
         LA    RD,32(,R1)                                          1531
*   RFY                                                            1532
*     R1 UNRSTD;                    /* MAKE REGS UNRSTD        YM5367*/
*   GEN(MODESET EXTKEY=DATAMGT);    /* DATA MANAGEMENT KEY     YM5367*/
         MODESET EXTKEY=DATAMGT
*   LM(RET,RC,TRRSAV1(13:72));      /* RESTORE PROPER REGISTERS      */
         LM    RET,RC,TRRSAV1+12(RD)                               1534
*   TRRWTG=RR0B;                    /* SET ID OF THIS MODULE         */
         MVC   TRRWTG(12,RD),RR0B                                  1535
*   END RETRY0B;                    /* GO CONTINUE PROCESSING        */
@EL00039 DS    0H                                                  1536
@EF00039 DS    0H                                                  1536
@ER00039 BR    @14                                                 1536
@PB00039 DS    0H                                                  1537
*   GEN(EJECT);                                                    1537
         EJECT
*                                                                  1538
*/********************************************************************/
*/*                            CONSTANTS                             */
*/********************************************************************/
*                                                                  1538
*   GEN DATA DEFS(RR0B,RR0E,VSAMX,GAMX,SAMDAMX,ISAMX,ISAMCIX,HASPCIX,
*       HASPX,EOVOLMOD,SMFMOD,FMARKMOD,ISAM,TCAMAP);               1538
*   END IFG0RR0B                                                   1539
*                                                                  1539
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (IECDSECT)                                       */
*/*%INCLUDE SYSLIB  (IECDSECS)                                       */
*/*%INCLUDE SYSLIB  (IECCRSA )                                       */
*/*%INCLUDE SYSLIB  (IDDVDSCB)                                       */
*/*%INCLUDE SYSLIB  (IHASDWA )                                       */
*/*%INCLUDE SYSLIB  (IEFTIOT1)                                       */
*/*%INCLUDE SYSLIB  (CVT     )                                       */
*/*%INCLUDE SYSLIB  (IFGACB  )                                       */
*/*%INCLUDE SYSLIB  (IDAAMB  )                                       */
*/*%INCLUDE SYSLIB  (IKJTCB  )                                       */
*/*%INCLUDE SYSLIB  (IHADSAB )                                       */
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                       */
*/*%INCLUDE SYSLIB  (IEFJSSIB)                                       */
*/*%INCLUDE SYSLIB  (IEFJSSOB)                                       */
*/*%INCLUDE SYSLIB  (IEFJESCT)                                       */
*/*%INCLUDE SYSLIB  (IEZDEB  )                                       */
*/*%INCLUDE SYSLIB  (IEFJFCBN)                                       */
*/*%INCLUDE SYSLIB  (IHADCBDF)                                       */
*/*%INCLUDE SYSLIB  (IHADCB  )                                       */
*                                                                  1539
*       ;                                                          1539
@EL00001 DS    0H                                                  1539
@EF00001 DS    0H                                                  1539
@ER00001 BR    @14                                                 1539
@DATA    DS    0H
@CH00188 DC    H'12'
@CH00377 DC    H'17'
@DATD    DSECT
         DS    0F
IFG0RR0B CSECT
         DS    0F
@CF00064 DC    F'1'
@CF00129 DC    F'4'
@CF00069 DC    F'8'
@CF01096 DC    F'36'
@CF04415 DC    F'127'
@CF04414 DC    F'132'
@CF04442 DC    F'-4'
@CF04243 DC    XL4'80000000'
@CF04447 DC    XL4'0000FFFF'
@DATD    DSECT
         DS    0D
IFG0RR0B CSECT
         DS    0F
@SIZDATD DC    AL1(0)
         DC    AL3(@ENDDATD-@DATD)
         DS    0D
@CB00081 DC    X'00'
TEMPNAME DC    CL8'TEMPNAME'
NULLFILE DC    CL8'NULLFILE'
OCEID    DC    CL3'IEC'
IGG      DC    CL6'IGG019'
EOF      DC    CL3'EOF'
ASYSCD   DC    CL5'OS360'
VSSYSC   DC    CL13'IBM OS/VS 370'
ABLKA    DC    CL4' SBR'
ARECFM   DC    CL4'DVFU'
ATRTCH   DC    CL4' CET'
         DS    CL1
AGRTR32K DC    X'8000'
VTAMDDNM DC    X'FF00000000000000'
WTMCCW   DC    X'1F000000600000010300000020000001'
DSCBCCW  DC    X'310000006000000508000000400000008600000000000060'
REWCCW   DC    X'0700000020000001'
WLBLCCW  DC    X'0100000020000050'
ZEROS    DC    CL5'00000'
NINES    DC    CL5'99999'
CONFF7F  DC    X'FFFFFF7F'
WALNTH   DC    X'0000023A'
VSAM     DC    AL4(DECRDSAB)
         DC    AL4(COPYBACK)
VTAM     DC    AL4(FINREST)
         DC    AL4(COPYBACK)
SPDCB    DC    AL4(DCBREST)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
SPACB    DC    AL4(DEBCKDEL)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(ACBREST)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
DUMMY    DC    AL4(DEBCKDEL)
         DC    AL4(CHKSUBNM)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(IRBCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
OTHER    DC    AL4(DEBCKDEL)
         DC    AL4(CHKUNREC)
         DC    AL4(CHKSUBNM)
         DC    AL4(CHKUTOT)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(IRBCHK)
         DC    AL4(RRQCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
DA1      DC    AL4(DEBCKDEL)
         DC    AL4(CHKSMF)
         DC    AL4(CHKSUBNM)
         DC    AL4(CHKUTOT)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(DECRDMCT)
         DC    AL4(IRBCHK)
         DC    AL4(RRQCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
DA3      DC    AL4(DEBCKDEL)
         DC    AL4(WRDSCB)
         DC    AL4(WRFMARK)
         DC    AL4(CHKSMF)
         DC    AL4(CHKSUBNM)
         DC    AL4(CHKUTOT)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(DECRDMCT)
         DC    AL4(IRBCHK)
         DC    AL4(RRQCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
TAPNR    DC    AL4(DEBCKDEL)
         DC    AL4(CHKSUBNM)
         DC    AL4(CHKUTOT)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(DECRDMCT)
         DC    AL4(IRBCHK)
         DC    AL4(RRQCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
TAPNL    DC    AL4(DEBCKDEL)
         DC    AL4(CHKSMF)
         DC    AL4(WRTM)
         DC    AL4(VOLDISP)
         DC    AL4(CHKSUBNM)
         DC    AL4(CHKUTOT)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(DECRDMCT)
         DC    AL4(IRBCHK)
         DC    AL4(RRQCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
TAPSLIN  DC    AL4(DEBCKDEL)
         DC    AL4(CHKSMF)
         DC    AL4(VOLDISP)
         DC    AL4(CHKSUBNM)
         DC    AL4(CHKUTOT)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(DECRDMCT)
         DC    AL4(IRBCHK)
         DC    AL4(RRQCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
TAPSLOUT DC    AL4(DEBCKDEL)
         DC    AL4(WTMLBLTM)
         DC    AL4(CHKSMF)
         DC    AL4(VOLDISP)
         DC    AL4(CHKSUBNM)
         DC    AL4(CHKUTOT)
         DC    AL4(DCBREST)
         DC    AL4(DCHNDEB)
         DC    AL4(DECRDSAB)
         DC    AL4(DECRDMCT)
         DC    AL4(IRBCHK)
         DC    AL4(RRQCHK)
         DC    AL4(FINREST)
         DC    AL4(COPYBACK)
@DATD    DSECT
*                                                   /*         YM7853*/
IFG0RR0B CSECT
*
*        THE FOLLOWING TABLE REPRESENTS THE DISPLACEMENTS
*        OF FIELDS WITHIN THE DCB
*
DADSP    DS    0F
         DC    FL1'26'                  DSORG
         DC    FL1'82'                  LRECL
         DC    FL1'24'                  INTVL
         DC    FL1'32'                  CPRI
         DC    FL1'24'                  SOWA
         DC    FL1'16'                  KEY LENGTH
         DC    FL1'20'                  BUFNO
         DC    FL1'24'                  BUFL
         DC    FL1'32'                  BFTEK AND BFALN
         DC    FL1'18'                  DENSITY
         DC    FL1'36'                  RECFM
         DC    FL1'52'                  OPTCOD
         DC    FL1'62'                  BLOCK SIZE
         DC    FL1'72'                  BSAM NCP
         DC    FL1'81'                  BDAM LIMCT
         DC    FL1'82'                  ISAN-QSAM LRECL
         DC    FL1'84'                  ISAM-QSAM EROPT
         DC    FL1'72'                  ISAM NCP
         DC    FL1'112'                 ISAM DUBFN
         DC    FL1'60'                  ISAM RKP
         DC    FL1'55'                  ISAM CYLOF
         DC    FL1'54'                  ISAM NTM
         DC    FL1'81'                  BUFOF - ASCII
ENDOFTAB DC    X'00'                    END OF OFFSET TABLE
         EJECT
*
*        THE FOLLOWING IS A TABLE OF THE LENGTHS-1 OF
*        THE FIELDS IN THE DCB WHICH WILL BE RESTORED AT CLOSE TIME
*
DALGH    DS    0F
         DC    FL1'0'                   DSORG
         DC    FL1'1'                   LRECL
         DC    FL1'0'                   INTVL
         DC    FL1'0'                   CPRI
         DC    FL1'1'                   SOWA
         DC    FL1'0'                   KEY LENGTH
         DC    FL1'0'                   BUFNO
         DC    FL1'1'                   BUFL
         DC    FL1'0'                   BFTEK AND BFALN
         DC    FL1'0'                   DENSITY
         DC    FL1'0'                   RECFM
         DC    FL1'0'                   OPTCOD
         DC    FL1'1'                   BLOCK SIZE
         DC    FL1'0'                   BSAM NCP
         DC    FL1'2'                   BDAM LIMCT
         DC    FL1'1'                   ISAM-QSAM LRECL
         DC    FL1'0'                   ISAM-QSAM EROPT
         DC    FL1'0'                   ISAM NCP
         DC    FL1'0'                   ISAM DUBFN
         DC    FL1'1'                   ISAM RKP
         DC    FL1'0'                   ISAM CYLOF
         DC    FL1'0'                   ISAM NTM
         DC    FL1'0'                   BUFOF - ASCII
DANULL   DC    X'000000'                ZERO CONSTANT
         EJECT
ISAM     DEBCHK AM=ISAM,MF=L            ISAM ACCESS METHOD PARM  YM4636
TCAMAP   DEBCHK AM=TCAMAP,MF=L          TCAMAP DEB A.M. TYPE     YM7853
XCTLTABL XCTLTABL ID=(RR0B,IFG0RR0B,RR0E,IFG0RR0E,                     *
               VSAMX,IDAOCEA1,                                         *
               GAMX,IGG0213Z,                                          *
               SAMDAMX,IGG020T1,                                       *
               ISAMX,IGG0202B,                                         *
               ISAMCIX,IDAOCEA1,                                       *
               HASPCIX,IGG020FC,                                       *
               HASPX,HASPXSUB,                                         *
               EOVOLMOD,IFG0554T,                                YM7099*
               SMFMOD,IFG0553B,                                  YM5706*
               FMARKMOD,IFG0202E),                               YM6520*
               BRT=YES,LENGTH=
         EJECT
         IECDSECS USERTOT,RB,PSA,EXPAND=YES
@DATD    DSECT
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IFG0RR0B CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
R0       EQU   @00
R1       EQU   @01
VDSCBPTR EQU   @01
R2       EQU   @02
RBASE    EQU   @03
RCORE    EQU   @04
R5       EQU   @05
RWTG     EQU   @06
R6       EQU   @06
DEBEXPTR EQU   @06
SDWAPTR  EQU   @07
R7       EQU   @07
RRRF     EQU   @08
R8       EQU   @08
R9       EQU   @09
TIOTPTR  EQU   @09
DEBSBPTR EQU   @09
RA       EQU   @10
UCBPTR   EQU   @10
RDEB     EQU   @11
DEBPTR   EQU   @11
RC       EQU   @12
RWTGC    EQU   @12
DSABPTR  EQU   @12
RD       EQU   @13
RET      EQU   @14
RF       EQU   @15
CVTPTR   EQU   16
FCXNAME  EQU   0
MODMASK  EQU   0
DUMARY   EQU   0
SUB      EQU   0
SAVAREA  EQU   0
SACALLER EQU   SAVAREA+4
SACALLED EQU   SAVAREA+8
SARETRY  EQU   SAVAREA+12
SAREG15  EQU   SAVAREA+16
SAREG2   EQU   SAVAREA+28
SAREG4   EQU   SAVAREA+36
SAREG5   EQU   SAVAREA+40
SAREG9   EQU   SAVAREA+56
SAREG10  EQU   SAVAREA+60
SAREG11  EQU   SAVAREA+64
TRREXTPR EQU   0
TRRSAV1  EQU   TRREXTPR
TRRWTGP  EQU   TRREXTPR+72
TRREXTX  EQU   TRREXTPR+80
TRRWTG   EQU   TRREXTX+4
TRRRWTGC EQU   TRREXTX+16
TRRSAV2  EQU   TRREXTX+24
TRRSAV3  EQU   TRREXTX+96
TRRWORK3 EQU   TRREXTX+176
SUBWORDS EQU   TRREXTPR+260
ARYPTR   EQU   SUBWORDS
I        EQU   SUBWORDS+4
LIMIT    EQU   SUBWORDS+6
@NM00002 EQU   SUBWORDS+7
IDAMB    EQU   @NM00002
IGBIT    EQU   @NM00002
WORKWORD EQU   SUBWORDS+8
WORKWRDC EQU   WORKWORD
COMPCODE EQU   WORKWRDC
SYSCODE  EQU   COMPCODE+2
TRRXEND  EQU   TRREXTPR+288
FORCORE  EQU   0
DXDSCB   EQU   FORCORE
DXLBL    EQU   DXDSCB
DSCCORE  EQU   FORCORE+96
DXJBF    EQU   FORCORE+100
DXECB    EQU   FORCORE+276
DXIOB    EQU   FORCORE+280
DXDAADDR EQU   FORCORE+312
DXDEB    EQU   DXDAADDR+4
DXDCB    EQU   FORCORE+320
DXCCW    EQU   FORCORE+368
DXCCW1   EQU   DXCCW
DXCCW2   EQU   DXCCW+8
DXCCW3   EQU   DXCCW+16
DXCCW4   EQU   DXCCW+24
DXCCW5   EQU   DXCCW+32
DXCCW6   EQU   DXCCW+40
DXCCW8   EQU   DXCCW+56
DXCCW11  EQU   DXCCW+80
DXCCW12  EQU   DXCCW+88
DXXCTL   EQU   FORCORE+472
DXVOLSR  EQU   FORCORE+500
DXVOLSR1 EQU   DXVOLSR
DXVOLSR2 EQU   DXVOLSR+6
DXVOLSR3 EQU   DXVOLSR+12
DXRESSW  EQU   FORCORE+524
DXUKEY   EQU   FORCORE+526
DXDSABAD EQU   FORCORE+544
DXDSAB   EQU   FORCORE+548
DXTIOTAD EQU   FORCORE+556
DXUCBADR EQU   FORCORE+560
DXUCBSAV EQU   FORCORE+564
DXUCBSVV EQU   DXUCBSAV+1
DXUDCBAD EQU   FORCORE+568
DXUACBAD EQU   DXUDCBAD+1
DXPDCBAD EQU   FORCORE+572
DXATCOM1 EQU   FORCORE+588
DXATGENS EQU   DXATCOM1
DXATDMCT EQU   DXATGENS
DXATREFR EQU   DXATGENS
DXATDISP EQU   DXATGENS
DXATVGIV EQU   DXATGENS
DXATCLOS EQU   DXATCOM1+1
DXATOUTA EQU   DXATCOM1+2
DXATDATM EQU   DXATOUTA
DXATTRL1 EQU   DXATOUTA
DXATTRL2 EQU   DXATOUTA
DXATTTM1 EQU   DXATOUTA
DXATTTM2 EQU   DXATOUTA
DXATNSL  EQU   DXATOUTA
DXATDACC EQU   DXATCOM1+3
DXATUPDB EQU   DXATDACC
DXATSMF  EQU   DXATDACC
DXATEOF  EQU   DXATDACC
DXATCOM2 EQU   FORCORE+592
DXATEOV  EQU   DXATCOM2
DXATNVOL EQU   DXATEOV
DXATOPEN EQU   DXATCOM2+1
DXATDFIN EQU   DXATOPEN
DXATALL  EQU   DXATCOM2+2
DXATFC   EQU   DXATALL
DXATCOM4 EQU   FORCORE+600
DXATEXC1 EQU   FORCORE+604
DXATEXB1 EQU   DXATEXC1
DXEXHASP EQU   DXATEXB1
DXATEXC2 EQU   FORCORE+608
DSECTSIZ EQU   FORCORE+612
TCBPTRS  EQU   0
TCBPTR   EQU   TCBPTRS+4
DXFMTCOR EQU   0
DXFMTUCB EQU   DXFMTCOR+100
IECPREFX EQU   0
IECEXTPR EQU   IECPREFX+32
IECREGSV EQU   IECEXTPR
IECRRPRM EQU   IECEXTPR+76
IECUPRML EQU   IECEXTPR+80
IECDCBNO EQU   IECUPRML
IECRESWA EQU   IECEXTPR+84
RWARESWA EQU   0
RWAPREFX EQU   RWARESWA
USERPRML EQU   0
IECRRPL  EQU   0
RRPLIST  EQU   IECRRPL
RRFUNCTN EQU   RRPLIST
RRFLAGS1 EQU   RRPLIST+1
RRFAMEXG EQU   RRFLAGS1
RRFAMEXR EQU   RRFLAGS1
RRFSMF   EQU   RRFLAGS1
RRFLAGS2 EQU   RRPLIST+2
RRFFIN1  EQU   RRFLAGS2
RRFLAGS3 EQU   RRPLIST+3
RRFFINFC EQU   RRFLAGS3
RRFFCEXC EQU   RRFLAGS3
RR1WRKAR EQU   RRPLIST+4
RR1RETRY EQU   RRPLIST+8
RRXRETRY EQU   RRPLIST+12
RRFWORK  EQU   RRPLIST+20
DSMADTRL EQU   0
DSMADTW1 EQU   DSMADTRL
DSMADTB1 EQU   DSMADTW1
DSMADTB2 EQU   DSMADTW1+1
WTGTABLE EQU   0
WTGWTOPR EQU   WTGTABLE
WTG      EQU   0
WTGAREA  EQU   WTG
WTGMODNM EQU   WTGAREA
WTGMODID EQU   WTGMODNM+6
WTGMODEP EQU   WTGAREA+8
WTGPREFX EQU   WTGAREA+16
WTGPATHS EQU   WTG+30
WTGSMF   EQU   WTGPATHS
WTGENTRY EQU   0
WTGIDTTR EQU   WTGENTRY
WTGCORE  EQU   WTGENTRY+5
APPNMTBL EQU   0
APPENTRY EQU   APPNMTBL+4
IECCRSA  EQU   0
CRSIECHD EQU   IECCRSA
CRSIECID EQU   CRSIECHD
CRSIECMM EQU   CRSIECHD+3
CRSIECLN EQU   CRSIECHD+4
CRSIECSP EQU   CRSIECHD+6
CRSIECKY EQU   CRSIECHD+7
CRSIECBS EQU   IECCRSA+16
CRSIECFN EQU   CRSIECBS
CRSIECNT EQU   0
CRSIECFC EQU   CRSIECNT
CRSLAST  EQU   CRSIECFC
CRSFCAT  EQU   CRSIECFC
CRSOPMOD EQU   CRSIECFC
CRSIECTP EQU   CRSIECNT+1
CRSTMAD  EQU   CRSIECTP
CRSEOF1  EQU   CRSIECTP
CRSEOF2  EQU   CRSIECTP
CRSEOF1T EQU   CRSIECTP
CRSEOF2T EQU   CRSIECTP
CRSDISP  EQU   CRSIECTP
CRSNSL   EQU   CRSIECTP
CRSIECDA EQU   CRSIECNT+2
CRSDSCB  EQU   CRSIECDA
CRSEOFM  EQU   CRSIECDA
CRSFCXRC EQU   CRSIECNT+3
VDSCB    EQU   0
VDSDSCB  EQU   VDSCB+80
SDWA     EQU   0
SDWAFIOB EQU   SDWA+4
SDWAABCC EQU   SDWAFIOB
SDWACMPF EQU   SDWAABCC
SDWACTL1 EQU   SDWA+8
SDWACMKA EQU   SDWACTL1
SDWAMWPA EQU   SDWACTL1+1
SDWAPMKA EQU   SDWACTL1+4
SDWACTL2 EQU   SDWA+16
SDWACMKP EQU   SDWACTL2
SDWAMWPP EQU   SDWACTL2+1
SDWAPMKP EQU   SDWACTL2+4
SDWAGRSV EQU   SDWA+24
SDWANAME EQU   SDWA+88
SDWAEC1  EQU   SDWA+104
SDWAEMK1 EQU   SDWAEC1
SDWAMWP1 EQU   SDWAEC1+1
SDWAINT1 EQU   SDWAEC1+2
SDWANXT1 EQU   SDWAEC1+4
SDWAAEC1 EQU   SDWA+112
SDWAILC1 EQU   SDWAAEC1+1
SDWAINC1 EQU   SDWAAEC1+2
SDWAICD1 EQU   SDWAINC1+1
SDWAEC2  EQU   SDWA+120
SDWAEMK2 EQU   SDWAEC2
SDWAMWP2 EQU   SDWAEC2+1
SDWAINT2 EQU   SDWAEC2+2
SDWANXT2 EQU   SDWAEC2+4
SDWAAEC2 EQU   SDWA+128
SDWAILC2 EQU   SDWAAEC2+1
SDWAINC2 EQU   SDWAAEC2+2
SDWAICD2 EQU   SDWAINC2+1
SDWASRSV EQU   SDWA+136
SDWAIDNT EQU   SDWA+200
SDWAMCH  EQU   SDWA+204
SDWASTCK EQU   SDWAMCH
SDWAMCHI EQU   SDWAMCH+8
SDWAMCHS EQU   SDWAMCHI
SDWAMCHD EQU   SDWAMCHI+1
SDWARSR1 EQU   SDWAMCH+12
SDWARSR2 EQU   SDWAMCH+13
SDWAFLGS EQU   SDWA+232
SDWAERRA EQU   SDWAFLGS
SDWAERRB EQU   SDWAFLGS+1
SDWAERRC EQU   SDWAFLGS+2
SDWAERRD EQU   SDWAFLGS+3
SDWAIOFS EQU   SDWA+238
SDWACPUA EQU   SDWA+248
SDWAPARQ EQU   SDWA+252
SDWAACF2 EQU   SDWAPARQ+1
SDWAACF3 EQU   SDWAPARQ+2
SDWAACF4 EQU   SDWAPARQ+3
SDWALKWA EQU   SDWA+256
SDWALKWS EQU   SDWALKWA
SDWARECP EQU   SDWA+292
SDWASNPA EQU   SDWA+320
SDWADUMP EQU   SDWASNPA
SDWADPFS EQU   SDWADUMP+1
SDWADDAT EQU   SDWASNPA+4
SDWASDAT EQU   SDWADDAT
SDWAPDAT EQU   SDWADDAT+2
SDWADPSA EQU   SDWA+328
SDWADPSL EQU   SDWADPSA
SDWACOMP EQU   SDWA+392
SDWARA   EQU   SDWA+400
SDWADPVA EQU   SDWARA+2
TIOT1    EQU   0
TIOCNJOB EQU   TIOT1
TIOCSTEP EQU   TIOT1+8
CVTMAP   EQU   0
CVT      EQU   CVTMAP
CVTTCBP  EQU   CVTMAP
CVTPRLTV EQU   CVTMAP+32
CVTDAR   EQU   CVTMAP+72
CVTFLGS1 EQU   CVTDAR
CVTDCB   EQU   CVTMAP+116
CVTIOQET EQU   CVTMAP+120
CVTIERLC EQU   CVTMAP+144
CVTHEAD  EQU   CVTMAP+160
CVTSV76C EQU   CVTHEAD
CVTOPTA  EQU   CVTMAP+182
CVTOPTB  EQU   CVTMAP+183
CVTGTF   EQU   CVTMAP+236
CVTGTFST EQU   CVTGTF
CVTGTFS  EQU   CVTGTFST
CVTSTATE EQU   CVTGTFST
CVTTMODE EQU   CVTGTFST
CVTFORM  EQU   CVTGTFST
CVTAQAVT EQU   CVTMAP+240
CVTTCMFG EQU   CVTAQAVT
CVTVOLM2 EQU   CVTMAP+244
CVTTATA  EQU   CVTVOLM2
CVTTSKS  EQU   CVTTATA
CVTVOLF2 EQU   CVTTSKS
CVTTAT   EQU   CVTTATA+1
CVTATER  EQU   CVTMAP+248
CVTEXT1  EQU   CVTMAP+252
CVTPURG  EQU   CVTMAP+260
CVTQMSG  EQU   CVTMAP+268
CVTDMSR  EQU   CVTMAP+272
CVTRSV37 EQU   CVTDMSR
CVTDMSRF EQU   CVTRSV37
CVTJESCT EQU   CVTMAP+296
CVTERPV  EQU   CVTMAP+316
CVTINTLA EQU   CVTMAP+320
CVTAPF   EQU   CVTMAP+324
CVTEXT2  EQU   CVTMAP+328
CVTHJES  EQU   CVTMAP+332
CVTPGSIA EQU   CVTMAP+348
CVTA1F1  EQU   CVTMAP+356
CVTSYSK  EQU   CVTMAP+357
CVTVOLM1 EQU   CVTMAP+380
CVTVOLF1 EQU   CVTVOLM1
CVTATMCT EQU   CVTMAP+388
CVTXTNT1 EQU   0
CVTXTNT2 EQU   0
CVTDSSV  EQU   CVTXTNT2
CVTFLGBT EQU   CVTXTNT2+5
CVTQID   EQU   CVTXTNT2+24
CVTRV400 EQU   CVTXTNT2+52
CVTRV409 EQU   CVTXTNT2+53
CVTATCVT EQU   CVTXTNT2+64
CVTRV429 EQU   CVTXTNT2+84
CVTRV438 EQU   CVTXTNT2+85
CVTRV457 EQU   CVTXTNT2+112
CVTRV466 EQU   CVTXTNT2+113
CVTFIX   EQU   0
CVTRELNO EQU   CVTFIX+252
IFGACB   EQU   0
ACBCOMN  EQU   IFGACB
ACBLENG  EQU   ACBCOMN+2
ACBLENG2 EQU   ACBLENG
ACBAMBL  EQU   ACBCOMN+4
ACBJWA   EQU   ACBAMBL
ACBMACRF EQU   ACBCOMN+12
ACBMACR1 EQU   ACBMACRF
ACBADR   EQU   ACBMACR1
ACBCNV   EQU   ACBMACR1
ACBMACR2 EQU   ACBMACRF+1
ACBBUFPL EQU   ACBCOMN+20
ACBMACR3 EQU   ACBBUFPL
ACBRECFM EQU   ACBCOMN+24
ACBCCTYP EQU   ACBCOMN+25
ACBOPT   EQU   ACBCOMN+26
ACBDSORG EQU   ACBOPT
ACBCROPS EQU   ACBDSORG
ACBDORGA EQU   ACBDSORG+1
ACBEXLST EQU   ACBCOMN+36
ACBDDNM  EQU   ACBCOMN+40
ACBAMETH EQU   ACBDDNM+3
ACBOFLGS EQU   ACBCOMN+48
ACBEXFG  EQU   ACBOFLGS
ACBIOSFG EQU   ACBOFLGS
ACBINFLG EQU   ACBCOMN+50
ACBUJFCB EQU   ACBCOMN+52
ACBBLKSZ EQU   ACBCOMN+60
ACBLRECL EQU   ACBCOMN+62
IDAAMB   EQU   0
AMBID    EQU   IDAAMB
AMBEOVR  EQU   IDAAMB+24
AMBFLG0  EQU   AMBEOVR
AMBFLG1  EQU   IDAAMB+25
AMBDSORG EQU   IDAAMB+26
AMBIOBAD EQU   IDAAMB+28
AMBINFL  EQU   IDAAMB+42
AMBDEBPT EQU   IDAAMB+44
AMBOFLGS EQU   IDAAMB+48
AMBFLG2  EQU   IDAAMB+49
AMBEOVPT EQU   IDAAMB+56
AMBCSWD1 EQU   IDAAMB+84
AMBAFLG  EQU   AMBCSWD1
TCBFIX   EQU   0
TCBFRS   EQU   TCBFIX
TCB      EQU   0
TCBPIE   EQU   TCB+4
TCBPMASK EQU   TCBPIE
TCBTIO   EQU   TCB+12
TCBCMP   EQU   TCB+16
TCBCMPF  EQU   TCBCMP
TCBCPP   EQU   TCBCMPF
TCBSTCC  EQU   TCBCMPF
TCBCDBL  EQU   TCBCMPF
TCBCWTO  EQU   TCBCMPF
TCBCIND  EQU   TCBCMPF
TCBCMSG  EQU   TCBCMPF
TCBTRN   EQU   TCB+20
TCBABF   EQU   TCBTRN
TCBMSS   EQU   TCB+24
TCBPKF   EQU   TCB+28
TCBFLGS  EQU   TCB+29
TCBFLGS1 EQU   TCBFLGS
TCBFLGS2 EQU   TCBFLGS+1
TCBFLGS3 EQU   TCBFLGS+2
TCBFLGS4 EQU   TCBFLGS+3
TCBFLGS5 EQU   TCBFLGS+4
TCBABWF  EQU   TCBFLGS5
TCBJPQ   EQU   TCB+44
TCBPURGE EQU   TCBJPQ
TCBGRS   EQU   TCB+48
TCBFSA   EQU   TCB+112
TCBTME   EQU   TCB+120
TCBJSTCB EQU   TCB+124
TCBTSFLG EQU   TCB+148
TCBTSTSK EQU   TCBTSFLG
TCBSTAB  EQU   TCB+160
TCBNSTAE EQU   TCBSTAB
TCBTCT   EQU   TCB+164
TCBTCTGF EQU   TCBTCT
TCBSCNDY EQU   TCB+172
TCBNDSP  EQU   TCBSCNDY
TCBNDSP1 EQU   TCBNDSP+1
TCBNDSP2 EQU   TCBNDSP+2
TCBNDSP3 EQU   TCBNDSP+3
TCBJSCB  EQU   TCB+180
TCBRECDE EQU   TCBJSCB
TCBEXT1  EQU   TCB+196
TCBBITS  EQU   TCB+200
TCBNDSP4 EQU   TCBBITS
TCBNDSP5 EQU   TCBBITS+1
TCBFLGS6 EQU   TCBBITS+2
TCBFLGS7 EQU   TCBBITS+3
TCBDAR   EQU   TCB+204
TCBDARC  EQU   TCBDAR
TCBEXT2  EQU   TCB+208
TCBFOE   EQU   TCB+244
TCBESTAE EQU   TCB+264
TCBESTRM EQU   TCBESTAE+1
TCBFBYT1 EQU   TCB+276
TCBFBYT2 EQU   TCB+277
TCBRV124 EQU   TCB+278
TCBRV133 EQU   TCB+279
TCBXTNT2 EQU   0
TCBGTF   EQU   TCBXTNT2
TCBTFLG  EQU   TCBGTF
TCBRV146 EQU   TCBXTNT2+28
TCBRV155 EQU   TCBXTNT2+29
TCBRV164 EQU   TCBXTNT2+30
TCBRV173 EQU   TCBXTNT2+31
DSAB     EQU   0
DSABFCHN EQU   DSAB+4
DSABBCHN EQU   DSAB+8
DSABOPCT EQU   DSAB+14
DSABTIOT EQU   DSAB+16
DSABGIDP EQU   DSAB+24
DSABANMP EQU   DSAB+28
DSABORG  EQU   DSAB+32
DSABORG1 EQU   DSABORG
DSABORG2 EQU   DSABORG+1
DSABFLG1 EQU   DSAB+34
DSABFLG2 EQU   DSAB+35
DSABFLG3 EQU   DSAB+36
DSABFLG4 EQU   DSAB+37
DSABCKDS EQU   DSABFLG4
DSABANMI EQU   0
DSABGIDL EQU   0
UCB      EQU   0
UCBOB    EQU   0
UCBJBNR  EQU   UCBOB
UCBVRDEV EQU   UCBJBNR
UCBFL5   EQU   UCBOB+1
UCBAF    EQU   UCBFL5
UCBSTAT  EQU   UCBOB+3
UCBDADI  EQU   UCBSTAT
UCBCHAN  EQU   UCBOB+4
UCBSFLS  EQU   UCBOB+6
UCBFLA   EQU   UCBSFLS
UCBFL1   EQU   UCBFLA
UCBBSY   EQU   UCBFL1
UCBNRY   EQU   UCBFL1
UCBNOTRD EQU   UCBNRY
UCBPST   EQU   UCBFL1
UCBCUB   EQU   UCBFL1
UCBFLB   EQU   UCBSFLS+1
UCBCHM   EQU   UCBOB+8
UCBCHM1  EQU   UCBCHM
UCBPTH0  EQU   UCBCHM1
UCBPTH1  EQU   UCBCHM1
UCBWGT   EQU   UCBOB+12
UCBREW   EQU   UCBWGT
UCBTYP   EQU   UCBOB+16
UCBTBYT1 EQU   UCBTYP
UCB1FEA5 EQU   UCBTBYT1
UCB1FEA6 EQU   UCBTBYT1
UCBTBYT2 EQU   UCBTYP+1
UCB2OPT2 EQU   UCBTBYT2
UCBDUDN1 EQU   UCB2OPT2
UCB2OPT3 EQU   UCBTBYT2
UCBDUDN2 EQU   UCB2OPT3
UCB2OPT4 EQU   UCBTBYT2
UCBRWTAU EQU   UCB2OPT4
UCB2OPT6 EQU   UCBTBYT2
UCB2OPT7 EQU   UCBTBYT2
UCBTBYT3 EQU   UCBTYP+2
UCBDVCLS EQU   UCBTBYT3
UCB3TAPE EQU   UCBDVCLS
UCB3DACC EQU   UCBDVCLS
UCB3UREC EQU   UCBDVCLS
UCBTBYT4 EQU   UCBTYP+3
UCBEXTPT EQU   UCBOB+20
UCBFLC   EQU   UCBEXTPT
UCBDEV   EQU   UCBOB+24
UCBCMEXT EQU   0
UCBATI   EQU   UCBCMEXT+3
@NM00146 EQU   UCBATI
UCBSNSCT EQU   UCBCMEXT+4
UCBFLP1  EQU   UCBCMEXT+5
UCBMT    EQU   0
UCBCTD   EQU   UCBMT
UCBOCR   EQU   0
UCB3540X EQU   0
UCBDKBYT EQU   UCB3540X+6
UCB3800X EQU   0
UCBOPTNS EQU   UCB3800X
UCBACTIV EQU   UCB3800X+3
UCBMDRBF EQU   UCB3800X+36
UCBUCS   EQU   0
UCBUCSOP EQU   UCBUCS+4
UCBFCBOP EQU   UCBUCS+5
UCBERADR EQU   UCBUCS+12
SSIB     EQU   0
SSIBFLG1 EQU   SSIB+6
SSIBSUSE EQU   SSIB+32
SSOB     EQU   0
SSOBFUNC EQU   SSOB+6
SSOBINDV EQU   SSOB+16
SSDA     EQU   0
SSDARESF EQU   SSDA+3
SSDAJFCB EQU   SSDA+8
JESCT    EQU   0
JESWAA   EQU   JESCT+8
JESSSREQ EQU   JESCT+20
JESALLOC EQU   JESCT+32
JESUNALC EQU   JESCT+36
JESCATL  EQU   JESCT+40
DEBBASIC EQU   0
DEBTCBAD EQU   DEBBASIC
DEBNMSUB EQU   DEBTCBAD
DEBDEBAD EQU   DEBBASIC+4
DEBAMLNG EQU   DEBDEBAD
DEBDEBB  EQU   DEBDEBAD+1
DEBIRBAD EQU   DEBBASIC+8
DEBOFLGS EQU   DEBIRBAD
DEBDISP  EQU   DEBOFLGS
DEBDCB   EQU   DEBOFLGS
DEBLABEL EQU   DEBOFLGS
DEBRERR  EQU   DEBOFLGS
DEBIRBB  EQU   DEBIRBAD+1
DEBOPATB EQU   DEBBASIC+12
DEBACCS  EQU   DEBOPATB
DEBFLGS1 EQU   DEBBASIC+14
DEBUSRPG EQU   DEBBASIC+16
DEBNMEXT EQU   DEBUSRPG
DEBRRQ   EQU   DEBBASIC+20
DEBECBAD EQU   DEBRRQ
DEBECBB  EQU   DEBECBAD+1
DEBDCBAD EQU   DEBBASIC+24
DEBPROTG EQU   DEBDCBAD
DEBDCBB  EQU   DEBDCBAD+1
DEBAPPAD EQU   DEBBASIC+28
DEBEXSCL EQU   DEBAPPAD
DEBBASND EQU   DEBBASIC+32
DEBDASD  EQU   0
DEBUCBAD EQU   DEBDASD
DEBUCBA  EQU   DEBUCBAD+1
DEBBINUM EQU   DEBDASD+4
DEBACSMD EQU   0
DEBVOLSQ EQU   DEBACSMD
DEBVOLBT EQU   DEBVOLSQ
DEBDSNM  EQU   DEBACSMD+4
DEBUTSAA EQU   DEBDSNM
DEBACS01 EQU   0
DEBDSNAM EQU   DEBACS01
DEBEXTNM EQU   DEBDSNAM
DEBACS02 EQU   0
DEBDBLK  EQU   DEBACS02
DEBACS03 EQU   0
DEBACS04 EQU   0
DEBTBFRA EQU   DEBACS04
DEBTCCWA EQU   DEBACS04+4
DEBACS05 EQU   0
DEBFUCBA EQU   DEBACS05
DEBLUCBA EQU   DEBACS05+4
DEBACS06 EQU   0
DEBACS07 EQU   0
DEBACS08 EQU   0
DEBSUBNM EQU   0
DEBSUBID EQU   DEBSUBNM
DEB      EQU   0
DEBAVT   EQU   DEB
DEBEOEA  EQU   DEBAVT
DEBEOEAB EQU   DEBEOEA
DEBSIOA  EQU   DEBAVT+4
DEBSIOAB EQU   DEBSIOA
DEBPCIA  EQU   DEBAVT+8
DEBPCIAB EQU   DEBPCIA
DEBCEA   EQU   DEBAVT+12
DEBCEAB  EQU   DEBCEA
DEBXCEA  EQU   DEBAVT+16
DEBXCEAB EQU   DEBXCEA
DEBPREFX EQU   DEB+20
DEBDSCBA EQU   DEBPREFX+1
DEBXTNP  EQU   DEBPREFX+8
DEBAMTYP EQU   DEBPREFX+13
DEBXTN   EQU   0
DEBXFLG1 EQU   DEBXTN+2
DEBXCDCB EQU   DEBXFLG1
DEBXDCBM EQU   DEBXTN+8
INFMJFCB EQU   0
JFCBDSNM EQU   INFMJFCB
JFCBELNM EQU   INFMJFCB+44
JFCBTSDM EQU   INFMJFCB+52
JFCFCBID EQU   INFMJFCB+56
JFCBFRID EQU   JFCFCBID
JFCBLTYP EQU   INFMJFCB+66
JFCBOTTR EQU   INFMJFCB+67
JFCBUFOF EQU   JFCBOTTR
JFCBFLSQ EQU   JFCBOTTR+1
JFCFUNC  EQU   JFCBFLSQ
JFCBVLSQ EQU   INFMJFCB+70
JFCBMASK EQU   INFMJFCB+72
JFCBFLG1 EQU   JFCBMASK+5
JFCOPEN  EQU   JFCBFLG1
JFCBFLG2 EQU   JFCBMASK+6
JFCDEFER EQU   JFCBFLG2
JFCBCRDT EQU   INFMJFCB+80
JFCBXPDT EQU   INFMJFCB+83
JFCBIND1 EQU   INFMJFCB+86
JFCBIND2 EQU   INFMJFCB+87
JFCSECUR EQU   JFCBIND2
JFCAMPTR EQU   INFMJFCB+88
JFCBUFRQ EQU   JFCAMPTR
JFCBUFNO EQU   JFCBUFRQ
JFCBGNCP EQU   JFCAMPTR+1
JFCBHIAR EQU   JFCBGNCP
JFCBFALN EQU   JFCBHIAR
JFCBFTEK EQU   JFCBFALN
JFCBBFTA EQU   JFCBFTEK
JFCEROPT EQU   INFMJFCB+92
JFCTRTCH EQU   INFMJFCB+93
IHADCB   EQU   0
IHADCS00 EQU   0
DCBFDAD  EQU   IHADCS00+5
IHADCS01 EQU   0
DCBDVTBL EQU   IHADCS01
DCBTRBAL EQU   IHADCS01+6
IHADCS02 EQU   0
DCBBLKCT EQU   IHADCS02+12
IHADCS03 EQU   0
DCBPTFLG EQU   IHADCS03+11
IHADCS04 EQU   0
DCBPRBYT EQU   IHADCS04+3
IHADCS05 EQU   0
DCBMODE  EQU   IHADCS05
DCBSTACK EQU   DCBMODE
DCBFUNC  EQU   IHADCS05+3
IHADCS06 EQU   0
DCBBQFLG EQU   IHADCS06
IHADCS07 EQU   0
DCBWTOID EQU   IHADCS07
IHADCS08 EQU   0
DCBERRCN EQU   IHADCS08
DCBERRCA EQU   DCBERRCN+1
DCBORFLG EQU   DCBERRCA+1
DCBDSPLY EQU   IHADCS08+4
DCBFRID  EQU   DCBDSPLY
DCBRESCN EQU   IHADCS08+8
DCBRDLNE EQU   DCBRESCN
DCBFRTBA EQU   DCBRDLNE
DCBORBYT EQU   IHADCS08+12
DCBEIB   EQU   IHADCS08+14
IHADCS09 EQU   0
DCBSSID  EQU   IHADCS09
IHADCS10 EQU   0
@NM00186 EQU   IHADCS10
DCBSSAD  EQU   IHADCS10+4
DCBIMG   EQU   DCBSSAD
DCBIMAGE EQU   IHADCS10+8
DCBMRFG  EQU   DCBIMAGE
DCBECBLT EQU   IHADCS10+12
DCBHDR   EQU   DCBECBLT
DCBMRIND EQU   DCBHDR
DCBMRFLG EQU   IHADCS10+16
IHADCS11 EQU   0
DCBRELB  EQU   IHADCS11
DCBREL   EQU   DCBRELB+1
DCBBUFCB EQU   IHADCS11+4
DCBDSORG EQU   IHADCS11+10
DCBDSRG1 EQU   DCBDSORG
DCBDSGIS EQU   DCBDSRG1
DCBDSGPS EQU   DCBDSRG1
DCBDSGDA EQU   DCBDSRG1
DCBDSGPO EQU   DCBDSRG1
DCBDSRG2 EQU   DCBDSORG+1
DCBDSGGS EQU   DCBDSRG2
DCBDSGTX EQU   DCBDSRG2
DCBDSGTQ EQU   DCBDSRG2
DCBIOBAD EQU   IHADCS11+12
DCBODEB  EQU   DCBIOBAD
DCBLNP   EQU   DCBODEB
DCBQSLM  EQU   DCBLNP
DCBIOBAA EQU   DCBODEB+1
IHADCS50 EQU   0
DCBSVCXL EQU   IHADCS50
DCBEODAD EQU   IHADCS50+4
DCBBFALN EQU   DCBEODAD
DCBHIARC EQU   DCBBFALN
DCBBFTEK EQU   DCBHIARC
DCBBFT   EQU   DCBBFTEK
DCBEXLST EQU   IHADCS50+8
DCBRECFM EQU   DCBEXLST
DCBRECLA EQU   DCBRECFM
IHADCS24 EQU   0
DCBDDNAM EQU   IHADCS24
DCBOFLGS EQU   IHADCS24+8
DCBOFLWR EQU   DCBOFLGS
DCBOFLRB EQU   DCBOFLGS
DCBOFEOV EQU   DCBOFLGS
DCBOFOPN EQU   DCBOFLGS
DCBOFTM  EQU   DCBOFLGS
DCBOFUEX EQU   DCBOFLGS
DCBOFIOF EQU   DCBOFLGS
DCBIFLG  EQU   IHADCS24+9
DCBIBEC  EQU   DCBIFLG
DCBIBPCT EQU   DCBIFLG
DCBMACR  EQU   IHADCS24+10
DCBMACR1 EQU   DCBMACR
DCBMRFE  EQU   DCBMACR1
DCBMRGET EQU   DCBMRFE
DCBMRAPG EQU   DCBMACR1
DCBMRRD  EQU   DCBMRAPG
DCBMRCI  EQU   DCBMACR1
DCBMRMVG EQU   DCBMRCI
DCBMRLCG EQU   DCBMACR1
DCBMRABC EQU   DCBMACR1
DCBMRPT1 EQU   DCBMRABC
DCBMRSBG EQU   DCBMRPT1
DCBMRCRL EQU   DCBMACR1
DCBMRCHK EQU   DCBMRCRL
DCBMRRDX EQU   DCBMRCHK
DCBMRDMG EQU   DCBMACR1
DCBMACR2 EQU   DCBMACR+1
DCBMRPUT EQU   DCBMACR2
DCBMRWRT EQU   DCBMACR2
DCBMRMVP EQU   DCBMACR2
DCBMR5WD EQU   DCBMACR2
DCBMRLDM EQU   DCBMR5WD
DCBMRLCP EQU   DCBMRLDM
DCBMR4WD EQU   DCBMACR2
DCBMRPT2 EQU   DCBMR4WD
DCBMRTMD EQU   DCBMRPT2
DCBMR3WD EQU   DCBMACR2
DCBMRCTL EQU   DCBMR3WD
DCBMRSTK EQU   DCBMRCTL
DCBMR1WD EQU   DCBMACR2
DCBMRSWA EQU   DCBMR1WD
DCBMRDMD EQU   DCBMRSWA
IHADCS25 EQU   0
DCBMACRF EQU   IHADCS25+2
DCBMACF1 EQU   DCBMACRF
DCBMFECP EQU   DCBMACF1
DCBMFFE  EQU   DCBMACF1
DCBMFGET EQU   DCBMFFE
DCBMFAPG EQU   DCBMACF1
DCBMFRD  EQU   DCBMFAPG
DCBMFCI  EQU   DCBMACF1
DCBMFMVG EQU   DCBMFCI
DCBMFLCG EQU   DCBMACF1
DCBMFABC EQU   DCBMACF1
DCBMFPT1 EQU   DCBMFABC
DCBMFSBG EQU   DCBMFPT1
DCBMFCRL EQU   DCBMACF1
DCBMFCHK EQU   DCBMFCRL
DCBMFDMG EQU   DCBMACF1
DCBMACF2 EQU   DCBMACRF+1
DCBMFPUT EQU   DCBMACF2
DCBMFWRT EQU   DCBMACF2
DCBMFMVP EQU   DCBMACF2
DCBMF5WD EQU   DCBMACF2
DCBMFLDM EQU   DCBMF5WD
DCBMFLCP EQU   DCBMFLDM
DCBMF4WD EQU   DCBMACF2
DCBMFPT2 EQU   DCBMF4WD
DCBMFTMD EQU   DCBMFPT2
DCBMF3WD EQU   DCBMACF2
DCBMFCTL EQU   DCBMF3WD
DCBMFSTK EQU   DCBMFCTL
DCBMF1WD EQU   DCBMACF2
DCBMFSWA EQU   DCBMF1WD
DCBMFDMD EQU   DCBMFSWA
DCBDEBAD EQU   IHADCS25+4
DCBIFLGS EQU   DCBDEBAD
DCBIFPCT EQU   DCBIFLGS
DCBDEBA  EQU   DCBDEBAD+1
IHADCS26 EQU   0
DCBWRITE EQU   IHADCS26
DCBREAD  EQU   DCBWRITE
DCBWRITA EQU   DCBREAD+1
IHADCS27 EQU   0
DCBGET   EQU   IHADCS27
DCBPUT   EQU   DCBGET
DCBGETA  EQU   DCBPUT+1
IHADCS29 EQU   0
DCBOPTCD EQU   IHADCS29
DCBMAC   EQU   IHADCS29+1
DCBMSHI  EQU   IHADCS29+20
DCBEXCD1 EQU   IHADCS29+28
DCBEXCD2 EQU   IHADCS29+29
DCBEXLTH EQU   DCBEXCD2
DCBST    EQU   IHADCS29+108
IHADCS55 EQU   0
IHADCS30 EQU   0
DCBCHECK EQU   IHADCS30
@NM00209 EQU   DCBCHECK
DCBXARG  EQU   IHADCS30+32
DCBDRDX  EQU   IHADCS30+36
IHADCS36 EQU   0
@NM00215 EQU   IHADCS36
@NM00216 EQU   @NM00215
DCBOPTW  EQU   @NM00216
DCBOPTH  EQU   @NM00216
DCBOPTO  EQU   DCBOPTH
DCBOPTZ  EQU   @NM00216
DCBOPTT  EQU   @NM00216
@NM00218 EQU   IHADCS36+4
DCBCIND1 EQU   IHADCS36+8
DCBCIND2 EQU   IHADCS36+9
DCBCNSTO EQU   DCBCIND2
DCBCNQSM EQU   DCBCIND2
DCBIOBA  EQU   IHADCS36+16
DCBCICB  EQU   DCBIOBA
IHADCS52 EQU   0
DCBDIRCT EQU   IHADCS52
DCBQSWS  EQU   DCBDIRCT
DCBUSASI EQU   DCBQSWS
DCBQADFS EQU   DCBUSASI
DCBBUFOF EQU   DCBDIRCT+1
DCBDIRCQ EQU   DCBBUFOF
IHADCS37 EQU   0
DCBFLAG1 EQU   IHADCS37
IHADCS38 EQU   0
DCBEOBR  EQU   IHADCS38
DCBPOINT EQU   IHADCS38+12
DCBCNTRL EQU   DCBPOINT
IHADCS39 EQU   0
DCBGERR  EQU   IHADCS39
DCBPERR  EQU   DCBGERR
DCBGERRA EQU   DCBPERR+1
IHADCS40 EQU   0
DCBEOBAD EQU   IHADCS40
DCBCCCW  EQU   IHADCS40+4
DCBRECAD EQU   DCBCCCW
DCBRECBT EQU   DCBRECAD
DCBRCREL EQU   DCBRECBT
@NM00235 EQU   IHADCS40+12
DCBEROPT EQU   @NM00235
DEVTNOBT EQU   0
IEFAB4F5 EQU   0
IEFBB410 EQU   0
IEFW21SD EQU   0
SSREQ    EQU   0
SWAMGR   EQU   0
TRRPREFX EQU   0
UCBBGN   EQU   0
XUCBERAD EQU   UCBERADR
UCBOBS01 EQU   UCBDEV
UCBVOLI  EQU   UCBOBS01+4
UCBSTAB  EQU   UCBOBS01+10
UCBBSVL  EQU   UCBSTAB
UCBPRSRS EQU   UCBSTAB
UCBBSTR  EQU   UCBSTAB
UCBDMCT  EQU   UCBOBS01+11
UCBDMC   EQU   UCBDMCT
UCBFL4   EQU   UCBOBS01+13
XUCBDMCT EQU   UCBVOLI+4
DXDEBUCB EQU   DXDEB+32
HEXZERO4 EQU   VTAMDDNM+1
DXCCW1A  EQU   DXCCW1
TRRWA    EQU   TRRXEND
SPDCBMSK EQU   TRRWA
RECPARML EQU   TRRWA+4
GTRACBUF EQU   TRRWA+28
GTRACDAT EQU   GTRACBUF+8
TRRWTP   EQU   TRRWA+400
TRRERMOD EQU   TRRWTP+12
MESSAGE  EQU   TRRWTP
MSGBUF   EQU   MESSAGE
MSGMCS   EQU   MSGBUF+2
TCMODNM  EQU   MSGBUF+12
TCSUBNM  EQU   MSGBUF+21
TCDEBAD  EQU   MSGBUF+47
ROUTE1   EQU   TCDEBAD
FL1LABEL EQU   DXLBL
FL1LABI  EQU   FL1LABEL
FL1NO    EQU   FL1LABEL+3
FL1ID    EQU   FL1LABEL+4
FL1FILSR EQU   FL1LABEL+21
FL1VOLSQ EQU   FL1LABEL+27
FL1FILSQ EQU   FL1LABEL+31
FL1GNO   EQU   FL1LABEL+35
FL1VNG   EQU   FL1LABEL+39
FL1CREDT EQU   FL1LABEL+41
FL1EXPDT EQU   FL1LABEL+47
FL1FSEC  EQU   FL1LABEL+53
FL1BLKCT EQU   FL1LABEL+54
FL1SYSCD EQU   FL1LABEL+60
FL1RES   EQU   FL1LABEL+73
FL2LABEL EQU   FL1ID
FL2RECFM EQU   FL2LABEL
FL2BLKL  EQU   FL2LABEL+1
FL2LRECL EQU   FL2LABEL+6
FL2DEN   EQU   FL2LABEL+11
FL2FILP  EQU   FL2LABEL+12
FL2JSID  EQU   FL2LABEL+13
FL2JOBD  EQU   FL2JSID
FL2JSSP  EQU   FL2JSID+8
FL2STEPD EQU   FL2JSID+9
FL2TRTCH EQU   FL2LABEL+30
FL2CNTRL EQU   FL2LABEL+32
FL2BLKA  EQU   FL2LABEL+34
FL2DRID  EQU   FL2LABEL+36
FL2ID    EQU   FL2DRID+2
FL2DSIND EQU   FL2LABEL+43
FL2RES   EQU   FL2LABEL+44
FL2BUFOF EQU   FL2RES+2
FCDSCB   EQU   DXDSCB
DSCBLDBL EQU   FCDSCB+16
DSCFILTY EQU   FCDSCB+38
DSCPART  EQU   DSCFILTY
DSCDSIND EQU   FCDSCB+49
DSCLSTVL EQU   DSCDSIND
DSCLSTAR EQU   FCDSCB+54
DXXWTG   EQU   DSECTSIZ
DXXAREA  EQU   DSECTSIZ+4
DXXMODNM EQU   DXXAREA
DXXLNG   EQU   DXXAREA+29
DXXENTRY EQU   DXXAREA+32
DXXIDTTR EQU   DXXENTRY
DXREGSAV EQU   DXCCW8
DXREG1   EQU   DXREGSAV+28
DXIDENT  EQU   DXCCW12
DXRETMOD EQU   DXIDENT+2
@NM00053 EQU   DXXCTL
DXSAVMOD EQU   @NM00053+2
@NM00054 EQU   DXRESSW
TIOENTRY EQU   TIOT1+24
TIOESTTA EQU   TIOENTRY+1
TIOERLOC EQU   TIOENTRY+2
TIOELINK EQU   TIOERLOC+1
TIOEQNAM EQU   TIOELINK
TIOESYIN EQU   TIOELINK
TIOESYOT EQU   TIOELINK
TIOEDDNM EQU   TIOENTRY+4
TIOESTTC EQU   TIOENTRY+15
TIOESTTB EQU   TIOENTRY+16
POOLSTAR EQU   TIOENTRY+20
TIOEDEVE EQU   TIOESTTB
TIOSTTB  EQU   TIOEDEVE
CVTS01   EQU   CVTPGSIA
CVTLPDIA EQU   CVTS01+12
CVTDIRST EQU   CVTLPDIA
CVTSLIDA EQU   CVTS01+24
CVTCTLFG EQU   CVTS01+50
CVTRV210 EQU   CVTS01+424
CVTRV219 EQU   CVTS01+425
CVTRV228 EQU   CVTS01+426
CVTRV237 EQU   CVTS01+427
CVTPWI   EQU   CVTS01+440
CVTMFRTR EQU   CVTS01+452
CVTRV262 EQU   CVTS01+468
CVTRV271 EQU   CVTS01+469
CVTRV280 EQU   CVTS01+470
CVTRV289 EQU   CVTS01+471
CVTGSDA  EQU   CVTS01+600
UCBOBS02 EQU   UCBDEV
UCBFSCT  EQU   UCBOBS02
UCBFSEQ  EQU   UCBOBS02+2
UCBFSER  EQU   UCBOBS02+12
UCBTFL1  EQU   UCBOBS02+19
UCBXTN   EQU   UCBOBS02+20
UCBVOPT  EQU   UCBXTN
UCBOBS03 EQU   UCBDEV
UCBXTADR EQU   UCBOBS03
UCBOBS04 EQU   UCBDEV
UCBBTA   EQU   UCBOBS04+12
UCBOBS06 EQU   UCBDEV
UCBAOF   EQU   UCBOBS06
UCBAOF1  EQU   UCBAOF
UCBAOF2  EQU   UCBAOF+1
@NM00145 EQU   UCBOBS06+3
UCBIRB   EQU   UCBOBS06+4
UCBGRAF  EQU   UCBIRB
UCBLDNCA EQU   UCBOBS06+8
UCBRDYQ  EQU   UCBLDNCA
UCBIRLN  EQU   UCBRDYQ
UCBLDNCB EQU   UCBRDYQ+1
UCBCTLNK EQU   UCBOBS06+12
UCBOBS07 EQU   UCBDEV
UCBOBS08 EQU   UCBDEV
UCBCTCAD EQU   UCBOBS08
UCBCTCF1 EQU   UCBOBS08+4
UCBOBS09 EQU   UCBDEV
DEBBAS02 EQU   DEBBASND
DEBDDS1  EQU   DEBBAS02
DEBSUCBA EQU   DEBDDS1
DEBDEVED EQU   DEBDDS1+4
DEBRDCB  EQU   DEBDDS1+4
DEBPDCB  EQU   DEBDDS1+8
DEBWDCB  EQU   DEBDDS1+12
DEBACS09 EQU   DEBDEVED
DEBASC09 EQU   DEBACS09
DEBEAMFG EQU   DEBASC09+3
DEBDSID  EQU   DEBASC09+4
DEBEOD   EQU   DEBASC09+12
DEBBOE   EQU   DEBEOD
DEBEODRV EQU   DEBBOE
DEBEODTT EQU   DEBBOE+1
DEBEOD0  EQU   DEBBOE+2
DEBEODSS EQU   DEBBOE+3
DEBBAS01 EQU   DEBBASND
DEBISAM  EQU   DEBBAS01
DEBFIEAD EQU   DEBISAM
DEBFPEAD EQU   DEBISAM+4
DEBFOEAD EQU   DEBISAM+8
DEBEXPT  EQU   DEBISAM+12
DEBRPSID EQU   DEBEXPT
JFCKEYLE EQU   JFCTRTCH
JFCCODE  EQU   JFCKEYLE
JFCSTACK EQU   JFCTRTCH
JFCMODE  EQU   JFCSTACK
JFCSPPRT EQU   JFCTRTCH
JFCDEN   EQU   JFCSPPRT+1
JFCBABFS EQU   JFCSPPRT+2
JFCLIMCT EQU   JFCBABFS
JFCDSORG EQU   JFCSPPRT+5
JFCDSRG1 EQU   JFCDSORG
JFCDSRG2 EQU   JFCDSORG+1
JFCORGAM EQU   JFCDSRG2
JFCRECFM EQU   JFCSPPRT+7
JFCRCFM  EQU   JFCRECFM
JFCCHAR  EQU   JFCRECFM
JFCOPTCD EQU   JFCSPPRT+8
JFCWVCSP EQU   JFCOPTCD
JFCWVCIS EQU   JFCWVCSP
JFCWVCBD EQU   JFCWVCIS
JFCALLOW EQU   JFCOPTCD
JFCRSV17 EQU   JFCALLOW
JFCOVER  EQU   JFCRSV17
JFCPCIBT EQU   JFCOPTCD
JFCMAST  EQU   JFCPCIBT
JFCEXT   EQU   JFCMAST
JFCBCKPT EQU   JFCOPTCD
JFCIND   EQU   JFCBCKPT
JFCRSV18 EQU   JFCOPTCD
JFCCYL   EQU   JFCRSV18
JFCACT   EQU   JFCCYL
JFCREDUC EQU   JFCOPTCD
JFCRSV19 EQU   JFCREDUC
JFCRSV20 EQU   JFCRSV19
JFCRSV21 EQU   JFCOPTCD
JFCDEL   EQU   JFCRSV21
JFCOPTJ  EQU   JFCOPTCD
JFCREORG EQU   JFCOPTJ
JFCBLKSI EQU   JFCSPPRT+9
JFCBUFSI EQU   JFCBLKSI
JFCAMSYN EQU   JFCSPPRT+11
JFCLRECL EQU   JFCAMSYN
JFCNCP   EQU   JFCAMSYN+2
JFCNTM   EQU   JFCAMSYN+3
JFCBFSEQ EQU   JFCNTM
JFCPCI   EQU   JFCBFSEQ
JFCRESRV EQU   JFCAMSYN+4
JFCUCSEG EQU   JFCRESRV
JFCUCSOP EQU   JFCUCSEG+4
JFCOUTLI EQU   JFCUCSEG+5
JFCTHRSH EQU   JFCOUTLI
JFCCPRI  EQU   JFCTHRSH
JFCBVOLS EQU   JFCUCSEG+10
JFCBS001 EQU   JFCBVOLS
JFCBPQTY EQU   JFCBS001+34
JFCBCTRI EQU   JFCBS001+37
JFCBSQTY EQU   JFCBS001+38
JFCFLGS1 EQU   JFCBS001+41
JFCBSPNM EQU   JFCBS001+45
JFCBFLG3 EQU   JFCBSPNM
DXBTAMX  EQU   DXREG1
DXDSNAME EQU   DXCCW5
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
JFCBEND  EQU   JFCBS001+58
JFCBSPTN EQU   JFCBS001+57
JFCBVLCT EQU   JFCBS001+56
JFCBDRLH EQU   JFCBS001+53
JFCBSBNM EQU   JFCBS001+50
JFCBABST EQU   JFCBS001+48
JFCBRV08 EQU   JFCBSPNM+1
JFCBRV07 EQU   JFCBFLG3
JFCBRV06 EQU   JFCBFLG3
JFCBRV05 EQU   JFCBFLG3
JFCBRV04 EQU   JFCBFLG3
JFCBRV03 EQU   JFCBFLG3
JFCBRV02 EQU   JFCBFLG3
JFCBEXP  EQU   JFCBFLG3
JFCDQDSP EQU   JFCBFLG3
JFCBDQTY EQU   JFCBS001+42
JFCBUAFF EQU   JFCFLGS1
JFCRSV45 EQU   JFCFLGS1
JFCVRDS  EQU   JFCFLGS1
JFCBCEOV EQU   JFCFLGS1
JFCRSV42 EQU   JFCFLGS1
JFCBADSP EQU   JFCFLGS1
JFCTOPEN EQU   JFCFLGS1
JFCBDLET EQU   JFCFLGS1
JFCRQID  EQU   JFCBSQTY
JFCROUND EQU   JFCBCTRI
JFCALX   EQU   JFCBCTRI
JFCMIXG  EQU   JFCBCTRI
JFCONTIG EQU   JFCBCTRI
JFCRSV29 EQU   JFCBCTRI
JFCBMSGP EQU   JFCBCTRI
JFCBSPAC EQU   JFCBCTRI
JFCRUNIT EQU   JFCBPQTY
JFCBEXAD EQU   JFCBS001+31
JFCBEXTL EQU   JFCBS001+30
JFCMSVGP EQU   JFCBS001+22
@NM00157 EQU   JFCBS001
JFCAVOLS EQU   JFCBVOLS
JFCBNVOL EQU   JFCUCSEG+9
JFCBNTCS EQU   JFCUCSEG+8
JFCSOWA  EQU   JFCOUTLI+1
JFCSEND  EQU   JFCCPRI
JFCEQUAL EQU   JFCCPRI
JFCRECV  EQU   JFCCPRI
JFCRSV34 EQU   JFCCPRI
JFCRSV33 EQU   JFCCPRI
JFCRSV55 EQU   JFCCPRI
JFCRSV54 EQU   JFCCPRI
JFCRSV53 EQU   JFCCPRI
JFCRSV27 EQU   JFCUCSOP
JFCRSV26 EQU   JFCUCSOP
JFCFCBVR EQU   JFCUCSOP
JFCFCBAL EQU   JFCUCSOP
JFCVER   EQU   JFCUCSOP
JFCRSV25 EQU   JFCUCSOP
JFCFOLD  EQU   JFCUCSOP
JFCBEXTP EQU   JFCUCSOP
JFCUCSID EQU   JFCUCSEG
JFCINTVL EQU   JFCSPPRT+19
JFCDBUFN EQU   JFCRESRV+3
JFCCYLOF EQU   JFCRESRV+2
JFCRKP   EQU   JFCRESRV
JFCPCIR2 EQU   JFCPCI
JFCPCIR1 EQU   JFCPCI
JFCPCIN2 EQU   JFCPCI
JFCPCIN1 EQU   JFCPCI
JFCPCIA2 EQU   JFCPCI
JFCPCIA1 EQU   JFCPCI
JFCPCIX2 EQU   JFCPCI
JFCPCIX1 EQU   JFCPCI
JFCBUFMX EQU   JFCNCP
JFCBAXBF EQU   JFCBUFSI
JFCREL   EQU   JFCREORG
JFCRSV22 EQU   JFCDEL
JFCSRCHD EQU   JFCRSV20
JFCOPTQ  EQU   JFCACT
JFCFEED  EQU   JFCIND
JFCCBWU  EQU   JFCEXT
JFCWUMSG EQU   JFCOVER
JFCSDNAM EQU   JFCWVCBD
@NM00156 EQU   JFCRECFM
JFCRFS   EQU   JFCRECFM
JFCRFB   EQU   JFCRECFM
JFCRFO   EQU   JFCRCFM
JFCFMREC EQU   JFCRCFM
JFCRSV16 EQU   JFCDSRG2
JFCRSV15 EQU   JFCDSRG2
JFCORGTR EQU   JFCDSRG2
JFCRSV13 EQU   JFCDSRG2
JFCORGTQ EQU   JFCDSRG2
JFCORGTX EQU   JFCDSRG2
JFCORGGS EQU   JFCDSRG2
JFCORGU  EQU   JFCDSRG1
JFCORGPO EQU   JFCDSRG1
JFCORGMQ EQU   JFCDSRG1
JFCORGCQ EQU   JFCDSRG1
JFCORGCX EQU   JFCDSRG1
JFCORGDA EQU   JFCDSRG1
JFCORGPS EQU   JFCDSRG1
JFCORGIS EQU   JFCDSRG1
JFCTRKBL EQU   JFCLIMCT+1
@NM00155 EQU   JFCLIMCT
JFCPRTSP EQU   JFCSPPRT
JFCONE   EQU   JFCMODE
JFCTWO   EQU   JFCMODE
JFCRSV07 EQU   JFCMODE
JFCRSV06 EQU   JFCMODE
JFCMODER EQU   JFCMODE
JFCMODEO EQU   JFCMODE
JFCEBCD  EQU   JFCMODE
JFCBIN   EQU   JFCMODE
JFCRSV32 EQU   JFCCODE
JFCTTY   EQU   JFCCODE
JFCASCII EQU   JFCCODE
JFCNCR   EQU   JFCCODE
JFCBUR   EQU   JFCCODE
JFCFRI   EQU   JFCCODE
JFCBCD   EQU   JFCCODE
JFCNOCON EQU   JFCCODE
DEBEXPTA EQU   DEBEXPT+1
DEBRSV12 EQU   DEBRPSID
DEBRSV11 EQU   DEBRPSID
DEBRSV10 EQU   DEBRPSID
DEBRSV09 EQU   DEBRPSID
DEBRPSAP EQU   DEBRPSID
DEBRPSO  EQU   DEBRPSID
DEBRPSI  EQU   DEBRPSID
DEBRPSP  EQU   DEBRPSID
DEBFOEB  EQU   DEBFOEAD+1
DEBNOEE  EQU   DEBFOEAD
DEBFPEB  EQU   DEBFPEAD+1
DEBNPEE  EQU   DEBFPEAD
DEBFIEB  EQU   DEBFIEAD+1
DEBNIEE  EQU   DEBFIEAD
DEBBOESS EQU   DEBEODSS
DEBBOE0  EQU   DEBEOD0
DEBBOETT EQU   DEBEODTT
DEBBOERV EQU   DEBEODRV
DEBRV008 EQU   DEBDSID+7
DEBWTPTI EQU   DEBDSID+6
DEBEXDTE EQU   DEBDSID
DEBRV007 EQU   DEBEAMFG
DEBRV006 EQU   DEBEAMFG
DEBRV005 EQU   DEBEAMFG
DEBRV004 EQU   DEBEAMFG
DEBSECVL EQU   DEBEAMFG
DEBVAMSG EQU   DEBEAMFG
DEBDSOPN EQU   DEBEAMFG
DEBMULTI EQU   DEBEAMFG
DEBVSEQU EQU   DEBASC09+2
DEBDSSQL EQU   DEBASC09+1
DEBVOLAC EQU   DEBASC09
DEBWDCBA EQU   DEBWDCB+1
DEBRSV08 EQU   DEBWDCB
DEBPDCBA EQU   DEBPDCB+1
DEBRSV07 EQU   DEBPDCB
DEBRDCBA EQU   DEBRDCB+1
DEBRSV06 EQU   DEBRDCB
DEBSUCBB EQU   DEBSUCBA+1
DEBSDVM  EQU   DEBSUCBA
UCBRV066 EQU   UCBOBS09+4
UCBIOSBA EQU   UCBOBS09
UCBRV042 EQU   UCBOBS08+5
UCBRV082 EQU   UCBCTCF1
UCBRV081 EQU   UCBCTCF1
UCBRV080 EQU   UCBCTCF1
UCBRV079 EQU   UCBCTCF1
UCBRV078 EQU   UCBCTCF1
UCBRV077 EQU   UCBCTCF1
UCBRV076 EQU   UCBCTCF1
UCBCTC80 EQU   UCBCTCF1
UCBCTCAL EQU   UCBCTCAD
UCBICNCB EQU   UCBOBS07+4
UCBRV040 EQU   UCBOBS07
UCBCTLNA EQU   UCBCTLNK+1
UCBRLN   EQU   UCBCTLNK
UCBRDYQA EQU   UCBLDNCB
UCBINRLN EQU   UCBIRLN
UCBIRBA  EQU   UCBIRB+1
UCBRV039 EQU   UCBGRAF
UCBDWNR  EQU   UCBGRAF
UCBRPND  EQU   UCBGRAF
UCBUPM   EQU   UCBGRAF
UCBBTAM  EQU   UCBGRAF
UCBDRNO  EQU   UCBGRAF
UCBDRO   EQU   UCBGRAF
UCBOIP   EQU   UCBGRAF
UCBATRCD EQU   @NM00145
UCBSKPFG EQU   @NM00145
UCBRIPND EQU   @NM00145
UCBRTIAC EQU   @NM00145
UCBRSV79 EQU   @NM00145
UCBRSV78 EQU   @NM00145
UCBRSV77 EQU   @NM00145
UCBOLTEP EQU   @NM00145
UCBATNCT EQU   UCBOBS06+2
UCBRSV76 EQU   UCBAOF2
UCBRSV75 EQU   UCBAOF2
UCBRSV74 EQU   UCBAOF2
UCBRSV73 EQU   UCBAOF2
UCBRSV72 EQU   UCBAOF2
UCBRSV71 EQU   UCBAOF2
UCBRSV70 EQU   UCBAOF2
UCBRSV69 EQU   UCBAOF2
UCBRSV68 EQU   UCBAOF1
UCBRSV67 EQU   UCBAOF1
UCBRSV66 EQU   UCBAOF1
UCBRSV65 EQU   UCBAOF1
UCBRSV64 EQU   UCBAOF1
UCBOFNL  EQU   UCBAOF1
UCBOFSP  EQU   UCBAOF1
UCBOFMCR EQU   UCBAOF1
UCBBTB   EQU   UCBBTA+1
UCBDI    EQU   UCBBTA
UCBSNS   EQU   UCBOBS04+8
UCBTEB   EQU   UCBOBS04+4
UCBGCB   EQU   UCBOBS04+3
UCBOPEN  EQU   UCBOBS04+2
UCBSTART EQU   UCBOBS04
UCBXTNB  EQU   UCBXTN+1
UCBRSV22 EQU   UCBVOPT
UCBRSV21 EQU   UCBVOPT
UCBRSV20 EQU   UCBVOPT
UCBESVE  EQU   UCBVOPT
UCBERPC  EQU   UCBVOPT
UCBESVC  EQU   UCBVOPT
UCBEVA   EQU   UCBVOPT
UCBESV   EQU   UCBVOPT
UCBRV009 EQU   UCBTFL1
UCBRV008 EQU   UCBTFL1
UCBRV007 EQU   UCBTFL1
UCBRV006 EQU   UCBTFL1
UCBRV005 EQU   UCBTFL1
UCBDQDSP EQU   UCBTFL1
UCBNSLTP EQU   UCBTFL1
UCBNLTP  EQU   UCBTFL1
UCBRES1B EQU   UCBOBS02+18
@NM00144 EQU   UCBOBS02+4
CVTRV628 EQU   CVTS01+728
CVTRV627 EQU   CVTS01+724
CVTRV626 EQU   CVTS01+720
CVTRV625 EQU   CVTS01+716
CVTRV624 EQU   CVTS01+712
CVTRV623 EQU   CVTS01+708
CVTRV622 EQU   CVTS01+704
CVTRV621 EQU   CVTS01+700
CVTIHASU EQU   CVTS01+696
CVTRV619 EQU   CVTS01+692
CVTRV618 EQU   CVTS01+688
CVTRV617 EQU   CVTS01+684
CVTRV616 EQU   CVTS01+680
CVTRV615 EQU   CVTS01+676
CVTRV614 EQU   CVTS01+672
CVTRV613 EQU   CVTS01+668
CVTTCASP EQU   CVTS01+664
CVT0PT03 EQU   CVTS01+660
CVT0PT0E EQU   CVTS01+656
CVTRV609 EQU   CVTS01+652
CVTCGK   EQU   CVTS01+648
CVTRAC   EQU   CVTS01+644
CVTHSM   EQU   CVTS01+640
CVTRV605 EQU   CVTS01+636
CVTRV604 EQU   CVTS01+632
CVTEFF02 EQU   CVTS01+628
CVTCBBR  EQU   CVTS01+624
CVTSSCR  EQU   CVTS01+620
CVTEVENT EQU   CVTS01+616
CVTCRCA  EQU   CVTS01+612
CVTTPIO  EQU   CVTS01+608
CVTADV   EQU   CVTS01+604
CVTGSDAB EQU   CVTGSDA
CVTQV3   EQU   CVTS01+596
CVTQV2   EQU   CVTS01+592
CVTQV1   EQU   CVTS01+588
CVTRPT   EQU   CVTS01+584
CVTSSRB  EQU   CVTS01+580
CVTCSDRL EQU   CVTS01+576
CVTEXP1  EQU   CVTS01+572
CVTRMPMT EQU   CVTS01+568
CVTRMPTT EQU   CVTS01+564
CVTVPSA  EQU   CVTS01+560
CVTVSTOP EQU   CVTS01+556
CVTGTFR8 EQU   CVTS01+552
CVTQUIT  EQU   CVTS01+548
CVTVACR  EQU   CVTS01+544
CVTWTCB  EQU   CVTS01+540
CVTSTPRS EQU   CVTS01+536
CVT0PT02 EQU   CVTS01+532
CVTDARCM EQU   CVTS01+528
CVTIRECM EQU   CVTS01+524
CVTJRECM EQU   CVTS01+520
CVTVEMS0 EQU   CVTS01+516
CVTSPFRR EQU   CVTS01+512
CVTRLSTG EQU   CVTS01+508
CVT0TC0A EQU   CVTS01+504
CVTGMBR  EQU   CVTS01+500
CVTLFRM  EQU   CVTS01+496
CVTRMBR  EQU   CVTS01+492
CVTVIOP  EQU   CVTS01+488
CVTRV307 EQU   CVTS01+486
CVTRV306 EQU   CVTS01+484
CVTRV305 EQU   CVTS01+482
CVTRV304 EQU   CVTS01+480
CVTRV303 EQU   CVTS01+478
CVTRV302 EQU   CVTS01+476
CVTTRCA  EQU   CVTS01+472
CVTRV297 EQU   CVTRV289
CVTRV296 EQU   CVTRV289
CVTRV295 EQU   CVTRV289
CVTRV294 EQU   CVTRV289
CVTRV293 EQU   CVTRV289
CVTRV292 EQU   CVTRV289
CVTRV291 EQU   CVTRV289
CVTRV290 EQU   CVTRV289
CVTRV288 EQU   CVTRV280
CVTRV287 EQU   CVTRV280
CVTRV286 EQU   CVTRV280
CVTRV285 EQU   CVTRV280
CVTRV284 EQU   CVTRV280
CVTRV283 EQU   CVTRV280
CVTRV282 EQU   CVTRV280
CVTRV281 EQU   CVTRV280
CVTRV279 EQU   CVTRV271
CVTRV278 EQU   CVTRV271
CVTRV277 EQU   CVTRV271
CVTRV276 EQU   CVTRV271
CVTRV275 EQU   CVTRV271
CVTRV274 EQU   CVTRV271
CVTRV273 EQU   CVTRV271
CVTRV272 EQU   CVTRV271
CVTRV270 EQU   CVTRV262
CVTRV269 EQU   CVTRV262
CVTRV268 EQU   CVTRV262
CVTRV267 EQU   CVTRV262
CVTRV266 EQU   CVTRV262
CVTRV265 EQU   CVTRV262
CVTRV264 EQU   CVTRV262
CVTRV263 EQU   CVTRV262
CVTVFP   EQU   CVTS01+464
CVTVSI   EQU   CVTS01+460
CVTVPSIB EQU   CVTS01+456
CVTMFACT EQU   CVTMFRTR
CVTMFCTL EQU   CVTS01+448
CVTPVBP  EQU   CVTS01+444
CVTRV254 EQU   CVTS01+438
CVTRV253 EQU   CVTS01+436
CVTRV252 EQU   CVTS01+434
CVTRV251 EQU   CVTS01+433
CVTRV250 EQU   CVTS01+432
CVTRV249 EQU   CVTS01+431
CVTRV248 EQU   CVTS01+430
CVTRV247 EQU   CVTS01+429
CVTRV246 EQU   CVTS01+428
CVTRV245 EQU   CVTRV237
CVTRV244 EQU   CVTRV237
CVTRV243 EQU   CVTRV237
CVTRV242 EQU   CVTRV237
CVTRV241 EQU   CVTRV237
CVTRV240 EQU   CVTRV237
CVTRV239 EQU   CVTRV237
CVTRV238 EQU   CVTRV237
CVTRV236 EQU   CVTRV228
CVTRV235 EQU   CVTRV228
CVTRV234 EQU   CVTRV228
CVTRV233 EQU   CVTRV228
CVTRV232 EQU   CVTRV228
CVTRV231 EQU   CVTRV228
CVTRV230 EQU   CVTRV228
CVTRV229 EQU   CVTRV228
CVTRV227 EQU   CVTRV219
CVTRV226 EQU   CVTRV219
CVTRV225 EQU   CVTRV219
CVTRV224 EQU   CVTRV219
CVTRV223 EQU   CVTRV219
CVTRV222 EQU   CVTRV219
CVTRV221 EQU   CVTRV219
CVTRV220 EQU   CVTRV219
CVTRV218 EQU   CVTRV210
CVTRV217 EQU   CVTRV210
CVTRV216 EQU   CVTRV210
CVTRV215 EQU   CVTRV210
CVTRV214 EQU   CVTRV210
CVTRV213 EQU   CVTRV210
CVTRV212 EQU   CVTRV210
CVTRV211 EQU   CVTRV210
CVTLCCAT EQU   CVTS01+420
CVTPCCAT EQU   CVTS01+416
CVTIPCRP EQU   CVTS01+412
CVTIPCRI EQU   CVTS01+408
CVTIPCDS EQU   CVTS01+404
CVTAIDVT EQU   CVTS01+400
CVTSSAP  EQU   CVTS01+396
CVTEHCIR EQU   CVTS01+392
CVTEHDEF EQU   CVTS01+388
CVTDAIR  EQU   CVTS01+384
CVTPERFM EQU   CVTS01+380
CVT044R2 EQU   CVTS01+376
CVTFETCH EQU   CVTS01+372
CVTRSTWD EQU   CVTS01+368
CVTSPOST EQU   CVTS01+364
CVTIOBP  EQU   CVTS01+360
CVTASMVT EQU   CVTS01+356
CVTRECRQ EQU   CVTS01+352
CVTWSAC  EQU   CVTS01+348
CVTRV149 EQU   CVTS01+344
CVTWSAL  EQU   CVTS01+340
CVTSPSA  EQU   CVTS01+336
CVTGLMN  EQU   CVTS01+332
CVTVEAC0 EQU   CVTS01+328
CVT062R1 EQU   CVTS01+324
CVTRPOST EQU   CVTS01+320
CVTDQIQE EQU   CVTS01+316
CVTCSD   EQU   CVTS01+312
CVTLKRMA EQU   CVTS01+308
CVTRSPIE EQU   CVTS01+304
CVTRENQ  EQU   CVTS01+300
CVTLQCB  EQU   CVTS01+296
CVTFQCB  EQU   CVTS01+292
CVTQCS01 EQU   CVTS01+288
CVTAPFT  EQU   CVTS01+284
CVTPARRL EQU   CVTS01+280
CVTVWAIT EQU   CVTS01+276
CVTGSPL  EQU   CVTS01+272
CVTLSMQ  EQU   CVTS01+268
CVTGSMQ  EQU   CVTS01+264
CVTEXPRO EQU   CVTS01+260
CVTOPCTP EQU   CVTS01+256
CVTSIC   EQU   CVTS01+252
CVTTPIOS EQU   CVTS01+248
CVTRTMS  EQU   CVTS01+244
CVTSDBF  EQU   CVTS01+240
CVTSCBP  EQU   CVTS01+236
CVTSDMP  EQU   CVTS01+232
CVTSV60  EQU   CVTS01+228
CVTRTMCT EQU   CVTS01+224
CVTASCBL EQU   CVTS01+220
CVTASCBH EQU   CVTS01+216
CVTGDA   EQU   CVTS01+212
CVTASVT  EQU   CVTS01+208
CVTVVMDI EQU   CVTS01+204
CVTAQTOP EQU   CVTS01+200
CVTIOSCS EQU   CVTS01+196
CVTSDRM  EQU   CVTS01+192
CVTOPTE  EQU   CVTS01+188
CVTSTXU  EQU   CVTS01+184
CVTQUIS  EQU   CVTS01+180
CVTPARS  EQU   CVTS01+176
CVTS1EE  EQU   CVTS01+172
CVTFRAS  EQU   CVTS01+168
CVTQSAS  EQU   CVTS01+164
CVTCRAS  EQU   CVTS01+160
CVTCRMN  EQU   CVTS01+156
CVTDELCP EQU   CVTS01+152
CVTFRECL EQU   CVTS01+148
CVTGETCL EQU   CVTS01+144
CVTBLDCP EQU   CVTS01+140
CVTAUTHL EQU   CVTS01+136
CVTSCAN  EQU   CVTS01+132
CVTRV144 EQU   CVTS01+130
CVTMAXMP EQU   CVTS01+128
CVTSTCK  EQU   CVTS01+124
CVTRV139 EQU   CVTS01+123
CVTDSSAC EQU   CVTS01+122
CVTRV513 EQU   CVTS01+121
CVTIOSPL EQU   CVTS01+120
CVTPTGT  EQU   CVTS01+116
CVTCSPIE EQU   CVTS01+112
CVTSMFEX EQU   CVTS01+108
CVTOLT0A EQU   CVTS01+104
CVTSRBRT EQU   CVTS01+100
CVTPUTL  EQU   CVTS01+96
CVTASCRL EQU   CVTS01+92
CVTASCRF EQU   CVTS01+88
CVTRV326 EQU   CVTS01+84
CVTRV325 EQU   CVTS01+80
CVTRV324 EQU   CVTS01+76
CVT0VL01 EQU   CVTS01+72
CVTSHRVM EQU   CVTS01+68
CVTRV332 EQU   CVTS01+64
CVTTAS   EQU   CVTS01+60
CVTRSCN  EQU   CVTS01+56
CVTTRAC2 EQU   CVTS01+54
CVTTRACE EQU   CVTS01+52
CVTAPG   EQU   CVTS01+51
CVTSDTRC EQU   CVTCTLFG
CVTGTRCE EQU   CVTCTLFG
CVTNOMP  EQU   CVTCTLFG
CVTRSV79 EQU   CVTCTLFG
CVTDSTAT EQU   CVTCTLFG
CVTRSV78 EQU   CVTCTLFG
CVTRV333 EQU   CVTCTLFG
CVTRV323 EQU   CVTCTLFG
CVTSPVLK EQU   CVTS01+49
CVTRSV77 EQU   CVTS01+48
CVTRV331 EQU   CVTS01+44
CVTRV330 EQU   CVTS01+40
CVTRV329 EQU   CVTS01+36
CVTRV328 EQU   CVTS01+32
CVTRV322 EQU   CVTS01+28
CVTSLID  EQU   CVTSLIDA+1
CVTSYLK  EQU   CVTSLIDA
CVTRV321 EQU   CVTS01+20
CVTRV320 EQU   CVTS01+16
CVTLPDIR EQU   CVTLPDIA+1
CVTRSV69 EQU   CVTDIRST
CVTRSV68 EQU   CVTDIRST
CVTRSV67 EQU   CVTDIRST
CVTRSV66 EQU   CVTDIRST
CVTRSV65 EQU   CVTDIRST
CVTRSV64 EQU   CVTDIRST
CVTRSV63 EQU   CVTDIRST
CVTDICOM EQU   CVTDIRST
CVTPVTP  EQU   CVTS01+8
CVTLPDSR EQU   CVTS01+4
CVTGETL  EQU   CVTS01
TIOUCBP  EQU   TIOEDEVE+1
TIOVERF  EQU   TIOSTTB
TIOUNLD  EQU   TIOSTTB
TIOMNTD  EQU   TIOSTTB
TIOSETU  EQU   TIOSTTB
TIOVLSR  EQU   TIOSTTB
TIOPVIO  EQU   TIOSTTB
TIOREQD  EQU   TIOSTTB
TIOUSED  EQU   TIOSTTB
TIOTFEND EQU   POOLSTAR+16
TIOPSLOT EQU   POOLSTAR+13
TIOPSTTB EQU   POOLSTAR+12
TIOPPOOL EQU   POOLSTAR+4
TIOPNSRT EQU   POOLSTAR+3
@NM00109 EQU   POOLSTAR+2
TIOPNSLT EQU   POOLSTAR+1
@NM00108 EQU   POOLSTAR
TIOEFSRT EQU   TIOENTRY+17
TIOSVERF EQU   TIOESTTB
TIOSUNLD EQU   TIOESTTB
TIOSMNTD EQU   TIOESTTB
TIOSSETU EQU   TIOESTTB
TIOSVLSR EQU   TIOESTTB
TIOSPVIO EQU   TIOESTTB
TIOSREQD EQU   TIOESTTB
TIOSUSED EQU   TIOESTTB
TIOSBALS EQU   TIOESTTC
TIOSBALP EQU   TIOESTTC
TIOSVOLS EQU   TIOESTTC
TIOSVOLP EQU   TIOESTTC
TIOSAFFS EQU   TIOESTTC
TIOSAFFP EQU   TIOESTTC
TIOSDEFR EQU   TIOESTTC
TIOSDKCR EQU   TIOESTTC
TIOEJFCB EQU   TIOENTRY+12
TIOTREM  EQU   TIOELINK
TIOESSDS EQU   TIOESYOT
TIOEDYNM EQU   TIOELINK
TIOTTERM EQU   TIOELINK
TIOTRV01 EQU   TIOELINK
TIOSYOUT EQU   TIOELINK
TIOEWTCT EQU   TIOERLOC
TIOSDSP2 EQU   TIOESTTA
TIOSDSP1 EQU   TIOESTTA
TIOSLABL EQU   TIOESTTA
TIOSDADS EQU   TIOESTTA
TIOSJBLB EQU   TIOESTTA
TIOSPLTS EQU   TIOESTTA
TIOSPLTP EQU   TIOESTTA
TIOSLTYP EQU   TIOESTTA
TIOELNGH EQU   TIOENTRY
DXRESIND EQU   @NM00054
DXSAVOFF EQU   @NM00053+7
DXSAVADR EQU   DXSAVMOD+2
DXSAVID  EQU   DXSAVMOD
DXABCODE EQU   @NM00053
DXRETCOD EQU   DXIDENT+7
DXRETTTR EQU   DXRETMOD+2
DXRETID  EQU   DXRETMOD
DXCALLID EQU   DXIDENT
DXREG0   EQU   DXREGSAV+24
DXREGE   EQU   DXREGSAV+20
DXREGD   EQU   DXREGSAV+16
DXREGC   EQU   DXREGSAV+12
DXREGB   EQU   DXREGSAV+8
DXREGA   EQU   DXREGSAV+4
DXREG9   EQU   DXREGSAV
DXXEND   EQU   DXXAREA+48
DXXLAST  EQU   DXXAREA+40
DXXCORE  EQU   DXXENTRY+5
DXETTR   EQU   DXXIDTTR+2
DXEID    EQU   DXXIDTTR
DXXPATHS EQU   DXXAREA+30
DXOPCLSW EQU   DXXLNG
DXXTXTLN EQU   DXXAREA+27
DXXMODSZ EQU   DXXAREA+24
DXXATTRB EQU   DXXAREA+22
@NM00038 EQU   DXXAREA+20
DXXPREFX EQU   DXXAREA+16
@NM00037 EQU   DXXAREA+12
DXXMODEP EQU   DXXAREA+8
DXXMODID EQU   DXXMODNM+6
@NM00036 EQU   DXXMODNM
DXXWTOPR EQU   DXXWTG
@NM00024 EQU   FCDSCB+50
@NM00023 EQU   DSCDSIND
@NM00022 EQU   FCDSCB+39
@NM00021 EQU   DSCFILTY
@NM00020 EQU   DSCFILTY
@NM00019 EQU   FCDSCB+17
@NM00018 EQU   FCDSCB
@NM00017 EQU   FL2RES+4
@NM00016 EQU   FL2RES
@NM00015 EQU   FL2DRID
@NM00014 EQU   FL2LABEL+35
@NM00013 EQU   FL2LABEL+33
FL1RES1  EQU   FL1RES+1
@NM00012 EQU   FL1RES
ROUTE2   EQU   MSGBUF+66
@NM00008 EQU   MSGBUF+65
MSGDEBAD EQU   MSGBUF+59
TCOMMA4  EQU   ROUTE1
WASTEPNM EQU   MSGBUF+39
TCOMMA3  EQU   MSGBUF+38
WAJOBNM  EQU   MSGBUF+30
TCOMMA2  EQU   MSGBUF+29
TCSIFG0  EQU   TCSUBNM
TCOMMA1  EQU   MSGBUF+20
TCMIFG0  EQU   TCMODNM
MSGID    EQU   MSGBUF+4
SDUMPHDR EQU   MSGMCS+1
@NM00007 EQU   MSGMCS
MSGLNG   EQU   MSGBUF
SDUMPPRM EQU   TRRWA+504
@NM00006 EQU   TRRWA+498
TRRREST  EQU   TRRWTP+21
TRRCOMMA EQU   TRRWTP+20
TRRDSN   EQU   TRRERMOD
TRRMSGID EQU   TRRWTP+4
TRRMCS   EQU   TRRWTP+2
TRRMSGLN EQU   TRRWTP
@NM00005 EQU   TRRWA+396
TRRUNALL EQU   TRRWA+350
TRRVOLSR EQU   TRRWA+344
TRRDEQV  EQU   TRRWA+332
TRRDEQD  EQU   TRRWA+316
TRRDEQT  EQU   TRRWA+304
TRRDEQP  EQU   TRRWA+292
GTRACODE EQU   GTRACDAT
GTRACDAP EQU   GTRACBUF+4
GTRACFID EQU   GTRACBUF+2
GTRACLNG EQU   GTRACBUF
RECRRID  EQU   RECPARML+16
RECERCST EQU   RECPARML+8
RECERMOD EQU   RECPARML
UCBNEXP  EQU   UCBOBS01+20
UCBBASE  EQU   UCBOBS01+16
UCBRES1A EQU   UCBOBS01+15
UCBUSER  EQU   UCBOBS01+14
UCBFL47  EQU   UCBFL4
UCBFL46  EQU   UCBFL4
UCBFL45  EQU   UCBFL4
UCBRV065 EQU   UCBFL4
UCBDSS   EQU   UCBFL4
UCBRESVP EQU   UCBFL4
UCBWDAV  EQU   UCBFL4
UCBDAVV  EQU   UCBFL4
UCBSQC   EQU   UCBOBS01+12
UCBDATP  EQU   UCBOBS01+12
UCBMOUNT EQU   UCBDMCT
UCBBNUL  EQU   UCBSTAB
UCBSHAR  EQU   UCBSTAB
UCBBPUB  EQU   UCBSTAB
UCBBPRV  EQU   UCBSTAB
UCBBALB  EQU   UCBPRSRS
UCBPGFL  EQU   UCBSTAB
UCBDVSHR EQU   UCBBSVL
UCBVTOC  EQU   UCBOBS01
DCBEOB   EQU   IHADCS40+20
DCBPRECL EQU   IHADCS40+18
@NM00238 EQU   IHADCS40+16
@NM00237 EQU   @NM00235+1
@NM00236 EQU   DCBEROPT
DCBERABE EQU   DCBEROPT
DCBERSKP EQU   DCBEROPT
DCBERACC EQU   DCBEROPT
@NM00234 EQU   IHADCS40+10
@NM00233 EQU   IHADCS40+9
@NM00232 EQU   IHADCS40+8
DCBRECA  EQU   DCBRECAD+1
@NM00231 EQU   DCBRECBT
DCBRCFGT EQU   DCBRCREL
DCBRCTRU EQU   DCBRCREL
DCBLCCW  EQU   DCBEOBAD
DCBPERRA EQU   DCBGERRA
@NM00230 EQU   DCBPERR
DCBNOTE  EQU   DCBCNTRL
@NM00229 EQU   IHADCS38+10
@NM00228 EQU   IHADCS38+8
DCBEOBW  EQU   IHADCS38+4
DCBEOBRA EQU   DCBEOBR+1
@NM00227 EQU   DCBEOBR
@NM00226 EQU   DCBFLAG1
DCBSTFLS EQU   DCBFLAG1
DCBSTQCK EQU   DCBFLAG1
DCBQSTRU EQU   DCBUSASI
@NM00225 EQU   DCBUSASI
DCBQADF3 EQU   DCBQADFS
DCBQADF2 EQU   DCBQADFS
DCBQADF1 EQU   DCBQADFS
DCBBLBP  EQU   DCBUSASI
@NM00224 EQU   DCBUSASI
DCBCICBA EQU   DCBCICB+1
@NM00223 EQU   DCBCICB
DCBOFFSW EQU   IHADCS36+15
DCBOFFSR EQU   IHADCS36+14
DCBWCPL  EQU   IHADCS36+13
DCBWCPO  EQU   IHADCS36+12
@NM00222 EQU   IHADCS36+10
DCBCNFEO EQU   DCBCIND2
DCBCNCHS EQU   DCBCIND2
DCBCNBFP EQU   DCBCIND2
DCBCNIOE EQU   DCBCIND2
DCBCNCLO EQU   DCBCIND2
DCBCNWRO EQU   DCBCIND2
DCBCNEXB EQU   DCBCIND1
@NM00221 EQU   DCBCIND1
DCBCNBRM EQU   DCBCIND1
@NM00220 EQU   DCBCIND1
DCBCNEVA EQU   DCBCIND1
DCBCNEVB EQU   DCBCIND1
DCBCNSRD EQU   DCBCIND1
DCBCNTOV EQU   DCBCIND1
@NM00219 EQU   @NM00218+1
DCBIOBL  EQU   @NM00218
@NM00217 EQU   @NM00215+1
DCBOPTJ  EQU   @NM00216
DCBSRCHD EQU   DCBOPTZ
DCBOPTQ  EQU   @NM00216
DCBBCKPT EQU   DCBOPTO
DCBOPTC  EQU   @NM00216
DCBOPTU  EQU   @NM00216
DCBDYNB  EQU   IHADCS30+48
DCBDFBK  EQU   IHADCS30+44
DCBDFOR  EQU   IHADCS30+40
DCBDRDXA EQU   DCBDRDX+1
DCBMVXNO EQU   DCBDRDX
DCBXARGA EQU   DCBXARG+1
DCBXCNT  EQU   DCBXARG
DCBLIMCT EQU   IHADCS30+29
@NM00214 EQU   IHADCS30+28
DCBUQND  EQU   IHADCS30+24
DCBIOBUQ EQU   IHADCS30+20
DCBSQND  EQU   IHADCS30+16
DCBIOBSQ EQU   IHADCS30+12
@NM00213 EQU   IHADCS30+10
@NM00212 EQU   IHADCS30+8
@NM00211 EQU   IHADCS30+4
DCBCHCKA EQU   DCBCHECK+1
DCBOPTRB EQU   @NM00209
DCBOPTRE EQU   @NM00209
DCBOPTDB EQU   @NM00209
DCBOPTA  EQU   @NM00209
DCBOPTF  EQU   @NM00209
DCBOPTE  EQU   @NM00209
DCBOPTTO EQU   @NM00209
@NM00210 EQU   @NM00209
DCBLPDT  EQU   IHADCS55
DCBWKPT6 EQU   IHADCS29+196
DCBWKPT5 EQU   IHADCS29+192
DCBWKPT4 EQU   IHADCS29+188
DCBWKPT3 EQU   IHADCS29+184
DCBWKPT2 EQU   IHADCS29+180
DCBWKPT1 EQU   IHADCS29+176
@NM00208 EQU   IHADCS29+174
DCBRORG1 EQU   IHADCS29+172
DCBLIOV  EQU   IHADCS29+164
DCBNOREC EQU   IHADCS29+162
@NM00207 EQU   IHADCS29+161
DCBLEMI1 EQU   IHADCS29+156
DCBRORG2 EQU   IHADCS29+154
@NM00206 EQU   IHADCS29+153
DCBLECI  EQU   IHADCS29+148
DCBNBOV  EQU   IHADCS29+146
DCBOVDEV EQU   IHADCS29+145
DCBLETI  EQU   IHADCS29+140
DCBLPDA  EQU   IHADCS29+132
DCBFTHI  EQU   IHADCS29+125
DCBNTHI  EQU   IHADCS29+124
DCBFTMI1 EQU   IHADCS29+117
DCBHIIOV EQU   IHADCS29+116
DCBFTCI  EQU   IHADCS29+109
DCBSTLTF EQU   DCBST
DCBSTLBF EQU   DCBST
DCBSTNMC EQU   DCBST
@NM00205 EQU   DCBST
DCBSTNCY EQU   DCBST
DCBSTLOD EQU   DCBST
DCBSTKSQ EQU   DCBST
DCBSTSSM EQU   DCBST
DCBNREC  EQU   IHADCS29+104
DCBRORG3 EQU   IHADCS29+100
DCBNCRHI EQU   IHADCS29+98
DCBTDC   EQU   IHADCS29+96
DCBHIRSH EQU   IHADCS29+95
DCBHIROV EQU   IHADCS29+94
DCBHIRPD EQU   IHADCS29+93
DCBHIRCM EQU   IHADCS29+92
DCBLDT   EQU   IHADCS29+90
DCBHMASK EQU   IHADCS29+89
DCBFIRSH EQU   IHADCS29+86
DCBNLEV  EQU   IHADCS29+85
DCBLEMI3 EQU   IHADCS29+80
DCBFTMI3 EQU   IHADCS29+73
DCBLEMI2 EQU   IHADCS29+68
DCBFTMI2 EQU   IHADCS29+61
DCBHIRTI EQU   IHADCS29+60
DCBFREED EQU   IHADCS29+56
DCBRELEX EQU   IHADCS29+52
DCBPUTX  EQU   IHADCS29+48
DCBRELSE EQU   IHADCS29+44
DCBLWKN  EQU   IHADCS29+40
DCBLRAN  EQU   IHADCS29+36
DCBESETL EQU   IHADCS29+32
DCBLRECL EQU   IHADCS29+30
@NM00204 EQU   DCBEXCD2
DCBEXRDE EQU   DCBEXLTH
DCBEXOFL EQU   DCBEXCD2
DCBEXCLD EQU   DCBEXCD2
DCBEXDUP EQU   DCBEXCD2
DCBEXSEQ EQU   DCBEXCD2
DCBEXBLU EQU   DCBEXCD1
DCBEXBLI EQU   DCBEXCD1
DCBEXOER EQU   DCBEXCD1
DCBEXIER EQU   DCBEXCD1
DCBEXINV EQU   DCBEXCD1
DCBEXNSP EQU   DCBEXCD1
DCBEXIDA EQU   DCBEXCD1
DCBEXNKY EQU   DCBEXCD1
DCBSETL  EQU   IHADCS29+24
DCBMSHIA EQU   DCBMSHI+1
DCBNCP   EQU   DCBMSHI
DCBSMSW  EQU   IHADCS29+18
DCBSMSI  EQU   IHADCS29+16
DCBMSWA  EQU   IHADCS29+12
DCBBLKSI EQU   IHADCS29+10
DCBRKP   EQU   IHADCS29+8
DCBSYNAD EQU   IHADCS29+4
DCBCYLOF EQU   IHADCS29+3
DCBNTM   EQU   IHADCS29+2
DCBMACRE EQU   DCBMAC
DCBMACAW EQU   DCBMAC
DCBMACUW EQU   DCBMAC
DCBMACUR EQU   DCBMAC
@NM00203 EQU   DCBMAC
DCBOPTR  EQU   DCBOPTCD
DCBOPTL  EQU   DCBOPTCD
@NM00202 EQU   DCBOPTCD
DCBOPTY  EQU   DCBOPTCD
DCBOPTI  EQU   DCBOPTCD
DCBOPTM  EQU   DCBOPTCD
DCBOPTUF EQU   DCBOPTCD
@NM00201 EQU   DCBOPTCD
DCBPUTA  EQU   DCBGETA
@NM00200 EQU   DCBPUT
DCBREADA EQU   DCBWRITA
@NM00199 EQU   DCBREAD
@NM00198 EQU   DCBIFLGS
DCBIFIOE EQU   DCBIFLGS
DCBCH12  EQU   DCBIFPCT
DCBCH9   EQU   DCBIFPCT
DCBIFEC  EQU   DCBIFLGS
DCBMFSTI EQU   DCBMFDMD
DCBMFAWR EQU   DCBMFSTK
DCBMFUIP EQU   DCBMFTMD
DCBMFIDW EQU   DCBMFLCP
DCBMFWRK EQU   DCBMFMVP
DCBMFRDQ EQU   DCBMFWRT
DCBMFGTQ EQU   DCBMFPUT
DCBMFSTL EQU   DCBMACF2
DCBMFCK  EQU   DCBMFDMG
DCBMFRDX EQU   DCBMFCHK
DCBMFDBF EQU   DCBMFSBG
DCBMFRDI EQU   DCBMFLCG
DCBMFRDK EQU   DCBMFMVG
DCBMFWRQ EQU   DCBMFRD
DCBMFPTQ EQU   DCBMFGET
DCBTIOT  EQU   IHADCS25
DCBMRSTI EQU   DCBMRDMD
DCBMRAWR EQU   DCBMRSTK
DCBMRUIP EQU   DCBMRTMD
DCBMRIDW EQU   DCBMRLCP
DCBMRWRK EQU   DCBMRMVP
DCBMRRDQ EQU   DCBMRWRT
DCBMRGTQ EQU   DCBMRPUT
DCBMRSTL EQU   DCBMACR2
DCBMRCK  EQU   DCBMRDMG
DCBPGFXA EQU   DCBMRRDX
DCBMRDBF EQU   DCBMRSBG
DCBMRRDI EQU   DCBMRLCG
DCBMRRDK EQU   DCBMRMVG
DCBMRWRQ EQU   DCBMRRD
DCBMRPTQ EQU   DCBMRGET
DCBMRECP EQU   DCBMACR1
@NM00197 EQU   DCBIFLG
DCBIBIOE EQU   DCBIFLG
DCBICH12 EQU   DCBIBPCT
DCBICH9  EQU   DCBIBPCT
DCBOFPPC EQU   DCBOFLGS
DCBOFIOD EQU   DCBOFLWR
DCBEXLSA EQU   DCBEXLST+1
DCBRECKL EQU   DCBRECFM
DCBRECCC EQU   DCBRECFM
DCBRECSB EQU   DCBRECFM
DCBRECBR EQU   DCBRECFM
DCBRECTO EQU   DCBRECLA
DCBRECL  EQU   DCBRECLA
DCBEODA  EQU   DCBEODAD+1
DCBBFA   EQU   DCBBFTEK
DCBH0    EQU   DCBBFTEK
DCBBFTKD EQU   DCBBFTEK
DCBBFTE  EQU   DCBBFT
DCBBFTKR EQU   DCBBFT
DCBBFTS  EQU   DCBBFT
DCBH1    EQU   DCBBFTEK
DCBSVCXA EQU   DCBSVCXL+1
@NM00196 EQU   DCBSVCXL
DCBODEBA EQU   DCBIOBAA
@NM00195 EQU   DCBQSLM
DCBUPDBT EQU   DCBQSLM
DCBUPDCM EQU   DCBQSLM
DCB1DVDS EQU   DCBQSLM
@NM00194 EQU   DCBDSRG2
DCBDSGTR EQU   DCBDSRG2
DCBACBM  EQU   DCBDSRG2
@NM00193 EQU   DCBDSRG2
DCBDSGU  EQU   DCBDSRG1
@NM00192 EQU   DCBDSRG1
@NM00191 EQU   DCBDSRG1
DCBDSGCX EQU   DCBDSRG1
DCBBUFL  EQU   IHADCS11+8
DCBBUFCA EQU   DCBBUFCB+1
DCBBUFNO EQU   DCBBUFCB
DCBDEVT  EQU   DCBREL
DCBKEYLE EQU   DCBRELB
@NM00190 EQU   IHADCS10+19
DCBAPPIN EQU   IHADCS10+18
@NM00189 EQU   IHADCS10+17
DCBMRUE  EQU   DCBMRFLG
DCBMRDWT EQU   DCBMRFLG
DCBMRPCC EQU   DCBMRFLG
DCBMRDR  EQU   DCBMRFLG
DCBMRDRU EQU   DCBMRFLG
DCBMRDBG EQU   DCBMRFLG
DCBMRSCC EQU   DCBMRFLG
DCBECBLA EQU   DCBECBLT+5
DCBMRERS EQU   DCBMRIND
DCBMRERP EQU   DCBMRIND
DCBMRPLS EQU   DCBMRIND
DCBMRPLO EQU   DCBMRIND
DCBMRSCU EQU   DCBMRIND
DCBMRDCT EQU   DCBMRIND
DCBIMAGA EQU   DCBIMAGE+1
@NM00188 EQU   DCBMRFG
DCBMRBCT EQU   DCBMRFG
DCBSSADA EQU   DCBIMG+1
@NM00187 EQU   DCBIMG
DCBQSMEX EQU   @NM00186
@NM00185 EQU   IHADCS08+15
DCBORDCK EQU   DCBEIB
DCBORHPR EQU   DCBEIB
DCBORWLR EQU   DCBEIB
DCBORECK EQU   DCBEIB
DCBORERR EQU   DCBEIB
DCBORREJ EQU   DCBEIB
DCBORNRM EQU   DCBEIB
@NM00184 EQU   DCBEIB
@NM00183 EQU   IHADCS08+13
@NM00182 EQU   DCBORBYT
DCBORBFP EQU   DCBORBYT
DCBOREOF EQU   DCBORBYT
DCBORSYN EQU   DCBORBYT
DCBRDLNA EQU   DCBFRTBA+5
DCBRESCA EQU   DCBFRTBA+1
@NM00181 EQU   DCBFRTBA
DCBDSPLA EQU   DCBFRID+1
@NM00180 EQU   DCBFRID
@NM00179 EQU   DCBERRCA+2
@NM00178 EQU   DCBORFLG
DCBEOPFG EQU   DCBORFLG
DCBLFMAT EQU   DCBERRCA
DCBLNNUM EQU   DCBERRCN
DCBWTOIA EQU   DCBWTOID+1
@NM00177 EQU   DCBWTOID
DCBWTPAD EQU   IHADCS06+3
DCBWTEOT EQU   IHADCS06+2
DCBWTEOM EQU   IHADCS06+1
@NM00176 EQU   DCBBQFLG
DCBBQWRE EQU   DCBBQFLG
DCBBQWRS EQU   DCBBQFLG
DCBBQIAM EQU   DCBBQFLG
DCBBQWRU EQU   DCBBQFLG
@NM00175 EQU   DCBBQFLG
@NM00174 EQU   DCBFUNC
DCBFNCBT EQU   DCBFUNC
DCBFNCBX EQU   DCBFUNC
DCBFNCBD EQU   DCBFUNC
DCBFNCBW EQU   DCBFUNC
DCBFNCBP EQU   DCBFUNC
DCBFNCBR EQU   DCBFUNC
DCBFNCBI EQU   DCBFUNC
@NM00173 EQU   IHADCS05+2
@NM00172 EQU   IHADCS05+1
DCBSTCK1 EQU   DCBSTACK
DCBSTCK2 EQU   DCBSTACK
@NM00171 EQU   DCBSTACK
DCBMODER EQU   DCBSTACK
DCBMODEO EQU   DCBSTACK
DCBMODEE EQU   DCBSTACK
DCBMODEC EQU   DCBSTACK
DCBTRCID EQU   DCBPRBYT
@NM00170 EQU   DCBPRBYT
DCBPRTOV EQU   IHADCS04+2
@NM00169 EQU   IHADCS04+1
DCBPRTSP EQU   IHADCS04
DCBPTERR EQU   DCBPTFLG
DCBPTUCT EQU   DCBPTFLG
DCBPTECR EQU   DCBPTFLG
DCBPTECT EQU   DCBPTFLG
DCBPTIC  EQU   DCBPTFLG
@NM00168 EQU   DCBPTFLG
@NM00167 EQU   IHADCS03+10
@NM00166 EQU   IHADCS03+9
DCBCODE  EQU   IHADCS03+8
@NM00165 EQU   IHADCS03+4
DCBLCTBL EQU   IHADCS03
@NM00164 EQU   IHADCS02+19
DCBDEN   EQU   IHADCS02+18
@NM00163 EQU   IHADCS02+17
DCBTRTCH EQU   IHADCS02+16
@NM00162 EQU   IHADCS02
@NM00161 EQU   IHADCS01+5
@NM00160 EQU   IHADCS01+4
DCBDVTBA EQU   DCBDVTBL+1
@NM00159 EQU   DCBDVTBL
DCBKEYCN EQU   IHADCS00+4
DCBRELAD EQU   IHADCS00
@NM00158 EQU   IHADCB
JFCRSV05 EQU   JFCEROPT
JFCRSV04 EQU   JFCEROPT
JFCRSV03 EQU   JFCEROPT
JFCRSV02 EQU   JFCEROPT
JFCTOPT  EQU   JFCEROPT
JFCABN   EQU   JFCEROPT
JFCSKP   EQU   JFCEROPT
JFCACC   EQU   JFCEROPT
JFCBUFL  EQU   JFCAMPTR+2
JFCFWORD EQU   JFCBFTEK
JFCDWORD EQU   JFCBFTEK
JFCHIER1 EQU   JFCBFTEK
JFCDYN   EQU   JFCBFTEK
JFCEXC   EQU   JFCBFTEK
JFCBBFTR EQU   JFCBBFTA
JFCSIM   EQU   JFCBBFTA
JFCHIER  EQU   JFCBFTEK
JFCBFOUT EQU   JFCBUFNO
JFCBUFIN EQU   JFCBUFNO
JFCTEMP  EQU   JFCBIND2
JFCREQ   EQU   JFCBIND2
JFCENT   EQU   JFCBIND2
JFCSHARE EQU   JFCBIND2
JFCDISP  EQU   JFCBIND2
JFCPDS   EQU   JFCBIND1
JFCGDG   EQU   JFCBIND1
JFCADDED EQU   JFCBIND1
JFCLOC   EQU   JFCBIND1
JFCRLSE  EQU   JFCBIND1
JFCBOPS2 EQU   JFCBMASK+7
JFCRCTLG EQU   JFCBFLG2
JFCBBUFF EQU   JFCBFLG2
JFCTRACE EQU   JFCBFLG2
JFCSDRPS EQU   JFCBFLG2
JFCMODNW EQU   JFCBFLG2
JFCNRPS  EQU   JFCDEFER
JFCOUTOP EQU   JFCBFLG2
JFCINOP  EQU   JFCBFLG2
JFCBPWBP EQU   JFCOPEN
@NM00154 EQU   JFCOPEN
JFCDUAL  EQU   JFCBFLG1
JFCSLDES EQU   JFCBFLG1
JFCSLCRE EQU   JFCBFLG1
JFCSTAND EQU   JFCBFLG1
JFCBOPS1 EQU   JFCBMASK
JFCRSV31 EQU   JFCFUNC
JFCFNCBT EQU   JFCFUNC
JFCFNCBX EQU   JFCFUNC
JFCFNCBD EQU   JFCFUNC
JFCFNCBW EQU   JFCFUNC
JFCFNCBP EQU   JFCFUNC
JFCFNCBR EQU   JFCFUNC
JFCFNCBI EQU   JFCFUNC
JFCBFOFL EQU   JFCBUFOF
JFCNL    EQU   JFCBLTYP
JFCSL    EQU   JFCBLTYP
JFCNSL   EQU   JFCBLTYP
JFCSUL   EQU   JFCBLTYP
JFCBLP   EQU   JFCBLTYP
JFCBLTM  EQU   JFCBLTYP
JFCBAL   EQU   JFCBLTYP
JFCRSV38 EQU   JFCBLTYP
JFCVINDX EQU   INFMJFCB+64
JFCNLREC EQU   INFMJFCB+62
JFCBADBF EQU   INFMJFCB+60
JFCAMSTR EQU   JFCBFRID+2
JFCAMCRO EQU   JFCBFRID
JFCBDSCB EQU   INFMJFCB+53
JFCPAT   EQU   JFCBTSDM
JFCNDCB  EQU   JFCBTSDM
JFCNDSCB EQU   JFCBTSDM
JFCNWRIT EQU   JFCBTSDM
JFCTTR   EQU   JFCBTSDM
JFCSDS   EQU   JFCBTSDM
JFCVSL   EQU   JFCBTSDM
JFCCAT   EQU   JFCBTSDM
JFCIPLTX EQU   JFCBELNM
JFCBQNAM EQU   JFCBDSNM
DEBXSAMB EQU   DEBXTN+28
DEBXOPNJ EQU   DEBXTN+24
DEBXXARG EQU   DEBXTN+20
DEBXMCF2 EQU   DEBXTN+19
DEBXMCF1 EQU   DEBXTN+18
DEBXDSO2 EQU   DEBXTN+17
DEBXDSO1 EQU   DEBXTN+16
DEBXDBPR EQU   DEBXTN+12
DEBXDSAB EQU   DEBXTN+4
DEBXRV48 EQU   DEBXTN+3
DEBXRV47 EQU   DEBXFLG1
DEBXRV46 EQU   DEBXFLG1
DEBXRV45 EQU   DEBXFLG1
DEBXRV44 EQU   DEBXFLG1
DEBXRV43 EQU   DEBXFLG1
DEBXDSSI EQU   DEBXFLG1
DEBXTSKC EQU   DEBXFLG1
DEBXLNGH EQU   DEBXTN
DEBTBLOF EQU   DEBPREFX+14
DEBLNGTH EQU   DEBPREFX+12
DEBDCBMK EQU   DEBXTNP
DEBWKARA EQU   DEBPREFX
DEBXCEAD EQU   DEBXCEA+1
DEBXCENP EQU   DEBXCEAB
DEBRSV35 EQU   DEBXCEAB
DEBRSV34 EQU   DEBXCEAB
DEBRSV33 EQU   DEBXCEAB
DEBRSV32 EQU   DEBXCEAB
DEBCEAD  EQU   DEBCEA+1
DEBCENP  EQU   DEBCEAB
DEBRSV31 EQU   DEBCEAB
DEBRSV30 EQU   DEBCEAB
DEBRSV29 EQU   DEBCEAB
DEBRSV28 EQU   DEBCEAB
DEBPCIAD EQU   DEBPCIA+1
DEBPCINP EQU   DEBPCIAB
DEBRSV27 EQU   DEBPCIAB
DEBRSV26 EQU   DEBPCIAB
DEBRSV25 EQU   DEBPCIAB
DEBRSV24 EQU   DEBPCIAB
DEBSIOAD EQU   DEBSIOA+1
DEBSIONP EQU   DEBSIOAB
DEBFIX   EQU   DEBSIOAB
DEBIOVR  EQU   DEBSIOAB
DEBSIOX  EQU   DEBSIOAB
DEBPGFX  EQU   DEBSIOAB
DEBEOEAD EQU   DEBEOEA+1
DEBEOENP EQU   DEBEOEAB
DEBRSV22 EQU   DEBEOEAB
DEBRSV21 EQU   DEBEOEAB
DEBRSV20 EQU   DEBEOEAB
DEBESMVR EQU   DEBEOEAB
DEBSIOA2 EQU   DEBACS08+24
DEBRPSIO EQU   DEBACS08+20
DEBFREED EQU   DEBACS08+16
@NM00153 EQU   DEBACS08+12
@NM00152 EQU   DEBACS08+8
DEBDISAD EQU   DEBACS08+4
@NM00151 EQU   DEBACS08
DEBRPSST EQU   DEBACS07+64
DEBARECK EQU   DEBACS07+60
DEBAREWT EQU   DEBACS07+56
DEBACHK  EQU   DEBACS07+52
DEBAWRIT EQU   DEBACS07+48
DEBASETL EQU   DEBACS07+44
DEBAREAD EQU   DEBACS07+40
DEBCRECK EQU   DEBACS07+36
DEBCREWT EQU   DEBACS07+32
DEBCCHK  EQU   DEBACS07+28
DEBCWRIT EQU   DEBACS07+24
DEBCSETL EQU   DEBACS07+20
DEBCREAD EQU   DEBACS07+16
DEBWKPT5 EQU   DEBACS07+12
DEBWKPT4 EQU   DEBACS07+8
DEBGET   EQU   DEBACS07+4
@NM00150 EQU   DEBACS07
DEBPUT   EQU   DEBACS06+4
DEBDCBFA EQU   DEBACS06
DEBLUCBB EQU   DEBLUCBA+1
DEBRSV18 EQU   DEBLUCBA
DEBFUCBB EQU   DEBFUCBA+1
DEBRSV17 EQU   DEBFUCBA
DEBTCCWB EQU   DEBTCCWA+1
DEBRSV16 EQU   DEBTCCWA
DEBTBFRB EQU   DEBTBFRA+1
DEBRSV15 EQU   DEBTBFRA
DEBDBPEF EQU   DEBACS03+8
DEBDBPP  EQU   DEBACS03+4
DEBDTPP  EQU   DEBACS03
DEBDBPE  EQU   DEBDBLK+1
DEBDBPT  EQU   DEBDBLK
DEBLRECL EQU   DEBACSMD+14
DEBBLKSI EQU   DEBACSMD+12
DEBRSV14 EQU   DEBDSNM+4
DEBUTSAB EQU   DEBUTSAA+1
DEBRSV13 EQU   DEBUTSAA
DEBVOLNM EQU   DEBACSMD+2
DEBVLSEQ EQU   DEBVOLSQ+1
DEBRSV42 EQU   DEBVOLBT
DEBRSV41 EQU   DEBVOLBT
DEBRSV40 EQU   DEBVOLBT
DEBRSV39 EQU   DEBVOLBT
DEBRSV38 EQU   DEBVOLBT
DEBRSV37 EQU   DEBVOLBT
DEBRSV36 EQU   DEBVOLBT
DEBEXFUL EQU   DEBVOLBT
DEBNMTRK EQU   DEBDASD+14
DEBENDHH EQU   DEBDASD+12
DEBENDCC EQU   DEBDASD+10
DEBSTRHH EQU   DEBDASD+8
DEBSTRCC EQU   DEBDASD+6
DEBDVMOD EQU   DEBUCBAD
DEBAPPB  EQU   DEBAPPAD+1
DEBDEBID EQU   DEBPROTG
DEBPRIOR EQU   DEBECBAD
DEBUSRPB EQU   DEBUSRPG+1
DEBRSV05 EQU   DEBBASIC+15
DEBXTNIN EQU   DEBFLGS1
DEBAPFIN EQU   DEBFLGS1
DEBF1CEV EQU   DEBFLGS1
DEBCINDI EQU   DEBFLGS1
DEBRSV02 EQU   DEBFLGS1
DEBRSIOA EQU   DEBFLGS1
DEBEOFDF EQU   DEBFLGS1
DEBPWCKD EQU   DEBFLGS1
DEBQSCNT EQU   DEBBASIC+13
DEBPOSIT EQU   DEBOPATB
DEBZERO  EQU   DEBOPATB
DEBABEND EQU   DEBOPATB
DEBSPLIT EQU   DEBOFLGS
DEBRLSE  EQU   DEBOFLGS
DEBEOF   EQU   DEBOFLGS
DEBTCBB  EQU   DEBTCBAD+1
JESPJESN EQU   JESCT+28
JESSSCT  EQU   JESCT+24
JESRESQM EQU   JESCT+16
JESQMGR  EQU   JESCT+12
JESUNITS EQU   JESCT+4
@NM00149 EQU   JESCT
SSDASSCM EQU   SSDA+16
SSDADEBP EQU   SSDA+12
SSDABUFR EQU   SSDA+4
@NM00148 EQU   SSDARESF
SSDADEFR EQU   SSDARESF
SSDAAUTO EQU   SSDARESF
SSDARESV EQU   SSDA+2
SSDALEN  EQU   SSDA
SSOBRETN EQU   SSOB+12
SSOBSSIB EQU   SSOB+8
SSOBLEN  EQU   SSOB+4
SSOBID   EQU   SSOB
SSIBRSV1 EQU   SSIB+28
SSIBDEST EQU   SSIB+20
SSIBJBID EQU   SSIB+12
SSIBSSNM EQU   SSIB+8
SSIBRESV EQU   SSIB+7
@NM00147 EQU   SSIBFLG1
SSIBPJES EQU   SSIBFLG1
SSIBLEN  EQU   SSIB+4
SSIBID   EQU   SSIB
UCBFCBID EQU   UCBUCS+8
UCBERCNT EQU   UCBUCS+7
UCBRSV51 EQU   UCBUCS+6
UCBFCBPE EQU   UCBFCBOP
UCBRSV49 EQU   UCBFCBOP
UCBRSV48 EQU   UCBFCBOP
UCBRSV47 EQU   UCBFCBOP
UCBRSV46 EQU   UCBFCBOP
UCBRSV45 EQU   UCBFCBOP
UCBRSV44 EQU   UCBFCBOP
UCBFCBO1 EQU   UCBFCBOP
UCBUCSPE EQU   UCBUCSOP
UCBRSV43 EQU   UCBUCSOP
UCBRSV42 EQU   UCBUCSOP
UCBRSV41 EQU   UCBUCSOP
UCBRSV40 EQU   UCBUCSOP
UCBRSV39 EQU   UCBUCSOP
UCBUCSO2 EQU   UCBUCSOP
UCBUCSO1 EQU   UCBUCSOP
UCBUCSID EQU   UCBUCS
UCBMDRBA EQU   UCBMDRBF+1
UCBRV075 EQU   UCBMDRBF
UCBRV074 EQU   UCB3800X+32
UCBIMAGE EQU   UCB3800X+28
UCBFCBNM EQU   UCB3800X+24
UCBCHAR4 EQU   UCB3800X+20
UCBCHAR3 EQU   UCB3800X+16
UCBCHAR2 EQU   UCB3800X+12
UCBCHAR1 EQU   UCB3800X+8
UCBCGMID EQU   UCB3800X+4
UCBBRSTA EQU   UCBACTIV
UCBRV063 EQU   UCBACTIV
UCBRV062 EQU   UCBACTIV
UCBRV061 EQU   UCBACTIV
UCBRV060 EQU   UCBACTIV
UCBRV059 EQU   UCBACTIV
UCBRV058 EQU   UCBACTIV
UCBRV057 EQU   UCBACTIV
UCBRV050 EQU   UCB3800X+2
UCBCGMNO EQU   UCB3800X+1
UCBRV083 EQU   UCBOPTNS
UCBBRSTR EQU   UCBOPTNS
UCBRV056 EQU   UCBOPTNS
UCBRV055 EQU   UCBOPTNS
UCBRV054 EQU   UCBOPTNS
UCBRV053 EQU   UCBOPTNS
UCBRV052 EQU   UCBOPTNS
UCBRV051 EQU   UCBOPTNS
UCBRV073 EQU   UCB3540X+7
UCBRV072 EQU   UCBDKBYT
UCBRV071 EQU   UCBDKBYT
UCBRV070 EQU   UCBDKBYT
UCBRV069 EQU   UCBDKBYT
UCBRV068 EQU   UCBDKBYT
UCBRV067 EQU   UCBDKBYT
UCBVLVER EQU   UCBDKBYT
UCBDKAMX EQU   UCBDKBYT
UCBVLSER EQU   UCB3540X
UCBRDATA EQU   UCBOCR+4
UCBFRID  EQU   UCBOCR
UCBCLN   EQU   UCBMT+14
UCBERG   EQU   UCBMT+12
UCBMS    EQU   UCBMT+11
UCBNB    EQU   UCBMT+10
UCBPW    EQU   UCBMT+9
UCBPR    EQU   UCBMT+8
UCBSIO   EQU   UCBMT+6
UCBTW    EQU   UCBMT+5
UCBTR    EQU   UCBMT+4
UCBTWT   EQU   UCBMT+3
UCBTRT   EQU   UCBMT+2
UCBWTOID EQU   UCBCMEXT+17
UCBRV043 EQU   UCBCMEXT+16
UCBASID  EQU   UCBCMEXT+14
UCBMFCNT EQU   UCBCMEXT+12
UCBPMSK  EQU   UCBCMEXT+10
UCBCCWOF EQU   UCBCMEXT+8
UCBRV041 EQU   UCBCMEXT+6
UCBRV036 EQU   UCBFLP1
UCBRV035 EQU   UCBFLP1
UCBERLOG EQU   UCBFLP1
UCBRV033 EQU   UCBFLP1
UCBINHIO EQU   UCBFLP1
UCBNSWAP EQU   UCBFLP1
UCBSHRUP EQU   UCBFLP1
UCBNSRCH EQU   UCBFLP1
UCBHPDV  EQU   @NM00146
UCBHALI  EQU   @NM00146
UCBRSV09 EQU   @NM00146
UCBRSV08 EQU   @NM00146
UCBRSV07 EQU   @NM00146
UCBRSV06 EQU   @NM00146
UCBRSV05 EQU   @NM00146
UCBRSV04 EQU   @NM00146
UCBDTI   EQU   UCBCMEXT+2
UCBSTI   EQU   UCBCMEXT+1
UCBETI   EQU   UCBCMEXT
UCBEXTP  EQU   UCBEXTPT+1
UCBDDRSW EQU   UCBFLC
UCBTICBT EQU   UCBFLC
UCBIVRR  EQU   UCBFLC
UCBIVRS  EQU   UCBFLC
UCBITF   EQU   UCBFLC
UCBUDE   EQU   UCBFLC
UCBWAA   EQU   UCBFLC
UCBATTP  EQU   UCBFLC
UCBUNTYP EQU   UCBTBYT4
UCBRSV11 EQU   UCBDVCLS
UCBRSV10 EQU   UCBDVCLS
UCB3CHAR EQU   UCBDVCLS
UCB3DISP EQU   UCBDVCLS
UCB3COMM EQU   UCBDVCLS
UCBDVPWR EQU   UCB2OPT7
UCBVLPWR EQU   UCB2OPT6
UCB2OPT5 EQU   UCBTBYT2
UCBRVDEV EQU   UCBRWTAU
UCBRPS   EQU   UCBDUDN2
UCBRR    EQU   UCBDUDN1
UCB2OPT1 EQU   UCBTBYT2
UCB2OPT0 EQU   UCBTBYT2
UCB1FEA7 EQU   UCBTBYT1
UCBD6250 EQU   UCB1FEA6
UCBD1600 EQU   UCB1FEA5
UCB1FEA4 EQU   UCBTBYT1
UCB1FEA3 EQU   UCBTBYT1
UCB1FEA2 EQU   UCBTBYT1
UCB1FEA1 EQU   UCBTBYT1
UCB1FEA0 EQU   UCBTBYT1
UCBNAME  EQU   UCBOB+13
UCBRV029 EQU   UCBWGT
UCBVHRSN EQU   UCBWGT
UCBVORSN EQU   UCBWGT
UCBMTPXP EQU   UCBWGT
UCBPUB   EQU   UCBWGT
UCBOUT   EQU   UCBWGT
UCBIN    EQU   UCBWGT
UCBCPU   EQU   UCBOB+11
UCBLCI   EQU   UCBOB+10
UCBCNT   EQU   UCBOB+9
UCBRV017 EQU   UCBCHM1
UCBRV016 EQU   UCBCHM1
UCBRV015 EQU   UCBCHM1
UCBRV014 EQU   UCBCHM1
UCBSPB   EQU   UCBPTH1
UCBPPB   EQU   UCBPTH1
UCBSPA   EQU   UCBPTH0
UCBPPA   EQU   UCBPTH0
UCBSIGP  EQU   UCBFLB
UCBVALPH EQU   UCBFLB
UCBCRHSN EQU   UCBFLB
UCBCRHRV EQU   UCBFLB
UCBRESVH EQU   UCBFLB
UCBSPST  EQU   UCBFLB
UCBASNS  EQU   UCBFLB
UCBIORST EQU   UCBFLB
UCBQISCE EQU   UCBFL1
UCBACTV  EQU   UCBFL1
UCBSAP   EQU   UCBFL1
UCBNOTRC EQU   UCBCUB
UCBPSNS  EQU   UCBFL1
UCBUSING EQU   UCBPST
UCBBUSYD EQU   UCBBSY
UCBUA    EQU   UCBCHAN+1
UCBCHA   EQU   UCBCHAN
UCBSYSR  EQU   UCBSTAT
UCBPRES  EQU   UCBSTAT
UCBALOC  EQU   UCBSTAT
UCBUNLD  EQU   UCBSTAT
UCBRESV  EQU   UCBSTAT
UCBCHGS  EQU   UCBSTAT
UCBONLI  EQU   UCBSTAT
UCBID    EQU   UCBOB+2
UCBALTPH EQU   UCBFL5
UCBALTCU EQU   UCBFL5
UCBNALOC EQU   UCBFL5
UCBENVRD EQU   UCBFL5
UCBVSDR  EQU   UCBFL5
UCBSASK  EQU   UCBFL5
UCBAMV   EQU   UCBAF
UCBDCC   EQU   UCBFL5
UCBMONT  EQU   UCBJBNR
UCBRV011 EQU   UCBJBNR
UCBMMSGP EQU   UCBJBNR
UCBOLDSM EQU   UCBJBNR
UCBRV003 EQU   UCBJBNR
UCBDUC   EQU   UCBJBNR
UCBJES3  EQU   UCBJBNR
UCBCMSEG EQU   UCBOB
UCBPFXND EQU   UCB+512
UCBIOQ   EQU   UCB+508
UCBLOCK  EQU   UCB+504
UCBPXST  EQU   UCB+504
@NM00143 EQU   UCB
DSABGRID EQU   DSABGIDL+4
DSABLLEN EQU   DSABGIDL
DSABANAM EQU   DSABANMI+1
DSABANML EQU   DSABANMI
DSABRS04 EQU   DSAB+68
DSABSIOT EQU   DSAB+64
DSABRS03 EQU   DSAB+62
DSABDCBM EQU   DSAB+56
DSABSSCM EQU   DSAB+52
DSABSSNM EQU   DSAB+48
DSABPTTR EQU   DSAB+44
DSABTCBP EQU   DSAB+40
DSABRS02 EQU   DSAB+38
@NM00142 EQU   DSABFLG4
DSABCKSI EQU   DSABFLG4
DSABCKVL EQU   DSABFLG4
@NM00141 EQU   DSABFLG3
DSABJSCT EQU   DSABFLG3
DSABCATL EQU   DSABFLG3
DSABVMSC EQU   DSABFLG3
DSABVAM  EQU   DSABFLG3
DSABPASS EQU   DSABFLG3
DSABDEFR EQU   DSABFLG3
@NM00140 EQU   DSABFLG2
DSABUNAL EQU   DSABFLG2
DSABIRM  EQU   DSABFLG2
DSABOPEN EQU   DSABFLG2
DSABNUSE EQU   DSABFLG1
DSABCATM EQU   DSABFLG1
DSABPCAT EQU   DSABFLG1
DSABDCAT EQU   DSABFLG1
DSABCONV EQU   DSABFLG1
DSABDCNV EQU   DSABFLG1
DSABPALC EQU   DSABFLG1
DSABDALC EQU   DSABFLG1
@NM00139 EQU   DSABORG2
DSABTR   EQU   DSABORG2
DSABAM   EQU   DSABORG2
@NM00138 EQU   DSABORG2
DSABTQ   EQU   DSABORG2
DSABTX   EQU   DSABORG2
DSABGS   EQU   DSABORG2
DSABU    EQU   DSABORG1
DSABPO   EQU   DSABORG1
DSABMQ   EQU   DSABORG1
DSABCQ   EQU   DSABORG1
DSABCX   EQU   DSABORG1
DSABDA   EQU   DSABORG1
DSABPS   EQU   DSABORG1
DSABIS   EQU   DSABORG1
DSABSSVA EQU   DSAB+21
DSABRS01 EQU   DSAB+20
DSABLNTH EQU   DSAB+12
DSABID   EQU   DSAB
@NM00137 EQU   TCBXTNT2+32
TCBRV181 EQU   TCBRV173
TCBRV180 EQU   TCBRV173
TCBRV179 EQU   TCBRV173
TCBRV178 EQU   TCBRV173
TCBRV177 EQU   TCBRV173
TCBRV176 EQU   TCBRV173
TCBRV175 EQU   TCBRV173
TCBRV174 EQU   TCBRV173
TCBRV172 EQU   TCBRV164
TCBRV171 EQU   TCBRV164
TCBRV170 EQU   TCBRV164
TCBRV169 EQU   TCBRV164
TCBRV168 EQU   TCBRV164
TCBRV167 EQU   TCBRV164
TCBRV166 EQU   TCBRV164
TCBRV165 EQU   TCBRV164
TCBRV163 EQU   TCBRV155
TCBRV162 EQU   TCBRV155
TCBRV161 EQU   TCBRV155
TCBRV160 EQU   TCBRV155
TCBRV159 EQU   TCBRV155
TCBRV158 EQU   TCBRV155
TCBRV157 EQU   TCBRV155
TCBRV156 EQU   TCBRV155
TCBRV154 EQU   TCBRV146
TCBRV153 EQU   TCBRV146
TCBRV152 EQU   TCBRV146
TCBRV151 EQU   TCBRV146
TCBRV150 EQU   TCBRV146
TCBRV149 EQU   TCBRV146
TCBRV148 EQU   TCBRV146
TCBRV147 EQU   TCBRV146
TCBRV145 EQU   TCBXTNT2+26
TCBRV144 EQU   TCBXTNT2+24
TCBCAUF  EQU   TCBXTNT2+20
TCBRV142 EQU   TCBXTNT2+16
TCBRSV49 EQU   TCBXTNT2+12
TCBEVENT EQU   TCBXTNT2+8
TCBRCMP  EQU   TCBXTNT2+5
TCBRSVAB EQU   TCBXTNT2+4
TCBGTFA  EQU   TCBGTF+1
TCBRSV47 EQU   TCBTFLG
TCBRSV46 EQU   TCBTFLG
TCBRSV45 EQU   TCBTFLG
TCBRSV44 EQU   TCBTFLG
TCBRSV43 EQU   TCBTFLG
TCBDSPIT EQU   TCBTFLG
TCBERRTN EQU   TCBTFLG
TCBASYNC EQU   TCBTFLG
@NM00136 EQU   TCB+296
TCBSVCA2 EQU   TCB+292
TCBSWASA EQU   TCB+288
TCBDBTB  EQU   TCB+284
TCBRPT   EQU   TCB+280
TCBRV141 EQU   TCBRV133
TCBRV140 EQU   TCBRV133
TCBRV139 EQU   TCBRV133
TCBRV138 EQU   TCBRV133
TCBRV137 EQU   TCBRV133
TCBRV136 EQU   TCBRV133
TCBRV135 EQU   TCBRV133
TCBRV134 EQU   TCBRV133
TCBRV132 EQU   TCBRV124
TCBRV131 EQU   TCBRV124
TCBRV130 EQU   TCBRV124
TCBRV129 EQU   TCBRV124
TCBRV128 EQU   TCBRV124
TCBRV127 EQU   TCBRV124
TCBRV126 EQU   TCBRV124
TCBRV125 EQU   TCBRV124
TCBRV123 EQU   TCBFBYT2
TCBRV122 EQU   TCBFBYT2
TCBECBNV EQU   TCBFBYT2
TCBSSSYN EQU   TCBFBYT2
TCBFPRAP EQU   TCBFBYT2
TCBFDW   EQU   TCBFBYT2
TCBFMW   EQU   TCBFBYT2
TCBCNCB  EQU   TCBFBYT2
TCBLLH   EQU   TCBFBYT1
TCBRV113 EQU   TCBFBYT1
TCBEOT   EQU   TCBFBYT1
TCBRTM2  EQU   TCBFBYT1
TCBPGNLY EQU   TCBFBYT1
TCBNDIOS EQU   TCBFBYT1
TCBACTIV EQU   TCBFBYT1
TCBEOTFM EQU   TCBFBYT1
TCBAFFN  EQU   TCB+274
TCBCCPVI EQU   TCB+272
TCBUKYSP EQU   TCB+268
TCBMODE  EQU   TCBESTAE+3
TCBERTYP EQU   TCBESTAE+2
TCBRV314 EQU   TCBESTRM
TCBRV313 EQU   TCBESTRM
TCBRV312 EQU   TCBESTRM
TCBRV311 EQU   TCBESTRM
TCBRV310 EQU   TCBESTRM
TCBRV309 EQU   TCBESTRM
TCBRV308 EQU   TCBESTRM
TCBETERM EQU   TCBESTRM
TCBSCBKY EQU   TCBESTAE
TCBRTM12 EQU   TCB+260
TCBTCBID EQU   TCB+256
TCBRSV96 EQU   TCB+252
TCBSWA   EQU   TCB+248
TCBFOEA  EQU   TCBFOE+1
TCBRSV42 EQU   TCBFOE
TCBRV306 EQU   TCB+240
TCBRSV41 EQU   TCB+239
TCBTID   EQU   TCB+238
TCBRSVAA EQU   TCB+237
TCBABCUR EQU   TCB+236
TCBTMSAV EQU   TCB+232
TCBIOTIM EQU   TCB+228
TCBRTWA  EQU   TCB+224
TCBBACK  EQU   TCB+220
TCBTIRB  EQU   TCB+216
TCBAECB  EQU   TCB+212
TCBEXT2A EQU   TCBEXT2+1
TCBRSV39 EQU   TCBEXT2
TCBSTMCT EQU   TCB+207
TCBSYSCT EQU   TCB+206
TCBRSV37 EQU   TCB+205
TCBEXSVC EQU   TCBDAR
TCBDARMS EQU   TCBDAR
TCBDARWT EQU   TCBDAR
TCBDARO  EQU   TCBDAR
TCBDARMC EQU   TCBDARC
TCBDARD  EQU   TCBDAR
TCBDARS  EQU   TCBDAR
TCBDARP  EQU   TCBDAR
TCBGTOFM EQU   TCBFLGS7
TCBADMP  EQU   TCBFLGS7
TCBRSTSK EQU   TCBFLGS7
TCBSVCS  EQU   TCBFLGS7
TCBSTACK EQU   TCBFLGS7
TCBRSV34 EQU   TCBFLGS7
TCBRSV33 EQU   TCBFLGS7
TCBGPECB EQU   TCBFLGS7
TCBNTJS  EQU   TCBFLGS6
TCBAPG   EQU   TCBFLGS6
TCBMIGR  EQU   TCBFLGS6
TCBRV303 EQU   TCBFLGS6
TCBSPVLK EQU   TCBFLGS6
TCBCPU   EQU   TCBFLGS6
TCBPIE17 EQU   TCBFLGS6
TCBRV    EQU   TCBFLGS6
TCBRSV79 EQU   TCBNDSP5
TCBRSV78 EQU   TCBNDSP5
TCBRSV77 EQU   TCBNDSP5
TCBRSV76 EQU   TCBNDSP5
TCBRSV75 EQU   TCBNDSP5
TCBRSV74 EQU   TCBNDSP5
TCBRSV95 EQU   TCBNDSP5
TCBRSV94 EQU   TCBNDSP5
TCBRSV93 EQU   TCBNDSP4
TCBRSV92 EQU   TCBNDSP4
TCBRSV91 EQU   TCBNDSP4
TCBRSV90 EQU   TCBNDSP4
TCBRSV89 EQU   TCBNDSP4
TCBRSV88 EQU   TCBNDSP4
TCBRSV87 EQU   TCBNDSP4
TCBRSV86 EQU   TCBNDSP4
TCBEXT1A EQU   TCBEXT1+1
TCBRSV32 EQU   TCBEXT1
TCBEXCPD EQU   TCB+192
TCBIOBRC EQU   TCB+188
TCBDDWTC EQU   TCB+186
TCBDDEXC EQU   TCB+184
TCBJSCBB EQU   TCBJSCB+1
@NM00135 EQU   TCBRECDE
TCBREC   EQU   TCBRECDE
TCBMDIDS EQU   TCB+176
TCBNDINT EQU   TCBNDSP3
TCBRSV27 EQU   TCBNDSP3
TCBRSV26 EQU   TCBNDSP3
TCBRSV25 EQU   TCBNDSP3
TCBRSV24 EQU   TCBNDSP3
TCBSRBND EQU   TCBNDSP3
TCBRV302 EQU   TCBNDSP3
TCBLJSND EQU   TCBNDSP3
TCBABE   EQU   TCBNDSP2
TCBDSS   EQU   TCBNDSP2
TCBOWAIT EQU   TCBNDSP2
TCBIWAIT EQU   TCBNDSP2
TCBNDTS  EQU   TCBNDSP2
TCBNDSVC EQU   TCBNDSP2
TCBSTPP  EQU   TCBNDSP2
TCBABD   EQU   TCBNDSP2
TCBRSV22 EQU   TCBNDSP1
TCBPIEND EQU   TCBNDSP1
TCBTPSP  EQU   TCBNDSP1
TCBDDRND EQU   TCBNDSP1
TCBRSPND EQU   TCBNDSP1
TCBRSTND EQU   TCBNDSP1
TCBDARPN EQU   TCBNDSP1
TCBDARTN EQU   TCBNDSP1
TCBNDSP0 EQU   TCBNDSP
TCBUSER  EQU   TCB+168
TCBTCTB  EQU   TCBTCT+1
TCBRSV9C EQU   TCBTCTGF
TCBRSV9B EQU   TCBTCTGF
TCBRSV9A EQU   TCBTCTGF
TCBRSV99 EQU   TCBTCTGF
TCBRSV98 EQU   TCBTCTGF
TCBRSV97 EQU   TCBTCTGF
TCBRSV20 EQU   TCBTCTGF
TCBSMFGF EQU   TCBTCTGF
TCBSTABB EQU   TCBSTAB+1
TCBSTCUR EQU   TCBNSTAE
TCBRV301 EQU   TCBNSTAE
TCBSYNCH EQU   TCBNSTAE
TCBHALT  EQU   TCBNSTAE
TCBPPSUP EQU   TCBNSTAE
TCB33E   EQU   TCBNSTAE
TCBQUIES EQU   TCBNSTAE
TCBSTABE EQU   TCBNSTAE
TCBAQE   EQU   TCB+156
TCBPQE   EQU   TCB+152
TCBTSDP  EQU   TCB+151
TCBTSLP  EQU   TCB+150
TCBSTPCT EQU   TCB+149
TCBCPUBN EQU   TCBTSFLG
TCBDYDSP EQU   TCBTSFLG
TCBRSV18 EQU   TCBTSFLG
TCBRSV17 EQU   TCBTSFLG
TCBTIOTG EQU   TCBTSFLG
TCBATT   EQU   TCBTSFLG
TCBSTPPR EQU   TCBTSFLG
TCBRV300 EQU   TCBTSTSK
TCBECB   EQU   TCB+144
TCBIQE   EQU   TCB+140
TCBLTC   EQU   TCB+136
TCBOTC   EQU   TCB+132
TCBNTC   EQU   TCB+128
TCBJSTCA EQU   TCBJSTCB+1
TCBRSV16 EQU   TCBJSTCB
TCBTQET  EQU   TCBTME
TCBTCB   EQU   TCB+116
TCBFSAB  EQU   TCBFSA+1
TCBQEL   EQU   TCBFSA
TCBGRS15 EQU   TCBGRS+60
TCBGRS14 EQU   TCBGRS+56
TCBGRS13 EQU   TCBGRS+52
TCBGRS12 EQU   TCBGRS+48
TCBGRS11 EQU   TCBGRS+44
TCBGRS10 EQU   TCBGRS+40
TCBGRS9  EQU   TCBGRS+36
TCBGRS8  EQU   TCBGRS+32
TCBGRS7  EQU   TCBGRS+28
TCBGRS6  EQU   TCBGRS+24
TCBGRS5  EQU   TCBGRS+20
TCBGRS4  EQU   TCBGRS+16
TCBGRS3  EQU   TCBGRS+12
TCBGRS2  EQU   TCBGRS+8
TCBGRS1  EQU   TCBGRS+4
TCBGRS0  EQU   TCBGRS
TCBJPQB  EQU   TCBJPQ+1
TCBRSV15 EQU   TCBPURGE
TCBRSV14 EQU   TCBPURGE
TCBRSV13 EQU   TCBPURGE
TCBRSV12 EQU   TCBPURGE
TCBRSV11 EQU   TCBPURGE
TCBRSV10 EQU   TCBPURGE
TCBRSV09 EQU   TCBPURGE
TCBJPQF  EQU   TCBPURGE
TCBJLB   EQU   TCB+40
TCBLLS   EQU   TCB+36
TCBDSP   EQU   TCB+35
TCBLMP   EQU   TCB+34
TCBPNDSP EQU   TCBFLGS5
TCBFCD1  EQU   TCBFLGS5
TCBSTP   EQU   TCBFLGS5
TCBSYS   EQU   TCBFLGS5
TCBANDSP EQU   TCBFLGS5
TCBPAGE  EQU   TCBFLGS5
TCBUXNDF EQU   TCBABWF
TCBFC    EQU   TCBFLGS5
TCBONDSP EQU   TCBFLGS4
TCBMPCND EQU   TCBFLGS4
TCBMPCVQ EQU   TCBFLGS4
TCBUXNDV EQU   TCBFLGS4
TCBHNDSP EQU   TCBFLGS4
TCBRQENA EQU   TCBFLGS4
TCBSER   EQU   TCBFLGS4
TCBNDUMP EQU   TCBFLGS4
TCBDWSTA EQU   TCBFLGS3
TCBRSV08 EQU   TCBFLGS3
TCBRSV07 EQU   TCBFLGS3
TCBRSV06 EQU   TCBFLGS3
TCBABGM  EQU   TCBFLGS3
TCBABTRM EQU   TCBFLGS3
TCBADINP EQU   TCBFLGS3
TCBFSM   EQU   TCBFLGS3
TCBFTS   EQU   TCBFLGS2
TCBFETXR EQU   TCBFLGS2
TCBFDSOP EQU   TCBFLGS2
TCBFJMC  EQU   TCBFLGS2
TCBFSMC  EQU   TCBFLGS2
TCBFABOP EQU   TCBFLGS2
TCBFSTI  EQU   TCBFLGS2
TCBFOINP EQU   TCBFLGS2
TCBFX    EQU   TCBFLGS1
TCBFS    EQU   TCBFLGS1
TCBFT    EQU   TCBFLGS1
TCBPDUMP EQU   TCBFLGS1
TCBNONPR EQU   TCBFLGS1
TCBFERA  EQU   TCBFLGS1
TCBFE    EQU   TCBFLGS1
TCBFA    EQU   TCBFLGS1
TCBZERO  EQU   TCBPKF
TCBFLAG  EQU   TCBPKF
TCBMSSB  EQU   TCBMSS+1
TCBRSV03 EQU   TCBMSS
TCBTRNB  EQU   TCBTRN+1
TCBRSV02 EQU   TCBABF
TCBOLTEP EQU   TCBABF
TCBTCP   EQU   TCBABF
TCBTCPP  EQU   TCBABF
TCBRSV01 EQU   TCBABF
TCBGRPH  EQU   TCBABF
TCBNOCHK EQU   TCBABF
TCBMOD91 EQU   TCBABF
TCBCMPC  EQU   TCBCMP+1
TCBRV318 EQU   TCBCMSG
TCBRV317 EQU   TCBCIND
TCBRV316 EQU   TCBCWTO
TCBCASID EQU   TCBCDBL
TCBNOCC  EQU   TCBSTCC
TCBDMPO  EQU   TCBCPP
TCBCSTEP EQU   TCBCMPF
TCBCREQ  EQU   TCBCMPF
TCBDEB   EQU   TCB+8
TCBPIEA  EQU   TCBPIE+1
TCBPM    EQU   TCBPMASK
@NM00134 EQU   TCBPMASK
TCBRBP   EQU   TCB
TCBFRS6  EQU   TCBFRS+24
TCBFRS4  EQU   TCBFRS+16
TCBFRS2  EQU   TCBFRS+8
TCBFRS0  EQU   TCBFRS
AMBTRACE EQU   IDAAMB+120
AMBVIOT  EQU   IDAAMB+116
AMBSZCP  EQU   IDAAMB+114
AMBSZFW  EQU   IDAAMB+112
AMBSZWR  EQU   IDAAMB+110
AMBSZRD  EQU   IDAAMB+108
AMBEXEX  EQU   IDAAMB+100
AMBWSHD  EQU   IDAAMB+96
AMBCPA   EQU   IDAAMB+92
AMBBM2SH EQU   IDAAMB+88
AMBRDCNT EQU   AMBCSWD1+2
@NM00133 EQU   AMBCSWD1+1
@NM00132 EQU   AMBAFLG
AMBCFX   EQU   AMBAFLG
AMBSIS   EQU   AMBAFLG
AMBDFR   EQU   AMBAFLG
AMBICI   EQU   AMBAFLG
AMBGSR   EQU   AMBAFLG
AMBLSR   EQU   AMBAFLG
@NM00131 EQU   AMBAFLG
AMBUPLH  EQU   IDAAMB+80
AMBPAMBL EQU   IDAAMB+76
AMBPIXP  EQU   IDAAMB+72
@NM00130 EQU   IDAAMB+68
AMBIWA   EQU   IDAAMB+64
AMBWKA   EQU   IDAAMB+60
AMBAMBXN EQU   AMBEOVPT
AMBEDB   EQU   IDAAMB+52
AMBRPT   EQU   IDAAMB+50
AMBPUG   EQU   AMBFLG2
AMBBUSY  EQU   AMBOFLGS
AMBEXFG  EQU   AMBOFLGS
@NM00129 EQU   AMBOFLGS
AMBOPEN  EQU   AMBOFLGS
@NM00128 EQU   AMBOFLGS
AMBDEBAD EQU   AMBDEBPT+1
AMBIFLGS EQU   AMBDEBPT
AMBAMETH EQU   IDAAMB+43
AMBUPX   EQU   AMBINFL
AMBUCRA  EQU   AMBINFL
AMBSCRA  EQU   AMBINFL
AMBCAT   EQU   AMBINFL
@NM00127 EQU   AMBINFL
@NM00126 EQU   AMBINFL
AMBTIOT  EQU   IDAAMB+40
@NM00125 EQU   IDAAMB+38
AMBDDSN  EQU   IDAAMB+35
AMBCDSN  EQU   IDAAMB+32
AMBIOMB  EQU   AMBIOBAD
@NM00124 EQU   AMBDSORG+1
AMBDORGA EQU   AMBDSORG+1
@NM00123 EQU   AMBDSORG
AMBINBUF EQU   AMBFLG1
AMBJRN   EQU   AMBFLG1
AMBUBF   EQU   AMBFLG1
AMBSPEED EQU   AMBFLG1
AMBPCAT  EQU   AMBFLG1
AMBMCAT  EQU   AMBFLG1
AMBTYPE  EQU   AMBFLG1
AMBCREAT EQU   AMBFLG1
@NM00122 EQU   AMBFLG0
AMBPSDS  EQU   AMBFLG0
AMBDSB   EQU   IDAAMB+20
AMBCACB  EQU   IDAAMB+16
AMBPH    EQU   IDAAMB+12
AMBBUFC  EQU   IDAAMB+8
AMBLINK  EQU   IDAAMB+4
AMBLEN   EQU   IDAAMB+2
AMBRSC   EQU   IDAAMB+1
ACBAPID  EQU   ACBCOMN+72
ACBCBMWA EQU   ACBCOMN+68
ACBUAPTR EQU   ACBCOMN+64
ACBMSGLN EQU   ACBBLKSZ
ACBBUFSP EQU   ACBCOMN+56
@NM00121 EQU   ACBUJFCB+1
ACBOPTN  EQU   ACBUJFCB
ACBVVIC  EQU   ACBINFLG
ACBUCRA  EQU   ACBINFLG
ACBSCRA  EQU   ACBINFLG
ACBCAT   EQU   ACBINFLG
ACBIJRQE EQU   ACBINFLG
ACBJEPS  EQU   ACBINFLG
@NM00120 EQU   ACBINFLG
ACBERFLG EQU   ACBCOMN+49
ACBBUSY  EQU   ACBIOSFG
ACBLOCK  EQU   ACBEXFG
@NM00119 EQU   ACBOFLGS
ACBDSERR EQU   ACBOFLGS
ACBOPEN  EQU   ACBOFLGS
ACBEOV   EQU   ACBOFLGS
@NM00118 EQU   ACBOFLGS
ACBDEB   EQU   ACBDDNM+5
ACBERFL  EQU   ACBDDNM+4
ACBAM    EQU   ACBAMETH
ACBINFL  EQU   ACBDDNM+2
ACBTIOT  EQU   ACBDDNM
ACBUEL   EQU   ACBEXLST
ACBPASSW EQU   ACBCOMN+32
ACBMSGAR EQU   ACBCOMN+28
@NM00117 EQU   ACBDSORG+1
@NM00116 EQU   ACBDSORG
ACBCRNRE EQU   ACBCROPS
ACBCRNCK EQU   ACBCROPS
ACBASA   EQU   ACBCCTYP
@NM00115 EQU   ACBCCTYP
ACBRECAF EQU   ACBRECFM
ACBJBUF  EQU   ACBBUFPL+2
ACBMACR4 EQU   ACBBUFPL+1
@NM00114 EQU   ACBMACR3
ACBNCFX  EQU   ACBMACR3
ACBSIS   EQU   ACBMACR3
ACBDFR   EQU   ACBMACR3
ACBICI   EQU   ACBMACR3
ACBGSR   EQU   ACBMACR3
ACBLSR   EQU   ACBMACR3
@NM00113 EQU   ACBMACR3
ACBBUFNI EQU   ACBCOMN+18
ACBBUFND EQU   ACBCOMN+16
ACBSTRNO EQU   ACBCOMN+15
ACBBSTNO EQU   ACBCOMN+14
ACBAIX   EQU   ACBMACR2
ACBDSN   EQU   ACBMACR2
ACBRST   EQU   ACBMACR2
ACBLOGON EQU   ACBMACR2
ACBSKP   EQU   ACBMACR2
@NM00112 EQU   ACBMACR2
ACBUBF   EQU   ACBMACR1
ACBOUT   EQU   ACBMACR1
ACBIN    EQU   ACBMACR1
ACBDIR   EQU   ACBMACR1
ACBSEQ   EQU   ACBMACR1
ACBBLK   EQU   ACBCNV
ACBADD   EQU   ACBADR
ACBKEY   EQU   ACBMACR1
ACBINRTN EQU   ACBCOMN+8
ACBIBCT  EQU   ACBJWA
ACBLEN2  EQU   ACBLENG2
ACBSTYP  EQU   ACBCOMN+1
ACBID    EQU   ACBCOMN
CVTLEVL  EQU   CVTRELNO+2
CVTNUMB  EQU   CVTRELNO
CVTMDL   EQU   CVTFIX+250
@NM00111 EQU   CVTFIX+248
@NM00110 EQU   CVTFIX
CVTRV482 EQU   CVTXTNT2+128
CVTRV481 EQU   CVTXTNT2+124
CVTRV480 EQU   CVTXTNT2+120
CVTRV479 EQU   CVTXTNT2+118
CVTRV478 EQU   CVTXTNT2+117
CVTRV477 EQU   CVTXTNT2+116
CVTRV476 EQU   CVTXTNT2+115
CVTRV475 EQU   CVTXTNT2+114
CVTRV474 EQU   CVTRV466
CVTRV473 EQU   CVTRV466
CVTRV472 EQU   CVTRV466
CVTRV471 EQU   CVTRV466
CVTRV470 EQU   CVTRV466
CVTRV469 EQU   CVTRV466
CVTRV468 EQU   CVTRV466
CVTRV467 EQU   CVTRV466
CVTRV465 EQU   CVTRV457
CVTRV464 EQU   CVTRV457
CVTRV463 EQU   CVTRV457
CVTRV462 EQU   CVTRV457
CVTRV461 EQU   CVTRV457
CVTRV460 EQU   CVTRV457
CVTRV459 EQU   CVTRV457
CVTRV458 EQU   CVTRV457
CVTRV456 EQU   CVTXTNT2+108
CVTRV455 EQU   CVTXTNT2+104
CVTRV454 EQU   CVTXTNT2+100
CVTRV453 EQU   CVTXTNT2+96
CVTRV452 EQU   CVTXTNT2+94
CVTRV451 EQU   CVTXTNT2+92
CVTRV450 EQU   CVTXTNT2+90
CVTRV449 EQU   CVTXTNT2+88
CVTRV448 EQU   CVTXTNT2+87
CVTRV447 EQU   CVTXTNT2+86
CVTRV446 EQU   CVTRV438
CVTRV445 EQU   CVTRV438
CVTRV444 EQU   CVTRV438
CVTRV443 EQU   CVTRV438
CVTRV442 EQU   CVTRV438
CVTRV441 EQU   CVTRV438
CVTRV440 EQU   CVTRV438
CVTRV439 EQU   CVTRV438
CVTRV437 EQU   CVTRV429
CVTRV436 EQU   CVTRV429
CVTRV435 EQU   CVTRV429
CVTRV434 EQU   CVTRV429
CVTRV433 EQU   CVTRV429
CVTRV432 EQU   CVTRV429
CVTRV431 EQU   CVTRV429
CVTRV430 EQU   CVTRV429
CVTRV428 EQU   CVTXTNT2+80
CVTRV427 EQU   CVTXTNT2+76
CVTRV426 EQU   CVTXTNT2+72
CVTRV425 EQU   CVTXTNT2+68
CVTATACT EQU   CVTATCVT
CVTRV423 EQU   CVTXTNT2+62
CVTRV422 EQU   CVTXTNT2+60
CVTRV421 EQU   CVTXTNT2+58
CVTRV420 EQU   CVTXTNT2+56
CVTRV419 EQU   CVTXTNT2+55
CVTRV418 EQU   CVTXTNT2+54
CVTRV417 EQU   CVTRV409
CVTRV416 EQU   CVTRV409
CVTRV415 EQU   CVTRV409
CVTRV414 EQU   CVTRV409
CVTRV413 EQU   CVTRV409
CVTRV412 EQU   CVTRV409
CVTRV411 EQU   CVTRV409
CVTRV410 EQU   CVTRV409
CVTRV408 EQU   CVTRV400
CVTRV407 EQU   CVTRV400
CVTRV406 EQU   CVTRV400
CVTRV405 EQU   CVTRV400
CVTRV404 EQU   CVTRV400
CVTRV403 EQU   CVTRV400
CVTRV402 EQU   CVTRV400
CVTRV401 EQU   CVTRV400
CVTICB   EQU   CVTXTNT2+48
CVTSKTA  EQU   CVTXTNT2+44
CVTCCVT  EQU   CVTXTNT2+40
CVTRSV98 EQU   CVTXTNT2+36
CVTRSV97 EQU   CVTXTNT2+34
CVTRSV96 EQU   CVTXTNT2+32
CVTOLTEP EQU   CVTXTNT2+28
CVTQIDA  EQU   CVTQID+1
CVTRSV95 EQU   CVTQID
CVTRSV94 EQU   CVTXTNT2+20
CVTRSV93 EQU   CVTXTNT2+16
CVTRSV92 EQU   CVTXTNT2+12
CVTDEBVR EQU   CVTXTNT2+8
CVTRSV91 EQU   CVTXTNT2+6
CVTRSV9H EQU   CVTFLGBT
CVTRSV9G EQU   CVTFLGBT
CVTRSV9F EQU   CVTFLGBT
CVTRSV9E EQU   CVTFLGBT
CVTRSV9D EQU   CVTFLGBT
CVTRSV9C EQU   CVTFLGBT
CVTVME   EQU   CVTFLGBT
CVTNPE   EQU   CVTFLGBT
CVTNUCLS EQU   CVTXTNT2+4
CVTDSSVA EQU   CVTDSSV+1
CVTRSV89 EQU   CVTDSSV
CVTRSV88 EQU   CVTXTNT1+8
CVTRSV87 EQU   CVTXTNT1+4
CVTFACHN EQU   CVTXTNT1
CVTRV488 EQU   CVTMAP+412
CVTRV487 EQU   CVTMAP+408
CVTRV486 EQU   CVTMAP+404
CVTRV485 EQU   CVTMAP+400
CVTACTAP EQU   CVTMAP+396
CVTAUTH  EQU   CVTMAP+392
CVTATMCA EQU   CVTATMCT+1
CVTATMST EQU   CVTATMCT
CVTRSV61 EQU   CVTMAP+384
CVTVOLT1 EQU   CVTVOLM1+1
CVTVOLI1 EQU   CVTVOLF1
CVTSTOA  EQU   CVTMAP+376
CVTRSV58 EQU   CVTMAP+374
CVTRSV57 EQU   CVTMAP+372
CVTDDCE  EQU   CVTMAP+368
CVTPNWFR EQU   CVTMAP+364
CVTSMF   EQU   CVTMAP+360
CVTSULK  EQU   CVTMAP+358
CVTSLKO  EQU   CVTSYSK
CVTSLKP  EQU   CVTSYSK
CVTSLKQ  EQU   CVTSYSK
CVTSLKR  EQU   CVTSYSK
CVTRSV56 EQU   CVTSYSK
CVTRSV55 EQU   CVTSYSK
CVTRSV54 EQU   CVTSYSK
CVTRSV53 EQU   CVTSYSK
CVTRSV52 EQU   CVTA1F1
CVTRSV51 EQU   CVTA1F1
CVTRSV50 EQU   CVTA1F1
CVTRSV49 EQU   CVTA1F1
CVTRSV48 EQU   CVTA1F1
CVTRSV47 EQU   CVTA1F1
CVTSRSW  EQU   CVTA1F1
CVTPFSW  EQU   CVTA1F1
CVTPCVT  EQU   CVTMAP+352
CVTRSV46 EQU   CVTMAP+344
CVTRSV45 EQU   CVTMAP+340
CVTRSV44 EQU   CVTMAP+338
CVTRSV43 EQU   CVTMAP+336
CVTHJESA EQU   CVTHJES+1
CVTRSV42 EQU   CVTHJES
CVTEXT2A EQU   CVTEXT2+1
CVTRSV41 EQU   CVTEXT2
CVTAPFA  EQU   CVTAPF+1
CVTRSV40 EQU   CVTAPF
CVTRV518 EQU   CVTINTLA
CVTRV517 EQU   CVTERPV
CVTEORM  EQU   CVTMAP+312
CVTMCHPR EQU   CVTMAP+308
CVTTZ    EQU   CVTMAP+304
CVTJEPS  EQU   CVTMAP+300
CVTMODE  EQU   CVTMAP+292
CVTPTRV  EQU   CVTMAP+288
CVTREAL  EQU   CVTMAP+284
CVTRSV39 EQU   CVTMAP+280
CVTRSV38 EQU   CVTMAP+276
CVTDMSRA EQU   CVTDMSR+1
CVTRV634 EQU   CVTDMSRF
CVTRV633 EQU   CVTDMSRF
CVTRV632 EQU   CVTDMSRF
CVTRV631 EQU   CVTDMSRF
CVTRV630 EQU   CVTDMSRF
CVTRV629 EQU   CVTDMSRF
CVTUDUMP EQU   CVTDMSRF
CVTSDUMP EQU   CVTDMSRF
CVTQMSGA EQU   CVTQMSG+1
CVTRSV36 EQU   CVTQMSG
CVTAMFF  EQU   CVTMAP+264
CVTPURGA EQU   CVTPURG+1
CVTRSV35 EQU   CVTPURG
CVTCBSP  EQU   CVTMAP+256
CVTATERA EQU   CVTATER+1
CVTSYST  EQU   CVTATER
CVTVOLT2 EQU   CVTTAT
CVTVOLI2 EQU   CVTVOLF2
CVTAQAVB EQU   CVTAQAVT+1
CVTRSV34 EQU   CVTTCMFG
CVTRSV33 EQU   CVTTCMFG
CVTRSV32 EQU   CVTTCMFG
CVTRSV31 EQU   CVTTCMFG
CVTRSV30 EQU   CVTTCMFG
CVTRSV29 EQU   CVTTCMFG
CVTRSV28 EQU   CVTTCMFG
CVTTCRDY EQU   CVTTCMFG
CVTGTFA  EQU   CVTGTF+1
CVTRSV27 EQU   CVTGTFST
CVTRNIO  EQU   CVTGTFST
CVTUSR   EQU   CVTGTFST
CVTRV318 EQU   CVTFORM
CVTRV317 EQU   CVTTMODE
CVTRV316 EQU   CVTSTATE
CVTRV315 EQU   CVTGTFS
CVTGTFAV EQU   CVTGTFS
CVT0SCR1 EQU   CVTMAP+232
CVTRV515 EQU   CVTMAP+228
CVTRMS   EQU   CVTMAP+224
CVTPATCH EQU   CVTMAP+220
CVTTSCE  EQU   CVTMAP+216
CVTLNKSC EQU   CVTMAP+214
CVTQABST EQU   CVTMAP+212
CVTMDLDS EQU   CVTMAP+208
CVTUSER  EQU   CVTMAP+204
CVTABEND EQU   CVTMAP+200
CVTSMCA  EQU   CVTMAP+196
CVTRSV18 EQU   CVTMAP+192
CVTQLPAQ EQU   CVTMAP+188
CVTQCDSR EQU   CVTMAP+184
CVTRSV17 EQU   CVTOPTB
CVTRSV16 EQU   CVTOPTB
CVTFP    EQU   CVTOPTB
CVTAPTHR EQU   CVTOPTB
CVTNLOG  EQU   CVTOPTB
CVTTOD   EQU   CVTOPTB
CVTCTIMS EQU   CVTOPTB
CVTPROT  EQU   CVTOPTB
CVTXPFP  EQU   CVTOPTA
CVTASCII EQU   CVTOPTA
CVTRSV13 EQU   CVTOPTA
CVTRSV12 EQU   CVTOPTA
CVTNIP   EQU   CVTOPTA
CVTDDR   EQU   CVTOPTA
CVTAPR   EQU   CVTOPTA
CVTCCH   EQU   CVTOPTA
CVTSNCTR EQU   CVTMAP+180
CVTQMWR  EQU   CVTMAP+176
CVTQOCR  EQU   CVTMAP+172
CVT1EF00 EQU   CVTMAP+168
CVTMZ00  EQU   CVTMAP+164
CVTSV76Q EQU   CVTSV76C
CVTRSV11 EQU   CVTMAP+156
CVT0PT01 EQU   CVTMAP+152
CVTMSER  EQU   CVTMAP+148
CVTRV516 EQU   CVTIERLC
CVTILCH  EQU   CVTMAP+140
CVT0DS   EQU   CVTMAP+136
CVTFBOSV EQU   CVTMAP+132
CVTNUCB  EQU   CVTMAP+128
CVTIXAVL EQU   CVTMAP+124
CVTSV76M EQU   CVTIOQET
CVTDCBA  EQU   CVTMAP+117
CVTMVS2  EQU   CVTDCB
CVT6DAT  EQU   CVTDCB
CVT4MPS  EQU   CVTDCB
CVTRSV09 EQU   CVTDCB
CVT4MS1  EQU   CVTDCB
CVT2SPS  EQU   CVTDCB
CVT1SSS  EQU   CVTDCB
CVTRSV08 EQU   CVTDCB
CVTSTB   EQU   CVTMAP+112
CVTQTD00 EQU   CVTMAP+108
CVTQTE00 EQU   CVTMAP+104
CVTCUCB  EQU   CVTMAP+100
CVTSJQ   EQU   CVTMAP+96
CVTPBLDL EQU   CVTMAP+92
CVTTPC   EQU   CVTMAP+88
CVTSVDCB EQU   CVTMAP+84
CVTBRET  EQU   CVTMAP+82
CVTEXIT  EQU   CVTMAP+80
CVT0FN00 EQU   CVTMAP+76
CVTDARA  EQU   CVTDAR+1
CVTRSV07 EQU   CVTFLGS1
CVTRSV06 EQU   CVTFLGS1
CVTRSV05 EQU   CVTFLGS1
CVTRSV04 EQU   CVTFLGS1
CVTRSV03 EQU   CVTFLGS1
CVTRSV02 EQU   CVTFLGS1
CVTRSV01 EQU   CVTFLGS1
CVTDMPLK EQU   CVTFLGS1
CVTXITP  EQU   CVTMAP+68
CVTZDTAB EQU   CVTMAP+64
CVTMSLT  EQU   CVTMAP+60
CVTDATE  EQU   CVTMAP+56
CVTBTERM EQU   CVTMAP+52
CVTSYSAD EQU   CVTMAP+48
CVTXTLER EQU   CVTMAP+44
CVTILK2  EQU   CVTMAP+40
CVTILK1  EQU   CVTMAP+36
CVTPCNVT EQU   CVTMAP+28
CVT0VL00 EQU   CVTMAP+24
CVTXAPG  EQU   CVTMAP+20
CVTBUF   EQU   CVTMAP+16
CVTJOB   EQU   CVTMAP+12
CVTLINK  EQU   CVTMAP+8
CVT0EF00 EQU   CVTMAP+4
@NM00107 EQU   SDWA+512
SDWAVRA  EQU   SDWARA+4
SDWAURAL EQU   SDWARA+3
@NM00106 EQU   SDWADPVA
SDWAEBC  EQU   SDWADPVA
SDWAHEX  EQU   SDWADPVA
SDWAVRAL EQU   SDWARA
@NM00105 EQU   SDWA+396
SDWARCPL EQU   SDWA+364
@NM00104 EQU   SDWADPSA+32
SDWATO4  EQU   SDWADPSL+28
SDWAFRM4 EQU   SDWADPSL+24
SDWATO3  EQU   SDWADPSL+20
SDWAFRM3 EQU   SDWADPSL+16
SDWATO2  EQU   SDWADPSL+12
SDWAFRM2 EQU   SDWADPSL+8
SDWATO1  EQU   SDWADPSL+4
SDWAFRM1 EQU   SDWADPSL
@NM00103 EQU   SDWADDAT+3
@NM00102 EQU   SDWAPDAT
SDWAUSPL EQU   SDWAPDAT
SDWADPSW EQU   SDWAPDAT
SDWATJPA EQU   SDWAPDAT
SDWATLPA EQU   SDWAPDAT
SDWADREG EQU   SDWAPDAT
SDWADSAH EQU   SDWAPDAT
SDWADSAS EQU   SDWAPDAT
@NM00101 EQU   SDWADDAT+1
@NM00100 EQU   SDWASDAT
SDWAQQS  EQU   SDWASDAT
SDWACBS  EQU   SDWASDAT
SDWAGTF  EQU   SDWASDAT
SDWASWA  EQU   SDWASDAT
SDWALSQA EQU   SDWASDAT
SDWASQA  EQU   SDWASDAT
SDWANUC  EQU   SDWASDAT
@NM00099 EQU   SDWADUMP+2
@NM00098 EQU   SDWADPFS
SDWASLST EQU   SDWADPFS
@NM00097 EQU   SDWADPFS
SDWADLST EQU   SDWADPFS
SDWADPT  EQU   SDWADPFS
SDWADPID EQU   SDWADUMP
SDWADPLA EQU   SDWA+316
SDWAREXN EQU   SDWARECP+16
SDWACSCT EQU   SDWARECP+8
SDWAMODN EQU   SDWARECP
@NM00096 EQU   SDWALKWA+32
SDWATALW EQU   SDWALKWS+28
SDWATDLW EQU   SDWALKWS+24
SDWATNLW EQU   SDWALKWS+20
SDWAAPLW EQU   SDWALKWS+16
SDWAIPLW EQU   SDWALKWS+12
SDWAILLW EQU   SDWALKWS+8
SDWAIULW EQU   SDWALKWS+4
SDWAICLW EQU   SDWALKWS
SDWAFLLK EQU   SDWAACF4
SDWACMS  EQU   SDWAACF4
SDWAOPTM EQU   SDWAACF4
SDWATADB EQU   SDWAACF4
SDWATDNB EQU   SDWAACF4
SDWATNCB EQU   SDWAACF4
SDWAILCH EQU   SDWAACF4
SDWAIUCB EQU   SDWAACF4
SDWAICAT EQU   SDWAACF3
SDWAIPRG EQU   SDWAACF3
SDWASALL EQU   SDWAACF3
SDWAASMP EQU   SDWAACF3
SDWADISP EQU   SDWAACF3
@NM00095 EQU   SDWAACF3
@NM00094 EQU   SDWAACF2
SDWAFREE EQU   SDWAACF2
SDWAUPRG EQU   SDWAACF2
@NM00093 EQU   SDWAACF2
SDWASPIN EQU   SDWAACF2
@NM00092 EQU   SDWAACF2
SDWARCRD EQU   SDWAACF2
SDWARCDE EQU   SDWAPARQ
SDWALCPU EQU   SDWACPUA+2
@NM00091 EQU   SDWACPUA
SDWARECA EQU   SDWA+244
SDWARTYA EQU   SDWA+240
@NM00090 EQU   SDWA+239
@NM00089 EQU   SDWAIOFS
SDWANIOP EQU   SDWAIOFS
SDWANOIO EQU   SDWAIOFS
SDWAIOHT EQU   SDWAIOFS
SDWAIOQR EQU   SDWAIOFS
SDWAFMID EQU   SDWA+236
@NM00088 EQU   SDWAERRD
SDWAMCIV EQU   SDWAERRD
SDWARPIV EQU   SDWAERRD
SDWAMABD EQU   SDWAERRD
SDWACTS  EQU   SDWAERRD
SDWASTAE EQU   SDWAERRD
SDWANRBE EQU   SDWAERRD
SDWACLUP EQU   SDWAERRD
@NM00087 EQU   SDWAERRC
SDWAEAS  EQU   SDWAERRC
SDWAPERC EQU   SDWAERRC
SDWAIRB  EQU   SDWAERRC
SDWASTAI EQU   SDWAERRC
SDWASTAF EQU   SDWAERRC
SDWASRBM EQU   SDWAERRB
SDWALDIS EQU   SDWAERRB
SDWAENRB EQU   SDWAERRB
SDWATYP1 EQU   SDWAERRB
@NM00086 EQU   SDWAERRB
SDWAPGIO EQU   SDWAERRA
SDWATEXC EQU   SDWAERRA
SDWASVCE EQU   SDWAERRA
SDWAABTM EQU   SDWAERRA
SDWASVCD EQU   SDWAERRA
SDWARKEY EQU   SDWAERRA
SDWAPCHK EQU   SDWAERRA
SDWAMCHK EQU   SDWAERRA
SDWATIME EQU   SDWAMCH+20
SDWARFSA EQU   SDWAMCH+16
@NM00085 EQU   SDWAMCH+14
SDWAVEQR EQU   SDWARSR2
SDWAPGFX EQU   SDWARSR2
SDWAFLSQ EQU   SDWARSR2
SDWAFSQA EQU   SDWARSR2
SDWANUCL EQU   SDWARSR2
SDWASPER EQU   SDWARSR2
SDWAINTC EQU   SDWARSR2
SDWAOFLN EQU   SDWARSR2
SDWACHNG EQU   SDWARSR1
SDWAMSER EQU   SDWARSR1
@NM00084 EQU   SDWARSR1
SDWACPID EQU   SDWAMCH+10
SDWATERR EQU   SDWAMCHD
SDWAFPRX EQU   SDWAMCHD
SDWAINSF EQU   SDWAMCHD
SDWAACR  EQU   SDWAMCHD
SDWASCK  EQU   SDWAMCHD
SDWAPSWU EQU   SDWAMCHD
SDWAREGU EQU   SDWAMCHD
SDWASKYF EQU   SDWAMCHD
@NM00083 EQU   SDWAMCHS
SDWARSRF EQU   SDWAMCHS
SDWARSRC EQU   SDWAMCHS
SDWAINVP EQU   SDWAMCHS
SDWATSVL EQU   SDWAMCHS
SDWARCDF EQU   SDWAMCHS
SDWASRVL EQU   SDWAMCHS
SDWASCKE EQU   SDWASTCK+4
SDWASCKB EQU   SDWASTCK
SDWALNTH EQU   SDWAIDNT+1
SDWASPID EQU   SDWAIDNT
SDWASR15 EQU   SDWASRSV+60
SDWASR14 EQU   SDWASRSV+56
SDWASR13 EQU   SDWASRSV+52
SDWASR12 EQU   SDWASRSV+48
SDWASR11 EQU   SDWASRSV+44
SDWASR10 EQU   SDWASRSV+40
SDWASR09 EQU   SDWASRSV+36
SDWASR08 EQU   SDWASRSV+32
SDWASR07 EQU   SDWASRSV+28
SDWASR06 EQU   SDWASRSV+24
SDWASR05 EQU   SDWASRSV+20
SDWASR04 EQU   SDWASRSV+16
SDWASR03 EQU   SDWASRSV+12
SDWASR02 EQU   SDWASRSV+8
SDWASR01 EQU   SDWASRSV+4
SDWASR00 EQU   SDWASRSV
SDWATRN2 EQU   SDWAAEC2+4
SDWAIPC2 EQU   SDWAICD2
SDWAIMC2 EQU   SDWAICD2
SDWAIPR2 EQU   SDWAICD2
@NM00082 EQU   SDWAINC2
@NM00081 EQU   SDWAILC2
SDWAIL2  EQU   SDWAILC2
@NM00080 EQU   SDWAILC2
@NM00079 EQU   SDWAAEC2
SDWAADD2 EQU   SDWANXT2+1
@NM00078 EQU   SDWANXT2
@NM00077 EQU   SDWAEC2+3
SDWASGN2 EQU   SDWAINT2
SDWAEXP2 EQU   SDWAINT2
SDWADEC2 EQU   SDWAINT2
SDWAFPO2 EQU   SDWAINT2
SDWACC2  EQU   SDWAINT2
@NM00076 EQU   SDWAINT2
SDWAPGM2 EQU   SDWAMWP2
SDWAWAT2 EQU   SDWAMWP2
SDWAMCK2 EQU   SDWAMWP2
SDWAECT2 EQU   SDWAMWP2
SDWAKEY2 EQU   SDWAMWP2
SDWAEXT2 EQU   SDWAEMK2
SDWAIO2  EQU   SDWAEMK2
SDWATRM2 EQU   SDWAEMK2
@NM00075 EQU   SDWAEMK2
SDWAPER2 EQU   SDWAEMK2
@NM00074 EQU   SDWAEMK2
SDWATRAN EQU   SDWAAEC1+4
SDWAIPC1 EQU   SDWAICD1
SDWAIMC1 EQU   SDWAICD1
SDWAIPR1 EQU   SDWAICD1
@NM00073 EQU   SDWAINC1
@NM00072 EQU   SDWAILC1
SDWAIL1  EQU   SDWAILC1
@NM00071 EQU   SDWAILC1
@NM00070 EQU   SDWAAEC1
SDWAADD1 EQU   SDWANXT1+1
@NM00069 EQU   SDWANXT1
@NM00068 EQU   SDWAEC1+3
SDWASGN1 EQU   SDWAINT1
SDWAEXP1 EQU   SDWAINT1
SDWADEC1 EQU   SDWAINT1
SDWAFPO1 EQU   SDWAINT1
SDWACC1  EQU   SDWAINT1
@NM00067 EQU   SDWAINT1
SDWAPGM1 EQU   SDWAMWP1
SDWAWAT1 EQU   SDWAMWP1
SDWAMCK1 EQU   SDWAMWP1
SDWAECT1 EQU   SDWAMWP1
SDWAKEY1 EQU   SDWAMWP1
SDWAEXT1 EQU   SDWAEMK1
SDWAIO1  EQU   SDWAEMK1
SDWATRM1 EQU   SDWAEMK1
@NM00066 EQU   SDWAEMK1
SDWAPER1 EQU   SDWAEMK1
@NM00065 EQU   SDWAEMK1
SDWAIOBR EQU   SDWA+100
SDWAEPA  EQU   SDWA+96
@NM00064 EQU   SDWANAME+4
SDWARBAD EQU   SDWANAME
SDWAGR15 EQU   SDWAGRSV+60
SDWAGR14 EQU   SDWAGRSV+56
SDWAGR13 EQU   SDWAGRSV+52
SDWAGR12 EQU   SDWAGRSV+48
SDWAGR11 EQU   SDWAGRSV+44
SDWAGR10 EQU   SDWAGRSV+40
SDWAGR09 EQU   SDWAGRSV+36
SDWAGR08 EQU   SDWAGRSV+32
SDWAGR07 EQU   SDWAGRSV+28
SDWAGR06 EQU   SDWAGRSV+24
SDWAGR05 EQU   SDWAGRSV+20
SDWAGR04 EQU   SDWAGRSV+16
SDWAGR03 EQU   SDWAGRSV+12
SDWAGR02 EQU   SDWAGRSV+8
SDWAGR01 EQU   SDWAGRSV+4
SDWAGR00 EQU   SDWAGRSV
SDWANXTP EQU   SDWACTL2+5
SDWASGP  EQU   SDWAPMKP
SDWAEUP  EQU   SDWAPMKP
SDWADOP  EQU   SDWAPMKP
SDWAFPP  EQU   SDWAPMKP
SDWACCP  EQU   SDWAPMKP
SDWAILP  EQU   SDWAPMKP
SDWAINTP EQU   SDWACTL2+2
SDWASPVP EQU   SDWAMWPP
SDWAWATP EQU   SDWAMWPP
SDWAMCKP EQU   SDWAMWPP
@NM00063 EQU   SDWAMWPP
SDWAKEYP EQU   SDWAMWPP
SDWAEXTP EQU   SDWACMKP
SDWAIOP  EQU   SDWACMKP
SDWANXTA EQU   SDWACTL1+5
SDWASGA  EQU   SDWAPMKA
SDWAEUA  EQU   SDWAPMKA
SDWADOA  EQU   SDWAPMKA
SDWAFPA  EQU   SDWAPMKA
SDWACCA  EQU   SDWAPMKA
SDWAILA  EQU   SDWAPMKA
SDWAINTA EQU   SDWACTL1+2
SDWASPVA EQU   SDWAMWPA
SDWAWATA EQU   SDWAMWPA
SDWAMCKA EQU   SDWAMWPA
@NM00062 EQU   SDWAMWPA
SDWAKEYA EQU   SDWAMWPA
SDWAEXTA EQU   SDWACMKA
SDWAIOA  EQU   SDWACMKA
SDWACMPC EQU   SDWAABCC+1
@NM00061 EQU   SDWACMPF
SDWASTCC EQU   SDWACMPF
@NM00060 EQU   SDWACMPF
SDWASTEP EQU   SDWACMPF
SDWAREQ  EQU   SDWACMPF
SDWAPARM EQU   SDWA
VDSRBN   EQU   VDSCB+76
VDSNMTRK EQU   VDSCB+74
VDSABSTT EQU   VDSCB+72
VDSWINSI EQU   VDSCB+70
VDSTRKSI EQU   VDSCB+68
VDSWINDW EQU   VDSCB+64
VDSVBPPL EQU   VDSCB+60
VDSWICB  EQU   VDSCB+56
VDSDSPCT EQU   VDSCB+52
VDSSEEKA EQU   VDSCB+45
VDSUCB   EQU   VDSCB
@NM00059 EQU   CRSIECNT+8
CRSFCXAT EQU   CRSIECNT+4
@NM00058 EQU   CRSIECDA
CRSTM2AD EQU   CRSIECTP
CRSREOPN EQU   CRSIECFC
@NM00057 EQU   CRSIECFC
CRSFCCOM EQU   CRSIECFC
CRSFCINC EQU   CRSIECFC
@NM00056 EQU   CRSIECBS+1
@NM00055 EQU   CRSIECHD+8
APPNAMID EQU   APPNMTBL+24
APPOFFST EQU   APPENTRY+2
APPCOUNT EQU   APPENTRY
APPSIZE  EQU   APPNMTBL+2
APPBAL   EQU   APPNMTBL
WTGETTR  EQU   WTGIDTTR+2
WTGEID   EQU   WTGIDTTR
WTGOPD   EQU   WTGPATHS+1
WTGRECHK EQU   WTGPATHS+1
WTGTSENQ EQU   WTGPATHS+1
@NM00052 EQU   WTGPATHS+1
WTGTRACE EQU   WTGPATHS+1
@NM00051 EQU   WTGPATHS
WTGJFCBW EQU   WTGPATHS
WTGTCOS  EQU   WTGPATHS
WTGNSL   EQU   WTGPATHS
WTGPRLSE EQU   WTGPATHS
WTGLNG   EQU   WTG+29
WTGTXTLN EQU   WTGAREA+27
WTGMODSZ EQU   WTGAREA+24
WTGATTRB EQU   WTGAREA+22
@NM00050 EQU   WTGAREA+20
@NM00049 EQU   WTGAREA+12
@NM00048 EQU   WTGMODNM
DSMADTW6 EQU   DSMADTRL+20
DSMADTW5 EQU   DSMADTRL+16
DSMADTW4 EQU   DSMADTRL+12
DSMADTW3 EQU   DSMADTRL+8
DSMADTW2 EQU   DSMADTRL+4
DSMADTB4 EQU   DSMADTW1+3
DSMADTB3 EQU   DSMADTW1+2
@NM00047 EQU   DSMADTB2
DSMDSNE  EQU   DSMADTB2
DSMTIOTE EQU   DSMADTB2
DSMSMCE  EQU   DSMADTB2
DSMVTOCR EQU   DSMADTB2
DSMASWAP EQU   DSMADTB1
DSMUCBAL EQU   DSMADTB1
DSMRPSAP EQU   DSMADTB1
DSMLOCK  EQU   DSMADTB1
@NM00046 EQU   DSMADTB1
DSMVIO   EQU   DSMADTB1
DSMISAM  EQU   DSMADTB1
RRMLRTRY EQU   RRPLIST+16
RRUCBPTR EQU   RRXRETRY
@NM00045 EQU   RRFLAGS3
RRFTERM  EQU   RRFLAGS3
RRFNRTCA EQU   RRFLAGS3
@NM00044 EQU   RRFLAGS3
RRFENQUL EQU   RRFLAGS2
RRFPRDET EQU   RRFLAGS2
@NM00043 EQU   RRFLAGS2
RRFQMNGR EQU   RRFLAGS2
RRFENQPW EQU   RRFLAGS2
@NM00042 EQU   RRFLAGS2
RRFTRACE EQU   RRFLAGS1
RRFNSL   EQU   RRFLAGS1
RRFAMSTR EQU   RRFLAGS1
RRFUSREX EQU   RRFLAGS1
@NM00041 EQU   RRFLAGS1
RRFRJFCB EQU   RRFUNCTN
RRFDADSM EQU   RRFUNCTN
DXDCBLST EQU   USERPRML
RWALIST  EQU   RWARESWA+12
RWAPARM  EQU   RWAPREFX+8
RWATRBUF EQU   RWAPREFX+4
RWATRACE EQU   RWAPREFX
IECQMNGR EQU   IECEXTPR+92
IECMSGQA EQU   IECEXTPR+88
IECWTGTB EQU   IECEXTPR+72
IECCORP2 EQU   IECPREFX+28
IECCORP1 EQU   IECPREFX+24
IECCORPS EQU   IECPREFX+20
IECCORSP EQU   IECPREFX+19
@NM00040 EQU   IECPREFX+17
IECCORKY EQU   IECPREFX+16
IECCORAD EQU   IECPREFX+12
IECCORLN EQU   IECPREFX+8
@NM00039 EQU   IECPREFX+4
IECCORID EQU   IECPREFX
@NM00011 EQU   DXFMTCOR+96
@NM00010 EQU   DXFMTCOR
@NM00009 EQU   TCBPTRS
DXATEXB2 EQU   DXATEXC2
DXATCOM3 EQU   FORCORE+596
@NM00035 EQU   DXATCOM2+3
@NM00034 EQU   DXATALL
DXATSWAP EQU   DXATALL
@NM00033 EQU   DXATOPEN
DXATDSIN EQU   DXATOPEN
DXATMODM EQU   DXATOPEN
DXATMODE EQU   DXATOPEN
DXATMODS EQU   DXATOPEN
DXATIGN  EQU   DXATOPEN
DXATVCAT EQU   DXATEOV
DXATDADM EQU   DXATEOV
DXATREMT EQU   DXATEOV
DXATDNEW EQU   DXATEOV
DXATDFRE EQU   DXATEOV
DXATDCHN EQU   DXATEOV
DXATCCAT EQU   DXATEOV
DXATRDDB EQU   DXATDACC
@NM00032 EQU   DXATDACC
DXATDRCT EQU   DXATDACC
DXATTRAK EQU   DXATDACC
DXATF1CE EQU   DXATDACC
DXATHDTM EQU   DXATOUTA
DXATVLHD EQU   DXATOUTA
DXATSRET EQU   DXATGENS
DXATVCIG EQU   DXATVGIV
DXATVTMG EQU   DXATVGIV
DXATVSMG EQU   DXATVGIV
DXATJFCB EQU   DXATGENS
DXMSGADR EQU   FORCORE+584
DXPRPARC EQU   FORCORE+580
DXUDCBML EQU   FORCORE+578
DXUDCBPL EQU   FORCORE+576
DXPACBAD EQU   DXPDCBAD+1
@NM00031 EQU   DXPDCBAD
@NM00030 EQU   DXUDCBAD
@NM00029 EQU   DXUCBSAV
DXDEBXAD EQU   FORCORE+552
DXDSABQD EQU   FORCORE+540
DXJSCBAD EQU   FORCORE+536
DXTCBADR EQU   FORCORE+532
DXASCBAD EQU   FORCORE+528
DXEXTSW  EQU   FORCORE+527
DXWKEYSV EQU   FORCORE+525
DXUNITOF EQU   FORCORE+522
DXNOUNIT EQU   FORCORE+520
DXVOLSEQ EQU   FORCORE+518
DXVOLMT3 EQU   DXVOLSR3
DXVOLMT2 EQU   DXVOLSR2
DXVOLMT1 EQU   DXVOLSR1
DXWORK4  EQU   FORCORE+496
DXWORK3  EQU   FORCORE+492
DXWORK2  EQU   FORCORE+488
DXWORK1  EQU   FORCORE+484
DXWORK   EQU   FORCORE+480
@NM00028 EQU   FORCORE+464
DXCCW10  EQU   DXCCW+72
DXCCW9   EQU   DXCCW+64
DXCCW7   EQU   DXCCW+48
DXDCBDEB EQU   DXDCB+44
@NM00027 EQU   DXDCB+24
DXDEBDCB EQU   DXDCB+20
@NM00026 EQU   DXDCB
@NM00025 EQU   DXDAADDR
TRRMODSV EQU   TRREXTPR+280
WDWORD   EQU   TRREXTPR+272
LOBYTE   EQU   SYSCODE+1
@NM00004 EQU   SYSCODE
@NM00003 EQU   COMPCODE
SDWARR0F EQU   @NM00002
WADUMP   EQU   @NM00002
TRRWORK2 EQU   TRREXTX+172
TRRWORK1 EQU   TRREXTX+168
TRRPFXP  EQU   TRREXTX+20
TRRWTGPR EQU   TRREXTX
TRRLISTP EQU   TRREXTPR+76
SAREG12  EQU   SAVAREA+68
SAREG8   EQU   SAVAREA+52
SAREG7   EQU   SAVAREA+48
SAREG6   EQU   SAVAREA+44
SAREG3   EQU   SAVAREA+32
SAREG1   EQU   SAVAREA+24
SAREG0   EQU   SAVAREA+20
@NM00001 EQU   SAVAREA
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RT00325 EQU   SKIPCHK
@RT00340 EQU   POSTFCX
@RC00365 EQU   @RC00358
@RF00389 EQU   POSTFC
@RT00408 EQU   POSTFC
@RC00421 EQU   @RC00420
@RC00441 EQU   @RC00435
@RC00436 EQU   @RC00435
@RC00456 EQU   @RC00455
@RF00504 EQU   @RC00502
@RC00489 EQU   @EL00002
@RC00560 EQU   @RC00559
@RC00579 EQU   @RC00574
@RC00577 EQU   @RC00574
@RC00575 EQU   @RC00574
@RC00585 EQU   @RC00584
@RF00628 EQU   @EL00006
@RC00648 EQU   @RC00647
@RF00636 EQU   @EL00007
PREVORET EQU   @EL00008
@RF00691 EQU   @EL00010
@RF00702 EQU   @EL00011
@RF00733 EQU   @EL00012
@RF00736 EQU   @EL00012
@RF00764 EQU   @EL00013
@RF00769 EQU   @EL00013
@RC00788 EQU   @RC00784
@RT00798 EQU   CFN04500
@RT00800 EQU   CFN04400
@RT00802 EQU   CFN04300
@RT00804 EQU   CFN04500
@RF00806 EQU   CFN04400
@RT00809 EQU   CFN04500
@RT00811 EQU   CFN05100
@RF00780 EQU   @EL00014
@RF00793 EQU   @EL00014
@RF00836 EQU   @EL00014
@RF00844 EQU   @EL00015
@RF00850 EQU   @EL00015
@RT00867 EQU   DCHNDEB2
@RF00856 EQU   @EL00016
@RF00886 EQU   @RC00884
@RF00891 EQU   @RC00889
@PB00017 EQU   @PB00018
@RT00900 EQU   DSABC070
@RT00922 EQU   DMCTOP1
@RF00931 EQU   @EL00019
@RC00907 EQU   @EL00019
@RC00935 EQU   @EL00019
@PB00019 EQU   @PB00020
@RF00986 EQU   @EL00020
@RF01023 EQU   @EL00021
IRBCHKX  EQU   @EL00021
@RF01041 EQU   @EL00022
@RF01113 EQU   @EL00024
@RF01123 EQU   @EL00025
@RF01136 EQU   @EL00025
@RC01125 EQU   @EL00025
@RF01139 EQU   @EL00025
@RC01184 EQU   @EL00027
@RC01190 EQU   @EL00028
@RC01204 EQU   @EL00029
@RC01286 EQU   @EL00030
@RC01376 EQU   @EL00031
@RC01382 EQU   @EL00032
@RF01396 EQU   @EL00033
@RC01399 EQU   @EL00033
@RF01409 EQU   @EL00034
@RF01437 EQU   @EL00035
@RF01442 EQU   @EL00035
@RF01441 EQU   @EL00035
@RC01449 EQU   @EL00036
@RF01448 EQU   @EL00036
WRDSCB10 EQU   @EL00036
@RF01475 EQU   @EL00036
@RF01492 EQU   @EL00036
@PB00036 EQU   @PB00037
@RF01513 EQU   @EL00037
@RF01522 EQU   @EL00038
@RF01521 EQU   @EL00038
SMFRET   EQU   @EL00038
@RC00442 EQU   @RC00441
@RC00493 EQU   @RC00489
@RF01133 EQU   @RC01125
@RC01127 EQU   @RC01125
@RC01193 EQU   @RC01190
@RF01279 EQU   @RC01204
@RF01278 EQU   @RC01204
@RF01359 EQU   @RC01286
@RF01358 EQU   @RC01286
@RC01385 EQU   @RC01382
@RF01401 EQU   @RC01399
@RF01458 EQU   @RC01449
@RF00496 EQU   @RC00493
@RF01130 EQU   @RC01127
@RF01195 EQU   @RC01193
@RF01387 EQU   @RC01385
@ENDDATA EQU   *
         END   IFG0RR0B,(C'PLS2058',0701,78146)

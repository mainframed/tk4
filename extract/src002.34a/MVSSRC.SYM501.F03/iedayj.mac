         TITLE 'IEDAYJ, TSO SCHEDULER                                  *
                        '
IEDAYJ   CSECT ,                                                01S0001
@PROLOG  DS    0H                                               01S0002
*                                   /*
         USING IEDAYJ,RBASE1,RBASE2    SET UP ADDRESSABILITY
         STM   RZERO,RLINK,AVTSAVE4+12(RAVT) SAVE ALL REGISTER @YM07674
         LR    RBASE1,RLINK            SET UP BASE REG1 (R12)
         LA    RBASE2,X'FFF'(RBASE1)   SET UP
         LA    RBASE2,1(RBASE2)               BASE REG2 (R9)
IEDAYJ   IEDHJN AFTERHJN,HJN           MODULE IDENTIFICATION MACRO
*                                                               02S0498
*   /*****************************************************************/
*   /*                                                               */
*   /* PROCESS: THIS SEGMENT DOES THE PROCESSING THAT IS NECESSARY TO*/
*   /* PERFORM THE FUNCTION OF THE MODULE. THIS IS THE MAINLINE FLOW */
*   /* OF IEDAYJ, THERE ARE THREE DISTINCT PATHS OF LOGIC AS SHOWN   */
*   /* HERE BY IEDA01,02, AND 03.                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0498
*                                                               03S0498
*   /*****************************************************************/
*   /*                                                               */
*   /* PROCESS.INITIAL: THIS SEGMENT DOES THE INITIAL PROCESSING.    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               03S0498
*   IF RCASE=1 THEN                 /* QCB ENTRY TO THIS SCHEDULER   */
         CH    RCASE,@CH00060                                   03S0498
         BNE   @RF00498                                         03S0498
*     IF QCBPLCBN=ON THEN           /* A PLCB IS ASSIGNED            */
         LR    @10,RQCB                                         03S0499
         SH    @10,@CH00044                                     03S0499
         TM    QCBPLCBN(@10),B'10000000'                        03S0499
         BNO   @RF00499                                         03S0499
*       DO;                                                     03S0500
*         RLCB=QCBPLCBA;            /* SET UP PLCB ADDRESSABILITY    */
         SLR   RLCB,RLCB                                        03S0501
         ICM   RLCB,7,QCBPLCBA(@10)                             03S0501
*         RPARM=LCBTTCIN;           /* SET UP RPARM FOR IEDQTNT      */
         SLR   RPARM,RPARM                                      03S0502
         ICM   RPARM,3,LCBTTCIN(RLCB)                           03S0502
*       END;                                                    03S0503
*     ELSE                                                      03S0504
*       IF QCBWAITC=ON THEN         /* IF THIS IS A CHAIN OF PIU'S
*                                                            @XM05703*/
         B     @RC00499                                         03S0504
@RF00499 LR    @10,RQCB                                         03S0504
         SH    @10,@CH00044                                     03S0504
         TM    QCBWAITC(@10),B'01000000'                        03S0504
         BNO   @RF00504                                         03S0504
*         DO;                       /*                       @XM05703*/
*           RPARM=QCBPLCBA;         /* POINT TO FIRST PIU    @XM05703*/
         SLR   RPARM,RPARM                                      03S0506
         ICM   RPARM,7,QCBPLCBA(@10)                            03S0506
*           RFY                                                 03S0507
*             IEDQPRF BASED(RPARM); /*                       @XM05703*/
*           RPARM=ADDR(PRFPIUO)+PRFPIUO;/* POINT TO TH       @XM05703*/
         LA    @10,PRFPIUO(,RPARM)                              03S0508
         SLR   @05,@05                                          03S0508
         IC    @05,PRFPIUO(,RPARM)                              03S0508
         ALR   @10,@05                                          03S0508
         LR    RPARM,@10                                        03S0508
*           RFY                                                 03S0509
*             IEDQPRF BASED(RPRF);  /*                       @XM05703*/
*           RPARM=RPARM->TTHOAF;    /* GET TNT INDEX FROM OAF   03S0510
*                                                            @XM05703*/
         SLR   @10,@10                                          03S0510
         ICM   @10,3,TTHOAF(RPARM)                              03S0510
         LR    RPARM,@10                                        03S0510
*         END;                      /*                       @XM05703*/
*       ELSE                        /*                       @XM05703*/
*         RPARM=QCBTTCIN;           /* PLCB NOT ASSIGNED-GET TTCIN
*                                      FROM QCB                      */
         B     @RC00504                                         03S0512
@RF00504 LR    @10,RQCB                                         03S0512
         BCTR  @10,0                                            03S0512
         BCTR  @10,0                                            03S0512
         LH    RPARM,QCBTTCIN-6(,@10)                           03S0512
*   ELSE                                                        03S0513
*     RPARM=LCBTTCIN;               /* CASES 2 & 3 ARE PLCB ENTRIES
*                                      TO SCHEDULER                  */
         B     @RC00498                                         03S0513
@RF00498 SLR   RPARM,RPARM                                      03S0513
         ICM   RPARM,3,LCBTTCIN(RLCB)                           03S0513
*   CASENUM=RCASE;                  /* SAVE CASE INDICATOR AROUND
*                                      CALL TO IEDQTNT               */
@RC00498 ST    RCASE,CASENUM                                    03S0514
*   CALL IEDQTNT;                   /* CONVERT TTCIN INTO TTE ADDRESS*/
         L     @15,AVTRNMPT(,RAVT)                              03S0515
         BALR  @14,@15                                          03S0515
*   RTRM=RPARM-LENGTH(IEDNTRM);     /* SET UP ADDRESSABILITY TO THE
*                                      TTE & PREFIX                  */
         LR    RTRM,RPARM                                       03S0516
         SH    RTRM,@CH02008                                    03S0516
*   RQCB=TRMDESTQ;                  /* SET UP ADDRESSABILITY TO THE
*                                      QCB                           */
         SLR   RQCB,RQCB                                        03S0517
         ICM   RQCB,7,TRMDESTQ(RTRM)                            03S0517
*   RETCODE=INITVAL;                /* SET THE INTERNAL RETURN CODE
*                                      TO X'FF'                      */
         MVI   RETCODE,X'FF'                                    03S0518
*   INSTATES=CLEARED;               /* TURN OFF ALL INTERNAL STATE
*                                      INDICATORS                    */
         MVI   INSTATES,X'00'                                   03S0519
*   THOAF=SAVTTCPU;                 /* INIT THE TH OAF FIELD WITH THE
*                                      TCAM PU TTCIN                 */
*                                                               03S0520
         L     @10,AVTSAVTP(,RAVT)                              03S0520
         MVC   THOAF(2),SAVTTCPU(@10)                           03S0520
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP THE DCT ENTRY IN THE TSO WORKAREA              @Y17XAYO*/
*   /*                                                               */
*   /*****************************************************************/
*                                                               03S0521
*/* ? IEDDCT REG(DCTPTR)FLD(TSWDCT)LEN(6);                           */
*                                                               03S0521
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP ADDRESSABILITY TO THE DCT ENTRY                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                               03S0521
*   DCTPTR=AVTCSTCS+(TRMCHCIN-1)*AVTDCTLN;                      03S0521
*                                                               03S0521
         SLR   @03,@03                                          03S0521
         IC    @03,TRMCHCIN(,RTRM)                              03S0521
         BCTR  @03,0                                            03S0521
         MH    @03,AVTDCTLN(,RAVT)                              03S0521
         AL    @03,AVTCSTCS(,RAVT)                              03S0521
         ST    @03,DCTPTR                                       03S0521
*   /*****************************************************************/
*   /*                                                               */
*   /* MOVE THE DCT ENTRY TO THE SPECIFIED WORKAREA                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                               03S0522
*   TSWDCT(1:6)=DCTPTR->IEDDCT(1:6);                            03S0522
*                                                               03S0522
         LA    @10,124                                          03S0522
         AL    @10,AVTTSOPT(,RAVT)                              03S0522
         MVC   TSWDCT(6,@10),IEDDCT(@03)                        03S0522
*   /*****************************************************************/
*   /*                                                               */
*   /* SET POINTER TO THE TARGET ADDRESS                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                               03S0523
*   DCTPTR=ADDR(TSWDCT);            /* SET UP PTR                    */
*                                                               03S0523
         LA    @10,TSWDCT(,@10)                                 03S0523
         ST    @10,DCTPTR                                       03S0523
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THE DCT FOR AN LU WITH 3270 DATA STREAM                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               03S0524
*   IF(TRMPREF='1'B&TRMTYPE=TRMLUNT&(TRMSIBPT->SIBLUTYP='0000000'B×
*       TRMSIBPT->SIBLUTYP='0000010'B×TRMSIBPT->SIBLUTYP='0000011'B))
*     THEN                                                      03S0524
*                                                               03S0524
         TM    TRMPREF(RTRM),B'00010000'                        03S0524
         BNO   @RF00524                                         03S0524
         CLI   TRMTYPE(RTRM),X'30'                              03S0524
         BNE   @RF00524                                         03S0524
         SLR   @10,@10                                          03S0524
         ICM   @10,7,TRMSIBPT(RTRM)                             03S0524
         TM    SIBLUTYP(@10),B'01111111'                        03S0524
         BZ    @RT00524                                         03S0524
         TM    SIBLUTYP(@10),B'00000010'                        03S0524
         BNO   @GL00003                                         03S0524
         TM    SIBLUTYP(@10),B'01111101'                        03S0524
         BZ    @RT00524                                         03S0524
@GL00003 ICM   @10,7,TRMSIBPT(RTRM)                             03S0524
         TM    SIBLUTYP(@10),B'00000011'                        03S0524
         BNO   @RF00524                                         03S0524
         TM    SIBLUTYP(@10),B'01111100'                        03S0524
         BNZ   @RF00524                                         03S0524
@RT00524 DS    0H                                               03S0525
*     /***************************************************************/
*     /*                                                             */
*     /* YES - THEN SET THE DCT3270 BIT IN THE COPY MADE             */
*     /*                                                             */
*     /***************************************************************/
*                                                               03S0525
*     DCTPTR->DCT3270='1'B;         /* SET 3270 BIT          @Y17XAYO*/
         L     @10,DCTPTR                                       03S0525
         OI    DCT3270(@10),B'00000100'                         03S0525
*MAINLINE:                                                      02S0526
*   DO;                             /* MAINLINE:CASE(CASENUM)NAMES(IE
*                                      DA01,IEDA02,IEDA03)           */
@RF00524 DS    0H                                               02S0526
MAINLINE DS    0H                                               02S0527
*     DCL                                                       02S0527
*       CL0001@ LABEL BASED(CP0001@(CASENUM)) VALUERANGE(IEDA01,IEDA02,
*           IEDA03);                /* BRANCH TARGET                 */
*     DCL                                                       02S0528
*       CP0001@(3) PTR(31) INIT(ADDR(IEDA01),ADDR(IEDA02),ADDR(IEDA03))
*         ;                                                     02S0528
*     GOTO CL0001@;                 /* BRANCH TO SELECTED CASE       */
         L     @10,CASENUM                                      02S0529
         SLA   @10,2                                            02S0529
         L     @10,CP0001@-4(@10)                               02S0529
         BR    @10                                              02S0529
*                                                               03S0530
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS.IEDA01: THIS SEGMENT IS THE QCB ENTRY TO THE TSO    */
*     /* SCHEDULER                                                   */
*     /*                                                             */
*     /***************************************************************/
*                                                               03S0530
*IEDA01:                                                        03S0530
*     DO;                           /* SUBCASE                       */
IEDA01   DS    0H                                               03S0531
*       IF TRMTSATN=ON×TRMLYNCH=ON  /* UNSOLICITED ATTENTION OR 03S0531
*                                      HANGUP                        */
*         THEN                                                  03S0531
         TM    TRMTSATN(RTRM),B'00000100'                       03S0531
         BO    @RT00531                                         03S0531
         TM    TRMLYNCH(RTRM),B'00000001'                       03S0531
         BNO   @RF00531                                         03S0531
@RT00531 DS    0H                                               03S0532
*         DO;                                                   03S0532
*           IF QCBTPUT=ON×QCBDISC=ON THEN/* NEXT OPERATION AN OUTPUT
*                                                            @YM05978*/
         TM    QCBTPUT(RQCB),B'00100001'                        03S0533
         BZ    @RF00533                                         03S0533
*             DO;                                               03S0534
*               IF QCBPLCBN=ON&     /* IS PLCB ASSIGNED      @YM05978*/
*                   LCBSTCBA->STCBVTO^=DSPSEND THEN/* SEND SCHEDULER
*                                      NOT IN THE PLCB       @YM05978*/
         LR    @10,RQCB                                         03S0535
         AL    @10,@CF03555                                     03S0535
         TM    QCBPLCBN-4(@10),B'10000000'                      03S0535
         BNO   @RF00535                                         03S0535
         ICM   @10,7,LCBSTCBA(RLCB)                             03S0535
         CLI   STCBVTO(@10),X'22'                               03S0535
         BE    @RF00535                                         03S0535
*                 DO;                                           03S0536
*                   RFY                                         03S0537
*                     REG03 RSTD;   /* RESTRICT REG 03 ACROSS   03S0537
*                                      DISPATCHER CALL       @YM05978*/
*                   REG03=RLCB;     /* LCB IN REG03 TO RECEIVE SEND
*                                      SCHEDULER STCB        @YM05978*/
         LR    REG03,RLCB                                       03S0538
*                   CALL DSPUNAVR;  /* MOVE SEND SCHED TO LCB   03S0539
*                                                            @YM05978*/
         LA    @15,DSPUNAVR(,RDISP)                             03S0539
         BALR  @14,@15                                          03S0539
*                   RFY                                         03S0540
*                     REG03 UNRSTD; /*                       @YM05978*/
*                   RQCB=TRMDESTQ;  /* RESTORE QCB ADDRESS   @YM05978*/
         SLR   RQCB,RQCB                                        03S0541
         ICM   RQCB,7,TRMDESTQ(RTRM)                            03S0541
*                 END;              /*                       @YM05978*/
*               ELSE                                            03S0543
*                 IF QCBPLCBN=OFF THEN/* IS THEREA PLCB ASSIGNED
*                                                            @YM05978*/
         B     @RC00535                                         03S0543
@RF00535 LR    @10,RQCB                                         03S0543
         SH    @10,@CH00044                                     03S0543
         TM    QCBPLCBN(@10),B'10000000'                        03S0543
         BNZ   @RF00543                                         03S0543
*                   QCBSNDRQ=ON;    /* INDICATE SEND SCHEDULER  03S0544
*                                      REQUIRED              @YM05978*/
         OI    QCBSNDRQ(@10),B'00100000'                        03S0544
*               RETCODE=RCDSPDSP;   /* INDICATE DSPDISP AND EXIT
*                                                            @Y17XAYP*/
@RF00543 DS    0H                                               03S0545
@RC00535 MVI   RETCODE,X'04'                                    03S0545
*             END;                  /*                       @YM05978*/
*           ELSE                                                03S0547
*             RETCODE=RCDSPDSP;     /* INDICATE DSPDISP AND EXIT
*                                                            @YM05978*/
         B     @RC00533                                         03S0547
@RF00533 MVI   RETCODE,X'04'                                    03S0547
*         END;                                                  03S0548
*       ELSE                                                    03S0549
*         DO;                                                   03S0549
         B     @RC00531                                         03S0549
@RF00531 DS    0H                                               03S0550
*           CALL IPPROC;            /* PROCESS THE TSO REQUEST       */
         BAL   @14,IPPROC                                       03S0550
*           IF RETCODE^=RCDSPDSP THEN/* IF RETCODE IS           03S0551
*                                      RCDSPDSP@OZ32704              */
         CLI   RETCODE,X'04'                                    03S0551
         BE    @RF00551                                         03S0551
*             DO;                   /* THEN EXIT             @OZ32704*/
*               CALL REQPLCB;       /* ASSURE THAT A PLCB IS OBTAINED
*                                      BEFORE GOING TO TCAM     03S0553
*                                      DISPATCHER            @OZ32704*/
         BAL   @14,REQPLCB                                      03S0553
*             END;                  /*                       @OZ32704*/
*         END;                                                  03S0555
*       GOTO CE0001@;               /* BRANCH TO END OF CASE         */
         B     CE0001@                                          03S0556
*     END IEDA01;                   /* END OF SUBCASE END THIS  03S0557
*                                      SUBCASE                       */
*                                                               03S0558
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS.IEDA02: THIS SEGMENT IS THE SEND SCHEDULER ENTRY TO */
*     /* THE TSO SCHEDULER                                           */
*     /*                                                             */
*     /***************************************************************/
*                                                               03S0558
*IEDA02:                                                        03S0558
*     DO;                           /* SUBCASE SEND SCHEDULER - PLCB
*                                      ENTRY                         */
IEDA02   DS    0H                                               03S0559
*       IF TRMTSATN=ON×TRMLYNCH=ON  /* UNSOLICITED INPUT RECEIVED    */
*         THEN                                                  03S0559
         TM    TRMTSATN(RTRM),B'00000100'                       03S0559
         BO    @RT00559                                         03S0559
         TM    TRMLYNCH(RTRM),B'00000001'                       03S0559
         BNO   @RF00559                                         03S0559
@RT00559 DS    0H                                               03S0560
*         CALL ATTNPROC;            /* FREE THE PLCB AND EXIT        */
         BAL   @14,ATTNPROC                                     03S0560
*       ELSE                                                    03S0561
*         DO;                       /*                       @YM08526*/
         B     @RC00559                                         03S0561
@RF00559 DS    0H                                               03S0562
*           CALL CKENDSES;          /* CHECK TO SEE IF TSO SESSION
*                                      MUST BE TERMINATED BECAUSE OF
*                                      A STOPLINE,INOP,MCPCLOSE OR
*                                      HALT                  @YM08526*/
         BAL   @14,CKENDSES                                     03S0562
*           IF ENDSESSN=ON THEN     /*                       @YM08526*/
         TM    ENDSESSN,B'00000001'                             03S0563
         BNO   @RF00563                                         03S0563
*             RETCODE=BYPAS2RS;     /* SET RET CODE TO BYPASS TO REC
*                                      SCHED                 @Y17XAYP*/
         MVI   RETCODE,X'10'                                    03S0564
*           ELSE                                                03S0565
*             DO;                   /*                       @Y17XAYP*/
         B     @RC00563                                         03S0565
@RF00563 DS    0H                                               03S0566
*               IF QCBTSSES=ON&     /* TSO IN SESSION                */
*                   LCBTSBUF=OFF THEN/* PLCB REQUEST BY TSO SCHEDULER*/
         TM    QCBTSSES(RQCB),B'10000000'                       03S0566
         BNO   @RF00566                                         03S0566
         TM    LCBTSBUF(RLCB),B'01000000'                       03S0566
         BNZ   @RF00566                                         03S0566
*                 DO;                                           03S0567
*                   PLCBNTRY=ON;    /* SET PLCB ENTRY STATE          */
         OI    PLCBNTRY,B'10000000'                             03S0568
*                   LCBTSBUF=ON;    /* INDICATE A TSO PROCESS        */
         OI    LCBTSBUF(RLCB),B'01000000'                       03S0569
*                   CALL IPPROC;    /* PROCESS THE TSO REQUEST       */
         BAL   @14,IPPROC                                       03S0570
*                   IF RETCODE^=ERBPOST THEN/* ERB ALREADY POSTED ?
*                                                            @OZ32265*/
         CLI   RETCODE,X'18'                                    03S0571
         BE    @RF00571                                         03S0571
*                     CALL REQPLCB; /* NO, THEN REQUEST A PLCB  03S0572
*                                                            @OZ32265*/
         BAL   @14,REQPLCB                                      03S0572
*                   IF BREAKPST=ON THEN/* BREAK-IN HAS BEEN POSTED   */
@RF00571 TM    BREAKPST,B'00001000'                             03S0573
         BNO   @RF00573                                         03S0573
*                     RETCODE=FREEPLCB;/* INDICATE THAT PLCB MUST BE
*                                      FREED                         */
         MVI   RETCODE,X'14'                                    03S0574
*                   ELSE                                        03S0575
*                     IF RETCODE=INITVAL×/* IF RETCODE NOT ALREADY
*                                      SET                   @YM04669*/
*                         RETCODE=ERBPOST×/* OR ERB ALREADY POSTED
*                                                            @OZ32265*/
*                         RETCODE=RCDSPDSP THEN/*            @YM09097*/
         B     @RC00573                                         03S0575
@RF00573 CLI   RETCODE,X'FF'                                    03S0575
         BE    @RT00575                                         03S0575
         CLI   RETCODE,X'18'                                    03S0575
         BE    @RT00575                                         03S0575
         CLI   RETCODE,X'04'                                    03S0575
         BNE   @RF00575                                         03S0575
@RT00575 DS    0H                                               03S0576
*                       RETCODE=RCDSPDSP;/* SET RETURN CODE FOR 03S0576
*                                      DSPDISP               @YM04669*/
         MVI   RETCODE,X'04'                                    03S0576
*                     ELSE                                      03S0577
*                       CALL LCBPROC;/* PROCESS THE LCB      @YM05631*/
         B     @RC00575                                         03S0577
@RF00575 BAL   @14,LCBPROC                                      03S0577
*                 END;                                          03S0578
*               ELSE                                            03S0579
*                 CALL LCBPROC;     /* PROCESS LCB POST TO SEND 03S0579
*                                      SCHEDULER                     */
         B     @RC00566                                         03S0579
@RF00566 BAL   @14,LCBPROC                                      03S0579
*             END;                  /*                       @Y17XAYP*/
*         END;                      /*                       @YM08526*/
*       GOTO CE0001@;               /* BRANCH TO END OF CASE         */
         B     CE0001@                                          03S0582
*     END IEDA02;                   /* END OF SUBCASE END OF SUBCASE */
*                                                               03S0584
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS.IEDA03: THIS SEGMENT IS THE TSO RECEIVE SCHEDULER   */
*     /* ENTRY                                                       */
*     /*                                                             */
*     /***************************************************************/
*                                                               03S0584
*IEDA03:                                                        03S0584
*     DO;                           /* SUBCASE                       */
IEDA03   DS    0H                                               03S0585
*       LCBNEGRP=OFF;               /* RESET NEGRP TO PREVENT HANGUP
*                                                            @YM08125*/
         NI    LCBNEGRP(RLCB),B'11110111'                       03S0585
*       IF TRMTSATN=ON×TRMLYNCH=ON THEN/* UNSOLICITED INPUT          */
         TM    TRMTSATN(RTRM),B'00000100'                       03S0586
         BO    @RT00586                                         03S0586
         TM    TRMLYNCH(RTRM),B'00000001'                       03S0586
         BNO   @RF00586                                         03S0586
@RT00586 DS    0H                                               03S0587
*         CALL ATTNPROC;            /* FREE THE PLCB AND EXIT        */
         BAL   @14,ATTNPROC                                     03S0587
*       ELSE                                                    03S0588
*                                                               03S0588
*         /***********************************************************/
*         /*                                                         */
*         /* DETERMINE IF A FORCE LOGOFF IS REQUIRED         @Y17XAYP*/
*         /*                                                         */
*         /***********************************************************/
*                                                               03S0588
*         DO;                       /*                       @Y17XAYP*/
         B     @RC00586                                         03S0588
@RF00586 DS    0H                                               03S0589
*           CALL CKENDSES;          /* CHECK TO SEE IF TSO SESSION
*                                      MUST BE TERMINATED BECAUSE OF
*                                      A STOPLINE,INOP,MCPCLOSE OR
*                                      HALT                  @YM08526*/
         BAL   @14,CKENDSES                                     03S0589
*           IF ENDSESSN=ON THEN     /*                       @YM08526*/
         TM    ENDSESSN,B'00000001'                             03S0590
         BNO   @RF00590                                         03S0590
*             CALL ENDTSSES;        /*                       @Y17XAYP*/
         BAL   @14,ENDTSSES                                     03S0591
*           ELSE                                                03S0592
*                                                               03S0592
*             /*******************************************************/
*             /*                                                     */
*             /* NOT A FORCE LOGOFF ENTRY                    @Y17XAYP*/
*             /*                                                     */
*             /*******************************************************/
*                                                               03S0592
*             DO;                                               03S0592
         B     @RC00590                                         03S0592
@RF00590 DS    0H                                               03S0593
*               LCBTSBUF=ON;        /* TSO OPERATION                 */
         OI    LCBTSBUF(RLCB),B'01000000'                       03S0593
*               IF QCBDSSMI=ON×QCBESIG=ON THEN/* SMI SENT OR RCVR IN
*                                      XMIT MODE             @YM06864*/
         TM    QCBDSSMI(RQCB),B'00010000'                       03S0594
         BO    @RT00594                                         03S0594
         LR    @10,RQCB                                         03S0594
         AL    @10,@CF03555                                     03S0594
         TM    QCBESIG-4(@10),B'00001000'                       03S0594
         BNO   @RF00594                                         03S0594
@RT00594 DS    0H                                               03S0595
*                 CALL READRTN;                                 03S0595
         BAL   @14,READRTN                                      03S0595
*               ELSE                                            03S0596
*                 IF(QCBNOBUF=ON×   /* IS A                          */
*                     QCBPARTO=ON×  /* READ NOT                      */
*                     QCBWRBRK=ON) THEN/* POSSIBLE                   */
         B     @RC00594                                         03S0596
@RF00594 TM    QCBNOBUF(RQCB),B'10010100'                       03S0596
         BZ    @RF00596                                         03S0596
*                   CALL SIMATTN;                               03S0597
         BAL   @14,SIMATTN                                      03S0597
*                 ELSE                                          03S0598
*                   IF QCBREAD=ON THEN/* DOES READ HAVE PRIORITY     */
         B     @RC00596                                         03S0598
@RF00596 TM    QCBREAD(RQCB),B'00100000'                        03S0598
         BNO   @RF00598                                         03S0598
*                     CALL READRTN;                             03S0599
         BAL   @14,READRTN                                      03S0599
*                   ELSE                                        03S0600
*                     IF QCBTPUT=ON&QCBTGET=OFF THEN/* A TPUT AND NOT
*                                      A TGET                        */
         B     @RC00598                                         03S0600
@RF00598 TM    QCBTPUT(RQCB),B'00100000'                        03S0600
         BNO   @RF00600                                         03S0600
         TM    QCBTGET(RQCB),B'01000000'                        03S0600
         BNZ   @RF00600                                         03S0600
*                       CALL SIMATTN;                           03S0601
         BAL   @14,SIMATTN                                      03S0601
*                     ELSE                                      03S0602
*                       IF QCBNOBRK=ON&/* TERMINAL IS NOT A BREAK
*                                      TERM                          */
*                           QCBTGET=OFF THEN/* THIS IS NOT A TGET
*                                      REQUEST                       */
         B     @RC00600                                         03S0602
@RF00600 TM    QCBNOBRK(RQCB),B'01000000'                       03S0602
         BNO   @RF00602                                         03S0602
         TM    QCBTGET(RQCB),B'01000000'                        03S0602
         BNZ   @RF00602                                         03S0602
*                         CALL SIMATTN;                         03S0603
         BAL   @14,SIMATTN                                      03S0603
*                       ELSE                                    03S0604
*                         CALL READRTN;                         03S0604
         B     @RC00602                                         03S0604
@RF00602 BAL   @14,READRTN                                      03S0604
*             END;                                              03S0605
*         END;                                                  03S0606
*       GOTO CE0001@;               /* BRANCH TO END OF CASE         */
         B     CE0001@                                          03S0607
*     END IEDA03;                   /* END OF SUBCASE END OF SUBCASE */
*CE0001@:                                                       02S0609
*   END MAINLINE;                   /* END OF CASE END OF THE   02S0609
*                                      MAINLINE CASES                */
CE0001@  DS    0H                                               02S0610
*                                                               02S0610
*   /*****************************************************************/
*   /*                                                               */
*   /* EPILOGUE: THIS SEGMENT COMPLETES THE EPILOGUE CODE THAT WAS   */
*   /* ALTERED BY THE MODULE PROCEDURE STATEMENT.                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0610
*   GEN REFS(AVTSAVE4,RETCODE) SETS(RZERO,RRET,RLINK);          02S0610
*                       /*
       SR    RLINK,RLINK            CLEAR R15 FOR RETURN CODE IC
       IC    RLINK,RETCODE          SET THE RETURN CODE IN R15
       LM    RZERO,RRET,AVTSAVE4+12(RAVT) RELOAD ALL BUT RETCD @YM07674
       BR    RRET                   RETURN TO CALLER
*                                                               02S0611
*   /*****************************************************************/
*   /*                                                               */
*   /* ATTNPROC: THIS SEGMENT CONTAINS THE ATTNPROC INTERNAL         */
*   /* PROCEDURE WHICH PERFORMS TWO FUNCTIONS: (1) FREE THE PLCB, AND*/
*   /* (2) SET THE RETURN CODE TO INDICATE THAT THE DISPATCHER SHOULD*/
*   /* BE GIVEN CONTROL AT DSPDISP.                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0611
*   RFY                                                         02S0611
*     RRET RSTD;                                                02S0611
*ATTNPROC:                                                      02S0612
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0612
@EL00001 DS    0H                                               02S0612
@EF00001 DS    0H                                               02S0612
@ER00001 BR    @14                                              02S0612
ATTNPROC DS    0H                                               02S0613
*   SAVEWD04=RRET;                                              02S0613
         ST    RRET,SAVEWD04                                    02S0613
*   RFY                                                         02S0614
*     RRET UNRSTD;                                              02S0614
*   RPARM=RLCB;                     /* SET R1 TO ADDR OF LCB         */
         LR    RPARM,RLCB                                       02S0615
*   CALL IEDIAP07;                  /* FREE THE PLCB                 */
         L     @10,AVTSAVTP(,RAVT)                              02S0616
         L     @15,SAVTPRTN(,@10)                               02S0616
         BALR  @14,@15                                          02S0616
*   RETCODE=RCDSPDSP;               /* SET UP RETURN TO DSPDISP      */
         MVI   RETCODE,X'04'                                    02S0617
*   RFY                                                         02S0618
*     RRET RSTD;                                                02S0618
*   RRET=SAVEWD04;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD04                                    02S0619
*   END ATTNPROC;                                               02S0620
@EL00002 DS    0H                                               02S0620
@EF00002 DS    0H                                               02S0620
@ER00002 BR    @14                                              02S0620
*   RFY                                                         02S0621
*     RRET UNRSTD;                                              02S0621
*                                                               02S0622
*   /*****************************************************************/
*   /*                                                               */
*   /* BLDRESET: THIS SEGMENT CONTAINS THE BLDRESET INTERNAL         */
*   /* PROCEDURE WHICH BUILDS THE RESET PIU IN A BUFFER AND POSTS THE*/
*   /* PIU TO IEDSAO (FID0). IF A BFR IS OBTAINED THE RESET PIU IS   */
*   /* BUILT AND POSTED TO IEDSAO AT POSTED TO IEDSAO AT PRIOUTBD    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0622
*   RFY                                                         02S0622
*     RRET RSTD;                                                02S0622
*BLDRESET:                                                      02S0623
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0623
BLDRESET DS    0H                                               02S0624
*   SAVEWD06=RRET;                                              02S0624
         ST    RRET,SAVEWD06                                    02S0624
*   RFY                                                         02S0625
*     RRET UNRSTD;                                              02S0625
*   RFY                                                         02S0626
*     IEDTH BASED(ADDR(PIU0TH));    /*                       @Y17XAYP*/
*   RFY                                                         02S0627
*     IEDRH BASED(ADDR(PIU0RH));    /*                       @Y17XAYP*/
*   BREAKPST=ON;                    /* INDICATE RESET SENT   @YM05986*/
         OI    BREAKPST,B'00001000'                             02S0628
*   CALL PIUCOND;                   /* CONDITION THE PIU             */
         BAL   @14,PIUCOND                                      02S0629
*   IF QCBPLCBN=ON THEN             /* IS A PLCB ASSIGNED            */
         LR    @10,RQCB                                         02S0630
         AL    @10,@CF03555                                     02S0630
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0630
         BNO   @RF00630                                         02S0630
*     TTHDAF=LCBTTCIN;              /* USE DAF FROM PLCB             */
         LA    @10,PRFPIUO(,RPRF)                               02S0631
         SLR   @05,@05                                          02S0631
         IC    @05,PRFPIUO(,RPRF)                               02S0631
         ALR   @10,@05                                          02S0631
         MVC   TTHDAF(2,@10),LCBTTCIN(RLCB)                     02S0631
*   ELSE                                                        02S0632
*     IF QCBWAITC=ON THEN           /* IF THIS IS A CHAIN OF PIU'S
*                                      THEN                  @XM05703*/
         B     @RC00630                                         02S0632
@RF00630 LR    @10,RQCB                                         02S0632
         SH    @10,@CH00044                                     02S0632
         TM    QCBWAITC(@10),B'01000000'                        02S0632
         BNO   @RF00632                                         02S0632
*       DO;                         /*                       @XM05703*/
*         RPARM=QCBPLCBA;           /* POINT TO FIRST PIU    @XM05703*/
         SLR   RPARM,RPARM                                      02S0634
         ICM   RPARM,7,QCBPLCBA(@10)                            02S0634
*         RFY                                                   02S0635
*           IEDQPRF BASED(RPARM);   /*                       @XM05703*/
*         RPARM=ADDR(PRFPIUO)+PRFPIUO;/* POINT TO TH         @XM05703*/
         LA    @10,PRFPIUO(,RPARM)                              02S0636
         SLR   @05,@05                                          02S0636
         IC    @05,PRFPIUO(,RPARM)                              02S0636
         ALR   @10,@05                                          02S0636
         LR    RPARM,@10                                        02S0636
*         RFY                                                   02S0637
*           IEDQPRF BASED(RPRF);    /*                       @XM05703*/
*         TTHDAF=RPARM->TTHOAF;     /* GET TNT INDEX FROM THE OAF
*                                                            @XM05703*/
         LA    @10,PRFPIUO(,RPRF)                               02S0638
         SLR   @05,@05                                          02S0638
         IC    @05,PRFPIUO(,RPRF)                               02S0638
         ALR   @10,@05                                          02S0638
         MVC   TTHDAF(2,@10),TTHOAF(RPARM)                      02S0638
*       END;                        /*                       @XM05703*/
*     ELSE                          /*                       @XM05703*/
*       TTHDAF=QCBTTCIN;            /* SET UP DAF IN TH              */
         B     @RC00632                                         02S0640
@RF00632 LA    @10,PRFPIUO(,RPRF)                               02S0640
         SLR   @05,@05                                          02S0640
         IC    @05,PRFPIUO(,RPRF)                               02S0640
         ALR   @10,@05                                          02S0640
         LR    @05,RQCB                                         02S0640
         BCTR  @05,0                                            02S0640
         BCTR  @05,0                                            02S0640
         MVC   TTHDAF(2,@10),QCBTTCIN-6(@05)                    02S0640
*   TTHDCF=LENGTH(IEDRH)+1+LENGTH(IEDBDU);/* SET UP DATA COUNT FIELD */
@RC00632 DS    0H                                               02S0641
@RC00630 LA    @10,PRFPIUO(,RPRF)                               02S0641
         SLR   @05,@05                                          02S0641
         IC    @05,PRFPIUO(,RPRF)                               02S0641
         ALR   @10,@05                                          02S0641
         MVC   TTHDCF(2,@10),@CH01239                           02S0641
*   BDUCMND=CD0CTRL;                /* CONTROL COMMAND TYPE FOR RESET*/
         AH    @10,@CH02008                                     02S0642
         MVI   BDUCMND(@10),X'08'                               02S0642
*   IF RESETYPE=COND THEN                                       02S0643
         TM    RESETYPE,B'00010000'                             02S0643
         BNZ   @RF00643                                         02S0643
*     BDUMODIF=CD0CRC;              /* RESET CONDITIONAL             */
         MVI   BDUMODIF(@10),X'50'                              02S0644
*   ELSE                                                        02S0645
*     BDUMODIF=CD0CRI;              /* RESET IMMEDIATE               */
         B     @RC00643                                         02S0645
@RF00643 LA    @10,PRFPIUO(,RPRF)                               02S0645
         SLR   @05,@05                                          02S0645
         IC    @05,PRFPIUO(,RPRF)                               02S0645
         ALR   @10,@05                                          02S0645
         MVI   BDUMODIF+14(@10),X'44'                           02S0645
*/*  RPARM AND RPRF ARE BOTH ALLOCATED TO R1 SO NO LOAD NEEDED       */
*                                                               02S0646
*   PRFPRI=PRIOUTBD;                /* SET PRTY FOR POST             */
@RC00643 MVI   PRFPRI(RPRF),X'E4'                               02S0646
*   PRFQCBA=SAVTSAO;                /* SET UP IEDSAO QCB ADDRESS     */
         L     @10,AVTSAVTP(,RAVT)                              02S0647
         MVC   PRFQCBA(3,RPRF),SAVTSAO+1(@10)                   02S0647
*   RPARM=RPRF;                     /* BUFFER FOR DISPATCHER @Y17XAYP*/
         LR    RPARM,RPRF                                       02S0648
*   CALL DSPPOSTR;                  /* CALL DISPATCHER FOR POST      */
         LA    @15,DSPPOSTR(,RDISP)                             02S0649
         BALR  @14,@15                                          02S0649
*   RQCB=TRMDESTQ;                  /* RESTORE QCB ADDR AFTER DISP
*                                      CALL                          */
         SLR   RQCB,RQCB                                        02S0650
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S0650
*   RFY                                                         02S0651
*     RRET RSTD;                                                02S0651
*   RRET=SAVEWD06;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD06                                    02S0652
*   END BLDRESET;                                               02S0653
@EL00003 DS    0H                                               02S0653
@EF00003 DS    0H                                               02S0653
@ER00003 BR    @14                                              02S0653
*   RFY                                                         02S0654
*     RRET UNRSTD;                                              02S0654
*                                                               02S0655
*   /*****************************************************************/
*   /*                                                               */
*   /* BLDSMI: THIS SEGMENT CONTAINS THE BLDSMI INTERNAL PROCEDURE   */
*   /* WHICH DETECTS WHETHER THE TERMINAL IS A 3270 OR IT IS A SNA   */
*   /* TERMINAL WITH THE KEYBOARD LOCKED. IF IT IS THE GETBFR        */
*   /* INTERNAL PROCEDURE IS CALLED TO REQUEST A BUFFER. IF A BUFFER */
*   /* IS OBTAINED THE INTERNAL PROCEDURE CKSNASMI IS CALLED FOR SNA */
*   /* TERMINALS TO DETERMINE IF A SMI OR NULL RU WITH CHANGE        */
*   /* DIRECTION SIS TO BE BUILT. IF IF A BSC 3270 TERMINAL THE      */
*   /* BLDWRBFR INTERNAL PROCEDURE IS CALLED TO BUILD A SMI PIU.     */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0655
*   RFY                                                         02S0655
*     RRET RSTD;                                                02S0655
*BLDSMI:                                                        02S0656
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0656
BLDSMI   DS    0H                                               02S0657
*   SAVEWD03=RRET;                                              02S0657
         ST    RRET,SAVEWD03                                    02S0657
*   RFY                                                         02S0658
*     RRET UNRSTD;                  /* Y17XAYO                       */
*   LCBRCLLN=OFF;                   /* RESET ALL             @YM06926*/
         NI    LCBRCLLN(RLCB),B'01111111'                       02S0659
*   LCBCTLMD=OFF;                   /* STATUS                @YM06926*/
         NI    LCBCTLMD(RLCB),B'11111101'                       02S0660
*   LCBINITN=OFF;                   /* BITS                  @YM06926*/
*   LCBCONT=OFF;                    /* EXCEPT                @YM06926*/
*   LCBFREEN=OFF;                   /* NON-IMMEDIATE         @YM06926*/
*   LCBSENDN=OFF;                   /* OPERATOR CONTROL IN PROGRESS
*                                                            @YM06926*/
*   LCBRECVN=ON;                    /* SET THE PLCB RECEIVING        */
         OI    LCBRECVN(RLCB),B'00000010'                       02S0665
         NI    LCBINITN(RLCB),B'11100010'                       02S0665
*   IF DCT3270=ON×(TRMSNA=ON&SIBCD=ON) THEN/* A 3270 TERMINAL OR SNA
*                                      TERMINAL WITH LOCKED KEYBOARD
*                                                            @Y17XAYP*/
         L     @10,DCTPTR                                       02S0666
         TM    DCT3270(@10),B'00000100'                         02S0666
         BO    @RT00666                                         02S0666
         TM    TRMSNA(RTRM),B'00000010'                         02S0666
         BNO   @RF00666                                         02S0666
         ICM   @10,7,TRMSIBPT(RTRM)                             02S0666
         TM    SIBCD(@10),B'10000000'                           02S0666
         BNO   @RF00666                                         02S0666
@RT00666 DS    0H                                               02S0667
*     CALL GETBFR;                  /* GET A BUFFER FOR THE SMI WRITE
*                                      OR NULL RU WITH CHANGE   02S0667
*                                      DIRECTION             @Y17XAYP*/
         BAL   @14,GETBFR                                       02S0667
*   IF BUFAV=ON THEN                /* WAS A BUFFER OBTAINED @YM06127*/
@RF00666 TM    BUFAV,B'00000010'                                02S0668
         BNO   @RF00668                                         02S0668
*     DO;                                                       02S0669
*       IF TRMSNA=ON THEN           /* IS THIS A SNA TERMINAL   02S0670
*                                                            @YM06127*/
         TM    TRMSNA(RTRM),B'00000010'                         02S0670
         BNO   @RF00670                                         02S0670
*         CALL CKSNASMI;            /* DETERMINE IF A SNA SMI OR NULL
*                                      RU WITH CD IS REQUIRED.  02S0671
*                                                            @YM06127*/
         BAL   @14,CKSNASMI                                     02S0671
*       ELSE                                                    02S0672
*         CALL BLDWRBFR;            /* SEND SMI              @YM06127*/
         B     @RC00670                                         02S0672
@RF00670 BAL   @14,BLDWRBFR                                     02S0672
*     END;                                                      02S0673
@RC00670 DS    0H                                               02S0674
*   RFY                                                         02S0674
*     RRET RSTD;                                                02S0674
@RF00668 DS    0H                                               02S0675
*   RRET=SAVEWD03;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD03                                    02S0675
*   END BLDSMI;                                                 02S0676
@EL00004 DS    0H                                               02S0676
@EF00004 DS    0H                                               02S0676
@ER00004 BR    @14                                              02S0676
*   RFY                                                         02S0677
*     RRET UNRSTD;                                              02S0677
*                                                               02S0678
*   /*****************************************************************/
*   /*                                                               */
*   /* BLDWRBFR: THIS SEGMENT CONTAINS THE BLDWRBFR INTERNAL         */
*   /* PROCEDURE WHICH BUILDS THE PIU TO CARRY THE WRITE SMI DATA AND*/
*   /* POSTS IT TO IEDSAO AT PRIOUTBD.                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0678
*   RFY                                                         02S0678
*     RRET RSTD;                                                02S0678
*BLDWRBFR:                                                      02S0679
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0679
BLDWRBFR DS    0H                                               02S0680
*   SAVEWD06=RRET;                                              02S0680
         ST    RRET,SAVEWD06                                    02S0680
*   RFY                                                         02S0681
*     RRET UNRSTD;                                              02S0681
*   RFY                                                         02S0682
*     IEDTH BASED(ADDR(PIU0TH));    /*                       @Y17XAYP*/
*   RFY                                                         02S0683
*     IEDRH BASED(ADDR(PIU0RH));    /*                       @Y17XAYP*/
*   CALL PIUCOND;                   /* CONDITION THE PIU             */
         BAL   @14,PIUCOND                                      02S0684
*   BDUTEXT(1:LENGTH(SMIDATA))=SMIDATA;                         02S0685
*                                                               02S0685
         LA    @10,PRFPIUO(,RPRF)                               02S0685
         SLR   @05,@05                                          02S0685
         IC    @05,PRFPIUO(,RPRF)                               02S0685
         ALR   @10,@05                                          02S0685
         LA    @05,14                                           02S0685
         ALR   @05,@10                                          02S0685
         MVC   BDUTEXT(3,@05),SMIDATA                           02S0685
*   /*****************************************************************/
*   /*                                                               */
*   /* MOVE THE SMI DATA INTO AREA IMM AFTER BDU                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0686
*   QCBDSSMI=ON;                    /* INDICATE SMI SENT             */
         OI    QCBDSSMI(RQCB),B'00010000'                       02S0686
*   TTHDAF=LCBTTCIN;                /* SET UP THE DAF IN THE TH      */
         MVC   TTHDAF(2,@10),LCBTTCIN(RLCB)                     02S0687
*   TTHTAG2=TTHWRSMI;               /* ID TAG TO INFORM DEBLK THIS IS
*                                      SMI WRITE                     */
         MVI   TTHTAG2(@10),X'05'                               02S0688
*   TTHDCF=LENGTH(IEDRH)+LENGTH(IEDBDU)+1+LENGTH(SMIDATA);/* SET DATA
*                                      COUNT FIELD                   */
         MVC   TTHDCF(2,@10),@CH00576                           02S0689
*   BDUCMND=CD0WRT;                 /* INDICATE A WRITE COMMAND      */
         MVI   BDUCMND(@05),X'02'                               02S0690
*   IF TRMSESSN=ON THEN             /*                       @YM06465*/
         TM    TRMSESSN(RTRM),B'01000000'                       02S0691
         BNO   @RF00691                                         02S0691
*     BDUMODIF=CD0WT;               /* SET WRITE WITH EOT MODIFIER
*                                                            @YM06465*/
         MVI   BDUMODIF(@05),X'02'                              02S0692
*   ELSE                                                        02S0693
*     BDUMODIF=CD0WCD;              /* SET WRITE WITH CONTACT & 02S0693
*                                      DISCONNECT            @YM06465*/
         B     @RC00691                                         02S0693
@RF00691 LA    @10,PRFPIUO(,RPRF)                               02S0693
         SLR   @05,@05                                          02S0693
         IC    @05,PRFPIUO(,RPRF)                               02S0693
         ALR   @10,@05                                          02S0693
         MVI   BDUMODIF+14(@10),X'0B'                           02S0693
*/* RPARM AND RPRF ARE BOTH DEFINED ON R1 SO NO LOAD REQ'D           */
*                                                               02S0694
*   PRFPRI=PRIOUTBD;                /* SET UP PRTY                   */
@RC00691 MVI   PRFPRI(RPRF),X'E4'                               02S0694
*   PRFQCBA=SAVTSAO;                /* ADDR OF IEDSAO QCB            */
         L     @10,AVTSAVTP(,RAVT)                              02S0695
         MVC   PRFQCBA(3,RPRF),SAVTSAO+1(@10)                   02S0695
*   RPARM=RPRF;                     /* BUFFER FOR DISPATCHER @Y17XAYP*/
         LR    RPARM,RPRF                                       02S0696
*   CALL DSPPOSTR;                  /* POST THE BFR TO SAO           */
         LA    @15,DSPPOSTR(,RDISP)                             02S0697
         BALR  @14,@15                                          02S0697
*   RQCB=TRMDESTQ;                  /* RESTORE QCB ADDR TO R7        */
         SLR   RQCB,RQCB                                        02S0698
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S0698
*   RFY                                                         02S0699
*     RRET RSTD;                                                02S0699
*   RRET=SAVEWD06;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD06                                    02S0700
*   END BLDWRBFR;                                               02S0701
@EL00005 DS    0H                                               02S0701
@EF00005 DS    0H                                               02S0701
@ER00005 BR    @14                                              02S0701
*   RFY                                                         02S0702
*     RRET UNRSTD;                                              02S0702
*                                                               02S0703
*   /*****************************************************************/
*   /*                                                               */
*   /* CKENDSES: THIS SEGMENT DETERMINES IS A STOPLINE I,Z TP,QUICK,Z*/
*   /* NCP,QUICK OPERATOR CONTROL COMMAND HAVE BEEN REQUESTED FOR A  */
*   /* TERMINAL IN A TSO SESSION. IF ONE OF THESE COMMANDS HAVE BEEN */
*   /* ISSUED AN INTERNAL INDICATOR IS SET FOR THE CALLING SEGMENT SO*/
*   /* THAT THE TSO SESSION WILL BE ENDED.                   @YM08526*/
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0703
*   RFY                                                         02S0703
*     RRET RSTD;                    /*                       @Y17XAYP*/
*CKENDSES:                          /*                       @YM08526*/
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);/*                       @YM08526*/
CKENDSES DS    0H                                               02S0705
*   DO;                             /*                       @YM08526*/
*     SAVEWD09=RRET;                /* SAVE RETURN ADDRESS   @YM08526*/
         ST    RRET,SAVEWD09                                    02S0706
*     RFY                                                       02S0707
*       RRET UNRSTD;                                            02S0707
*     IF(TRMSNA=ON&SIBLGOFF=ON)×    /* SNA TRM AND LOGOFF REQUESTED
*                                      END TSO SESSION       @ZM47737*/
*         (TRMSNA=OFF&(TRMOCNI=ON&TRMSTMM=ON))×/* STOPLINE I IN 02S0708
*                                      PROGRESS FORCE TSO SESSION TO
*                                      END                   @Y17XAYP
*                                                            @ZM47737*/
*         (AVTCLOSN=ON&AVTQUCKN=ON)×/* TCAM QUICK CLOSE FORCE TSO
*                                      SESSION TO END        @Y17XAYP*/
*         (LCBNCPPT-LENGTH(IEDNTRM))->TRMINOP=ON×/* CHANNEL INOP, END
*                                      TSO SESSION           @YM08120*/
*         ((LCBNCPPT-LENGTH(IEDNTRM))->TRMNCPCL=ON&(LCBNCPPT-LENGTH(
*         IEDNTRM))->TRMQUCKN=ON) THEN/* NCP QUICK CLOSE FORCE TSO
*                                      SESSION TO END        @Y17XAYP*/
         TM    TRMSNA(RTRM),B'00000010'                         02S0708
         BNO   @GL00019                                         02S0708
         ICM   @10,7,TRMSIBPT(RTRM)                             02S0708
         TM    SIBLGOFF(@10),B'10000000'                        02S0708
         BO    @RT00708                                         02S0708
@GL00019 TM    TRMSNA(RTRM),B'00000010'                         02S0708
         BNZ   @GL00018                                         02S0708
         TM    TRMOCNI(RTRM),B'00100000'                        02S0708
         BNO   @GL00018                                         02S0708
         TM    TRMSTMM(RTRM),B'00100000'                        02S0708
         BO    @RT00708                                         02S0708
@GL00018 TM    AVTCLOSN(RAVT),B'00000110'                       02S0708
         BO    @RT00708                                         02S0708
         SLR   @10,@10                                          02S0708
         ICM   @10,7,LCBNCPPT(RLCB)                             02S0708
         SH    @10,@CH02008                                     02S0708
         TM    TRMINOP(@10),B'10000000'                         02S0708
         BO    @RT00708                                         02S0708
         TM    TRMNCPCL(@10),B'01001000'                        02S0708
         BNO   @RF00708                                         02S0708
@RT00708 DS    0H                                               02S0709
*       ENDSESSN=ON;                /* INDICATE THAT TSO SESSION MUST
*                                      END                   @YM08526*/
         OI    ENDSESSN,B'00000001'                             02S0709
*   END;                                                        02S0710
@RF00708 DS    0H                                               02S0711
*   RFY                                                         02S0711
*     RRET RSTD;                                                02S0711
*   RRET=SAVEWD09;                  /* RESTORE THE RETURN ADDRESS
*                                                            @YM08526*/
         L     RRET,SAVEWD09                                    02S0712
*   END CKENDSES;                   /*                       @YM08526*/
@EL00006 DS    0H                                               02S0713
@EF00006 DS    0H                                               02S0713
@ER00006 BR    @14                                              02S0713
*   RFY                                                         02S0714
*     RRET UNRSTD;                                              02S0714
*                                                               02S0715
*   /*****************************************************************/
*   /*                                                               */
*   /* CHKESIG: THIS SEGMENT CONTAINS THE CHKESIG INTERNAL PROCEDURE */
*   /* WHICH DETERMINES WHETHER A SIGNAL DATA FLOW COMMAND TO BREAK  */
*   /* IN SHOULD BE SENT. THE GET BUFFER INTERNAL PROCEDURE IS CALLED*/
*   /* TO OBTAIN A BUFFER. IF A BUFFER IS OBTAINED THE INTERNAL      */
*   /* PROCEDURE SNDESIG IS CALL TO SEND A SIGNAL COMMAND.           */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0715
*   RFY                                                         02S0715
*     RRET RSTD;                                                02S0715
*CHKESIG:                                                       02S0716
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0716
CHKESIG  DS    0H                                               02S0717
*   SAVEWD03=RRET;                  /* SAVE THE RETURN ADDRESS       */
         ST    RRET,SAVEWD03                                    02S0717
*   RFY                                                         02S0718
*     RRET UNRSTD;                                              02S0718
*   IF QCBSATRD=ON&QCBDISC=ON THEN  /* LOGOFF & SIMATTN      @OZ28271*/
         TM    QCBSATRD(RQCB),B'00001001'                       02S0719
         BNO   @RF00719                                         02S0719
*     DO;                           /*                       @OZ28271*/
*       QCBSATCT=ZERO;              /* ZERO LINE COUNT       @OZ28271*/
         L     @10,ZERO                                         02S0721
         STC   @10,QCBSATCT(,RQCB)                              02S0721
*       QCBCARCT=ZERO;              /* ZERO CARRIAGE COUNT@OZ28271   */
         STC   @10,QCBCARCT(,RQCB)                              02S0722
*     END;                          /*                       @OZ28271*/
*   QCBSATRD=OFF;                   /* INDICATE NO SIM ATTN REQUEST  */
@RF00719 NI    QCBSATRD(RQCB),B'11110111'                       02S0724
*   QCBSIMRD=OFF;                   /* INDICATE NO SIM ATTN READ     */
         NI    QCBSIMRD(RQCB),B'11110111'                       02S0725
*   IF QCBWRBRK=ON THEN             /* IS THIS A TPUT BREAK          */
         TM    QCBWRBRK(RQCB),B'10000000'                       02S0726
         BNO   @RF00726                                         02S0726
*     DO;                           /* TPUT BREAK PROCESSING         */
*       QCBREAD=OFF;                /* INDICATE READ NO LONGER HAS
*                                      PRIORITY                      */
         NI    QCBREAD(RQCB),B'11011111'                        02S0728
*       IF TRMWRBRK=OFF THEN        /* IS A WRITE BREAK NOT IN  02S0729
*                                      PROGRESS                      */
         TM    TRMWRBRK(RTRM),B'00000001'                       02S0729
         BNZ   @RF00729                                         02S0729
*         DO;                       /* PROCESS BREAK IN              */
*           IF((QCBPLCBN=ON&LCBMSGNN=OFF)×QCBPLCBN=OFF)&/* IS THIS
*                                      NOT A MSGGEN                  */
*               QCBESIG=ON THEN     /* IS SIGNAL REQUIRED FOR BREAK
*                                      IN                            */
         LR    @10,RQCB                                         02S0731
         AL    @10,@CF03555                                     02S0731
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0731
         BNO   @GL00024                                         02S0731
         TM    LCBMSGNN(RLCB),B'01000000'                       02S0731
         BZ    @GL00023                                         02S0731
@GL00024 LR    @10,RQCB                                         02S0731
         AL    @10,@CF03555                                     02S0731
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0731
         BNZ   @RF00731                                         02S0731
@GL00023 LR    @10,RQCB                                         02S0731
         AL    @10,@CF03555                                     02S0731
         TM    QCBESIG-4(@10),B'00001000'                       02S0731
         BNO   @RF00731                                         02S0731
*             DO;                   /* SEND SIGNAL AND REQUEST SEND
*                                      SCHED                         */
*               CALL GETBFR;        /* REQUEST A BUFFER      @YM06127*/
         BAL   @14,GETBFR                                       02S0733
*               IF BUFAV=ON THEN    /* WAS A BUFFER OBTAINED @YM06127*/
         TM    BUFAV,B'00000010'                                02S0734
         BNO   @RF00734                                         02S0734
*                 DO;               /*                       @YM07018*/
*                   TRMWRBRK=ON;    /* INDICATE BREAK IN PROGRESS
*                                                            @UM07018*/
         LA    @15,TRMWRBRK(,RTRM)                              02S0736
         LR    @14,@15                                          02S0736
         LA    @10,3                                            02S0736
         NR    @14,@10                                          02S0736
         LCR   @14,@14                                          02S0736
         ALR   @15,@14                                          02S0736
         L     @10,0(,@15)                                      02S0736
@GL00026 LR    @05,@10                                          02S0736
         O     @05,@CB03566+3(@14)                              02S0736
         CS    @10,@05,0(@15)                                   02S0736
         BNE   @GL00026                                         02S0736
*                   CALL SNDESIG;   /* SEND SIGNAL                   */
         BAL   @14,SNDESIG                                      02S0737
*                 END;              /*                       @YM07018*/
*               SSREQD=ON;          /* REQUEST SEND SCHEDULER        */
@RF00734 OI    SSREQD,B'01000000'                               02S0739
*             END;                                              02S0740
*           ELSE                                                02S0741
*             ;                     /* SIGNAL NOT REQUIRED FOR BREAK
*                                      IN                            */
@RF00731 DS    0H                                               02S0742
*         END;                                                  02S0742
*       ELSE                                                    02S0743
*         ;                         /* WRITE BREAK ALREADY IN   02S0743
*                                      PROGRESS                      */
@RF00729 DS    0H                                               02S0744
*     END;                                                      02S0744
*   RFY                                                         02S0745
*     RRET RSTD;                    /* RESTRICT THE RETURN REGISTER  */
@RF00726 DS    0H                                               02S0746
*   RRET=SAVEWD03;                  /* RESTORE THE RETURN ADDRESS    */
         L     RRET,SAVEWD03                                    02S0746
*   END CHKESIG;                    /*                       @YM06127*/
@EL00007 DS    0H                                               02S0747
@EF00007 DS    0H                                               02S0747
@ER00007 BR    @14                                              02S0747
*   RFY                                                         02S0748
*     RRET UNRSTD;                                              02S0748
*                                                               02S0749
*   /*****************************************************************/
*   /*                                                               */
*   /* CHKRESET: THIS SEGMENT CONTAINS THE CHKRESET INTERNAL         */
*   /* PROCEDURE WHICH DETERMINES WHETHER A WRITE RESET (FID0) OR A  */
*   /* WRITE BREAK RESET (FID0) TO BREAK-IN SHOULD BE SENT. IF       */
*   /* REQUIRED, THE APPROPRIATE INTERNAL PROCEDURE (WRESET OR       */
*   /* WBRESET) IS CALLED TO SEND THE RESET IMMEDIATE OR RESET       */
*   /* CONDITIONAL                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0749
*   RFY                                                         02S0749
*     RRET RSTD;                                                02S0749
*CHKRESET:                                                      02S0750
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0750
CHKRESET DS    0H                                               02S0751
*   SAVEWD03=RRET;                  /* SAVE THE RETURN ADDRESS       */
         ST    RRET,SAVEWD03                                    02S0751
*   RFY                                                         02S0752
*     RRET UNRSTD;                                              02S0752
*   IF QCBSATRD=ON&QCBDISC=ON THEN  /* LOGOFF & SIMATTN      @OZ28271*/
         TM    QCBSATRD(RQCB),B'00001001'                       02S0753
         BNO   @RF00753                                         02S0753
*     DO;                           /*                       @OZ28271*/
*       QCBSATCT=ZERO;              /* ZERO LINE COUNT       @OZ28271*/
         L     @10,ZERO                                         02S0755
         STC   @10,QCBSATCT(,RQCB)                              02S0755
*       QCBCARCT=ZERO;              /* ZERO CARRIAGE COUNT@OZ28271   */
         STC   @10,QCBCARCT(,RQCB)                              02S0756
*     END;                          /*                       @OZ28271*/
*   QCBSATRD=OFF;                   /* INDICATE NO SIM ATTN READ
*                                      PROCESSING REQUIRED           */
@RF00753 NI    QCBSATRD(RQCB),B'11110111'                       02S0758
*   QCBSIMRD=OFF;                   /* INDICATE NO SIM ATTN READ
*                                      STARTED                       */
         NI    QCBSIMRD(RQCB),B'11110111'                       02S0759
*   IF QCBWRBRK=ON THEN             /* TPUT BREAK PROCESS            */
*                                                               02S0760
         TM    QCBWRBRK(RQCB),B'10000000'                       02S0760
         BNO   @RF00760                                         02S0760
*     /***************************************************************/
*     /*                                                             */
*     /* TPUT BREAK PROCESS                                          */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S0761
*     DO;                                                       02S0761
*       QCBREAD=OFF;                /* INDICATE THAT READ DOES NOT
*                                      HAVE PRIORITY                 */
         NI    QCBREAD(RQCB),B'11011111'                        02S0762
*       IF TRMWRBRK=OFF THEN        /* NO WRITE BREAK ALREADY IN
*                                      PROGRESS,                     */
         TM    TRMWRBRK(RTRM),B'00000001'                       02S0763
         BNZ   @RF00763                                         02S0763
*         DO;                       /*                       @YM06856*/
*           IF(QCBPLCBN=ON&LCBMSGNN=OFF)×QCBPLCBN=OFF THEN/* NOT A
*                                      MSGGEN                        */
         LR    @10,RQCB                                         02S0765
         AL    @10,@CF03555                                     02S0765
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0765
         BNO   @GL00027                                         02S0765
         TM    LCBMSGNN(RLCB),B'01000000'                       02S0765
         BZ    @RT00765                                         02S0765
@GL00027 LR    @10,RQCB                                         02S0765
         AL    @10,@CF03555                                     02S0765
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0765
         BNZ   @RF00765                                         02S0765
@RT00765 DS    0H                                               02S0766
*             IF TRMSTPND=OFF THEN  /* NOT AWAITING BSC STATUS       */
         TM    TRMSTPND(RTRM),B'10000000'                       02S0766
         BNZ   @RF00766                                         02S0766
*               IF TRMINPTP=ON THEN                             02S0767
         TM    TRMINPTP(RTRM),B'01000000'                       02S0767
         BO    @RT00767                                         02S0767
*                 ;                 /* IF BSC/SS INPUT PENDING THEN
*                                      RETURN BECAUSE NO RESET IS
*                                      NEEDED                @YM06127*/
*               ELSE                /* OTHERWISE IF...       @YM05700*/
*                 IF(QCBPLCBN=ON&LCBCONT=ON)×/* READ OR INVITE       */
*                     (TRMINOUT=ON×TRMRDOUT=ON) THEN/* TO RESET 02S0769
*                                                            @YM06127*/
         LR    @10,RQCB                                         02S0769
         AL    @10,@CF03555                                     02S0769
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0769
         BNO   @GL00029                                         02S0769
         TM    LCBCONT(RLCB),B'00001000'                        02S0769
         BO    @RT00769                                         02S0769
@GL00029 TM    TRMINOUT(RTRM),B'00000011'                       02S0769
         BZ    @RF00769                                         02S0769
@RT00769 DS    0H                                               02S0770
*                   DO;                                         02S0770
*                     CALL WBRESET;                             02S0771
         BAL   @14,WBRESET                                      02S0771
*                     SSREQD=ON;                                02S0772
         OI    SSREQD,B'01000000'                               02S0772
*                   END;                                        02S0773
*         END;                      /*                       @YM06856*/
*       ELSE                        /*                       @YM06856*/
*         SSREQD=OFF;               /* SEND SCHEDULER PREVIOUSLY
*                                      REQUESTED WHEN WHEN BREAK-IN
*                                      SENT                  @YM06856*/
         B     @RC00763                                         02S0775
@RF00763 NI    SSREQD,B'10111111'                               02S0775
*     END;                                                      02S0776
*   ELSE                                                        02S0777
*                                                               02S0777
*     /***************************************************************/
*     /*                                                             */
*     /* TPUT NOBREAK PROCESS                                        */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S0777
*     IF QCBREAD=OFF THEN           /* NOT READ PRIORITY, AND...     */
         B     @RC00760                                         02S0777
@RF00760 TM    QCBREAD(RQCB),B'00100000'                        02S0777
         BNZ   @RF00777                                         02S0777
*       IF(QCBPLCBN=ON&LCBMSGNN=OFF)×QCBPLCBN=OFF THEN/* NOT A MSGGEN*/
         LR    @10,RQCB                                         02S0778
         AL    @10,@CF03555                                     02S0778
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0778
         BNO   @GL00031                                         02S0778
         TM    LCBMSGNN(RLCB),B'01000000'                       02S0778
         BZ    @RT00778                                         02S0778
@GL00031 LR    @10,RQCB                                         02S0778
         AL    @10,@CF03555                                     02S0778
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0778
         BNZ   @RF00778                                         02S0778
@RT00778 DS    0H                                               02S0779
*         IF TRMSTPND=OFF THEN      /* NOT AWAITING BSC STATUS       */
         TM    TRMSTPND(RTRM),B'10000000'                       02S0779
         BNZ   @RF00779                                         02S0779
*           IF TRMINPTP=ON THEN                                 02S0780
         TM    TRMINPTP(RTRM),B'01000000'                       02S0780
         BO    @RT00780                                         02S0780
*             ;                     /* IF BSC/SS INPUT PENDING THEN
*                                      RETURN BECAUSE NO RESET IS
*                                      NEEDED                @YM06127*/
*           ELSE                    /* OTHERWISE IF ...      @YM05700*/
*             IF(QCBPLCBN=ON&LCBCONT=ON)×/* READ OR INVITE           */
*                 (TRMINOUT=ON×TRMRDOUT=ON) THEN/* TO RESET          */
         LR    @10,RQCB                                         02S0782
         AL    @10,@CF03555                                     02S0782
         TM    QCBPLCBN-4(@10),B'10000000'                      02S0782
         BNO   @GL00033                                         02S0782
         TM    LCBCONT(RLCB),B'00001000'                        02S0782
         BO    @RT00782                                         02S0782
@GL00033 TM    TRMINOUT(RTRM),B'00000011'                       02S0782
         BZ    @RF00782                                         02S0782
@RT00782 DS    0H                                               02S0783
*               DO;                                             02S0783
*                 CALL WRESET;                                  02S0784
         BAL   @14,WRESET                                       02S0784
*                 SSREQD=ON;                                    02S0785
         OI    SSREQD,B'01000000'                               02S0785
*               END;                                            02S0786
*   RFY                                                         02S0787
*     RRET RSTD;                                                02S0787
@RF00782 DS    0H                                               02S0787
@RT00780 DS    0H                                               02S0787
@RF00779 DS    0H                                               02S0787
@RF00778 DS    0H                                               02S0787
@RF00777 DS    0H                                               02S0787
@RC00760 DS    0H                                               02S0788
*   RRET=SAVEWD03;                  /* RESTORE THE RETURN ADDRESS    */
         L     RRET,SAVEWD03                                    02S0788
*   END CHKRESET;                                               02S0789
@EL00008 DS    0H                                               02S0789
@EF00008 DS    0H                                               02S0789
@ER00008 BR    @14                                              02S0789
*   RFY                                                         02S0790
*     RRET UNRSTD;                                              02S0790
*                                                               02S0791
*   /*****************************************************************/
*   /*                                                               */
*   /* CKSNASMI: THIS SEGMENT CONTAINS THE CKSNASMI INTERNAL         */
*   /* PROCEDURE WHICH BUILDS THE SNA WRTIE SMI DATA (FID1) OR THE   */
*   /* NULL RU WITH CHANGE DIRECTION TO UNLOCK SNA KEYBOARDS (FID1)  */
*   /* AND POST IT TO IEDDFOUT AT PRIOUTBD PRIORITY.                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0791
*   RFY                                                         02S0791
*     RRET RSTD;                                                02S0791
*CKSNASMI:                                                      02S0792
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0792
CKSNASMI DS    0H                                               02S0793
*   SAVEWD06=RRET;                                              02S0793
         ST    RRET,SAVEWD06                                    02S0793
*   RFY                                                         02S0794
*     RRET UNRSTD;                                              02S0794
*   RFY                                                         02S0795
*     IEDTH BASED(ADDR(PIUTH));     /*                       @Y17XAYP*/
*   RFY                                                         02S0796
*     IEDRH BASED(ADDR(PIURH));     /*                       @Y17XAYP*/
*   CALL PIU1COND;                  /* CONDITION THE FID1 PIU   02S0797
*                                                            @Y17XAYP*/
         BAL   @14,PIU1COND                                     02S0797
*   TTHDCF=LENGTH(IEDRH);           /* ASSUME DATA COUNT FOR NULL RU
*                                                            @Y17XAYP*/
         LA    @10,PRFPIUO(,RPRF)                               02S0798
         SLR   @05,@05                                          02S0798
         IC    @05,PRFPIUO(,RPRF)                               02S0798
         ALR   @10,@05                                          02S0798
         MVC   TTHDCF(2,@10),@CH00073                           02S0798
*   IF SIBCD=ON THEN                                            02S0799
         SLR   @05,@05                                          02S0799
         ICM   @05,7,TRMSIBPT(RTRM)                             02S0799
         TM    SIBCD(@05),B'10000000'                           02S0799
         BNO   @RF00799                                         02S0799
*     IF SIBFMODE=SIBHDXFF THEN     /* DOES THE TERMINAL REQUIRE
*                                      CHANGE DIRECTION INDICATOR TO
*                                      BE SET                @YM06976*/
         TM    SIBFMODE(@05),B'10000000'                        02S0800
         BNO   @RF00800                                         02S0800
         TM    SIBFMODE(@05),B'01000000'                        02S0800
         BNZ   @RF00800                                         02S0800
*       TRHCDI=ON;                  /* GIVE TERMINAL THE CHANGE 02S0801
*                                      DIRECTION BIT SO IT CAN INPUT
*                                                            @Y17XAYP*/
         OI    TRHCDI+10(@10),B'00100000'                       02S0801
*   SIBCD=OFF;                      /* TURN THE SIB BIT OFF IF NOT A
*                                      HALF-DUPLEX SESSION           */
@RF00800 DS    0H                                               02S0802
@RF00799 ICM   @10,7,TRMSIBPT(RTRM)                             02S0802
         NI    SIBCD(@10),B'01111111'                           02S0802
*   IF QCBTSSES=ON THEN             /* SEND SMI ONLY IF IN TSO  02S0803
*                                      SESSION                       */
         TM    QCBTSSES(RQCB),B'10000000'                       02S0803
         BNO   @RF00803                                         02S0803
*     IF DCT3270=ON&QCBDSSMI=OFF THEN/* IS SMI REQUIRED              */
         L     @10,DCTPTR                                       02S0804
         TM    DCT3270(@10),B'00000100'                         02S0804
         BNO   @RF00804                                         02S0804
         TM    QCBDSSMI(RQCB),B'00010000'                       02S0804
         BNZ   @RF00804                                         02S0804
*       DO;                         /*                       @Y17XAYP*/
*         SMIRU=SNASMI;             /* MOVE SNA SMI SEQUENCE TO PIU
*                                                            @Y17XAYP*/
         LA    @10,PRFPIUO(,RPRF)                               02S0806
         SLR   @05,@05                                          02S0806
         IC    @05,PRFPIUO(,RPRF)                               02S0806
         ALR   @10,@05                                          02S0806
         MVC   SMIRU+13(2,@10),SNASMI                           02S0806
*         TTHDCF=TTHDCF+LENGTH(SNASMI);/* SET DATA COUNT FIELD  02S0807
*                                                            @Y17XAYP*/
         LA    @05,2                                            02S0807
         SLR   @15,@15                                          02S0807
         ICM   @15,3,TTHDCF(@10)                                02S0807
         ALR   @05,@15                                          02S0807
         STH   @05,TTHDCF(,@10)                                 02S0807
*         PRF2SMI=ON;               /* INFORM DEBLOCK THIS A SMI
*                                      SEQUENCE              @Y17XAYP*/
         LR    @10,RPRF                                         02S0808
         AL    @10,@CF03571                                     02S0808
         OI    PRF2SMI(@10),B'00100000'                         02S0808
*         QCBDSSMI=ON;              /* INDICATE SMI SENT             */
         OI    QCBDSSMI(RQCB),B'00010000'                       02S0809
*       END;                        /*                       @Y17XAYP*/
*     ELSE                                                      02S0811
*       ;                           /*                       @Y17XAYP*/
@RF00804 DS    0H                                               02S0812
*   ELSE                            /*                       @Y17XAYP*/
*     DO;                           /* NOT IN TSO SESSION    @YM06995*/
         B     @RC00803                                         02S0812
@RF00803 DS    0H                                               02S0813
*       TRHEB=ON;                   /* END THE BRACKET USED FOR THE
*                                      TSO SESSION           @Y17XAYP*/
         LA    @10,PRFPIUO(,RPRF)                               02S0813
         SLR   @05,@05                                          02S0813
         IC    @05,PRFPIUO(,RPRF)                               02S0813
         ALR   @10,@05                                          02S0813
         OI    TRHEB+10(@10),B'01000000'                        02S0813
*       IF DCT3270=ON THEN          /* 3270                  @YM06995*/
         L     @05,DCTPTR                                       02S0814
         TM    DCT3270(@05),B'00000100'                         02S0814
         BNO   @RF00814                                         02S0814
*         DO;                       /* YES                   @YM06995*/
*           NULLRU=SNANULL;         /* MOVE NULL SEQUENCE TO THE PIU
*                                                            @YM06995*/
         MVC   NULLRU+13(1,@10),SNANULL                         02S0816
*           TTHDCF=TTHDCF+LENGTH(SNANULL);/* BUMP DATA COUNT @YM06995*/
         LA    @05,1                                            02S0817
         SLR   @15,@15                                          02S0817
         ICM   @15,3,TTHDCF(@10)                                02S0817
         ALR   @05,@15                                          02S0817
         STH   @05,TTHDCF(,@10)                                 02S0817
*         END;                      /*                       @YM06995*/
*     END;                          /*                       @YM06995*/
@RF00814 DS    0H                                               02S0820
*   RFY                                                         02S0820
*     RSCB RSTD;                    /*                       @Y17XAYP*/
@RC00803 DS    0H                                               02S0821
*   RSCB=LCBSCBA;                   /* GET SCB ADDRESS       @Y17XAYP*/
         SLR   RSCB,RSCB                                        02S0821
         ICM   RSCB,7,LCBSCBA(RLCB)                             02S0821
*   SCBMACR=ADDR(AVTINOUT);         /*                       @Y17XAYP*/
         LA    @10,AVTINOUT(,RAVT)                              02S0822
         STCM  @10,7,SCBMACR(IEDQSPTR)                          02S0822
*   LCBMSGNN=ON;                    /* FORCE INMSG PROCESSING        */
         OI    LCBMSGNN(RLCB),B'01000000'                       02S0823
*   LCBRCLLN=OFF;                   /* RESET ALL             @YM06926*/
         NI    LCBRCLLN(RLCB),B'01111111'                       02S0824
*   LCBCTLMD=OFF;                   /* STATUS                @YM06926*/
         NI    LCBCTLMD(RLCB),B'11111101'                       02S0825
*   LCBINITN=OFF;                   /* BITS                  @YM06926*/
*   LCBCONT=OFF;                    /* EXCEPT                @YM06926*/
*   LCBFREEN=OFF;                   /* NON-IMMEDIATE         @YM06926*/
*   LCBSENDN=OFF;                   /* OPERATOR CONTROL IN PROGRESS
*                                                            @YM06926*/
*   LCBRECVN=ON;                    /* MARK LCB RECEIVING    @Y17XAYP*/
         OI    LCBRECVN(RLCB),B'00000010'                       02S0830
         NI    LCBINITN(RLCB),B'11100010'                       02S0830
*   TTHDAF=LCBTTCIN;                /* SET DESTINATION ADDRESS  02S0831
*                                                            @Y17XAYP*/
         LA    @10,PRFPIUO(,RPRF)                               02S0831
         SLR   @05,@05                                          02S0831
         IC    @05,PRFPIUO(,RPRF)                               02S0831
         ALR   @10,@05                                          02S0831
         MVC   TTHDAF(2,@10),LCBTTCIN(RLCB)                     02S0831
*   PRFPRI=PRIOUTBD;                /* SET POST PRIORITY     @Y17XAYP*/
         MVI   PRFPRI(RPRF),X'E4'                               02S0832
*   PRFQCBA=SAVTDFCO;               /* SET POST TO IEDDFOUT  @Y17XAYP*/
         L     @10,AVTSAVTP(,RAVT)                              02S0833
         MVC   PRFQCBA(3,RPRF),SAVTDFCO+1(@10)                  02S0833
*   RFY                                                         02S0834
*     RSCB UNRSTD;                  /*                       @Y17XAYP*/
*   RPARM=RPRF;                     /* BUFFER FOR DISPATCHER         */
         LR    RPARM,RPRF                                       02S0835
*   CALL DSPPOSTR;                  /* POST THE PIU TO IEDDFOUT      */
         LA    @15,DSPPOSTR(,RDISP)                             02S0836
         BALR  @14,@15                                          02S0836
*   RQCB=TRMDESTQ;                  /* RESTORE THE QCB ADDRESS       */
         SLR   RQCB,RQCB                                        02S0837
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S0837
*   RFY                                                         02S0838
*     RRET RSTD;                                                02S0838
*   RRET=SAVEWD06;                  /* RESTORE THE RETURN ADDRESS    */
         L     RRET,SAVEWD06                                    02S0839
*   END CKSNASMI;                                               02S0840
@EL00009 DS    0H                                               02S0840
@EF00009 DS    0H                                               02S0840
@ER00009 BR    @14                                              02S0840
*   RFY                                                         02S0841
*     RRET UNRSTD;                                              02S0841
*                                                               02S0842
*   /*****************************************************************/
*   /*                                                               */
*   /* ENDBRKT: THIS SEGMENT CONTAINS THE ENDBRKT INTERNAL PROCEDURE */
*   /* THAT TERMINATES THE SNA BRACKET WHEN A TSO SESSION ENDS.      */
*   /*                                                       @YM06127*/
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0842
*   RFY                                                         02S0842
*     RRET RSTD;                                                02S0842
*ENDBRKT:                                                       02S0843
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0843
ENDBRKT  DS    0H                                               02S0844
*   SAVEWD04=RRET;                  /* SAVE RETURN ADDRESS           */
         ST    RRET,SAVEWD04                                    02S0844
*   RFY                                                         02S0845
*     RRET UNRSTD;                                              02S0845
*   IF QCBFLUSH=ON THEN             /* HAS SNA SESSION TERMINATION
*                                      BEEN REQUESTED        @Y17XAYP*/
         LR    @10,RQCB                                         02S0846
         SH    @10,@CH00044                                     02S0846
         TM    QCBFLUSH(@10),B'00000010'                        02S0846
         BNO   @RF00846                                         02S0846
*     DO;                           /*                       @Y17XAYP*/
*       QCBFLUSH=OFF;               /* RESET LOGOFF REQUEST INDICATOR
*                                                            @Y17XAYP*/
         NI    QCBFLUSH(@10),B'11111101'                        02S0848
*       SIBLGOFF=ON;                /* CAUSE SESSION TERMINATION ON
*                                      THE NEXT ENTRY TO THE TCAM
*                                      SCHEDULER             @Y17XAYP*/
         ICM   @10,7,TRMSIBPT(RTRM)                             02S0849
         OI    SIBLGOFF(@10),B'10000000'                        02S0849
*     END;                          /*                       @Y17XAYP*/
*   IF SIBBSTAT=SIBINB THEN                                     02S0851
*                                                               02S0851
@RF00846 ICM   @10,7,TRMSIBPT(RTRM)                             02S0851
         TM    SIBBSTAT(@10),B'00000010'                        02S0851
         BNO   @RF00851                                         02S0851
         TM    SIBBSTAT(@10),B'00001101'                        02S0851
         BNZ   @RF00851                                         02S0851
*     /***************************************************************/
*     /*                                                             */
*     /* DOES THE BRACKET NEED TO BE ENDED THE TSO SESSION HAS ENDED */
*     /* GET A BUFFER AND SEND A NULL RU WITH EB SET TO END THE      */
*     /* BRACKET USED FOR THE TSO SESSION IF STILL IN BRACKET STATE. */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S0852
*     DO;                                                       02S0852
*       CALL GETBFR;                /*                       @Y17XAYP*/
         BAL   @14,GETBFR                                       02S0853
*       IF BUFAV=ON THEN            /* WAS A BUFFER OBTAINED @YM06127*/
         TM    BUFAV,B'00000010'                                02S0854
         BNO   @RF00854                                         02S0854
*         CALL CKSNASMI;            /* GO SEND A NULL RU WITH END
*                                      BRACKET TO END THE TSO BRACKET
*                                                            @YM06127*/
         BAL   @14,CKSNASMI                                     02S0855
*     END;                                                      02S0856
@RF00854 DS    0H                                               02S0857
*   RFY                                                         02S0857
*     RRET RSTD;                                                02S0857
@RF00851 DS    0H                                               02S0858
*   RRET=SAVEWD04;                  /* RESTORE THE RETURN ADDRESS    */
         L     RRET,SAVEWD04                                    02S0858
*   END ENDBRKT;                    /*                       @YM06127*/
@EL00010 DS    0H                                               02S0859
@EF00010 DS    0H                                               02S0859
@ER00010 BR    @14                                              02S0859
*   RFY                                                         02S0860
*     RRET UNRSTD;                                              02S0860
*                                                               02S0861
*   /*****************************************************************/
*   /*                                                               */
*   /* ENDTSSES: THIS SEGMENT FORCES A TSO SESSION TO END BY ISSUING */
*   /* QTIP FOR HANGUP PROCESSING AND RESETTING TSO FIELDS IN THE    */
*   /* QCB. THE RETURN CODE IS SET FOR QEVENT PROCESSING.            */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0861
*   RFY                                                         02S0861
*     RRET RSTD;                    /*                       @Y17XAYP*/
*ENDTSSES:                                                      02S0862
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);/*                       @Y17XAYP*/
ENDTSSES DS    0H                                               02S0863
*   DO;                             /*                       @Y17XAYP*/
*     SAVEWD04=RRET;                /* SAVE RETURN ADDRESS   @Y17XAYP*/
         ST    RRET,SAVEWD04                                    02S0864
*     RFY                                                       02S0865
*       RRET UNRSTD;                                            02S0865
*     IF QCBDELAY=ON THEN           /* IS QCB ON TIME DELAY QUEUE
*                                                            @Y17XAYP*/
         TM    QCBDELAY(RQCB),B'00000010'                       02S0866
         BNO   @RF00866                                         02S0866
*       DO;                         /*                       @Y17XAYP*/
*         RPARM=RQCB;               /* QCB FOR TIME DELAY REMOVAL
*                                      ROUTINE               @Y17XAYP*/
         LR    RPARM,RQCB                                       02S0868
*         CALL IEDQHG02;            /* GO REMOVE QCB FROM TIME DELAY
*                                                            @Y17XAYP*/
         L     @15,AVTHG02(,RAVT)                               02S0869
         BALR  @14,@15                                          02S0869
*       END;                        /*                       @Y17XAYP*/
*     RFY                                                       02S0871
*       RLINK RSTD;                 /*                       @Y17XAYP*/
@RF00866 DS    0H                                               02S0872
*     IF QCBTJID^=0&TCXPTR->TCXRPT^=0 THEN/* ID TSO ACTIVE AND THIS
*                                      USER IN TSO SESSION.  @G36XRYP*/
         SLR   @14,@14                                          02S0872
         LH    @10,QCBTJID(,RQCB)                               02S0872
         CR    @10,@14                                          02S0872
         BE    @RF00872                                         02S0872
         L     @05,CVTPTR                                       02S0872
         L     @03,TCXPTR(,@05)                                 02S0872
         C     @14,TCXRPT(,@03)                                 02S0872
         BE    @RF00872                                         02S0872
*       DO;                         /*                       @YM06967*/
*         RFY                                                   02S0874
*          (RTSB,                                               02S0874
*           RASCB) RSTD;            /*                       @G36XRYP*/
*         RASCB=ASVTENTY(QCBTJID);  /* ASCB FOR QTIP         @ZM46822*/
         SLA   @10,2                                            02S0875
         L     @14,ASVTPTR(,@05)                                02S0875
         L     RASCB,ASVTENTY-4(@10,@14)                        02S0875
*         RFY                                                   02S0876
*           REG10 RSTD;             /*                       @YM06967*/
*         REG10=RBASE2;             /* SAVE BASE ACROSS QTIP @YM06967*/
         LR    REG10,RBASE2                                     02S0877
*         RTSB=ASCBTSB;             /* GET TSB FOR QTIP      @G36XRYP*/
         L     RTSB,ASCBTSB(,RASCB)                             02S0878
*         GEN REFS(RAVT) SETS(RLINK)(QTIP 4,(RAVT));/* TELL TSO TO
*                                      HANGUP USER           @Y17XAYP*/
         QTIP 4,(RAVT)
*         RBASE2=REG10;             /* RESTORE BASE          @YM06967*/
         LR    RBASE2,REG10                                     02S0880
*         RFY                                                   02S0881
*           REG10 UNRSTD;           /*                       @YM06967*/
*         RFY                                                   02S0882
*           RTSB UNRSTD;            /*                       @G36XRYP*/
*       END;                        /*                       @YM06967*/
*     QCBTSSES=OFF;                 /* INDICATE NO TSO SESSION  02S0884
*                                                            @Y17XAYP*/
@RF00872 DS    0H                                               02S0885
*     QCBREAD=OFF;                  /* RESET READ PRIORITY   @Y17XAYP*/
         NI    QCBTSSES(RQCB),B'01011111'                       02S0885
*     QCBESIG=OFF;                  /* RESET SEND SIGNAL INDICATOR
*                                                            @YM06127*/
         LR    @14,RQCB                                         02S0886
         AL    @14,@CF03555                                     02S0886
         NI    QCBESIG-4(@14),B'11110111'                       02S0886
*     QCBWRBRK=OFF;                 /* INDICATE NO WRITE BREAK  02S0887
*                                                            @Y17XAYP*/
         NI    QCBWRBRK(RQCB),B'01111111'                       02S0887
*     QCBALTMH=OFF;                 /* INDICATE NO ALTERNATE MH 02S0888
*                                                            @Y17XAYP*/
         NI    QCBALTMH(RQCB),B'11110111'                       02S0888
*     QCBRETCT=QCBRETCT&&QCBRETCT;  /* CLEAR RETRY COUNT     @Y17XAYP*/
         XC    QCBRETCT(1,RQCB),QCBRETCT(RQCB)                  02S0889
*     QCBCARCT=QCBCARCT&&QCBCARCT;  /* CLEAR CARRIAGE COUNT  @Y17XAYP*/
         XC    QCBCARCT(1,RQCB),QCBCARCT(RQCB)                  02S0890
*     QCBTJID=QCBTJID&&QCBTJID;     /* CLEAR TJID            @Y17XAYP*/
         LH    @14,QCBTJID(,RQCB)                               02S0891
         LR    @10,@14                                          02S0891
         XR    @10,@14                                          02S0891
         STH   @10,QCBTJID(,RQCB)                               02S0891
*     QCBSATCT=QCBSATCT&&QCBSATCT;  /* CLEAR SIM ATTN COUNT  @Y17XAYP*/
         SLR   @14,@14                                          02S0892
         IC    @14,QCBSATCT(,RQCB)                              02S0892
         LR    @10,@14                                          02S0892
         XR    @10,@14                                          02S0892
         STC   @10,QCBSATCT(,RQCB)                              02S0892
*     QCBTSOF1=QCBTSOF1&&QCBTSOF1;  /* CLEAR TSO FLAGS       @Y17XAYP*/
         XC    QCBTSOF1(1,RQCB),QCBTSOF1(RQCB)                  02S0893
*     QCBTSOF2=QCBTSOF2&&QCBTSOF2;  /* CLEAR TSO FLAGS       @Y17XAYP*/
         XC    QCBTSOF2(1,RQCB),QCBTSOF2(RQCB)                  02S0894
*     LCBQCBA=RLCB;                 /* SET QCB TO ITSELF     @ZM45392*/
         STCM  RLCB,7,LCBQCBA(RLCB)                             02S0895
*     LCBPRI=PRILNFRE;              /* SET PRIORITY          @ZM45392*/
         MVI   LCBPRI(RLCB),X'E0'                               02S0896
*     RPARM=RLCB;                   /* SET PLCB AS ELEMENT   @ZM45392*/
         LR    RPARM,RLCB                                       02S0897
*     CALL DSPPOSTR;                /* TPOST PLCB TO ITSELF  @ZM45392*/
         LA    @15,DSPPOSTR(,RDISP)                             02S0898
         BALR  @14,@15                                          02S0898
*     RETCODE=RCDSPDSP;             /* TELL IEDIAM TO EXIT TO DSPDISP
*                                                            @ZM45392*/
         MVI   RETCODE,X'04'                                    02S0899
*     RFY                                                       02S0900
*       RRET RSTD;                  /*                       @Y17XAYP*/
*     RRET=SAVEWD04;                /* RESTORE THE RETURN ADDRESS
*                                                            @Y17XAYP*/
         L     RRET,SAVEWD04                                    02S0901
*   END;                            /*                       @Y17XAYP*/
*   END ENDTSSES;                   /*                       @Y17XAYP*/
@EL00011 DS    0H                                               02S0903
@EF00011 DS    0H                                               02S0903
@ER00011 BR    @14                                              02S0903
*   RFY                                                         02S0904
*     RRET UNRSTD;                  /*                       @Y17XAYP*/
*                                                               02S0905
*   /*****************************************************************/
*   /*                                                               */
*   /* ERBBFRRQ: THIS SEGMENT CONTAINS THE ERBBFRRQ INTERNAL         */
*   /* PROCEDURE WHICH POSTS THE ERB TO BUFFER RQUEST.               */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0905
*   RFY                                                         02S0905
*     RRET RSTD;                                                02S0905
*ERBBFRRQ:                                                      02S0906
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0906
ERBBFRRQ DS    0H                                               02S0907
*   SAVEWD07=RRET;                                              02S0907
         ST    RRET,SAVEWD07                                    02S0907
*   RFY                                                         02S0908
*     RRET UNRSTD;                                              02S0908
*   RETCODE=INITVAL;                /* SET RETURN CODE SO NO POST
*                                      WILL BE DONE          @YM07325*/
         MVI   RETCODE,X'FF'                                    02S0909
*   LCBERBQB=ADDR(AVTBFREB);        /* SET UP THE ERB TO REQUEST A
*                                      SINGLE UNIT BUFFER            */
         LA    @14,AVTBFREB(,RAVT)                              02S0910
         STCM  @14,7,LCBERBQB(RLCB)                             02S0910
*   LCBERBPY=PRIINTRQ;                                          02S0911
         MVI   LCBERBPY(RLCB),X'E4'                             02S0911
*   LCBRBCT1=ONE;                                               02S0912
         MVI   LCBRBCT1(RLCB),X'01'                             02S0912
*   LCBRBCT2=ONE;                                               02S0913
         MVI   LCBRBCT2(RLCB),X'01'                             02S0913
*   LCBRCQCB=RLCB;                  /* SET THE PLCB FOR RE-ENTRY TO
*                                      SEND SCHEDULER                */
         ST    RLCB,LCBRCQCB(,RLCB)                             02S0914
*   LCBPRCPG=ON;                    /* INDICATE POST BACK TO LCBRCQCB
*                                                            @Y17XAYP*/
         OI    LCBPRCPG(RLCB),B'00000010'                       02S0915
*   RPARM=ADDR(LCBERB);             /* R1 = ADDR OF ERB              */
         LA    RPARM,LCBERB(,RLCB)                              02S0916
*   CALL DSPPOSTR;                  /* CALL THE DISPATCHER           */
         LA    @15,DSPPOSTR(,RDISP)                             02S0917
         BALR  @14,@15                                          02S0917
*   RQCB=TRMDESTQ;                  /* RESTORE THE QCB ADDRESS       */
         SLR   RQCB,RQCB                                        02S0918
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S0918
*   RFY                                                         02S0919
*     RRET RSTD;                                                02S0919
*   RRET=SAVEWD07;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD07                                    02S0920
*   END ERBBFRRQ;                                               02S0921
@EL00012 DS    0H                                               02S0921
@EF00012 DS    0H                                               02S0921
@ER00012 BR    @14                                              02S0921
*   RFY                                                         02S0922
*     RRET UNRSTD;                                              02S0922
*                                                               02S0923
*   /*****************************************************************/
*   /*                                                               */
*   /* GETBFR: THIS SEGMENT CONTAINS THE GETBFR INTERNAL PROCEDURE   */
*   /* WHICH OBTAINS A BFR IF POSSIBLE (FROM ERB CHAIN OR BFR STEAL) */
*   /* AND RETURNS TO THE CALLING ROUTINE. IF A BFR CANNOT BE        */
*   /* OBTAINED FROM EITHER THE ERB OR BFR STEAL, THE ERB IS POSTED  */
*   /* TO BFR REQUEST.                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0923
*   RFY                                                         02S0923
*     RRET RSTD;                                                02S0923
*GETBFR:                                                        02S0924
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0924
GETBFR   DS    0H                                               02S0925
*   SAVEWD05=RRET;                                              02S0925
         ST    RRET,SAVEWD05                                    02S0925
*   RFY                                                         02S0926
*     RRET UNRSTD;                                              02S0926
*   RETCODE=RCDSPDSP;               /* SET RETURN CODE FOR DSPDISP   */
         MVI   RETCODE,X'04'                                    02S0927
*   IF PLCBNTRY=ON&                 /* WAS THIS ENTRY WITH A PLCB
*                                                            @YM07325*/
*       LCBERBCH^=0 THEN            /* THERE IS A BFR ON ERB CHAIN   */
         TM    PLCBNTRY,B'10000000'                             02S0928
         BNO   @RF00928                                         02S0928
         SLR   @14,@14                                          02S0928
         ICM   @14,7,LCBERBCH(RLCB)                             02S0928
         LTR   @14,@14                                          02S0928
         BZ    @RF00928                                         02S0928
*     DO;                                                       02S0929
*       RPRF=LCBERBCH;              /* DELINK BFR UNIT FROM ERB CHAIN*/
         LR    RPRF,@14                                         02S0930
*       LCBERBCH=PRFLINK;                                       02S0931
         MVC   LCBERBCH(3,RLCB),PRFLINK(RPRF)                   02S0931
*       BUFAV=ON;                   /* TELL THE CALLING ROUTINE A
*                                      BUFFER WAS OBTAINED   @YM06127*/
         OI    BUFAV,B'00000010'                                02S0932
*     END;                                                      02S0933
*   ELSE                                                        02S0934
*     DO;                                                       02S0934
         B     @RC00928                                         02S0934
@RF00928 DS    0H                                               02S0935
*       RZERO=ONE;                  /* SET UP FOR BFR STEAL ATTEMPT -
*                                      A ONE UNIT BUFFER             */
         LA    @14,1                                            02S0935
         LR    RZERO,@14                                        02S0935
*       RPARM=ONE;                                              02S0936
         LR    RPARM,@14                                        02S0936
*       CALL IEDQGA02;              /* BFR STEAL ROUTINE             */
         L     @15,AVTSTEAL(,RAVT)                              02S0937
         BALR  @14,@15                                          02S0937
*       RFY                                                     02S0938
*         RLINK RSTD;                                           02S0938
*       IF RLINK^=0 THEN            /* STEAL WAS SUCCESSFUL          */
         LTR   RLINK,RLINK                                      02S0939
         BZ    @RF00939                                         02S0939
*         DO;                                                   02S0940
*           RPRF=RLINK;             /* PUT BFR ADDR IN PRF BASE REG  */
         LR    RPRF,RLINK                                       02S0941
*           BUFAV=ON;               /* TELL THE CALLER A BUFFER WAS
*                                      OBTAINED              @YM06127*/
         OI    BUFAV,B'00000010'                                02S0942
*         END;                                                  02S0943
*       ELSE                                                    02S0944
*         IF PLCBNTRY=ON THEN       /* WAS THIS ENTRY WITH PLCB 02S0944
*                                                            @YM07325*/
         B     @RC00939                                         02S0944
@RF00939 TM    PLCBNTRY,B'10000000'                             02S0944
         BNO   @RF00944                                         02S0944
*           CALL ERBBFRRQ;          /* POST ERB TO BFR REQUEST       */
         BAL   @14,ERBBFRRQ                                     02S0945
*       RETCODE=ERBPOST;            /* INDICATE ERB ALREADY POSTED
*                                                            @OZ32265*/
@RF00944 DS    0H                                               02S0946
@RC00939 MVI   RETCODE,X'18'                                    02S0946
*       RFY                                                     02S0947
*         RLINK UNRSTD;                                         02S0947
*     END;                                                      02S0948
*   RFY                                                         02S0949
*     RRET RSTD;                                                02S0949
@RC00928 DS    0H                                               02S0950
*   RRET=SAVEWD05;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD05                                    02S0950
*   END GETBFR;                                                 02S0951
@EL00013 DS    0H                                               02S0951
@EF00013 DS    0H                                               02S0951
@ER00013 BR    @14                                              02S0951
*   RFY                                                         02S0952
*     RRET UNRSTD;                                              02S0952
*                                                               02S0953
*   /*****************************************************************/
*   /*                                                               */
*   /* IPPROC: THIS SEGMENT CONTAINS THE IPPROC INTERNAL PROCEDURE   */
*   /* WHICH DETERMINES WHAT IS TO BE DONE DURING THIS ENTRY. IT     */
*   /* CHECKS TO SEE WHETHER DISCONNECT, SIM ATTN, TGET, OR SMI      */
*   /* SHOULD BE PROCESSED.                                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0953
*   RFY                                                         02S0953
*     RRET RSTD;                                                02S0953
*IPPROC:                                                        02S0954
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0954
IPPROC   DS    0H                                               02S0955
*   SAVEWD01=RRET;                  /* SAVE THE RETURN ADDRESS       */
         ST    RRET,SAVEWD01                                    02S0955
*   RFY                                                         02S0956
*     RRET UNRSTD;                                              02S0956
*   IF QCBDISC=ON THEN              /* DISCONNECT REQUESTED BY TSO?  */
         TM    QCBDISC(RQCB),B'00000001'                        02S0957
         BNO   @RF00957                                         02S0957
*     DO;                           /* YES                   @YM05700*/
*       SSREQD=ON;                  /* REQUEST SEND SCHEDULER   02S0959
*                                                            @YM05700*/
         OI    SSREQD,B'01000000'                               02S0959
*       IF TRMSNA=ON THEN           /* IS THIS A SNA TERMINAL   02S0960
*                                                            @YM06127*/
         TM    TRMSNA(RTRM),B'00000010'                         02S0960
         BNO   @RF00960                                         02S0960
*         CALL CHKESIG;             /* DETERMINE IF SIGNAL SHOULD BE
*                                      SENT TO BREAK-IN      @YM06127*/
         BAL   @14,CHKESIG                                      02S0961
*       ELSE                        /*                       @YM06127*/
*         CALL CHKRESET;                                        02S0962
         B     @RC00960                                         02S0962
@RF00960 BAL   @14,CHKRESET                                     02S0962
*     END;                          /*                       @YM05700*/
*   ELSE                                                        02S0964
*     IF QCBSATRD=ON THEN           /* SIMULATED ATTENTION REQUEST?  */
         B     @RC00957                                         02S0964
@RF00957 TM    QCBSATRD(RQCB),B'00001000'                       02S0964
         BNO   @RF00964                                         02S0964
*       DO;                         /*                       @YM06857*/
*         IF QCBSIMRD=ON THEN       /* IS SIM ATTN READ IN PROGRESS
*                                                            @YM06857*/
         TM    QCBSIMRD(RQCB),B'00001000'                       02S0966
         BNO   @RF00966                                         02S0966
*           WAITINPT=ON;            /* WAITING FOR INPUT TO SIM ATTN
*                                      READ                  @YM06857*/
         OI    WAITINPT,B'00000100'                             02S0967
*         ELSE                                                  02S0968
*           ;                       /*                       @YM06857*/
@RF00966 DS    0H                                               02S0969
*         SSREQD=ON;                /* INDICATE THAT SEND SCHED 02S0969
*                                      PROCESSING REQUIRED           */
         OI    SSREQD,B'01000000'                               02S0969
*       END;                        /*                       @YM06857*/
*     ELSE                                                      02S0971
*       IF(QCBTPUT=OFF&             /* NOT A TPUT REQUEST            */
*           QCBTGET=ON) THEN        /* BUT A TGET REQUEST            */
         B     @RC00964                                         02S0971
@RF00964 TM    QCBTGET(RQCB),B'01000000'                        02S0971
         BNO   @RF00971                                         02S0971
         TM    QCBTPUT(RQCB),B'00100000'                        02S0971
         BNZ   @RF00971                                         02S0971
*         DO;                       /*                       @OZ32704*/
*           RSREQD=ON;              /*                       @OZ32704*/
         OI    RSREQD,B'00100000'                               02S0973
*           IF TRMRDOUT=ON THEN     /* READ OUTSTANDING      @OZ32704*/
         TM    TRMRDOUT(RTRM),B'00000010'                       02S0974
         BNO   @RF00974                                         02S0974
*             RETCODE=RCDSPDSP;     /* SET RETCODE           @OZ32704*/
         MVI   RETCODE,X'04'                                    02S0975
*         END;                      /*                       @OZ32704*/
*       ELSE                                                    02S0977
*         DO;                       /*                       @YM05627*/
         B     @RC00971                                         02S0977
@RF00971 DS    0H                                               02S0978
*           SSREQD=ON;              /* INDICATE SEND SCHED PROCESSING
*                                      REQUIRED              @YM05627*/
         OI    SSREQD,B'01000000'                               02S0978
*           IF QCBDSSMI=OFF THEN    /* HAS AN SMI BEEN SENT? @YM05627*/
         TM    QCBDSSMI(RQCB),B'00010000'                       02S0979
         BNZ   @RF00979                                         02S0979
*             DO;                   /*                       @YM06127*/
*               IF TRMSNA=ON THEN   /* IS THIS A SNA TERMINAL   02S0981
*                                                            @YM06127*/
         TM    TRMSNA(RTRM),B'00000010'                         02S0981
         BNO   @RF00981                                         02S0981
*                 CALL CHKESIG;     /* DETERMINE IF SIGNAL SHOULD BE
*                                      SENT FOR BREAK-IN     @YM06127*/
         BAL   @14,CHKESIG                                      02S0982
*               ELSE                /*                       @YM06127*/
*                 CALL CHKRESET;    /* DETERMINE IF RESET SHOULD BE
*                                      SENT FOR BREAK-IN     @YM05627*/
         B     @RC00981                                         02S0983
@RF00981 BAL   @14,CHKRESET                                     02S0983
*             END;                  /*                       @YM05627*/
@RC00981 DS    0H                                               02S0985
*         END;                      /*                       @YM06127*/
@RF00979 DS    0H                                               02S0986
*   RFY                                                         02S0986
*     RRET RSTD;                                                02S0986
@RC00971 DS    0H                                               02S0986
@RC00964 DS    0H                                               02S0986
@RC00957 DS    0H                                               02S0987
*   RRET=SAVEWD01;                  /* RESTORE THE RETURN ADDRESS    */
         L     RRET,SAVEWD01                                    02S0987
*   END IPPROC;                                                 02S0988
@EL00014 DS    0H                                               02S0988
@EF00014 DS    0H                                               02S0988
@ER00014 BR    @14                                              02S0988
*   RFY                                                         02S0989
*     RRET UNRSTD;                                              02S0989
*                                                               02S0990
*   /*****************************************************************/
*   /*                                                               */
*   /* LCBPROC: THIS SEGMENT CONTAINS THE LCBPROC INTERNAL PROCEDURE */
*   /* WHICH DETERMINES WHETHER A TCAM SEND OR A TSO SEND OPERATION  */
*   /* IS TO BE DONE. IF EITHER IS TO BE DONE THE INTERNAL PROCEDURES*/
*   /* TCAMSND OR TSOSND ARE CALLED, RESPECTIVELY.                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S0990
*   RFY                                                         02S0990
*     RRET RSTD;                                                02S0990
*LCBPROC:                                                       02S0991
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S0991
LCBPROC  DS    0H                                               02S0992
*   SAVEWD01=RRET;                                              02S0992
         ST    RRET,SAVEWD01                                    02S0992
*   RFY                                                         02S0993
*     RRET UNRSTD;                                              02S0993
*   IF QCBTSSES=ON&                 /* TERMINAL IN TSO SESSION       */
*       ((QCBDELAY=OFF&QCBTJID^=0)× /* AND...                        */
*       (QCBDELAY=ON&QCBLINK^=0)) THEN/* TJID ^= 0                   */
         TM    QCBTSSES(RQCB),B'10000000'                       02S0994
         BNO   @RF00994                                         02S0994
         TM    QCBDELAY(RQCB),B'00000010'                       02S0994
         BNZ   @GL00039                                         02S0994
         ICM   @10,3,QCBTJID(RQCB)                              02S0994
         BNZ   @RT00994                                         02S0994
@GL00039 TM    QCBDELAY(RQCB),B'00000010'                       02S0994
         BNO   @RF00994                                         02S0994
         ICM   @10,7,QCBLINK(RQCB)                              02S0994
         BZ    @RF00994                                         02S0994
@RT00994 DS    0H                                               02S0995
*     IF QCBDISC=ON THEN            /* DISCONNECT REQUESTED?         */
         TM    QCBDISC(RQCB),B'00000001'                        02S0995
         BNO   @RF00995                                         02S0995
*       DO;                                                     02S0996
*         QCBSATRD=OFF;             /* INDICATE NO MORE SIM ATTN
*                                      PROCESSING                    */
         NI    QCBSATRD(RQCB),B'11110111'                       02S0997
*         QCBSIMRD=OFF;             /* IS REQUIRED.                  */
         NI    QCBSIMRD(RQCB),B'11110111'                       02S0998
*         CALL TSOSND;                                          02S0999
         BAL   @14,TSOSND                                       02S0999
*       END;                                                    02S1000
*     ELSE                                                      02S1001
*       IF QCBDSSMI=ON×QCBSATRD=ON THEN/* SMI HAS BEEN SENT OR SIM
*                                      ATTN READ REQUEST             */
         B     @RC00995                                         02S1001
@RF00995 TM    QCBDSSMI(RQCB),B'00010000'                       02S1001
         BO    @RT01001                                         02S1001
         TM    QCBSATRD(RQCB),B'00001000'                       02S1001
         BNO   @RF01001                                         02S1001
@RT01001 DS    0H                                               02S1002
*         DO;                       /* YES                   @YM05713*/
*           IF QCBTPUT=ON THEN      /* IS THE NEXT OPERATION AN 02S1003
*                                      OUTPUT                @YM06858*/
         TM    QCBTPUT(RQCB),B'00100000'                        02S1003
         BNO   @RF01003                                         02S1003
*             QCBSNDRQ=ON;          /* REQUEST SEND SCHEDULER THE
*                                      NEXT TIME A PLCB IS ASSIGNED
*                                                            @YM05713*/
         LR    @10,RQCB                                         02S1004
         AL    @10,@CF03555                                     02S1004
         OI    QCBSNDRQ-4(@10),B'00100000'                      02S1004
*           RETCODE=REMOVESS;       /* REQUEST SS REMOVAL    @YM05713*/
@RF01003 MVI   RETCODE,X'00'                                    02S1005
*         END;                      /*                       @YM05713*/
*       ELSE                                                    02S1007
*         CALL TSOSND;                                          02S1007
         B     @RC01001                                         02S1007
@RF01001 BAL   @14,TSOSND                                       02S1007
*   ELSE                                                        02S1008
*     CALL TCAMSND;                                             02S1008
         B     @RC00994                                         02S1008
@RF00994 BAL   @14,TCAMSND                                      02S1008
*   RFY                                                         02S1009
*     RRET RSTD;                                                02S1009
@RC00994 DS    0H                                               02S1010
*   RRET=SAVEWD01;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD01                                    02S1010
*   END LCBPROC;                                                02S1011
@EL00015 DS    0H                                               02S1011
@EF00015 DS    0H                                               02S1011
@ER00015 BR    @14                                              02S1011
*   RFY                                                         02S1012
*     RRET UNRSTD;                                              02S1012
*   RFY                                                         02S1013
*     RRET RSTD;                                                02S1013
*PIUCOND:                                                       02S1014
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1014
*                                                               02S1014
PIUCOND  DS    0H                                               02S1015
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS ROUTINE MUST NOT CALL ANY OTHER ROUTINE SINCE THE RETURN */
*   /* REGISTER, RRET, IS NOT PRESERVED AROUND THE LOGIC. RRET IS    */
*   /* RSTD THROUGHOUT THIS INTERNAL PROCEDURE SO THAT ITS VALUE WILL*/
*   /* NOT BE DESTROYED BY THE COMPILER USING IT.                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1015
*   RFY                                                         02S1015
*     IEDTH BASED(ADDR(PIU0TH));    /*                       @Y17XAYP*/
*   RFY                                                         02S1016
*     IEDRH BASED(ADDR(PIU0RH));    /*                       @Y17XAYP*/
*   IEDPF2=''B;                     /* CLEAR NEGATIVE BUFFER PREFIX
*                                                            @YM06125*/
         LR    @15,RPRF                                         02S1017
         SH    @15,@CH00044                                     02S1017
         XC    IEDPF2(8,@15),IEDPF2(@15)                        02S1017
*   PRFPIUO=ONE;                    /* SET THE PIU OFFSET IN THE
*                                      BUFFER                        */
         LA    @10,1                                            02S1018
         STC   @10,PRFPIUO(,RPRF)                               02S1018
*   PRF2TNTI=ON;                    /* INDICATE TTCIN OFFSETS IN PIU */
*                                                               02S1019
         OI    PRF2TNTI(@15),B'10000000'                        02S1019
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP THE TH VALUES REQUIRED                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1020
*   IEDTH=THVALUES;                                             02S1020
*                                                               02S1020
         LA    @15,PRFPIUO(,RPRF)                               02S1020
         ALR   @15,@10                                          02S1020
         MVC   IEDTH(10,@15),THVALUES                           02S1020
*   /*****************************************************************/
*   /*                                                               */
*   /* SET THE RH VALUES REQUIRED                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1021
*   IEDRH=RHVALUES;                                             02S1021
         MVC   IEDRH+10(3,@15),RHVALUES                         02S1021
*   PIU0PAD=CLEARED;                /* SET PIU PAD TO X'00'          */
         MVI   PIU0PAD(@15),X'00'                               02S1022
*   IEDBDU=IEDBDU&&IEDBDU;          /* CLEAR ALL SIX BYTES OF THE BDU*/
         XC    IEDBDU+14(6,@15),IEDBDU+14(@15)                  02S1023
*   END PIUCOND;                    /* RETURN TO CALLER              */
@EL00016 DS    0H                                               02S1024
@EF00016 DS    0H                                               02S1024
@ER00016 BR    @14                                              02S1024
*   RFY                                                         02S1025
*     RRET UNRSTD;                                              02S1025
*                                                               02S1026
*   /*****************************************************************/
*   /*                                                               */
*   /* PIU1COND: THIS SEGMENT CONTAINS THE PIUCOND INTERNAL PROCEDURE*/
*   /* WHICH CONDITIONS THE PIU BY ESTABLISHING FIELDS REQUIRED FOR  */
*   /* FID1 SNA COMMANDS. THIS ROUTINE MUST NOT CALL ANY OTHER       */
*   /* ROUTINE SINCE THE RETURN REGISTER,RRET, IS NOT PRESERVED      */
*   /* AROUND THE LOGIC. RRET IS RSTD THROUGHOUT THIS INTERNAL       */
*   /* PROCEDURE SO THAT ITS VALUE WILL NOT BE DESTROYED BY THE      */
*   /* COMPILER USING IT.                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1026
*   RFY                                                         02S1026
*     RRET RSTD;                                                02S1026
*PIU1COND:                                                      02S1027
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1027
PIU1COND DS    0H                                               02S1028
*   RFY                                                         02S1028
*     IEDTH BASED(ADDR(PIUTH));     /*                       @Y17XAYP*/
*   RFY                                                         02S1029
*     IEDRH BASED(ADDR(PIURH));     /*                       @Y17XAYP*/
*   IEDPF2=''B;                     /* CLEAR NEGATIVE BUFFER PREFIX
*                                                            @YM06125*/
         LA    @15,8                                            02S1030
         LR    @10,RPRF                                         02S1030
         SLR   @10,@15                                          02S1030
         XC    IEDPF2(8,@10),IEDPF2(@10)                        02S1030
*   PRFPIUO=ONE;                    /* SET PIU OFFSET TO ONE @Y17XAYP*/
         LA    @05,1                                            02S1031
         STC   @05,PRFPIUO(,RPRF)                               02S1031
*   IEDPIU=''B;                     /* CLEAR PIU             @YM06125*/
         LA    @03,PRFPIUO(,RPRF)                               02S1032
         ALR   @03,@05                                          02S1032
         XC    IEDPIU(13,@03),IEDPIU(@03)                       02S1032
*   PRF2TNTI=ON;                    /* INDICATE THAT TTHOAF AND 02S1033
*                                      TTHDAF ARE TNT INDEX VALUES
*                                                            @YM06125*/
         OI    PRF2TNTI(@10),B'10000000'                        02S1033
*   TTHFTYPE=TTHFID1;               /* INDICATE THIS IS A FID1 PIU
*                                                            @Y17XAYP*/
         NI    TTHFTYPE(@03),B'00011111'                        02S1034
         OI    TTHFTYPE(@03),B'00010000'                        02S1034
*   TTHBBIU=ON;                     /* INDICATE ONLY SEGMENT @Y17XAYP*/
*   TTHEBIU=ON;                     /* INDICATE ONLY SEGMENT @Y17XAYP*/
         OI    TTHBBIU(@03),B'00001100'                         02S1036
*   IF QCBPLCBN=ON THEN             /* IS A PLCB ASSIGNED    @Y17XAYP*/
         LCR   @15,@15                                          02S1037
         ALR   @15,RQCB                                         02S1037
         TM    QCBPLCBN(@15),B'10000000'                        02S1037
         BNO   @RF01037                                         02S1037
*     TTHDAF=LCBTTCIN;              /* USE THE INDEX FROM THE PLCB
*                                                            @Y17XAYP*/
         MVC   TTHDAF(2,@03),LCBTTCIN(RLCB)                     02S1038
*   ELSE                                                        02S1039
*     IF QCBWAITC=ON THEN           /* IF THIS IS A CHAIN OF PIU'S
*                                                            @XM05703*/
         B     @RC01037                                         02S1039
@RF01037 LR    @15,RQCB                                         02S1039
         SH    @15,@CH00044                                     02S1039
         TM    QCBWAITC(@15),B'01000000'                        02S1039
         BNO   @RF01039                                         02S1039
*       DO;                         /*                       @XM05703*/
*         RPARM=QCBPLCBA;           /* POINT TO FIRST PIU    @XM05703*/
         SLR   RPARM,RPARM                                      02S1041
         ICM   RPARM,7,QCBPLCBA(@15)                            02S1041
*         RFY                                                   02S1042
*           IEDQPRF BASED(RPARM);   /*                       @XM05703*/
*         RPARM=ADDR(PRFPIUO)+PRFPIUO;/* POINT TO TH         @XM05703*/
         LA    @15,PRFPIUO(,RPARM)                              02S1043
         SLR   @10,@10                                          02S1043
         IC    @10,PRFPIUO(,RPARM)                              02S1043
         ALR   @15,@10                                          02S1043
         LR    RPARM,@15                                        02S1043
*         RFY                                                   02S1044
*           IEDQPRF BASED(RPRF);    /*                       @XM05703*/
*         TTHDAF=RPARM->TTHOAF;     /* GET TNT INDEX FROM OAF   02S1045
*                                                            @XM05703*/
         LA    @15,PRFPIUO(,RPRF)                               02S1045
         SLR   @10,@10                                          02S1045
         IC    @10,PRFPIUO(,RPRF)                               02S1045
         ALR   @15,@10                                          02S1045
         MVC   TTHDAF(2,@15),TTHOAF(RPARM)                      02S1045
*       END;                        /*                       @XM05703*/
*     ELSE                          /*                       @XM05703*/
*       TTHDAF=QCBTTCIN;            /* USE THE INDEX FROM THE QCB
*                                                            @Y17XAYP*/
         B     @RC01039                                         02S1047
@RF01039 LA    @15,PRFPIUO(,RPRF)                               02S1047
         SLR   @10,@10                                          02S1047
         IC    @10,PRFPIUO(,RPRF)                               02S1047
         ALR   @15,@10                                          02S1047
         LR    @10,RQCB                                         02S1047
         BCTR  @10,0                                            02S1047
         BCTR  @10,0                                            02S1047
         MVC   TTHDAF(2,@15),QCBTTCIN-6(@10)                    02S1047
*   TTHOAF=TRMSIBPT->SIBINDEX;      /* SET OAF FROM LU-LU SIB   02S1048
*                                                            @YM06124*/
@RC01039 DS    0H                                               02S1048
@RC01037 LA    @15,PRFPIUO(,RPRF)                               02S1048
         SLR   @10,@10                                          02S1048
         IC    @10,PRFPIUO(,RPRF)                               02S1048
         ALR   @15,@10                                          02S1048
         SLR   @10,@10                                          02S1048
         ICM   @10,7,TRMSIBPT(RTRM)                             02S1048
         MVC   TTHOAF(2,@15),SIBINDEX(@10)                      02S1048
*   TTHSNF=ZERO;                    /* SET SEQUENCE NUMBER TO ZERO
*                                                            @Y17XAYP*/
         MVC   TTHSNF(2,@15),ZERO+2                             02S1049
*   TRHTYPE=OFF;                    /* INDICATE A SNA REQUEST   02S1050
*                                                            @Y17XAYP*/
*   TRHBC=ON;                       /* INDICATE ONLY CHAIN   @Y17XAYP*/
*   TRHEC=ON;                       /* INDICATE ONLY CHAIN   @Y17XAYP*/
         AH    @15,@CH01239                                     02S1052
         OI    TRHBC(@15),B'00000011'                           02S1052
         NI    TRHTYPE(@15),B'01111111'                         02S1052
*   TRHDR1=ON;                      /*                       @Y17XAYP*/
         OI    TRHDR1(@15),B'10000000'                          02S1053
*   IF SIBBSTAT^=SIBINB THEN        /* IS BEGIN BRACKET REQUIRED
*                                                            @YM06522*/
         TM    SIBBSTAT(@10),B'00000010'                        02S1054
         BNO   @RT01054                                         02S1054
         TM    SIBBSTAT(@10),B'00001101'                        02S1054
         BZ    @RF01054                                         02S1054
@RT01054 DS    0H                                               02S1055
*     TRHBB=ON;                     /* BEGIN BRACKET ON      @Y17XAYP*/
         LA    @15,PRFPIUO(,RPRF)                               02S1055
         SLR   @10,@10                                          02S1055
         IC    @10,PRFPIUO(,RPRF)                               02S1055
         ALR   @15,@10                                          02S1055
         OI    TRHBB+10(@15),B'10000000'                        02S1055
*   ELSE                                                        02S1056
*     TRHBB=OFF;                    /* BEGIN BRACKET OFF     @Y17XAYP*/
         B     @RC01054                                         02S1056
@RF01054 LA    @15,PRFPIUO(,RPRF)                               02S1056
         SLR   @10,@10                                          02S1056
         IC    @10,PRFPIUO(,RPRF)                               02S1056
         ALR   @15,@10                                          02S1056
         NI    TRHBB+10(@15),B'01111111'                        02S1056
*   TRHEB=OFF;                      /* END BRACKET OFF       @Y17XAYP*/
@RC01054 DS    0H                                               02S1058
*   TRHCDI=OFF;                     /* CHANGE DIRECTION OFF  @Y17XAYP*/
         LA    @15,PRFPIUO(,RPRF)                               02S1058
         SLR   @10,@10                                          02S1058
         IC    @10,PRFPIUO(,RPRF)                               02S1058
         ALR   @15,@10                                          02S1058
         NI    TRHEB+10(@15),B'10011111'                        02S1058
*   END PIU1COND;                   /* RETURN TO CALLER      @Y17XAYP*/
@EL00017 DS    0H                                               02S1059
@EF00017 DS    0H                                               02S1059
@ER00017 BR    @14                                              02S1059
*                                                               02S1060
*   /*****************************************************************/
*   /*                                                               */
*   /* READRTN: THIS SEGMENT CONTAINS THE READRTN INTERNAL PROCEDURE */
*   /* WHICH DETERMINES WHETHER SIM ATTN PROMPT, SMI SEQUENCE, OR    */
*   /* TIME DELAY ELEMENT REMOVAL SHOULD BE DONE                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1060
*   RFY                                                         02S1060
*     RRET RSTD;                                                02S1060
*READRTN:                                                       02S1061
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1061
READRTN  DS    0H                                               02S1062
*   SAVEWD04=RRET;                                              02S1062
         ST    RRET,SAVEWD04                                    02S1062
*   RFY                                                         02S1063
*     RRET UNRSTD;                                              02S1063
*   IF QCBSATRD=ON THEN             /* SIM ATTN READ REQUEST         */
         TM    QCBSATRD(RQCB),B'00001000'                       02S1064
         BNO   @RF01064                                         02S1064
*     IF QCBSIMRD=OFF THEN          /* SIM READ NOT IN PROGRESS      */
         TM    QCBSIMRD(RQCB),B'00001000'                       02S1065
         BNZ   @RF01065                                         02S1065
*       CALL SAPRMPT;               /* EXIT TO IEDAYM WITH SIM ATTN
*                                      PROMPT                        */
         BAL   @14,SAPRMPT                                      02S1066
*     ELSE                                                      02S1067
*       CALL SMIRTN;                /* SEND SMI                      */
         B     @RC01065                                         02S1067
@RF01065 BAL   @14,SMIRTN                                       02S1067
*   ELSE                                                        02S1068
*     DO;                                                       02S1068
         B     @RC01064                                         02S1068
@RF01064 DS    0H                                               02S1069
*       IF QCBDELAY=ON THEN                                     02S1069
         TM    QCBDELAY(RQCB),B'00000010'                       02S1069
         BNO   @RF01069                                         02S1069
*         DO;                       /* TERMINAL ON DELAY QUEUE       */
*           RPARM=RQCB;             /* SET UP ADDR OF QCB FOR TIME
*                                      DELAY ROUTINE                 */
         LR    RPARM,RQCB                                       02S1071
*           CALL IEDQHG02;          /* REMOVE ELEMENT FROM TIME DELAY
*                                      QUEUE                         */
         L     @15,AVTHG02(,RAVT)                               02S1072
         BALR  @14,@15                                          02S1072
*         END;                                                  02S1073
*       CALL SMIRTN;                /* SEND SMI                      */
@RF01069 BAL   @14,SMIRTN                                       02S1074
*     END;                                                      02S1075
*   RFY                                                         02S1076
*     RRET RSTD;                                                02S1076
@RC01064 DS    0H                                               02S1077
*   RRET=SAVEWD04;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD04                                    02S1077
*   END READRTN;                                                02S1078
@EL00018 DS    0H                                               02S1078
@EF00018 DS    0H                                               02S1078
@ER00018 BR    @14                                              02S1078
*   RFY                                                         02S1079
*     RRET UNRSTD;                                              02S1079
*                                                               02S1080
*   /*****************************************************************/
*   /*                                                               */
*   /* REQPLCB: THIS SEGMENT CONTAINS THE REQPLCB INTERNAL PROCEDURE */
*   /* WHICH DETERMINES IF A PLCB IS ALLOCATED AND IF SEND SCHEDULER */
*   /* PROCESSING IS REQUIRED. IF NOT ALLOCATED AND NOT ALREADY      */
*   /* REQUESTED, A PLCB IS REQUESTED FROM IEDIAP. IF SEND SCHEDULER */
*   /* PROCESSING IS REQUIRED, IT IS SO INDICATED IN THE QCB BY THIS */
*   /* ROUTINE.                                                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1080
*   RFY                                                         02S1080
*     RRET RSTD;                                                02S1080
*REQPLCB:                                                       02S1081
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1081
REQPLCB  DS    0H                                               02S1082
*   SAVEWD02=RRET;                  /* SAVE THE RETURN ADDRESS       */
         ST    RRET,SAVEWD02                                    02S1082
*   RFY                                                         02S1083
*     RRET UNRSTD;                                              02S1083
*   IF QCBPLCBN=ON THEN             /* PLCB ALLOCATED?               */
*                                                               02S1084
         LR    @10,RQCB                                         02S1084
         AL    @10,@CF03555                                     02S1084
         TM    QCBPLCBN-4(@10),B'10000000'                      02S1084
         BNO   @RF01084                                         02S1084
*     /***************************************************************/
*     /*                                                             */
*     /* PLCB ALREADY ALLOCATED                                      */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1085
*     IF SSREQD=ON THEN             /* SEND SCHED PROCESSING    02S1085
*                                      REQUIRED?                     */
         TM    SSREQD,B'01000000'                               02S1085
         BNO   @RF01085                                         02S1085
*       DO;                                                     02S1086
*         IF LCBSTCBA->STCBVTO^=DSPSEND THEN/* SEND SCHED NOT ALREADY
*                                      IN PLCB?              @YM05657*/
         ICM   @10,7,LCBSTCBA(RLCB)                             02S1087
         CLI   STCBVTO(@10),X'22'                               02S1087
         BE    @RF01087                                         02S1087
*           DO;                                                 02S1088
*             RFY                                               02S1089
*               REG03 RSTD;         /* SET UP R3 FOR CALL TO    02S1089
*                                      DISPATCHER                    */
*             REG03=RLCB;           /* PUT LCB ADDRESS IN R3         */
         LR    REG03,RLCB                                       02S1090
*             CALL DSPUNAVR;        /* R7-QCB ADDRESS R11-DISPATCHER
*                                      R13-AVTSAVE2 R14-RETURN ADDR  */
         LA    @15,DSPUNAVR(,RDISP)                             02S1091
         BALR  @14,@15                                          02S1091
*             RFY                                               02S1092
*               REG03 UNRSTD;                                   02S1092
*             RQCB=TRMDESTQ;        /* RELOAD THE QCB ADDRESS        */
         SLR   RQCB,RQCB                                        02S1093
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S1093
*           END;                                                02S1094
*         RETCODE=SSTOPLCB;         /* SET RETURN FOR SEND SCHED TO
*                                      PLCB                          */
@RF01087 MVI   RETCODE,X'00'                                    02S1095
*       END;                                                    02S1096
*     ELSE                                                      02S1097
*       RETCODE=CONTRCVS;           /* SET RETURN TO CONTINUE RECV
*                                      SCHED                         */
         B     @RC01085                                         02S1097
@RF01085 MVI   RETCODE,X'00'                                    02S1097
*   ELSE                                                        02S1098
*                                                               02S1098
*     /***************************************************************/
*     /*                                                             */
*     /* NO PLCB CURRENTLY ALLOCATED                                 */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1098
*     DO;                                                       02S1098
         B     @RC01084                                         02S1098
@RF01084 DS    0H                                               02S1099
*       IF SSREQD=ON THEN           /* IF SEND SCHED PROCESSING 02S1099
*                                      REQUIRED                      */
         TM    SSREQD,B'01000000'                               02S1099
         BNO   @RF01099                                         02S1099
*         QCBSNDRQ=ON;              /* SHOW SEND SCHED SHOULD BE
*                                      INSERTED IN PLCB              */
         LR    @10,RQCB                                         02S1100
         AL    @10,@CF03555                                     02S1100
         OI    QCBSNDRQ-4(@10),B'00100000'                      02S1100
*       IF BREAKPST=OFF&WAITINPT=OFF THEN/* CAN A PLCB BE REQUESTED
*                                                            @YM06006*/
@RF01099 TM    BREAKPST,B'00001100'                             02S1101
         BNZ   @RF01101                                         02S1101
*         DO;                       /*                       @YM06006*/
*           IF QCBRCVRQ=OFF THEN    /* PLCB HAS NOT BEEN REQUESTED   */
         LR    @10,RQCB                                         02S1103
         SH    @10,@CH00044                                     02S1103
         TM    QCBRCVRQ(@10),B'00010000'                        02S1103
         BNZ   @RF01103                                         02S1103
*             DO;                                               02S1104
*               QCBRCVRQ=ON;        /* REQUEST THE RECV SCHEDULER    */
         OI    QCBRCVRQ(@10),B'00010000'                        02S1105
*               TRMINPTP=OFF;       /* RESET INPUT PENDING   @YM05700*/
         NI    TRMINPTP(RTRM),B'10111111'                       02S1106
*               RPARM=RQCB;         /* SET UP R1 FOR IEDIAP          */
         LR    RPARM,RQCB                                       02S1107
*               RFY                                             02S1108
*                 RLINK RSTD;                                   02S1108
*               CALL IEDIAP01;      /* REQUEST A PLCB                */
         L     @10,AVTSAVTP(,RAVT)                              02S1109
         L     @15,SAVTPREQ(,@10)                               02S1109
         BALR  @14,@15                                          02S1109
*               IF RLINK^=0 THEN    /* WAS A PLCB ALLOCATED?         */
         LTR   RLINK,RLINK                                      02S1110
         BZ    @RF01110                                         02S1110
*                 DO;                                           02S1111
*                   RPARM=RLINK;                                02S1112
         LR    RPARM,RLINK                                      02S1112
*                   RFY                                         02S1113
*                     RLINK UNRSTD;                             02S1113
*                   RFY                                         02S1114
*                     IEDQLCB BASED(RPARM);/* SET UP ADDRESSABILITY
*                                      TO LCB                @YM05627*/
*                   LCBQCBA=RPARM;  /* SET UP PLCB FOR POST          */
         STCM  RPARM,7,LCBQCBA(RPARM)                           02S1115
*                   LCBPRI=PRILNFRE;                            02S1116
         MVI   LCBPRI(RPARM),X'E0'                              02S1116
*                   RFY                                         02S1117
*                     IEDQLCB BASED(RLCB);/* RESTORE LCB BASE REG
*                                                            @YM05627*/
*                   CALL DSPPOSTR;  /* POST PLCB TO ITSELF           */
         LA    @15,DSPPOSTR(,RDISP)                             02S1118
         BALR  @14,@15                                          02S1118
*                 END;                                          02S1119
*             END;                  /*                       @YM06006*/
@RF01110 DS    0H                                               02S1121
*         END;                                                  02S1121
@RF01103 DS    0H                                               02S1122
*       RETCODE=RCDSPDSP;           /* SET RETURN FOR DSPDISP        */
@RF01101 MVI   RETCODE,X'04'                                    02S1122
*     END;                                                      02S1123
*   RFY                                                         02S1124
*     RRET RSTD;                                                02S1124
@RC01084 DS    0H                                               02S1125
*   RRET=SAVEWD02;                  /* RESTORE THE RETURN ADDRESS    */
         L     RRET,SAVEWD02                                    02S1125
*   END REQPLCB;                                                02S1126
@EL00019 DS    0H                                               02S1126
@EF00019 DS    0H                                               02S1126
@ER00019 BR    @14                                              02S1126
*   RFY                                                         02S1127
*     RRET UNRSTD;                                              02S1127
*                                                               02S1128
*   /*****************************************************************/
*   /*                                                               */
*   /* SAPRMPT: THIS SEGMENT CONTAINS THE SAPRMPT INTERNAL PROCEDURE */
*   /* WHICH WILL SET UP THE CORRECT SIM ATTN PROMPT SEQUENCE AND    */
*   /* THEN EXIT TO IEDAYM. NO RETURN REG IS SAVED IN THIS PROCEDURE */
*   /* SINCE IT UNCONDITIONALLY EXITS TO AYM.                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1128
*SAPRMPT:                                                       02S1128
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1128
SAPRMPT  DS    0H                                               02S1129
*   RFY                                                         02S1129
*     RSCB RSTD;                                                02S1129
*                                                               02S1129
*   /*****************************************************************/
*   /*                                                               */
*   /* *****NOTE***** THIS SUBROUTINE EXITS, IT DOES NOT RETURN.     */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1130
*   IF QCBSATRD=ON THEN             /* IS THIS ENTRY FOR SIM ATTN
*                                      READ                          */
         TM    QCBSATRD(RQCB),B'00001000'                       02S1130
         BNO   @RF01130                                         02S1130
*     QCBSIMRD=ON;                  /* INDICATE SIM ATTN READ IN
*                                      PROGRESS                      */
         OI    QCBSIMRD(RQCB),B'00001000'                       02S1131
*   RSCB=LCBSCBA;                   /* PICK UP THE SCB ADDR FROM THE
*                                      LCB - USED BY IEDAYJ          */
@RF01130 SLR   RSCB,RSCB                                        02S1132
         ICM   RSCB,7,LCBSCBA(RLCB)                             02S1132
*   SCBMACR=ADDR(AVTINOUT);         /* INDICATE END OF INMSG/OUTMSG
*                                      PROCESSING            @Y17XAYP*/
         LA    @10,AVTINOUT(,RAVT)                              02S1133
         STCM  @10,7,SCBMACR(IEDQSPTR)                          02S1133
*   LCBRCLLN=OFF;                   /* RESET ALL             @YM06926*/
         NI    LCBRCLLN(RLCB),B'01111111'                       02S1134
*   LCBCTLMD=OFF;                   /* STATUS                @YM06926*/
         NI    LCBCTLMD(RLCB),B'11111101'                       02S1135
*   LCBINITN=OFF;                   /* BITS                  @YM06926*/
*   LCBCONT=OFF;                    /* EXCEPT                @YM06926*/
*   LCBFREEN=OFF;                   /* NON-IMMEDIATE         @YM06926*/
*   LCBSENDN=OFF;                   /* OPERATOR CONTROL IN PROGRESS
*                                                            @YM06926*/
*   LCBRECVN=ON;                    /* INDICATE TERMINAL IS RECEIVING*/
         OI    LCBRECVN(RLCB),B'00000010'                       02S1140
         NI    LCBINITN(RLCB),B'11100010'                       02S1140
*   RFY                                                         02S1141
*     REG08 RSTD;                   /*                       @YM05666*/
*   IF DCT3270=ON THEN              /* REMOTE 3270?                  */
         L     @10,DCTPTR                                       02S1142
         TM    DCT3270(@10),B'00000100'                         02S1142
         BNO   @RF01142                                         02S1142
*     REG08=ADDR(SATR3270);         /* SIM ATTN SEQUENCE FOR REMOTE
*                                      3270                   @YM0566*/
         LA    REG08,SATR3270                                   02S1143
*   ELSE                                                        02S1144
*     IF DCTTWX=ON THEN             /* TWX KEYBOARD RATTLE           */
         B     @RC01142                                         02S1144
@RF01142 L     @10,DCTPTR                                       02S1144
         TM    DCTTWX(@10),B'00100000'                          02S1144
         BNO   @RF01144                                         02S1144
*       REG08=ADDR(SATTWX);         /* SIM ATTN SEQUENCE FOR TWX     */
         LA    REG08,SATTWX                                     02S1145
*     ELSE                                                      02S1146
*       IF TRMSNA=ON THEN           /* SNA TERMINALS PROMPT SEQUENCE
*                                                            @YM08465*/
         B     @RC01144                                         02S1146
@RF01144 TM    TRMSNA(RTRM),B'00000010'                         02S1146
         BNO   @RF01146                                         02S1146
*         REG08=ADDR(SNADEFLT);     /* SNA PROMPT SEQUENCE   @YM08465*/
         LA    REG08,SNADEFLT                                   02S1147
*       ELSE                                                    02S1148
*         REG08=ADDR(SATDEFLT);     /* DEFAULT SEQUENCE - KEYBOARD
*                                      RATTLE                @YM05666*/
         B     @RC01146                                         02S1148
@RF01146 LA    REG08,SATDEFLT                                   02S1148
*/* REGS SET AS FOLLOWS FOR EXIT TO IEDAYM:                     02S1149
*R1=0                                                           02S1149
*R3=ADDR(SCB)                                                   02S1149
*R8=ADDR(PROMPT DATA)                                           02S1149
*R12 & R14 = ADDR(IEDAYM)                                            */
*                                                               02S1149
*   RPARM=ZERO;                     /* CLEAR R1 FOR IEDAYM           */
@RC01146 DS    0H                                               02S1149
@RC01144 DS    0H                                               02S1149
@RC01142 L     RPARM,ZERO                                       02S1149
*   RFY                                                         02S1150
*     RRET RSTD;                                                02S1150
*   RRET=AVTTSOPT->TSIMSGEN;        /* PICK UP ADDR OF IEDAYM        */
         L     @10,AVTTSOPT(,RAVT)                              02S1151
         L     RRET,TSIMSGEN(,@10)                              02S1151
*   GEN REFS(RBASE1,RRET) SETS(RBASE1) EXIT;                    02S1152
*                                          /*
* MOVE ADDRESS OF IEDAYM FROM RRET TO RBASE1 AND EXIT
         LR    RBASE1,RRET  R12 <- A(IEDAYM)                @YM06996
         BR    RBASE1       BRANCH TO AYM                   @YM06996
*   END SAPRMPT;                                                02S1153
@EL00020 DS    0H                                               02S1153
@EF00020 DS    0H                                               02S1153
@ER00020 BR    @14                                              02S1153
*   RFY                                                         02S1154
*    (RRET,                                                     02S1154
*     RSCB,                                                     02S1154
*     REG08) UNRSTD;                /*                       @YM05666*/
*                                                               02S1155
*   /*****************************************************************/
*   /*                                                               */
*   /* SCHDESIG: THIS SEGMENT CONTAINS THE SCHDESIG INTERNAL         */
*   /* PROCEDURE WHICH PROCESSES SENDING THE SIGNAL FOR BREAK-IN IF  */
*   /* RCVR IN XMIT MODE WAS RECEIVED ON THE LAST TPUT AND THE QCB   */
*   /* HAS NOT BEEN POSTED. THE SEGMENT CHKESIG IS CALLED FOR THIS   */
*   /* PURPOSE.                                              @YM06175*/
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1155
*   RFY                                                         02S1155
*     RRET RSTD;                                                02S1155
*SCHDESIG:                                                      02S1156
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1156
SCHDESIG DS    0H                                               02S1157
*   SAVEWD08=RRET;                  /* SAVE THE RETURN ADDRESS       */
         ST    RRET,SAVEWD08                                    02S1157
*   RFY                                                         02S1158
*     RRET UNRSTD;                                              02S1158
*   CALL CHKESIG;                   /* DETERMINE IF A SIGNAL IS 02S1159
*                                      REQUIRED FOR BREAK-IN         */
         BAL   @14,CHKESIG                                      02S1159
*   IF BUFAV=ON THEN                /* WAS A BUFFER OBTAINED         */
         TM    BUFAV,B'00000010'                                02S1160
         BNO   @RF01160                                         02S1160
*     DO;                                                       02S1161
*       QCBSNDRQ=ON;                /* REQUEST A SEND SCHEDULER THE
*                                      NEX TIME A PLCB IS REQUESTED  */
         LR    @10,RQCB                                         02S1162
         AL    @10,@CF03555                                     02S1162
         OI    QCBSNDRQ-4(@10),B'00100000'                      02S1162
*       RETCODE=REMOVESS;           /* REQUEST SEND SCHEDULER REMOVAL*/
         MVI   RETCODE,X'00'                                    02S1163
*     END;                                                      02S1164
*   ELSE                                                        02S1165
*     RETCODE=RCDSPDSP;             /* SET RETURN CODE FOR TSO SEND  */
         B     @RC01160                                         02S1165
@RF01160 MVI   RETCODE,X'04'                                    02S1165
*   RFY                                                         02S1166
*     RRET RSTD;                                                02S1166
@RC01160 DS    0H                                               02S1167
*   RRET=SAVEWD08;                  /* RESTORE THE RETURN ADDRESS    */
         L     RRET,SAVEWD08                                    02S1167
*   END SCHDESIG;                                               02S1168
@EL00021 DS    0H                                               02S1168
@EF00021 DS    0H                                               02S1168
@ER00021 BR    @14                                              02S1168
*   RFY                                                         02S1169
*     RRET UNRSTD;                                              02S1169
*                                                               02S1170
*   /*****************************************************************/
*   /*                                                               */
*   /* SIMATTN: THIS SEGMENT CONTAINS THE SIMATTN INTERNAL PROCEDURE */
*   /* WHICH DETERMINES WHETHER AN SMI WRITE OR SIM ATTN PROMPT OR A */
*   /* SIGNAL DATA FLOW CONTROL COMMAND IS REQUIRED TO LOCK SNA      */
*   /* KEYBOARDS IS TO BE DONE. IT ALSO HANDLES SIM ATTN BY TIME     */
*   /* DELAY AND NOTIFIES TSO THAT A TERMINAL IS ON THE TIME DELAY   */
*   /* QUEUE                                                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1170
*   RFY                                                         02S1170
*     RRET RSTD;                                                02S1170
*SIMATTN:                                                       02S1171
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1171
SIMATTN  DS    0H                                               02S1172
*   SAVEWD01=RRET;                                              02S1172
         ST    RRET,SAVEWD01                                    02S1172
*   RFY                                                         02S1173
*     RRET UNRSTD;                                              02S1173
*   IF QCBSATRD=ON THEN             /* SIM ATTN READ REQUEST         */
         TM    QCBSATRD(RQCB),B'00001000'                       02S1174
         BNO   @RF01174                                         02S1174
*     IF QCBSIMRD=ON THEN           /* SIM ATTN READ IN PROGRESS     */
         TM    QCBSIMRD(RQCB),B'00001000'                       02S1175
         BNO   @RF01175                                         02S1175
*       CALL SMIRTN;                /* SMI PROCESSING                */
         BAL   @14,SMIRTN                                       02S1176
*     ELSE                                                      02S1177
*       CALL SAPRMPT;               /* SIM ATTN PROMPT PROCESSING OR
*                                      SNA KEYBOARD LOCK PROCESSING  */
         B     @RC01175                                         02S1177
@RF01175 BAL   @14,SAPRMPT                                      02S1177
*   ELSE                                                        02S1178
*     DO;                           /*                       @Y17XAYP*/
         B     @RC01174                                         02S1178
@RF01174 DS    0H                                               02S1179
*       RETCODE=FREEPLCB;           /* SET RETURN TO FREE PLCB  02S1179
*                                                            @YM08578*/
         MVI   RETCODE,X'14'                                    02S1179
*       IF DCT3270=OFF&             /* DONT SEND SIGNAL TO 3270 02S1180
*                                                            @YM07018*/
*           TRMSNA=ON&SIBCD=OFF&QCBNOBUF=ON THEN/* IF THE SNA   02S1180
*                                      KEYBOARD HAS NOT BEEN LOCKED
*                                      AND MUST BE LOCKED BECAUSE OF
*                                      NO BUFFERS            @Y17XAYP*/
         L     @10,DCTPTR                                       02S1180
         TM    DCT3270(@10),B'00000100'                         02S1180
         BNZ   @RF01180                                         02S1180
         TM    TRMSNA(RTRM),B'00000010'                         02S1180
         BNO   @RF01180                                         02S1180
         ICM   @10,7,TRMSIBPT(RTRM)                             02S1180
         TM    SIBCD(@10),B'10000000'                           02S1180
         BNZ   @RF01180                                         02S1180
         TM    QCBNOBUF(RQCB),B'00010000'                       02S1180
         BNO   @RF01180                                         02S1180
*         DO;                       /*                       @YM07018*/
*           CALL GETBFR;            /* REQUEST A BUFFER FOR THE 02S1182
*                                      SIGNAL                @YM07018*/
         BAL   @14,GETBFR                                       02S1182
*           IF BUFAV=ON THEN        /* WAS A BUFFER OBTAINED @YM07018*/
         TM    BUFAV,B'00000010'                                02S1183
         BNO   @RF01183                                         02S1183
*             DO;                   /*                       @YM07018*/
*               CALL SNDESIG;       /* SEND SIGNAL TO LOCK KEYBOARD
*                                                            @YM07018*/
         BAL   @14,SNDESIG                                      02S1185
*               SIBCD=ON;           /* INDICATE KEYBOARD LOCKED 02S1186
*                                                            @YM07018*/
         ICM   @10,7,TRMSIBPT(RTRM)                             02S1186
         OI    SIBCD(@10),B'10000000'                           02S1186
*             END;                  /*                       @YM07018*/
*           ELSE                    /* ERB HAS BEEN POSTED TO REQUEST
*                                      A BUFFER              @YM07018*/
*             RETCODE=RCDSPDSP;     /* INDICATE NO PROCESSING UNTIL
*                                      SIGNAL SENT           @YM07018*/
         B     @RC01183                                         02S1188
@RF01183 MVI   RETCODE,X'04'                                    02S1188
*         END;                      /*                       @YM07018*/
*       ELSE                        /*                       @Y17XAYP*/
*         IF QCBSATTI=ON THEN       /* SIM ATTN BY TIME DELAY REQUEST*/
         B     @RC01180                                         02S1190
@RF01180 TM    QCBSATTI(RQCB),B'00000010'                       02S1190
         BNO   @RF01190                                         02S1190
*           IF QCBPOSTO=OFF THEN    /* QCB HAS NOT BEEN POSTED       */
         TM    QCBPOSTO(RQCB),B'00100000'                       02S1191
         BNZ   @RF01191                                         02S1191
*             DO;                                               02S1192
*               RFY                                             02S1193
*                 RLINK RSTD;                                   02S1193
*                                                               02S1193
*               /*****************************************************/
*               /*                                                   */
*               /* THE FOLLOWING CODE REPLACES A QTIP ENTRY CODE 25  */
*               /* FOR MVS                                           */
*               /*                                                   */
*               /*****************************************************/
*                                                               02S1194
*               IF QCBTPUT=ON×QCBDELAY=ON THEN/* TPUT IN PROGRESS OR
*                                      QCB ALREADY ON TIME DELAY
*                                      QUEUE                 @G36XRYP*/
         TM    QCBTPUT(RQCB),B'00100010'                        02S1194
         BZ    @RF01194                                         02S1194
*                 RLINK=4;          /* INDICATE QCB NOT PLACED ON
*                                      TIME DELAY QUEUE      @G36XRYP*/
         LA    RLINK,4                                          02S1195
*               ELSE                                            02S1196
*                 DO;                                           02S1196
         B     @RC01194                                         02S1196
@RF01194 DS    0H                                               02S1197
*                   QCBDELAY=ON;    /* INDICATE QCB ON TIME DELAY
*                                                            @G36XRYP*/
         OI    QCBDELAY(RQCB),B'00000010'                       02S1197
*                   IF QCBPOSTO=ON THEN/* HAS THE QCB ALREADY BEEN
*                                      POSTED                @G36XRYP*/
         TM    QCBPOSTO(RQCB),B'00100000'                       02S1198
         BNO   @RF01198                                         02S1198
*                     DO;           /*                       @G36XRYP*/
*                       QCBDELAY=OFF;/* INDICATE QCB NOT ON TIME
*                                      DELAY                 @G36XRYP*/
         NI    QCBDELAY(RQCB),B'11111101'                       02S1200
*                       RLINK=4;    /* INDICATE QCB NOT PLACED ON
*                                      TIME DELAY QUEUE      @G36XRYP*/
         LA    RLINK,4                                          02S1201
*                     END;          /*                       @G36XRYP*/
*                   ELSE                                        02S1203
*                     DO;           /*                       @G36XRYP*/
         B     @RC01198                                         02S1203
@RF01198 DS    0H                                               02S1204
*                       QCBELCHN=TSISIMAT;/* SET QCB FOR ENTRY TO
*                                      IEDAYS WHEN TIME DELAY EXPIRES
*                                                            @G36XRYP*/
         L     @14,AVTTSOPT(,RAVT)                              02S1204
         MVC   QCBELCHN(3,RQCB),TSISIMAT+1(@14)                 02S1204
*                       QCBPRI=PRITIME;/* TIME DELAY POST PRIORITY
*                                                            @G36XRYP*/
         MVI   QCBPRI(RQCB),X'F0'                               02S1205
*                       RFY                                     02S1206
*                        (RTSB,                                 02S1206
*                         RASCB) RSTD;/*                     @OZ28676*/
*                       RFY                                     02S1207
*                         REG10 RSTD;/*                      @OZ28676*/
*                       REG10=RBASE2;/* SAVE SECOND BASE REG @OZ28676*/
         LR    REG10,RBASE2                                     02S1208
*                       RASCB=ASVTENTY(QCBTJID);/* ASCB ADDRESS 02S1209
*                                                            @ZM46822*/
         LH    @14,QCBTJID(,RQCB)                               02S1209
         SLA   @14,2                                            02S1209
         L     @05,CVTPTR                                       02S1209
         L     @05,ASVTPTR(,@05)                                02S1209
         L     RASCB,ASVTENTY-4(@14,@05)                        02S1209
*                       RTSB=ASCBTSB;/* GET TSB ADDRESS      @G36XRYP*/
         L     RTSB,ASCBTSB(,RASCB)                             02S1210
*                       QCBEOLDT=TSBATNTC;/*                 @G36XRYP*/
         MVC   QCBEOLDT(2,RQCB),TSBATNTC(RTSB)                  02S1211
*                       RBASE2=REG10;/* RESTORE BASE REG     @OZ28676*/
         LR    RBASE2,REG10                                     02S1212
*                       RFY                                     02S1213
*                         REG10 UNRSTD;/*                    @OZ28676*/
*                       RFY                                     02S1214
*                        (RTSB,                                 02S1214
*                         RASCB) UNRSTD;/*                   @OZ28676*/
*                       QCBLINK=QCBCARCT;/*                  @G36XRYP*/
         SLR   @14,@14                                          02S1215
         IC    @14,QCBCARCT(,RQCB)                              02S1215
         STCM  @14,7,QCBLINK(RQCB)                              02S1215
*                       QCBRETCT=ZERO;/*                     @G36XRYP*/
         MVC   QCBRETCT(1,RQCB),ZERO+3                          02S1216
*                       RLINK=0;    /* INDICATE QCB PLACED ON TIME
*                                      DELAY QUEUE           @G36XRYP*/
         SLR   RLINK,RLINK                                      02S1217
*                     END;          /*                       @G36XRYP*/
*                 END;              /*                       @G36XRYP*/
@RC01198 DS    0H                                               02S1220
*               IF RLINK=0 THEN     /* QCB NOT ALREADY ON TIME DELAY */
@RC01194 LTR   RLINK,RLINK                                      02S1220
         BNZ   @RF01220                                         02S1220
*                 DO;                                           02S1221
*                   RFY                                         02S1222
*                     RLINK UNRSTD;                             02S1222
*                   QCBELCHN=RQCB;  /* SET QCB ADDRESS       @YM08084*/
         STCM  RQCB,7,QCBELCHN(RQCB)                            02S1223
*                   QCBPRI=PRIEDISP;/* SET PRIORITY          @YM08084*/
         MVI   QCBPRI(RQCB),X'E0'                               02S1224
*                   QCBLKRLN=ZERO;  /* INDICATE QCB          @YM08084*/
         MVC   QCBLKRLN(1,RQCB),ZERO+3                          02S1225
*                   RPARM=RQCB;     /* R1 = ADDR OF QCB TO BE PUT ON */
         LR    RPARM,RQCB                                       02S1226
*                   CALL IEDQHG01;  /* TIME DELAY QUEUE              */
         L     @15,AVTHG01(,RAVT)                               02S1227
         BALR  @14,@15                                          02S1227
*                 END;                                          02S1228
*             END;                                              02S1229
*           ELSE                                                02S1230
*             ;                                                 02S1230
@RF01191 DS    0H                                               02S1231
*         ELSE                                                  02S1231
*           DO;                                                 02S1231
         B     @RC01190                                         02S1231
@RF01190 DS    0H                                               02S1232
*             IF TRMSNA=ON THEN     /* MONITOR NOT USED FOR SNA TERM
*                                                            @YM06948*/
         TM    TRMSNA(RTRM),B'00000010'                         02S1232
         BO    @RT01232                                         02S1232
*               ;                                               02S1233
*             ELSE                  /*                       @YM06948*/
*               IF TRMPREP=OFF THEN /* MONITOR NOT ACTIVE IN NCP     */
         TM    TRMPREP(RTRM),B'00000100'                        02S1234
         BNZ   @RF01234                                         02S1234
*                 TRMPREP=ON;       /* SET MONITOR MODE INDICATOR    */
         LA    @15,TRMPREP(,RTRM)                               02S1235
         LR    @14,@15                                          02S1235
         LA    @10,3                                            02S1235
         NR    @14,@10                                          02S1235
         LCR   @14,@14                                          02S1235
         ALR   @15,@14                                          02S1235
         L     @10,0(,@15)                                      02S1235
@GL00046 LR    @05,@10                                          02S1235
         O     @05,@CB03574+3(@14)                              02S1235
         CS    @10,@05,0(@15)                                   02S1235
         BNE   @GL00046                                         02S1235
*             RETCODE=CONTRCVS;     /* SET RETURN TO CONTINUE RECV
*                                      SCHEDULING                    */
@RF01234 DS    0H                                               02S1236
@RT01232 MVI   RETCODE,X'00'                                    02S1236
*           END;                                                02S1237
*     END;                                                      02S1238
@RC01190 DS    0H                                               02S1238
@RC01180 DS    0H                                               02S1239
*   RFY                                                         02S1239
*     RRET RSTD;                                                02S1239
@RC01174 DS    0H                                               02S1240
*   RRET=SAVEWD01;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD01                                    02S1240
*   END SIMATTN;                                                02S1241
@EL00022 DS    0H                                               02S1241
@EF00022 DS    0H                                               02S1241
@ER00022 BR    @14                                              02S1241
*   RFY                                                         02S1242
*     RRET UNRSTD;                                              02S1242
*                                                               02S1243
*   /*****************************************************************/
*   /*                                                               */
*   /* SMIRTN: THIS SEGMENT CONTAINS THE SMIRTN INTERNAL PROCEDURE   */
*   /* WHICH DETERMINES WHETHER THE SMI SEQUENCE SHOULD BE SENT, HAS */
*   /* BEEN SENT OR SHOULD NOT BE SENT. IF IT SHOULD BE SENT, THE    */
*   /* BLDSMI INTERNAL PROCEDURE IS CALLED.                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1243
*   RFY                                                         02S1243
*     RRET RSTD;                                                02S1243
*SMIRTN:                                                        02S1244
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1244
SMIRTN   DS    0H                                               02S1245
*   SAVEWD02=RRET;                                              02S1245
         ST    RRET,SAVEWD02                                    02S1245
*   RFY                                                         02S1246
*     RRET UNRSTD;                                              02S1246
*   IF TRMSNA=ON THEN                                           02S1247
*                                                               02S1247
         TM    TRMSNA(RTRM),B'00000010'                         02S1247
         BNO   @RF01247                                         02S1247
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS UNLOCK KEYBOARD AND SMI PROMPT FOR SNA TERMINALS    */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1248
*     DO;                                                       02S1248
*       IF SIBCD=ON×QCBDSSMI=OFF THEN/* IS KEYBOARD LOCKED OR SMI
*                                      REQUIRED              @YM06127*/
         ICM   @10,7,TRMSIBPT(RTRM)                             02S1249
         TM    SIBCD(@10),B'10000000'                           02S1249
         BO    @RT01249                                         02S1249
         TM    QCBDSSMI(RQCB),B'00010000'                       02S1249
         BNZ   @RF01249                                         02S1249
@RT01249 DS    0H                                               02S1250
*         CALL BLDSMI;              /* UNLOCK KEYBOARD OR SEND SMI   */
         BAL   @14,BLDSMI                                       02S1250
*     END;                                                      02S1251
*   ELSE                            /*                       @Y17XAYP*/
*                                                               02S1252
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS SMI PROMPT FOR BSC AND START/STOP TERMINALS         */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1252
*     DO;                                                       02S1252
         B     @RC01247                                         02S1252
@RF01247 DS    0H                                               02S1253
*       IF TRMRDOUT=ON×TRMINOUT=ON THEN/* IS A READ OUTSTANDING 02S1253
*                                                            @YM06859*/
         TM    TRMRDOUT(RTRM),B'00000011'                       02S1253
         BZ    @RF01253                                         02S1253
*         RETCODE=FREEPLCB;         /* SET RETURN TO FREEPLCB   02S1254
*                                                            @YM08578*/
         MVI   RETCODE,X'14'                                    02S1254
*       ELSE                                                    02S1255
*         IF QCBDSSMI=ON THEN       /* HAS SMI BEEN SENT             */
         B     @RC01253                                         02S1255
@RF01253 TM    QCBDSSMI(RQCB),B'00010000'                       02S1255
         BNO   @RF01255                                         02S1255
*           RETCODE=CONTRCVS;       /* YES, SET RETURN FOR CONTINUE
*                                      RECV SCHEDULING               */
         MVI   RETCODE,X'00'                                    02S1256
*         ELSE                                                  02S1257
*           CALL BLDSMI;            /* GO BUILD THE SMI SEQUENCE     */
         B     @RC01255                                         02S1257
@RF01255 BAL   @14,BLDSMI                                       02S1257
*     END;                                                      02S1258
@RC01255 DS    0H                                               02S1258
@RC01253 DS    0H                                               02S1259
*   IF RETCODE=INITVAL THEN         /* IF RETURN CODE HAS NOT BEEN
*                                      SET                           */
@RC01247 CLI   RETCODE,X'FF'                                    02S1259
         BNE   @RF01259                                         02S1259
*     RETCODE=CONTRCVS;             /* THEN INDICATE CONTINUE RECV
*                                      SCHEDULING                    */
         MVI   RETCODE,X'00'                                    02S1260
*   RFY                                                         02S1261
*     RRET RSTD;                                                02S1261
@RF01259 DS    0H                                               02S1262
*   RRET=SAVEWD02;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD02                                    02S1262
*   END SMIRTN;                                                 02S1263
@EL00023 DS    0H                                               02S1263
@EF00023 DS    0H                                               02S1263
@ER00023 BR    @14                                              02S1263
*   RFY                                                         02S1264
*     RRET UNRSTD;                                              02S1264
*                                                               02S1265
*   /*****************************************************************/
*   /*                                                               */
*   /* SNDESIG: THIS SEGMENT CONTAINS THE SNDESIG INTERNAL PROCEDURE */
*   /* WHICH BUILDS SIGNAL DATA FLOW CONTROL COMMAND IN A PIU AND    */
*   /* POSTS THE PIU TO IEDDFOUT.                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1265
*   RFY                                                         02S1265
*     RRET RSTD;                                                02S1265
*SNDESIG:                                                       02S1266
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1266
SNDESIG  DS    0H                                               02S1267
*   SAVEWD06=RRET;                                              02S1267
         ST    RRET,SAVEWD06                                    02S1267
*   RFY                                                         02S1268
*     RRET UNRSTD;                                              02S1268
*   BREAKPST=ON;                    /* INDICATE ESIG SENT    @YM06127*/
         OI    BREAKPST,B'00001000'                             02S1269
*   RFY                                                         02S1270
*     IEDTH BASED(ADDR(PIUTH));     /*                       @Y17XAYP*/
*   RFY                                                         02S1271
*     IEDRH BASED(ADDR(PIURH));     /*                       @Y17XAYP*/
*   CALL PIU1COND;                  /* CONDITION THE FID1 PIU   02S1272
*                                                            @Y17XAYP*/
         BAL   @14,PIU1COND                                     02S1272
*   TTHEFI=ON;                      /* EXPEDITED FLOW DFC COMMAND
*                                                            @Y17XAYP*/
         LA    @10,PRFPIUO(,RPRF)                               02S1273
         SLR   @05,@05                                          02S1273
         IC    @05,PRFPIUO(,RPRF)                               02S1273
         ALR   @10,@05                                          02S1273
         OI    TTHEFI(@10),B'00000001'                          02S1273
*   TRHRUCAT=TRHDFC;                /* DATA FLOW CONTROL COMMAND
*                                                            @YM07018*/
         NI    TRHRUCAT+10(@10),B'11011111'                     02S1274
         OI    TRHRUCAT+10(@10),B'01000000'                     02S1274
*   TTHDCF=LENGTH(IEDRH)+LENGTH(SIGNAL);/* SET UP DATA COUNT FIELD
*                                                            @Y17XAYP*/
         LA    @05,8                                            02S1275
         STH   @05,TTHDCF(,@10)                                 02S1275
*   SIGRU=SIGNAL;                   /* MOVE THE SIGNAL COMMAND TO THE
*                                      PIU                   @Y17XAYP*/
         MVC   SIGRU+13(5,@10),SIGNAL                           02S1276
*   QCBESIG=OFF;                    /* INDICATE SIGNAL NO LONGER
*                                      REQUIRED                      */
         LCR   @05,@05                                          02S1277
         ALR   @05,RQCB                                         02S1277
         NI    QCBESIG(@05),B'11110111'                         02S1277
*   PRFPRI=PRIOUTBD;                /* SET POST PRIORITY     @Y17XAYP*/
         MVI   PRFPRI(RPRF),X'E4'                               02S1278
*   PRFQCBA=SAVTDFCO;               /* POST TO IEDDFOUT      @Y17XAYP*/
         L     @10,AVTSAVTP(,RAVT)                              02S1279
         MVC   PRFQCBA(3,RPRF),SAVTDFCO+1(@10)                  02S1279
*   RPARM=RPRF;                     /* BUFFER FOR DISPATCHER @Y17XAYP*/
         LR    RPARM,RPRF                                       02S1280
*   CALL DSPPOSTR;                  /* CALL DISPATCHER FOR POST      */
         LA    @15,DSPPOSTR(,RDISP)                             02S1281
         BALR  @14,@15                                          02S1281
*   RQCB=TRMDESTQ;                  /* RESTORE QCB ADDR AFTER DISP
*                                      CALL                          */
         SLR   RQCB,RQCB                                        02S1282
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S1282
*   RFY                                                         02S1283
*     RRET RSTD;                                                02S1283
*   RRET=SAVEWD06;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD06                                    02S1284
*   END SNDESIG;                                                02S1285
@EL00024 DS    0H                                               02S1285
@EF00024 DS    0H                                               02S1285
@ER00024 BR    @14                                              02S1285
*   RFY                                                         02S1286
*     RRET UNRSTD;                                              02S1286
*                                                               02S1287
*   /*****************************************************************/
*   /*                                                               */
*   /* TCAMSND: THIS SEGMENT CONTAINS THE TCAMSND INTERNAL PROCEDURE */
*   /* WHICH DETERMINES WHETHER A TCAM SEND OPERATION SHOULD BE      */
*   /* PERFORMED OR IF THE SEND SCHEDULER SHOULD BE REMOVED.         */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1287
*   RFY                                                         02S1287
*     RRET RSTD;                                                02S1287
*TCAMSND:                                                       02S1288
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1288
TCAMSND  DS    0H                                               02S1289
*   SAVEWD03=RRET;                                              02S1289
         ST    RRET,SAVEWD03                                    02S1289
*   RFY                                                         02S1290
*     RRET UNRSTD;                                              02S1290
*   IF QCBTSSES=ON THEN             /* TERMINAL IN TSO SESSION?      */
*                                                               02S1291
         TM    QCBTSSES(RQCB),B'10000000'                       02S1291
         BNO   @RF01291                                         02S1291
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS ENDING OF A TSO SESSION                             */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1292
*     DO;                                                       02S1292
*       QCBTSSES=OFF;               /* INDICATE NO LONGER IN TSO
*                                      SESSION                       */
         NI    QCBTSSES(RQCB),B'01111111'                       02S1293
*       LCBTSBUF=OFF;               /* RESET TSO BUFFER PROCESS 02S1294
*                                      INDICATOR IN PLCB             */
         NI    LCBTSBUF(RLCB),B'10111111'                       02S1294
*       IF TRMSNA=ON THEN           /* IS THIS A SNA TERMINAL   02S1295
*                                                            @YM06127*/
         TM    TRMSNA(RTRM),B'00000010'                         02S1295
         BNO   @RF01295                                         02S1295
*         CALL ENDBRKT;             /* END BRACKET FOR SNA   @YM06127*/
         BAL   @14,ENDBRKT                                      02S1296
*       ELSE                        /*                       @Y17XAYP*/
*         DO;                                                   02S1297
*                                                               02S1297
         B     @RC01295                                         02S1297
@RF01295 DS    0H                                               02S1298
*           /*********************************************************/
*           /*                                                       */
*           /* THE TSO SESSION HAS ENDED. POST THE LCB TO ITSELF TO  */
*           /* RE-ENTER THE TCAM SEND SCHEDULER .                    */
*           /*                                                       */
*           /*********************************************************/
*                                                               02S1298
*           RPARM=RLCB;             /* R1 = ADDR OF PLCB     @Y17XAYP*/
         LR    RPARM,RLCB                                       02S1298
*           CALL DSPPOSTR;          /* POST PLCB TO RE-ENTER FOR TCAM
*                                      SEND                  @Y17XAYP*/
         LA    @15,DSPPOSTR(,RDISP)                             02S1299
         BALR  @14,@15                                          02S1299
*           RQCB=TRMDESTQ;          /* RESTORE THE QCB ADDRESS  02S1300
*                                                            @Y17XAYP*/
         SLR   RQCB,RQCB                                        02S1300
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S1300
*           RETCODE=RCDSPDSP;       /* SET RETURN FOR DSPDISP   02S1301
*                                                            @Y17XAYP*/
         MVI   RETCODE,X'04'                                    02S1301
*         END;                      /*                       @Y17XAYP*/
*     END;                                                      02S1303
*   ELSE                                                        02S1304
*     DO;                                                       02S1304
*                                                               02S1304
         B     @RC01291                                         02S1304
@RF01291 DS    0H                                               02S1305
*       /*************************************************************/
*       /*                                                           */
*       /* PROCESS WITH NO TSO SESSION CURRENTLY ACTIVE              */
*       /*                                                           */
*       /*************************************************************/
*                                                               02S1305
*       RFY                                                     02S1305
*         RSMH RSTD;                /* WILL HAVE STARTMH BASE ADDR   */
*       RSMH=LCBMHA;                /* GET STARTMH QCB ADDR  @YM06085*/
         SLR   RSMH,RSMH                                        02S1306
         ICM   RSMH,7,LCBMHA(RLCB)                              02S1306
*       IF QCBALTMH=ON THEN         /* ALTERNATE MH BEING USED       */
         TM    QCBALTMH(RQCB),B'00001000'                       02S1307
         BNO   @RF01307                                         02S1307
*         RSMH=STMHALT;             /* GET ALTERNATE STARTMH QCB ADDR*/
         L     RSMH,STMHALT(,RSMH)                              02S1308
*       IF STMHTSFG=OFF&            /* IS THIS A TCAM MH - I.E. NOT
*                                      TSO, AND...                   */
*           (QCBREUS=ON×QCBCORE=ON×QCBNREUS=ON)/* TCAM QUEUES...     */
*         THEN                                                  02S1309
@RF01307 TM    STMHTSFG(RSMH),B'00000001'                       02S1309
         BNZ   @RF01309                                         02S1309
         TM    QCBREUS(RQCB),B'01110000'                        02S1309
         BZ    @RF01309                                         02S1309
*         RETCODE=TCAMSEND;         /* INDICATE TCAM SEND STATE      */
         MVI   RETCODE,X'08'                                    02S1310
*       ELSE                                                    02S1311
*         RETCODE=REMOVESS;         /* SET RETURN TO REMOVE SEND
*                                      SCHEDULER                     */
         B     @RC01309                                         02S1311
@RF01309 MVI   RETCODE,X'00'                                    02S1311
*     END;                                                      02S1312
@RC01309 DS    0H                                               02S1313
*   RFY                                                         02S1313
*     RRET RSTD;                                                02S1313
@RC01291 DS    0H                                               02S1314
*   RFY                                                         02S1314
*     RSMH UNRSTD;                                              02S1314
*   RRET=SAVEWD03;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD03                                    02S1315
*   END TCAMSND;                                                02S1316
@EL00025 DS    0H                                               02S1316
@EF00025 DS    0H                                               02S1316
@ER00025 BR    @14                                              02S1316
*   RFY                                                         02S1317
*     RRET UNRSTD;                                              02S1317
*                                                               02S1318
*   /*****************************************************************/
*   /*                                                               */
*   /* TSOSND: THIS SEGMENT CONTAINS THE TSOSND INTERNAL PROCEDURE   */
*   /* WHICH DETERMINES WHETHER A TSO SEND OPERATION SHOULD BE       */
*   /* PERFORMED OR THE SEND SCHEDULER SHOULD BE REMOVED.            */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1318
*   RFY                                                         02S1318
*     RRET RSTD;                                                02S1318
*TSOSND:                                                        02S1319
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1319
TSOSND   DS    0H                                               02S1320
*   SAVEWD02=RRET;                                              02S1320
         ST    RRET,SAVEWD02                                    02S1320
*   RFY                                                         02S1321
*     RRET UNRSTD;                                              02S1321
*   IF QCBWRBRK=ON THEN                                         02S1322
         TM    QCBWRBRK(RQCB),B'10000000'                       02S1322
         BNO   @RF01322                                         02S1322
*     DO;                           /* IF A WRITE BREAK REQUESTED... */
*                                                               02S1323
*       /*************************************************************/
*       /*                                                           */
*       /* TPUT BREAK PROCESS                                        */
*       /*                                                           */
*       /*************************************************************/
*                                                               02S1324
*       QCBREAD=OFF;                /* INDICATE THAT READ DOES NOT
*                                      HAVE PRTY                     */
         NI    QCBREAD(RQCB),B'11011111'                        02S1324
*       IF QCBDELAY=ON THEN         /* QCB IS ON DELAY QUEUE         */
         TM    QCBDELAY(RQCB),B'00000010'                       02S1325
         BNO   @RF01325                                         02S1325
*         DO;                                                   02S1326
*           RPARM=RQCB;             /* R1 <- QCB ADDR                */
         LR    RPARM,RQCB                                       02S1327
*           CALL IEDQHG02;          /* CALL DELAY QUEUE ELEMENT 02S1328
*                                      REMOVAL ROUTINE               */
         L     @15,AVTHG02(,RAVT)                               02S1328
         BALR  @14,@15                                          02S1328
*         END;                                                  02S1329
*       IF TRMSNA=ON&QCBESIG=ON THEN/*                       @YM06175*/
@RF01325 TM    TRMSNA(RTRM),B'00000010'                         02S1330
         BNO   @RF01330                                         02S1330
         LR    @10,RQCB                                         02S1330
         AL    @10,@CF03555                                     02S1330
         TM    QCBESIG-4(@10),B'00001000'                       02S1330
         BNO   @RF01330                                         02S1330
*         CALL SCHDESIG;            /* CHECK TO SEE IF A SIGNAL IS
*                                      REQUIRED              @YM06175*/
         BAL   @14,SCHDESIG                                     02S1331
*       ELSE                                                    02S1332
*         RETCODE=TSOSEND;          /* SET RETURN FOR TSO SEND  02S1332
*                                      OPERATION             @YM06175*/
         B     @RC01330                                         02S1332
@RF01330 MVI   RETCODE,X'0C'                                    02S1332
*     END;                                                      02S1333
*   ELSE                                                        02S1334
*                                                               02S1334
*     /***************************************************************/
*     /*                                                             */
*     /* TPUT NOBREAK PROCESS                                        */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1334
*     IF QCBREAD=ON THEN            /* IF READ HAS PRTY              */
         B     @RC01322                                         02S1334
@RF01322 TM    QCBREAD(RQCB),B'00100000'                        02S1334
         BNO   @RF01334                                         02S1334
*       DO;                                                     02S1335
*         QCBSNDRQ=ON;              /* REQUEST SEND SCHEDULER NEXT
*                                      PLCB REQUEST          @YM06860*/
         LR    @10,RQCB                                         02S1336
         AL    @10,@CF03555                                     02S1336
         OI    QCBSNDRQ-4(@10),B'00100000'                      02S1336
*         RETCODE=REMOVESS;         /* SET RETURN TO REMOVE SEND
*                                      SCHEDULER             @YM06860*/
         MVI   RETCODE,X'00'                                    02S1337
*       END;                                                    02S1338
*     ELSE                                                      02S1339
*       IF QCBTPUT=ON THEN          /* IF A TPUT REQUEST...          */
         B     @RC01334                                         02S1339
@RF01334 TM    QCBTPUT(RQCB),B'00100000'                        02S1339
         BNO   @RF01339                                         02S1339
*         RETCODE=TSOSEND;          /* SET RETURN FOR TSO SEND  02S1340
*                                      OPERATION                     */
         MVI   RETCODE,X'0C'                                    02S1340
*       ELSE                                                    02S1341
*         RETCODE=REMOVESS;         /* REMOVE SEND SCHED             */
         B     @RC01339                                         02S1341
@RF01339 MVI   RETCODE,X'00'                                    02S1341
*   RFY                                                         02S1342
*     RRET RSTD;                                                02S1342
@RC01339 DS    0H                                               02S1342
@RC01334 DS    0H                                               02S1342
@RC01322 DS    0H                                               02S1343
*   RRET=SAVEWD02;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD02                                    02S1343
*   END TSOSND;                                                 02S1344
@EL00026 DS    0H                                               02S1344
@EF00026 DS    0H                                               02S1344
@ER00026 BR    @14                                              02S1344
*   RFY                                                         02S1345
*     RRET UNRSTD;                                              02S1345
*                                                               02S1346
*   /*****************************************************************/
*   /*                                                               */
*   /* WBRESET: THIS SEGMENT CONTAINS THE WBRESET INTERNAL PROCEDURE */
*   /* WHICH DETERMINES WHETHER A RESET CONDITIONAL OR RESET         */
*   /* IMMEDIATE SHOULD BE SENT. IT ALSO SETS THE INDICATOR THAT A   */
*   /* WRITE BREAK IS IN PROGRESS.                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1346
*   RFY                                                         02S1346
*     RRET RSTD;                                                02S1346
*WBRESET:                                                       02S1347
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1347
WBRESET  DS    0H                                               02S1348
*   SAVEWD04=RRET;                  /* SAVE THE RETURN ADDRESS       */
         ST    RRET,SAVEWD04                                    02S1348
*   RFY                                                         02S1349
*     RRET UNRSTD;                                              02S1349
*   IF QCBNOBRK=OFF THEN            /* IT IS A BREAK TERMINAL        */
*                                                               02S1350
         TM    QCBNOBRK(RQCB),B'01000000'                       02S1350
         BNZ   @RF01350                                         02S1350
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS TERMINAL WITH BREAK FEATURE                         */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1351
*     DO;                                                       02S1351
*       TRMWRBRK=ON;                /* INDICATE WRITE BREAK IS IN
*                                      PROGRESS                      */
         LA    @15,TRMWRBRK(,RTRM)                              02S1352
         LR    @14,@15                                          02S1352
         LA    @10,3                                            02S1352
         NR    @14,@10                                          02S1352
         LCR   @14,@14                                          02S1352
         ALR   @15,@14                                          02S1352
         L     @10,0(,@15)                                      02S1352
@GL00050 LR    @05,@10                                          02S1352
         O     @05,@CB03566+3(@14)                              02S1352
         CS    @10,@05,0(@15)                                   02S1352
         BNE   @GL00050                                         02S1352
*       RESETYPE=IMM;               /* INDICATE RESET IMMEDIATE TO BE
*                                      SENT                          */
         OI    RESETYPE,B'00010000'                             02S1353
*     END;                                                      02S1354
*   ELSE                                                        02S1355
*                                                               02S1355
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS TERMINAL THAT DOES NOT HAVE BREAK FEATURE           */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1355
*     IF QCBDISC=ON THEN            /* DISCONNECT REQUESTED? IF SO...*/
         B     @RC01350                                         02S1355
@RF01350 TM    QCBDISC(RQCB),B'00000001'                        02S1355
         BNO   @RF01355                                         02S1355
*       RESETYPE=IMM;               /* INDICATE RESET IMMEDIATE TO BE
*                                      SENT                          */
         OI    RESETYPE,B'00010000'                             02S1356
*     ELSE                                                      02S1357
*       RESETYPE=COND;              /* INDICATE RESET CONDITIONAL TO
*                                      BE SENT                       */
         B     @RC01355                                         02S1357
@RF01355 NI    RESETYPE,B'11101111'                             02S1357
*   CALL GETBFR;                    /* GET A BUFFER          @YM06127*/
@RC01355 DS    0H                                               02S1358
@RC01350 BAL   @14,GETBFR                                       02S1358
*   IF BUFAV=ON THEN                /* WAS A BUFFER OBTAINED @YM06127*/
         TM    BUFAV,B'00000010'                                02S1359
         BNO   @RF01359                                         02S1359
*     CALL BLDRESET;                /* BUILD RESET AND POST IT TO
*                                      IEDSAO                        */
         BAL   @14,BLDRESET                                     02S1360
*   IF BREAKPST=OFF THEN            /* RESET NOT YET POSTED          */
@RF01359 TM    BREAKPST,B'00001000'                             02S1361
         BNZ   @RF01361                                         02S1361
*     TRMWRBRK=OFF;                 /* INDICATE WRITE BREAK NOT IN
*                                      PROGRESS                      */
         LA    @15,TRMWRBRK(,RTRM)                              02S1362
         LR    @14,@15                                          02S1362
         LA    @10,3                                            02S1362
         NR    @14,@10                                          02S1362
         LCR   @14,@14                                          02S1362
         ALR   @15,@14                                          02S1362
         L     @10,0(,@15)                                      02S1362
@GL00051 LR    @05,@10                                          02S1362
         N     @05,@CB03579+3(@14)                              02S1362
         CS    @10,@05,0(@15)                                   02S1362
         BNE   @GL00051                                         02S1362
*   ELSE                            /*                       @YM06861*/
*     TRMWTNEG=OFF;                 /* INDICATE NO LONGER WAITING FOR
*                                      NEGATIVE POLL LIMIT FROM 02S1363
*                                      POLLED TERMINALS      @YM06861*/
         B     @RC01361                                         02S1363
@RF01361 NI    TRMWTNEG(RTRM),B'01111111'                       02S1363
*   RFY                                                         02S1364
*     RRET RSTD;                                                02S1364
@RC01361 DS    0H                                               02S1365
*   RRET=SAVEWD04;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD04                                    02S1365
*   END WBRESET;                                                02S1366
@EL00027 DS    0H                                               02S1366
@EF00027 DS    0H                                               02S1366
@ER00027 BR    @14                                              02S1366
*   RFY                                                         02S1367
*     RRET UNRSTD;                                              02S1367
*                                                               02S1368
*   /*****************************************************************/
*   /*                                                               */
*   /* WRESET: THIS SEGMENT CONTAINS THE WRESET INTERNAL PROCEDURE   */
*   /* WHICH DETERMINES WHETHER THE TERMINAL HAS THE BREAK FEATURE   */
*   /* AND IF SO, PROCESSES THE TPUT BREAK BY USING TWO INTERNAL     */
*   /* PROCEDURES GETBFR (TO OBTAIN OR REQUEST A BUFFER) AND BLDRESET*/
*   /* (TO BUILD A RESET CONDITIONAL) UNLESS IT IS A POLLED TERMINAL */
*   /* IN WHICH CASE AN INDICATOR IS SET TO SHOW THAT NEGATIVE POLL  */
*   /* LIMIT IS BEING AWAITED.                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                               02S1368
*   RFY                                                         02S1368
*     RRET RSTD;                                                02S1368
*WRESET:                                                        02S1369
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                            02S1369
WRESET   DS    0H                                               02S1370
*   SAVEWD04=RRET;                                              02S1370
         ST    RRET,SAVEWD04                                    02S1370
*   RFY                                                         02S1371
*     RRET UNRSTD;                                              02S1371
*   IF QCBNOBRK=OFF THEN            /* TERMINAL HAS BREAK FEATURE    */
*                                                               02S1372
         TM    QCBNOBRK(RQCB),B'01000000'                       02S1372
         BNZ   @RF01372                                         02S1372
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS TERMINAL WITH BREAK FEATURE                         */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1373
*     DO;                                                       02S1373
*       IF TRMRDOUT=ON&             /* IS READ OUTSTANDING   @YM06862*/
*           (DCTSTCTL=ON&           /* IS THIS                       */
*           TRMDIAL=OFF) THEN       /* A POLLED TERMINAL             */
         TM    TRMRDOUT(RTRM),B'00000010'                       02S1374
         BNO   @RF01374                                         02S1374
         L     @10,DCTPTR                                       02S1374
         TM    DCTSTCTL(@10),B'00010000'                        02S1374
         BNO   @RF01374                                         02S1374
         TM    TRMDIAL(RTRM),B'00001000'                        02S1374
         BNZ   @RF01374                                         02S1374
*         TRMWTNEG=ON;              /* INDICATE AWAITING NEG POLL
*                                      LIMIT                         */
         OI    TRMWTNEG(RTRM),B'10000000'                       02S1375
*       IF PLCBNTRY=ON THEN         /* PLCB ENTRY STATE      @Y17XAYP*/
@RF01374 TM    PLCBNTRY,B'10000000'                             02S1376
         BNO   @RF01376                                         02S1376
*         WAITINPT=ON;              /* INDICATE WAITING FOR INPUT
*                                                            @Y17XAYP*/
         OI    WAITINPT,B'00000100'                             02S1377
*       ELSE                                                    02S1378
*         DO;                                                   02S1378
         B     @RC01376                                         02S1378
@RF01376 DS    0H                                               02S1379
*           RESETYPE=COND;          /* INDICATE RESET CONDITIONAL TO
*                                      BE SENT                       */
         NI    RESETYPE,B'11101111'                             02S1379
*           CALL GETBFR;            /* REQUEST A BUFFER      @YM06127*/
         BAL   @14,GETBFR                                       02S1380
*           IF BUFAV=ON THEN        /* WAS A BUFFER OBTAINED @YM06127*/
         TM    BUFAV,B'00000010'                                02S1381
         BNO   @RF01381                                         02S1381
*             CALL BLDRESET;        /* BUILD RESET AND POST TO IEDSAO*/
         BAL   @14,BLDRESET                                     02S1382
*         END;                                                  02S1383
*     END;                                                      02S1384
*   ELSE                            /* TERMINAL HAS NOBREAK FEATURE  */
*                                                               02S1385
*     /***************************************************************/
*     /*                                                             */
*     /* PROCESS TERMINAL THAT DOES NOT HAVE BREAK FEATURE           */
*     /*                                                             */
*     /***************************************************************/
*                                                               02S1385
*     IF PLCBNTRY=ON THEN           /* PLCB ENTRY STATE SET          */
         B     @RC01372                                         02S1385
@RF01372 TM    PLCBNTRY,B'10000000'                             02S1385
         BNO   @RF01385                                         02S1385
*       DO;                                                     02S1386
*         RFY                                                   02S1387
*           REG03 RSTD;             /*                       @Y17XAYP*/
*         REG03=RQCB;               /* QCB IN REG 3                  */
         LR    REG03,RQCB                                       02S1388
*         RQCB=RLCB;                /* PLCB IN REG 7                 */
         LR    RQCB,RLCB                                        02S1389
*         CALL DSPUNAVR;            /* MOVE SEND SCHED TO QCB        */
         LA    @15,DSPUNAVR(,RDISP)                             02S1390
         BALR  @14,@15                                          02S1390
*         RQCB=TRMDESTQ;            /* RESTORE QCB ADDRESS           */
         SLR   RQCB,RQCB                                        02S1391
         ICM   RQCB,7,TRMDESTQ(RTRM)                            02S1391
*         RLCB=QCBPLCBA;            /* RESTORE PLCB ADDRESS          */
         LR    @10,RQCB                                         02S1392
         AL    @10,@CF03583                                     02S1392
         SLR   RLCB,RLCB                                        02S1392
         ICM   RLCB,7,QCBPLCBA-5(@10)                           02S1392
*         RPARM=RLCB;               /* SET UP R1 FOR CALL TO         */
         LR    RPARM,RLCB                                       02S1393
*         CALL IEDIAP07;            /* FREE THE PLCB                 */
         L     @10,AVTSAVTP(,RAVT)                              02S1394
         L     @15,SAVTPRTN(,@10)                               02S1394
         BALR  @14,@15                                          02S1394
*       END;                                                    02S1395
*   WAITINPT=ON;                    /* INDICATE WAIT FOR INPUT TO
*                                      FINISH                @YM06863*/
@RF01385 DS    0H                                               02S1396
@RC01372 OI    WAITINPT,B'00000100'                             02S1396
*   RFY                                                         02S1397
*     RRET RSTD;                    /*                       @Y17XAYO*/
*   RRET=SAVEWD04;                  /* RESTORE RETURN ADDRESS TO RRET*/
         L     RRET,SAVEWD04                                    02S1398
*   END WRESET;                                                 02S1399
@EL00028 DS    0H                                               02S1399
@EF00028 DS    0H                                               02S1399
@ER00028 BR    @14                                              02S1399
*   RFY                                                         02S1400
*     RRET UNRSTD;                                              02S1400
*   END IEDAYJ                                                  01S1401
*                                                               01S1401
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (TAVTD   )                                       */
*/*%INCLUDE SYSLIB  (TBDUD   )                                       */
*/*%INCLUDE SYSLIB  (TCD0D   )                                       */
*/*%INCLUDE SYSLIB  (TDCTD   )                                       */
*/*%INCLUDE SYSLIB  (TDISPD  )                                       */
*/*%INCLUDE SYSLIB  (TLCBD   )                                       */
*/*%INCLUDE SYSLIB  (TLGBD   )                                       */
*/*%INCLUDE SYSLIB  (TPIU0D  )                                       */
*/*%INCLUDE SYSLIB  (TPIUD   )                                       */
*/*%INCLUDE SYSLIB  (TPRFD   )                                       */
*/*%INCLUDE SYSLIB  (TPRIOR  )                                       */
*/*%INCLUDE SYSLIB  (TQCBD   )                                       */
*/*%INCLUDE SYSLIB  (TREQD   )                                       */
*/*%INCLUDE SYSLIB  (TRHD    )                                       */
*/*%INCLUDE SYSLIB  (TSCBD   )                                       */
*/*%INCLUDE SYSLIB  (TSIBD   )                                       */
*/*%INCLUDE SYSLIB  (TSTCBD  )                                       */
*/*%INCLUDE SYSLIB  (TSTMHD  )                                       */
*/*%INCLUDE SYSLIB  (TTCXD   )                                       */
*/*%INCLUDE SYSLIB  (TTHD    )                                       */
*/*%INCLUDE SYSLIB  (TTRMD   )                                       */
*/*%INCLUDE SYSLIB  (TTSID   )                                       */
*/*%INCLUDE SYSLIB  (TTSWD   )                                       */
*/*%INCLUDE SYSLIB  (IKJTSB  )                                       */
*/*%INCLUDE SYSLIB  (IHAASCB )                                       */
*/*%INCLUDE SYSLIB  (IHAASVT )                                       */
*/*%INCLUDE SYSLIB  (CVT     )                                       */
*/*%INCLUDE SYSUT5  (RFY     )                                       */
*/*%INCLUDE SYSUT5  (DCL     )                                       */
*/*%INCLUDE SYSUT5  (PROLOGUE)                                       */
*/*%INCLUDE SYSUT5  (PROCESS )                                       */
*/*%INCLUDE SYSUT5  (INITIAL )                                       */
*/*%INCLUDE SYSUT5  (IEDA01  )                                       */
*/*%INCLUDE SYSUT5  (IEDA02  )                                       */
*/*%INCLUDE SYSUT5  (IEDA03  )                                       */
*/*%INCLUDE SYSUT5  (EPILOGUE)                                       */
*/*%INCLUDE SYSUT5  (ATTNPROC)                                       */
*/*%INCLUDE SYSUT5  (BLDRESET)                                       */
*/*%INCLUDE SYSUT5  (BLDSMI  )                                       */
*/*%INCLUDE SYSUT5  (BLDWRBFR)                                       */
*/*%INCLUDE SYSUT5  (CKENDSES)                                       */
*/*%INCLUDE SYSUT5  (CHKESIG )                                       */
*/*%INCLUDE SYSUT5  (CHKRESET)                                       */
*/*%INCLUDE SYSUT5  (CKSNASMI)                                       */
*/*%INCLUDE SYSUT5  (ENDBRKT )                                       */
*/*%INCLUDE SYSUT5  (ENDTSSES)                                       */
*/*%INCLUDE SYSUT5  (ERBBFRRQ)                                       */
*/*%INCLUDE SYSUT5  (GETBFR  )                                       */
*/*%INCLUDE SYSUT5  (IPPROC  )                                       */
*/*%INCLUDE SYSUT5  (LCBPROC )                                       */
*/*%INCLUDE SYSUT5  (PIUCOND )                                       */
*/*%INCLUDE SYSUT5  (PIU1COND)                                       */
*/*%INCLUDE SYSUT5  (READRTN )                                       */
*/*%INCLUDE SYSUT5  (REQPLCB )                                       */
*/*%INCLUDE SYSUT5  (SAPRMPT )                                       */
*/*%INCLUDE SYSUT5  (SCHDESIG)                                       */
*/*%INCLUDE SYSUT5  (SIMATTN )                                       */
*/*%INCLUDE SYSUT5  (SMIRTN  )                                       */
*/*%INCLUDE SYSUT5  (SNDESIG )                                       */
*/*%INCLUDE SYSUT5  (TCAMSND )                                       */
*/*%INCLUDE SYSUT5  (TSOSND  )                                       */
*/*%INCLUDE SYSUT5  (WBRESET )                                       */
*/*%INCLUDE SYSUT5  (WRESET  )                                       */
*                                                               01S1401
*       ;                                                       01S1401
@DATA    DS    0H
@CH00060 DC    H'1'
@CH00073 DC    H'3'
@CH00044 DC    H'8'
@CH01239 DC    H'10'
@CH00576 DC    H'13'
@CH02008 DC    H'14'
         DS    0F
         DS    0F
@CF03571 DC    F'-8'
@CF03555 DC    F'-4'
@CF03583 DC    F'-3'
         DS    0D
DCTPTR   DS    A
ZERO     DC    XL4'00000000'
@CB03566 DC    B'000000000000000000000000000000010000000000000000000000C
               00'
@CB03574 DC    B'000000000000000000000000000001000000000000000000000000C
               00'
@CB03579 DC    B'111111111111111111111111111111101111111111111111111111C
               11'
SIGNAL   DC    X'C900010000'
SMIDATA  DC    X'27F1C3'
SNASMI   DC    X'F1C3'
SNANULL  DC    X'F1'
RETCODE  DS    BL1
INSTATES DS    CL1
         ORG   INSTATES
PLCBNTRY DS    BL1
SSREQD   EQU   INSTATES+0
RSREQD   EQU   INSTATES+0
RESETYPE EQU   INSTATES+0
BREAKPST EQU   INSTATES+0
WAITINPT EQU   INSTATES+0
BUFAV    EQU   INSTATES+0
ENDSESSN EQU   INSTATES+0
         ORG   INSTATES+1
         DS    CL2
SAVEWRDS DS    CL36
         ORG   SAVEWRDS
SAVEWD01 DS    AL4
SAVEWD02 DS    AL4
SAVEWD03 DS    AL4
SAVEWD04 DS    AL4
SAVEWD05 DS    AL4
SAVEWD06 DS    AL4
SAVEWD07 DS    AL4
SAVEWD08 DS    AL4
SAVEWD09 DS    AL4
         ORG   SAVEWRDS+36
SATDEFLT DS    CL12
         ORG   SATDEFLT
HEXCMD1  DC    X'000C800000000000'
ADRDEFLT DC    AL4(DEFLT)
         ORG   SATDEFLT+12
DEFLT    DS    CL8
         ORG   DEFLT
LEN1     DC    X'07'
RATTLE1  DC    X'17063606360617'
         ORG   DEFLT+8
SATR3270 DS    CL12
         ORG   SATR3270
HEXCMD2  DC    X'000C800000000000'
ADRR3270 DC    AL4(R3270)
         ORG   SATR3270+12
R3270    DS    CL4
         ORG   R3270
LEN2     DC    X'03'
SPLATS   DC    CL3'***'
         ORG   R3270+4
SATTWX   DS    CL12
         ORG   SATTWX
HEXCMD3  DC    X'000C800000000000'
ADRTWX   DC    AL4(TWX)
         ORG   SATTWX+12
TWX      DS    CL9
         ORG   TWX
LEN3     DC    X'08'
RATTLE2  DC    X'3C113C113C113C11'
         ORG   TWX+9
         DS    CL3
SNADEFLT DS    CL12
         ORG   SNADEFLT
HEXCMD4  DC    X'000C800000000000'
ADRRSNA  DC    AL4(SNAPRMPT)
         ORG   SNADEFLT+12
SNAPRMPT DS    CL4
         ORG   SNAPRMPT
LEN4     DC    X'03'
PRMPT    DC    CL3'***'
         ORG   SNAPRMPT+4
RHVALUES DS    CL3
         ORG   RHVALUES
RHBYTE0  DC    X'0B'
RHBYTE1  DC    X'80'
RHBYTE2  DC    X'00'
         ORG   RHVALUES+3
THVALUES DS    CL10
         ORG   THVALUES
THBYTE0  DC    X'0C'
THBYTE1  DC    X'00'
THDAF    DC    XL2'0000'
THOAF    DS    FL2
THTAG    DS    CL2
         ORG   THTAG
THTAG1   DC    X'00'
THTAG2   DC    X'00'
         ORG   THVALUES+8
THDCF    DC    XL2'0000'
         ORG   THVALUES+10
         DS    CL3
CP0001@  DC    AL4(IEDA01)
         DC    AL4(IEDA02)
         DC    AL4(IEDA03)
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
IEDQAPTR EQU   @13
RDISP    EQU   @11
IEDQLPTR EQU   @04
LCBXPTR  EQU   @05
IEDQPPTR EQU   @01
IEDQQPTR EQU   @07
IEDQSPTR EQU   @03
RTRM     EQU   @08
RSMH     EQU   @02
RAVT     EQU   @13
RLCB     EQU   @04
RPRF     EQU   @06
RQCB     EQU   @07
RASCB    EQU   @02
RTSB     EQU   @09
RCASE    EQU   @00
RZERO    EQU   @00
RPARM    EQU   @01
REG03    EQU   @03
RSCB     EQU   @03
REG08    EQU   @08
RBASE2   EQU   @09
REG10    EQU   @10
RBASE1   EQU   @12
RRET     EQU   @14
RLINK    EQU   @15
CVTPTR   EQU   16
IEDQAVTD EQU   0
AVTSAVE4 EQU   IEDQAVTD+144
AVTSAVEX EQU   IEDQAVTD+216
AVTCSTCS EQU   IEDQAVTD+256
AVTREADD EQU   IEDQAVTD+308
AVTBUFSW EQU   IEDQAVTD+312
@NM00004 EQU   IEDQAVTD+316
AVTCKFLG EQU   @NM00004
AVTBASE  EQU   IEDQAVTD+340
AVTPKF   EQU   AVTBASE
AVTRNMPT EQU   IEDQAVTD+352
AVTOSECB EQU   IEDQAVTD+420
AVTECB1  EQU   AVTOSECB
AVTHG02  EQU   IEDQAVTD+456
AVTDISP  EQU   IEDQAVTD+480
AVTHD    EQU   IEDQAVTD+484
AVTSCOPT EQU   AVTHD
AVTSAVTP EQU   IEDQAVTD+540
AVTSAVTF EQU   AVTSAVTP
AVTCKPEL EQU   IEDQAVTD+580
AVTCKRMV EQU   AVTCKPEL
AVTCKELF EQU   IEDQAVTD+608
AVTCKBYT EQU   IEDQAVTD+619
AVTHG01  EQU   IEDQAVTD+620
AVTCKLNK EQU   IEDQAVTD+624
AVTCRELE EQU   IEDQAVTD+636
AVTCCELE EQU   AVTCRELE
AVTCLRHI EQU   IEDQAVTD+644
AVTADBUF EQU   IEDQAVTD+648
AVTSYSER EQU   IEDQAVTD+656
AVTTSOPT EQU   IEDQAVTD+668
AVTINOUT EQU   IEDQAVTD+694
AVTBFREB EQU   IEDQAVTD+708
AVTBFRFG EQU   IEDQAVTD+712
AVTCKPQB EQU   IEDQAVTD+732
AVTCKPTB EQU   AVTCKPQB
AVTCKPEC EQU   AVTCKPQB+4
AVTCKPCC EQU   AVTCKPEC
AVTOPCQB EQU   IEDQAVTD+744
AVTOPCOB EQU   AVTOPCQB
AVTOPCEC EQU   AVTOPCQB+4
AVTOPCCC EQU   AVTOPCEC
AVTOLTQB EQU   IEDQAVTD+756
AVTCWFL1 EQU   IEDQAVTD+852
AVTCWFL2 EQU   IEDQAVTD+853
AVTSUBT  EQU   IEDQAVTD+876
AVTIOTR  EQU   IEDQAVTD+877
AVTBIT1  EQU   IEDQAVTD+978
AVTCLOSN EQU   AVTBIT1
AVTQUCKN EQU   AVTBIT1
AVTBIT2  EQU   IEDQAVTD+979
AVTBIT3  EQU   IEDQAVTD+980
AVTSTEAL EQU   IEDQAVTD+988
AVTDCTLN EQU   IEDQAVTD+1000
AVTBIT4  EQU   IEDQAVTD+1064
@NM00086 EQU   IEDQAVTD+1160
IEDNSVTD EQU   0
SAVTDIAG EQU   IEDNSVTD
SAVTDIAF EQU   SAVTDIAG
SAVTPREQ EQU   IEDNSVTD+16
SAVTPRTN EQU   IEDNSVTD+32
SAVTLUSQ EQU   IEDNSVTD+88
SAVTSAO  EQU   IEDNSVTD+196
SAVTDFCO EQU   IEDNSVTD+200
SAVTTCPU EQU   IEDNSVTD+238
SAVTZELM EQU   IEDNSVTD+270
SAVTRDRV EQU   IEDNSVTD+284
SAVTCKQB EQU   IEDNSVTD+300
SAVTCKTB EQU   SAVTCKQB
SAVTCKEC EQU   SAVTCKQB+4
SAVTCKCC EQU   SAVTCKEC
IEDBDU   EQU   0
BDUCMND  EQU   IEDBDU
BDUMODIF EQU   IEDBDU+1
BDUFNFLG EQU   IEDBDU+2
BDUBDUFG EQU   IEDBDU+3
BDURSP   EQU   IEDBDU+4
BDUSYRSP EQU   BDURSP
BDUEXRSP EQU   BDURSP+1
BDUEND   EQU   IEDBDU+6
IEDDCT   EQU   0
DCTBYTE1 EQU   IEDDCT+1
DCT3270  EQU   DCTBYTE1
DCTBYTE2 EQU   IEDDCT+2
DCTTWX   EQU   DCTBYTE2
DCTSTCTL EQU   DCTBYTE2
DCTBYTE3 EQU   IEDDCT+3
DCTBYTE4 EQU   IEDDCT+4
DCTBYTE5 EQU   IEDDCT+5
IEDQDISP EQU   0
DSPPOSTR EQU   28
DSPUNAVR EQU   44
IEDQLCB  EQU   0
LCBRCB   EQU   IEDQLCB
LCBQCBA  EQU   LCBRCB+1
LCBPRI   EQU   LCBRCB+4
LCBSTCBA EQU   IEDQLCB+9
LCBTSOB  EQU   IEDQLCB+19
LCBTSBUF EQU   LCBTSOB
LCBCHAIN EQU   IEDQLCB+20
LCBSCRNN EQU   LCBCHAIN
LCBTETEN EQU   LCBCHAIN
LCBCTLMD EQU   LCBTETEN
LCBINSRC EQU   IEDQLCB+21
LCBLKMDE EQU   LCBINSRC+2
LCBNTXT  EQU   IEDQLCB+24
LCBSTAT4 EQU   LCBNTXT
LCBPHASE EQU   LCBSTAT4
LCBSCBDA EQU   IEDQLCB+25
LCBMHA   EQU   IEDQLCB+29
LCBFLAG1 EQU   IEDQLCB+32
LCBIOBSN EQU   IEDQLCB+33
LCBSNS   EQU   LCBIOBSN+1
LCBSENS0 EQU   LCBSNS
LCBLOSDT EQU   LCBSENS0
LCBTMOUT EQU   LCBSENS0
LCBFLAG3 EQU   LCBIOBSN+7
LCBCSW   EQU   LCBIOBSN+8
LCBCSWST EQU   LCBCSW+3
LCBCSWUS EQU   LCBCSWST
LCBCSWCS EQU   LCBCSWST+1
LCBSIOCC EQU   LCBIOBSN+15
LCBDCBPT EQU   IEDQLCB+52
LCBRCQCB EQU   IEDQLCB+56
LCBRESTR EQU   LCBRCQCB
LCBTHSQ  EQU   IEDQLCB+60
LCBINCAM EQU   LCBTHSQ
LCBERRCT EQU   IEDQLCB+62
LCBLSPCI EQU   IEDQLCB+65
LCBRCBFR EQU   LCBLSPCI
LCBSTATE EQU   IEDQLCB+70
LCBSTAT1 EQU   LCBSTATE
LCBRCLLN EQU   LCBSTAT1
LCBINITN EQU   LCBSTAT1
LCBCONT  EQU   LCBSTAT1
LCBFREEN EQU   LCBSTAT1
LCBRECVN EQU   LCBSTAT1
LCBSENDN EQU   LCBSTAT1
LCBSTAT2 EQU   LCBSTATE+1
LCBMSGNN EQU   LCBSTAT2
LCBBEOTN EQU   LCBSTAT2
LCBNEGRP EQU   LCBSTAT2
LCBSYNC  EQU   LCBSTAT2
LCBDIAL  EQU   LCBSTAT2
LCBTSTSW EQU   IEDQLCB+72
LCBERB   EQU   IEDQLCB+76
LCBERBQB EQU   LCBERB+1
LCBERBPY EQU   IEDQLCB+80
LCBERBST EQU   IEDQLCB+84
LCBPRCPG EQU   LCBERBST
LCBDLNKN EQU   LCBERBST
LCBERBCH EQU   IEDQLCB+85
LCBERBCT EQU   IEDQLCB+88
LCBRBCT1 EQU   LCBERBCT
LCBRBCT2 EQU   LCBERBCT+1
LCBTTCIN EQU   IEDQLCB+90
LCBMSGFM EQU   IEDQLCB+92
LCBSCBA  EQU   IEDQLCB+93
LCBOBRCH EQU   IEDQLCB+96
LCBINVPT EQU   LCBOBRCH+1
LCBBFRW  EQU   LCBINVPT
LCBTPCD  EQU   IEDQLCB+100
LCBSTAT5 EQU   LCBTPCD
LCBSTAT6 EQU   LCBTPCD+4
LCBRSPSV EQU   LCBTPCD+8
LCBSAVSN EQU   IEDQLCB+112
LCBERCCW EQU   IEDQLCB+120
LCBCPA   EQU   IEDQLCB+144
LCBCCW5  EQU   LCBCPA+32
LCBATTEL EQU   LCBCCW5
LCBQEBPL EQU   LCBATTEL
IEDQLCBX EQU   0
LCBXCON  EQU   IEDQLCBX
LCBXFLAG EQU   LCBXCON
LCBXDCT  EQU   LCBXCON+1
LCBXRADR EQU   LCBXCON+4
IEDNLGB  EQU   0
LGBBUFOU EQU   IEDNLGB+20
LGBPCI   EQU   IEDNLGB+25
LGBBYTE  EQU   IEDNLGB+29
LGBOFLGS EQU   IEDNLGB+48
LGBRESER EQU   IEDNLGB+56
IEDNLPTR EQU   0
IEDPIU0  EQU   0
PIU0TH   EQU   IEDPIU0
PIU0RH   EQU   IEDPIU0+10
PIU0PAD  EQU   IEDPIU0+13
PIU0RU   EQU   IEDPIU0+14
IEDPIU   EQU   0
PIUTH    EQU   IEDPIU
PIURH    EQU   IEDPIU+10
PIURU    EQU   IEDPIU+13
IEDQPRF  EQU   0
PRFRCB   EQU   IEDQPRF
PRFKEY   EQU   PRFRCB
PRFQCBA  EQU   PRFRCB+1
PRFPRI   EQU   PRFRCB+4
PRFLINK  EQU   PRFRCB+5
PRFTIC   EQU   IEDQPRF+8
PRFTICC  EQU   PRFTIC
PRFNBUNT EQU   IEDQPRF+12
PRFSUNIT EQU   PRFNBUNT
PRFPLQCB EQU   PRFSUNIT
PRFPIUO  EQU   PRFPLQCB
@NM00171 EQU   IEDQPRF+16
PRFSVFFO EQU   @NM00171
PRFSTAT1 EQU   IEDQPRF+20
PRFEOFN  EQU   PRFSTAT1
PRFCORE  EQU   IEDQPRF+21
PRFXTRA  EQU   PRFCORE
PRFSCAN  EQU   IEDQPRF+24
PRFTQBCK EQU   IEDQPRF+26
PRFNTXT  EQU   PRFTQBCK
PRFEOBOF EQU   PRFNTXT
PRFCHDR  EQU   IEDQPRF+32
PRFHQBCK EQU   IEDQPRF+35
IEDPF1   EQU   0
PRF1FLG1 EQU   IEDPF1+3
PRF1WD2  EQU   IEDPF1+4
PRF1SEQP EQU   PRF1WD2
PRF1SQID EQU   PRF1SEQP
PRF1TAG1 EQU   PRF1SQID
IEDPF2   EQU   0
PRF2FLG2 EQU   IEDPF2
PRF2TNTI EQU   PRF2FLG2
PRF2SMI  EQU   PRF2FLG2
PRF2WD2  EQU   IEDPF2+4
IEDQQCB  EQU   0
QCBDSFLG EQU   IEDQQCB
QCBCORE  EQU   QCBDSFLG
QCBDISK  EQU   QCBDSFLG
QCBNREUS EQU   QCBDISK
QCBREUS  EQU   QCBDISK
QCBALTMH EQU   QCBDSFLG
QCBELCHN EQU   IEDQQCB+1
QCBPRI   EQU   IEDQQCB+4
QCBLINK  EQU   IEDQQCB+5
QCBEOLDT EQU   IEDQQCB+16
QCBBYTE1 EQU   QCBEOLDT+1
QCBLKRLN EQU   IEDQQCB+18
QCBRETCT EQU   QCBLKRLN
QCBSTAT  EQU   IEDQQCB+19
QCBINSRC EQU   IEDQQCB+21
@NM00181 EQU   QCBINSRC
QCBSATCT EQU   @NM00181
QCBTSOF2 EQU   @NM00181+1
QCBINHBN EQU   QCBTSOF2
QCBPOSTO EQU   QCBTSOF2
QCBDSSMI EQU   QCBTSOF2
QCBSIMRD EQU   QCBTSOF2
QCBSATTI EQU   QCBTSOF2
QCBTSOF1 EQU   @NM00181+2
QCBWRBRK EQU   QCBTSOF1
QCBTGET  EQU   QCBTSOF1
QCBTPUT  EQU   QCBTSOF1
QCBNOBUF EQU   QCBTSOF1
QCBSATRD EQU   QCBTSOF1
QCBPARTO EQU   QCBTSOF1
QCBDELAY EQU   QCBTSOF1
QCBDISC  EQU   QCBTSOF1
QCBINTVL EQU   IEDQQCB+24
QCBPREN  EQU   IEDQQCB+28
QCBLKRRN EQU   QCBPREN+1
QCBCARCT EQU   QCBLKRRN
QCBTJID  EQU   QCBLKRRN+1
QCBDCBAD EQU   IEDQQCB+33
QCBFLAG  EQU   IEDQQCB+36
QCBTSSES EQU   QCBFLAG
QCBNOBRK EQU   QCBFLAG
QCBREAD  EQU   QCBFLAG
IEDQPQCB EQU   0
QCBFHDLZ EQU   IEDQPQCB+3
QCBPFEFO EQU   QCBFHDLZ+1
QCBFHDTZ EQU   IEDQPQCB+6
QCBINTLF EQU   IEDQPQCB+12
IEDNQCB  EQU   0
QCBSTAT1 EQU   IEDNQCB+4
QCBPLCBN EQU   QCBSTAT1
QCBWAITC EQU   QCBSTAT1
QCBSNDRQ EQU   QCBSTAT1
QCBRCVRQ EQU   QCBSTAT1
QCBESIG  EQU   QCBSTAT1
QCBFLUSH EQU   QCBSTAT1
QCBPLCBA EQU   IEDNQCB+5
QCBTTCIN EQU   QCBPLCBA+1
IEDREQD  EQU   0
REQROUTE EQU   IEDREQD+12
REQRCDS  EQU   IEDREQD+14
REQDATA  EQU   IEDREQD+16
IEDRH    EQU   0
TRHBYTE0 EQU   IEDRH
TRHTYPE  EQU   TRHBYTE0
TRHRUCAT EQU   TRHBYTE0
TRHBC    EQU   TRHBYTE0
TRHEC    EQU   TRHBYTE0
TRHBYTE1 EQU   IEDRH+1
TRHDR1   EQU   TRHBYTE1
TRHBYTE2 EQU   IEDRH+2
TRHBB    EQU   TRHBYTE2
TRHEB    EQU   TRHBYTE2
TRHCDI   EQU   TRHBYTE2
IEDQSCB  EQU   0
SCBSTATE EQU   IEDQSCB
SCBSEQIN EQU   SCBSTATE
SCBRCVCT EQU   IEDQSCB+4
SCBMBHEN EQU   IEDQSCB+5
SCBMACR  EQU   SCBMBHEN
SCBBKFCT EQU   IEDQSCB+9
SCBEOBSZ EQU   SCBBKFCT+1
SCBSALEV EQU   IEDQSCB+12
SCBQTYPE EQU   SCBSALEV
SCBERRST EQU   IEDQSCB+16
SCBERR1  EQU   SCBERRST
SCBHDRRN EQU   SCBERR1
SCBORIGN EQU   SCBERR1
SCBNOTRM EQU   SCBERR1
SCBSEQHN EQU   SCBERR1
SCBSEQLN EQU   SCBERR1
SCBCUTFN EQU   SCBERR1
SCBERR2  EQU   SCBERRST+1
SCBABRTN EQU   SCBERR2
SCBERR3  EQU   SCBERRST+2
SCBLOSTN EQU   SCBERR3
SCBTMIDN EQU   SCBERR3
SCBFORMN EQU   SCBERR3
SCBATTN  EQU   SCBERR3
SCBXCEPN EQU   SCBERR3
SCBERR4  EQU   SCBERRST+3
SCBTXTTN EQU   SCBERR4
SCBCTLUN EQU   SCBERR4
SCBCHANN EQU   SCBERR4
SCBDLPTR EQU   IEDQSCB+22
SCBEOBAC EQU   SCBDLPTR
SCBCTBAC EQU   SCBEOBAC
SCBBSCFM EQU   IEDQSCB+24
SCBDATEN EQU   SCBBSCFM
SCBITBSZ EQU   IEDQSCB+40
SCBCTBSV EQU   SCBITBSZ
SCBDNSEG EQU   IEDQSCB+41
SCBCLSEG EQU   IEDQSCB+45
SCBITBAC EQU   IEDQSCB+48
SCBCTBFL EQU   SCBITBAC
SCBBLKCT EQU   SCBCTBFL
SCBDCSEG EQU   IEDQSCB+49
SCBSTAT1 EQU   IEDQSCB+60
SCBCORE  EQU   IEDQSCB+61
SCBSCAN  EQU   IEDQSCB+64
SCBNTXT  EQU   IEDQSCB+66
SCBCHDR  EQU   IEDQSCB+72
SCBCCSEG EQU   IEDQSCB+75
SCBEND   EQU   IEDQSCB+84
IEDSIBD  EQU   0
SIBINDEX EQU   IEDSIBD+8
SIBSESSN EQU   IEDSIBD+10
SIBLGOFF EQU   SIBSESSN
SIBPACIN EQU   IEDSIBD+11
SIBSEQN  EQU   IEDSIBD+12
SIBSTAT1 EQU   IEDSIBD+16
SIBBSTAT EQU   SIBSTAT1
SIBSTAT2 EQU   IEDSIBD+17
SIBBIND  EQU   IEDSIBD+20
SIBBIND1 EQU   SIBBIND
SIBBIND2 EQU   SIBBIND+1
SIBBIND3 EQU   SIBBIND+2
SIBFMODE EQU   SIBBIND3
SIBSTAT0 EQU   IEDSIBD+23
SIBCD    EQU   SIBSTAT0
SIBLUTYP EQU   SIBSTAT0
IEDQSTCB EQU   0
STCBVTO  EQU   IEDQSTCB
IEDSTMH  EQU   0
STMHALT  EQU   IEDSTMH
STMHFLG2 EQU   IEDSTMH+4
STMHTSFG EQU   STMHFLG2
STMHAEIX EQU   IEDSTMH+12
STMHLMOP EQU   IEDSTMH+17
IEDQTCXD EQU   0
TCXATTEN EQU   IEDQTCXD+4
TCXFLAG1 EQU   IEDQTCXD+34
TCXRPT   EQU   IEDQTCXD+36
TCXBUFA  EQU   IEDQTCXD+80
TCXDSAVE EQU   IEDQTCXD+104
TCXQE8   EQU   IEDQTCXD+216
IEDTH    EQU   0
TTHBYTE0 EQU   IEDTH
TTHFTYPE EQU   TTHBYTE0
TTHBBIU  EQU   TTHBYTE0
TTHEBIU  EQU   TTHBYTE0
TTHEFI   EQU   TTHBYTE0
TTHDAF   EQU   IEDTH+2
TTHOAF   EQU   IEDTH+4
TTHSNF   EQU   IEDTH+6
TTHTAG   EQU   TTHSNF
TTHTAG1  EQU   TTHTAG
TTHTAG2  EQU   TTHTAG+1
TTHDCF   EQU   IEDTH+8
IEDTRM   EQU   0
IEDNTRM  EQU   IEDTRM
TRMBYTE4 EQU   IEDNTRM
TRMBYTE3 EQU   IEDNTRM+1
TRMBYTE2 EQU   IEDNTRM+2
TRMINPG  EQU   TRMBYTE2
TRMPREP  EQU   TRMBYTE2
TRMWRBRK EQU   TRMBYTE2
TRMBYTE1 EQU   IEDNTRM+3
TRMSCPRQ EQU   TRMBYTE1
TRMWTNEG EQU   TRMSCPRQ
TRMINPTP EQU   TRMBYTE1
TRMTSATN EQU   TRMBYTE1
TRMBYTE0 EQU   IEDNTRM+6
TRMDIAL  EQU   TRMBYTE0
TRMSNA   EQU   TRMBYTE0
TRMSIBPT EQU   IEDNTRM+7
TRMTYPE  EQU   IEDNTRM+11
IEDQTRM  EQU   IEDTRM+14
TRMSTATE EQU   IEDQTRM
TRMLOG   EQU   TRMSTATE
TRMPREF  EQU   TRMSTATE
TRMDESTQ EQU   IEDQTRM+1
TRMINSEQ EQU   IEDQTRM+4
TLISTCNT EQU   TRMINSEQ
TRMOUTSQ EQU   IEDQTRM+6
TLISTEN  EQU   TRMOUTSQ
TRMDSORG EQU   TLISTEN
TRMALTD  EQU   IEDQTRM+8
TRMDEVFL EQU   IEDQTRM+10
TRMSTAT  EQU   IEDQTRM+12
TRMCHCIN EQU   IEDQTRM+16
IEDQTSI  EQU   0
TSIFLAG  EQU   IEDQTSI
TSISIMAT EQU   IEDQTSI+24
TSIMSGEN EQU   IEDQTSI+44
TSIDYQCB EQU   IEDQTSI+52
TSIDYQFG EQU   TSIDYQCB
TSITSW   EQU   IEDQTSI+124
TSIGMAIN EQU   TSITSW+16
GMFLAG   EQU   TSIGMAIN
GMCODE   EQU   TSIGMAIN+1
IEDTTPTR EQU   0
IEDQTSW  EQU   0
TSWTSLNS EQU   IEDQTSW+20
TSWSWT1  EQU   IEDQTSW+22
TSWFLG1  EQU   IEDQTSW+24
TSWSCCTL EQU   TSWFLG1
TSWFLG2  EQU   IEDQTSW+25
TSWEFLG1 EQU   IEDQTSW+28
TSWEFLG2 EQU   IEDQTSW+29
TSWDCT   EQU   IEDQTSW+54
RTSW     EQU   0
TSB      EQU   0
TSBASCBA EQU   TSB
TSBSTAT  EQU   TSBASCBA
TSBFLG1  EQU   TSB+4
TSBFLG2  EQU   TSB+16
TSBFLG3  EQU   TSB+24
TSBFLG5  EQU   TSB+25
TSBTERMC EQU   TSB+26
TSBTERM1 EQU   TSBTERMC
TSBTERM2 EQU   TSBTERMC+1
TSBSTCC  EQU   TSB+34
TSBATNTC EQU   TSB+38
TSBFLG4  EQU   TSB+41
TSBRCB   EQU   TSB+64
TSBLINKA EQU   TSBRCB+4
TSBTPOST EQU   TSB+72
TSBTPFLG EQU   TSBTPOST
TSBMINL  EQU   TSB+84
TSBPTR   EQU   0
ASCB     EQU   0
ASCBTSB  EQU   ASCB+60
ASCBFW1  EQU   ASCB+100
ASCBRCTF EQU   ASCBFW1+2
ASCBFLG1 EQU   ASCBFW1+3
ASCBDSP1 EQU   ASCB+114
ASCBFLG2 EQU   ASCB+115
ASCBPTR  EQU   0
ASVT     EQU   0
ASVTFRST EQU   ASVT+524
ASVTENTY EQU   ASVT+528
CVTMAP   EQU   0
CVTDAR   EQU   CVTMAP+72
CVTFLGS1 EQU   CVTDAR
CVTDCB   EQU   CVTMAP+116
CVTIOQET EQU   CVTMAP+120
CVTIERLC EQU   CVTMAP+144
CVTHEAD  EQU   CVTMAP+160
CVTSV76C EQU   CVTHEAD
CVTOPTA  EQU   CVTMAP+182
CVTOPTB  EQU   CVTMAP+183
CVTGTF   EQU   CVTMAP+236
CVTGTFST EQU   CVTGTF
CVTGTFS  EQU   CVTGTFST
CVTSTATE EQU   CVTGTFST
CVTTMODE EQU   CVTGTFST
CVTFORM  EQU   CVTGTFST
CVTAQAVT EQU   CVTMAP+240
CVTTCMFG EQU   CVTAQAVT
CVTVOLM2 EQU   CVTMAP+244
CVTTATA  EQU   CVTVOLM2
CVTTSKS  EQU   CVTTATA
CVTVOLF2 EQU   CVTTSKS
CVTTAT   EQU   CVTTATA+1
CVTATER  EQU   CVTMAP+248
CVTEXT1  EQU   CVTMAP+252
CVTPURG  EQU   CVTMAP+260
CVTQMSG  EQU   CVTMAP+268
CVTDMSR  EQU   CVTMAP+272
CVTRSV37 EQU   CVTDMSR
CVTDMSRF EQU   CVTRSV37
CVTERPV  EQU   CVTMAP+316
CVTINTLA EQU   CVTMAP+320
CVTAPF   EQU   CVTMAP+324
CVTEXT2  EQU   CVTMAP+328
CVTHJES  EQU   CVTMAP+332
CVTPGSIA EQU   CVTMAP+348
CVTA1F1  EQU   CVTMAP+356
CVTSYSK  EQU   CVTMAP+357
CVTVOLM1 EQU   CVTMAP+380
CVTVOLF1 EQU   CVTVOLM1
CVTATMCT EQU   CVTMAP+388
CVTXTNT1 EQU   0
CVTXTNT2 EQU   0
CVTDSSV  EQU   CVTXTNT2
CVTFLGBT EQU   CVTXTNT2+5
CVTQID   EQU   CVTXTNT2+24
CVTRV400 EQU   CVTXTNT2+52
CVTRV409 EQU   CVTXTNT2+53
CVTATCVT EQU   CVTXTNT2+64
CVTRV429 EQU   CVTXTNT2+84
CVTRV438 EQU   CVTXTNT2+85
CVTRV457 EQU   CVTXTNT2+112
CVTRV466 EQU   CVTXTNT2+113
CVTFIX   EQU   0
CVTRELNO EQU   CVTFIX+252
SIGRU    EQU   0
SMIRU    EQU   0
NULLRU   EQU   0
IEDQTNT  EQU   0
IEDQGA02 EQU   0
IEDQHG01 EQU   0
IEDQHG02 EQU   0
IEDIAP01 EQU   0
IEDIAP07 EQU   0
CL0001@  EQU   0
DSPBYPAS EQU   20
DSPCHAIN EQU   12
DSPDISP  EQU   4
DSPLIFO  EQU   56
DSPLIFOR EQU   60
DSPLIST  EQU   8
DSPPOST  EQU   24
DSPPRIO  EQU   48
DSPPRIOR EQU   52
DSPTRACE EQU   64
DSPTSTQ  EQU   32
DSPTSTQR EQU   36
DSPUNAV  EQU   40
DSPWAIT  EQU   16
QCBLDCB  EQU   0
BDUTEXT  EQU   BDUEND
LCBRSPIN EQU   LCBIOBSN
LCBLUSNS EQU   LCBRSPIN+5
LCBSCPRS EQU   LCBRSPIN+9
LCBCSWU1 EQU   LCBSCPRS+2
LCBRSPFG EQU   LCBRSPIN+15
LCBCOREQ EQU   LCBTPCD
@NM00134 EQU   LCBCPA+40
LCBNCPPT EQU   @NM00134+1
LCBQNX   EQU   LCBERCCW
LCBQNXMN EQU   LCBQNX
LCBCANCL EQU   LCBSAVSN
LCBCANFG EQU   LCBCANCL
REQLDATA EQU   REQDATA
REQSDATA EQU   REQDATA
TCXPTR   EQU   CVTAQAVT
TRMPRE1  EQU   TRMBYTE4
TRMSESSN EQU   TRMPRE1
TRMOCNI  EQU   TRMPRE1
TRMLYNCH EQU   TRMPRE1
TRMNCP1  EQU   TRMBYTE4
TRMINOP  EQU   TRMNCP1
TRMPRE   EQU   TRMBYTE3
TRMSTPND EQU   TRMPRE
TRMSTMM  EQU   TRMPRE
TRMRDOUT EQU   TRMPRE
TRMINOUT EQU   TRMPRE
TRMNCP   EQU   TRMBYTE3
TRMNCPCL EQU   TRMNCP
TRMQUCKN EQU   TRMNCP
TRMPU    EQU   TRMBYTE3
TRMLU    EQU   TRMBYTE3
TRMLINK  EQU   TRMBYTE3
CVTS01   EQU   CVTPGSIA
CVTLPDIA EQU   CVTS01+12
CVTDIRST EQU   CVTLPDIA
CVTSLIDA EQU   CVTS01+24
CVTCTLFG EQU   CVTS01+50
CVTASVT  EQU   CVTS01+208
CVTRV210 EQU   CVTS01+424
CVTRV219 EQU   CVTS01+425
CVTRV228 EQU   CVTS01+426
CVTRV237 EQU   CVTS01+427
CVTMFRTR EQU   CVTS01+452
CVTRV262 EQU   CVTS01+468
CVTRV271 EQU   CVTS01+469
CVTRV280 EQU   CVTS01+470
CVTRV289 EQU   CVTS01+471
CVTGSDA  EQU   CVTS01+600
ASVTPTR  EQU   CVTASVT
CASENUM  EQU   SAVEWD01
PRFSHDR  EQU   IEDQPRF+42
SCBRGSAV EQU   SCBEND
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
CVTRV628 EQU   CVTS01+728
CVTRV627 EQU   CVTS01+724
CVTRV626 EQU   CVTS01+720
CVTRV625 EQU   CVTS01+716
CVTRV624 EQU   CVTS01+712
CVTRV623 EQU   CVTS01+708
CVTRV622 EQU   CVTS01+704
CVTRV621 EQU   CVTS01+700
CVTIHASU EQU   CVTS01+696
CVTRV619 EQU   CVTS01+692
CVTRV618 EQU   CVTS01+688
CVTRV617 EQU   CVTS01+684
CVTRV616 EQU   CVTS01+680
CVTRV615 EQU   CVTS01+676
CVTRV614 EQU   CVTS01+672
CVTRV613 EQU   CVTS01+668
CVTTCASP EQU   CVTS01+664
CVT0PT03 EQU   CVTS01+660
CVT0PT0E EQU   CVTS01+656
CVTRV609 EQU   CVTS01+652
CVTCGK   EQU   CVTS01+648
CVTRAC   EQU   CVTS01+644
CVTHSM   EQU   CVTS01+640
CVTRV605 EQU   CVTS01+636
CVTRV604 EQU   CVTS01+632
CVTEFF02 EQU   CVTS01+628
CVTCBBR  EQU   CVTS01+624
CVTSSCR  EQU   CVTS01+620
CVTEVENT EQU   CVTS01+616
CVTCRCA  EQU   CVTS01+612
CVTTPIO  EQU   CVTS01+608
CVTADV   EQU   CVTS01+604
CVTGSDAB EQU   CVTGSDA
CVTQV3   EQU   CVTS01+596
CVTQV2   EQU   CVTS01+592
CVTQV1   EQU   CVTS01+588
CVTRPT   EQU   CVTS01+584
CVTSSRB  EQU   CVTS01+580
CVTCSDRL EQU   CVTS01+576
CVTEXP1  EQU   CVTS01+572
CVTRMPMT EQU   CVTS01+568
CVTRMPTT EQU   CVTS01+564
CVTVPSA  EQU   CVTS01+560
CVTVSTOP EQU   CVTS01+556
CVTGTFR8 EQU   CVTS01+552
CVTQUIT  EQU   CVTS01+548
CVTVACR  EQU   CVTS01+544
CVTWTCB  EQU   CVTS01+540
CVTSTPRS EQU   CVTS01+536
CVT0PT02 EQU   CVTS01+532
CVTDARCM EQU   CVTS01+528
CVTIRECM EQU   CVTS01+524
CVTJRECM EQU   CVTS01+520
CVTVEMS0 EQU   CVTS01+516
CVTSPFRR EQU   CVTS01+512
CVTRLSTG EQU   CVTS01+508
CVT0TC0A EQU   CVTS01+504
CVTGMBR  EQU   CVTS01+500
CVTLFRM  EQU   CVTS01+496
CVTRMBR  EQU   CVTS01+492
CVTVIOP  EQU   CVTS01+488
CVTRV307 EQU   CVTS01+486
CVTRV306 EQU   CVTS01+484
CVTRV305 EQU   CVTS01+482
CVTRV304 EQU   CVTS01+480
CVTRV303 EQU   CVTS01+478
CVTRV302 EQU   CVTS01+476
CVTTRCA  EQU   CVTS01+472
CVTRV297 EQU   CVTRV289
CVTRV296 EQU   CVTRV289
CVTRV295 EQU   CVTRV289
CVTRV294 EQU   CVTRV289
CVTRV293 EQU   CVTRV289
CVTRV292 EQU   CVTRV289
CVTRV291 EQU   CVTRV289
CVTRV290 EQU   CVTRV289
CVTRV288 EQU   CVTRV280
CVTRV287 EQU   CVTRV280
CVTRV286 EQU   CVTRV280
CVTRV285 EQU   CVTRV280
CVTRV284 EQU   CVTRV280
CVTRV283 EQU   CVTRV280
CVTRV282 EQU   CVTRV280
CVTRV281 EQU   CVTRV280
CVTRV279 EQU   CVTRV271
CVTRV278 EQU   CVTRV271
CVTRV277 EQU   CVTRV271
CVTRV276 EQU   CVTRV271
CVTRV275 EQU   CVTRV271
CVTRV274 EQU   CVTRV271
CVTRV273 EQU   CVTRV271
CVTRV272 EQU   CVTRV271
CVTRV270 EQU   CVTRV262
CVTRV269 EQU   CVTRV262
CVTRV268 EQU   CVTRV262
CVTRV267 EQU   CVTRV262
CVTRV266 EQU   CVTRV262
CVTRV265 EQU   CVTRV262
CVTRV264 EQU   CVTRV262
CVTRV263 EQU   CVTRV262
CVTVFP   EQU   CVTS01+464
CVTVSI   EQU   CVTS01+460
CVTVPSIB EQU   CVTS01+456
CVTMFACT EQU   CVTMFRTR
CVTMFCTL EQU   CVTS01+448
CVTPVBP  EQU   CVTS01+444
CVTPWI   EQU   CVTS01+440
CVTRV254 EQU   CVTS01+438
CVTRV253 EQU   CVTS01+436
CVTRV252 EQU   CVTS01+434
CVTRV251 EQU   CVTS01+433
CVTRV250 EQU   CVTS01+432
CVTRV249 EQU   CVTS01+431
CVTRV248 EQU   CVTS01+430
CVTRV247 EQU   CVTS01+429
CVTRV246 EQU   CVTS01+428
CVTRV245 EQU   CVTRV237
CVTRV244 EQU   CVTRV237
CVTRV243 EQU   CVTRV237
CVTRV242 EQU   CVTRV237
CVTRV241 EQU   CVTRV237
CVTRV240 EQU   CVTRV237
CVTRV239 EQU   CVTRV237
CVTRV238 EQU   CVTRV237
CVTRV236 EQU   CVTRV228
CVTRV235 EQU   CVTRV228
CVTRV234 EQU   CVTRV228
CVTRV233 EQU   CVTRV228
CVTRV232 EQU   CVTRV228
CVTRV231 EQU   CVTRV228
CVTRV230 EQU   CVTRV228
CVTRV229 EQU   CVTRV228
CVTRV227 EQU   CVTRV219
CVTRV226 EQU   CVTRV219
CVTRV225 EQU   CVTRV219
CVTRV224 EQU   CVTRV219
CVTRV223 EQU   CVTRV219
CVTRV222 EQU   CVTRV219
CVTRV221 EQU   CVTRV219
CVTRV220 EQU   CVTRV219
CVTRV218 EQU   CVTRV210
CVTRV217 EQU   CVTRV210
CVTRV216 EQU   CVTRV210
CVTRV215 EQU   CVTRV210
CVTRV214 EQU   CVTRV210
CVTRV213 EQU   CVTRV210
CVTRV212 EQU   CVTRV210
CVTRV211 EQU   CVTRV210
CVTLCCAT EQU   CVTS01+420
CVTPCCAT EQU   CVTS01+416
CVTIPCRP EQU   CVTS01+412
CVTIPCRI EQU   CVTS01+408
CVTIPCDS EQU   CVTS01+404
CVTAIDVT EQU   CVTS01+400
CVTSSAP  EQU   CVTS01+396
CVTEHCIR EQU   CVTS01+392
CVTEHDEF EQU   CVTS01+388
CVTDAIR  EQU   CVTS01+384
CVTPERFM EQU   CVTS01+380
CVT044R2 EQU   CVTS01+376
CVTFETCH EQU   CVTS01+372
CVTRSTWD EQU   CVTS01+368
CVTSPOST EQU   CVTS01+364
CVTIOBP  EQU   CVTS01+360
CVTASMVT EQU   CVTS01+356
CVTRECRQ EQU   CVTS01+352
CVTWSAC  EQU   CVTS01+348
CVTRV149 EQU   CVTS01+344
CVTWSAL  EQU   CVTS01+340
CVTSPSA  EQU   CVTS01+336
CVTGLMN  EQU   CVTS01+332
CVTVEAC0 EQU   CVTS01+328
CVT062R1 EQU   CVTS01+324
CVTRPOST EQU   CVTS01+320
CVTDQIQE EQU   CVTS01+316
CVTCSD   EQU   CVTS01+312
CVTLKRMA EQU   CVTS01+308
CVTRSPIE EQU   CVTS01+304
CVTRENQ  EQU   CVTS01+300
CVTLQCB  EQU   CVTS01+296
CVTFQCB  EQU   CVTS01+292
CVTQCS01 EQU   CVTS01+288
CVTAPFT  EQU   CVTS01+284
CVTPARRL EQU   CVTS01+280
CVTVWAIT EQU   CVTS01+276
CVTGSPL  EQU   CVTS01+272
CVTLSMQ  EQU   CVTS01+268
CVTGSMQ  EQU   CVTS01+264
CVTEXPRO EQU   CVTS01+260
CVTOPCTP EQU   CVTS01+256
CVTSIC   EQU   CVTS01+252
CVTTPIOS EQU   CVTS01+248
CVTRTMS  EQU   CVTS01+244
CVTSDBF  EQU   CVTS01+240
CVTSCBP  EQU   CVTS01+236
CVTSDMP  EQU   CVTS01+232
CVTSV60  EQU   CVTS01+228
CVTRTMCT EQU   CVTS01+224
CVTASCBL EQU   CVTS01+220
CVTASCBH EQU   CVTS01+216
CVTGDA   EQU   CVTS01+212
CVTVVMDI EQU   CVTS01+204
CVTAQTOP EQU   CVTS01+200
CVTIOSCS EQU   CVTS01+196
CVTSDRM  EQU   CVTS01+192
CVTOPTE  EQU   CVTS01+188
CVTSTXU  EQU   CVTS01+184
CVTQUIS  EQU   CVTS01+180
CVTPARS  EQU   CVTS01+176
CVTS1EE  EQU   CVTS01+172
CVTFRAS  EQU   CVTS01+168
CVTQSAS  EQU   CVTS01+164
CVTCRAS  EQU   CVTS01+160
CVTCRMN  EQU   CVTS01+156
CVTDELCP EQU   CVTS01+152
CVTFRECL EQU   CVTS01+148
CVTGETCL EQU   CVTS01+144
CVTBLDCP EQU   CVTS01+140
CVTAUTHL EQU   CVTS01+136
CVTSCAN  EQU   CVTS01+132
CVTRV144 EQU   CVTS01+130
CVTMAXMP EQU   CVTS01+128
CVTSTCK  EQU   CVTS01+124
CVTRV139 EQU   CVTS01+123
CVTDSSAC EQU   CVTS01+122
CVTRV513 EQU   CVTS01+121
CVTIOSPL EQU   CVTS01+120
CVTPTGT  EQU   CVTS01+116
CVTCSPIE EQU   CVTS01+112
CVTSMFEX EQU   CVTS01+108
CVTOLT0A EQU   CVTS01+104
CVTSRBRT EQU   CVTS01+100
CVTPUTL  EQU   CVTS01+96
CVTASCRL EQU   CVTS01+92
CVTASCRF EQU   CVTS01+88
CVTRV326 EQU   CVTS01+84
CVTRV325 EQU   CVTS01+80
CVTRV324 EQU   CVTS01+76
CVT0VL01 EQU   CVTS01+72
CVTSHRVM EQU   CVTS01+68
CVTRV332 EQU   CVTS01+64
CVTTAS   EQU   CVTS01+60
CVTRSCN  EQU   CVTS01+56
CVTTRAC2 EQU   CVTS01+54
CVTTRACE EQU   CVTS01+52
CVTAPG   EQU   CVTS01+51
CVTSDTRC EQU   CVTCTLFG
CVTGTRCE EQU   CVTCTLFG
CVTNOMP  EQU   CVTCTLFG
CVTRSV79 EQU   CVTCTLFG
CVTDSTAT EQU   CVTCTLFG
CVTRSV78 EQU   CVTCTLFG
CVTRV333 EQU   CVTCTLFG
CVTRV323 EQU   CVTCTLFG
CVTSPVLK EQU   CVTS01+49
CVTRSV77 EQU   CVTS01+48
CVTRV331 EQU   CVTS01+44
CVTRV330 EQU   CVTS01+40
CVTRV329 EQU   CVTS01+36
CVTRV328 EQU   CVTS01+32
CVTRV322 EQU   CVTS01+28
CVTSLID  EQU   CVTSLIDA+1
CVTSYLK  EQU   CVTSLIDA
CVTRV321 EQU   CVTS01+20
CVTRV320 EQU   CVTS01+16
CVTLPDIR EQU   CVTLPDIA+1
CVTRSV69 EQU   CVTDIRST
CVTRSV68 EQU   CVTDIRST
CVTRSV67 EQU   CVTDIRST
CVTRSV66 EQU   CVTDIRST
CVTRSV65 EQU   CVTDIRST
CVTRSV64 EQU   CVTDIRST
CVTRSV63 EQU   CVTDIRST
CVTDICOM EQU   CVTDIRST
CVTPVTP  EQU   CVTS01+8
CVTLPDSR EQU   CVTS01+4
CVTGETL  EQU   CVTS01
@NM00211 EQU   TRMLINK
TRMLSTAT EQU   TRMLINK
TRMLINT  EQU   TRMLINK
TRMEPMOD EQU   TRMLINK
TRMLULOG EQU   TRMLU
TRMINERR EQU   TRMLU
TRMLUREQ EQU   TRMLU
TRMSESRQ EQU   TRMLU
TRMTDIFF EQU   TRMLU
TRMLUTM  EQU   TRMLU
TRMLUIT  EQU   TRMLU
TRMAUTO  EQU   TRMLU
TRMPCONT EQU   TRMPU
@NM00210 EQU   TRMPU
TRMNCONT EQU   TRMNCP
TRMSLOWN EQU   TRMNCP
TRMSYGEN EQU   TRMNCP
TRMIPLDM EQU   TRMNCP
TRMNLOUT EQU   TRMPRE
TRMWROUT EQU   TRMPRE
TRMASNXI EQU   TRMPRE
TRMCMODE EQU   TRMPRE
@NM00209 EQU   TRMNCP1
TRMSPOUT EQU   TRMPRE1
TRMERLCK EQU   TRMPRE1
TRMQNPL  EQU   TRMPRE1
TRMSPACT EQU   TRMPRE1
TRMCONT  EQU   TRMPRE1
REQSTNT  EQU   REQSDATA+4
REQSTTE  EQU   REQSDATA
REQLTNT  EQU   REQLDATA
@NM00142 EQU   LCBCANCL+3
LCBCANTH EQU   LCBCANCL+1
@NM00141 EQU   LCBCANFG
LCBCANCD EQU   LCBCANFG
@NM00140 EQU   LCBCANFG
LCBCANEB EQU   LCBCANFG
LCBCANXT EQU   LCBCANFG
LCBUNADD EQU   LCBQNX+21
LCBUASZE EQU   LCBQNX+20
LCBDSTEA EQU   LCBQNX+16
@NM00139 EQU   LCBQNX+8
LCBIOSBS EQU   LCBQNX+5
@NM00138 EQU   LCBQNX+4
LCBSTSAV EQU   LCBQNX+1
@NM00137 EQU   LCBQNXMN
LCBNX509 EQU   LCBQNXMN
LCBNX162 EQU   LCBQNXMN
LCBNX142 EQU   LCBQNXMN
LCBNX064 EQU   LCBQNXMN
@NM00136 EQU   @NM00134+4
@NM00135 EQU   @NM00134
LCBWRSCH EQU   LCBCOREQ+8
LCBCQLNK EQU   LCBCOREQ+4
LCBCQELE EQU   LCBCOREQ
LCBPAKCH EQU   LCBRSPIN+16
@NM00133 EQU   LCBRSPFG
LCBRSRH  EQU   LCBRSPFG
LCBEXPI  EQU   LCBRSPFG
@NM00132 EQU   LCBRSPIN+12
LCBUSUE1 EQU   LCBCSWU1
@NM00131 EQU   LCBCSWU1
@NM00130 EQU   LCBSCPRS+1
LCBDFCMD EQU   LCBSCPRS
LCBUSER  EQU   LCBLUSNS+2
LCBSMIN  EQU   LCBLUSNS+1
LCBSMAJ  EQU   LCBLUSNS
LCBRHSV  EQU   LCBRSPIN+2
LCBSNS0  EQU   LCBRSPIN+1
@NM00129 EQU   LCBRSPIN
LCBDSCRJ EQU   LCBRSPIN
CVTLEVL  EQU   CVTRELNO+2
CVTNUMB  EQU   CVTRELNO
CVTMDL   EQU   CVTFIX+250
@NM00243 EQU   CVTFIX+248
@NM00242 EQU   CVTFIX
CVTRV482 EQU   CVTXTNT2+128
CVTRV481 EQU   CVTXTNT2+124
CVTRV480 EQU   CVTXTNT2+120
CVTRV479 EQU   CVTXTNT2+118
CVTRV478 EQU   CVTXTNT2+117
CVTRV477 EQU   CVTXTNT2+116
CVTRV476 EQU   CVTXTNT2+115
CVTRV475 EQU   CVTXTNT2+114
CVTRV474 EQU   CVTRV466
CVTRV473 EQU   CVTRV466
CVTRV472 EQU   CVTRV466
CVTRV471 EQU   CVTRV466
CVTRV470 EQU   CVTRV466
CVTRV469 EQU   CVTRV466
CVTRV468 EQU   CVTRV466
CVTRV467 EQU   CVTRV466
CVTRV465 EQU   CVTRV457
CVTRV464 EQU   CVTRV457
CVTRV463 EQU   CVTRV457
CVTRV462 EQU   CVTRV457
CVTRV461 EQU   CVTRV457
CVTRV460 EQU   CVTRV457
CVTRV459 EQU   CVTRV457
CVTRV458 EQU   CVTRV457
CVTRV456 EQU   CVTXTNT2+108
CVTRV455 EQU   CVTXTNT2+104
CVTRV454 EQU   CVTXTNT2+100
CVTRV453 EQU   CVTXTNT2+96
CVTRV452 EQU   CVTXTNT2+94
CVTRV451 EQU   CVTXTNT2+92
CVTRV450 EQU   CVTXTNT2+90
CVTRV449 EQU   CVTXTNT2+88
CVTRV448 EQU   CVTXTNT2+87
CVTRV447 EQU   CVTXTNT2+86
CVTRV446 EQU   CVTRV438
CVTRV445 EQU   CVTRV438
CVTRV444 EQU   CVTRV438
CVTRV443 EQU   CVTRV438
CVTRV442 EQU   CVTRV438
CVTRV441 EQU   CVTRV438
CVTRV440 EQU   CVTRV438
CVTRV439 EQU   CVTRV438
CVTRV437 EQU   CVTRV429
CVTRV436 EQU   CVTRV429
CVTRV435 EQU   CVTRV429
CVTRV434 EQU   CVTRV429
CVTRV433 EQU   CVTRV429
CVTRV432 EQU   CVTRV429
CVTRV431 EQU   CVTRV429
CVTRV430 EQU   CVTRV429
CVTRV428 EQU   CVTXTNT2+80
CVTRV427 EQU   CVTXTNT2+76
CVTRV426 EQU   CVTXTNT2+72
CVTRV425 EQU   CVTXTNT2+68
CVTATACT EQU   CVTATCVT
CVTRV423 EQU   CVTXTNT2+62
CVTRV422 EQU   CVTXTNT2+60
CVTRV421 EQU   CVTXTNT2+58
CVTRV420 EQU   CVTXTNT2+56
CVTRV419 EQU   CVTXTNT2+55
CVTRV418 EQU   CVTXTNT2+54
CVTRV417 EQU   CVTRV409
CVTRV416 EQU   CVTRV409
CVTRV415 EQU   CVTRV409
CVTRV414 EQU   CVTRV409
CVTRV413 EQU   CVTRV409
CVTRV412 EQU   CVTRV409
CVTRV411 EQU   CVTRV409
CVTRV410 EQU   CVTRV409
CVTRV408 EQU   CVTRV400
CVTRV407 EQU   CVTRV400
CVTRV406 EQU   CVTRV400
CVTRV405 EQU   CVTRV400
CVTRV404 EQU   CVTRV400
CVTRV403 EQU   CVTRV400
CVTRV402 EQU   CVTRV400
CVTRV401 EQU   CVTRV400
CVTICB   EQU   CVTXTNT2+48
CVTSKTA  EQU   CVTXTNT2+44
CVTCCVT  EQU   CVTXTNT2+40
CVTRSV98 EQU   CVTXTNT2+36
CVTRSV97 EQU   CVTXTNT2+34
CVTRSV96 EQU   CVTXTNT2+32
CVTOLTEP EQU   CVTXTNT2+28
CVTQIDA  EQU   CVTQID+1
CVTRSV95 EQU   CVTQID
CVTRSV94 EQU   CVTXTNT2+20
CVTRSV93 EQU   CVTXTNT2+16
CVTRSV92 EQU   CVTXTNT2+12
CVTDEBVR EQU   CVTXTNT2+8
CVTRSV91 EQU   CVTXTNT2+6
CVTRSV9H EQU   CVTFLGBT
CVTRSV9G EQU   CVTFLGBT
CVTRSV9F EQU   CVTFLGBT
CVTRSV9E EQU   CVTFLGBT
CVTRSV9D EQU   CVTFLGBT
CVTRSV9C EQU   CVTFLGBT
CVTVME   EQU   CVTFLGBT
CVTNPE   EQU   CVTFLGBT
CVTNUCLS EQU   CVTXTNT2+4
CVTDSSVA EQU   CVTDSSV+1
CVTRSV89 EQU   CVTDSSV
CVTRSV88 EQU   CVTXTNT1+8
CVTRSV87 EQU   CVTXTNT1+4
CVTFACHN EQU   CVTXTNT1
CVTRV488 EQU   CVTMAP+412
CVTRV487 EQU   CVTMAP+408
CVTRV486 EQU   CVTMAP+404
CVTRV485 EQU   CVTMAP+400
CVTACTAP EQU   CVTMAP+396
CVTAUTH  EQU   CVTMAP+392
CVTATMCA EQU   CVTATMCT+1
CVTATMST EQU   CVTATMCT
CVTRSV61 EQU   CVTMAP+384
CVTVOLT1 EQU   CVTVOLM1+1
CVTVOLI1 EQU   CVTVOLF1
CVTSTOA  EQU   CVTMAP+376
CVTRSV58 EQU   CVTMAP+374
CVTRSV57 EQU   CVTMAP+372
CVTDDCE  EQU   CVTMAP+368
CVTPNWFR EQU   CVTMAP+364
CVTSMF   EQU   CVTMAP+360
CVTSULK  EQU   CVTMAP+358
CVTSLKO  EQU   CVTSYSK
CVTSLKP  EQU   CVTSYSK
CVTSLKQ  EQU   CVTSYSK
CVTSLKR  EQU   CVTSYSK
CVTRSV56 EQU   CVTSYSK
CVTRSV55 EQU   CVTSYSK
CVTRSV54 EQU   CVTSYSK
CVTRSV53 EQU   CVTSYSK
CVTRSV52 EQU   CVTA1F1
CVTRSV51 EQU   CVTA1F1
CVTRSV50 EQU   CVTA1F1
CVTRSV49 EQU   CVTA1F1
CVTRSV48 EQU   CVTA1F1
CVTRSV47 EQU   CVTA1F1
CVTSRSW  EQU   CVTA1F1
CVTPFSW  EQU   CVTA1F1
CVTPCVT  EQU   CVTMAP+352
CVTRSV46 EQU   CVTMAP+344
CVTRSV45 EQU   CVTMAP+340
CVTRSV44 EQU   CVTMAP+338
CVTRSV43 EQU   CVTMAP+336
CVTHJESA EQU   CVTHJES+1
CVTRSV42 EQU   CVTHJES
CVTEXT2A EQU   CVTEXT2+1
CVTRSV41 EQU   CVTEXT2
CVTAPFA  EQU   CVTAPF+1
CVTRSV40 EQU   CVTAPF
CVTRV518 EQU   CVTINTLA
CVTRV517 EQU   CVTERPV
CVTEORM  EQU   CVTMAP+312
CVTMCHPR EQU   CVTMAP+308
CVTTZ    EQU   CVTMAP+304
CVTJEPS  EQU   CVTMAP+300
CVTJESCT EQU   CVTMAP+296
CVTMODE  EQU   CVTMAP+292
CVTPTRV  EQU   CVTMAP+288
CVTREAL  EQU   CVTMAP+284
CVTRSV39 EQU   CVTMAP+280
CVTRSV38 EQU   CVTMAP+276
CVTDMSRA EQU   CVTDMSR+1
CVTRV634 EQU   CVTDMSRF
CVTRV633 EQU   CVTDMSRF
CVTRV632 EQU   CVTDMSRF
CVTRV631 EQU   CVTDMSRF
CVTRV630 EQU   CVTDMSRF
CVTRV629 EQU   CVTDMSRF
CVTUDUMP EQU   CVTDMSRF
CVTSDUMP EQU   CVTDMSRF
CVTQMSGA EQU   CVTQMSG+1
CVTRSV36 EQU   CVTQMSG
CVTAMFF  EQU   CVTMAP+264
CVTPURGA EQU   CVTPURG+1
CVTRSV35 EQU   CVTPURG
CVTCBSP  EQU   CVTMAP+256
CVTATERA EQU   CVTATER+1
CVTSYST  EQU   CVTATER
CVTVOLT2 EQU   CVTTAT
CVTVOLI2 EQU   CVTVOLF2
CVTAQAVB EQU   CVTAQAVT+1
CVTRSV34 EQU   CVTTCMFG
CVTRSV33 EQU   CVTTCMFG
CVTRSV32 EQU   CVTTCMFG
CVTRSV31 EQU   CVTTCMFG
CVTRSV30 EQU   CVTTCMFG
CVTRSV29 EQU   CVTTCMFG
CVTRSV28 EQU   CVTTCMFG
CVTTCRDY EQU   CVTTCMFG
CVTGTFA  EQU   CVTGTF+1
CVTRSV27 EQU   CVTGTFST
CVTRNIO  EQU   CVTGTFST
CVTUSR   EQU   CVTGTFST
CVTRV318 EQU   CVTFORM
CVTRV317 EQU   CVTTMODE
CVTRV316 EQU   CVTSTATE
CVTRV315 EQU   CVTGTFS
CVTGTFAV EQU   CVTGTFS
CVT0SCR1 EQU   CVTMAP+232
CVTRV515 EQU   CVTMAP+228
CVTRMS   EQU   CVTMAP+224
CVTPATCH EQU   CVTMAP+220
CVTTSCE  EQU   CVTMAP+216
CVTLNKSC EQU   CVTMAP+214
CVTQABST EQU   CVTMAP+212
CVTMDLDS EQU   CVTMAP+208
CVTUSER  EQU   CVTMAP+204
CVTABEND EQU   CVTMAP+200
CVTSMCA  EQU   CVTMAP+196
CVTRSV18 EQU   CVTMAP+192
CVTQLPAQ EQU   CVTMAP+188
CVTQCDSR EQU   CVTMAP+184
CVTRSV17 EQU   CVTOPTB
CVTRSV16 EQU   CVTOPTB
CVTFP    EQU   CVTOPTB
CVTAPTHR EQU   CVTOPTB
CVTNLOG  EQU   CVTOPTB
CVTTOD   EQU   CVTOPTB
CVTCTIMS EQU   CVTOPTB
CVTPROT  EQU   CVTOPTB
CVTXPFP  EQU   CVTOPTA
CVTASCII EQU   CVTOPTA
CVTRSV13 EQU   CVTOPTA
CVTRSV12 EQU   CVTOPTA
CVTNIP   EQU   CVTOPTA
CVTDDR   EQU   CVTOPTA
CVTAPR   EQU   CVTOPTA
CVTCCH   EQU   CVTOPTA
CVTSNCTR EQU   CVTMAP+180
CVTQMWR  EQU   CVTMAP+176
CVTQOCR  EQU   CVTMAP+172
CVT1EF00 EQU   CVTMAP+168
CVTMZ00  EQU   CVTMAP+164
CVTSV76Q EQU   CVTSV76C
CVTRSV11 EQU   CVTMAP+156
CVT0PT01 EQU   CVTMAP+152
CVTMSER  EQU   CVTMAP+148
CVTRV516 EQU   CVTIERLC
CVTILCH  EQU   CVTMAP+140
CVT0DS   EQU   CVTMAP+136
CVTFBOSV EQU   CVTMAP+132
CVTNUCB  EQU   CVTMAP+128
CVTIXAVL EQU   CVTMAP+124
CVTSV76M EQU   CVTIOQET
CVTDCBA  EQU   CVTMAP+117
CVTMVS2  EQU   CVTDCB
CVT6DAT  EQU   CVTDCB
CVT4MPS  EQU   CVTDCB
CVTRSV09 EQU   CVTDCB
CVT4MS1  EQU   CVTDCB
CVT2SPS  EQU   CVTDCB
CVT1SSS  EQU   CVTDCB
CVTRSV08 EQU   CVTDCB
CVTSTB   EQU   CVTMAP+112
CVTQTD00 EQU   CVTMAP+108
CVTQTE00 EQU   CVTMAP+104
CVTCUCB  EQU   CVTMAP+100
CVTSJQ   EQU   CVTMAP+96
CVTPBLDL EQU   CVTMAP+92
CVTTPC   EQU   CVTMAP+88
CVTSVDCB EQU   CVTMAP+84
CVTBRET  EQU   CVTMAP+82
CVTEXIT  EQU   CVTMAP+80
CVT0FN00 EQU   CVTMAP+76
CVTDARA  EQU   CVTDAR+1
CVTRSV07 EQU   CVTFLGS1
CVTRSV06 EQU   CVTFLGS1
CVTRSV05 EQU   CVTFLGS1
CVTRSV04 EQU   CVTFLGS1
CVTRSV03 EQU   CVTFLGS1
CVTRSV02 EQU   CVTFLGS1
CVTRSV01 EQU   CVTFLGS1
CVTDMPLK EQU   CVTFLGS1
CVTXITP  EQU   CVTMAP+68
CVTZDTAB EQU   CVTMAP+64
CVTMSLT  EQU   CVTMAP+60
CVTDATE  EQU   CVTMAP+56
CVTBTERM EQU   CVTMAP+52
CVTSYSAD EQU   CVTMAP+48
CVTXTLER EQU   CVTMAP+44
CVTILK2  EQU   CVTMAP+40
CVTILK1  EQU   CVTMAP+36
CVTPRLTV EQU   CVTMAP+32
CVTPCNVT EQU   CVTMAP+28
CVT0VL00 EQU   CVTMAP+24
CVTXAPG  EQU   CVTMAP+20
CVTBUF   EQU   CVTMAP+16
CVTJOB   EQU   CVTMAP+12
CVTLINK  EQU   CVTMAP+8
CVT0EF00 EQU   CVTMAP+4
CVTTCBP  EQU   CVTMAP
CVT      EQU   CVTMAP
ASVTEND  EQU   ASVT+528
ASVTAVAL EQU   ASVTENTY
ASVTAVAI EQU   ASVTFRST
ASVTRS00 EQU   ASVT+520
ASVTMAXU EQU   ASVT+516
ASVTASVT EQU   ASVT+512
ASVTBEGN EQU   ASVT+512
@NM00241 EQU   ASVT
ASCBEND  EQU   ASCB+208
ASCBSRBT EQU   ASCB+200
ASCBSWTL EQU   ASCB+196
ASCBRS14 EQU   ASCB+195
ASCBSMCT EQU   ASCB+194
ASCBRS12 EQU   ASCB+192
ASCBPCTT EQU   ASCB+188
ASCBVGTT EQU   ASCB+184
ASCBLGCB EQU   ASCB+180
ASCBJBNS EQU   ASCB+176
ASCBJBNI EQU   ASCB+172
ASCBMCC  EQU   ASCB+168
ASCBRTWA EQU   ASCB+164
ASCBIQEA EQU   ASCB+160
ASCBXMPQ EQU   ASCB+156
ASCBRS01 EQU   ASCB+154
ASCBFMCT EQU   ASCB+152
ASCBOUXB EQU   ASCB+148
ASCBOUCB EQU   ASCB+144
ASCBMECB EQU   ASCB+140
ASCBQECB EQU   ASCB+136
ASCBCMSB EQU   ASCB+132
ASCBCMSF EQU   ASCB+128
ASCBTCBS EQU   ASCB+124
ASCBNVSC EQU   ASCB+122
ASCBVSC  EQU   ASCB+120
ASCBSRBS EQU   ASCB+118
ASCBSSRB EQU   ASCB+116
ASCBRV06 EQU   ASCBFLG2
ASCBRV05 EQU   ASCBFLG2
ASCBRV04 EQU   ASCBFLG2
ASCBSNQS EQU   ASCBFLG2
ASCBS2S  EQU   ASCBFLG2
ASCBCEXT EQU   ASCBFLG2
ASCBPXMT EQU   ASCBFLG2
ASCBXMPT EQU   ASCBFLG2
ASCBRF07 EQU   ASCBDSP1
ASCBRF06 EQU   ASCBDSP1
ASCBRF05 EQU   ASCBDSP1
ASCBRF04 EQU   ASCBDSP1
ASCBRF03 EQU   ASCBDSP1
ASCBRF02 EQU   ASCBDSP1
ASCBFAIL EQU   ASCBDSP1
ASCBNOQ  EQU   ASCBDSP1
ASCBSWCT EQU   ASCB+112
ASCBASXB EQU   ASCB+108
ASCBTMCH EQU   ASCB+104
ASCBNSWP EQU   ASCBFLG1
ASCBTYP1 EQU   ASCBFLG1
ASCBSTND EQU   ASCBFLG1
ASCBABNT EQU   ASCBFLG1
ASCBTERM EQU   ASCBFLG1
ASCBS3S  EQU   ASCBFLG1
ASCBCMSH EQU   ASCBFLG1
ASCBTOFF EQU   ASCBFLG1
ASCBRF01 EQU   ASCBRCTF
ASCBTMLW EQU   ASCBRCTF
ASCBOUT  EQU   ASCBRCTF
ASCBWAIT EQU   ASCBRCTF
ASCBRV08 EQU   ASCBRCTF
ASCBFQU  EQU   ASCBRCTF
ASCBFRS  EQU   ASCBRCTF
ASCBTMNO EQU   ASCBRCTF
ASCBAFFN EQU   ASCBFW1
ASCBDUMP EQU   ASCB+96
ASCBQSVC EQU   ASCB+92
ASCBUBET EQU   ASCB+88
ASCBECB  EQU   ASCB+84
ASCBJSTL EQU   ASCB+80
ASCBEWST EQU   ASCB+72
ASCBEJST EQU   ASCB+64
ASCBCSCB EQU   ASCB+56
ASCBRSM  EQU   ASCB+52
ASCBLDA  EQU   ASCB+48
ASCBSTOR EQU   ASCB+44
ASCBDP   EQU   ASCB+43
ASCBRV07 EQU   ASCB+42
ASCBIOSM EQU   ASCB+40
ASCBSEQN EQU   ASCB+38
ASCBASID EQU   ASCB+36
ASCBCPUS EQU   ASCB+32
ASCBSPL  EQU   ASCB+28
ASCBLSLQ EQU   ASCB+24
ASCBFSLQ EQU   ASCB+20
ASCBIOSP EQU   ASCB+16
ASCBLOCK EQU   ASCB+12
ASCBBWDP EQU   ASCB+8
ASCBFWDP EQU   ASCB+4
ASCBASCB EQU   ASCB
ASCBEGIN EQU   ASCB
TSBEND   EQU   TSB+104
@NM00240 EQU   TSB+100
TSBEXTNT EQU   TSB+96
TSBPSWD  EQU   TSB+88
TSBLECB  EQU   TSBMINL
TSBLINE  EQU   TSB+82
TSBSTAX  EQU   TSB+81
TSBATTNC EQU   TSB+80
TSBF1V   EQU   TSBTPOST+7
TSBF1M   EQU   TSBTPOST+6
TSBF2V   EQU   TSBTPOST+5
TSBF2M   EQU   TSBTPOST+4
TSBFLAGV EQU   TSBTPOST+3
TSBFLAGM EQU   TSBTPOST+2
@NM00239 EQU   TSBTPOST+1
@NM00238 EQU   TSBTPFLG
@NM00237 EQU   TSBTPFLG
@NM00236 EQU   TSBTPFLG
@NM00235 EQU   TSBTPFLG
TSBNEWID EQU   TSBTPFLG
TSBTPAYI EQU   TSBTPFLG
TSBTPQCB EQU   TSBTPFLG
TSBPOSTO EQU   TSBTPFLG
TSBLINKB EQU   TSBLINKA+1
TSBPRI   EQU   TSBLINKA
TSBRQCB  EQU   TSBRCB
TSBCTCB  EQU   TSB+60
TSBERSDS EQU   TSB+56
TSBAUTOI EQU   TSB+52
TSBAUTOS EQU   TSB+48
TSBATNCC EQU   TSB+44
TSBASRCE EQU   TSB+42
TSBHLDL  EQU   TSBFLG4
TSBGETBF EQU   TSBFLG4
TSBCANC  EQU   TSBFLG4
TSBHOLD  EQU   TSBFLG4
TSBHUNG  EQU   TSBFLG4
TSBOWAIT EQU   TSBFLG4
TSBIWAIT EQU   TSBFLG4
TSBOCAB  EQU   TSBFLG4
TSBLNNO  EQU   TSB+40
TSBATNLC EQU   TSB+36
TSBCHDCC EQU   TSBSTCC+1
TSBLNDCC EQU   TSBSTCC
TSBWTJID EQU   TSB+32
TSBECB   EQU   TSB+28
TSBC1050 EQU   TSBTERM2
@NM00234 EQU   TSBTERM2
@NM00233 EQU   TSBTERM2
@NM00232 EQU   TSBTERM2
@NM00231 EQU   TSBTERM2
TSBCTWX  EQU   TSBTERM2
@NM00230 EQU   TSBTERM2
@NM00229 EQU   TSBTERM2
@NM00228 EQU   TSBTERM1
@NM00227 EQU   TSBTERM1
@NM00226 EQU   TSBTERM1
TSBC2741 EQU   TSBTERM1
TSBC5041 EQU   TSBTERM1
TSBCATTN EQU   TSBTERM1
TSBCBRK  EQU   TSBTERM1
TSBCIHBN EQU   TSBTERM1
TSBVTAM  EQU   TSBFLG5
TSBKEYS  EQU   TSBFLG5
@NM00225 EQU   TSBFLG5
TSBATMP  EQU   TSBFLG5
TSBNOBRK EQU   TSBFLG3
TSBTPUT  EQU   TSBFLG3
TSBAWOIP EQU   TSBFLG3
TSBNBKSP EQU   TSBFLG3
TSBSPIT  EQU   TSBFLG3
TSBTJMSG EQU   TSBFLG3
TSBATTN  EQU   TSBFLG3
TSBIBFP  EQU   TSB+21
TSBNIBF  EQU   TSB+20
TSBITBFP EQU   TSB+17
TSBSATN2 EQU   TSBFLG2
TSBSATN1 EQU   TSBFLG2
TSBSTAUT EQU   TSBFLG2
TSBAUTOC EQU   TSBFLG2
TSBAULST EQU   TSBFLG2
TSBBRKIN EQU   TSBFLG2
TSBAUTON EQU   TSBFLG2
TSBBIPI  EQU   TSBFLG2
TSBOBFP  EQU   TSB+13
TSBNOBF  EQU   TSB+12
TSBOTBFP EQU   TSB+9
TSBLNSZ  EQU   TSB+8
TSBWTCB  EQU   TSB+5
TSBTJBF  EQU   TSBFLG1
TSBTJIP  EQU   TSBFLG1
TSBTJOW  EQU   TSBFLG1
TSBIFLSH EQU   TSBFLG1
TSBWOWIP EQU   TSBFLG1
TSBOWIP  EQU   TSBFLG1
TSBOFLSH EQU   TSBFLG1
TSBANSR  EQU   TSBFLG1
TSBASCB  EQU   TSBASCBA+1
TSBATNLD EQU   TSBSTAT
TSB3270  EQU   TSBSTAT
TSBDISC  EQU   TSBSTAT
TSBITOFF EQU   TSBSTAT
TSBNOBUF EQU   TSBSTAT
TSBDSPLY EQU   TSBSTAT
TSBLWAIT EQU   TSBSTAT
TSBINUSE EQU   TSBSTAT
TSWDSAV  EQU   IEDQTSW+46
TSWMSGNL EQU   IEDQTSW+44
TSWTSCUR EQU   IEDQTSW+40
TSWFRCT  EQU   IEDQTSW+36
TSWTOCT  EQU   IEDQTSW+32
TSWLAST  EQU   IEDQTSW+31
TSWFIRST EQU   IEDQTSW+30
TSWNMVCT EQU   TSWEFLG2
TSWHDRF  EQU   TSWEFLG2
TSWRDAP  EQU   TSWEFLG2
TSWLNCT  EQU   TSWEFLG2
TSWNLCRF EQU   TSWEFLG2
TSWPRMPT EQU   TSWEFLG2
TSW1050  EQU   TSWEFLG2
TSW3705  EQU   TSWEFLG2
TSWETXF  EQU   TSWEFLG1
TSWEOTF  EQU   TSWEFLG1
TSWINCF  EQU   TSWEFLG1
TSWSYN   EQU   TSWEFLG1
TSWRECAL EQU   TSWEFLG1
TSWRESF  EQU   TSWEFLG1
TSWPRTMV EQU   TSWEFLG1
TSWTRLR  EQU   TSWEFLG1
TSWCURSV EQU   IEDQTSW+26
TSWNROOM EQU   TSWFLG2
@NM00224 EQU   TSWFLG2
TSWJUSTI EQU   TSWFLG1
TSWFMTI  EQU   TSWFLG1
TSWMSGN1 EQU   TSWFLG1
TSWASIS  EQU   TSWSCCTL
TSWCTL   EQU   TSWSCCTL
TSWTSMSG EQU   TSWFLG1
TSWSWT2  EQU   IEDQTSW+23
TSWWRAF  EQU   TSWSWT1
TSWSBAF  EQU   TSWSWT1
TSWCRNLF EQU   TSWSWT1
TSWBYPF  EQU   TSWSWT1
TSWSFF   EQU   TSWSWT1
TSWRDAF  EQU   TSWSWT1
TSWC1F   EQU   TSWSWT1
TSWC2F   EQU   TSWSWT1
TSWLNSZ  EQU   TSWTSLNS+1
TSWLNN   EQU   TSWTSLNS
TSWCARCT EQU   IEDQTSW+19
TSWFCD   EQU   IEDQTSW+18
TSWTCBSZ EQU   IEDQTSW+16
TSWMSGSZ EQU   IEDQTSW+14
TSWTSBSZ EQU   IEDQTSW+12
TSWLINE  EQU   IEDQTSW+10
TSWMOVED EQU   IEDQTSW+8
TSWTCBFR EQU   IEDQTSW+4
TSWTSBFR EQU   IEDQTSW
GMDEVCH  EQU   TSIGMAIN+40
GMTSSIZ  EQU   TSIGMAIN+38
GMTSCNT  EQU   TSIGMAIN+36
GMLNSPC  EQU   TSIGMAIN+34
GMTCSPC  EQU   TSIGMAIN+32
GMCRUNT  EQU   TSIGMAIN+28
GMCRBUF  EQU   TSIGMAIN+24
GMTCBUF  EQU   TSIGMAIN+20
GMTSBUF  EQU   TSIGMAIN+16
GMBFRS   EQU   TSIGMAIN+14
GMHBFR   EQU   TSIGMAIN+12
GMBFUNIT EQU   TSIGMAIN+10
GMBFSIZE EQU   TSIGMAIN+8
GMSATCT  EQU   TSIGMAIN+6
GMCARCT  EQU   TSIGMAIN+4
GMLNSZ   EQU   TSIGMAIN+3
GMLNNO   EQU   TSIGMAIN+2
@NM00223 EQU   GMCODE
GMTSO    EQU   GMCODE
GMLINE   EQU   GMCODE
GMTCAM   EQU   GMCODE
@NM00222 EQU   GMCODE
@NM00221 EQU   GMFLAG
GMNUNLCK EQU   GMFLAG
GMFRMAT  EQU   GMFLAG
GMINIT   EQU   GMFLAG
GMENCIN  EQU   GMFLAG
GMENCON  EQU   GMFLAG
@NM00220 EQU   TSITSW
TSIAYO02 EQU   IEDQTSI+120
TSIAYO   EQU   IEDQTSI+116
TSIRNSCH EQU   IEDQTSI+112
TSI3705  EQU   IEDQTSI+108
TSI270X  EQU   IEDQTSI+104
TSI3270  EQU   IEDQTSI+100
TSITSDST EQU   IEDQTSI+96
TSIATTEN EQU   IEDQTSI+92
TSICPBC  EQU   IEDQTSI+88
TSICPBI  EQU   IEDQTSI+84
TSIDEST  EQU   IEDQTSI+80
@NM00219 EQU   IEDQTSI+64
TSIDYDLY EQU   IEDQTSI+60
TSIDYLNK EQU   IEDQTSI+57
TSIDYPRI EQU   IEDQTSI+56
@NM00218 EQU   TSIDYQCB+1
@NM00217 EQU   TSIDYQFG
TSIDYQB  EQU   TSIDYQFG
@NM00216 EQU   TSIDYQFG
TSIDYPOS EQU   TSIDYQFG
@NM00215 EQU   TSIDYQFG
TSIHALT  EQU   IEDQTSI+48
TSITSAP  EQU   IEDQTSI+40
TSITSBQ  EQU   IEDQTSI+36
TSIBUFQ  EQU   IEDQTSI+32
TSISCHED EQU   IEDQTSI+28
TSIHANG  EQU   IEDQTSI+20
TSIEDIT  EQU   IEDQTSI+16
TSISTAE  EQU   IEDQTSI+12
TSINPUT  EQU   IEDQTSI+8
TSILINK  EQU   IEDQTSI+5
TSIPRI   EQU   IEDQTSI+4
TSIELCHN EQU   IEDQTSI+1
@NM00214 EQU   TSIFLAG
TSIQCB   EQU   TSIFLAG
@NM00213 EQU   TSIFLAG
TSIPOST  EQU   TSIFLAG
@NM00212 EQU   TSIFLAG
TRMOPT   EQU   IEDTRM+34
TRMOPTBL EQU   IEDQTRM+18
TRMOPNO  EQU   IEDQTRM+17
TRMSENSE EQU   TRMSTAT+3
TRMTEMPR EQU   TRMSTAT+2
TRMSIO   EQU   TRMSTAT
@NM00208 EQU   TRMDEVFL+1
TRMTPIN  EQU   TRMDEVFL+1
TRMNCPI  EQU   TRMDEVFL+1
TRMRNTRM EQU   TRMDEVFL+1
@NM00207 EQU   TRMDEVFL+1
TRMLMD   EQU   TRMDEVFL+1
TRMCONC  EQU   TRMDEVFL+1
TRMTSOB  EQU   TRMDEVFL
TRMBFDY  EQU   TRMDEVFL
TRMTBLK  EQU   TRMDEVFL
TRMSBLK  EQU   TRMDEVFL
TRMBLKS  EQU   TRMDEVFL
TRMADDC  EQU   TRMDEVFL
TRMDDIG  EQU   TRMDEVFL
TRMBUFS  EQU   TRMDEVFL
TRMPRILK EQU   TRMALTD
TRMLGB   EQU   TRMDSORG
TRMUTERM EQU   TLISTCNT
TRMSCNYN EQU   TRMSTATE
TRMOPTFN EQU   TRMSTATE
TRMHELDN EQU   TRMSTATE
TRMACPTN EQU   TRMSTATE
TRMPROC  EQU   TRMLOG
TRMLIST  EQU   TRMLOG
TRMLINE  EQU   TRMSTATE
TRMSUBST EQU   IEDNTRM+12
TRMRLMCT EQU   IEDNTRM+10
TRMCOHTG EQU   TRMSIBPT+1
TRMGPCNT EQU   TRMSIBPT
TRMBUFRD EQU   TRMBYTE0
TRMGP    EQU   TRMBYTE0
@NM00206 EQU   TRMBYTE0
TRMOUTPT EQU   TRMBYTE0
TRMINPUT EQU   TRMBYTE0
TRMUDEF  EQU   TRMBYTE0
TRMCOHRT EQU   IEDNTRM+4
TRMSTOTE EQU   TRMBYTE1
TRMCKPRN EQU   TRMBYTE1
TRMTRACE EQU   TRMBYTE1
TRMSWBCK EQU   TRMBYTE1
TRMAUTOC EQU   TRMBYTE1
TRMNOSND EQU   TRMBYTE2
TRMGPACT EQU   TRMBYTE2
TRMANDL  EQU   TRMBYTE2
TRMCLOSN EQU   TRMINPG
TRMREMB  EQU   TRMBYTE2
TRMRSACT EQU   TRMBYTE2
@NM00205 EQU   TTHTAG1
TTHTAGS  EQU   TTHTAG1
TTHBYTE1 EQU   IEDTH+1
@NM00204 EQU   TTHBYTE0
TCXEND   EQU   IEDQTCXD+224
TCXNCPIO EQU   IEDQTCXD+220
TCXACTE8 EQU   TCXQE8
TCXABEPL EQU   IEDQTCXD+212
TCXSRBS  EQU   IEDQTCXD+208
TCXSIOSB EQU   IEDQTCXD+204
TCXESAVE EQU   IEDQTCXD+132
TCXERPPM EQU   IEDQTCXD+128
TCXERPSV EQU   IEDQTCXD+116
TCXSATTN EQU   IEDQTCXD+112
@NM00203 EQU   TCXDSAVE+4
@NM00202 EQU   TCXDSAVE
TCXPLCB  EQU   IEDQTCXD+100
TCXBITS  EQU   IEDQTCXD+98
TCXSCBSZ EQU   IEDQTCXD+97
TCXBIT1  EQU   IEDQTCXD+96
TCXCOMPT EQU   IEDQTCXD+92
TCXAVAIL EQU   IEDQTCXD+88
TCXBUFL  EQU   IEDQTCXD+84
TCXTOTE  EQU   TCXBUFA
TCXCKPM  EQU   IEDQTCXD+79
TCXNCKPR EQU   IEDQTCXD+78
TCXSZAIB EQU   IEDQTCXD+76
TCXAIBC  EQU   IEDQTCXD+72
TCXPEBC  EQU   IEDQTCXD+68
TCXPEWAC EQU   IEDQTCXD+64
TCXQRQ   EQU   IEDQTCXD+60
TCXOCQ   EQU   IEDQTCXD+56
TCXPNTQ  EQU   IEDQTCXD+52
TCXPUTQ  EQU   IEDQTCXD+48
TCXGETQ  EQU   IEDQTCXD+44
TCXTSI   EQU   IEDQTCXD+40
TCXCC3TS EQU   IEDQTCXD+35
TCXAPDMP EQU   TCXFLAG1
TCXAPPL  EQU   TCXFLAG1
TCXRTM   EQU   TCXFLAG1
TCXMCPCD EQU   TCXFLAG1
TCXAUTH  EQU   TCXFLAG1
TCXASID  EQU   IEDQTCXD+32
TCXASCB  EQU   IEDQTCXD+28
TCXREADY EQU   IEDQTCXD+24
TCXPASWD EQU   IEDQTCXD+16
TCXDISP  EQU   IEDQTCXD+12
TCXTCB   EQU   IEDQTCXD+8
TCXATTLN EQU   TCXATTEN
TCXAVT   EQU   IEDQTCXD
STMHOPT  EQU   IEDSTMH+18
STMHCOPO EQU   STMHLMOP
STMHLOPO EQU   IEDSTMH+16
STMHROUT EQU   IEDSTMH+13
STMHLMD  EQU   STMHAEIX
STMHLMDO EQU   STMHAEIX
@NM00201 EQU   STMHAEIX
STMHSTCB EQU   IEDSTMH+9
STMHLENG EQU   IEDSTMH+8
STMHTSO  EQU   IEDSTMH+5
STMHLOP  EQU   STMHFLG2
STMHLOG  EQU   STMHFLG2
STMHCOP  EQU   STMHFLG2
STMHCONV EQU   STMHFLG2
STMHSTC  EQU   STMHFLG2
STMHCONT EQU   STMHFLG2
STMHLCIN EQU   STMHFLG2
STCBLINK EQU   IEDQSTCB+5
STCBPRI  EQU   IEDQSTCB+4
STCBTCIN EQU   IEDQSTCB+2
STCBINDX EQU   IEDQSTCB+1
@NM00200 EQU   SIBBIND3
SIBCRES  EQU   SIBBIND3
SIBSPKR  EQU   SIBBIND3
SIBRECOV EQU   SIBBIND3
SIBALT   EQU   SIBBIND2
SIBBTERM EQU   SIBBIND2
SIBBRACK EQU   SIBBIND2
SIBFMUSE EQU   SIBBIND2
SIBSEBI  EQU   SIBBIND2
SIBSCMP  EQU   SIBBIND2
SIBSEXC  EQU   SIBBIND2
SIBSDEF  EQU   SIBBIND2
SIBSRQM  EQU   SIBBIND1
SIBSCHNG EQU   SIBBIND1
SIBPEBI  EQU   SIBBIND1
SIBPCMP  EQU   SIBBIND1
SIBPEXC  EQU   SIBBIND1
SIBPDEF  EQU   SIBBIND1
SIBPRQM  EQU   SIBBIND1
SIBPCHN  EQU   SIBBIND1
SIBFMPRO EQU   IEDSIBD+19
SIBTSPRO EQU   IEDSIBD+18
@NM00199 EQU   SIBSTAT2
SIBDACLU EQU   SIBSTAT2
SIBRDSCN EQU   SIBSTAT2
SIBTERM  EQU   SIBSTAT2
SIBUSS   EQU   SIBSTAT2
SIBRTRP  EQU   SIBSTAT1
SIBFTERM EQU   SIBSTAT1
SIBRQEND EQU   SIBSTAT1
SIBRQSHT EQU   SIBSTAT1
SIBSEQO  EQU   SIBSEQN+2
SIBSEQI  EQU   SIBSEQN
SIBNCNT  EQU   SIBPACIN
SIBMCNT  EQU   SIBPACIN
SIBDSTAT EQU   SIBSESSN
SIBSSTAT EQU   SIBSESSN
SIBINBIU EQU   SIBSESSN
SIBSHUTC EQU   SIBSESSN
SIBCHAIN EQU   IEDSIBD+4
SIBRUSEG EQU   IEDSIBD
SCBTRANS EQU   IEDQSCB+81
SCBUNTCT EQU   IEDQSCB+80
SCBEOB   EQU   IEDQSCB+78
SCBNXCPB EQU   SCBCCSEG
SCBNHDR  EQU   SCBCHDR
SCBCRCD  EQU   IEDQSCB+69
SCBTQBCK EQU   SCBNTXT
SCBOSEQ  EQU   SCBSCAN
SCBXTRA  EQU   SCBCORE
SCBNOPST EQU   SCBSTAT1
SCBNIDLE EQU   SCBSTAT1
SCBCEND  EQU   SCBSTAT1
SCBCBGN  EQU   SCBSTAT1
SCBSIZE  EQU   IEDQSCB+58
SCBSRCE  EQU   IEDQSCB+56
SCBDEOB  EQU   IEDQSCB+52
SCBFEFO  EQU   SCBDCSEG
SCBCTBND EQU   SCBBLKCT
SCBSCHDR EQU   SCBCLSEG
SCBHBFNO EQU   IEDQSCB+44
SCBSCSEG EQU   SCBDNSEG
SCBBCTR  EQU   SCBCTBSV
SCBCCHDR EQU   IEDQSCB+37
SCBDESTL EQU   IEDQSCB+36
SCBDCHDR EQU   IEDQSCB+33
SCBCPBNO EQU   IEDQSCB+32
SCBMBSSA EQU   IEDQSCB+25
SCBMLMTN EQU   SCBBSCFM
SCBNOEOT EQU   SCBBSCFM
@NM00198 EQU   SCBBSCFM
SCBNPDTR EQU   SCBDATEN
SCBCNTEN EQU   SCBBSCFM
SCBRCVTX EQU   SCBBSCFM
SCBNONTR EQU   SCBBSCFM
SCBTRNSP EQU   SCBBSCFM
SCBENDCR EQU   SCBCTBAC+1
SCBCRLEN EQU   SCBCTBAC
SCBMRFSD EQU   IEDQSCB+20
SCBUNDFN EQU   SCBERR4
SCBSTERN EQU   SCBCHANN
SCBCPMEN EQU   SCBCTLUN
@NM00197 EQU   SCBERR4
SCBTRMLN EQU   SCBERR4
SCBCONNN EQU   SCBERR4
SCBAPERR EQU   SCBTXTTN
SCBSLCTN EQU   SCBERR4
SCBPERRN EQU   SCBXCEPN
SCBTHRSN EQU   SCBATTN
SCBFIERN EQU   SCBFORMN
SCBUSERN EQU   SCBERR3
SCBSATTN EQU   SCBERR3
SCBTMINN EQU   SCBERR3
SCBXPD   EQU   SCBTMIDN
SCBXPI   EQU   SCBLOSTN
SCBSOHE  EQU   SCBERR2
SCBFRWDN EQU   SCBERR2
SCBRRJN  EQU   SCBABRTN
SCBOLTR  EQU   SCBERR2
SCBALN   EQU   SCBERR2
SCBCODER EQU   SCBERR2
SCBCRMAX EQU   SCBERR2
SCBCRMIN EQU   SCBERR2
SCBRVISL EQU   SCBCUTFN
SCBNOBFN EQU   SCBERR1
@NM00196 EQU   SCBERR1
SCBNOVAC EQU   SCBSEQLN
SCBNOTSO EQU   SCBSEQHN
SCBRVITX EQU   SCBNOTRM
SCBHANG  EQU   SCBORIGN
SCBNOLOG EQU   SCBHDRRN
SCBMRFPL EQU   IEDQSCB+13
SCBBFMM  EQU   SCBQTYPE
SCBBBFTM EQU   SCBQTYPE
SCBNOFF  EQU   SCBQTYPE
SCBCONC  EQU   SCBQTYPE
SCBNREUS EQU   SCBQTYPE
SCBREUS  EQU   SCBQTYPE
SCBCOREQ EQU   SCBQTYPE
SCBNORCL EQU   SCBQTYPE
SCBCTBSZ EQU   SCBEOBSZ
@NM00195 EQU   SCBBKFCT
SCBPRI   EQU   IEDQSCB+8
SCBSNDCT EQU   SCBRCVCT
SCBDESTQ EQU   IEDQSCB+1
SCBCODE  EQU   SCBSTATE
SCBPRER  EQU   SCBSTATE
SCBCKPT  EQU   SCBSTATE
SCBMSGLN EQU   SCBSTATE
SCBERSDS EQU   SCBSTATE
SCBLCK1N EQU   SCBSTATE
SCBMGFMN EQU   SCBSEQIN
SCBTRANP EQU   SCBSTATE
@NM00194 EQU   TRHBYTE2
@NM00193 EQU   TRHBYTE2
@NM00192 EQU   TRHBYTE2
TRHCSI   EQU   TRHBYTE2
@NM00191 EQU   TRHBYTE2
TRHPI    EQU   TRHBYTE1
@NM00190 EQU   TRHBYTE1
@NM00189 EQU   TRHBYTE1
@NM00188 EQU   TRHBYTE1
TRHER    EQU   TRHBYTE1
TRHDR2   EQU   TRHBYTE1
@NM00187 EQU   TRHBYTE1
TRHSDI   EQU   TRHBYTE0
TRHFI    EQU   TRHBYTE0
@NM00186 EQU   TRHBYTE0
REQRCD2  EQU   REQRCDS+1
REQRCD1  EQU   REQRCDS
REQSWTCH EQU   REQROUTE+1
REQFLAG  EQU   REQROUTE
REQRQCBA EQU   IEDREQD+9
REQRPRI  EQU   IEDREQD+8
REQLINK  EQU   IEDREQD+5
REQPRI   EQU   IEDREQD+4
REQQCBA  EQU   IEDREQD+1
REQTYPE  EQU   IEDREQD
@NM00185 EQU   QCBPLCBA
@NM00184 EQU   QCBSTAT1
QCBNDXRQ EQU   QCBSTAT1
QCBCHAIN EQU   IEDNQCB
QCBPQBCK EQU   IEDQPQCB+25
QCBPRIPQ EQU   IEDQPQCB+24
QCBCFHDR EQU   IEDQPQCB+21
QCBLFEFO EQU   IEDQPQCB+18
QCBFFEFO EQU   IEDQPQCB+15
QCBPREVF EQU   QCBINTLF
QCBINTFF EQU   IEDQPQCB+9
QCBDATSQ EQU   QCBFHDTZ+1
@NM00183 EQU   QCBFHDTZ
@NM00182 EQU   QCBPFEFO
QCBDATFL EQU   QCBFHDLZ
QCBDNHDR EQU   IEDQPQCB
QCBQBACK EQU   IEDQQCB+37
QCBCKPT  EQU   QCBFLAG
QCBPROC  EQU   QCBFLAG
QCBSDFFO EQU   QCBFLAG
QCBTERMQ EQU   QCBFLAG
QCBRSRV  EQU   QCBFLAG
QCBLGBAD EQU   QCBDCBAD
QCBRELLN EQU   IEDQQCB+32
QCBPRLVL EQU   QCBPREN
QCBMSGCT EQU   IEDQQCB+26
QCBEXTO  EQU   QCBINTVL
QCBSATLC EQU   QCBTSOF2
QCBSATCH EQU   QCBTSOF2
QCBBUFQ  EQU   QCBTSOF2
QCBMTP   EQU   QCBINHBN
QCBSCBOF EQU   IEDQQCB+20
QCBTIME  EQU   QCBSTAT
QCBCLOCK EQU   QCBSTAT
QCBSCHDL EQU   QCBSTAT
QCBSMODE EQU   QCBSTAT
QCBSEND  EQU   QCBSTAT
QCBBUFRD EQU   QCBSTAT
QCBTRMHO EQU   QCBSTAT
QCBEOM   EQU   QCBSTAT
QCBHUCT  EQU   QCBRETCT
QCBIEND  EQU   QCBRETCT
QCBEND   EQU   QCBRETCT
QCBNL    EQU   QCBRETCT
QCBLOGCT EQU   QCBRETCT
@NM00180 EQU   QCBBYTE1
QCBRITRM EQU   QCBBYTE1
@NM00179 EQU   QCBEOLDT
QCBSLINK EQU   IEDQQCB+13
QCBSTPRI EQU   IEDQQCB+12
QCBSTCHN EQU   IEDQQCB+9
QCBSTVTO EQU   IEDQQCB+8
QCBCNTEN EQU   QCBELCHN+2
@NM00178 EQU   QCBELCHN+2
@NM00177 EQU   QCBELCHN
QCBHELD  EQU   QCBDSFLG
QCBFQCB  EQU   QCBDSFLG
QCBDRQQ  EQU   QCBDSFLG
QCBTSQ   EQU   QCBDSFLG
PRF2SEQP EQU   PRF2WD2
@NM00176 EQU   IEDPF2+1
@NM00175 EQU   PRF2FLG2
PRF2TERM EQU   PRF2FLG2
PRF2FORM EQU   PRF2FLG2
PRF1RULN EQU   PRF1SEQP+2
PRF1TAG2 EQU   PRF1SQID+1
@NM00174 EQU   PRF1TAG1
PRF1TAGS EQU   PRF1TAG1
@NM00173 EQU   PRF1FLG1
PRF1LOGD EQU   PRF1FLG1
PRF1USS  EQU   PRF1FLG1
PRF1FORM EQU   PRF1FLG1
PRF1EXPI EQU   PRF1FLG1
PRF1FIDI EQU   PRF1FLG1
PRF1RH   EQU   IEDPF1
PRFDEST  EQU   IEDQPRF+40
PRFISEQ  EQU   IEDQPRF+38
PRFSTXT  EQU   PRFHQBCK
PRFNHDR  EQU   PRFCHDR
PRFCRCD  EQU   IEDQPRF+29
PRFSVSEQ EQU   PRFNTXT+1
PRFSVPRI EQU   PRFEOBOF
PRFISIZE EQU   PRFSCAN+1
@NM00172 EQU   PRFSCAN
PRFEOB   EQU   PRFXTRA+1
PRFSTSO  EQU   PRFXTRA
PRFNHDRN EQU   PRFSTAT1
PRFNLSTN EQU   PRFSTAT1
PRFLOCK  EQU   PRFEOFN
PRFDUPLN EQU   PRFSTAT1
PRFTSMSG EQU   PRFSTAT1
PRFITCPN EQU   PRFSTAT1
PRFERMGN EQU   PRFSTAT1
PRFCNCLN EQU   PRFSTAT1
PRFSVFLG EQU   @NM00171+3
PRFSIZE  EQU   PRFSVFFO+2
PRFSRCE  EQU   PRFSVFFO
PRFLCB   EQU   IEDQPRF+13
PRFTI0   EQU   PRFTIC+1
@NM00170 EQU   PRFTICC
@NM00169 EQU   PRFTICC
@NM00168 EQU   PRFTICC
PRFTICON EQU   PRFTICC
@NM00167 EQU   PRFTICC
@NM00166 EQU   PRFTICC
PRFBFMM  EQU   PRFTICC
PRFEOMSG EQU   PRFTICC
PRFCOUNT EQU   PRFLINK+1
@NM00165 EQU   PRFLINK
PRFFLAGS EQU   PRFPRI
PRFIOADR EQU   PRFQCBA
PRFOPCDE EQU   PRFKEY
LGBIVLST EQU   IEDNLGB+60
LGBRESV4 EQU   LGBRESER+3
LGBRESV3 EQU   LGBRESER+2
LGBRESV2 EQU   LGBRESER+1
LGBRESV1 EQU   LGBRESER
LGBBUFSI EQU   IEDNLGB+54
@NM00164 EQU   IEDNLGB+53
LGBILCT  EQU   IEDNLGB+52
LGBSCTAD EQU   IEDNLGB+49
@NM00163 EQU   LGBOFLGS
LGBOPEN  EQU   LGBOFLGS
@NM00162 EQU   LGBOFLGS
LGBNAME  EQU   IEDNLGB+40
@NM00161 EQU   IEDNLGB+36
LGBTRANS EQU   IEDNLGB+33
@NM00160 EQU   IEDNLGB+32
@NM00159 EQU   IEDNLGB+31
LGBOPACE EQU   IEDNLGB+30
@NM00158 EQU   LGBBYTE
LGBPACK  EQU   LGBBYTE
LGBBUFMA EQU   IEDNLGB+28
LGBDSORG EQU   IEDNLGB+26
@NM00157 EQU   LGBPCI
@NM00156 EQU   LGBPCI
LGBPCINO EQU   LGBPCI
@NM00155 EQU   LGBPCI
LGBPCIAO EQU   LGBPCI
@NM00154 EQU   LGBPCI
@NM00153 EQU   LGBPCI
@NM00152 EQU   LGBPCI
@NM00151 EQU   IEDNLGB+24
LGBMHA   EQU   IEDNLGB+21
@NM00150 EQU   LGBBUFOU
LGBPREF  EQU   LGBBUFOU
@NM00149 EQU   LGBBUFOU
LGBSUBST EQU   IEDNLGB+18
LGBTYPE  EQU   IEDNLGB+17
@NM00148 EQU   IEDNLGB
LCBERADR EQU   LCBXRADR+1
LCBPCIRC EQU   LCBXRADR
LCBDCT3  EQU   LCBXDCT+2
LCBDCT2  EQU   LCBXDCT+1
LCBDCT1  EQU   LCBXDCT
@NM00147 EQU   LCBXFLAG
LCBERPND EQU   LCBXFLAG
LCBSRCPF EQU   LCBXFLAG
LCBGPCTV EQU   LCBXFLAG
@NM00146 EQU   LCBXFLAG
@NM00145 EQU   LCBXFLAG
@NM00144 EQU   LCBXFLAG
@NM00143 EQU   LCBXFLAG
LCBCCW10 EQU   LCBCPA+72
LCBCCW9  EQU   LCBCPA+64
LCBCCW8  EQU   LCBCPA+56
LCBCCW7  EQU   LCBCPA+48
LCBCCW6  EQU   LCBCPA+40
LCBCP    EQU   LCBQEBPL+4
LCBIOSB  EQU   LCBQEBPL+1
LCBSIO   EQU   LCBQEBPL
LCBCCW4  EQU   LCBCPA+24
LCBCCW3  EQU   LCBCPA+16
LCBCCW2  EQU   LCBCPA+8
LCBCCW1  EQU   LCBCPA
@NM00128 EQU   LCBERCCW+16
LCBATL05 EQU   LCBERCCW+8
@NM00127 EQU   LCBERCCW
LCBCSWSV EQU   LCBSAVSN+1
LCBSNSV  EQU   LCBSAVSN
LCBBFSNS EQU   LCBRSPSV
LCBWAITC EQU   LCBTPCD+5
LCBINPAK EQU   LCBSTAT6
LCBMHBID EQU   LCBSTAT6
LCBRTRRO EQU   LCBSTAT6
LCBHDRPD EQU   LCBSTAT6
LCBCHN   EQU   LCBSTAT6
LCBBFRSV EQU   LCBTPCD+1
@NM00126 EQU   LCBSTAT5
LCBLUS   EQU   LCBSTAT5
LCBLUNIT EQU   LCBSTAT5
LCBPERM  EQU   LCBSTAT5
LCBNXCMD EQU   LCBBFRW
LCBERMSK EQU   LCBOBRCH
LCBOLT   EQU   LCBMSGFM
LCBEOT   EQU   LCBMSGFM
LCBENQ   EQU   LCBMSGFM
LCBTTD   EQU   LCBMSGFM
LCBRSTRT EQU   LCBMSGFM
LCBVSTRT EQU   LCBMSGFM
LCBACKI  EQU   LCBMSGFM
LCBNAK   EQU   LCBMSGFM
@NM00125 EQU   LCBRBCT2
LCBDCNT  EQU   LCBRBCT2
LCBCOMPL EQU   LCBDLNKN
LCBERROR EQU   LCBERBST
LCBLOGDV EQU   LCBERBST
LCBINQ   EQU   LCBERBST
LCBRDERR EQU   LCBERBST
LCBEOMSG EQU   LCBERBST
LCBMSG   EQU   LCBERBST
LCBERBLK EQU   IEDQLCB+81
LCBERBKY EQU   LCBERB
LCBRECAD EQU   IEDQLCB+73
@NM00124 EQU   LCBTSTSW
@NM00123 EQU   LCBTSTSW
@NM00122 EQU   LCBTSTSW
@NM00121 EQU   LCBTSTSW
@NM00120 EQU   LCBTSTSW
@NM00119 EQU   LCBTSTSW
@NM00118 EQU   LCBTSTSW
LCBCONCT EQU   LCBTSTSW
LCBRESP  EQU   LCBSTAT2
LCBBFRAV EQU   LCBDIAL
LCBATTN  EQU   LCBSYNC
LCBSNDPR EQU   LCBSTAT2
LCBCONNN EQU   LCBBEOTN
LCBTRACE EQU   LCBSTAT2
LCBOCNI  EQU   LCBSTAT1
LCBOCWTN EQU   LCBSTAT1
LCBRECOF EQU   IEDQLCB+68
LCBRDBFR EQU   LCBRCBFR
LCBUCBX  EQU   IEDQLCB+64
LCBTTBIN EQU   LCBERRCT
@NM00117 EQU   LCBINCAM
LCBGETMN EQU   LCBINCAM
@NM00116 EQU   LCBRESTR+1
LCBCMDSV EQU   LCBRESTR
LCBPCILK EQU   LCBDCBPT
LCBSTART EQU   LCBIOBSN+16
LCBAP4OL EQU   LCBSIOCC
LCBAP3OL EQU   LCBSIOCC
LCBAP2OL EQU   LCBSIOCC
LCBAP1OL EQU   LCBSIOCC
LCBSIOC2 EQU   LCBSIOCC
LCBSIOC1 EQU   LCBSIOCC
@NM00115 EQU   LCBSIOCC
LCBCSWRC EQU   LCBCSW+5
LCBCSCHC EQU   LCBCSWCS
LCBCSICC EQU   LCBCSWCS
LCBCSCCC EQU   LCBCSWCS
LCBCSCDC EQU   LCBCSWCS
LCBCSPTC EQU   LCBCSWCS
LCBCSPGC EQU   LCBCSWCS
LCBCSIL  EQU   LCBCSWCS
LCBCSPCI EQU   LCBCSWCS
LCBUSUE  EQU   LCBCSWUS
LCBUSUC  EQU   LCBCSWUS
LCBUSDE  EQU   LCBCSWUS
LCBUSCE  EQU   LCBCSWUS
LCBUSBSY EQU   LCBCSWUS
LCBUSCUE EQU   LCBCSWUS
LCBUSSM  EQU   LCBCSWUS
LCBUSAT  EQU   LCBCSWUS
LCBCSWCA EQU   LCBCSW
LCBOBR   EQU   LCBFLAG3
LCBOBRRD EQU   LCBFLAG3
LCBIOMSG EQU   LCBFLAG3
LCBSOHC  EQU   LCBFLAG3
LCBRLAD  EQU   LCBFLAG3
LCBSOHR  EQU   LCBFLAG3
@NM00114 EQU   LCBFLAG3
LCBECBPT EQU   LCBIOBSN+4
LCBECBCC EQU   LCBIOBSN+3
LCBSENS1 EQU   LCBSNS+1
LCBABORT EQU   LCBTMOUT
LCBNOTIN EQU   LCBLOSDT
LCBOVRUN EQU   LCBSENS0
LCBDATCK EQU   LCBSENS0
LCBEQUCK EQU   LCBSENS0
LCBBUSCK EQU   LCBSENS0
LCBINTRQ EQU   LCBSENS0
LCBCMDRJ EQU   LCBSENS0
LCBFLAG2 EQU   LCBIOBSN
@NM00113 EQU   LCBFLAG1
LCBUNREL EQU   LCBFLAG1
LCBEXCPN EQU   LCBFLAG1
@NM00112 EQU   LCBFLAG1
LCBERPIN EQU   LCBFLAG1
@NM00111 EQU   LCBFLAG1
LCBFSBFR EQU   LCBMHA
LCBISZE  EQU   IEDQLCB+28
LCBLNENT EQU   LCBSCBDA+1
@NM00110 EQU   LCBSCBDA
LCBCPGMH EQU   LCBSTAT4
LCBREAL  EQU   LCBPHASE
@NM00109 EQU   LCBSTAT4
LCBACTRQ EQU   LCBSTAT4
LCBIPLRQ EQU   LCBSTAT4
LCBDACRQ EQU   LCBSTAT4
LCBDMPRQ EQU   LCBSTAT4
@NM00108 EQU   LCBLKMDE
LCBLOCKI EQU   LCBLKMDE
LCBLOCKR EQU   LCBLKMDE
LCBHMFLG EQU   LCBLKMDE
LCBBDFLG EQU   LCBLKMDE
@NM00107 EQU   LCBINSRC
LCBABRTN EQU   LCBCHAIN
LCBBFRSZ EQU   LCBCHAIN
LCBUREQN EQU   LCBCHAIN
LCBNORTY EQU   LCBCHAIN
LCBERMSG EQU   LCBCHAIN
LCBEXCP  EQU   LCBCHAIN
LCBINVRQ EQU   LCBSCRNN
LCB2741N EQU   LCBTSOB
LCBINHBN EQU   LCBTSOB
LCBCIRCD EQU   LCBTSOB
LCBPREP  EQU   LCBTSOB
LCBSOPL  EQU   LCBTSOB
LCBSATRD EQU   LCBTSOB
LCBWRBRK EQU   LCBTSOB
LCBTDL   EQU   IEDQLCB+18
LCBEOLTD EQU   IEDQLCB+16
LCBRSLNK EQU   IEDQLCB+13
LCBRSPRI EQU   IEDQLCB+12
LCBRSKEY EQU   IEDQLCB+8
LCBLINK  EQU   LCBRCB+5
LCBKEY   EQU   LCBRCB
@NM00106 EQU   DCTBYTE5
DCTL3270 EQU   DCTBYTE5
DCTSCS   EQU   DCTBYTE5
DCTTSPRF EQU   DCTBYTE4
DCTFMPRF EQU   DCTBYTE4
DCT2760  EQU   DCTBYTE3
DCTNOIDL EQU   DCTBYTE3
DCTCONTN EQU   DCTBYTE3
DCTBUFF  EQU   DCTBYTE3
DCTCHECK EQU   DCTBYTE3
DCTENCTL EQU   DCTBYTE3
DCTWTTA  EQU   DCTBYTE3
DCT1050  EQU   DCTBYTE3
DCTAUDIO EQU   DCTBYTE2
DCTLOCAL EQU   DCTBYTE2
DCTCONT  EQU   DCTBYTE2
DCTXMIT  EQU   DCTBYTE2
DCTBRDST EQU   DCTBYTE2
DCTBISYN EQU   DCTBYTE2
DCTUMASK EQU   DCTBYTE1
DCTSADEV EQU   DCTBYTE1
DCT2741  EQU   DCTBYTE1
DCT5041  EQU   DCTBYTE1
DCTATTEN EQU   DCTBYTE1
DCTBREAK EQU   DCTBYTE1
DCTINHIB EQU   DCTBYTE1
DCTBYTE0 EQU   IEDDCT
BDUXGRPH EQU   BDUEXRSP
BDUXFINL EQU   BDUEXRSP
BDUXINIT EQU   BDUEXRSP
BDURESP  EQU   BDUSYRSP
BDUPHASE EQU   BDUSYRSP
BDUERROR EQU   BDUSYRSP
BDUXERLK EQU   BDUBDUFG
BDUALTAK EQU   BDUFNFLG
BDUNEGAK EQU   BDUFNFLG
BDUPOSAK EQU   BDUFNFLG
BDUTPTX  EQU   BDUFNFLG
BDUFRSTB EQU   BDUFNFLG
BDULEADG EQU   BDUFNFLG
BDUHEADR EQU   BDUFNFLG
BDUSTHDR EQU   BDUFNFLG
SAVTLLCB EQU   IEDNSVTD+316
SAVTBITN EQU   IEDNSVTD+312
@NM00105 EQU   SAVTCKQB+8
@NM00104 EQU   SAVTCKEC+1
@NM00103 EQU   SAVTCKCC
SAVTCKPO EQU   SAVTCKCC
SAVTCKWA EQU   SAVTCKCC
SAVTCKCH EQU   SAVTCKTB+1
SAVTCKVT EQU   SAVTCKTB
@NM00102 EQU   IEDNSVTD+297
SAVTRDFG EQU   SAVTRDRV+12
@NM00101 EQU   SAVTRDRV+5
SAVTRDPY EQU   SAVTRDRV+4
SAVTRDQB EQU   SAVTRDRV+1
SAVTRDKY EQU   SAVTRDRV
SAVTNID  EQU   IEDNSVTD+280
SAVTDVAS EQU   IEDNSVTD+276
SAVTPLSZ EQU   IEDNSVTD+274
@NM00100 EQU   IEDNSVTD+273
SAVTSUBL EQU   IEDNSVTD+272
@NM00099 EQU   SAVTZELM+1
SAVTSUBM EQU   SAVTZELM
SAVTMHDX EQU   IEDNSVTD+268
SAVTNAT1 EQU   IEDNSVTD+266
SAVTSH20 EQU   IEDNSVTD+264
SAVTLCBS EQU   IEDNSVTD+260
SAVTRNMP EQU   IEDNSVTD+256
SAVTTNTX EQU   IEDNSVTD+252
SAVTNAX  EQU   IEDNSVTD+248
SAVTSUBV EQU   IEDNSVTD+247
SAVTSUBA EQU   IEDNSVTD+246
SAVTSIBC EQU   IEDNSVTD+244
SAVTBSM  EQU   IEDNSVTD+240
SAVTSCPT EQU   SAVTTCPU
SAVTRQTG EQU   IEDNSVTD+236
SAVTRQCH EQU   IEDNSVTD+232
SAVTMAND EQU   IEDNSVTD+228
SAVTSPLN EQU   IEDNSVTD+224
SAVTNADL EQU   IEDNSVTD+222
SAVTNATL EQU   IEDNSVTD+220
SAVTMHTB EQU   IEDNSVTD+216
SAVTSSMH EQU   IEDNSVTD+212
SAVTQRS  EQU   IEDNSVTD+208
SAVTRQIN EQU   IEDNSVTD+204
SAVTSARI EQU   IEDNSVTD+192
SAVTSAC  EQU   IEDNSVTD+188
SAVTSAI  EQU   IEDNSVTD+184
SAVTCSCI EQU   IEDNSVTD+180
SAVTSSRP EQU   IEDNSVTD+176
SAVTSSRQ EQU   IEDNSVTD+172
SAVTSCLU EQU   IEDNSVTD+168
SAVTXTRQ EQU   IEDNSVTD+164
SAVTMVBF EQU   IEDNSVTD+160
@NM00098 EQU   IEDNSVTD+148
SAVTIPCQ EQU   IEDNSVTD+144
@NM00097 EQU   IEDNSVTD+136
SAVTXFMI EQU   IEDNSVTD+132
@NM00096 EQU   IEDNSVTD+124
SAVTXFMO EQU   IEDNSVTD+120
@NM00095 EQU   IEDNSVTD+116
SAVTSSSR EQU   IEDNSVTD+112
SAVTSCPQ EQU   IEDNSVTD+108
SAVTSLCB EQU   IEDNSVTD+104
SAVTLUSR EQU   IEDNSVTD+100
@NM00094 EQU   SAVTLUSQ+8
SAVTLUSP EQU   SAVTLUSQ+4
SAVTLUSB EQU   SAVTLUSQ
@NM00093 EQU   IEDNSVTD+84
SAVTSAT  EQU   IEDNSVTD+80
SAVTNAT  EQU   IEDNSVTD+76
SAVTCLUP EQU   IEDNSVTD+72
SAVTPIUT EQU   IEDNSVTD+68
SAVTRNTA EQU   IEDNSVTD+64
SAVTDNIR EQU   IEDNSVTD+60
SAVTCNIR EQU   IEDNSVTD+56
SAVTFLDH EQU   IEDNSVTD+52
SAVTSRTN EQU   IEDNSVTD+48
SAVTSREQ EQU   IEDNSVTD+44
SAVTFAIL EQU   IEDNSVTD+42
SAVTSUSE EQU   IEDNSVTD+40
SAVTSIB  EQU   IEDNSVTD+36
@NM00092 EQU   IEDNSVTD+28
SAVTWH20 EQU   IEDNSVTD+26
SAVTPWT  EQU   IEDNSVTD+24
SAVTPRTQ EQU   IEDNSVTD+20
SAVTPH20 EQU   IEDNSVTD+14
SAVTPUSE EQU   IEDNSVTD+12
SAVTPLCB EQU   IEDNSVTD+8
SAVTPOOL EQU   IEDNSVTD+4
SAVTPRMT EQU   SAVTDIAF
SAVTVIRT EQU   SAVTDIAF
AVTCPBNO EQU   IEDQAVTD+1172
AVTHRESS EQU   IEDQAVTD+1171
@NM00091 EQU   IEDQAVTD+1170
@NM00090 EQU   IEDQAVTD+1169
@NM00089 EQU   IEDQAVTD+1168
@NM00088 EQU   IEDQAVTD+1165
@NM00087 EQU   IEDQAVTD+1164
AVTHRESE EQU   @NM00086
AVTRADDR EQU   IEDQAVTD+1156
AVTNADDR EQU   IEDQAVTD+1152
AVTHRESN EQU   IEDQAVTD+1148
AVTVOLRN EQU   IEDQAVTD+1144
AVTTOTNN EQU   IEDQAVTD+1140
AVTTRCYN EQU   IEDQAVTD+1136
AVTRCTRN EQU   IEDQAVTD+1132
AVTNOVON EQU   IEDQAVTD+1128
AVTADEBN EQU   IEDQAVTD+1124
AVTVOLRR EQU   IEDQAVTD+1120
AVTTOTNR EQU   IEDQAVTD+1116
AVTTRCYR EQU   IEDQAVTD+1112
AVTRCTRR EQU   IEDQAVTD+1108
AVTNOVOR EQU   IEDQAVTD+1104
AVTADEBR EQU   IEDQAVTD+1100
AVTLODPT EQU   IEDQAVTD+1096
AVTIOBN  EQU   IEDQAVTD+1092
AVTIOBR  EQU   IEDQAVTD+1088
AVTCPBPT EQU   IEDQAVTD+1084
AVTFCPB  EQU   IEDQAVTD+1080
@NM00085 EQU   IEDQAVTD+1076
AVTINCPQ EQU   IEDQAVTD+1072
@NM00084 EQU   IEDQAVTD+1068
@NM00083 EQU   IEDQAVTD+1065
@NM00082 EQU   AVTBIT4
@NM00081 EQU   AVTBIT4
@NM00080 EQU   AVTBIT4
@NM00079 EQU   AVTBIT4
@NM00078 EQU   AVTBIT4
@NM00077 EQU   AVTBIT4
@NM00076 EQU   AVTBIT4
AVTRUFTN EQU   AVTBIT4
@NM00075 EQU   IEDQAVTD+1060
AVTNOBFQ EQU   IEDQAVTD+1056
@NM00074 EQU   IEDQAVTD+1052
AVTDKENQ EQU   IEDQAVTD+1048
@NM00073 EQU   IEDQAVTD+1044
AVTDKAPQ EQU   IEDQAVTD+1040
AVTCOPY  EQU   IEDQAVTD+1036
AVTIA    EQU   IEDQAVTD+1032
AVTFL    EQU   IEDQAVTD+1028
@NM00072 EQU   IEDQAVTD+1024
AVTNCPBQ EQU   IEDQAVTD+1020
AVTTOTNC EQU   IEDQAVTD+1016
AVTCMAX  EQU   IEDQAVTD+1012
AVTCMIN  EQU   IEDQAVTD+1008
AVTHM02  EQU   IEDQAVTD+1004
AVTOPCIN EQU   IEDQAVTD+1002
AVTOPMSK EQU   IEDQAVTD+996
AVTDDFT  EQU   IEDQAVTD+992
AVTOPTN  EQU   IEDQAVTD+984
AVTDSKCT EQU   IEDQAVTD+982
AVTCKRST EQU   IEDQAVTD+981
AVTSTAN  EQU   AVTBIT3
AVTSTACN EQU   AVTBIT3
AVTSTAIN EQU   AVTBIT3
AVTSTAYN EQU   AVTBIT3
AVTOLTBN EQU   AVTBIT3
AVTTSAB  EQU   AVTBIT3
AVTRFULN EQU   AVTBIT3
AVTRECVN EQU   AVTBIT3
@NM00071 EQU   AVTBIT2
@NM00070 EQU   AVTBIT2
AVTOPEIN EQU   AVTBIT2
AVTSTRTN EQU   AVTBIT2
AVTTOPOL EQU   AVTBIT2
AVTCOPYN EQU   AVTBIT2
AVTREUSN EQU   AVTBIT2
AVTEXTSC EQU   AVTBIT2
AVTDISKN EQU   AVTBIT1
AVTREADN EQU   AVTBIT1
AVTDLAYN EQU   AVTBIT1
AVTAQTAN EQU   AVTBIT1
AVTTSON  EQU   AVTBIT1
AVTAPLKN EQU   AVTBIT1
AVTDUMBR EQU   IEDQAVTD+976
AVTDLQX  EQU   IEDQAVTD+974
AVTINTLV EQU   IEDQAVTD+972
AVTSMCNT EQU   IEDQAVTD+970
AVTAVFCT EQU   IEDQAVTD+968
AVTOPCON EQU   IEDQAVTD+966
AVTOPCNT EQU   IEDQAVTD+964
AVTLNCNT EQU   IEDQAVTD+962
AVTKEYLE EQU   IEDQAVTD+960
AVTHA16  EQU   IEDQAVTD+958
AVTHA7   EQU   IEDQAVTD+956
AVTHA4   EQU   IEDQAVTD+954
AVTHA3   EQU   IEDQAVTD+952
AVTHA2   EQU   IEDQAVTD+950
AVTGETMS EQU   IEDQAVTD+949
@NM00069 EQU   IEDQAVTD+948
AVTGETMD EQU   IEDQAVTD+944
AVTGETMN EQU   IEDQAVTD+940
AVTCWTOT EQU   IEDQAVTD+936
AVTCWINT EQU   IEDQAVTD+884
AVTDTRAP EQU   IEDQAVTD+880
@NM00068 EQU   IEDQAVTD+878
@NM00067 EQU   AVTIOTR
AVTIOTRH EQU   AVTIOTR
AVTIOTRE EQU   AVTIOTR
@NM00066 EQU   AVTSUBT
AVTSUBPT EQU   AVTSUBT
AVTSUBON EQU   AVTSUBT
AVTAFE30 EQU   IEDQAVTD+872
AVTAFE20 EQU   IEDQAVTD+868
AVTAFE10 EQU   IEDQAVTD+864
AVTCWEC2 EQU   IEDQAVTD+860
AVTCWPM2 EQU   IEDQAVTD+856
AVTCWTS2 EQU   IEDQAVTD+855
AVTCWTS1 EQU   IEDQAVTD+854
AVTCWCLD EQU   AVTCWFL2
AVTCWRAP EQU   AVTCWFL2
@NM00065 EQU   AVTCWFL2
@NM00064 EQU   AVTCWFL2
@NM00063 EQU   AVTCWFL2
@NM00062 EQU   AVTCWFL2
@NM00061 EQU   AVTCWFL2
AVTCWACT EQU   AVTCWFL2
@NM00060 EQU   AVTCWFL1
@NM00059 EQU   AVTCWFL1
@NM00058 EQU   AVTCWFL1
@NM00057 EQU   AVTCWFL1
@NM00056 EQU   AVTCWFL1
@NM00055 EQU   AVTCWFL1
@NM00054 EQU   AVTCWFL1
AVTCOMWN EQU   AVTCWFL1
AVTCWEC1 EQU   IEDQAVTD+848
AVTCWPM1 EQU   IEDQAVTD+844
AVTCAREA EQU   IEDQAVTD+840
AVTFZERO EQU   IEDQAVTD+836
AVTCADDR EQU   IEDQAVTD+832
AVTCOREC EQU   IEDQAVTD+828
@NM00053 EQU   IEDQAVTD+820
AVTCPBCB EQU   IEDQAVTD+816
@NM00052 EQU   IEDQAVTD+808
AVTDSIOB EQU   IEDQAVTD+804
@NM00051 EQU   IEDQAVTD+796
AVTCPRMB EQU   IEDQAVTD+792
@NM00050 EQU   IEDQAVTD+784
AVTCLOSB EQU   IEDQAVTD+780
@NM00049 EQU   IEDQAVTD+772
AVTACTIB EQU   IEDQAVTD+768
@NM00048 EQU   IEDQAVTD+764
AVTOLTEB EQU   IEDQAVTD+760
AVTOLTCH EQU   AVTOLTQB+1
AVTOLTVT EQU   AVTOLTQB
@NM00047 EQU   AVTOPCQB+8
@NM00046 EQU   AVTOPCEC+1
@NM00045 EQU   AVTOPCCC
AVTOPCPO EQU   AVTOPCCC
AVTOPCWA EQU   AVTOPCCC
AVTOPCCH EQU   AVTOPCOB+1
AVTOPCVT EQU   AVTOPCOB
@NM00044 EQU   AVTCKPQB+9
AVTCKPTS EQU   AVTCKPQB+8
@NM00043 EQU   AVTCKPEC+1
@NM00042 EQU   AVTCKPCC
AVTCKPPO EQU   AVTCKPCC
AVTCKPWA EQU   AVTCKPCC
AVTCKPCH EQU   AVTCKPTB+1
AVTCKPVT EQU   AVTCKPTB
@NM00041 EQU   IEDQAVTD+724
AVTBFRTB EQU   IEDQAVTD+720
@NM00040 EQU   IEDQAVTD+716
AVTSELCH EQU   IEDQAVTD+713
AVTBFRTN EQU   AVTBFRFG
AVTTIMQ  EQU   IEDQAVTD+704
@NM00039 EQU   IEDQAVTD+700
AVTIMQPS EQU   IEDQAVTD+696
AVTREFTM EQU   IEDQAVTD+692
@NM00038 EQU   IEDQAVTD+680
AVTDELYB EQU   IEDQAVTD+676
AVTOCQPT EQU   IEDQAVTD+672
AVTSUPPT EQU   IEDQAVTD+664
AVTCBQCB EQU   IEDQAVTD+660
AVTMSGS  EQU   IEDQAVTD+657
@NM00037 EQU   AVTSYSER
@NM00036 EQU   AVTSYSER
@NM00035 EQU   AVTSYSER
@NM00034 EQU   AVTSYSER
@NM00033 EQU   AVTSYSER
@NM00032 EQU   AVTSYSER
AVTCMAXN EQU   AVTSYSER
AVTCMINN EQU   AVTSYSER
AVT2260L EQU   IEDQAVTD+652
AVTABEPL EQU   AVTADBUF
AVTHFF   EQU   AVTCLRHI+2
@NM00031 EQU   AVTCLRHI
AVTCCLNK EQU   AVTCRELE+5
AVTCCPRI EQU   AVTCRELE+4
AVTCCQCB EQU   AVTCCELE+1
AVTCCKEY EQU   AVTCCELE
AVTDELAD EQU   IEDQAVTD+632
AVTDELEM EQU   IEDQAVTD+628
AVTBSX   EQU   AVTCKLNK
AVTOPETR EQU   AVTHG01
@NM00030 EQU   AVTCKBYT
AVTCKONQ EQU   AVTCKBYT
@NM00029 EQU   AVTCKBYT
@NM00028 EQU   AVTCKBYT
@NM00027 EQU   AVTCKBYT
@NM00026 EQU   AVTCKBYT
@NM00025 EQU   AVTCKBYT
@NM00024 EQU   AVTCKBYT
AVTOPERT EQU   IEDQAVTD+618
AVTOPXCL EQU   IEDQAVTD+616
AVTOPERL EQU   IEDQAVTD+615
@NM00023 EQU   IEDQAVTD+614
AVTCKTIM EQU   IEDQAVTD+612
AVTCKELV EQU   IEDQAVTD+610
AVTCPRCD EQU   IEDQAVTD+609
AVTWARMN EQU   AVTCKELF
AVTCRTLN EQU   AVTCKELF
AVTCPIPN EQU   AVTCKELF
AVTCCLCN EQU   AVTCKELF
AVTCINCN EQU   AVTCKELF
@NM00022 EQU   AVTCKELF
AVTCMCPN EQU   AVTCKELF
AVTNQBCK EQU   AVTCKELF
AVTCKQAD EQU   IEDQAVTD+605
AVTSCBSZ EQU   IEDQAVTD+604
@NM00021 EQU   IEDQAVTD+600
AVTCKELE EQU   IEDQAVTD+596
@NM00020 EQU   AVTCKPEL+8
AVTCKRLK EQU   AVTCKPEL+5
AVTCKRPR EQU   AVTCKPEL+4
AVTCKRMQ EQU   AVTCKRMV+1
AVTCKRKY EQU   AVTCKRMV
AVTHK    EQU   IEDQAVTD+576
AVTHI    EQU   IEDQAVTD+572
AVTIOT   EQU   IEDQAVTD+568
AVTNX    EQU   IEDQAVTD+564
AVTTONE  EQU   IEDQAVTD+560
AVTA3TL  EQU   IEDQAVTD+556
AVTDMECB EQU   IEDQAVTD+552
AVTABEND EQU   IEDQAVTD+546
AVTPLCBN EQU   IEDQAVTD+544
@NM00019 EQU   AVTSAVTP+1
@NM00018 EQU   AVTSAVTF
AVTSNA   EQU   AVTSAVTF
AVTONSNA EQU   AVTSAVTF
AVTVTMCP EQU   AVTSAVTF
@NM00017 EQU   IEDQAVTD+536
AVTCMBSS EQU   IEDQAVTD+532
AVTRCV   EQU   IEDQAVTD+528
AVTSEND  EQU   IEDQAVTD+524
AVTCSCH  EQU   IEDQAVTD+520
AVTQ1    EQU   IEDQAVTD+516
AVTE7    EQU   IEDQAVTD+512
AVTHB    EQU   IEDQAVTD+508
AVTR1    EQU   IEDQAVTD+504
AVTBZ    EQU   IEDQAVTD+500
AVTEZ    EQU   IEDQAVTD+496
AVTEC    EQU   IEDQAVTD+492
AVTEW    EQU   IEDQAVTD+488
AVTNDIAL EQU   AVTSCOPT
AVTN2741 EQU   AVTSCOPT
AVTCONCO EQU   AVTSCOPT
AVTCONC  EQU   AVTSCOPT
AVTCMBUF EQU   AVTSCOPT
AVTAPDMP EQU   AVTSCOPT
@NM00016 EQU   AVTSCOPT
AVTHA    EQU   AVTDISP
AVTEA    EQU   IEDQAVTD+476
AVTAX    EQU   IEDQAVTD+472
AVTA3    EQU   IEDQAVTD+468
AVTGD    EQU   IEDQAVTD+464
AVTAL    EQU   IEDQAVTD+460
AVTOLTST EQU   AVTHG02
AVTE8    EQU   IEDQAVTD+452
AVTUI    EQU   IEDQAVTD+448
AVTCOMPT EQU   IEDQAVTD+444
AVTCRSRF EQU   IEDQAVTD+440
@NM00015 EQU   IEDQAVTD+436
AVTKA02  EQU   IEDQAVTD+432
AVTOPTPT EQU   IEDQAVTD+428
AVTPCBPT EQU   IEDQAVTD+424
@NM00014 EQU   AVTECB1
AVTCOMP  EQU   AVTECB1
@NM00013 EQU   AVTECB1
AVTOPECA EQU   IEDQAVTD+416
AVTOLECA EQU   IEDQAVTD+412
AVTCKECA EQU   IEDQAVTD+408
AVTCWECA EQU   IEDQAVTD+404
AVTCWTCB EQU   IEDQAVTD+400
AVTOLTCB EQU   IEDQAVTD+396
AVTOCTCB EQU   IEDQAVTD+392
AVTCKTCB EQU   IEDQAVTD+388
AVTAS    EQU   IEDQAVTD+384
AVTNOLBF EQU   IEDQAVTD+382
AVTNCKPR EQU   IEDQAVTD+381
AVTCIB   EQU   IEDQAVTD+380
AVTSPLPT EQU   IEDQAVTD+376
AVTMVBFR EQU   IEDQAVTD+372
AVTSBTA  EQU   IEDQAVTD+368
AVTRARTN EQU   IEDQAVTD+364
AVTBSCAN EQU   IEDQAVTD+360
AVTRDYA  EQU   IEDQAVTD+356
AVTDISTR EQU   IEDQAVTD+348
AVTPARM3 EQU   IEDQAVTD+344
@NM00012 EQU   AVTPKF
@NM00011 EQU   AVTPKF
@NM00010 EQU   AVTPKF
AVTFTCHF EQU   AVTPKF
@NM00009 EQU   AVTPKF
@NM00008 EQU   AVTPKF
@NM00007 EQU   AVTPKF
@NM00006 EQU   AVTPKF
AVTPARM  EQU   IEDQAVTD+336
AVTEXS2A EQU   IEDQAVTD+330
AVTEXA2S EQU   IEDQAVTD+324
AVTOCGET EQU   IEDQAVTD+320
AVTCKAVT EQU   @NM00004+1
@NM00005 EQU   AVTCKFLG
AVTCKHLT EQU   AVTCKFLG
AVTCKREQ EQU   AVTCKFLG
AVTCKENV EQU   AVTCKFLG
AVTCKNAC EQU   AVTCKFLG
AVTCKTAC EQU   AVTCKFLG
AVTBUENT EQU   IEDQAVTD+314
@NM00003 EQU   IEDQAVTD+313
AVTFULLT EQU   AVTBUFSW
AVTUNCON EQU   AVTBUFSW
@NM00002 EQU   AVTBUFSW
AVTBUFTR EQU   AVTREADD
AVTREADY EQU   IEDQAVTD+304
AVTRACE  EQU   IEDQAVTD+300
AVTTCB   EQU   IEDQAVTD+296
AVTPASWD EQU   IEDQAVTD+288
AVTCTLCH EQU   IEDQAVTD+280
AVTDOUBL EQU   IEDQAVTD+272
AVTDOUBX EQU   IEDQAVTD+264
AVTDPARM EQU   IEDQAVTD+260
AVTDLQ   EQU   AVTSAVEX+32
@NM00001 EQU   AVTSAVEX
AVTSAVE3 EQU   IEDQAVTD+72
AVTSAVE2 EQU   IEDQAVTD
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00504 EQU   @RC00498
@RC00499 EQU   @RC00498
@RC00531 EQU   CE0001@
@RF00551 EQU   CE0001@
@RC00559 EQU   CE0001@
@RC00563 EQU   CE0001@
@RC00566 EQU   CE0001@
@RC00586 EQU   CE0001@
@RC00590 EQU   CE0001@
@RC00602 EQU   CE0001@
@RC00600 EQU   CE0001@
@RC00598 EQU   CE0001@
@RC00596 EQU   CE0001@
@RC00594 EQU   CE0001@
@RC00763 EQU   @RC00760
@RC00960 EQU   @RC00957
@RF00974 EQU   @RC00971
@RC01001 EQU   @RC00994
@RC00995 EQU   @RC00994
@RC01065 EQU   @RC01064
@RC01085 EQU   @RC01084
@RC01175 EQU   @RC01174
@RC01183 EQU   @RC01180
@RC01191 EQU   @RC01190
@RF01249 EQU   @RC01247
@RC01295 EQU   @RC01291
@RC01330 EQU   @RC01322
@RC01376 EQU   @RC01372
@RF01381 EQU   @RC01372
@PB00028 EQU   @EL00001
@RC00533 EQU   @RC00531
@RC00575 EQU   @RC00566
@RC00573 EQU   @RC00566
@RF00769 EQU   @RC00763
@RT00767 EQU   @RC00763
@RF00766 EQU   @RC00763
@RF00765 EQU   @RC00763
@RF01220 EQU   @RC01191
@PB00027 EQU   @PB00028
@PB00026 EQU   @PB00027
@PB00025 EQU   @PB00026
@PB00024 EQU   @PB00025
@PB00023 EQU   @PB00024
@PB00022 EQU   @PB00023
@PB00021 EQU   @PB00022
@PB00020 EQU   @PB00021
@PB00019 EQU   @PB00020
@PB00018 EQU   @PB00019
@PB00017 EQU   @PB00018
@PB00016 EQU   @PB00017
@PB00015 EQU   @PB00016
@PB00014 EQU   @PB00015
@PB00013 EQU   @PB00014
@PB00012 EQU   @PB00013
@PB00011 EQU   @PB00012
@PB00010 EQU   @PB00011
@PB00009 EQU   @PB00010
@PB00008 EQU   @PB00009
@PB00007 EQU   @PB00008
@PB00006 EQU   @PB00007
@PB00005 EQU   @PB00006
@PB00004 EQU   @PB00005
@PB00003 EQU   @PB00004
@PB00002 EQU   @PB00003
@ENDDATA EQU   *
         END   IEDAYJ,(C'PLS1041',0701,78180)

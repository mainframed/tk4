         TITLE 'IEDSCLU, SESSION CONTROL                               *
                        '
IEDSCLU  CSECT ,                                                   0001
@PROLOG  DS    0H                                                  0002
         USING *,RBASE
*
         DC    XL8'00'              QCB FOR THIS MODULE
         DC    XL1'06'              STCB KEY
         DC    AL3(*-1)             STCB POINTER
*
         LR    RBASE,RQCB           SET UP BASE REGISTER
*
         LA    RPARM,0(RPARM)       CLEAR HIGH-ORDER BYTE OF INPUT REG
IEDSCLU  IEDHJN  AFTERHJN,HJN
*   SWITCHES=0;                     /* INITIALIZE ALL SWITCHES TO OFF*/
         MVI   SWITCHES,X'00'                                      0511
         EJECT
*                                                                  0512
*/********************************************************************/
*/*                                                                  */
*/*      M A I N   S E G M E N T                                     */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS MAIN SEGMENT DETERMINES THE INPUT TYPE, SETS UP        */
*/*      CONTROL BLOCK POINTERS, AND CALLS THE PROPER SUBROUTINE     */
*/*      TO PROCESS THE INPUT.                                       */
*/*                                                                  */
*/********************************************************************/
*                                                                  0512
*   IF RECBPRI=PRILNSCL THEN        /* PLCB FROM USER'S UNBIND EXIT? */
         CLI   RECBPRI(RPARM),227                                  0512
         BNE   @RF00512                                            0512
*     DO;                           /* YES, PROCESS THE PREVIOUSLY   */
*       RLCB=RPARM;                 /* ... SAVED CLEAR RESPONSE      */
         LR    RLCB,RPARM                                          0514
*       RPARM=LCBBFRSV;             /* ... BUFFER AS THOUGH IT WERE  */
         L     RPARM,LCBBFRSV-1(,RLCB)                             0515
         LA    RPARM,0(,RPARM)                                     0515
*       LCBBFRSV=0;                 /* ... THE ACTUAL INPUT ELEMENT  */
         SLR   @14,@14                                             0516
         STCM  @14,7,LCBBFRSV(RLCB)                                0516
*       REENTRSW=ON;                /* MARK THIS AS A RE-ENTRY TO    */
         OI    REENTRSW,B'10000000'                                0517
*     END;                          /* ... REPROCESS CLEAR RESPONSE  */
*   IF RECBPRI=PRILNFRE THEN        /* PLCB?                         */
@RF00512 CLI   RECBPRI(RPARM),224                                  0519
         BNE   @RF00519                                            0519
*     DO;                           /* YES                           */
*       RLCB=RPARM;                 /* GET PLCB ADDRESS              */
         LR    RLCB,RPARM                                          0521
*       TNTSLU=LCBTTCIN;            /* GET SLU'S TNT INDEX           */
         LH    @14,LCBTTCIN(,RLCB)                                 0522
         N     @14,@CF02265                                        0522
         STH   @14,TNTSLU                                          0522
*       CALL CTLBLKS;               /* SET BASIC CONTROL BLOCK PTRS  */
         BAL   @14,CTLBLKS                                         0523
*       CALL LOGOFF;                /* BEGIN LOGOFF PROCESSING       */
         BAL   @14,LOGOFF                                          0524
*     END;                                                         0525
*   ELSE                            /* INPUT IS A PIU BUFFER         */
*     DO;                                                          0526
         B     @RC00519                                            0526
@RF00519 DS    0H                                                  0527
*       RPRF=RPARM;                 /* BUFFER ADDRESS                */
         LR    RPRF,RPARM                                          0527
*       RPIU=ADDR(PRFPIUO)+PRFPIUO; /* PIU ADDRESS                   */
         LA    RPIU,PRFPIUO(,RPRF)                                 0528
         SLR   @14,@14                                             0528
         IC    @14,PRFPIUO(,RPRF)                                  0528
         ALR   RPIU,@14                                            0528
*       DATAPTR=ADDR(PIURU);        /* RU ADDRESS                    */
         LA    @14,PIURU(,RPIU)                                    0529
         ST    @14,DATAPTR                                         0529
*       IF TRHSDI=ON THEN           /* SENSE INCLUDED?               */
         TM    TRHSDI+10(RPIU),B'00000100'                         0530
         BNO   @RF00530                                            0530
*         DATAPTR=DATAPTR+LENGTH(IEDSNSD);/* YES, SKIP PAST SENSE    */
         AL    @14,@CF00330                                        0531
         ST    @14,DATAPTR                                         0531
*       IF TRHRUCAT=TRHFMD THEN     /* NETWORK SERVICES PIU?         */
@RF00530 TM    TRHRUCAT+10(RPIU),B'01100000'                       0532
         BNZ   @RF00532                                            0532
*         DO;                       /* YES, MUST BE CINIT FROM IEDLUS*/
*           TNTSLU=TTHTAG;          /* GET SLU'S TNT INDEX           */
         MVC   TNTSLU(2),TTHTAG(RPIU)                              0534
*           CALL CTLBLKS;           /* SET BASIC CONTROL BLOCK PTRS  */
         BAL   @14,CTLBLKS                                         0535
*           CALL LOGON;             /* BEGIN LOGON PROCESSING        */
         BAL   @14,LOGON                                           0536
*         END;                                                     0537
         EJECT
*       ELSE                        /* INPUT IS A SESSION-CONTROL PIU*/
*         DO;                                                      0538
         B     @RC00532                                            0538
@RF00532 DS    0H                                                  0539
*           TNTSLU=TTHOAF;          /* GET SLU'S TNT INDEX           */
         MVC   TNTSLU(2),TTHOAF(RPIU)                              0539
*           CALL CTLBLKS;           /* SET BASIC CONTROL BLOCK PTRS  */
         BAL   @14,CTLBLKS                                         0540
*           IF TRHTYPE=ON THEN      /* RESPONSE?                     */
         TM    TRHTYPE+10(RPIU),B'10000000'                        0541
         BNO   @RF00541                                            0541
*             DO;                   /* YES, DETERMINE PIU TYPE       */
*               IF RUCMD1=CD1BIND THEN                             0543
         L     @14,DATAPTR                                         0543
         CLI   RUCMD1(@14),X'31'                                   0543
         BNE   @RF00543                                            0543
*                 CALL BINDRSP;     /* BIND RESPONSE                 */
         BAL   @14,BINDRSP                                         0544
*               ELSE                                               0545
*                 IF RUCMD1=CD1SDT THEN                            0545
         B     @RC00543                                            0545
@RF00543 L     @14,DATAPTR                                         0545
         CLI   RUCMD1(@14),X'A0'                                   0545
         BNE   @RF00545                                            0545
*                   CALL SDTRSP;    /* SDT RESPONSE                  */
         BAL   @14,SDTRSP                                          0546
*                 ELSE                                             0547
*                   IF RUCMD1=CD1CLEAR THEN                        0547
         B     @RC00545                                            0547
@RF00545 L     @14,DATAPTR                                         0547
         CLI   RUCMD1(@14),X'A1'                                   0547
         BNE   @RF00547                                            0547
*                     CALL CLEARRSP;/* CLEAR RESPONSE                */
         BAL   @14,CLEARRSP                                        0548
*                   ELSE                                           0549
*                     IF RUCMD1=CD1UBIND THEN                      0549
         B     @RC00547                                            0549
@RF00547 L     @14,DATAPTR                                         0549
         CLI   RUCMD1(@14),X'32'                                   0549
         BNE   @RF00549                                            0549
*                       CALL UNBNDRSP;/* UNBIND RESPONSE             */
         BAL   @14,UNBNDRSP                                        0550
*                     ELSE          /* UNEXPECTED RESPONSE           */
*                       DO;         /* THROW IT AWAY                 */
         B     @RC00549                                            0551
@RF00549 DS    0H                                                  0552
*                         RPARM=RPRF;                              0552
         LR    RPARM,RPRF                                          0552
*                         CALL FREEBUF;                            0553
         BAL   @14,FREEBUF                                         0553
*                       END;                                       0554
*             END;                                                 0555
*           ELSE                    /* REQUEST                       */
*             DO;                                                  0556
         B     @RC00541                                            0556
@RF00541 DS    0H                                                  0557
*               IF RUCMD1=CD1RQR THEN/* RQR REQUEST?                 */
         L     @14,DATAPTR                                         0557
         CLI   RUCMD1(@14),X'A3'                                   0557
         BNE   @RF00557                                            0557
*                 CALL RQRRTN;      /* YES                           */
         BAL   @14,RQRRTN                                          0558
*               ELSE                                               0559
*                 DO;               /* UNEXPECTED REQUEST            */
         B     @RC00557                                            0559
@RF00557 DS    0H                                                  0560
*                   IEDSNSD=INVALSNS;/* SPECIFY SENSE TO BE SENT     */
         LA    @14,SENSE                                           0560
         MVC   IEDSNSD(4,@14),INVALSNS                             0560
*                   CALL BLDRESP;   /* SEND AN ERROR RESPONSE        */
         BAL   @14,BLDRESP                                         0561
*                 END;                                             0562
*             END;                                                 0563
@RC00557 DS    0H                                                  0564
*         END;                                                     0564
@RC00541 DS    0H                                                  0565
*     END;                                                         0565
@RC00532 DS    0H                                                  0566
*   IF BYPASSSW=OFF THEN            /* NORMAL EXIT TO BE USED?       */
@RC00519 TM    BYPASSSW,B'01000000'                                0566
         BNZ   @RF00566                                            0566
*     CALL DSPDISP;                 /* YES, EXIT TO DISPATCHER       */
         LA    @15,DSPDISP(,RDISP)                                 0567
         BALR  @14,@15                                             0567
*   ELSE                                                           0568
*     DO;                           /* NO, BYPASS TO UNBIND EXIT     */
         B     @RC00566                                            0568
@RF00566 DS    0H                                                  0569
*       RFY                                                        0569
*        (RQCB,                                                    0569
*         RSTCB) RSTD;                                             0569
*       RPARM=RLCB;                 /* ELEMENT ADDRESS               */
         LR    RPARM,RLCB                                          0570
*       RQCB=LCBQCBA;               /* QCB ADDRESS                   */
         L     RQCB,LCBQCBA-1(,RLCB)                               0571
         LA    RQCB,0(,RQCB)                                       0571
*       RSTCB=RQCB->QCBSTCHN;       /* STCB ADDRESS                  */
         L     RSTCB,QCBSTCHN-1(,RQCB)                             0572
         LA    RSTCB,0(,RSTCB)                                     0572
*       CALL DSPBYPAS;              /* BYPASS                        */
         LA    @15,DSPBYPAS(,RDISP)                                0573
         BALR  @14,@15                                             0573
*       RFY                                                        0574
*        (RQCB,                                                    0574
*         RSTCB) UNRSTD;                                           0574
*     END;                                                         0575
*                                                                  0576
*/***************  E N D   O F   M A I N   S E G M E N T  ************/
*                                                                  0576
         EJECT
*BINDEXIT:                                                         0576
*   PROC OPTIONS(SAVE(R14));                                       0576
*                                                                  0576
@EL00001 DS    0H                                                  0576
@EF00001 DS    0H                                                  0576
@ER00001 BR    @14                                                 0576
BINDEXIT ST    @14,@SA00002                                        0576
*/********************************************************************/
*/*                                                                  */
*/*      B I N D E X I T   SUBROUTINE                                */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE SETS UP THE INTERFACE BETWEEN THIS          */
*/*      MODULE AND THE USER-WRITTEN BIND EXIT, IF ONE HAS           */
*/*      BEEN PROVIDED.                                              */
*/*                                                                  */
*/********************************************************************/
*                                                                  0577
*   TNTPLU=TTHOAF;                  /* PLU'S TNT INDEX               */
         MVC   TNTPLU(2),TTHOAF(RPIU)                              0577
*   MHPTR=LCBMHA;                   /* GET MH QCB ADDRESS    @YM06085*/
         L     @14,LCBMHA-1(,RLCB)                                 0578
         LA    @14,0(,@14)                                         0578
         ST    @14,MHPTR                                           0578
*   R15=STMHBEXT;                   /* GET BIND EXIT ADDRESS         */
         AL    @14,@CF02266                                        0579
         L     R15,STMHBEXT-9(,@14)                                0579
         LA    R15,0(,R15)                                         0579
*   IF R15>0 THEN                   /* IS A BIND EXIT SPECIFIED?     */
         LTR   R15,R15                                             0580
         BNP   @RF00580                                            0580
*     DO;                           /* YES                           */
*       RFY                                                        0582
*        (REG02,                                                   0582
*         REG03,                                                   0582
*         REG04) RSTD;              /*                       @YM07260*/
*       STM(REG02,REG04,LOCALSAV);  /* SAVE REGISTERS USED AS      0583
*                                      PARAMETERS FOR THE USER'S BIND
*                                      EXIT                  @YM07260*/
         STM   REG02,REG04,LOCALSAV                                0583
*       REG04=ADDR(BNDFORMT);       /* PASS ADDRESS OF BIND IMAGE IN
*                                      THE BIND PIU TO THE USER    0584
*                                                            @YM07260*/
         LA    REG04,BNDFORMT+13(,RPIU)                            0584
*       RPARM=ADDR(TNTFIRST)+(TTHDAF-1)*(TNTENLEN+LENGTH(TNTTRMAD));
         L     @14,AVTRNMPT(,RAVT)                                 0585
         LA    RPARM,82                                            0585
         ALR   RPARM,@14                                           0585
         SLR   @09,@09                                             0585
         ICM   @09,3,TTHDAF(RPIU)                                  0585
         BCTR  @09,0                                               0585
         LA    @10,3                                               0585
         SLR   @07,@07                                             0585
         IC    @07,TNTENLEN(,@14)                                  0585
         ALR   @10,@07                                             0585
         MR    @08,@10                                             0585
         ALR   RPARM,@09                                           0585
*                                   /* CONVERT SECONDARY LU'S TTCIN
*                                      TO A TNT ENTRY ADDRESS      0586
*                                                            @YM07260*/
*       IF TRMLUREQ=OFF THEN        /* TCAM-INITIATED SESSION?       */
         L     @14,TRMPTR                                          0586
         TM    TRMLUREQ(@14),B'00000100'                           0586
         BNZ   @RF00586                                            0586
*         RPARM=RPARM×HIGHBIT;      /* YES, TURN ON HIGH ORDER BIT   */
         O     RPARM,@CF02141                                      0587
*       REG02=TTHOAF;               /* GET PRIMARY LU'S TTCIN      0588
*                                                            @YM07260*/
@RF00586 SLR   @14,@14                                             0588
         ICM   @14,3,TTHOAF(RPIU)                                  0588
         LR    REG02,@14                                           0588
*       IF REG02=SAVTMHDX           /* IF PRIMARY LU IS 'TCAM'     0589
*                                                            @YM07260*/
*         THEN                                                     0589
         L     @14,AVTSAVTP(,RAVT)                                 0589
         LH    @14,SAVTMHDX(,@14)                                  0589
         N     @14,@CF02265                                        0589
         CR    REG02,@14                                           0589
         BNE   @RF00589                                            0589
*         REG02=0;                  /* ..THEN SO INDICATE FOR USER'S
*                                      BIND EXIT             @YM07260*/
         SLR   REG02,REG02                                         0590
*       ELSE                                                       0591
*         IF TNTLEN<REG02           /* ..ELSE IF THE PRIMARY LU'S  0591
*                                      TTCIN EXCEEDS THE GREATEST TTE
*                                      TTCIN                 @YM07260*/
*           THEN                                                   0591
         B     @RC00589                                            0591
@RF00589 L     @14,AVTRNMPT(,RAVT)                                 0591
         LH    @14,TNTLEN(,@14)                                    0591
         N     @14,@CF02265                                        0591
         CR    REG02,@14                                           0591
         BNH   @RF00591                                            0591
*           REG02=-1;               /* ..THEN INDICATE TO THE USER 0592
*                                      THAT THE PRIMARY LU IS AN MH
*                                                            @YM07260*/
         SLR   REG02,REG02                                         0592
         BCTR  REG02,0                                             0592
*         ELSE                                                     0593
*           REG02=ADDR(TNTFIRST)+(REG02-1)*(TNTENLEN+LENGTH(TNTTRMAD));
         B     @RC00591                                            0593
@RF00591 L     @14,AVTRNMPT(,RAVT)                                 0593
         LA    @10,82                                              0593
         ALR   @10,@14                                             0593
         LR    @09,REG02                                           0593
         BCTR  @09,0                                               0593
         LA    @07,3                                               0593
         SLR   @08,@08                                             0593
         IC    @08,TNTENLEN(,@14)                                  0593
         ALR   @07,@08                                             0593
         MR    @08,@07                                             0593
         ALR   @10,@09                                             0593
         LR    REG02,@10                                           0593
*                                   /* ..ELSE THE PRIMARY LU IS AN 0594
*                                      APPLICATION AND WE WILL PASS
*                                      TO THE USER'S BIND EXIT THE 0594
*                                      ADDRESS OF THE APPLICATION'S
*                                      TPROCESS TNT ENTRY    @YM07260*/
*       REG03=RPRF;                 /* PASS BIND PIU BUFFER'S ADDRESS
*                                                            @YM07260*/
@RC00591 DS    0H                                                  0594
@RC00589 LR    REG03,RPRF                                          0594
*       CALL USEREXIT;              /* INVOKE USER'S BIND EXIT       */
         BALR  @14,@15                                             0595
*       LM(REG02,REG04,LOCALSAV);   /* RESTORE REGISTERS USED TO PASS
*                                      PARAMETERS TO THE USER'S BIND
*                                      EXIT                  @YM07260*/
         LM    REG02,REG04,LOCALSAV                                0596
*       RFY                                                        0597
*        (REG02,                                                   0597
*         REG03,                                                   0597
*         REG04) UNRSTD;            /*                       @YM07260*/
*     END;                                                         0598
*   END BINDEXIT;                   /* RETURN TO CALLER              */
@EL00002 DS    0H                                                  0599
@EF00002 DS    0H                                                  0599
@ER00002 L     @14,@SA00002                                        0599
         BR    @14                                                 0599
         EJECT
*BINDOPTN:                                                         0600
*   PROC OPTIONS(SAVE(R14));                                       0600
*                                                                  0600
BINDOPTN ST    @14,@SA00003                                        0600
*/********************************************************************/
*/*                                                                  */
*/*      B I N D O P T N   SUBROUTINE                                */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE LOCATES THE 'IEDBNDPM' OPTION FIELD         */
*/*      (IF THERE IS ONE SPECIFIED) FOR THE SLU, AND MOVES THE      */
*/*      BIND DATA INTO THAT OPTION FIELD.  THE BIND DATA MOVED      */
*/*      STARTS WITH THE BYTE AFTER THE REQUEST CODE.                */
*/*                                                                  */
*/********************************************************************/
*                                                                  0601
*   R0=ADDR(BNDPMCON);              /* ADDRESS OF 'IEDBNDPM' NAME    */
         LA    R0,@CC02132                                         0601
*   RPARM=TRMPTR+LENGTH(IEDNTRM);   /* ADDR OF SLU'S TTE             */
         LA    RPARM,14                                            0602
         AL    RPARM,TRMPTR                                        0602
*   CALL IEDOPTN;                   /* CHECK FOR IEDBNDPM OPTION FLD */
         L     @15,AVTOPTN(,RAVT)                                  0603
         BALR  @14,@15                                             0603
*   IF R15=0 THEN                   /* GOOD RETURN CODE?             */
         LTR   R15,R15                                             0604
         BNZ   @RF00604                                            0604
*     DO;                           /* YES                           */
*       PLMVLNTH=TTHDCF-LENGTH(PIURH)-1;/* CALCULATE BYTES TO MOVE   */
         LA    @14,PLMVPARM                                        0606
         SLR   @10,@10                                             0606
         ICM   @10,3,TTHDCF(RPIU)                                  0606
         SL    @10,@CF00330                                        0606
         STH   @10,PLMVLNTH(,@14)                                  0606
*       IF R0<PLMVLNTH THEN         /* OPTION FIELD TOO SHORT?       */
         CR    R0,@10                                              0607
         BNL   @RF00607                                            0607
*         PLMVLNTH=R0;              /* YES, ADJUST BYTE COUNT        */
         STH   R0,PLMVLNTH(,@14)                                   0608
*                                   /* SET OTHER PARAMETERS FOR MOVE */
*       PLMVTU=RPARM;               /* TARGET 'UNIT' (THE OPTION FLD)*/
@RF00607 LA    @14,PLMVPARM                                        0609
         ST    RPARM,PLMVTU(,@14)                                  0609
*       PLMVTD=RPARM;               /* TARGET DATA                   */
         ST    RPARM,PLMVTD(,@14)                                  0610
*       PLMVSU=RPRF;                /* SOURCE UNIT                   */
         ST    RPRF,PLMVSU(,@14)                                   0611
*       PLMVSD=ADDR(BNDFORMT);      /* SOURCE DATA                   */
         LA    @10,BNDFORMT+13(,RPIU)                              0612
         ST    @10,PLMVSD(,@14)                                    0612
*       PLMVFLG1=0;                 /* INDICATE THAT TARGET IS A     */
         MVI   PLMVFLG1(@14),X'00'                                 0613
*       PLMVTCTG=ON;                /* ... CONTIGUOUS-CORE AREA      */
         OI    PLMVTCTG(@14),B'00100000'                           0614
*       RPARM=ADDR(PLMVPARM);       /* ADDR OF PARAMETER LIST        */
         LR    RPARM,@14                                           0615
*       CALL IEDMVBFR;              /* MOVE THE DATA                 */
         L     @10,AVTSAVTP(,RAVT)                                 0616
         L     @15,SAVTMVBF(,@10)                                  0616
         BALR  @14,@15                                             0616
*     END;                                                         0617
*   END BINDOPTN;                   /* RETURN TO CALLER              */
@EL00003 DS    0H                                                  0618
@EF00003 DS    0H                                                  0618
@ER00003 L     @14,@SA00003                                        0618
         BR    @14                                                 0618
         EJECT
*BINDPARM:                                                         0619
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0619
BINDPARM DS    0H                                                  0620
*   RFY                                                            0620
*     R14 RSTD;                                                    0620
*                                                                  0620
*/********************************************************************/
*/*                                                                  */
*/*      B I N D P A R M   SUBROUTINE                                */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE SETS UP THE BIND PARAMETER DATA IN THE      */
*/*      SIB.                                                        */
*/*                                                                  */
*/********************************************************************/
*                                                                  0621
*   SIBBIND=0;                      /* INITIALIZE ALL BITS TO 0      */
         SLR   @10,@10                                             0621
         STCM  @10,7,SIBBIND(RSIB)                                 0621
*                                   /* TS AND FM PROFILE VALUES      */
*   SIBTSPRO=BNDTSPRF;              /* TS PROFILE            @YM05990*/
         LA    @10,13                                              0622
         ALR   @10,RPIU                                            0622
         IC    @07,BNDTSPRF(,@10)                                  0622
         STC   @07,SIBTSPRO(,RSIB)                                 0622
*   SIBFMPRO=BNDFMPRF;              /* FM PROFILE            @YM05990*/
         IC    @07,BNDFMPRF(,@10)                                  0623
         STC   @07,SIBFMPRO(,RSIB)                                 0623
*                                   /* PLU PROTOCOL BITS             */
*   IF BNDPCHN=ON THEN              /* CHAINING USE                  */
         TM    BNDPCHN(@10),B'10000000'                            0624
         BNO   @RF00624                                            0624
*     SIBPCHN=ON;                                                  0625
         OI    SIBPCHN(RSIB),B'10000000'                           0625
*   IF BNDPRQM=ON THEN              /* REQUEST MODE                  */
@RF00624 TM    BNDPRQM+13(RPIU),B'01000000'                        0626
         BNO   @RF00626                                            0626
*     SIBPRQM=ON;                                                  0627
         OI    SIBPRQM(RSIB),B'01000000'                           0627
*   IF BNDPDEF=ON THEN              /* DEFINITE RESPONSE             */
@RF00626 TM    BNDPDEF+13(RPIU),B'00100000'                        0628
         BNO   @RF00628                                            0628
*     SIBPDEF=ON;                                                  0629
         OI    SIBPDEF(RSIB),B'00100000'                           0629
*   IF BNDPEXC=ON THEN              /* EXCEPTION RESPONSE            */
@RF00628 TM    BNDPEXC+13(RPIU),B'00010000'                        0630
         BNO   @RF00630                                            0630
*     SIBPEXC=ON;                                                  0631
         OI    SIBPEXC(RSIB),B'00010000'                           0631
*   IF BNDPCMP=ON THEN              /* COMPRESSION                   */
@RF00630 TM    BNDPCMP+13(RPIU),B'00000010'                        0632
         BNO   @RF00632                                            0632
*     SIBPCMP=ON;                                                  0633
         OI    SIBPCMP(RSIB),B'00001000'                           0633
*   IF BNDPEBI=ON THEN              /* EB INDICATOR                  */
@RF00632 TM    BNDPEBI+13(RPIU),B'00000001'                        0634
         BNO   @RF00634                                            0634
*     SIBPEBI=ON;                                                  0635
         OI    SIBPEBI(RSIB),B'00000100'                           0635
*                                   /* SLU PROTOCOL BITS             */
*   IF BNDSCHN=ON THEN              /* CHAINING USE                  */
@RF00634 TM    BNDSCHN+13(RPIU),B'10000000'                        0636
         BNO   @RF00636                                            0636
*     SIBSCHNG=ON;                                                 0637
         OI    SIBSCHNG(RSIB),B'00000010'                          0637
*   IF BNDSRQM=ON THEN              /* REQUEST MODE                  */
@RF00636 TM    BNDSRQM+13(RPIU),B'01000000'                        0638
         BNO   @RF00638                                            0638
*     SIBSRQM=ON;                                                  0639
         OI    SIBSRQM(RSIB),B'00000001'                           0639
*   IF BNDSDEF=ON THEN              /* DEFINITE RESPONSE             */
@RF00638 TM    BNDSDEF+13(RPIU),B'00100000'                        0640
         BNO   @RF00640                                            0640
*     SIBSDEF=ON;                                                  0641
         OI    SIBSDEF(RSIB),B'10000000'                           0641
*   IF BNDSEXC=ON THEN              /* EXCEPTION RESPONSE            */
@RF00640 TM    BNDSEXC+13(RPIU),B'00010000'                        0642
         BNO   @RF00642                                            0642
*     SIBSEXC=ON;                                                  0643
         OI    SIBSEXC(RSIB),B'01000000'                           0643
*   IF BNDSCMP=ON THEN              /* COMPRESSION                   */
@RF00642 TM    BNDSCMP+13(RPIU),B'00000010'                        0644
         BNO   @RF00644                                            0644
*     SIBSCMP=ON;                                                  0645
         OI    SIBSCMP(RSIB),B'00100000'                           0645
*   IF BNDSEBI=ON THEN              /* EB INDICATOR                  */
@RF00644 TM    BNDSEBI+13(RPIU),B'00000001'                        0646
         BNO   @RF00646                                            0646
*     SIBSEBI=ON;                                                  0647
         OI    SIBSEBI(RSIB),B'00010000'                           0647
*                                   /* COMMON PROTOCOL BITS          */
*   IF BNDFMUSE=ON THEN             /* FM HEADER USAGE               */
@RF00646 TM    BNDFMUSE+13(RPIU),B'01000000'                       0648
         BNO   @RF00648                                            0648
*     SIBFMUSE=ON;                                                 0649
         OI    SIBFMUSE(RSIB),B'00001000'                          0649
*   IF BNDBRACK=ON THEN             /* BRACKETS                      */
@RF00648 TM    BNDBRACK+13(RPIU),B'00100000'                       0650
         BNO   @RF00650                                            0650
*     SIBBRACK=ON;                                                 0651
         OI    SIBBRACK(RSIB),B'00000100'                          0651
*   IF BNDBTERM=ON THEN             /* BRACKET TERMINATION           */
@RF00650 TM    BNDBTERM+13(RPIU),B'00010000'                       0652
         BNO   @RF00652                                            0652
*     SIBBTERM=ON;                                                 0653
         OI    SIBBTERM(RSIB),B'00000010'                          0653
*   IF BNDALT=ON THEN               /* ALTERNATE CODE                */
@RF00652 TM    BNDALT+13(RPIU),B'00001000'                         0654
         BNO   @RF00654                                            0654
*     SIBALT=ON;                                                   0655
         OI    SIBALT(RSIB),B'00000001'                            0655
*   IF BNDFMODE(1:1)=ON THEN        /* FM TRANSACTION MODE, BIT 1    */
@RF00654 TM    BNDFMODE+13(RPIU),B'10000000'                       0656
         BNO   @RF00656                                            0656
*     SIBFMODE(1:1)=ON;                                            0657
         OI    SIBFMODE(RSIB),B'10000000'                          0657
*   IF BNDFMODE(2:2)=ON THEN        /* FM TRANSACTION MODE, BIT 2    */
@RF00656 TM    BNDFMODE+13(RPIU),B'01000000'                       0658
         BNO   @RF00658                                            0658
*     SIBFMODE(2:2)=ON;                                            0659
         OI    SIBFMODE(RSIB),B'01000000'                          0659
*   IF BNDRECOV=ON THEN             /* RECOVERY RESPONSIBILITY       */
@RF00658 TM    BNDRECOV+13(RPIU),B'00100000'                       0660
         BNO   @RF00660                                            0660
*     SIBRECOV=ON;                                                 0661
         OI    SIBRECOV(RSIB),B'00100000'                          0661
*   IF BNDSPKR=ON THEN              /* BRACKETS 1ST SPEAKER          */
@RF00660 TM    BNDSPKR+13(RPIU),B'00010000'                        0662
         BNO   @RF00662                                            0662
*     SIBSPKR=ON;                                                  0663
         OI    SIBSPKR(RSIB),B'00010000'                           0663
*   IF BNDCRES=ON THEN              /* CONTENTION RESOLUTION         */
@RF00662 TM    BNDCRES+13(RPIU),B'00000001'                        0664
         BNO   @RF00664                                            0664
*     SIBCRES=ON;                                                  0665
         OI    SIBCRES(RSIB),B'00001000'                           0665
*                                   /* LU TYPE & CD INDICATR @Y17XAYO*/
*   SIBSTAT0=BNDLUPFL;              /* LU TYPE               @Y17XAYO*/
@RF00664 IC    @10,BNDLUPFL+13(,RPIU)                              0666
         STC   @10,SIBSTAT0(,RSIB)                                 0666
*   IF SIBFMODE=SIBHDXFF THEN       /* HALF DUPLX FLIP-FLOP? @Y17XAYO*/
         TM    SIBFMODE(RSIB),B'10000000'                          0667
         BNO   @RF00667                                            0667
         TM    SIBFMODE(RSIB),B'01000000'                          0667
         BNZ   @RF00667                                            0667
*     SIBCD=ON;                     /* YES, INDICATE THAT TCAM WILL
*                                      ... SEND FIRST        @Y17XAYO*/
         OI    SIBCD(RSIB),B'10000000'                             0668
*   ELSE                            /* NO, NOBODY HAS THE    @Y17XAYO*/
*     SIBCD=OFF;                    /* ... CD INDICATOR      @Y17XAYO*/
         B     @RC00667                                            0669
@RF00667 NI    SIBCD(RSIB),B'01111111'                             0669
*   END BINDPARM;                   /* RETURN TO CALLER              */
@EL00004 DS    0H                                                  0670
@EF00004 DS    0H                                                  0670
@ER00004 BR    @14                                                 0670
*   RFY                                                            0671
*     R14 UNRSTD;                                                  0671
         EJECT
*BINDRSP:                                                          0672
*   PROC OPTIONS(SAVE(R14));                                       0672
*                                                                  0672
BINDRSP  ST    @14,@SA00005                                        0672
*/********************************************************************/
*/*                                                                  */
*/*      B I N D R S P   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE PROCESSES THE RESPONSE TO A BIND            */
*/*      COMMAND.                                                    */
*/*                                                                  */
*/********************************************************************/
*                                                                  0673
*   IF SIBSSTAT=SIBSAPND THEN       /* 'ACTIVE PENDING' SESSN STATE? */
         TM    SIBSSTAT(RSIB),B'00000100'                          0673
         BNO   @RF00673                                            0673
         TM    SIBSSTAT(RSIB),B'00011000'                          0673
         BNZ   @RF00673                                            0673
*     DO;                           /* YES                           */
*       IF TRHSDI=OFF THEN          /* GOOD RESPONSE?                */
         TM    TRHSDI+10(RPIU),B'00000100'                         0675
         BNZ   @RF00675                                            0675
*         DO;                       /* YES                           */
*           SIBSSTAT=SIBSACTV;      /* SET SESSION STATE = 'ACTIVE'  */
         OI    SIBSSTAT(RSIB),B'00011100'                          0677
*           IF SIBTSPRO=2 THEN      /* TS PROFILE 2?                 */
         CLI   SIBTSPRO(RSIB),2                                    0678
         BNE   @RF00678                                            0678
*             DO;                   /* YES, NO SDT SHOULD BE SENT    */
*               SIBDSTAT=SIBDACTV;  /* DATA TRAFFIC STATE = 'ACTIVE' */
         OI    SIBDSTAT(RSIB),B'00000011'                          0680
*               CALL LUSPIU;        /* PASS THE PIU BUFFER TO IEDLUS */
         BAL   @14,LUSPIU                                          0681
*             END;                                                 0682
*           ELSE                    /* NOT TS PROFILE 2              */
*             DO;                   /* SDT MUST BE SENT              */
         B     @RC00678                                            0683
@RF00678 DS    0H                                                  0684
*               SIBDSTAT=SIBDAPND;  /* DATA TRAFFIC STATE = 'ACTIVE
*                                      PENDING'                      */
         NI    SIBDSTAT(RSIB),B'11111101'                          0684
         OI    SIBDSTAT(RSIB),B'00000001'                          0684
*               RPARM=CD1SDT;       /* SDT REQUEST CODE              */
         LA    RPARM,160                                           0685
*               CALL BLDREQST;      /* BUILD SDT REQUEST PIU         */
         BAL   @14,BLDREQST                                        0686
*               CALL SENDPIU;       /* SEND THE PIU                  */
         BAL   @14,SENDPIU                                         0687
*             END;                                                 0688
*         END;                                                     0689
*       ELSE                        /* ERROR RESPONSE                */
*         DO;                                                      0690
         B     @RC00675                                            0690
@RF00675 DS    0H                                                  0691
*           SIBSSTAT=SIBSRSET;      /* SESSION STATE = 'RESET'       */
         NI    SIBSSTAT(RSIB),B'11101111'                          0691
         OI    SIBSSTAT(RSIB),B'00001100'                          0691
*           CALL LUSPIU;            /* TPOST PIU BUFFER TO IEDLUS    */
         BAL   @14,LUSPIU                                          0692
*         END;                                                     0693
*     END;                                                         0694
*   ELSE                            /* UNEXPECTED RESPONSE           */
*     DO;                           /* THROW IT AWAY                 */
         B     @RC00673                                            0695
@RF00673 DS    0H                                                  0696
*       RPARM=RPRF;                 /* BUFFER ADDRESS                */
         LR    RPARM,RPRF                                          0696
*       CALL FREEBUF;               /* FREE THE BUFFER               */
         BAL   @14,FREEBUF                                         0697
*     END;                                                         0698
*   END BINDRSP;                    /* RETURN TO CALLER              */
@EL00005 DS    0H                                                  0699
@EF00005 DS    0H                                                  0699
@ER00005 L     @14,@SA00005                                        0699
         BR    @14                                                 0699
         EJECT
*BLDBIND:                                                          0700
*   PROC OPTIONS(SAVE(R14));                                       0700
*                                                                  0700
BLDBIND  ST    @14,@SA00006                                        0700
*/********************************************************************/
*/*                                                                  */
*/*      B L D B I N D   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE BUILDS A BIND PIU IN THE BUFFER             */
*/*      CURRENTLY OCCUPIED BY A CINIT PIU.                          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0701
*                                   /* BUILD BIND'S TH               */
*   TTHBYTE0=EXPFLOTH;              /* EXPEDITED FLOW                */
         MVI   TTHBYTE0(RPIU),X'1D'                                0701
*   TTHBYTE1=0;                     /*                               */
         MVI   TTHBYTE1(RPIU),X'00'                                0702
*   TTHOAF=TTHDAF;                  /* PLU'S TNT INDEX               */
         MVC   @TS00001(2),TTHDAF(RPIU)                            0703
         MVC   TTHOAF(2,RPIU),@TS00001                             0703
*   TTHDAF=TTHTAG;                  /* SLU'S TNT INDEX               */
         SLR   @14,@14                                             0704
         ICM   @14,3,TTHTAG(RPIU)                                  0704
         STCM  @14,3,TTHDAF(RPIU)                                  0704
*   TTHTAG=0;                       /* TAG FIELD                     */
         SLR   @14,@14                                             0705
         STCM  @14,3,TTHTAG(RPIU)                                  0705
*   TTHDCF=XCINBLEN+LENGTH(PIURH);  /* BIND PIU LENGTH               */
         LA    @14,3                                               0706
         SLR   @10,@10                                             0706
         ICM   @10,3,XCINBLEN+13(RPIU)                             0706
         ALR   @14,@10                                             0706
         STCM  @14,3,TTHDCF(RPIU)                                  0706
*   PIURH=SCRH;                     /* SET UP BIND'S RH              */
         MVC   PIURH(3,RPIU),@CB02136                              0707
*   CALL GETNAME;                   /* GET PLU NAME          @YM07298
*                                      SET UP DATA-MOVE PARAMETERS   */
         BAL   @14,GETNAME                                         0708
*   PLMVTU=RPRF;                    /* TARGET UNIT                   */
         LA    @14,PLMVPARM                                        0709
         ST    RPRF,PLMVTU(,@14)                                   0709
*   PLMVTD=ADDR(PIURU);             /* TARGET DATA                   */
         LA    @10,PIURU(,RPIU)                                    0710
         ST    @10,PLMVTD(,@14)                                    0710
*   PLMVSU=RPRF;                    /* SOURCE UNIT                   */
         ST    RPRF,PLMVSU(,@14)                                   0711
*   PLMVSD=ADDR(PIURU);             /* SOURCE DATA           @YM07298*/
         ST    @10,PLMVSD(,@14)                                    0712
*   PLMVLNTH=LENGTH(XCINFIXD)+BNDNOUSR;/* NO. OF BYTES TO SKIP OVER
*                                                            @YM07298*/
         LA    @10,9                                               0713
         SLR   @07,@07                                             0713
         IC    @07,BNDNOUSR                                        0713
         ALR   @10,@07                                             0713
         STH   @10,PLMVLNTH(,@14)                                  0713
*   PLMVFLG1=0;                     /* CLEAR FLAGS           @YM07298*/
         MVI   PLMVFLG1(@14),X'00'                                 0714
*   RPARM=ADDR(PLMVPARM);           /* PARM LIST ADDRESS             */
         LR    RPARM,@14                                           0715
*   CALL IEDMVBFR;                  /* SKIP TO DATA AFTER NAME       */
         L     @10,AVTSAVTP(,RAVT)                                 0716
         L     @15,SAVTMVBF(,@10)                                  0716
         BALR  @14,@15                                             0716
*   LASTUNIT=PLMVTU;                /* UNIT WITH LAST DATA   @YM07298*/
         LA    @14,PLMVPARM                                        0717
         L     @10,PLMVTU(,@14)                                    0717
         ST    @10,LASTUNIT                                        0717
*   LASTDATA=PLMVTD;                /* ADDR WITHIN UNIT      @YM07298*/
         L     @10,PLMVTD(,@14)                                    0718
         ST    @10,LASTDATA                                        0718
*   LASTLNTH=XCINBLEN-BNDNOUSR;     /* LNTH OF REMAINING DATA@YM07298*/
         LA    @10,13                                              0719
         ALR   @10,RPIU                                            0719
         SLR   @07,@07                                             0719
         ICM   @07,3,XCINBLEN(@10)                                 0719
         SLR   @03,@03                                             0719
         IC    @03,BNDNOUSR                                        0719
         SLR   @07,@03                                             0719
         ST    @07,LASTLNTH                                        0719
*   PLMVTU=RPRF;                    /* TARGET UNIT           @YM07298*/
         ST    RPRF,PLMVTU(,@14)                                   0720
*   PLMVTD=ADDR(PIURU);             /* TARGET DATA           @YM07298*/
         LA    @07,PIURU(,RPIU)                                    0721
         ST    @07,PLMVTD(,@14)                                    0721
*   PLMVSU=RPRF;                    /* SOURCE UNIT           @YM07298*/
         ST    RPRF,PLMVSU(,@14)                                   0722
*   PLMVSD=ADDR(XCINBIMG);          /* SOURCE DATA           @YM07298*/
         LA    @10,XCINBIMG(,@10)                                  0723
         ST    @10,PLMVSD(,@14)                                    0723
*   PLMVLNTH=BNDNAMPL;              /* UP TO PLU NAME LNTH   @YM07298*/
         SLR   @10,@10                                             0724
         IC    @10,BNDNAMPL                                        0724
         STH   @10,PLMVLNTH(,@14)                                  0724
*   RPARM=ADDR(PLMVPARM);           /* PARM LIST ADDRESS     @YM07298*/
         LR    RPARM,@14                                           0725
*   CALL IEDMVBFR;                  /* MOVE IN 1ST PART BIND @YM07298*/
         L     @10,AVTSAVTP(,RAVT)                                 0726
         L     @15,SAVTMVBF(,@10)                                  0726
         BALR  @14,@15                                             0726
*   PLMVSU=ADDR(NAMEFLD);           /* SOURCE UNIT           @YM07298*/
         LA    @14,PLMVPARM                                        0727
         LA    @10,NAMEFLD                                         0727
         ST    @10,PLMVSU(,@14)                                    0727
*   PLMVSD=ADDR(NAMEFLD);           /* SOURCE DATA           @YM07298*/
         ST    @10,PLMVSD(,@14)                                    0728
*   NAMCOUNT=MAXNAME;               /* INIT FOR EIGHT BYTES  @ZM47842*/
         LA    @10,8                                               0729
         STC   @10,NAMCOUNT                                        0729
*   PLMVLNTH=NAMCOUNT+LENGTH(NAMCOUNT);/* LENGTH + NAME      @YM07298*/
         AL    @10,@CF00059                                        0730
         STH   @10,PLMVLNTH(,@14)                                  0730
*   PLMVSCTG=ON;                    /* SOURCE CONTIGUOUS     @YM07298*/
         OI    PLMVSCTG(@14),B'01000000'                           0731
*   RPARM=ADDR(PLMVPARM);           /* PARM LIST ADDRESS     @YM07298*/
         LR    RPARM,@14                                           0732
*   CALL IEDMVBFR;                  /* MOVE IN PLU NAME      @YM07298*/
         L     @10,AVTSAVTP(,RAVT)                                 0733
         L     @15,SAVTMVBF(,@10)                                  0733
         BALR  @14,@15                                             0733
*   PLMVSU=LASTUNIT;                /* SOURCE UNIT           @YM07298*/
         LA    @14,PLMVPARM                                        0734
         L     @10,LASTUNIT                                        0734
         ST    @10,PLMVSU(,@14)                                    0734
*   PLMVSD=LASTDATA;                /* SOURCE DATA           @YM07298*/
         L     @10,LASTDATA                                        0735
         ST    @10,PLMVSD(,@14)                                    0735
*   PLMVLNTH=LASTLNTH;              /* REMAINING LENGTH      @YM07298*/
         L     @10,LASTLNTH                                        0736
         STH   @10,PLMVLNTH(,@14)                                  0736
*   PLMVFLG1=0;                     /* CLEAR FLAGS           @YM07298*/
         MVI   PLMVFLG1(@14),X'00'                                 0737
*   PLMVUNCF=ON;                    /* LEFT OVER TARG UNITS  @YM07298*/
         OI    PLMVUNCF(@14),B'10000000'                           0738
*   RPARM=ADDR(PLMVPARM);           /* PARM LIST ADDRESS     @YM07298*/
         LR    RPARM,@14                                           0739
*   CALL IEDMVBFR;                  /* MOVE LAST PART BIND   @YM07298*/
         L     @10,AVTSAVTP(,RAVT)                                 0740
         L     @15,SAVTMVBF(,@10)                                  0740
         BALR  @14,@15                                             0740
*   IF PLMVUNCA>0 THEN              /* ANY LEFT-OVER TARGET UNITS?   */
         LA    @14,PLMVPARM                                        0741
         L     @14,PLMVUNCA(,@14)                                  0741
         LTR   @14,@14                                             0741
         BNP   @RF00741                                            0741
*     DO;                           /* YES, IEDMVBFR HAS UNCHAINED 0742
*                                      THE LEFT-OVER UNITS AND PUT AN
*                                      INVALID TIC IN THE LAST UNIT
*                                      OF THE BIND PIU'S BUFFER      */
*       RPARM=PLMVUNCA;             /* FREE THE LEFT-OVER            */
         LR    RPARM,@14                                           0743
*       CALL FREEBUF;               /* ... BUFFER UNITS              */
         BAL   @14,FREEBUF                                         0744
*     END;                                                         0745
*   END BLDBIND;                    /* RETURN TO CALLER              */
@EL00006 DS    0H                                                  0746
@EF00006 DS    0H                                                  0746
@ER00006 L     @14,@SA00006                                        0746
         BR    @14                                                 0746
         EJECT
*BLDREQST:                                                         0747
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0747
BLDREQST DS    0H                                                  0748
*   RFY                                                            0748
*     R14 RSTD;                                                    0748
*                                                                  0748
*/********************************************************************/
*/*                                                                  */
*/*      B L D R E Q S T   SUBROUTINE                                */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE BUILDS 3 DIFFERENT TYPES OF REQUEST         */
*/*      PIUS --- SDT, CLEAR, AND UNBIND.                            */
*/*                                                                  */
*/********************************************************************/
*                                                                  0749
*   PRFPIUO=1;                      /* PIU OFFSET                    */
         LA    @10,1                                               0749
         STC   @10,PRFPIUO(,RPRF)                                  0749
*   RPIU=ADDR(PRFPIUO)+PRFPIUO;     /* START-OF-PIU ADDRESS          */
         LA    RPIU,PRFPIUO(,RPRF)                                 0750
         ALR   RPIU,@10                                            0750
*                                   /* INITIALIZE THE TH             */
*   TTHBYTE0=EXPFLOTH;              /* EXPEDITED FLOW                */
         MVI   TTHBYTE0(RPIU),X'1D'                                0751
*   TTHBYTE1=0;                     /*                               */
         MVI   TTHBYTE1(RPIU),X'00'                                0752
*   TTHDAF=TNTSLU;                  /* DESTINATION = SLU'S TNT INDEX */
         MVC   TTHDAF(2,RPIU),TNTSLU                               0753
*   TTHOAF=SIBINDEX;                /* ORIGIN = PLU'S TNT INDEX      */
         MVC   TTHOAF(2,RPIU),SIBINDEX(RSIB)                       0754
*   TTHTAG=0;                       /* TAG FIELD                     */
         SLR   @10,@10                                             0755
         STCM  @10,3,TTHTAG(RPIU)                                  0755
*   PIURH=SCRH;                     /* MOVE IN THE RH                */
         MVC   PIURH(3,RPIU),@CB02136                              0756
*   PIURU(1:1)=RPARM;               /* PIU REQUEST CODE              */
         STC   RPARM,PIURU(,RPIU)                                  0757
*   IF RPARM=CD1UBIND THEN          /* BUILDING UNBIND PIU?          */
         C     RPARM,@CF00701                                      0758
         BNE   @RF00758                                            0758
*     DO;                           /* YES                           */
*       PIURU(2:2)=UBINDTYP;        /* SET UNBIND TYPE               */
         MVI   PIURU+1(RPIU),X'01'                                 0760
*       TTHDCF=LENGTH(PIURH)+2;     /* SET BYTE COUNT                */
         MVC   TTHDCF(2,RPIU),@CH00156                             0761
*     END;                                                         0762
*   ELSE                            /* NOT AN UNBIND PIU             */
*     TTHDCF=LENGTH(PIURH)+1;       /* SET BYTE COUNT                */
         B     @RC00758                                            0763
@RF00758 MVC   TTHDCF(2,RPIU),@CH00330                             0763
*   END BLDREQST;                   /* RETURN TO CALLER              */
@EL00007 DS    0H                                                  0764
@EF00007 DS    0H                                                  0764
@ER00007 BR    @14                                                 0764
*   RFY                                                            0765
*     R14 UNRSTD;                                                  0765
         EJECT
*BLDRESP:                                                          0766
*   PROC OPTIONS(SAVE(R14));                                       0766
*                                                                  0766
BLDRESP  ST    @14,@SA00008                                        0766
*/********************************************************************/
*/*                                                                  */
*/*      B L D R E S P   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE IS GIVEN A BUFFER CONTAINING A              */
*/*      REQUEST PIU.  IF A RESPONSE HAS BEEN REQUESTED, A           */
*/*      RESPONSE IS BUILT AND SENT.  OTHERWISE THE BUFFER IS        */
*/*      FREED, AND NO RESPONSE IS SENT.                             */
*/*                                                                  */
*/********************************************************************/
*                                                                  0767
*   IF(TRHDR1=ON×                   /* ANY TYPE OR RESPONSE          */
*       TRHDR2=ON)&                 /* ... REQUESTED? &              */
*       (TRHER=OFF×                 /* DEFINITE RESPONSE REQUESTED   */
*       IEDSNSD>0) THEN             /* ... OR WAS THERE AN ERROR?    */
         LA    @14,10                                              0767
         ALR   @14,RPIU                                            0767
         TM    TRHDR1(@14),B'10100000'                             0767
         BZ    @RF00767                                            0767
         TM    TRHER(@14),B'00010000'                              0767
         BZ    @RT00767                                            0767
         LA    @14,SENSE                                           0767
         CLC   IEDSNSD(4,@14),@CF00652                             0767
         BNH   @RF00767                                            0767
@RT00767 DS    0H                                                  0768
*     DO;                           /* YES, A RESPONSE MUST BE BUILT */
*       RPARM=TTHDAF;               /* REVERSE THE                   */
         SLR   RPARM,RPARM                                         0769
         ICM   RPARM,3,TTHDAF(RPIU)                                0769
*       TTHDAF=TTHOAF;              /* ... DAF &                     */
         MVC   @TS00001(2),TTHOAF(RPIU)                            0770
         MVC   TTHDAF(2,RPIU),@TS00001                             0770
*       TTHOAF=RPARM;               /* ... OAF FIELDS                */
         STCM  RPARM,3,TTHOAF(RPIU)                                0771
*       TRHTYPE=ON;                 /* MARK THIS AS A RESPONSE       */
         OI    TRHTYPE+10(RPIU),B'10000000'                        0772
*       IF IEDSNSD=0 THEN           /* + FME RESPONSE?               */
         LA    @14,SENSE                                           0773
         ICM   @10,15,IEDSNSD(@14)                                 0773
         BNZ   @RF00773                                            0773
*         TTHDCF=LENGTH(PIURH)+1;   /* YES, SET COUNT FOR NO SENSE   */
         MVC   TTHDCF(2,RPIU),@CH00330                             0774
*       ELSE                        /* ERROR RESPONSE NEEDED         */
*         DO;                                                      0775
         B     @RC00773                                            0775
@RF00773 DS    0H                                                  0776
*           TRHSDI=ON;              /* SENSE-INCLUDED                */
         LA    @14,10                                              0776
         ALR   @14,RPIU                                            0776
         OI    TRHSDI(@14),B'00000100'                             0776
*           TRHER=ON;               /* EXCEPTION RESPONSE            */
         OI    TRHER(@14),B'00010000'                              0777
*           PIURU(5:5)=PIURU(1:1);  /* MAKE ROOM FOR SENSE           */
         MVC   PIURU+4(1,RPIU),PIURU(RPIU)                         0778
*           PIURU(1:4)=IEDSNSD;     /* MOVE IN SENSE DATA            */
         LA    @14,SENSE                                           0779
         MVC   PIURU(4,RPIU),IEDSNSD(@14)                          0779
*           TTHDCF=LENGTH(PIURH)+LENGTH(IEDSNSD)+1;/* DATA COUNT   0780
*                                      INCLUDES SENSE DATA           */
         MVC   TTHDCF(2,RPIU),@CH00044                             0780
*         END;                                                     0781
*       CALL SENDPIU;               /* SEND THE RESPONSE PIU         */
@RC00773 BAL   @14,SENDPIU                                         0782
*     END;                                                         0783
*   ELSE                            /* NO RESPONSE WAS BUILT         */
*     DO;                           /* THROW THE BUFFER AWAY         */
         B     @RC00767                                            0784
@RF00767 DS    0H                                                  0785
*       RPARM=RPRF;                 /* BUFFER ADDRESS                */
         LR    RPARM,RPRF                                          0785
*       CALL FREEBUF;               /* FREE THE BUFFER               */
         BAL   @14,FREEBUF                                         0786
*     END;                                                         0787
*   END BLDRESP;                    /* RETURN TO CALLER              */
@EL00008 DS    0H                                                  0788
@EF00008 DS    0H                                                  0788
@ER00008 L     @14,@SA00008                                        0788
         BR    @14                                                 0788
         EJECT
*CLEARRSP:                                                         0789
*   PROC OPTIONS(SAVE(R14));                                       0789
*                                                                  0789
CLEARRSP ST    @14,@SA00009                                        0789
*/********************************************************************/
*/*                                                                  */
*/*      C L E A R R S P   SUBROUTINE                                */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE PROCESSES THE RESPONSE TO A 'CLEAR'         */
*/*      PIU.                                                        */
*/*                                                                  */
*/********************************************************************/
*                                                                  0790
*   IF SIBDSTAT=SIBDRPND THEN       /* DATA TRAFFIC STATE =        0790
*                                      'RESET-PENDING'?              */
         TM    SIBDSTAT(RSIB),B'00000010'                          0790
         BNO   @RF00790                                            0790
         TM    SIBDSTAT(RSIB),B'00000001'                          0790
         BNZ   @RF00790                                            0790
*     DO;                           /* YES, PROCESS THIS RESPONSE    */
*       SIBDSTAT=SIBDRSET;          /* DATA TRAFFIC STATE = 'RESET'  */
         NI    SIBDSTAT(RSIB),B'11111100'                          0792
*       TNTPLU=TTHDAF;              /* GET PLU'S TNT INDEX           */
         MVC   TNTPLU(2),TTHDAF(RPIU)                              0793
*       MHPTR=LCBMHA;               /* FIND PROPER MH QCB    @YM06085*/
         L     @14,LCBMHA-1(,RLCB)                                 0794
         LA    @14,0(,@14)                                         0794
         ST    @14,MHPTR                                           0794
*       IF STMHUNBD=ON&STMHUBXT^=0 THEN/*                    @YM07287
*                                      IS UNBIND EXIT SPECIFIED AND
*                                      PRESENT                       */
         SL    @14,@CF00238                                        0795
         TM    STMHUNBD(@14),B'00100000'                           0795
         BNO   @RF00795                                            0795
         L     @10,STMHUBXT(,@14)                                  0795
         LTR   @10,@10                                             0795
         BZ    @RF00795                                            0795
*         DO;                       /* YES                           */
*           LCBQCBA=STMHUNBR;       /* ADDR OF IEDUNBND QCB          */
         MVC   LCBQCBA(3,RLCB),STMHUNBR+1(@14)                     0797
*           LCBPRI=PRILNSCL;        /* PRIORITY                      */
         MVI   LCBPRI(RLCB),X'E3'                                  0798
*           LCBSTART=STMHUBXT;      /* ADDR OF USER'S UNBIND EXIT    */
         STCM  @10,7,LCBSTART(RLCB)                                0799
*           LCBBFRSV=RPRF;          /* ADDR OF CLEAR RESPONSE BUFFER */
         STCM  RPRF,7,LCBBFRSV(RLCB)                               0800
*           BYPASSSW=ON;            /* SPECIFY BYPASS TO IEDUNBND    */
         OI    BYPASSSW,B'01000000'                                0801
*         END;                                                     0802
*       ELSE                        /* NO UNBIND EXIT SPECIFIED      */
*         CALL UNBIND;              /* BUILD & SEND UNBIND PIU       */
         B     @RC00795                                            0803
@RF00795 BAL   @14,UNBIND                                          0803
*     END;                                                         0804
*   ELSE                                                           0805
*     IF REENTRSW=ON THEN           /* RE-ENTRY FROM UNBIND EXIT?    */
         B     @RC00790                                            0805
@RF00790 TM    REENTRSW,B'10000000'                                0805
         BNO   @RF00805                                            0805
*       CALL UNBIND;                /* YES, BUILD & SEND UNBIND PIU  */
         BAL   @14,UNBIND                                          0806
*     ELSE                          /* UNEXPECTED RESPONSE           */
*       DO;                         /* THROW IT AWAY                 */
         B     @RC00805                                            0807
@RF00805 DS    0H                                                  0808
*         RPARM=RPRF;               /* BUFFER ADDRESS                */
         LR    RPARM,RPRF                                          0808
*         CALL FREEBUF;             /* FREE THE BUFFER               */
         BAL   @14,FREEBUF                                         0809
*       END;                                                       0810
*   END CLEARRSP;                   /* RETURN TO CALLER              */
@EL00009 DS    0H                                                  0811
@EF00009 DS    0H                                                  0811
@ER00009 L     @14,@SA00009                                        0811
         BR    @14                                                 0811
         EJECT
*CTLBLKS:                                                          0812
*   PROC OPTIONS(SAVE(R14));                                       0812
*                                                                  0812
CTLBLKS  ST    @14,@SA00010                                        0812
*/********************************************************************/
*/*                                                                  */
*/*      C T L B L K S   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE INITIALIZES CONTROL BLOCK POINTERS          */
*/*      FOR THE SECONDARY LU WHOSE TNT INDEX IS IN TNTSLU.          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0813
*   RPARM=TNTSLU;                   /* SLU'S TNT INDEX               */
         LH    RPARM,TNTSLU                                        0813
         N     RPARM,@CF02265                                      0813
*   CALL IEDQTNT;                   /* CONVERT IT TO TTE ADDRESS     */
         L     @15,AVTRNMPT(,RAVT)                                 0814
         BALR  @14,@15                                             0814
*   TRMPTR=RPARM;                   /* TTE ADDRESS                   */
         ST    RPARM,TRMPTR                                        0815
*   TRMPTR=TRMPTR-LENGTH(IEDNTRM);  /* BACK UP TO NEGATIVE PREFIX    */
         L     @14,TRMPTR                                          0816
         SL    @14,@CF01890                                        0816
         ST    @14,TRMPTR                                          0816
*   RSIB=TRMSIBPT;                  /* LU-LU SIB ADDRESS             */
         SLR   RSIB,RSIB                                           0817
         ICM   RSIB,7,TRMSIBPT(@14)                                0817
*   QCBPTR=TRMDESTQ;                /* DESTINATION QCB ADDRESS       */
         SLR   @10,@10                                             0818
         ICM   @10,7,TRMDESTQ(@14)                                 0818
         ST    @10,QCBPTR                                          0818
*   RLCB=QCBPLCBA;                  /* PLCB ADDRESS                  */
         AL    @10,@CF02266                                        0819
         L     RLCB,QCBPLCBA-5(,@10)                               0819
         LA    RLCB,0(,RLCB)                                       0819
*   END CTLBLKS;                    /* RETURN TO CALLER              */
@EL00010 DS    0H                                                  0820
@EF00010 DS    0H                                                  0820
@ER00010 L     @14,@SA00010                                        0820
         BR    @14                                                 0820
         EJECT
*FREEBUF:                                                          0821
*   PROC OPTIONS(SAVE(R14));                                       0821
*                                                                  0821
FREEBUF  ST    @14,@SA00011                                        0821
*/********************************************************************/
*/*                                                                  */
*/*      F R E E B U F   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE FREES THE BUFFER WHOSE ADDRESS IS IN        */
*/*      RPARM.                                                      */
*/*                                                                  */
*/********************************************************************/
*                                                                  0822
*   RPARM->PRFNBUNT=0;              /* LET IEDQGB DETERMINE UNIT CNT */
         MVI   PRFNBUNT(RPARM),X'00'                               0822
*   RPARM->PRFQCBA=ADDR(AVTBFRTB);  /* BUFFER-RETURN QCB ADDRESS     */
         LA    @14,AVTBFRTB(,RAVT)                                 0823
         STCM  @14,7,PRFQCBA(RPARM)                                0823
*   RPARM->PRFPRI=PRIBFRTB;         /* PRIORITY                      */
         MVI   PRFPRI(RPARM),X'E0'                                 0824
*   CALL DSPPOSTR;                  /* TPOST THE BUFFER              */
         LA    @15,DSPPOSTR(,RDISP)                                0825
         BALR  @14,@15                                             0825
*   END FREEBUF;                    /* RETURN TO CALLER              */
@EL00011 DS    0H                                                  0826
@EF00011 DS    0H                                                  0826
@ER00011 L     @14,@SA00011                                        0826
         BR    @14                                                 0826
         EJECT
*GETNAME:                                                          0827
*   PROC OPTIONS(SAVE(R14));                                       0827
*                                                                  0827
GETNAME  ST    @14,12(,@13)                                        0827
*/********************************************************************/
*/*                                                                  */
*/*      G E T N A M E   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE GETS THE PRIMARY LU'S NAME FROM A TNT       */
*/*      OFFSET.                                                     */
*/*                                                                  */
*/********************************************************************/
*                                                                  0828
*   WKPARM=TTHOAF;                  /* PLU'S TNT OFFSET      @YM07298*/
         SLR   WKPARM,WKPARM                                       0828
         ICM   WKPARM,3,TTHOAF(RPIU)                               0828
*   IF WKPARM<SAVTMHDX THEN         /* TNT IN TERMINAL TABLE @YM07298*/
         L     @14,AVTSAVTP(,RAVT)                                 0829
         LH    @14,SAVTMHDX(,@14)                                  0829
         N     @14,@CF02265                                        0829
         CLR   WKPARM,@14                                          0829
         BNL   @RF00829                                            0829
*     DO;                           /* ADDRESS OF ENTRY      @YM07298*/
*       WKADDR=WKPARM-1;            /*                       @YM07298*/
         LR    @14,WKPARM                                          0831
         BCTR  @14,0                                               0831
         ST    @14,WKADDR                                          0831
*       WKENTLEN=TNTENLEN+LENGTH(TNTTRMAD);/*                @YM07298*/
         L     @10,AVTRNMPT(,RAVT)                                 0832
         SLR   @07,@07                                             0832
         IC    @07,TNTENLEN(,@10)                                  0832
         LA    WKENTLEN,3(,@07)                                    0832
*       WKADDR=WKADDR*WKENTLEN;     /*                       @YM07298*/
         LR    @09,@14                                             0833
         MR    @08,WKENTLEN                                        0833
         ST    @09,WKADDR                                          0833
*       WKADDR=WKADDR+ADDR(TNTFIRST);/*                      @YM07298*/
         AL    @10,@CF02260                                        0834
         ALR   @09,@10                                             0834
         ST    @09,WKADDR                                          0834
*       NAMEPLU=WKADDR->TNTMHNME(1:TNTENLEN);/* GET PLU NAME @YM07298*/
         MVI   NAMEPLU+1,C' '                                      0835
         MVC   NAMEPLU+2(6),NAMEPLU+1                              0835
         BCTR  @07,0                                               0835
         EX    @07,@SM02281                                        0835
*     END;                          /*                       @YM07298*/
*   ELSE                            /* TNT IN MH TABLE       @YM07298*/
*     DO;                           /*                       @YM07298*/
         B     @RC00829                                            0837
@RF00829 DS    0H                                                  0838
*                                   /* ADDRESS OF ENTRY      @YM07298*/
*       WKADDR=WKPARM-SAVTMHDX;     /*                       @YM07298*/
         L     @14,AVTSAVTP(,RAVT)                                 0838
         LR    @10,WKPARM                                          0838
         LH    @07,SAVTMHDX(,@14)                                  0838
         N     @07,@CF02265                                        0838
         SLR   @10,@07                                             0838
         ST    @10,WKADDR                                          0838
*       WKADDR=WKADDR*LENGTH(IEDMHTD);/*                     @YM07298*/
         MH    @10,@CH00238                                        0839
         ST    @10,WKADDR                                          0839
*       WKADDR=WKADDR+SAVTMHTB;     /*                       @YM07298*/
         AL    @10,SAVTMHTB(,@14)                                  0840
         ST    @10,WKADDR                                          0840
*       NAMEPLU=WKADDR->MHNAME;     /* GET MH NAME           @YM07298*/
         MVC   NAMEPLU(8),MHNAME(@10)                              0841
*     END;                          /*                       @YM07298*/
*   END GETNAME;                    /* RETURN TO CALLER      @YM07298*/
@EL00012 DS    0H                                                  0843
@EF00012 DS    0H                                                  0843
@ER00012 L     @14,12(,@13)                                        0843
         BR    @14                                                 0843
         EJECT
*LOGOFF:                                                           0844
*   PROC OPTIONS(SAVE(R14));                                       0844
*                                                                  0844
LOGOFF   ST    @14,@SA00013                                        0844
*/********************************************************************/
*/*                                                                  */
*/*      L O G O F F   SUBROUTINE                                    */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE BEGINS LOGOFF PROCESSING FOR AN SLU         */
*/*      BY BUILDING AND SENDING A 'CLEAR' PIU.  THE BUFFER          */
*/*      IN WHICH THE PIU IS BUILT WAS OBTAINED BY IEDLUS            */
*/*      BEFORE THE PLCB WAS TPOSTED TO THIS MODULE.  ITS            */
*/*      ADDRESS IS IN LCBERBCH.                                     */
*/*                                                                  */
*/********************************************************************/
*                                                                  0845
*   SIBDSTAT=SIBDRPND;              /* SET DATA TRAFFIC STATE =    0845
*                                      'RESET PENDING'               */
         NI    SIBDSTAT(RSIB),B'11111110'                          0845
         OI    SIBDSTAT(RSIB),B'00000010'                          0845
*   DO WHILE(LCBWAITC>0);           /* CLEAR THE PLCB'S WAIT CHAIN   */
         B     @DE00846                                            0846
@DL00846 DS    0H                                                  0847
*     RPARM=LCBWAITC;               /* ADDR OF 1ST PIU BFR ON CHAIN  */
         L     RPARM,LCBWAITC-1(,RLCB)                             0847
         LA    RPARM,0(,RPARM)                                     0847
*     LCBWAITC=RPARM->PRFLINK;      /* DELINK IT FROM CHAIN          */
         MVC   LCBWAITC(3,RLCB),PRFLINK(RPARM)                     0848
*     CALL FREEBUF;                 /* FREE IT                       */
         BAL   @14,FREEBUF                                         0849
*   END;                                                           0850
@DE00846 L     @14,LCBWAITC-1(,RLCB)                               0850
         LA    @14,0(,@14)                                         0850
         LTR   @14,@14                                             0850
         BP    @DL00846                                            0850
*   RPRF=LCBERBCH;                  /* GET EMPTY BUFFER ADDRESS      */
         L     RPRF,LCBERBCH-1(,RLCB)                              0851
         LA    RPRF,0(,RPRF)                                       0851
*   LCBERBCH=0;                     /* ZERO ERB'S BUFFER POINTER     */
         SLR   @14,@14                                             0852
         STCM  @14,7,LCBERBCH(RLCB)                                0852
*   RPARM=CD1CLEAR;                 /* SET CLEAR REQUEST CODE        */
         LA    RPARM,161                                           0853
*   CALL BLDREQST;                  /* BUILD A CLEAR PIU             */
         BAL   @14,BLDREQST                                        0854
*   CALL SENDPIU;                   /* SEND CLEAR PIU TO THE SLU     */
         BAL   @14,SENDPIU                                         0855
*   END LOGOFF;                     /* RETURN TO CALLER              */
@EL00013 DS    0H                                                  0856
@EF00013 DS    0H                                                  0856
@ER00013 L     @14,@SA00013                                        0856
         BR    @14                                                 0856
         EJECT
*LOGON:                                                            0857
*   PROC OPTIONS(SAVE(R14));                                       0857
*                                                                  0857
LOGON    ST    @14,@SA00014                                        0857
*/********************************************************************/
*/*                                                                  */
*/*      L O G O N   SUBROUTINE                                      */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE BEGINS LOGON PROCESSING FOR AN SLU BY       */
*/*      BUILDING AND SENDING A 'BIND' PIU.                          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0858
*   SIBSSTAT=SIBSAPND;              /* SET SESSION STATE = 'ACTIVE 0858
*                                      PENDING'                      */
         NI    SIBSSTAT(RSIB),B'11100111'                          0858
         OI    SIBSSTAT(RSIB),B'00000100'                          0858
*   CALL BLDBIND;                   /* BUILD A BIND PIU IN THE CINIT
*                                      PIU'S BUFFER                  */
         BAL   @14,BLDBIND                                         0859
*   CALL BINDPARM;                  /* SET BIND PARAMETERS IN SIB FOR
*                                      USER EXIT             @YM08127*/
         BAL   @14,BINDPARM                                        0860
*   CALL BINDEXIT;                  /* EXECUTE USER-WRITTEN BIND EXIT
*                                      IF ONE HAS BEEN SPECIFIED     */
         BAL   @14,BINDEXIT                                        0861
*   CALL VALBIND;                   /* VALIDATE BIND PARAMETERS      */
         BAL   @14,VALBIND                                         0862
*   CALL BINDPARM;                  /* SET BIND PARAMETERS IN SIB  0863
*                                      FROM THE BIND PIU             */
         BAL   @14,BINDPARM                                        0863
*   CALL BINDOPTN;                  /* MOVE BIND DATA INTO IEDBNDPM
*                                      OPTION FIELD, IF SPECIFIED    */
         BAL   @14,BINDOPTN                                        0864
*   CALL SENDPIU;                   /* SEND BIND PIU TO THE SLU      */
         BAL   @14,SENDPIU                                         0865
*   END LOGON;                      /* RETURN TO CALLER              */
@EL00014 DS    0H                                                  0866
@EF00014 DS    0H                                                  0866
@ER00014 L     @14,@SA00014                                        0866
         BR    @14                                                 0866
         EJECT
*LUSPIU:                                                           0867
*   PROC OPTIONS(SAVE(R14));                                       0867
*                                                                  0867
LUSPIU   ST    @14,@SA00015                                        0867
*/********************************************************************/
*/*                                                                  */
*/*      L U S P I U   SUBROUTINE                                    */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE TPOSTS TO IEDLUS A BUFFER CONTAINING        */
*/*      A RESPONSE PIU.                                             */
*/*                                                                  */
*/********************************************************************/
*                                                                  0868
*   PRFQCBA=ADDR(SAVTLUSQ);         /* QCB ADDRESS                   */
         L     @14,AVTSAVTP(,RAVT)                                 0868
         LA    @14,SAVTLUSQ(,@14)                                  0868
         STCM  @14,7,PRFQCBA(RPRF)                                 0868
*   PRFPRI=PRISSPIU;                /* PRIORITY                      */
         MVI   PRFPRI(RPRF),X'E5'                                  0869
*   RPARM=RPRF;                     /* PIU'S BUFFER ADDRESS          */
         LR    RPARM,RPRF                                          0870
*   CALL DSPPOSTR;                  /* TPOST THE BUFFER              */
         LA    @15,DSPPOSTR(,RDISP)                                0871
         BALR  @14,@15                                             0871
*   END LUSPIU;                     /* RETURN TO CALLER              */
@EL00015 DS    0H                                                  0872
@EF00015 DS    0H                                                  0872
@ER00015 L     @14,@SA00015                                        0872
         BR    @14                                                 0872
         EJECT
*RQRRTN:                                                           0873
*   PROC OPTIONS(SAVE(R14));                                       0873
*                                                                  0873
RQRRTN   ST    @14,@SA00016                                        0873
*/********************************************************************/
*/*                                                                  */
*/*      R Q R R T N   SUBROUTINE                                    */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE PROCESSES AN 'RQR' REQUEST PIU RECEIVED     */
*/*      FROM THE SLU.                                               */
*/*                                                                  */
*/********************************************************************/
*                                                                  0874
*   IF SIBTSPRO=4 THEN              /* TS PROFILE = 4?               */
         CLI   SIBTSPRO(RSIB),4                                    0874
         BNE   @RF00874                                            0874
*     DO;                           /* YES, RQR IS A VALID REQUEST   */
*       SIBLGOFF=ON;                /* SET LOGOFF                    */
         OI    SIBLGOFF(RSIB),B'10000000'                          0876
*       IF QCBPLCBN=ON THEN         /* PLCB ASSIGNED?                */
         L     @14,QCBPTR                                          0877
         AL    @14,@CF02266                                        0877
         TM    QCBPLCBN-4(@14),B'10000000'                         0877
         BNO   @RF00877                                            0877
*         DO;                       /* YES                           */
*           IF TRMINPTP=ON THEN     /* INPUT PENDING?                */
         L     @14,TRMPTR                                          0879
         TM    TRMINPTP(@14),B'01000000'                           0879
         BNO   @RF00879                                            0879
*             DO;                   /* YES, WE CAN USE THE PLCB NOW  */
*               TRMINPTP=OFF;       /* TURN OFF INPUT PENDING        */
         NI    TRMINPTP(@14),B'10111111'                           0881
*               LCBQCBA=ADDR(SAVTLUSQ);/* TPOST THE PLCB TO          */
         L     @14,AVTSAVTP(,RAVT)                                 0882
         LA    @14,SAVTLUSQ(,@14)                                  0882
         STCM  @14,7,LCBQCBA(RLCB)                                 0882
*               LCBPRI=PRILNFRE;    /* ... IEDLUS TO                 */
         MVI   LCBPRI(RLCB),X'E0'                                  0883
*               RPARM=RLCB;         /* ... DRIVE LOGOFF              */
         LR    RPARM,RLCB                                          0884
*               CALL DSPPOSTR;      /* ... PROCESSING                */
         LA    @15,DSPPOSTR(,RDISP)                                0885
         BALR  @14,@15                                             0885
*             END;                                                 0886
*         END;                                                     0887
*       ELSE                        /* NO PLCB CURRENTLY ASSIGNED    */
*         DO;                                                      0888
         B     @RC00877                                            0888
@RF00877 DS    0H                                                  0889
*           IF QCBRCVRQ=OFF THEN    /* PLCB-REQST ELEMENT AVAILABLE? */
         L     @14,QCBPTR                                          0889
         LR    @10,@14                                             0889
         SL    @10,@CF00044                                        0889
         TM    QCBRCVRQ(@10),B'00010000'                           0889
         BNZ   @RF00889                                            0889
*             DO;                   /* YES                           */
*               QCBRCVRQ=ON;        /* SET PLCB-REQUESTED BIT        */
         OI    QCBRCVRQ(@10),B'00010000'                           0891
*               RPARM=QCBPTR;       /* REQUEST ELEMENT ADDRESS       */
         LR    RPARM,@14                                           0892
*               CALL IEDIAP01;      /* REQUEST A PLCB                */
         L     @10,AVTSAVTP(,RAVT)                                 0893
         L     @15,SAVTPREQ(,@10)                                  0893
         BALR  @14,@15                                             0893
*               IF R15>0 THEN       /* PLCB OBTAINED                 */
         LTR   R15,R15                                             0894
         BNP   @RF00894                                            0894
*                 DO;               /* YES                           */
*                   RLCB=R15;       /* GET PLCB ADDRESS              */
         LR    RLCB,R15                                            0896
*                   LCBQCBA=RLCB;   /* TPOST THE PLCB TO ITSELF      */
         STCM  RLCB,7,LCBQCBA(RLCB)                                0897
*                   LCBPRI=PRILNFRE;/* ... TO DRIVE THE              */
         MVI   LCBPRI(RLCB),X'E0'                                  0898
*                   RPARM=RLCB;     /* ... RECEIVE                   */
         LR    RPARM,RLCB                                          0899
*                   CALL DSPPOSTR;  /* ... SCHEDULER                 */
         LA    @15,DSPPOSTR(,RDISP)                                0900
         BALR  @14,@15                                             0900
*                 END;                                             0901
*             END;                                                 0902
@RF00894 DS    0H                                                  0903
*         END;                                                     0903
@RF00889 DS    0H                                                  0904
*       IEDSNSD=0;                  /* SEND A + FME RESPONSE         */
@RC00877 LA    @14,SENSE                                           0904
         SLR   @10,@10                                             0904
         STCM  @10,15,IEDSNSD(@14)                                 0904
*       CALL BLDRESP;               /* ... TO THE SLU                */
         BAL   @14,BLDRESP                                         0905
*     END;                                                         0906
         EJECT
*   ELSE                            /* TS PROFILE NOT 4              */
*     DO;                           /* RQR REQUEST IS NOT VALID      */
         B     @RC00874                                            0907
@RF00874 DS    0H                                                  0908
*       IEDSNSD=INVALSNS;           /* SENSE VALUE                   */
         LA    @14,SENSE                                           0908
         MVC   IEDSNSD(4,@14),INVALSNS                             0908
*       CALL BLDRESP;               /* SEND ERROR RESPONSE           */
         BAL   @14,BLDRESP                                         0909
*     END;                                                         0910
*   END RQRRTN;                     /* RETURN TO CALLER              */
@EL00016 DS    0H                                                  0911
@EF00016 DS    0H                                                  0911
@ER00016 L     @14,@SA00016                                        0911
         BR    @14                                                 0911
         EJECT
*SDTRSP:                                                           0912
*   PROC OPTIONS(SAVE(R14));                                       0912
*                                                                  0912
SDTRSP   ST    @14,@SA00017                                        0912
*/********************************************************************/
*/*                                                                  */
*/*      S D T R S P   SUBROUTINE                                    */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE PROCESSES A SDT (START-DATA-TRAFFIC)        */
*/*      RESPONSE PIU RECEIVED FROM THE SLU.                         */
*/*                                                                  */
*/********************************************************************/
*                                                                  0913
*   IF SIBDSTAT=SIBDAPND THEN       /* DATA TRAFFIC STATE =        0913
*                                      'ACTIVE-PENDING'?             */
         TM    SIBDSTAT(RSIB),B'00000001'                          0913
         BNO   @RF00913                                            0913
         TM    SIBDSTAT(RSIB),B'00000010'                          0913
         BNZ   @RF00913                                            0913
*     DO;                           /* YES, PROCESS THE RESPONSE     */
*       IF TRHSDI=OFF THEN          /* GOOD RESPONSE?                */
         TM    TRHSDI+10(RPIU),B'00000100'                         0915
         BNZ   @RF00915                                            0915
*         SIBDSTAT=SIBDACTV;        /* YES, SET DATA TRAFFIC STATE =
*                                      'ACTIVE'                      */
         OI    SIBDSTAT(RSIB),B'00000011'                          0916
*       ELSE                                                       0917
*         SIBDSTAT=SIBDRSET;        /* NO, SET DATA TRAFFIC STATE =
*                                      'RESET'                       */
         B     @RC00915                                            0917
@RF00915 NI    SIBDSTAT(RSIB),B'11111100'                          0917
*       CALL LUSPIU;                /* TPOST THE PIU'S BFR TO IEDLUS */
@RC00915 BAL   @14,LUSPIU                                          0918
*     END;                                                         0919
*   ELSE                            /* UNEXPECTED RESPONSE           */
*     DO;                           /* THROW IT AWAY                 */
         B     @RC00913                                            0920
@RF00913 DS    0H                                                  0921
*       RPARM=RPRF;                 /* PIU'S BUFFER ADDRESS          */
         LR    RPARM,RPRF                                          0921
*       CALL FREEBUF;               /* FREE THE BUFFER               */
         BAL   @14,FREEBUF                                         0922
*     END;                                                         0923
*   END SDTRSP;                     /* RETURN TO CALLER              */
@EL00017 DS    0H                                                  0924
@EF00017 DS    0H                                                  0924
@ER00017 L     @14,@SA00017                                        0924
         BR    @14                                                 0924
         EJECT
*SENDPIU:                                                          0925
*   PROC OPTIONS(SAVE(R14));                                       0925
*                                                                  0925
SENDPIU  ST    @14,@SA00018                                        0925
*/********************************************************************/
*/*                                                                  */
*/*      S E N D P I U   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE SENDS A PIU TO THE SECONDARY LU BY          */
*/*      TPOSTING IT TO IEDDFOUT.                                    */
*/*                                                                  */
*/********************************************************************/
*                                                                  0926
*   IEDPF2=''B;                     /* INDICATE OAF & DAF    @YM05723*/
         LR    @14,RPRF                                            0926
         SL    @14,@CF00044                                        0926
         XC    IEDPF2(8,@14),IEDPF2(@14)                           0926
*   PRF2TNTI=ON;                    /* ... IN TNT-INDEX FORM @YM05723*/
         OI    PRF2TNTI(@14),B'10000000'                           0927
*   PRFQCBA=SAVTDFCO;               /* QCB ADDR FOR IEDDFOUT         */
         L     @14,AVTSAVTP(,RAVT)                                 0928
         MVC   PRFQCBA(3,RPRF),SAVTDFCO+1(@14)                     0928
*   PRFPRI=PRIOUTBD;                /* PRIORITY                      */
         MVI   PRFPRI(RPRF),X'E4'                                  0929
*   RPARM=RPRF;                     /* ELEMENT ADDRESS FOR TPOST     */
         LR    RPARM,RPRF                                          0930
*   CALL DSPPOSTR;                  /* TPOST THE PIU'S BUFFER        */
         LA    @15,DSPPOSTR(,RDISP)                                0931
         BALR  @14,@15                                             0931
*   END SENDPIU;                    /* RETURN TO CALLER              */
@EL00018 DS    0H                                                  0932
@EF00018 DS    0H                                                  0932
@ER00018 L     @14,@SA00018                                        0932
         BR    @14                                                 0932
         EJECT
*UNBIND:                                                           0933
*   PROC OPTIONS(SAVE(R14));                                       0933
*                                                                  0933
UNBIND   ST    @14,@SA00019                                        0933
*/********************************************************************/
*/*                                                                  */
*/*      U N B I N D   SUBROUTINE                                    */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE BUILDS AND SENDS AN UNBIND PIU TO THE       */
*/*      SECONDARY LU.                                               */
*/*                                                                  */
*/********************************************************************/
*                                                                  0934
*   SIBSSTAT=SIBSRPND;              /* SESSION STATE = 'RESET PENDNG'*/
         NI    SIBSSTAT(RSIB),B'11101011'                          0934
         OI    SIBSSTAT(RSIB),B'00001000'                          0934
*   RPARM=CD1UBIND;                 /* UNBIND REQUEST CODE           */
         LA    RPARM,50                                            0935
*   CALL BLDREQST;                  /* BUILD UNBIND REQUEST PIU      */
         BAL   @14,BLDREQST                                        0936
*   CALL SENDPIU;                   /* SEND UNBIND TO THE SLU        */
         BAL   @14,SENDPIU                                         0937
*   END UNBIND;                     /* RETURN TO CALLER              */
@EL00019 DS    0H                                                  0938
@EF00019 DS    0H                                                  0938
@ER00019 L     @14,@SA00019                                        0938
         BR    @14                                                 0938
         EJECT
*UNBNDRSP:                                                         0939
*   PROC OPTIONS(SAVE(R14));                                       0939
*                                                                  0939
UNBNDRSP ST    @14,@SA00020                                        0939
*/********************************************************************/
*/*                                                                  */
*/*      U N B N D R S P   SUBROUTINE                                */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE PROCESSES AN 'UNBIND' RESPONSE PIU          */
*/*      RECEIVED FROM THE SLU.                                      */
*/*                                                                  */
*/********************************************************************/
*                                                                  0940
*   IF SIBSSTAT=SIBSRPND THEN       /* SESSION STATE = 'RESET      0940
*                                      PENDING'?                     */
         TM    SIBSSTAT(RSIB),B'00001000'                          0940
         BNO   @RF00940                                            0940
         TM    SIBSSTAT(RSIB),B'00010100'                          0940
         BNZ   @RF00940                                            0940
*     DO;                           /* YES, PROCESS THE RESPONSE     */
*       SIBSSTAT=SIBSRSET;          /* SET SESSION STATE = 'RESET'   */
         NI    SIBSSTAT(RSIB),B'11101111'                          0942
         OI    SIBSSTAT(RSIB),B'00001100'                          0942
*       CALL LUSPIU;                /* SEND THE RESPONSE BUFFER TO 0943
*                                      IEDLUS                        */
         BAL   @14,LUSPIU                                          0943
*     END;                                                         0944
*   ELSE                            /* UNEXPECTED RESPONSE           */
*     DO;                           /* THROW IT AWAY                 */
         B     @RC00940                                            0945
@RF00940 DS    0H                                                  0946
*       RPARM=RPRF;                 /* BUFFER ADDRESS                */
         LR    RPARM,RPRF                                          0946
*       CALL FREEBUF;               /* FREE THE BUFFER               */
         BAL   @14,FREEBUF                                         0947
*     END;                                                         0948
*   END UNBNDRSP;                   /* RETURN TO CALLER              */
@EL00020 DS    0H                                                  0949
@EF00020 DS    0H                                                  0949
@ER00020 L     @14,@SA00020                                        0949
         BR    @14                                                 0949
         EJECT
*VALBIND:                                                          0950
*   PROC OPTIONS(SAVE(R14));        /*                       @ZM46792*/
VALBIND  ST    @14,@SA00021                                        0950
*/********************************************************************/
*/*                                                                  */
*/*      V A L B I N D   SUBROUTINE                                  */
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/*      THIS SUBROUTINE GETS THE BIND PIU AFTER THE USER BIND       */
*/*      EXIT HAS BEED CALLED.  THOSE MODES OF OPERATION THAT        */
*/*      ARE CONSTANT IN TCAM AND NOT SUBJECT TO USER CHOICE         */
*/*      ARE SET IN THE BIND PARAMETERS, OVERLAYING ANY              */
*/*      CONFLICTING VALUES THAT THE USER MIGHT HAVE SET.            */
*/*                                                                  */
*/*      THE PLUNAME IS RESTORED WITH THE CORRECT LENGTH   @ZM46792  */
*/*      IN THE BIND IMAGE IN THE BUFFER AND THE TH DATA   @ZM46792  */
*/*      ADJUSTED IF NECESSARY. THE USERDATA LENGTH IS     @ZM46792  */
*/*      ALSO ADJUSTED IF CHANGED IN THE EXIT AND THE TH   @ZM46792  */
*/*      DATA COUNT CHANGED TO REFLECT THE CHANGED LENGTH  @ZM46792  */
*/********************************************************************/
*                                                                  0951
*   BNDPRQM=OFF;                    /* TCAM ALWAYS RUNS IN IMMEDIATE
*                                      REQUEST MODE                  */
*   BNDPDEF=ON;                     /* TCAM ALWAYS REQUESTS A        */
*   BNDPEXC=OFF;                    /* ... DEFINITE RESPONSE         */
         OI    BNDPDEF+13(RPIU),B'00100000'                        0953
         NI    BNDPRQM+13(RPIU),B'10101111'                        0953
*   NAMCOUNT=0;                     /* ZERO PLU NAME COUNT   @ZM46792*/
         MVI   NAMCOUNT,X'00'                                      0954
*   NAMEADDR=ADDR(NAMEPLU);         /* IST CHAR ADDR         @ZM46792*/
         LA    @14,NAMEPLU                                         0955
         ST    @14,NAMEADDR                                        0955
*   NMSWITCH=OFF;                   /* INIT SWITCH           @ZM46792*/
         NI    NMSWITCH,B'11011111'                                0956
*   DO WHILE NMSWITCH=OFF&NAMCOUNT<MAXNAME;/*                @ZM46792*/
         B     @DE00957                                            0957
@DL00957 DS    0H                                                  0958
*     IF NAMEADDR->CHAR1=' ' THEN   /* BLANK FOUND ?         @ZM46792*/
         L     @14,NAMEADDR                                        0958
         CLI   CHAR1(@14),C' '                                     0958
         BNE   @RF00958                                            0958
*       NMSWITCH=ON;                /* YES SET SWITCH TO EXIT      0959
*                                                            @ZM46792*/
         OI    NMSWITCH,B'00100000'                                0959
*     ELSE                          /* NO                    @ZM46792*/
*       DO;                         /*                       @ZM46792*/
         B     @RC00958                                            0960
@RF00958 DS    0H                                                  0961
*         NAMEADDR=NAMEADDR+1;      /* BUMP TO NEXT CHAR     @ZM46792*/
         LA    @14,1                                               0961
         L     @10,NAMEADDR                                        0961
         ALR   @10,@14                                             0961
         ST    @10,NAMEADDR                                        0961
*         NAMCOUNT=NAMCOUNT+1;      /* INCREASE COUNT OF CHARS     0962
*                                                            @ZM46792*/
         SLR   @10,@10                                             0962
         IC    @10,NAMCOUNT                                        0962
         ALR   @14,@10                                             0962
         STC   @14,NAMCOUNT                                        0962
*       END;                        /*                       @ZM46792*/
*   END;                            /*                       @ZM46792*/
@RC00958 DS    0H                                                  0964
@DE00957 TM    NMSWITCH,B'00100000'                                0964
         BNZ   @DC00957                                            0964
         CLI   NAMCOUNT,8                                          0964
         BL    @DL00957                                            0964
@DC00957 DS    0H                                                  0965
*   IF NAMCOUNT<MAXNAME THEN        /* IS PLU NAME LESS THEN 8     0965
*                                                            @ZM46792*/
         CLI   NAMCOUNT,8                                          0965
         BNL   @RF00965                                            0965
*     DO;                           /* YES                   @ZM46792*/
*       NEWCOUNT=MAXNAME-NAMCOUNT;  /* GET DIFFERENCE        @ZM46792*/
         LA    @14,8                                               0967
         SLR   @10,@10                                             0967
         IC    @10,NAMCOUNT                                        0967
         SLR   @14,@10                                             0967
         STC   @14,NEWCOUNT                                        0967
*       TTHDCF=TTHDCF-NEWCOUNT;     /* ADJUST DATA COUNT     @ZM46792*/
         LCR   @14,@14                                             0968
         SLR   @10,@10                                             0968
         ICM   @10,3,TTHDCF(RPIU)                                  0968
         ALR   @14,@10                                             0968
         STCM  @14,3,TTHDCF(RPIU)                                  0968
*     END;                          /*                       @ZM46792*/
*   PLMVTU=RPRF;                    /* POINT TO TARGET UNIT FOR MOVE
*                                      BUFFER                @ZM46792*/
@RF00965 LA    @14,PLMVPARM                                        0970
         ST    RPRF,PLMVTU(,@14)                                   0970
*   PLMVTD=ADDR(PIURU);             /* POINT TO TARG DATA BEGIN OF 0971
*                                      BIND                  @ZM46792*/
         LA    @10,PIURU(,RPIU)                                    0971
         ST    @10,PLMVTD(,@14)                                    0971
*   PLMVSU=RPRF;                    /* SOURCE SAME AS TARGET FOR SKIP
*                                                            @ZM46792*/
         ST    RPRF,PLMVSU(,@14)                                   0972
*   PLMVSD=ADDR(PIURU);             /* SOURCE SAME AS TARGET @ZM46792*/
         ST    @10,PLMVSD(,@14)                                    0973
*   PLMVLNTH=BNDNAMPL;              /* TO PLU NAME FIELD     @ZM46792*/
         SLR   @10,@10                                             0974
         IC    @10,BNDNAMPL                                        0974
         STH   @10,PLMVLNTH(,@14)                                  0974
*   PLMVFLG1=0;                     /* INIT FLAGS            @ZM46792*/
         MVI   PLMVFLG1(@14),X'00'                                 0975
*   RPARM=ADDR(PLMVPARM);           /* POINT TO MOVEPARM LIST      0976
*                                                            @ZM46792*/
         LR    RPARM,@14                                           0976
*   CALL IEDMVBFR;                  /* SKIP TO PLUNAME IN BUFFER   0977
*                                                            @ZM46792*/
         L     @10,AVTSAVTP(,RAVT)                                 0977
         L     @15,SAVTMVBF(,@10)                                  0977
         BALR  @14,@15                                             0977
*   PLMVSU=ADDR(NAMEFLD);           /* POINT SOURCE TO SAVED PLUNAME
*                                                            @ZM46792*/
         LA    @14,PLMVPARM                                        0978
         LA    @10,NAMEFLD                                         0978
         ST    @10,PLMVSU(,@14)                                    0978
*   PLMVSD=ADDR(NAMEFLD);           /* POINT SOURCE TO SAVED PLUNAME
*                                                            @ZM46792*/
         ST    @10,PLMVSD(,@14)                                    0979
*   PLMVLNTH=NAMCOUNT+LENGTH(NAMCOUNT);/* REAL LNGTH OF PLU  @ZM46792*/
         LA    @10,1                                               0980
         SLR   @07,@07                                             0980
         IC    @07,NAMCOUNT                                        0980
         ALR   @10,@07                                             0980
         STH   @10,PLMVLNTH(,@14)                                  0980
*   PLMVFLG1=0;                     /* INIT FLAG FIELD       @ZM46792*/
         MVI   PLMVFLG1(@14),X'00'                                 0981
*   PLMVSCTG=ON;                    /* SET SOURCE AS CONTIGUOUS    0982
*                                                            @ZM46792*/
         OI    PLMVSCTG(@14),B'01000000'                           0982
*   RPARM=ADDR(PLMVPARM);           /* POINT TO PARM LIST FOR MOVE 0983
*                                                            @ZM46792*/
         LR    RPARM,@14                                           0983
*   CALL IEDMVBFR;                  /* MOVE IN SAVED PLU NAME      0984
*                                                            @ZM46792*/
         L     @10,AVTSAVTP(,RAVT)                                 0984
         L     @15,SAVTMVBF(,@10)                                  0984
         BALR  @14,@15                                             0984
*   PLMVSD=PLMVTD;                  /* POINT AFTER PLUNAME IN BUFF 0985
*                                                            @ZM46792*/
         LA    @14,PLMVPARM                                        0985
         L     @10,PLMVTD(,@14)                                    0985
         ST    @10,PLMVSD(,@14)                                    0985
*   PLMVSU=PLMVTU;                  /* POINT AFTER PLUNAME IN BUFFER
*                                                            @ZM46792*/
         L     @07,PLMVTU(,@14)                                    0986
         ST    @07,PLMVSU(,@14)                                    0986
*   IF NAMCOUNT<MAXNAME THEN        /* IS PLUNAME LESS THEN 8 ?    0987
*                                                            @ZM46792*/
         CLI   NAMCOUNT,8                                          0987
         BNL   @RF00987                                            0987
*     DO;                           /* YES                   @ZM46792*/
*       SAVEDATA=PLMVTD;            /* SAVE DATA ADDR AFTER PLUNAME
*                                                            @ZM46792*/
         ST    @10,SAVEDATA                                        0989
*       SAVEUNIT=PLMVTU;            /* SAVE UNIT ADDR AFTER PLUNAME
*                                                            @ZM46792*/
         ST    @07,SAVEUNIT                                        0990
*       PLMVFLG1=0;                 /* INIT FLAG FIELD       @ZM46792*/
         MVI   PLMVFLG1(@14),X'00'                                 0991
*       PLMVLNTH=MAXNAME-NAMCOUNT;  /* 8 - REAL LENGTH       @ZM46792*/
         LA    @10,8                                               0992
         SLR   @07,@07                                             0992
         IC    @07,NAMCOUNT                                        0992
         SLR   @10,@07                                             0992
         STH   @10,PLMVLNTH(,@14)                                  0992
*       RPARM=ADDR(PLMVPARM);       /* POIN TO PARM LIST     @ZM46792*/
         LR    RPARM,@14                                           0993
*       CALL IEDMVBFR;              /* SKIP OVER REST OR PLUNAME   0994
*                                                            @ZM46792*/
         L     @10,AVTSAVTP(,RAVT)                                 0994
         L     @15,SAVTMVBF(,@10)                                  0994
         BALR  @14,@15                                             0994
*       PLMVTD=SAVEDATA;            /* RESTORE TARGET        @ZM46792*/
         LA    @14,PLMVPARM                                        0995
         L     @10,SAVEDATA                                        0995
         ST    @10,PLMVTD(,@14)                                    0995
*       PLMVTU=SAVEUNIT;            /* RESTORE TARGET        @ZM46792*/
         L     @10,SAVEUNIT                                        0996
         ST    @10,PLMVTU(,@14)                                    0996
*     END;                          /*                       @ZM46792*/
*   ELSE                                                           0998
*     ;                             /*                       @ZM46792*/
@RF00987 DS    0H                                                  0999
*   IF LASTLNTH^=(PLMVSD->NEWUSLN)+LENGTH(NEWUSLN) THEN/* OLD USER 0999
*                                      LENGTH DIFFERENT FROM NEW   0999
*                                                            @ZM47842*/
         L     @14,LASTLNTH                                        0999
         LA    @10,PLMVPARM                                        0999
         L     @10,PLMVSD(,@10)                                    0999
         SLR   @07,@07                                             0999
         IC    @07,NEWUSLN(,@10)                                   0999
         LA    @10,1                                               0999
         ALR   @10,@07                                             0999
         CR    @14,@10                                             0999
         BE    @RF00999                                            0999
*     DO;                           /* YES                   @ZM46792*/
*       NEWCOUNT=LASTLNTH-(PLMVSD->NEWUSLN)-LENGTH(NEWUSLN);/*     1001
*                                                            @ZM46792*/
         SLR   @14,@07                                             1001
         BCTR  @14,0                                               1001
         STC   @14,NEWCOUNT                                        1001
*       TTHDCF=TTHDCF-NEWCOUNT;     /* ADJUST TH DATA COUNT  @ZM46792*/
         LCR   @14,@14                                             1002
         SLR   @10,@10                                             1002
         ICM   @10,3,TTHDCF(RPIU)                                  1002
         ALR   @14,@10                                             1002
         STCM  @14,3,TTHDCF(RPIU)                                  1002
*     END;                          /*                       @ZM46792*/
*   ELSE                                                           1004
*     ;                             /* SAME LENGTH           @ZM46792*/
@RF00999 DS    0H                                                  1005
*   PLMVLNTH=PLMVSD->NEWUSLN+LENGTH(NEWUSLN);/* USER LENGTH  @ZM46792*/
         LA    @14,PLMVPARM                                        1005
         L     @10,PLMVSD(,@14)                                    1005
         LA    @07,1                                               1005
         SLR   @03,@03                                             1005
         IC    @03,NEWUSLN(,@10)                                   1005
         ALR   @07,@03                                             1005
         STH   @07,PLMVLNTH(,@14)                                  1005
*   PLMVFLG1=0;                     /* INIT FLAGS            @ZM46792*/
         MVI   PLMVFLG1(@14),X'00'                                 1006
*   PLMVUNCF=ON;                    /* ASK FOR UNCHAIN OF EXCESS   1007
*                                      UNITS                 @ZM46792*/
         OI    PLMVUNCF(@14),B'10000000'                           1007
*   RPARM=ADDR(PLMVPARM);           /* POINT TO MOVE PARM LIST     1008
*                                                            @ZM46792*/
         LR    RPARM,@14                                           1008
*   CALL IEDMVBFR;                  /* MOVE OR SKIP NEW USER DATA  1009
*                                                            @ZM46792*/
         L     @10,AVTSAVTP(,RAVT)                                 1009
         L     @15,SAVTMVBF(,@10)                                  1009
         BALR  @14,@15                                             1009
*   IF PLMVUNCA>0 THEN              /* ARE ANY UNITS FREED UP      1010
*                                                            @ZM46792*/
         LA    @14,PLMVPARM                                        1010
         L     @14,PLMVUNCA(,@14)                                  1010
         LTR   @14,@14                                             1010
         BNP   @RF01010                                            1010
*     DO;                           /* YES                   @ZM46792*/
*       RPARM=PLMVUNCA;             /* POINT TO FREE CHAIN   @ZM46792*/
         LR    RPARM,@14                                           1012
*       CALL FREEBUF;               /* FREE EXCESS UNITS             */
         BAL   @14,FREEBUF                                         1013
*     END;                          /*                       @ZM46792*/
*   ELSE                                                           1015
*     ;                             /* NO EXCESS UNITS       @ZM46792*/
@RF01010 DS    0H                                                  1016
*   END VALBIND;                    /* RETURN TO CALLER              */
@EL00021 DS    0H                                                  1016
@EF00021 DS    0H                                                  1016
@ER00021 L     @14,@SA00021                                        1016
         BR    @14                                                 1016
         EJECT
*   END IEDSCLU                                                    1017
*                                                                  1017
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (TAVTD   )                                       */
*/*%INCLUDE SYSLIB  (TBNDD   )                                       */
*/*%INCLUDE SYSLIB  (TCD1D   )                                       */
*/*%INCLUDE SYSLIB  (TDISPD  )                                       */
*/*%INCLUDE SYSLIB  (TLCBD   )                                       */
*/*%INCLUDE SYSLIB  (TLGBD   )                                       */
*/*%INCLUDE SYSLIB  (TMHTABD )                                       */
*/*%INCLUDE SYSLIB  (TPIUD   )                                       */
*/*%INCLUDE SYSLIB  (TPLMVD  )                                       */
*/*%INCLUDE SYSLIB  (TPRFD   )                                       */
*/*%INCLUDE SYSLIB  (TPRIOR  )                                       */
*/*%INCLUDE SYSLIB  (TQCBD   )                                       */
*/*%INCLUDE SYSLIB  (TRECBD  )                                       */
*/*%INCLUDE SYSLIB  (TSIBD   )                                       */
*/*%INCLUDE SYSLIB  (TSNSD   )                                       */
*/*%INCLUDE SYSLIB  (TSTMHND )                                       */
*/*%INCLUDE SYSLIB  (TRHD    )                                       */
*/*%INCLUDE SYSLIB  (TTHD    )                                       */
*/*%INCLUDE SYSLIB  (TTNTD   )                                       */
*/*%INCLUDE SYSLIB  (TTRMD   )                                       */
*/*%INCLUDE SYSLIB  (TXCIND  )                                       */
*                                                                  1017
*       ;                                                          1017
@DATA    DS    0H
@CH00156 DC    H'5'
@SM02281 MVC   NAMEPLU(0),TNTMHNME(@09)
         DS    0F
@SA00010 DS    1F
@SA00013 DS    1F
@SA00014 DS    1F
@SA00005 DS    1F
@SA00017 DS    1F
@SA00009 DS    1F
@SA00020 DS    1F
@SA00011 DS    1F
@SA00016 DS    1F
@SA00008 DS    1F
@SA00002 DS    1F
@SA00003 DS    1F
@SA00015 DS    1F
@SA00018 DS    1F
@SA00006 DS    1F
@SA00019 DS    1F
@SA00021 DS    1F
         DS    0F
@CF00652 DC    F'0'
@CF00059 DC    F'1'
@CF00330 DC    F'4'
@CH00330 EQU   @CF00330+2
@CF00044 DC    F'8'
@CH00044 EQU   @CF00044+2
@CF00238 DC    F'12'
@CH00238 EQU   @CF00238+2
@CF01890 DC    F'14'
@CF02260 DC    F'82'
@CF02266 DC    F'-4'
@CF02141 DC    XL4'80000000'
@CF02265 DC    XL4'0000FFFF'
@CF00701 DC    XL4'32'
         DS    0D
QCBPTR   DC    A(0)
MHPTR    DC    A(0)
TRMPTR   DC    A(0)
DATAPTR  DC    A(0)
NAMEADDR DC    A(0)
LASTDATA DC    A(0)
LASTLNTH DC    A(0)
LASTUNIT DC    A(0)
SAVEDATA DC    A(0)
SAVEUNIT DC    A(0)
WKADDR   DC    A(0)
TNTPLU   DC    AL2(0)
TNTSLU   DC    AL2(0)
BNDNOUSR DC    AL1(BNDUDFL-IEDBNDD)
BNDNAMPL DC    AL1(BNDPLUNL-IEDBNDD)
NEWCOUNT DC    AL1(0)
@TS00001 DS    CL2
@CC02132 DC    C'IEDBNDPM'
@CB02136 DC    X'6B8000'
PLMVPARM DS    CL24
SENSE    DS    CL4
INVALSNS DS    CL4
         ORG   INVALSNS
@NM00223 DC    X'10'
@NM00224 DC    X'03'
@NM00225 DC    XL2'0'
         ORG   INVALSNS+4
NAMEFLD  DS    CL9
         ORG   NAMEFLD
NAMCOUNT DC    AL1(8)
NAMEPLU  DS    CL8
         ORG   NAMEFLD+9
SWITCHES DS    CL1
         ORG   SWITCHES
REENTRSW DS    BL1
BYPASSSW EQU   SWITCHES+0
NMSWITCH EQU   SWITCHES+0
@NM00226 EQU   SWITCHES+0
         ORG   SWITCHES+1
         DS    CL2
LOCALSAV DS    CL12
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
WKPARM   EQU   @03
WKENTLEN EQU   @03
RDISP    EQU   @11
LCBXPTR  EQU   @05
RAVT     EQU   @13
RLCB     EQU   @04
RPARM    EQU   @01
RPIU     EQU   @02
RPRF     EQU   @06
RSIB     EQU   @05
R0       EQU   @00
REG02    EQU   @02
REG03    EQU   @03
RSTCB    EQU   @03
REG04    EQU   @04
RQCB     EQU   @07
RBASE    EQU   @12
R14      EQU   @14
R15      EQU   @15
IEDQAVTD EQU   0
AVTSAVEX EQU   IEDQAVTD+216
@NM00003 EQU   IEDQAVTD+316
AVTCKFLG EQU   @NM00003
AVTBASE  EQU   IEDQAVTD+340
AVTPKF   EQU   AVTBASE
AVTRNMPT EQU   IEDQAVTD+352
AVTOSECB EQU   IEDQAVTD+420
AVTECB1  EQU   AVTOSECB
AVTHG02  EQU   IEDQAVTD+456
AVTDISP  EQU   IEDQAVTD+480
AVTHD    EQU   IEDQAVTD+484
AVTSCOPT EQU   AVTHD
AVTSAVTP EQU   IEDQAVTD+540
AVTSAVTF EQU   AVTSAVTP
AVTCKPEL EQU   IEDQAVTD+580
AVTCKRMV EQU   AVTCKPEL
AVTCKELF EQU   IEDQAVTD+608
AVTCKBYT EQU   IEDQAVTD+619
AVTHG01  EQU   IEDQAVTD+620
AVTCKLNK EQU   IEDQAVTD+624
AVTCRELE EQU   IEDQAVTD+636
AVTCCELE EQU   AVTCRELE
AVTCLRHI EQU   IEDQAVTD+644
AVTADBUF EQU   IEDQAVTD+648
AVTSYSER EQU   IEDQAVTD+656
AVTBFRTB EQU   IEDQAVTD+720
AVTCKPQB EQU   IEDQAVTD+732
AVTCKPTB EQU   AVTCKPQB
AVTCKPEC EQU   AVTCKPQB+4
AVTCKPCC EQU   AVTCKPEC
AVTOPCQB EQU   IEDQAVTD+744
AVTOPCOB EQU   AVTOPCQB
AVTOPCEC EQU   AVTOPCQB+4
AVTOPCCC EQU   AVTOPCEC
AVTOLTQB EQU   IEDQAVTD+756
AVTCWFL1 EQU   IEDQAVTD+852
AVTCWFL2 EQU   IEDQAVTD+853
AVTSUBT  EQU   IEDQAVTD+876
AVTIOTR  EQU   IEDQAVTD+877
AVTBIT1  EQU   IEDQAVTD+978
AVTBIT2  EQU   IEDQAVTD+979
AVTBIT3  EQU   IEDQAVTD+980
AVTOPTN  EQU   IEDQAVTD+984
AVTBIT4  EQU   IEDQAVTD+1064
@NM00085 EQU   IEDQAVTD+1160
IEDQAPTR EQU   0
IEDNSVTD EQU   0
SAVTDIAG EQU   IEDNSVTD
SAVTDIAF EQU   SAVTDIAG
SAVTPREQ EQU   IEDNSVTD+16
SAVTLUSQ EQU   IEDNSVTD+88
SAVTMVBF EQU   IEDNSVTD+160
SAVTDFCO EQU   IEDNSVTD+200
SAVTMHTB EQU   IEDNSVTD+216
SAVTTCPU EQU   IEDNSVTD+238
SAVTMHDX EQU   IEDNSVTD+268
SAVTZELM EQU   IEDNSVTD+270
SAVTRDRV EQU   IEDNSVTD+284
SAVTCKQB EQU   IEDNSVTD+300
SAVTCKTB EQU   SAVTCKQB
SAVTCKEC EQU   SAVTCKQB+4
SAVTCKCC EQU   SAVTCKEC
IEDBNDD  EQU   0
BNDFORMT EQU   IEDBNDD+1
BNDFMPRF EQU   IEDBNDD+2
BNDTSPRF EQU   IEDBNDD+3
BNDPRIM  EQU   IEDBNDD+4
BNDPCHN  EQU   BNDPRIM
BNDPRQM  EQU   BNDPRIM
BNDPDEF  EQU   BNDPRIM
BNDPEXC  EQU   BNDPRIM
BNDPCMP  EQU   BNDPRIM
BNDPEBI  EQU   BNDPRIM
BNDSECD  EQU   IEDBNDD+5
BNDSCHN  EQU   BNDSECD
BNDSRQM  EQU   BNDSECD
BNDSDEF  EQU   BNDSECD
BNDSEXC  EQU   BNDSECD
BNDSCMP  EQU   BNDSECD
BNDSEBI  EQU   BNDSECD
BNDCOMM1 EQU   IEDBNDD+6
BNDFMUSE EQU   BNDCOMM1
BNDBRACK EQU   BNDCOMM1
BNDBTERM EQU   BNDCOMM1
BNDALT   EQU   BNDCOMM1
BNDCOMM2 EQU   IEDBNDD+7
BNDFMODE EQU   BNDCOMM2
BNDRECOV EQU   BNDCOMM2
BNDSPKR  EQU   BNDCOMM2
BNDCRES  EQU   BNDCOMM2
BNDSMSRU EQU   IEDBNDD+10
BNDPMSRU EQU   IEDBNDD+11
BNDLUPFL EQU   IEDBNDD+14
BNDPSCH  EQU   IEDBNDD+15
BNDPLUNL EQU   IEDBNDD+27
BNDUDFL  EQU   IEDBNDD+36
RBND     EQU   0
IEDQDISP EQU   0
DSPDISP  EQU   4
DSPBYPAS EQU   20
DSPPOSTR EQU   28
IEDQLCB  EQU   0
LCBRCB   EQU   IEDQLCB
LCBQCBA  EQU   LCBRCB+1
LCBPRI   EQU   LCBRCB+4
LCBTSOB  EQU   IEDQLCB+19
LCBCHAIN EQU   IEDQLCB+20
LCBSCRNN EQU   LCBCHAIN
LCBTETEN EQU   LCBCHAIN
LCBINSRC EQU   IEDQLCB+21
LCBLKMDE EQU   LCBINSRC+2
LCBNTXT  EQU   IEDQLCB+24
LCBSTAT4 EQU   LCBNTXT
LCBPHASE EQU   LCBSTAT4
LCBSCBDA EQU   IEDQLCB+25
LCBMHA   EQU   IEDQLCB+29
LCBFLAG1 EQU   IEDQLCB+32
LCBIOBSN EQU   IEDQLCB+33
LCBSNS   EQU   LCBIOBSN+1
LCBSENS0 EQU   LCBSNS
LCBLOSDT EQU   LCBSENS0
LCBTMOUT EQU   LCBSENS0
LCBFLAG3 EQU   LCBIOBSN+7
LCBCSW   EQU   LCBIOBSN+8
LCBCSWST EQU   LCBCSW+3
LCBCSWUS EQU   LCBCSWST
LCBCSWCS EQU   LCBCSWST+1
LCBSIOCC EQU   LCBIOBSN+15
LCBSTART EQU   LCBIOBSN+16
LCBDCBPT EQU   IEDQLCB+52
LCBRCQCB EQU   IEDQLCB+56
LCBRESTR EQU   LCBRCQCB
LCBTHSQ  EQU   IEDQLCB+60
LCBINCAM EQU   LCBTHSQ
LCBERRCT EQU   IEDQLCB+62
LCBLSPCI EQU   IEDQLCB+65
LCBRCBFR EQU   LCBLSPCI
LCBSTATE EQU   IEDQLCB+70
LCBSTAT1 EQU   LCBSTATE
LCBSTAT2 EQU   LCBSTATE+1
LCBBEOTN EQU   LCBSTAT2
LCBSYNC  EQU   LCBSTAT2
LCBDIAL  EQU   LCBSTAT2
LCBTSTSW EQU   IEDQLCB+72
LCBERB   EQU   IEDQLCB+76
LCBERBST EQU   IEDQLCB+84
LCBDLNKN EQU   LCBERBST
LCBERBCH EQU   IEDQLCB+85
LCBERBCT EQU   IEDQLCB+88
LCBRBCT2 EQU   LCBERBCT+1
LCBTTCIN EQU   IEDQLCB+90
LCBMSGFM EQU   IEDQLCB+92
LCBOBRCH EQU   IEDQLCB+96
LCBINVPT EQU   LCBOBRCH+1
LCBBFRW  EQU   LCBINVPT
LCBTPCD  EQU   IEDQLCB+100
LCBSTAT5 EQU   LCBTPCD
LCBBFRSV EQU   LCBTPCD+1
LCBSTAT6 EQU   LCBTPCD+4
LCBWAITC EQU   LCBTPCD+5
LCBRSPSV EQU   LCBTPCD+8
LCBSAVSN EQU   IEDQLCB+112
LCBERCCW EQU   IEDQLCB+120
LCBCPA   EQU   IEDQLCB+144
LCBCCW5  EQU   LCBCPA+32
LCBATTEL EQU   LCBCCW5
LCBQEBPL EQU   LCBATTEL
IEDQLPTR EQU   0
IEDQLCBX EQU   0
LCBXCON  EQU   IEDQLCBX
LCBXFLAG EQU   LCBXCON
LCBXDCT  EQU   LCBXCON+1
LCBXRADR EQU   LCBXCON+4
IEDNLGB  EQU   0
LGBBUFOU EQU   IEDNLGB+20
LGBPCI   EQU   IEDNLGB+25
LGBBYTE  EQU   IEDNLGB+29
LGBOFLGS EQU   IEDNLGB+48
LGBRESER EQU   IEDNLGB+56
IEDNLPTR EQU   0
IEDMHTD  EQU   0
MHNAME   EQU   IEDMHTD
IEDQMHTP EQU   0
IEDPIU   EQU   0
PIUTH    EQU   IEDPIU
PIURH    EQU   IEDPIU+10
PIURU    EQU   IEDPIU+13
IEDPLMV  EQU   0
PLMVTU   EQU   IEDPLMV
PLMVTD   EQU   IEDPLMV+4
PLMVSU   EQU   IEDPLMV+8
PLMVSD   EQU   IEDPLMV+12
PLMVLNTH EQU   IEDPLMV+16
PLMVFLG1 EQU   IEDPLMV+18
PLMVUNCF EQU   PLMVFLG1
PLMVSCTG EQU   PLMVFLG1
PLMVTCTG EQU   PLMVFLG1
PLMVUNCA EQU   IEDPLMV+20
IEDPLMVP EQU   0
IEDQPRF  EQU   0
PRFRCB   EQU   IEDQPRF
PRFKEY   EQU   PRFRCB
PRFQCBA  EQU   PRFRCB+1
PRFPRI   EQU   PRFRCB+4
PRFLINK  EQU   PRFRCB+5
PRFTIC   EQU   IEDQPRF+8
PRFTICC  EQU   PRFTIC
PRFNBUNT EQU   IEDQPRF+12
PRFSUNIT EQU   PRFNBUNT
PRFPLQCB EQU   PRFSUNIT
PRFPIUO  EQU   PRFPLQCB
@NM00187 EQU   IEDQPRF+16
PRFSVFFO EQU   @NM00187
PRFSTAT1 EQU   IEDQPRF+20
PRFEOFN  EQU   PRFSTAT1
PRFCORE  EQU   IEDQPRF+21
PRFXTRA  EQU   PRFCORE
PRFSCAN  EQU   IEDQPRF+24
PRFTQBCK EQU   IEDQPRF+26
PRFNTXT  EQU   PRFTQBCK
PRFEOBOF EQU   PRFNTXT
PRFCHDR  EQU   IEDQPRF+32
PRFHQBCK EQU   IEDQPRF+35
IEDQPPTR EQU   0
IEDPF1   EQU   0
PRF1FLG1 EQU   IEDPF1+3
PRF1WD2  EQU   IEDPF1+4
PRF1SEQP EQU   PRF1WD2
PRF1SQID EQU   PRF1SEQP
PRF1TAG1 EQU   PRF1SQID
IEDPF2   EQU   0
PRF2FLG2 EQU   IEDPF2
PRF2TNTI EQU   PRF2FLG2
PRF2WD2  EQU   IEDPF2+4
IEDQQCB  EQU   0
QCBDSFLG EQU   IEDQQCB
QCBDISK  EQU   QCBDSFLG
QCBELCHN EQU   IEDQQCB+1
QCBSTCHN EQU   IEDQQCB+9
QCBEOLDT EQU   IEDQQCB+16
QCBBYTE1 EQU   QCBEOLDT+1
QCBLKRLN EQU   IEDQQCB+18
QCBRETCT EQU   QCBLKRLN
QCBSTAT  EQU   IEDQQCB+19
QCBINSRC EQU   IEDQQCB+21
@NM00197 EQU   QCBINSRC
QCBTSOF2 EQU   @NM00197+1
QCBTSOF1 EQU   @NM00197+2
QCBINTVL EQU   IEDQQCB+24
QCBPREN  EQU   IEDQQCB+28
QCBLKRRN EQU   QCBPREN+1
QCBDCBAD EQU   IEDQQCB+33
QCBLGBAD EQU   QCBDCBAD
QCBFLAG  EQU   IEDQQCB+36
IEDQQPTR EQU   0
IEDQPQCB EQU   0
QCBFHDLZ EQU   IEDQPQCB+3
QCBPFEFO EQU   QCBFHDLZ+1
QCBFHDTZ EQU   IEDQPQCB+6
QCBINTLF EQU   IEDQPQCB+12
IEDNQCB  EQU   0
QCBSTAT1 EQU   IEDNQCB+4
QCBPLCBN EQU   QCBSTAT1
QCBRCVRQ EQU   QCBSTAT1
QCBPLCBA EQU   IEDNQCB+5
IEDQRECB EQU   0
RECBPRI  EQU   IEDQRECB+4
IEDSIBD  EQU   0
SIBINDEX EQU   IEDSIBD+8
SIBSESSN EQU   IEDSIBD+10
SIBLGOFF EQU   SIBSESSN
SIBSSTAT EQU   SIBSESSN
SIBDSTAT EQU   SIBSESSN
SIBPACIN EQU   IEDSIBD+11
SIBSEQN  EQU   IEDSIBD+12
SIBSTAT1 EQU   IEDSIBD+16
SIBSTAT2 EQU   IEDSIBD+17
SIBTSPRO EQU   IEDSIBD+18
SIBFMPRO EQU   IEDSIBD+19
SIBBIND  EQU   IEDSIBD+20
SIBBIND1 EQU   SIBBIND
SIBPCHN  EQU   SIBBIND1
SIBPRQM  EQU   SIBBIND1
SIBPDEF  EQU   SIBBIND1
SIBPEXC  EQU   SIBBIND1
SIBPCMP  EQU   SIBBIND1
SIBPEBI  EQU   SIBBIND1
SIBSCHNG EQU   SIBBIND1
SIBSRQM  EQU   SIBBIND1
SIBBIND2 EQU   SIBBIND+1
SIBSDEF  EQU   SIBBIND2
SIBSEXC  EQU   SIBBIND2
SIBSCMP  EQU   SIBBIND2
SIBSEBI  EQU   SIBBIND2
SIBFMUSE EQU   SIBBIND2
SIBBRACK EQU   SIBBIND2
SIBBTERM EQU   SIBBIND2
SIBALT   EQU   SIBBIND2
SIBBIND3 EQU   SIBBIND+2
SIBFMODE EQU   SIBBIND3
SIBRECOV EQU   SIBBIND3
SIBSPKR  EQU   SIBBIND3
SIBCRES  EQU   SIBBIND3
SIBSTAT0 EQU   IEDSIBD+23
SIBCD    EQU   SIBSTAT0
IEDSNSD  EQU   0
SNSSYSTM EQU   IEDSNSD
SNSUSER  EQU   IEDSNSD+2
SNSPTR   EQU   0
IEDNSTMH EQU   0
STMHUNBR EQU   IEDNSTMH
STMHUBXT EQU   IEDNSTMH+4
STMHFLG0 EQU   IEDNSTMH+8
STMHUNBD EQU   STMHFLG0
STMHBEXT EQU   IEDNSTMH+9
IEDRH    EQU   0
TRHBYTE0 EQU   IEDRH
TRHTYPE  EQU   TRHBYTE0
TRHRUCAT EQU   TRHBYTE0
TRHSDI   EQU   TRHBYTE0
TRHBYTE1 EQU   IEDRH+1
TRHDR1   EQU   TRHBYTE1
TRHDR2   EQU   TRHBYTE1
TRHER    EQU   TRHBYTE1
TRHBYTE2 EQU   IEDRH+2
IEDTH    EQU   0
TTHBYTE0 EQU   IEDTH
TTHBYTE1 EQU   IEDTH+1
TTHDAF   EQU   IEDTH+2
TTHOAF   EQU   IEDTH+4
TTHSNF   EQU   IEDTH+6
TTHTAG   EQU   TTHSNF
TTHTAG1  EQU   TTHTAG
TTHDCF   EQU   IEDTH+8
IEDQTNTD EQU   0
IEDQTCDE EQU   IEDQTNTD
TNTENLEN EQU   IEDQTNTD+40
TNTLEN   EQU   IEDQTNTD+44
IEDQTDCE EQU   IEDQTNTD+46
IEDQNPTR EQU   0
TNTFIRST EQU   0
IEDTNTA  EQU   0
TNTTRMAD EQU   IEDTNTA
IEDTRM   EQU   0
IEDNTRM  EQU   IEDTRM
TRMBYTE4 EQU   IEDNTRM
TRMBYTE3 EQU   IEDNTRM+1
TRMBYTE2 EQU   IEDNTRM+2
TRMINPG  EQU   TRMBYTE2
TRMBYTE1 EQU   IEDNTRM+3
TRMSCPRQ EQU   TRMBYTE1
TRMINPTP EQU   TRMBYTE1
TRMBYTE0 EQU   IEDNTRM+6
TRMSIBPT EQU   IEDNTRM+7
IEDQTRM  EQU   IEDTRM+14
TRMSTATE EQU   IEDQTRM
TRMLOG   EQU   TRMSTATE
TRMDESTQ EQU   IEDQTRM+1
TRMINSEQ EQU   IEDQTRM+4
TLISTCNT EQU   TRMINSEQ
TRMOUTSQ EQU   IEDQTRM+6
TLISTEN  EQU   TRMOUTSQ
TRMDSORG EQU   TLISTEN
TRMALTD  EQU   IEDQTRM+8
TRMDEVFL EQU   IEDQTRM+10
TRMSTAT  EQU   IEDQTRM+12
RTRM     EQU   0
IEDXCIND EQU   0
XCINFIXD EQU   IEDXCIND
XCINCODE EQU   XCINFIXD
XCINBLEN EQU   XCINFIXD+7
XCINVAR  EQU   IEDXCIND+9
XCINBIMG EQU   XCINVAR
XCINNTNM EQU   XCINVAR
XCINRQID EQU   XCINVAR+2
XCINPWRD EQU   XCINVAR+3
XCINUFLD EQU   XCINVAR+4
XCINPTR  EQU   0
IEDIAP01 EQU   0
IEDMVBFR EQU   0
IEDQTNT  EQU   0
IEDOPTN  EQU   0
USEREXIT EQU   0
RUCMD3   EQU   0
RUCMD1   EQU   RUCMD3
CHAR1    EQU   0
NEWUSLN  EQU   0
TNTMHNME EQU   0
DSPCHAIN EQU   12
DSPLIFO  EQU   56
DSPLIFOR EQU   60
DSPLIST  EQU   8
DSPPOST  EQU   24
DSPPRIO  EQU   48
DSPPRIOR EQU   52
DSPTRACE EQU   64
DSPTSTQ  EQU   32
DSPTSTQR EQU   36
DSPUNAV  EQU   40
DSPUNAVR EQU   44
DSPWAIT  EQU   16
QCBLDCB  EQU   0
TNTCODE  EQU   0
TNTDCODE EQU   0
LCBRSPIN EQU   LCBIOBSN
LCBLUSNS EQU   LCBRSPIN+5
LCBSCPRS EQU   LCBRSPIN+9
LCBCSWU1 EQU   LCBSCPRS+2
LCBRSPFG EQU   LCBRSPIN+15
LCBCOREQ EQU   LCBTPCD
@NM00149 EQU   LCBCPA+40
LCBQNX   EQU   LCBERCCW
LCBQNXMN EQU   LCBQNX
LCBCANCL EQU   LCBSAVSN
LCBCANFG EQU   LCBCANCL
TRMPRE1  EQU   TRMBYTE4
TRMNCP1  EQU   TRMBYTE4
TRMPRE   EQU   TRMBYTE3
TRMNCP   EQU   TRMBYTE3
TRMPU    EQU   TRMBYTE3
TRMLU    EQU   TRMBYTE3
TRMLUREQ EQU   TRMLU
TRMLINK  EQU   TRMBYTE3
PRFSHDR  EQU   IEDQPRF+42
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
@NM00221 EQU   TRMLINK
TRMLSTAT EQU   TRMLINK
TRMLINT  EQU   TRMLINK
TRMEPMOD EQU   TRMLINK
TRMLULOG EQU   TRMLU
TRMINERR EQU   TRMLU
TRMSESRQ EQU   TRMLU
TRMTDIFF EQU   TRMLU
TRMLUTM  EQU   TRMLU
TRMLUIT  EQU   TRMLU
TRMAUTO  EQU   TRMLU
TRMPCONT EQU   TRMPU
@NM00220 EQU   TRMPU
TRMNCONT EQU   TRMNCP
TRMQUCKN EQU   TRMNCP
TRMSLOWN EQU   TRMNCP
TRMSYGEN EQU   TRMNCP
TRMNCPCL EQU   TRMNCP
TRMIPLDM EQU   TRMNCP
TRMINOUT EQU   TRMPRE
TRMRDOUT EQU   TRMPRE
TRMNLOUT EQU   TRMPRE
TRMWROUT EQU   TRMPRE
TRMASNXI EQU   TRMPRE
TRMSTMM  EQU   TRMPRE
TRMCMODE EQU   TRMPRE
TRMSTPND EQU   TRMPRE
@NM00219 EQU   TRMNCP1
TRMINOP  EQU   TRMNCP1
TRMLYNCH EQU   TRMPRE1
TRMSPOUT EQU   TRMPRE1
TRMERLCK EQU   TRMPRE1
TRMQNPL  EQU   TRMPRE1
TRMSPACT EQU   TRMPRE1
TRMOCNI  EQU   TRMPRE1
TRMSESSN EQU   TRMPRE1
TRMCONT  EQU   TRMPRE1
@NM00157 EQU   LCBCANCL+3
LCBCANTH EQU   LCBCANCL+1
@NM00156 EQU   LCBCANFG
LCBCANCD EQU   LCBCANFG
@NM00155 EQU   LCBCANFG
LCBCANEB EQU   LCBCANFG
LCBCANXT EQU   LCBCANFG
LCBUNADD EQU   LCBQNX+21
LCBUASZE EQU   LCBQNX+20
LCBDSTEA EQU   LCBQNX+16
@NM00154 EQU   LCBQNX+8
LCBIOSBS EQU   LCBQNX+5
@NM00153 EQU   LCBQNX+4
LCBSTSAV EQU   LCBQNX+1
@NM00152 EQU   LCBQNXMN
LCBNX509 EQU   LCBQNXMN
LCBNX162 EQU   LCBQNXMN
LCBNX142 EQU   LCBQNXMN
LCBNX064 EQU   LCBQNXMN
@NM00151 EQU   @NM00149+4
LCBNCPPT EQU   @NM00149+1
@NM00150 EQU   @NM00149
LCBWRSCH EQU   LCBCOREQ+8
LCBCQLNK EQU   LCBCOREQ+4
LCBCQELE EQU   LCBCOREQ
LCBPAKCH EQU   LCBRSPIN+16
@NM00148 EQU   LCBRSPFG
LCBRSRH  EQU   LCBRSPFG
LCBEXPI  EQU   LCBRSPFG
@NM00147 EQU   LCBRSPIN+12
LCBUSUE1 EQU   LCBCSWU1
@NM00146 EQU   LCBCSWU1
@NM00145 EQU   LCBSCPRS+1
LCBDFCMD EQU   LCBSCPRS
LCBUSER  EQU   LCBLUSNS+2
LCBSMIN  EQU   LCBLUSNS+1
LCBSMAJ  EQU   LCBLUSNS
LCBRHSV  EQU   LCBRSPIN+2
LCBSNS0  EQU   LCBRSPIN+1
@NM00144 EQU   LCBRSPIN
@NM00222 EQU   RUCMD3+1
XCINUSFD EQU   XCINUFLD+1
XCINULEN EQU   XCINUFLD
XCINPSWD EQU   XCINPWRD+1
XCINPLEN EQU   XCINPWRD
XCINRID  EQU   XCINRQID+1
XCINRLEN EQU   XCINRQID
XCINNAME EQU   XCINNTNM+2
XCINNLEN EQU   XCINNTNM+1
XCINNTYP EQU   XCINNTNM
XCINADDR EQU   XCINFIXD+5
XCINORG  EQU   XCINFIXD+4
XCINFMT  EQU   XCINFIXD+3
XCINREQ  EQU   XCINCODE+2
XCINSESS EQU   XCINCODE+1
XCINNETS EQU   XCINCODE
TRMOPT   EQU   IEDTRM+34
TRMOPTBL EQU   IEDQTRM+18
TRMOPNO  EQU   IEDQTRM+17
TRMCHCIN EQU   IEDQTRM+16
TRMSENSE EQU   TRMSTAT+3
TRMTEMPR EQU   TRMSTAT+2
TRMSIO   EQU   TRMSTAT
@NM00218 EQU   TRMDEVFL+1
TRMTPIN  EQU   TRMDEVFL+1
TRMNCPI  EQU   TRMDEVFL+1
TRMRNTRM EQU   TRMDEVFL+1
@NM00217 EQU   TRMDEVFL+1
TRMLMD   EQU   TRMDEVFL+1
TRMCONC  EQU   TRMDEVFL+1
TRMTSOB  EQU   TRMDEVFL
TRMBFDY  EQU   TRMDEVFL
TRMTBLK  EQU   TRMDEVFL
TRMSBLK  EQU   TRMDEVFL
TRMBLKS  EQU   TRMDEVFL
TRMADDC  EQU   TRMDEVFL
TRMDDIG  EQU   TRMDEVFL
TRMBUFS  EQU   TRMDEVFL
TRMPRILK EQU   TRMALTD
TRMLGB   EQU   TRMDSORG
TRMUTERM EQU   TLISTCNT
TRMSCNYN EQU   TRMSTATE
TRMOPTFN EQU   TRMSTATE
TRMHELDN EQU   TRMSTATE
TRMACPTN EQU   TRMSTATE
TRMPREF  EQU   TRMSTATE
TRMPROC  EQU   TRMLOG
TRMLIST  EQU   TRMLOG
TRMLINE  EQU   TRMSTATE
TRMSUBST EQU   IEDNTRM+12
TRMTYPE  EQU   IEDNTRM+11
TRMRLMCT EQU   IEDNTRM+10
TRMCOHTG EQU   TRMSIBPT+1
TRMGPCNT EQU   TRMSIBPT
TRMBUFRD EQU   TRMBYTE0
TRMSNA   EQU   TRMBYTE0
TRMGP    EQU   TRMBYTE0
TRMDIAL  EQU   TRMBYTE0
@NM00216 EQU   TRMBYTE0
TRMOUTPT EQU   TRMBYTE0
TRMINPUT EQU   TRMBYTE0
TRMUDEF  EQU   TRMBYTE0
TRMCOHRT EQU   IEDNTRM+4
TRMSTOTE EQU   TRMBYTE1
TRMCKPRN EQU   TRMBYTE1
TRMTSATN EQU   TRMBYTE1
TRMTRACE EQU   TRMBYTE1
TRMSWBCK EQU   TRMBYTE1
TRMAUTOC EQU   TRMBYTE1
TRMWTNEG EQU   TRMSCPRQ
TRMWRBRK EQU   TRMBYTE2
TRMNOSND EQU   TRMBYTE2
TRMPREP  EQU   TRMBYTE2
TRMGPACT EQU   TRMBYTE2
TRMANDL  EQU   TRMBYTE2
TRMCLOSN EQU   TRMINPG
TRMREMB  EQU   TRMBYTE2
TRMRSACT EQU   TRMBYTE2
TNTMIDEN EQU   IEDQTNTD+41
TNTSRCHX EQU   IEDQTNTD+38
TTHTAG2  EQU   TTHTAG+1
@NM00215 EQU   TTHTAG1
TTHTAGS  EQU   TTHTAG1
TTHEFI   EQU   TTHBYTE0
@NM00214 EQU   TTHBYTE0
TTHEBIU  EQU   TTHBYTE0
TTHBBIU  EQU   TTHBYTE0
TTHFTYPE EQU   TTHBYTE0
@NM00213 EQU   TRHBYTE2
@NM00212 EQU   TRHBYTE2
@NM00211 EQU   TRHBYTE2
TRHCSI   EQU   TRHBYTE2
@NM00210 EQU   TRHBYTE2
TRHCDI   EQU   TRHBYTE2
TRHEB    EQU   TRHBYTE2
TRHBB    EQU   TRHBYTE2
TRHPI    EQU   TRHBYTE1
@NM00209 EQU   TRHBYTE1
@NM00208 EQU   TRHBYTE1
@NM00207 EQU   TRHBYTE1
@NM00206 EQU   TRHBYTE1
TRHEC    EQU   TRHBYTE0
TRHBC    EQU   TRHBYTE0
TRHFI    EQU   TRHBYTE0
@NM00205 EQU   TRHBYTE0
@NM00204 EQU   STMHFLG0
STMHDFC  EQU   STMHFLG0
STMHDFCP EQU   STMHFLG0
SNSUSR2  EQU   SNSUSER+1
SNSUSR1  EQU   SNSUSER
SNSMIN   EQU   SNSSYSTM+1
SNSMAJ   EQU   SNSSYSTM
SIBLUTYP EQU   SIBSTAT0
@NM00203 EQU   SIBBIND3
@NM00202 EQU   SIBSTAT2
SIBDACLU EQU   SIBSTAT2
SIBRDSCN EQU   SIBSTAT2
SIBTERM  EQU   SIBSTAT2
SIBUSS   EQU   SIBSTAT2
SIBBSTAT EQU   SIBSTAT1
SIBRTRP  EQU   SIBSTAT1
SIBFTERM EQU   SIBSTAT1
SIBRQEND EQU   SIBSTAT1
SIBRQSHT EQU   SIBSTAT1
SIBSEQO  EQU   SIBSEQN+2
SIBSEQI  EQU   SIBSEQN
SIBNCNT  EQU   SIBPACIN
SIBMCNT  EQU   SIBPACIN
SIBINBIU EQU   SIBSESSN
SIBSHUTC EQU   SIBSESSN
SIBCHAIN EQU   IEDSIBD+4
SIBRUSEG EQU   IEDSIBD
RECBLINK EQU   IEDQRECB+5
RECBQCBA EQU   IEDQRECB+1
RECBKEY  EQU   IEDQRECB
QCBTTCIN EQU   QCBPLCBA+1
@NM00201 EQU   QCBPLCBA
@NM00200 EQU   QCBSTAT1
QCBFLUSH EQU   QCBSTAT1
QCBNDXRQ EQU   QCBSTAT1
QCBESIG  EQU   QCBSTAT1
QCBSNDRQ EQU   QCBSTAT1
QCBWAITC EQU   QCBSTAT1
QCBCHAIN EQU   IEDNQCB
QCBPQBCK EQU   IEDQPQCB+25
QCBPRIPQ EQU   IEDQPQCB+24
QCBCFHDR EQU   IEDQPQCB+21
QCBLFEFO EQU   IEDQPQCB+18
QCBFFEFO EQU   IEDQPQCB+15
QCBPREVF EQU   QCBINTLF
QCBINTFF EQU   IEDQPQCB+9
QCBDATSQ EQU   QCBFHDTZ+1
@NM00199 EQU   QCBFHDTZ
@NM00198 EQU   QCBPFEFO
QCBDATFL EQU   QCBFHDLZ
QCBDNHDR EQU   IEDQPQCB
QCBQBACK EQU   IEDQQCB+37
QCBCKPT  EQU   QCBFLAG
QCBPROC  EQU   QCBFLAG
QCBSDFFO EQU   QCBFLAG
QCBTERMQ EQU   QCBFLAG
QCBRSRV  EQU   QCBFLAG
QCBREAD  EQU   QCBFLAG
QCBNOBRK EQU   QCBFLAG
QCBTSSES EQU   QCBFLAG
QCBRELLN EQU   IEDQQCB+32
QCBTJID  EQU   QCBLKRRN+1
QCBCARCT EQU   QCBLKRRN
QCBPRLVL EQU   QCBPREN
QCBMSGCT EQU   IEDQQCB+26
QCBEXTO  EQU   QCBINTVL
QCBDISC  EQU   QCBTSOF1
QCBDELAY EQU   QCBTSOF1
QCBPARTO EQU   QCBTSOF1
QCBSATRD EQU   QCBTSOF1
QCBNOBUF EQU   QCBTSOF1
QCBTPUT  EQU   QCBTSOF1
QCBTGET  EQU   QCBTSOF1
QCBWRBRK EQU   QCBTSOF1
QCBSATLC EQU   QCBTSOF2
QCBSATTI EQU   QCBTSOF2
QCBSATCH EQU   QCBTSOF2
QCBSIMRD EQU   QCBTSOF2
QCBDSSMI EQU   QCBTSOF2
QCBPOSTO EQU   QCBTSOF2
QCBBUFQ  EQU   QCBTSOF2
QCBINHBN EQU   QCBTSOF2
QCBSATCT EQU   @NM00197
QCBSCBOF EQU   IEDQQCB+20
QCBTIME  EQU   QCBSTAT
QCBCLOCK EQU   QCBSTAT
QCBSCHDL EQU   QCBSTAT
QCBSMODE EQU   QCBSTAT
QCBSEND  EQU   QCBSTAT
QCBBUFRD EQU   QCBSTAT
QCBTRMHO EQU   QCBSTAT
QCBEOM   EQU   QCBSTAT
QCBHUCT  EQU   QCBRETCT
QCBIEND  EQU   QCBRETCT
QCBEND   EQU   QCBRETCT
QCBNL    EQU   QCBRETCT
QCBLOGCT EQU   QCBRETCT
@NM00196 EQU   QCBBYTE1
QCBRITRM EQU   QCBBYTE1
@NM00195 EQU   QCBEOLDT
QCBSLINK EQU   IEDQQCB+13
QCBSTPRI EQU   IEDQQCB+12
QCBSTVTO EQU   IEDQQCB+8
QCBLINK  EQU   IEDQQCB+5
QCBPRI   EQU   IEDQQCB+4
QCBCNTEN EQU   QCBELCHN+2
@NM00194 EQU   QCBELCHN+2
@NM00193 EQU   QCBELCHN
QCBHELD  EQU   QCBDSFLG
QCBFQCB  EQU   QCBDSFLG
QCBDRQQ  EQU   QCBDSFLG
QCBALTMH EQU   QCBDSFLG
QCBREUS  EQU   QCBDISK
QCBNREUS EQU   QCBDISK
QCBCORE  EQU   QCBDSFLG
QCBTSQ   EQU   QCBDSFLG
PRF2SEQP EQU   PRF2WD2
@NM00192 EQU   IEDPF2+1
@NM00191 EQU   PRF2FLG2
PRF2TERM EQU   PRF2FLG2
PRF2SMI  EQU   PRF2FLG2
PRF2FORM EQU   PRF2FLG2
PRF1RULN EQU   PRF1SEQP+2
PRF1TAG2 EQU   PRF1SQID+1
@NM00190 EQU   PRF1TAG1
PRF1TAGS EQU   PRF1TAG1
@NM00189 EQU   PRF1FLG1
PRF1LOGD EQU   PRF1FLG1
PRF1USS  EQU   PRF1FLG1
PRF1FORM EQU   PRF1FLG1
PRF1EXPI EQU   PRF1FLG1
PRF1FIDI EQU   PRF1FLG1
PRF1RH   EQU   IEDPF1
PRFDEST  EQU   IEDQPRF+40
PRFISEQ  EQU   IEDQPRF+38
PRFSTXT  EQU   PRFHQBCK
PRFNHDR  EQU   PRFCHDR
PRFCRCD  EQU   IEDQPRF+29
PRFSVSEQ EQU   PRFNTXT+1
PRFSVPRI EQU   PRFEOBOF
PRFISIZE EQU   PRFSCAN+1
@NM00188 EQU   PRFSCAN
PRFEOB   EQU   PRFXTRA+1
PRFSTSO  EQU   PRFXTRA
PRFNHDRN EQU   PRFSTAT1
PRFNLSTN EQU   PRFSTAT1
PRFLOCK  EQU   PRFEOFN
PRFDUPLN EQU   PRFSTAT1
PRFTSMSG EQU   PRFSTAT1
PRFITCPN EQU   PRFSTAT1
PRFERMGN EQU   PRFSTAT1
PRFCNCLN EQU   PRFSTAT1
PRFSVFLG EQU   @NM00187+3
PRFSIZE  EQU   PRFSVFFO+2
PRFSRCE  EQU   PRFSVFFO
PRFLCB   EQU   IEDQPRF+13
PRFTI0   EQU   PRFTIC+1
@NM00186 EQU   PRFTICC
@NM00185 EQU   PRFTICC
@NM00184 EQU   PRFTICC
PRFTICON EQU   PRFTICC
@NM00183 EQU   PRFTICC
@NM00182 EQU   PRFTICC
PRFBFMM  EQU   PRFTICC
PRFEOMSG EQU   PRFTICC
PRFCOUNT EQU   PRFLINK+1
@NM00181 EQU   PRFLINK
PRFFLAGS EQU   PRFPRI
PRFIOADR EQU   PRFQCBA
PRFOPCDE EQU   PRFKEY
PLMVFLG2 EQU   IEDPLMV+19
@NM00180 EQU   PLMVFLG1
MHENTRY  EQU   IEDMHTD+8
MHTABEND EQU   MHNAME
LGBIVLST EQU   IEDNLGB+60
LGBRESV4 EQU   LGBRESER+3
LGBRESV3 EQU   LGBRESER+2
LGBRESV2 EQU   LGBRESER+1
LGBRESV1 EQU   LGBRESER
LGBBUFSI EQU   IEDNLGB+54
@NM00179 EQU   IEDNLGB+53
LGBILCT  EQU   IEDNLGB+52
LGBSCTAD EQU   IEDNLGB+49
@NM00178 EQU   LGBOFLGS
LGBOPEN  EQU   LGBOFLGS
@NM00177 EQU   LGBOFLGS
LGBNAME  EQU   IEDNLGB+40
@NM00176 EQU   IEDNLGB+36
LGBTRANS EQU   IEDNLGB+33
@NM00175 EQU   IEDNLGB+32
@NM00174 EQU   IEDNLGB+31
LGBOPACE EQU   IEDNLGB+30
@NM00173 EQU   LGBBYTE
LGBPACK  EQU   LGBBYTE
LGBBUFMA EQU   IEDNLGB+28
LGBDSORG EQU   IEDNLGB+26
@NM00172 EQU   LGBPCI
@NM00171 EQU   LGBPCI
LGBPCINO EQU   LGBPCI
@NM00170 EQU   LGBPCI
LGBPCIAO EQU   LGBPCI
@NM00169 EQU   LGBPCI
@NM00168 EQU   LGBPCI
@NM00167 EQU   LGBPCI
@NM00166 EQU   IEDNLGB+24
LGBMHA   EQU   IEDNLGB+21
@NM00165 EQU   LGBBUFOU
LGBPREF  EQU   LGBBUFOU
@NM00164 EQU   LGBBUFOU
LGBSUBST EQU   IEDNLGB+18
LGBTYPE  EQU   IEDNLGB+17
@NM00163 EQU   IEDNLGB
LCBERADR EQU   LCBXRADR+1
LCBPCIRC EQU   LCBXRADR
LCBDCT3  EQU   LCBXDCT+2
LCBDCT2  EQU   LCBXDCT+1
LCBDCT1  EQU   LCBXDCT
@NM00162 EQU   LCBXFLAG
LCBERPND EQU   LCBXFLAG
LCBSRCPF EQU   LCBXFLAG
LCBGPCTV EQU   LCBXFLAG
@NM00161 EQU   LCBXFLAG
@NM00160 EQU   LCBXFLAG
@NM00159 EQU   LCBXFLAG
@NM00158 EQU   LCBXFLAG
LCBCCW10 EQU   LCBCPA+72
LCBCCW9  EQU   LCBCPA+64
LCBCCW8  EQU   LCBCPA+56
LCBCCW7  EQU   LCBCPA+48
LCBCCW6  EQU   LCBCPA+40
LCBCP    EQU   LCBQEBPL+4
LCBIOSB  EQU   LCBQEBPL+1
LCBSIO   EQU   LCBQEBPL
LCBCCW4  EQU   LCBCPA+24
LCBCCW3  EQU   LCBCPA+16
LCBCCW2  EQU   LCBCPA+8
LCBCCW1  EQU   LCBCPA
@NM00143 EQU   LCBERCCW+16
LCBATL05 EQU   LCBERCCW+8
@NM00142 EQU   LCBERCCW
LCBCSWSV EQU   LCBSAVSN+1
LCBSNSV  EQU   LCBSAVSN
LCBBFSNS EQU   LCBRSPSV
LCBINPAK EQU   LCBSTAT6
LCBMHBID EQU   LCBSTAT6
LCBRTRRO EQU   LCBSTAT6
LCBHDRPD EQU   LCBSTAT6
LCBCHN   EQU   LCBSTAT6
@NM00141 EQU   LCBSTAT5
LCBLUS   EQU   LCBSTAT5
LCBLUNIT EQU   LCBSTAT5
LCBPERM  EQU   LCBSTAT5
LCBNXCMD EQU   LCBBFRW
LCBERMSK EQU   LCBOBRCH
LCBSCBA  EQU   IEDQLCB+93
LCBOLT   EQU   LCBMSGFM
LCBEOT   EQU   LCBMSGFM
LCBENQ   EQU   LCBMSGFM
LCBTTD   EQU   LCBMSGFM
LCBRSTRT EQU   LCBMSGFM
LCBVSTRT EQU   LCBMSGFM
LCBACKI  EQU   LCBMSGFM
LCBNAK   EQU   LCBMSGFM
@NM00140 EQU   LCBRBCT2
LCBDCNT  EQU   LCBRBCT2
LCBRBCT1 EQU   LCBERBCT
LCBCOMPL EQU   LCBDLNKN
LCBPRCPG EQU   LCBERBST
LCBERROR EQU   LCBERBST
@NM00139 EQU   LCBERBST
LCBINQ   EQU   LCBERBST
LCBRDERR EQU   LCBERBST
LCBEOMSG EQU   LCBERBST
LCBMSG   EQU   LCBERBST
LCBERBLK EQU   IEDQLCB+81
LCBERBPY EQU   IEDQLCB+80
LCBERBQB EQU   LCBERB+1
LCBERBKY EQU   LCBERB
LCBRECAD EQU   IEDQLCB+73
@NM00138 EQU   LCBTSTSW
@NM00137 EQU   LCBTSTSW
@NM00136 EQU   LCBTSTSW
@NM00135 EQU   LCBTSTSW
@NM00134 EQU   LCBTSTSW
@NM00133 EQU   LCBTSTSW
@NM00132 EQU   LCBTSTSW
LCBCONCT EQU   LCBTSTSW
LCBRESP  EQU   LCBSTAT2
LCBBFRAV EQU   LCBDIAL
LCBATTN  EQU   LCBSYNC
LCBNEGRP EQU   LCBSTAT2
LCBSNDPR EQU   LCBSTAT2
LCBCONNN EQU   LCBBEOTN
LCBMSGNN EQU   LCBSTAT2
LCBTRACE EQU   LCBSTAT2
LCBSENDN EQU   LCBSTAT1
LCBRECVN EQU   LCBSTAT1
LCBFREEN EQU   LCBSTAT1
LCBCONT  EQU   LCBSTAT1
LCBINITN EQU   LCBSTAT1
LCBOCNI  EQU   LCBSTAT1
LCBOCWTN EQU   LCBSTAT1
LCBRCLLN EQU   LCBSTAT1
LCBRECOF EQU   IEDQLCB+68
LCBRDBFR EQU   LCBRCBFR
LCBUCBX  EQU   IEDQLCB+64
LCBTTBIN EQU   LCBERRCT
@NM00131 EQU   LCBINCAM
LCBGETMN EQU   LCBINCAM
@NM00130 EQU   LCBRESTR+1
LCBCMDSV EQU   LCBRESTR
LCBPCILK EQU   LCBDCBPT
LCBAP4OL EQU   LCBSIOCC
LCBAP3OL EQU   LCBSIOCC
LCBAP2OL EQU   LCBSIOCC
LCBAP1OL EQU   LCBSIOCC
LCBSIOC2 EQU   LCBSIOCC
LCBSIOC1 EQU   LCBSIOCC
@NM00129 EQU   LCBSIOCC
LCBCSWRC EQU   LCBCSW+5
LCBCSCHC EQU   LCBCSWCS
LCBCSICC EQU   LCBCSWCS
LCBCSCCC EQU   LCBCSWCS
LCBCSCDC EQU   LCBCSWCS
LCBCSPTC EQU   LCBCSWCS
LCBCSPGC EQU   LCBCSWCS
LCBCSIL  EQU   LCBCSWCS
LCBCSPCI EQU   LCBCSWCS
LCBUSUE  EQU   LCBCSWUS
LCBUSUC  EQU   LCBCSWUS
LCBUSDE  EQU   LCBCSWUS
LCBUSCE  EQU   LCBCSWUS
LCBUSBSY EQU   LCBCSWUS
LCBUSCUE EQU   LCBCSWUS
LCBUSSM  EQU   LCBCSWUS
LCBUSAT  EQU   LCBCSWUS
LCBCSWCA EQU   LCBCSW
LCBOBR   EQU   LCBFLAG3
LCBOBRRD EQU   LCBFLAG3
LCBIOMSG EQU   LCBFLAG3
LCBSOHC  EQU   LCBFLAG3
LCBRLAD  EQU   LCBFLAG3
LCBSOHR  EQU   LCBFLAG3
@NM00128 EQU   LCBFLAG3
LCBECBPT EQU   LCBIOBSN+4
LCBECBCC EQU   LCBIOBSN+3
LCBSENS1 EQU   LCBSNS+1
LCBABORT EQU   LCBTMOUT
LCBNOTIN EQU   LCBLOSDT
LCBOVRUN EQU   LCBSENS0
LCBDATCK EQU   LCBSENS0
LCBEQUCK EQU   LCBSENS0
LCBBUSCK EQU   LCBSENS0
LCBINTRQ EQU   LCBSENS0
LCBCMDRJ EQU   LCBSENS0
LCBFLAG2 EQU   LCBIOBSN
@NM00127 EQU   LCBFLAG1
LCBUNREL EQU   LCBFLAG1
LCBEXCPN EQU   LCBFLAG1
@NM00126 EQU   LCBFLAG1
LCBERPIN EQU   LCBFLAG1
@NM00125 EQU   LCBFLAG1
LCBFSBFR EQU   LCBMHA
LCBISZE  EQU   IEDQLCB+28
LCBLNENT EQU   LCBSCBDA+1
@NM00124 EQU   LCBSCBDA
LCBCPGMH EQU   LCBSTAT4
LCBREAL  EQU   LCBPHASE
@NM00123 EQU   LCBSTAT4
LCBACTRQ EQU   LCBSTAT4
LCBIPLRQ EQU   LCBSTAT4
LCBDACRQ EQU   LCBSTAT4
LCBDMPRQ EQU   LCBSTAT4
@NM00122 EQU   LCBLKMDE
LCBLOCKI EQU   LCBLKMDE
LCBLOCKR EQU   LCBLKMDE
LCBHMFLG EQU   LCBLKMDE
LCBBDFLG EQU   LCBLKMDE
@NM00121 EQU   LCBINSRC
LCBABRTN EQU   LCBCHAIN
LCBCTLMD EQU   LCBTETEN
LCBBFRSZ EQU   LCBCHAIN
LCBUREQN EQU   LCBCHAIN
LCBNORTY EQU   LCBCHAIN
LCBERMSG EQU   LCBCHAIN
LCBEXCP  EQU   LCBCHAIN
LCBINVRQ EQU   LCBSCRNN
LCB2741N EQU   LCBTSOB
LCBINHBN EQU   LCBTSOB
LCBCIRCD EQU   LCBTSOB
LCBPREP  EQU   LCBTSOB
LCBSOPL  EQU   LCBTSOB
LCBSATRD EQU   LCBTSOB
LCBTSBUF EQU   LCBTSOB
LCBWRBRK EQU   LCBTSOB
LCBTDL   EQU   IEDQLCB+18
LCBEOLTD EQU   IEDQLCB+16
LCBRSLNK EQU   IEDQLCB+13
LCBRSPRI EQU   IEDQLCB+12
LCBSTCBA EQU   IEDQLCB+9
LCBRSKEY EQU   IEDQLCB+8
LCBLINK  EQU   LCBRCB+5
LCBKEY   EQU   LCBRCB
BNDUSD   EQU   IEDBNDD+37
BNDPLUN  EQU   IEDBNDD+28
BNDCRYP  EQU   IEDBNDD+26
@NM00120 EQU   IEDBNDD+25
BNDSCSZE EQU   BNDPSCH+9
@NM00119 EQU   BNDPSCH
BNDLUTYP EQU   BNDLUPFL
BNDPSF   EQU   BNDLUPFL
@NM00118 EQU   IEDBNDD+13
BNDPSPC  EQU   IEDBNDD+12
@NM00117 EQU   BNDPMSRU
BNDNMAXP EQU   BNDPMSRU
@NM00116 EQU   BNDSMSRU
BNDNMAX  EQU   BNDSMSRU
BNDSRPC  EQU   IEDBNDD+9
BNDSSPC  EQU   IEDBNDD+8
@NM00115 EQU   BNDCOMM2
@NM00114 EQU   BNDCOMM2
@NM00113 EQU   BNDCOMM2
@NM00112 EQU   BNDCOMM1
@NM00111 EQU   BNDCOMM1
@NM00110 EQU   BNDCOMM1
@NM00109 EQU   BNDCOMM1
@NM00108 EQU   BNDSECD
@NM00107 EQU   BNDSECD
@NM00106 EQU   BNDPRIM
@NM00105 EQU   BNDPRIM
BNDRUCDE EQU   IEDBNDD
SAVTBITN EQU   IEDNSVTD+312
@NM00104 EQU   SAVTCKQB+8
@NM00103 EQU   SAVTCKEC+1
@NM00102 EQU   SAVTCKCC
SAVTCKPO EQU   SAVTCKCC
SAVTCKWA EQU   SAVTCKCC
SAVTCKCH EQU   SAVTCKTB+1
SAVTCKVT EQU   SAVTCKTB
@NM00101 EQU   IEDNSVTD+297
SAVTRDFG EQU   SAVTRDRV+12
@NM00100 EQU   SAVTRDRV+5
SAVTRDPY EQU   SAVTRDRV+4
SAVTRDQB EQU   SAVTRDRV+1
SAVTRDKY EQU   SAVTRDRV
SAVTNID  EQU   IEDNSVTD+280
SAVTDVAS EQU   IEDNSVTD+276
SAVTPLSZ EQU   IEDNSVTD+274
@NM00099 EQU   IEDNSVTD+273
SAVTSUBL EQU   IEDNSVTD+272
@NM00098 EQU   SAVTZELM+1
SAVTSUBM EQU   SAVTZELM
SAVTNAT1 EQU   IEDNSVTD+266
SAVTSH20 EQU   IEDNSVTD+264
SAVTLCBS EQU   IEDNSVTD+260
SAVTRNMP EQU   IEDNSVTD+256
SAVTTNTX EQU   IEDNSVTD+252
SAVTNAX  EQU   IEDNSVTD+248
SAVTSUBV EQU   IEDNSVTD+247
SAVTSUBA EQU   IEDNSVTD+246
SAVTSIBC EQU   IEDNSVTD+244
SAVTBSM  EQU   IEDNSVTD+240
SAVTSCPT EQU   SAVTTCPU
SAVTRQTG EQU   IEDNSVTD+236
SAVTRQCH EQU   IEDNSVTD+232
SAVTMAND EQU   IEDNSVTD+228
SAVTSPLN EQU   IEDNSVTD+224
SAVTNADL EQU   IEDNSVTD+222
SAVTNATL EQU   IEDNSVTD+220
SAVTSSMH EQU   IEDNSVTD+212
SAVTQRS  EQU   IEDNSVTD+208
SAVTRQIN EQU   IEDNSVTD+204
SAVTSAO  EQU   IEDNSVTD+196
SAVTSARI EQU   IEDNSVTD+192
SAVTSAC  EQU   IEDNSVTD+188
SAVTSAI  EQU   IEDNSVTD+184
SAVTCSCI EQU   IEDNSVTD+180
SAVTSSRP EQU   IEDNSVTD+176
SAVTSSRQ EQU   IEDNSVTD+172
SAVTSCLU EQU   IEDNSVTD+168
SAVTXTRQ EQU   IEDNSVTD+164
@NM00097 EQU   IEDNSVTD+148
SAVTIPCQ EQU   IEDNSVTD+144
@NM00096 EQU   IEDNSVTD+136
SAVTXFMI EQU   IEDNSVTD+132
@NM00095 EQU   IEDNSVTD+124
SAVTXFMO EQU   IEDNSVTD+120
@NM00094 EQU   IEDNSVTD+116
SAVTSSSR EQU   IEDNSVTD+112
SAVTSCPQ EQU   IEDNSVTD+108
SAVTSLCB EQU   IEDNSVTD+104
SAVTLUSR EQU   IEDNSVTD+100
@NM00093 EQU   SAVTLUSQ+8
SAVTLUSP EQU   SAVTLUSQ+4
SAVTLUSB EQU   SAVTLUSQ
@NM00092 EQU   IEDNSVTD+84
SAVTSAT  EQU   IEDNSVTD+80
SAVTNAT  EQU   IEDNSVTD+76
SAVTCLUP EQU   IEDNSVTD+72
SAVTPIUT EQU   IEDNSVTD+68
SAVTRNTA EQU   IEDNSVTD+64
SAVTDNIR EQU   IEDNSVTD+60
SAVTCNIR EQU   IEDNSVTD+56
SAVTFLDH EQU   IEDNSVTD+52
SAVTSRTN EQU   IEDNSVTD+48
SAVTSREQ EQU   IEDNSVTD+44
SAVTFAIL EQU   IEDNSVTD+42
SAVTSUSE EQU   IEDNSVTD+40
SAVTSIB  EQU   IEDNSVTD+36
SAVTPRTN EQU   IEDNSVTD+32
@NM00091 EQU   IEDNSVTD+28
SAVTWH20 EQU   IEDNSVTD+26
SAVTPWT  EQU   IEDNSVTD+24
SAVTPRTQ EQU   IEDNSVTD+20
SAVTPH20 EQU   IEDNSVTD+14
SAVTPUSE EQU   IEDNSVTD+12
SAVTPLCB EQU   IEDNSVTD+8
SAVTPOOL EQU   IEDNSVTD+4
SAVTPRMT EQU   SAVTDIAF
SAVTVIRT EQU   SAVTDIAF
AVTCPBNO EQU   IEDQAVTD+1172
AVTHRESS EQU   IEDQAVTD+1171
@NM00090 EQU   IEDQAVTD+1170
@NM00089 EQU   IEDQAVTD+1169
@NM00088 EQU   IEDQAVTD+1168
@NM00087 EQU   IEDQAVTD+1165
@NM00086 EQU   IEDQAVTD+1164
AVTHRESE EQU   @NM00085
AVTRADDR EQU   IEDQAVTD+1156
AVTNADDR EQU   IEDQAVTD+1152
AVTHRESN EQU   IEDQAVTD+1148
AVTVOLRN EQU   IEDQAVTD+1144
AVTTOTNN EQU   IEDQAVTD+1140
AVTTRCYN EQU   IEDQAVTD+1136
AVTRCTRN EQU   IEDQAVTD+1132
AVTNOVON EQU   IEDQAVTD+1128
AVTADEBN EQU   IEDQAVTD+1124
AVTVOLRR EQU   IEDQAVTD+1120
AVTTOTNR EQU   IEDQAVTD+1116
AVTTRCYR EQU   IEDQAVTD+1112
AVTRCTRR EQU   IEDQAVTD+1108
AVTNOVOR EQU   IEDQAVTD+1104
AVTADEBR EQU   IEDQAVTD+1100
AVTLODPT EQU   IEDQAVTD+1096
AVTIOBN  EQU   IEDQAVTD+1092
AVTIOBR  EQU   IEDQAVTD+1088
AVTCPBPT EQU   IEDQAVTD+1084
AVTFCPB  EQU   IEDQAVTD+1080
@NM00084 EQU   IEDQAVTD+1076
AVTINCPQ EQU   IEDQAVTD+1072
@NM00083 EQU   IEDQAVTD+1068
@NM00082 EQU   IEDQAVTD+1065
@NM00081 EQU   AVTBIT4
@NM00080 EQU   AVTBIT4
@NM00079 EQU   AVTBIT4
@NM00078 EQU   AVTBIT4
@NM00077 EQU   AVTBIT4
@NM00076 EQU   AVTBIT4
@NM00075 EQU   AVTBIT4
AVTRUFTN EQU   AVTBIT4
@NM00074 EQU   IEDQAVTD+1060
AVTNOBFQ EQU   IEDQAVTD+1056
@NM00073 EQU   IEDQAVTD+1052
AVTDKENQ EQU   IEDQAVTD+1048
@NM00072 EQU   IEDQAVTD+1044
AVTDKAPQ EQU   IEDQAVTD+1040
AVTCOPY  EQU   IEDQAVTD+1036
AVTIA    EQU   IEDQAVTD+1032
AVTFL    EQU   IEDQAVTD+1028
@NM00071 EQU   IEDQAVTD+1024
AVTNCPBQ EQU   IEDQAVTD+1020
AVTTOTNC EQU   IEDQAVTD+1016
AVTCMAX  EQU   IEDQAVTD+1012
AVTCMIN  EQU   IEDQAVTD+1008
AVTHM02  EQU   IEDQAVTD+1004
AVTOPCIN EQU   IEDQAVTD+1002
AVTDCTLN EQU   IEDQAVTD+1000
AVTOPMSK EQU   IEDQAVTD+996
AVTDDFT  EQU   IEDQAVTD+992
AVTSTEAL EQU   IEDQAVTD+988
AVTDSKCT EQU   IEDQAVTD+982
AVTCKRST EQU   IEDQAVTD+981
AVTSTAN  EQU   AVTBIT3
AVTSTACN EQU   AVTBIT3
AVTSTAIN EQU   AVTBIT3
AVTSTAYN EQU   AVTBIT3
AVTOLTBN EQU   AVTBIT3
AVTTSAB  EQU   AVTBIT3
AVTRFULN EQU   AVTBIT3
AVTRECVN EQU   AVTBIT3
@NM00070 EQU   AVTBIT2
@NM00069 EQU   AVTBIT2
AVTOPEIN EQU   AVTBIT2
AVTSTRTN EQU   AVTBIT2
AVTTOPOL EQU   AVTBIT2
AVTCOPYN EQU   AVTBIT2
AVTREUSN EQU   AVTBIT2
AVTEXTSC EQU   AVTBIT2
AVTDISKN EQU   AVTBIT1
AVTQUCKN EQU   AVTBIT1
AVTCLOSN EQU   AVTBIT1
AVTREADN EQU   AVTBIT1
AVTDLAYN EQU   AVTBIT1
AVTAQTAN EQU   AVTBIT1
AVTTSON  EQU   AVTBIT1
AVTAPLKN EQU   AVTBIT1
AVTDUMBR EQU   IEDQAVTD+976
AVTDLQX  EQU   IEDQAVTD+974
AVTINTLV EQU   IEDQAVTD+972
AVTSMCNT EQU   IEDQAVTD+970
AVTAVFCT EQU   IEDQAVTD+968
AVTOPCON EQU   IEDQAVTD+966
AVTOPCNT EQU   IEDQAVTD+964
AVTLNCNT EQU   IEDQAVTD+962
AVTKEYLE EQU   IEDQAVTD+960
AVTHA16  EQU   IEDQAVTD+958
AVTHA7   EQU   IEDQAVTD+956
AVTHA4   EQU   IEDQAVTD+954
AVTHA3   EQU   IEDQAVTD+952
AVTHA2   EQU   IEDQAVTD+950
AVTGETMS EQU   IEDQAVTD+949
@NM00068 EQU   IEDQAVTD+948
AVTGETMD EQU   IEDQAVTD+944
AVTGETMN EQU   IEDQAVTD+940
AVTCWTOT EQU   IEDQAVTD+936
AVTCWINT EQU   IEDQAVTD+884
AVTDTRAP EQU   IEDQAVTD+880
@NM00067 EQU   IEDQAVTD+878
@NM00066 EQU   AVTIOTR
AVTIOTRH EQU   AVTIOTR
AVTIOTRE EQU   AVTIOTR
@NM00065 EQU   AVTSUBT
AVTSUBPT EQU   AVTSUBT
AVTSUBON EQU   AVTSUBT
AVTAFE30 EQU   IEDQAVTD+872
AVTAFE20 EQU   IEDQAVTD+868
AVTAFE10 EQU   IEDQAVTD+864
AVTCWEC2 EQU   IEDQAVTD+860
AVTCWPM2 EQU   IEDQAVTD+856
AVTCWTS2 EQU   IEDQAVTD+855
AVTCWTS1 EQU   IEDQAVTD+854
AVTCWCLD EQU   AVTCWFL2
AVTCWRAP EQU   AVTCWFL2
@NM00064 EQU   AVTCWFL2
@NM00063 EQU   AVTCWFL2
@NM00062 EQU   AVTCWFL2
@NM00061 EQU   AVTCWFL2
@NM00060 EQU   AVTCWFL2
AVTCWACT EQU   AVTCWFL2
@NM00059 EQU   AVTCWFL1
@NM00058 EQU   AVTCWFL1
@NM00057 EQU   AVTCWFL1
@NM00056 EQU   AVTCWFL1
@NM00055 EQU   AVTCWFL1
@NM00054 EQU   AVTCWFL1
@NM00053 EQU   AVTCWFL1
AVTCOMWN EQU   AVTCWFL1
AVTCWEC1 EQU   IEDQAVTD+848
AVTCWPM1 EQU   IEDQAVTD+844
AVTCAREA EQU   IEDQAVTD+840
AVTFZERO EQU   IEDQAVTD+836
AVTCADDR EQU   IEDQAVTD+832
AVTCOREC EQU   IEDQAVTD+828
@NM00052 EQU   IEDQAVTD+820
AVTCPBCB EQU   IEDQAVTD+816
@NM00051 EQU   IEDQAVTD+808
AVTDSIOB EQU   IEDQAVTD+804
@NM00050 EQU   IEDQAVTD+796
AVTCPRMB EQU   IEDQAVTD+792
@NM00049 EQU   IEDQAVTD+784
AVTCLOSB EQU   IEDQAVTD+780
@NM00048 EQU   IEDQAVTD+772
AVTACTIB EQU   IEDQAVTD+768
@NM00047 EQU   IEDQAVTD+764
AVTOLTEB EQU   IEDQAVTD+760
AVTOLTCH EQU   AVTOLTQB+1
AVTOLTVT EQU   AVTOLTQB
@NM00046 EQU   AVTOPCQB+8
@NM00045 EQU   AVTOPCEC+1
@NM00044 EQU   AVTOPCCC
AVTOPCPO EQU   AVTOPCCC
AVTOPCWA EQU   AVTOPCCC
AVTOPCCH EQU   AVTOPCOB+1
AVTOPCVT EQU   AVTOPCOB
@NM00043 EQU   AVTCKPQB+9
AVTCKPTS EQU   AVTCKPQB+8
@NM00042 EQU   AVTCKPEC+1
@NM00041 EQU   AVTCKPCC
AVTCKPPO EQU   AVTCKPCC
AVTCKPWA EQU   AVTCKPCC
AVTCKPCH EQU   AVTCKPTB+1
AVTCKPVT EQU   AVTCKPTB
@NM00040 EQU   IEDQAVTD+724
@NM00039 EQU   IEDQAVTD+712
AVTBFREB EQU   IEDQAVTD+708
AVTTIMQ  EQU   IEDQAVTD+704
@NM00038 EQU   IEDQAVTD+700
AVTIMQPS EQU   IEDQAVTD+696
AVTINOUT EQU   IEDQAVTD+694
AVTREFTM EQU   IEDQAVTD+692
@NM00037 EQU   IEDQAVTD+680
AVTDELYB EQU   IEDQAVTD+676
AVTOCQPT EQU   IEDQAVTD+672
AVTTSOPT EQU   IEDQAVTD+668
AVTSUPPT EQU   IEDQAVTD+664
AVTCBQCB EQU   IEDQAVTD+660
AVTMSGS  EQU   IEDQAVTD+657
@NM00036 EQU   AVTSYSER
@NM00035 EQU   AVTSYSER
@NM00034 EQU   AVTSYSER
@NM00033 EQU   AVTSYSER
@NM00032 EQU   AVTSYSER
@NM00031 EQU   AVTSYSER
AVTCMAXN EQU   AVTSYSER
AVTCMINN EQU   AVTSYSER
AVT2260L EQU   IEDQAVTD+652
AVTABEPL EQU   AVTADBUF
AVTHFF   EQU   AVTCLRHI+2
@NM00030 EQU   AVTCLRHI
AVTCCLNK EQU   AVTCRELE+5
AVTCCPRI EQU   AVTCRELE+4
AVTCCQCB EQU   AVTCCELE+1
AVTCCKEY EQU   AVTCCELE
AVTDELAD EQU   IEDQAVTD+632
AVTDELEM EQU   IEDQAVTD+628
AVTBSX   EQU   AVTCKLNK
AVTOPETR EQU   AVTHG01
@NM00029 EQU   AVTCKBYT
AVTCKONQ EQU   AVTCKBYT
@NM00028 EQU   AVTCKBYT
@NM00027 EQU   AVTCKBYT
@NM00026 EQU   AVTCKBYT
@NM00025 EQU   AVTCKBYT
@NM00024 EQU   AVTCKBYT
@NM00023 EQU   AVTCKBYT
AVTOPERT EQU   IEDQAVTD+618
AVTOPXCL EQU   IEDQAVTD+616
AVTOPERL EQU   IEDQAVTD+615
@NM00022 EQU   IEDQAVTD+614
AVTCKTIM EQU   IEDQAVTD+612
AVTCKELV EQU   IEDQAVTD+610
AVTCPRCD EQU   IEDQAVTD+609
AVTWARMN EQU   AVTCKELF
AVTCRTLN EQU   AVTCKELF
AVTCPIPN EQU   AVTCKELF
AVTCCLCN EQU   AVTCKELF
AVTCINCN EQU   AVTCKELF
@NM00021 EQU   AVTCKELF
AVTCMCPN EQU   AVTCKELF
AVTNQBCK EQU   AVTCKELF
AVTCKQAD EQU   IEDQAVTD+605
AVTSCBSZ EQU   IEDQAVTD+604
@NM00020 EQU   IEDQAVTD+600
AVTCKELE EQU   IEDQAVTD+596
@NM00019 EQU   AVTCKPEL+8
AVTCKRLK EQU   AVTCKPEL+5
AVTCKRPR EQU   AVTCKPEL+4
AVTCKRMQ EQU   AVTCKRMV+1
AVTCKRKY EQU   AVTCKRMV
AVTHK    EQU   IEDQAVTD+576
AVTHI    EQU   IEDQAVTD+572
AVTIOT   EQU   IEDQAVTD+568
AVTNX    EQU   IEDQAVTD+564
AVTTONE  EQU   IEDQAVTD+560
AVTA3TL  EQU   IEDQAVTD+556
AVTDMECB EQU   IEDQAVTD+552
AVTABEND EQU   IEDQAVTD+546
AVTPLCBN EQU   IEDQAVTD+544
@NM00018 EQU   AVTSAVTP+1
@NM00017 EQU   AVTSAVTF
AVTSNA   EQU   AVTSAVTF
AVTONSNA EQU   AVTSAVTF
AVTVTMCP EQU   AVTSAVTF
@NM00016 EQU   IEDQAVTD+536
AVTCMBSS EQU   IEDQAVTD+532
AVTRCV   EQU   IEDQAVTD+528
AVTSEND  EQU   IEDQAVTD+524
AVTCSCH  EQU   IEDQAVTD+520
AVTQ1    EQU   IEDQAVTD+516
AVTE7    EQU   IEDQAVTD+512
AVTHB    EQU   IEDQAVTD+508
AVTR1    EQU   IEDQAVTD+504
AVTBZ    EQU   IEDQAVTD+500
AVTEZ    EQU   IEDQAVTD+496
AVTEC    EQU   IEDQAVTD+492
AVTEW    EQU   IEDQAVTD+488
AVTNDIAL EQU   AVTSCOPT
AVTN2741 EQU   AVTSCOPT
AVTCONCO EQU   AVTSCOPT
AVTCONC  EQU   AVTSCOPT
AVTCMBUF EQU   AVTSCOPT
AVTAPDMP EQU   AVTSCOPT
@NM00015 EQU   AVTSCOPT
AVTHA    EQU   AVTDISP
AVTEA    EQU   IEDQAVTD+476
AVTAX    EQU   IEDQAVTD+472
AVTA3    EQU   IEDQAVTD+468
AVTGD    EQU   IEDQAVTD+464
AVTAL    EQU   IEDQAVTD+460
AVTOLTST EQU   AVTHG02
AVTE8    EQU   IEDQAVTD+452
AVTUI    EQU   IEDQAVTD+448
AVTCOMPT EQU   IEDQAVTD+444
AVTCRSRF EQU   IEDQAVTD+440
@NM00014 EQU   IEDQAVTD+436
AVTKA02  EQU   IEDQAVTD+432
AVTOPTPT EQU   IEDQAVTD+428
AVTPCBPT EQU   IEDQAVTD+424
@NM00013 EQU   AVTECB1
AVTCOMP  EQU   AVTECB1
@NM00012 EQU   AVTECB1
AVTOPECA EQU   IEDQAVTD+416
AVTOLECA EQU   IEDQAVTD+412
AVTCKECA EQU   IEDQAVTD+408
AVTCWECA EQU   IEDQAVTD+404
AVTCWTCB EQU   IEDQAVTD+400
AVTOLTCB EQU   IEDQAVTD+396
AVTOCTCB EQU   IEDQAVTD+392
AVTCKTCB EQU   IEDQAVTD+388
AVTAS    EQU   IEDQAVTD+384
AVTNOLBF EQU   IEDQAVTD+382
AVTNCKPR EQU   IEDQAVTD+381
AVTCIB   EQU   IEDQAVTD+380
AVTSPLPT EQU   IEDQAVTD+376
AVTMVBFR EQU   IEDQAVTD+372
AVTSBTA  EQU   IEDQAVTD+368
AVTRARTN EQU   IEDQAVTD+364
AVTBSCAN EQU   IEDQAVTD+360
AVTRDYA  EQU   IEDQAVTD+356
AVTDISTR EQU   IEDQAVTD+348
AVTPARM3 EQU   IEDQAVTD+344
@NM00011 EQU   AVTPKF
@NM00010 EQU   AVTPKF
@NM00009 EQU   AVTPKF
AVTFTCHF EQU   AVTPKF
@NM00008 EQU   AVTPKF
@NM00007 EQU   AVTPKF
@NM00006 EQU   AVTPKF
@NM00005 EQU   AVTPKF
AVTPARM  EQU   IEDQAVTD+336
AVTEXS2A EQU   IEDQAVTD+330
AVTEXA2S EQU   IEDQAVTD+324
AVTOCGET EQU   IEDQAVTD+320
AVTCKAVT EQU   @NM00003+1
@NM00004 EQU   AVTCKFLG
AVTCKHLT EQU   AVTCKFLG
AVTCKREQ EQU   AVTCKFLG
AVTCKENV EQU   AVTCKFLG
AVTCKNAC EQU   AVTCKFLG
AVTCKTAC EQU   AVTCKFLG
@NM00002 EQU   IEDQAVTD+312
AVTREADD EQU   IEDQAVTD+308
AVTREADY EQU   IEDQAVTD+304
AVTRACE  EQU   IEDQAVTD+300
AVTTCB   EQU   IEDQAVTD+296
AVTPASWD EQU   IEDQAVTD+288
AVTCTLCH EQU   IEDQAVTD+280
AVTDOUBL EQU   IEDQAVTD+272
AVTDOUBX EQU   IEDQAVTD+264
AVTDPARM EQU   IEDQAVTD+260
AVTCSTCS EQU   IEDQAVTD+256
AVTDLQ   EQU   AVTSAVEX+32
@NM00001 EQU   AVTSAVEX
AVTSAVE4 EQU   IEDQAVTD+144
AVTSAVE3 EQU   IEDQAVTD+72
AVTSAVE2 EQU   IEDQAVTD
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00549 EQU   @RC00541
@RC00547 EQU   @RC00541
@RC00545 EQU   @RC00541
@RC00543 EQU   @RC00541
@RF00580 EQU   @EL00002
@RF00604 EQU   @EL00003
@RC00667 EQU   @EL00004
@RC00673 EQU   @EL00005
@RF00741 EQU   @EL00006
@RC00758 EQU   @EL00007
@RC00767 EQU   @EL00008
@RC00805 EQU   @EL00009
@RC00790 EQU   @EL00009
@RC00829 EQU   @EL00012
@RF00879 EQU   @RC00877
@RC00874 EQU   @EL00016
@RC00913 EQU   @EL00017
@RC00940 EQU   @EL00020
@PB00021 EQU   @EL00001
@RC00675 EQU   @RC00673
@RC00795 EQU   @RC00790
@PB00020 EQU   @PB00021
@RC00678 EQU   @RC00675
@PB00019 EQU   @PB00020
@PB00018 EQU   @PB00019
@PB00017 EQU   @PB00018
@PB00016 EQU   @PB00017
@PB00015 EQU   @PB00016
@PB00014 EQU   @PB00015
@PB00013 EQU   @PB00014
@PB00012 EQU   @PB00013
@PB00011 EQU   @PB00012
@PB00010 EQU   @PB00011
@PB00009 EQU   @PB00010
@PB00008 EQU   @PB00009
@PB00007 EQU   @PB00008
@PB00006 EQU   @PB00007
@PB00005 EQU   @PB00006
@PB00004 EQU   @PB00005
@PB00003 EQU   @PB00004
@PB00002 EQU   @PB00003
@RC00566 EQU   @PB00002
@ENDDATA EQU   *
         END   IEDSCLU,(C'PLS0438',0701,77217)

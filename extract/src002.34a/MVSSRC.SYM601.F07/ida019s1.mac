         TITLE 'IDA019S1 FAST PATH DECODE && DRIVER                    *
                         '
IDA019S1 CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(16)                                             0001
         DC    C'IDA019S1  78.180'                                 0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                     0001
         BALR  @11,0                                               0001
@PSTART  DS    0H                                                  0001
         USING @PSTART,@11                                         0001
*   R15SAVE=ZERO;                   /* NO ERRORS YET                 */
         SLR   @10,@10                                             0214
         ST    @10,R15SAVE(,R13)                                   0214
*   RAMB=AMBLDTA;                   /* SET AMB REG                   */
         L     @10,RPLDACB(,RRPL)                                  0215
         L     @10,ACBAMBL(,@10)                                   0215
         L     RAMB,AMBLDTA(,@10)                                  0215
*   TS(RPLACTIV);                   /* SEE IF RPL IN USE             */
         TS    RPLACTIV(RRPL)                                      0216
*   BC(8,SETCODE);                  /* IF NOT, MAKE SO & BR          */
         BC    8,SETCODE                                           0217
*   RETURN CODE('04'X);             /* RPL BSY, RTRN TO USER         */
         LA    @15,4                                               0218
         L     @14,12(,@13)                                        0218
         LM    @00,@12,20(@13)                                     0218
         BR    @14                                                 0218
*SETCODE:                                                          0219
*   RPLREQ=RWORK0;                  /* SET REQUEST CODE              */
SETCODE  STC   RWORK0,RPLREQ(,RRPL)                                0219
*   RWORK0=ZERO;                    /* CLEAR REG                     */
         SLR   RWORK0,RWORK0                                       0220
*   IF RPLECBSW=OFF THEN            /* ECB IN RPL?                   */
         TM    RPLECBSW(RRPL),B'00000001'                          0221
         BNZ   @RF00221                                            0221
*     RPLECB=RWORK0;                /* YES, ZERO IT                  */
         ST    RWORK0,RPLECB(,RRPL)                                0222
*   ELSE                            /* NO,                           */
*     USERECB=RWORK0;               /* ZERO USER ECB                 */
         B     @RC00221                                            0223
@RF00221 L     @10,RPLECBPT(,RRPL)                                 0223
         STCM  RWORK0,15,USERECB(@10)                              0223
*   RFY                                                            0224
*     RWORK0 UNRSTD;                                               0224
@RC00221 DS    0H                                                  0225
*   RPLFDBWD=ZERO;                  /* CLEAR FEEDBACK AREA           */
*                                                                  0225
         SLR   @10,@10                                             0225
         ST    @10,RPLFDBWD(,RRPL)                                 0225
*   /*****************************************************************/
*   /*                                                               */
*   /* FIND A PLACEHOLDER.                                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0226
*   RPLH=AMBPH+LENGTH(IDAPLHDR);    /* POINT TO FIRST PLH    @ZA13575*/
         LA    RPLH,16                                             0226
         AL    RPLH,AMBPH(,RAMB)                                   0226
*   IF RPLPLHPT^=0 THEN             /* TEST FOR OLD PLH      @ZA13575*/
         C     @10,RPLPLHPT(,RRPL)                                 0227
         BE    @RF00227                                            0227
*     DO UNTIL RPLH=0;              /* YES VALIDITY CHECK    @ZA13575*/
@DL00228 DS    0H                                                  0229
*       IF PLHMRPL=RRPL&            /* IS THERE A MATCH AND  @ZA13575*/
*           PLHAVL^=ZERO THEN       /* DO WE OWN IT          @ZA13575*/
         C     RRPL,PLHMRPL(,RPLH)                                 0229
         BNE   @RF00229                                            0229
         CLI   PLHAVL(RPLH),0                                      0229
         BNE   @RT00229                                            0229
*         GOTO OLDPLH;              /* YES, REUSE SAME PLH   @ZA13575*/
*       RPLH=PLHCHAIN;              /* BUMP TO NEXT PLH      @ZA13575*/
@RF00229 L     RPLH,PLHCHAIN(,RPLH)                                0231
*     END;                          /* END OF SCAN FOR OLD PLH     0232
*                                                            @ZA13575*/
*                                                                  0232
@DE00228 LTR   RPLH,RPLH                                           0232
         BNZ   @DL00228                                            0232
*   /*****************************************************************/
*   /*                                                               */
*   /* SEARCH POOL FOR A PLACEHOLDER THAT IS AVAILABLE               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0233
*   RPLH=AMBPH+LENGTH(IDAPLHDR);    /* PT TO FIRST                   */
@RF00227 LA    RPLH,16                                             0233
         AL    RPLH,AMBPH(,RAMB)                                   0233
*   DO UNTIL RPLH=ZERO;             /* SEARCH POOL                   */
@DL00234 DS    0H                                                  0235
*     TS(PLHAVL);                   /* AVAILABLE?                    */
         TS    PLHAVL(RPLH)                                        0235
*     BC(8,AVLPLH);                 /* BR IF YES                     */
         BC    8,AVLPLH                                            0236
*     RPLH=PLHCHAIN;                /* PT TO NEXT                    */
         L     RPLH,PLHCHAIN(,RPLH)                                0237
*   END;                                                           0238
*                                                                  0238
@DE00234 LTR   RPLH,RPLH                                           0238
         BNZ   @DL00234                                            0238
*   /*****************************************************************/
*   /*                                                               */
*   /* NO PLACEHOLDERS ARE FREE, IND LOGICAL ERROR.                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0239
*   RPLERRCD=RPLNOPLH;              /* NO PLH                        */
         MVI   RPLERRCD(RRPL),X'40'                                0239
*   RPLRTNCD='08'X;                 /* LOGICAL ERR                   */
         LA    @10,8                                               0240
         STC   @10,RPLRTNCD(,RRPL)                                 0240
*   RPLACTIV=ZERO;                  /* FREE RPL                      */
         MVI   RPLACTIV(RRPL),X'00'                                0241
*   R15SAVE=RPLRTNCD;               /* ERROR CODE IN REG 15          */
         ST    @10,R15SAVE(,R13)                                   0242
*   RETURN;                         /* RETURN TO CALLER              */
*                                                                  0243
@EL00001 DS    0H                                                  0243
@EF00001 DS    0H                                                  0243
@ER00001 LM    @14,@12,12(@13)                                     0243
         BR    @14                                                 0243
*   /*****************************************************************/
*   /*                                                               */
*   /* AN AVAILABLE PLACEHOLDER WAS FOUND, POINT IT TO THE RPL       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0244
*AVLPLH:                                                           0244
*   PLHMRPL=RRPL;                   /* MASTER RPL PTR                */
AVLPLH   ST    RRPL,PLHMRPL(,RPLH)                                 0244
*   PLHCRPL=RRPL;                   /* CURRENT RPL PTR               */
         ST    RRPL,PLHCRPL(,RPLH)                                 0245
*   RPLPLHPT=RPLH;                  /* PT RPL TO PLH                 */
         ST    RPLH,RPLPLHPT(,RRPL)                                0246
*OLDPLH:                                                           0247
*   PLHRETO=ZERO;                   /* RESET FIELD                   */
OLDPLH   SLR   @10,@10                                             0247
         STH   @10,PLHRETO(,RPLH)                                  0247
*   RBUFC=PLHDBUFC;                 /* BUFC BASE                     */
         L     RBUFC,PLHDBUFC(,RPLH)                               0248
*   BUFCMW=OFF;                     /* NO WRITE YET                  */
*   BUFCRRD=OFF;                    /* NO READ YET                   */
         NI    BUFCMW(RBUFC),B'01011111'                           0250
*   PLHINVAL=ON;                    /* RESET INVAL IND               */
*                                                                  0251
         OI    PLHINVAL(RPLH),B'00000010'                          0251
*   /*****************************************************************/
*   /*                                                               */
*   /* INTERROGATE REQUEST CODE. ONLY GET AND PUT ARE VALID FOR FAST */
*   /* PATH.                                                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0252
*   IF RPLREQ=RPLGET THEN                                          0252
         CLI   RPLREQ(RRPL),0                                      0252
         BNE   @RF00252                                            0252
*     DO;                           /* HERE FOR GET                  */
*       PLHCRBA=RBA;                /* SET USER RBA                  */
         L     @10,RPLARG(,RRPL)                                   0254
         L     @10,RBA(,@10)                                       0254
         ST    @10,PLHCRBA(,RPLH)                                  0254
*       BUFCDDDD=RBA;               /* RBA IN BUFC                   */
         ST    @10,BUFCDDDD(,RBUFC)                                0255
*       PLHUPD=OFF;                 /* NO UPDATE, YET                */
         NI    PLHUPD(RPLH),B'01111111'                            0256
*       IF RPLUPD=ON THEN           /* SET EXCL CTRL IF UPDATE       */
         TM    RPLUPD(RRPL),B'00000010'                            0257
         BNO   @RF00257                                            0257
*         DO;                       /* UPDATE ON                     */
*           BUFCEXC=ON;             /* SET EXCL CTRL                 */
         OI    BUFCEXC(RBUFC),B'00000010'                          0259
*           RBUFC=BUFDBUFC;         /* FIRST BUFC IN CHAIN           */
*                                                                  0260
         L     @10,AMBBUFC(,RAMB)                                  0260
         L     RBUFC,BUFDBUFC(,@10)                                0260
*           /*********************************************************/
*           /*                                                       */
*           /* IF UPDATE & RBA IS IN ANOTHER BUFC UNDER EXCL CTRL,   */
*           /* THEN READ EXCL ERR.                                   */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0261
*           DO UNTIL RBUFC=ZERO;    /* LOOP THRU CHAIN               */
@DL00261 DS    0H                                                  0262
*             IF BUFCDDDD=PLHCRBA&  /* RBA MATCH                     */
*                 RBUFC^=PLHDBUFC&  /* & DIFF. BUFC                  */
*                 BUFCEXC=ON THEN   /* UNDER EXC CTRL        @ZA24451*/
         CLC   BUFCDDDD(4,RBUFC),PLHCRBA(RPLH)                     0262
         BNE   @RF00262                                            0262
         C     RBUFC,PLHDBUFC(,RPLH)                               0262
         BE    @RF00262                                            0262
         TM    BUFCEXC(RBUFC),B'00000010'                          0262
         BNO   @RF00262                                            0262
*XC1:                                                              0263
*               IF BUFCDDDD=PLHCRBA /* RBA AGAIN             @ZA24451*/
*                 THEN              /* YES, ERR                      */
XC1      CLC   BUFCDDDD(4,RBUFC),PLHCRBA(RPLH)                     0263
         BE    @RT00263                                            0263
*                 GO TO RDEXCLER;   /* TAKE RD EXCL ERR              */
*             RBUFC=BUFCHAIN;       /* PT TO NEXT                    */
@RF00262 L     RBUFC,BUFCHAIN(,RBUFC)                              0265
*           END;                    /* END BUFC LOOP                 */
@DE00261 LTR   RBUFC,RBUFC                                         0266
         BNZ   @DL00261                                            0266
*           PLHUPD=ON;              /* GET FOR UPDATE        @ZA16046*/
         OI    PLHUPD(RPLH),B'10000000'                            0267
*           PLHINVAL=OFF;           /* CAUSE PLH RETENTION           */
         NI    PLHINVAL(RPLH),B'11111101'                          0268
*         END;                      /* END UPDATE ON                 */
*       ELSE                                                       0270
*         ;                         /* NOT UPDATE                    */
@RF00257 DS    0H                                                  0271
*       RBUFC=PLHDBUFC;             /* RELOAD BUFC PTR               */
         L     RBUFC,PLHDBUFC(,RPLH)                               0271
*       BUFCRRD=ON;                 /* IND READ                      */
         OI    BUFCRRD(RBUFC),B'00100000'                          0272
*     END;                          /* END GET                       */
*   ELSE                            /* NOT GET                       */
*     DO;                                                          0274
         B     @RC00252                                            0274
@RF00252 DS    0H                                                  0275
*       IF RPLREQ=RPLPUT            /* PUT?                          */
*         THEN                      /* HERE FOR PUT                  */
         CLI   RPLREQ(RRPL),1                                      0275
         BNE   @RF00275                                            0275
*         DO;                                                      0276
*           IF PLHUPD=OFF THEN      /* STAND ALONE PUT?              */
         TM    PLHUPD(RPLH),B'10000000'                            0277
         BNZ   @RF00277                                            0277
*             DO;                   /* YES                           */
*               PLHCRBA=RBA;        /* USER RBA                      */
         L     @10,RPLARG(,RRPL)                                   0279
         L     @10,RBA(,@10)                                       0279
         ST    @10,PLHCRBA(,RPLH)                                  0279
*               BUFCDDDD=RBA;       /* IND RBA IN BUFC               */
         ST    @10,BUFCDDDD(,RBUFC)                                0280
*               BUFCEXC=ON;         /* IND EXCL CTRL                 */
*                                                                  0281
         OI    BUFCEXC(RBUFC),B'00000010'                          0281
*               /*****************************************************/
*               /*                                                   */
*               /* SEARCH POOL FOR RBA TO BE UPDATED. IF FOUND &     */
*               /* UNDER EXCL CTRL, IND READ EXCL ERR.               */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0282
*               RBUFC=BUFDBUFC;     /* PT TO FIRST                   */
         L     @10,AMBBUFC(,RAMB)                                  0282
         L     RBUFC,BUFDBUFC(,@10)                                0282
*               DO UNTIL RBUFC=ZERO;/* SEARCH POOL                   */
@DL00283 DS    0H                                                  0284
*                 IF BUFCDDDD=PLHCRBA&/* RBA MATCH &                 */
*                     RBUFC^=PLHDBUFC&/* DIFF BUFC &                 */
*                     BUFCEXC=ON THEN/* UNDER EXCL CTL       @ZA24451*/
         CLC   BUFCDDDD(4,RBUFC),PLHCRBA(RPLH)                     0284
         BNE   @RF00284                                            0284
         C     RBUFC,PLHDBUFC(,RPLH)                               0284
         BE    @RF00284                                            0284
         TM    BUFCEXC(RBUFC),B'00000010'                          0284
         BNO   @RF00284                                            0284
*XC2:                                                              0285
*                   IF BUFCDDDD=PLHCRBA/* RBA AGAIN          @ZA24451*/
*                     THEN                                         0285
XC2      CLC   BUFCDDDD(4,RBUFC),PLHCRBA(RPLH)                     0285
         BNE   @RF00285                                            0285
*                     DO;           /* YES, RD EXCL ERR              */
*RDEXCLER:                                                         0287
*                       PLHDBUFC->BUFCEXC=OFF;/* NO EXCL CNTL        */
RDEXCLER L     @10,PLHDBUFC(,RPLH)                                 0287
         NI    BUFCEXC(@10),B'11111101'                            0287
*                       RPLRTNCD='08'X;/* LOGICAL ERR                */
         MVI   RPLRTNCD(RRPL),X'08'                                0288
*                       RPLERRCD=RPLEXCL;/* RD EXCL ERR              */
         MVI   RPLERRCD(RRPL),X'14'                                0289
*                       GOTO S1LERAD;/* ERR EXIT                     */
         B     S1LERAD                                             0290
*                     END;                                         0291
*                 RBUFC=BUFCHAIN;   /* PT TO NEXT                    */
@RF00285 DS    0H                                                  0292
@RF00284 L     RBUFC,BUFCHAIN(,RBUFC)                              0292
*               END;                /* END POOL SEARCH               */
@DE00283 LTR   RBUFC,RBUFC                                         0293
         BNZ   @DL00283                                            0293
*               RBUFC=PLHDBUFC;     /* RELOAD RBUFC                  */
         L     RBUFC,PLHDBUFC(,RPLH)                               0294
*             END;                  /* END STAND ALONE PUT           */
*           PLHUPD=OFF;             /* RESET PLHUPD          @ZA16046*/
@RF00277 NI    PLHUPD(RPLH),B'01111111'                            0296
*           BUFCORBA=BUFCDDDD;      /* SET OUTPUT RBA                */
         L     @10,BUFCDDDD(,RBUFC)                                0297
         ST    @10,BUFCORBA(,RBUFC)                                0297
*           BUFCMW=ON;              /* IND WRITE                     */
         OI    BUFCMW(RBUFC),B'10000000'                           0298
*         END;                      /* END PUT                       */
*                                                                  0299
*       /*************************************************************/
*       /*                                                           */
*       /* REQUEST IS NOT GET OR PUT, INVALID REQUEST TYPE FOR FAST  */
*       /* PATH                                                      */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0300
*       ELSE                        /* NOT PUT                       */
*         DO;                                                      0300
         B     @RC00275                                            0300
@RF00275 DS    0H                                                  0301
*           RPLRTNCD='08'X;         /* LOGICAL ERR                   */
         MVI   RPLRTNCD(RRPL),X'08'                                0301
*           RPLERRCD=RPLINVP;       /* INVALID REQ                   */
         MVI   RPLERRCD(RRPL),X'68'                                0302
*           GOTO S1LERAD;           /* ERR EXIT                      */
         B     S1LERAD                                             0303
*         END;                      /* END NOT PUT                   */
*     END;                          /* END NOT GET                   */
@RC00275 DS    0H                                                  0306
*   BUFCBAD=RPLAREA;                /* BUFFER ADDRESS                */
*                                                                  0306
@RC00252 L     @10,RPLAREA(,RRPL)                                  0306
         ST    @10,BUFCBAD(,RBUFC)                                 0306
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL FAST PATH I/O DRIVER                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0307
*   PLHR13=R13;                     /* SAVE R13                      */
         ST    R13,PLHR13(,RPLH)                                   0307
*   RFY                                                            0308
*     RWORK0 RSTD;                                                 0308
*   RWORK0=ADDR(S1RESUME);          /* ADDR OF RESUME RTN            */
         LA    RWORK0,S1RESUME                                     0309
*I01:                                                              0310
*   DO;                             /* IDACALL(IDA019S2)             */
I01      DS    0H                                                  0311
*     CALL IDA019S2;                /* EXIT TO IDA019S2              */
         L     @15,@CV01137                                        0311
         BALR  @14,@15                                             0311
*     GEN(BALR @11,0);              /* LOAD ADDR OF REENTRY          */
         BALR @11,0
*     GEN(USING *,@11);             /* ESTABLISH ADDRESSING          */
         USING *,@11
*     GEN(L     @11,=A(@PSTART));   /* RELOAD BASE                   */
         L     @11,=A(@PSTART)
*     GEN(USING @PSTART,@11);       /* ESTABLISH ADDRESSING          */
         USING @PSTART,@11
*   END I01;                        /* FIOD                          */
*   RFY                                                            0317
*     RWORK0 UNRSTD;                                               0317
*S1RSTR13:                                                         0318
*   RRPL=PLHMRPL;                   /* RESTORE REGISTER ONE          */
S1RSTR13 L     RRPL,PLHMRPL(,RPLH)                                 0318
*   R13=PLHR13;                     /* RESTORE R13                   */
         L     R13,PLHR13(,RPLH)                                   0319
*   IF PLHINVAL=ON THEN             /* IF NOT GET UPDATE             */
         TM    PLHINVAL(RPLH),B'00000010'                          0320
         BNO   @RF00320                                            0320
*     BUFCEXC=OFF;                  /* RELEASE EXCL CNTL             */
         NI    BUFCEXC(RBUFC),B'11111101'                          0321
*   IF BUFCXEDB=ON THEN             /* MOUNT ERR?                    */
@RF00320 TM    BUFCXEDB(RBUFC),B'00000100'                         0322
         BNO   @RF00322                                            0322
*     DO;                           /* YES                           */
*       BUFCXEDB=OFF;               /* RESET BIT                     */
         NI    BUFCXEDB(RBUFC),B'11111011'                         0324
*       BUFCEXC=OFF;                /* RELEASE EXCL CNTL             */
         NI    BUFCEXC(RBUFC),B'11111101'                          0325
*       BUFCXEDB=OFF;               /* RESET BIT                     */
         NI    BUFCXEDB(RBUFC),B'11111011'                         0326
*       RPLRTNCD='08'X;             /* LOGICAL ERR                   */
         MVI   RPLRTNCD(RRPL),X'08'                                0327
*       RPLERRCD=RPLNOMNT;          /* MOUNT ERR                     */
         MVI   RPLERRCD(RRPL),X'18'                                0328
*S1LERAD:                           /* LOGICAL ERROR EXIT    @ZA14801*/
*       PLHINVAL=ON;                /* INVALIDATE THE PLH    @ZA14801*/
S1LERAD  OI    PLHINVAL(RPLH),B'00000010'                          0329
*       PLHMRPL=ZERO;               /* DISCONNECT THE PLH    @ZA14801*/
         SLR   @10,@10                                             0330
         ST    @10,PLHMRPL(,RPLH)                                  0330
*       PLHAVL=ZERO;                /* MAKE PLH AVAILABLE    @ZA14801*/
         MVI   PLHAVL(RPLH),X'00'                                  0331
*I02:                                                              0332
*       DO;                         /* IDACALL(IDALOCEX)             */
I02      DS    0H                                                  0333
*         CALL IDALOCEX;            /* EXIT TO IDALOCEX              */
         L     @15,@CV01134                                        0333
         BALR  @14,@15                                             0333
*         GEN(BALR @11,0);          /* LOAD ADDR OF REENTRY          */
         BALR @11,0
*         GEN(USING *,@11);         /* ESTABLISH ADDRESSING          */
         USING *,@11
*         GEN(L     @11,=A(@PSTART));/* RELOAD BASE                  */
         L     @11,=A(@PSTART)
*         GEN(USING @PSTART,@11);   /* ESTABLISH ADDRESSING          */
         USING @PSTART,@11
*       END I02;                    /* LOCATE USER EXIT      @ZA14801*/
*       RPLACTIV=ZERO;              /* RELEASE THE RPL       @ZA14801*/
         MVI   RPLACTIV(RRPL),X'00'                                0339
*       IF RPARM1^=ZERO THEN        /* IS EXIT PRESENT?      @ZA14801*/
         LTR   RPARM1,RPARM1                                       0340
         BZ    @RF00340                                            0340
*         CALL IDAEXITR;            /* YES, TAKE EXIT        @ZA14801*/
         L     @15,@CV01135                                        0341
         BALR  @14,@15                                             0341
*       R15SAVE='08'X;              /* SET RETURN CODE       @ZA14801*/
@RF00340 LA    @10,8                                               0342
         ST    @10,R15SAVE(,R13)                                   0342
*       RETURN;                     /* RETURN TO USER        @ZA14801*/
         B     @EL00001                                            0343
*     END;                                                         0344
*   ELSE                            /* IO-                           */
*     IF BUFCER1=ON×BUFCER2=ON THEN /* ERR?                          */
@RF00322 TM    BUFCER1(RBUFC),B'00011000'                          0345
         BZ    @RF00345                                            0345
*       DO;                         /* YES                           */
*         BUFCEXC=OFF;              /* RELEASE EXCL CNTL             */
         NI    BUFCEXC(RBUFC),B'11111101'                          0347
*         RPLRTNCD='0C'X;           /* PHYSICAL ERR                  */
         MVI   RPLRTNCD(RRPL),X'0C'                                0348
*I03:                                                              0349
*         DO;                       /* IDACALL(IDA019R5)             */
I03      DS    0H                                                  0350
*           CALL IDA019R5;          /* EXIT TO IDA019R5              */
         L     @15,@CV01138                                        0350
         BALR  @14,@15                                             0350
*           GEN(BALR @11,0);        /* LOAD ADDR OF REENTRY          */
         BALR @11,0
*           GEN(USING *,@11);       /* ESTABLISH ADDRESSING          */
         USING *,@11
*           GEN(L     @11,=A(@PSTART));/* RELOAD BASE                */
         L     @11,=A(@PSTART)
*           GEN(USING @PSTART,@11); /* ESTABLISH ADDRESSING          */
         USING @PSTART,@11
*         END I03;                  /* ERR RTN 1                     */
*         IF AMBEXEX(ONE)^=ZERO THEN/* EXCEPTION EXIT?       @ZA14801*/
         CLI   AMBEXEX(RAMB),0                                     0356
         BE    @RF00356                                            0356
*I04:                                                              0357
*           DO;                     /* IDACALL(IDAEXEX)              */
I04      DS    0H                                                  0358
*             CALL IDAEXEX;         /* EXIT TO IDAEXEX               */
         L     @15,@CV01136                                        0358
         BALR  @14,@15                                             0358
*             GEN(BALR @11,0);      /* LOAD ADDR OF REENTRY          */
         BALR @11,0
*             GEN(USING *,@11);     /* ESTABLISH ADDRESSING          */
         USING *,@11
*             GEN(L     @11,=A(@PSTART));/* RELOAD BASE              */
         L     @11,=A(@PSTART)
*             GEN(USING @PSTART,@11);/* ESTABLISH ADDRESSING         */
         USING @PSTART,@11
*           END I04;                /* YES, TAKE IT          @ZA14801*/
*         PLHINVAL=ON;              /* INVALIDATE THE PLH    @ZA14801*/
@RF00356 OI    PLHINVAL(RPLH),B'00000010'                          0364
*         PLHMRPL=ZERO;             /* DISCONNECT THE PLH    @ZA14801*/
         SLR   @10,@10                                             0365
         ST    @10,PLHMRPL(,RPLH)                                  0365
*         PLHAVL=ZERO;              /* MAKE PLH AVAILABLE    @ZA14801*/
         MVI   PLHAVL(RPLH),X'00'                                  0366
*I05:                                                              0367
*         DO;                       /* IDACALL(IDALOCEX)             */
I05      DS    0H                                                  0368
*           CALL IDALOCEX;          /* EXIT TO IDALOCEX              */
         L     @15,@CV01134                                        0368
         BALR  @14,@15                                             0368
*           GEN(BALR @11,0);        /* LOAD ADDR OF REENTRY          */
         BALR @11,0
*           GEN(USING *,@11);       /* ESTABLISH ADDRESSING          */
         USING *,@11
*           GEN(L     @11,=A(@PSTART));/* RELOAD BASE                */
         L     @11,=A(@PSTART)
*           GEN(USING @PSTART,@11); /* ESTABLISH ADDRESSING          */
         USING @PSTART,@11
*         END I05;                  /* LOCATE USER EXIT      @ZA14801*/
*         RPLACTIV=ZERO;            /* RELEASE THE RPL       @ZA14801*/
         MVI   RPLACTIV(RRPL),X'00'                                0374
*         IF RPARM1^=ZERO THEN      /* IS EXIT PRESENT?      @ZA14801*/
         LTR   RPARM1,RPARM1                                       0375
         BZ    @RF00375                                            0375
*           CALL IDAEXITR;          /* YES, TAKE EXIT        @ZA14801*/
         L     @15,@CV01135                                        0376
         BALR  @14,@15                                             0376
*         R15SAVE='0C'X;            /* SET RETURN CODE       @ZA14801*/
@RF00375 LA    @10,12                                              0377
         ST    @10,R15SAVE(,R13)                                   0377
*         RETURN;                   /* RETURN TO USER        @ZA14801*/
         B     @EL00001                                            0378
*       END;                                                       0379
*                                                                  0379
*   /*****************************************************************/
*   /*                                                               */
*   /* DISCONNECT THE PLACEHOLDER IF ITS POSITIONAL INFORMATION IS   */
*   /* INCORRECT                                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0380
*   IF PLHINVAL=ON                  /* IF INVALID PLH                */
*     THEN                          /* THEN DISCONNECT IT            */
@RF00345 TM    PLHINVAL(RPLH),B'00000010'                          0380
         BNO   @RF00380                                            0380
*     DO;                           /* MAKE PLH AVAILABLE    @ZA13575*/
*       RPLPLHPT=0;                 /* DISC PLH FROM RPL     @ZA13575*/
         SLR   @10,@10                                             0382
         ST    @10,RPLPLHPT(,RRPL)                                 0382
*       PLHMRPL=0;                  /* CUT CONNECTION TO RPL @ZA13575*/
         ST    @10,PLHMRPL(,RPLH)                                  0383
*       PLHAVL=CZERO;               /* TURN ON AVAILABLE FLAG      0384
*                                                            @ZA13575*/
         MVI   PLHAVL(RPLH),B'00000000'                            0384
*     END;                          /*                       @ZA13575*/
*   RPLACTIV=0;                     /* RELEASE THE RPL       @ZA13575*/
@RF00380 MVI   RPLACTIV(RRPL),X'00'                                0386
*   RETURN;                         /* RETURN TO ISSUER OF GET/PUT 0387
*                                      WITH GET/PUT DONE CORRECTLY 0387
*                                      AND SUPER FAST...             */
*                                                                  0387
         B     @EL00001                                            0387
*   /*****************************************************************/
*   /*                                                               */
*   /* RESUME ROUTINE............... EITHER SCHEDULED OUT OF IDA019S4*/
*   /* (DIE EXIT) OR BRANCH ENTERED FROM POST STATUS VIA IOSPGAD.    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0388
*S1RESUME:                                                         0388
*   GEN(BALR @11,0);                /* SET ADDRESSIBILITY            */
S1RESUME BALR @11,0
*   GEN(USING *,@11);                                              0389
         USING *,@11
*   GEN(L   @11,=A(@PSTART));       /* RELOAD BASE                   */
         L   @11,=A(@PSTART)
*   GEN(USING @PSTART,@11);         /* SET ADDRESSIBILITY            */
         USING @PSTART,@11
*   RFY                                                            0392
*     RWORK1 RSTD;                                                 0392
*   RWORK1=IOSUSE;                  /* IOMB PTR              @Z40TSDT*/
         L     RWORK1,IOSUSE(,R1)                                  0393
*   RFY                                                            0394
*     IDAIOMB BASED(RWORK1);        /* IOMB BASE                     */
*   RBUFC=IOMBUFC;                  /* BUFC PTR                      */
         L     RBUFC,IOMBUFC(,RWORK1)                              0395
*   RPLH=IOMPLH;                    /* PLH PTR                       */
         L     RPLH,IOMPLH(,RWORK1)                                0396
*   RAMB=IOMAMB;                    /* AMB PTR                       */
         L     RAMB,IOMAMB(,RWORK1)                                0397
*   GOTO S1RSTR13;                  /* TO COMMON END                 */
         B     S1RSTR13                                            0398
*   RFY                                                            0399
*     RWORK1 UNRSTD;                                               0399
*   GEN(IDAPATCH);                  /* DEFINE A PATCH AREA           */
         IDAPATCH
*   END IDA019S1                    /* END OF DECODE                 */
*                                                                  0401
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (LCGPLSSW)                                       */
*/*%INCLUDE SYSLIB  (IDAREGS )                                       */
*/*%INCLUDE SYSLIB  (IFGRPL  )                                       */
*/*%INCLUDE SYSLIB  (IDARMRCD)                                       */
*/*%INCLUDE SYSLIB  (IFGACB  )                                       */
*/*%INCLUDE SYSLIB  (IDAAMBL )                                       */
*/*%INCLUDE SYSLIB  (IDAAMB  )                                       */
*/*%INCLUDE SYSLIB  (IDAPLH  )                                       */
*/*%INCLUDE SYSLIB  (IDABUFC )                                       */
*/*%INCLUDE SYSLIB  (IDAIOMB )                                       */
*/*%INCLUDE SYSLIB  (IECDIOSB)                                       */
*                                                                  0401
*       ;                                                          0401
         B     @EL00001                                            0401
@DATA    DS    0H
@DATD    DSECT
         DS    0F
IDA019S1 CSECT
         DS    0F
@DATD    DSECT
         DS    0D
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IDA019S1 CSECT
         DS    0F
@SIZDATD DC    AL1(0)
         DC    AL3(@ENDDATD-@DATD)
@CV01134 DC    V(IDALOCEX)
@CV01135 DC    V(IDAEXITR)
@CV01136 DC    V(IDAEXEX)
@CV01137 DC    V(IDA019S2)
@CV01138 DC    V(IDA019R5)
         DS    0D
HWORD4   DC    H'4'
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
RWORK0   EQU   @00
RRPL     EQU   @01
R1       EQU   @01
RPLH     EQU   @02
RAMB     EQU   @03
RBUFC    EQU   @04
RWORK1   EQU   @05
RPARM1   EQU   @12
R13      EQU   @13
R15      EQU   @15
RWORK2   EQU   @06
RWORK3   EQU   @07
RWORK4   EQU   @08
RWORK5   EQU   @09
R10      EQU   @10
R11      EQU   @11
R14      EQU   @14
IFGRPL   EQU   0
RPLCOMN  EQU   IFGRPL
RPLIDWD  EQU   RPLCOMN
RPLREQ   EQU   RPLIDWD+2
RPLLEN   EQU   RPLIDWD+3
RPLPLHPT EQU   RPLCOMN+4
RPLECB   EQU   RPLCOMN+8
RPLFDBWD EQU   RPLCOMN+12
RPLFDBK  EQU   RPLFDBWD+1
RPLRTNCD EQU   RPLFDBK
RPLCNDCD EQU   RPLFDBK+1
RPLCMPON EQU   RPLCNDCD
RPLFDB2  EQU   RPLCMPON
RPLERRCD EQU   RPLCNDCD+1
RPLFDB3  EQU   RPLERRCD
RPLKEYLE EQU   RPLCOMN+16
RPLDACB  EQU   RPLCOMN+24
RPLAREA  EQU   RPLCOMN+32
RPLARG   EQU   RPLCOMN+36
RPLOPTCD EQU   RPLCOMN+40
RPLOPT1  EQU   RPLOPTCD
RPLECBSW EQU   RPLOPT1
RPLOPT2  EQU   RPLOPTCD+1
RPLADR   EQU   RPLOPT2
RPLUPD   EQU   RPLOPT2
RPLOPT3  EQU   RPLOPTCD+2
RPLOPT4  EQU   RPLOPTCD+3
RPLNXTRP EQU   RPLCOMN+44
RPLOPTC2 EQU   RPLCOMN+56
RPLOPT5  EQU   RPLOPTC2
RPLWRTYP EQU   RPLOPT5
RPLOPT6  EQU   RPLOPTC2+1
RPLUNTYP EQU   RPLOPT6
RPLOPT7  EQU   RPLOPTC2+2
RPLCNOPT EQU   RPLOPT7
RPLOPT8  EQU   RPLOPTC2+3
RPLRBAR  EQU   RPLCOMN+60
RPLAIXID EQU   RPLRBAR+2
RPLEXTDS EQU   RPLCOMN+68
RPLEXTD1 EQU   RPLEXTDS
RPLACTIV EQU   RPLCOMN+69
IFGACB   EQU   0
ACBCOMN  EQU   IFGACB
ACBLENG  EQU   ACBCOMN+2
ACBLENG2 EQU   ACBLENG
ACBAMBL  EQU   ACBCOMN+4
ACBJWA   EQU   ACBAMBL
ACBMACRF EQU   ACBCOMN+12
ACBMACR1 EQU   ACBMACRF
ACBADR   EQU   ACBMACR1
ACBCNV   EQU   ACBMACR1
ACBMACR2 EQU   ACBMACRF+1
ACBBUFPL EQU   ACBCOMN+20
ACBMACR3 EQU   ACBBUFPL
ACBRECFM EQU   ACBCOMN+24
ACBCCTYP EQU   ACBCOMN+25
ACBOPT   EQU   ACBCOMN+26
ACBDSORG EQU   ACBOPT
ACBCROPS EQU   ACBDSORG
ACBDVIND EQU   ACBDSORG
ACBEXLST EQU   ACBCOMN+36
ACBDDNM  EQU   ACBCOMN+40
ACBAMETH EQU   ACBDDNM+3
ACBOFLGS EQU   ACBCOMN+48
ACBEXFG  EQU   ACBOFLGS
ACBIOSFG EQU   ACBOFLGS
ACBINFLG EQU   ACBCOMN+50
ACBINFL1 EQU   ACBINFLG
ACBVVIC  EQU   ACBINFL1
ACBINFL2 EQU   ACBINFLG+1
ACBUJFCB EQU   ACBCOMN+52
ACBBLKSZ EQU   ACBCOMN+60
IDAAMBL  EQU   0
AMBLEOV  EQU   IDAAMBL+12
AMBLEFLG EQU   AMBLEOV
AMBLDDNM EQU   IDAAMBL+16
AMBLIDF  EQU   AMBLDDNM
AMBLQ    EQU   AMBLIDF+7
AMBLVC   EQU   IDAAMBL+28
AMBLTYPE EQU   IDAAMBL+30
AMBLQ2   EQU   IDAAMBL+31
AMBLSHAR EQU   IDAAMBL+33
AMBLFLG1 EQU   IDAAMBL+35
AMBLVVIC EQU   AMBLFLG1
AMBLFLG2 EQU   IDAAMBL+36
AMBLDTA  EQU   IDAAMBL+52
IDAAMB   EQU   0
AMBBUFC  EQU   IDAAMB+8
AMBPH    EQU   IDAAMB+12
AMBEOVR  EQU   IDAAMB+24
AMBFLG0  EQU   AMBEOVR
AMBFLG1  EQU   IDAAMB+25
AMBDSORG EQU   IDAAMB+26
AMBIOBAD EQU   IDAAMB+28
AMBINFL  EQU   IDAAMB+42
AMBDEBPT EQU   IDAAMB+44
AMBOFLGS EQU   IDAAMB+48
AMBFLG2  EQU   IDAAMB+49
AMBEOVPT EQU   IDAAMB+56
AMBCSWD1 EQU   IDAAMB+84
AMBAFLG  EQU   AMBCSWD1
AMBEXEX  EQU   IDAAMB+100
IDAPLHDR EQU   0
IDAPLH   EQU   0
PLHAVL   EQU   IDAPLH
PLHFLG1  EQU   IDAPLH+2
PLHFLG2  EQU   IDAPLH+3
PLHUPD   EQU   PLHFLG2
PLHEFLGS EQU   IDAPLH+4
PLHINVAL EQU   PLHEFLGS
PLHFLG3  EQU   IDAPLH+6
PLHAFLGS EQU   IDAPLH+7
PLHMRPL  EQU   IDAPLH+16
PLHCRPL  EQU   IDAPLH+20
PLHCRBA  EQU   IDAPLH+28
PLHJORBA EQU   PLHCRBA
PLHJCODE EQU   IDAPLH+40
PLHRSCS  EQU   IDAPLH+43
PLHDBUFC EQU   IDAPLH+52
PLHDIOB  EQU   IDAPLH+76
PLHCHAIN EQU   IDAPLH+112
PLHRETO  EQU   IDAPLH+116
PLHRET1  EQU   IDAPLH+120
PLHEOVPT EQU   IDAPLH+180
PLHIXSPL EQU   IDAPLH+200
PLHSSRBA EQU   PLHIXSPL
PLHWAX   EQU   IDAPLH+232
PLHKEYPT EQU   IDAPLH+248
PLHR13   EQU   IDAPLH+260
PLHTMRPL EQU   IDAPLH+265
PLHEND   EQU   IDAPLH+280
IDABUFDR EQU   0
BUFDRCIX EQU   IDABUFDR+9
BUFDRFLG EQU   IDABUFDR+11
BUFDBUFC EQU   IDABUFDR+12
IDABUFC  EQU   0
BUFCAVL  EQU   IDABUFC
BUFCFLG1 EQU   IDABUFC+1
BUFCER1  EQU   BUFCFLG1
BUFCER2  EQU   BUFCFLG1
BUFCEXC  EQU   BUFCFLG1
BUFCIOFL EQU   IDABUFC+2
BUFCMW   EQU   BUFCIOFL
BUFCRRD  EQU   BUFCIOFL
BUFCXEDB EQU   BUFCIOFL
BUFCFLG2 EQU   IDABUFC+3
BUFCPLH  EQU   IDABUFC+4
BUFCDDDD EQU   IDABUFC+8
BUFCORBA EQU   IDABUFC+12
BUFCBAD  EQU   IDABUFC+20
BUFCINV  EQU   IDABUFC+28
BUFCHAIN EQU   IDABUFC+48
IDAIOMB  EQU   0
IOMBUFC  EQU   IDAIOMB+4
IOMPLH   EQU   IDAIOMB+12
IOMAMB   EQU   IDAIOMB+16
IOMFLAGS EQU   IDAIOMB+40
IOMFL    EQU   IOMFLAGS
IOMAPEND EQU   IOMFL
IOMSTIND EQU   IOMFLAGS+2
IOMSAVER EQU   IDAIOMB+52
IOSB     EQU   0
IOSFLA   EQU   IOSB
IOSACHN  EQU   IOSFLA
IOSFLB   EQU   IOSB+1
IOSFLC   EQU   IOSB+2
IOSDVALT EQU   IOSFLC
IOSPKEY  EQU   IOSB+12
IOSOPT   EQU   IOSB+14
IOSOPT2  EQU   IOSB+15
@NM00054 EQU   IOSB+20
IOSCSW   EQU   @NM00054+1
IOSTATUS EQU   IOSCSW+3
IOSUSE   EQU   IOSB+32
IOSIPIB  EQU   IOSB+44
IOSPATH  EQU   IOSB+86
IOSCHN   EQU   IOSPATH
IOSCKEY  EQU   IOSB+89
IOSEEKA  EQU   IOSB+100
IOSCCHH  EQU   IOSEEKA+3
IOSSKHH  EQU   IOSCCHH+2
RBA      EQU   0
USERECB  EQU   0
R15SAVE  EQU   16
PLHKEY   EQU   0
PLHPDL   EQU   0
PLHPDLE  EQU   0
PLHRRN   EQU   0
R0SAVE   EQU   20
R1SAVE   EQU   24
USEREXIT EQU   0
PLHEXTEN EQU   PLHEND
PLHBMWRK EQU   PLHEXTEN+5
IOSATTSC EQU   IOSIPIB
IOSWTOWA EQU   IOSIPIB
IOSPCISC EQU   IOSIPIB
RPLECBPT EQU   RPLECB
BUFCRSC1 EQU   BUFCAVL
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
IOSPCIWA EQU   IOSPCISC+44
IOSPCIRS EQU   IOSPCISC+8
@NM00059 EQU   IOSPCISC+4
@NM00058 EQU   IOSPCISC
IOSWRNDR EQU   IOSWTOWA+4
IOSWTOPT EQU   IOSWTOWA+3
IOSWTOCP EQU   IOSWTOWA+2
IOSWTOCH EQU   IOSWTOWA
IOSATTWA EQU   IOSATTSC+40
@NM00057 EQU   IOSATTSC+24
IOSATTSN EQU   IOSATTSC
PLHBMSV5 EQU   PLHEXTEN+24
PLHBMSV4 EQU   PLHEXTEN+20
PLHBMSV3 EQU   PLHEXTEN+16
PLHBMSV2 EQU   PLHEXTEN+12
PLHBMSV1 EQU   PLHEXTEN+8
PLHRDCNT EQU   PLHEXTEN+6
PLHBMSOV EQU   PLHBMWRK
PLHBEUC  EQU   PLHBMWRK
PLHBMRDF EQU   PLHBMWRK
@NM00046 EQU   PLHEXTEN+4
PLHRESR1 EQU   PLHEXTEN
IOSEND   EQU   IOSB+108
IOSSKR   EQU   IOSEEKA+7
IOSSKH2  EQU   IOSSKHH+1
IOSSKH1  EQU   IOSSKHH
IOSSKCC  EQU   IOSCCHH
IOSSKBB  EQU   IOSEEKA+1
IOSSKM   EQU   IOSEEKA
IOSEEK   EQU   IOSB+92
IOSMDM   EQU   IOSB+91
IOSMDB   EQU   IOSB+90
IOSCKEY7 EQU   IOSCKEY
IOSCKEY6 EQU   IOSCKEY
IOSCKEY5 EQU   IOSCKEY
IOSCKEY4 EQU   IOSCKEY
@NM00056 EQU   IOSCKEY
IOSFMSK  EQU   IOSB+88
IOSCUDEV EQU   IOSPATH+1
@NM00055 EQU   IOSCHN
IOSPATH3 EQU   IOSCHN
IOSPATH2 EQU   IOSCHN
IOSEXP   EQU   IOSCHN
IOSGDP   EQU   IOSCHN
IOSAFF   EQU   IOSB+85
IOSRSS1B EQU   IOSB+84
IOSDSID  EQU   IOSB+80
IOSVST   EQU   IOSB+76
IOSRST   EQU   IOSB+72
IOSDIE   EQU   IOSB+68
IOSABN   EQU   IOSB+64
IOSNRM   EQU   IOSB+60
IOSPCI   EQU   IOSB+56
IOSERP   EQU   IOSB+52
IOSPCHN  EQU   IOSB+48
IOSSNS   EQU   IOSB+42
IOSAPMSK EQU   IOSB+40
IOSRES4A EQU   IOSB+36
IOSSRB   EQU   IOSB+28
IOSCSWRC EQU   IOSCSW+5
IOSTSB   EQU   IOSTATUS+1
IOSTSA   EQU   IOSTATUS
IOSCSWCA EQU   IOSCSW
IOSCC    EQU   @NM00054
IOSUCB   EQU   IOSB+16
IOSOPT2X EQU   IOSOPT2
IOSIGP   EQU   IOSOPT2
IOSHTP   EQU   IOSOPT2
IOSRELSE EQU   IOSOPT
IOSAPR   EQU   IOSOPT
IOSTSLL  EQU   IOSOPT
IOSNERP  EQU   IOSOPT
IOSPSLL  EQU   IOSOPT
IOSQISCE EQU   IOSOPT
IOSDEP   EQU   IOSOPT
IOSBYP   EQU   IOSOPT
IOSCOD   EQU   IOSB+13
IOSPKY7  EQU   IOSPKEY
IOSPGDPX EQU   IOSPKEY
IOSIDR   EQU   IOSPKEY
IOSLCL   EQU   IOSPKEY
@NM00053 EQU   IOSPKEY
IOSPGAD  EQU   IOSB+8
IOSASID  EQU   IOSB+6
IOSPRLVL EQU   IOSB+5
IOSDVRID EQU   IOSB+4
IOSPROC  EQU   IOSB+3
IOSFLC7  EQU   IOSFLC
IOSCTCNR EQU   IOSFLC
IOSRWAIT EQU   IOSFLC
IOSTP    EQU   IOSFLC
IOSCC3WE EQU   IOSFLC
IOSVERIF EQU   IOSDVALT
IOSDVMNT EQU   IOSFLC
IOSLOG   EQU   IOSFLB
IOSBDCST EQU   IOSFLB
IOSMSG   EQU   IOSFLB
IOSFLB4  EQU   IOSFLB
IOSFLB3  EQU   IOSFLB
IOSNOTRS EQU   IOSFLB
IOSSDR   EQU   IOSFLB
IOSDIESE EQU   IOSFLB
IOSIOSB  EQU   IOSFLA
IOSDOM   EQU   IOSFLA
IOSEX    EQU   IOSFLA
IOSSMDB  EQU   IOSFLA
IOSSMDA  EQU   IOSFLA
IOSERR   EQU   IOSFLA
IOSCCHN  EQU   IOSACHN
IOSDCHN  EQU   IOSACHN
IOMSTCB  EQU   IDAIOMB+128
IOMSRBP  EQU   IDAIOMB+124
IOMUFLD  EQU   IDAIOMB+120
IOMNXT1  EQU   IDAIOMB+116
IOMSAVEF EQU   IOMSAVER+60
IOMSAVEE EQU   IOMSAVER+56
IOMSAVED EQU   IOMSAVER+52
IOMSAVEC EQU   IOMSAVER+48
IOMSAVEB EQU   IOMSAVER+44
IOMSAVEA EQU   IOMSAVER+40
IOMSAVE9 EQU   IOMSAVER+36
IOMSAVE8 EQU   IOMSAVER+32
IOMSAVE7 EQU   IOMSAVER+28
IOMSAVE6 EQU   IOMSAVER+24
IOMSAVE5 EQU   IOMSAVER+20
IOMSAVE4 EQU   IOMSAVER+16
IOMSAVE3 EQU   IOMSAVER+12
IOMSAVE2 EQU   IOMSAVER+8
IOMSAVE1 EQU   IOMSAVER+4
IOMSAVE0 EQU   IOMSAVER
IOMNSEG  EQU   IDAIOMB+50
IOMNBUF  EQU   IDAIOMB+48
IOMNMOD  EQU   IDAIOMB+46
IOMLOCK  EQU   IDAIOMB+45
IOMPFERR EQU   IDAIOMB+44
IOMCKEY  EQU   IDAIOMB+43
IOMSR    EQU   IOMSTIND
IOMSRBM  EQU   IOMSTIND
IOMSLOC  EQU   IOMSTIND
IOMLLOCK EQU   IOMSTIND
IOMEOVXC EQU   IOMSTIND
IOMEOVTS EQU   IOMSTIND
IOMEOVW  EQU   IOMSTIND
IOMAMUSE EQU   IOMSTIND
@NM00052 EQU   IOMFL+1
IOMIRBSW EQU   IOMFL+1
IOMEEXIT EQU   IOMFL+1
@NM00051 EQU   IOMFL+1
IOMCPRB  EQU   IOMFL+1
IOMDDR   EQU   IOMFL+1
IOMCSW   EQU   IOMFL
IOMPGFIX EQU   IOMFL
IOMADERR EQU   IOMFL
IOMCBERR EQU   IOMFL
@NM00050 EQU   IOMFL
IOMPURGE EQU   IOMFL
IOMAE    EQU   IOMAPEND
IOMNE    EQU   IOMAPEND
IOMIOSB  EQU   IDAIOMB+36
IOMPGAD  EQU   IDAIOMB+32
IOMVSL   EQU   IDAIOMB+28
IOMECBPT EQU   IDAIOMB+24
IOMIQE   EQU   IDAIOMB+20
IOMCPA   EQU   IDAIOMB+8
IOMBID   EQU   IDAIOMB
BUFCEND  EQU   IDABUFC+64
BUFCUCDN EQU   IDABUFC+60
BUFCUCUP EQU   IDABUFC+56
BUFCMDBT EQU   IDABUFC+52
BUFXORBA EQU   IDABUFC+44
BUFXIRBA EQU   IDABUFC+40
BUFCNXT2 EQU   IDABUFC+37
BUFCIDXL EQU   IDABUFC+36
BUFCDSPC EQU   IDABUFC+32
BUFCWLEN EQU   BUFCINV
BUFCNXT1 EQU   IDABUFC+24
BUFCCPA  EQU   IDABUFC+16
BUFCAMB  EQU   BUFCPLH
@NM00049 EQU   BUFCFLG2
BUFCEOD  EQU   BUFCFLG2
BUFCBSYW EQU   BUFCFLG2
BUFCBSYR EQU   BUFCFLG2
BUFCNLAS EQU   BUFCFLG2
BUFCXDDR EQU   BUFCFLG2
BUFCFIX  EQU   BUFCIOFL
BUFCPFCP EQU   BUFCIOFL
BUFCWC   EQU   BUFCIOFL
BUFCREAL EQU   BUFCIOFL
BUFCFMT  EQU   BUFCIOFL
BUFCEPT  EQU   BUFCFLG1
BUFCVAL  EQU   BUFCFLG1
BUFCINS  EQU   BUFCFLG1
BUFCSEG  EQU   BUFCFLG1
BUFCUPG  EQU   BUFCFLG1
BUFCUCNT EQU   BUFCAVL
@NM00048 EQU   IDABUFDR+16
@NM00047 EQU   BUFDRFLG
BUFDRAVL EQU   BUFDRFLG
BUFDRREL EQU   BUFDRFLG
BUFDRTSB EQU   IDABUFDR+10
BUFDRMAX EQU   BUFDRCIX
BUFDRPFN EQU   IDABUFDR+8
BUFDRPFB EQU   IDABUFDR+4
BUFDRLEN EQU   IDABUFDR+2
BUFDRNO  EQU   IDABUFDR+1
BUFDRID  EQU   IDABUFDR
PLHERRET EQU   IDAPLH+276
PLHASCB  EQU   IDAPLH+272
PLHECB   EQU   IDAPLH+268
@NM00045 EQU   IDAPLH+266
@NM00044 EQU   PLHTMRPL
PLHTMIOB EQU   PLHTMRPL
PLHTMINX EQU   PLHTMRPL
PLHTMDTA EQU   PLHTMRPL
PLHTMDIW EQU   PLHTMRPL
PLHTMBUF EQU   PLHTMRPL
PLHTERM  EQU   PLHTMRPL
PLHDRMSK EQU   IDAPLH+264
PLHPARM1 EQU   IDAPLH+256
PLHDRRSC EQU   IDAPLH+252
PLHSLRBA EQU   IDAPLH+244
PLHSRCSG EQU   IDAPLH+242
PLHNOSEG EQU   IDAPLH+240
PLHLLOR  EQU   IDAPLH+236
PLHXPLH  EQU   PLHWAX
@NM00043 EQU   PLHIXSPL+8
PLHIXBFC EQU   PLHIXSPL+4
PLHHIREC EQU   PLHSSRBA
PLHISPLP EQU   IDAPLH+196
PLHRBUFC EQU   IDAPLH+192
PLHIBUFC EQU   IDAPLH+188
PLHNRBA  EQU   IDAPLH+184
PLHDDDD  EQU   PLHEOVPT
PLHAR14  EQU   IDAPLH+176
@NM00042 EQU   IDAPLH+172
@NM00041 EQU   IDAPLH+168
PLHASAVE EQU   IDAPLH+164
PLHRETOS EQU   IDAPLH+118
PLHAMB   EQU   IDAPLH+108
PLHSAVE6 EQU   IDAPLH+104
PLHSAVE5 EQU   IDAPLH+100
PLHSAVE4 EQU   IDAPLH+96
PLHSAVE3 EQU   IDAPLH+92
PLHSAVE2 EQU   IDAPLH+88
PLHSAVE1 EQU   IDAPLH+84
PLHARET  EQU   IDAPLH+80
PLHIIOB  EQU   PLHDIOB
PLHSRSID EQU   IDAPLH+74
PLHRDFC  EQU   IDAPLH+72
PLHRDFP  EQU   IDAPLH+68
PLHFSP   EQU   IDAPLH+64
PLHRECP  EQU   IDAPLH+60
PLHNBUFC EQU   IDAPLH+56
PLHLRECL EQU   IDAPLH+48
PLHARDB  EQU   IDAPLH+44
@NM00040 EQU   PLHRSCS
PLHDBPER EQU   PLHRSCS
PLHDSERR EQU   PLHRSCS
PLHASYER EQU   PLHRSCS
@NM00039 EQU   PLHRSCS
PLHBUFHD EQU   PLHRSCS
PLHINEOV EQU   PLHRSCS
PLHEOVR  EQU   IDAPLH+42
PLHRCODE EQU   IDAPLH+41
PLHUCODE EQU   PLHJCODE
PLHJNRBA EQU   IDAPLH+36
PLHJRNLL EQU   IDAPLH+32
PLHUPECB EQU   PLHJORBA
PLHDSIDA EQU   IDAPLH+24
PLHBFRNO EQU   IDAPLH+15
PLHFRCNT EQU   IDAPLH+14
PLHRMIN  EQU   IDAPLH+13
PLHDSTYP EQU   IDAPLH+12
PLHACB   EQU   IDAPLH+8
PLHRAE   EQU   PLHAFLGS
PLHRABWD EQU   PLHAFLGS
PLHIOSID EQU   PLHAFLGS
PLHDBDC  EQU   PLHAFLGS
PLHVAMB  EQU   PLHAFLGS
PLHIOSRQ EQU   PLHAFLGS
PLHDRLM  EQU   PLHAFLGS
PLHEOVDF EQU   PLHFLG3
PLHRVRS  EQU   PLHFLG3
PLHBWD   EQU   PLHFLG3
PLHSLVLD EQU   PLHFLG3
PLHRAHD  EQU   PLHFLG3
PLHSRBSG EQU   PLHFLG3
@NM00038 EQU   PLHEFLGS+1
PLHRSTRT EQU   PLHEFLGS+1
PLHDSCAN EQU   PLHEFLGS
PLHEODX  EQU   PLHEFLGS
PLHNOADV EQU   PLHEFLGS
PLHSRINV EQU   PLHEFLGS
PLHSKPER EQU   PLHEFLGS
PLH1ST   EQU   PLHEFLGS
PLHNOSPC EQU   PLHEFLGS
PLHIWAIT EQU   PLHFLG2
PLHSVADV EQU   PLHFLG2
PLHCIINS EQU   PLHFLG2
PLHKRE   EQU   PLHFLG2
PLHADDTE EQU   PLHFLG2
PLHKEYMD EQU   PLHFLG2
PLHSQINS EQU   PLHFLG2
PLHSR    EQU   PLHFLG1
PLHDRPND EQU   PLHFLG1
PLHASYRQ EQU   PLHFLG1
PLHRDEXC EQU   PLHFLG1
PLHSSR   EQU   PLHFLG1
PLHASKBF EQU   PLHFLG1
PLHENDRQ EQU   PLHFLG1
PLHEOVW  EQU   PLHFLG1
PLHATV   EQU   IDAPLH+1
PLHIOSDQ EQU   IDAPLHDR+12
PLHDRCUR EQU   IDAPLHDR+10
PLHDRMAX EQU   IDAPLHDR+8
PLHDRREQ EQU   IDAPLHDR+4
PLHELTH  EQU   IDAPLHDR+2
PLHCNT   EQU   IDAPLHDR+1
PLHID    EQU   IDAPLHDR
AMBTRACE EQU   IDAAMB+120
AMBVIOT  EQU   IDAAMB+116
AMBSZCP  EQU   IDAAMB+114
AMBSZFW  EQU   IDAAMB+112
AMBSZWR  EQU   IDAAMB+110
AMBSZRD  EQU   IDAAMB+108
AMBWSHD  EQU   IDAAMB+96
AMBCPA   EQU   IDAAMB+92
AMBBM2SH EQU   IDAAMB+88
AMBRDCNT EQU   AMBCSWD1+2
@NM00037 EQU   AMBCSWD1+1
@NM00036 EQU   AMBAFLG
AMBCFX   EQU   AMBAFLG
AMBSIS   EQU   AMBAFLG
AMBDFR   EQU   AMBAFLG
AMBICI   EQU   AMBAFLG
AMBGSR   EQU   AMBAFLG
AMBLSR   EQU   AMBAFLG
@NM00035 EQU   AMBAFLG
AMBUPLH  EQU   IDAAMB+80
AMBPAMBL EQU   IDAAMB+76
AMBPIXP  EQU   IDAAMB+72
@NM00034 EQU   IDAAMB+68
AMBIWA   EQU   IDAAMB+64
AMBWKA   EQU   IDAAMB+60
AMBAMBXN EQU   AMBEOVPT
AMBEDB   EQU   IDAAMB+52
AMBRPT   EQU   IDAAMB+50
AMBPUG   EQU   AMBFLG2
AMBBUSY  EQU   AMBOFLGS
AMBEXFG  EQU   AMBOFLGS
@NM00033 EQU   AMBOFLGS
AMBOPEN  EQU   AMBOFLGS
@NM00032 EQU   AMBOFLGS
AMBDEBAD EQU   AMBDEBPT+1
AMBIFLGS EQU   AMBDEBPT
AMBAMETH EQU   IDAAMB+43
AMBSDS   EQU   AMBINFL
AMBUPX   EQU   AMBINFL
AMBUCRA  EQU   AMBINFL
AMBSCRA  EQU   AMBINFL
AMBCAT   EQU   AMBINFL
@NM00031 EQU   AMBINFL
@NM00030 EQU   AMBINFL
AMBTIOT  EQU   IDAAMB+40
@NM00029 EQU   IDAAMB+38
AMBDDSN  EQU   IDAAMB+35
AMBCDSN  EQU   IDAAMB+32
AMBIOMB  EQU   AMBIOBAD
@NM00028 EQU   AMBDSORG+1
AMBDORGA EQU   AMBDSORG+1
@NM00027 EQU   AMBDSORG
AMBINBUF EQU   AMBFLG1
AMBJRN   EQU   AMBFLG1
AMBUBF   EQU   AMBFLG1
AMBSPEED EQU   AMBFLG1
AMBPCAT  EQU   AMBFLG1
AMBMCAT  EQU   AMBFLG1
AMBTYPE  EQU   AMBFLG1
AMBCREAT EQU   AMBFLG1
@NM00026 EQU   AMBFLG0
AMBSWSP  EQU   AMBFLG0
AMBPSDS  EQU   AMBFLG0
AMBDSB   EQU   IDAAMB+20
AMBCACB  EQU   IDAAMB+16
AMBLINK  EQU   IDAAMB+4
AMBLEN   EQU   IDAAMB+2
AMBRSC   EQU   IDAAMB+1
AMBID    EQU   IDAAMB
AMBLCMB  EQU   IDAAMBL+64
AMBLBIB  EQU   IDAAMBL+60
AMBLIX   EQU   IDAAMBL+56
AMBLMIDS EQU   IDAAMBL+42
AMBLNIDS EQU   IDAAMBL+41
@NM00025 EQU   IDAAMBL+40
AMBLNUM  EQU   IDAAMBL+38
AMBLNST  EQU   IDAAMBL+37
@NM00024 EQU   AMBLFLG2
AMBLSTAG EQU   AMBLFLG2
@NM00023 EQU   AMBLFLG2
AMBLDUMY EQU   AMBLFLG1
AMBLCAT  EQU   AMBLFLG1
AMBLUCRA EQU   AMBLFLG1
AMBLSCRA EQU   AMBLFLG1
AMBLSDS  EQU   AMBLVVIC
AMBLUPD  EQU   AMBLFLG1
AMBLCINV EQU   AMBLFLG1
AMBLFULL EQU   AMBLFLG1
AMBLLEN  EQU   IDAAMBL+34
@NM00022 EQU   AMBLSHAR
AMBLWRIT EQU   AMBLSHAR
AMBLCATO EQU   AMBLSHAR
AMBLPRIM EQU   AMBLSHAR
AMBLID   EQU   IDAAMBL+32
@NM00021 EQU   AMBLQ2
AMBLCBIC EQU   AMBLQ2
@NM00020 EQU   AMBLTYPE
AMBLFIX  EQU   AMBLTYPE
AMBLBASE EQU   AMBLTYPE
AMBLAIX  EQU   AMBLTYPE
AMBLUPGR EQU   AMBLTYPE
AMBLPATH EQU   AMBLTYPE
AMBLENO  EQU   AMBLVC+1
AMBLVRT  EQU   AMBLVC
AMBLXPT  EQU   IDAAMBL+24
AMBLDFR  EQU   AMBLQ
AMBLESDS EQU   AMBLQ
AMBLKSDS EQU   AMBLQ
AMBLUBF  EQU   AMBLQ
AMBLFSTP EQU   AMBLQ
AMBLLSR  EQU   AMBLQ
AMBLGSR  EQU   AMBLQ
AMBLDDC  EQU   AMBLQ
AMBLDCI  EQU   AMBLIDF+4
AMBLCACB EQU   AMBLIDF
@NM00019 EQU   AMBLEOV+2
AMBLCOMP EQU   AMBLEOV+1
AMBLESET EQU   AMBLEFLG
AMBLWAIT EQU   AMBLEFLG
AMBLACB  EQU   IDAAMBL+8
AMBLSCHN EQU   IDAAMBL+4
AMBLPCHN EQU   IDAAMBL
ACBAPID  EQU   ACBCOMN+72
ACBCBMWA EQU   ACBCOMN+68
ACBUAPTR EQU   ACBCOMN+64
ACBLRECL EQU   ACBCOMN+62
ACBMSGLN EQU   ACBBLKSZ
ACBBUFSP EQU   ACBCOMN+56
@NM00018 EQU   ACBUJFCB+1
ACBOPTN  EQU   ACBUJFCB
@NM00017 EQU   ACBINFL2
ACBCBIC  EQU   ACBINFL2
@NM00016 EQU   ACBINFL2
ACBBYPSS EQU   ACBINFL1
ACBSDS   EQU   ACBVVIC
ACBUCRA  EQU   ACBINFL1
ACBSCRA  EQU   ACBINFL1
ACBCAT   EQU   ACBINFL1
ACBIJRQE EQU   ACBINFL1
ACBJEPS  EQU   ACBINFL1
@NM00015 EQU   ACBINFL1
ACBERFLG EQU   ACBCOMN+49
ACBBUSY  EQU   ACBIOSFG
ACBLOCK  EQU   ACBEXFG
@NM00014 EQU   ACBOFLGS
ACBDSERR EQU   ACBOFLGS
ACBOPEN  EQU   ACBOFLGS
ACBEOV   EQU   ACBOFLGS
@NM00013 EQU   ACBOFLGS
ACBDEB   EQU   ACBDDNM+5
ACBERFL  EQU   ACBDDNM+4
ACBAM    EQU   ACBAMETH
ACBINFL  EQU   ACBDDNM+2
ACBTIOT  EQU   ACBDDNM
ACBUEL   EQU   ACBEXLST
ACBPASSW EQU   ACBCOMN+32
ACBMSGAR EQU   ACBCOMN+28
@NM00012 EQU   ACBDSORG+1
ACBDORGA EQU   ACBDSORG+1
@NM00011 EQU   ACBDSORG
ACBOPTJ  EQU   ACBDVIND
ACBCRNRE EQU   ACBCROPS
ACBCRNCK EQU   ACBCROPS
ACBASA   EQU   ACBCCTYP
@NM00010 EQU   ACBCCTYP
ACBTRCID EQU   ACBCCTYP
@NM00009 EQU   ACBRECFM
ACBRECAF EQU   ACBRECFM
ACBJBUF  EQU   ACBBUFPL+2
ACBMACR4 EQU   ACBBUFPL+1
@NM00008 EQU   ACBMACR3
ACBNCFX  EQU   ACBMACR3
ACBSIS   EQU   ACBMACR3
ACBDFR   EQU   ACBMACR3
ACBICI   EQU   ACBMACR3
ACBGSR   EQU   ACBMACR3
ACBLSR   EQU   ACBMACR3
@NM00007 EQU   ACBMACR3
ACBBUFNI EQU   ACBCOMN+18
ACBBUFND EQU   ACBCOMN+16
ACBSTRNO EQU   ACBCOMN+15
ACBBSTNO EQU   ACBCOMN+14
ACBAIX   EQU   ACBMACR2
ACBDSN   EQU   ACBMACR2
ACBRST   EQU   ACBMACR2
ACBLOGON EQU   ACBMACR2
ACBSKP   EQU   ACBMACR2
@NM00006 EQU   ACBMACR2
ACBUBF   EQU   ACBMACR1
ACBOUT   EQU   ACBMACR1
ACBIN    EQU   ACBMACR1
ACBDIR   EQU   ACBMACR1
ACBSEQ   EQU   ACBMACR1
ACBBLK   EQU   ACBCNV
ACBADD   EQU   ACBADR
ACBKEY   EQU   ACBMACR1
ACBINRTN EQU   ACBCOMN+8
ACBIBCT  EQU   ACBJWA
ACBLEN2  EQU   ACBLENG2
ACBSTYP  EQU   ACBCOMN+1
ACBID    EQU   ACBCOMN
RPLERMSA EQU   RPLCOMN+72
RPLEMLEN EQU   RPLCOMN+70
RPLBRANC EQU   RPLEXTD1
RPLNIB   EQU   RPLEXTD1
@NM00005 EQU   RPLEXTD1
RPLEXIT  EQU   RPLEXTD1
RPLNEXIT EQU   RPLEXTD1
RPLEXSCH EQU   RPLEXTD1
RPLDDDD  EQU   RPLRBAR+4
@NM00004 EQU   RPLRBAR+3
@NM00003 EQU   RPLAIXID
RPLAXPKP EQU   RPLAIXID
RPLAIXPC EQU   RPLRBAR
RPLRSV88 EQU   RPLOPT8
RPLUNCON EQU   RPLOPT8
RPLACTV  EQU   RPLOPT8
RPLSESS  EQU   RPLOPT8
RPLPEND  EQU   RPLOPT8
RPLODPRM EQU   RPLOPT8
RPLODACP EQU   RPLOPT8
RPLODACQ EQU   RPLOPT8
RPLRSV78 EQU   RPLOPT7
RPLTCRNO EQU   RPLOPT7
RPLRLSOP EQU   RPLOPT7
RPLTPOST EQU   RPLOPT7
RPLQOPT  EQU   RPLOPT7
RPLCNIMM EQU   RPLCNOPT
RPLCNANY EQU   RPLCNOPT
RPLCNALL EQU   RPLCNOPT
RPLRSV68 EQU   RPLOPT6
RPLRSV67 EQU   RPLOPT6
RPLLOCK  EQU   RPLOPT6
RPLNCOND EQU   RPLOPT6
RPLCOND  EQU   RPLOPT6
RPLEOT   EQU   RPLUNTYP
RPLEOM   EQU   RPLUNTYP
RPLEOB   EQU   RPLUNTYP
RPLWROPT EQU   RPLOPT5
RPLNODE  EQU   RPLOPT5
RPLERACE EQU   RPLWRTYP
RPLEAU   EQU   RPLWRTYP
RPLNERAS EQU   RPLWRTYP
RPLPSOPT EQU   RPLOPT5
@NM00002 EQU   RPLOPT5
RPLDLGIN EQU   RPLOPT5
RPLBUFL  EQU   RPLCOMN+52
RPLRLEN  EQU   RPLCOMN+48
RPLCHAIN EQU   RPLNXTRP
@NM00001 EQU   RPLOPT4
RPLMKFRM EQU   RPLOPT4
RPLENDTR EQU   RPLOPT4
RPLALIGN EQU   RPLOPT3
RPLFMT   EQU   RPLOPT3
RPLFLD   EQU   RPLOPT3
RPLVFY   EQU   RPLOPT3
RPLBLK   EQU   RPLOPT3
RPLSFORM EQU   RPLOPT3
RPLEODS  EQU   RPLOPT3
RPLNSP   EQU   RPLOPT2
RPLWAITX EQU   RPLOPT2
RPLLRD   EQU   RPLOPT2
RPLBWD   EQU   RPLOPT2
RPLCNV   EQU   RPLOPT2
RPLADD   EQU   RPLADR
RPLKEY   EQU   RPLOPT2
RPLECBIN EQU   RPLECBSW
RPLGEN   EQU   RPLOPT1
RPLKGE   EQU   RPLOPT1
RPLASY   EQU   RPLOPT1
RPLSKP   EQU   RPLOPT1
RPLSEQ   EQU   RPLOPT1
RPLDIR   EQU   RPLOPT1
RPLLOC   EQU   RPLOPT1
RPLDAF   EQU   RPLARG+2
RPLSAF   EQU   RPLARG
RPLTCBPT EQU   RPLCOMN+28
RPLCCHAR EQU   RPLCOMN+20
RPLSTRID EQU   RPLCOMN+18
RPLKEYL  EQU   RPLKEYLE
RPLRDSOH EQU   RPLFDB3
RPLRLG   EQU   RPLFDB3
RPLLGFRC EQU   RPLFDB3
RPLREOT  EQU   RPLFDB3
RPLREOM  EQU   RPLFDB3
RPLREOB  EQU   RPLFDB3
RPLSV32  EQU   RPLFDB3
RPLUINPT EQU   RPLFDB3
RPLSTSAV EQU   RPLFDB2
RPLCUERR EQU   RPLFDB2
RPLDLGFL EQU   RPLFDB2
RPLIOERR EQU   RPLFDB2
RPLDVUNS EQU   RPLFDB2
RPLATND  EQU   RPLFDB2
RPLRVID  EQU   RPLFDB2
RPLERLK  EQU   RPLFDB2
RPLERREG EQU   RPLRTNCD
RPLSTAT  EQU   RPLFDBWD
RPLPOST  EQU   RPLECB
RPLWAIT  EQU   RPLECB
RPLLEN2  EQU   RPLLEN
RPLSTYP  EQU   RPLIDWD+1
RPLID    EQU   RPLIDWD
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RT00229 EQU   OLDPLH
@RT00263 EQU   RDEXCLER
@ENDDATA EQU   *
         END   IDA019S1,(C'PLS0114',0701,78180)

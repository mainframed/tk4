         TITLE 'ICGDSB18 MSC TABLE CREATE, BUILD VERIFICATION RECORDS  *
                        '
ICGDSB18 CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(16)                                             0001
         DC    C'ICGDSB18  76.349'                                 0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                     0001
         BALR  @11,0                                               0001
@PSTART  LA    @10,4095(,@11)                                      0001
         USING @PSTART,@11                                         0001
         USING @PSTART+4095,@10                                    0001
         L     @00,@SIZDATD                                        0001
         GETMAIN  R,LV=(0)
         LR    @12,@01                                             0001
         USING @DATD,@12                                           0001
         ST    @13,@SA00001+4                                      0001
         LM    @00,@01,20(@13)                                     0001
         ST    @12,8(,@13)                                         0001
         LR    @13,@12                                             0001
         XC    @ZTEMPS(@ZLEN),@ZTEMPS
*                                                                  0028
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - ICGDSB18 (MAINLINE)                     @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0028
*   CALL B18INIT;                   /*                       @Y30LB12*/
         BAL   @14,B18INIT                                         0028
*   CALL BUILDR1;                   /*                       @Y30LB12*/
         BAL   @14,BUILDR1                                         0029
*   CALL BUILDR2;                   /*                       @Y30LB12*/
         BAL   @14,BUILDR2                                         0030
*   CALL BUILDR3;                   /*                       @Y30LB12*/
         BAL   @14,BUILDR3                                         0031
*   CALL BUILDR4;                   /*                       @Y30LB12*/
         BAL   @14,BUILDR4                                         0032
*   CALL BUILDR5;                   /*                       @Y30LB12*/
         BAL   @14,BUILDR5                                         0033
*   CALL BUILDR6;                   /*                       @Y30LB12*/
         BAL   @14,BUILDR6                                         0034
*   CALL BUILDR12;                  /*                       @Y30LB12*/
         BAL   @14,BUILDR12                                        0035
*   CALL WRITEIT;                   /*                       @Y30LB12*/
         BAL   @14,WRITEIT                                         0036
*   RETURN;                         /*                       @Y30LB12*/
@EL00001 L     @13,4(,@13)                                         0037
@EF00001 L     @00,@SIZDATD                                        0037
         LR    @01,@12                                             0037
         FREEMAIN R,LV=(0),A=(1)
@ER00001 LM    @14,@12,12(@13)                                     0037
         BR    @14                                                 0037
*                                                                  0038
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - B18INIT                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0038
*B18INIT:                                                          0038
*   PROCEDURE;                      /*                       @Y30LB12*/
B18INIT  STM   @14,@12,12(@13)                                     0038
*   CLEARPTR=ADDR(UT2BUFER);        /*                       @Y30LB12*/
         L     CLEARPTR,BUILDPTR(,R4)                              0039
         AL    CLEARPTR,@CF00692                                   0039
*   DO I=1 TO 32;                   /*                       @Y30LB12*/
         LA    I,1                                                 0040
@DL00040 DS    0H                                                  0041
*     CLEAR0CH='000701'X;           /* 0, CYL, HEAD          @YD00113*/
         MVC   CLEAR0CH(3,CLEARPTR),@CB00574                       0041
*     CLEARREC=I;                   /* RECORD NUMBER         @YD00113*/
         STC   I,CLEARREC(,CLEARPTR)                               0042
*     CLEARFIL='00000000'B;         /* REST OF PREFIX        @YD00113*/
         XC    CLEARFIL+1(3,CLEARPTR),CLEARFIL+1(CLEARPTR)         0043
         MVI   CLEARFIL(CLEARPTR),B'00000000'                      0043
*     CLRREST='00000000'B;          /* 256 DATA BYTES        @YD00113*/
         XC    CLRREST+1(255,CLEARPTR),CLRREST+1(CLEARPTR)         0044
         MVI   CLRREST(CLEARPTR),B'00000000'                       0044
*     CLEARPTR=CLEARPTR+272;        /*                       @Y30LB12*/
         AH    CLEARPTR,@CH00372                                   0045
*   END;                            /*                       @Y30LB12*/
         AH    I,@CH00044                                          0046
         CH    I,@CH00318                                          0046
         BNH   @DL00040                                            0046
*   END B18INIT;                    /*                       @Y30LB12*/
@EL00002 DS    0H                                                  0047
@EF00002 DS    0H                                                  0047
@ER00002 LM    @14,@12,12(@13)                                     0047
         BR    @14                                                 0047
*                                                                  0048
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - BUILDR1                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0048
*BUILDR1:                                                          0048
*   PROCEDURE;                      /*                       @Y30LB12*/
*                                                                  0048
BUILDR1  STM   @14,@12,12(@13)                                     0048
*   /*****************************************************************/
*   /*                                                               */
*   /* SET VERIFICATION TABLE IDENTIFIER CONSTANT.           @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0049
*   REC1CONS='E00E600FE00E600F'X;   /*                       @Y30LB12*/
*                                                                  0049
         LH    @07,@CH00692                                        0049
         AL    @07,BUILDPTR(,R4)                                   0049
         MVC   REC1CONS(8,@07),@CB00579                            0049
*   /*****************************************************************/
*   /*                                                               */
*   /* SET FIXED LOCATIONS OF ALL OTHER TABLES               @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0050
*   NMVTDATA='00090B13'X;           /*                       @Y30LB12*/
         MVC   NMVTDATA(4,@07),@CB00581                            0050
*   NRSG='00080001'X;               /*                       @Y30LB12*/
         MVC   NRSG(4,@07),@CB00582                                0051
*   NMVT='00080B01'X;               /*                       @Y30LB12*/
         MVC   NMVT(4,@07),@CB00583                                0052
*   NSCRC='00130201'X;              /*                       @Y30LB12*/
         MVC   NSCRC(4,@07),@CB00584                               0053
*   NVOLIN='00151001'X;             /*                       @Y30LB12*/
         MVC   NVOLIN(4,@07),@CB00585                              0054
*   NTRANV='00181001'X;             /*                       @Y30LB12*/
         MVC   NTRANV(4,@07),@CB00586                              0055
*   NXREF='001A0801'X;              /*                       @Y30LB12*/
         MVC   NXREF(4,@07),@CB00587                               0056
*   NCONFG='001A0A01'X;             /*                       @Y30LB12*/
         MVC   NCONFG(4,@07),@CB00588                              0057
*   NIMAGE='001A0C01'X;             /*                       @Y30LB12*/
         MVC   NIMAGE(4,@07),@CB00589                              0058
*   NCELL='001B0101'X;              /*                       @Y30LB12*/
         MVC   NCELL(4,@07),@CB00590                               0059
*   NVDA='001B0201'X;               /*                       @Y30LB12*/
         MVC   NVDA(4,@07),@CB00591                                0060
*   NRJOURN='1B1B0B01'X;            /*                       @Y30LB12*/
         MVC   NRJOURN(4,@07),@CB00592                             0061
*   NQUEUE='001C0001'X;             /*                       @Y30LB12*/
         MVC   NQUEUE(4,@07),@CB00593                              0062
*   NDIAG='001C0801'X;              /*                       @Y30LB12*/
         MVC   NDIAG(4,@07),@CB00594                               0063
*   NMSGBUF='001B0301'X;            /* PTR MSG BUFFER        @YD00139*/
*                                                                  0064
         MVC   NMSGBUF(4,@07),@CB00595                             0064
*   /*****************************************************************/
*   /*                                                               */
*   /* FILL IN THE SDGS ON LOGICAL A-BOX 0 AND               @Y30LB12*/
*   /* LOGICAL A-BOX 1 FOR EACH STAGING ADAPTER. IF          @Y30LB12*/
*   /* NO SDG, ENTRY CONTAINS 'FF'X.                         @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0065
*   DO I=1 TO 16;                   /*                       @Y30LB12*/
         LA    I,1                                                 0065
@DL00065 DS    0H                                                  0066
*     NRSGA0(I)='FF'X;              /*                       @Y30LB12*/
         LR    @03,I                                               0066
         SLA   @03,2                                               0066
         LH    @15,@CH00692                                        0066
         AL    @15,BUILDPTR(,R4)                                   0066
         ST    @03,@TF00001                                        0066
         ALR   @03,@15                                             0066
         MVI   NRSGA0-4(@03),X'FF'                                 0066
*     NRSGA1(I)='FF'X;              /*                       @Y30LB12*/
         LR    @03,@15                                             0067
         AL    @03,@TF00001                                        0067
         MVI   NRSGA1-4(@03),X'FF'                                 0067
*     J=TORSG1(I)+1;                /*                       @Y30LB12*/
         LR    @03,I                                               0068
         ALR   @03,@03                                             0068
         L     @14,COMPTR2(,R4)                                    0068
         LA    J,1                                                 0068
         ST    @03,@TF00002                                        0068
         ALR   @03,@14                                             0068
         AL    @03,@CF00705                                        0068
         MVC   @ZT00003+3(1),TORSG1(@03)                           0068
         AL    J,@ZT00003                                          0068
*     IF RSGABOX0(J)='1'B           /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @03,J                                               0069
         MH    @03,@CH00114                                        0069
         ALR   @03,R4                                              0069
         TM    RSGABOX0-9(@03),B'01000000'                         0069
         BNO   @RF00069                                            0069
*       NRSGA0(I)=TORSG1(I);        /*                       @Y30LB12*/
         AL    @15,@TF00001                                        0070
         AL    @14,@TF00002                                        0070
         AL    @14,@CF00705                                        0070
         MVC   NRSGA0-4(1,@15),TORSG1(@14)                         0070
*     ELSE                          /*                       @Y30LB12*/
*       IF RSGABOX1(J)='1'B         /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         B     @RC00069                                            0071
@RF00069 LR    @03,J                                               0071
         MH    @03,@CH00114                                        0071
         ALR   @03,R4                                              0071
         TM    RSGABOX1-9(@03),B'00100000'                         0071
         BNO   @RF00071                                            0071
*         NRSGA1(I)=TORSG1(I);      /*                       @Y30LB12*/
         LR    @07,I                                               0072
         SLA   @07,2                                               0072
         L     @03,BUILDPTR(,R4)                                   0072
         ALR   @03,@07                                             0072
         AL    @03,@CF00706                                        0072
         LR    @07,I                                               0072
         ALR   @07,@07                                             0072
         L     @01,COMPTR2(,R4)                                    0072
         ALR   @01,@07                                             0072
         AL    @01,@CF00705                                        0072
         MVC   NRSGA1(1,@03),TORSG1(@01)                           0072
*       ELSE                                                       0073
*         ;                         /*                       @Y30LB12*/
@RF00071 DS    0H                                                  0074
*     J=TORSG2(I)+1;                /*                       @Y30LB12*/
@RC00069 LR    @03,I                                               0074
         ALR   @03,@03                                             0074
         L     @15,COMPTR2(,R4)                                    0074
         LA    J,1                                                 0074
         ST    @03,@TF00001                                        0074
         ALR   @03,@15                                             0074
         AL    @03,@CF00707                                        0074
         MVC   @ZT00003+3(1),TORSG2-1(@03)                         0074
         AL    J,@ZT00003                                          0074
*     IF RSGABOX0(J)='1'B           /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @03,J                                               0075
         MH    @03,@CH00114                                        0075
         ALR   @03,R4                                              0075
         TM    RSGABOX0-9(@03),B'01000000'                         0075
         BNO   @RF00075                                            0075
*       NRSGA0(I)=TORSG2(I);        /*                       @Y30LB12*/
         LR    @07,I                                               0076
         SLA   @07,2                                               0076
         L     @03,BUILDPTR(,R4)                                   0076
         ALR   @03,@07                                             0076
         AL    @03,@CF00706                                        0076
         AL    @15,@TF00001                                        0076
         AL    @15,@CF00707                                        0076
         MVC   NRSGA0(1,@03),TORSG2-1(@15)                         0076
*     ELSE                          /*                       @Y30LB12*/
*       IF RSGABOX1(J)='1'B         /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         B     @RC00075                                            0077
@RF00075 LR    @03,J                                               0077
         MH    @03,@CH00114                                        0077
         ALR   @03,R4                                              0077
         TM    RSGABOX1-9(@03),B'00100000'                         0077
         BNO   @RF00077                                            0077
*         NRSGA1(I)=TORSG2(I);      /*                       @Y30LB12*/
         LR    @07,I                                               0078
         SLA   @07,2                                               0078
         L     @03,BUILDPTR(,R4)                                   0078
         ALR   @03,@07                                             0078
         AL    @03,@CF00706                                        0078
         LR    @07,I                                               0078
         ALR   @07,@07                                             0078
         L     @01,COMPTR2(,R4)                                    0078
         ALR   @01,@07                                             0078
         AL    @01,@CF00707                                        0078
         MVC   NRSGA1(1,@03),TORSG2-1(@01)                         0078
*       ELSE                                                       0079
*         ;                         /*                       @Y30LB12*/
@RF00077 DS    0H                                                  0080
*   END;                            /*                       @Y30LB12*/
*                                                                  0080
@RC00075 AH    I,@CH00044                                          0080
         CH    I,@CH00164                                          0080
         BNH   @DL00065                                            0080
*   /*****************************************************************/
*   /*                                                               */
*   /* BUILD THE UCBS THAT DESCRIBE THE PRIMARY              @Y30LB12*/
*   /* LOCATION OF THE TABLES PACK, THE PRIMARY              @Y30LB12*/
*   /* LOCATION OF THE MEDIA PACK, THE BACKUP                @Y30LB12*/
*   /* LOCATION OF THE TABLES PACK, AND THE BACKUP           @Y30LB12*/
*   /* LOCATION OF THE MEDIA PACK.                           @Y30LB12*/
*   /* ALTERNATE PATH IS DESIGNATED AS PRIMARY IF            @ZM00722*/
*   /* ONLY SA0 EXISTS                                       @ZM00722*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0081
*   NTAB1UCB='EE'X;                 /*                       @Y30LB12*/
         LH    @07,@CH00692                                        0081
         AL    @07,BUILDPTR(,R4)                                   0081
         MVI   NTAB1UCB(@07),X'EE'                                 0081
*   NPRIADDR='0000'X;               /*                       @Y30LB12*/
         MVC   NPRIADDR(2,@07),@CB00599                            0082
*   NSECADDR='0020'X;               /*                       @Y30LB12*/
         MVC   NSECADDR(2,@07),@CB00545                            0083
*   NMEDUCB='EE'X;                  /*                       @Y30LB12*/
         MVI   NMEDUCB(@07),X'EE'                                  0084
*   NMEDPRI='0024'X;                /*                       @ZM00722*/
         MVC   NMEDPRI(2,@07),@CB00600                             0085
*   NMEDSEC='0004'X;                /*                       @ZM00722*/
*                                                                  0086
         MVC   NMEDSEC(2,@07),@CB00548                             0086
*   /*****************************************************************/
*   /*                                                               */
*   /* IF STAGING ADAPTER 1 DOES NOT CONNECT TO SDG0,        @XD00163*/
*   /* SET OFF ALTERNATE PATH BITS FOR THE TWO TABLES        @XD00163*/
*   /* UCBS AND MODIFY UCB ADDRESSES                         @ZM01128*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0087
*   IF TORSG1(2)^='00'X             /*                       @XD00163*/
*       &TORSG2(2)^='00'X           /*                       @XD00163*/
*     THEN                          /*                       @XD00163*/
         L     @15,COMPTR2(,R4)                                    0087
         CLI   TORSG1+2(@15),X'00'                                 0087
         BE    @RF00087                                            0087
         CLI   TORSG2+2(@15),X'00'                                 0087
         BE    @RF00087                                            0087
*     DO;                           /*                       @XD00163*/
*       NTAB1UCB='E0'X;             /*                       @XD00163*/
         MVI   NTAB1UCB(@07),X'E0'                                 0089
*       NMEDUCB='0E'X;              /*                       @ZM00722*/
         MVI   NMEDUCB(@07),X'0E'                                  0090
*       NPRIADDR='0000'X;           /*                       @ZM01128*/
         MVC   NPRIADDR(2,@07),@CB00599                            0091
*       NSECADDR='0000'X;           /*                       @ZM01128*/
         MVC   NSECADDR(2,@07),@CB00599                            0092
*       NMEDPRI='0000'X;            /*                       @ZM01128*/
         MVC   NMEDPRI(2,@07),@CB00599                             0093
*       NMEDSEC='0004'X;            /*                       @ZM01128*/
         MVC   NMEDSEC(2,@07),@CB00548                             0094
*     END;                          /*                       @XD00163*/
*                                                                  0095
*   /*****************************************************************/
*   /*                                                               */
*   /* BUILD THE CONSTANT NECESSARY TO LOCATE THE            @Y30LB12*/
*   /* START AND END OF TRACE-X AND OF TRACE-Y.              @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0096
*   NTRACE='0023122000271220C020000280240002'X;/*            @Y30LB12*/
*                                                                  0096
@RF00087 LH    @07,@CH00692                                        0096
         AL    @07,BUILDPTR(,R4)                                   0096
         MVC   NTRACE(16,@07),@CB00604                             0096
*   /*****************************************************************/
*   /*                                                               */
*   /* FILL IN THE LRU CLOCK VALUE                           @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0097
*   NLRUCLCK=LRUCLOCK;              /*                       @Y30LB12*/
*                                                                  0097
         MVC   NLRUCLCK(1,@07),LRUCLOCK(R4)                        0097
*   /*****************************************************************/
*   /*                                                               */
*   /* FILL IN THE VIRTUAL-TO-REAL PAGE MAPPING TO BE        @Y30LB12*/
*   /* USED FOR THE FOUR PAGES THAT CONTAIN THE              @Y30LB12*/
*   /* TABLES ON THE TABLES AND MEDIA PACKS.                 @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0098
*   DO I=1 TO 4;                    /*                       @Y30LB12*/
         LA    I,1                                                 0098
@DL00098 DS    0H                                                  0099
*     NPAGES(I)=VPAGES(I);          /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0099
         SLR   @03,@03                                             0099
         IC    @03,VPAGES-1(I,R4)                                  0099
         AL    @07,@CF00708                                        0099
         STC   @03,NPAGES(I,@07)                                   0099
*   END;                            /*                       @Y30LB12*/
*                                                                  0100
         AH    I,@CH00044                                          0100
         CH    I,@CH00070                                          0100
         BNH   @DL00098                                            0100
*   /*****************************************************************/
*   /*                                                               */
*   /* THE HIGH-ORDER BIT IN THE WORD AT F4 OFFSET           @G24LB42*/
*   /* IN VERIFICATION WORD IS USED TO CONTROL               @G24LB42*/
*   /* WHETHER CHANNEL COMMAND RETRY WILL BE                 @G24LB42*/
*   /* PRESENTED (SETTING IS 0) OR WHETHER THE               @G24LB42*/
*   /* I/O IS RESCHEDULED (SETTING IS 1).                    @G24LB42*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0101
*   IF CYLFAULT='1'B THEN           /*                       @G24LB42*/
         TM    CYLFAULT(R4),B'00001000'                            0101
         BNO   @RF00101                                            0101
*     UCBLOCK='80'X;                /*                       @G24LB42*/
*                                                                  0102
         L     @07,BUILDPTR(,R4)                                   0102
         AL    @07,@CF00692                                        0102
         MVI   UCBLOCK(@07),X'80'                                  0102
*   /*****************************************************************/
*   /*                                                               */
*   /* FILL IN THE COMMON STAGING PACK IDENTIFICATION        @Y30LB12*/
*   /* FROM THE FIRST 4 CHARACTERS SUPPLIED BY THE           @Y30LB12*/
*   /* VOLID PARAMETER IN THE CREATE STATEMENT.              @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0103
*   VOLPREFX=VOLSER(1:4);           /*                       @Y30LB12*/
@RF00101 L     @07,BUILDPTR(,R4)                                   0103
         AL    @07,@CF00692                                        0103
         MVC   VOLPREFX(4,@07),VOLSER(R4)                          0103
*   END BUILDR1;                    /*                       @Y30LB12*/
@EL00003 DS    0H                                                  0104
@EF00003 DS    0H                                                  0104
@ER00003 LM    @14,@12,12(@13)                                     0104
         BR    @14                                                 0104
*                                                                  0105
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - BUILDR2                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0105
*BUILDR2:                                                          0105
*   PROCEDURE;                      /*                       @Y30LB12*/
BUILDR2  STM   @14,@12,@SA00004                                    0105
*   REC2CONS='3F'X;                 /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0106
         AL    @07,@CF00692                                        0106
         MVI   REC2CONS(@07),X'3F'                                 0106
*   CALL XREFPHYS;                  /*                       @Y30LB12*/
         BAL   @14,XREFPHYS                                        0107
*   PTR2TO5=ADDR(R2UCBS);           /*                       @Y30LB12*/
         L     PTR2TO5,BUILDPTR(,R4)                               0108
         AL    PTR2TO5,@CF00692                                    0108
         LA    PTR2TO5,R2UCBS(,PTR2TO5)                            0108
*   LIBINDEX=1;                     /*                       @Y30LB12*/
         LA    LIBINDEX,1                                          0109
*   CALL UCBS2TO5;                  /*                       @Y30LB12*/
         BAL   @14,UCBS2TO5                                        0110
*   DSINDEX=1;                      /*                       @Y30LB12*/
         LA    DSINDEX,1                                           0111
*   CALL DS2TO5;                    /*                       @Y30LB12*/
         BAL   @14,DS2TO5                                          0112
*   END BUILDR2;                    /*                       @Y30LB12*/
@EL00004 DS    0H                                                  0113
@EF00004 DS    0H                                                  0113
@ER00004 LM    @14,@12,@SA00004                                    0113
         BR    @14                                                 0113
*                                                                  0114
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - BUILDR3                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0114
*BUILDR3:                                                          0114
*   PROCEDURE;                      /*                       @Y30LB12*/
BUILDR3  STM   @14,@12,@SA00005                                    0114
*   REC3CONS='2C'X;                 /*                       @Y30LB12*/
         LH    @09,@CH00692                                        0115
         AL    @09,BUILDPTR(,R4)                                   0115
         MVI   REC3CONS(@09),X'2C'                                 0115
*   PTR2TO5=ADDR(R3UCBS);           /*                       @Y30LB12*/
         LA    PTR2TO5,R3UCBS(,@09)                                0116
*   LIBINDEX=2;                     /*                       @Y30LB12*/
         LA    LIBINDEX,2                                          0117
*   CALL UCBS2TO5;                  /*                       @Y30LB12*/
         BAL   @14,UCBS2TO5                                        0118
*   DSINDEX=5;                      /*                       @Y30LB12*/
         LA    DSINDEX,5                                           0119
*   CALL DS2TO5;                    /*                       @Y30LB12*/
         BAL   @14,DS2TO5                                          0120
*   END BUILDR3;                    /*                       @Y30LB12*/
@EL00005 DS    0H                                                  0121
@EF00005 DS    0H                                                  0121
@ER00005 LM    @14,@12,@SA00005                                    0121
         BR    @14                                                 0121
*                                                                  0122
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - BUILDR4                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0122
*BUILDR4:                                                          0122
*   PROCEDURE;                      /*                       @Y30LB12*/
BUILDR4  STM   @14,@12,@SA00006                                    0122
*   REC4CONS='2C'X;                 /*                       @Y30LB12*/
         LH    @09,@CH00692                                        0123
         AL    @09,BUILDPTR(,R4)                                   0123
         MVI   REC4CONS(@09),X'2C'                                 0123
*   PTR2TO5=ADDR(R4UCBS);           /*                       @Y30LB12*/
         LA    PTR2TO5,R4UCBS(,@09)                                0124
*   LIBINDEX=3;                     /*                       @Y30LB12*/
         LA    LIBINDEX,3                                          0125
*   CALL UCBS2TO5;                  /*                       @Y30LB12*/
         BAL   @14,UCBS2TO5                                        0126
*   DSINDEX=9;                      /*                       @Y30LB12*/
         LA    DSINDEX,9                                           0127
*   CALL DS2TO5;                    /*                       @Y30LB12*/
         BAL   @14,DS2TO5                                          0128
*   END BUILDR4;                    /*                       @Y30LB12*/
@EL00006 DS    0H                                                  0129
@EF00006 DS    0H                                                  0129
@ER00006 LM    @14,@12,@SA00006                                    0129
         BR    @14                                                 0129
*                                                                  0130
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - BUILDR5                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0130
*BUILDR5:                                                          0130
*   PROCEDURE;                      /*                       @Y30LB12*/
BUILDR5  STM   @14,@12,@SA00007                                    0130
*   REC5CONS='2C'X;                 /*                       @Y30LB12*/
         LH    @09,@CH00692                                        0131
         AL    @09,BUILDPTR(,R4)                                   0131
         MVI   REC5CONS(@09),X'2C'                                 0131
*   PTR2TO5=ADDR(R5UCBS);           /*                       @Y30LB12*/
         LA    PTR2TO5,R5UCBS(,@09)                                0132
*   LIBINDEX=4;                     /*                       @Y30LB12*/
         LA    LIBINDEX,4                                          0133
*   CALL UCBS2TO5;                  /*                       @Y30LB12*/
         BAL   @14,UCBS2TO5                                        0134
*   DSINDEX=13;                     /*                       @Y30LB12*/
         LA    DSINDEX,13                                          0135
*   CALL DS2TO5;                    /*                       @Y30LB12*/
         BAL   @14,DS2TO5                                          0136
*   END BUILDR5;                    /*                       @Y30LB12*/
@EL00007 DS    0H                                                  0137
@EF00007 DS    0H                                                  0137
@ER00007 LM    @14,@12,@SA00007                                    0137
         BR    @14                                                 0137
*                                                                  0138
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - XREFPHYS                                @Y30LB12*/
*/*                                                          @Y30LB12*/
*/* FUNCTION - DESCRIBE THE POINTERS TO LOCATE THE NON-DASD  @Y30LB12*/
*/*            UCB FOR EITHER A STAGING ADAPTER (SA) OR A    @Y30LB12*/
*/*            MASS STORAGE FACILITY (MSF).                  @Y30LB12*/
*/*            IF THE UCB IS PRESENT AND DESCRIBES           @Y30LB12*/
*/*            A SA,   THE BYTE POINTER ALWAYS CONTAINS      @Y30LB12*/
*/*            '80'X.  IF THE UCB IS PRESENT AND DESCRIBES   @Y30LB12*/
*/*            A MSF, THE POINTER IS 'C0'X FOR MSF           @Y30LB12*/
*/*            0, 'C1'X FOR MSF 1, 'C2'X FOR MSF 2,          @Y30LB12*/
*/*            OR 'C3'X FOR MSF 3.                           @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0138
*XREFPHYS:                                                         0138
*   PROCEDURE;                      /*                       @Y30LB12*/
*                                                                  0138
XREFPHYS STM   @14,@12,12(@13)                                     0138
*   /*****************************************************************/
*   /*                                                               */
*   /* DO POINTERS FOR STAGING ADAPTER UCBS                  @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0139
*   DO I=1 TO 16;                   /*                       @Y30LB12*/
         LA    I,1                                                 0139
@DL00139 DS    0H                                                  0140
*     IF CISPEC((I*3)-2)='1'B       /*                       @Y30LB12*/
*         ×CISPEC((I*3)-1)='1'B     /*                       @Y30LB12*/
*         ×CISPEC(I*3)='1'B         /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @07,I                                               0140
         MH    @07,@CH00694                                        0140
         L     @03,COMPTR2(,R4)                                    0140
         ST    @07,@TF00001                                        0140
         ALR   @07,@03                                             0140
         TM    CISPEC-27(@07),B'10000000'                          0140
         BO    @RT00140                                            0140
         LR    @07,@03                                             0140
         AL    @07,@TF00001                                        0140
         TM    CISPEC-18(@07),B'10000000'                          0140
         BO    @RT00140                                            0140
         AL    @03,@TF00001                                        0140
         TM    CISPEC-9(@03),B'10000000'                           0140
         BNO   @RF00140                                            0140
@RT00140 DS    0H                                                  0141
*       NUCBXREF(I)='80'X;          /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0141
         ALR   @07,I                                               0141
         AL    @07,@CF00708                                        0141
         MVI   NUCBXREF(@07),X'80'                                 0141
*     ELSE                                                         0142
*       ;                           /*                       @Y30LB12*/
@RF00140 DS    0H                                                  0143
*   END;                            /*                       @Y30LB12*/
*                                                                  0143
         AH    I,@CH00044                                          0143
         CH    I,@CH00164                                          0143
         BNH   @DL00139                                            0143
*   /*****************************************************************/
*   /*                                                               */
*   /* DO POINTERS FOR MASS STORAGE FACILITY UCBS            @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0144
*   DO J=1 TO 4;                    /*                       @Y30LB12*/
         LA    J,1                                                 0144
@DL00144 DS    0H                                                  0145
*     IF LIBSPEC(J)='1'B            /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @15,J                                               0145
         MH    @15,@CH00130                                        0145
         ST    @15,@TF00001                                        0145
         ALR   @15,R4                                              0145
         TM    LIBSPEC-12(@15),B'10000000'                         0145
         BNO   @RF00145                                            0145
*       DO;                         /*                       @Y30LB12*/
*         I=LIBDSMID(J)+1;          /*                       @Y30LB12*/
         LA    I,1                                                 0147
         LR    @03,R4                                              0147
         AL    @03,@TF00001                                        0147
         MVC   @ZT00003+3(1),LIBDSMID-12(@03)                      0147
         AL    I,@ZT00003                                          0147
*         NUCBXREF(I)=192+J-1;      /*                       @Y30LB12*/
         L     @03,BUILDPTR(,R4)                                   0148
         LR    @15,J                                               0148
         SH    @15,@CH00696                                        0148
         AL    @03,@CF00708                                        0148
         STC   @15,NUCBXREF(I,@03)                                 0148
*       END;                        /*                       @Y30LB12*/
*     ELSE                                                         0150
*       ;                           /*                       @Y30LB12*/
@RF00145 DS    0H                                                  0151
*   END;                            /*                       @Y30LB12*/
         AH    J,@CH00044                                          0151
         CH    J,@CH00070                                          0151
         BNH   @DL00144                                            0151
*   END XREFPHYS;                   /*                       @Y30LB12*/
@EL00008 DS    0H                                                  0152
@EF00008 DS    0H                                                  0152
@ER00008 LM    @14,@12,12(@13)                                     0152
         BR    @14                                                 0152
*                                                                  0153
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - UCBS2TO5                                @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0153
*UCBS2TO5:                                                         0153
*   PROCEDURE;                      /*                       @Y30LB12*/
*                                                                  0153
UCBS2TO5 STM   @14,@12,@SA00009                                    0153
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THE MSF IS PRESENT IN THE CONFIGURATION,           @Y30LB12*/
*   /* PUT MSFID IN THE LOW-ORDER 4 BITS AND SET             @Y30LB12*/
*   /* VALID IN THE HIGH-ORDER BIT. SET VALIDUC0 TO          @Y30LB12*/
*   /* '98'X                                                 @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0154
*   IF LIBSPEC(LIBINDEX)='1'B       /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         LR    @09,LIBINDEX                                        0154
         MH    @09,@CH00130                                        0154
         ST    @09,@TF00001                                        0154
         ALR   @09,R4                                              0154
         TM    LIBSPEC-12(@09),B'10000000'                         0154
         BNO   @RF00154                                            0154
*     DO;                           /*                       @Y30LB12*/
*       LIB2TO5=LIBDSMID(LIBINDEX)+128;/*                    @Y30LB12*/
         LA    @09,128                                             0156
         LR    @07,R4                                              0156
         AL    @07,@TF00001                                        0156
         MVC   @ZT00003+3(1),LIBDSMID-12(@07)                      0156
         AL    @09,@ZT00003                                        0156
         STC   @09,LIB2TO5(,PTR2TO5)                               0156
*       VALIDUC0='98'X;             /*                       @Y30LB12*/
         MVI   VALIDUC0(PTR2TO5),X'98'                             0157
*     END;                          /*                       @Y30LB12*/
*   ELSE                                                           0159
*     ;                             /*                       @Y30LB12*/
*                                                                  0159
@RF00154 DS    0H                                                  0160
*   /*****************************************************************/
*   /*                                                               */
*   /* SET A BIT FOR EACH SA THAT CONNECTS TO AN DRC         @Y30LB12*/
*   /* (DATA RECORDING CONTROLLER).                          @Y30LB12*/
*   /* CONTROLLERS FOR MSF 0 INTO RECORD 2, FOR MSF 1        @Y30LB12*/
*   /* INTO RECORD 3, FOR MSF 2 INTO RECORD 4, AND           @Y30LB12*/
*   /* FOR MSF 3 INTO RECORD 5                               @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0160
*   DO I=1 TO 16;                   /*                       @Y30LB12*/
         LA    I,1                                                 0160
@DL00160 DS    0H                                                  0161
*     DO J=1 TO 4;                  /*                       @Y30LB12*/
         LA    J,1                                                 0161
@DL00161 DS    0H                                                  0162
*       IF LIBINDEX=LOWLIB(I,J)-239 /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         LR    @09,I                                               0162
         SLA   @09,2                                               0162
         ALR   @09,J                                               0162
         ALR   @09,@09                                             0162
         SLR   @15,@15                                             0162
         IC    @15,LOWLIB-10(@09,R4)                               0162
         SH    @15,@CH00634                                        0162
         CR    LIBINDEX,@15                                        0162
         BNE   @RF00162                                            0162
*         DO;                       /*                       @Y30LB12*/
*           IF LOWRW01(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         ALR   @09,R4                                              0164
         TM    LOWRW01-10(@09),B'01000000'                         0164
         BNO   @RF00164                                            0164
*             CTL0=CTL0×PATTERN(I); /*                       @Y30LB12*/
         LR    @09,I                                               0165
         ALR   @09,@09                                             0165
         LA    @01,PATTERN-2(@09)                                  0165
         OC    CTL0(2,PTR2TO5),0(@01)                              0165
*           ELSE                                                   0166
*             ;                     /*                       @Y30LB12*/
@RF00164 DS    0H                                                  0167
*           IF LOWRW23(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @09,I                                               0167
         SLA   @09,2                                               0167
         ALR   @09,J                                               0167
         ALR   @09,@09                                             0167
         ALR   @09,R4                                              0167
         TM    LOWRW23-10(@09),B'00100000'                         0167
         BNO   @RF00167                                            0167
*             CTL1=CTL1×PATTERN(I); /*                       @Y30LB12*/
         LR    @09,I                                               0168
         ALR   @09,@09                                             0168
         LA    @01,PATTERN-2(@09)                                  0168
         OC    CTL1(2,PTR2TO5),0(@01)                              0168
*           ELSE                                                   0169
*             ;                     /*                       @Y30LB12*/
@RF00167 DS    0H                                                  0170
*           IF LOWRW45(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @09,I                                               0170
         SLA   @09,2                                               0170
         ALR   @09,J                                               0170
         ALR   @09,@09                                             0170
         ALR   @09,R4                                              0170
         TM    LOWRW45-10(@09),B'00010000'                         0170
         BNO   @RF00170                                            0170
*             CTL2=CTL2×PATTERN(I); /*                       @Y30LB12*/
         LR    @09,I                                               0171
         ALR   @09,@09                                             0171
         LA    @01,PATTERN-2(@09)                                  0171
         OC    CTL2(2,PTR2TO5),0(@01)                              0171
*           ELSE                                                   0172
*             ;                     /*                       @Y30LB12*/
@RF00170 DS    0H                                                  0173
*           IF LOWRW67(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @09,I                                               0173
         SLA   @09,2                                               0173
         ALR   @09,J                                               0173
         ALR   @09,@09                                             0173
         ALR   @09,R4                                              0173
         TM    LOWRW67-10(@09),B'00001000'                         0173
         BNO   @RF00173                                            0173
*             CTL3=CTL3×PATTERN(I); /*                       @Y30LB12*/
         LR    @09,I                                               0174
         ALR   @09,@09                                             0174
         LA    @01,PATTERN-2(@09)                                  0174
         OC    CTL3(2,PTR2TO5),0(@01)                              0174
*           ELSE                                                   0175
*             ;                     /*                       @Y30LB12*/
@RF00173 DS    0H                                                  0176
*         END;                      /*                       @Y30LB12*/
*     END;                          /*                       @Y30LB12*/
@RF00162 AH    J,@CH00044                                          0177
         CH    J,@CH00070                                          0177
         BNH   @DL00161                                            0177
*   END;                            /*                       @Y30LB12*/
*                                                                  0178
         AH    I,@CH00044                                          0178
         CH    I,@CH00164                                          0178
         BNH   @DL00160                                            0178
*   /*****************************************************************/
*   /*                                                               */
*   /* SET POINTERS FROM DRC'S TO DRD'S IN                   @Y30LB12*/
*   /* HEX70-HEX7F.                                          @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0179
*   CALL DO707F;                    /*                       @YM32159*/
*                                                                  0179
         BAL   @14,DO707F                                          0179
*   /*****************************************************************/
*   /*                                                               */
*   /* SET POINTERS FROM DRD'S TO DRC'S IN                   @Y30LB12*/
*   /* HEX80-HEX9C.                                          @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0180
*   CALL DO809C;                    /*                       @YM32159*/
         BAL   @14,DO809C                                          0180
*   END UCBS2TO5;                   /*                       @YM32159*/
@EL00009 DS    0H                                                  0181
@EF00009 DS    0H                                                  0181
@ER00009 LM    @14,@12,@SA00009                                    0181
         BR    @14                                                 0181
*                                                                  0182
*/********************************************************** @YM32159*/
*/*                                                          @YM32159*/
*/* PROCEDURE NAME - DO707F                                  @YM32159*/
*/*                                                          @YM32159*/
*/* FUNCTION - FOR EACH OF FOUR POSSIBLE MSFS, SET THE       @YM32159*/
*/*            BITS FOR EACH DATA RECORDING CONTROLLER TO    @YM32159*/
*/*            INDICATE WHICH DATA RECORDING DEVICES THE     @YM32159*/
*/*            TO WHICH THE CONTROLLER ATTACHES.  MSF 0      @YM32159*/
*/*            IS IN RECORD 2, MSF 1 IS IN RECORD 3, MSF 2   @YM32159*/
*/*            IS IN RECORD 4 AND MSF 3 IS IN RECORD 5.      @YM32159*/
*/*            DRC 0 DRD'S ARE IN HEX70-HEX73.  DRC 1 DRD'S  @YM32159*/
*/*            ARE IN HEX74-HEX77.  DRC 2 DRD'S ARE IN       @YM32159*/
*/*            HEX78-HEX7B.  DRC 3 DRD'S ARE IN HEX7C-HEX7F  @YM32159*/
*/*                                                          @YM32159*/
*/********************************************************** @YM32159*/
*                                                                  0182
*DO707F:                                                           0182
*   PROCEDURE;                      /*                       @YM32159*/
*                                                                  0182
DO707F   STM   @14,@12,12(@13)                                     0182
*   /*****************************************************************/
*   /*                                                               */
*   /* FOR ANY SIZE LIBRARY, PRIMARY DRD 0 AND DRD 1         @YM32159*/
*   /* ATTACH TO DCR 0                                       @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0183
*   IF LIBSIZE(LIBINDEX)='1'        /* SIZE = 1              @YM32159*/
*       ×LIBSIZE(LIBINDEX)='2'      /* SIZE = 2              @YM32159*/
*       ×LIBSIZE(LIBINDEX)='3'      /* SIZE = 3              @YM32159*/
*       ×LIBSIZE(LIBINDEX)='4'      /* SIZE = 4              @YM32159*/
*     THEN                          /*                       @Y30LB12*/
         LR    @09,LIBINDEX                                        0183
         MH    @09,@CH00130                                        0183
         ST    @09,@TF00001                                        0183
         ALR   @09,R4                                              0183
         CLI   LIBSIZE-12(@09),C'1'                                0183
         BE    @RT00183                                            0183
         LR    @09,R4                                              0183
         AL    @09,@TF00001                                        0183
         CLI   LIBSIZE-12(@09),C'2'                                0183
         BE    @RT00183                                            0183
         LR    @09,R4                                              0183
         AL    @09,@TF00001                                        0183
         CLI   LIBSIZE-12(@09),C'3'                                0183
         BE    @RT00183                                            0183
         LR    @09,R4                                              0183
         AL    @09,@TF00001                                        0183
         CLI   LIBSIZE-12(@09),C'4'                                0183
         BNE   @RF00183                                            0183
@RT00183 DS    0H                                                  0184
*     DO;                           /*                       @Y30LB12*/
*       HEX70='80'X;                /* ALWAYS DRD 0          @Y30LB12*/
         MVI   HEX70(PTR2TO5),X'80'                                0185
*       HEX71='81'X;                /* ALWAYS DRD 1          @Y30LB12*/
         MVI   HEX71(PTR2TO5),X'81'                                0186
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0188
*     ;                             /*                       @YM32159*/
*                                                                  0188
@RF00183 DS    0H                                                  0189
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THE LIBRARY SIZE IS 2 OR 4, THE ALTERNATE          @YM32159*/
*   /* DRD'S FOR DRC 0 ARE DRD 2 AND DRD 3 UNDER             @YM32159*/
*   /* DRC 1                                                 @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0189
*   IF LIBSIZE(LIBINDEX)='2'        /* SIZE = 2              @YM32159*/
*       ×LIBSIZE(LIBINDEX)='4'      /* SIZE = 4              @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0189
         MH    @09,@CH00130                                        0189
         ST    @09,@TF00001                                        0189
         ALR   @09,R4                                              0189
         CLI   LIBSIZE-12(@09),C'2'                                0189
         BE    @RT00189                                            0189
         LR    @09,R4                                              0189
         AL    @09,@TF00001                                        0189
         CLI   LIBSIZE-12(@09),C'4'                                0189
         BNE   @RF00189                                            0189
@RT00189 DS    0H                                                  0190
*     DO;                           /*                       @YM32159*/
*       HEX72='82'X;                /* 1ST ALTERNATE DRD     @YM32159*/
         MVI   HEX72(PTR2TO5),X'82'                                0191
*       HEX73='83'X;                /* 2ND ALTERNATE DRD     @YM32159*/
         MVI   HEX73(PTR2TO5),X'83'                                0192
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0194
*     ;                             /*                       @YM32159*/
*                                                                  0194
@RF00189 DS    0H                                                  0195
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THE LIBRARY SIZE IS 3, THE ALTERNATE DRD'S         @YM32159*/
*   /* FOR DRC 0 ARE DRD 4 AND DRD 5 UNDER DRC 2             @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0195
*   IF LIBSIZE(LIBINDEX)='3'        /* SIZE = 3              @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0195
         MH    @09,@CH00130                                        0195
         ALR   @09,R4                                              0195
         CLI   LIBSIZE-12(@09),C'3'                                0195
         BNE   @RF00195                                            0195
*     DO;                           /*                       @YM32159*/
*       HEX72='84'X;                /* 1ST ALTERNATE DRD     @YM32159*/
         MVI   HEX72(PTR2TO5),X'84'                                0197
*       HEX73='85'X;                /* 2ND ALTERNATE DRD     @YM32159*/
         MVI   HEX73(PTR2TO5),X'85'                                0198
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0200
*     ;                             /*                       @YM32159*/
*                                                                  0200
@RF00195 DS    0H                                                  0201
*   /*****************************************************************/
*   /*                                                               */
*   /* FOR LIBRARY SIZES 2, 3, AND 4, THE PRINARY            @YM32159*/
*   /* DRD'S FOR DRC 1 ARE DRD 2 AND DRD 3 AND THE           @YM32159*/
*   /* ALTERNATE DRC'S ARE DRC 0 AND DRC 1.                  @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0201
*   IF LIBSIZE(LIBINDEX)='2'        /* SIZE = 2              @YM32159*/
*       ×LIBSIZE(LIBINDEX)='3'      /* SIZE = 3              @YM32159*/
*       ×LIBSIZE(LIBINDEX)='4'      /* SIZE = 4              @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0201
         MH    @09,@CH00130                                        0201
         ST    @09,@TF00001                                        0201
         ALR   @09,R4                                              0201
         CLI   LIBSIZE-12(@09),C'2'                                0201
         BE    @RT00201                                            0201
         LR    @09,R4                                              0201
         AL    @09,@TF00001                                        0201
         CLI   LIBSIZE-12(@09),C'3'                                0201
         BE    @RT00201                                            0201
         LR    @09,R4                                              0201
         AL    @09,@TF00001                                        0201
         CLI   LIBSIZE-12(@09),C'4'                                0201
         BNE   @RF00201                                            0201
@RT00201 DS    0H                                                  0202
*     DO;                           /*                       @YM32159*/
*       HEX74='82'X;                /*                       @YM32159*/
         MVI   HEX74(PTR2TO5),X'82'                                0203
*       HEX75='83'X;                /*                       @YM32159*/
         MVI   HEX75(PTR2TO5),X'83'                                0204
*       HEX76='80'X;                /*                       @YM32159*/
         MVI   HEX76(PTR2TO5),X'80'                                0205
*       HEX77='81'X;                /*                       @YM32159*/
         MVI   HEX77(PTR2TO5),X'81'                                0206
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0208
*     ;                             /*                       @YM32159*/
*                                                                  0208
@RF00201 DS    0H                                                  0209
*   /*****************************************************************/
*   /*                                                               */
*   /* FOR LIBRARY SIZES 3 AND 4, THE PRIMARY DRD'S          @YM32159*/
*   /* ARE DRD 4 AND DRD 5 UNDER DRC 3                       @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0209
*   IF LIBSIZE(LIBINDEX)='3'        /* SIZE = 3              @YM32159*/
*       ×LIBSIZE(LIBINDEX)='4'      /* SIZE = 4              @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0209
         MH    @09,@CH00130                                        0209
         ST    @09,@TF00001                                        0209
         ALR   @09,R4                                              0209
         CLI   LIBSIZE-12(@09),C'3'                                0209
         BE    @RT00209                                            0209
         LR    @09,R4                                              0209
         AL    @09,@TF00001                                        0209
         CLI   LIBSIZE-12(@09),C'4'                                0209
         BNE   @RF00209                                            0209
@RT00209 DS    0H                                                  0210
*     DO;                           /*                       @YM32159*/
*       HEX78='84'X;                /*                       @YM32159*/
         MVI   HEX78(PTR2TO5),X'84'                                0211
*       HEX79='85'X;                /*                       @YM32159*/
         MVI   HEX79(PTR2TO5),X'85'                                0212
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0214
*     ;                             /*                       @YM32159*/
*                                                                  0214
@RF00209 DS    0H                                                  0215
*   /*****************************************************************/
*   /*                                                               */
*   /* IF LIBRARY SIZE IS 3, THE ALTERNATE DRD'S FOR         @YM32159*/
*   /* DRC 2 ARE DRD 2 AND DRD 3 UNDER DRC 1.                @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0215
*   IF LIBSIZE(LIBINDEX)='3'        /* SIZE = 3              @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0215
         MH    @09,@CH00130                                        0215
         ALR   @09,R4                                              0215
         CLI   LIBSIZE-12(@09),C'3'                                0215
         BNE   @RF00215                                            0215
*     DO;                           /*                       @YM32159*/
*       HEX7A='82'X;                /*                       @YM32159*/
         MVI   HEX7A(PTR2TO5),X'82'                                0217
*       HEX7B='83'X;                /*                       @YM32159*/
         MVI   HEX7B(PTR2TO5),X'83'                                0218
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0220
*     ;                             /*                       @YM32159*/
*                                                                  0220
@RF00215 DS    0H                                                  0221
*   /*****************************************************************/
*   /*                                                               */
*   /* IF LIBRARY SIZE IS 4, THE ALTERNATE DRD'S FOR         @YM32159*/
*   /* DRC 2 ARE DRD 6 AND DRD 7. THE PRIMARY DRD'S          @YM32159*/
*   /* FOR DRC 3 ARE DRD 6 AND DRD 7 AND THE                 @YM32159*/
*   /* ALTERNATE DRD'S FOR DRC 3 ARE DRD 4 AND DRD 5.        @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0221
*   IF LIBSIZE(LIBINDEX)='4'        /*                       @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0221
         MH    @09,@CH00130                                        0221
         ALR   @09,R4                                              0221
         CLI   LIBSIZE-12(@09),C'4'                                0221
         BNE   @RF00221                                            0221
*     DO;                           /*                       @YM32159*/
*       HEX7A='86'X;                /*                       @YM32159*/
         MVI   HEX7A(PTR2TO5),X'86'                                0223
*       HEX7B='87'X;                /*                       @YM32159*/
         MVI   HEX7B(PTR2TO5),X'87'                                0224
*       HEX7C='86'X;                /*                       @YM32159*/
         MVI   HEX7C(PTR2TO5),X'86'                                0225
*       HEX7D='87'X;                /*                       @YM32159*/
         MVI   HEX7D(PTR2TO5),X'87'                                0226
*       HEX7E='84'X;                /*                       @YM32159*/
         MVI   HEX7E(PTR2TO5),X'84'                                0227
*       HEX7F='85'X;                /*                       @YM32159*/
         MVI   HEX7F(PTR2TO5),X'85'                                0228
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0230
*     ;                             /*                       @YM32159*/
@RF00221 DS    0H                                                  0231
*   END DO707F;                     /* RETURN TO UCBS2TO5    @YM32159*/
@EL00010 DS    0H                                                  0231
@EF00010 DS    0H                                                  0231
@ER00010 LM    @14,@12,12(@13)                                     0231
         BR    @14                                                 0231
*                                                                  0232
*/********************************************************** @YM32159*/
*/*                                                          @YM32159*/
*/* PROCEDURE NAME - DO809C                                  @YM32159*/
*/*                                                          @YM32159*/
*/* FUNCTION - FOR EACH MSF, INDICATE THE DATA RECORDING     @YM32159*/
*/*            CONTROLLERS TO WHICH EACH DATA RECORDING      @YM32159*/
*/*            DEVICE ATTACHES.                              @YM32159*/
*/*                                                          @YM32159*/
*/********************************************************** @YM32159*/
*                                                                  0232
*DO809C:                                                           0232
*   PROCEDURE;                      /*                       @YM32159*/
*                                                                  0232
DO809C   STM   @14,@12,12(@13)                                     0232
*   /*****************************************************************/
*   /*                                                               */
*   /* IF LIBRARY SIZE IS 1, DRD 0 AND DRD 1                 @YM32159*/
*   /* ATTACH ONLY TO DRC 0.                                 @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0233
*   IF LIBSIZE(LIBINDEX)='1'        /*                       @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0233
         MH    @09,@CH00130                                        0233
         ALR   @09,R4                                              0233
         CLI   LIBSIZE-12(@09),C'1'                                0233
         BNE   @RF00233                                            0233
*     DO;                           /*                       @YM32159*/
*       HEX80='88'X;                /* DRD0 TO DRC0 ONLY     @YM32159*/
         MVI   HEX80(PTR2TO5),X'88'                                0235
*       HEX84='88'X;                /* DRD1 TO DRC0 ONLY     @YM32159*/
         MVI   HEX84(PTR2TO5),X'88'                                0236
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0238
*     ;                             /*                       @YM32159*/
*                                                                  0238
@RF00233 DS    0H                                                  0239
*   /*****************************************************************/
*   /*                                                               */
*   /* IF LIBRARY SIZE IS 2, 3, OR 4, DRD 0 AND DRD 1        @YM32159*/
*   /* ATTACH TO BOTH DRC 0 AND DRC 1.                       @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0239
*   IF LIBSIZE(LIBINDEX)='2'        /*                       @YM32159*/
*       ×LIBSIZE(LIBINDEX)='3'      /*                       @YM32159*/
*       ×LIBSIZE(LIBINDEX)='4'      /*                       @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0239
         MH    @09,@CH00130                                        0239
         ST    @09,@TF00001                                        0239
         ALR   @09,R4                                              0239
         CLI   LIBSIZE-12(@09),C'2'                                0239
         BE    @RT00239                                            0239
         LR    @09,R4                                              0239
         AL    @09,@TF00001                                        0239
         CLI   LIBSIZE-12(@09),C'3'                                0239
         BE    @RT00239                                            0239
         LR    @09,R4                                              0239
         AL    @09,@TF00001                                        0239
         CLI   LIBSIZE-12(@09),C'4'                                0239
         BNE   @RF00239                                            0239
@RT00239 DS    0H                                                  0240
*     DO;                           /*                       @YM32159*/
*       HEX80='8C'X;                /* DRD0 TO DRC0/DRC1     @YM32159*/
         MVI   HEX80(PTR2TO5),X'8C'                                0241
*       HEX84='8C'X;                /* DRD1 TO DRC0/DRC1     @YM32159*/
         MVI   HEX84(PTR2TO5),X'8C'                                0242
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0244
*     ;                             /*                       @YM32159*/
*                                                                  0244
@RF00239 DS    0H                                                  0245
*   /*****************************************************************/
*   /*                                                               */
*   /* IF LIBRARY SIZE IS 2 OR LIBRARY SIZE IS 4,            @YM32159*/
*   /* DRD 2 AND DRD 3 ATTACH TO DRC 0 AND DRC 1             @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0245
*   IF LIBSIZE(LIBINDEX)='2'        /*                       @YM32159*/
*       ×LIBSIZE(LIBINDEX)='4'      /*                       @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0245
         MH    @09,@CH00130                                        0245
         ST    @09,@TF00001                                        0245
         ALR   @09,R4                                              0245
         CLI   LIBSIZE-12(@09),C'2'                                0245
         BE    @RT00245                                            0245
         LR    @09,R4                                              0245
         AL    @09,@TF00001                                        0245
         CLI   LIBSIZE-12(@09),C'4'                                0245
         BNE   @RF00245                                            0245
@RT00245 DS    0H                                                  0246
*     DO;                           /*                       @YM32159*/
*       HEX88='8C'X;                /* DRD2 TO DRC1/DRC0     @YM32159*/
         MVI   HEX88(PTR2TO5),X'8C'                                0247
*       HEX8C='8C'X;                /* DRD2 TO DRC1/DRC0     @YM32159*/
         MVI   HEX8C(PTR2TO5),X'8C'                                0248
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0250
*     ;                             /*                       @YM32159*/
*                                                                  0250
@RF00245 DS    0H                                                  0251
*   /*****************************************************************/
*   /*                                                               */
*   /* IF LIBRARY SIZE IS 3, DRD 2 AND DRD 3 ATTACH          @YM32159*/
*   /* TO DRC 1 AND DRC 2. ALSO DRD 4 AND DRD 5              @YM32159*/
*   /* TO DRC 2 AND DRC 0                                    @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0251
*   IF LIBSIZE(LIBINDEX)='3'        /*                       @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0251
         MH    @09,@CH00130                                        0251
         ALR   @09,R4                                              0251
         CLI   LIBSIZE-12(@09),C'3'                                0251
         BNE   @RF00251                                            0251
*     DO;                           /*                       @YM32159*/
*       HEX88='86'X;                /* DRD2 TO DRC1/DRC2     @YM32159*/
         MVI   HEX88(PTR2TO5),X'86'                                0253
*       HEX8C='86'X;                /* DRD2 TO DRC1/DRC2     @YM32159*/
         MVI   HEX8C(PTR2TO5),X'86'                                0254
*       HEX90='8A'X;                /* DRD4 TO DRC2/DRC0     @YM32159*/
         MVI   HEX90(PTR2TO5),X'8A'                                0255
*       HEX94='8A'X;                /* DRD5 TO DRC2/DRC0     @YM32159*/
         MVI   HEX94(PTR2TO5),X'8A'                                0256
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0258
*     ;                             /*                       @YM32159*/
*                                                                  0258
@RF00251 DS    0H                                                  0259
*   /*****************************************************************/
*   /*                                                               */
*   /* IF LIBRARY SIZE IS 4, DRD 4 AND DRD 5 ATTACH          @YM32159*/
*   /* TO DRC 2 AND DRC 3 AND DRC 6 AND DRC 7 ATTACH         @YM32159*/
*   /* TO DRC 3 AND DRC 2.                                   @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0259
*   IF LIBSIZE(LIBINDEX)='4'        /*                       @YM32159*/
*     THEN                          /*                       @YM32159*/
         LR    @09,LIBINDEX                                        0259
         MH    @09,@CH00130                                        0259
         ALR   @09,R4                                              0259
         CLI   LIBSIZE-12(@09),C'4'                                0259
         BNE   @RF00259                                            0259
*     DO;                           /*                       @YM32159*/
*       HEX90='83'X;                /* DRD4 TO DRC2/DRC3     @YM32159*/
         MVI   HEX90(PTR2TO5),X'83'                                0261
*       HEX94='83'X;                /* DRD5 TO DRC2/DRC3     @YM32159*/
         MVI   HEX94(PTR2TO5),X'83'                                0262
*       HEX98='83'X;                /* DRD6 TO DRC3/DRC2     @YM32159*/
         MVI   HEX98(PTR2TO5),X'83'                                0263
*       HEX9C='83'X;                /* DRD7 TO DRC3/DRC2     @YM32159*/
         MVI   HEX9C(PTR2TO5),X'83'                                0264
*     END;                          /*                       @YM32159*/
*   ELSE                                                           0266
*     ;                             /*                       @YM32159*/
@RF00259 DS    0H                                                  0267
*   END DO809C;                     /* RETURN TO UCBS2TO5    @YM32159*/
@EL00011 DS    0H                                                  0267
@EF00011 DS    0H                                                  0267
@ER00011 LM    @14,@12,12(@13)                                     0267
         BR    @14                                                 0267
*                                                                  0268
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - DS2TO5                                  @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0268
*DS2TO5:                                                           0268
*   PROCEDURE;                      /*                       @Y30LB12*/
*                                                                  0268
DS2TO5   STM   @14,@12,12(@13)                                     0268
*   /*****************************************************************/
*   /*                                                               */
*   /* DOUBLE CHECK THE STAGING ADAPTER PRESENT BY           @YM32159*/
*   /* SETTING THE 'VALID' BIT IF THE STAGING ADAPTER        @YM32159*/
*   /* ATTACHES TO A CPU (SPECIFIED IN UPPERCON)             @YM32159*/
*   /* AND/OR THE STAGING ADAPTER ATTACHES TO A              @YM32159*/
*   /* DATA RECORDING CONTROLLER (SPECIFIED IN               @YM32159*/
*   /* LOWERCON)                                             @YM32159*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0269
*   DO I=DSINDEX TO(DSINDEX+3);     /*                       @Y30LB12*/
*                                                                  0269
         LR    I,DSINDEX                                           0269
         B     @DE00269                                            0269
@DL00269 DS    0H                                                  0270
*     /***************************************************************/
*     /*                                                             */
*     /* DETERMINE IF THE STAGING ADAPTER IS IN THE          @Y30LB12*/
*     /* CONFIGURATION BY CHECKING WHETHER ANY OF ITS        @Y30LB12*/
*     /* UPPER INTERFACES ARE IN USE.                        @Y30LB12*/
*     /*                                                             */
*     /***************************************************************/
*                                                                  0270
*     DO J=1 TO 3;                  /*                       @Y30LB12*/
         LA    J,1                                                 0270
@DL00270 DS    0H                                                  0271
*       IF CISPEC(((I-1)*3)+J)='1'B /*                       @YM31095*/
*         THEN                      /*                       @Y30LB12*/
         LR    @08,I                                               0271
         BCTR  @08,0                                               0271
         MH    @08,@CH00050                                        0271
         ALR   @08,J                                               0271
         MH    @08,@CH00114                                        0271
         L     @01,COMPTR2(,R4)                                    0271
         ALR   @01,@08                                             0271
         TM    CISPEC-9(@01),B'10000000'                           0271
         BNO   @RF00271                                            0271
*         HEXD0(I+1-DSINDEX)='80'X; /*                       @YM32159*/
         LA    @08,1                                               0272
         ALR   @08,I                                               0272
         SLR   @08,DSINDEX                                         0272
         SLA   @08,2                                               0272
         LA    @15,128                                             0272
         STC   @15,HEXD0-4(@08,PTR2TO5)                            0272
*       ELSE                                                       0273
*         ;                         /*                       @Y30LB12*/
@RF00271 DS    0H                                                  0274
*     END;                          /*                       @Y30LB12*/
*                                                                  0274
         AH    J,@CH00044                                          0274
         CH    J,@CH00050                                          0274
         BNH   @DL00270                                            0274
*     /***************************************************************/
*     /*                                                             */
*     /* RECHECK AND SET BIT IF SATAGING ADAPTER HAS         @YM32159*/
*     /* TO DATA RECORDING CONTROLLER                        @YM32159*/
*     /*                                                             */
*     /***************************************************************/
*                                                                  0275
*     DO J=1 TO 4;                  /*                       @YM32159*/
         LA    J,1                                                 0275
@DL00275 DS    0H                                                  0276
*       IF LOWSPEC(I,J)='1'B        /*                       @YM32159*/
*         THEN                      /*                       @YM32159*/
         LR    @08,I                                               0276
         SLA   @08,2                                               0276
         ALR   @08,J                                               0276
         ALR   @08,@08                                             0276
         ALR   @08,R4                                              0276
         TM    LOWSPEC-10(@08),B'10000000'                         0276
         BNO   @RF00276                                            0276
*         HEXD0(I+1-DSINDEX)='80'X; /*                       @YM32159*/
         LA    @08,1                                               0277
         ALR   @08,I                                               0277
         SLR   @08,DSINDEX                                         0277
         SLA   @08,2                                               0277
         LA    @15,128                                             0277
         STC   @15,HEXD0-4(@08,PTR2TO5)                            0277
*       ELSE                                                       0278
*         ;                         /*                       @YM32159*/
@RF00276 DS    0H                                                  0279
*     END;                          /*                       @YM32159*/
         AH    J,@CH00044                                          0279
         CH    J,@CH00070                                          0279
         BNH   @DL00275                                            0279
*   END;                            /*                       @Y30LB12*/
*                                                                  0280
         AH    I,@CH00044                                          0280
@DE00269 LA    @08,3                                               0280
         ALR   @08,DSINDEX                                         0280
         CR    I,@08                                               0280
         BNH   @DL00269                                            0280
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE WHICH DRD UNITS THIS STAGING                @Y30LB12*/
*   /* ADAPTER HAS ACCESS TO BY EXAMINING THE                @Y30LB12*/
*   /* DRD BITS IN LOWERCON, AND LIBSIZE TO                  @Y30LB12*/
*   /* DETERMINE WHAT DRDS ARE THE ALTERNATE R/W             @Y30LB12*/
*   /* UNITS FOR THIS DRC.                                   @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0281
*   DO I=DSINDEX TO(DSINDEX+3);     /*                       @Y30LB12*/
         LR    I,DSINDEX                                           0281
         B     @DE00281                                            0281
@DL00281 DS    0H                                                  0282
*     DO J=1 TO 4;                  /* J IS CUA INDEX        @Y30LB12*/
         LA    J,1                                                 0282
@DL00282 DS    0H                                                  0283
*       LIBINDEX=LOWLIB(I,J)-239;   /*                       @Y30LB12*/
         LR    @15,I                                               0283
         SLA   @15,2                                               0283
         ALR   @15,J                                               0283
         ALR   @15,@15                                             0283
         SLR   LIBINDEX,LIBINDEX                                   0283
         IC    LIBINDEX,LOWLIB-10(@15,R4)                          0283
         SH    LIBINDEX,@CH00634                                   0283
*       IF LOWRW01(I,J)='1'B        /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         ALR   @15,R4                                              0284
         TM    LOWRW01-10(@15),B'01000000'                         0284
         BNO   @RF00284                                            0284
*         DO;                       /*                       @Y30LB12*/
*           IF LIBSIZE(LIBINDEX)='1'/*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @15,LIBINDEX                                        0286
         MH    @15,@CH00130                                        0286
         ALR   @15,R4                                              0286
         CLI   LIBSIZE-12(@15),C'1'                                0286
         BNE   @RF00286                                            0286
*             HEXE0(I+1-DSINDEX,LIBINDEX)=HEXE0(I+1-DSINDEX,LIBINDEX)×
*                 'C0'X;            /*                       @YM32159*/
         LA    @15,1                                               0287
         ALR   @15,I                                               0287
         SLR   @15,DSINDEX                                         0287
         SLA   @15,2                                               0287
         ALR   @15,LIBINDEX                                        0287
         LA    @14,192                                             0287
         ST    @15,@TF00001                                        0287
         ALR   @15,PTR2TO5                                         0287
         MVC   @ZT00003+3(1),HEXE0-5(@15)                          0287
         O     @14,@ZT00003                                        0287
         L     @15,@TF00001                                        0287
         STC   @14,HEXE0-5(@15,PTR2TO5)                            0287
*           ELSE                                                   0288
*             ;                     /*                       @Y30LB12*/
@RF00286 DS    0H                                                  0289
*           IF LIBSIZE(LIBINDEX)='2'/*                       @Y30LB12*/
*               ×LIBSIZE(LIBINDEX)='4'/*                     @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @15,LIBINDEX                                        0289
         MH    @15,@CH00130                                        0289
         ST    @15,@TF00001                                        0289
         ALR   @15,R4                                              0289
         CLI   LIBSIZE-12(@15),C'2'                                0289
         BE    @RT00289                                            0289
         LR    @01,R4                                              0289
         AL    @01,@TF00001                                        0289
         CLI   LIBSIZE-12(@01),C'4'                                0289
         BNE   @RF00289                                            0289
@RT00289 DS    0H                                                  0290
*             HEXE0(I+1-DSINDEX,LIBINDEX)=HEXE0(I+1-DSINDEX,LIBINDEX)×
*                 'F0'X;            /*                       @YM32159*/
         LA    @15,1                                               0290
         ALR   @15,I                                               0290
         SLR   @15,DSINDEX                                         0290
         SLA   @15,2                                               0290
         ALR   @15,LIBINDEX                                        0290
         LA    @14,240                                             0290
         ST    @15,@TF00001                                        0290
         ALR   @15,PTR2TO5                                         0290
         MVC   @ZT00003+3(1),HEXE0-5(@15)                          0290
         O     @14,@ZT00003                                        0290
         L     @15,@TF00001                                        0290
         STC   @14,HEXE0-5(@15,PTR2TO5)                            0290
*           ELSE                                                   0291
*             ;                     /*                       @Y30LB12*/
@RF00289 DS    0H                                                  0292
*           IF LIBSIZE(LIBINDEX)='3'/*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @15,LIBINDEX                                        0292
         MH    @15,@CH00130                                        0292
         ALR   @15,R4                                              0292
         CLI   LIBSIZE-12(@15),C'3'                                0292
         BNE   @RF00292                                            0292
*             HEXE0(I+1-DSINDEX,LIBINDEX)=HEXE0(I+1-DSINDEX,LIBINDEX)×
*                 'CC'X;            /*                       @YM32159*/
         LA    @15,1                                               0293
         ALR   @15,I                                               0293
         SLR   @15,DSINDEX                                         0293
         SLA   @15,2                                               0293
         ALR   @15,LIBINDEX                                        0293
         LA    @14,204                                             0293
         ST    @15,@TF00001                                        0293
         ALR   @15,PTR2TO5                                         0293
         MVC   @ZT00003+3(1),HEXE0-5(@15)                          0293
         O     @14,@ZT00003                                        0293
         L     @15,@TF00001                                        0293
         STC   @14,HEXE0-5(@15,PTR2TO5)                            0293
*           ELSE                                                   0294
*             ;                     /*                       @Y30LB12*/
@RF00292 DS    0H                                                  0295
*         END;                      /*                       @Y30LB12*/
*       ELSE                                                       0296
*         ;                         /*                       @Y30LB12*/
@RF00284 DS    0H                                                  0297
*       IF LOWRW23(I,J)='1'B        /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         LR    @15,I                                               0297
         SLA   @15,2                                               0297
         ALR   @15,J                                               0297
         ALR   @15,@15                                             0297
         ALR   @15,R4                                              0297
         TM    LOWRW23-10(@15),B'00100000'                         0297
         BNO   @RF00297                                            0297
*         HEXE0(I+1-DSINDEX,LIBINDEX)=HEXE0(I+1-DSINDEX,LIBINDEX)×'F0'X
*           ;                       /*                       @YM32159*/
         LA    @15,1                                               0298
         ALR   @15,I                                               0298
         SLR   @15,DSINDEX                                         0298
         SLA   @15,2                                               0298
         ALR   @15,LIBINDEX                                        0298
         LA    @14,240                                             0298
         ST    @15,@TF00001                                        0298
         ALR   @15,PTR2TO5                                         0298
         MVC   @ZT00003+3(1),HEXE0-5(@15)                          0298
         O     @14,@ZT00003                                        0298
         L     @15,@TF00001                                        0298
         STC   @14,HEXE0-5(@15,PTR2TO5)                            0298
*       ELSE                                                       0299
*         ;                         /*                       @Y30LB12*/
@RF00297 DS    0H                                                  0300
*       IF LOWRW45(I,J)='1'B        /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         LR    @15,I                                               0300
         SLA   @15,2                                               0300
         ALR   @15,J                                               0300
         ALR   @15,@15                                             0300
         ALR   @15,R4                                              0300
         TM    LOWRW45-10(@15),B'00010000'                         0300
         BNO   @RF00300                                            0300
*         DO;                       /*                       @Y30LB12*/
*           IF LIBSIZE(LIBINDEX)='3'/*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @15,LIBINDEX                                        0302
         MH    @15,@CH00130                                        0302
         ALR   @15,R4                                              0302
         CLI   LIBSIZE-12(@15),C'3'                                0302
         BNE   @RF00302                                            0302
*             HEXE0(I+1-DSINDEX,LIBINDEX)=HEXE0(I+1-DSINDEX,LIBINDEX)×
*                 '3C'X;            /*                       @YM32159*/
         LA    @15,1                                               0303
         ALR   @15,I                                               0303
         SLR   @15,DSINDEX                                         0303
         SLA   @15,2                                               0303
         ALR   @15,LIBINDEX                                        0303
         LA    @14,60                                              0303
         ST    @15,@TF00001                                        0303
         ALR   @15,PTR2TO5                                         0303
         MVC   @ZT00003+3(1),HEXE0-5(@15)                          0303
         O     @14,@ZT00003                                        0303
         L     @15,@TF00001                                        0303
         STC   @14,HEXE0-5(@15,PTR2TO5)                            0303
*           ELSE                    /*                       @Y30LB12*/
*             HEXE0(I+1-DSINDEX,LIBINDEX)=HEXE0(I+1-DSINDEX,LIBINDEX)×
*                 '0F'X;            /*                       @YM32159*/
         B     @RC00302                                            0304
@RF00302 LA    @15,1                                               0304
         ALR   @15,I                                               0304
         SLR   @15,DSINDEX                                         0304
         SLA   @15,2                                               0304
         ALR   @15,LIBINDEX                                        0304
         LA    @14,15                                              0304
         ST    @15,@TF00001                                        0304
         ALR   @15,PTR2TO5                                         0304
         MVC   @ZT00003+3(1),HEXE0-5(@15)                          0304
         O     @14,@ZT00003                                        0304
         L     @15,@TF00001                                        0304
         STC   @14,HEXE0-5(@15,PTR2TO5)                            0304
*         END;                      /*                       @YM32159*/
*       ELSE                                                       0306
*         ;                         /*                       @YM32159*/
@RF00300 DS    0H                                                  0307
*       IF LOWRW67(I,J)='1'B        /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
@RC00300 LR    @15,I                                               0307
         SLA   @15,2                                               0307
         ALR   @15,J                                               0307
         ALR   @15,@15                                             0307
         ALR   @15,R4                                              0307
         TM    LOWRW67-10(@15),B'00001000'                         0307
         BNO   @RF00307                                            0307
*         HEXE0(I+1-DSINDEX,LIBINDEX)=HEXE0(I+1-DSINDEX,LIBINDEX)×'0F'X
*           ;                       /*                       @YM32159*/
         LA    @15,1                                               0308
         ALR   @15,I                                               0308
         SLR   @15,DSINDEX                                         0308
         SLA   @15,2                                               0308
         ALR   @15,LIBINDEX                                        0308
         LA    @14,15                                              0308
         ST    @15,@TF00001                                        0308
         ALR   @15,PTR2TO5                                         0308
         MVC   @ZT00003+3(1),HEXE0-5(@15)                          0308
         O     @14,@ZT00003                                        0308
         L     @15,@TF00001                                        0308
         STC   @14,HEXE0-5(@15,PTR2TO5)                            0308
*       ELSE                                                       0309
*         ;                         /*                       @Y30LB12*/
@RF00307 DS    0H                                                  0310
*     END;                          /*                       @Y30LB12*/
         AH    J,@CH00044                                          0310
         CH    J,@CH00070                                          0310
         BNH   @DL00282                                            0310
*   END;                            /*                       @Y30LB12*/
*                                                                  0311
         AH    I,@CH00044                                          0311
@DE00281 LA    @08,3                                               0311
         ALR   @08,DSINDEX                                         0311
         CR    I,@08                                               0311
         BNH   @DL00281                                            0311
*   /*****************************************************************/
*   /*                                                               */
*   /* INDICATE LOGICAL MSF IN THE LOWEST TWO                @Y30LB12*/
*   /* BITS AND THE DRC IN THE NEXT TWO LOWEST BITS.         @Y30LB12*/
*   /* STRUCTURE IS ORGANIZED BY CUID FROM THE SA            @Y30LB12*/
*   /* WITHIN SA.                                            @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0312
*   DO I=DSINDEX TO(DSINDEX+3);     /*                       @Y30LB12*/
         LR    I,DSINDEX                                           0312
         B     @DE00312                                            0312
@DL00312 DS    0H                                                  0313
*     DO J=1 TO 4;                  /*                       @Y30LB12*/
         LA    J,1                                                 0313
@DL00313 DS    0H                                                  0314
*       LIBINDEX=LOWLIB(I,J)-240;   /* RANGE 0-3 BINARY      @Y30LB12*/
         LR    @15,I                                               0314
         SLA   @15,2                                               0314
         ALR   @15,J                                               0314
         ALR   @15,@15                                             0314
         SLR   LIBINDEX,LIBINDEX                                   0314
         IC    LIBINDEX,LOWLIB-10(@15,R4)                          0314
         SH    LIBINDEX,@CH00665                                   0314
*       IF LOWSPEC(I,J)='1'B        /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         ST    @15,@TF00001                                        0315
         ALR   @15,R4                                              0315
         TM    LOWSPEC-10(@15),B'10000000'                         0315
         BNO   @RF00315                                            0315
*         DO;                       /*                       @Y30LB12*/
*           IF LOWRW01(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @01,R4                                              0317
         AL    @01,@TF00001                                        0317
         TM    LOWRW01-10(@01),B'01000000'                         0317
         BNO   @RF00317                                            0317
*             HEXF0(I+1-DSINDEX,J)=LIBINDEX+128;/*           @YM32159*/
         LA    @15,1                                               0318
         ALR   @15,I                                               0318
         SLR   @15,DSINDEX                                         0318
         SLA   @15,2                                               0318
         ALR   @15,J                                               0318
         LA    @14,128                                             0318
         ALR   @14,LIBINDEX                                        0318
         STC   @14,HEXF0-5(@15,PTR2TO5)                            0318
*           ELSE                                                   0319
*             ;                     /*                       @Y30LB12*/
@RF00317 DS    0H                                                  0320
*           IF LOWRW23(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @15,I                                               0320
         SLA   @15,2                                               0320
         ALR   @15,J                                               0320
         ALR   @15,@15                                             0320
         ALR   @15,R4                                              0320
         TM    LOWRW23-10(@15),B'00100000'                         0320
         BNO   @RF00320                                            0320
*             HEXF0(I+1-DSINDEX,J)=LIBINDEX+4+128;/*         @YM32159*/
         LA    @15,1                                               0321
         ALR   @15,I                                               0321
         SLR   @15,DSINDEX                                         0321
         SLA   @15,2                                               0321
         ALR   @15,J                                               0321
         LA    @14,132                                             0321
         ALR   @14,LIBINDEX                                        0321
         STC   @14,HEXF0-5(@15,PTR2TO5)                            0321
*           ELSE                                                   0322
*             ;                     /*                       @Y30LB12*/
@RF00320 DS    0H                                                  0323
*           IF LOWRW45(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @15,I                                               0323
         SLA   @15,2                                               0323
         ALR   @15,J                                               0323
         ALR   @15,@15                                             0323
         ALR   @15,R4                                              0323
         TM    LOWRW45-10(@15),B'00010000'                         0323
         BNO   @RF00323                                            0323
*             HEXF0(I+1-DSINDEX,J)=LIBINDEX+8+128;/*         @YM32159*/
         LA    @15,1                                               0324
         ALR   @15,I                                               0324
         SLR   @15,DSINDEX                                         0324
         SLA   @15,2                                               0324
         ALR   @15,J                                               0324
         LA    @14,136                                             0324
         ALR   @14,LIBINDEX                                        0324
         STC   @14,HEXF0-5(@15,PTR2TO5)                            0324
*           ELSE                                                   0325
*             ;                     /*                       @Y30LB12*/
@RF00323 DS    0H                                                  0326
*           IF LOWRW67(I,J)='1'B    /*                       @Y30LB12*/
*             THEN                  /*                       @Y30LB12*/
         LR    @15,I                                               0326
         SLA   @15,2                                               0326
         ALR   @15,J                                               0326
         ALR   @15,@15                                             0326
         ALR   @15,R4                                              0326
         TM    LOWRW67-10(@15),B'00001000'                         0326
         BNO   @RF00326                                            0326
*             HEXF0(I+1-DSINDEX,J)=LIBINDEX+12+128;/*        @YM32159*/
         LA    @15,1                                               0327
         ALR   @15,I                                               0327
         SLR   @15,DSINDEX                                         0327
         SLA   @15,2                                               0327
         ALR   @15,J                                               0327
         LA    @14,140                                             0327
         ALR   @14,LIBINDEX                                        0327
         STC   @14,HEXF0-5(@15,PTR2TO5)                            0327
*           ELSE                                                   0328
*             ;                     /*                       @Y30LB12*/
@RF00326 DS    0H                                                  0329
*         END;                      /*                       @Y30LB12*/
*       ELSE                                                       0330
*         ;                         /*                       @Y30LB12*/
@RF00315 DS    0H                                                  0331
*     END;                          /*                       @Y30LB12*/
         AH    J,@CH00044                                          0331
         CH    J,@CH00070                                          0331
         BNH   @DL00313                                            0331
*   END;                            /*                       @Y30LB12*/
         AH    I,@CH00044                                          0332
@DE00312 LA    @08,3                                               0332
         ALR   @08,DSINDEX                                         0332
         CR    I,@08                                               0332
         BNH   @DL00312                                            0332
*   END DS2TO5;                     /*                       @Y30LB12*/
@EL00012 DS    0H                                                  0333
@EF00012 DS    0H                                                  0333
@ER00012 LM    @14,@12,12(@13)                                     0333
         BR    @14                                                 0333
*                                                                  0334
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - BUILDR6                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/* FUNCTION - BUILD CONFIGURATION SUMMARY RECORD            @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0334
*BUILDR6:                                                          0334
*   PROCEDURE;                      /*                       @Y30LB12*/
*                                                                  0334
BUILDR6  STM   @14,@12,12(@13)                                     0334
*   /*****************************************************************/
*   /*                                                               */
*   /* SUMMARIZE DATA RECORDING DEVICES FOR 4 MSFS           @Y30LB12*/
*   /* NUMBER OF DEVICES IS DEPENDENT ON MSF SIZE.           @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0335
*   DO I=1 TO 4;                    /*                       @Y30LB12*/
         LA    I,1                                                 0335
@DL00335 DS    0H                                                  0336
*     IF LIBSIZE(I)='1'             /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @07,I                                               0336
         MH    @07,@CH00130                                        0336
         ALR   @07,R4                                              0336
         CLI   LIBSIZE-12(@07),C'1'                                0336
         BNE   @RF00336                                            0336
*       R6DRDS(I)='C0'X;            /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0337
         ALR   @07,I                                               0337
         AL    @07,@CF00708                                        0337
         MVI   R6DRDS(@07),X'C0'                                   0337
*     ELSE                                                         0338
*       ;                           /*                       @Y30LB12*/
@RF00336 DS    0H                                                  0339
*     IF LIBSIZE(I)='2'             /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @07,I                                               0339
         MH    @07,@CH00130                                        0339
         ALR   @07,R4                                              0339
         CLI   LIBSIZE-12(@07),C'2'                                0339
         BNE   @RF00339                                            0339
*       R6DRDS(I)='F0'X;            /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0340
         ALR   @07,I                                               0340
         AL    @07,@CF00708                                        0340
         MVI   R6DRDS(@07),X'F0'                                   0340
*     ELSE                                                         0341
*       ;                           /*                       @Y30LB12*/
@RF00339 DS    0H                                                  0342
*     IF LIBSIZE(I)='3'             /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @07,I                                               0342
         MH    @07,@CH00130                                        0342
         ALR   @07,R4                                              0342
         CLI   LIBSIZE-12(@07),C'3'                                0342
         BNE   @RF00342                                            0342
*       R6DRDS(I)='FC'X;            /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0343
         ALR   @07,I                                               0343
         AL    @07,@CF00708                                        0343
         MVI   R6DRDS(@07),X'FC'                                   0343
*     ELSE                                                         0344
*       ;                           /*                       @Y30LB12*/
@RF00342 DS    0H                                                  0345
*     IF LIBSIZE(I)='4'             /*                       @Y30LB12*/
*       THEN                        /*                       @Y30LB12*/
         LR    @07,I                                               0345
         MH    @07,@CH00130                                        0345
         ALR   @07,R4                                              0345
         CLI   LIBSIZE-12(@07),C'4'                                0345
         BNE   @RF00345                                            0345
*       R6DRDS(I)='FF'X;            /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0346
         ALR   @07,I                                               0346
         AL    @07,@CF00708                                        0346
         MVI   R6DRDS(@07),X'FF'                                   0346
*     ELSE                                                         0347
*       ;                           /*                       @Y30LB12*/
@RF00345 DS    0H                                                  0348
*   END;                            /*                       @Y30LB12*/
*                                                                  0348
         AH    I,@CH00044                                          0348
         CH    I,@CH00070                                          0348
         BNH   @DL00335                                            0348
*   /*****************************************************************/
*   /*                                                               */
*   /* IF A STAGING ADAPTER HAS A PATH TO A DRC OR           @YD00113*/
*   /* WAS SPECIFIED IN AN UPPERCON STATEMENT, SET           @YD00113*/
*   /* 'PRESENT' BIT ON                                      @YD00113*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0349
*   DO I=1 TO 16;                   /*                       @Y30LB12*/
         LA    I,1                                                 0349
@DL00349 DS    0H                                                  0350
*     IF LOWSPEC(I,1)='1'B          /*                       @Y30LB12*/
*         ×LOWSPEC(I,2)='1'B        /*                       @Y30LB12*/
*         ×LOWSPEC(I,3)='1'B        /*                       @Y30LB12*/
*         ×LOWSPEC(I,4)='1'B        /*                       @Y30LB12*/
*         ×CISPEC((I*3)-2)='1'B     /*                       @YM32159*/
*         ×CISPEC((I*3)-1)='1'B     /*                       @YM32159*/
*         ×CISPEC(I*3)='1'B         /*                       @YM32159*/
*       THEN                        /*                       @Y30LB12*/
         LR    @07,I                                               0350
         SLA   @07,3                                               0350
         ST    @07,@TF00001                                        0350
         ALR   @07,R4                                              0350
         TM    LOWSPEC-8(@07),B'10000000'                          0350
         BO    @RT00350                                            0350
         LR    @07,R4                                              0350
         AL    @07,@TF00001                                        0350
         TM    LOWSPEC-6(@07),B'10000000'                          0350
         BO    @RT00350                                            0350
         LR    @07,R4                                              0350
         AL    @07,@TF00001                                        0350
         TM    LOWSPEC-4(@07),B'10000000'                          0350
         BO    @RT00350                                            0350
         LR    @07,R4                                              0350
         AL    @07,@TF00001                                        0350
         TM    LOWSPEC-2(@07),B'10000000'                          0350
         BO    @RT00350                                            0350
         LR    @07,I                                               0350
         MH    @07,@CH00694                                        0350
         L     @03,COMPTR2(,R4)                                    0350
         ST    @07,@TF00001                                        0350
         ALR   @07,@03                                             0350
         TM    CISPEC-27(@07),B'10000000'                          0350
         BO    @RT00350                                            0350
         LR    @07,@03                                             0350
         AL    @07,@TF00001                                        0350
         TM    CISPEC-18(@07),B'10000000'                          0350
         BO    @RT00350                                            0350
         AL    @03,@TF00001                                        0350
         TM    CISPEC-9(@03),B'10000000'                           0350
         BNO   @RF00350                                            0350
@RT00350 DS    0H                                                  0351
*       R6DS=R6DS×PATTERN(I);       /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0351
         AL    @07,@CF00692                                        0351
         LR    @03,I                                               0351
         ALR   @03,@03                                             0351
         LA    @01,PATTERN-2(@03)                                  0351
         OC    R6DS(2,@07),0(@01)                                  0351
*     ELSE                                                         0352
*       ;                           /*                       @Y30LB12*/
@RF00350 DS    0H                                                  0353
*   END;                            /*                       @Y30LB12*/
*                                                                  0353
         AH    I,@CH00044                                          0353
         CH    I,@CH00164                                          0353
         BNH   @DL00349                                            0353
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL ROUTINE TO SET UP DATA                           @Y30LB12*/
*   /* RECORDING CONTROLLERS                                 @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0354
*   IF LIBSIZE(1)='1'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE(R4),C'1'                                    0354
         BNE   @RF00354                                            0354
*     R6DRCS='8000'X;               /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0355
         AL    @07,@CF00692                                        0355
         MVC   R6DRCS(2,@07),@CB00535                              0355
*   ELSE                                                           0356
*     ;                             /*                       @Y30LB12*/
@RF00354 DS    0H                                                  0357
*   IF LIBSIZE(1)='2'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE(R4),C'2'                                    0357
         BNE   @RF00357                                            0357
*     R6DRCS='C000'X;               /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0358
         AL    @07,@CF00692                                        0358
         MVC   R6DRCS(2,@07),@CB00670                              0358
*   ELSE                                                           0359
*     ;                             /*                       @Y30LB12*/
@RF00357 DS    0H                                                  0360
*   IF LIBSIZE(1)='3'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE(R4),C'3'                                    0360
         BNE   @RF00360                                            0360
*     R6DRCS='E000'X;               /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0361
         AL    @07,@CF00692                                        0361
         MVC   R6DRCS(2,@07),@CB00671                              0361
*   ELSE                                                           0362
*     ;                             /*                       @Y30LB12*/
@RF00360 DS    0H                                                  0363
*   IF LIBSIZE(1)='4'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE(R4),C'4'                                    0363
         BNE   @RF00363                                            0363
*     R6DRCS='F000'X;               /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0364
         AL    @07,@CF00692                                        0364
         MVC   R6DRCS(2,@07),@CB00672                              0364
*   ELSE                                                           0365
*     ;                             /*                       @Y30LB12*/
@RF00363 DS    0H                                                  0366
*   IF LIBSIZE(2)='1'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+12(R4),C'1'                                 0366
         BNE   @RF00366                                            0366
*     R6DRCS=R6DRCS×'0800'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0367
         AL    @07,@CF00692                                        0367
         OC    R6DRCS(2,@07),@CB00539                              0367
*   ELSE                                                           0368
*     ;                             /*                       @Y30LB12*/
@RF00366 DS    0H                                                  0369
*   IF LIBSIZE(2)='2'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+12(R4),C'2'                                 0369
         BNE   @RF00369                                            0369
*     R6DRCS=R6DRCS×'0C00'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0370
         AL    @07,@CF00692                                        0370
         OC    R6DRCS(2,@07),@CB00673                              0370
*   ELSE                                                           0371
*     ;                             /*                       @Y30LB12*/
@RF00369 DS    0H                                                  0372
*   IF LIBSIZE(2)='3'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+12(R4),C'3'                                 0372
         BNE   @RF00372                                            0372
*     R6DRCS=R6DRCS×'0E00'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0373
         AL    @07,@CF00692                                        0373
         OC    R6DRCS(2,@07),@CB00674                              0373
*   ELSE                                                           0374
*     ;                             /*                       @Y30LB12*/
@RF00372 DS    0H                                                  0375
*   IF LIBSIZE(2)='4'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+12(R4),C'4'                                 0375
         BNE   @RF00375                                            0375
*     R6DRCS=R6DRCS×'0F00'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0376
         AL    @07,@CF00692                                        0376
         OC    R6DRCS(2,@07),@CB00675                              0376
*   ELSE                                                           0377
*     ;                             /*                       @Y30LB12*/
@RF00375 DS    0H                                                  0378
*   IF LIBSIZE(3)='1'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+24(R4),C'1'                                 0378
         BNE   @RF00378                                            0378
*     R6DRCS=R6DRCS×'0080'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0379
         AL    @07,@CF00692                                        0379
         OC    R6DRCS(2,@07),@CB00543                              0379
*   ELSE                                                           0380
*     ;                             /*                       @Y30LB12*/
@RF00378 DS    0H                                                  0381
*   IF LIBSIZE(3)='2'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+24(R4),C'2'                                 0381
         BNE   @RF00381                                            0381
*     R6DRCS=R6DRCS×'00C0'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0382
         AL    @07,@CF00692                                        0382
         OC    R6DRCS(2,@07),@CB00676                              0382
*   ELSE                                                           0383
*     ;                             /*                       @Y30LB12*/
@RF00381 DS    0H                                                  0384
*   IF LIBSIZE(3)='3'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+24(R4),C'3'                                 0384
         BNE   @RF00384                                            0384
*     R6DRCS=R6DRCS×'00E0'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0385
         AL    @07,@CF00692                                        0385
         OC    R6DRCS(2,@07),@CB00677                              0385
*   ELSE                                                           0386
*     ;                             /*                       @Y30LB12*/
@RF00384 DS    0H                                                  0387
*   IF LIBSIZE(3)='4'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+24(R4),C'4'                                 0387
         BNE   @RF00387                                            0387
*     R6DRCS=R6DRCS×'00F0'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0388
         AL    @07,@CF00692                                        0388
         OC    R6DRCS(2,@07),@CB00678                              0388
*   ELSE                                                           0389
*     ;                             /*                       @Y30LB12*/
@RF00387 DS    0H                                                  0390
*   IF LIBSIZE(4)='1'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+36(R4),C'1'                                 0390
         BNE   @RF00390                                            0390
*     R6DRCS=R6DRCS×'0008'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0391
         AL    @07,@CF00692                                        0391
         OC    R6DRCS(2,@07),@CB00547                              0391
*   ELSE                                                           0392
*     ;                             /*                       @Y30LB12*/
@RF00390 DS    0H                                                  0393
*   IF LIBSIZE(4)='2'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+36(R4),C'2'                                 0393
         BNE   @RF00393                                            0393
*     R6DRCS=R6DRCS×'000C'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0394
         AL    @07,@CF00692                                        0394
         OC    R6DRCS(2,@07),@CB00679                              0394
*   ELSE                                                           0395
*     ;                             /*                       @Y30LB12*/
@RF00393 DS    0H                                                  0396
*   IF LIBSIZE(4)='3'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+36(R4),C'3'                                 0396
         BNE   @RF00396                                            0396
*     R6DRCS=R6DRCS×'000E'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0397
         AL    @07,@CF00692                                        0397
         OC    R6DRCS(2,@07),@CB00680                              0397
*   ELSE                                                           0398
*     ;                             /*                       @Y30LB12*/
@RF00396 DS    0H                                                  0399
*   IF LIBSIZE(4)='4'               /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         CLI   LIBSIZE+36(R4),C'4'                                 0399
         BNE   @RF00399                                            0399
*     R6DRCS=R6DRCS×'000F'X;        /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0400
         AL    @07,@CF00692                                        0400
         OC    R6DRCS(2,@07),@CB00681                              0400
*   ELSE                                                           0401
*     ;                             /*                       @Y30LB12*/
*                                                                  0401
@RF00399 DS    0H                                                  0402
*   /*****************************************************************/
*   /*                                                               */
*   /* SET A BIT FOR EACH LOGICAL (STAGING) DEVICE           @Y30LB12*/
*   /* THAT EXISTS IN THE CONFIGURATION                      @Y30LB12*/
*   /* UNLESS SECOND HALF OF 3330 MODEL 11                   @ZD00180*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0402
*   DO I=1 TO 30;                   /*                       @Y30LB12*/
         LA    I,1                                                 0402
@DL00402 DS    0H                                                  0403
*     DO J=1 TO 8;                  /*                       @Y30LB12*/
         LA    J,1                                                 0403
@DL00403 DS    0H                                                  0404
*       IF PABEXIST(I,J)='1'B       /*                       @Y30LB12*/
*           &PABBERG2(I,J)='0'B     /*                       @ZD00180*/
*         THEN                      /*                       @Y30LB12*/
         LR    @03,I                                               0404
         SLA   @03,3                                               0404
         ALR   @03,J                                               0404
         MH    @03,@CH00050                                        0404
         ALR   @03,R4                                              0404
         TM    PABEXIST-27(@03),B'10000000'                        0404
         BNO   @RF00404                                            0404
         TM    PABBERG2-27(@03),B'00000001'                        0404
         BNZ   @RF00404                                            0404
*         R6RSGS(I)=R6RSGS(I)×PATTERN2(J);/*                 @Y30LB12*/
         L     @03,BUILDPTR(,R4)                                   0405
         ALR   @03,I                                               0405
         AL    @03,@CF00708                                        0405
         LA    @01,PATTERN2-1(J)                                   0405
         OC    R6RSGS(1,@03),0(@01)                                0405
*       ELSE                                                       0406
*         ;                         /*                       @Y30LB12*/
@RF00404 DS    0H                                                  0407
*     END;                          /*                       @Y30LB12*/
         AH    J,@CH00044                                          0407
         CH    J,@CH00042                                          0407
         BNH   @DL00403                                            0407
*   END;                            /*                       @Y30LB12*/
*                                                                  0408
         AH    I,@CH00044                                          0408
         CH    I,@CH00113                                          0408
         BNH   @DL00402                                            0408
*   /*****************************************************************/
*   /*                                                               */
*   /* SUMMARY OF MSFS                                       @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0409
*   IF LIBSPEC(1)='1'B              /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         TM    LIBSPEC(R4),B'10000000'                             0409
         BNO   @RF00409                                            0409
*     R6MSFS(1:2)='11'B;            /*                       @YM32159*/
         L     @07,BUILDPTR(,R4)                                   0410
         AL    @07,@CF00692                                        0410
         OI    R6MSFS(@07),B'11000000'                             0410
*   ELSE                                                           0411
*     ;                             /*                       @Y30LB12*/
@RF00409 DS    0H                                                  0412
*   IF LIBSPEC(2)='1'B              /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         TM    LIBSPEC+12(R4),B'10000000'                          0412
         BNO   @RF00412                                            0412
*     R6MSFS(3:4)='11'B;            /*                       @YM32159*/
         L     @07,BUILDPTR(,R4)                                   0413
         AL    @07,@CF00692                                        0413
         OI    R6MSFS(@07),B'00110000'                             0413
*   ELSE                                                           0414
*     ;                             /*                       @Y30LB12*/
@RF00412 DS    0H                                                  0415
*   IF LIBSPEC(3)='1'B              /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         TM    LIBSPEC+24(R4),B'10000000'                          0415
         BNO   @RF00415                                            0415
*     R6MSFS(5:6)='11'B;            /*                       @YM32159*/
         L     @07,BUILDPTR(,R4)                                   0416
         AL    @07,@CF00692                                        0416
         OI    R6MSFS(@07),B'00001100'                             0416
*   ELSE                                                           0417
*     ;                             /*                       @Y30LB12*/
@RF00415 DS    0H                                                  0418
*   IF LIBSPEC(4)='1'B              /*                       @Y30LB12*/
*     THEN                          /*                       @Y30LB12*/
         TM    LIBSPEC+36(R4),B'10000000'                          0418
         BNO   @RF00418                                            0418
*     R6MSFS(7:8)='11'B;            /*                       @YM32159*/
         L     @07,BUILDPTR(,R4)                                   0419
         AL    @07,@CF00692                                        0419
         OI    R6MSFS(@07),B'00000011'                             0419
*   ELSE                                                           0420
*     ;                             /*                       @Y30LB12*/
@RF00418 DS    0H                                                  0421
*   END BUILDR6;                    /*                       @Y30LB12*/
@EL00013 DS    0H                                                  0421
@EF00013 DS    0H                                                  0421
@ER00013 LM    @14,@12,12(@13)                                     0421
         BR    @14                                                 0421
*                                                                  0422
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - BUILDR12                                @Y30LB12*/
*/*                                                          @Y30LB12*/
*/* FUNCTION - BUILD THE MOUNT EQUALIZATION RECORD.  SINCE   @Y30LB12*/
*/*            ALL STAGING SPINDLES ARE INITIALIZED BY TABLE @Y30LB12*/
*/*            CREATE AS 'VARIED ON VIRTUAL' (PABVOVIR=1),   @Y30LB12*/
*/*            AND NO VOLUMES ARE MOUNTED AND THEREFORE NO   @Y30LB12*/
*/*            VOLUMES CAN BE 'BOUND', THE COUNT OF LOGICAL  @Y30LB12*/
*/*            SPINDLES AND VARIED ON SPINDLES IS ALWAYS     @Y30LB12*/
*/*            THE SAME WHEN THE TABLES ARE CREATED.         @Y30LB12*/
*/*            R12UCBCT IS THE COUNT OF ALL VIRTUAL UCBS     @Y30LB12*/
*/*            IN ALL HOSTS THAT CAN USE THIS STAGING DASD   @Y30LB12*/
*/*            GROUP.                                        @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0422
*BUILDR12:                                                         0422
*   PROCEDURE;                      /*                       @Y30LB12*/
BUILDR12 STM   @14,@12,12(@13)                                     0422
*   PREFIX12='0007010C00000000'X;   /*                       @Y30LB12*/
*                                                                  0423
         L     @07,BUILDPTR(,R4)                                   0423
         AL    @07,@CF00692                                        0423
         MVC   PREFIX12(8,@07),@CB00686                            0423
*   /*****************************************************************/
*   /*                                                               */
*   /* ACCUMULATE COUNTS OF ALL VIRTUAL AND SHARED           @Y30LB12*/
*   /* VIRTUAL UCBS BY SDG. IF THE UCB IS USED               @Y30LB12*/
*   /* SYMMETRICALLY IN MP, COUNT TWICE                      @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0424
*   DO I=1 TO 48;                   /*                       @Y30LB12*/
         LA    I,1                                                 0424
@DL00424 DS    0H                                                  0425
*     DO J=1 TO 64;                 /*                       @Y30LB12*/
         LA    J,1                                                 0425
@DL00425 DS    0H                                                  0426
*       IF USEV(I,J)='1'B           /*                       @Y30LB12*/
*           ×USEVS(I,J)='1'B        /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         LR    @03,I                                               0426
         SLA   @03,6                                               0426
         ALR   @03,J                                               0426
         MH    @03,@CH00255                                        0426
         L     @15,COMPTR2(,R4)                                    0426
         ST    @03,@TF00001                                        0426
         ALR   @03,@15                                             0426
         AL    @03,@CF00713                                        0426
         TM    USEV-464(@03),B'01100000'                           0426
         BZ    @RF00426                                            0426
*         DO;                       /*                       @Y30LB12*/
*           INDEX=INDEXRSG(I,J)+1;  /*                       @Y30LB12*/
         LA    @14,1                                               0428
         L     @01,@TF00001                                        0428
         AL    @15,@CF00714                                        0428
         SLR   INDEX,INDEX                                         0428
         IC    INDEX,INDEXRSG-465(@01,@15)                         0428
         ALR   INDEX,@14                                           0428
*           R12UCBCT(INDEX)=R12UCBCT(INDEX)+1;/*             @Y30LB12*/
         LR    @15,INDEX                                           0429
         SLA   @15,2                                               0429
         LH    @09,@CH00692                                        0429
         AL    @09,BUILDPTR(,R4)                                   0429
         ST    @15,@TF00001                                        0429
         ALR   @15,@09                                             0429
         MVC   @TF00002(2),R12UCBCT-4(@15)                         0429
         AH    @14,@TF00002                                        0429
         ST    @14,@TF00002                                        0429
         AL    @09,@TF00001                                        0429
         MVC   R12UCBCT-4(2,@09),@TF00002+2                        0429
*         END;                      /*                       @Y30LB12*/
*       ELSE                                                       0431
*         ;                         /*                       @Y30LB12*/
@RF00426 DS    0H                                                  0432
*     END;                          /*                       @Y30LB12*/
         AH    J,@CH00044                                          0432
         CH    J,@CH00254                                          0432
         BNH   @DL00425                                            0432
*   END;                            /*                       @Y30LB12*/
*                                                                  0433
         AH    I,@CH00044                                          0433
         CH    I,@CH00244                                          0433
         BNH   @DL00424                                            0433
*   /*****************************************************************/
*   /*                                                               */
*   /* UPDATE COUNT OF LOGICAL SPINDLES AND VARIED           @Y30LB12*/
*   /* ON SPINDLES FOR EACH SPINDLE DEFINED IN THE           @Y30LB12*/
*   /* PAGE AVAILABILITY BLOCK (PAB)                         @Y30LB12*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0434
*   DO I=1 TO 30;                   /*                       @Y30LB12*/
         LA    I,1                                                 0434
@DL00434 DS    0H                                                  0435
*     DO J=1 TO 8;                  /*                       @Y30LB12*/
         LA    J,1                                                 0435
@DL00435 DS    0H                                                  0436
*       IF PABEXIST(I,J)='1'B       /*                       @Y30LB12*/
*         THEN                      /*                       @Y30LB12*/
         LR    @03,I                                               0436
         SLA   @03,3                                               0436
         ALR   @03,J                                               0436
         MH    @03,@CH00050                                        0436
         ALR   @03,R4                                              0436
         TM    PABEXIST-27(@03),B'10000000'                        0436
         BNO   @RF00436                                            0436
*         DO;                       /*                       @Y30LB12*/
*           R12VARYO(I)=R12VARYO(I)+1;/*                     @Y30LB12*/
         LR    @03,I                                               0438
         SLA   @03,2                                               0438
         LH    @15,@CH00692                                        0438
         AL    @15,BUILDPTR(,R4)                                   0438
         LA    @14,1                                               0438
         SLR   @09,@09                                             0438
         IC    @09,R12VARYO-4(@03,@15)                             0438
         ALR   @09,@14                                             0438
         STC   @09,R12VARYO-4(@03,@15)                             0438
*           R12SPINS(I)=R12SPINS(I)+1;/*                     @Y30LB12*/
         ST    @03,@TF00001                                        0439
         ALR   @03,@15                                             0439
         MVC   @ZT00003+3(1),R12SPINS-4(@03)                       0439
         AL    @14,@ZT00003                                        0439
         L     @03,@TF00001                                        0439
         STC   @14,R12SPINS-4(@03,@15)                             0439
*         END;                      /*                       @Y30LB12*/
*       ELSE                                                       0441
*         ;                         /*                       @Y30LB12*/
@RF00436 DS    0H                                                  0442
*     END;                          /*                       @Y30LB12*/
         AH    J,@CH00044                                          0442
         CH    J,@CH00042                                          0442
         BNH   @DL00435                                            0442
*   END;                            /*                       @Y30LB12*/
         AH    I,@CH00044                                          0443
         CH    I,@CH00113                                          0443
         BNH   @DL00434                                            0443
*   END BUILDR12;                   /*                       @Y30LB12*/
@EL00014 DS    0H                                                  0444
@EF00014 DS    0H                                                  0444
@ER00014 LM    @14,@12,12(@13)                                     0444
         BR    @14                                                 0444
*                                                                  0445
*/***********************************************************@Y30LB12*/
*/*                                                          @Y30LB12*/
*/* PROCEDURE NAME - WRITEIT                                 @Y30LB12*/
*/*                                                          @Y30LB12*/
*/* FUNCTION - SET UP FOR AND CALL ICGDSB06 TO WRITE THE     @Y30LB12*/
*/*            VERIFICATION TRACK ON VIRTUAL CYLINDER 7      @Y30LB12*/
*/*            TRACK 1 (REAL CYLINDER 0 TRACK 1)             @Y30LB12*/
*/*                                                          @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0445
*WRITEIT:                                                          0445
*   PROCEDURE;                      /*                       @Y30LB12*/
WRITEIT  STM   @14,@12,@SA00015                                    0445
*   B06DCBPT=ADDR(UT2DCB);          /*                       @Y30LB12*/
         L     @07,BUILDPTR(,R4)                                   0446
         LA    @15,UT2DCB(,@07)                                    0446
         ST    @15,B06DCBPT(,@07)                                  0446
*   B06BUFPT=ADDR(UT2BUFER);        /*                       @Y30LB12*/
         LR    @01,@07                                             0447
         AL    @01,@CF00692                                        0447
         ST    @01,B06BUFPT(,@07)                                  0447
*   B06TBLID='00'X;                 /*                       @Y30LB12*/
         MVI   B06TBLID(@07),X'00'                                 0448
*   B06ADDR='070101'X;              /*                       @Y30LB12*/
         MVC   B06ADDR(3,@07),@CB00691                             0449
*   GEN(LINK  EP=ICGDSB06);         /*                       @Y30LB12*/
         LINK  EP=ICGDSB06
*   END WRITEIT;                    /*                       @Y30LB12*/
@EL00015 DS    0H                                                  0451
@EF00015 DS    0H                                                  0451
@ER00015 LM    @14,@12,@SA00015                                    0451
         BR    @14                                                 0451
*                                                                  0452
*/***********************************************************@Y30LB12*/
*/*                     P A T C H     A R E A                @Y30LB12*/
*/***********************************************************@Y30LB12*/
*                                                                  0452
*   GENERATE;                                                      0452
*                                                         /*@Y30LB12*/
PATCHB18 DC  32C'PATCHB18'                                /*@YM32159*/
*   END ICGDSB18                    /*                       @Y30LB12*/
*                                                                  0453
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (ICGDSMAC)                                       */
*/*%INCLUDE SYSLIB  (ICGDSMA5)                                       */
*                                                                  0453
*       ;                                                          0453
         B     @EL00001                                            0453
@DATA    DS    0H
@CH00044 DC    H'1'
@CH00050 DC    H'3'
@CH00070 DC    H'4'
@CH00042 DC    H'8'
@CH00114 DC    H'9'
@CH00255 DC    H'11'
@CH00130 DC    H'12'
@CH00164 DC    H'16'
@CH00694 DC    H'27'
@CH00113 DC    H'30'
@CH00318 DC    H'32'
@CH00244 DC    H'48'
@CH00254 DC    H'64'
@CH00634 DC    H'239'
@CH00665 DC    H'240'
@CH00372 DC    H'272'
@CH00696 DC    H'-191'
@DATD    DSECT
         DS    0F
@SA00001 DS    18F
@SA00004 DS    15F
@SA00005 DS    15F
@SA00006 DS    15F
@SA00007 DS    15F
@SA00015 DS    15F
@SA00009 DS    15F
@TF00001 DS    F
@TF00002 DS    F
@ZTEMPS  DS    0F
@ZT00003 DC    F'0'
@ZTEMPND EQU   *
@ZLEN    EQU   @ZTEMPND-@ZTEMPS
ICGDSB18 CSECT
         DS    0F
@CF00706 DC    F'13528'
@CF00708 DC    F'13531'
@CF00692 DC    F'13532'
@CH00692 EQU   @CF00692+2
@CF00713 DC    F'-251'
@CF00714 DC    F'-250'
@CF00705 DC    F'-2'
@CF00707 DC    F'-1'
@DATD    DSECT
         DS    0D
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
ICGDSB18 CSECT
         DS    0F
@SIZDATD DC    AL1(0)
         DC    AL3(@ENDDATD-@DATD)
         DS    0D
@CB00604 DC    X'0023122000271220C020000280240002'
@CB00579 DC    X'E00E600FE00E600F'
@CB00686 DC    X'0007010C00000000'
@CB00581 DC    X'00090B13'
@CB00582 DC    X'00080001'
@CB00583 DC    X'00080B01'
@CB00584 DC    X'00130201'
@CB00585 DC    X'00151001'
@CB00586 DC    X'00181001'
@CB00587 DC    X'001A0801'
@CB00588 DC    X'001A0A01'
@CB00589 DC    X'001A0C01'
@CB00590 DC    X'001B0101'
@CB00591 DC    X'001B0201'
@CB00592 DC    X'1B1B0B01'
@CB00593 DC    X'001C0001'
@CB00594 DC    X'001C0801'
@CB00595 DC    X'001B0301'
@CB00574 EQU   @CB00686
@CB00691 DC    X'070101'
@CB00535 DC    X'8000'
@CB00539 DC    X'0800'
@CB00543 DC    X'0080'
@CB00545 DC    X'0020'
@CB00547 EQU   @CB00582
@CB00548 DC    X'0004'
@CB00599 DC    X'0000'
@CB00600 DC    X'0024'
@CB00670 DC    X'C000'
@CB00671 DC    X'E000'
@CB00672 DC    X'F000'
@CB00673 DC    X'0C00'
@CB00674 DC    X'0E00'
@CB00675 DC    X'0F00'
@CB00676 DC    X'00C0'
@CB00677 DC    X'00E0'
@CB00678 DC    X'00F0'
@CB00679 DC    X'000C'
@CB00680 DC    X'000E'
@CB00681 DC    X'000F'
PATTERN  DC    X'8000'
         DC    X'4000'
         DC    X'2000'
         DC    X'1000'
         DC    X'0800'
         DC    X'0400'
         DC    X'0200'
         DC    X'0100'
         DC    X'0080'
         DC    X'0040'
         DC    X'0020'
         DC    X'0010'
         DC    X'0008'
         DC    X'0004'
         DC    X'0002'
         DC    X'0001'
PATTERN2 DC    X'80'
         DC    X'40'
         DC    X'20'
         DC    X'10'
         DC    X'08'
         DC    X'04'
         DC    X'02'
         DC    X'01'
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
J        EQU   @07
INDEX    EQU   @03
I        EQU   @02
DSINDEX  EQU   @09
LIBINDEX EQU   @08
CLEARPTR EQU   @03
PTR2TO5  EQU   @03
R11      EQU   @11
R10      EQU   @10
R4       EQU   @04
R5       EQU   @05
R6       EQU   @06
COMTAB   EQU   0
READER   EQU   COMTAB+256
READFLAG EQU   READER+96
PCHBF    EQU   READER+99
STARTCOL EQU   READER+180
NEXTCOL  EQU   READER+184
PRINTER  EQU   COMTAB+464
MESSAGES EQU   COMTAB+810
SPECLMSG EQU   MESSAGES+18
GENIO    EQU   COMTAB+832
DCBPTR   EQU   GENIO+4
COMPTR2  EQU   GENIO+16
BUILDPTR EQU   GENIO+20
INVOKED  EQU   COMTAB+856
SAVEDDS  EQU   INVOKED+4
BUILDRSG EQU   COMTAB+900
RSGS     EQU   BUILDRSG
RSG      EQU   RSGS
RSGABOX  EQU   RSG
RSGABOX0 EQU   RSGABOX
RSGABOX1 EQU   RSGABOX
RSGTODS  EQU   RSG+7
LIBRARY  EQU   COMTAB+1170
LIBS     EQU   LIBRARY
LIB      EQU   LIBS
LIBBITS  EQU   LIB
LIBSPEC  EQU   LIBBITS
LIBSIZE  EQU   LIB+1
LIBDSMID EQU   LIB+2
PABTABLE EQU   COMTAB+1218
PABDEV   EQU   PABTABLE
PABFLAGS EQU   PABDEV
PABEXIST EQU   PABFLAGS
PABBERG2 EQU   PABFLAGS
PABREAL  EQU   PABDEV+1
PABAADDD EQU   PABDEV+2
DSPAIRS  EQU   COMTAB+1938
PHYSTYPE EQU   COMTAB+2002
PHYSFLGS EQU   PHYSTYPE
CPUASSOC EQU   COMTAB+3026
CPUS     EQU   CPUASSOC+2
CPU      EQU   CPUS
CPUFLAG1 EQU   CPU+6
OPSYSTYP EQU   CPUFLAG1
CPUFLAG2 EQU   CPU+7
LOWERCON EQU   COMTAB+3156
LOWDSS   EQU   LOWERCON
LOWFLGS  EQU   LOWDSS
LOWSPEC  EQU   LOWFLGS
LOWRW01  EQU   LOWFLGS
LOWRW23  EQU   LOWFLGS
LOWRW45  EQU   LOWFLGS
LOWRW67  EQU   LOWFLGS
LOWLIB   EQU   LOWDSS+1
LIBCTL   EQU   COMTAB+3284
LIBCTLS  EQU   LIBCTL
CREATE   EQU   COMTAB+3288
@NM00017 EQU   CREATE
CYLFAULT EQU   @NM00017
VPAGES   EQU   CREATE+1
VOLSER   EQU   CREATE+5
LRUCLOCK EQU   CREATE+11
COMTAB2  EQU   0
DSTORSG  EQU   COMTAB2
DSENTRY  EQU   DSTORSG
TORSG1   EQU   DSENTRY
TORSG2   EQU   DSENTRY+1
CONFGCON EQU   COMTAB2+32
RSGUCB   EQU   CONFGCON
RSGFLAGS EQU   RSGUCB
CISPEC   EQU   RSGFLAGS
CONFGUCB EQU   COMTAB2+464
CONFGDEV EQU   CONFGUCB
USEFLAGS EQU   CONFGDEV
USEV     EQU   USEFLAGS
USEVS    EQU   USEFLAGS
INDEXRSG EQU   CONFGDEV+1
ALTPATH1 EQU   CONFGDEV+2
ALTPATH2 EQU   CONFGDEV+5
ALTPATH3 EQU   CONFGDEV+8
BUILDTAB EQU   0
COMB06   EQU   BUILDTAB
B06DCBPT EQU   COMB06
B06BUFPT EQU   COMB06+4
B06TBLID EQU   COMB06+8
B06ADDR  EQU   COMB06+9
COMB05   EQU   BUILDTAB+12
B05ADDR  EQU   COMB05+9
BUILDGEN EQU   BUILDTAB+24
UT2VCHR  EQU   BUILDGEN+8
OUTADDR  EQU   UT2VCHR+1
UT1VCHR  EQU   BUILDGEN+12
INADDR   EQU   UT1VCHR+1
UT1STUFF EQU   BUILDTAB+40
UT1FLAG  EQU   UT1STUFF+96
UT2STUFF EQU   BUILDTAB+664
UT2DCB   EQU   UT2STUFF
UT2FLAG  EQU   UT2STUFF+96
UT3STUFF EQU   BUILDTAB+1288
UT3FLAG  EQU   UT3STUFF+96
UT2BUFER EQU   BUILDTAB+13532
RECORDS  EQU   0
RECORD1  EQU   RECORDS
REC1CONS EQU   RECORD1+16
NMVTDATA EQU   RECORD1+32
NRSG     EQU   RECORD1+36
NMVT     EQU   RECORD1+40
NSCRC    EQU   RECORD1+44
NVOLIN   EQU   RECORD1+48
NTRANV   EQU   RECORD1+52
NXREF    EQU   RECORD1+56
NCONFG   EQU   RECORD1+60
NIMAGE   EQU   RECORD1+64
NCELL    EQU   RECORD1+68
NVDA     EQU   RECORD1+72
NRJOURN  EQU   RECORD1+76
NQUEUE   EQU   RECORD1+80
NDIAG    EQU   RECORD1+84
NMSGBUF  EQU   RECORD1+88
NDSRSG   EQU   RECORD1+96
NRSGA0   EQU   NDSRSG
NRSGA1   EQU   NDSRSG+1
NTAB1UCB EQU   RECORD1+160
NPRIADDR EQU   RECORD1+164
NSECADDR EQU   RECORD1+166
NMEDUCB  EQU   RECORD1+168
NMEDPRI  EQU   RECORD1+172
NMEDSEC  EQU   RECORD1+174
NTRACE   EQU   RECORD1+236
NLRUCLCK EQU   RECORD1+253
NPAGES   EQU   RECORD1+256
UCBLOCK  EQU   RECORD1+260
VOLPREFX EQU   RECORD1+268
RECORD2  EQU   RECORDS+272
REC2CONS EQU   RECORD2+16
NUCBXREF EQU   RECORD2+64
R2UCBS   EQU   RECORD2+96
RECORD3  EQU   RECORDS+544
REC3CONS EQU   RECORD3+16
R3UCBS   EQU   RECORD3+20
RECORD4  EQU   RECORDS+816
REC4CONS EQU   RECORD4+16
R4UCBS   EQU   RECORD4+20
RECORD5  EQU   RECORDS+1088
REC5CONS EQU   RECORD5+16
R5UCBS   EQU   RECORD5+20
RECORD6  EQU   RECORDS+1360
R6DRDS   EQU   RECORD6+88
R6DS     EQU   RECORD6+92
R6DRCS   EQU   RECORD6+94
R6RSGS   EQU   RECORD6+96
R6MSFS   EQU   RECORD6+127
RECORD12 EQU   RECORDS+2992
PREFIX12 EQU   RECORD12+8
R12PART1 EQU   RECORD12+16
R12VARYO EQU   R12PART1+1
R12PART2 EQU   RECORD12+144
R12SPINS EQU   R12PART2+1
R12UCBCT EQU   R12PART2+2
RECS2TO5 EQU   0
LIB2TO5  EQU   RECS2TO5
VALIDUC0 EQU   RECS2TO5+4
CTL0     EQU   RECS2TO5+16
CTL1     EQU   RECS2TO5+20
CTL2     EQU   RECS2TO5+24
CTL3     EQU   RECS2TO5+28
HEX70    EQU   RECS2TO5+32
HEX71    EQU   RECS2TO5+33
HEX72    EQU   RECS2TO5+34
HEX73    EQU   RECS2TO5+35
HEX74    EQU   RECS2TO5+36
HEX75    EQU   RECS2TO5+37
HEX76    EQU   RECS2TO5+38
HEX77    EQU   RECS2TO5+39
HEX78    EQU   RECS2TO5+40
HEX79    EQU   RECS2TO5+41
HEX7A    EQU   RECS2TO5+42
HEX7B    EQU   RECS2TO5+43
HEX7C    EQU   RECS2TO5+44
HEX7D    EQU   RECS2TO5+45
HEX7E    EQU   RECS2TO5+46
HEX7F    EQU   RECS2TO5+47
HEX80    EQU   RECS2TO5+48
HEX84    EQU   RECS2TO5+52
HEX88    EQU   RECS2TO5+56
HEX8C    EQU   RECS2TO5+60
HEX90    EQU   RECS2TO5+64
HEX94    EQU   RECS2TO5+68
HEX98    EQU   RECS2TO5+72
HEX9C    EQU   RECS2TO5+76
D0STRUCT EQU   RECS2TO5+128
HEXD0    EQU   D0STRUCT
HEXE0    EQU   RECS2TO5+144
HEXF0    EQU   RECS2TO5+160
CLEAREM  EQU   0
CLEAR0CH EQU   CLEAREM+8
CLEARREC EQU   CLEAREM+11
CLEARFIL EQU   CLEAREM+12
CLRREST  EQU   CLEAREM+16
SCANBUF  EQU   0
SCANDATA EQU   0
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
@NM00068 EQU   CLEAREM
@NM00067 EQU   D0STRUCT+1
@NM00066 EQU   RECS2TO5+80
@NM00065 EQU   RECS2TO5+77
@NM00064 EQU   RECS2TO5+73
@NM00063 EQU   RECS2TO5+69
@NM00062 EQU   RECS2TO5+65
@NM00061 EQU   RECS2TO5+61
@NM00060 EQU   RECS2TO5+57
@NM00059 EQU   RECS2TO5+53
@NM00058 EQU   RECS2TO5+49
@NM00057 EQU   RECS2TO5+30
@NM00056 EQU   RECS2TO5+26
@NM00055 EQU   RECS2TO5+22
@NM00054 EQU   RECS2TO5+18
@NM00053 EQU   RECS2TO5+5
@NM00052 EQU   RECS2TO5+1
FILLRECS EQU   RECORDS+3264
@NM00051 EQU   RECORD12+264
@NM00050 EQU   R12PART2
@NM00049 EQU   RECORD12+136
@NM00048 EQU   R12PART1+2
@NM00047 EQU   R12PART1
@NM00046 EQU   RECORD12
MSGRECS  EQU   RECORDS+1632
@NM00045 EQU   RECORD6+126
@NM00044 EQU   RECORD6+16
PREFIX6  EQU   RECORD6+8
@NM00043 EQU   RECORD6
@NM00042 EQU   RECORD5+17
PREFIX5  EQU   RECORD5+8
@NM00041 EQU   RECORD5
@NM00040 EQU   RECORD4+17
PREFIX4  EQU   RECORD4+8
@NM00039 EQU   RECORD4
@NM00038 EQU   RECORD3+17
PREFIX3  EQU   RECORD3+8
@NM00037 EQU   RECORD3
@NM00036 EQU   RECORD2+80
@NM00035 EQU   RECORD2+17
PREFIX2  EQU   RECORD2+8
@NM00034 EQU   RECORD2
@NM00033 EQU   RECORD1+261
@NM00032 EQU   RECORD1+254
@NM00031 EQU   RECORD1+252
@NM00030 EQU   RECORD1+176
@NM00029 EQU   RECORD1+169
@NM00028 EQU   RECORD1+161
@NM00027 EQU   NDSRSG+2
@NM00026 EQU   RECORD1+92
@NM00025 EQU   RECORD1+24
PREFIX1  EQU   RECORD1+8
@NM00024 EQU   RECORD1
TEMPEND  EQU   BUILDTAB+22396
LTRTRANI EQU   BUILDTAB+22316
LTRTRANO EQU   BUILDTAB+22236
UT1BUFER EQU   BUILDTAB+5084
NVERIFY  EQU   BUILDTAB+3500
CVERIFY  EQU   BUILDTAB+1916
@NM00023 EQU   UT3STUFF+624
UT3DDN   EQU   UT3STUFF+616
UT3CCWS  EQU   UT3STUFF+320
UT3IOB   EQU   UT3STUFF+280
UT3ECB   EQU   UT3STUFF+276
UT3JFCB  EQU   UT3STUFF+100
@NM00022 EQU   UT3FLAG
UT3VWERR EQU   UT3FLAG
UT3VOERR EQU   UT3FLAG
UT3VUPDT EQU   UT3FLAG
UT3DCB   EQU   UT3STUFF
UT2DDN   EQU   UT2STUFF+616
UT2CCWS  EQU   UT2STUFF+320
UT2IOB   EQU   UT2STUFF+280
UT2ECB   EQU   UT2STUFF+276
UT2JFCB  EQU   UT2STUFF+100
@NM00021 EQU   UT2FLAG
UT2VCERR EQU   UT2FLAG
UT2VWERR EQU   UT2FLAG
UT2VOERR EQU   UT2FLAG
UT2VUPDT EQU   UT2FLAG
UT1DDN   EQU   UT1STUFF+616
UT1CCWS  EQU   UT1STUFF+320
UT1IOB   EQU   UT1STUFF+280
UT1ECB   EQU   UT1STUFF+276
UT1JFCB  EQU   UT1STUFF+100
@NM00020 EQU   UT1FLAG
UT1VWERR EQU   UT1FLAG
UT1VOERR EQU   UT1FLAG
UT1VUPDT EQU   UT1FLAG
UT1DCB   EQU   UT1STUFF
UT1VREC  EQU   INADDR+2
UT1VHEAD EQU   INADDR+1
UT1VCYL  EQU   INADDR
UT1TABID EQU   UT1VCHR
UT2VREC  EQU   OUTADDR+2
UT2VHEAD EQU   OUTADDR+1
UT2VCYL  EQU   OUTADDR
UT2TABID EQU   UT2VCHR
ADDRBUF2 EQU   BUILDGEN+4
ADDRBUF1 EQU   BUILDGEN
B05REC   EQU   B05ADDR+2
B05HEAD  EQU   B05ADDR+1
B05CYL   EQU   B05ADDR
B05TBLID EQU   COMB05+8
B05BUFPT EQU   COMB05+4
B05DCBPT EQU   COMB05
B06REC   EQU   B06ADDR+2
B06HEAD  EQU   B06ADDR+1
B06CYL   EQU   B06ADDR
ALTCH3   EQU   ALTPATH3+2
ALTCI3   EQU   ALTPATH3+1
ALTDS3   EQU   ALTPATH3
ALTCH2   EQU   ALTPATH2+2
ALTCI2   EQU   ALTPATH2+1
ALTDS2   EQU   ALTPATH2
ALTCH1   EQU   ALTPATH1+2
ALTCI1   EQU   ALTPATH1+1
ALTDS1   EQU   ALTPATH1
ICEBERG  EQU   USEFLAGS
ITISALTP EQU   USEFLAGS
USECONVR EQU   USEFLAGS
SUPPUNCH EQU   USEFLAGS
USEREAL  EQU   USEFLAGS
USESPEC  EQU   USEFLAGS
RSGCUA   EQU   RSGUCB+8
RSGCHAN  EQU   RSGUCB+7
CPUREFNO EQU   RSGUCB+6
RSGCPUID EQU   RSGUCB+1
@NM00019 EQU   RSGFLAGS
COM2BASE EQU   COMTAB+3304
@NM00018 EQU   @NM00017
PRNTONLY EQU   @NM00017
UPDCREAT EQU   @NM00017
NEWCREAT EQU   @NM00017
CMDCREAT EQU   @NM00017
RW67RGHT EQU   LIBCTLS
RW67LEFT EQU   LIBCTLS
RW45RGHT EQU   LIBCTLS
RW45LEFT EQU   LIBCTLS
RW23RGHT EQU   LIBCTLS
RW23LEFT EQU   LIBCTLS
RW01RGHT EQU   LIBCTLS
RW01LEFT EQU   LIBCTLS
@NM00016 EQU   LOWFLGS
LOWRGHT  EQU   LOWFLGS
LOWLEFT  EQU   LOWFLGS
ALTMSCIN EQU   CPUFLAG2
@NM00015 EQU   CPUFLAG2
ALTMSGBF EQU   CPUFLAG2
@NM00014 EQU   CPUFLAG2
CPUSPEC  EQU   CPUFLAG2
CPUMSCIN EQU   CPUFLAG1
OPJES3   EQU   OPSYSTYP
OPVS2    EQU   OPSYSTYP
OPVS1    EQU   OPSYSTYP
CPUALTFL EQU   CPUFLAG1
CPUTIGHT EQU   CPUFLAG1
@NM00013 EQU   CPUFLAG1
TOMPCPU  EQU   CPU+5
CPUID    EQU   CPU
CPUNUM   EQU   CPUASSOC
SPNRSGNO EQU   PHYSTYPE+1
LGDEVICE EQU   PHYSFLGS
LOGABOX1 EQU   PHYSFLGS
PHYSSSID EQU   PHYSFLGS
PHYSREAL EQU   PHYSFLGS
MERLICEB EQU   PHYSFLGS
PHYSDS2  EQU   DSPAIRS
PABDDD   EQU   PABAADDD
PABAA    EQU   PABAADDD
PABZEROS EQU   PABAADDD
PAB2D    EQU   PABREAL
PAB2C    EQU   PABREAL
PAB2B    EQU   PABREAL
@NM00012 EQU   PABREAL
PAB1D    EQU   PABREAL
PAB1C    EQU   PABREAL
PAB1B    EQU   PABREAL
PABIMPLR EQU   PABREAL
@NM00011 EQU   PABFLAGS
PABDSMTL EQU   PABFLAGS
PABIBERG EQU   PABFLAGS
@NM00010 EQU   PABFLAGS
PABVOVIR EQU   PABFLAGS
MAPEXIT  EQU   LIB+4
LIBMAP   EQU   LIB+3
@NM00009 EQU   LIBBITS
TODS2    EQU   RSGTODS+1
TODS1    EQU   RSGTODS
RSGSLICE EQU   RSG+3
RSGUDEL  EQU   RSG+2
RSGLDEL  EQU   RSG+1
@NM00008 EQU   RSG
RSGSPEC  EQU   RSG
SVSYSUT3 EQU   SAVEDDS+32
SVSYSUT2 EQU   SAVEDDS+24
SVSYSUT1 EQU   SAVEDDS+16
SVSYSPCH EQU   SAVEDDS+8
SVSYSIN  EQU   SAVEDDS
PARMPTR  EQU   INVOKED
SAVE14   EQU   GENIO+12
EXLST    EQU   GENIO+8
@NM00007 EQU   DCBPTR+1
DCBFLAG  EQU   DCBPTR
OPENLIST EQU   GENIO
@NM00006 EQU   MESSAGES+19
PRNTBUF2 EQU   SPECLMSG
NEEDEOJ  EQU   SPECLMSG
ENDPHASE EQU   SPECLMSG
@NM00005 EQU   SPECLMSG
PRNTCARD EQU   SPECLMSG
@NM00004 EQU   SPECLMSG
NEED102  EQU   SPECLMSG
NEED101  EQU   SPECLMSG
PRINTRC  EQU   MESSAGES+16
TERM     EQU   MESSAGES+12
WARN     EQU   MESSAGES+8
TERMINAT EQU   MESSAGES+6
WARNING  EQU   MESSAGES+4
MSGNO    EQU   MESSAGES+2
RETCODE  EQU   MESSAGES
OUTBUF2  EQU   PRINTER+225
OUTBUF   EQU   PRINTER+104
LINECT   EQU   PRINTER+102
LINECTR  EQU   PRINTER+100
PAGENO   EQU   PRINTER+96
DCBPRINT EQU   PRINTER
@NM00003 EQU   READER+206
SCANLEN  EQU   READER+204
SVEODAD  EQU   READER+200
SVSYNAD2 EQU   READER+196
SAVENCOL EQU   READER+192
SAVESCOL EQU   READER+188
INBUF    EQU   READER+100
SSELECT  EQU   PCHBF
@NM00002 EQU   READER+97
@NM00001 EQU   READFLAG
LASTPARM EQU   READFLAG
ENDSCAN  EQU   READFLAG
PARMBIT  EQU   READFLAG
KEYBIT   EQU   READFLAG
READTERM EQU   READFLAG
READDCB  EQU   READER
PATCH    EQU   COMTAB
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00302 EQU   @RC00300
@ENDDATA EQU   *
         END   ICGDSB18,(C'PLS2156',0603,76349)

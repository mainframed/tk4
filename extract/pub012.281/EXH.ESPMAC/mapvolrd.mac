         MACRO ,
&NM      MAPVOLRD &DSECT=YES,&PFX=                        ADDED GP09158
.*
.*   THIS MACRO MAPS THE DATA RETURNED FROM @VOLREAD USING THE
.*     VOLREAD TRACK,CCHH    MACRO CALL
.*
         LCLC  &DS,&P
&DS      SETC  'MAPVOLRD'    SET DEFAULT NAME
&P       SETC  'TRK'
         AIF   ('&PFX' EQ '').DEFPFX
&P       SETC  '&PFX'
.DEFPFX  AIF   ('&NM' EQ '').HAVEDS
&DS      SETC  '&NM'
.HAVEDS  AIF   ('&DSECT' NE 'YES').NODSECT
&DS      DSECT ,             MAPPING OF @VOLREAD TRACK DATA
         AGO   .COMDS
.NODSECT ANOP  ,
&DS      DS    0H            MAPPING OF @VOLREAD TRACK DATA
.COMDS   ANOP  ,
&P.CCHH  DC    XL4'0'        CCHH TRACK ADDRESS
&P.PCYL  DC    FL4'0'        TRACKS PER CYLINDER
&P.MAXSZ DC    FL4'0'        MAXIMUM (RAW) TRACK CAPACITY
&P.#BLOK DC    FL4'0'        NUMBER OF BLOCKS (1-N)
&P.R0DAT DC    XL8'0'        R0 DATA
&P.@DATA DC    AL4(0)  1/2   ADDRESS OF TRACK DATA
&P.CURSZ DC    FL4'0'  2/2   CURRENT SIZE OF ALL BLOCKS
&P.SIZE  EQU   *-&DS           SIZE OF RETURN AREA
         MEND  ,

         MACRO ,
&NM      TSX   &R,&A,&AMODE=ANY                         ADDED ON 90308
.*
.*       THIS MACRO CALLS A SUB-ROUTINE IN 31 OR 24 BIT MODE.
.*       IF AMODE=24, THE USER'S ADDRESS IS OVERRIDDEN
.*       IF AMODE=31, THE USER'S ADDRESS IS FORCED TO 31-BIT MODE.
.*       IN PRE-XA SYSTEMS, ACTS AS BAL/BALR
.*
         GBLB  &MVSXA
&NM      MACPARM R15,&A      LOAD DESTINATION ADDRESS TO R15
         AIF   (NOT &MVSXA).BALR
         AIF   ('&AMODE' EQ 'ANY' OR 'AMODE' EQ '').BASSMX
         AIF   ('&AMODE' EQ '24' OR '&AMODE' EQ 'AM24').BASSM24
         AIF   ('&AMODE' EQ '31' OR '&AMODE' EQ 'AM31').BASSM31
         MNOTE 4,'INVALID AMODE OPERAND - USE: ANY, 24 OR 31'
         AGO   .BASSMX
.BASSM24 MACPARM R15,=X'7FFFFFFF',OP=N  KILL 31-BIT MODE BIT
         AGO   .BASSMX
.BASSM31 MACPARM R15,=X'80000000',OP=O  SET 31-BIT MODE
.BASSMX  MACPARM &R,R15,OP=BASSM,OPR=BASSM,MODE=EQU
         MEXIT ,
.BALR    MACPARM &R,(R15),OP=BAL,OPR=BALR
         MEND  ,

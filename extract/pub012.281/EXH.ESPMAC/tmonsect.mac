         MACRO ,
&NM      TMONSECT &IO=5,&US=2,&DSECT=YES                ADDED ON 86155
         LCLC  &N
&N       SETC  'TMONSECT'
         AIF   ('&NM' EQ '').DFLT
&N       SETC  '&NM'
.DFLT    AIF   ('&DSECT' EQ 'YES' OR '&DSECT' EQ '').DSECT
         AIF   ('&DSECT' EQ 'DSECT').DSECT
         AIF   ('&DSECT' EQ 'CSECT').CSECT
&N       DS    0D            TMON APPLICATION DATA RECORD  10/84
         AGO   .COMMON
.CSECT   ANOP  ,
&N       CSECT ,             TMON APPLICATION DATA RECORD  10/84
         AGO   .COMMON
.DSECT   ANOP  ,
&N       DSECT ,             TMON APPLICATION DATA RECORD  10/84
.COMMON  ANOP  ,
TMDRDW   DC    Y(TMDRLEN,0)  SAM RECORD DESCRIPTOR
TMDALEN  DC    Y(TMDRLEN-4)  LENGTH WITHOUT SAM RDW
TMDRECID DC    C'D'          RECORD TYPE (DETAIL RECORD)
TMDDETID EQU   C'D'            DETAIL RECORD ID
TMDSYSID DC    CL4' '        APPLICATION ID OF CICS SYSTEM
TMDTRAID DC    CL8' '        TRANSACTION NAME
TMDTERM  DC    CL4' '        TERMINAL ID
TMDUSER  DC    CL3' '        OPERATOR ID
TMDPGM   DC    CL8' '        PROGRAM NAME OF FIRST IN TRANSACTION
TMDACCT  DC    CL8' '        USER (ACCOUNT) FIELD
TMDRECDT DC    CL6' '        TERMINATION DATE (YYMMDD)
TMDABND  DC    CL4' '        CICS ABEND NAME
TMDTSKID DC    PL3'0'        TCA TASK ID
TMDFACFG DC    X'00'         FACILITY FLAG
TMDSELVL DC    X'00'         SECURITY LEVEL
TMDVEREL DC    X'00'         CICS VERSION/RELEASE
TMDMONVR DC    AL1(0)        TMON VERSION NUMBER
         DC    X'00'           RESERVED
TMDTASK# DC    XL4'0'        TMON'S ORIGINATED TASK COUNT
         DC    XL4'0'          RESERVED
TMDTIMON DC    XL4'0'        ATTACH START TIME
TMDTIMOF DC    XL4'0'        DETACH TIME
TMDTIMRN DC    XL4'0'        PROCESSING TIME
TMDCPU   DC    XL4'0'        CPU TIME
TMDWAIT  DC    XL4'0'        WAIT TIME
TMDPAGIN DC    XL4'0'        PAGES PAGED IN
TMDPAGOT DC    XL4'0'        PAGES PAGED OUT
TMDSTHWM DC    XL4'0'        TCA/TIOA STORAGE HIGH-WATER MARK
TMD#GETM DC    XL4'0'        NUMBER OF GETMAINS ISSUED
TMDHISTG DC    XL4'0'        HIGHEST NUMBER OF GETMAINS
TMDTRMIN DC    XL4'0'        TERMINAL INPUT COUNT
TMDTRMIL DC    XL4'0'        TERMINAL INPUT LENGTH
TMDTRMOT DC    XL4'0'        TERMINAL OUTPUT COUNT
TMDTRMOL DC    XL4'0'        TERMINAL OUTPUT LENGTH
TMDTYPE  DC    X'00'         DEVICE TYPE FROM TCTTE
TMDAID   DC    X'00'         TCTTE AID BYTE AT TASK START
TMDFG1   DC    X'00'         FLAGS
TMFMAXTK EQU   X'80'           MAX TASKS OCCURRED
TMFMAXAC EQU   X'40'           MAXIMUM ACTIVE OCCURRED
TMFSOS   EQU   X'20'           SOS OCCURRED
TMFSTGV  EQU   X'10'           STORAGE VIOLATION
TMFABND  EQU   X'08'           ABENDED
TMFABNDM EQU   X'04'           ABENDED BY MONITOR
TMFSUSP  EQU   X'02'           SUSPENDED
TMFENQ   EQU   X'01'           CICS ENQUEUE USED
TMDFG2   DC    X'00'         MORE FLAGS
TMFIBMTK EQU   X'80'           IBM TASK
TMFCONTK EQU   X'40'           CONVERSATIONAL TASK
TMFPRTTK EQU   X'20'           PRINTER TASK
TMFATITK EQU   X'10'           ATI TASK
TMFSWAIT EQU   X'08'           STRING WAIT
TMFBWAIT EQU   X'04'           BUFFER WAIT
TMFDMS   EQU   X'02'           DMS USED
TMFUFO   EQU   X'01'           UFO USED
TMDFG3   DC    X'00'         STILL MORE FLAGS
TMFBAL   EQU   X'80'           PROGRAM IN ASSEMBLER LANGUAGE
TMFPLI   EQU   X'40'           PL/I
TMFCOB   EQU   X'20'           COBOL
TMFRPG   EQU   X'10'           RPG
TMFPSPF  EQU   X'04'           PROGRAM SUBPOOL COMPRESSED
TMFPFET  EQU   X'02'           PROGRAM FETCH USED
TMFABNDS EQU   X'01'           SYSTEM ABEND OCCURRED
TMDFG4   DC    X'00'         AND YET MORE FLAGS
TMFACP   EQU   X'80'           ACP
TMFIRC   EQU   X'40'           IRC
TMFISC   EQU   X'20'           ISC
TMFEIP   EQU   X'10'           EIP
TMFICP   EQU   X'08'           ICP
TMFFCP   EQU   X'04'           FCP
TMFTDP   EQU   X'02'           TDP
TMFTSP   EQU   X'01'           TSP
TMDFG5   DC    X'00'         ALMOST THE LAST FLAGS
TMFDLI   EQU   X'80'           DL/I
TMFJCP   EQU   X'40'           JCP
TMFBMS   EQU   X'20'           BMS
TMFBIF   EQU   X'10'           BIF
TMFPSB   EQU   X'08'           PSB SCHEDULED
TMFPRAY  EQU   X'04'           MANTIS USED
TMFNATCH EQU   X'02'           NATURAL USED
TMFSTAR  EQU   X'01'           GENER/OL USED
TMDFG6   DC    X'00'         LAST, BUT NOT LEAST, FLAGS
TMFDETL  EQU   X'80'           DETAIL RECORD
TMFSUMRY EQU   X'40'           SUMMARY RECORD
TMFSYSTM EQU   X'20'           SYSTEM DETAIL (TCP, KCP, JCP)
TMFCISPT EQU   X'02'           CI SPLIT OCCURRED
TMFCASPT EQU   X'01'           CA SPLIT OCCURRED
TMDFCPTM DC    XL4'0'        FCP FILE TIME
TMDFCPCT DC    XL4'0'        FCP COUNT
TMDDLITM DC    XL4'0'        DL1 CALLS TIMES
TMDDLICT DC    XL4'0'        DL1 COUNT
TMDSTGTM DC    XL4'0'        TEMPSTG TIMES
TMDSTGCT DC    XL4'0'        TEMPSTG COUNT
TMDELATM DC    XL4'0'        TD (EXTRA) ELAPSED TIME
TMDELACT DC    XL4'0'        TD (EXTRA) COUNT
TMDFETTM DC    XL4'0'        PROGRAM FETCH TIME
TMDFETCT DC    XL4'0'        PROGRAM FETCH COUNT
TMDJURTM DC    XL4'0'        JOURNAL TIME
TMDJURCT DC    XL4'0'        JOURNAL COUNT
TMDIONUM DC    AL1(&IO)      NUMBER OF ENTRIES THAT FOLLOW
TMDIOREC DS    0X            START OF I/O FILE ACCESS ENTRY
TMDIOFIT DC    CL8' '        FILE/DBD NAME
TMDIOFG1 DC    X'00'         FILE TYPE FLAG
TMFISAM  EQU   X'80'           ISAM
TMFBDAM  EQU   X'40'           BDAM
TMFVSAM  EQU   X'20'           VSAM
TMFIODLI EQU   X'10'           DL/I
TMFIORMT EQU   X'08'           REMOTE ?
TMFIOPSB EQU   X'04'           DL/I PSB
TMFUSER  EQU   X'01'           USER DATABASE
TMDIOFG2 DC    X'00'         ACTION FLAGS
TMFADD   EQU   X'80'           ADD/INSERT
TMFUPDT  EQU   X'40'           UPDATE/REPLACE
TMFGET   EQU   X'20'           GET
TMFPEEK  EQU   X'10'           BROWSE
TMFOC    EQU   X'08'           OPEN/CLOSE
TMFVSSWT EQU   X'04'           VSAM STRING WAIT
TMFVSBWT EQU   X'02'           VSAM BUFFER WAIT
TMFSPLIT EQU   X'01'           VSAM SPLIT OCCURRED
TMDIOUCB DC    XL2'0'        FILE/DBD UCB CUU
TMDIOVOL DC    CL6' '        FILE/DBD VOLUME SERIAL
TMDIOTIM DC    XL4'0'        ACCESS TIME
TMDIOCT  DC    XL4'0'        ACCESS COUNT
TMDIOLEN EQU   *-TMDIOREC      LENGTH OF ONE ENTRY
         ORG   TMDIOREC      REDEFINE
TMDIOENT DC    (&IO)XL(TMDIOLEN)'0'    FILE ACCESS TABLE ENTRIES
TMDUSNUM DC    X'00'         NUMBER OF USER ENTRIES
TMDUSREC EQU   *             START OF USER RECORD ENTRY
TMDUSID  DC    X'00'         TMCT ID CODE
TMDUSFG1 DC    X'00'         FLAG
TMFCLOCK EQU   X'80'           CLOCK ENTRY
TMFCOUNT EQU   X'40'           COUNTER ENTRY
TMDUSDAT DC    XL4'0'        ACCUMULATED DATA (TIMES OR COUNTS)
TMDUSOCC DC    XL4'0'        NUMBER OF OCCURRENCES
TMDUSBEG DC    XL4'0'        START TIME
TMDUSLEN EQU   *-TMDUSREC    LENGTH OF ONE ENTRY
         ORG   TMDUSREC      BUMP BACK
TMDUSENT DC    (&US)XL(TMDUSLEN)'0'  INITIALIZE
TMDRLEN  EQU   *-TMDRDW      LENGTH OF RECORD
         MEND  ,

         MACRO
      VTOBYTE  &CHAR=CHAR
.*       R1 => VTOTAB TABLE
.*       R5 => INPUT STRING
CHARBYTE MVI   &CHAR,0 .     CLEAR CHARACTER OUT
         SR    R14,R14 .     CLEAR IC REG
CHARBYTL CLI   1(R1),255 .   END OF TABLE ?
         BER   R9 .          YES, RETURN
         IC    R14,1(R1) .   ELSE GET LENGTH - 1 OF ENTRY
         EX    R14,CHARCLC .  IS THIS ENTRY IN INPUT STRING ?
         BNE   CHARBYTI .    NO, TRY NEXT TABLE ENTRY
         OC    &CHAR,0(R1) .   OR FLAG(S) TO BYTE
         LA    R5,1(R5,R14) .   SET INPUT TO NEXT
CHARBYTI LA    R1,3(R1,R14) .   SET TO NEXT TABLE ENTRY
         B     CHARBYTL .    TRY AGAIN
CHARCLC  CLC   2(0,R1),0(R5) .   IS INPUT SAME AS TABLE ENTRY ?
         MEND

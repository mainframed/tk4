         MACRO ,
         MAPJOBWK &DOC=NO    COMMON I/O WORK AREA       ADDED ON 88094
         COPY  OPTIONS
         GBLC  &VERSION,&JQENUML
&JQENUML SETC  '5'
         AIF   ('&HASP' EQ 'JES2').LAB5
   AIF ('&VERSION'(1,1) LT '4' AND '&VERSION'(1,1) GE '0').LAB3
&JQENUML SETC  '4'           FOUR BYTE JOB NUMBER
         AGO   .LAB5
.LAB3    ANOP  ,
&JQENUML SETC  '3'           THREE BYTE JOB NUMBER
.LAB5    ANOP  ,
IOWORK   DSECT ,
         MAPIOWK ,           DEFINE $JCL WORK SPACE
         PUSH  PRINT                                             88094
         AIF   ('&DOC' EQ 'NO').NODOC                            88094
         PRINT ON,GEN                                            88094
.NODOC   SPACE 1
         ORG   DRBUF         RE-USE BUFFER SPACE FOR DATA
LOCDB    DC    2D'0'
SAVE29   DC    8F'0'         SAVE AREA
SAFE6    DC    9F'0'         SECOND SAVE AREA
JAWWORK  DS    0A            POINTERS AND STUFF
JTIOT    DC    F'0'          CURRENT IOT ADDRESS
JTIOTOF  DC    F'0'          CURRENT IOT OFFSET
JTIOT1   DC    F'0'          FIRST IOT ADDRESS
JTBUFAD  DC    F'0'          NEXT AVAILABLE DSIPLAY BUFFER LINE
JTDSKEY  DC    F'0'          DATABLOCK ID WORD
OFFSDDB  DC    F'0'          IOT OFFSET TO FIRST PDDB (VAR. IN 1.6)
JSPIOT   DC    F'0'          CURRENT SPIN IOT ADDRESS
JSPIOTOF DC    F'0'          CURRENT SPIN IOT OFFSET
JSPIOT1  DC    F'0'          FIRST SPIN IOT ADDRESS
JSPACCT  DC    CL4' ',CL8' ' CCSI ACCOUNT NUMBER (+PAD)
PTRBASE  DC    A(0)          ADDRESS OF FIRST RECORD POINTER
PTRLAST  DC    A(0)          LAST AVAILABLE ENTRY
PTRINT   DC    F'0'          ENTRY INTERVAL
MAXLEN   DS    F'0'          CURRENT BUFFER SIZE                GP08362
RECFOUND DC    F'0'          LAST RECORD FOUND BY FIND
HOROFF   DC    H'0'          HORIZONTAL INDENT (WINDOWING OPTION)
FNDLEN   DC    H'0'          LENGTH OF FIND TEXT
FNDLEN2  DC    H'0'          LENGTH OF FIND TEXT2                88284
FNDTEXT  DC    CL40' '       COMPARE TEXT
FNDTEXT2 EQU   FNDTEXT+20,20,C'C'  SUB-ALLOCATED SECOND STRING   88284
FNDDESC  DC    X'0000'       SYSLOG - DESCRIPTORS                88284
FNDTIME  DC    2CL6' '       SYSLOG - TIME RANGE                 88284
FNDFG    DC    X'00'         SYSLOG - CONTROL FLAG               88284
FFGDESC  EQU   X'80'           MATCH ON DESCRIPTOR CODE(S)       88284
FFGTIME  EQU   X'40'           MATCH ON TIME                     88284
FFGTIMED EQU   X'20'           TIME MATCHED                      88284
MODEFG   DC    X'0'          PROCESSING OPTIONS
MFSCALE  EQU   X'80'           SHOW COLUMN SCALE
MFNUM    EQU   X'40'           SHOW RCD NUMBERS ON EACH LINE
MFCC     EQU   X'20'           SHOW MACHINE OR ANSI CARR. CONTROL
MFWRAP   EQU   X'10'           DISPLAY FULL (WRAPPED) TEXT (NO WINDOW)
MFUPP    EQU   X'08'           FOLD UPPER CASE ON FIND
MFHEX    EQU   X'04'           HEX TEXT
MFFIND   EQU   X'01'           FIND REQUEST MADE
JSVFLAGS DC    X'00'         PRINT/SAVE FLAGS
JFFAIL   EQU   X'80'           REQUEST IN ERROR
JFERR    EQU   X'40'           ERROR DURING PROCESSING
JFNULL   EQU   X'20'           NO DATA PROCESSED
JFABE    EQU   X'01'           DCB ABEND ENTERED
JSVCOUNT DC    F'0'          DATA SET RECORD COUNT
JSVMTTR  DC    XL4'0'        DATA SET MTTR
JSVRET   DC    XL4'0'        #RECS COPIED / SYS ABEND CODE / ERROR CODE
JSVCLEAR EQU   JSVFLAGS,*-JSVFLAGS,C'X'  AREA TO CLEAR IN $JC
         SPACE 1
JADWORK  DS    0F            FUNCTION WORK AREA
RECMAX   DC    F'0'          HIGHEST RECORD EVER READ
CURTTR   DC    F'0'          TTR OF CURRENT BLOCK
REQTTR   DC    F'0'          REQUESTED TTR
CURREC   DC    F'0'          CURRENT RECORD NUMBER
REQREC   DC    F'0'          REQUESTED RECORD NUMBER
TOPREC   DC    F'0'          RECORD ON TOP OF PAGE
CURROF   DC    F'0'          OFFSET TO CURRENT RECORD IN BLOCK  GP08362
TOPTTR   DC    F'0'          BLOCK OF TOP LINE                  GP08362
TOPOFF   DC    F'0'          OFFSET OF TOP LINE                 GP08362
TOPFG    DC    X'00'         EXT. FUNCTION FLAG                 GP08362
TFSET    EQU   X'80'           TOP TTR/OFF SET                  GP08362
TFRET    EQU   X'40'           RETURN - RESET TO TOP            GP08362
TFERR    EQU   X'20'           ERROR DURING SAVE/PRINT          GP08362
PROFG    DC    X'00'         PROCESSING FLAG
PFEOF    EQU   X'80'           END-FILE PROCESSED
PFMSG    EQU   X'01'           EOF MSG ON SCREEN
SAVECC   DS    C             CARRIAGE CONTROL FOR CURRENT RECORD
SAVFLAG1 DS    X             COPY OF LRCFLAG1
TOPMSG   DC    CL20' '       ERROR MESSAGE FROM SAVE/PRINT/FIND GP08362
JAWCLEAR EQU   JAWWORK,*-JAWWORK,C'A'  GLOBAL CLEAR
JADCLEAR EQU   JADWORK,*-JADWORK,C'A'  FUNCTION CLEAR
         SPACE 1
JTPROC   DS    CL8,C         PROC STEP
JTSTEP   DS    CL8,C         STEP NAME
JTDDN    DS    0CL8,C        DDNAME
JTITLE   DS    CL7,C         TITLE - JCT/LOG/JCL/MSG/DSN=NNN
JQUE     DS    CL4,C         QUEUE
JNAME    DS    CL8,C         JOB NAME
JCTLPA1  DS    C'('
JNUM     DS    CL&JQENUML    JOB NUMBER
JCTLPA2  DS    C') '
JCTTRA   DS    CL8           TTR OF JCT OR CURRENT MTTR
JTSHORT  EQU   JTDDN,*-JTDDN,C'C'  NARROW TITLE
JTWIDE   EQU   JTPROC,*-JTPROC,C'C'  WIDE TITLE
IOBUF    DS    0D ,          INPUT BUFFER FOR JCT/IOT/BUFFER
         POP   PRINT                                             88094
         MEND  ,

         MACRO ,                                            NEW GP08250
&NM     XDEVSKIP &B=UNITBUMP,&DEV=UCBCHAN
.*
.*  THIS MACRO IS USED BY EXHIBIT DISPLAY ROUTINES (EXHDXXXX) TO
.*  ELIMINATE DEVICES / UNITS FROM DISPLAY CONSIDERATION
.*
.*  THE UNITS ARE DEFINED IN THE ªSPARES³ SECTION OF THE EXHIBIT
.*  OPTIONS MEMBER.
.*
         LCLC  &I
&I       SETC  '&SYSNDX'
&NM      LM    R15,R0,EXW@UNSK   GET SKIP TABLE ADDRESS
         LTR   R0,R0         ANY TO DO ?
         MACPARM ZZU&I.X,OP=BNP,OPR=BNPR,MODE=ONE  ACCEPT IF NONE
         ICM   R14,3,&DEV     GET DEVICE NUMBER                 GP09207
.* NOTE THAT THIS ASSUMES NO ALTERNATE CHANNELS (UNDER HERCULES?)
ZZU&I.L  CLM   R14,3,0(R15)  BELOW START OF RANGE ?
         MACPARM ZZU&I.B,OP=BL,OPR=BLR,MODE=ONE  LOW; TRY ANOTHER
         CLM   R14,3,2(R15)  ABOVE START OF RANGE ?
         MACPARM &B,OP=BNH,OPR=BNHR,MODE=1  NOT HIGH; IGNORE THIS UNIT
ZZU&I.B  LA    R15,4(,R15)   TRY NEXT RANGE
         BCT   R0,ZZU&I.L    TRY NEXT
ZZU&I.X  DS    0H
         MEND  ,

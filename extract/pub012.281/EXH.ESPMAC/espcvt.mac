         MACRO ,
&NM      ESPCVT &SECT=D,&OPT=
         GBLC  &HOOKCVT                                         GP11214
         LCLC  &NAME,&USECT
         LCLB  &D                                               GP11214
&USECT   SETC  '&SYSECT'     SAVE USER'S CSECT NAME             GP11214
&D       SETB  ('&OPT' EQ 'LIST')                               GP11214
&NAME    SETC  '&NM'
.*
.*   THIS MACRO MAPS THE 'ESP' CVT EXTENSION                    GP11214
.*   THAT IS POINTED TO BY 'CVTJOB'. BUILT BY 'ESPINIT'         GP11214
&HOOKCVT SETC  'CVTLINK+4'   POINTER TO THIS TABLE              GP11214
.*                                                              GP11214
.*   WHEN OPT=LIST IS SPECIFIED, THIS MACRO ALSO EXPANDS A LIST OF DC
.*       CONSTANTS FOR LOADING AND SETTING THE CONTENTS OF ADDRESSES.
.*
         AIF   ('&SECT' EQ 'NO').NOSECT
         AIF   ('&NM' NE '').OK
         MNOTE 4,'CSECT/DSECT NAME MISSING, ''ESPCVT'' ASSUMED.'
&NAME    SETC  'ESPCVT'
.OK      AIF   ('&SECT' NE 'C').DSECT
&NAME    CSECT ,
         AGO   .BLNM
.DSECT   ANOP
&NAME    DSECT ,
         AGO   .BLNM
.NOSECT  AIF   ('&NM' EQ '').BLNM
&NAME    DS    0F .          START OF USER CVT MAPPING
.BLNM    ANOP
.*
UCFLAGS  DC    X'1' .        FLAG BYTE
UCIPL    EQU   X'80' .       IPL AUTO STARTS PENDING
UCRJE    EQU   X'40' .       RJE RUN AT LEAST ONCE SINCE LAST IPL
UCAUTO   EQU   X'20' .       AT LEAST ONE 'AUTO' COMMAND ACTIVE
UCAPEN   EQU   X'10' .       AT LEAST ONE AUTO START PENDING
UCASCRCH EQU   X'04'         ON IF IPL TIME SYSDA SCRATCHED      91049
UCACCBAD EQU   X'02'           A$GINIT OPEN FAILED               84317
UCCONLT  EQU   1 .           ON IF LOTS OF MESSAGES WITH CONID
.*
         SPACE
UCCONID  DC    X'1' .        NON-ZERO IF SPECIAL MESSAGES ARE TO BE WTO
*        CONTENTS IS UCMID OF DESTINATION CONSOLE
.*
         SPACE
UCIPLCNT DC    X'0' .        NO. OF IPL AUTO STARTS STILL PENDING
UCSMFNM  DC    C'H' .   BYTE TO COMPLETE SMF PARM NAME 'SMFDEFL_'
*        U IS STANDARD SMF; T GIVES OPI; N CANCELS SMF SUPPORT
.*       H (DEFAULT) PROVIDES HASP SUPPORT
UCAUTCHN DC    A(0)          AUTORDR COMMAND CHAIN              GP11214
UCAUTCNT DC    F'0'          AUTORDR ACTIVE COUNT               GP11214
UCRSV01  DC    A(0)                                              92292
UCRSV02  DC    A(0)                                              92292
.*
         SPACE
UCIPLTIM DC    F'0' .        IPL OR LAST MODIFIED TIME (BIN)
UCIPLDAT DC    F'0' .        IPL OR LAST MODIFIED DATE
UCRSV03  DC    XL2'0'                                            92292
UCRSV04  DC    XL2'0'                                            92292
UCRSV05  DC    3A(0)                                             92292
UCA$ANCR DS    0D      1/3   ACCOUNTING ANCHOR WORDS (DB FOR CDS)
UCA$USCT DC    F'0'    2/3   USE COUNT                           83142
UCA$GDA  DC    A(0)    3/3   GLOBAL ACCOUNTING DATA AREA         83142
UCLINDX  DC    A(0)          => (BXLE) INDEX TABLE               92292
UCLUADS  DC    A(0)          => (BXLE) UADS/ACCOUNT TABLE        85182
UCLACCT  DC    A(0)          LPA/CSA ADDRESS OF ACCOUNT TABLE    92292
UCLVOLT  DC    A(0)          LPA ADDRESS OF LEXVOLT SUBROUTINES
UCLSERV  DC    A(0)          LPA ADDRESS OF @SERVICE             83044
UCLSERV2 DC    A(0)            @SRVJES2 - PRIMARY SUBSYSTEM I/F  92292
UCLPRINT DC    A(0)          @PRINTER ROUTINE                    83044
UCLINPUT DC    A(0)          @INPREAD ROUTINE                    83044
UCLVOLRD DC    A(0)          @VOLREAD ROUTINE                    83044
UCLSCRNS DC    A(0)          @SCREENS ROUTINE                    87308
UCLFORMS DC    A(0)          @FORMATS CONVERSIONS               GP11219
UCLPARSE DC    A(0)          @PARSER                            GP11219
         DC    4A(0)         LPA ADDRESSES (OR 0) OF SPECIAL MODULES
UCXSVC99 DC    A(0)          SVC 99 USER EXIT ADDRESS            83142
UCXACTEX DC    A(0)          ACCOUNTING - EXIT ROUTINE           83142
UCXLOGON DC    A(0)          TSO - PRE-LOGON EXIT ROUTINE        86143
UCHARRIS DC    A(0)          HARRIS MOUNT MESSAGE POINTER        92288
         DC    A(0)            RESERVED                          89009
UCLVOLS  DC    A(0)          => (BXLE) VOLUME/SERIAL TABLE       89009
UCLOUD   DC    A(0)          CHAIN OF LOCAL ONLINE USER DATA     87277
UCLWYL   DC    A(0)          LPA ADDRESS OF WYLBUR VTOC TABLE    85200
.*
ESPGMLEN EQU   *-&NAME         GETMAIN LENGTH                    83044
         AIF   (NOT &D).MEND                                    GP11214
&USECT   CSECT ,             RESTORE USER'S CSECT (IT HAD BETTER BE)
PATULIST DC    A(UCLVOLT-&NAME),CL8'LEXVOLT'  RESIDENT SUBROUTINES
PATULENG EQU   *-PATULIST,4,C'A'  LENGTH OF ONE ENTRY           GP11214
         DC    A(UCLSERV-&NAME),CL8'@SERVICE'  COMMON SERVICES  GP11214
         DC    A(UCLSERV2-&NAME),CL8'@SRVJES2'  SUBSYSTEM SERVICES
         DC    A(UCLPRINT-&NAME),CL8'@PRINTER'  PRINTING        GP11214
         DC    A(UCLINPUT-&NAME),CL8'@INPREAD'  READING         GP11214
         DC    A(UCLVOLRD-&NAME),CL8'@VOLREAD'  VTOC/DSCB INTERFACE
         DC    A(UCLSCRNS-&NAME),CL8'@SCREENS'  3270 SCREEN HANDLING
         DC    A(UCLFORMS-&NAME),CL8'@FORMATS'  CONVERSION SUBROUTINES
         DC    A(UCLPARSE-&NAME),CL8'@PARSER '  PARSING    SUBROUTINES
         DC    A(UCXSVC99-&NAME),CL8'LEXSVC99'  ALLOCATION EXIT GP11214
         DC    A(UCXACTEX-&NAME),CL8'TMSACTRT'  CA-1 TMS ACCOUNTING
PATULEND DC    A(UCXLOGON-&NAME),CL8'LEXLOGON'  TSO PRE-LOGON EXIT
.MEND    MEND

         MACRO ,
&NM      MDEFPARM &PFX=XMSG,&SECT=
.*
.*   MDEFPARM IS THE MACRO USED TO DEFINE THE WORK AND CALLING
.*     PARAMETER AREA FOR THE XMSG/MDEFxxx MACROS AND THE MESSAGE
.*     FORMATTING SERVICE.
.*
.*   &PFX     SPECIFIES A PREFIX TO THE GENERATED LABELS
.*   WHEN SECT=DSECT IS SPECIFIED, MAPPING FOR THE PARAMETER AREA
.*   IS EXPANDED
.*
.*                                      V1 WRITTEN 3/2008 BY GYP
         LCLC  &LABEL
&LABEL   SETC  '&NM'
         AIF   ('&LABEL' NE '').HAVELAB
&LABEL   SETC  '&PFX'.'MGPM'
.HAVELAB AIF   ('&SECT' EQ 'DSECT').DSECT
&LABEL   DS    0D            SET LABEL
         AGO   .COMMON
.DSECT   ANOP  ,
&LABEL   DSECT ,             EXPAND DSECT
.COMMON  ANOP  ,
&PFX.ADD DC    A(0)          ADDRESS OF MESSAGE MODULE
&PFX.BUF DC    A(&PFX.MSG,L'&PFX.MSG)  MESSAGE RETURN AREA
&PFX.MID DC    CL8' '        MESSAGE IDENTIFIER
         SPACE 1
&PFX.PRM DC    AL4(0),AL2(0) INSERTION ENTRY (ADDRESS/FLG/LEN)
&PFX.PR2 DC    15XL(&PFX.PR2-&PFX.PRM)'0'  16 ENTRIES TOTAL
         SPACE 1
&PFX.MSG DC    XL(4+132)'0'  V-FORMAT MESSAGE ASSEMBLY AREA
         MEND  ,

         MACRO
&NM      MAPFD ,
         GBLB  &MAPFDS
.*--------------------------------------------------------------------*
.*   THIS MAPPING REPLACES FDSECT                                     *
.*   IT SUPPORTS SPLIT DSECTS AS REQUIRED FOR EXHASCR WHILE EXAMINING *
.*   MIXED FD AND FDPRT REQUESTS                                      *
.*                                                                    *
.*   PREFIX IS FHD FOR ALL COMMON MAPPINGS, AND FFD FOR FDPRT VARS.   *
.*--------------------------------------------------------------------*
         AIF   (&MAPFDS).MEND
&MAPFDS  SETB  1
         AIF   ('&NM' NE '').EXNAME
FHDSECT  DSECT ,             FD ITEM MAPPING
         AGO   .COMNAME
.EXNAME  ANOP  ,
&NM      DSECT ,             FD ITEM MAPPING
.COMNAME ANOP  ,
FHDLINK  DS    AL1           LENGTH TO NEXT ENTRY OR 0
FHDTYPE  DS    X             ENTRY TYPE (IN, OUT, NOP)
FHDFNOP  EQU   X'40'           IGNORE THIS ENTRY
FHDFIN   EQU   X'80'           INPUT ENTRY
FHDFCIN  EQU   X'08'           FHDIN IS LOCKED (COND. INPUT)     87156
FHDFPRT  EQU   X'30'           FD/FDIN - NO 3270 FIELDS          81127
FHDFIND@ EQU   X'01'             FDSADD IS INDIRECT ADDRESS      81270
FHDFREG# EQU   X'02'             FDILEN IS REGISTER WITH LENGTH  81270
FHDFEXAD EQU   X'04'             EXPANSION HAS USER EXIT ADDRESS 89095
FHDFOPT  EQU   X'20'           OPTION LIST
FHDFGOTO EQU   X'10'           BRANCH TO ANOTHER FD ENTRY
FHDFEXEC EQU   X'11'           PERFORM NEW FD RANGE              81131
FHDFBR   EQU   X'12'           BRANCH/TEST AFTER PRIOR TEST      81131
FHDFTM   EQU   X'13'           TM/BRANCH                         81131
FHDFCLI  EQU   X'14'           CLI/BRANCH                        81131
FHDFCLC  EQU   X'15'           CLC/BRANCH                        81131
FHDFMOD  EQU   X'18'           SET ADDRESS RESOLUTION MODE       92307
FHDFSPC  EQU   X'1E'           SPACE/ROOM/REPT SERVICE           82109
FHDFUEX  EQU   X'1F'           USER EXIT                         81193
FHDGOTO  DS    0SL2(0)       ADDRESS OF TARGET FD OF GO TO
FHDEDIT  DS    X             EDITING OPTIONS
FHDFNL   EQU   X'80'           POSITION TO NEW LINE
FHDFDEBL EQU   X'40'           STRIP LEADING BLANKS
FHDFDEBR EQU   X'20'           STRIP TRAILING BLANKS
FHDFDEBZ EQU   X'10'           STRIP LEADING ZEROES
FHDFPADL EQU   X'08'           LEFT BLANK OR SF
FHDFPADR EQU   X'04'           RIGHT BLANK OR SF
FHDFRADJ EQU   X'02'           RIGHT-ADJUST IN OUTPUT
FHDFUP   EQU   X'01'           UPPER CASE INPUT TRANSLATE
*        REDEFINITION FOR FDOPT                                  82109
*FHDFNL  EQU   X'80'           POSITION TO NEW LINE
FHDOWCCP EQU   X'40'         WCC OPTIONS PRESENT
FHDOSBAP EQU   X'20'         SBA PRESENT
FHDOCURP EQU   X'08'         CURSOR ADDRESS PRESENT
FHDOINDP EQU   X'04'           AUTO INDENT VALUE PRESENT         81270
FHDOPTP  EQU   X'02'         COLOR OR DISPLAY OPTIONS PRESENT
FHDOPCCP EQU   X'01'         PRT CARRIAGE CONTROL INSTEAD OF CURP
FHDOPT9  DS    X             3279 OPTIONS
FHDFCOLR EQU   X'70' 0DFLT,1BLUE,2RED,3PINK,4GREEN,5TURQ,6YELLOW,7WHITE
FHDFMONO EQU   X'08'         APPLY HIGH-LIGHT ON MONOCHROME ONLY 87313
FHDFUNDR EQU   X'04'           UNDERLINE
FHDFREV  EQU   X'02'           REVERSE
FHDFBLNK EQU   X'01'           BLINK
FHDOPT7  DS    X             3277/3278 OPTIONS
FHDFINT  EQU   X'08'           INTENSIFIED
FHDFLPEN EQU   X'04'           LIGHT-PEN DETECTABLE
FHDFNDSP EQU   X'0C'           NON-DISPLAY
FHDFNUM  EQU   X'10'           NUMERIC INPUT
FHDFSKIP EQU   X'30'           SKIP DISPLAY
FHDFPROT EQU   X'20'           PROTECTED
FHDFDFLT EQU   X'80'           DEFAULT OPTIONS/COLORS
FHDFPREV EQU   X'40'           PREVIOUS OPTIONS/COLORS
FHDFNULL EQU   X'02'           SUPPRESS X'00' IN INPUT FIELDS
FHDFMTD  EQU   X'01'           MODIFIED DATA TAG                 87313
FHDDATA  DS    0X            START OF LONG DATA
.*
FHDOWCC  DC    X'0'          WCC OPTIONS
FHDOSBA  DC    XL2'0'        SBA ADDRESS
FHDOCUR  DC    0XL2'0'       CURSOR ADDRESS
FHDOCC   DS    C             PRINTER CARRIAGE CONTROL            81201
FHDOIND  DS    AL1           AUTOMATIC LINE INDENT               81270
         SPACE 1                                                 81127
         ORG   FHDGOTO                                           81127
FHDBRE   DS    SL2           BRANCH EQUAL                        81127
FHDBRL   DS    SL2           BRANCH LOW/MIXED                    81127
FHDBRH   DS    SL2           BRANCH HIGH/ONES                    81127
FHDBVAR  DS    SL2           TEST VARIABLE                       81127
FHDBIDA  DS    0X              IMMEDIATE DATA FOR TEST           81127
FHDBLEN  DS    X               LENGTH FOR FDCLC                  81127
FHDBCLC  DS    SL2           COMPARE STRING                      81127
         SPACE 1                                                 81193
         ORG   FHDGOTO       DEFINITION FOR USER EXIT REQUEST    81193
FHDUXAD  DS    SL2           USER EXIT ADDRESS                   81193
FHDUXFPM DS    0X            USER SUPPLIED PARM INFO             81193
         ORG   ,                                                 81193
FHDXOK   EQU   0             RETURN CODES - NORMAL PROCESSING    81193
FHDXGOTO EQU   2               NEW FD ADDRESS IN R1              81193
FHDXCLR  EQU   4               CLEAR CURRENT LINE                81193
FHDXPRT  EQU   8               PRINT CURRENT LINE                81193
FHDXADD  EQU   FHDXCLR+FHDXPRT DATA ADDED TO LINE                81193
FHDXQUIT EQU   16              TERMINATE CURRENT PRTLIST         81193
.*
.*  PORTION DISTINCT FOR FDPRT
.*
FFDDSECT DSECT ,             SPECIAL SECTION FOR FDPRT/FD COMMON DATA
FFDDATA  DS    X             DATA TYPE
FFDDLIT  EQU   X'80'           FD CONTAINS LITERAL, NOT ADDRESS
FFDDCHAR EQU   1               EBCDIC, TRANSLATED
FFDDCON  EQU   2               EBCDIC WITH CONTROL CHARACTERS
FFDDASIS EQU   3               EBCDIC(?), NO TRANSLATE
FFDDADDR EQU   4               ADDRESS
FFDDHEX  EQU   5               HEXADECIMAL
FFDDSHEX EQU   6               HEXADECIMAL WITH EXPLICIT SIGN
FFDDBIT  EQU   7               BIT STRING
FFDDINT  EQU   8               INTEGER
FFDD$INT EQU   9               INTEGER.DD
FFDDDEC  EQU   10              PACKED DECIMAL
FFDD$DEC EQU   11              PACKED DECIMAL.DD
FFDDFIX  EQU   12              FLOATING POINT
FFDDTIME EQU   13              TIME (BIN 1/100 SECONDS)          81193
FFDDTIMD EQU   14              TIME (PACKED)                     81193
FFDDDATE EQU   15              DATE (PACKED; O/P MM/DD/YY)       81193
FFDDDATJ EQU   16              DATE (PACKED; O/P YY.DDD)         81193
FFDDFLAG EQU   64              FLAG/TABLE FORMATTING            GP06273
FFDOLEN  DS    AL1           OUTPUT LENGTH; 0 FOR DEFAULT; MAX FOR FDIN
FFDILEN  DS    AL1           CURRENT LENGTH OF ITEM
FFDTEXT  DS    0CL132        (FD/FDPRT) LITERAL TEXT
FFDSADD  DS    SL2           ADDRESS OF DATA ITEM
FFDIOFF  DS    AL2           FDIN - OFFSET TO FIW AREA           84237
FFDIXAD  DS    SL2           FDIN - USER EXIT ADDRESS            89095
         ORG   FFDIOFF         REDEFINE FOR FLAG PROCESSING     GP03287
FFDTBAD  DS    SL2           ADDRESS OF BIT EQUIVALENT TEXT     GP03287
FFDTSEP  DS    C             OUTPUT SEPARATOR CHARACTER OR 00   GP03287
FFDTSPC  DS    XL1           NUMBER OF SPACES BETWEEN ITEMS     GP03287
         ORG   ,                                                GP03287
         SPACE 1                                                 81193
FDUXPARM DSECT ,             MAPPING OF R1 LIST SUPPLIED TO EXIT 81193
FDUXFD   DS    A               ADDRESS OF CURRENT FD             81193
FDUXPWRK DS    A               ADDRESS OF PRINTER WORK AREA      81193
FDUXSAVE DS    A               ADDRESS OF ORIGINAL SAVE AREA     81193
FDUXPRT  DS    A               ADDRESS OF CURRENT PRINT LINE     81193
         DS    A                 RESERVED                        81193
.MEND    MEND  ,

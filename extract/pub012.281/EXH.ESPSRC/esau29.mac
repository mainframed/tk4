IEFU29   TITLE 'I E F U 2 9  ***  SMF SWITCH EXIT'
         COPY  OPTIONGB      GET GLOBAL OPTIONS
         SPACE 1
         SYSPARM LIST=YES    DISPLAY OPTIONS
         EJECT ,
         LCLC  &PROC         NAME OF DUMP PROGRAM
&PROC    SETC  'SMFDUMPX'    SPECIFIC DUMP (SMFDUMP DOES ALL)
*        NO TRAILING BLANK IF PROC HAS DSN PARAMETER (N=)
*
         PRINT &PRTSOR
IEFU29   PGMHEAD ZERO12,BASE=R12,PARM=R9,AM=31,RM=31             88060
         ICM   R8,15,0(R9)   LOAD AND TEST ADDRESS
         USING EXITPARM,R8   DECLARE IT
         MVC   COMMAND,CMDPAT  MOVE START COMMAND
         MVC   COMMAND+DSOFF-CMDPAT(L'DSOFF),SMFDS   COPY DSNAME
         SLR   R0,R0                   CLEAR REG ZERO FOR SVC 34
         MGCR  COMMAND       ISSUE START COMMAND
         SPACE 1
MSGPRT   EQU   0             PRINT IEE362X OPER. MSG
MSGSUP   EQU   4             SUPPRESS CONSOLE MESSAGE
GOAWAY   LA    R9,MSGPRT     LOAD THE RETURN CODE
         PGMEXIT RC=(R9)     RETURN TO CALLER                   GP04044
         EJECT ,
CMDPAT   DC    Y(CMDPATND-*,0)  RDW
         DC    C'S &PROC,SUB=JES2,N='
DSOFF    DC    CL44' ',C' '  FULL DATA SET NAME
CMDPATND EQU   *
         SPACE 1
SAVE     DSECT ,             SAVE AND WORK AREA
COMMAND  DS    XL(CMDPATND-CMDPAT)
SAVEEND  EQU   *             END OF WORK
         SPACE 1
EXITPARM DSECT ,             PARAMETER AREA
SMFDS    DS    CL44          SMF DATA SET NAME
         SPACE 1
         PRINT &PRTSYS
         IHAASCB ,
         IHAASVT ,
         CVT   DSECT=YES
         END   ,

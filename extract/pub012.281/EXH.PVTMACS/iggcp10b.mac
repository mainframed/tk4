         MACRO
         IGGCP10B &OPTCD=
.*          RELEASE 23 DELETIONS/CHANGES
.*          RELEASE 22 DELETIONS/CHANGES
.*          RELEASE 21 DELETIONS/CHANGES
* CP10B  WRITES EOF MARK
CB52     CCW   SIDEQ,0,CC,5              SEARCH FOR LAST DATA REC
CB53     CCW   TIC,CB52-CB1,0,0
         AIF   ('&OPTCD' NE 'W').SWC
CB54     CCW   WCKD,CB55-CB1,CC,8       WRITE EOF MARK
         AGO   .TWC
.SWC     ANOP
CB54      CCW   WCKD,CB55-CB1,0,8       WRITE EOF MARK
.TWC     ANOP
SZ10B    EQU   (CB54+8-CB52)+8       SIZE OF COMMON
         AIF   ('&OPTCD' NE 'W').CCHH
* 10BW   WRITE VALIDITY CHECK
CB540    CCW   NOP,0,CC+SILI,1
CB54A    CCW   SIDEQ,0,CC,5              SEARCH FOR EOF MARK
CB54B    CCW   TIC,CB54A-CB1,0,0
CB54C    CCW   RCKD,0,SKIP,8            READ IT BACK
LCB54C   EQU   CB54C+8-CB540
SZ10BW   EQU   LCB54C+SZ10B
.CCHH    ANOP
CB55     DC    2F'00'                   C C H R R 0 0 0
         MEND

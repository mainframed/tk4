         MACRO
&NAME    IOSCTRS &AREA=,&LCH=
.*    COPYRIGHT =
.*       5740-XYN COPYRIGHT IBM CORP 1977, 1980;               @G81LPLR
.*       LICENSED MATERIAL-PROGRAM; PROPERTY OF IBM;
.*       REFER TO COPYRIGHT INSTRUCTIONS FORM NUMBER
.*       G120-2083.
         LCLC  &A,&L
.*             'AREA' AND 'LCH' KEYWORDS REQUIRED - MAY BE
.*             SYMBOLS OR REGISTERS
         AIF   (T'&LCH EQ 'O' OR T'&AREA EQ 'O').ERR1
         AIF   ('&LCH'(1,1) EQ '(').REGLCH   IF REGISTER, BRANCH
&L       SETC  '&LCH'.'+22'                  DISPL. TO COUNTERS
         AGO   .CKAREA
.REGLCH  ANOP
&L       SETC  '22'.'&LCH'                   DISPL. TO COUNTERS
.CKAREA  AIF   ('&AREA'(1,1) EQ '(').REGAREA IF REGISTER, BRANCH
&A       SETC  '&AREA'.'(10)'                ADD BYTE COUNT
         AGO   .GENCODE
.REGAREA ANOP
&A       SETC  '0(10,'.'&AREA(1)'.')'        ADD BYTE COUNT
.GENCODE ANOP
&NAME    MVC   &A,&L     MOVE LCH COUNTERS
         MEXIT
.ERR1    AIF   (T'&LCH NE 'O').ERR2
         IHBERMAC 1006,LCH
.ERR2    AIF   (T'&AREA NE 'O').OUT
         IHBERMAC 1006,AREA
.OUT     MEND

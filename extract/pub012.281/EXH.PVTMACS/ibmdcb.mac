         MACRO
&LBL     IBMDCB &DSORG=PS,&DEVD=(DA,TA),&PFX=DCB,&SECT=DSECT    \
.*  THIS IS A COPY OF DCBD, WITH THE DSECT MADE OPTIONAL, AND THE
.*  'DCB' PORTION OF EACH NAME MADE A PFX VARIABLE
         GBLB  &ONESW
         LCLC  &NM,&P                                           \
         LCLA  &A0            FOR DSORG= AND DEVD= ANALYSIS LOOPS
         LCLB  &DSORGIS       SET BY DSORG=IS - ISAM
         LCLB  &DSORGBX       SET BY DSORG=BX OR CX - BTAM
         LCLB  &DSORGDA       SET BY DSORG=DA - BDAM
         LCLB  &DSORGQX       SET BY DSORG=QX OR CX - QTAM
         LCLB  &DSORGXA       SET BY DSORG=XA - EXCP WITH APPENDAGES
         LCLB  &DSORGQS       SET BY DSORG=QS OR PS - QSAM
         LCLB  &DSORGBS       SET BY DSORG=BS OR PS OR PO - BSAM,BPAM
         LCLB  &DSORGXE       SET BY DSORG=XE - EXCP WITH EXTENSION
         LCLB  &DSORGLR       SET BY DSORG=LR - DCBLRECL FIELD ONLY
         LCLB  &DSORGGS       SET BY DSORG=GS - GAM
         LCLB  &DSORGTX       SET BY DSORG=TX - TCAM LINE GROUP
         LCLB  &DSORGTQ       SET BY DSORG=TQ - TCAM MESSAGE QUEUE
         LCLB  &DSORGTR       SET BY DSORG=TR 3705 LINE GROUP    S22024
         LCLB  &DEVDDA        DIRECT ACCESS
         LCLB  &DEVDTA        MAGNETIC TAPE
         LCLB  &DEVDPT        PAPER TAPE
         LCLB  &DEVDRD        READER OR PUNCH, DEVD=RD OR PC
         LCLB  &DEVDPR        PRINTER
         LCLB  &DEVDBS        BINARY SYNCHRONOUS
         LCLB  &DEVDWT        WORLD TRADE TELEGRAPH
         LCLB  &DEVDMR        MAGNETIC CARD READER
         LCLB  &DEVDOR        OPTICAL READER
         LCLC  &C0            SET TO EACH VALUE OF DSORG AND DEVD
&NM      SETC  'IHADCB'                                         \
         AIF   ('&LBL' EQ '').DEFLBL                            \
&NM      SETC  '&LBL'                                           \
.DEFLBL  ANOP  ,                                                \
&P       SETC  '&PFX'                                           \
.*
.*  THIS MACRO DEFINES THE FIELDS AND BITS WITHIN A DCB, WHICH IS
.*  EXPANDED BY THE DCB MACRO INSTRUCTION. CHANGES TO THIS MACRO
.*  SHOULD ALSO BE MADE TO THE IHADCB MACRO, WHICH IS WRITTEN IN PLS.
.*
         AIF   (NOT &ONESW).SETSW  TEST PREVIOUS USE OF THIS MACRO
         IHBERMAC 172
         MEXIT
.SETSW   ANOP
&ONESW   SETB  1
.*
.*                  ANALYZE DSORG OPERAND
.*
&A0      SETA  N'&DSORG       SET NUMBER OF DSORG FLEMENTS
.A1      AIF   (&A0 LE 0).D0  IF ZERO, LOOP FINISHED
&C0      SETC  '&DSORG(&A0)'  SET TO A DSORG ELEMENT
.*
.*                  TEST FOR VALID DSORG ELEMENT
.*
         AIF   ('&C0' EQ 'IS' OR '&C0' EQ 'PS' OR '&C0' EQ 'BS' OR     *
               '&C0' EQ 'QS' OR '&C0' EQ 'DA' OR '&C0' EQ 'CX' OR      *
               '&C0' EQ 'LR').A2                               @ZA02213
         AIF   ('&C0' EQ 'XE' OR '&C0' EQ 'XA' OR '&C0' EQ 'PO' OR     *
               '&C0' EQ 'BX' OR '&C0' EQ 'QX' OR '&C0' EQ 'GS' OR      *
               '&C0' EQ 'TX' OR '&C0' EQ 'TQ' OR '&C0' EQ '').A2
         AIF   ('&C0' EQ 'TR').A2                                S22024
         IHBERMAC 156,DSORG,&C0
         AGO   .AA
.*
.*                  SET VARIABLES FOR DSORG
.*
.A2      ANOP
&DSORGIS SETB  (&DSORGIS OR '&C0' EQ 'IS')
&DSORGBX SETB  (&DSORGBX OR '&C0' EQ 'BX' OR '&C0' EQ 'CX')
&DSORGDA SETB  (&DSORGDA OR '&C0' EQ 'DA')
&DSORGQX SETB  (&DSORGQX OR '&C0' EQ 'QX' OR '&C0' EQ 'CX')
&DSORGXA SETB  (&DSORGXA OR '&C0' EQ 'XA')
&DSORGQS SETB  (&DSORGQS OR '&C0' EQ 'QS' OR '&C0' EQ 'PS')
&DSORGBS SETB  (&DSORGBS OR '&C0' EQ 'BS' OR '&C0' EQ 'PS' OR '&C0' EQ *
               'PO')
&DSORGXE SETB  (&DSORGXE OR '&C0' EQ 'XE')
&DSORGLR SETB  (&DSORGLR OR '&C0' EQ 'LR')
&DSORGGS SETB  (&DSORGGS OR '&C0' EQ 'GS')
&DSORGTX SETB  (&DSORGTX OR '&C0' EQ 'TX')
&DSORGTQ SETB  (&DSORGTQ OR '&C0' EQ 'TQ')
&DSORGTR SETB  (&DSORGTR OR '&C0' EQ 'TR')                       S22024
.AA      ANOP
&A0      SETA  &A0-1          DECREMENT ELEMENT COUNTER
         AGO   .A1            TO DO NEW LOOP
.*
.*                  TEST FOR ANY VALID DSORG OPERAND
.*
.D0      AIF   (&DSORGIS OR &DSORGBX OR &DSORGDA OR &DSORGQX OR        *
               &DSORGXA OR &DSORGQS OR &DSORGBS OR &DSORGXE OR         *
               &DSORGLR OR &DSORGGS).D0A                       @ZA02213
         AIF   (&DSORGTX OR &DSORGTQ OR &DSORGTR).D0A            S22024
         IHBERMAC 173
.D0A     AIF   (T'&DEVD NE 'O').D1      BRANCH IF DEVD CODED       1318
         AIF   (&DSORGGS).B1
         AIF   (NOT (&DSORGQS OR &DSORGBS OR &DSORGXE)).B1
.*
.*                  SET DEVD DEFAULTS
.*
&DEVDDA  SETB  1
&DEVDTA  SETB  ('&DSORG' NE '(PO)')
&DEVDPT  SETB  ('&DSORG' NE '(PO)')
&DEVDPR  SETB  ('&DSORG' NE '(PO)')
&DEVDRD  SETB  ('&DSORG' NE '(PO)')
&DEVDMR  SETB  ('&DSORG' NE '(PO)')
&DEVDOR  SETB  ('&DSORG' NE '(PO)')
         AIF   ('&DSORG' EQ '(PO)').D1
         IHBERMAC 174
         AGO   .B1
.D1      ANOP
.*
.*                  ANALYZE DEVD OPERAND
.*
&A0      SETA  N'&DEVD        SET ELEMENT COUNT
.D2      AIF   (&A0 LE 0).B1  IF ZERO, LOOP FINISHED
&C0      SETC  '&DEVD(&A0)'   SET TO A DEVD ELEMENT
.*
.*                  TEST FOR VALID DEVD ELEMENT
.*
         AIF   ('&C0' EQ 'DA' OR '&C0' EQ 'TA' OR '&C0' EQ 'PT' OR     *
               '&C0' EQ 'PR' OR '&C0' EQ 'RD' OR '&C0' EQ 'PC' OR      *
               '&C0' EQ 'BS' OR '&C0' EQ 'WT').D3
         AIF   ('&C0' EQ 'MR' OR '&C0' EQ 'OR').D3
         AIF   ('&C0' EQ '').D4
         IHBERMAC 157,DEVD,&C0
         AGO   .D4            TO DO NEW LOOP
.*
.*                  SET VARIABLES FOR DEVD
.*
.D3      ANOP
&DSORGXE SETB  (&DSORGXE OR T'&DSORG EQ 'O') FORCE EXCP EXTENDED
&DEVDDA  SETB  (&DEVDDA OR '&C0' EQ 'DA')    DIRECT ACCESS DEVICE
&DEVDTA  SETB  (&DEVDTA OR '&C0' EQ 'TA')    MAGNETIC TAPE DEVICE
&DEVDPT  SETB  (&DEVDPT OR '&C0' EQ 'PT')    PAPER TAPE DEVICE
&DEVDPR  SETB  (&DEVDPR OR '&C0' EQ 'PR')    PRINTER
&DEVDRD  SETB  (&DEVDRD OR '&C0' EQ 'RD' OR '&C0' EQ 'PC') READER,PUNCH
&DEVDBS  SETB  (&DEVDBS OR '&C0' EQ 'BS')    BINARY SYNCHRONOUS COMM.
&DEVDWT  SETB  (&DEVDWT OR '&C0' EQ 'WT')    WORLD TRADE TELEGRAPH
&DEVDMR  SETB  (&DEVDMR OR '&C0' EQ 'MR')    MAGNETIC CHAR READER
&DEVDOR  SETB  (&DEVDOR OR '&C0' EQ 'OR')    OPTICAL READER
.D4      ANOP
&A0      SETA  &A0-1          DECREMENT ELEMENT COUNTER
         AGO   .D2            TO DO NEW LOOP
.*
.B1      AIF   (NOT &DSORGLR).B1A       BR IF NOT LRECL ONLY    YA03395
         AIF   (&DSORGIS OR &DSORGQS OR &DSORGBS OR &DSORGDA OR        X
               &DSORGBX OR &DSORGQX).B1A  BR COMMNT            @ZA02213
         AIF   (NOT(&DSORGTX OR &DSORGTQ OR &DSORGTR OR &DSORGXA OR    X
               &DSORGXE OR &DSORGGS)).BA  SKIP COMM            @ZA02213
.B1A     SPACE 2                                                YA03395
*                       DCB SYMBOLIC DEFINITION FOR
         AIF   (NOT &DSORGIS).B2
*                       INDEXED SEQUENTIAL
.B2      AIF   (NOT (&DSORGQS AND &DSORGBS)).B2A
*                       PHYSICAL SEQUENTIAL
         AGO   .B3
.B2A     AIF   (NOT &DSORGQS).B2B
*                       QSAM
.B2B     AIF   (NOT &DSORGBS).B3
*                       BSAM-BPAM
.B3      AIF   (NOT &DSORGDA).B4
*                       DIRECT ACCESS
.B4      AIF   (NOT (&DSORGBX AND &DSORGQX)).B4A
*                       COMMUNICATIONS LINE GROUP
         AGO   .B5
.B4A     AIF   (NOT &DSORGBX).B4B
*                       BTAM LINE GROUP
.B4B     AIF   (NOT &DSORGQX).B5
*                       QTAM LINE GROUP
.B5      AIF   (NOT &DSORGTX).B6B
*                       TCAM LINE GROUP
.B6B     AIF   (NOT &DSORGTQ).B6C                                S22024
*                       TCAM MESSAGE QUEUE
.B6C     AIF   (NOT &DSORGTR).B7                                 S22024
*                       3705 LINE GROUP
.B7      AIF   (NOT (&DSORGXA AND &DSORGXE)).B8
*                       EXCP WITH EXTENSION AND APPENDAGES
         AGO   .BA
.B8      AIF   (NOT &DSORGXE).B9
*                       EXCP WITH EXTENSION
         AGO   .BA
.B9      AIF   (NOT &DSORGXA).B0
*                       EXCP WITH APPENDAGES
         AGO   .BA
.B0      AIF   (NOT &DSORGGS).B00
*                       GRAPHICS WITH APPENDAGES
         AGO   .BA
.B00     AIF   (&DSORGIS OR &DSORGBX OR &DSORGDA OR &DSORGQX OR        *
               &DSORGQS OR &DSORGBS OR &DSORGTX OR &DSORGTQ OR         *
               &DSORGLR OR &DSORGTR).BA                        @ZA02213
*                       EXCP WITH EXTENSION
&DSORGXE SETB  1
.BA      SPACE 2                                               @ZA05613
         AIF   ('&SECT' EQ 'DSECT').DODSEC                     \
         AIF   ('&SECT' EQ 'CSECT').DOCSEC                     \
&NM      DS    0D                                              \
         AGO   .DONESEC                                        \
.DOCSEC  ANOP  ,                                               \
&NM      CSECT , -            DCBPTR                           \
         AGO   .DONESEC                                        \
.DODSEC  ANOP  ,                                               \
&NM      DSECT , -            DCBPTR                           \
.DONESEC SPACE 2                                               @ZA05613
***********************************************************************
*  OS/VS2 RELEASE 02, 02/14/73                                        *
*  OS/VS2 RELEASE 03, 10/23/74                                        *
*  OS/VS2 RELEASE 3.7, 3/15/78                                        *
*C80400037                                                     @ZA33630
*                                                                     *
*  OS/VS2 RELEASE 3.8, 5/15/80    FMID=FDM1133                        *
*                                                                     *
*C(116500),A(116638-116914),D(117000),A(117052-117466)         @ZA46311
*D(117500),A(117604-117880),D(118000),A(118018-118432)         @ZA46311
*D(118500-118510),A(118570-118846)                             @ZA46311
*$F01=UZ59799,FDM1133:DCBDEVT DEFINITION FOR D/T3375 AND D/T3380  @F01A
*                                                                     *
***********************************************************************
         SPACE 1                                               @ZA05613
.*                                                             @ZA05613
&P.BIT0  EQU   128                                             @ZA05613
&P.BIT1  EQU   64                                              @ZA05613
&P.BIT2  EQU   32                                              @ZA05613
&P.BIT3  EQU   16                                              @ZA05613
&P.BIT4  EQU   8                                               @ZA05613
&P.BIT5  EQU   4                                               @ZA05613
&P.BIT6  EQU   2                                               @ZA05613
&P.BIT7  EQU   1                                               @ZA05613
         SPACE 1                                               @ZA05613
***********************************************************************
         SPACE 2
         AIF   (&DSORGGS).SLIP
.*                                                              ZA00013
         AIF   (NOT (&DEVDDA OR &DEVDTA OR &DEVDPT OR &DEVDPR OR       *
               &DEVDRD OR &DEVDWT OR &DEVDOR OR &DEVDMR)).C4
***********************************************************************
*                       DEVICE INTERFACES
***********************************************************************
         SPACE 1
         AIF   (NOT &DEVDDA).C1
***********************************************************************
*                       DIRECT ACCESS DEVICES
***********************************************************************
         SPACE 1
&P.RELAD DS    CL4 -          PARTITIONED ORGANIZATION DATA SET -
*                             ADDRESS (IN THE FORM TTRN) OF MEMBER
*                             CURRENTLY USED.  ---
*                             SYS1.LOGREC DATA SET - IF CCH OPTION HAS
*                             BEEN SPECIFIED IN SYSGEN PROCESS, ADDRESS
*                             OF A 12-BYTE PARAMETER IN THE EXPANSION
*                             OF MACRO INSTRUCTION IGFCATAP
&P.KEYCN DS    FL1 -          KEYED BLOCK OVERHEAD CONSTANT
&P.FDAD  DS    CL8 -          FULL DISK ADDRESS IN THE FORM OF MBBCCHHR
*                             OF RECORD THAT WAS JUST READ OR WRITTEN
         SPACE 1
         ORG   &P.FDAD+7
&P.DVTBL DS    0A -           SAME AS DCBDVTBA BELOW
         DS    X -            LAST BYTE OF DCBFDAD
&P.DVTBA DS    AL3 -          ADDRESS OF ENTRY IN I/O DEVICE
*                             CHARACTERISTICS TABLE FOR DEVICE BEING
*                             USED
         DS    FL1 -          DCBKEYLE - KEY LENGTH OF DATA SET
         DS    C -            DCBDEVT - DEVICE TYPE
*   FOR MASKS FOR ISAM DIRECT ACCESS, SEE DCBOVDEV IN ISAM SECTION
&P.DV311 EQU   X'21' -        2311 DISK STORAGE                @ZA46311
&P.DV301 EQU   X'22' -        2301 PARALLEL DRUM
&P.DV303 EQU   X'23' -        2303 SERIAL DRUM
&P.DV302 EQU   X'24' -        2302 DISK STORAGE
&P.DV321 EQU   X'25' -        2321 DATA CELL STORAGE           @ZA46311
&P.D1305 EQU   X'26' -        2305 DRUM MODEL-1                @ZA46311
&P.DV305 EQU   X'27' -        2305 DRUM MODEL-2                @ZA46311
&P.DV314 EQU   X'28' -        2314/2319 DISK STORAGE FACILITY  @ZA46311
&P.DV330 EQU   X'29' -        3330 DISK STORAGE FACILITY       @ZA46311
*                             3330 MODEL-1                     @ZA46311
*                             3330 MODEL-2                     @ZA46311
*                             3333 MODEL-1                     @ZA46311
&P.DV340 EQU   X'2A' -        3340/3344 DISK STORAGE FACILITY  @ZA46311
&P.DV350 EQU   X'2B' -        3350 DISK STORAGE FACILITY       @ZA46311
*                             MODELS A2, B2, AND C2            @ZA46311
&P.DV375 EQU   X'2C' -        3375 DISK STORAGE FACILITY          @F01A
&P.DV331 EQU   X'2D' -        3330 MODEL-11 OR 3333 MODEL-11   @ZA46311
*                             DISK STORAGE FACILITY            @ZA46311
&P.DV380 EQU   X'2E' -        3380 DISK STORAGE FACILITY          @F01A
         SPACE 1
&P.TRBAL DS    H -            TRACK BALANCE.  NUMBER OF BYTES REMAINING
*                             ON CURRENT TRACK AFTER A WRITE OPERATION
*                             (THIS QUANTITY MAY BE NEGATIVE IF THERE
*                             ARE NO BYTES REMAINING ON TRACK).
         SPACE 1
.C1      AIF   (NOT &DEVDTA).C2
***********************************************************************
*                       MAGNETIC TAPE
***********************************************************************
         SPACE 1
         ORG   &NM
         DS    CL12 -         RESERVED FOR I/O SUPERVISOR
&P.BLKCT DS    F -            BLOCK COUNT FOR EACH VOLUME
&P.TRTCH DS    C -            TAPE RECORDING TECHNIQUE FOR 7-TRACK TAPE
&P.MTE   EQU   X'23' -        E  - EVEN PARITY
&P.MTT   EQU   X'3B' -        T  - BCD/EBCDIC TRANSLATION
&P.MTC   EQU   X'13' -        C  - DATA CONVERSION
&P.MTET  EQU   X'2B' -        ET - EVEN PARITY AND TRANSLATION
         DS    C -            DCBDEVT - DEVICE TYPE
&P.DVMT  EQU   X'81' -        2400 SERIES MAGNETIC TAPE UNIT (7-TRACK
*                             OR 9-TRACK)
&P.DVMT3 EQU   X'83' -        3400 SERIES MAGNETIC TAPE UNIT
&P.DEN   DS    C -            TAPE DENSITY - 2400 SERIES MAGNETIC TAPE
*                             UNITS
*                             CODE    7-TRACK     9-TRACK
&P.MTDN0 EQU   X'03' -         0       200 BPI       -
&P.MTDN1 EQU   X'43' -         1       556 BPI       -
&P.MTDN2 EQU   X'83' -         2       800 BPI     800 BPI
&P.MTDN3 EQU   X'C3' -         3         -        1600 BPI
&P.MTDN4 EQU   X'D3' -         4         -        6250 BPI
         DS    X -            RESERVED
         SPACE 1
.C2      AIF   (NOT &DEVDPT).C3
***********************************************************************
*                       PAPER TAPE
***********************************************************************
         SPACE 1
         ORG   &NM+8
&P.LCTBL DS    A -            ADDRESS OF TRANSLATE TABLE
         DS    XL4 -          RESERVED
&P.CODE  DS    C -            PAPER TAPE CODE BEING USED.  THE
*                             APPROPRIATE TRANSLATE TABLE IS MADE
*                             AVAILABLE
&P.PTCDN EQU   X'80' -        N - NO CONVERSION
&P.PTCDI EQU   X'40' -        I - IBM BCD
&P.PTCDF EQU   X'20' -        F - FRIDEN
&P.PTCDB EQU   X'10' -        B - BURROUGHS
&P.PTCDC EQU   X'08' -        C - NATIONAL CASH REGISTER
&P.PTCDA EQU   X'04' -        A - ASCII (8-TRACK)
&P.PTCDT EQU   X'02' -        T - TELETYPE
         DS    C -            DCBDEVT - DEVICE TYPE
&P.DVPTP EQU   X'50' -        2671 PAPER TAPE READER
         DS    X -            RESERVED
&P.PTFLG DS    BL1 -          PAPER TAPE FLAGS
&P.PTIC  EQU   &P.BIT3 -      INVALID CHARACTER IN LAST RECORD READ
&P.PTECT EQU   &P.BIT4 -      END OF RECORD CHARACTER REACHED IN
*                             TRANSLATION
&P.PTECR EQU   &P.BIT5 -      END OF RECORD CHARACTER DETECTED DURING
*                             READ
&P.PTUCT EQU   &P.BIT6 -      IF ONE, UPPER CASE TRANSLATE.
*                             IF ZERO, LOWER CASE TRANSLATE
&P.PTERR EQU   &P.BIT7 -      ERROR DETECTED ON READ
         SPACE 1
.C3      AIF   (NOT &DEVDPR).C3A
***********************************************************************
*                       PRINTER
***********************************************************************
         SPACE 1
         ORG   &NM+16
&P.PRTSP DS    C -            NUMBER INDICATING NORMAL PRINTER SPACING
&P.PRSP0 EQU   X'01' -        0 - NO SPACING
&P.PRSP1 EQU   X'09' -        1 - SPACE ONE LINE
&P.PRSP2 EQU   X'11' -        2 - SPACE TWO LINES
&P.PRSP3 EQU   X'19' -        3 - SPACE THREE LINES
         DS    C -            DCBDEVT - DEVICE TYPE
&P.DVPR1 EQU   X'48' -        1403 PRINTER AND 1404 PRINTER (CONTINUOUS
*                             FORM SUPPORT ONLY)
&P.DVPR2 EQU   X'4A' -        1443 PRINTER
&P.DVPR3 EQU   X'49' -        3211 PRINTER
&P.DVPR4 EQU   X'4B' -        3203-4 PRINTER                   @32034AP
&P.DVPR5 EQU   X'4E'          3800 PRINTER                     @Z40MSRZ
&P.PRTOV DS    C -            TEST-FOR-PRINTER-OVERFLOW MASK
*                             (PRTOV MASK)
&P.PRC9  EQU   X'20' -        9  - TEST FOR CHANNEL 9 OVERFLOW
&P.PRC12 EQU   X'10' -        12 - TEST FOR CHANNEL 12 OVERFLOW
*
&P.PRBYT DS    C             PRINTER BYTE                      @Z40MSRZ
&P.TRCID EQU   &P.BIT6+&P.BIT7   2-BIT ID OF 3800 TRANSLATE    @Z40MSRZ
*                                TABLE ACTIVE/LAST SELECTED    @Z40MSRZ
         DS    X -            RESERVED
         SPACE 1
.C3A     AIF   (NOT &DEVDRD).C3B
***********************************************************************
*                       CARD READER, CARD PUNCH
***********************************************************************
         SPACE 1
         ORG   &NM+16
&P.MODE  DS    0B -           MODE OF OPERATION FOR 1442 CARD READ
*                             PUNCH (BITS 0-3)
&P.STACK DS    B -            STACKER SELECTION (BITS 4-7)
&P.MODEC EQU   &P.BIT0 -      COLUMN BINARY MODE
&P.MODEE EQU   &P.BIT1 -      EBCDIC MODE
&P.MODEO EQU   &P.BIT2 -      OPTICAL MARK READ MODE
&P.MODER EQU   &P.BIT3 -      READ COLUMN ELIMINATE MODE
&P.STCK2 EQU   &P.BIT6 -      STACKER 2
&P.STCK1 EQU   &P.BIT7 -      STACKER 1
         DS    C -            DCBDEVT - DEVICE TYPE
&P.DVCR0 EQU   X'41' -        2540 CARD READER
&P.DVCP0 EQU   X'42' -        2540 CARD PUNCH
&P.DVCRP EQU   X'43' -        1442 CARD READ PUNCH
&P.DVCR1 EQU   X'44' -        2501 CARD READER
&P.DVCPR EQU   X'45' -        2520 CARD READ PUNCH
&P.DVCR2 EQU   X'46' -        3505 CARD READER
&P.DVCP1 EQU   X'4C' -        3525 CARD PUNCH
         DS    X -            RESERVED
&P.FUNC  DS    B -            FUNCTION INDICATOR FOR THE 3525
&P.FNCBI EQU   &P.BIT0 -      INTERPRET (PUNCH AND PRINT TWO LINES)
&P.FNCBR EQU   &P.BIT1 -      READ
&P.FNCBP EQU   &P.BIT2 -      PUNCH
&P.FNCBW EQU   &P.BIT3 -      PRINT
&P.FNCBD EQU   &P.BIT4 -      DATA PROTECTION
&P.FNCBX EQU   &P.BIT5 -      THIS DATA SET IS TO BE PRINTED
&P.FNCBT EQU   &P.BIT6 -      TWO-LINE PRINT SUPPORT REQUEST
         SPACE 1
.C3B     AIF   (NOT &DEVDWT).C3C
***********************************************************************
*                       WORLD TRADE TELEGRAPH
***********************************************************************
         SPACE 1
         ORG   &NM+16
&P.BQFLG DS    BL1 -          WTTA FLAG BYTE
&P.BQWRU EQU   &P.BIT1 -      WRU FEATURE IS TO BE USED
&P.BQIAM EQU   &P.BIT2 -      IAM FEATURE IS TO BE USED
&P.BQWRS EQU   &P.BIT3 -      WRU FEATURE TO BE USED IN SEND HEADER
*                             SUBGROUP
&P.BQWRE EQU   &P.BIT4 -      WRU FEATURE TO BE USED IN END SEND
*                             SUBGROUP
&P.WTEOM DS    C -            EOM CHARACTER
&P.WTEOT DS    C -            EOT CHARACTER
&P.WTPAD DS    FL1 -          NUMBER OF PAD (LTRS) CHARACTERS REQUIRED
*                             FOR MOTOR-ON DELAY
         SPACE 1
.C3C     AIF   (NOT (&DEVDOR OR &DEVDMR)).C4
***********************************************************************
*                       OPTICAL READER AND MAGNETIC CHAR READER
***********************************************************************
         SPACE 1
         ORG   &NM
&P.WTOID DS    0A -           SAME AS DCBWTOIA BELOW
         DS    X -            RESERVED
&P.WTOIA DS    AL3 -          A BINARY IDENTIFICATION NUMBER ASSIGNED
*                             BY COMMUNICATIONS TASK TO MESSAGE ISSUED
*                             BY WTO MACRO.  THIS NUMBER IS USED BY THE
*                             DOM MACRO WHEN MESSAGE IS NO LONGER
*                             REQUIRED (MCS SUPPORT).  ---
*                             FOR MAGNETIC CHAR READER - AFTER FIRST
*                             READ HAS BEEN ISSUED, CONTAINS ADDRESS OF
*                             MAGNETIC INTERRUPT CONTROL BLOCK (MICB)
*                             BEING USED BY THE APPENDAGES.
         SPACE 1
         AIF   (NOT &DEVDOR).C3D
***********************************************************************
*                       OPTICAL READER DEVICES
*                       1285, 1287, 1288, 3886
***********************************************************************
         SPACE 1
         ORG   &P.WTOID+4
&P.ERRCN DS    0A -           SAME AS DCBERRCA BELOW
         DS    X -            RESERVED
&P.ERRCA DS    AL3 -          ADDRESS OF 32 BYTES OF DECLARED STORAGE
*                             SPECIFIED BY THE USER IN HIS PROGRAM.
*                             THIS STORAGE WILL BE USED BY THE
*                             PROGRAMMING SUPPORT AS EIGHT 4-BYTE
*                             COUNTERS IN WHICH TOTALS OF CERTAIN 1285,
*                             1287 AND 1288 ERROR CONDITIONS ARE
*                             ACCUMULATED.
         ORG   &P.WTOID+4
&P.LNNUM DS    X -            3886  DOCUMENT LINE NUMBER
&P.LFMAT DS    X -            3886  LINE FORMAT NUMBER
&P.ORFLG DS    X -            3886  FLAGS
&P.EOPFG EQU   &P.BIT0 -      END OF PAGE
         DS    X -            RESERVED
&P.DSPLY DS    0A -           SAME AS DCBDSPLA BELOW
&P.FRID  DS    0CL4 -         3886  FORMAT RECORD ID
         DS    X -            RESERVED
&P.DSPLA DS    AL3 -          ADDRESS OF DSPLY (BSAM) ROUTINE USED FOR
*                             KEYBOARD ENTRY OF A COMPLETE FIELD
&P.RESCN DS    0A -           SAME AS DCBRESCA BELOW
&P.RDLNE DS    0A -           SAME AS DCBRDLNA BELOW
&P.FRTBA DS    0A -           3886  FORMAT RECORD TABLE
         DS    X -            RESERVED
&P.RESCA DS    0AL3 -         ADDRESS OF RESCN (BSAM) ROUTINE USED TO
*                             FORCE ON-LINE CORRECTION OF UNREADABLE
*                             CHARACTERS
&P.RDLNA DS    AL3 -          ADDRESS OF RDLNE (QSAM) ROUTINE USED TO
*                             FORCE ON-LINE CORRECTION OF UNREADABLE
*                             CHARACTERS
&P.ORBYT DS    BL1 -          OPTICAL READER BYTE USED BY BSAM/QSAM
&P.ORSYN EQU   &P.BIT0 -      SYNAD IN CONTROL
&P.OREOF EQU   &P.BIT1 -      END OF FILE (EOF)
&P.ORBFP EQU   &P.BIT2 -      BUFFERS PRIMED (QSAM)
         DS    C -            DCBDEVT - DEVICE TYPE
&P.DVOR5 EQU   X'5A' -        1285 OPTICAL READER
&P.DVOR7 EQU   X'5B' -        1287 OPTICAL READER
&P.DVOR8 EQU   X'5C' -        1288 OPTICAL READER
&P.DVOR9 EQU   X'57' -        3886 OPTICAL READER
&P.EIB   DS    BL1 -          ERROR INDICATOR BYTE
&P.ORNRM EQU   &P.BIT1 -      THE 1287 OR 1288 SCANNER WAS UNABLE TO
*                             LOCATE THE REFERENCE MARK
&P.ORREJ EQU   &P.BIT2 -      FOR 1287, A STACKER SELECT COMMAND WAS
*                             GIVEN AFTER ALLOTTED TIME HAD ELAPSED AND
*                             THE DOCUMENT HAS BEEN PUT IN REJECT
*                             POCKET.  FOR 1288 UNFORMATTED ONLY,
*                             END-OF-PAGE HAS OCCURRED.
&P.ORERR EQU   &P.BIT3 -      A NONRECOVERABLE ERROR HAS OCCURRED.
&P.ORECK EQU   &P.BIT4 -      AN EQUIPMENT CHECK RESULTED IN AN
*                             INCOMPLETE READ
&P.ORWLR EQU   &P.BIT5 -      A WRONG-LENGTH RECORD CONDITION HAS
*                             OCCURRED
&P.ORHPR EQU   &P.BIT6 -      FOR QSAM - OPERATOR ENTERED ONE OR MORE
*                             CHARACTERS FROM THE KEYBOARD.
*                             FOR BSAM - A HOPPER EMPTY CONDITION HAS
*                             OCCURRED
&P.ORDCK EQU   &P.BIT7 -      A DATA CHECK HAS OCCURRED
         DS    X -            RESERVED
         SPACE 1
.C3D     AIF   (NOT &DEVDMR).C4
***********************************************************************
*                       MAGNETIC CHARACTER READER DEVICES
*                       1419 MAGNETIC CHARACTER READER
*                       1275 OPTICAL READER SORTER
*                       3890 MAGNETIC CHARACTER READER
*                       3895 DOCUMENT READER/INSCRIBER
***********************************************************************
         SPACE 1
         ORG   &NM
&P.SSID  DS    CL8 -          BEFORE DCB IS OPENED - NAME OF USER'S
*                             STACKER SELECT ROUTINE.
         SPACE 1
         ORG   &P.SSID
         DS    0A -           AFTER DCB IS OPENED - DCBWTOID
&P.QSMEX DS    A -            ADDRESS OF QSAM EXIT ROUTINE
.*                            QSAM EXIT                        @Y30GS11
&P.SSAD  DS    0A -           ADDRESS OF USER'S STACKER SELECT ROUTINE
&P.IMG   DS    0A -           3890  ADDR OF USER'S IMAGE PROC RTN
         DS    X -            RESERVED
&P.SSADA DS    AL3 -          ADDRESS OF USER'S STACKER SELECT ROUTINE
&P.IMAGE DS    0A -           SAME AS DCBIMAGA BELOW
&P.MRFG  DS    BL1 -          BUFFER INDICATOR
&P.MRBCT EQU   &P.BIT0+&P.BIT1 - TWO-BIT BINARY COUNTER WHICH INDICATES
*                             INTO WHICH BUFFER STATUS INFORMATION IS
*                             TO BE POSTED
&P.IMAGA DS    AL3 -          ADDRESS OF PARAMETER LIST USED TO
*                             COMMUNICATE BETWEEN USER'S PROCESSING
*                             ROUTINES AND HIS STACKER SELECT ROUTINES
&P.ECBLT DS    0A -           SAME AS DCBECBLA BELOW
&P.HDR   DS    0A -           3890  ADDR OF USER'S HEADER DATA AREA
&P.MRIND DS    BL1 -          INDICATOR AND COUNTER BYTE
&P.MRDCT EQU   &P.BIT0+&P.BIT1+&P.BIT2 THREE-BIT BINARY COUNTER OF
*                             NUMBER OF DOCUMENTS READ AFTER DISENGAGE
&P.MRSCU EQU   &P.BIT3 -      DCB WAS ALTERED WHEN SYNAD ROUTINE WAS
*                             ENTERED DUE TO SECONDARY CONTROL UNIT
*                             (SCU) ERROR
&P.MRPLO EQU   &P.BIT4 -      POCKET LIGHT HAS BEEN TURNED ON
&P.MRPLS EQU   &P.BIT5 -      POCKET LIGHT 0-6 IS BEING SET ON
&P.MRERP EQU   &P.BIT6 -      ERROR RECOVERY PROCEDURE IS EXECUTING FOR
*                             PRIMARY CONTROL UNIT (PCU)
&P.MRERS EQU   &P.BIT7 -      ERROR RECOVERY PROCEDURE IS EXECUTING FOR
*                             SECONDARY CONTROL UNIT (SCU)
&P.ECBLA DS    AL3 -          ADDRESS OF ECB LIST PASSED TO WAIT MACRO
*                             BY CHECK MACRO WHEN NO 1419/1275 IS
*                             AVAILABLE FOR PROCESSING
&P.MRFLG DS    BL1 -          FLAG BYTE
&P.MRSCC EQU   &P.BIT0 -      FIRST OR SECOND SECONDARY CONTROL UNIT
*                             COMMAND CHAIN IS BEING USED
&P.MRDBG EQU   &P.BIT1 -      DEBUGGING MODE IN USE
&P.MRDRU EQU   &P.BIT2 -      DISENGAGE REQUESTED BY USER
&P.MRDR  EQU   &P.BIT3 -      DISENGAGE REQUESTED
&P.MRPCC EQU   &P.BIT4+&P.BIT5 - TWO-BIT BINARY COUNTER INDICATING
*                             FIRST, SECOND, OR THIRD PRIMARY CONTROL
*                             UNIT COMMAND CHAIN IS BEING USED
&P.MRDWT EQU   &P.BIT6 -      WTO MESSAGE MUST BE DELETED
&P.MRUE  EQU   &P.BIT7 -      UNIT EXCEPTION
         DS    C -            DCBDEVT - DEVICE TYPE
&P.DVMR  EQU   X'5D' -        1419 MAGNETIC CHARACTER READER
&P.DVORS EQU   X'5F' -        1275 OPTICAL READER SORTER
&P.DVMRS EQU   X'56' -        3890 MAGNETIC CHARACTER READER SORTER
&P.DVDRI EQU   X'59' -        3895 DOCUMENT READER/INSCRIBER   @G30HSJK
&P.APPIN DS    C -            AN INDICATOR USED BY THE APPENDAGES TO
*                             PASS INFORMATION ABOUT ONE CHANNEL CHAIN
*                             TO AN APPENDAGE ASSOCIATED WITH ANOTHER
*                             CHANNEL CHAIN
         DS    X -            RESERVED
         SPACE 1
.C4      AIF   (NOT &DSORGTR).C4A                                S22024
***********************************************************************
*                       3705 LINE TERMINAL
***********************************************************************
         ORG   &NM+8
&P.IPLTX DS    CL8 -          NAME OF MODULE TO BE USED TO IPL
*                             THE 3705
&P.BCKUP DS    0A -           FULL WORD LABEL
         DS    BL1 -          RESERVED
&P.BCKUA DS    AL3 -          ADDRESS OF THE DCB FOR THE
*                             BACKUP 3705.
         SPACE 1
.C4A     AIF   (NOT (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS OR   *
               &DSORGXE)).C5
***********************************************************************
*                       ACCESS METHOD COMMON INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+16
&P.RELB  DS    0F -           SAME AS DCBREL BELOW
&P.KEYLE DS    FL1 -          KEY LENGTH OF DATA SET
&P.DEVT  DS    0C -           DEVICE TYPE
&P.DVTRM EQU   X'4F' -        TERMINAL.  (DD CONTAINS TERM=TS)
&P.REL   DS    FL3 -          NUMBER OF RELATIVE TRACKS OR BLOCKS IN
*                             THIS DATA SET (BDAM)
&P.BUFCB DS    0A -           ADDRESS OF BUFFER POOL CONTROL BLOCK
&P.BUFNO DS    FL1 -          NUMBER OF BUFFERS REQUIRED FOR THIS DATA
*                             SET.  MAY RANGE FROM 0 TO 255.  IF
*                             UNBLOCKED SPANNED RECORDS ARE USED,
*                             NUMBER OF SEGMENT WORK AREAS REQUIRED
*                             FOR THIS DATA SET.
&P.BUFCA DS    AL3 -          ADDRESS OF BUFFER POOL CONTROL BLOCK
&P.BUFL  DS    H -            LENGTH OF BUFFER.  MAY RANGE FROM 0 TO
*                             32,767.
&P.DSORG DS    0BL2 -         DATA SET ORGANIZATION BEING USED
&P.DSRG1 DS    BL1 -          FIRST BYTE OF DCBDSORG
&P.DSGIS EQU   &P.BIT0 -      IS - INDEXED SEQUENTIAL ORGANIZATION
&P.DSGPS EQU   &P.BIT1 -      PS - PHYSICAL SEQUENTIAL ORGANIZATION
&P.DSGDA EQU   &P.BIT2 -      DA - DIRECT ORGANIZATION
&P.DSGCX EQU   &P.BIT3 -      CX - BTAM OR QTAM LINE GROUP
&P.DSGPO EQU   &P.BIT6 -      PO - PARTITIONED ORGANIZATION
&P.DSGU  EQU   &P.BIT7 -      U  - UNMOVABLE, THE DATA CONTAINS
*                                  LOCATION DEPENDENT INFORMATION
&P.DSRG2 DS    BL1 -          SECOND BYTE OF DCBDSORG
&P.DSGGS EQU   &P.BIT0 -      GS - GRAPHICS ORGANIZATION
&P.DSGTX EQU   &P.BIT1 -      TX - TCAM LINE GROUP
&P.DSGTQ EQU   &P.BIT2 -      TQ - TCAM MESSAGE QUEUE
&P.ACBM  EQU   &P.BIT4 -      ACCESS METHOD CONTROL BLOCK
&P.DSGTR EQU   &P.BIT5 -      TR - TCAM 3705
&P.IOBAD DS    0A -           ADDRESS OF IOB WHEN CHAINED SCHEDULING IS
*                             USED OR FOR 1419/1275
&P.ODEB  DS    0A -           ADDRESS OF OLD DEB
&P.LNP   DS    0FL1 -         3525 PRINTER LINE POSITION COUNTER
&P.QSLM  DS    BL1 -          QSAM LOCATE MODE LOGICAL RECORD INTERFACE
*                             INDICATOR BYTE FOR UPDAT PROCESSING OF
*                             SPANNED RECORDS
&P.1DVDS EQU   &P.BIT0 -      ONLY ONE DEVICE IS ALLOCATED TO THIS
*                             DATA SET
&P.UPDCM EQU   &P.BIT1 -      UPDATE COMPLETE, FREE OLD DEB
&P.UPDBT EQU   &P.BIT2+&P.BIT3 - UPDATE BITS
&P.UPDT  EQU   &P.BIT2 -      UPDATE TO TAKE PLACE
&P.NUPD  EQU   &P.BIT2+&P.BIT3 - NO UPDATE TO TAKE PLACE
&P.SVDEB EQU   &P.BIT3 -      OLD DEB ADDRESS MUST BE SAVED
&P.IOBAA DS    0AL3 -         SAME AS DCBIOBAD ABOVE
&P.ODEBA DS    AL3 -          ADDRESS OF OLD DEB
         ORG   &NM+28
&P.SVCXL DS    0A -           SAME AS DCBSVCXA BELOW
         DS    X -            RESERVED
&P.SVCXA DS    AL3 -          POINTER TO EXIT LIST OF JES
*                             C.I. INTERFACE CONTROL SVC
         SPACE 1
***********************************************************************
*                       FOUNDATION EXTENSION
***********************************************************************
         SPACE 1
&P.EODAD DS    0A -           SAME AS DCBEODA BELOW
&P.HIARC DS    0BL1 -         HIERARCHY BITS
&P.BFTEK DS    0BL1 -         BUFFERING TECHNIQUE BITS
&P.BFALN DS    BL1 -          BUFFER ALIGNMENT BITS
&P.H1    EQU   &P.BIT0 -      HIERARCHY 1 MAIN STORAGE - BIT 5 IS ZERO
&P.BFT   EQU   &P.BIT1+&P.BIT2+&P.BIT3 BUFFERING TECHNIQUE
&P.BFTA  EQU   &P.BIT1+&P.BIT2 - QSAM LOCATE MODE PROCESSING OF SPANNED
*                             RECORDS - OPEN IS TO CONSTRUCT A RECORD
*                             AREA IF IT AUTOMATICALLY CONSTRUCTS
*                             BUFFERS
&P.BFTR  EQU   &P.BIT2 -      FOR BSAM CREATE BDAM PROCESSING OF
*                             UNBLOCKED SPANNED RECORDS - SOFTWARE
*                             TRACK OVERFLOW.  FOR BSAM INPUT
*                             PROCESSING OF UNBLOCKED SPANNED RECORDS
*                             WITH KEYS - RECORD OFFSET PROCESSING.
&P.BFTS  EQU   &P.BIT1 -      SIMPLE BUFFERING - BIT 3 IS ZERO
&P.BFTKR EQU   &P.BIT2 -      UNBLOCKED SPANNED RECORDS - SOFTWARE
*                             TRACK OVERFLOW (BDAM)
&P.BFTE  EQU   &P.BIT3 -      EXCHANGE BUFFERING - BIT 1 IS ZERO
&P.BFTKD EQU   &P.BIT4 -      DYNAMIC BUFFERING (BTAM)
&P.H0    EQU   &P.BIT5 -      HIERARCHY 0 MAIN STORAGE - BIT 0 IS ZERO
&P.BFA   EQU   &P.BIT6+&P.BIT7 - BUFFER ALIGNMENT
&P.BFAD  EQU   &P.BIT6 -      DOUBLEWORD BOUNDARY
&P.BFAF1 EQU   &P.BIT7 -      FULLWORD NOT A DOUBLEWORD BOUNDARY,
*                             CODED IN DCB MACRO INSTRUCTION
&P.BFAF2 EQU   &P.BIT6+&P.BIT7 - FULLWORD NOT A DOUBLEWORD BOUNDARY,
*                             CODED IN DCB MACRO INSTRUCTION
&P.EODA  DS    AL3 -          ADDRESS OF A USER-PROVIDED ROUTINE TO
*                             HANDLE END-OF-DATA CONDITIONS
&P.EXLST DS    0A -           ADDRESS OF USER-PROVIDED LIST OF EXITS
&P.RECFM DS    BL1 -          RECORD FORMAT
&P.RECLA EQU   &P.BIT0+&P.BIT1+&P.BIT2 RECORD LENGTH INDICATOR - ASCII
&P.RECD  EQU   &P.BIT2 -      ASCII VARIABLE RECORD LENGTH
&P.RECL  EQU   &P.BIT0+&P.BIT1 - RECORD LENGTH INDICATOR
&P.RECF  EQU   &P.BIT0 -      FIXED RECORD LENGTH
&P.RECV  EQU   &P.BIT1 -      VARIABLE RECORD LENGTH
&P.RECU  EQU   &P.BIT0+&P.BIT1 - UNDEFINED RECORD LENGTH
&P.RECTO EQU   &P.BIT2 -      TRACK OVERFLOW
&P.RECBR EQU   &P.BIT3 -      BLOCKED RECORDS
&P.RECSB EQU   &P.BIT4 -      FOR FIXED LENGTH RECORD FORMAT - STANDARD
*                             BLOCKS.  FOR VARIABLE LENGTH RECORD
*                             FORMAT - SPANNED RECORDS
&P.RECCC EQU   &P.BIT5+&P.BIT6 - CONTROL CHARACTER INDICATOR
&P.RECCA EQU   &P.BIT5 -      ASA CONTROL CHARACTER
&P.RECCM EQU   &P.BIT6 -      MACHINE CONTROL CHARACTER
&P.RECC  EQU   X'00' -        NO CONTROL CHARACTER
&P.RECKL EQU   &P.BIT7 -      KEY LENGTH (KEYLEN) WAS SPECIFIED IN DCB
*                             MACRO INSTRUCTION
&P.EXLSA DS    AL3 -          ADDRESS OF USER-PROVIDED LIST OF EXITS
         SPACE 1
.C5      AIF   (NOT &DSORGBX).C5B
         AIF   (&DSORGQX AND (&DSORGIS OR &DSORGDA OR &DSORGQS OR      *
               &DSORGBS OR &DSORGXE)).C5A
***********************************************************************
*                       BTAM LINE GROUP INTERFACE
***********************************************************************
         SPACE 1
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS OR        *
               &DSORGXE).C5A
         ORG   &NM+20
&P.BUFCB DS    0A -           ADDRESS OF BUFFER POOL CONTROL BLOCK
&P.BUFNO DS    FL1 -          NUMBER OF BUFFERS OBTAINED BY OPEN
&P.BUFCA DS    AL3 -          ADDRESS OF BUFFER POOL CONTROL BLOCK
&P.BUFL  DS    H -            BUFFER LENGTH
&P.DSORG DS    0BL2 -         DATA SET ORGANIZATION BEING USED
&P.DSRG1 DS    BL1 -          FIRST BYTE OF DCBDSORG
&P.DSGIS EQU   &P.BIT0 -      IS - INDEXED SEQUENTIAL ORGANIZATION
&P.DSGPS EQU   &P.BIT1 -      PS - PHYSICAL SEQUENTIAL ORGANIZATION
&P.DSGDA EQU   &P.BIT2 -      DA - DIRECT ORGANIZATION
&P.DSGCX EQU   &P.BIT3 -      CX - BTAM OR QTAM LINE GROUP
&P.DSGPO EQU   &P.BIT6 -      PO - PARTITIONED ORGANIZATION
&P.DSGU  EQU   &P.BIT7 -      U  - UNMOVABLE, THE DATA CONTAINS
*                                  LOCATION DEPENDENT INFORMATION
&P.DSRG2 DS    BL1 -          SECOND BYTE OF DCBDSORG
&P.DSGGS EQU   &P.BIT0 -      GS - GRAPHICS ORGANIZATION
&P.DSGTX EQU   &P.BIT1 -      TX - TCAM LINE GROUP
&P.DSGTQ EQU   &P.BIT2 -      TQ - TCAM MESSAGE QUEUE
&P.ACBM  EQU   &P.BIT4 -      ACCESS METHOD CONTROL BLOCK
&P.DSGTR EQU   &P.BIT5 -      TR - TCAM 3705
&P.IOBAD DS    0A -           BASE FOR ADDRESSING IOB'S (BASE = ADDRESS
*                             OF FIRST IOB MINUS LENGTH OF AN IOB)
         DS    FL1 -          DCBDEVTP - INDEX TO DEVICE ENTRY IN THE
*                             DEVICE I/O DIRECTORY
&P.IOBAA DS    AL3 -          SAME AS DCBIOBAD ABOVE
&P.HIARC DS    0BL1 -         HIERARCHY FLAG BITS
&P.BFTEK DS    BL1 -          BUFFERING TECHNIQUE FLAG BITS
&P.H1    EQU   &P.BIT0 -      HIERARCHY 1 MAIN STORAGE - BIT 5 IS ZERO
&P.BFT   EQU   &P.BIT1+&P.BIT2+&P.BIT3 BUFFERING TECHNIQUE
&P.BFTA  EQU   &P.BIT1+&P.BIT2 - QSAM LOCATE MODE PROCESSING OF SPANNED
*                             RECORDS - OPEN IS TO CONSTRUCT A RECORD
*                             AREA IF IT AUTOMATICALLY CONSTRUCTS
*                             BUFFERS
&P.BFTR  EQU   &P.BIT2 -      FOR BSAM CREATE BDAM PROCESSING OF
*                             UNBLOCKED SPANNED RECORDS - SOFTWARE
*                             TRACK OVERFLOW.  FOR BSAM INPUT
*                             PROCESSING OF UNBLOCKED SPANNED RECORDS
&P.BFTS  EQU   &P.BIT1 -      SIMPLE BUFFERING - BIT 3 IS ZERO
&P.BFTKR EQU   &P.BIT2 -      UNBLOCKED SPANNED RECORDS - SOFTWARE
*                             TRACK OVERFLOW (BDAM)
&P.BFTE  EQU   &P.BIT3 -      EXCHANGE BUFFERING - BIT 1 IS ZERO
&P.BFTKD EQU   &P.BIT4 -      DYNAMIC BUFFERING (BTAM)
&P.H0    EQU   &P.BIT5 -      HIERARCHY 0 MAIN STORAGE - BIT 0 IS ZERO
&P.BFA   EQU   &P.BIT6+&P.BIT7 - BUFFER ALIGNMENT
&P.BFAD  EQU   &P.BIT6 -      DOUBLEWORD BOUNDARY
&P.BFAF1 EQU   &P.BIT7 -      FULLWORD NOT A DOUBLEWORD BOUNDARY,
*                             CODED IN DCB MACRO INSTRUCTION
&P.BFAF2 EQU   &P.BIT6+&P.BIT7 - FULLWORD NOT A DOUBLEWORD BOUNDARY,
*                             CODED IN DCB MACRO INSTRUCTION
         DS    BL1 -          DCBERROP - ERROR RECOVERY PROCEDURE BITS
         DS    FL1 -          DCBBUFCT - MAX NUMBER OF READ BUFFERS
         DS    X -            RESERVED
&P.EXLST DS    0A -           ADDRESS OF USER-PROVIDED EXIT LIST
         DS    FL1 -          DCBEIOBX - SIZE OF IOB
&P.EXLSA DS    AL3 -          ADDRESS OF USER-PROVIDED EXIT LIST
         SPACE 1
.C5A     ANOP
         ORG   &NM+33
&P.ERROP DS    BL1 -          ERROR RECOVERY PROCEDURE BITS
&P.ERPT  EQU   &P.BIT3 -      ON-LINE TEST FACILITIES TO BE USED
&P.ERPC  EQU   &P.BIT4 -      THRESHOLD AND CUMULATIVE ERROR COUNTS TO
*                             BE MAINTAINED
&P.ERPW  EQU   &P.BIT5 -      TEXT-WRITE ERRORS TO BE RETRIED
&P.ERPR  EQU   &P.BIT6 -      TEXT-READ ERRORS TO BE RETRIED
&P.ERPN  EQU   &P.BIT7 -      IF ZERO, BASIC ERP TO BE FOLLOWED ---
*                             IF ONE, NO ERP TO BE FOLLOWED
&P.BUFCT DS    FL1 -          CONTAINS MAXIMUM NUMBER OF BUFFERS TO BE
*                             OBTAINED BY BTAM FOR READ OPERATION
*                             (DYNAMIC BUFFERING ONLY)
         SPACE 1
         AIF   (&DSORGQX OR &DSORGTX).C5B
         ORG   &NM+28
&P.DEVTP DS    FL1 -          INDEX TO DEVICE ENTRY IN THE DEVICE I/O
*                             DIRECTORY
         SPACE 1
         ORG   &NM+36
&P.EIOBX DS    FL1 -          SIZE OF EXTENDED IOB.  SIZE OF AN IOB
*                             ASSOCIATED WITH THIS DCB
         SPACE 1
.C5B     AIF   (NOT &DSORGTX).C5B1
***********************************************************************
*                       TCAM LINE GROUP INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+20
&P.MHA   DS    0A -           SAME AS DCBMH BELOW
&P.BUFIN DS    0BL1 -         NUMBER OF INPUT BUFFERS (BITS 0-3)
&P.BUFOU DS    BL1 -          NUMBER OF OUTPUT BUFFERS (BITS 4-7)
&P.BFIN  EQU   &P.BIT0+&P.BIT1+&P.BIT2+&P.BIT3 NUMBER OF BUFFERS
*                             ASSIGNED INITIALLY FOR RECEIVING
*                             OPERATIONS, FOR EACH LINE IN LINE GROUP
&P.BFOUT EQU   &P.BIT4+&P.BIT5+&P.BIT6+&P.BIT7 NUMBER OF BUFFERS
*                             ASSIGNED INITIALLY FOR SENDING
*                             OPERATIONS, FOR EACH LINE IN LINE GROUP
&P.MH    DS    AL3 -          ADDRESS OF MESSAGE HANDLER FOR THIS LINE
*                             GROUP
         DS    FL1 -          DCBINTVL - NUMBER OF SECONDS OF
*                             INVITATION DELAY
&P.PCI   DS    BL1 -          PROGRAM CONTROLLED INTERRUPTION HANDLING
&P.PCIX1 EQU   &P.BIT0 -      PCI=(X,)
&P.PCIX2 EQU   &P.BIT1 -      PCI=(,X)
&P.PCIA1 EQU   &P.BIT2 -      PCI=(A,)
&P.PCIA2 EQU   &P.BIT3 -      PCI=(,A)
&P.PCIN1 EQU   &P.BIT4 -      PCI=(N,)
&P.PCIN2 EQU   &P.BIT5 -      PCI=(,N)
&P.PCIR1 EQU   &P.BIT6 -      PCI=(R,)
&P.PCIR2 EQU   &P.BIT7 -      PCI=(,R)
         AIF   (&DSORGIS OR &DSORGBX OR &DSORGDA OR &DSORGQX OR        *
               &DSORGQS OR &DSORGBS OR &DSORGXE).C5B2
&P.DSORG DS    0BL2 -         DATA SET ORGANIZATION BEING USED
&P.DSRG1 DS    BL1 -          FIRST BYTE OF DCBDSORG
&P.DSGIS EQU   &P.BIT0 -      IS - INDEXED SEQUENTIAL ORGANIZATION
&P.DSGPS EQU   &P.BIT1 -      PS - PHYSICAL SEQUENTIAL ORGANIZATION
&P.DSGDA EQU   &P.BIT2 -      DA - DIRECT ORGANIZATION
&P.DSGCX EQU   &P.BIT3 -      CX - BTAM OR QTAM LINE GROUP
&P.DSGPO EQU   &P.BIT6 -      PO - PARTITIONED ORGANIZATION
&P.DSGU  EQU   &P.BIT7 -      U  - UNMOVABLE, THE DATA CONTAINS
*                                  LOCATION DEPENDENT INFORMATION
&P.DSRG2 DS    BL1 -          SECOND BYTE OF DCBDSORG
&P.DSGGS EQU   &P.BIT0 -      GS - GRAPHICS ORGANIZATION
&P.DSGTX EQU   &P.BIT1 -      TX - TCAM LINE GROUP
&P.DSGTQ EQU   &P.BIT2 -      TQ - TCAM MESSAGE QUEUE
&P.ACBM  EQU   &P.BIT4 -      ACCESS METHOD CONTROL BLOCK
&P.DSGTR EQU   &P.BIT5 -      TR - TCAM 3705
         AGO   .C5B3
.C5B2    DS    0BL2 -         DCBDSORG - DATA SET ORGANIZATION
         DS    BL1 -          DCBDSRG1 - FIRST BYTE OF DCBDSORG
         DS    BL1 -          DCBDSRG2 - SECOND BYTE OF DCBDSORG
.C5B3    ANOP
&P.BUFMA DS    FL1 -          MAXIMUM NUMBER OF BUFFERS TO BE USED FOR
*                             DATA TRANSFER FOR EACH LINE IN THIS GROUP
         SPACE 1
.C5B1    AIF   (NOT (&DSORGQX OR &DSORGTX)).C6
***********************************************************************
*                       QTAM LINE GROUP INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+20
&P.CLPS  DS    0A -           ADDRESS OF LINE PROCEDURE SPECIFICATION
*                             ROUTINE
&P.BUFRQ DS    FL1 -          NUMBER OF BUFFERS REQUESTED FOR A READ
*                             OR WRITE OPERATION
&P.CLPSA DS    AL3 -          SAME AS DCBCLPS ABOVE
&P.INTVL DS    FL1 -          NUMBER OF SECONDS OF INTENTIONAL DELAY
*                             BETWEEN PASSES THROUGH A POLLING LIST
*                             FOR NONSWITCHED LINES
         DS    X -            RESERVED
         AIF   (&DSORGIS OR &DSORGBX OR &DSORGDA OR &DSORGQS OR        *
               &DSORGBS OR &DSORGXE OR &DSORGTX).C5C
&P.DSORG DS    0BL2 -         DATA SET ORGANIZATION BEING USED
&P.DSRG1 DS    BL1 -          FIRST BYTE OF DCBDSORG
&P.DSGIS EQU   &P.BIT0 -      IS - INDEXED SEQUENTIAL ORGANIZATION
&P.DSGPS EQU   &P.BIT1 -      PS - PHYSICAL SEQUENTIAL ORGANIZATION
&P.DSGDA EQU   &P.BIT2 -      DA - DIRECT ORGANIZATION
&P.DSGCX EQU   &P.BIT3 -      CX - BTAM OR QTAM LINE GROUP
&P.DSGPO EQU   &P.BIT6 -      PO - PARTITIONED ORGANIZATION
&P.DSGU  EQU   &P.BIT7 -      U  - UNMOVABLE, THE DATA CONTAINS
*                                  LOCATION DEPENDENT INFORMATION
&P.DSRG2 DS    BL1 -          SECOND BYTE OF DCBDSORG
&P.DSGGS EQU   &P.BIT0 -      GS - GRAPHICS ORGANIZATION
&P.DSGTX EQU   &P.BIT1 -      TX - TCAM LINE GROUP
&P.DSGTQ EQU   &P.BIT2 -      TQ - TCAM MESSAGE QUEUE
&P.ACBM  EQU   &P.BIT4 -      ACCESS METHOD CONTROL BLOCK
&P.DSGTR EQU   &P.BIT5 -      TR - TCAM 3705
&P.IOBAD DS    0A -           ADDRESS OF FIRST IOB
&P.DEVTP DS    AL1 -          DEVICE TYPE POINTER
&P.IOBAA DS    AL3 -          ADDRESS OF FIRST IOB
&P.LCBAD DS    0A -           BASE FOR ADDRESSING LCB'S (BASE = ADDRESS
*                             OF FIRST LCB MINUS LENGTH OF ONE LCB)
&P.CPRI  DS    BL1 -          COMMUNICATION PRIORITY BITS
&P.CPR   EQU   &P.BIT5 -      RECEIVING HAS PRIORITY
&P.CPE   EQU   &P.BIT6 -      RECEIVING AND SENDING HAVE EQUAL PRIORITY
&P.CPS   EQU   &P.BIT7 -      SENDING HAS PRIORITY
&P.LCBA  DS    AL3 -          SAME AS DCBLCBAD ABOVE
&P.EXLST DS    0A -           ADDRESS OF EXIT LIST
&P.EIOBX DS    FL1 -          EXTENDED IOB INDEX.  SIZE OF LCB.
&P.EXLSA DS    AL3 -          ADDRESS OF EXIT LIST
         SPACE 1
         AGO   .C6
.C5C     DS    0BL2 -         DCBDSORG - DATA SET ORGANIZATION
         DS    BL1 -          DCBDSRG1 - FIRST BYTE OF DCBDSORG
         DS    BL1 -          DCBDSRG2 - SECOND BYTE OF DCBDSORG
         AIF   (NOT &DSORGTX).C5C1
         AIF   (&DSORGIS OR &DSORGBX OR &DSORGDA OR &DSORGQS OR        *
               &DSORGBS OR &DSORGXE).C5C1                      @ZA02213
&P.IOBAD DS    0A -           ADDRESS OF FIRST IOB
&P.DEVTP DS    AL1 -          DEVICE TYPE POINTER
&P.IOBAA DS    AL3 -          ADDRESS OF FIRST IOB
         SPACE 1
         AGO   .C5C2
.C5C1    ANOP
&P.DEVTP DS    AL1 -          DEVICE TYPE POINTER
         DS    AL3 -          DCBIOBAA - ADDRESS OF FIRST IOB
         SPACE 1
.C5C2    AIF   (NOT &DSORGTX).C5D
         ORG   &NM+32
&P.TRANA DS    0A -           ADDRESS OF TRANSLATION TABLE
         DS    BL1 -          DCBCPRI - COMMUNICATION PRIORITY BITS
&P.TRANS DS    AL3 -          ADDRESS OF TRANSLATION TABLE
         SPACE 1
.C5D     ORG   &NM+32
&P.LCBAD DS    0A -           BASE FOR ADDRESSING LCB'S (BASE = ADDRESS
*                             OF FIRST LCB MINUS LENGTH OF ONE LCB)
&P.CPRI  DS    BL1 -          COMMUNICATION PRIORITY BITS
&P.CPR   EQU   &P.BIT5 -      RECEIVING HAS PRIORITY
&P.CPE   EQU   &P.BIT6 -      RECEIVING AND SENDING HAVE EQUAL PRIORITY
&P.CPS   EQU   &P.BIT7 -      SENDING HAS PRIORITY
&P.LCBA  DS    AL3 -          SAME AS DCBLCBAD ABOVE
         AIF   (&DSORGIS OR &DSORGBX OR &DSORGDA OR &DSORGQS OR        *
               &DSORGBS OR &DSORGXE).C5E
&P.EXLST DS    0A -           ADDRESS OF EXIT LIST
&P.EIOBX DS    FL1 -          EXTENDED IOB INDEX.  SIZE OF LCB
&P.EXLSA DS    AL3 -          ADDRESS OF EXIT LIST
         SPACE 1
         AGO   .C6
.C5E     ANOP
&P.EIOBX DS    FL1 -          EXTENDED IOB INDEX.  SIZE OF LCB.
         DS    AL3 -          DCBEXLSA - ADDRESS OF EXIT LIST
         SPACE 1
.C6      AIF   (NOT (&DSORGTQ)).C7                             @ZA02213
***********************************************************************
*                       TCAM MESSAGE QUEUE INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+20
&P.TRMAD DS    0A -           ADDRESS OF USER-PROVIDED AREA IN WHICH
*                             THE TERMINAL NAME IS STORED
         AIF   (&DSORGQX OR &DSORGTX).C6A
&P.BUFRQ DS    FL1 -          NUMBER OF BUFFERS TO BE FILLED FROM THE
*                             DIRECT ACCESS QUEUE
         AGO   .C6B
.C6A     DS    FL1 -          DCBBUFRQ - NUMBER OF BUFFERS TO BE FILLED
*                             FROM THE DIRECT ACCESS QUEUE
.C6B     ANOP
&P.TRMA  DS    AL3 -          SAME AS DCBTRMAD ABOVE
&P.SOWA  DS    H -            SIZE OF USER-PROVIDED WORK AREA
         AIF   (&DSORGIS OR &DSORGBX OR &DSORGDA OR &DSORGQX OR        *
               &DSORGQS OR &DSORGBS OR &DSORGXE OR &DSORGTX).C6C
&P.DSORG DS    0BL2 -         DATA SET ORGANIZATION BEING USED
&P.DSRG1 DS    BL1 -          FIRST BYTE OF DCBDSORG
&P.DSGIS EQU   &P.BIT0 -      IS - INDEXED SEQUENTIAL ORGANIZATION
&P.DSGPS EQU   &P.BIT1 -      PS - PHYSICAL SEQUENTIAL ORGANIZATION
&P.DSGDA EQU   &P.BIT2 -      DA - DIRECT ORGANIZATION
&P.DSGCX EQU   &P.BIT3 -      CX - BTAM OR QTAM LINE GROUP
&P.DSGPO EQU   &P.BIT6 -      PO - PARTITIONED ORGANIZATION
&P.DSGU  EQU   &P.BIT7 -      U  - UNMOVABLE, THE DATA CONTAINS
*                                  LOCATION DEPENDENT INFORMATION
&P.DSRG2 DS    BL1 -          SECOND BYTE OF DCBDSORG
&P.DSGGS EQU   &P.BIT0 -      GS - GRAPHICS ORGANIZATION
&P.DSGTX EQU   &P.BIT1 -      TX - TCAM LINE GROUP
&P.DSGTQ EQU   &P.BIT2 -      TQ - TCAM MESSAGE QUEUE
&P.ACBM  EQU   &P.BIT4 -      ACCESS METHOD CONTROL BLOCK
&P.DSGTR EQU   &P.BIT5 -      TR - TCAM 3705
&P.IOBAD DS    0A -           BEFORE OPEN - ADDRESS OF AVT  ---
*                             AFTER OPEN - BASE FOR ADDRESSING IOB'S
*                             (BASE = ADDRESS OF FIRST IOB MINUS LENGTH
*                             OF ONE IOB)
         DS    FL1 -          DCBBUFMA - MAXIMUM NUMBER OF BUFFERS TO
*                             BE USED FOR DATA TRANSFER FOR EACH LINE
*                             IN THIS GROUP
&P.IOBAA DS    AL3 -          SAME AS DCBIOBAD ABOVE
         AGO   .C6D
.C6C     DS    0BL2 -         DCBDSORG - DATA SET ORGANIZATION
         DS    BL1 -          DCBDSRG1 - FIRST BYTE OF DCBDSORG
         DS    BL1 -          DCBDSRG2 - SECOND BYTE OF DCBDSORG
         DS    A -            DCBIOBAD - BASE FOR ADDRESSING IOB'S
.C6D     SPACE 1
         ORG   &NM+28
&P.SEGAD DS    A -            ADDRESS OF CURRENT SEGMENT
         AIF   (NOT &DSORGTQ).C6D1
&P.THRES DS    FL1 -          FOR NON-REUSABLE MESSAGE QUEUE RECORDS,
*                             PERCENTAGE OF NON-REUSABLE DISK MESSAGE
*                             QUEUE RECORDS TO BE USED BEFORE A FLUSH
*                             CLOSEDOWN OF THE SYSTEM IS INITIATED.
*                             FOR REUSABLE MESSAGE QUEUE RECORDS AND
*                             CHECKPOINT RECORDS, THIS FIELD IS
*                             RESERVED
         AGO   .C6D2
.C6D1    DS    X -            RESERVED
.C6D2    SPACE 1
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS OR        *
               &DSORGXE).C7
         ORG   &NM+32
&P.EODAD DS    A -            ADDRESS OF USER-PROVIDED ROUTINE
         AIF   (&DSORGBX OR &DSORGQX OR &DSORGTX).C6E
&P.EXLST DS    0A -           ADDRESS OF EXIT LIST
         AGO   .C6F
.C6E     DS    0A -           DCBEXLST - ADDRESS OF EXIT LIST
.C6F     ANOP
&P.RECFM DS    C -            RECORD FORMAT
&P.RECR  EQU   X'02' -        RECORD
&P.RECG  EQU   X'04' -        MESSAGE
&P.RECS  EQU   X'08' -        SEGMENT
         AIF   (&DSORGBX OR &DSORGQX OR &DSORGTX).C6G
&P.EXLSA DS    AL3 -          ADDRESS OF EXIT LIST
         AGO   .C7
.C6G     DS    AL3 -          DCBEXLSA - ADDRESS OF EXIT LIST
.C7      SPACE 1
.C8      AIF   (NOT &DSORGTR).C8A7                               S22024
         ORG   &NM+20
&P.DUMPD DS    0A -           FULL WORD LABEL
&P.UNITN DS    BL1 -          NUMBER OF UNITS FOR READ FOLLOWING
*                             ATTENTION.
&P.DUMPA DS    AL3 -          ADDRESS OF THE DCB USED FOR
*                             DUMPING THE 3705
         DS    AL1 -          RESERVED
&P.TRSTA DS    BL1 -          STATUS BYTE. WHEN SET TO 1,
*                             THE INDICATORS HAVE THE SPECIFIED
*                             MEANING
&P.AUTOI EQU   &P.BIT0 -      IPLAUTO=YES WAS SPECIFIED IN THE
*                             DCB
&P.AUTOD EQU   &P.BIT1 -      DMPAUTO=YES WAS SPECIFIED IN THE
*                             DCB MACRO.
&P.INITL EQU   &P.BIT2 -      BRINGUP=YES WAS SPECIFIED IN THE
*                             DCB MACRO.
&P.RSTRT EQU   &P.BIT3 -      RESTART IS IN PROCESS
&P.IPLED EQU   &P.BIT4 -      3705 HAS BEEN IPL'D.
&P.BAKUP EQU   &P.BIT5 -      BACKUP=YES WAS SPECIFIED IN THE
*                             DCB MACRO.
&P.NIDLE EQU   &P.BIT6 -      IDLE=NO WAS SPECIFIED IN THE OPEN
*                             MACRO OR WAS IMPLIED BY DEFAULT
&P.CHNGL EQU   &P.BIT7 -      IPL TEXT HAS BEEN CHANGED
         AIF   (NOT &DSORGTR OR (&DSORGIS OR &DSORGBX OR               *
               &DSORGDA OR &DSORGQX OR &DSORGQS OR &DSORGBS OR         *
               &DSORGXE OR &DSORGTQ OR &DSORGTX)).C8A0         @ZA02213
&P.DSORG DS    0BL2 -         DATA SET ORGANIZATION BEING USED
&P.DSRG1 DS    BL1 -          FIRST BYTE OF DCBDSORG
&P.DSRG2 DS    BL1 -          SECOND BYTE OF DCBDSORG
&P.DSGTR EQU   &P.BIT5 -      DSORG=TR SPECIFIED
&P.IOBAD DS    A -            ADDRESS OF IOB
         AGO   .C8A1                                             S22024
.C8A0    DS    H -            DCBDSORG
         DS    A -            DCBIOBAD
.C8A1    ANOP                                                    S22024
&P.RNCKD DS    0A -           FULL WORD LABEL
         DS    BL1 -          RESERVED
&P.RNCKA DS    AL3 -          ADDRESS OF THE DCB USED TO RETAIN
*                             INCIDENT CHECKPOINT RECORDS
*                             GENERATED BY THE 3705.
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS OR        *
               &DSORGXE OR &DSORGBX OR &DSORGQX OR &DSORGTX OR         *
               &DSORGTQ).C8A2                                  @ZA02213
&P.EXLST DS    0A -           FULL WORD LABEL FOR EXLIST
         AGO   .C8A3                                             S22024
.C8A2    DS    0A -           DCBEXLST
.C8A3    AIF   (&DSORGBX OR &DSORGQX OR &DSORGTX).C8A4           S22024
&P.EIOBX DS    BL1 -          SIZE, IN BYTES, OF THE IOB.
         AGO   .C8A5                                             S22024
.C8A4    DS    BL1 -          DCBEIOBX
.C8A5    AIF   (&DSORGBX OR &DSORGQX OR &DSORGTX OR &DSORGIS OR        *
               &DSORGDA OR &DSORGQS OR &DSORGBS OR &DSORGXE  OR        *
               &DSORGTQ).C8A6                                  @ZA02213
&P.EXLSA DS    AL3 -          ADDRESS OF THE EXIT LIST.
         SPACE 1
         AGO   .C8A7                                             S22024
.C8A6    DS    AL3 -          DCBEXLSA
         SPACE 1
.C8A7    AIF   (&DSORGLR AND NOT (&DSORGIS OR &DSORGBX OR &DSORGDA OR  *
               &DSORGQX OR &DSORGXA OR &DSORGQS OR &DSORGBS OR         *
               &DSORGXE OR &DSORGTR)).CF                       @ZA02213
***********************************************************************
*                       FOUNDATION BEFORE OPEN
***********************************************************************
         SPACE 1
         ORG   &NM+40
&P.DDNAM DS    CL8 -          NAME ON THE DD STATEMENT WHICH DEFINES
*                             THE DATA SET ASSOCIATED WITH THIS DCB
&P.OFLGS DS    BL1 -          FLAGS USED BY OPEN ROUTINE
&P.OFLWR EQU   &P.BIT0 -      IF ZERO, LAST I/O OPERATION WAS READ OR
*                             POINT.  IF ONE, LAST I/O OPERATION WAS
*                             WRITE.
&P.OFIOD EQU   &P.BIT0 -      DATA SET IS BEING OPENED FOR INPUT OR
*                             OUTPUT (BDAM)
&P.OFLRB EQU   &P.BIT1 -      LAST I/O OPERATION WAS IN READ BACKWARD
*                             MODE
&P.OFEOV EQU   &P.BIT2 -      SET TO 1 BY EOV WHEN IT CALLS CLOSE
*                             ROUTINE FOR CONCATENATION OF DATA SETS
*                             WITH UNLIKE ATTRIBUTES
&P.OFOPN EQU   &P.BIT3 -      AN OPEN HAS BEEN SUCCESSFULLY COMPLETED
&P.OFPPC EQU   &P.BIT4 -      SET TO 1 BY PROBLEM PROGRAM TO INDICATE A
*                             CONCATENATION OF UNLIKE ATTRIBUTES
&P.OFTM  EQU   &P.BIT5 -      TAPE MARK HAS BEEN READ
&P.OFUEX EQU   &P.BIT6 -      SET TO 0 BY AN I/O SUPPORT FUNCTION WHEN
*                             THAT FUNCTION TAKES A USER EXIT. SET TO 1
*                             ON RETURN FROM USER EXIT TO THE I/O
*                             SUPPORT FUNCTION WHICH TOOK THE EXIT.
&P.OFIOF EQU   &P.BIT7 -      SET TO 1 BY AN I/O SUPPORT FUNCTION IF
*                             DCB IS TO BE PROCESSED BY THAT FUNCTION
&P.IFLG  DS    BL1 -          FLAGS USED BY IOS IN COMMUNICATING ERROR
*                             CONDITIONS AND IN DETERMINING CORRECTIVE
*                             PROCEDURES
&P.IBEC  EQU   &P.BIT0+&P.BIT1 - ERROR CORRECTION INDICATOR
&P.IFNEP EQU   X'00' -        NOT IN ERROR PROCEDURE
&P.EX    EQU   &P.BIT1 -      ERROR CORRECTION OR IOS PAGE FIX IN
*                             PROCESS
&P.IFPEC EQU   &P.BIT0+&P.BIT1 - PERMANENT ERROR CORRECTION
&P.IBPCT EQU   &P.BIT2+&P.BIT3 - PRINTER CARRIAGE TAPE PUNCH INDICATOR
&P.IFC9  EQU   &P.BIT2 -      CHANNEL 9 PRINTER CARRIAGE TAPE PUNCH
*                             SENSED
&P.IFC12 EQU   &P.BIT3 -      CHANNEL 12 PRINTER CARRIAGE TAPE PUNCH
*                             SENSED
&P.IBIOE EQU   &P.BIT4+&P.BIT5 - IOS ERROR ROUTINE USE INDICATOR
&P.IFER  EQU   X'00' -        ALWAYS USE I/O SUPERVISOR ERROR ROUTINE
&P.IFNE1 EQU   &P.BIT5 -      NEVER USE I/O SUPERVISOR ERROR ROUTINE
&P.IFTIM EQU   &P.BIT5 -      TEST IOS MASK (IMSK) FOR ERROR PROCEDURE
*                             (BTAM)
&P.IFNE2 EQU   &P.BIT4 -      NEVER USE I/O SUPERVISOR ERROR ROUTINE
&P.IFNE3 EQU   &P.BIT4+&P.BIT5 - NEVER USE I/O SUPERVISOR ERROR ROUTINE
&P.MACR  DS    0BL2 -         MACRO INSTRUCTION REFERENCE
&P.MACR1 DS    BL1 -          FIRST BYTE OF DCBMACR
&P.MRECP EQU   &P.BIT0 -      EXECUTE CHANNEL PROGRAM (EXCP) ---
*                             ALWAYS ZERO (BSAM, QSAM, BPAM, BISAM,
*                             QISAM, BDAM) --- RESERVED (QTAM, BTAM)
&P.MRFE  EQU   &P.BIT1 -      FOUNDATION EXTENSION IS PRESENT (EXCP)
&P.MRGET EQU   &P.BIT1 -      GET (QSAM, QISAM, TCAM)
&P.MRPTQ EQU   &P.BIT1 -      PUT FOR MESSAGE GROUP (QTAM) ---
*                             ALWAYS ZERO (BSAM, BPAM, BISAM, BDAM) ---
*                             RESERVED (BTAM)
&P.MRAPG EQU   &P.BIT2 -      APPENDAGES ARE REQUIRED (EXCP)
&P.MRRD  EQU   &P.BIT2 -      READ (BSAM, BPAM, BISAM, BDAM, BTAM)
&P.MRWRQ EQU   &P.BIT2 -      WRITE FOR LINE GROUP (QTAM) ---
*                             ALWAYS ZERO (QSAM, QISAM)
&P.MRCI  EQU   &P.BIT3 -      COMMON INTERFACE (EXCP)
&P.MRMVG EQU   &P.BIT3 -      MOVE MODE OF GET (QSAM, QISAM)
&P.MRRDK EQU   &P.BIT3 -      KEY SEGMENT WITH READ (BDAM) ---
*                             ALWAYS ZERO (BISAM) ---
*                             RESERVED (BSAM, BPAM, QTAM, BTAM)
&P.MRLCG EQU   &P.BIT4 -      LOCATE MODE OF GET (QSAM, QISAM)
&P.MRRDI EQU   &P.BIT4 -      ID ARGUMENT WITH READ (BDAM) ---
*                             ALWAYS ZERO (BISAM) ---
*                             RESERVED (EXCP, BSAM, BPAM, QTAM, BTAM)
&P.MRABC EQU   &P.BIT5 -      USER'S PROGRAM MAINTAINS ACCURATE BLOCK
*                             COUNT (EXCP)
&P.MRPT1 EQU   &P.BIT5 -      POINT (WHICH IMPLIES NOTE) (BSAM, BPAM)
&P.MRSBG EQU   &P.BIT5 -      SUBSTITUTE MODE OF GET (QSAM)
&P.MRDBF EQU   &P.BIT5 -      DYNAMIC BUFFERING (BISAM, BDAM) ---
*                             ALWAYS ZERO (QISAM) ---
*                             RESERVED (QTAM, BTAM)
&P.PGFXA EQU   &P.BIT6 -      PAGE FIX APPENDAGE IS SPECIFIED (EXCP)
&P.MRCRL EQU   &P.BIT6 -      CNTRL (BSAM, QSAM)
&P.MRCHK EQU   &P.BIT6 -      CHECK (BISAM)
&P.MRRDX EQU   &P.BIT6 -      READ EXCLUSIVE (BDAM) ---
*                             RESERVED (BPAM, QISAM, QTAM, BTAM)
&P.MRDMG EQU   &P.BIT7 -      DATA MODE OF GET (QSAM)
&P.MRCK  EQU   &P.BIT7 -      CHECK (BDAM) --- RESERVED (EXCP, BSAM,
*                             BPAM, BISAM, QISAM, QTAM, BTAM)
&P.MACR2 DS    BL1 -          SECOND BYTE OF DCBMACR
&P.MRSTL EQU   &P.BIT0 -      SETL (QISAM) --- ALWAYS ZERO (BSAM, QSAM,
*                             BPAM, BISAM, BDAM) ---
*                             RESERVED (EXCP, QTAM, BTAM)
&P.MRPUT EQU   &P.BIT1 -      PUT (QSAM, TCAM) - PUT OR PUTX (QISAM)
&P.MRGTQ EQU   &P.BIT1 -      GET FOR MESSAGE GROUP (QTAM) ---
*                             ALWAYS ZERO (BSAM, BPAM, BISAM, BDAM) ---
*                             RESERVED (EXCP, BTAM)
&P.MRWRT EQU   &P.BIT2 -      WRITE (BSAM, BPAM, BISAM, BDAM, BTAM)
&P.MRRDQ EQU   &P.BIT2 -      READ FOR LINE GROUP (QTAM) ---
*                             ALWAYS ZERO (QSAM, QISAM) ---
*                             RESERVED (EXCP)
&P.MRMVP EQU   &P.BIT3 -      MOVE MODE OF PUT (QSAM, QISAM)
&P.MRWRK EQU   &P.BIT3 -      KEY SEGMENT WITH WRITE (BDAM) ---
*                             ALWAYS ZERO (BISAM) ---
*                             RESERVED (EXCP, BSAM, BPAM, QTAM, BTAM)
&P.MR5WD EQU   &P.BIT4 -      FIVE-WORD DEVICE INTERFACE (EXCP)
&P.MRLDM EQU   &P.BIT4 -      LOAD MODE BSAM (CREATE BDAM DATA SET)
*                             (BSAM)
&P.MRLCP EQU   &P.BIT4 -      LOCATE MODE OF PUT (QSAM, QISAM)
&P.MRIDW EQU   &P.BIT4 -      ID ARGUMENT WITH WRITE (BDAM) ---
*                             ALWAYS ZERO (BISAM) ---
*                             RESERVED (BPAM, QTAM, BTAM)
&P.MR4WD EQU   &P.BIT5 -      FOUR-WORD DEVICE INTERFACE (EXCP)
&P.MRPT2 EQU   &P.BIT5 -      POINT (WHICH IMPLIES NOTE) (BSAM, BPAM)
&P.MRTMD EQU   &P.BIT5 -      SUBSTITUTE MODE (QSAM)
&P.MRUIP EQU   &P.BIT5 -      UPDATE IN PLACE (PUTX) (QISAM) ---
*                             ALWAYS ZERO (BISAM) ---
*                             RESERVED (BDAM, QTAM, BTAM)
&P.MR3WD EQU   &P.BIT6 -      THREE-WORD DEVICE INTERFACE (EXCP)
&P.MRCTL EQU   &P.BIT6 -      CNTRL (BSAM, QSAM)
&P.MRSTK EQU   &P.BIT6 -      SETL BY KEY (QISAM)
&P.MRAWR EQU   &P.BIT6 -      ADD TYPE OF WRITE (BDAM) ---
*                             ALWAYS ZERO (BISAM) ---
*                             RESERVED (BPAM, QTAM, BTAM)
&P.MR1WD EQU   &P.BIT7 -      ONE-WORD DEVICE INTERFACE (EXCP)
&P.MRSWA EQU   &P.BIT7 -      USER'S PROGRAM HAS PROVIDED A SEGMENT
*                             WORK AREA POOL (BSAM CREATE BDAM, BDAM)
&P.MRDMD EQU   &P.BIT7 -      DATA MODE (QSAM)
&P.MRSTI EQU   &P.BIT7 -      SETL BY ID (QISAM) ---
*                             ALWAYS ZERO (BISAM) ---
*                             RESERVED (BPAM, QTAM, BTAM)
         SPACE 1
***********************************************************************
*                       FOUNDATION AFTER OPEN
***********************************************************************
         SPACE 1
         ORG   &NM+40
&P.TIOT  DS    H -            OFFSET FROM TIOT ORIGIN TO TIOELNGH FIELD
*                             IN TIOT ENTRY FOR DD STATEMENT ASSOCIATED
*                             WITH THIS DCB
&P.MACRF DS    0BL2 -         SAME AS DCBMACR BEFORE OPEN
&P.MACF1 DS    BL1 -          FIRST BYTE OF DCBMACRF
&P.MACF2 DS    BL1 -          SECOND BYTE OF DCBMACRF
&P.DEBAD DS    0A -           ADDRESS OF ASSOCIATED DEB
&P.IFLGS DS    BL1 -          SAME AS DCBIFLG BEFORE OPEN
&P.IFEC  EQU   &P.BIT0+&P.BIT1 - ERROR CORRECTION INDICATOR
&P.IFPCT EQU   &P.BIT2+&P.BIT3 - PRINTER CARRIAGE TAPE PUNCH INDICATOR
&P.IFIOE EQU   &P.BIT4+&P.BIT5 - IOS ERROR ROUTINE USE INDICATOR
&P.IFLDT EQU   &P.BIT6 -      3800 PRINTER LOST DATA INDICATOR @G38ESMH
&P.DEBA  DS    AL3 -          ADDRESS OF ASSOCIATED DEB
         SPACE 1
         AIF   (NOT (&DSORGBX OR &DSORGDA OR &DSORGQX OR &DSORGBS)).C8A
         ORG   &NM+48
&P.READ  DS    0A -           ADDRESS OF READ MODULE
&P.WRITE DS    0A -           ADDRESS OF WRITE MODULE          @ZA11086
&P.OFLG  DS    BL1            SAME AS DCBOFLGS BEFORE OPEN     @ZA11086
&P.READA DS    0AL3           ADDRESS OF READ MODULE           @ZA11086
&P.WRITA DS    AL3            ADDRESS OF WRITE MODULE          @ZA11086
         SPACE 1
.C8A     AIF   (NOT (&DSORGIS OR &DSORGQX OR &DSORGQS OR               *
               &DSORGTR)).C8B                                    S22024
         ORG   &NM+48
&P.GET   DS    0A -           ADDRESS OF GET MODULE
&P.PUT   DS    0A -           ADDRESS OF PUT MODULE            @ZA11086
&P.OFLG1 DS    BL1            SAME AS DCBOFLGS BEFORE OPEN     @ZA14562
&P.GETA  DS    0AL3           ADDRESS OF GET MODULE            @ZA11086
&P.PUTA  DS    AL3            ADDRESS OF PUT MODULE            @ZA11086
         SPACE 1
.C8B     AIF   (NOT (&DSORGTX OR &DSORGTR)).C8B2                 S22024
***********************************************************************
*                       TCAM LINE GROUP EXTENSION
*                       3705 EXTENSION
***********************************************************************
         SPACE 1
         ORG   &NM+48
&P.SCTAB DS    0A -           ADDRESS OF SPECIAL CHARACTERS TABLE (SCT)
         DS    BL1 -          DCBOFLGS - FLAGS USED BY OPEN ROUTINE
&P.SCTAD DS    AL3 -          ADDRESS OF SPECIAL CHARACTERS TABLE (SCT)
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS OR        *
               &DSORGTQ OR &DSORGXA).C8B1                       ZA00023
&P.OPTCD DS    0BL1 -         OPTION CODE
.C8B1    ANOP                                                    S22024
&P.ILCT  DS    FL1 -          COUNT OF INVITATION LISTS
&P.UNTCT DS    FL1 -          BEFORE OPEN - NUMERICAL VALUE OF SCT.
*                             AFTER OPEN - COUNT OF UNITS FOR 1 BUFFER.
&P.BUFSI DS    H -            SIZE OF ALL BUFFERS USED FOR THIS LINE
*                             GROUP
         AIF   (NOT &DSORGTX).C8B2                               S22024
&P.RESER DS    0CL4 -         NUMBER OF RESERVED BYTES IN BUFFERS
&P.RESB1 DS    FL1 -          NUMBER OF BYTES RESERVED IN THE BUFFER
*                             RECEIVING FIRST INCOMING SEGMENT OF A
*                             MESSAGE
&P.RESB2 DS    FL1 -          NUMBER OF BYTES RESERVED IN ALL BUFFERS
*                             EXCEPT THE ONE CONTAINING FIRST SEGMENT
*                             OF A MESSAGE
         DS    XL2 -          RESERVED
         SPACE 1
*        THE FOLLOWING 4 BYTES MAY BE REPEATED 'N' TIMES
&P.INVLI DS    0A -           ADDRESS OF INVITATION LIST
&P.INVCI DS    BL1 -          TYPE OF COMMUNICATION INTERFACE FOR 2701
*                             DATA ADAPTER UNIT
&P.INVB1 EQU   &P.BIT2 -      IF ZERO, UNIT (A,)
*                             IF ONE, UNIT (B,)
&P.INVB2 EQU   &P.BIT4 -      IF ZERO, UNIT (,A)
*                             IF ONE, UNIT (,B)
&P.INVLA DS    AL3 -          ADDRESS OF INVITATION LIST
.C8B2    ANOP
         SPACE 1
         AIF   (NOT (&DSORGXA)).C8F                             ZA00023
***********************************************************************
*                       EXCP WITH APPENDAGES
***********************************************************************
         SPACE 1
         ORG   &NM+52
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS OR        *
               &DSORGTQ).C8C                                     S22024
&P.OPTCD DS    BL1 -          OPTION CODES
&P.OPTJ  EQU   &P.BIT7       3800 PRINTER,OPTCD=J              @Z40MSRZ
         AGO   .C8D
.C8C     DS    BL1 -          DCBOPTCD - OPTION CODES
.C8D     AIF   (&DSORGQS OR &DSORGBS).C8E
&P.OPTZ  EQU   &P.BIT5 -      MAGNETIC TAPE DEVICES - USE REDUCED ERROR
*                             RECOVERY PROCEDURE (EXCP, BSAM, BPAM,
*                             QSAM)
&P.SRCHD EQU   &P.BIT5 -      USE SEARCH DIRECT, INSTEAD OF SEARCH
*                             PREVIOUS, ON RECORD POSITION SENSING
*                             DEVICE  (EXCP, BSAM, BPAM, QSAM)
.C8E     DS    XL7 -          RESERVED
         SPACE 1
***********************************************************************
*                       EXCP APPENDAGE LIST
***********************************************************************
         SPACE 1
         ORG   &NM+60
&P.EOEA  DS    CL2 -          END OF EXTENT APPENDAGE ID
&P.PCIA  DS    CL2 -          PROGRAM CONTROLLED INTERRUPTION
*                             APPENDAGE ID
&P.SIOA  DS    CL2 -          START I/O APPENDAGE ID
&P.CENDA DS    CL2 -          CHANNEL END APPENDAGE ID
&P.XENDA DS    CL2 -          ABNORMAL END APPENDAGE ID
         DS    XL2 -          RESERVED
.C8F     ANOP                                                   ZA00023
         AIF   (NOT &DSORGXE).C9                                ZA00023
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS OR        *
               &DSORGTQ OR &DSORGXA OR &DSORGTX OR &DSORGTR).C9
.*                                                              ZA00023
         SPACE 1
         ORG   &NM+52
&P.OPTCD DS    0BL1 -                   OPTION CODE
.C9      ANOP
         SPACE 1
         AIF   (NOT &DSORGIS).CA
***********************************************************************
*                       BISAM-QISAM INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+52
&P.OPTCD DS    BL1 -          OPTION CODES
         AIF   (&DSORGQS OR &DSORGBS).C9A
&P.OPTW  EQU   &P.BIT0 -      WRITE VALIDITY CHECK (DASD)
*                             (BSAM, BPAM, QSAM, ISAM, BDAM)
         AGO   .C9B
.C9A     ANOP
*        BIT0 IS DCBOPTW - SAME AS BSAM
.C9B     ANOP
&P.OPTUF EQU   &P.BIT1 -      FULL-TRACK INDEX WRITE
&P.OPTM  EQU   &P.BIT2 -      MASTER INDEXES
&P.OPTI  EQU   &P.BIT3 -      INDEPENDENT OVERFLOW AREA
&P.OPTY  EQU   &P.BIT4 -      CYLINDER OVERFLOW AREA
&P.OPTL  EQU   &P.BIT6 -      DELETE OPTION
&P.OPTR  EQU   &P.BIT7 -      REORGANIZATION CRITERIA
&P.MAC   DS    BL1 -          EXTENSION OF DCBMACRF FIELD FOR ISAM
&P.MACUR EQU   &P.BIT4 -      UPDATE FOR READ
&P.MACUW EQU   &P.BIT5 -      UPDATE TYPE OF WRITE
&P.MACAW EQU   &P.BIT6 -      ADD TYPE OF WRITE
&P.MACRE EQU   &P.BIT7 -      READ EXCLUSIVE
&P.NTM   DS    FL1 -          NUMBER OF TRACKS THAT DETERMINE THE
*                             DEVELOPMENT OF A MASTER INDEX
*                             MAXIMUM PERMISSABLE VALUE - 99
&P.CYLOF DS    FL1 -          NUMBER OF TRACKS TO BE RESERVED ON EACH
*                             PRIME DATA CYLINDER FOR RECORDS THAT
*                             OVERFLOW FROM OTHER TRACKS ON THAT
*                             CYLINDER
&P.SYNAD DS    A -            ADDRESS OF USER'S SYNAD ROUTINE
&P.RKP   DS    H -            RELATIVE POSITION OF FIRST BYTE OF KEY
*                             WITHIN EACH LOGICAL RECORD
&P.BLKSI DS    H -            BLOCK SIZE
&P.LPDT  DS    0BL8 -         FOR RESUME LOAD,THE LAST PRIME DATA
*                             TRACK ON THE LAST PRIME DATA CYLINDER
*                             IN THE FORM MBBCCHHR.
&P.MSWA  DS    A -            ADDRESS OF MAIN STORAGE WORK AREA FOR USE
*                             BY CONTROL PROGRAM WHEN NEW RECORDS ARE
*                             BEING ADDED TO AN EXISTING DATA SET
&P.SMSI  DS    H -            NUMBER OF BYTES IN AREA RESERVED TO HOLD
*                             HIGHEST LEVEL INDEX
&P.SMSW  DS    H -            NUMBER OF BYTES IN WORK AREA USED BY
*                             CONTROL PROGRAM WHEN NEW RECORDS ARE
*                             BEING ADDED TO DATA SET
&P.MSHI  DS    0A -           ADDRESS OF MAIN STORAGE AREA TO HOLD
*                             HIGHEST LEVEL INDEX
&P.NCP   DS    FL1 -          NUMBER OF COPIES OF READ-WRITE (TYPE K)
*                             CHANNEL PROGRAMS THAT ARE TO BE
*                             ESTABLISHED FOR THIS DCB.  (99 MAXIMUM)
&P.MSHIA DS    AL3 -          SAME AS DCBMSHI ABOVE
&P.SETL  DS    A -            ADDRESS OF SETL MODULE FOR QISAM.
*                             ADDRESS OF CHECK MODULE FOR BISAM
&P.EXCD1 DS    BL1 -          FIRST BYTE IN WHICH EXCEPTIONAL
*                             CONDITIONS DETECTED IN PROCESSING DATA
*                             RECORDS ARE REPORTED TO THE USER
&P.EXNKY EQU   &P.BIT0 -      LOWER KEY LIMIT NOT FOUND
&P.EXIDA EQU   &P.BIT1 -      INVALID DEVICE ADDRESS FOR LOWER LIMIT
&P.EXNSP EQU   &P.BIT2 -      SPACE NOT FOUND
&P.EXINV EQU   &P.BIT3 -      INVALID REQUEST
&P.EXIER EQU   &P.BIT4 -      UNCORRECTABLE INPUT ERROR
&P.EXOER EQU   &P.BIT5 -      UNCORRECTABLE OUTPUT ERROR
&P.EXBLI EQU   &P.BIT6 -      BLOCK COULD NOT BE REACHED (INPUT)
&P.EXBLU EQU   &P.BIT7 -      BLOCK COULD NOT BE REACHED (UPDATE)
&P.EXCD2 DS    BL1 -          SECOND BYTE IN WHICH EXCEPTIONAL
*                             CONDITIONS DETECTED IN PROCESSING DATA
*                             RECORDS ARE REPORTED TO THE USER
&P.EXSEQ EQU   &P.BIT0 -      SEQUENCE CHECK
&P.EXDUP EQU   &P.BIT1 -      DUPLICATE RECORD
&P.EXCLD EQU   &P.BIT2 -      DCB CLOSED WHEN ERROR WAS DETECTED
&P.EXOFL EQU   &P.BIT3 -      OVERFLOW RECORD
&P.EXLTH EQU   &P.BIT4 -      FOR PUT - LENGTH FIELD OF RECORD LARGER
*                             THAN LENGTH INDICATED IN DCBLRECL
&P.EXRDE EQU   &P.BIT4 -      READ EXCLUSIVE
&P.LRECL DS    H -            FOR FIXED-LENGTH RECORD FORMATS, LOGICAL
*                             RECORD LENGTH.  FOR VARIABLE-LENGTH
*                             RECORD FORMATS, MAXIMUM LOGICAL RECORD
*                             LENGTH OR AN ACTUAL LOGICAL RECORD LENGTH
*                             CHANGED DYNAMICALLY BY USER WHEN CREATING
*                             THE DATA SET
&P.ESETL DS    A -            ADDRESS OF ESETL ROUTINE IN GET MODULE
&P.LRAN  DS    A -            ADDRESS OF READ-WRITE K MODULE OR
*                             EXCLUSIVE MODULE
&P.LWKN  DS    A -            ADDRESS OF WRITE KN MODULE
&P.RELSE DS    A -            WORK AREA FOR TEMPORARY STORAGE OF
*                             REGISTER CONTENTS
&P.PUTX  DS    A -            WORK AREA FOR TEMPORARY STORAGE OF
*                             REGISTER CONTENTS
&P.RELEX DS    A -            ADDRESS OF READ EXCLUSIVE MODULE
&P.FREED DS    A -            ADDRESS OF DYNAMIC BUFFERING MODULE
&P.HIRTI DS    FL1 -          NUMBER OF INDEX ENTRIES THAT FIT ON A
*                             PRIME DATA TRACK
&P.FTMI2 DS    CL7 -          DIRECT ACCESS DEVICE ADDRESS OF FIRST
*                             TRACK OF SECOND LEVEL MASTER INDEX (IN
*                             THE FORM MBBCCHH)
&P.LEMI2 DS    CL5 -          DIRECT ACCESS DEVICE ADDRESS OF LAST
*                             ACTIVE ENTRY IN SECOND LEVEL MASTER INDEX
*                             (IN THE FORM CCHHR)
&P.FTMI3 DS    CL7 -          DIRECT ACCESS DEVICE ADDRESS OF FIRST
*                             TRACK OF THIRD LEVEL MASTER INDEX (IN
*                             THE FORM MBBCCHH)
&P.LEMI3 DS    CL5 -          DIRECT ACCESS DEVICE ADDRESS OF LAST
*                             ACTIVE ENTRY IN THIRD LEVEL MASTER INDEX
*                             (IN THE FORM CCHHR)
&P.NLEV  DS    FL1 -          NUMBER OF LEVELS OF INDEX
&P.FIRSH DS    CL3 -          HHR OF FIRST DATA RECORD ON EACH
*                             CYLINDER.  FOR VARIABLE LENGTH RECORD
*                             PROCESSING, R PORTION OF THIS FIELD IS
*                             ALWAYS X'01'.
&P.HMASK DS    CL1 -          BYTE INDICATING 2301 OR NOT
&P.HMDRM EQU   X'07' -        DEVICE IS 2301 DRUM
&P.HMNDM EQU   X'FF' -        DEVICE IS OTHER THAN 2301 DRUM
&P.LDT   DS    CL2 -          HH IS THE LAST PRIME DATA TRACK ON EACH
*                             CYLINDER
&P.HIRCM DS    CL1 -          HIGHEST POSSIBLE R FOR TRACKS OF THE
*                             CYLINDER AND MASTER INDICES
&P.HIRPD DS    CL1 -          HIGHEST R ON ANY PRIME TRACK IN DATA SET.
*                             FOR VARIABLE-LENGTH RECORDS, THIS
*                             REPRESENTS THE GREATEST NUMBER OF
*                             PHYSICAL RECORDS ON ANY PRIME TRACK IN
*                             THE DATA SET
&P.HIROV DS    CL1 -          FOR FIXED-LENGTH RECORD FORMAT, HIGHEST
*                             POSSIBLE R FOR OVERFLOW DATA TRACKS.  FOR
*                             VARIABLE-LENGTH RECORD FORMAT, UNUSED.
&P.HIRSH DS    CL1 -          FOR FIXED-LENGTH RECORD FORMAT, R OF LAST
*                             DATA RECORD ON A SHARED TRACK, IF
*                             APPLICABLE.  FOR VARIABLE-LENGTH RECORD
*                             FORMAT, UNUSED.
&P.TDC   DS    H -            USER-SUPPLIED NUMBER OF RECORDS TAGGED
*                             FOR DELETION.
&P.NCRHI DS    H -            NUMBER OF STORAGE LOCATIONS NEEDED TO
*                             HOLD THE HIGHEST LEVEL INDEX
&P.RORG3 DS    F -            FOR EACH USE OF DATA SET, NUMBER OF READ
*                             OR WRITE ACCESSES TO AN OVERFLOW RECORD
*                             WHICH IS NOT FIRST IN A CHAIN OF SUCH
*                             RECORDS
&P.NREC  DS    F -            NUMBER OF LOGICAL RECORDS IN PRIME DATA
*                             AREA
&P.ST    DS    BL1 -          STATUS INDICATORS
&P.STSSM EQU   &P.BIT0 -      SINGLE SCHEDULE MODE
&P.STKSQ EQU   &P.BIT1 -      KEY SEQUENCE CHECKING IS TO BE PERFORMED
&P.STLOD EQU   &P.BIT2 -      LOADING HAS COMPLETED.  SET TO 1 BY CLOSE
*                             ROUTINE AND TO 0 BY FIRST EXECUTION OF
*                             PUT ROUTINE.
&P.STNCY EQU   &P.BIT3 -      EXTENSION OF DATA SET WILL BEGIN ON NEW
*                             CYLINDER
&P.STNMC EQU   &P.BIT5 -      FIRST MACRO INSTRUCTION NOT YET RECEIVED
&P.STLBF EQU   &P.BIT6 -      LAST BLOCK FULL
&P.STLTF EQU   &P.BIT7 -      LAST TRACK FULL
&P.FTCI  DS    CL7 -          DIRECT ACCESS DEVICE ADDRESS OF FIRST
*                             TRACK OF CYLINDER INDEX (IN THE FORM
*                             MBBCCHH).
&P.HIIOV DS    CL1 -          FOR FIXED LENGTH RECORD FORMAT, HIGHEST
*                             POSSIBLE R FOR INDEPENDENT OVERFLOW DATA
*                             TRACKS.  FOR VARIABLE LENGTH RECORD
*                             FORMAT, UNUSED
&P.FTMI1 DS    CL7 -          DIRECT ACCESS DEVICE ADDRESS OF FIRST
*                             TRACK OF FIRST LEVEL MASTER INDEX (IN
*                             THE FORM MBBCCHH).
&P.NTHI  DS    FL1 -          NUMBER OF TRACKS OF HIGH-LEVEL INDEX
&P.FTHI  DS    CL7 -          DIRECT ACCESS DEVICE ADDRESS OF FIRST
*                             TRACK OF HIGHEST LEVEL INDEX (IN THE
*                             FORM MBBCCHH).
&P.LPDA  DS    CL8 -          DIRECT ACCESS DEVICE ADDRESS OF LAST
*                             PRIME DATA RECORD IN PRIME DATA AREA
*                             (IN THE FORM MBBCCHHR).
&P.LETI  DS    CL5 -          DIRECT ACCESS DEVICE ADDRESS OF LAST
*                             ACTIVE NORMAL ENTRY OF TRACK INDEX ON
*                             LAST ACTIVE CYLINDER (IN THE FORM CCHHR).
&P.OVDEV DS    CL1 -          DEVICE TYPE FOR INDEPENDENT OVERFLOW
*        THESE SAME MASKS APPLY TO DCBDEVT FOR ISAM DIRECT ACCESS
&P.DVI01 EQU   X'02' -        2301 PARALLEL DRUM
&P.DVI03 EQU   X'03' -        2303 SERIAL DRUM
&P.DVI02 EQU   X'04' -        2302 DISK STORAGE
&P.DVI05 EQU   X'05' -        2305 DRUM
&P.DVI14 EQU   X'08' -        2314 DISK STORAGE FACILITY
&P.DVI30 EQU   X'09' -        3330 DISK STORAGE FACILITY
&P.NBOV  DS    H -            FOR FIXED LENGTH RECORD FORMAT, RESERVED.
*                             FOR VARIABLE LENGTH RECORD FORMAT, IF THE
*                             INDEPENDENT OVERFLOW OPTION IS SELECTED,
*                             CONTAINS, IN BINARY, NUMBER OF BYTES LEFT
*                             ON CURRENT TRACK OF INDEPENDENT OVERFLOW
*                             AREA
&P.LECI  DS    CL5 -          DIRECT ACCESS DEVICE ADDRESS OF LAST
*                             ACTIVE ENTRY IN CYLINDER INDEX (IN THE
*                             FORM CCHHR).
         DS    X -            RESERVED
&P.RORG2 DS    H -            NUMBER OF TRACKS (PARTIALLY OR WHOLLY)
*                             REMAINING IN INDEPENDENT OVERFLOW AREA
&P.LEMI1 DS    CL5 -          DIRECT ACCESS DEVICE ADDRESS OF LAST
*                             ACTIVE ENTRY IN FIRST LEVEL MASTER INDEX
*                             (IN THE FORM CCHHR).
         DS    X -            RESERVED
&P.NOREC DS    H -            NUMBER OF LOGICAL RECORDS IN AN OVERFLOW
*                             AREA
&P.LIOV  DS    CL8 -          DIRECT ACCESS DEVICE ADDRESS OF LAST
*                             AREA (IN THE FORM MBBCCHHR).
&P.RORG1 DS    H -            NUMBER OF CYLINDER OVERFLOW AREAS THAT
*                             ARE FULL
         DS    XL2 -          RESERVED
&P.WKPT1 DS    A -            POINTER TO WORK AREA OR TO CONSTRUCTED
*                             CHANNEL PROGRAM FOR WHICH SPACE IS
*                             OBTAINED BY GETMAIN MACRO INSTRUCTIONS
*                             ISSUED BY OPEN EXECUTORS
&P.WKPT2 DS    A -            ADDITIONAL POINTER AS IN DCBWKPT1
&P.WKPT3 DS    A -            ADDITIONAL POINTER AS IN DCBWKPT1
&P.WKPT4 DS    A -            ADDITIONAL POINTER AS IN DCBWKPT1
&P.WKPT5 DS    A -            ADDITIONAL POINTER AS IN DCBWKPT1
&P.WKPT6 DS    A -            ADDITIONAL POINTER AS IN DCBWKPT1
         SPACE 1
.CA      AIF   (NOT &DSORGDA).CB
***********************************************************************
*                       BDAM INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+52
&P.CHECK DS    0A -           ADDRESS OF CHECK MODULE
         AIF   (&DSORGIS).CA1
&P.OPTCD DS    BL1 -          OPTION CODES
         AGO   .CA2
.CA1     DS    BL1 -          DCBOPTCD - OPTION CODES
.CA2     AIF   (&DSORGIS OR &DSORGQS OR &DSORGBS).CA3
&P.OPTW  EQU   &P.BIT0 -      WRITE VALIDITY CHECK (DASD)
*                             (BSAM, BPAM, QSAM, ISAM, BDAM)
         AGO   .CA4
.CA3     ANOP
*        BIT0 IS DCBOPTW - SAME AS BSAM AND ISAM
.CA4     ANOP
&P.OPTTO EQU   &P.BIT1 -      TRACK OVERFLOW
&P.OPTE  EQU   &P.BIT2 -      EXTENDED SEARCH
&P.OPTF  EQU   &P.BIT3 -      FEEDBACK
&P.OPTA  EQU   &P.BIT4 -      ACTUAL ADDRESSING
&P.OPTDB EQU   &P.BIT5 -      DYNAMIC BUFFERING
&P.OPTRE EQU   &P.BIT6 -      READ EXCLUSIVE
&P.OPTRB EQU   &P.BIT7 -      RELATIVE BLOCK ADDRESSING
&P.CHCKA DS    AL3 -          ADDRESS OF CHECK MODULE
         AIF   (&DSORGIS).CAA
&P.SYNAD DS    A -            ADDRESS OF SYNAD ROUTINE
         DS    XL2 -          RESERVED
&P.BLKSI DS    H -            MAXIMUM BLOCK SIZE
         AGO   .CAB
.CAA     DS    A -            DCBSYNAD - ADDRESS OF SYNAD ROUTINE
         DS    XL2 -          RESERVED
         DS    H -            DCBBLKSI - MAXIMUM BLOCK SIZE
.CAB     ANOP
&P.IOBSQ DS    A -            ADDRESS OF FIRST IOB ON UNSCHEDULED QUEUE
*                             FOR EITHER A WRITE-ADD REQUEST WHEN
*                             ANOTHER WRITE-ADD IS IN PROGRESS OR A
*                             READ-EXCLUSIVE REQUEST WHEN THE
*                             READ-EXCLUSIVE LIST IS FULL
&P.SQND  DS    A -            ADDRESS OF LAST IOB ON UNSCHEDULED QUEUE
&P.IOBUQ DS    A -            ADDRESS OF FIRST IOB ON UNPOSTED QUEUE
&P.UQND  DS    A -            ADDRESS OF LAST JOB ON UNPOSTED QUEUE
*                             THAT IS MAINTAINED BY THE READ EXCLUSIVE
*                             MODULE
         DS    X -            RESERVED
&P.LIMCT DS    FL3 -          NUMBER OF TRACKS OR NUMBER OF RELATIVE
*                             BLOCKS TO BE SEARCHED (EXTENDED SEARCH
*                             OPTION)
&P.XARG  DS    0A -           ADDRESS OF READ EXCLUSIVE LIST
&P.XCNT  DS    FL1 -          NUMBER OF ENTRIES IN READ EXCLUSIVE LIST
&P.XARGA DS    AL3 -          ADDRESS OF READ EXCLUSIVE LIST
&P.DRDX  DS    0A -           ADDRESS OF READ EXCLUSIVE MODULE
&P.MVXNO DS    FL1 -          TOTAL NUMBER OF EXTENTS IN MULTIVOLUME
*                             DATA SET
&P.DRDXA DS    AL3 -          ADDRESS OF READ EXCLUSIVE MODULE
&P.DFOR  DS    A -            ADDRESS OF A FORMAT MODULE
&P.DFBK  DS    A -            ADDRESS OF A FEEDBACK MODULE
&P.DYNB  DS    A -            FOR DYNAMIC BUFFERING, ADDRESS OF DYNAMIC
*                             BUFFER MODULE.  FOR UNBLOCKED SPANNED
*                             RECORDS WITH BFTEK=R SPECIFIED AND NO
*                             DYNAMIC BUFFERING, ADDRESS OF SEGMENT
*                             WORK AREA CONTROL BLOCK
         SPACE 1
.CB      AIF   (NOT &DSORGQX).CC
***********************************************************************
*                       QTAM INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+52
&P.KSTAT DS    0CL4 -         FOUR THRESHOLD VALUES FOR ERROR COUNTS
&P.KSTA1 DS    FL1 -          THRESHOLD VALUE FOR NUMBER OF
*                             TRANSMISSIONS
&P.KSTA2 DS    FL1 -          THRESHOLD VALUE FOR NUMBER OF DATA CHECKS
&P.KSTA3 DS    FL1 -          THRESHOLD VALUE FOR NUMBER OF
*                             INTERVENTIONS REQUIRED
&P.KSTA4 DS    FL1 -          THRESHOLD VALUE FOR NUMBER OF TIMEOUTS
         SPACE 1
***********************************************************************
*                       QTAM POLLING LIST ORIGIN
***********************************************************************
         SPACE 1
&P.CPOLL DS    0A -           A 4-BYTE FIELD FOR EACH POLLING LIST
&P.PLBYT DS    BL1 -          ADAPTER TYPE
&P.CPWTT EQU   &P.BIT4 -      WTTA
&P.CPOLA DS    AL3 -          ADDRESS OF THE POLLING LIST
         SPACE 1
.CC      AIF   (NOT &DSORGTQ).CD                               @ZA02213
***********************************************************************
*                       TCAM MESSAGE QUEUE INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+52
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS).CC1A
&P.OPTCD DS    BL1 -          OPTION CODES
         AGO   .CC1B
.CC1A    DS    BL1 -          DCBOPTCD - OPTION CODES
.CC1B    ANOP
&P.OPTWP EQU   &P.BIT0 -      SOURCE OR DESTINATION NAME PRECEDES
*                             MESSAGE (AFTER CONTROL BYTE)
*                             (TCAM PROCESS QUEUE)
&P.OPTUM EQU   &P.BIT1 -      WORK UNIT IS A MESSAGE.  DEFAULT WORK
*                             UNIT IS A RECORD.  (TCAM PROCESS QUEUE)
&P.OPTCB EQU   &P.BIT2 -      CONTROL BYTE PRECEDES WORK UNIT
*                             (TCAM PROCESS QUEUE)
&P.OPTCP EQU   &P.BIT2 -      CHECKPOINT DATA SET
&P.OPTIM EQU   &P.BIT6 -      NON-REUSABLE MESSAGE QUEUE DATA SET
&P.OPTRM EQU   &P.BIT7 -      REUSABLE MESSAGE QUEUE DATA SET
         AIF   (&DSORGIS OR &DSORGDA OR &DSORGQS OR &DSORGBS).CC1D
*
         DS    XL9 -           RESERVED
&P.BLKSI DS    H -             BLOCK SIZE
         AGO   .CC1E                                         ICBI DCB-9
.CC1D    DS    XL11 -         RESERVED
.CC1E    SPACE 1
.CD      AIF   (NOT &DSORGBX).CDF
***********************************************************************
*                       BTAM INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+52
&P.LERB  DS    0A -           ADDRESS OF LINE ERROR BLOCK
&P.RDYI  DS    0X -           READYQ INDICATORS
&P.RDYIQ EQU   &P.BIT6 -      ADDRESS IS READYQ AND NOT LERB
&P.RDYIZ EQU   &P.BIT7 -      READYQ SPECIFIED, BUT ADDRESS WAS 0,
*                             SO USING BTAM READYQ ROUTINE
&P.RDYQ  DS    A -            ADDRESS OF USER/BTAM ROUTINE TO PROCESS
*                             LOCAL 3270 DEVICE READY INTERRUPTS
         SPACE 1
         AIF   (NOT &DEVDBS).CDF
***********************************************************************
*                       BSC INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+56
&P.XMODE DS    BL1 -          MODE OF TRANSMISSION FOR BINARY
*                             SYNCHRONOUS COMMUNICATION (BSC)
&P.XMIBC EQU   &P.BIT1 -      INTERMEDIATE BLOCK CHECKING IS TO BE
*                             PERFORMED
&P.XMDA1 EQU   &P.BIT2 -      TRANSMISSION IS THROUGH A 2701 DATA
*                             ADAPTER UNIT DUAL COMMUNICATION
*                             INTERFACE B
&P.XMDA2 EQU   &P.BIT4 -      TRANSMISSION IS IN CODE B FOR A 2701
*                             DATA ADAPTER UNIT DUAL CODE FEATURE
&P.XCODE DS    BL1 -          BSC CONTROL STATION FLAG AND
*                             TRANSMISSION CODE
&P.XCCSF EQU   &P.BIT0 -      BSC CONTROL STATION FLAG ---
*                             IF ZERO, THIS IS THE CONTROL STATION.
*                             IF ONE, THIS IS THE REMOTE STATION.
&P.XCPTP EQU   &P.BIT1 -      IF PTOP IS SPECIFIED IN SYSGEN PROCEDURE
*                             - SCHEDULE AN ASYNCHRONOUS EXIT TO
*                             INTERFACE RESOLUTION ROUTINE
&P.XCTR1 EQU   &P.BIT2 -      6-BIT TRANSCODE IS BEING USED (BIT 4 IS
*                             ALSO ON)
&P.XCAS1 EQU   &P.BIT3 -      USASCII TRANSMISSION CODE IS BEING USED
*                             (BIT 5 IS ALSO ON)
&P.XCEBC EQU   &P.BIT4+&P.BIT5 - IF BOTH BITS ARE ZERO, EBCDIC
*                             TRANSMISSION CODE IS BEING USED.
&P.XCTR2 EQU   &P.BIT4 -      6-BIT TRANSCODE IS BEING USED (BIT 2 IS
*                             ALSO ON)
&P.XCAS2 EQU   &P.BIT5 -      USASCII TRANSMISSION CODE IS BEING USED
*                             (BIT 3 IS ALSO ON)
&P.BSRSV DS    CL1 -          DLE CONTROL CHARACTER
&P.BSWBT DS    X -            RESERVED
&P.IRRAD DS    0A -           BEFORE OPEN - IF PTOP IS SPECIFIED IN THE
*                             SYSGEN PROCEDURE, ADDRESS OF INTERFACE
*                             RESOLUTION ROUTINE.
*                             AFTER OPEN, THE FOLLOWING 4 CHARACTERS
*                             OCCUPY THIS SPACE.
&P.BSTSX DS    CL1 -          DLE CONTROL CHARACTER
&P.BSSTX DS    CL1 -          STX CONTROL CHARACTER
&P.BSTEX DS    CL1 -          DLE CONTROL CHARACTER
&P.BSETX DS    CL1 -          ETX CONTROL CHARACTER
&P.BSAK0 DS    CL2 -          ACK-0 CONTROL CHARACTER
&P.BSAK1 DS    CL2 -          ACK-1 CONTROL CHARACTER
&P.BSENQ DS    CL1 -          ENQ CONTROL CHARACTER
&P.BSNAK DS    CL1 -          NAK CONTROL CHARACTER
&P.BSETB DS    CL1 -          ETB CONTROL CHARACTER
&P.BSDLE DS    CL1 -          DLE CONTROL CHARACTER
&P.BSEOT DS    CL1 -          EOT CONTROL CHARACTER
&P.BSSYN DS    CL3 -          SYN, SYN, SYN CONTROL CHARACTERS
&P.BSONL DS    CL2 -          SOH % CONTROL CHARACTERS
&P.BSSAK DS    CL2 -          WACK CONTROL CHARACTERS
&P.BSRVI DS    CL2 -          DLE @ CONTROL CHARACTERS
         DS    XL18 -         RESERVED
         SPACE 1
.CDF     AIF   (NOT (&DSORGQS OR &DSORGBS)).CF                  YA03395
***********************************************************************
*                       QSAM-BSAM-BPAM COMMON INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+52
         AIF   (&DSORGDA).CDA1
&P.GERR  DS    0A -           ADDRESS OF SYNCHRONIZING ROUTINE FOR GET
&P.PERR  DS    0A -           ADDRESS OF SYNCHRONIZING ROUTINE FOR PUT
&P.CHECK DS    0A -           ADDRESS OF CHECK MODULE
         AIF   (&DSORGIS).CDA
&P.OPTCD DS    BL1 -          OPTION CODES
         AGO   .CD2
.CDA1    DS    0A -           DCBGERR, DCBPERR OR DCBCHECK
.CDA     DS    BL1 -          DCBOPTCD - OPTION CODES
.CD2     ANOP
&P.OPTW  EQU   &P.BIT0 -      WRITE VALIDITY CHECK (DASD)
*                             (BSAM, BPAM, QSAM, ISAM, BDAM)
&P.OPTU  EQU   &P.BIT1 -      ALLOW DATA CHECK CAUSED BY INVALID
*                             CHARACTER (1403 PRINTER WITH UCS FEATURE)
*                             (BSAM, BPAM, QSAM)
*                             MSS WINDOW PROCESSING REQUESTED  @ZA37313
*                             (BSAM, QSAM)                     @ZA37313
&P.OPTC  EQU   &P.BIT2 -      CHAINED SCHEDULING USING PCI
*                             (BSAM, BPAM, QSAM)
&P.OPTH  EQU   &P.BIT3 -      1287/1288 OPTICAL READER - HOPPER EMPTY
*                             EXIT (BSAM, BPAM)
*                             PDS STAGING ON MSS REQUEST(BPAM) @ZA36508
&P.OPTO  EQU   &P.BIT3 -      1285/1287 OPTICAL READER - ON-LINE
*                             CORRECTION (QSAM)
&P.BCKPT EQU   &P.BIT3 -      CHANNEL-END APPENDAGE IS TO BYPASS DOS
*                             EMBEDDED CHECKPOINT RECORDS ON TAPE
*                             (BSAM, QSAM)
&P.OPTQ  EQU   &P.BIT4 -      TRANSLATION TO OR FROM ASCII
*                             (BSAM, BPAM, QSAM)
&P.OPTZ  EQU   &P.BIT5 -      MAGNETIC TAPE DEVICES - USE REDUCED ERROR
*                             RECOVERY PROCEDURE (EXCP, BSAM, BPAM,
*                             QSAM)
&P.SRCHD EQU   &P.BIT5 -      USE SEARCH DIRECT, INSTEAD OF SEARCH
*                             PREVIOUS, ON RECORD POSITION SENSING
*                             DEVICE  (EXCP, BSAM, BPAM, QSAM)
&P.OPTT  EQU   &P.BIT6 -      USER TOTALING (BSAM, QSAM)
*
*
&P.OPTJ  EQU   &P.BIT7        3800 PRINTER, OPTCD=J; (DYNAMIC  @Z40MSRZ
*                             SELECT OF TRANSLATE TABLES)      @Z40MSRZ
         AIF   (&DSORGDA).CD1
&P.GERRA DS    0AL3 -         ADDRESS OF SYNCHRONIZING ROUTINE FOR GET
&P.PERRA DS    0AL3 -         ADDRESS OF SYNCHRONIZING ROUTINE FOR PUT
&P.CHCKA DS    AL3 -          ADDRESS OF CHECK MODULE
         AGO   .CD3
.CD1     DS    AL3 -          DCBGERRA, DCBPERRA OR DCBCHCKA
.CD3     AIF   (&DSORGIS OR &DSORGDA).CDB                      @ZA02213
&P.SYNAD DS    0A -           ADDRESS OF USER-PROVIDED SYNAD ROUTINE
&P.IOBL  DS    FL1 -          IOB LENGTH IN DOUBLE WORDS
&P.SYNA  DS    AL3 -          ADDRESS OF USER-PROVIDED SYNAD ROUTINE
         AGO   .CD4
.CDB     DS    0A -           DCBSYNAD - ADDRESS OF SYNAD ROUTINE
&P.IOBL  DS    FL1 -          IOB LENGTH IN DOUBLE WORDS
&P.SYNA  DS    AL3 -          DCBSYNA - ADDRESS OF SYNAD RTN   @ZA33630
.CD4     ANOP
&P.FLAG1 DS    0BL1 -         TCAM APPLICATION PROGRAM FLAGS
*                             (BSAM, BPAM, QSAM)
&P.CIND1 DS    BL1 -          CONDITION INDICATORS
&P.CNTOV EQU   &P.BIT0 -      DIRECT ACCESS - TRACK OVERFLOW IN USE
*                             (BSAM, BPAM, QSAM)
*                             2540 CARD PUNCH - DATA SET WAS OPENED BUT
*                             NO DATA WAS WRITTEN (QSAM)
&P.STQCK EQU   &P.BIT0 -      STOP EQUAL QUICK WAS SPECIFIED FOR
*                             APPLICATION PROG. DCBS (TCAM)
&P.STFLS EQU   &P.BIT1 -      STOP EQUAL FLUSH WAS SPECIFIED FOR
*                             APPLICATION PROG. DCBS (TCAM)
&P.CNSRD EQU   &P.BIT1 -      SEARCH DIRECT (BSAM, BPAM, QSAM)
&P.CNEVB EQU   &P.BIT2 -      END OF VOLUME - USED BY EOB ROUTINES
*                             (BSAM, BPAM, QSAM)
&P.CNEVA EQU   &P.BIT3 -      END OF VOLUME - USED BY CHANNEL-END
*                             APPENDAGE ROUTINES (BSAM, BPAM, QSAM)
&P.CNBRM EQU   &P.BIT5 -      BLOCKED RECORD BIT MODIFIED (BSAM,BPAM,
*                             QSAM)
&P.CNEXB EQU   &P.BIT7 -      EXCHANGE BUFFERING SUPPORTED (QSAM)
&P.CIND2 DS    BL1 -          CONDITION INDICATORS
&P.CNSTO EQU   &P.BIT0 -      PARTITIONED DATA SET - STOW HAS BEEN
*                             PERFORMED (BSAM, BPAM, QSAM)
*                             SEQUENTIAL DATA SET - UPDATE (BSAM, BPAM)
&P.CNWR0 EQU   &P.BIT1 -      DIRECT ORGANIZATION DATA SET - LAST I/O
*                             WAS A WRITE RECORD ZERO
*                             (BSAM, BPAM, QSAM)
*                             SEQUENTIAL DATA SET - UPDATE EOF IS
*                             INDICATED (BSAM, BPAM)
&P.CNCLO EQU   &P.BIT2 -      CLOSE IN PROCESS (QSAM)
&P.CNIOE EQU   &P.BIT3 -      PERMANENT I/O ERROR (BSAM, BPAM, QSAM)
&P.CNBFP EQU   &P.BIT4 -      OPEN ACQUIRED BUFFER POOL
*                             (BSAM, BPAM, QSAM)
&P.CNCHS EQU   &P.BIT5 -      CHAINED SCHEDULING BEING SUPPORTED
*                             (BSAM, BPAM, QSAM)
&P.CNFEO EQU   &P.BIT6 -      FEOV BIT (BSAM, BPAM, QSAM)
&P.CNQSM EQU   &P.BIT7 -      ALWAYS ZERO (BSAM, BPAM)
*                             THIS IS A QSAM DCB (QSAM)
         AIF   (&DSORGIS OR &DSORGDA).CDC
&P.BLKSI DS    H -            MAXIMUM BLOCK SIZE
         AGO   .CD7
.CDC     DS    H -            DCBBLKSI - MAXIMUM BLOCK SIZE
.CD7     ANOP
&P.WCPO  DS    AL1 -          OFFSET OF WRITE CHANNEL PROGRAM FROM THE
*                             START OF IOB
&P.WCPL  DS    FL1 -          LENGTH OF WRITE CHANNEL PROGRAM
&P.OFFSR DS    AL1 -          OFFSET OF READ CCW FROM BSAM/BPAM PREFIX
*                             OF IOB
&P.OFFSW DS    AL1 -          OFFSET OF WRITE CCW FROM BSAM/BPAM PREFIX
*                             OF IOB
DCBIOBA  DS    A -            FOR NORMAL SCHEDULING, ADDRESS OF QSAM OR
*                             BSAM/BPAM PREFIX OF IOB.  FOR CHAINED
*                             SCHEDULING, ADDRESS OF ICB.  FOR
*                             1419/1275, ADDRESS OF MAGNETIC INTERRUPT
*                             CONTROL BLOCK (MICB) CURRENTLY BEING
*                             PROCESSED BY READ ROUTINE.  FOR TSO
*                             TERMINAL DATA SET OPENED FOR INPUT AND
*                             FORMAT U, SIMULATED LOW-ORDER FOUR BYTES
*                             OF IOBCSW
         SPACE 1
         ORG   &NM+68
&P.CICB  DS    0A -           SAME AS DCBCICBA BELOW
         DS    X -            DCBNCP  (BSAM,BPAM)
&P.CICBA DS    AL3 -          POINTER TO JES C.I.
*                             CONTROL BLOCK (CICB)
         SPACE 1
         ORG   &NM+80
&P.DIRCT DS    0H -           NUMBER OF BYTES USED IN LAST DIRECTORY
*                             BLOCK (RANGE 0-254)  (BSAM, BPAM)
&P.QSWS  DS    0BL1 -         FLAG BYTE
&P.POPEN EQU   &P.BIT5 -      QSAM PARALLEL INPUT PROCESSING
&P.USASI DS    B -            FLAG BYTE FOR ASCII TAPES
&P.BLBP  EQU   &P.BIT1 -      BLOCK PREFIX IS FOUR BYTE FIELD
*                             CONTAINING BLOCK LENGTH IN UNPACKED
*                             DECIMAL (SPECIFIED BY BUFFER=L).
&P.QADFS EQU   &P.BIT2+&P.BIT3+&P.BIT4 USED TO PERFORM SEQUENCE
*                             CHECKING WITH MULTIPLE FUNCTION SUPPORT
*                             FOR 3525 (BSAM, QSAM)
&P.QADF1 EQU   &P.BIT2 -      FIRST BIT OF DCBQADFS
&P.QADF2 EQU   &P.BIT3 -      SECOND BIT OF DCBQADFS
&P.QADF3 EQU   &P.BIT4 -      THIRD BIT OF DCBQADFS
&P.3525A EQU   &P.BIT6 -      DCB IS 3525 - ASSOCIATED DATA
*                             SETS EXIST
&P.QSTRU EQU   &P.BIT7 -      TRUNC ENTRY POINT ENTERED (QSAM)
&P.BUFOF DS    0FL1 -         BLOCK PREFIX LENGTH (0-99), SPECIFIED BY
*                             BUFOFF=N OR BUFOFF=L
&P.DIRCQ DS    FL1 -          NUMBER OF BYTES USED IN LAST DIRECTORY
*                             BLOCK (RANGE 0-254)  (QSAM)
         SPACE 1
         AIF   (NOT &DSORGBS).CE
***********************************************************************
*                       BSAM-BPAM INTERFACE
***********************************************************************
         SPACE 1
         ORG   &NM+72
&P.EOBR  DS    0A -           ADDRESS OF END-OF-BLOCK MODULE FOR READ
         AIF   (&DSORGIS).CDD
&P.NCP   DS    FL1 -          NUMBER OF CHANNEL PROGRAMS.
         AGO   .CD8
.CDD     DS    FL1 -          DCBNCP - NUMBER OF CHANNEL PROGRAMS.
.CD8     ANOP
*                             NUMBER OF READ OR WRITE REQUESTS WHICH
*                             MAY BE ISSUED PRIOR TO A CHECK, NUMBER
*                             OF IOB'S GENERATED.  (99 MAXIMUM)
&P.EOBRA DS    AL3 -          ADDRESS OF END-OF-BLOCK MODULE FOR READ
&P.EOBW  DS    A -            ADDRESS OF END-OF-BLOCK MODULE FOR WRITE.
*                             FOR BSAM CREATE BDAM PROCESSING OF
*                             UNBLOCKED SPANNED RECORDS WITH BKTEK=R
*                             SPECIFIED, ADDRESS OF SEGMENT WORK AREA
*                             CONTROL BLOCK
         DS    H -            DCBDIRCT - NUMBER OF BYTES USED IN LAST
*                             DIRECTORY BLOCK  (RANGE 0-254)
         AIF   (&DSORGIS).CDE
&P.LRECL DS    H -            LOGICAL RECORD LENGTH
         AGO   .CD9
.CDE     DS    H -            DCBLRECL - LOGICAL RECORD LENGTH
.CD9     ANOP
&P.CNTRL DS    0A -           ADDRESS OF CNTRL MODULE
&P.NOTE  DS    0A -           ADDRESS OF NOTE/POINT MODULE
&P.POINT DS    A -            ADDRESS OF NOTE/POINT MODULE
         SPACE 1
.CE      AIF   (NOT &DSORGQS).FIN
***********************************************************************
*                       QSAM INTERFACE
***********************************************************************
         SPACE 1
         AIF   (NOT &DSORGDA).CE1
         ORG   &NM+52
&P.GERR  DS    0A -           ADDRESS OF SYNCHRONIZING ROUTINE FOR GET
&P.PERR  DS    0A -           ADDRESS OF SYNCHRONIZING ROUTINE FOR PUT
         DS    BL1 -          DCBOPTCD - OPTION CODES
&P.GERRA DS    0AL3 -         ADDRESS OF SYNCHRONIZING ROUTINE FOR GET
&P.PERRA DS    AL3 -          ADDRESS OF SYNCHRONIZING ROUTINE FOR PUT
         SPACE 1
.CE1     ORG   &NM+72
&P.LCCW  DS    0A -           FOR EXCHANGE BUFFERING, ADDRESS OF LAST
*                             CCW IN LIST
&P.EOBAD DS    A -            FOR SIMPLE BUFFERING, ADDRESS OF LAST
*                             BYTE OF CURRENT BUFFER
&P.CCCW  DS    0A -           FOR EXCHANGE BUFFERING, ADDRESS OF
*                             CURRENT OR NEXT CCW
&P.RECAD DS    0A -           ADDRESS OF CURRENT OR NEXT LOGICAL RECORD
&P.RECBT DS    BL1 -          FLAG BYTE
&P.RCREL EQU   &P.BIT0+&P.BIT1+&P.BIT2+&P.BIT3 RELSE MACRO HAS BEEN
*                             ISSUED (QSAM WITH SIMPLE BUFFERING)
&P.RCTRU EQU   &P.BIT0 -      TRUNC MACRO HAS BEEN ISSUED (QSAM LOCATE
*                             MODE)
&P.RCFGT EQU   &P.BIT1 -      FIRST GET AFTER OPEN (QSAM LOCATE MODE)
&P.RECA  DS    AL3 -          ADDRESS OF CURRENT OR NEXT LOGICAL RECORD
         DS    B -            DCBQSWS - FLAG BYTE
         DS    FL1 -          DCBDIRCQ - NUMBER OF BYTES USED IN LAST
*                             DIRECTORY BLOCK (RANGE 0-254)
         AIF   (&DSORGIS OR &DSORGBS).CEE
&P.LRECL DS    H -            LOGICAL RECORD LENGTH
         AGO   .CEEA
.CEE     DS    H -            DCBLRECL - LOGICAL RECORD LENGTH
.CEEA    AIF   (&DSORGBS).CEF
&P.CNTRL DS    0A -           ADDRESS OF CNTRL MODULE
         AGO   .CEF1
.CEF     DS    0A -           DCBCNTRL - ADDRESS OF CNTRL MODULE
.CEF1    ANOP
&P.EROPT DS    BL1 -          ERROR OPTION
&P.ERACC EQU   &P.BIT0 -      ACCEPT PERMANENT ERROR
&P.ERSKP EQU   &P.BIT1 -      SKIP PERMANENT ERROR
&P.ERABE EQU   &P.BIT2 -      ABNORMAL END OF TASK
         AIF   (&DSORGBS).CEF2
&P.CNTRA DS    AL3 -          ADDRESS OF CNTRL MODULE
         AGO   .CEF3
.CEF2    DS    AL3 -          DCBCNTRA - ADDRESS OF CNTRL MODULE
.CEF3    DS    XL2 -          RESERVED
&P.PRECL DS    H -            FORMAT F RECORDS: BLOCK LENGTH
*                             FORMAT U RECORDS: MAXIMUM BLOCK LENGTH
*                             FORMAT V RECORDS:
*                               UNSPANNED RECORDS: MAXIMUM BLOCK LENGTH
*                               SPANNED RECORDS:
*                                 PUT, NOT DATA MODE:
*                                   MAXIMUM BOLCK LENGTH
*                                 PUT, DATA MODE:
*                                   DATA LENGTH
*                                 GET:
*                                   SEGMENT CONTROL CODE OF PREVIOUS
*                                   SEGMENT
&P.EOB   DS    A -            ADDRESS OF END OF BLOCK MODULE
         SPACE 1
         MEXIT                                                  YA03395
.CF      AIF   (NOT &DSORGLR OR &DSORGIS).FIN                   YA03395
         ORG   &NM+82
&P.LRECL DS    H -            LOGICAL RECORD LENGTH
         SPACE 1
         MEXIT                                                  YA03395
.SLIP    ANOP
***********************************************************************
*                       GRAPHIC DEVICE INTERFACE
***********************************************************************
         SPACE 1
         DS    XL12 -         RESERVED
&P.BRSA  DS    AL2 -          BUFFER RESTART ADDRESS.  BLANK BEFORE
*                             EXECUTION OF SECOND I/O OPERATION
&P.GTYPE DS    CL1 -          TYPE OF BUFFER MANAGEMENT AND ATTENTION
*                             HANDLING
&P.GTEXP EQU   X'00' -        EXPRESS
&P.GTBAS EQU   X'01' -        BASIC
         DS    X -            RESERVED
&P.BFRST DS    AL2 -          BLANK BEFORE EXECUTION OF OPEN ROUTINE.
*                             STARTING ADDRESS FOR BUFFER AFTER
*                             EXECUTION OF OPEN ROUTINE
&P.BFRSZ DS    H -            BLANK BEFORE EXECUTION OF OPEN ROUTINE.
*                             SIZE OF BUFFER AFTER EXECUTION OF OPEN
*                             ROUTINE.
         SPACE 1
***********************************************************************
*                       COMMON INTERFACE
***********************************************************************
         SPACE 1
         DS    XL6 -          RESERVED
&P.DSORG DS    0BL2 -         DATA SET ORGANIZATION BEING USED
&P.DSRG1 DS    BL1 -          FIRST BYTE OF DCBDSORG
&P.DSGIS EQU   &P.BIT0 -      IS - INDEXED SEQUENTIAL ORGANIZATION
&P.DSGPS EQU   &P.BIT1 -      PS - PHYSICAL SEQUENTIAL ORGANIZATION
&P.DSGDA EQU   &P.BIT2 -      DA - DIRECT ORGANIZATION
&P.DSGCX EQU   &P.BIT3 -      CX - BTAM OR QTAM LINE GROUP
&P.DSGPO EQU   &P.BIT6 -      PO - PARTITIONED ORGANIZATION
&P.DSGU  EQU   &P.BIT7 -      U  - UNMOVABLE, THE DATA CONTAINS
*                                  LOCATION DEPENDENT INFORMATION
&P.DSRG2 DS    BL1 -          SECOND BYTE OF SCBDSORG
&P.DSGGS EQU   &P.BIT0 -      GS - GRAPHICS ORGANIZATION
&P.DSGTX EQU   &P.BIT1 -      TX - TCAM LINE GROUP
&P.DSGTQ EQU   &P.BIT2 -      TQ - TCAM MESSAGE QUEUE
&P.ACBM  EQU   &P.BIT4 -      ACCESS METHOD CONTROL BLOCK
&P.DSGTR EQU   &P.BIT5 -      TR - TCAM 3705
&P.IOBAD DS    A -            BLANK BEFORE EXECUTION OF OPEN ROUTINE.
*                             ADDRESS OF STANDARD FIELDS OF FIRST IOB
*                             AFTER EXECUTION OF OPEN ROUTINE
         SPACE 1
***********************************************************************
*                       FOUNDATION EXTENSION
***********************************************************************
         SPACE 1
&P.POLST DS    0A -           ADDRESS OF AREA WHERE A DCB LIST IS TO BE
*                             CONSTRUCTED FOR POLLING PURPOSES
&P.GNCP  DS    FL1 -          NUMBER OF I/O INSTRUCTIONS TO BE ISSUED
*                             BEFORE A WAIT MACRO INSTRUCTION
&P.POLSA DS    AL3 -          SAME AS DCBPOLST ABOVE
&P.EXLST DS    0A -           ADDRESS OF USER'S EXIT LIST
         DS    X -            RESERVED
&P.EXLSA DS    AL3 -          ADDRESS OF USER'S EXIT LIST
         SPACE 1
***********************************************************************
*                       FOUNDATION BEFORE OPEN
***********************************************************************
         SPACE 1
&P.DDNAM DS    CL8 -          8-BYTE NAME FROM DD STATEMENT THAT
*                             DEFINES DATA SET ASSOCIATED WITH THIS DCB
&P.OFLG  DS    BL1 -          FLAGS USED BY OPEN ROUTINE
&P.OFGRW EQU   &P.BIT0 -      IF ZERO, LAST I/O OPERATION WAS GREAD.
*                             IF ONE, LAST I/O OPERATION WAS GWRITE.
&P.OFEOV EQU   &P.BIT2 -      SET TO 1 BY EOV WHEN IT CALLS CLOSE
*                             ROUTINE FOR CONCATENATION OF DATA SETS
*                             WITH UNLIKE ATTRIBUTES
&P.OFOPN EQU   &P.BIT3 -      AN OPEN HAS BEEN SUCCESSFULLY COMPLETED
&P.OFPPC EQU   &P.BIT4 -      SET TO 1 BY PROBLEM PROGRAM TO INDICATE A
*                             CONCATENATION OF UNLIKE ATTRIBUTES
&P.OFTM  EQU   &P.BIT5 -      TAPE MARK HAS BEEN READ
&P.OFUEX EQU   &P.BIT6 -      SET TO 0 BY AN I/O SUPPORT FUNCTION WHEN
*                             THAT FUNCTION TAKES A USER EXIT. SET TO 1
*                             ON RETURN FROM USER EXIT TO THE I/O
*                             SUPPORT FUNCTION WHICH TOOK THE EXIT.
&P.OFIOF EQU   &P.BIT7 -      SET TO 1 BY AN I/O SUPPORT FUNCTION IF
*                             DCB IS TO BE PROCESSED BY THAT FUNCTION
&P.IFLG  DS    BL1 -          SET TO ZERO BY GRAPHIC ROUTINES BUT USED
*                             BY IOS IN COMMUNICATING ERROR CONDITIONS
*                             AND IN DETERMINING CORRECTIVE PROCEDURES
&P.MACR  DS    0BL2 -         MACRO INSTRUCTION REFERENCE
&P.MACR1 DS    BL1 -          FIRST BYTE OF DCBMACR
&P.MRRD  EQU   &P.BIT2 -      READ
&P.MRCRL EQU   &P.BIT6 -      CNTRL
&P.MACR2 DS    BL1 -          SECOND BYTE OF DCBMACR
&P.MRWRT EQU   &P.BIT2 -      WRITE
&P.MRCTL EQU   &P.BIT6 -      CNTRL
         SPACE 1
***********************************************************************
*                       FOUNDATION AFTER OPEN
***********************************************************************
         SPACE 1
         ORG   &NM+40
&P.TIOT  DS    AL2 -          OFFSET FROM TIOT ORIGIN TO DD ENTRY
*                             ASSOCIATED WITH THIS DCB
&P.MACRF DS    0BL2 -         SAME AS DCBMACR BEFORE OPEN
&P.MACF1 DS    BL1 -          FIRST BYTE OF DCBMACRF
&P.MACF2 DS    BL1 -          SECOND BYTE OF DCBMACRF
&P.DEBAD DS    0A -           ADDRESS OF ASSOCIATED DEB
&P.IFLGS DS    BL1 -          SAME AS DCBIFLG BEFORE OPEN
&P.DEBA  DS    AL3 -          ADDRESS OF ASSOCIATED DEB
&P.GIOCR DS    0A -           ADDRESS OF GRAPHICS I/O CONTROL ROUTINE
&P.OFLGS DS    BL1 -          SAME AS DCBOFLG BEFORE OPEN
&P.GIOCA DS    AL3 -          ADDRESS OF GRAPHICS I/O CONTROL ROUTINE
         SPACE 1
.FIN     MEND
         END

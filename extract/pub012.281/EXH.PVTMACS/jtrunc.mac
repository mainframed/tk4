         MACRO
&NAME    JTRUNC &FILE=
.*       GENERATES A CALL TO THE WORKFILE I/O PACKAGE TO TRUNCATE
.*       AN OUTPUT BUFFER. THIS CAUSES THE CURRENT OUTPUT BUFFER
.*       TO BE REGARDED AS FULL AND PUT TO FILE. THE NEXT LOGICAL
.*       RECORD WILL BE PUT IN THE NEXT PHYSICAL BUFFER.
         AIF   (K'&FILE EQ 0).ERR1
&NAME    JINST LA,R10,&FILE,FILE
         L     R12,JMLC                 LOAD BASE
         BAL   R9,JTRUNC(,R12)          GO TO JTRUNC
         MEXIT
.ERR1    MNOTE 8,'PARAMETER ERROR.'
         MEND

         MACRO
&NAME    JPUTL &FILE=,&BUFREQ=
.*       GENERATES A CALL TO THE WORKFILE I/O MODULE TO GET THE ADDRESS
.*       OF THE NEXT RECORD IN THE BUFFER. WHEN END OF BUFFER
.*       IS REACHED THE WHOLE BUFFER IS PUT ON FILE.
         AIF   (K'&FILE EQ 0 OR K'&BUFREQ EQ 0).ERR1
&NAME    JINST LA,R10,&FILE,FILE
         JINST LA,R11,&BUFREQ
         L     R12,JMLC                 LOAD BASE
         BAL   R9,JPUTL(,R12)           GO TO JPUTL
         MEXIT
.ERR1    MNOTE 8,'PARAMETER ERROR.'
         MEND

PROC 0
CONTROL NOMSG
FREE FI(IN OUT)
DELETE DSTATS.REPORT
CONTROL MSG
ISPEXEC VGET (DVOL DDSN REPORT DPARM)
  IF &REPORT = T THEN ALLOC F(OUT) DS(*)
  IF &REPORT = D THEN ALLOC F(OUT) DS(DSTATS.REPORT) SPA(10,10) TR NEW
  IF &DVOL = THEN ALLOC F(IN) DS(&DDSN) SHR
      ELSE          ALLOC FI(IN) DS(&DDSN) SHR VOL(&DVOL)
      CONTROL NOMSG
$ STATS '&DPARM'
CONTROL MSG
   IF &REPORT = T THEN GOTO EXIT
   %GENPRINT DSN(DSTATS.REPORT)
EXIT:  +
      CONTROL NOMSG
FREE FI(IN OUT)
CONTROL MSG

PROC 0 UPMEM PARM APROJ ALIB ATYPE PPROJ PLIB PTYPE IPROJ ILIB ITYPE   -
RDISP
CONTROL NOMSG
FREE F(ATTRX SYSPRINT SYSIN SYSUT1 SYSUT2)
CONTROL MSG
WRITE ** ACQUIRING ISPF VARIABLES
ISPEXEC VGET (PARM IPROJ ILIB ITYPE PPROJ PLIB PTYPE APROJ ALIB ATYPE  -
UPMEM RDISP)
IF &RDISP NE NEW THEN GOTO ALLOC
  CONTROL NOMSG
  DELETE IEBUPDTE.REPORT
  CONTROL MSG
ALLOC: WRITE ** ALLOCATING DATA SETS
ATTR ATTRX BLKSIZE(6171) LRECL(121) RECFM(F B A)
ALLOC F(SYSUT1) DS('&PPROJ..&PLIB..&PTYPE')
ALLOC F(SYSUT2) DS('&APROJ..&ALIB..&ATYPE')
ALLOC F(SYSPRINT) DS(IEBUPDTE.REPORT) &RDISP SPA(30,90) TR USI(ATTRX)
IF &UPMEM = THEN GOTO NOMEM
     ALLOC F(SYSIN) DS('&IPROJ..&ILIB..&ITYPE(&UPMEM)') SHR
GOTO DOIT
NOMEM: +
     ALLOC F(SYSIN) DS('&IPROJ..&ILIB..&ITYPE') SHR
DOIT:  +
WRITE ** CALLING IEBUPDTE **
     $P IEBUPDTE '&PARM'
%GENPRINT  DSN(IEBUPDTE.REPORT)
CONTROL NOMSG
FREE F(SYSPRINT SYSIN SYSUT1 SYSUT2)
CONTROL MSG

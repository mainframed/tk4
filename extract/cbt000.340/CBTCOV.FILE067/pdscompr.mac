PROC 0
CONTROL NOMSG
FREE F(SYSPRINT PDS1 PDS2)
DEL PDSCOMPR.REPORT
CONTROL MSG
ISPEXEC VGET (PARM PDSDSN1 PDSDSN2 PDSPROJ1 PDSPROJ2 PDSLIB1 PDSLIB2   -
PDSTYPE1 PDSTYPE2)
ALLOC F(SYSPRINT) DS(PDSCOMPR.REPORT) NEW SPA(90,90) TR
IF &PDSDSN1 = THEN  ALLOC F(PDS1) DS('&PDSPROJ1..&PDSLIB1..&PDSTYPE1') -
SHR
              ELSE  ALLOC F(PDS1) DS(&PDSDSN1) SHR
IF &PDSDSN2 = THEN  ALLOC F(PDS2) DS('&PDSPROJ2..&PDSLIB2..&PDSTYPE2') -
SHR
              ELSE  ALLOC F(PDS2) DS(&PDSDSN2) SHR
$ PDSCOMPR '&PARM'
FREE F(SYSPRINT PDS1 PDS2)
%GENPRINT DSN(PDSCOMPR.REPORT)

PROC 0 REPORT DSNO DSNN PROJO PROJN LIBO LIBN TYPEO TYPEN MEMO MEMN
          CONTROL NOMSG
FREE F( SYSPRINT SYSUT1 SYSUT2 SYSIN)
     DEL IEBCOMPR.REPORT
          CONTROL MSG
          ALLOC F(SYSIN) DUMMY
ISPEXEC VGET (REPORT DSNO DSNN PROJO PROJN LIBO LIBN TYPEO TYPEN MEMO  -
MEMN)
          IF &DSNO = THEN GOTO CKMEMO
          ALLOC F(SYSUT1) DS(&DSNO) SHR
          GOTO CKN
CKMEMO:   IF &MEMO = THEN GOTO ALLOCON
          ALLOC F(SYSUT1) DS('&PROJO..&LIBO..&TYPEO(&MEMO)') SHR
          GOTO CKN
ALLOCON:  +
          ALLOC F(SYSUT1) DS('&PROJO..&LIBO..&TYPEO') SHR
CKN:      +
          IF &DSNN = THEN GOTO CKMEMN
          ALLOC F(SYSUT2) DS(&DSNN) SHR
          GOTO CKRPT
CKMEMN:   IF &MEMN = THEN GOTO ALLOCNN
          ALLOC F(SYSUT2) DS('&PROJN..&LIBN..&TYPEN(&MEMN)') SHR
          GOTO CKRPT
ALLOCNN:  +
          ALLOC F(SYSUT2) DS('&PROJN..&LIBN..&TYPEN') SHR
CKRPT:    +
          IF &REPORT = T THEN GOTO ALLOCT
          ALLOC F(SYSPRINT) DS(IEBCOMPR.REPORT) NEW SPA(90,90) TR
          GOTO DOIT
ALLOCT:   +
          ALLOC F(SYSPRINT) DS(*)
DOIT:     +
$P IEBCOMPR
          CONTROL NOMSG
FREE F( SYSPRINT SYSUT1 SYSUT2 SYSIN)
          CONTROL MSG
IF &REPORT = T THEN EXIT
%GENPRINT DSN(IEBCOMPR.REPORT)

*********
****
*   THIS VERSION SUPPORTS 5668-960/5665-268 VERSION 1 AND VERSION 2
*
*   THE CODE DYNAMICALLY DETECTS WHICH VERSION OF ISPF IS
*   RUNNING AND WHETHER ISPF IS RUNNING ABOVE THE LINE IN XA.
*
*     OCTOBER 1987  *****
****
*********

THIS VERSION OF QUEUE SUPPORTS AN ISPF/PDF INTERFACE THAT
ALLOWS QUEUE TO USE ISPF DISPLAY SERVICES.  THIS MAKES
QUEUE LOOK LIKE ANY OTHER ISPF PROCESSOR.  IT ALSO ALLOWS
SPLIT SCREEN PROCESSING AND ALL OTHER ISPF FUNCTIONS.

ALL QUEUE OUTPUT IS DONE VIA THE TABLE DISPLAY CAPABILITIES
OF ISPF. HOWEVER ANY DATASET THAT IS REQUESTED WILL INVOKE THE
BROWSE SERVICE, WHICH ALLOWS ALL THE NORMAL BROWSE FUNCTIONS
(SCROLL MAX, FIND PREVIOUS, ETC.).

THE ONLY DRAWBACKS WITH THE ISPF INTERFACE SEEM TO POSSIBLE
DESIGN DEFICENCIES IN ISPF ITSELF:
   1. A NULL ENTRY ON A TABLE DISPLAY IS NOT RETURNED TO
      CALLER OF THE DISPLAY SERVICE.  THIS RESULTS IN LOSING
      THE ABILITY TO REFRESH THE SCREEN BY JUST HITTING ENTER.
 ***** THIS IS NOW FIXED IN ISPF V2.X VIA THE )REINIT COMMAND  *****
 ***** SEE THE SCREEN IN MEMBER "QNM1" ******
   2. THE BROWSE "FIND ALL" FUNCTION IS SIGNIFICANTLY WORSE
      IN FUNCTION THAN THE ORIGINAL QUEUE "FIND ALL".
   3. POSITIONING OF OUTPUT FIELDS IN THE TABLE DISPLAY PANEL
      IS NOT VERY FLEXIBLE AND NOT DOCUMENTED WELL.
   4. CURRENT (4/83) IMPLEMENTATION OF ISPF/PDF TRUNCATES LEADING
      BLANKS FROM TABLE DISPLAY LINES NO MATTER HOW THE FIELD
      IS DEFINED (THERE IS SUPPOSED TO BE AN APAR ON THIS).
  ***** THIS IS MUCH BETTER IN ISPF VERSION 2 *****
   5. TO IMPLEMENT THE OLD QUEUE 'B' COMMAND UNDER LIST, YOU MUST
      ROLL THE SCREEN IN BROWSE TO FORCE IT TO FIND A NEW LAST
      RECORD.  THIS MEANS THAT TO WATCH A JOB LOG YOU MUST
      KEEP CYCLING PFKS 7 AND 8.
   ******IN VERSION 2 OF ISPF YOU CAN ACCOMPLISH THE SAME THING******
   ******BY CONSTANTLY REQUESTING "MAX" MOVEMENT IN THE DOWN   ******
   ******DIRECTION.                                            ******
      ************************************************************
   ***** IN VERSION 2.3 OF ISPF, QUEUE USES THE DEFINED BROWSE  *****
   ***** INTERFACE (BRIF). THIS INTERFACE HOWEVER ASSUMES THAT  *****
   ***** ONCE THE LAST LINE IS FOUND THEN IT NEVER MOVES. WORK  *****
   ***** IS UNDERWAY ON CIRCUMVENTING THIS DESIGN "FEATURE".    *****


THE FOLLOWING MODULES HAVE BEEN MODIFIED TO ALLOW THE QUEUE
COMMAND TO USE ISPF/PDF DISPLAY SUPPORT

  ISRQ        ISPF INTERFACE MODULE. THIS IS INVOKED BY ISPF,
              IT IN TURN LINKS TO THE QUEUE MODULE PROPER.

  QUEUE       DO DEFINE OF VARIABLES, CREATE TABLE, DESTROY
              TABLE AND DELETE VARIABLES

  ALLOCATE    HANDLE CASE WHERE ALLOCATION DDNAME IS BLANK
              (DONE TO SUPPORT Q UNDER BOTH SIDES OF SPLIT
              SCREEN)

  DISPLAY     HANDLE ADDING LINES TO TABLE AND AT END OF
              LINES TO DISPLAY TABLE AND GET COMMAND BACK

  INIT        HANDLE NEW PARAMETER INPUT, LET DAIR SUPPLY
              DDNAMES FOR FILES

  LISTDS      MUCH CODE HAS BEEN ADDED TO SUPPORT ISPF.
              THE ISPF BROWSE INTERFACE IS USED WITHOUT
              CREATING A TEMPORARY FILE.

  CONSOLE     THIS MODULE ENTERS KEY 0 ONLY TO FETCH THE LINE
              AND THEN EXITS TO KEY 8 BEFORE CALL TO DISPLAY.
              ALSO THE TOP AND BOTTOM LINES ARE NOT GENERATED
              FOR THE ISPF CASE (REDUNDANT).

  REPOS       DISABLE THE MODEL COMMAND UNDER ISPF SUPPORT.
              IT IS NOT NEEDED SINCE ISPF CONTROLS THE SCREEN.

  READSPC     HANDLES ENTRY IN 31 BIT MODE FOR XA INCASE IT WAS CALLED
              BY THE BROWSE READ ROUTINE IN ISPF V2.3

  QCOMMON     NEW SECTION ADDED FOR BROWSE CONTROL

  BFTQU000 -     TUTORIAL MENUS FOR ISPF
    BFTQU073

  BFGPG000       SAMPLE MENU TO INVOKE ISPF QUEUE AS ONE OF MANY FUNC.

  BFCG010        CLIST INVOKEB BY PANEL BFGPG000. IT DISPLAYS THE NEXT
                 PANEL ONLY FOR SOFTWARE USERS.

  BFGPNL         PANEL TO INVOKE QUEUE AND SPECIFY OPTIONAL PARMS.

  QNM1           QUEUE'S TABLE DISPLAY MENU. NOTE THIS NAME IS
                 FIXED IN THE CODE (FIELD TBPNL IN QCOMMON).
                 THE PFKEYS ARE DEFAULTED TO THE NORMAL 'Q' KEYS

*****************************************************************
*****************************************************************
*****************************************************************

*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE

BESIDES THE NORMAL 'Q' MODULE AND THE 'QCOMMON' MODULE,
FOR ISPF/PDF USE THE ISRQ MODULE MUST BE GENERATED AND
AVAILABLE TO THE ISPF USER. (SEE $BFGJCLI)

THE 'Q' AND 'QCOMMON' MODULES ARE THE SAME WHETHER OR NOT
THE ISPF INTERFACE IS GENERATED.

*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE*NOTE

*****************************************************************
*****************************************************************
*****************************************************************

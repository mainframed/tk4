         MACRO
         IECGBL  &TWOBYT,&IOTST,&DA,&RR
         GBLB  &IECITB,&IECITST,&D2311,&D2321,&D2301,&D2303,&D2305
         GBLB  &R2311,&R2321,&R2301,&R2303,&R2305,&RML,&DML
         LCLA  &D,&R
&D       SETA  &DA                      GET DA PARAMETER
&R       SETA  &RR                      GET RES/REL PARAMETER
&IECITB  SETB  (&TWOBYT EQ 1)           SET TWO BYTE GLOBAL
&IECITST SETB  (&IOTST EQ 1)            SET IO TEST GLOBAL
.*   SET DA GLOBALS
         AIF   (&D EQ 0).NODA           TEST FOR DA DEVICE
&D2311   SETB  (&D-&D/2*2 EQ 1)         SET 2311 GLOBAL
&D2321   SETB  (&D/2-&D/4*2 EQ 1)       SET 2321 GLOBAL
&D2301   SETB  (&D/4-&D/8*2 EQ 1)       SET 2301 GLOBAL
&D2303   SETB  (&D/8-&D/16*2 EQ 1)      SET 2303 GLOBAL
&D2305   SETB  (&D/16-&D/32*2 EQ 1)     SET 2305 GLOBAL
&DML     SETB  (&D/32-&D/64*2 EQ 1)     SET MERLIN GLOBAL
.*   SET RESERVE/RELEASE GLOBALS
.NODA    AIF   (&R EQ 0).NORES           TEST FOR RES/REL         M5438
&R2311   SETB  (&R-&R/2*2 EQ 1)         SET RR FOR 2311
&R2321   SETB  (&R/2-&R/4*2 EQ 1)       SET RR FOR 2321
&R2301   SETB  (&R/4-&R/8*2 EQ 1)       SET RR FOR 2301
&R2303   SETB  (&R/8-&R/16*2 EQ 1)      SET RR FOR 2303
&R2305   SETB  (&R/16-&R/32*2 EQ 1)     SET RR FOR 2305
&RML     SETB  (&R/32-&R/64*2 EQ 1)     SET RR FOR MERLIN
.NORES   ANOP                                                     M5438
         MEND
         END

         MACRO
&LABEL  $RESTOR &KEEP=
         LCLA  &I
         LCLC  &LAST
&LAST    SETC  '15'
&I       SETA  N'&KEEP
         AIF   ('&LABEL' EQ '').SKIP01
&LABEL   DS    0H
.SKIP01  AIF   (&I LE 0).SKIP04
         AIF   ('&KEEP(&I)' EQ 'R15').SKIP02
         ST    &KEEP(&I),4*&KEEP(&I).(,BASESAVE)  SAVE KEEP REGISTER
         AGO   .SKIP03
.SKIP02  ANOP
&LAST    SETC  '14'
.SKIP03  ANOP
&I       SETA  &I-1
         AGO   .SKIP01
.SKIP04  LM    0,&LAST,0(BASESAVE) RESTORE CALLER'S REGISTERS
         MEND

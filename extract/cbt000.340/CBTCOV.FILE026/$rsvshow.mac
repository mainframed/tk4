)BODY
%------------------------------ VTOC SHOW Selection --------------------
%COMMAND ===>_ZCMD
+
% Enter SEARCH arguments below:
+
+
%*+ Volume(S)          _OP1   _VALUE1+
%*+ Device Address     _OP2   _VALUE2+
+   Mount Attribute    _OP7   _VALUE7 +
+   Volume Pct Used    _OP3   _VALUE3+
+   Total   FREE Cyls  _OP4   _VALUE4+
+   Largest FREE Cyls  _OP5   _VALUE5+
+   Number of Extents  _OP6   _VALUE6+
+
+
%*+Arguments may be generic:
+ (Example: All volumes beginning with JT use JT or JT*)
+ (Example: All volumes on A8x string     use A8 or A8*)
)INIT
 .CURSOR = VALUE1
 &OP1 = 'EQ'
 &OP2 = 'EQ'
 &OP3 = 'LE'
 &OP4 = 'GE'
 &OP5 = 'GE'
 &OP6 = 'GE'
 &OP7 = 'EQ'
 &VOLUME = &Z
 &CUU    = &Z
 &VOLPCTN = &Z
 &NCYLN  = &Z
 &LCYLN  = &Z
 &NXTN   = &Z
 &VOLATTR= &Z
)PROC
 &NAMECOND = &Z
 IF (&VALUE1 ^= &Z)
   &VOLUME = &VALUE1
   &SHOWOP1 = &OP1
   VER(&SHOWOP1,LIST,NB,EQ,NE,LE,LT,GE,GT,MSG=RSVT004)
   &NAMECOND = 'VOLUME,&SHOWOP1.'
 IF (&VALUE2 ^= &Z)
   &CUU    = &VALUE2
   &SHOWOP2 = &OP2
   VER(&SHOWOP2,LIST,NB,EQ,NE,LE,LT,GE,GT,MSG=RSVT004)
   IF (&NAMECOND ^= &Z)  &NAMECOND = '&NAMECOND.,CUU,&SHOWOP2.'
   IF (&NAMECOND  = &Z)  &NAMECOND = 'CUU,&SHOWOP2.'
 IF (&VALUE3 ^= &Z)
   &VOLPCTN = &VALUE3
   VER (&VOLPCTN,RANGE,000,100)
   &SHOWOP3 = &OP3
   VER(&SHOWOP3,LIST,NB,EQ,NE,LE,LT,GE,GT,MSG=RSVT004)
   IF (&NAMECOND ^= &Z)  &NAMECOND = '&NAMECOND.,VOLPCTN,&SHOWOP3.'
   IF (&NAMECOND  = &Z)  &NAMECOND = 'VOLPCTN,&SHOWOP3.'
 IF (&VALUE4 ^= &Z)
   &NCYLN  = &VALUE4
   VER (&NCYLN,RANGE,0,9999)
   &SHOWOP4 = &OP4
   VER(&SHOWOP4,LIST,NB,EQ,NE,LE,LT,GE,GT,MSG=RSVT004)
   IF (&NAMECOND ^= &Z)  &NAMECOND = '&NAMECOND.,NCYLN,&SHOWOP4.'
   IF (&NAMECOND  = &Z)  &NAMECOND = 'NCYLN,&SHOWOP4.'
 IF (&VALUE5 ^= &Z)
   &LCYLN   = &VALUE5
   VER (&LCYLN,RANGE,0,99999)
   &SHOWOP5 = &OP5
   VER(&SHOWOP5,LIST,NB,EQ,NE,LE,LT,GE,GT,MSG=RSVT004)
   IF (&NAMECOND ^= &Z)  &NAMECOND = '&NAMECOND.,LCYLN,&SHOWOP5.'
   IF (&NAMECOND  = &Z)  &NAMECOND = 'LCYLN,&SHOWOP5.'
 IF (&VALUE6 ^= &Z)
   &NXTN    = &VALUE6
   VER (&NXTN,RANGE,0,9999)
   &SHOWOP6 = &OP6
   VER(&SHOWOP6,LIST,NB,EQ,NE,LE,LT,GE,GT,MSG=RSVT004)
   IF (&NAMECOND ^= &Z)  &NAMECOND = '&NAMECOND.,NXTN,&SHOWOP6.'
   IF (&NAMECOND  = &Z)  &NAMECOND = 'NXTN,&SHOWOP6.'
 IF (&VALUE7 ^= &Z)
   &VOLATTR = &VALUE7
   &VOLATTR = TRANS(&VOLATTR
              PRIVATE,PRI PRV,PRI
              STORAGE,STO STG,STO
              PUBLIC,PUB  *,*)
   VER (&VOLATTR,NB,LIST,PRI,PUB,STO,MSG=RSVT006)
   &SHOWOP7 = &OP7
   VER(&SHOWOP7,LIST,NB,EQ,NE,LE,LT,GE,GT,MSG=RSVT004)
   IF (&NAMECOND ^= &Z)  &NAMECOND = '&NAMECOND.,VOLATTR,&SHOWOP7.'
   IF (&NAMECOND  = &Z)  &NAMECOND = 'VOLATTR,&SHOWOP7.'
 VPUT (VOLUME CUU VOLPCTN NCYLN LCYLN NXTN VOLATTR NAMECOND)
)END

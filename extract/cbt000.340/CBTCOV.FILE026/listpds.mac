+------------------% List/Punch Partitioned Data Set +------------------
%Command ===>_ZCMD
+
+  Partitioned Dataset%===>_PDSDSN
+
+  Processing Option(s):
+      DECK=   %_PDSDECK+              UPDTE= %_PDSUPDTE+  (_PD+)
+      HEXOUT= %_PDSHEX+               SPF=   %_PDSSPF+
+      LINECNT=%_PDSLNCT+              TEXT=  %_PDSTEXT+
+      LIST=   %_PDSLIST+              TRUNC= %_PDSTRUNC+
+                                      XLATE= %_PDSXLATE+
+
+  Punch Dataset Name%===>_PUNDSN
+                Disp%===>_PUNDISP+       NEW, SHR, OLD, MOD
+
+  Batch or TSO Execution%===>_PDSEXEC+   B or T
+
+  Edit JCL prior to Submit%===>_PDSSUB+   Y or N
_DEBUG
)INIT
 .CURSOR = PDSDSN
 .HELP   = TLISTPDS
 &PDSEXEC = TRANS(TRUNC(&PDSEXEC,1)  ' ',BATCH T,TSO B,BATCH *,*)
 &PDSDECK = TRANS(&PDSDECK    ' ',NO *,*)
 &PDSHEX  = TRANS(&PDSHEX    ' ',NO *,*)
 &PDSLNCT = TRANS(&PDSLNCT    '  ',58 *,*)
 &PDSLIST = TRANS(&PDSLIST    ' ',YES *,*)
 &PDSUPDTE= TRANS(&PDSUPDTE    ' ',YES *,*)
 &PDSSPF  = TRANS(&PDSSPF ' ',YES *,*)
 &PDSTEXT = TRANS(&PDSTEXT    ' ',YES *,*)
 &PDSXLATE= TRANS(&PDSXLATE    ' ',NO *,*)
 &PDSTRUNC= TRANS(&PDSTRUNC    ' ',NO *,*)
 &PDSSUB = TRANS(&PDSSUB    ' ',NO *,*)
 &PUNDISP = TRANS(&PUNDISP   ' ',NEW *,*)
 IF (&PUNDSN = &Z)
     &PUNDSN = 'LISTPDS.DECK'
)PROC
 VER (&PDSDSN,NONBLANK)    VER (&PDSDSN,DSNAME)
 &PDSDECK = TRANS(TRUNC(&PDSDECK,1) N,NO Y,YES *,*)
 VER (&PDSDECK,LIST,NO,YES)
 IF (&PDSDECK = YES)
     VER (&PUNDSN,NONBLANK)   VER (&PUNDSN,DSNAME)
 &PDECK  = TRANS(TRUNC(&PDSDECK,1) N,NODECK Y,DECK *,*)
 &PDSHEX = TRANS(TRUNC(&PDSHEX,1) N,NO Y,YES *,*)
 VER (&PDSHEX,LIST,NO,YES)
 &PHX   = TRANS(TRUNC(&PDSHEX,1) N,&Z Y,HEXOUT *,*)
 VER (&PDSLNCT,NUM)
 &PLNCT = &PDSLNCT
 &PDSLIST = TRANS(TRUNC(&PDSLIST,1) N,NO Y,YES *,*)
 VER (&PDSLIST,LIST,NO,YES)
 &PL     = TRANS(TRUNC(&PDSLIST,1) N,NOLIST Y,LIST *,*)
 &PDSUPDTE= TRANS(TRUNC(&PDSUPDTE,1) N,NO Y,YES *,*)
 VER (&PDSUPDTE,LIST,NO,YES)
 IF (&PDSUPDTE = NO)
    &PUP = &Z
 IF (&PDSUPDTE = YES)
    IF (&PD = &Z)
       &PUP = UPDTE
    IF (&PD ^= &Z)
       &PUP = 'UPDTE(&PD)'
 &PDSSPF  = TRANS(TRUNC(&PDSSPF,1)  N,NO Y,YES *,*)
 VER (&PDSSPF,LIST,NO,YES)
 &PSPF   = TRANS(TRUNC(&PDSSPF,1) N,NOSPF Y,SPF *,*)
 &PDSTEXT = TRANS(TRUNC(&PDSTEXT,1) N,NO Y,YES *,*)
 VER (&PDSTEXT,LIST,NO,YES)
 &PTXT   = TRANS(TRUNC(&PDSTEXT,1) N,NOTEXT Y,&Z *,*)
 &PDSXLATE= TRANS(TRUNC(&PDSXLATE,1) N,NO Y,YES *,*)
 VER (&PDSXLATE,LIST,NO,YES)
 &PXL = TRANS(TRUNC(&PDSXLATE,1) N,NOXLATE Y,&Z *,*)
 &PDSTRUNC= TRANS(TRUNC(&PDSTRUNC,1) N,NO Y,YES *,*)
 VER (&PDSTRUNC,LIST,NO,YES)
 &PTR = TRANS(TRUNC(&PDSTRUNC,1) N,NOTRUNC Y,&Z *,*)
 &PUNDISP = TRANS(TRUNC(&PUNDISP,1) N,NEW O,OLD S,SHR M,MOD *,*)
 VER (&PUNDISP,LIST,NEW,OLD,SHR,MOD)
 &PDSEXEC = TRANS(TRUNC(&PDSEXEC,1)  ' ',BATCH T,TSO B,BATCH *,*)
 VER (&PDSEXEC,LIST,BATCH,TSO)
 IF (&PDSEXEC = BATCH)
   &PDSSUB = TRANS(TRUNC(&PDSSUB,1) ' ',N Y,Y *,*)
   VER (&PDSSUB,LIST,Y,N)
 &SEL = 'CMD(%LISTPDS &DEBUG)'
)END

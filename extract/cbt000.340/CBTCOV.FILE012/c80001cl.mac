PROC 1 DSN COPIES(1) CLASS(A) HOLD DEBUG
CONTROL NOMSG,NOLIST,NOCONLIST,NOSYMLIST
IF &DEBUG = DEBUG THEN CONTROL MSG,LIST,CONLIST,SYMLIST
FREE FI(IN,OUT) ATTRLIST(ATT)
CONTROL MSG
WRITE ENTER SEQ OR PDS (DEFAULT IS PDS)
WRITENR ENTER =>
T: +
READ &TYPE
IF &TYPE=  THEN GOTO P
IF &TYPE=PDS THEN GOTO P
IF &TYPE=SEQ THEN GOTO S
WRITENR ERROR IN REPLY - ENTER SEQ OR PDS =>
GOTO T
S: +
WRITE CALLING OSSPRNT2 . . .
%OSSPRNT2 &DSN COPIES(&COPIES.) CLASS(&CLASS.) &HOLD
GOTO E
P: +
WRITE ENTER MEMBER NAMES IN THE ORDER IN WHICH YOU WISH THEM PRINTED
WRITE YOU MAY ENTER UP TO 10 MEMBERS
WRITENR ENTER =>
READ &M0 &M1 &M2 &M3 &M4 &M5 &M6 &M7 &M8 &M9
ATTR ATT LRECL(133) BLKSIZE(1330) OUTPUT RECFM(F,B,A) DSORG(PS)
ALLOCATE DDNAME(OUT) SYSOUT(&CLASS.) USING(ATT) &HOLD
IF &SUBSTR(1:1,&DSN) = &STR(') THEN DO
   SET &DSN = &SUBSTR(1:&LENGTH(&DSN)-1,&DSN)
   SET &QUOTE = &STR(')
END
ELSE SET &QUOTE = &STR()
%PRT253 ASA
DO WHILE &COPIES GT 0
Y: +
SET &S0=&M0
SET &S1=&M1
SET &S2=&M2
SET &S3=&M3
SET &S4=&M4
SET &S5=&M5
SET &S6=&M6
SET &S7=&M7
SET &S8=&M8
SET &S9=&M9
L: +
IF &S0=  THEN GOTO X
WRITENR .
ALLOCATE DATASET(&DSN.(&S0.)&QUOTE.) DDNAME(IN) SHR
CALL 'UTLIB(OSSPRINT)'
SET &S0=&S1
SET &S1=&S2
SET &S2=&S3
SET &S3=&S4
SET &S4=&S5
SET &S5=&S6
SET &S6=&S7
SET &S7=&S8
SET &S8=&S9
SET &S9=
FREE FI(IN)
GOTO L
X: +
WRITE >>>
SET &COPIES = &COPIES-1
END
E: +
WRITE . . . LISTS COMPLETE.
IF &DEBUG = THEN CONTROL NOMSG
FREE FI(OUT,IN) ATTRLIST(ATT)

MDUMP,MSNAP,MTRACE - FORTRAN DEBUGGING AIDS.
THESE ROUTINES USE THE IBM FORTRAN IV EXTENDED ERROR HANDLING FACILITY.
MDUMP AND MTRACE ROUTINES MODIFY THE STANDARD FORTRAN LIBRARY ROUTINES A
MUST NOT BE CALLED MORE THAN ONCE IN A PROGRAM.
MDUMP
BASIC FACILITY
     IF THE STATEMENT
                     CALL MDUMP
IS INCLUDED IN A PROGRAM THE NEXT FORTRAN ERROR (IHCXXXI) THAT OCCURS AF
EXECUTION OF THE MDUMP ROUTINE CAUSES
     (A) EXECUTION TO BE TERMINATED WITH A USER CODE OF 17,
     (B) A MESSAGE 'MDUMP CALLED ON FORTRAN ERROR IHCXXXI (ABDUMP USER=0
         SPECIFYING ERROR CODE, TO BE ADDED TO THE HASP SYSTEM LOG AT TH
         START OF THE JOB OUTPUT,
     (C) A NORMAL ABEND DUMP IF A SYSUDUMP CARD IS PROVIDED IN JCL FOR S
FULL FACILITY
IN CERTAIN CIRCUMSTANCES IT MAY BE DESIRABLE TO HAVE DUMPS AFTER SEVERAL
OR TO CAUSE SOME DELIBERATELY. THE STATEMENT
                      CALL MDUMP (N)
WHERE N IS AN INTEGER, INITIALISES THE MDUMP SYSTEM. IT SPECIFIES THAT N
THEN 'N' DUMPS ARE TO BE ALLOWED. THE DUMPS MAY BE CAUSED BY 'N' IHC ERR
(SUBJECT TO THE CONSTRAINTS OF THE NUMBER OF ERRORS PER ERROR TYPE ALLOW
FORTRAN IV GAND H PROGRAMMERS GUIDE) OR BY 'N' MSNAPS (SEE NEXT SECTION)
ANY COMBINATION OF THESE.
FOR THE FULL MDUMP FACILITY TO WORK A
                   //MDUMPOUT   DD   SYSOUT=A
CARD MUST BE INCLUDED IN THE JCL FOR THE GO STEP. IF THIS IS NOT PROVIDE
FIRST IHC ERROR ON MSNAP WILL CAUSE THE BASIC MDUMP FACILITY ACTIONS.
IF ON IHC2171 (END OF FILE) ERROR OCCURS THE ERROR CANNOT BE CORRECTED S
BASIC MDUMP FACILITY IS INVOKED. FOR OTHER ERRORS ON MSNAPS THE 1ST TO T
(N-1) THE CAUSE.
     (A) A MESSAGE 'MDUMP CALLED ON FORTRAN ERROR IHCXXXI (SNAP ID=NN)'
         ADDED TO THE HASP SYSTEM LOG,
     (B) A DUMP TO BE PRODUCED WITH THE SNAP IDENTIFICATION CODE, CORRES
         TO THE MESSAGE, ON THE FIRST LINE,
     (C) STANDARD FORTRAN EXTENDED ERROR HANDLING CORRECTIVE ACTION TO B
         (SEE FORTRAN IV G AND H PROGRAMMERS GUIDE).
                                     - 2 -
THE 'N'TH ERROR CAUSES THE BASIC MDUMP ACTION TO BE TAKEN, TERMINATING T
EXECUTION.
NOTE CALL MDUMP IS EQUIVALENT TO CALL MDUMP(1).
MSNAP
THE MSNAP ROUTINE ALLOWS THE PROGRAMMER TO CAUSE A DUMP TO BE TAKEN. THE
MESSAGE IN THE HASP LOG READS
   'MSNAP CALLED ON PROGRAMMERS REQUEST (SNAP ID=NN)'
IF THE FULL MDUMP FACILITIES HAVE PREVIOUSLY BEEN INVOKED AND A MDUMPOUT
IS PROVIDED AND THERE HAVE NOT BEEN (N-1) DUMPS ALREADY THEN EXECUTION W
CONTINUE AFTER THE MSNAP, OTHERWISE BASIC ACTION WILL BE TAKEN AND THE R
TERMINATED WITH A USER CODE 17.
MTRACE
    IF THE STATEMENT
                   CALL MTRACE
IS INCLUDED IN A PROGRAM SO THAT IT IS EXECUTED BEFORE OR ABEND OCCURS T
STANDARD FORTRAN TRACEBACK IS PRODUCED ON FT06 AND THE ABEND CONTINUES.

************************************************************************

  MEMBER   - $DOC5

  SYSTEM   - PARM FIELD SCANNING PROGRAM

  PROGRAMS - SM19PRM  :  SCANS PARM FIELD

  MACROS   - ENTER    :  ADDRESSABILITY ETC.
           - PARMSCAN :  SETS UP LINKAGE AND CALLS THIS PROGRAM

************************************************************************


    THIS MODULE IS CALLED FROM AN ASSEMBLER PROGRAM BY USING MACRO
 PARMSCAN. THIS SETS UP THE LINKAGE AND CONSTANTS AND RETURN AREAS
 FOR THIS PROGRAM.

    THE MODULE SCANS THE PARM FIELD WHICH WAS PASSED TO THE CALLING
 PROGRAM FOR POSITIONAL PARAMETERS AND KEYWORDS THAT ARE SPECIFIED
 IN THE PARMSCAN MACRO.

    THE PROGRAM RETURNS FLAGS IN GR0 AS TO WHICH KEYWORDS WERE FOUND
 IN THE PARM FIELD. A BIT IS ASSIGNED IN REGISTER 0 STARTING AT THE
 LOW-ORDER END TO EACH KEYWORD IN THE ORDER THAT THEY ARE SPECIFIED
 IN THE MACRO. IF A KEYWORD IS FOUND IN THE PARM FIELD THEN THE
 CORRESPONDING BIT IS TURNED ON.

    IF A POSITIONAL PARAMETER IS FOUND THEN THE CORRECT BIT IS TURNED
 ON IN REGISTER 0 AND NO OTHER ACTION IS TAKEN.

    IF A KEYWORD IS FOUND THEN THE CORRECT BIT IS TURNED ON IN REGISTER
 0 AND THE VALUE OF THE KEYWORD IS RETURNED TO THE CALLER AND IS
 ADDRESSED BY LABEL "KEYN" WHERE N IS THE NUMBER OF THE KEYWORD IN THE
 PARMSCAN MACRO. THE VALUE CAN BE UP TO 8 BYTES LONG AND IS LEFT
 JUSTIFIED IN THE RECEIVING FIELD. HOWEVER, IF A NUMERIC FIELD IS
 SPECIFIED (SEE LATER) THEN THE VALUE IS RIGHT JUSTIFIED IN AN 8 BYTE
 FIELD OF ZEROS SO THAT IT CAN BE PACKED IMMEDIATELY.

    SPECIFIC VALUE(S) OF A KEYWORD CAN ALSO BE TESTED FOR.


    THE MACRO "PARMSCAN" RELIES ON SEVERAL GLOBAL VARIABLES FOR ITS
 CSECT NAME AND LABELS.



    THE "PARMSCAN" MACRO
    ********************


LABEL PARMSCAN (LIST OF KEYWORDS SEPARATED BY COMMAS)


    THE LABEL IS OPTIONAL AND BECOMES THE LABEL ON THE FIRST
                          EXECUTABLE INSTRUCTION IN THE EXPANSION.

    THE LIST OF KEYWORDS CAN BE IN THE FOLLOWING FORMATS :

       KEYWORD       -    THIS INDICATES A POSITIONAL PARAMETER AND
                          SHOULD BE CODED EXACTLY AS IT WOULD APPEAR
                          IN THE PARM FIELD.

       KEYWORD=      -    THIS INDICATES A KEYWORD PARAMETER AND SHOULD
                          BE CODED AS ABOVE.

       KEYWORD=VALUE -    THIS INDICATES A KEYWORD PARAMETER AND SHOULD
                          BE CODED AS ABOVE. THE VALUE 'VALUE' IS
                          CHECKED FOR AND THE CORRESPONDING BIT SET IF
                          IT IS FOUND. 'VALUE' MAY ALSO BE SPECIFIED AS
                          'VALUE/VALUE/VALUE...' AND THE CORRECT BIT
                          WILL BE SET ACCORDING TO THE VALUE ENTERED.

       KEYWORD=0     -    THIS INDICATES A NUMERIC KEYWORD PARAMETER AND
                          SHOULD BE CODED AS ABOVE.



  EXAMPLES :
  ********

LABEL PARMSCAN (SPLIT=0,ACT=0,SOUT=,FORM=,REPRINT=)

LAB2  PARMSCAN (EOFDD,SNAP,DUMP=,DO=0)

LAB3  PARMSCAN (OPT=Q/R/S/T,DUMP=YES)



   THE KEYWORDS ARE SETUP AS EQUATES AND CAN BE USED DIRECTLY BY A
 TEST UNDER MASK INSTRUCTION AFTER STORING REGISTER 0 (TO ACCESS THE
 BIT SETTINGS).

 E.G.         STC   0,FLAGFLD
              TM    FLAGFLD,EOFDD
              BO    GOTEOF
              TM    FLAGFLD,DUMP
              BO    DUMPIT

                ETC.



 THIS SOUNDS COMPLICATED BUT IS EASIER TO DO THAN TO DESCRIBE!
 FURTHER DOCUMENTATION MAY BE FOUND IN THE MACRO LISTING.



************************************************************************

1CICS ON-LINE DISPLAY OF MVS JOB SYSOUT OUTPUT (PVK1)                  P
0PRINTED 25 SEP 81

 1. GENERAL DESCRIPTION
 ======================

 THIS SYSTEM PROVIDES FACILITIES AT A 3270 TERMINAL ON-LINE TO CICS FOR
 CLASS V SYSOUT OUTPUT ORIGINATING FROM BATCH JOBS RUN UNDER MVS. THE  F
 FUNCTIONS ARE PROVIDED :-

     - DISPLAYING JOB STATUS BY JOBNAME AND/OR JES2 JOB NUMBER
     - DISPLAYING THE CLASS V SYSOUT OUTPUT FROM SUCH JOBS
     - RESETTING THE ENTIRE CLASS V SYSOUT OUTPUT FOR A JOB TO CLASS F
     - DELETING THE ENTIRE CLASS V SYSOUT OUTPUT FOR A JOB FROM SPOOL

 WHEN  DISPLAY  OF THE CLASS V SYSOUT OUTPUT FROM A JOB IS REQUESTED FRO
 TERMINAL,  A  CICS  APPLICATION  TRANSACTION  CALLED  UZVPVKA1  USES  T
 SUB-SYSTEM  INTERFACE,  VIA AN OS SUB-TASK (CALLED PVK1SUBT), TO READ T
 OUTPUT FROM THE JES2 SPOOL, AND STORE IT ON A SPECIALLY FORMATTED  VSAM
 DATA SET. UZVPVKA1 THEN HANDLES DISPLAY OF THE OUTPUT AT THE TERMINAL.

 THE  SYSTEM WAS WRITTEN TO FILL THE GAP LEFT WHEN, AS A RESULT OF THE M
 FROM VS1 TO MVS, THE PANS TRANSACTION PROVIDED AS PART OF THE  PANVALET
 PACKAGE CEASED TO BE SUPPORTED.

 AS  THE  SYSTEM USES THE SUB-SYSTEM INTERFACE, THE PROGRAMS WOULD PROBA
 WITH JES3 AS WELL AS JES2. THIS WOULD NEED CHECKING IF A MOVE TO JES3
 MADE.


 2. VSAM 'WORK' DATASET
 ======================

 BECAUSE  OF  CERTAIN  RESTRICTIONS  IN ACCESSING JOB SYSOUT OUTPUT FROM
 SPOOL UNDER JES2, A VSAM KEY-SEQUENCED DATASET (KSDS) IS USED TO HOLD A
 THE SPOOLED SYSOUT OUTPUT. THE OUTPUT IS LOADED INTO THIS DATASET BY  P
 AND READ BY UZVPVKA1. PVK1SUBT MAKES THE FOLLOWING ASSUMPTIONS ABOUT TH
 OF THE VSAM DATASET :-

     EACH CONTROL INTERVAL IN THE DATASET IS 2048 BYTES LONG.

     EACH  RECORD  IN  THE DATASET IS 142 BYTES LONG, CONSISTING OF 133
     JOB SYSOUT DATA, PLUS A 9-BYTE KEY COMPOSED OF A 4-BYTE  CICS  TERM
     CONCATENATED  WITH  A  5-BYTE  LINE  NUMBER.  THIS  MEANS THAT EACH
     INTERVAL IN THE DATASET CONTAINS EXACTLY 14 RECORDS.

     THERE CAN BE A VARIABLE NUMBER OF RECORDS IN THE DATASET ALLOCATED
     CICS  TERMINAL  AUTHORISED  TO  USE THIS SYSTEM. THE FIRST OF THESE
     (KEY XXXX00000, WHERE XXXX IS THE  CICS  TERMINAL  ID)  IS  RESERVE
     CONTROL  RECORD,  AND THE LAST RECORD IS RESERVED AS AN END-OF-DATA
     WITH THE EXCEPTION  OF  THESE  TWO  RECORDS,  ALL  THE  OTHER  RECO
     AVAILABLE TO HOLD JOB OUTPUT DATA. THE TOTAL NUMBER OF RECORDS ALLO
     EACH  TERMINAL  (I.E.  2  + THE MAXIMUM NUMBER OF JOB OUTPUT LINES
     TERMINAL) MUST BE A MULTIPLE OF 14 (THE NUMBER  OF  RECORDS  IN  A
     INTERVAL  IN  THIS DATASET), SINCE PVK1SUBT ASSUMES THAT THE CONTRO
     FOR EACH TERMINAL IS THE FIRST RECORD IN A CONTROL INTERVAL.

 THE FILE IS READ BY UZVPVKA1 USING NORMAL  'BROWSE'  VSAM  REQUESTS.  P
 HOWEVER,  UPDATES  THE FILE BY RETRIEVING AN ENTIRE CI FOR UPDATE, CHAN
1CICS ON-LINE DISPLAY OF MVS JOB SYSOUT OUTPUT (PVK1)                  P
0PRINTED 25 SEP 81

 RECORDS IN IT, THEN WRITING THE CI OUT AGAIN.

 THE FILE MUST BE PRE-FORMATTED BEFORE IT CAN BE USED, BY WRITING  A  NU
 RECORDS  TO  IT  FOR EACH TERMINAL AUTHORISED TO USE THE TRANSACTION, W
 'XXXX00000' TO 'XXXXNNNNN' (WHERE 'XXXX' IS THE CICS TERMINAL ID,  AND
 IS  EQUAL  TO  1  +  THE  MAXIMUM NUMBER OF JOB OUTPUT LINES TO BE PROV
 DISPLAY AT THAT TERMINAL).

 A SPECIAL PROGRAM IS AVAILABLE TO PERFORM THIS PRE-FORMATTING, CALLED P
 ITS SOURCE CODE  IS  IN  LIB1(PVK1FRMT),  AND  ITS  LOAD  MODULE  IS  I
 LIB2(PVK1FRMT).

 THE  DATASET'S NAME IS CURRENTLY 'PVOLJOBS', RESIDING ON UDN014. A JOB
 SET UP IN LIB1(PVOLJOBS) TO EXECUTE THE PRE-FORMATTING PROGRAM  PVK1FRM
 (WHICH CREATES A QSAM FORM OF THE DATASET) AND THEN TO EXECUTE IDCAMS T
 THE VSAM FORM OF THE DATASET AND REPRO THE QSAM FORM INTO THE VSAM FORM

 THE  PRE-FORMATTING  PROGRAM PVK1FRMT REQUIRES SET-UP INPUT CONTROL DAT
 FORM OF 80-BYTE  CARD  IMAGES  CONSISTING  OF  ONE  RECORD  FOR  EACH
 AUTHORISED  TO USE PVK1. EACH RECORD CONTAINS THE CICS TERMINAL ID IN T
 FOUR BYTES, FOLLOWED BY A BLANK IN THE  NEXT  BYTE,  FOLLOWED  BY  THE
 NUMBER  OF  JOB OUTPUT LINES TO BE PROVIDED FOR DISPLAY AT THAT TERMINA
 THE NEXT FIVE BYTES.

     E.G. - IF TERMINAL TRA1 IS TO BE PROVIDED WITH THE CAPABILITY TO DI
     TO 15000 LINES OF CLASS V SYSOUT JOB OUTPUT, THIS MUST BE ROUNDED U
     NEAREST MULTIPLE OF 14 - IN THIS CASE 15008 . THIS MEANS THAT IN FA
     LINES OF CLASS V SYSOUT  JOB  OUTPUT  WILL  ACTUALLY  BE  AVAILABLE
     DISPLAYED  .  THE  CORRESPONDING  CONTROL  INPUT  RECORD  TO  PVK1F
     THEREFORE IN THIS CASE READ 'TRA1 15007'

 THE DATASET CURRENTLY HOLDING THE PVK1FRMT INPUT FOR THE PRODUCTION VER
 PVOLJOBS IS LIB1(PVK1INPT).

 WHENEVER A NEW TERMINAL IS TO BE ADDED TO THE POPULATION OF THOSE AUTHO
 USE  PVK1,  A  RECORD FOR THAT TERMINAL MUST BE ADDED TO LIB1(PVK1INPT)
 AND WHEN AN EXISTING TERMINAL'S MAXIMUM NUMBER OF JOB OUTPUT  LINES  IS
 CHANGED,  ITS  LIB1(PVK1INPT)  RECORD  MUST BE CHANGED APPROPRIATELY. I
 EITHER CASE, PVOLJOBS MUST BE RE-PRE-FORMATTED USING LIB1(PVOLJOBS), AN
 IT MIGHT BE NECESSARY TO INCREASE THE VSAM SPACE ALLOCATED FOR DATASET
 IN THE IDCAMS STEP OF LIB1(PVOLJOBS).


 3. CICS APPLICATION PROGRAM UZVPVKA1
 ====================================

 THE CICS APPLICATION PROGRAM SOURCE CODE IS HELD IN  LIB1(UZVPVKA1).  I
 USES  A  GDF  DISPLAY  MODULE  (UZVPV01A), THE SOURCE CODE FOR WHICH IS
 LIB1(UZVPV01A). IT ATTACHES THE PVK1SUBT  SUBTASK  FOR  PERFORMING  JES
 INTERFACE FUNCTIONS. THE FUNCTIONS PROVIDED BY UZVPVKA1 ARE AS FOLLOWS

    ST - DISPLAY THE STATUS OF A JOB (ON INPUT QUEUE, EXECUTING, ETC.).
    CN - CANCEL (DELETE) ALL OUTPUT FOR A JOB.
    PR - RESET THE SYSOUT CLASS OF THE JOB'S OUPUT TO F.
    DS - DISPLAY THE JOB'S SYSOUT OUTPUT AT THE TERMINAL.
    EN - HALT PVK1 PROCESSING.
1CICS ON-LINE DISPLAY OF MVS JOB SYSOUT OUTPUT (PVK1)                  P
0PRINTED 25 SEP 81

 FOR 'ST', 'CN', OR 'PR', UZVPVKA1 PASSES CONTROL DIRECTLY TO PVK1SUBT .

 FOR  'DS',  UZVPVKA1 READS THE CONTROL RECORD FOR THIS TERMINAL FROM PV
 IT COMPARES THE JOB NAME AND JOBID (JES2 JOB NUMBER) OF THE JOB CURRENT
 ON  PVOLJOBS  FOR  THAT TERMINAL WITH THOSE OF THE JOB TO BE DISPLAYED.
 ARE DIFFERENT, IT PASSES CONTROL TO PVK1SUBT TO RELOAD THAT TERMINAL'S
 ON  PVOLJOBS WITH THE REQUIRED JOB OUTPUT (IF NO JOBID IS GIVEN IN THE
 THE COMPARISON OF JOBIDS IS BYPASSED). ON RETURN FROM THIS, OR IF THE R
 JOB IS ALREADY ON PVOLJOBS, THE OUTPUT IS READ  FROM  PVOLJOBS  AND  DI
 STARTING  AT  THE  REQUESTED LINE NUMBER. THE LINE NUMBER IS THEN UPDAT
 ONE GREATER THAN THE LAST LINE DISPLAYED, SO THAT THE NEXT 'PAGE' OF OU
 BE DISPLAYED SIMPLY BY PRESSING THE ENTER KEY. ONLY THE FIRST 79 BYTES
 OUTPUT  LINE ARE DISPLAYED BY DEFAULT, BUT THE REST CAN BE DISPLAYED BY
 OF PROGRAM FUNCTION KEYS.

    PF 1 - DISPLAYS THE LAST 79 BYTES OF LINES ON THE NEXT PAGE.
    PF 2 - DISPLAYS THE FIRST 79 BYTES OF LINES ON THE CURRENT PAGE.
    PF 3 - DISPLAYS THE LAST 79 BYTES OF LINES ON THE CURRENT PAGE.
    PF 4 - DISPLAYS ALL 132 BYTES OF LINES ON THE NEXT HALF-PAGE.

 FOR 'EN', A CICS RETURN IS ISSUED IMMEDIATELY BY UZVPVKA1, WITHOUT SETT
 NEXT  TRANSACTION  ID. PF 12 CAN BE USED FOR THIS FUNCTION, INSTEAD OF
 'EN' .


 4. INVOKING THE PVK1SUBT SUBTASK
 ================================

 TO INVOKE PVK1SUBT, THE CICS  APPLICATION  PROGRAM  UZVPVKA1  SETS  UP
 CONTROL  INFORMATION  IN  A  CICS-GETMAINED  USER  STORAGE  AREA,  AND
 PVK1SUBT VIA AN ORDINARY OS ATTACH. IT THEN ISSUES A CICS TASK CONTROL
 WAIT ON AN ECB IN THAT STORAGE AREA. PVK1SUBT USES THIS AREA IN ITS PRO
 THEN POSTS THE ECB WHEN IT HAS COMPLETED. UZVPVKA1 THEN ISSUES A DETACH
 SUBTASK, AND GOES ON TO PREPARE THE SCREEN DISPLAY OF THE REQUESTED DAT
 GDF MODULE UZVPV01A.


 5. OS SUBTASK PVK1SUBT
 ======================

 THE SOURCE CODE FOR THE OS SUBTASK PVK1SUBT IS HELD IN LIB1(PVK1SUBT).

 THE  FUNCTION  OF  PVK1SUBT  IS  TO  PERFORM  ALL  COMMUNICATION  WITH
 ENQUIRING ON AND CONTROLLING THE STATUS OF A JOB'S  OUTPUT,  USING  THE
 DOCUMENTED) JES2 SUB-SYSTEM INTERFACE.

 FOR ALL JOBS, IT FIRST ISSUES A STATUS REQUEST VIA THE SUB-SYSTEM INTER
 CHECK  ON  THE  STATUS  OF THE JOB. IT THEN EXAMINES THE REQUIRED FUNCT
 EXECUTES THE APPROPRIATE PROCESSING FOR THAT FUNCTION. THE PROCESSING I

    'ST' - THE INFORMATION RETURNED BY THE  FIRST  REQUEST  IS  REFORMAT
    PLACED  IN THE CICS USER STORAGE AREA. CONTROL IS THEN RETURNED TO U
    BY POSTING THE ECB.

    'PR' - IF THE JOB IS ON THE OUTPUT QUEUE, A 'RESET'  REQUEST  IS  IS
    JES2,  TO CHANGE THE JOB'S OUTPUT CLASS TO ONE FOR WHICH A WRITER IS
1CICS ON-LINE DISPLAY OF MVS JOB SYSOUT OUTPUT (PVK1)                  P
0PRINTED 25 SEP 81

    THIS NEW CLASS IS CURRENTLY HARD-CODED IN PVK1SUBT AS CLASS F. IF TH
    IS TO BE CHANGED, THE PVK1SUBT CODE MUST BE CHANGED ACCORDINGLY. AN
    WRITER MUST BE USED FOR THIS, SINCE A JES WRITER WILL TREAT EACH  IN
    OUTPUT  DATA  SET  AS  A  SEPARATE PIECE OF OUTPUT, WITH STANDARD SE
    BETWEEN EACH (I.E. BETWEEN JOB LOG,  JCL,  JCL  MESSAGES,  AND  EACH
    DATASET).

    'CN'  -  IF  THE JOB IS ON THE OUTPUT QUEUE, A 'CANCEL' REQUEST IS I
    JES2, WHICH DELETES THE JOB FROM THE SYSTEM.  NOTE  THAT  THIS  DELE
    OUTPUT FROM THE JOB, REGARDLESS OF ITS CLASS.

    'DS'  -  IF  THE  JOB  IS  ON THE OUTPUT QUEUE, A SERIES OF 'PROCESS
    REQUESTS IS ISSUED TO JES TO RETRIEVE THE JOB'S  OUTPUT  AND  LOAD
    DATASET  PVOLJOBS.  EACH 'PROCESS SYSOUT' REQUEST RETURNS THE NAME O
    SET ON SPOOL, WHICH IS DYNAMICALLY ALLOCATED AND THEN READ AS  NORMA
    LINE OF OUTPUT IS MOVED TO DATASET PVOLJOBS, WITH A KEY COMPOSED OF
    NUMBER  (RELATIVE  TO  THE START OF THE OUTPUT), AND THE CICS TERMIN
    THE INVOKING TERMINAL, AS DESCRIBED ABOVE.

    WHEN THE ENTIRE DATA SET HAS BEEN READ, IT IS DYNAMICALLY DE-ALLOCAT
    A  NEW  REQUEST  ISSUED  FOR  THE  NEXT  DATA  SET. WHEN ALL OUTPUT
    RETRIEVED, AN 'END OF DATA' MESSAGE IS ADDED  TO  DATASET  PVOLJOBS,
    'PROCESSING  COMPLETE'  REQUEST  ISSUED TO JES2 (TO ALLOW JES TO TID
    CONTROL BLOCKS). SHOULD THE LIMIT ON THE AMOUNT OF OUTPUT BE  REACHE
    THE  MAXIMUM  NUMBER  OF  LINES FOR THAT TERMINAL HAS BEEN READ, THE
    DATA SET IS CLOSED, AND THE 'END OF DATA' PROCESSING ENTERED AS NORM

 IF THE JOB IS NOT ON THE OUTPUT QUEUE, 'CN', 'PR', AND 'DS'  REQUESTS
 ACTIONED, AND PVK1SUBT RETURNS A 'JOB NOT FOUND' CONDITION TO UZVPVKA1.

 TO  ENSURE  THAT  ONLY  1  'ACTION'  (I.E.  NOT  'ST')  SUB-SYSTEM  REQ
 OUTSTANDING AT ANY ONE TIME, AN OS ENQUEUE  IS  ISSUED  EARLY  ON  IN
 PROCESSING,  AND ONLY RELEASED WHEN ALL SUB-SYSTEM PROCESSING IS COMPLE
 MAJOR AND MINOR  QNAMES  FOR  THIS  ENQ  ARE  'SYSDSN'  AND  'PVOLJOBS.
 RESPECTIVELY.

 6. JES2 PARAMETERS
 ==================

 ALL  JOBS  TO  BE VIEWED USING PVK1 MUST BE RUN WITH MSGCLASS AND ALL S
 STATEMENTS SET TO ONE CLASS, WHICH IS DEFINED  TO  JES  AS  'PRINT,SYSO
 (CLASS  V). THE APPROPRIATE MSGCLASS CAN BE MADE THE DEFAULT FOR JOBS S
 FROM PANVALET/ON-LINE USING 'SYSOUT=(V,INTRDR)' IN THE JCL FOR DDNAME U

 THE JOBS SHOULD BE RESET (BY 'PR') TO A CLASS WHICH  IS  'PRINT,SYSOUT,
 AND  WHICH  IS  BEING  PRINTED  BY  THE EXTERNAL WRITER (CLASS F). THE
 WRITER SHOULD ONLY SELECT ONE CLASS, AND THERE SHOULD ONLY BE ONE  SUCH
 ACTIVE  AT  ANY  TIME (IF MORE ARE ACTIVE, OUTPUT FOR 1 JOB MAY BE SPLI
 MANY PRINTERS).

 'PRIORITY AGING' SHOULD NOT BE INCLUDED IN THE SYSTEM (&PRIRATE=0). IF
 JOBS  WHICH REMAIN ON THE OUTPUT QUEUE WILL GRADUALLY INCREASE IN PRIOR
 WHEN THEY ARE RESET TO PRINT, WILL INTERRUPT ANY LOWER PRIORITY  JOB  W
 PRINTING  ON THE EXTERNAL WRITER. THIS RESULTS IN JOBS' OUTPUT BEING SP
 MANY PARTS, SOME OF WHICH CAN BE EASILY LOST.

1CICS ON-LINE DISPLAY OF MVS JOB SYSOUT OUTPUT (PVK1)                  P
0PRINTED 25 SEP 81

 7. CICS REQUIREMENTS
 ====================

 ENTRIES ARE REQUIRED IN THE FOLLOWING CICS TABLES :-

     FCT - ONE ENTRY FOR THE VSAM DATASET PVOLJOBS.
     PPT - ONE ENTRY FOR THE CICS APPLICATION PROGRAM UZVPVKA1
           ONE ENTRY FOR THE PVK1 GDF DISPLAY MODULE UZVPV01A
     PCT - TWO ENTRIES FOR THE TRANSACTION CODES USED (PVK1 AND PVK2).

 THE ENTRIES USED AT KODAK LTD. ARE :-

     DFHFCT TYPE=DATASET,ACCMETH=VSAM,SERVREQ=(GET,BROWSE),
            RECFORM=(FIXED,BLOCKED),STRNO=6,BUFND=7,BUFNI=10

     DFHPPT TYPE=ENTRY,PROGRAM=UZVPVKA1
     DFHPPT TYPE=ENTRY,PROGRAM=UZVPV01A

     DFHPCT TYPE=ENTRY,TRANSID=PVK1,TWASIZE=40,PROGRAM=UZVPVKA1,
            CLASS=SHORT,DVSUPRT=NONV
     DFHPCT TYPE=ENTRY,TRANSID=PVK2,TWASIZE=40,PROGRAM=UZVPVKA1,
            CLASS=SHORT,DVSUPRT=NONV

     THE TWASIZE OF 40 IS REQUIRED FOR THE GDF PARAMETERS

 ANY CICS REGION IN WHICH PVK1 IS TO BE USED MUST RUN 'AUTHORISED'  ,  R
 DFHSIP  (THE  CICS  START-UP  PROGRAM)  TO  BE  LINKEDITED  WITH AC(1),
 LIBRARIES IN THE CICS  STEPLIB  TO  BE  ON  THE  MVS  AUTHORISED  LIBRA
 (IEAAPF00).


 8. USING PVK1
 =============

 THE  TRANSACTION  IS  INVOKED  WITH  TRANSACTION  CODE 'PVK1'. THIS RET
 'SKELETON' DISPLAY 1. THE USER THEN SPECIFIES THE FUNCTION  REQUIRED,
 NAME OF THE REQUIRED JOB. WHEN THIS TRANSACTION IS COMPLETE, THE USER M
 ENTER A FUNCTION AND JOBNAME. THE LAST VALUES ENTERED ARE DISPLAYED, AN
 USED  AGAIN  WITHOUT CHANGE TO REPEAT THE FUNCTION (USUALLY USED WITH D
 FUNCTIONS). THE JOBID FIELD NEED ONLY BE ENTERED IF MORE THAN ONE JOB W
 GIVEN NAME IS CURRENTLY IN THE SYSTEM.

 THE  LINE  AND  LOCATE  FIELDS ARE VALID ONLY WHEN USED WITH THE 'DS' F
 'LINE' SPECIFIES THE NUMBER OF THE LINE, RELATIVE TO THE START OF THE
 WHICH  DISPLAYING  IS TO START. ONCE A LINE NUMBER IS INPUT OR DISPLAYE
 LINE NUMBER FIELD, IT WILL BE USED BY PVK1 IN ALL SUBSEQUENT REQUESTS U
 IS OVER-KEYED ON THE SCREEN .

 'LOCATE'  CAN  BE USED TO SUPPLY A CHARACTER STRING (UP TO 20 BYTES) WH
 BE SEARCHED FOR IN THE OUTPUT. THE RETURNED DISPLAY  WILL  START  AT  T
 CONTAINING  THE  FIRST  OCCURRENCE OF THIS STRING. 5000 LINES ARE SEARC
 TIME, STARTING AT THE CURRENT VALUE OF THE LINE NUMBER, WITH ALL 132 CH
 BEING EXAMINED. LEADING BLANKS CANNOT BE USED IN THIS FIELD, BUT  EMBED
 TRAILING BLANKS ARE VALID.

 SUCCESSIVE  'LOCATE' TRANSACTIONS MAY BE USED TO SEARCH SUCCESSIVE SETS
1CICS ON-LINE DISPLAY OF MVS JOB SYSOUT OUTPUT (PVK1)                  P
0PRINTED 25 SEP 81

 LINES, BUT THE SEARCH ARGUMENT MUST BE RE-KEYED EACH TIME,  EVEN  IF  T
 STRING IS BEING SEARCHED FOR.

 THE VARIOUS DISPLAYS USED BY THE TRANSACTION ARE GENERATED USING THE NO
 GENERATION PROCEDURES. THE INPUT DATA IS IN 'LIB1(UZVPV01A)'.

 THERE  ARE  A  NUMBER OF EXCEPTION CONDITIONS WHICH CAN OCCUR DURING TH
 PVK1 - E.G. JOB NOT FOUND, WRONG KEY PRESSED, ETC. - AND  SUCH  CONDITI
 NOTIFIED  BACK TO THE INVOKING TERMINAL BY APPROPRIATE DISPLAYED MESSAG
 OF THESE CONDITIONS DO OF COURSE ORIGINATE FROM USER ERRORS, AND THE  R
 MESSAGES  ARE  SELF-EXPLANATORY.  THERE  ARE,  HOWEVER,  TWO MESSAGES W
 WARRANT CLOSER EXAMINATION BY SYSTEMS PROGRAMMING.

 'ERROR READING VSAM FILE'

 THIS MESSAGE IS DISPLAYED  IF  ANY  NON-NORMAL  (I.E.  NON-X'00')  RESP
 OBTAINED FROM ANY DFHFC REQUEST ISSUED ON DATASET PVOLJOBS IN PROGRAM U
 A  CICS TRANSACTION DUMP (WITH DUMP CODE VSER) IS PRODUCED TO AID DETER
 OF THE PRECISE CAUSE OF THE CONDITION.

 'UNEXPECTED SUBTASK ERROR'

 THIS MESSAGE IS DISPLAYED IF THE RETURN CODE RESULTING FROM  THE  ATTAC
 OF  PVK1SUBT  BY UZVPVKA1 IS NOT 0 (NORMAL), 4 (JOB NAME NOT FOUND ON S
 (JOB NAME & JOB ID DON'T MATCH), OR 12 (JOB ID NOT  FOUND).  THIS  INDI
 CONDITION OF A MORE CATASTROPHIC NATURE, SUCH AS NO VSAM CATALOG WORKSP
 IN THE CICS OSCOR STORAGE (WHICH IS WHERE PVK1SUBT EXECUTES) , BECAUSE
 HAS  BEEN  RUNNING  FOR  'TOO  LONG' (PROBABLY -> 24 HRS), OR BECAUSE O
 GRIEVOUS SITUATION ON  SPOOL  ITSELF.  MVS  DUMPS  FROM  PVK1SUBT  ARE
 PRODUCED IN SUCH SITUATIONS.


                   UZLA.INSTRUCT.DATA(PVK1)     MJG JUL 81

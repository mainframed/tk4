*   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *
*
    THE INFORMATION PROVIDED ON THIS TAPE IS DOCUMENTATION ONLY. IF YOU
WOULD LIKE TO USE THIS PROGRAM, WE CAN SUPPLY YOU WITH THE LOAD MODULE(S
NECESSARY. WE ARE ALSO WILLING TO CONSIDER AMENDING, AT YOUR REQUEST, AN
MODULES SUPPLIED BY US, WITHIN REASON.  DUE TO CONDITIONS IMPOSED UPON U
HOWEVER, WE CANNOT SUPPLY SOURCE DECKS, NOR A GUARANTEE OF UNLIMITED
SUPPORT.
    IF YOU WOULD LIKE TO USE THIS PROGRAM, PLEASE CONTACT
EITHER        RICHARD SWAN         OR   JANET HOW
              SYSTEMS PROGRAMMING,
              SUN ALLIANCE & LONDON INSURANCE GROUP,
              SUN ALLIANCE HOUSE,
              NORTH STREET,
              HORSHAM, SUSSEX.     RH12 1BT.
 OR TELEPHONE  HORSHAM (0403) 64141  EXT. 214, 6163 OR 544
*
*   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *
 IMPROVED LISTING OF CATALOGS   IEHCAT            MAY 1975
<
     AN INTERIM VERSION OF THIS PROGRAM IS AVAILABLE FOR USE. THE LISTIN
 PRODUCED SHOWS ALL INDICES AND ATTEMPTS TO HIGHLIGHT ANY ANOMALIES IN T
CATALOG STRUCTURE.

     JCL REQUIRED:                      RUN IN MINIMUM 16K
 //AAAA JOB
  //STEP EXEC PGM=IEHCAT,TIME=1439
 //SYSPRINT DD SYSOUT=A

 //SYSPUNCH DD  DSN=SEQ.DATASET    (SEE NOTE 1.)

 //DD1 DD                      )   (SEE NOTE 2.)
 //DD2 DD                      )

 //SYSIN DD *
     CONTROL CARDS

NOTE 1.       THIS IS ONLY REQUIRED FOR FUNCTIONS 'PTPCH, UNCAT & CLEAR'
              CARD-IMAGES MAY BE PRODUCED TO DISK, TAPE OR CARD.

NOTE 2.       FOR ANY  UNMOUNTED  DISK WHOSE CATALOG YOU WANT TO LIST,
              INSERT A STANDARD DD CARD DESCRIBING THE DISK,
              E.G. //DD1 DD UNIT=3330,VOL=SER=DISK22,DISP=SHR
              TO CAUSE THE SCHEDULER TO MOUNT THE DISK. IF THE DISK IS N
              MOUNTED, THE PROGRAM WILL IGNORE ANY REQUESTS INVOLVING TH
              DISK.

FORMAT OF CONTROL CARDS.

COLS  1- 5    OPCODE
COLS  7-12    VOLSER OF DISK CONTAINING CATALOG
COLS 14-17    NORMALLY BLANK. IF THE CATALOG RESIDES ON OTHER THAN A 333
              INSERT DEVICE TYPE IN THIS FIELD. E.G. 2314
COLS 19 FF    NODE INFORMATION  FROM 1-44 CHARACTERS LONG


NODE INFORMATION
     LIMITS THE PROCESSING OF THE CATALOG TO ONLY THOSE ENTRIES WHICH
 BEGIN WITH THE SPECIFIED NODE CHARACTERS, WHATEVER THE LENGTH.
     E.G.  A NODE OF  SYSDU  WOULD PROCESS ANY ENTRIES BEGINNING WITH
 SYSDU  SUCH AS  SYSDUMP......,SYSDUD...... AND SO ON.
     NODE INFORMATION AFFECTS ALL OPCODES.

OPCODES.

PRINT   PRINTS DETAILS FOR EACH ENTRY IN CATALOG   (SEE NOTE 4)

PTPCH   AS PRINT, BUT ALSO PRODUCES ON //SYSPUNCH DATASET THOSE
        CARD-IMAGES, WHICH, IF INPUT TO IEHPROGM, WOULD RECREATE ALL THE
        ENTRIES.  (SEE NOTES 3 & 4.)

INDEX   PRINTS DETAILS OF ALL EMPTY INDEX STRUCTURES  I.E. THOSE NOT
        HAVING DATASETS CATALOGED ON THEM   (SEE NOTE 4.)

CLEAR   AS PRINT, BUT ALSO PRODUCES TO //SYSPUNCH DATASET, CARD-IMAGES,
        WHICH, IF INPUT TO IEHPROGM, WILL CLEAR ALL ENTRIES FROM THE
        CATALOG.   (SEE NOTES 3 & 4.)

UNCAT   AS PRINT, BUT ALSO PRODUCES TO //SYSPUNCH DATASET, CARD-IMAGES,
        WHICH, IF INPUT TO IEHPROGM, WILL UNCATLG THE ENTRIES PRINTED,
        LEAVING INDEX STRUCTURES INTACT.    (SEE NOTE 4.)


NOTE 3.       IN THE INTERIM VERSION OF THE PROGRAM, CONTROL CARDS FOR
              IEHPROGM ARE PRODUCED IN A RANDOM ORDER, WHICH WOULD NOT
              WORK. WHEN TIME PERMITS, THE IMAGES (WHICH CONTAIN A SORT
              CODE) WILL BE SORTED BY THE PROGRAM BEFORE BEING OUTPUT TO
              THE //SYSPUNCH DATASET. MEANTIME, THEY SHOULD BE PUT TO CA
              AND MANUALLY SORTED. THERE WILL BE MULTIPLE DLTX CARDS FRO
              THE  CLEAR FUNCTION. THESE RESTRICTIONS APPLY ONLY TO
        PTPCH  &  CLEAR  FUNCTIONS.
        WHEN THE PROGRAM IS UPDATED, //SYSPUNCH MAY BE SPECIFIED AS A
        TEMPORARY DIRECT-ACCESS DATASET WHICH BECOMES INPUT TO IEHPROGM.

NOTE 4.       MULTIPLE OPERATIONS IN ANY ORDER MAY BE DONE IN ONE
              EXECUTION OF THE PROGRAM.

RETURN CODES PASSED BY PROGRAM.

        ALL RETURN CODES CORRESPOND WITH PROGRAM ERROR MESSAGES ON
 SYSPRINT.
 CODE          MESSAGES.
  4            ODD DEVICE TYPE FOR CATALOGED DATASET OR CONNECTED VOL.
PROGRAM
CONTINUES      ODD VOLUME SERIAL

  8            INVALID CVOL
PROGRAM        CVOL NOT MOUNTED
CONTINUES      CVOL DOES NOT CONTAIN SYSCTLG D/S
               INVALID OPCODE ON CONTROL CARD

  8            NO CONTROL CARDS
PROGRAM        MISSING OR INCONSISTENT CATALOG ENTRY  (VARIOUS)
TERMINATES     I/O ERROR WHILE READING CATALOG


NOTE 5.       WHEN NODE INFORMATION HAS BEEN SPECIFIED, THE PROGRAM
              ATTEMPTS TO SAVE TIME BY NOT PROCESSING ANY ENTRIES
              LOGICALLY HIGHER THAN THE SPECIFIED NODE. SHOULD THERE BE
              ANY ALIASES OF PROCESSED INDICES HIGHER THAN THE NODE POIN
              THEY WILL NOT BE PROCESSED.

     SAMPLE PRINTOUTS WILL BE PROVIDED ON REQUEST.



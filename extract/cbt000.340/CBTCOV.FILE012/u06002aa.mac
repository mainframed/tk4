                     TFLOW - RELEASE 18 DOCUMENTATION
                              3605-00023-902
1.  FUNCTION
TFLOW PROVIDES A TRACE FACILITY THAN CAN BE EXECUTED AT THE DISCRETION
OF USER. IN ADDITION, A FACILITY FOR USER EXITS IS PROVIDED TO
ALLOW MONITORING OF SYSTEM OR PROBLEM PROGRAM ACTIVITY BY USER WRITTEN
ROUTINES. THERE IS NO REQUIREMENT FOR THE 'TRACE' OPTION TO HAVE BEEN
SELECTED AT SYSTEM GENERATION TIME.
TFLOW PROVIDES A TRACE OF I/O INTERRUPTS, SVC INTERRUPTS, PROGRAM
INTERRUPTS, AND OPTIONALLY SIO INSTRUCTIONS: THE TRACE INFORMATION IS
RECORDED ON MAGETIC TAPE. THE INFORMATION RECORDED FOR EACH TRACE
VARIES ACCORDING TO THE TYPE OF INTERRUPT (SEE SECTION II-C OF THIS
DOCUMENT), BUT THE TRACE MAY INCLUDE PSW, CSW, CONTENTS OF GENERAL
REGISTERS, JOB NAME, RB NAME, MODULE NAME, TCB ADDRESS, SENSE
INFORMATION, SEEK ADDRESS, AND POINTERS TO ASSOCIATED DEB AND IOB.
THE TFLOW PROGRAM OPERATES AS A PROBLEM PROGRAM IN AN OS/360 SYSTEM
WHICH NEED HAVE NO PREVIOUS MODIFICATIONS. DURING EXECUTION OF
TFLOW,DYNAMIC AND TEMPORARY MODIFICATIONS TO THE OPERATING SYSTEM
BY TFLOW, ALLOW INFORMATION TO BE STORED AT APPROPRIATE TIMES. AS
TRACE ENTRIES ARE MADE, THE TFLOW PROGRAM MONITORS INTERRUPTS FOR
CONDITIONS WHICH INDICATE ITS OWN TERMINATION. WHEN SUCH A CONDITION
IS DETECTED, THE SYSTEM IS RESTORED TO ITS ORIGINAL STATE BEFORE TFLOW
TERMINATES.
A.  FEATURES
MANUAL CONTROL OF THE TFLOW PROGRAM IS MAINTAINED BY COMMUNICATION
WITH THE OPERATOR'S CONSOLE. WHILE THE PROGRAM IS EXECUTING, AN
OPERATOR REPLY REMAINS OUTSTANDING SO THAT AT ANY TIME THE PROGRAM
CAN BE INSTRUCTED TO STOP OR START TRACING, OR END THE TRACING OPERATION
AND TERMINATE. IN RESPONSE TO THE 'CNT' CONSOLE COMMAND, THE PROGRAM
WILL PRINT THE NUMBER OF THE LAST BLOCK OF TRACE RECORDS WRITTEN TO
THE OUTPUT DEVICE.
OPTIONAL PARAMETERS MAY BE SPECIFIED IN THE JCL TO INSTRUCT THE TFLOW
PROGRAM TO BEGIN MAKING TRACE ENTRIES WHEN A PREASSIGNED JOB NAME
BECOMES ACTIVE. THE JOB NAME CAN QUALIFIED BY A STEP NAME, SO THAT
TRACING BEGINS WHEN THE SPECIFIED STEP WITHIN THE JOB INDICATED BECOMES
ACTIVE IN THE SYSTEM. IF A SPECIFIED JOB OR SPECIFIC JOB AND STEP ARE
USED TO INITIATE TRACING, THE USER MAY SPECIFY WHETHER OR NOT TFLOW
IS TO CONTINUE EXECUTION SHOULD THE SELECTED PROGRAM ABNORMALLY
TERMINATE. IF A SPECIFIED JOB AND/OR STEP TRACE IS NOT SELECTED, TFLOW
WILL BEGIN TRACING IMMEDIATELY UPON BEGINNING EXECUTION.
AN OPTIONAL FEATURE IS WETHER OR NOT EXECUTIONS OF THE SIO INSTRUCTION
BY THE SYSTEM ARE TRACED. TFLOW MAY BE INSTRUCTED TO STORE TRACE
INFORMATION EACH TIME THE I/O SUPERVISOR INITIATES AN I/O OPERATION.
GENERALLY, TRACE ENTRIES ARE NOT MADE FOR EVENTS NECESSARY FOR PROGRAM
FETCH OPERATION; SIMILARLY, I/O INTERRUPTS RESULTING FROM THE PCI BIT
BEING SET IN THE EXECUTED CCW ARE NOT TRACED. THE USER OF TFLOW MAY,
HOWEVER, SPECIFY PARAMETERS WHICH CAUSE TRACE ENTRIES TO BE MADE FOR
THESE EVENTS.
TO HELP ASSOCIATE SYSTEM EVENTS WITH TRACE RECORDS WRITTEN TO THE
OUTPUT TAPE, TFLOW PRINTS A COUNT OF BLOCKS WRITTEN EVERY 200 BLOCKS.
THE OPERATOR MAY REQUEST THE CURRENT BLOCK NUMBER AT ANY TIME BY A
CONSOLE COMMAND. IN ADDITION, TFLOW TERMINATION PREOCEDURE PRINTS A
MESSAGE ON THE CONSOLE WHICH GIVES THE NUMBER OF THE LAST TRACE BLOCK
WRITTEN.
THE TFLOW PROGRAM BECOMES A VERY POWERFUL TOOL WHEN IT IS USED IN
CONJUCTION WITH USER WRITTEN EXIT PROGRAM. PROVISION IS MADE FOR
CONTROL TO BE GIVEN TO A USER WRITTEN PROGRAM AT TWO STAGES OF TFLOW
EXECUTION, IF A USER EXIT FROM TFLOW IS SPECIFIED:
1.  AT TFLOW INITIALISATION TIME; AND, AT THE USER'S OPTION,
2.  AFTER THE INFORMATION FOR EACH TRACE ENTRY HAS BEEN COLLECTED.
WITH SUCH AN EXIT, THE ACTIVITY OF THE SYSTEM OR OF A PROBLEM PROGRAM
MAY BE MONITORED ON A FINE LEVEL--THAT IS, AFTER THE OCCURRENCE OF ANY
INTERRUPTS EXCEPT SIO.
B.  CONSIDERATIONS
TFLOW OPERATES AS A PROBLEM PROGRAM. THEREFORE, IT CAN BE USED ONLY
IN A MULTIPROGRAMMING ENVIRONMENT, EITHER MFT OR MVT. THE MP65 OPTION
OF OS/360 IS NOR SUPPORTED BY TFLOW. THE PROGRAM CAN EXECUTE IN A
PARTITION OR REGION AS SMALL AS 20K; THE INITIATOR IN THIS REGION IS
NOT AVAILABLE FOR ADDITIONAL WORK, WHILE TFLOW IS EXECUTING. A LARGE
USER EXIT PROGRAM MIGHT INCREASE THE MINIMUM CORE REQUIREMENT.
IT IS IMPORTANT THAT TFLOW BE GIVEN A HIGH-DESPATCHING PRIORITY, SO
THAT ITS I/O REQUESTS ARE PROMPTLY SERVICED. THE TAPE OUTPUT IS
ACCOMPLISHED USING BSAM: TWO TRACE BUFFERS ARE MAINTAINED, EACH OF
WHICH CONTAIN 100 32-BYTE ENTRIES. WHEN ONE BUFFER HAS BEEN FILLED
WITH TRACE ENTRIES, THE SECOND BUFFER IS USED FOR TRACING WHILE THE
FIRST IS WRITTEN TO TAPE. OUTPUT REQUESTS MUST BE PROMPTLY INITIATED
OR THE ALTERNATE BUFFER WILL FILL BEFORE THE I/O OPERATION ON THE
FIRST BUFFER CAN COMPLETE. SHOULD BE I/O OPERATION. IN THIS
CASE, TRACE RECORDS ARE LOST. BY ENSURING THAT THE TFLOW TASK HAS A
HIGH DESPATCHING PRIORITY, THE OCCURRENCE OF THIS OVERRUN CONDITION
CAN BE MINIMISED.
1.  MFT SYSTEM: TFLOW SHOULD BE INITIATED IN A HIGH PRIORITY
PARTITION, SUCH AS PO OR P1.
2.  MVT SYSTEM: THE HIGHEST PRIORITY AVAILABLE TO THE USER
(USUALLY 13) SHOULD BE SELECTED ON THE JOB CARD FOR THE TFLOW TASK.
THE OVERRUN CONDITION CAN ALSO OCCUR IF OUTPUT EXCEEDS A SINGLE TAPE
VOLUME, FOR TRACING MUST BE SUSPENDED BURING THE SWITCHING OF THE TAPE
COLUMES. THE OCCURRENCE OF THE OVERRUN CONDITION CAN BE REDUCED,
HOWEVER, BY MAKING USE OF MULTIPLE UNITS (SEE EXAMPLE 3 IN SECTION
II-B-3). THIS TECHNIQUE REQUIRED THAT TWO OR MORE TAPE DEVICES BE
ALLOCATED TO THE TFLOW TASK.
TO PREVENT TFLOW FROM BEING TERMINATED BECAUSE OF EXCESSIVE WAIT
TIME (OVER 30 MINUTES), A SPECIAL VALUE OF THE TIME PARAMETER SHOULD
BE CODED ON THE EXEC CARD. CODING TIME=1440 FOR SYSTEMS WITH JOBSTEP
TIMING PREVENTS AUTOMATIC TERMINATION OF TFLOW.
THE FLOWEDIT SERVICE AID PROGRAM CAN BE USED TO PRINT FORMATTED OUTPUT O
TFLOW. IF THE TFLOW OUTPUT TAPE IS PRINTED USING ANOTHER PRINT PROGRAM,
SUCH AS IEBPTPCH, THE OUTPUT WILL BE IN CORE IMAGE FORMAT. A
CONSIDERATION WHEN SELECTING TFLOW PARAMETERS, ESPECIALLY THE
INCLUSION OF A SPECIFIC USER EXIT, SHOULD BE THAT POST-PROCESSING
OF THE TFLOW OUTPUT, VIA FLOWEDIT, COULD ALLOW SELECTION OF RELEVANT
DATA BY MEANS OF THE USER EXIT FACILITY IN FLOWEDIT.
IN CODING THE EXECUTING A USER EXIT PROGRAM FOR TFLOW, THE USER MUST
ENSURE THAT HE CREATES NO INTERRUPTS, FOR EXAMPLE THROUGH USSUING SIO
OR AN SVC. THE SYSTEM WILL SUFFER SERIOUS AND UNPREDICTABLE DAMAGE.
A SYSTEM INTERLOCK WILL MOST LIKELY OCCUR BECAUSE OF THE INABILITY
OF THE INTERRUPT RELINQUISHING CONTROL TO THE EXIT TO BE COMPLETELY
PROCESSED.
EXPERIENCING A MACHINE CHECK IN THE REGION IN WHICH TFLOW IS EXECUTING
CAN RESULT IN A SYSTEM LOOP. OCCURRENCE OF THIS SITUATION IS CONSIDERED
REMOTE. HOWEVER, IT IS IDENTIFIED AS A POSSIBILITY TO ENSURE THAT THE
USER IS AWARE THAT IT MAY HAPPEN.
ANOTHER IMPORTANT CONSIDERATION IN EXECUTING TFLOW IS THE FETCH OPTION.
THERE CURRENTLY EXIST FIVE DIFFERENT FETCH MODULES; THE TYPE OF SYSTEM A
USER SYSGENS DETERMINES THE MODULES THAT WILL PERFORM THE FETCH FUNCTION
THE FOLLOWING TABLE IDENTIFIES THE MODULE NAME, AND ITS SIZE IN BYTES
(HEXIDECIMAL) ASSOCIATED WITH EACH SYSTEM CONFIGURATION:
          SYSTEM             MODULE              SIZE
MVT (LCS,PCI)                IEWFELCS            BBO
MVT, MP65
(NO LCS,PCI)                 IEWFETCH            AB8
PCP, MFT
(NO LCS, NO PCI)             IEWFTMIN            3C6
PCP, MFT
(LCS, PCI)                   IEWFTHSL            D20
PCP, MFT
(NO LCS, PCI)                IEWFTPCI            8E0
TFLOW CALCULATES THE RANGE OF FETCH CORE ON THE BASIS OF THE SIZE OF
THE MODULE, IEWFETCH, WHICH IS AB8. SHOULD A USER NOT WISH TO TRACE
FETCH INTERRUPTS AND HAVE A SMALLER FETCH MODULE IN HIS SYSTEM, HE
WILL LOSE THOSE INTERRUPTS WHICH ARE GENERATED IN THE CODE BETWEEN THE
END OF HIS FETCH MODULE AND THE SIZE USED BY TFLOW (AB8). SHOULD HE
NOT WISH TO TRACE FETCH INTERRUPTS AND HAVE A LARGER FETCH MODULE IN
HIS SYSTEM, HE WILL HAVE TRACED THOSE INTERRUPTS WHICH ARE GENERATED
IN THE CODE BETWEEN THE SIZE USED BY TFLOW (AB8) AND THE SIZE OF
FETCH IS HIS SYSTEM.
FOR THE USER WHO WISHES TO ELIMATE THE POSSIBILITY OF TRACING
FETCH INTERRUPTS UNNECESSARILY, OR OF LOSING POSSIBLY SIGNIFICANT NON-
FETCH INTERRUPTS, THE OFFSET IN THE RELEASE 19 TFLOW MODULE THAT MAY
BE MODIFIED TO CORRECT THE SITUATION IS X'00009C'. THE MACHINE CODE AT
THAT LOCATION, X'41EE0AB8.' SHOULD BE CAUSED TO X'41EE0YYY,' WITH YYY
BEING THE APPROPRAITE MODULE SIZE IN BYTES AS DETERMINED FROM THE
ABOVE CHART.
SYSGEN DEPENDENCIES: OF2 ABEND WILL OCCUR DURING TFLOW EXECUTION IF THE
HOST SYSTEM WAS SYSGENED WITH TIMER=TIME (MFT) AND IF THE DATAMGT
MACRO DID NOT SPECIFY ACSMETH=BDAM, ISAM, OR BTAM. THIS HAPPENS BECAUSE
TFLOW USES CIRB (SVC 28) AND MODULE IGG019C0 USES THE EXIT EFFECTORS
TO SCHEDULE AN IQE WHEN THE SYSTEM CODE TO SUPPORT THESE FUNCTIONS IS
PARTIALLY ABSENT UNDER THE SYSGEN CONDITIONS DESCRIBED.
THE SYSTEM CAN CRASH WHEN USING PARM=PCI SINCE ADDITIONAL OVERHEAD
IS ADDED DURING PCI INTERRUPTS, AND TIMING CAN BECOME CRITICAL FOR
SOME APPENDAGES (SUCH AS ATAM). USE THIS PARM WITH CAUTION.
II.  OPERATION
A.  APPLICATION
TFLOW EXECUTES AS A PROBLEM PROGRAM UNDER OS/360. THE PROGRAM CONSISTS O
TWO LOAD MODULES: TFLOW ITSELF, AND IGG019X0. THE TFLOW LOAD MODULE
MAY BE LINK EDITED INTO A TEMPORARY DATA SET AND EXECUTED. IGG019X0
MUST BE LINK EDITED INTO THE SYSTEM DATA SET, SYS1.SVCLIB PRIOR TO
TFLOW EXECUTION.
//PTEFSAPGM   JOB   R18,SAPGM,MSGLEVEL 1
//STEP1       EXEC   PGM=IEWL,PARM 'LIST,XREF,DC'
//SYSPRINT    DD    SYSOUT=A
//SYSUT1      DD    UNIT=SYSDA,SPACE=(1024,(50,20))
//SYSLMOD     DD    DSN=SYS1.SVCLIB,DISP=OLD
//SYSLIN      DD    *
         IGG019X0 OBJECT DECK
          NAME IGG019X0
//STEP2       EXEC  PGM=IEWL,PARM='LIST,XREF,DC'
//SYSPRINT    DD    SYSOUT=A
//SYSUT1      DD    UNIT=SYSDA,SPACE=(1024,(50,20))
//SYSLMOD     DD    DSN=&SERVLIB,DISP=(,PASS).
//                 UNIT=SYSDA,SPACE=(1024,(10,1,1))
//SYSLIN      DD    *
     TFLOW OBJECT DECK
     NAME TFLOW(R)
EXAMPLE 1: JCL TO LINK EDIT IGG019X0 TO SYS1.SVCLIB AND TFLOW TO A
TEMPORARY LIBRARY.
THE NAME CARD FOLLOWING THE TFLOW OBJECT DECK MUST SPECIFY'TFLOW'.
B9  EXECUTION
THE OPTIONAL FUNCTIONS WHICH TFLOW PERFORMS ARE SELECTED BY PARAMETERS
GIVEN IN THE PARM FIELD OF THE EXEC CARD. THIS PARAMETER LIST IS
SCANNED FOR THE FOLLOWING KEYWORDS:
ALL      IF ALL IS CODED, TFLOW BEGINS TRACING IMMEDIATELY
         UPON FINISHING ITS INITIALISATION PROCESSING.
         SIO IS TRACED WHENEVER ALL IS CODED.
DEFAULT  THIS PARAMETER AND THE 'ALL' PARAMETER ARE MUTUALLY
         EXCLUSIVE. WHEN DEFAULT IS GIVEN, TFLOW DOES NOT
         BEGIN TRACING UNTIL THE JOB NAMED IBMTEST AND STEP
         GO BECOME ACTIVE. SIO IS TRACED.
         IF NEITHER ALL NOR DEFAULT APPEAR IN THE PARAMETER
         LIST, IT WILL BE NECESSARY FOR THE OPERATOR TO REPLY
         TO SEVERAL MESSAGES ASKING FOR THE PARAMETERS FOR
         EXECUTION AS FOLLOWS:
1.  TFLOW-REPLY YES OR NO FOR SIO TRACE.
A REPLY OF YES CAUSE TFLOW TO MAKE A TRACE ENTRY TIME THE OPERATING
SYSTEM EXECUTES AN SIO INSTRUCTION. NO CAUSES SIO TRACING TO BE
BYPASSED.
2.  TFLOW-REPLY JOBNAME TO START TRACE OR WORD ANY.
IF A JOB NAME IS SPECIFIED IN RESPONSE TO THIS MESSAGE, TFLOW WILL NOT
MAKE TRACE ENTRIES UNTIL THE SELECTED JOB BECOMES ACTIVE IN THE SYSTEM.
REPLY ANY CAUSES TRACING TO BEGIN IMMEDIATELY.
THE JOB NAME CAN BE QUALIFIED BY A STEP NAME BY SPECIFYING THE DESIRED
STEP NAME IN RESPONSE TO THE FOLLOWING MESSAGE.
IF A USER EXIT EXISTS, IT WILL BE ENTERED AFTER EACH INTERRUPT, EXCEPT
SIO, INCLUDING THOSE OCCURRING BEFORE THE SPECIFIED JOB/STEP BECOMES
ACTIVE.
3.  TFLOW-REPLY STEPNAME TO START TRACE OR WORD ANY
THIS MESSAGE ONLY APPEARS IF A JOB NAME WAS SELECTED FOR MESSAGE (2).
A REPLY GIVING A STEP NAME QUALIFIES THE POINT AT WHICH TRACING IS TO
BEGIN. TFLOW DOES NOT START TRACING UNTIL THE SPECIFIED JOB AND STEP
HAVE BECOME ACTIVE. IF ANY IS SPECIFIED, TRACING BEGINS AS SOON AS
THE JOB NAME SPECIFIED IN RESPONSE TO MESSAGE (2) BECOMES ACTIVE,
REGARDLESS OF THE STEP BEING EXECUTED.
4.  TFLOW-REPLY YES OR NO TO STOP TRACE WHEN SELECTED JOBNAME ENDS.
THE RESPONSE TO THIS MESSAGE DICTATES THE ACTION TO BE TAKEN IF THE
SELECTED JOB ABNORMALLY ENDS. THIS MESSAGE IS ISSUED ONLY IF A JOB
NAME IS SELECTED IN RESPONSE TO MESSAGE (2).
FETCH      SPECIFICATION OF THIS PARAMETER INDICATES THAT TRACING
           OF EVENTS ASSOCIATED WITH PROGRAM FETCH IS DESIRED. IF
           THIS PARAMETER IS NOT SPECIFIED, PROGRAM FETCH ACTIVITY
           IF NOT TRACED.
PCI        THIS KEYWORD SHOULD BE GIVEN IF TRACING OF PCI I/O
           INTERRUPTS IS DESIRED; OTHERWISE, THESE EVENTS ARE
           NOT TRACED. SINCE TIMING INVOLVED WITH PCI IS USUALLY
           CRITICAL, THIS PARAMETER SHOULD BE CODED ONLY WHEN
           SPECIFICALLY NEEDED.
URS-EXIT PROGRAM NAME (MAXIMUM OF 8-CHARACTER NAME)
THE VALUE OF THE USR PARAMETER SPECIFIES THE NAME OF A LOAD MODULE TO
BE LOADED AND GIVEN CONTROL AT FLOW INITIALISATION TIME. EXECUTION OF
THIS EXIT DETERMINES WHETHER OR NOT THE EXIT WILL BE GIVEN CONTROL AS
EACH TRACE ENTRY IS MADE. REFER TO SECTION II-B-2 WHICH DESCRIBES
THE EXIT INTERFACES IN DETAIL.
1.  JOB CONTROL STATEMENTS FOR TFLOW
NAME       STAY
NAME       STATEMENT                   USAGE
//JOBNAME  JOB        MSGLEVEL=1,PRTY=13
                      THIS STATEMENT MARKS THE BEGINNING OF THE
                      JOB CONTROL CARDS IN THE INPUT STREAM.
                      IN ORDER TO MINIMISE THE POSSIBILITY OF
                      BUFFER OVERRUN, THE HIGHEST PRIORITY
                      AVAILABLE TO THE USER MUST BE SPECIFIED.
                      IN AN MVT SYSTEM PRTY=13, USUALLY IS
                      CODED ON THE JOB CARD. IN MFT, CLASS X
                      SHOULD BE CODED WHERE X IS THE CLASS
                      ASSIGN TO HIGH PRIORITY PARTITIONS.
//JOBLIB   DD         DSN MYLIB,UNIT=2311,VOL=SER=SPLIT2,
                      DISP OLD
                      IF THE EXIT FACILITY TO TFLOW IS
                      BEING USED, AND IF THE EXIT PROGRAM DOES
                      NOT RESIDE IN SYS1.LINKLIB, THEN A
                      JOBLIB OR STEPLIB DD CARD MUST BE USED
                      TO DESCRIBE THE DATA SET CONTAINING THE
                      EXIT PROGRAM. THIS STATEMENT IS ALSO
                      NEEDED IF TFLOW IS A DATA SET NOT
                      RESIDING IN SYS1.LINKLIB. IF NEITHER
                      TFLOW NOR THE USER EXIT PROGRAM RESIDE
                      IN SYS1.LINKLIB, THEY MUST RESIDE IN
                      THE SAME JOBLIB OR STEPLIB.
//STEPNAME EXEC       PGM=TFLOW,TIME 1440,
                      PARM  ALL          ,FETCH
                            DEFAULT
                            ,PCI  ,USR=EXIT NAME '
NAME       STATEMENT                     USAGE
                      THIS STATEMENT SPECIFIED THE PROGRAM
                      NAME. THE TIME KEYWORD PARAMETER
                      SHOULD BE CODED AS SHOWN FOR SYSTEMS
                      WITH JOBSTEP TIMING TO PREVENT AUTOMATIC
                      TERMINATION OF TFLOW. OPTIONAL KEYWORD
                      PARAMETER IN THE PARM FIELD ARE
                      DESCRIBE UNDER SECTION B, EXECUTION.
//SYSLIB   DD         DSN=SYS1.SVCLIB,DISP=SHR
                      THIS DD STATEMENT DEFINES THE SYSTEM
                      DATA SET SYS1.SVCLIB. THIS CARD IS
                      REQUIRED, SO THAT TFLOW CAN ISSUE
                      BLDL FOR AN INTERFACE WITH THE MODULE
                      IGG019X0, IT IS ASSUMED THAT THIS
                      MODULE HAS BEEN PREVIOUSLY LINK EDITED
                      INTO SYS1.SVCLIB.
//TRACEOUT DDD        DSN=FLOW,UNIT 2400,LABEL=(,S1.).
                      VOL=SER=FLOTAP,DISP (NEW,KEEP)
                      THIS STATEMENT DEFINES THE TRACE OUTPUT
                      DATA SET WHICH MUST RESIDE ON A MAGNETIC
                      TAPE DEVICE. THE TAPE MAY BE LABELLED
                      OR NON-LABELLED. IF THE OUTPUT IS
                      DIRECTED TO A SEVEN-TRACK TAPE UNIT,
                      THE DEVICE MUST HAVE DATA CONVERT ON AND
                      THE DCB PARAMETER ON THIS DD CARD SHOULD
                      BE CODED AS FOLLOWS:
                      DCB=(TRTCH=C)
//SYSABEND DD         SYSOUT=A
(OR //SYSUR
(OR //SYSUDUMP)       AT THE USER'S OPTION, TFLOW CAN BE
                      DIRECTED TO TERMINATE WITH A DUMP. IF
                      THIS FACILITY IS DESIRED, ONE OF THESE DD
                      CARDS SHOULD BE INCLUDED TO DESCRIBE THE
                      DEVICE TO WHICH THE DUMP DATA SET WILL
                      BE DIRECTED. THIS STATEMENT DEFINES ALSO
                      THE SYSTEM OUTPUT DEVICE TO WHICH A SYSTEM
                      DUMP SHOULD BE DIRECTED IN THE CASE THAT
                      TFLOW ABENDS DURING EXECUTION.
2.  EXIT PROGRAMS
THE CAPABILITY EXISTS IN TFLOW FOR EXIT TO A SPACIALLY WRITTEN USER
PROGRAM AT TWO DISTINCT POINTS IN TFLOW'S EXECUTION:
1.  AT SET-UP TIME, DURING TFLOW'S INITIALISATION PHASE;
2.  AFTER THE CONSTRUCTION OF EACH INTERRUPT TRACE ENTRY.
INTERFACE IS MADE IN THE FIRST CASE IF THE USR EXIT PROGRAM NAME
PARAMETER IS CODED ON THE CARD, AND THE PROGRAM EXISTS IN LINKLIB,
STEPLIB, OR JOBLIB. CONTROL IS GIVEN VIA BALR 14, 15WITH REGISTER
1 CONTAINING A POINTER TO A STORAGE LOCATION RESERVED FOR THE ADDRESS
OF A USER EXIT AT TRACE TIME ROUTINE. THIS SET-UP EXIT MUST SAVE ALL
REGISTERS AND RESTORE THEM BEFORE RETURNING. THE SET-UP EXIT MUST
RETURN BY BR14 IF IT IS DESIRED TO KEEP THE EXIT LOADED IN STORAGE WITH
TFLOW DURING TRACING. IF THE EXIT IS TO BE DELETED, RETURN SHOULD BE
MADE BY B 4(14). A RETURN VIA B 8(14) WILL CAUSE TERMINATION OF TFLOW.
THIS FIRST TYPE OF EXIT, AS WELL AS THE INTERRUPT EXIT, REQUIRES THE
CHARACTER STRING C'EPOK' AT ITS ENTRY POINT ADDRESS '4, WHICH WILL BE
VALIDITY CHECKED BY TFLOW.
IF THE JOBNAME/STEPNAME TURN-ON OPTION IS SELECTED, THE USER EXIT WILL
BE ENTERED IMMEDIATELY FOR INTERRUPTS, INCLUDING THOSE OCCURING BEFORE
THE JOB/STEP BECOMES ACTIVE.
IF THE USER WIC
IF THE USER WISHES TO HAVE HIS EXIT AFTER EACH INTERRUPT
TRACE, EXCEPT SIO, BE MUST FILL IN THE SLOT POINTED TO BE REGISTER 1
AT ENTRY TO THE SET-UP EXIT WITH THE ADDRESS OF THE INTERRUPT TRACE
EXIT ROUTINE. IF THIS IS DONE AND NORMAL RETURN IS MADE TO TFLOW (SEE
ABOVE PARAGRAPH), THE TRACE EXIT PROGRAM WILL ENTERED AFTER THE
FORMATTING OF EACH INTERRUPT TRACE ENTRY. THIS IS THE SECOND EXIT
POINT MENTIONED AT THE BEGINNING OF THIS SECTION.
THE TRACE EXIT CAPABILITY PROVIDES A MEANS OF EFFECTIVELY INTERROGATING
THE SYSTEM AFTER AN INTERRUPT AND TAKING APPROPRIATE ACTION BASED ON
THE INFORMATION OBTAINED. THIS CAPABILITY IS, HOWEVER, EXTREMELY
SENSITIVE IN ANOTHER SENSE: IF ANY INTERRUPTS, SUCH AS THOSE OCCURING
AS A RESULT OF AN SVC OR AN SIO, ARE CREATED BY THE USER EXIT PROGRAM,
UNRECOVERABLE DAMAGE MAY BE DONE TO THE SYSTEM. UTMOSE CAUTION SHOULD
BE TAKEN CODING AND TESTING A USER EXIT. PLEASE REFERENCE SECTION
I-B FOR FURTHER INFORMATION.
THE USER EXIT INTERFACE AT INTERRUPT TIME IS SET UP BEFORE ENTRY TO THE
EXIT AS FOLLOWS:
REGISTER 1 CONTAINS THE ADDRESS OF TRACE REGISTERS 0-15;
REGISTER 2 CONTAINS THE ADDRESS OF THE CURRENT FORMATTED TRACE ENTRY;
REGISTER 3 CONTAINS THE ADDRESS OF A 32-BYTE USER TRACE SLOT, TO BE
FILLED IN WITH DATA THE USER WISHES TO INSERT.
(NOTE: THE HIGH-ORDER BYTE OF THE USER PLOT WILL BE SET TO X'AA' BY
TFLOW, THEREFORE, IN ACTUALITY, REGISTER 3 1 ADDRESSES A 31-BYTE USER
TRACE SLOT);
REGISTER 4 CONTAINS THE ADDRESS OF THE RESUME PSW LOADED AT EXIT FROM
THE TFLOW INTERRUPT HANDLER;
T
REGISTER 13 DOES NOT CONTAIN THE POINTER TO A USER REGISTER SAVE AREA;
THE USER TRACE EXIT IS NOT EXPECTED TO FOLLOW STANDARD LINKAGE CONVENTIO
AND MAY USE ANY REGISTER EXCEPT REGISTER 14;
REGISTER 14 IS THE RETURN REGISTER AND MUST NOT BE DESTROYED; REGISTER 1
POINTS TO THE ACTIVE JOBNAME IN TIOT;
REGISTER 15 CONTAINS THE ADDRESS OF THE USER EXIT ENTRY POINT.
AS WITH THE SET-UP EXIT, THE CHARACTER STRING X'EPOK' MUST EXIST AT THE
TRACE EXIT'S EXTRY POINT ADDRESS 14.
THE INTERRUPT TRACE EXIT PROGRAM MAY RETURN IN ANY OF FIVE DIFFERENT
WAYS, COMMUNICATING THE FOLLOWING INFORMATION:
BR14 MEANS THAT TFLOW SHOULD MAKE A NORMAL TRACE AND NOT A USER TRACE;
B 4(14) MEANS THAT TFLOW SHOULD MAKE BOTH A NORMAL TRACE AND A USER
TRACE;
B 8(14) MEANS THAT TFLOW SHOULD MAKE A USER TRACE ONLY;
B 12(14) MEANS THAT TFLOW SHOULD MAKE NEITHER A NORMAL TRACE NOR A USER
TRACE NNO TRACE);
B 16(14) IS A REQUEST FOR TERMINATION OF TFLOW.
THE USER EXIT CAPABILITY OF TFLOW IS A POWERFUL TOOL. EXAMINATION OF
THE INPUT AVAILABLE TO THE EXIT, ESPECIALLY AT INTERRUPT TIME, AND THE
RETURN CHOICES SHOULD SERVE TO ILLUSTRATE THIS POINT. IT MUST BE CLEARLY
UNDERSTOOD THAT NO CODE IN THE USER EXIT PROGRAM SHOULD CREATE ANY
TYPE OF INTERRUPT, I.E. NO SVC'S I/O OPERATIONS, ETC. EVERY EFFORT HAS
BEEN MADE IN TFLOW TO DETECT ABNORMAL OPERATION AT EXIT TIME (SUCH AS
PROGRAM CHECKS DURING TRACE EXIT, SEE MESSAGE 35), BUT SERIOUS DAMAGE
CAN BE DONE IF THE UTMOST CARE IN CODING AN EXIT IS NOT EXERCISED.
REMEMBER: THE SYSTEM MAY SUFFER UNRECOVERABLE DAMAGE. PLEASE REFERENCE
SECTION I-B FOR FURTHER INFORMATION.
3.  EXAMPLES
(PREVIOUS STEPS WERE LINK EDITS OF IGG19X0, AND TFLOW AS ILLUSTRATED
IN EXAMPLE 1).
//STEP3    EXEC       PGM=TFLOW,PARM='ALL,USR=EXITPROG'.
//                    TIME=1440
//STEPLIB  DD         DSN=&SERVLIB,DISP=(OLD,DELETE)
//SYSLIB   DD         DSN=SYS1.SVCLIB,DISP SHR
//TRACEOUT DD         DSN=FLOW,UNIT=2400-2,LABEL=(,NL),
//                    DISP (NEW,KEEP),DCB-(TRTCH=C),
//                    VOL SER FLOTAP
//SYSABEND DD         SYSOUT=A
EXAMPLE 2: JCL TO EXECUTE TFLOW WITH A USER EXIT PROGRAM AND OUTPUT TO
7-TRACK TAPE.
STEP 3 EXECUTES FROM THE TEMPORARY LIBRARY &SERVLIB WHICH IS
ASSUMED PASSED FROM THE PREVIOUSE STEP (SEE EXAMPLE 1). EXIT WILL BE
MADE TO THE USER PROVIDED EXIT PROGRAM 'EXITPROG,' AND TFLOW'S TAPE
OUTPUT WILL BE DIRECTED TO NON-LABELLED TAPE MOUNTED ON A 7-TRACK
DRIVE.
THE EXEC STATEMENT: SPECIFIED TFLOW AS THE PROGRAM TO BE EXECUTED.
TFLOW RESIDES IN THE TEMPORARY LIBRARY &SERVLIB. EXITPROG MAY RESIDE
THERE ALSO, OR IN SYS1.LINKLIB, BUT NOWHERE ELSE. SINCE ONLY ONE
STEO
STEPLIB DD MAY BE PROVIDED PER STEP. (EXCEPTION: THE USE OF A
CONCATENATED STEPLIB WOULD PERMIT THE PROGRAMS TO RESIDE IN DIFFERENT
PRIVATE LIBRARIES). THE ALL PERAMETER WILL CAUSE TFLOW TO BEGIN TRACING
HAVING BEEN LINK EDITED INTO SYS1.SVCLIB. DISP SHR MUST BE SPECIFIED.
IMMEDIATELY. THE USER EXIT PROGRAM, EXITPROG, WILL BE ENTERED DURING
TFLOW'S INITIALISATION PHASE AND WILL BE RE-ENTERED AT EACH INTERRUPT.
IF THE SET-UP EXIT PASSES TO TFLOW AN ADDRESS FOR ENTRACE AT THE INTERRU
STAGE. THE TIME PARAMETER IS CODED CORRECTLY FOR A SYSTEM WITH JOBSTEP
TIMING (IT WILL PREVENT TFLOW FROM BEING TERMINATED AUTOMATICALLY).
THE STEPLIB DD STATEMENT: SPECIFIES THE NAME OF THE TEMPORARY LIBRARY
&SERVLIB, CONTAINING TFLOE, AND OPTIONALLY THE USER EXIT PROGRAM.
THE SYSLIB DD STATEMENT:  SPECIFIES THE NAME OF THE LIBRARY CONTAINING
MODULE IGG19X0. IFLOW CANNOT EXECUTE SUCCESSFULLY WITHOUT THIS MODULE
THE TRACEOUT DD STATEMENT:  DEFINES THE TFLOW OUTPUT DATA SET ON A NON
LABELLED TAPE (A 7-TRACK TAPE DRIVE IS SPECIFIED). DISP KEEP MUST BE COD
THE SYSABEND DD STATEMENT:  DEFINES THE SYSTEM OUTPUT DEVICE AS THE DEVI
TO WHICH A SYSTEM DUMP SHOULD BE DIRECTED, IF TFLOW ABENDS DURING EXECUT
OR IS DIRECTED BY THE USER TO BE TERMINATED WITH A DUMP.
NOTE: IN ORDER TO EXECUTE, MINIMISING LOST TRACE ENTRIES, THE HIGHEST
DESPATCHING PRIORITY AVAILABLE TO THE USER SHOULD BE DESIGNATED. IN AN
MVT SYSTEM, PRTY=(USUALLY 13) SHOULD BE CODED ON THE JOB CARD. IN AN
MFT SYSTEM, THE CLASS PARAMETER ON THE JOB CARD SHOULD INDICATE A CLASS
ASSIGN TO HIGH PRIORITY PARTITIONS. PLEASE REFERENCE SECTION I-B OF
THIS DOCUMENT FOR FURTHER INFORMATION.
(PREVIOUS STEPS WERE LINK EDITS OF IGG019X0, AND TFLOW IS ILLUSTRATED IN
EXAMPLE 1).
//STEP3      EXEC      PGM=TFLOW,PARM'FETCH,PCP,TIME=1440
//STEPLIB    DD        DSN=&SERVLIB,DISP=(OLD,DELETE)
//SYSLIB     DD        DSN=SYS1.SVCLIB,DISP=SHR
//TRACEOUT   DD        DSN=FLOW,LABEL=(,SL),UNIT=(2400,2),
//                     VOL SER=(T111111,T222222),DISP=(NEW,KEEP)
//SYSUDUMP   DD        SYSOUT=A
EXAMPLE 3:  JCL TO EXECUTE TFLOW, TRACING FETCH AND PCII/0 INTERRUPTS,
WITH OUTPUT TO TWO TAPES.
STEP 3 EXECUTES TFLOW FROM THE TEMPORARY LIBRARY, &SERVLIB, WHICH IS
ASSUMED PASSED FROM THE PREVIOUS STEP (SEE EXAMPLE 1). TFLOW'S TAPE
OUTPUT WILL BE DIRECTED TO TWO STANDARD LABELLED TAPES, AND VOLUME
SWITCHING DELAYS WILL BE AVOIDED DUE TO THE SPECIFICATION OF MULTIPLE
DEVICES IN THE UNIT PARAMETER ON THE TRACEOUT DD STATEMENT (I.E., WHILE
ONE IS REWINDING THE OTHER WILL BE IMMEDIATELY USED).
THE EXEC STATEMENT:  SPECIFIES TFLOW AS THE PROGRAM TO BE EXECUTED.
TRACING OF PROGRAM FETCH INTERRUPTS AND PCI I/O INTERRUPTS IS ELECTED.
THE TIME PARAMETER IS CODED CORRECTLY FOR A SYSTEM WITH JOBSTEP TIMING
(IT WILL PREVENT TFLOW'S AUTOMATIC TERMINATION).
THE STEPLIB DD STATEMENT:  SPECIFIES THE NAME OF THE TEMPORARY LIBRARY,
&SERVLIB, WHICH CONTAINS TFLOW.
THE SYSLIB DD STATEMENTD  SPECIFIES THE NAME OF THE LIBRARY CONTAINING
MODULE IGG019X0.  TFLOW CANNOT EXECUTE SUCCESSFULLY WITHOUT THIS MODULE
HAVING BEEN LINK EDITED INTO SYS1.SVCLIB.DISP=SHR MUST BE SPECIFIED.
THE TRACEOUT DD STATEMENT:  DEFINES THE TFLOW OUTPUT DATA SET ON UP
TO TWO STANDARD LABELLED TAPES. MULTIPLE DEVICES ARE SPECIFIED ON THE UN
PARAMETER TO AVOID THE POSSIBLE PROBLEMS ASSOCIATED WITH VOLUME SWITCHIN
PLEASE REFER TO SECTION I-B.
THE SYSUDUMP DD STATEMENT:  DEFINES THE SYSTEM OUTPUT DEVICE AS THE
DEVICE TO WHICH A SYSTEM DUMP SHOULD BE DIRECTED, IF TFLOW ABENDS DURING
EXECUTION OR IS DIRECTED BY THE USER TO BE TERMINATED WITH A DUMP.
C.  OUTPUT
IT SHOULD BE MENTIONED THAT IT IS UNNECESSARY FOR THE AVERAGE USER OF
TFLOW TO UNDERSTAND THE INTERNAL ORGANISATION AND/OR MEANING OF TFLOW'S
CORE IMAGE OUTPUT. THIS INFORMATION IS PROVIDED FOR THOSE WHO WISH TO
UTILIZE IT IN A USER EXIT ORIENTED MANNER OR WHO, FOR OTHER REASONS, MAY
WISH TO ANALYSE ENTRIES IN TFLOW'S BUFFER (AS IN A CORE DUMP TO TFLOW'S
DYNAMIC AREA).
TFLOW WRITES TO TAPE, RECORDS OR BLOCKS CONSISTING OF 100 32-BYTE
TRACE ENTRIES. IF A CORE DUMP OF TFLOW IS TAKEN, EACH ENTRY WOULD
OCCUPY ONE LINE OF PRINT. SINCE ONLY TWO BUFFERS OF 100 ENTRIES EACH
EXIST IN TFLOW, ONLY THE LAST OCCURING 200 INTERRUPTS MAY BE EXAMINED
IF ANY ONE TFLOW DUMP. OF COURSE, IF TFLOW'S TAPE OUTPUT IS DUMPED,
ALL RECORDED ENTRIES MAY BE EXAMINED IN THEIR ORIGINAL CORE IMAGE FORMAT
WITH BYTE OF THE OUTPUT, ALL ENTRIES (SVC, SIO, IO, PGM) CONTAIN AN
ASTERISK (*), HEX 5C, IN THE FIRST OUTPUT BYTE IF BUFFER OVERRUN HAS
OCCURES. PLEASE REFERENCE SECTION I-B OF THIS DOCUMENT FOR A FURTHER
EXPLANATION OF THIS CONDITION.
THE SERVICE AID PROGRAM, FLOWEDIT, PROVIDES A FORMATTED LISTING OF
TFLOW'S OUTPUT. PLEASE REFERENCE 'FLOWEDIT SAMPLE OUTPUT', WHICH WILL
BE FOUND ON PAGE 27 OF THIS DOCUMENT.
WITH THE USR ENTRY AGAIN AS THE EXCEPTION, ALL TRACE ENTRIES CONTAIN
AN 'INTERRUPT COUNTER' IN THE HIGH-ORDER BYTE OF THE EIGHTH OUTPUT WORD.
THIS COUNTER IS INCREMENTED EACH TIME A TFLOW INTERRUPT HANDLER IS
ENTERED, WHETHER OR NOT THE INTERRUPT IS TRACED. IF THE INTERRUPT,
AT THE USER'S OPTION, IS NOT TRACED, THE INTERRUPT COUNTER IN THE SERVIC
AID PROGRAM, FLOWEDIT'S OUTPUT, WILL BE FLAGGED WITH AN ASTERISK TO
INDICATE A NON-SEQUENTIAL INTERRUPT COUNT.
1.   TFLOW INTERRUPT TRACE FORMATS:
FOLLOWING IS A CORE IMAGE EXAMPLE OF EACH TYPE OF INTERRUPT TRACE,
PROVIDED BY TFLOW, AND A DESCRIPTION OF THE FORMAT.  UNLESS OTHERWISE
INDICATED, EACH BLOCK SHOWN REPRESENTS ONE FULL WORD OF TFLOW OUTPUT.
BLOCKS ARE SYMBOLICALLY NUMBERES FROM LEFT TO RIGHT, THEN DOWN AND
LEFT TO RIGHT AGAIN.
SVC INTERRUPT TRACE FORMAT
FF052000   73079F4A   F6000000   000000B   00028D98
E2C4F0F8   E9023248
PLEASE NOTE THAT ANY SVC FROM FETCH WILL BE BYPASSED IF THE USER OMITS
THE FETCH PARAMETER FROM THE JCL EXEC CARD.
2.   EBCDIC CHARACTER:  IF THE RB TYPE CODE (SEE NOTE 1 AND PSW BITS
36-39) IS I THROUGH A, THE BYTE IS USED AS THE EIGHTH ABCDIC CHARACTER
OF AN RB NAME STARTING WITH IE. OTHERWISE, THIS BYTE IS A VALID
REGISTER 15 HIGH ORDER BYTE.
3.   NAME DESCRIPTION:  THE JOBNAME CONSISTS OF THE FIRST FOUT CHARACTER
FROM THE TIOT, UNLESS THEY ARE 0, IN WHICH CASE 'SYS' IS INSERTED,
INDICATING A SYSTEM TASK.
4.   RB DESCRIPTION:  THESE FOUR CHARACTERS VARY ACCORDING TO THE TYPE
OF RB:
FOR AN ORDINARY PRB, THEY ARE THE FIRST TO FOURTH CHARACTERS OF THE
RB NAME;
FOR A PRB WITH A NAME BEGINNING WITH IEB, IEE, IEF, IEH, IEK, IEM, IEQ,
IER, IEU, OR IEW (SEE NOTE 1 ABOVE), THE CHARACTERS ARE THE FOURTH
THROUGH THE SEVENTH CHARACTERS OF THE RB NAME. THE HIGH-ORDER BYTE
WORD 3 WILL CONTAIN THE LENGTH EBCDIC CHARACTER OF THE NAME (SEE NOTE 2)
FOR AN SVRB WITH THE NAME AVAILABLE, THE CHARACTERS ARE THE FOUR
H
CHARACTERS OF THE NAME; IF THE NAME IS UNAVAILABLE, ALL BLANKS ARE SET;
FOR AN IRB, THE CHARACTER STRING 'IRB' IS SET;
FOR AN SIRB, THE LAST FOUR CHARACTERS OF THE NAME ARE GIVEN; IF THE NAME
IS UNAVAILABLE, ALL BLANKS ARE SET.
IN MOST CASES, THE RB NAME CAN BE DETERMINED THROUGH AN ANALYSED
COMBINATION OF BITS 36-39 OF WORD 2, ALL OF WORD 7, AND IN SOME CASES
(SEE NOTE 2), THE HIGH-ORDER OF WORD 3.
1.  RB TYPE CODE:  REFERENCE NOTE 1 IN PRECEDING SVC SECTION.
2.  ABDIC CHARACTER:  REFERENCE NOTE I IN PRECEDING SVC SECTION.
3.  IMAGE DESCRITION:  THE INSTRUCTION IMAGE OF 8 BYTES WILL
INCLUDE THE 6 BYTES PRECEDING THE OLD PSW INSTRUCTION ADDRESS AND
THE 2 BYTES FOLLOWING.
4.  EXCEPTION:  THIS FIELD WILL BE ZERO IF NO PICA EXISTS
(THE TCB PIE IS ZERO). OTHERWISE, IT WILL CONTAIN THE PICA
ADDRESS.
DECRIPTION:  REFERENCE NOTE 3 IN PRECEDING SVC SECTION.
6.  RB DESCRIPTION:  REFERENCE NOTE 4 IN PRECEDING SVC SECTION.
NOTE:  PLEASE REFER TO NOTE 2, 'OPTIONS,' IN THE DESCRIPTION OF THE
USR INTERRUPT TRACE FORMAT.
I/O INTERRUPT TRACE FORMAT
FF055193  A007F4D2  00028DD8  0C000000
000400C8  00028D98  0E023248  F30260E8
I/O FROM FETCH WILL BE BYPASSED UNLESS FETCH IS CODED AS A PARAMETER
ON THE JCL EXEC STATEMENT.
1.   STATUS:  THESE SENSE BYTES REPRESENT THE LAST SENSE DONE, AND
THEREFORE, IF THE PRESENT INTERRUPT CSW STATUS SHOWS A UNIT CHECK,
IT WILL BE NECESSARY TO EXAMINE THE NEXT I/O INTERRUPT FOR THIS
DEVICE IN ORDER TO RECOVER THE SENSE BYTES ASSOCIATED WITH THE PRESENT
UNIT CHECK.
2.   OP CODE:  IF IT CAN BE DETERMINED, THIS WILL BE THE OPERATION
CODE OF THE LAST CCW EXECUTED BEFORE THE I/O INTERRUPT, OTHERWISE IT
IS 0.
3.   EXCEPTION:  THE IOB AND TCB ASSOCIATED WITH I/O WILL BE ZEROS IF
THEY CANNOT BE DETERMINED FROM THE RQE OR IF UCB FOR ASSOCIATED DEVICE
IS NOT IN THE SYSTEM. THE TCB ADDRESS WILL BE ZEROS IF TFLOW IS
RUNNING IN AN MFT SYSTEM.
D.   MESSAGES TO OPERATOR CONSOLE
FOLLOWING ARE THE MESSAGES WHICH CAN BE PRODUCES BY TFLOW DURING EXECUTI
1.   TFLOW TO MANUALLY CONTROL TRACING, REPLY AT ANY TIME WITH ON, OFF,
END OR CNT.
EXPLANATION:  THIS OUTSTANDING MESSAGE ENABLES THE USER TO ASYNCRONOUSLY
1.   TURN TFLOW'S TRACE ON (ON);
2.   TURN TFLOW'S TRACE OFF (OFF);
3.   TERMINATE TFLOW (END);
4.  REQUEST THE CURRENT BLOCK COUNT (CNT);
5.  TERMINATE TFLOW WITH A DUMP (ABE).
THE MESSAGE REPEATS AFTER EACH ON, OFF OR CNT REPLY.
OPERATOR RESPONSE:  REPLY ON, OFF, END OR CNT WHEN ACTION IS DESIRED.
OPERATOR MAY ALSO SPECIFY 'ABE', WHICH TERMINATES TFLOW WITH A DUMP.
2.  TFLOW - UNKNOWN REPLY
EXPLANATION:  THE REPLY TO MESSAGE 1 WAS DONE OF THE FIVE SPECIFIED AS
ACCEPTABLE.
OPERATOR RESPONSE:  REPLY CORRECTLY WITH ON, OFF, END, CNT OR ABE.
3.  TFLOW - WARNING. NEW PSW'S HAVE BEEN ALTERED BY AN UNKNOWN SOURCE.
EXPLANATION:  MODIFICATION HAS BEEN MADE TO ONE OR MORE NEW PSW'S
(I/O, SVC OR PGM) SINCE LAST OUTPUT OF TRACE BUFFER.
PROGRAM ACTION:  TFLOW CONTINUES AXECUTION, BUT SYSTEM DAMAGE COULD
NOW RESULT IN TFLOW TERMINATES BEFORE THE UNKNOWN USER OF THE NEW PSW'S.
4.   TFLOW - LAST BLOCK WRITTEN ON CURRENT VOLUME IS NNNNNN.
EXPLANATION:  INSERTED IN PLACE OF NNNNNN IS THE NUMBER OF THE LAST
BLOCK OF 100 ENTRIES WRITTEN BY TFLOW. THIS MESSAGE WILL APPEAR:
1.  WHEN 'CNT' IS THE REPLY TO MESSAGE 1;
2.  DIRECTLY BEFORE TFLOW TERMINATES;
3.  EACH TIME 200 BLOCKS ARE WRITTEN TO THE OUTPUT TAPE.
5.  TFLOW - INTERRUPT TRACE PGM ENTERED MODULE STARTS AT JJJJJJ.
EXPLANATION:  INSERT IN PLACE OF JJJJJJ IS THE BEGINNING ADDRESS OF
TFLOW. THIS MESSAGE APPEARS WHEN TFLOW BEGINS EXECUTION.
6.  TFLOW - DEFAULT PARM SPECIFIED AFTER 'ALL' 'DEFAULT' ASSUMED.
EXPLANATION:  IN THE 'PARM=' FIELD OF THE EXEC STATEMENT, THE USER
FOLLOWED THE 'ALL' PARAMETER WITH THE MUTUALLY EXCLUSIVE PARAMETER
'DEFAULT'.
PROGRAM ACTION: 'DEFAULT' WILL NOW OVERRIDE 'ALL'
7.  TFLOW - 'ALL' PARM SPECIFIED AFTER 'DEFAULT'.
'ALL' ASSUMED.
EXPLANATION:  IN THE 'PARM=' FIELD OF THE EXEC STATEMENT, THE USER
FOLLOWED THE 'DEFAULTH PARAMETER WITH THE MUTUALLY EXCLUSIVE PARAMETER
'ALL'.
PROGRAM ACTION:  'ALL( WILL NOW OVERRIDE 'DEFAULT'.
8.  TFLOW - USER EXIT NAME NOT GIVEN WHEN EXPECTED OR EXCEEDS EIGTH
CHARACTERS. USER EXIT IGNORED.
EXPLANATION:  THE USER CODED THE 'USR( PARAMETER IN THE PARM FIELD OF
THE EXEC CARD, BUT EITHER:  OMITTED THE EXIT NAME ITSELF; OR, SPECIFIED
A NAME CONTAINING MORE THEN EIGHT CHARACTERS.
PO
PROGRAM ACTION:  THE USER EXIT IS CONSIDERED TO BE NON-EXISTENT.
9.  TFLOW-EXEC PARM BEGINNING WITH ' ' IGNORED.
EXPLANATION:  AN UNRECOGNISABLE KEYWORD HAS BEEN DETECTED IN THE PARM
FIELD.
PROGRAM ACTION:  THE KEYWORD IS IGNORED.
10.  TFLOW-WARNING, NEW PSW'S IN SYS HAVE BEEN PREVIOUSLY ALTERED.
EXPLANATION: IN VALIDITY CHECKING THE SYSTEM, TFLOW DETERMINED THAT
ONE OR MORE OF THE NEW PSW'S (SVC, PGM, I/O) THAT TFLOW IS TO MODIFY,
HAS BEEN PROVIOUSLY ALTERED (I.E. THEY POINT OUTSIDE OF NUCLEUS).
PROGRAM ACTION:  TFLOW CONTINUES AXECUTION, BUT SYSTEM DAMAGE CAN
NOW OCCUR IF THE UNKNOWN USER OF THE PSW'S TERMINATES BEFORE TFLOW.
11.  TFLOW - WARNING. PRIORITY OF LESS THAN 13 SPECIFIED ON JOB
CARD. BUFFER OVERRUN MAY BE RESULTING CONDITION.
EXPLANATION:  THE USER IS RUNNING IN AN MVT SYSTEM AND HAS BEEN INSTRUCT
TO SPECIFY A PRIORITY OF AT LEAST 13 ON HIS JOB CARD IN ORDER TO ENSURE
THAT TFLOW OCCUPY A HIGH PLACE ON THE DESPATCHING QUEUE.
USER RESPONSE:  THE USER IGNORED THE INSTRUCTION AND SHOULD BE PREPARED
FOR POSSIBLE LOSS OF RECORDED INTERRUPT TRACES. HE OPTIONALLY MAY
RESUBMIT THE JOB, WITH THE CORRECT PRIORITY SPECIFIED.
12.  TFLOW - USER EXIT NOT FOUND
EXPLANATION:  THE USER EXIT SPECIFIED IN THE 'USR=' PARAMETER OF THE EXE
CARD COULD NOT BE FOUND IN LINKLIB, JOBLIB OR STEPLIB.
PROGRAM ACTION:  THE USER EXIT IS CONSIDERED TO BE NON-EXISTENT. TFLOW
CONTINUES EXECUTION.
13.  TFLOW - USER SET UP EXIT PGM EP INVALID
EXPLANATION:  TFLOW DID NOT FIND THE CHARACTERS 'EPOK' AT DISPLACMENET
EXPLANATION:  TFLOW DID NOT FIND THE CHARACTERS HSPOK' AT DISPLACEMENT
4 IN THE USER SET UP EXIT PROGRAM.
PROGRAM ECTION:  THE USER SET UP IS DELETED FROM STORAGE (SEE
MESSAGE 15 BELOW).
14.  TFLOW-SET UP EXIT HAS BEEN LOADED AND ENTERED.
EXPLANATION:  THE USER SET UP EXIT PROGRAM HAS BEEN SECCESSFULLY ENTERED
15.  TFLOW - SET UP EXIT HAS BEEN DELETED FROM STORAGE
EXPLANATION:  EITHER: (1) THE SET UP EXIT REQUESTED ITSELF DELETED FROM
STORAGE, OR (2) THE USER SET UP EXIT PROGRAM ENTRY POINT WAS INVALID.
PROGRAM ACTION:  AN SVC 9 (DELETEó IS ISSUED FOR THE SET UP EXIT. TFLOW
CONTINUES EXECUTION, CONSIDERING THE USER EXIT (BOTH SET UP AND INTERRUP
TO BE NON-EXISTENT.
16.  TFLOW - INTERRUPT TRACE EXIT EP INVALID AND WILL BE BYPASSED.
EXPLANATION:  TFLOW DID NOT FIND THE CHARACTERS 'EPOK' AT DISPLACEMENT
4 IN THE INTERRUPT TRACE EXIT PROGRAM.
PROGRAM ACTION:  THERE WILL BE NO INTERFACE TO A USER EXIT PROGRAM AFTER
EACH INTERRUPT.
17.  TFLOW - REPLY YES OR NO FOR SIO TRACE
EXPLANATION:  THE USER DID NOT SPECIFY ' ALL' OR 'DEFAULT' AS A
PARAMETER ON THE EXEC CARD. THE PROGRAM MUST DETERMINE WHETHER OR NOT
TO MONITOR SIO.
OPERATOR RESPONSE:  IF SIO TRACE IS DESIRED, REPLY YES. IF NOT, REPLY NO
PROGRAM ACTION:  IF ANY RESPONSE BUT NO IS GIVEN, THE PROGRAM ASSUMES YE
18.  TFLOW - CANNOT FIND SIO-SIO TRACE IGNORED.
EXPLANATION:  THE PROGRAM WAS UNABLE TO LOCATE THE IOS SEQUENCE IN
CORE. THIS IS AN UNEXPECTED CONDITION, AND SHOULD NOT OCCUR.
PROGRAM ACTION:  SIO WILL NOT BE TRACED.
19.  TFLOW-REPLY TO START TRACE OR WORD ANY.
EXPLANATION:  THE PROGRAM IS INTERROGATING TO DETERMINE ON WHICH JOB TO
BEGIN TRACING.
OPERATOR RESPONSE:  REPLY WITH THE WORD ANY, WHICH WILL CAUSE TRACING TO
BEGIN IMEDIATELY, OR WITH A PARTICULAR JOBNAME, TO BEGIN TRACING WITH
A PARTICULAR JOB.
20.  TFLOW- REPLY STEPNAME TO START TRACE OF WORD ANY
EXPLANATION:  THE PROGRAM IS INTERROGATING TO DETERMINE ON WHICH STEP
TO BEGIN TRACING.
OPERATOR RESPONSE:  REPLY WITH THE WORD ANY, WHICH WILL CAUSE TRACING
TO BEGIN ON THE FIRST STEP OF THE SELECTED JOB, OR WITH A PARTICULAR
STEPNAME, TO BEGIN WITH A PARTICULAR STEP WITHIN A JOB.
21.  TFLOW - REPLY YES OR NO TO STOP TRACE WHEN SELECTED JOBNAME ENDS.
EXPLANATION: IF A PARTICULAR JOBNAME WAS SELECTED, TFLOW INTERROGATES
TO DETERMINE IF IT SHOULD CONTINUE EXECUTING IF THE SELECTED JOB
ABNORMALLY TERMINATES.  A YES REPLY CAUSES TERMINATION OF TFLOW WHEN
THE SELECTED JOB ABNORMALLY TERMINATES.
OPERATOR RESPONSE:  REPLY NO IF CONTINUED TRACING IS DESIRED. OTHERWISE,
REPLY YES.
22.  TFLOW - IGG019X0 INTERFACE FAILED.
EXPLANATION:  IGG019X0 DID NOT SUCCESSFULLY COMPLETE ITS FUNCTION.
PROGRAM ACTION:  USER 900 ABEND.
23.  TFLOW - DUPLICATE COPY OF TFLOW IN STORAGE.
EXPLANATION:  A COPY OF TFLOW IS ALREADY ACTIVE IN THE SYSTEM.
PROGRAM ACTION:  USER 100 ABEND
24.  TFLOW - NOT MVT OR MFT SYSTEM
EXPLANATION:  TFLOW HAS DETERMINED THAT IT IS OPERATING IN A PCP SYSTEM,
WHICH DOES NOT SUPPORT.
PROGRAM ACTION:  USER 200 ABEND
25.  TFLOW - TRACEOUT DD NOT SUPPLIED
EXPLANATION:  THE REQUIRED DD STATEMENT WAS NOT PROVIDED IN THE USER'S
JCL.
PROGRAM ACTION:  USER 300 ABEND
26.  TFLOW - CVT POINTER AT LOC 16 INVALID
EXPLANATION:  THE SYSTEM APPEARS TO HAVE AN INVALID CVT POINTER.
PROGRAM ACTION:  USER 400 ABEND
27.  TFLOW - TRACEOUT DEVICE IS NOT TAPE
EXPLANATION:  THE DEVICE SPECIFIED ON THE TRACEOUT DD CARD IS NOT TAPE.
PROGRAM ACTION:  USER 500 ABEND
28,  TFLOW - SYSLIB DD NOT SUPPLIED
EXPLANATION:  TFLOW WAS UNABLE TO SUCCESSFULLY OPEN SVCLIB
USER RESPONSE:  SUPPLY A SYSLIB DD CARD SPECIFYING SYS1.SVCLIB IN
JCL AND RESUBMIT JOB. THE SVCLIB DATA SET SHOULD CONTAIN MEMBER
IGG019X0.
PROGRAM ACTION:  USER 600 ABEND
29.  TFLOW - MODULE IGG019X/ IS NEEDED IN SVCLIB
EXPLANATION:  TFLOW DID NOT FIND IGG19X0 IN SYS1.SVCLIB.
USER RESPONSE:  LINK-EDIT IGG019X0 INTO SYS1.SVCLIB AND RESUBMIT JOB.
PROGRAM ACTION:  USER 700 ABEND.
30.  TFLOW - 3200 BYTE BUFFER SPACE NOT AVAILABLE
EXPLANATION:  AFTER USING A BETMAIN FOR 3200 BYTES, TFLOW FOUND
THAT THE MAIN REQUESTED:
1.  COULD NOT BE ALLOCATED
2.  COUND NOT BE INITIALISED.
PROGRAM ACTION:  USER 800 ABEND

************************************************************************

  MEMBER   - $DOC6

  SYSTEM   - QUEUE, LIST AND STACK HANDLER

  PROGRAMS - SM34QUP  :  DRIVER PROGRAM
           - SM34Q01  :  PUSH DOWN STACK HANDLER

  MACROS   - ENTER    :  ADDRESSABILITY ETC.
           - $STACK   :  SETS UP LINKAGE AND CALLS SM34QUP
           - $QCB     :  SETS UP CONTROL BLOCK FOR SM34QUP
           - LEAVE    :  EXIT CODING

************************************************************************


    THIS WAS ORIGINALLY GOING TO BE AN ALL-SINGING, ALL-DANCING,
 WHISTLE-BLOWING, FINGER-SNAPPING, TOE-TAPPING QUEUE, STACK AND
 GENERAL LIST PROCESSING SYSTEM!
    WHAT IT TURNED OUT TO BE, HOWEVER, IS HALF-WRITTEN. THE DRIVER
 MODULE IS SM34QUP (STACKER), THIS CHECKS THE VALIDITY OF A CALL
 AND PASSES THE PARAMETER LIST AND CONTROL BLOCK ON TO THE ACTUAL
 PROCESSING MODULE.
    THE ONLY PROCESSING MODULE THAT GOT WRITTEN (OUT OF TWELVE PLANNED)
 IS SM34Q01 THIS DOES THE PROCESSING FOR "PUSH-DOWN" STACKS.

    THERE ARE TWO MACROS ASSOCIATED WITH THIS SYSTEM - $QCB AND $STACK.

 $QCB CAN BE CONSIDERED AS A DCB MACRO AND $STACK TAKES THE PLACE OF
 PUT AND GET MACROS.

    TO USE THE SYSTEM CODE THE $STACK MACRO WHEN YOU NEED TO PUT
 AN ENTRY ON THE STACK, TAKE AN ENTRY OFF THE STACK OR TO EXAMINE
 THE TOP ENTRY OF THE STACK.

    CODE THE $QCB MACRO IN THE DATA PORTION OF THE PROGRAM TO HOLD
 TYPE CODES, POINTERS ETC.

    THE MACROS ARE CODED AS FOLLOWS :


LABEL    $STACK QCB-NAME,DATA-ADDR,LEN=,OP=,ENT=,PB=


  WHERE  QCB-NAME   IS  THE LABEL OF A $QCB MACRO

         DATA-ADDR  IS  THE ADDRESS OF THE DATA TO BE PUT ON THE STACK
                    OR  THE ADDRESS OF THE AREA INTO WHICH DATA IS READ
                    (NOT REQUIRED FOR OP=FREE)

         LEN=       IS  THE LENGTH OF THE DATA TO BE PUT ON THE STACK
                        (ONLY REQUIRED FOR VARIABLE LENGTH STACKS)

         OP=        IS  THE OPERATION TO BE PERFORMED :
                        ADD    - THE DATA IS ADDED TO THE TOP OF THE
                                 STACK.
                        EXAM   - THE DATA FROM THE TOP OF THE STACK IS
                        ****     RETURNED TO THE AREA SPECIFIED IN
                                 DATA-ADDR. (DEFAULT)
                        DELETE - THE DATA FROM THE TOP OF THE STACK IS
                                 RETURNED AS ABOVE AND THE ENTRY IS
                                 DELETED FROM THE STACK.
                        FREE   - THE WHOLE STACK IS FREED WITHOUT
                                 RETURNING ANY ENTRIES.

         ENT=       IS  THE ENTRY TO BE RETRIEVED - "NEXT" IS THE ONLY
                        SPECIFICATION ALLOWED WITH A PUSH-DOWN STACK AND
                        IS THE DEFAULT.

         PB=        SPECIFIES WHETHER TO PASS AN ENTRY BACK TO THE
                        CALLER. THE DEFAULT IS "YES" BUT "NO" CAN BE
                        SPECIFIED.
                        (ONLY APPLIES TO OP=DELETE)


. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .


LABEL   $QCB   ACCESS=,TYPE=,LEN=


   WHERE  ACCESS=     SPECIFIES THE TYPE OF QUEUE BEING HANDLED.
                          (THE ONLY VALUE CURRENTLY VALID IS "STACK")

          TYPE=       IS  THE TYPE OF ENTRY (FIXED OR VARIABLE).
                          THE DEFAULT IS "F" (FIXED) BUT "V" CAN BE
                          SPECIFIED FOR VARIABLE LENGTH ENTRIES.

          LEN=        IS  THE LENGTH IF THE ENTRIES ARE FIXED LENGTH.
                          FOR VARIABLE LENGTH ENTRIES THE LENGTH SHOULD
                          BE SPECIFIED IN THE $STACK MACRO.





    THE PROGRAM DYNAMICALLY GETMAINS AND FREEMAINS THE STACKS AS
 REQUIRED.

    THE RETURN CODES FROM SM34QUP ARE AS FOLLOWS :

    0  -  THE ACTION WAS TAKEN AS REQUESTED.
    4  -  THE STACK IS EMPTY.
    8  -  ILLOGICAL SPECIFICATION (ENT=NEXT NOT SPECIFIED OR DEFAULTED
          OR SOME OTHER DUMB THING).




************************************************************************

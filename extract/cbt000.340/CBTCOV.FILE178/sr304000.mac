C          DATA SET SR304000   AT LEVEL 011 AS OF 03/09/78
C          DATA SET SR304000   AT LEVEL 009 AS OF 03/09/78
C          DATA SET SR304000   AT LEVEL 007 AS OF 03/06/78
C          DATA SET SR304000   AT LEVEL 005 AS OF 03/02/78
C          DATA SET SR304000   AT LEVEL 002 AS OF 03/01/78
C     PGM-ID. SR304000.
C     AUTHOR. DON HIGGINS.
C     DATE.   02/28/78.
C     REMARKS.BATCH TEST DRIVER FOR XCOM. SEE SR303000.
C
      IMPLICIT INTEGER(A-Z)
      INTEGER MSG(20)/20*' '/
      INTEGER XGET/'XGET'/,XPUT/'XPUT'/
      INTEGER LAST/'LAST'/,ECB/0/
      REAL*8 TERM
C
C     MAINLINE
C
      READ(5,1)XGET,XPUT
    1 FORMAT(2A4)
      CALL XCTERM(XGET)
      CALL XCPATH(XGET,ECB)
      PM   GET
      DO   WHILE,(MSG(1).NE.LAST)
           PM   PUT
           PM   GET
      OD
      CALL XCTERM(XGET)
      STOP
C
C     GET
C
      PENTRY GET
      LMSG=80
      ECB=0
      CALL XCGET(XGET,TERM,MSG,LMSG)
      IF   (LMSG.EQ.0)
           CALL XCWAIT(XGET,ECB)
           LMSG=80
           CALL XCGET(XGET,TERM,MSG,LMSG)
      FI
      PEXIT
C
C     PUT
C
      PENTRY PUT
      WRITE(6,10)TERM,MSG,LMSG
   10 FORMAT(/1X,A8,1X,20A4,I7)
      CALL XCPUT(XPUT,TERM,MSG,LMSG)
      PEXIT
      END

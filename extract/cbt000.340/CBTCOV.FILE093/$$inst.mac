
FOR FURTHER INFORMATION ON THIS VERSION OF THE QUEUE COMMAND CONTACT:

JACK SCHUDEL
NORTHEAST REGIONAL DATA CENTER
233 SSRB, UNIVERSITY OF FLORIDA
GAINESVILLE, FLORIDA  32611
(904) 392-4601
SHARE CODE - UF


THIS VERSION OF QUEUE CONTAINS SUPPORT FOR JES2 2.2.0 ONLY.


IN THE NERDC ENVIRONMENT, USE OF THE QUEUE COMMAND IS RESTRICTED TO
SYSTEMS PROGRAMMING PERSONNEL INVOLVED IN JES2 MAINTENANCE, AND THERE
HAVE BEEN SEVERAL COMMANDS ADDED FOR THIS USAGE.  AN ATTEMPT HAS BEEN
MADE TO REQUIRE THAT THE COMMANDS THAT ALLOW THE UNRESTRICTED ACCESS
TO SPOOL DATA AND CONTROL BLOCKS BE AVAILABLE TO ONLY AUTHORIZED USERS,
BUT THERE WERE ALSO CHANGES MADE TO ALLOW THOSE AUTHORIZED USERS FULL
ACCESS TO THE SYSTEM WITHOUT HAVING ANY NAMING CONVENTION RESTRICTIONS
IMPOSED UPON THEM.  IT IS THEREFORE NORMAL FOR AN AUTHORIZED USER
TO BE ABLE TO USE THE LIST COMMAND AGAINST ANY JOB IN THE SYSTEM
INSTEAD OF HAVING TO USE THE XD COMMAND.

THE COMMAND ONLY NEEDS TO RUN AUTHORIZED FOR THE FOLLOWING COMMANDS
CANCEL, REQUEUE, AND PURGE. IF YOU DO NOT MARK THE CODE AC=1, THESE
THREE COMMANDS WILL NOT FUNCTION.

========================================================================

INSTALLATION PROCEDURE FOR QUEUE:

     1. Q0 IS THE COMMON AREA.
        QCOMMON, QSTART, QSTOP, QTILT, AND $JQT ARE MACROS.
        OTHER MEMBERS NOT STARTING WITH $ OR # ARE RENT SOURCE MODULES
        (SEE MEMBER $$JCL FOR A COMPLETE LIST).
        (USERS OF THE OLD QUEUE COMMAND WILL NOTICE THAT ALL OF THE
         Q1 - QNN MODULES HAVE BEEN RENAMED TO MAKE LIFE EASIER ON ME.)
        #HELP IS THE TSO HELP MEMBER.
        $$JCL IS SAMPLE JCL TO ASSEMBLE AND LINK QUEUE.
        #TABLE IS A SAMPLE SMP JOB TO AUTHORIZE THE QUEUE COMMAND.

     2. EDIT MACRO QSTART CHANGING THE FOLLOWING PARAMETERS:

        &QDSPRFX  CORRESPONDS TO &DSNPRFX.
        &QCKPTV   IS ONLY REQUIRED IF SYS1.HASPCKPT IS NOT CATALOGUED.
        &Q1CMD    IS THE FIRST COMMAND ISSUED.
        &QPF(n)   ARE THE DEFAULT PFK SETTINGS.

        EDIT THE MACRO QSTART TO INDICATE THE OPTIONS DESIRED,
        OR SPECIFY THEM AS SYSPARM INPUT TO THE ASSEMBLER.
        IT IS USUALLY EASIEST TO SPECIFY THE OPTIONS AS SYSPARM
        INPUT TO THE ASSEMBLER, SINCE THIS WILL ENSURE THAT ANY
        COMPLEX OPTION DEPENDENCIES ARE RESOLVED.
        IT WILL BE NECESSARY TO LOOK AT THE MACRO FOR A DESCRIPTION
        OF THE OPTIONS AVAILABLE.
        INSTALLATION SPECIFIC OPTIONS SHOULD NOT BE SPECIFIED.
        THESE USUALLY DEPEND UPON MODIFICATIONS THAT ARE ONLY
        PRESENT AT THE NAMED INSTALLATION, AND ARE PROVIDED FOR
        THOSE INSTALLATIONS THAT HAVE PROVIDED ENHANCEMENTS TO THIS
        VERSION OF QUEUE.

        AT PRESENT THERE IS SUPPORT IN THE INITIALIZATION MODULE TO
        DYNAMICALLY ALLOCATE THE CHECKPOINT ON EITHER 3330, 3330-1,
        3350, OR 3380. IF YOU ARE FORTUNATE ENOUGH TO HAVE A DRUM OR
        SOMETHING ELSE YOU WILL HAVE TO MODIFY INIT TO ADD SUPPORT.

     3. EDIT MEMBER $$JCL TO CHANGE THE JCL TO FIT YOUR STANDARDS.
        DO NOT ALTER THE ORDER OF THE ASSEMBLY SYSLIBS AS THERE IS A
        CONFLICT ON THE MACRO QSTART.

        THE SUPPLIED JCL GENERATES A SINGLE LOAD MODULE WHICH IS NOT
        REENTRANT.  THIS IS IDEAL FOR TESTING, BUT MAY NOT BE DESIRED IN
        A PRODUCTION ENVIRONMENT.  TO GENERATE A REENTRANT VERSION OF
        THE COMMAND, LINK ALL MODULES EXCEPT Q0 AS A SINGLE PROGRAM
        NAMED QUEUE (ALIAS Q) INTO SYS1.LPALIB.  IT WILL NEED AN
        AUTHORIZATION CODE OF 1 IF YOU DESIRE TO USE THE CANCEL,
        REQUEUE, AND PURGE COMMANDS.  THE LINKEDIT OF MODULE QUEUE WILL
        GENERATE AN UNRESOLVED EXTERNAL REFERENCE FOR MODULE QCOMMON,
        WHICH IS NORMAL AND SHOULD BE IGNORED.  MODULE Q0 SHOULD THEN BE
        ASSEMBLED AND LINKED INTO SYS1.LINKLIB OR SYS1.CMDLIB WITH A
        NAME OF QUEUECMN.  IT MUST NOT BE LINKED WITH RENT.
        IF YOU WANT TO CHANGE THE NAME OF QUEUECMN, THE ONLY REFERENCE
        TO IT IS IN MEMBER INIT WHERE THE LINK IS ISSUED.
        (YES, THE NAME OF THE Q0 MODULE IS DIFFERENT FROM THE NAME
        ON THE UNRESOLVED EXTERNAL REFERENCE MESSAGE.)

     4. IF THE CANCEL, REQUEUE, AND PURGE COMMANDS ARE DESIRED, ADD
        QUEUE (ALIAS Q) TO THE IKJEFTE2 MODULE WHICH IS THE TSO LIST
        OF AUTHORIZED COMMANDS. A SAMPLE SMP JOB IS PROVIDED IN THE
        MEMBER TABLE. QUEUE CAN BE RUN UNDER SPF BUT THE SUBCOMMANDS
        USING THE SUBSYSTEM INTERFACE (CANCEL, REQUEUE, AND DELETE)
        WILL BE INOPERABLE, ALL OTHER COMMANDS WILL FUNCTION NORMALLY.
        IF YOU DON'T MIND THE INTEGRITY PROBLEM YOU CAN ADD CODE TO
        QUEUE TO USE A SPECIAL SVC TO GET INTO SUPERVISOR STATE AND
        HAVE FULL FACILITY UNDER SPF.

SOME OF THE CODE MAY BE DEPENDENT ON ASSEMBLER H, BUT ALL THAT SHOULD
BE NEEDED IS TO MOVE SOME OF THE DSECTS AROUND TO GET THEM IN THE
PROPER ORDER FOR THE OTHER ASSEMBLERS.

TO MAKE IT EASIER TO ENTER CERTAIN COMMANDS, COMMAND NAMES MAY NOW
BE UP TO FOUR CHARACTERS.

MEMBER $LOG IS A CHRONOLOGICAL LIST OF THE CHANGES THAT HAVE BEEN MADE
TO THIS PROGRAM, AND SHOULD BE CONSULTED BY USERS WHO HAVE A PREVIOUS
VERSION AND WANT TO KNOW WHAT HAS BEEN CHANGED.

MEMBER $UFDOC  IS A LIST OF THE INDIVIDUAL UF... MODIFICATIONS.
MEMBER $CLDOC  IS A LIST OF THE INDIVIDUAL CL... MODIFICATIONS.
MEMBER $ONLDOC IS A LIST OF THE INDIVIDUAL ONL.. MODIFICATIONS.

========================================================================

 WHEN QUEUE IS INVOKED, THE DATA SET NAME PREFIX FOR
 THE HASPCKPT AND HASPACE DATA SETS CAN BE SPECIFIED
 VIA THE KEYWORD PREFIX(XXXX).  THE UNIT AND VOLUME SERIAL
 CAN ALSO BE SPECIFIED BY GIVING THE UNIT AND VOL KEYWORDS
 RESPECTIVELY.  THUS THE SYNTAX OF THE INITIAL QUEUE COMMAND
 IS AS FOLLOWS:
   (1) QUEUE
   (2) QUEUE CMD
   (3) QUEUE * PREFIX(XYZ)
   (4) QUEUE CMD PREFIX(XYZ)
   (5) QUEUE * VOL(ABCDEF)
   (6) QUEUE CMD VOL(ABCDEF)
    ETC
 IN (1) THE DEFAULT PREFIX, UNIT, AND VOL (I.E. THE ONES
 ASSEMBLED IN QCOMMON) ARE USED AS WELL AS THE DEFAULT
 INITIAL COMMAND (ASSEMBLED AS HELP).
 IN (2) THE INITIAL COMMAND IS 'CMD' RATHER THAN 'HELP'
 IN (3) THE INITIAL COMMAND IS 'HELP' BUT THE JES2 DATA
 SET PREFIXES ARE CHANGED TO XYZ.
 IN (4) THE INITIAL COMMAND IS 'CMD' AND THE JES2 PREFIX
 IS XYZ.
 IN (5) THE INITIAL COMMAND IS 'HELP' BUT THE VOLUME SERIAL
 FOR THE CHECKPOINT IS CHANGED TO ABCDEF.
 IN (6) THE INITIAL COMMAND IS 'CMD' AND THE CHECKPOINT
 VOLUME SERIAL IS CHANGED TO ABCDEF.


*        %GOTO BSLAVT;                                               /*
         MACRO
         TAVTD &C,&SAVT=YES                                      S22024
         SPACE
.*       CONVERTED TO BILINGUAL ON 09/26/72                      S22024
*        UPDATED 01/05/73                                        S22024
.*CHANGE ACTIVITY = AS FOLLOWS:                                 SA51078
.*C006800                                                       SA51078
.*A610000,742000-745200                                         SA51078
.*D610000-616000,742000-744000                                  SA51078
.*A208700,225600-225800                                          S22027
.*C232500,366000                                                 S22027
.*C232500                                                        S22026
.*A099000,208200-209600,225500,263000,285000,301000,303000       S22026
.*A341000,357000,695000                                          S22026
.*C178000                                                       SA65392
.*C178000                                                        S21903
.*A000000,912000                                                 S22024
.*C004000,225000,225600,232500-233000,914000                     S22024
         SPACE
IEDQAVTD DSECT
         AIF   ('&C' EQ '').DSECT
         AIF    ('&C' EQ '2').D2
         AIF    ('&C' EQ '3').D3
         AIF    ('&C' EQ '4').D4
.DSECT   ANOP
AVTSAVE1 DS    18F .                    MESSAGE CONTROL PROG SAVEAREA
.D2      ANOP
AVTSAVE2 DS    18F
.D3      ANOP
AVTSAVE3 DS    18F
.D4      ANOP
AVTSAVE4 DS    18F
AVTSAVEX DS    10F .                    DISABLED SAVEAREA
         ORG   *-8
AVTDLQ   DS    D .                      DLQ=TERMNAME
AVTCSTCS DS    A IEDQSTCS               ADDR OF FIRST ENTRY
*                                         CHARACTERISTICS TABLE
AVTDPARM DS    F .                      DISABLED PARAMETER LIST
*                                         USED WITH DOUBX
AVTDOUBX DS    D .                      DISABLED DOUBLEWORD SCRATCH
AVTDOUBL DS    D .                      ENABLED SCRATCH AREA
AVTCTLCH DS    D .                      OPERATOR CONTROL CHARACTERS
AVTPASWD DS    D .                      PASSWORD
AVTTCB   DS    A .                      ADDRESS OF MESSAGE CONTROL
*                                         PROGRAM'S TCB.
*                                         SET BY OPEN
AVTRACE  DS    A .                      TRACE TABLE ADDRESS
*
*                       DISPATCHER'S READY QUEUES
*
AVTREADY DS    A AVTDELEM  .            ADDRESS OF FIRST OF CHAIN
*                                         OF ELEMENTS IN PRIORITY
*                                         ORDER
AVTREADD DS    2A .                     DISABLED FIFO READY Q
*
AVTCKGET DS    A .                      CHECKPOINT WORKAREA - GETMAIN
AVTOCGET DS    A .                      OPERATOR CONTROL WORKAREA
AVTEXA2S DS    3H .                     EXECUTED INSTRUCTIONS TO
AVTEXS2A DS    3H .                       SAVE USER'S REGISTERS
AVTPARM  DS    A .                      ADDRESS OF PARAMETERS
*
AVTPKF   DS    0X .                     PROTECTION KEY FROM TCB
*                                         OF MCP
*                        BIT DEFINITIONS
AVTFTCHF EQU   X'08' .                  FETCH PROTECT ACTIVE SWITCH
*
AVTBASE  DS    A IEDQAVT  .             ADDRESS OF AVT
AVTPARM3 DS    A .                      ADDITIONAL OPTIONAL PARM
AVTDISTR DS    A .                      ADDR OF DISPATCHER TRACE
AVTRNMPT DS    A IEDQTNT  .             ADDRESS OF TERMNAME TABLE
AVTRDYA  DS    A IEDQRDYA  .            USER EXIT ADDRESS IN READY
AVTBSCAN DS    A .                      LINE END BSC MSG SCAN
AVTRARTN DS    A AVTDUMBR               ADDR OF RTN TO UPDATE LINE
*                                         TRACE TABLE. IF TRACE,
*                                         OPEN LOADS THIS MODULE
AVTPOST  DS    2F .                     QPOST PARAMETER LIST
*                                         USED BY OPERATOR CONTROL
AVTSPLPT DS    A .                      START PARAMETER LIST
*                                         POINTER, SET BY INTRO
AVTCIB   DS    AL1 .                    CIB=INTEGER
AVTNCKPR DS    X .                      CKREQS=INTEGER
AVTNOLBF DS    H .                      LNUNITS=INTEGER
AVTAS    DS    A .                      RELEASE
*
*              ADDRESSES OF TCBS OF ATTACHED TASKS
*
AVTCKTCB DS    A .                      CHECKPOINT
AVTOCTCB DS    A .                      OPERATOR CONTROL
AVTOLTCB DS    A .                      ON LINE TEST
AVTCWTCB DS    A .                      COMMON WRITE FE TASK
*
*                       EVENT CONTROL BLOCKS
*
AVTCWECA DS    A .                      COMMON WRITE FE TASK ECB
AVTCKECA DS    F .                      CHECKPOINT
AVTOLECA DS    F .                      ON LINE TEST
AVTOPECA DS    F .                      OPERATOR CONTROL
AVTOSECB DS    F .                      EVENT CONTROL BLOCK USED BY
*                                         DISPATCHER TO CAUSE QTAM
*                                         TASK TO BE IN WAIT STATE
AVTPCBPT DS    A .                      FIRST PROCESS CONTROL BLOCK
AVTOPTPT DS    F .                      ADDRESS OF OPTION TABLE
AVTKA02  DS    A IEDQKA02               I/O GENERATOR IN ACTIVATE
AVTHRESH DS    F                        THRESHHOLD VALUES       SA65392
AVTCRSRF DS    F .                      CROSSRF=INTEGER
AVTCOMPT DS    A .                      ADDR OF COMMUNICATIONS PARM
AVTUI    DS    A IEDQUI                 USER INTERFACE
AVTE8    DS    A .                      SEARCH ROUT APPL. PROG.  S22025
AVTOLTST DS    0X .                     OLTEST=INTEGER
AVTHG02  DS    A IEDQHG02               REMOVE ELE FROM TIME DELAY Q
AVTAL    DS    A IEDQAL                 SCAN AT OFFSET           S22025
AVTGD    DS    A IEDQGD  .              BUFFER ASSOCIATION
AVTA3    DS    A .                      TRANSPARENCY CCW BUILDER (BT)
AVTAX    DS    A IEDQAX                 SCAN BUFFER              S22025
AVTEA    DS    A .                      DISPATCHER
*
AVTDISP  EQU   * .                      THESE SUBTASKS ARE ACTIVAT-
*                                         ED BY THE DISPATCHER.
AVTHA    DS    A .                      RECEIVE SCHEDULER
AVTSCOPT DS    0XL1 .                                            S22026
*                                                                S22026
*                      BIT DEFINITIONS FOR HIGH ORDER BYTE       S22026
AVTCMBUF EQU   X'10' .                  COMMON BUFFER TRANSMISSINS22027
AVTCONC  EQU   X'08' .                  CONCENTRATOR MIXED       S22026
AVTCONCO EQU   X'04' .                  CONCENTRATOR ONLY        S22026
AVTN2741 EQU   X'02' .                  NO 2741 AND NO TSO       S22026
AVTNDIAL EQU   X'01' .                  NO DIAL                  S22026
*                                                                S22026
AVTHD    DS    A .                      SEND SCHEDULER
AVTEW    DS    A .                      GET SCHEDULER
AVTEC    DS    A .                      PUT SCHEDULER
AVTEZ    DS    A .                      GET FIFO
AVTBZ    DS    A .                      LOG SCHEDULER
AVTR1    DS    A .                      DIAL SCHEDULER
AVTHB    DS    A .                      BUFFERED SCHEDULER
AVTE7    DS    A .                      RETRIEVE SCHEDULER
AVTQ1    DS    A .                      LOCAL SCHEDULER          S22024
AVTCSCH  DS    A .                      CONC SEND SCHEDULER      S22026
AVTTJ    DS    A .                      3705 SEND SCHEDULER      S22024
         DS    A .                      RESERVED                 S22027
AVTCMBSS DS    A .                      COMMBUF SEND SCHEDULER   S22027
*
*
*                       SPECIAL ELEMENTS
*
         DS    A .                      RESERVED                 S22024
AVTSAVTP DS    A .                      SECONDARY AVT POINTER    S22024
AVTPLCBN DS    H .                      NUMBER OF PLCBS          S22024
AVTABEND DS    3H .                     ABEND 045, SUBCODE IN R15
AVTDMECB DS    A .                      DUMMY LINE I/O ECB
AVTA3TL  DS    A .                      IEDQA3,TRANSLATE LIST
AVTTONE  DS    A .                      ADDR OF WORLD TRADE TONE CHARS
AVTNX    DS    A .                      OPERATOR AWARENESS MSG ROUTER
AVTIOT   DS    A IGG019Q0               I/O TRACE TABLE HANDLER
AVTHI    DS    A IEDQHI                 SYSTEM DELAY QCB ADDR
AVTHK    DS    A IEDQHK                 STOPLINE QCB ADDR
AVTCKRMV DS    4F .                     REQUESTS REMOVAL OF CKPT
*                                         ELE FROM TIME DELAY QUEUE
AVTCKELE DS    2A .                     TIME DELAY OR REUS POSTS
*                                         ELE TO START CHECKPOINT
AVTSCBSZ DS    X .                      NO. BYTES IN SCB INCLUDING
*                                         SAVEAREA FOR USER'S REGS
AVTCKQAD DS    AL3 AVTCKPTB             CKPT QCB ADDRESS
AVTCKELF DS    X .                      FLAG BITS
*                        BIT DEFINITIONS
AVTCRDYN EQU   X'80' .                  CHECKPT REQUESTED BY READY
AVTCMCPN EQU   X'40' .                  CHECKPT REQUESTED BY
*                                         MCPCLOSE
*        EQU   X'20' .                  UNUSED
AVTCINCN EQU   X'10' .                  CHECKPT REQUESTED BY
*                                         INCIDENT OVERFLOW
AVTCCLCN EQU   X'08' .                  CLOSEDOWN COMPLETION BIT
AVTCPIPN EQU   X'04' .                  CHECKPT IN PROGRESS
AVTCRTLN EQU   X'02' .                  CHECKPOINT REQUESTED
AVTWARMN EQU   X'01' .                  WARM RESTART
AVTCONTN EQU   X'FF'-AVTWARMN .         CONTINUATION RESTART
*
AVTCPRCD DS    X .                      CPRCDS=INTEGER
AVTCKELV DS    H .                      CPINTVL=TIME INTERVAL
AVTCKTIM DS    H .                      TIME OF DAY OF INTERRUPT
         DS    X .                      INDEX TO QCB ADDRESS
AVTOPERL DS    X .                      OPEN ERROR LOCATOR
AVTOPXCL DS    2X .                     OPEN MODULE ID HAVING ERROR
AVTOPERT DS    X .                      TYPE OF OPEN ERROR
AVTCKBYT DS    X .                      CKPT TIME DELAY STATUS
*                        BIT DEFINITIONS
AVTCKONQ EQU   X'02' .                  BIT ON, ELE ON TIME Q
*
AVTOPETR DS    0X .                     OPEN TRANSLATE BYTE
AVTHG01  DS    A IEDQHG01               TIME DELAY SUBROUTINE
AVTBSX   DS    0X 8                     OFFSET TO BINARY SEARCH ADDR
AVTCKLNK DS    A .                      LINK FIELD ON TIME Q
AVTDELEM DS    A AVTREADY-8             DUMMY LAST ELEMENT
AVTDELAD DS    A AVTDELEM  .            ADDR OF DUMMY LAST ELEMENT
*
AVTCCELE DS    2F .                     OPERATOR CONTROL POSTS THIS
*                                         ELEMENT TO REQUEST AN
*                                         INCIDENT CHECKPOINT
*
AVTCLRHI DS    2X .                     WHEN USED WITH NEXT HALFWOD
*                                         IS A MASK FOR CLEARING
*                                         LEFT TWO BYTES OF REGISTR
AVTHFF   DS    XL2 FFFF  .              HALF WORD ALL 'F'
AVTADBUF DS    A .                      BUFFER ADDRESS SET BY
*                                         MH CONTROL
AVT2260L DS    F .                      PT TO 2260 LOCAL APPENDAGE
AVTSYSER DS    X .                      SYSTEM ERROR FLAG BYTE
*                        BIT DEFINITIONS
AVTCMINN EQU   X'80' .                  NO. CORE Q UNITS LESS THAN
*                                         SPECIFIED BY MSMIN=PERCENT
AVTCMINF EQU   X'FF'-AVTCMINN .         NO. CORE Q UNITS MORE THAN
*                                       SPECIFIED BY MSMIN=PERCENT
AVTCMAXN EQU   X'40' .                  NO. CORE Q UNITS MORE THAN
*                                         SPECIFIED BY MSMAX=PERCENT
AVTCMAXF EQU   X'FF'-AVTCMAXN .         NO. CORE Q UNITS LESS THAN
*                                         SPECIFIED BY MSMAX=PERCENT
*
AVTMSGS  DS    AL3 IEDQMSGS             LIST OF OPTIONAL VCONS
*
*                       POINTERS TO QCBS
*
AVTCBQCB DS    A .                      COMMBUF MASTER QCB       S22027
AVTSUPPT DS    A .                      STARTUP MESSAGE
AVTTSOPT DS    A .                      TS INPUT
AVTOCQPT DS    A IEDQEU                 OPEN/CLOSE APPLICATION PROG
*
*                       NON-OPTIONAL QCBS
*
AVTDELYB DS    4A .                     TIME DELAY QCB
AVTREFTM DS    H .                      REFERENCE TIME, CURRENT TIME
*                                         OF DAY + OR - 6 HOURS
AVTINOUT DS    H .                      DUMMY INEND/OUTEND PARM LIST
AVTIMQPS DS    2A .                     SVC 102 PARM, POST TIME QCB
*                                         TO ITSELF AT TIME INTERRUPT
AVTTIMQ  DS    A .                      TIME DELAY QUEUE
AVTBFREB DS    3F .                     AVAILABLE BUFFER
AVTBFRTB DS    3F .                     BUFFER RETURN
AVTCKPTB DS    3F .                     CHECKPOINT
AVTOPCOB DS    3F .                     OPERATOR CONTROL
AVTOLTQB DS    3F .                     ON LINE TEST QCB
AVTACTIB DS    3F .                     ACTIVATE
AVTCLOSB DS    3F .                     CLOSEDOWN COMPLETION
AVTCPRMB DS    3F .                     REMOVES ELE FROM TIME DELAY Q
AVTDSIOB DS    3F .                     DISK I/O QCB
AVTCPBCB DS    3F .                     CPB CLEANUP QCB
AVTCOREC DS    A .                      BUFFERS POOL FOR CLOSE
AVTCADDR DS    F .                      CORE QUEUE COUNT
AVTFZERO DS    F .                      FULLWORD OF ZEROES
*
*                       FE COMMON WRITE INTERFACE AREA
*
AVTCAREA DS    A IEDQFE                 PATCH MODULE
AVTCWPM1 DS    F .                      FIRST PARAMETER POINTER
AVTCWEC1 DS    F .                      FIRST ECB
AVTCWFL1 DS    X .                      FIRST FLAG BYTE
*
*                       AVTCWFL1 BIT DEFINITIONS
AVTCOMWN EQU   X'80' .                  COMWRTE=YES
*                                       REMAINING BITS UNDEFINED
*
AVTCWFL2 DS    X .                      ADDITIONAL FLAG BYTES
*
*                       AVTCWFL2 BIT DEFINITIONS
AVTCWACT EQU   X'80' .                  COMMON WRITE IS ACTIVE
*        EQU   X'7C' .                  RESERVED BY COMWRITE
AVTCWRAP EQU   X'02' .                  '0'-WRAPPING OUTPUT ALLOWED
*                                         (REUSE SAME VOLUME)
*                                       '1'-WRAP NOT ALLOWED (INVOKE
*                                         VOL SWITCHING-REQUIRES
*                                         MANUAL INTERVENTION)
AVTCWCLD EQU   X'01' .                  '1'-COMWRITE CLOSEDOWN
*                                         REQUESTED BY USER IN
*                                         PARMLIST OR TCAM CLOSEDOWN.
*                                         SET BY COMWRITE
*
AVTCWTS1 DS    X .
AVTCWTS2 DS    X .
AVTCWPM2 DS    F .                      SECOND PARAMETER POINTER
AVTCWEC2 DS    F .                      SECOND ECB
AVTAFE10 DS    A .                      ENTRY POINT OF IEDQFE10
AVTAFE20 DS    A .                      ENTRY POINT OF IEDQFE20
AVTAFE30 DS    A .                      ENTRY POINT OF IEDQFE30
AVTCWINT DS    15F                      SERVICE COMMUNICATION   SA64772
*                                         AREA                  SA64772
AVTCWTOT DS    F                        TOTE COMMUNICATION AREA SA64772
*
*        GETMAIN EC,MF=L                GETMAIN PARAMETER LIST
AVTGETMN GETMAIN EC,MF=L
AVTHA2   DS    H 2  .                   CONSTANT
AVTHA3   DS    H 3  .                   CONSTANT
AVTHA4   DS    H 4  .                   CONSTANT
AVTHA7   DS    H 7  .                   CONSTANT
AVTHA16  DS    H 16  .                  CONSTANT
AVTKEYLE DS    H .                      KEYLEN ON MSG QUEUES
AVTLNCNT DS    H .                      NUMBER OF LINES OPENED
*                                         SET BY OPEN
*                                         CHECKED BY SYSTEM DELAY
AVTOPCNT DS    H .                      NUMBER OF LINES GRABBED BY
*                                         OPERATOR CONTROL.
*                                         SET BY DELAY SUBTASK
AVTOPCON DS    H .                      TERMNAME TABLE OFFSET TO
*                                         PRIMARY OPERATOR CONTROL
*                                         CONSOLE.  SET BY OPEN
*                                         FROM PRIMARY=TERMNAME IN
*                                         INTRO MACRO
AVTAVFCT DS    H .                      SET BY OPEN TO NUMBER OF
*                                         BUFFERS IN POOL
AVTSMCNT DS    H .                      NUMBER OF LINES SERVICED BY
*                                         STARTUP MESSAGE SUBTASK
AVTINTLV DS    H .                      NUMBER OF SECONDS OF SYSTEM
*                                         DELAY
*                                           SET BY OPERATOR CONTROL
*                                             OR BY INTRO INTVAL=INT
*                                           CHECKED BY DELAY SUBTASK
AVTDLQX  DS    H .                      OFFSET INTO TNT OF DEAD
*                                         LETTER QUEUE
AVTDUMBR DS    H BR 11                  DUMMY LINE TRACE TABLE UPDATE
AVTBIT1  DS    X .                      FLAG BITS
*
*                       BIT1 DEFINITIONS
*
AVTAPLKN EQU   X'80' .                  PREVENT DISK END APPENDAGE
*                                         FROM ADDING A CPB TO DIS-
*                                         ABLED DISK END Q FOR CPB
*                                         CLEANUP (AVTDKAPQ)
AVTAPLKF EQU   X'7F' .                  PERMITS ABOVE ACTION
AVTTSON  EQU   X'40' .                  ENVIRON=TSO (OR MIXED)
AVTAQTAN EQU   X'20' .                  ENVIRON=TCAM (OR MIXED)
AVTDLAYN EQU   X'10' .                  SYSTEM DELAY IS IN EFFECT
*                                         SET BY OPERATOR CONTROL
AVTDLAYF EQU   X'EF' .                  SYSTEM DELAY NOT IN EFFECT
*                                         TURNED OFF BY DELAY SUBT
AVTREADN EQU   X'08' .                  READY MACRO HAS BEEN
*                                         EXECUTED
*                                         SET BY READY MACRO
*                                         CHECKED BY OPEN
AVTCLOSN EQU   X'04' .                  CLOSEDOWN INDICATOR
*                                         '0'-CLOSEDOWN NOT REQUEST
*                                         '1'-CLOSEDOWN REQUESTED
AVTQUCKN EQU   X'02' .                  TYPE OF CLOSEDOWN
*                                         '0'-FLUSH
*                                         '1'-QUICK
AVTDISKN EQU   X'01' .                  DISK=YES
*
AVTBIT2  DS    X .                      FLAG BITS
*
*                       BIT2 DEFINITIONS
*
AVTEXTSC EQU   X'80' .                  EXTENDED RESTART        SA51078
AVTREUSN EQU   X'40' .                  REUS IS RUNNING
*                                         SET BY REUS
*                                         CHECKED BY CPB CLEANUP
AVTREUSF EQU   X'BF' .                    TURNED OFF BY REUS
AVTCOPYN EQU   X'20' .                  COPY WANTS CONTROL
AVTTOPOL EQU   X'10' .                  TOPMSG=YES/NO
*                                         ON,(NO) SUPPRESS TIME
*                                           OUT POLL MSGS
*                                         OFF,(YES) DISPLAY MSGS
AVTSTRTN EQU   X'08' .                  RESTART HAS BEGUN
AVTSTRTF EQU   X'F7' .                  COLDSTART (OR RESTART NOT
*                                        YET BEGUN)
AVTOPEIN EQU   X'04' .                  INITIAL LOAD DONE INDICATOR
*              X'02'                    LINETYP=STSP
*              X'01'                    LINETYP=BISC
*              X'03'                    LINETYP=MINI
*              X'00'                    LINETYP=BOTH
AVTBIT3  DS    X .                      FLAG BITS
*                       AVTBIT3 BIT DEFINITIONS
AVTSTAN  EQU   X'01' .                  S=C OR S=W SPECIFIED
AVTSTACN EQU   X'02' .                  S=C COLDSTART
AVTSTAWN EQU   X'FD' .                  S=W WARMSTART
AVTSTAIN EQU   X'04' .                  S=I INVITAION LISTS
AVTSTAYN EQU   X'08' .                  S=Y NO CONTINUATION
AVTOLTBN EQU   X'10' .                  MAX LOAD OF OLT REACHED
AVTTSAB  EQU   X'20' .                  TSO HAS ABENDED.SET BY TIME
*                                         SHARING ABEND MODULE. RESET
*                                         BY START TIME SHARING. CKED
*                                         BY TSINPUT & TSOUTPUT
AVTRFULN EQU   X'40' .                  REUS DISK ZONE FULL
*                                         SET BY REUS
AVTRFULF EQU   X'BF' .                  REUS DISK READY TO RECEIVE
*                                         TURNED OFF BY REUS
*                                         CHECKED BY REC. SCHEDULER
*                                           AND LINE END APPEN
AVTRECVN EQU   X'80' .                  CORE QUEUE FULL
*                                         SET BY DESTINATION SCHEDULER
AVTRECVF EQU   X'7F' .                    TURNED OFF BY DISK I/O
*                                         CHECKED BY RECEIVE SCHEDULER
*                                           AND LINE END APPENDAGE
*
AVTCKRST DS    X .                      RESTART=INTEGER
AVTDSKCT DS    H .                      NUMBER OF BUFFERS ON CPBS
*
*                  END OF BASIC AVT WHEN ENVIRON=TSO
*
AVTHM02  DS    A IEDQHM02               DESTINATION ASSIGNMENT
AVTCMIN  DS    A .                      MSMIN=INTEGER
AVTCMAX  DS    A .                      MSMAX=INTEGER
AVTTOTNC DS    F .                      NUMBER OF RECORDS IN ENTIRE
*                                         DATA SET (MSUNITS=INTEGER)
AVTNCPBQ DS    2A .                     Q OF BUFFERS AND ERBS
*                                         WAITING TO BE PROCESSED
*
*                  END OF CORE QUEUE AVT WHEN DISK=NO
*
AVTFL    DS    A .                      DISK EXCP DRIVER
AVTIA    DS    A .                      REUS
AVTCOPY  DS    A .                      COPY SUBTASK QCB POINTER
AVTDKAPQ DS    2A .                     Q OF CPBS TO BE PROCESSED
*                                         BY CPB CLEANUP (DISABLED)
AVTDKENQ DS    2A .                     SAVE AS ABOVE BUT ENABLED
AVTNOBFQ DS    2A .                     Q OF CPBS WITHOUT BUFFERS.
*                                         USED BY CPB CLEANUP
AVTBIT4  DS    XL1 .                    FLAGBITS                SA51078
*                       AVTBIT4 BIT DEFINITIONS                 SA51078
AVTRUFTN EQU   X'80' .                  REUS ACTIVE AT CHECKPT  SA51078
         DS    AL3 .                    RESERVED                SA51078
         DS    AL4 .                    RESERVED                SA51078
AVTINCPQ DS    2A .                     Q OF CPBS REQUESTING I/O
*                                         TO BE DONE BY EXCP DRIVER
AVTFCPB  DS    A .                      Q OF INACTIVE CPBS, CALLED
*                                         THE CPB FREEPOOL
AVTCPBPT DS    A .                      ADDRESS OF CPB FREEPOOL TO
*                                         BE FREEMAINED BY DISK CLOSE
AVTIOBR  DS    A .                      ADDRESS OF LIST OF IOBS,
*                                         ONE FOR EACH EXTENT OF
*                                         THE REUSABLE DISK QUEUE
AVTIOBN  DS    A .                      SAME AS ABOVE, BUT FOR THE
*                                         NON-REUSABLE DISK QUEUE
AVTLODPT DS    F .                      RADDR WHEN REUS ACTIVATED
*                       REUSABLE DISK DEFINITION
AVTADEBR DS    A .                      ADDRESS OF DEB
AVTNOVOR DS    F .                      NUMBER OF EXTENTS
AVTRCTRR DS    F .                      NUMBER OF RECORDS/TRACK
AVTTRCYR DS    F .                      NUMBER OR TRACKS/CYLINDER
AVTTOTNR DS    F .                      NUMBER OF RECORDS IN ENTIRE
*                                         DATA SET
AVTVOLRR DS    F .                      PRODUCT OF NUMBER OF
*                                         EXTENTS TIMES NUMBER OF
*                                         RECORDS/TRACK
*                       NONREUSABLE DISK DEFINITION
AVTADEBN DS    A .                      ADDRESS OF DEB
AVTNOVON DS    F .                      NUMBER OF EXTENTS
AVTRCTRN DS    F .                      NUMBER OF RECORDS/TRACK
AVTTRCYN DS    F .                      NUMBER OF TRACKS/CYLINDER
AVTTOTNN DS    F .                      NUMBER OF RECORDS IN ENTIRE
*                                         DATA SET
AVTVOLRN DS    F .                      PRODUCT OF NUMBER OF
*                                         EXTENTS TIMES NUMBER OF
*                                         RECORDS/TRACK
AVTHRESN DS    F .                      THE ABSOLUTE RECORD NUMBER
*                                         WHICH IS THE THRESHOLD TO
*                                         CAUSE CLOSEDOWN DUE TO
*                                         THE FILLING OF THE
*                                         NON-REUSABLE DISK QUEUE
AVTNADDR DS    F .                      NON-REUSABLE DISK QUEUE
AVTRADDR DS    F .                      REUSABLE DISK QUEUE
AVTHRESE DS    0F .                     NON-REUSABLE THRESHOLD
*                                         CLOSEDOWN ELEMENT, 3 WORDS
         DS    F .                      ADDR OF OPERATOR CONTROL QCB
         DS    X .                      PRIORITY (VALUE IS PRIOPCTL
*                                         PLUS 4)
         DS    AL3 .                    LINK FIELD
         DS    X .                      X'11' - FLUSH CLOSE REQUESTED
         DS    X .                      X'0C' - LENGTH OF ELEMENT
         DS    X .                      UNUSED - (REL.LINE NO.)
AVTHRESS DS    X .                      COMPLETION CODE, USED AS STATUS
*                                         X'FF' - UNUSED ELEMENT
*                                         X'F0' - ELE HAS BEEN POSTED
*                                         X'00' OR X'04' CLOSED DOWN
AVTCPBNO DS    H .                      CPB=INTEGER
*
*                       TCAM SYSTEM EQUATES
*
AVTCVTPT EQU   240 .                    OFFSET INTO CVT OF ADDRESS
*                                         OF TCAM AVT POINTER
AVTUMALN EQU   12 .                     LENGTH OF CCW-TIC (UNIT
*                                         MANAGEMENT AREA)
AVTDATLN EQU   6 .                      NO. OF BYTES IN DATA FIELD
*                                         OF MESSAGE Q RECORD
AVTMINKY EQU   33 .                     MINIMUM KEYLENGTH
AVTHDRSZ EQU   30 .                     SIZE OF HEADER PREFIX
AVTTXTSZ EQU   23 .                     SIZE OF TEXT PREFIX
AVTTSOSZ EQU   9 .                      SIZE OF TSO PREFIX
AVTSVSIZ EQU   72 .                     NO. BYTES IN A SAVEAREA
AVTECD4  EQU   4 .                      RETURN CODE OF 4
AVTECD8  EQU   8 .                      RETURN CODE OF 8
AVTECD12 EQU   12 .                     RETURN CODE OF 12
AVTECD16 EQU   16 .                     RETURN CODE OF 16
AVTECD20 EQU   20 .                     RETURN CODE OF 20
AVTERACE EQU   24 .                     SIZE OF TRACE TABLE ENTRY
AVTE80   EQU   X'80' .                  SIGN BIT MASK
AVTMODBT EQU   X'80' .                  2 TO THE 23RD BIT MASK
AVTEZERO EQU   X'00' .                  EQUATED ZERO
AVTEBLNK EQU   C' ' .                   EQUATED BLANK CHARACTER
AVTEPER  EQU   C'.' .                   EQUATED PERIOD
AVTEFF   EQU   X'FF' .                  ALL ONES
* BIT DEFINITIONS OF THE HIGH ORDER BYTE OF TCAM WORD IN CVT
AVTCVT80 EQU   X'80' .                  TCAM OPEN COMPLETED
AVTCVT40 EQU   X'40' .                  2260 LOCAL SUPPORT
AVTCVT08 EQU   X'08' .                  MCP IS FETCH PROTECTED
*                       OFFSETS FOR MP65 SUPPORT
AVTCVTMP EQU   X'C0' .                  OFFSET INTO CVT OF ADDRESS
*                                         OF MULTIPROCESSOR CVT
AVTMPTRR EQU   X'0C' .                  OFFSET INTO MP CVT OF
*                                         TASK REMOVAL ROUTINE
AVTCPUST EQU   X'2AF' .                 ABSOLUTE LOCATION LOW CORE
*                                         OF CPUSTAT BYTE
         SPACE 2
         AIF   ('&SAVT' NE 'YES').SAVTEND                        S22024
IEDNSVTD DSECT                                                   S22024
         DS    A .                      RESERVED                 S22024
SAVTPLCB DS    A .                      PLCB RETURN QCB ADDRESS  S22024
SAVTPLBF EQU   X'80' .                  PLCB POOL FORMATTED      S22024
SAVTBTUT DS    A .                      BTU TRACE TABLE ADDRESS  S22024
SAVTDBQB DS    A .                      3705 DEBLOCK QCB ADDRESS S22024
SAVTODQB DS    A .                      3705 OUTPT DTA HNDLR QCB S22024
SAVTFLDH DS    A .                      3705 1ST LEVEL DATA HNDLRS22024
SAVTRQCH DS    A .                      APPLICATION REQ QUEUE    S22024
SAVTRQTG DS    H .                      BTU REQUEST TAG          S22024
         DS    H .                      RESERVED                 S22024
SAVTLCBP DS    A .                      PSEUDO-LCB POOL ADDRESS  S22024
SAVTID   DS    A .                      ID VERIFICATION ROUTINE  S22024
         SPACE 2                                                 S22024
.SAVTEND ANOP                                                    S22024
         MEND  , */
*%BSLAVT  :  ;
*DECLARE
*  1 IEDQAVTD BDY(DWORD) BASED(IEDQAPTR),
*%IF C='2' %THEN
*   %GOTO D2;
*%IF C='3' %THEN
*   %GOTO D3;
*%IF C='4' %THEN
*   %GOTO D4;
*   2 AVTSAVE1    (18) PTR(31),          /* MESSAGE CNTRL PROG SAVE  */
*%D2     :  ;
*   2 AVTSAVE2    (18) PTR(31),
*%D3     :  ;
*   2 AVTSAVE3    (18) PTR(31),
*%D4     :  ;
*   2 AVTSAVE4    (18) PTR(31),
*   2 AVTSAVEX    CHAR(40),              /* DISABLED SAVEAREA        */
*    3 *           CHAR(32),
*    3 AVTDLQ      CHAR(8),              /* DEAD LETTER QUEUE        */
*   2 AVTCSTCS    PTR(31),               /* IEDQSTCS ADDR OF FIRST
*                                           ENTRY  CHARACTERISTICS
*                                           TABLE                    */
*   2 AVTDPARM    FIXED(31),             /* DISABLED PARAMETER LIST
*                                           USED WITH DOUBX          */
*   2 AVTDOUBX    CHAR(8) BDY(DWORD),    /* DISABLED DOUBLEWORD
*                                           SCRATCH                  */
*   2 AVTDOUBL    CHAR(8) BDY(DWORD),    /* ENABLED SCRATCH AREA     */
*   2 AVTCTLCH    CHAR(8) BDY(DWORD),    /* OPERATOR CONTRL CHARS    */
*   2 AVTPASWD    CHAR(8) BDY(DWORD),    /* PASSWORD                 */
*   2 AVTTCB      PTR(31),               /* ADDRESS OF MESSAGE
*                                           CONTROL  PROGRAM'S TCB.
*                                           SET BY OPEN              */
*   2 AVTRACE     PTR(31),               /* TRACE TABLE ADDRESS      */
*
*/* DISPATCHER'S READY QUEUES                                        */
*
*   2 AVTREADY    PTR(31),               /* AVTDELEM - ADDRESS OF
*                                           FIRST OF CHAIN  OF
*                                           ELEMENTS IN PRIORITY
*                                           ORDER                    */
*   2 AVTREADD    PTR(31),               /* DISABLED FIFO READY Q    */
*   2 *           PTR(31),
*   2 AVTCKGET    PTR(31),               /* CHECKPOINT WORKAREA -
*                                           GETMAIN                  */
*   2 AVTOCGET    PTR(31),               /* OPERATOR CONTROL
*                                           WORKAREA                 */
*   2 AVTEXA2S    CHAR(6),               /* EXECUTED INSTRUCTIONS TO */
*   2 AVTEXS2A    CHAR(6),               /* SAVE USER'S REGISTERS    */
*   2 AVTPARM     PTR(31),               /* ADDRESS OF PARAMETERS    */
*   2 AVTBASE     PTR(31),               /* IEDQAVT - ADDRESS OF AVT */
*    3 AVTPKF      CHAR(1),              /* PROTECTION KEY FROM TCB
*                                           OF MCP                   */
*     4 *        BIT(1),                 /* RESERVED                 */
*     4 *        BIT(1),                 /* RESERVED                 */
*     4 *        BIT(1),                 /* RESERVED                 */
*     4 *        BIT(1),                 /* RESERVED                 */
*     4 AVTFTCHF BIT(1),                 /* FETCH PROTECT ACTIVE
*                                           SWITCH                   */
*     4 *        BIT(1),                 /* RESERVED                 */
*     4 *        BIT(1),                 /* RESERVED                 */
*     4 *        BIT(1),                 /* RESERVED                 */
*   2 AVTPARM3    PTR(31),               /* ADDITIONAL OPTIONAL PARM */
*   2 AVTDISTR    PTR(31),               /* ADDR OF DISPATCHER TRACE */
*   2 AVTRNMPT    PTR(31),               /* IEDQTNT - ADDRESS OF
*                                           TERMNAME TABLE           */
*   2 AVTRDYA     PTR(31),               /* IEDQRDYA - USER EXIT
*                                           ADDRESS IN READY         */
*   2 AVTBSCAN    PTR(31),               /* LINE END BSC MSG SCAN    */
*   2 AVTRARTN    PTR(31),               /* AVTDUMBR ADDR OF RTN TO
*                                           UPDATE LINE TRACE TABLE.
*                                           IF TRACE, OPEN LOADS THIS
*                                           MODULE                   */
*   2 AVTPOST     FIXED(31),             /* QPOST PARAMETER LIST     */
*   2 *           FIXED(31),             /* USED BY OPERATOR CNTRL   */
*   2 AVTSPLPT    PTR(31),               /* START PARAMETER LIST
*                                           POINTER, SET BY INTRO    */
*   2 AVTCIB      PTR(8),                /* CIB=INTEGER              */
*   2 AVTNCKPR    PTR(8),                /* CKREQS=INTEGER           */
*   2 AVTNOLBF    FIXED(15),             /* LNUNITS=INTEGER          */
*   2 AVTAS       PTR(31),               /* RELEASE                  */
*
*/* ADDRESSES OF TCBS OF ATTACHED TASKS                              */
*
*   2 AVTCKTCB    PTR(31),               /* CHECKPOINT               */
*   2 AVTOCTCB    PTR(31),               /* OPERATOR CONTROL         */
*   2 AVTOLTCB    PTR(31),               /* ON LINE TEST             */
*   2 AVTCWTCB    PTR(31),               /* COMMON WRITE FE TASK     */
*
*/* EVENT CONTROL BLOCKS                                             */
*
*   2 AVTCWECA    FIXED(31),             /* COMMON WRITE FE TASK ECB */
*   2 AVTCKECA    FIXED(31),             /* CHECKPOINT               */
*   2 AVTOLECA    FIXED(31),             /* ON LINE TEST             */
*   2 AVTOPECA    FIXED(31),             /* OPERATOR CONTROL         */
*   2 AVTOSECB    FIXED(31),             /* EVENT CONTROL BLOCK
*                                           USED BY  DISPATCHER TO
*                                           CAUSE TCAM TASK TO BE
*                                           IN WAIT STATE            */
*   2 AVTPCBPT    PTR(31),               /* FIRST PROCESS CONTROL
*                                           BLOCK                    */
*   2 AVTOPTPT    PTR(31),               /* ADDRESS OF OPTION TABLE  */
*   2 AVTKA02     PTR(31),               /* IEDQKA02 I/O GENERATOR
*                                           IN ACTIVATE              */
*   2 *           FIXED(31),             /* RESERVED           S21903*/
*   2 AVTCRSRF    FIXED(31),             /* CROSSRF=INTEGER          */
*   2 AVTCOMPT    PTR(31),               /* ADDR OF COMMUNICATIONS
*                                           PARM                     */
*   2 AVTUI       PTR(31),               /* IEDQUI USER INTERFACE    */
*   2 AVTE8       PTR(31),               /* SEARCH RTN APP PRG S22025*/
*   2 AVTHG02     PTR(31),               /* IEDQHG02 REMOVE ELE FROM
*                                           TIME DELAY Q             */
*    3 AVTOLTST    PTR(8),               /* OLTEST=INTEGER           */
*   2 AVTAL       PTR(31),               /* IEDQAL ADDRESS
*                                           COMPUTATION        S22025*/
*   2 AVTGD       PTR(31),               /* IEDQGD - BUFFER
*                                           ASSOCIATION              */
*   2 AVTA3       PTR(31),               /* TRANSPARENCY CCW BUILDER */
*   2 AVTAX       PTR(31),               /* IEDQAX - SCAN      S22025*/
*   2 AVTEA       PTR(31),               /* DISPATCHER               */
*   2 AVTDISP     PTR(31),
*
*/* SUBTASKS ACTIVATED BY THE DISPATCHER                             */
*
*    3 AVTHA       PTR(31),              /* RECEIVE SCHEDULER        */
*   2 AVTHD       PTR(31),               /* SEND SCHEDULER           */
*    3 AVTSCOPT    CHAR(1),              /*                    S22026*/
*     4 *           BIT(3),              /* RESERVED           S22027*/
*     4 AVTCMBUF    BIT(1),              /* COMMON BUFFER
*                                           TRANSMISSION       S22027*/
*     4 AVTCONC     BIT(1),              /* CONCENTRATOR MIXED S22026*/
*     4 AVTCONCO    BIT(1),              /* CONCENTRATOR ONLY  S22026*/
*     4 AVTN2741    BIT(1),              /* NO 2741 & NO TSO   S22026*/
*     4 AVTNDIAL    BIT(1),              /* NO DIAL            S22026*/
*   2 AVTEW       PTR(31),               /* GET SCHEDULER            */
*   2 AVTEC       PTR(31),               /* PUT SCHEDULER            */
*   2 AVTEZ       PTR(31),               /* GET FIFO                 */
*   2 AVTBZ       PTR(31),               /* LOG SCHEDULER            */
*   2 AVTR1       PTR(31),               /* DIAL SCHEDULER           */
*   2 AVTHB       PTR(31),               /* BUFFERED SCHEDULER       */
*   2 AVTE7       PTR(31),               /* RETRIEVE SCHEDULER       */
*   2 AVTQ1       PTR(31),               /* LOCAL SCHEDULER          */
*   2 AVTCSCH     PTR(31),               /* CONC SEND SCHED    S22026*/
*   2 AVTTJ       PTR(31),               /* 3705 SEND SCHEDLR  S22024*/
*   2 *           PTR(31),               /* RESERVED                 */
*   2 AVTCMBSS    PTR(31),               /* COMMBUF SCHEDULER  S22027*/
*   2 *           PTR(31),               /* RESERVED           S22024*/
*   2 AVTSAVTP    PTR(31),               /* SECONDARY AVT ADDR S22024*/
*   2 AVTPLCBN    FIXED(15),             /* NUMBER OF PLCB'S   S22024*/
*   2 AVTABEND    CHAR(6),               /* ABEND 045, SUBCODE R15   */
*   2 AVTDMECB    FIXED(31),             /* DUMMY LINE I/O ECB       */
*   2 AVTA3TL     PTR(31),               /* IEDQA3 - TRANSLATE LIST  */
*   2 AVTTONE     PTR(31),               /* ADDRESS OF WORLD TRADE
*                                           TONE CHARS               */
*   2 AVTNX       PTR(31),               /* OPERATOR AWARENESS MESSAGE
*                                           ROUTER                   */
*   2 AVTIOT      PTR(31),               /* IGG019Q0 - I/O TRACE
*                                           TABLE HANDLER            */
*   2 AVTHI       PTR(31),               /* IEDQHI - SYSTEM DELAY QCB
*                                           ADDR                     */
*   2 AVTHK       PTR(31),               /* IEDQHK STOPLINE QCB ADDR */
*   2 AVTCKRMV    PTR(31),               /* REQUESTS REMOVAL OF
*                                           CHECKPOINT ELEMENT FROM
*                                           TIME DELAY               */
*   2 *           CHAR(12),
*   2 AVTCKELE    PTR(31),               /* TIME DELAY OR REUS
*                                           POSTS ELEMENT TO START
*                                           CHECKPOINT               */
*   2 *           PTR(31),
*   2 AVTSCBSZ    PTR(8),                /* SCB SIZE INCLUDING
*                                           SAVEAREA FOR USER'S REGS */
*   2 AVTCKQAD    PTR(24)  BDY(BYTE),    /* AVTCKPTB CKPT QCB ADDR   */
*   2 AVTCKELF    CHAR(1),               /* FLAG BITS                */
*    3 AVTCRDYN BIT(1),                  /* CHECKPOINT REQUESTED BY
*                                           READY                    */
*    3 AVTCMCPN BIT(1),                  /* CHECKPOINT REQUESTED BY
*                                           MCPCLOSE                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 AVTCINCN BIT(1),                  /* CHECKPOINT REQUESTED BY
*                                           INCIDENT OVERFLOW        */
*    3 AVTCCLCN BIT(1),                  /* CLOSEDOWN COMPLETION BIT */
*    3 AVTCPIPN BIT(1),                  /* CHECKPOINT IN PROGRESS   */
*    3 AVTCRTLN BIT(1),                  /* CHECKPOINT REQUESTED     */
*    3 AVTWARMN BIT(1),                  /* WARM RESTART             */
*   2 AVTCPRCD    PTR(8),                /* CPRCDS=INTEGER           */
*   2 AVTCKELV    FIXED(15),             /* CPINTVL=TIME INTERVAL    */
*   2 AVTCKTIM    FIXED(15),             /* TIME OF DAY OF INTERRUPT */
*   2 *           PTR(8),                /* INDEX TO QCB ADDRESS     */
*   2 AVTOPERL    CHAR(1),               /* OPEN ERROR LOCATOR       */
*   2 AVTOPXCL    CHAR(2),               /* OPEN ERROR MODULE ID     */
*   2 AVTOPERT    PTR(8),                /* TYPE OF OPEN ERROR       */
*   2 AVTCKBYT    CHAR(1),               /* CKPT TIME DELAY STATUS   */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 AVTCKONQ BIT(1),                  /* ELEMENT ON TIME QUEUE    */
*    3 *        BIT(1),                  /* RESERVED                 */
*   2 AVTHG01     PTR(31),               /* IEDQHG01 - TIME DELAY
*                                           SUBROUTINE               */
*    3 AVTOPETR    CHAR(1),              /* OPEN TRANSLATE BYTE      */
*   2 AVTCKLNK    PTR(31),               /* LINK FIELD ON TIME QUEUE */
*    3 AVTBSX      PTR(8),               /* BINARY SEARCH ADDR INDEX */
*   2 AVTDELEM    PTR(31),               /* AVTREADY-8 DUMMY LAST
*                                           ELEMENT                  */
*   2 AVTDELAD    PTR(31),               /* AVTDELEM - ADDR OF DUMMY
*                                           LAST ELEMENT             */
*   2 AVTCCELE    PTR(31),               /* OPERATOR CONTROL POSTS
*                                           THIS ELEMENT TO REQUEST
*                                           AN INCIDENT CHECKPOINT   */
*   2 *           PTR(31),
*   2 AVTCLRHI    CHAR(2),               /* MASK FOR CLEARING TWO HIGH
*                                           ORDER BYTES OF REGISTER
*                                           WHEN USED WITH NEXT
*                                           HALFWORD                 */
*   2 AVTHFF      CHAR(2),               /* FFFF - HALF WORD ALL 'F' */
*   2 AVTADBUF    PTR(31),               /* BUFFER ADDRESS SET BY
*                                           MH CONTROL               */
*   2 AVT2260L    PTR(31),               /* 2260 LOCAL APPENDAGE     */
*   2 AVTSYSER    CHAR(1),               /* SYSTEM ERROR FLAG BYTE   */
*    3 AVTCMINN BIT(1),                  /* NUMBER CORE QUEUE UNITS
*                                           LESS THAN SPECIFIED BY
*                                           MSMIN=PERCENT            */
*    3 AVTCMAXN BIT(1),                  /* NUMBER CORE QUEUE UNITS
*                                           MORE THAN SPECIFIED BY
*                                           MSMAX=PERCENT            */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*   2 AVTMSGS     PTR(24)  BDY(BYTE),    /* IEDQMSGS  LIST OF
*                                           OPTIONAL VCONS           */
*
*/* POINTERS TO QCBS                                                 */
*
*   2 AVTCBQCB    PTR(31),               /* COMMBUF MASTER QCB S22027*/
*   2 AVTSUPPT    PTR(31),               /* STARTUP MESSAGE          */
*   2 AVTTSOPT    PTR(31),               /* TIME SHARING INPUT       */
*   2 AVTOCQPT    PTR(31),               /* IEDQEU - OPEN/CLOSE
*                                           APPLICATION PROGRAM      */
*
*/* NON-OPTIONAL QCBS                                                */
*
*   2 AVTDELYB    PTR(31),               /* TIME DELAY QCB           */
*   2 *           CHAR(12),
*   2 AVTREFTM    FIXED(15),             /* REFERENCE TIME - CURRENT
*                                           TIME OF DAY PLUS OR
*                                           MINUS SIX HOURS          */
*   2 AVTINOUT    FIXED(15),             /* DUMMY INEND/OUTEND
*                                           PARAMETER LIST           */
*   2 AVTIMQPS    PTR(31),               /* PARM FOR SVC 102 - POST
*                                           TIME QCB TO ITSELF AT
*                                           TIMER INTERRUPT          */
*   2 *           PTR(31),
*   2 AVTTIMQ     PTR(31),               /* TIME DELAY QUEUE         */
*   2 AVTBFREB    PTR(31),               /* AVAILABLE BUFFER QUEUE   */
*   2 *           CHAR(8),
*   2 AVTBFRTB    PTR(31),               /* BUFFER RETURN QUEUE      */
*   2 *           CHAR(8),
*   2 AVTCKPTB    PTR(31),               /* CHECKPOINT QUEUE         */
*   2 *           CHAR(8),
*   2 AVTOPCOB    PTR(31),               /* OPERATOR CONTROL QUEUE   */
*   2 *           CHAR(8),
*   2 AVTOLTQB    PTR(31),               /* ON LINE TEST QUEUE       */
*   2 *           CHAR(8),
*   2 AVTACTIB    PTR(31),               /* ACTIVATE QUEUE           */
*   2 *           CHAR(8),
*   2 AVTCLOSB    PTR(31),               /* CLOSEDOWN COMPLETION Q   */
*   2 *           CHAR(8),
*   2 AVTCPRMB    PTR(31),               /* REMOVES ELEMENT FROM TIME
*                                           DELAY                    */
*   2 *           CHAR(8),
*   2 AVTDSIOB    PTR(31),               /* DISK I/O QUEUE           */
*   2 *           CHAR(8),
*   2 AVTCPBCB    PTR(31),               /* CPB CLEANUP QUEUE        */
*   2 *           CHAR(8),
*   2 AVTCOREC    PTR(31),               /* BUFFER POOL FOR CLOSE    */
*   2 AVTCADDR    FIXED(31),             /* CORE QUEUE COUNT         */
*   2 AVTFZERO    FIXED(31),             /* FULLWORD OF ZEROES       */
*
*/* FE COMMON WRITE INTERFACE AREA                                   */
*
*   2 AVTCAREA    PTR(31),               /* IEDQFE PATCH MODULE      */
*   2 AVTCWPM1    PTR(31),               /* FIRST PARAMETER POINTER  */
*   2 AVTCWEC1    FIXED(31),             /* FIRST ECB                */
*   2 AVTCWFL1    CHAR(1),               /* FIRST FLAG BYTE          */
*
*/* AVTCWFL1 BIT DEFINITIONS                                         */
*
*    3 AVTCOMWN BIT(1),                  /* COMWRTE=YES              */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*   2 AVTCWFL2    CHAR(1),               /* ADDITIONAL FLAG BYTES    */
*
*/* AVTCWFL2 BIT DEFINITIONS                                         */
*
*    3 AVTCWACT BIT(1),                  /* COMMON WRITE IS ACTIVE   */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 AVTCWRAP BIT(1),                  /* '0' - WRAPPING OUTPUT
*                                           ALLOWED (REUSE SAME
*                                           VOLUME)
*                                           '1' - WRAP NOT ALLOWED
*                                           '1'
*                                           (INVOKE VOLUME SWITCH)   */
*    3 AVTCWCLD BIT(1),                  /* COMWRITE CLOSEDOWN OR
*                                           TCAM CLOSEDOWN           */
*   2 AVTCWTS1    CHAR(1),
*   2 AVTCWTS2    CHAR(1),
*   2 AVTCWPM2    PTR(31),               /* SECOND PARAMETER POINTER */
*   2 AVTCWEC2    FIXED(31),             /* SECOND ECB               */
*   2 AVTAFE10    PTR(31),               /* IEDQFE10 ENTRY POINT     */
*   2 AVTAFE20    PTR(31),               /* IEDQFE20 ENTRY POINT     */
*   2 AVTAFE30    PTR(31),               /* IEDQFE30 ENTRY POINT     */
*   2 AVTCWINT    CHAR(60),              /* SERVICE COMMUNI-  SA64772*/
*                                        /* CATION AREA       SA64772*/
*   2 AVTCWTOT    CHAR(4),               /* TOTE COMMUNICA-   SA64772*/
*                                        /* TION AREA         SA64772*/
*
*/* GETMAIN PARAMETER LIST - GETMAIN EC,MF=L                         */
*
*   2 AVTGETMN    PTR(31),
*   2 AVTGETMD    PTR(31),
*   2 *           CHAR(1),
*   2 AVTGETMS    PTR(8),
*   2 AVTHA2      FIXED(15),             /* 2 - CONSTANT             */
*   2 AVTHA3      FIXED(15),             /* 3 - CONSTANT             */
*   2 AVTHA4      FIXED(15),             /* 4 - CONSTANT             */
*   2 AVTHA7      FIXED(15),             /* 7 - CONSTANT             */
*   2 AVTHA16     FIXED(15),             /* 16 - CONSTANT            */
*   2 AVTKEYLE    FIXED(15),             /* KEYLEN ON MSG QUEUES     */
*   2 AVTLNCNT    FIXED(15),             /* NUMBER OF LINES OPENED   */
*   2 AVTOPCNT    FIXED(15),             /* NUMBER OF LINES IN USE
*                                           BY OPERATOR CONTROL      */
*   2 AVTOPCON    FIXED(15),             /* TERMNAME TABLE OFFSET TO
*                                           PRIMARY OPERATOR CONTROL
*                                           CONSOLE                  */
*   2 AVTAVFCT    FIXED(15),             /* NUMBER OF BUFFERS IN POOL*/
*   2 AVTSMCNT    FIXED(15),             /* NUMBER OF LINES SERVICED
*                                           BY STARTUP MESSAGE SUBTSK*/
*   2 AVTINTLV    FIXED(15),             /* NUMBER OF SECONDS OF
*                                           SYSTEM DELAY             */
*   2 AVTDLQX     FIXED(15),             /* TERMNAME TABLE OFFSET OF
*                                           DEAD LETTER QUEUE        */
*   2 AVTDUMBR    FIXED(15),             /* BR 11 - DUMMY LINE TRACE
*                                           TABLE UPDATE             */
*   2 AVTBIT1     CHAR(1),               /* FLAG BITS                */
*
*/* AVTBIT1 BIT DEFINITIONS                                          */
*
*    3 AVTAPLKN BIT(1),                  /* PREVENT DISK END
*                                           APPENDAGE FROM ADDING CPB
*                                           TO DISABLED DISK END
*                                           QUEUE FOR CPB CLEANUP    */
*    3 AVTTSON  BIT(1),                  /* ENVIRON=TSO (OR MIXED)   */
*    3 AVTAQTAN BIT(1),                  /* ENVIRON=TCAM (OR MIXED)  */
*    3 AVTDLAYN BIT(1),                  /* SYSTEM DELAY IN EFFECT   */
*    3 AVTREADN BIT(1),                  /* READY MACRO EXECUTED     */
*    3 AVTCLOSN BIT(1),                  /* CLOSEDOWN REQUESTED      */
*    3 AVTQUCKN BIT(1),                  /* CLOSEDOWN TYPE
*                                           '0' - FLUSH
*                                           '1' - QUICK              */
*    3 AVTDISKN BIT(1),                  /* DISK=YES                 */
*   2 AVTBIT2     CHAR(1),               /* FLAG BITS                */
*
*/* AVTBIT2 BIT DEFINITIONS                                          */
*
*    3 AVTEXTSC BIT(1),                  /* EXTENDED RESTART  SA51078*/
*    3 AVTREUSN BIT(1),                  /* REUSABILITY IS RUNNING   */
*    3 AVTCOPYN BIT(1),                  /* COPY REQUESTS CONTROL    */
*    3 AVTTOPOL BIT(1),                  /* TOPMSG=NO                */
*    3 AVTSTRTN BIT(1),                  /* RESTART HAS BEGUN        */
*    3 AVTOPEIN BIT(1),                  /* INITIAL LOAD DONE
*                                           INDICATOR                */
*/* X'02' - LINETYP=STSP                                             */
*/* X'01' - LINETYP=BISC                                             */
*/* X'03' - LINETYP=MINI                                             */
*/* X'00' - LINETYP=BOTH                                             */
*    3 *        BIT(1),                  /* RESERVED                 */
*    3 *        BIT(1),                  /* RESERVED                 */
*   2 AVTBIT3     CHAR(1),               /* FLAG BITS                */
*
*/* AVTBIT3 BIT DEFINITIONS                                          */
*
*    3 AVTRECVN BIT(1),                  /* CORE QUEUE FULL          */
*    3 AVTRFULN BIT(1),                  /* REUS DISK ZONE FULL      */
*    3 AVTTSAB  BIT(1),                  /* TSO HAS ABENDED          */
*    3 AVTOLTBN BIT(1),                  /* MAX LOAD OF OLT REACHED  */
*    3 AVTSTAYN BIT(1),                  /* S=Y - NO CONTINUATION    */
*    3 AVTSTAIN BIT(1),                  /* S=I - INVITATION LISTS   */
*    3 AVTSTACN BIT(1),                  /* S=C - COLDSTART          */
*    3 AVTSTAN  BIT(1),                  /* S=C OR S=W SPECIFIED     */
*   2 AVTCKRST    PTR(8),                /* RESTART=INTEGER          */
*   2 AVTDSKCT    FIXED(15),             /* NUMBER OF BUFFERS ON CPBS*/
*
*/* END OF BASIC AVT WHEN ENVIRON=TSO                                */
*
*   2 AVTHM02     PTR(31),               /* IEDQHM02 - DESTINATION
*                                           ASSIGNMENT               */
*   2 AVTCMIN     PTR(31),               /* MSMIN=INTEGER            */
*   2 AVTCMAX     PTR(31),               /* MSMAX=INTEGER            */
*   2 AVTTOTNC    FIXED(31),             /* NUMBER OF RECORDS IN
*                                           ENTIRE  DATA SET
*                                           (MSUNITS=INTEGER)        */
*   2 AVTNCPBQ    PTR(31),               /* QUEUE OF BUFFERS AND
*                                           ERBS WAITING TO BE
*                                           PROCESSED                */
*   2 *           PTR(31),
*
*/* END OF CORE QUEUE AVT WHEN DISK=NO                               */
*
*   2 AVTFL       PTR(31),               /* DISK EXCP DRIVER         */
*   2 AVTIA       PTR(31),               /* REUSABILITY              */
*   2 AVTCOPY     PTR(31),               /* COPY SUBTASK QCB POINTER */
*   2 AVTDKAPQ    PTR(31),               /* QUEUE OF CPBS TO BE
*                                           PROCESSED BY CPB
*                                           CLEANUP (DISABLED)       */
*   2 *           PTR(31),
*   2 AVTDKENQ    PTR(31),               /* SAME AS ABOVE EXCEPT
*                                           ENABLED                  */
*   2 *           PTR(31),
*   2 AVTNOBFQ    PTR(31),               /* QUEUE OF CPBS WITHOUT
*                                           BUFFERS - USED BY CPB
*                                           CLEANUP                  */
*   2 *           PTR(31),
*   2 AVTBIT4     CHAR(1),               /* FLAG BITS         SA51078*/
*
*/* AVTBIT4 BIT DEFINITIONS                                   SA51078*/
*
*    3 AVTRUFTN    BIT(1),               /* REUS ACTIVE AT CHECKPT
*                                                             SA51078*/
*    3 *           BIT(1),               /* RESERVED                 */
*    3 *           BIT(1),               /* RESERVED                 */
*    3 *           BIT(1),               /* RESERVED                 */
*    3 *           BIT(1),               /* RESERVED                 */
*    3 *           BIT(1),               /* RESERVED                 */
*    3 *           BIT(1),               /* RESERVED                 */
*    3 *           BIT(1),               /* RESERVED                 */
*
*   2 *           PTR(24),               /* RESERVED          SA51078*/
*   2 *           PTR(31),
*   2 AVTINCPQ    PTR(31),               /* QUEUE OF CPBS REQUESTING
*                                           I/O BY EXCP DRIVER       */
*   2 *           PTR(31),
*   2 AVTFCPB     PTR(31),               /* QUEUE OF INACTIVE CPBS -
*                                           CPB FREEPOOL             */
*   2 AVTCPBPT    PTR(31),               /* ADDRESS OF CPB FREEPOOL
*                                           TO BE FREEMAINED BY
*                                           DISK CLOSE               */
*   2 AVTIOBR     PTR(31),               /* ADDRESS OF LIST OF IOBS -
*                                           ONE FOR EACH EXTENT OF THE
*                                           REUSABLE DISK QUEUE      */
*   2 AVTIOBN     PTR(31),               /* SAME AS ABOVE EXCEPT FOR
*                                           NON-REUSABLE DISK QUEUE  */
*   2 AVTLODPT    FIXED(31),             /* RADDR WHEN REUS ACTIVATED*/
*
*/* REUSABLE DISK DEFINITION                                         */
*
*   2 AVTADEBR    PTR(31),               /* ADDRESS OF DEB           */
*   2 AVTNOVOR    FIXED(31),             /* NUMBER OF EXTENTS        */
*   2 AVTRCTRR    FIXED(31),             /* NUMBER OF RECORDS/TRACK  */
*   2 AVTTRCYR    FIXED(31),             /* NUMBER OF TRACKS/CYLINDER*/
*   2 AVTTOTNR    FIXED(31),             /* NUMBER OF RECORDS IN
*                                           ENTIRE DATA SET          */
*   2 AVTVOLRR    FIXED(31),             /* PRODUCT OF NUMBER OF
*                                           EXTENTS AND NUMBER OF
*                                           RECORDS/TRACK            */
*
*/* NON-REUSABLE DISK DEFINITION                                     */
*
*   2 AVTADEBN    PTR(31),               /* ADDRESS OF DEB           */
*   2 AVTNOVON    FIXED(31),             /* NUMBER OF EXTENTS        */
*   2 AVTRCTRN    FIXED(31),             /* NUMBER OF RECORDS/TRACK  */
*   2 AVTTRCYN    FIXED(31),             /* NUMBER OF TRACKS/CYLINDER*/
*   2 AVTTOTNN    FIXED(31),             /* NUMBER OF RECORDS IN
*                                           ENTIRE DATA SET          */
*   2 AVTVOLRN    FIXED(31),             /* PRODUCT OF NUMBER OF
*                                           EXTENTS AND NUMBER OF
*                                           RECORDS/TRACK            */
*   2 AVTHRESN    FIXED(31),             /* ABSOLUTE RECORD NUMBER
*                                           WHICH IS THE THRESHOLD
*                                           THAT CAUSES CLOSEDOWN
*                                           DUE TO FILLING OF THE
*                                           NON-REUSABLE DISK QUEUE  */
*   2 AVTNADDR    FIXED(31),             /* NON-REUSABLE DISK QUEUE  */
*   2 AVTRADDR    FIXED(31),             /* REUSABLE DISK QUEUE      */
*   2 *           PTR(31),               /* ADDR OF OP CONTROL QCB   */
*    3 AVTHRESE    PTR(31),              /* NON-REUSABLE THRESHOLD
*                                           CLOSEDOWN ELEMENT -
*                                           THREE WORDS              */
*   2 *           PTR(8),                /* PRIORITY (PRIOPCTL + 4)  */
*   2 *           PTR(24)  BDY(BYTE),    /* LINK FIELD               */
*   2 *           CHAR(1),               /* X'11' - FLUSH CLOSE
*                                           REQUESTED                */
*   2 *           PTR(8),                /* X'0C' - LENGTH OF ELEMENT*/
*   2 *           CHAR(1),               /* UNUSED - REL LINE NO     */
*   2 AVTHRESS    CHAR(1),               /* COMPLETION CODE - STATUS
*                                           X'FF' - UNUSED ELEMENT
*                                           X'F0' - ELEMENT POSTED
*                                           X'00' OR X'04' - CLOSED  */
*   2 AVTCPBNO    FIXED(15);             /* CPB=INTEGER              */
*
*%IF SAVT= 'NO' %THEN
*   %GOTO SAVTEND;
*DECLARE
*  1 IEDNSVTD BASED(AVTSAVTP) ,
*   2 *           PTR(31),               /* RESERVED                 */
*   2 SAVTPLCB    PTR(31),               /* PLCB RETURN QCB ADDRESS  */
*    3 *           CHAR(1),              /* FLAG BYTE                */
*     4 SAVTPLBF    BIT(1),              /* PLCB POOL FORMATTED      */
*   2 SAVTBTUT    PTR(31),               /* BTU TRACE TABLE ADDRESS  */
*   2 SAVTDBQB    PTR(31),               /* 3705 DEBLOCK QCB ADDRESS */
*   2 SAVTODQB    PTR(31),               /* 3705 OUTPUT DATA
*                                           HANDLER QCBADDRESS       */
*   2 SAVTFLDH    PTR(31),               /* 3705 FIRST-LEVEL DATA
*                                          HANDLER ADDRESS           */
*   2 SAVTRQCH    PTR(31),               /* APPLICATION REQUEST QUEUE*/
*   2 SAVTRQTG    FIXED(15),             /* BTU REQUEST TAG          */
*   2 *           FIXED(15),             /* RESERVED                 */
*   2 SAVTLCBP    PTR(31),               /* PSEUDO-LCB POOL ADDRESS  */
*   2 SAVTID      PTR(31);               /* ID VERIFICATION ROUTINE  */
*%SAVTEND:;
*

         MACRO
         AFCTLDS
AFCTLDS  DSECT ,
*C310000,430000                                                 A45668
*
* FILE CONTROL INFORMATION.  THIS CONTROL BLOCK IS EITHER IN THE FILE
*        BOX FOR A PARTICULAR LINE (PRIVATE FILE), OR IN THE KONSTANT
*        BOX (FOR GLOBAL FILES).
*
GBQCTLFW DS    2A .               GLOBAL FILE ENQUEUEING CONTROL
FCTLFW   DS    0CL16 .            PRIMARY FILE CONTROL INFORMATION
NDXRTKFW DC    F'0' .                  RACH OF INDEX TRACK
BALNDXFW DC    H'0' .                  INDEX TRACK TRACK BALANCE
TKLSTZFW DC    X'0' .                  SIZE OF TRACK
NUMSEGFW DC    X'0' .                  # OF SEGMENTS IN INDEX RECORD
NULLFCFW DS    0CL16 .            NULL FILE CONTROL
SEGNUMFW DC    X'0' .                  PRESENT SEGMENT NUMBER
BUFNUMFW DC    X'0' .             BUFFER TYPE NUMBER
BUFATT   EQU   X'08' .            BUFFER ATTACHED TO FILE
PTRKDPFW DC    X'0' .                  TRACK LIST DISP OF PRESENT TRACK
STATUSFW DC    X'0' .                  FILE STATUS
DELETE   EQU   B'10000000' .      SEGMENT DELETE PENDING
INSERT   EQU   B'01000000' .      SEGMENT INSERT PENDING
LASTKEY  EQU   B'00100000' .      LAST KEY IN SEGMENT CHANGED
SEGDATA  EQU   B'00010000' .      SEGMENT DATA CHANGED
RECPEND  EQU   B'00001000' .           RECORD CHAIN UPDATE PENDING
LASTMOVE EQU   B'00000100' .           LAST RECORD OF SEGMENT MOVED
FRSTMOVE EQU   B'00000010' .           FIRST RECORD OF SEGMENT MOVED
AVLRECFW DC    F'0' .                  RACH OF AVAILABLE RECORD
INSRTOVF EQU   B'10000000' .           INSERT OVERFLOW CONDITION
EOS      EQU   B'10000000' .      END OF SEGMENT FLAG
FNAMEFW  DS    0CL48                   FILE NAME AND CHECKPOINT AREA
LSTRECFW DC    F'0' .                  RACH OF LAST RECORD PROCESSED
PRSRRFW  DS    0H .                    R(F)R(L) OF PRESENT SEGMENT
SEGR1FW  DC    X'0' .                  PRESENT FIRST RECORD IN SEGMENT
SEGRFFW  DC    X'0' .                  POSITION OF EOS IN TRACK CHAIN
ATRKDPFW DC    X'0' .                  TRACK LIST DISP OF AVAIL REC
AVAILNFW DC    X'0' .                  NUM OF AVAILABLE RECORDS ON TRK
*
*  VARIABLE PORTION OF CONTROL INFORMATION
*
VARINFO  DS    0F .
*  UPDATE LEVEL MODE (CHAIN RECORD UPDATE LEVEL)
RCHANFW  DS    CL48
         ORG   VARINFO
*  INDEX RECORD UPDATE MODE
AVAIL1FW DC    X'0' .                  RECORD NUMBER OF FIRST AVAIL REC
INSEGFW  DC    XL3'0' .                INSERT SEGMENT DATA #RR
INSKEYFW DC    XL8'0' .                INSERT SEGMENT KEY
SCHPOSFW DC    X'0' .
REPSEGFW DC    XL3'0' .                REPLACEMENT SEGMENT DATA #RR
REPKEYFW DC    XL8'0' .                REPLACEMENT SEGMENT KEY
         ORG   VARINFO
*   POINT MODE (FIRST RECORD MOVED & SEARCH NEXT TRACK)
XTRKDPFW DS    0C .               TRACK LIST POSITION OF EXTRA TRK.
PRETRKFW DC    F'0' .                  XACH OF PREVIOUS SEGMENT
XAVAILFW DC    F'0' .                  RACH OF AVAILABLE RECORD
SCSGNMFW DS    0C .               SEGMENT NUMBER OF NEXT SEGMENT
SCHTRKFW DC    F'0' .                  XACH OF NEXT (OR SEARCH) SEGMENT
SCHRRFW  DC    H'0' .                  FIRST & LAST RECS OF NEXT SEG
PRERRFW  DC    H'0' .                  FIRST & LAST RECS OF PREV SEG
SCHKEYFW DC    XL8'0' .                LAST KEY OF SEARCH SEGMENT
         ORG   VARINFO
*  SEARCH MODE
SCHOPTFW DS    0C .                    SEARCH OPTIONS
SKEYPTFW DC    F'0' .                  KEY POINTER
*
         MEND

         MACRO
     IHKCDSCT  &CCT=NO,                                                X
               &CLB=NO,                                                X
               &TUB=NO,                                                X
               &RJCT=NO,                                               X
               &PPT=NO,                                                X
               &AVT=NO,                                                X
               &STCB=NO,                                               X
               &DIR=NO,                                                X
               &UVR=NO,                                                X
               &DEF=NO,                                                X
               &ALL=NO
.*A336700,472100-472400                                          A36806
.*C472500                                                        A36806
.* A 780000                                                      A45647
*C359000,368000,370000,518000-518500,548000,556500-557000,      A45668
*C597000-597500,619000,620500,622000,623500-624000              A45668
         SPACE 1
         AIF   ('&CCT' NE 'YES' AND '&ALL' NE 'YES').SK1
         SPACE 2
***********************************************************************
*                                                                     *
*                      CRJE CONTROL TABLE (CCT)                       *
*                                                                     *
*              THE CCT CONTAINS INSTALLATION-WIDE INFORMATION AND     *
*        EVENT CONTROL BLOCKS FOR PASSING CONTROL BETWEEN THE         *
*        MAIN CRJE TASK AND ITS ATTACHED TASKS.  IT IS GENERATED      *
*        BY THE 'CRJETABL' MACRO AT CRJE ASSEMBLY TIME.  IT IS A      *
*        CORE TABLE ONLY AND IS RE-INITIALIZED AT EACH START-UP.      *
*                                                                     *
***********************************************************************
         SPACE 2
CCTDSECT DSECT
CCTOPT   DS    CL2 .                    OPTION FLAGS
CCTOPT1  EQU   CCTOPT .                 FIRST BYTE OF OPTION FLAGS
CCTPL1   EQU   X'40' .                  PL/1 SYNTAX CHECKER IN SYSTEM
CCTCLS   EQU   X'08' .                  CRJE CLOSEDOWN IN PROGRESS
CCTSUP   EQU   X'04' .                  SUPPRESS MODE IN EFFECT - ON
CCTSUPF  EQU   X'FB' .                  SUPPRESS MODE IN EFFECT - OFF
CCTATERM EQU   X'01' .                  ABNORMAL TERMINATION OF SYSTEM
CCTOPT2  EQU   CCTOPT+1 .               SECOND BYTE OF OPTION FLAGS
CCTSRTUP EQU   X'80' .                  CRJE START-UP IN PROGRESS
CCTJTBSY EQU   X'40' .                  JOB TERMINATOR BUSY
CCTFORT  EQU   X'03' .                  FORTRAN SYNTAX CHECKER INCLUDED
CCTFRTGH EQU   X'02' .                  FORTRAN 'G' OR 'H' CHECKER
CCTFORTE EQU   X'01' .                  FORTRAN 'E' CHECKER
CCTBRK   DS    CL2 .                    NUMBER LINES - SIMULATED BREAK
CCTBRDNO DS    CL2 .                    MAX NUMBER BROADCAST MESSAGES
CCTMSGNO DS    CL2 .                    MAX NUMBER DELAYED MESSAGES
CCTSYSCI DS    CL1 .                    CONTAINS SYSOUT CODE (INTERNAL)
CCTSYSCE DS    CL1 .                    CONTAINS SYSOUT CODE (EXTERNAL)
         DS    C .                      UNUSED
CCTSESS  DS    C .                      NUMBER OF REQUESTING CONSOLES
CCTPL1MX DS    H .                      MAXIMUM CONTINUATIONS (PL/1)
CCTFRTMX DS    H .                      MAXIMUM CONTINUATIONS (FORTRAN)
CCTJOBS  DS    H .                      MAXIMUM NUMBER OF JOBS ALLOWED
CCTUSERS DS    H .                      MAXIMUM NUMBER OF USERS ALLOWED
CCTPL1FG DS    C .                      PL/1 FLAG BYTE
         ORG   CCTPL1FG
CCTPL1WA DS    F .                      PL/1 WORK AREA ADDRESS
CCTFRTFG DS    C .                      FORTRAN FLAG BYTE
         ORG   CCTFRTFG
CCTFRTWA DS    F .                      FORTRAN WORK AREA ADDRESS
CCTCLECB DS    F .                      IHKCCI TO LOADER/CONTROLLER
CCTJSECB DS    F .                      IHKDEQ TO IHKSRV
CCTCSECB DS    F .                      CENTRAL COMMANDS TO IHKSRV
CCTJLECB DS    F .                      IHKSDQ TO LOADER/CONTROLLER
CCTMSECB DS    F .                      IHKSRV TIMER ROUTINE TO IHKSRV
CCTCCMDS DS    H .                      MAXIMUM ENQUEUED CENTRAL CMDS.
CCTLNCNT DS    H .                      NUMBER OF LINES IN THE SYSTEM
CCTUSR   DS    A .                      INSTALLATION COMMAND PROCESSOR
CCTIAX   DS    A .                      INSTALLATION ACCOUNTING EXIT
CCTISX   DS    A .                      INSTALLATION JOB CARD EXIT
CCTILX   DS    A .                      INSTALLATION LOGOFF EXIT
         SPACE 2
*       DEFINITIONS OF NAMES -
*    1. 'CCTOPT' - 2 BYTES -
*       BITS REFLECT EITHER A PARAMETER OPTION OR A CONDITION OF STATUS
*       WITHIN THE SYSTEM. IF ON, THE CONDITION EXISTS; IF OFF, THE
*       SPECIFIED CONDITION DOES NOT EXIST.
*       BIT DEFINITIONS -
*             BIT 0     - UNUSED.
*             BIT 1     - PL/1 SYNTAX CHECKER AVAILABLE.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHECKED BY IHKSCN AND IHKIRL.
*             BITS 2-3  - UNUSED.
*             BIT 4     - CRJE CLOSEDOWN IN PROGRESS.
*                         SET BY IHKSTP.
*                         CHECKED BY IHKCMD.
*             BIT 5     - SUPPRESS MODE IN EFFECT.
*                         SET BY IHKCC7.
*                         CHECKED BY IHKLGF AND IHKCMD.
*                         TURNED OFF BY IHKCC7.
*             BIT 6     - UNUSED.
*             BIT 7     - ABNORMAL TERMINATION OF THE CENTRAL SYSTEM.
*                         SET BY IHKDEQ AND IHKERR.
*                         CHECKED BY IHKCLN.
*             BIT 8     - CRJE START-UP IN PROGRESS.
*                         SET BY 'CRJETABL' MACRO.
*                         CHECKED BY IHKCCI.
*                         TURNED OFF BY IHKDEQ.
*             BIT 9     - JOB TERMINATOR BUSY.
*                         SET BY IHKDEQ.
*                         CHECKED BY IHKSTP.
*                         TURNED OFF BY IHKDEQ.
*             BITS 10-13- NOT USED.
*             BITS 14-15- THESE TWO FLAGS INDICATE WHETHER OR NOT THE
*                         FORTRAN SYNTAX CHECKER IS PRESENT IN THE
*                         SYSTEM AND, IF SO, WHAT LEVEL IT IS.
*                         SET BY IHKCIP.
*                         CHECKED BY IHKIRL AND IHKSCN.
*    2. 'CCTBRK' - 2 BYTES -
*       NUMBER OF LINES OF TEXT TO BE SENT BETWEEN SIMULATED BREAKS
*       FOR THOSE TERMINALS WITHOUT INTERRUPT FEATURE.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHECKED BY IHKLAP.
*    3. 'CCTBRDNO' - 2 BYTES -
*       MAXIMUM NUMBER OF BROADCAST MESSAGES WHICH MAY BE
*       ADDED TO THE ALREADY EXISTING BROADCAST MESSAGES.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHANGED AND CHECKED BY IHKCC3.
*    4. 'CCTMSGNO' - 2 BYTES -
*       MAXIMUM NUMBER OF DELAYED MESSAGES WHICH MAY BE
*       ADDED TO THE ALREADY EXISTING DELAYED MESSAGES.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHANGED AND CHECKED BY IHKMSG.
*    5. 'CCTSYSCI' - 1 BYTE -
*       INTERNAL REPRESENTATION OF SYSOUT CODE.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHECKED BY IHKOUT.
*    6. 'CCTSYSCE' - 1 BYTE -
*       EXTERNAL REPRESENTATION OF SYSOUT CODE.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHECKED BY IHKOUT.
*    7. 'RESERVED' - 1 BYTE -
*       UNUSED.
*    8. 'CCTSESS - 1 BYTE -
*       NUMBER OF CENTRAL CONSOLES WHICH HAVE ENTERED 'SHOW SESS'
*                         SET BY IHKCC6.
*                         CHECKED BY IHKLGN AND IHKLGF.
*    9. 'CCTPL1MX' - 2 BYTES -
*       MAXIMUM NUMBER OF CONTINUATION LINES (PL/1).
*                         SET BY 'CRJETABL' MACRO.
*                         USED BY IHKSYN AND IHKIRL.
*   10. 'CCTFRTMX' - 2 BYTES -
*       MAXIMUM NUMBER OF CONTINUATION LINES (FORTRAN).
*                         SET BY 'CRJETABL' MACRO.
*                         USED BY IHKSYN AND IHKIRL.
*   11. 'CCTJOBS' - 2 BYTES -
*       MAXIMUM NUMBER OF JOBS WHICH MAY BE SUBMITTED BY ACTIVE USERS.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHECKED BY IHKSUB.
*                         MODIFIED BY IHKOUT, IHKCIP, AND IHKSUB.
*   12  'CCTUSERS' - 2 BYTES -
*       MAXIMUM NUMBER OF USERS WHO MAY BE ADDED TO THE SYSTEM.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         CHECKED AND MODIFIED BY IHKCC7.
*   13. 'CCTPL1FG' - 1 BYTE -
*       DEFINES ENTRY INTO PL/1 SYNTAX CHECKER.SET TO ZERO
*       BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*       BIT DEFINITIONS -
*             BIT 0     - SHOWS IF WORK AREA EXISTS.
*                         ZERO INDICATES FIRST ENTRY.
*                         CHECKED BY SYNTAX CHECKER.
*                         IF ZERO, SYNTAX CHECKER OBTAINS AND
*                         INITIALIZES WORK AREA (1K).
*                         SET TO 1 BY IHKCIP.
*             BIT 1     - 0 - NEW STATEMENT TO BE SCANNED.
*                         1 - OLD INPUT - CHECKING TO BE
*                         CONTINUED FROM WHERE LAST ERROR OCCURRED.
*                         CHECKED BY SYNTAX CHECKER.
*                         SET BY IHKSYN WHEN MOVED TO TUB FOR
*                         LINKAGE TO LINKAGE TO SYNTAX CHECKERS.
*             BIT 2     - 0 - NORMAL SYNTAX CHECKING.
*                         1 - LAST ENTRY - NO SYNTAX CHECKING. WORK
*                         AREA TO BE RELEASED.
*             BITS 3-7  - NOT USED.
*   14. 'CCTPL1WA' - 3 BYTES -
*       ADDRESS OF WORK AREA OBTAINED BY PL/1 SYNTAX CHECKER
*       ON FIRST ENTRY FOR USE IN SUBSEQUENT ENTRIES.
*   15. 'CCTFRTFG' - 1 BYTE  -
*       SAME BIT CONFIGURATION AS 'CCTPL1FG'.
*       DEFINES ENTRY INTO FORTRAN SYNTAX CHECKER.
*   16. 'CCTFRTWA' - 3 BYTES -
*       ADDRESS OF WORK AREA FOR FORTRAN. STORED BY FORTRAN
*       SYNTAX CHECKER ON FIRST ENTRY.
*   17. 'CCTCLECB' - 4 BYTES -
*       ECB FOR PASSING CONTROL FROM IHKCCI TO LOADER/CONTROLLER.
*   18. 'CCTJSECB' - 4 BYTES -
*       ECB FOR PASSING CONTROL FROM IHKDEQ TO IHKSRV.
*   19. 'CCTCSECB' - 4 BYTES -
*       ECB FOR PASSING CONTROL FROM CENTRAL COMMANDS TO IHKSRV.
*   20. 'CCTJLECB' - 4 BYTES -
*       ECB FOR PASSING CONTROL FROM IHKSDQ TO LOADER/CONTROLLER.
*   21. 'CCTMSECB' - 4 BYTES -
*       ECB FOR PASSING CONTROL FROM THE IHKSRV TIMER ROUTINE TO IHKSRV
*   22. 'CCTCCMDS' - 2 BYTES -
*       MAXIMUM NUMBER OF CENTRAL COMMANDS WHICH MAY BE ENQUEUED.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         PASSED TO OS BY IHKCIP AT START-UP.
*   23. 'CCTLNCNT' - 2 BYTES -
*       NUMBER OF LINES DEFINED IN THE SYSTEM.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         USED BY IHKBPM ON WARMSTART.
*   24. 'CCTUSR' - 4 BYTES -
*       ADDRESS OF INSTALLATION-DEFINED MAJOR AND SUB COMMAND PROCESSOR
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         USED BY IHKCMD.
*   25. 'CCTIAX' - 4 BYTES -
*       ADDRESS OF INSTALLATION-DEFINED ACCOUNTING EXIT.
*                         SET BY 'CRJETABL' AT ASSEMBLY TIME.
*                         USED BY IHKLGN.
*   26. 'CCTISZ' - 4 BYTES -
*       ADDRESS OF INSTALLATION-DEFINED JOB CARD EXIT.
*                         SET BY 'CRJETABL' MACRO AT ASSEMBLY TIME.
*                         USED BY IHKSUB.
*   27. 'CCTILX' - 4 BYTES -
*       ADDRESS OF INSTALLATION-DEFINED LOGOFF EXIT.
*                         SET BY 'CRJETABL' MACRO ASSEMBLY TIME.
*                         USED BY IHKLGF.
     EJECT
*             C R J E   C O N T R O L   T A B L E   ( C C T )
         SPACE 2
*              *********************************************
*              *+0                   *+2                   *
*              *       CCTOPT        *       CCTBRK        *
*              *********************************************
*              *+4                   *+6                   *
*              *       CCTBRDNO      *       CCTMSGNO      *
*              *********************************************
*              *+8        *+9        *+10       *+11       *
*              * CCTSYSCI * CCTSYSCE * RESERVED * CCTSESS  *
*              *********************************************
*              *+12                  *+14                  *
*              *       CCTPLIMX      *       CCTFRTMX      *
*              *********************************************
*              *+16                  *+18                  *
*              *       CCTJOBS       *       CCTUSERS      *
*              *********************************************
*              *+20       *+21                             *
*              * CCTPLIFG *             CCTPLIWA           *
*              *********************************************
*              *+24       *+25                             *
*              * CCTFRTFG *             CCTFRTWA           *
*              *********************************************
*              *+28                                        *
*              *                  CCTCLECB                 *
*              *********************************************
*              *+32                                        *
*              *                  CCTJSECB                 *
*              *********************************************
*              *+36                                        *
*              *                  CCTCSECB                 *
*              *********************************************
*              *+40                                        *
*              *                  CCTJLECB                 *
*              *********************************************
*              *+44                                        *
*              *                  CCTMSECB                 *
*              *********************************************
*              *+48                  *+50                  *
*              *       CCTCCMDS      *       CCTLNCNT      *
*              *********************************************
*              *+52                                        *
*              *                  CCTUSR                   *
*              *********************************************
*              *+56                                        *
*              *                  CCTIAX                   *
*              *********************************************
*              *+60                                        *
*              *                  CCTISX                   *
*              *********************************************
*              *+64                                        *
*              *                  CCTILX                   *
*              *********************************************
         EJECT
.SK1     AIF   ('&CLB' NE 'YES' AND '&ALL' NE 'YES').SK2
         SPACE 2
***********************************************************************
*                                                                     *
*                   CONVERSATIONAL LINE BLOCK (CLB)                   *
*                                                                     *
*        THE CONVERSATIONAL LINE BLOCK CONTAINS INFORMATION PECULIAR  *
* TO THE ASSOCIATED LINE AND TERMINAL TYPES. THIS INFORMATION IS      *
* NECESSARY TO THE LINE ADMINISTRATOR IN PERFORMING BTAM OPERATIONS   *
* ON THE LINE. CERTAIN FIELDS IN THE CLB ARE USED FOR COMMUNICATING   *
* LINE STATUS AND TERMINATION OF LINE OPERATIONS TO THE REST OF THE   *
* SYSTEM. EACH CLB IS GENERATED BY A 'CRJELINE' MACRO AT SYSTEM       *
* ASSEMBLY TIME.                                                      *
*                                                                     *
***********************************************************************
         SPACE 2
CLBDSECT DSECT
CLBDEVTP DS    C .                      DEVICE AND LINE TYPE
CLBDUMMY EQU   X'7F' .                  DUMMY DEVICE FOR SIMULATOR
CLBMPT   EQU   X'80' .                  RESERVED
CLB2741  EQU   X'08' .                  2741 TERMINAL
CLB2740  EQU   X'04' .                  2740 TERMINAL
CLB1050  EQU   X'02' .                  1050 TERMINAL
CLBDIAL  EQU   X'01' .                  DIAL LINE
CLB2741D EQU   X'09' .                  2741 TERMINAL/DIAL LINE
         ORG   CLBDEVTP
CLBLDECB DS    A .                      LINE DECB ADDRESS
CLBREQST DS    C .                      REQUEST FLAGS
CLBSTOPN EQU   X'04' .                  'MODIFY D' OR 'P CRJE' - ON
CLBSTOPF EQU   X'FB' .                  'MODIFY D' OR 'P CRJE' - OFF
CLBRDTIN EQU   X'03' .                  READ INITIAL ON
CLBRDTIF EQU   X'FC' .                  READ INITIAL OFF
CLBREADN EQU   X'02' .                  READ REQUEST FLAG-ON
CLBREADF EQU   X'FD' .                  READ REQUEST FLAG-OFF
CLBINITN EQU   X'01' .                  INITIAL FLAG-ON
CLBINITF EQU   X'FE' .                  INITIAL FLAG-OFF
         ORG   CLBREQST
CLBTRLST DS    A .                      DFTRMLST FOR READ TI
CLBSTATS DS    C .                      STATUS FLAGS-CHECKED BY CALLER
CLBACTVN EQU   X'80' .                  LINE AND CLB ACTIVE-ON
CLBACTVF EQU   X'7F' .                  LINE AND CLB ACTIVE-OFF
CLBMODYN EQU   X'40' .                  'MODIFY' HAS BEEN ISSUED - ON
CLBMODYF EQU   X'BF' .                  'MODIFY' HAS BEEN ISSUED - OFF
CLBTQUEN EQU   X'20' .                  CLB ENQ. FOR PROG. TIMEOUT - ON
CLBTQUEF EQU   X'DF' .                  CLB ENQ. FOR PROG. TIMEOUT - OF
         ORG   CLBSTATS
CLBSAVAD DS    A .                      LINE SAVE AREA ADDRESS
CLBRTNCD DS    CL1 .                    RETURN CODE SAVEAREA
         ORG   CLBRTNCD
CLBUFFAD DS    A .                      LINE BUFFER ADDRESS
CLBUTECB DS    F .                      UTILITY TASK ECB
CLBFEATR DS    C .                      FEATURES
CLBSUPRS EQU   X'40' .                  TIMEOUT SUPRESSION (1050 ONLY)
*
*         X'08' USED BY LINE ADMINISTRATOR SIMULATOR.
*
CLBBCD   EQU   X'04' .                  PTTC/BCD CODE
CLBCORRE EQU   X'02' .                  CORRESPONDENCE CODE
CLBREAK  EQU   X'01' .                  TERMINAL HAS THE BREAK FEATURE
         ORG   CLBFEATR
CLBTRNEC DS    A .                      EBCDIC TO TERMINAL CODE
CLBTRNUP DS    A .                      TERMINAL CODE* UPPER CASE
CLBTRNLW DS    A .                      TO EBCDIC    * UPPER AND LOWER
CLBDDNAM DS    CL8 .                    DDNAME FOR SYSIN DATA SET
CLBSAECB DS    F .                      STOP ACKNOWLEDGMENT ECB
CLBLNSEQ DS    CL1 .                    LINE SEQUENCE NUMBER
CLBLINE  DS    CL3 .                    PHYSICAL LINE ADDRESS
CLBLCECB DS    F .                      LOADER/CONTROLLER ECB
CLBMCSCD DS    0CL1 .                   ID OF CONSOLE ISSUING 'MODIFY'
CLBSAVE  DS    CL72 .                   LOGON SAVEAREA
CLBQUEUE DS    F .                      CHAIN POINTER FOR 1050 LEASED
CLBSTOP  DS    F .                      TIMEOUT SUPPRESSION TIME FIELD
CLBSIZE  EQU   *-CLBDSECT
         SPACE 2
*       DEFINITIONS OF NAMES -
*    1. 'CLBDEVTP' - 1 BYTE -
*       THE BIT PATTERNS OF THIS BYTE REFLECT THE LINE AND TERMINAL
*       TYPES ASSOCIATED WITH THIS CLB.
*       BIT DEFINITIONS -
*             BIT 0     - RESERVED FOR FUTURE EXPANSION.
*             BITS 1-3  - NOT USED.
*             BIT 4     - IF ON, THE TERMINAL IS A 2741.
*                         SET BY 'CRJELINE' AT SYSTEM ASSEMBLY TIME.
*                         CHECKED BY IHKLAB, IHKLAP, AND IHKLAD.
*             BIT 5     - IF ON, THE TERMINAL IS A 2740.
*                         SET BY 'CRJELINE' AT SYSTEM ASSEMBLY TIME.
*                         CHECKED BY IHKLAB, IHKLAP, AND IHKLAD.
*             BIT 6     - IF ON, THE TERMINAL IS A 1050.
*                         SET BY 'CRJELINE' AT SYSTEM ASSEMBLY TIME.
*                         CHECKED BY IHKLAB, IHKLAP, AND IHKLAD.
*             BIT 7     - IF ON, THE LINE IS A SWITCHED LINE.
*                         SET BY 'CRJELINE' AT SYSTEM ASSEMBLY TIME.
*                         CHECKED BY IHKLAB, IHKLAP, AND IHKLAD.
*    2. 'CLBLDECB' - 3 BYTES -
*       CONTAINS THE ADDRESS OF THE BTAM DECB ASSOCIATED WITH THE LINE.
*                         SET BY 'CRJELINE' AT SYSTEM ASSEMBLY TIME.
*                         USED BY IHKLAB, IHKLAP, AND
*                         IHKLAD FOR BTAM I/O OPERATIONS.
*                         USED BY IHKCC2 FOR 'SHOW LERB' AND 'MODIFY'.
*    3. 'CLBREQST' - 1 BYTE -
*       BIT DEFINITIONS -
*             BIT 0     - NOT USED.
*             BIT 1     - TUB IDENTIFIER, MUST BE ZERO IN CLB.
*             BITS 2-4  - NOT USED.
*             BIT 5     - IF ON, A 'MODIFY D' OR 'P CRJE' WAS ENTERED.
*                         SET BY IHKCC2 OR IHKSTP.
*                         CHECKED BY IHKLAP AND IHKCMD.
*                         TURNED OFF BY IHKERR.
*             BIT 6     - IF ON, A 'CREAD' OR 'CREAD I' HAS BEEN
*                         RECEIVED BY THE LINE ADMINISTRATOR.
*                         SET BY CALLER VIA 'CREAD' MACRO.
*                         CHECKED BY IHKLAD.
*                         TURNED OFF BY IHKLAD.
*             BIT 7     - IF ON, A 'CREAD I' REQUEST HAS BEEN RECEIVED
*                         BY THE LINE ADMINISTRATOR.
*                         SET BY CALLER VIA 'CREAD' MACRO.
*                         CHECKED BY IHKLAD AND IHKLAP.
*                         TURNED OFF BY IHKLAD.
*    4. 'CLBTRLST' - 3 BYTES -
*       CONTAINS THE ADDRESS OF THE BTAM 'DFTRMLST' FOR INITIAL READS.
*                         SET BY 'CRJELINE' AT SYSTEM ASSEMBLY TIME.
*                         USED BY IHKLAD AND IHKLAP FOR
*                         INITIAL I/O OPERATIONS ON THE LINE.
*    5. 'CLBSTATS' - 1 BYTE -
*       THE BITS IN THIS FIELD REFLECT THE LINE STATUS AND REASONS FOR
*       FAILING TO COMPLETE CALLER'S REQUESTS.
*       BIT DEFINITIONS -
*             BIT 0     - IF ON, CLB/DCB IS ACTIVE.
*                         SET BY IHKLAD.
*                         CHECKED BY IHKCC2.
*                         TURNED OFF BY IHKLAD.
*             BIT 1     - 'MODIFY' HAS BEEN REQUESTED FOR THIS LINE.
*                         SET BY IHKCC2.
*                         CHECKED AND RESET BY IHKCMD.
*             BIT 2     - IF ON, CLB HAS BEEN ENQUEUED BY THE
*                         PROGRAMMED TIMEOUT MODULE (IHKLAY).
*                         SET BY IHKLAY.
*                         CHECKED BY IHKLAD AND IHKLAP.
*                         TURNED OFF BY IHKLAY.
*             BITS 3-7  - NOT USED.
*    6. 'CLBSAVAD' - 3 BYTES -
*       CONTAINS THE LINE SAVEAREA ADDRESS (USED FOR SAVING REGISTERS
*       DURING LINKAGE BETWEEN LINE ADMINISTRATOR MODULES AND BETWEEN
*       THE IHKLAD MODULE AND THE CRJE DISPATCHER).
*                         ESTABLISHED BY IHKLAD.
*                         USED BY IHKLAD.
*    7. 'CLBRTNCD' - 1 BYTE -
*       CONTAINS THE RETURN CODE FROM BTAM AFTER LINE ADMINISTRATOR
*       ISSUES AN I/O OPERATION.
*                         SET BY IHKLAP.
*                         CHECKED BY IHKLAD.
*    8. 'CLBUFFAD' - 3 BYTES -
*       CONTAINS THE ADDRESS OF THE LINE BUFFER USED FOR ALL
*       COMMUNICATIONS BETWEEN THE CPU AND THE TERMINAL.
*                         ESTABLISHED BY IHKLAD.
*                         USED BY IHKLAB, IHKLAP, AND IHKLAD.
*    9. 'CLBUTECB' - 4 BYTES -
*       ECB FOR PASSING CONTROL FROM COMMAND PROCESSORS TO IHKSRV.
*                         POSTED BY THE REQUESTING COMMAND PROCESSOR.
*                         CLEARED BY IHKSRV.
*   10. 'CLBFEATR' - 1 BYTE -
*       THESE FIELDS REFLECT FEATURES POSSESSED BY ALL
*       TERMINALS WHICH USE THIS LINE.
*       BIT DEFINITIONS -
*             BIT 0     - NOT USED.
*             BIT 1     - IF ON, TERMINAL IS A LEASED 1050 WITH
*                         TIMEOUT SUPPRESSION.
*                         SET BY IHKCIP AT STARTUP.
*                         CHECKED BY IHKLAP.
*             BITS 2-4  - NOT USED.
*             BIT 5     - IF ON, TERMINAL(S) ON THIS
*                         LINE HAS PTTC/BCD CODE.
*             BIT 6     - IF ON, TERMINAL(S) ON THIS
*                         LINE HAS CORRESPONDENCE CODE.
*             NOTE      - IF NEITHER BIT 5 NOR 6 IS ON, THE TERMINAL ON
*                         THIS LINE IS ASSUMED TO HAVE PTTC/EBCD CODE.
*             BIT 7     - IF ON, TERMINAL HAS INTERRUPT  FEATURE.
*                         SET BY 'CRJELINE' AT SYSTEM ASSEMBLY TIME.
*                         CHECKED BY IHKLAD.
*   11. 'CLBTRNEC' - 3 BYTES -
*       CONTAINS THE ADDRESS OF THE TRANSLATE TABLE FOR TRANSLATING
*       EBCDIC TEXT TO BE SENT TO THE TERMINAL.
*                         ESTABLISHED BY 'CRJELINE' MACRO AT SYSTEM
*                         ASSEMBLY TIME.
*                         USED BY IHKLAP.
*   12. 'CLBTRNUP' - 4 BYTES -
*       CONTAINS THE ADDRESS OF THE TRANSLATION TABLE FOR TRANSLATING
*       TEXT SENT FROM THE TERMINAL TO ALL-UPPERCASE EBCDIC.
*                         ESTABLISHED BY 'CRJELINE' MACRO AT SYSTEM
*                         ASSEMBLY TIME.
*                         USED BY IHKLAD.
*   13. 'CLBTRNLW' - 4 BYTES -
*       CONTAINS THE ADDRESS OF THE TRANSLATION TABLE FOR TRANSLATING
*       TEXT SENT FROM THE TERMINAL TO EBCDIC,
*       PRESERVING UPPER AND LOWER CASE LETTERS.
*                         ESTABLISHED BY 'CRJELINE' MACRO AT SYSTEM
*                         ASSEMBLY TIME.
*                         USED BY IHKLAD.
*   14. 'CLBDDNAM' - 8 BYTES -
*       CONTAINS EBCDIC REPRESENTATION OF NAME SPECIFIED IN THE
*       DD STATEMENT DEFINING THE SYSIN DATA SET.
*                         ESTABLISHED BY 'CRJELINE' MACRO AT SYSTEM
*                         ASSEMBLY TIME.
*                         USED BY IHKALC.
*   15. 'CLBSAECB' - 4 BYTES -
*       STOP ACKNOWLEDGMENT ECB.
*                         POSTED BY IHKCIP AND IHKCMD.
*                         WAITED ON BY IHKSTP.
*                         CHECKED BY IHKCC2 AND IHKCLN.
*   16. 'CLBLNSEQ' - 1 BYTE -
*       LINE SEQUENCE NUMBER
*                         ESTABLISHED BY 'CRJELINE' MACRO.
*                         USED BY IHKLAD.
*   17. 'CLBLINE' - 3 BYTES -
*       CONTAINS THE EBCDIC REPRESENTATION OF PHYSICAL LINE ADDRESS.
*                         SET AT OPEN TIME BY IHKCIP.
*                         USED BY IHKLGN IN LOGON MESSAGE.
*                         USED BY IHKCC1, IHKCC2, AND IHKCC8.
*   18. 'CLBLCECB' - 4 BYTES -
*       EVENT CONTROL BLOCK FOR PASSING CONTROL TO IHKLDC.
*                         POSTED BY IHKCMD, IHKCLN, IHKCCI, IHKSTS,
*                         IHKPUT, AND IHKSUB.
*                         CLEARED BY IHKLDC.
*   19. 'CLBSAVE' - 72 BYTES -
*       SAVE AREA FOR REGISTERS OF IHKCMD ON A 'CREAD I'.
*                         ESTABLISHED BY 'CRJELINE' MACRO AT SYSTEM
*                         ASSEMBLY TIME.
*                         USED BY IHKCMD ONLY. THESE
*                         REGISTERS ARE RESTORED AND RETURNED IF
*                         THERE IS NO TUB.
*                         THE FIRST BYTE IS ALSO USED FOR PASSING
*                         THE ID OF THE CONSOLE REQUESTING A 'MODIFY'
*                         FROM IHKCC2 TO IHKCMD FOR USE WHEN THE
*                         REQUEST HAS BEEN SATISFIED.
*   20. 'CLBQUEUE' - 4 BYTES -
*       CHAIN POINTER FOR QUEUEING OF CLBS FOR LEASED 1050 TERMINALS
*       WITH TIMEOUT SUPPRESSION.
*                         USED EXCLUSIVELY BY IHKLAY FOR ENQUEUEING
*                         AND DEQUEUEING PURPOSES.
*   21. 'CLBSTOP' - 4 BYTES -
*       CONTAINS TIME AT WHICH THIS CLB WILL BE DEQUEUED AND AN
*       I/O HALT ISSUED ON THE LINE IF THERE IS NO RESPONSE FROM
*       THE LINE.
*                         USED EXCLUSIVELY BY IHKLAY FOR TIMING
*                         PURPOSES.
         EJECT
*      C O N V E R S A T I O N A L   L I N E   B L O C K   ( C L B )
         SPACE 2
*              *********************************************
*              *+0        *+1                              *
*              * CLBDEVTP *      CLBLDECB                  *
*              *********************************************
*              *+4        *+5                              *
*              * CLBREQST *      CLBTRLST                  *
*              *********************************************
*              *+8        *+9                              *
*              * CLBSTATS *      CLBSAVAD                  *
*              *********************************************
*              *+12       *+13                             *
*              * CLBRTNCD *      CLBUFFAD                  *
*              *********************************************
*              *+16                                        *
*              *                 CLBUTECB                  *
*              *********************************************
*              *+20       *+21                             *
*              * CLBFEATR *      CLBTRNEC                  *
*              *********************************************
*              *+24                                        *
*              *                 CLBTRNUP                  *
*              *********************************************
*              *+28                                        *
*              *                 CLBTRNLW                  *
*              *********************************************
*              *+32                                        *
*              *                 CLBDDNAM (8 BYTES)        *
*              *********************************************
*              *+40                                        *
*              *                 CLBSAECB                  *
*              *********************************************
*              *+44       *+45                             *
*              * CLBLNSEQ *      CLBLINE                   *
*              *********************************************
*              *+48                                        *
*              *                 CLBLCECB                  *
*              *********************************************
*              *+52                                        *
*              *                                           *
*              *                 CLBSAVE (72 BYTES)        *
*              *                                           *
*              *                                           *
*              *********************************************
*              *+124                                       *
*              *                 CLBQUEUE                  *
*              *********************************************
*              *+128                                       *
*              *                 CLBSTOP                   *
*              *********************************************
         EJECT
.SK2     AIF   ('&TUB' NE 'YES' AND '&ALL' NE 'YES').SK3
         SPACE 2
***********************************************************************
*                                                                     *
*                     TERMINAL/USER BLOCK (TUB)                       *
*                                                                     *
*        THE TERMINAL/USER BLOCK IS USED BY ALL ROUTINES TO OBTAIN    *
* INFORMATION RELATIVE TO EACH ACTIVE USER. THE TUB REFLECTS USER-    *
* REQUESTED OPTIONS, CURRENT SESSION HISTORY, AND ERROR CONDITIONS ON *
* THE LINE.                                                           *
*                                                                     *
***********************************************************************
         SPACE 2
TUBDSECT DSECT
TUBSTATS DS    C .                      STATUS FLAGS
TUBREAKN EQU   X'40' .                  LAST OF 'N' LINES SENT** ON
TUBREAKF EQU   X'BF' .                  OR  BREAK HAS OCCURRED** OFF
TUBTIMEN EQU   X'20' .                  TIME-OUT ON RESPONSE TO POLLING
TUBTIMEF EQU   X'DF' .                  TO TURN OFF THE TIMEOUT FLAGS
TUBOFFLN EQU   X'10' .                  TERMINAL OFF-LINE/ON-HOOK
TUBOFFLF EQU   X'EF' .                  TERMINAL OFF-LINE/ON-HOOK
TUBERPN  EQU   X'03' .                  LINE ADMINISTRATOR ERROR
TUBERPF  EQU   X'FC' .                  RECOVERY COUNT FLAGS
TUBERP1N EQU   X'01' .
TUBERP2N EQU   X'02' .
         ORG   TUBSTATS
TUBCLBAD DS    A .                      CLB ADDRESS
TUBREQST DS    C .                      REQUEST FLAGS
TUBIDENT EQU   X'40' .                  IDENTIFIES THIS AS A TUB
TUBIDLEN EQU   X'20' .                  IDLES TO PRECEDE TEXT - ON
TUBIDLEF EQU   X'DF' .                  IDLES TO PRECEDE TEXT - OFF
TUBRSETN EQU   X'10' .                  RESET LINE - ON
TUBRSETF EQU   X'EF' .                  RESET LINE - OFF
TUBTEXTN EQU   X'08' .                  PRESERVE UPPER & LOWER CASE-ON
TUBTEXTF EQU   X'F7' .                  PRESERVE UPPER & LOWER CASE-OFF
TUBWRITN EQU   X'04' .                  WRITE REQUEST-ON
TUBWRITF EQU   X'FB' .                  WRITE REQUEST-OFF
TUBRDTIN EQU   X'03' .                  READ INITIAL-ON
TUBRDTIF EQU   X'FC' .                  READ INITIAL-OFF
TUBREADN EQU   X'02' .                  READ REQUEST-ON
TUBRQSTN EQU   X'0F' .                  TO CHECK ON TUB REQUEST FLAGS
TUBRQSTF EQU   X'F0' .                  TO TURN OFF TUB REQUEST FLAGS
         ORG   TUBREQST
TUBUFFAD DS    A .                      USER BUFFER ADDRESS
TUBUSRID DS    CL8 .                    USER ID
TUBPOLLC DS    CL2 .                    RESERVED
TUBDATAL DS    CL2 .                    DATA LENGTH
TUBPREV  DS    F .                      ADDR OF PREVIOUS TUB IN CHAIN
TUBNEXT  DS    F .                      ADDR OF NEXT TUB IN CHAIN
TUBEXCLG DS    0CL1 .                   LENGTH OF 'EXEC' WORK AREA
TUBEXCAD DS    F .                      ADDRESS OF 'EXEC' WORK AREA
TUBPPTFL DS    CL1 .                    SYSTEM ADMINISTRATOR FLAGS
TUBAARRN EQU   X'80' .                  ACTIVE AREA I/O ERROR-ON
TUBAARRF EQU   X'7F' .                  ACTIVE AREA I/O ERROR-OFF
TUBNULPN EQU   X'40' .                  NULL PARAMETER-ON
TUBNULPF EQU   X'BF' .                  NULL PARAMETER-OFF
TUBWARNN EQU   X'20' .                  EXCESSIVE COMMA WARNING
TUBCOMAN EQU   X'10' .                  COMMA BEING USED AS DELIMITER
TUBCOMAF EQU   X'EF' .                  COMMA USED AS DELIMITER-OFF
TUBWARNF EQU   X'CF' .                  TURN OFF TUBWARNN AND TUBCOMAN
TUBLGNRN EQU   X'08' .                  USER PROMPTED FOR LOGON-ON
TUBLGNRF EQU   X'F7' .                  USER PROMPTED FOR LOGON-OFF
TUBRAKEN EQU   X'04' .                  BREAK HAS OCCURRED-ON
TUBRAKEF EQU   X'FB' .                  BREAK HAS OCCURRED-OFF
TUBCNTEN EQU   X'02' .                  CONTINUED COMMAND-ON
TUBCNTEF EQU   X'FD' .                  CONTINUED COMMAND-OFF
TUBCNTSN EQU   X'01' .                  LINE TO BE CONTINUED-ON
TUBCNTSF EQU   X'FE' .                  LINE TO BE CONTINUED-OFF
         ORG   TUBPPTFL
TUBPPTAD DS    A .                      PARAMETER POSITION TABLE ADDR
TUBDIRAD DS    A .                      ADDRESS OF PDS DIRECTORY ENTRY
TUBIRLSA DS    A .                      CORRECTION MODE INFORMATION ADR
TUBLNSEQ DS    H .                      LINE SEQUENCE NUMBER
TUBCLERS EQU   *
TUBRECCT DS    CL2 .                    COUNT OF RECORDS WRITTEN--BREAK
TUBTABAD DS    A .                      ADDRESS OF TAB SETTING INFO
TUBRJCT  DS    CL8 .                    JOBNAME FOR DISCONTINUED JOB
TUBFLG1  DS    C .                      STATUS FLAGS
TUBFLG1F EQU   X'C7' .                  TURN OFF EDIT FLAGS
TUBLNO   EQU   X'80' .                  LINE NUMBERS REQUIRED ON LIST
TUBMID   EQU   X'40' .                  MESSAGE ID'S REQUESTED
TUBMIDF  EQU   X'BF' .                  TURN OFF MESSAGE ID FLAG
TUBSCN   EQU   X'20' .                  AUTOMATIC SYNTAX SCAN - ON
TUBSCNF  EQU   X'DF' .                  AUTOMATIC SYNTAX SCAN - OFF
TUBFOR   EQU   X'10' .                  DATA SET HAS FORTRAN ATTRIBUTE
TUBPL1   EQU   X'08' .                  DATA SET HAS PL/1 ATTRIBUTE
TUBCMSGN EQU   X'04' .                  SET IF 'SHOW ACTIVE' OR 'SHOW
TUBCMSGF EQU   X'FB' .                  MSGS' IS IN PROGRESS
TUBMSG   EQU   X'02' .                  MESSAGE ENQUEUED FOR USER - ON
TUBMSGF  EQU   X'FD' .                  MESSAGE ENQUEUED FOR USER - OFF
TUBBRD   EQU   X'01' .                  BROADCAST MESSAGES REQUESTED
TUBBRDF  EQU   X'FE' .                  TURN OFF BROADCAST FLAG
TUBFLG2  DS    C .                      STATUS FLAGS
TUBFLG2F EQU   X'DB' .                  TURN OFF EDIT FLAGS
TUBEXLST EQU   X'80' .                  LIST COMMANDS BEFORE PROCESSING
TUBXLSTF EQU   X'7F' .                  TURN OFF EXEC 'LIST' FLAG
TUBLMSGN EQU   X'40' .                  MESSAGE FOR THIS USER LOST-ON
TUBLMSGF EQU   X'BF' .                  MESSAGE FOR THIS USER LOST-OFF
TUBEDIT  EQU   X'20' .                  USER IS IN EDIT MODE - ON
TUBEDITF EQU   X'DF' .                  USER IS IN EDIT MODE - OFF
TUBABEND EQU   X'10' .                  ABNORMAL TERMINATION FOR USER
TUBDISOP EQU   X'08' .                  DISCONTINUED OUTPUT
TUBLNUMN EQU   X'04' .                  LINE NUMBERS TO BE INCLUDED
TUBLNUMF EQU   X'FB' .                  IN DATA SET LINE
TUBLGNAB EQU   X'02' .                  LOGON INCOMPLETE         A36806
TUBSMSG  EQU   X'01' .                  SMSG SPECIFIED IN OUTPUT COMM.
TUBFLG3  DS    CL1 .                    STATUS FLAGS
TUBFLG3F EQU   X'78' .                  TURN OFF EDIT FLAGS
TUBLNPMT EQU   X'80' .                  LINE NO. PROMPTS REQUESTED
TUBLNPMF EQU   X'7F' .                  TURN OFF PROMPT FLAG
TUBNOCRN EQU   X'40' .                  NO CARRIER RETURN AT TEXT END
TUBNOCRF EQU   X'BF' .                  ON MEANS NO CARRIER RETURN
TUBCORRN EQU   X'20' .                  SYNTAX ERROR CORRECTION MODE-ON
TUBCORRF EQU   X'DF' .                  SYNTAX ERROR CORRECTION MODE-OF
TUBUTMN  EQU   X'10' .                  ACTIVE AREA I/O ERROR-ON
TUBUTMF  EQU   X'EF' .                  ACTIVE AREA I/O ERROR-OFF
TUBOVERN EQU   X'08' .                  'N-LINES' OVERRIDE-ON
TUBOVERF EQU   X'F7' .                  'N-LINES' OVERRIDE-OFF
TUBLONGN EQU   X'04' .                  RECORD LENGTH IS BETWEEN 80-120
TUBLONGF EQU   X'FB'
TUBCORCN EQU   X'02' .                  USER CORRECTIONS HAVE BEEN MADE
TUBCORCF EQU   X'FD' .                  IN CORRECTION MODE
TUBDLAYN EQU   X'01' .                  DELAYED SCAN - ON.
TUBDLAYF EQU   X'FE' .                  DELAYED SCAN - OFF.
TUBFLG4  DS    C .                      STATUS FLAGS
TUBSTOP  EQU   X'80' .                  LOGOFF DUE TO MODIFY OR STOP
TUBIDAPN EQU   X'40' .
TUBIDAPF EQU   X'BF' .
TUBLIB80 EQU   X'20' .                  80 CHARACTER LIBRARY     S21085
TUBFQEB  DS    A .                      ADDRESS OF FIRST QEB
TUBCLERF EQU   *-TUBCLERS-1 .           LENGTH TO CLEAR FOR IHKLGN
TUBSAVE  DS    CL72 .                   SAVE AREA
TUBPRMLS DS    5F .                     PARAMETER LIST AREA
TUBPARM1 EQU   TUBPRMLS
TUBPARM2 EQU   TUBPRMLS+4
TUBPARM3 EQU   TUBPRMLS+8
TUBPARM4 EQU   TUBPRMLS+12
TUBPARM5 EQU   TUBPRMLS+16
TUBRAFBF DS    F .                      ADDRESS OF CURRENT BUFFER
TUBAFQEL DC    A(0) .                   ACTIVE FILE ENQUEUE ELEMENT
         DC    A(0) .                   EVENT CONTROL BLOCK
TUBGBLQL DC    A(0) .                   GLOBAL FILE ENQUEUE ELEMENT
         DC    A(0) .                   EVENT CONTROL BLOCK
TUBAFPAR DS    0H .
TUBAFPR1 DC    X'0' .                   PARMS FOR AFIO MACRO INTERPRET
TUBAFPR2 DC    X'0' .                   PARMS FOR AFIO MACRO INTERPRET
TUBREZUM DC    H'0' .                   AFIO INTERPRETER RETURN DISP
TUBNCCWS DC    X'0' .                   MAX. NUMBER REQUIRED CCW'S
TUBNSRCH DC    X'0' .                   MAX. NUMBER OF SEARCH ARGUMENTS
TUBXTNDF DC    H'0' .                   EXTENDED STORAGE REQUIRED
AVLRECFX DS    XL1                      USED BY AFIO
XAVAILFX DS    XL1                      USED BY AFIO
TUBACTNM DC    X'0' .                   ACTIVE FILE NUMBER
TUBGBLNM DC    X'0' .                   GLOBAL FILE NUMBER
TUBGBLKY DC    CL8'0' .                 GLOBAL FILE KEY
TUBBPQEL DC    A(0) .                   LIBIO ENQUEUE ELEMENT
         DC    A(0) .                   EVENT CONTROL BLOCK
TUBPAMSW DS    X .                      LIBIO SWITCH BYTE
TUBAFISW DS    C
TUBFCTLN EQU   X'80' .                  AFIO BUFFER CONTROL-USER BUFFER
TUBFCTLF EQU   X'7F'
TUBCNTFS DC    H'0' .                   BLOCK DEFN. FOR MULTIPLE OP
TUBLBXAF DS    0F,CL4 .                 AFIO WORK AREA
TUBFDAD  DS    2F .                     TTR'S OF EXTENTS
TUBTRKBL DS    2F .                     TRACK BALANCE
TUBIOLNK DS    A .                      INTERNAL AFIO LINKAGE
TUBUSRNM DS    CL8 .                    USER NAME FOR LIBIO FILE
TUBPMFNM DS    CL8 .                    FILE NAME FOR LIBIO
TUBNXKEY DS    XL8 .                    NEXT KEY (LINE NUMBER)
TUBAFCTL DS    20F                      ACTIVE FILE CONTROL INFO
TUBTIME  DS    H .                      TIME OF DAY OF LOGON
TUBIDLEL DS    H .                      PREVIOUS 'LOGICAL' DATA LENGTH
TUBOUTAB DS    F .                      ADDRESS OF OUTPUT TAB SETTINGS
TUBTRKFW DS    F'0' .                   TRACK ADDRESS - CCHH
TUBSIZE  EQU   *-TUBDSECT               NUMBER OF BYTES IN A TUB
         SPACE 2
*       DEFINITIONS OF NAMES -
*    1. 'TUBSTATS' - 1 BYTE -
*       BITS REFLECT STATUS OF TERMINAL AND/OR USER.
*       BIT DEFINITIONS -
*             BIT 0     - UNUSED.
*             BIT 1     - BREAK (REAL OR SIMULATED) HAS OCCURRED.
*                         USED WITHIN LINE ADMINISTRATOR TO INDICATE
*                         SIMULATED BREAK SHOULD BE PERFORMED, AND
*                         TO INDICATE TO CALLER BREAK HAS OCCURRED.
*                         TURNED OFF BY IHKERR.
*             BIT 2     - TERMINAL HAS NOT RESPONDED TO POLLING.
*                         SET BY IHKLAD.
*                         CHECKED AND RESET BY IHKCMD.
*             BIT 3     - TERMINAL USER HAS HUNG UP DATA SET ON A
*                         DIAL LINE.
*                         SET BY IHKLAD.
*                         CHECKED AND RESET BY IHKERR.
*                         SET, CHECKED, AND RESET BY IHKRER.
*             BITS 4-5  - UNUSED.
*             BITS 6-7  - LINE ADMINISTRATOR ERP COUNT FLAGS.
*                         USED WITHIN IHKLAD TO CONTROL RETRY
*                         COUNTS ON LINE ERRORS.
*    2. 'TUBCLBAD' - 3 BYTES -
*       CONTAINS THE ADDRESS OF THE CLB.
*                         INSERTED BY IHKLAD AT ALLOCATION.
*                         USED BY IHKLGN, IHKLGF, IHKCC1, IHKLAD,
*                         IHKLAB AND IHKLAP.
*    3. 'TUBREQST' - 1 BYTE -
*       THE BITS OF THIS BYTE REFLECT I/O REQUESTS FOR THE LINE.
*       BIT DEFINITIONS -
*             BIT 0     - NOT USED.
*             BIT 1     - IDENTIFIES THIS AS A TUB. MUST BE ON AT
*                         ALL TIMES.
*                         SET AT ALLOCATION TIME BY IHKLAD.
*             BIT 2     - INDICATES NEXT BLOCK OF TEXT WRITTEN MUST BE
*                         PRECEDED BY CARRIAGE RETURN AND IDLES.
*                         SET BY IHKLAD IF TEXT READ HAS
*                         NO ENDING 'CR'.
*                         CHECKED AND RESET BY IHKLAB.
*             BIT 3     - INDICATES OCCURRENCE OF ERROR ON THE LINE
*                         AND THAT LINE MUST BE RESET.
*                         SET BY IHKERR (CWRITE R MACRO).
*                         CHECKED BY IHKLAD.
*                         RESET BY IHKLAD (AFTER CREAD R).
*             BIT 4     - UPPER/LOWER CASE PRESERVATION.
*                         SET BY IHKIRL AND IHKCMD.
*                         TURNED OFF BY IHKLAD.
*             BIT 5     - INDICATES A WRITE REQUEST.
*                         SET BY 'CWRITE' MACRO.
*                         CHECKED BY IHKLAP AND IHKLAD.
*                         RESET BY IHKLAD AND IHKLAP.
*             BIT 6     - INDICATES A READ REQUEST.
*                         SET BY 'CREAD' OR 'CWRITE' MACRO.
*                         CHECKED BY IHKLAD AND IHKLAP.
*                         RESET BY IHKLAD.
*             BIT 7     - INDICATES AN INITIAL OPERATION.
*                         SET BY 'CREAD I' MACRO.
*                         CHECKED BY IHKLAD AND IHKLAP.
*                         RESET BY IHKLAD.
*    4. 'TUBUFFAD' - 3 BYTES -
*       CONTAINS USER BUFFER ADDRESS.
*                         CREATED AND DESTROYED BY IHKLAD.
*                         USED FOR PASSING DATA BETWEEN THE
*                         LINE ADMINISTRATOR MODULES AND
*                         BETWEEN IHKLAD AND ITS CALLERS.
*    5. 'TUBUSRID' - 8 BYTES -
*       USER'S IDENTIFICATION SEQUENCE.
*                         INSERTED BY IHKLGN.
*                         UTILIZED BY MOST COMMAND PROCESSORS.
*                         CHECKED BY IHKLAD AT REQUEST FOR ONLINE
*                         TERMINAL TEST.
*    6. 'TUBPOLLC' - 2 BYTES -
*       RESERVED.
*    7. 'TUBDATAL' - 2 BYTES -
*       LENGTH OF DATA BEING PASSED IN THE USER BUFFER.
*    8. 'TUBPREV' - 4 BYTES -
*       ADDRESS OF THE PREVIOUS TUB IN THE CHAIN.
*                         SET BY IHKLAD.
*                         MODIFIED BY IHKLAD.
*    9. 'TUBNEXT' - 4 BYTES -
*       ADDRESS OF THE NEXT TUB IN THE CHAIN.
*                         SET BY IHKLAD.
*                         MODIFIED BY IHKLAD.
*                         USED BY IHKLAB, IHKMSG, IHKCC1,
*                         IHKCC5 AND IHKCC8.
*   10. 'TUBEXCLG' - 1 BYTE - AND 'TUBEXCAD' - 3 BYTES -
*        LENGTH AND ADDRESS OF 'EXEC' WORK AREA.
*                         INSERTED BY IHKEDT.
*                         UTILIZED BY IHKED1 AND IHKCMD.
*                         RESET BY IHKCMD AND IHKERR.
*   11. 'TUBPPTFL' - 1 BYTE -
*        THESE FLAGS REFLECT THE STATUS OF THE USER.
*        THEY ARE SET, CHECKED AND RESET ONLY BY IHKCMD, EXCEPT
*        BIT 0 WHICH IS TURNED OFF BY IHKERR.
*             BIT 0     - ACTIVE AREA I/O ERROR.
*             BIT 1     - NULL PARAMETER (EMPTY PARENTHESES).
*             BIT 2     - WARNING MESSAGE TO BE SENT (EXCESSIVE COMMAS)
*             BIT 3     - COMMA WAS RECOGNIZED AS DELIMITER.
*             BIT 4     - LOGON ATTEMPTED ONCE.
*             BIT 5     - INTERRUPT HAS OCCURRED (REAL OR SIMULATED).
*             BIT 6     - THIS IS A CONTINUATION LINE.
*             BIT 7     - THIS LINE IS TO BE CONTINUED.
*   12. 'TUBPPTAD' - 3 BYTES -
*       CONTAINS THE ADDRESS OF THE PARAMETER POSITION TABLE
*       ASSOCIATED WITH THIS USER.
*                         CREATED BY IHKCMD.
*                         UTILIZED BY COMMAND PROCESSORS.
*                         CLEARED BY IHKCMD.
*   13. 'TUBDIRAD' - 4 BYTES -
*       ADDRESS OF THE PDS DIRECTORY ENTRY FOR THE DATA SET
*       CURRENTLY IN THE ACTIVE AREA FOR THIS USER.
*                         SET BY IHKIRL, IHKED1 AND IHKEOS.
*                         USED BY MOST COMMAND PROCESSORS AND
*                         IHKLAD.
*                         USED BY IHKLGN AS TEMPORARY WORK AREA.
*                         CLEARED BY IHKEND.
*   14. 'TUBIRLSA' - 4 BYTES -
*       ADDRESS OF IHKIRL GETMAIN AREA SAVED DURING CORRECTION MODE.
*       ADDRESS OF IHKIRL WORK AREA SAVED DURING INPUT DURING SCAN.
*                         SET BY IHKIRL OR IHKSCN.
*                         USED BY IHKSYN, IHKCGN, IHKSCN AND IHKLGN.
*                         USED BY IHKLGN, IHKALC, IHKGET,IHKMGE,
*                         AND IHKMUF AS A TEMPORARY WORK AREA.
*                         CLEARED BY IHKIRL.
*   15. 'TUBLNSEQ' - 2 BYTES -
*       UNIQUE IDENTIFICATION NUMBER FOR THIS PARTICULAR USER.
*                         ASSIGNED BY IHKLAD AT TUB ALLOCATION TIME.
*                         UTILIZED BY AFIO/BPAM AND IHKUTM.
*   16. 'TUBRECCT' - 2 BYTES -
*       NUMBER OF BLOCKS SENT TO THIS TERMINAL WITHOUT AN INTERVENING
*       READ. USED IN BREAK SIMULATION.
*                         INCREMENTED, CHECKED AND RESET BY IHKLAP.
*   17. 'TUBTABAD' - 4 BYTES -
*       ADDRESS OF TAB SETTING INFORMATION.
*                         INSERTED BY IHKTAB.
*                         UTILIZED BY IHKLAT AND IHKLEW.
*                         CHECKED BY IHKLAD.
*                         RESET BY IHKLGF AND IHKTAB.
*   18. 'TUBRJCT' - 8 BYTES -
*       CONTAINS THE JOBNAME OF A DISCONTINUED JOB.
*                         SET BY IHKOUT.
*                         CHECKED BY IHKOUT AND IHKCC5.
*   19. 'TUBFLG1' - 1 BYTE -
*       BITS REFLECT EITHER A PARAMETER OPTION OR A CONDITION OF STATUS
*       WITHIN THE SYSTEM. IF ON, THE CONDITION EXISTS; IF OFF, THE
*       SPECIFIED CONDITION DOES NOT EXIST.
*       BIT DEFINITIONS -
*             BIT 0     - LINE NUMBERS ARE REQUESTED ON THE LIST.
*                         SET BY IHKLST.
*                         CHECKED AND RESET BY IHKLST.
*             BIT 1     - MESSAGE IDENTIFIERS REQUESTED.
*                         SET BY IHKLGN AND IHKLAD (AT ALLOCATION
*                         OF THE TUB).
*                         CHECKED BY IHKMSG AND IHKLDS.
*             BIT 2     - AUTOMATIC SYNTAX SCAN.
*                         SET BY IHKEDT, IHKSCN, AND IHKIRL.
*                         CHECKED BY IHKIRL.
*                         TURNED OFF BY IHKSCN, IHKEND AND IHKIRL.
*             BIT 3     - DATA SET IN ACTIVE AREA HAS FORTRAN ATTRIBUTE
*                         SET BY IHKEDT, IHKED1, AND IHKIRL.
*                         CHECKED BY IHKSCN, IHKSYN AND IHKIRL.
*                         TURNED OFF BY IHKEND.
*             BIT 4     - DATA SET IN ACTIVE AREA HAS PL/1 ATTRIBUTE.
*                         SET BY IHKEDT, IHKED1, AND IHKIRL.
*                         CHECKED BY IHKSCN, IHKSYN AND IHKIRL.
*                         TURNED OFF BY IHKEND.
*             BIT 5     - DELAYED MESSAGES FOR USER.
*                         SET, CHECKED AND TURNED OFF BY IHKMSG.
*             BIT 6     - MESSAGE ENQUEUED FOR USER.
*                         SET, CHECKED AND TURNED OFF BY IHKUTM.
*                         CHECKED BY IHKMSG.
*             BIT 7     - BROADCAST MESSAGES REQUESTED.
*                         SET BY IHKLST AND IHKLGN.
*                         CHECKED AND TURNED OFF BY IHKMSG.
*   20. 'TUBFLG2' - 1 BYTE -
*       BITS REFLECT EITHER A PARAMETER OPTION OR A CONDITION OF STATUS
*       WITHIN THE SYSTEM. IF ON, THE CONDITION EXISTS; IF OFF, THE
*       SPECIFIED CONDITION DOES NOT EXIST.
*       BIT DEFINITIONS -
*             BIT 0     - LIST COMMANDS BEFORE PROCESSING.
*                         SET BY IHKEDT.
*                         CHECKED BY IHKCMD.
*                         TURNED OFF BY IHKCMD.
*             BIT 1     - MESSAGE LOST FOR THIS USER.
*                         SET AND CHECKED BY IHKUTM AND IHKMSG.
*                         TURNED OFF BY IHKMSG.
*             BIT 2     - EDIT MODE SWITCH.
*                         SET BY IHKEDT.
*                         CHECKED BY IHKCMD, IHKERR, AND IHKLAD.
*                         TURNED OFF BY IHKEND.
*             BIT 3     - ABNORMAL TERMINATION FOR USER.
*                         SET BY IHKERR.
*                         CHECKED BY IHKLGF AND IHKEND.
*             BIT 4     - DISCONTINUED OUTPUT.
*                         SET BY IHKPUT.
*                         CHECKED BY IHKOUT AND IHKPUT.
*                         TURNED OFF BY IHKPUT.
*             BIT 5     - LINE NUMBERS TO BE INCLUDED IN DATA SET LINE.
*                         SET BY IHKED1, IHKEDT, AND IHKIRL.
*                         CHECKED BY IHKLST, IHKCGN, IHKRNR,
*                         IHKIRL, IHKEOS, IHKMAA, IHKMUF, AND IHKED1.
*                         TURNED OFF BY IHKEND.
*             BIT 6     - LOGON WAS TERMINATED DUE TO A LINE     A36806
*                         ERROR, A GETMAIN FAILURE, OR AN ACTIVE A36806
*                         AREA I/O ERROR.                        A36806
*                         SET BY IHKLGN.                         A36806
*                         CHECKED BY IHKCMD AND IHKLGF.          A36806
*             BIT 7     - SYSTEM MSGS SPECIFIED IN OUTPUT.
*                         SET BY IHKOUT.
*                         CHECKED BY IHKOUT.
*                         TURNED OFF BY IHKOUT AND IHKDEQ.
*   21. 'TUBFLG3' - 1 BYTE -
*       BITS REFLECT EITHER A PARAMETER OPTION OR A CONDITION OF STATUS
*       WITHIN THE SYSTEM. IF ON, THE CONDITION EXISTS; IF OFF, THE
*       SPECIFIED CONDITION DOES NOT EXIST.
*       BIT DEFINITIONS -
*             BIT 0     - LINE NUMBER PROMPTS REQUESTED.
*                         SET BY IHKEDT, IHKED1, IHKIPT, AND IHKIRL.
*                         CHECKED BY IHKIRL.
*                         TURNED OFF BY IHKIPT AND IHKEND.
*             BIT 1     - NO CARRIAGE RETURN AT END OF TEXT
*                         AND DO NOT DELETE TRAILING BLANKS.
*                         SET BY IHKMSG, IHKIRL, AND IHKCMD.
*                         CHECKED BY IHKLAP.
*                         CHECKED AND TURNED OFF BY IHKLAD.
*             BIT 2     - SYNTAX ERROR CORRECTION MODE.
*                         SET BY IHKSYN.
*                         CHECKED BY IHKIRL, IHKCMD, AND IHKCGN.
*                         TURNED OFF BY IHKIRL.
*             BIT 3     - ACTIVE AREA I/O ERROR.
*                         SET BY IHKERR.
*                         CHECKED BY IHKLGF.
*             BIT 4     - 'N-LINES' OVERRIDE (NO SIMULATED INTERRUPT)
*                         SET BY IHKLAD.
*                         CHECKED BY IHKLAP.
*                         TURNED OFF BY IHKLAD AND IHKLAP.
*             BIT 5     - DATA SET LOGICAL RECORD LENGTH IS 80-120.
*                         SET BY IHKEOS.
*                         CHECKED BY IHKLST.
*                         TURNED OFF BY IHKEND.
*             BIT 6     - CORRECTION HAS BEEN ENTERED IN CORRECTION
*                         MODE.
*                         SET BY IHKIRL OR IHKCGN.
*                         CHECKED AND TURNED OFF BY IHKIRL.
*             BIT 7     - IF BIT IS SET, DELAYED SCAN IS ON.
*                         SET BY IHKSCN.
*                         CHECKED BY IHKSYN.
*                         TURNED OFF BY IHKSCN.
*   22. 'TUBFLG4' - 1 BYTE -
*       BIT DEFINITIONS -
*             BIT 0     - USER LOGGED OFF DUE TO 'MODIFY' OR 'STOP'.
*                         SET BY IHKERR.
*                         CHECKED BY IHKLGF.
*             BIT 1     - IHKLAB ENTERED TO APPEND IDLES AT END
*                         OF TEXT.
*                         SET, CHECKED, AND TURNED OFF BY IHKLAB.
*                         CHECKED AND RESET BY IHKAWS AND        S21085
*                         IHKSAV.                                S21085
*             BIT 2     - USER HAS AN 80 CHARACTER LIBRARY.      S21085
*                         SET BY IHKBPM.                         S21085
*   23. 'TUBFQEB' - 4 BYTES -
*       ADDRESS OF THE CORE MESSAGE ENQUEUED FOR THIS USER.
*                         SET, CHECKED, MODIFIED, AND
*                         CLEARED BY IHKMSG.
*                         CHECKED BY IHKLAD TO DETERMINE IF A
*                         MESSAGE AREA IS TO BE FREED PRIOR TO
*                         TUB DEALLOCATION.
*   24. 'TUBSAVE' - 72 BYTES -
*       SAVE AREA.
*                         UTILIZED BY AFIO.
*                         SECOND WORD USED BY IHKLAD TO
*                         STORE CALLER'S SAVEAREA ADDRESS.
*   25. 'TUBPRMLS' - 20 BYTES -
*       PARAMETER LIST AREA.
*       FIRST TWO WORDS WILL BE MODIFIED BY AFIO WHENEVER IT IS CALLED.
*   26. 'TUBRAFBF' 4 BYTES -
*       USED AS A POINTER TO THE BUFFER FOR 'INSERT' AND MUST BE
*       INITIALIZED BY THE PROCESSOR ISSUING THE 'INSERT'. ALSO USED
*       BY AFIO WHEN AN 'RGET' MACRO IS ISSUED TO POINT TO THE
*       DYNAMICALLY ALLOCATED BUFFER THAT THE RECORD(S) WAS READ INTO.
*       ALSO USED BY THE 'POINT' MACRO WITH 'R' OPERAND.
*   27. 'TUBAFQEL' - 8 BYTES -
*       ACTIVE FILE QUEUE ELEMENT - USED BY AFIO AND IHKRNQ
*       FOR ACCESSING THE RESTRICTED WORK AREA.
*   28. 'TUBGBLQL' - 8 BYTES -
*       GLOBAL FILE QUEUE ELEMENT - USED BY AFIO AND IHKRNQ
*       TO QUEUE REQUESTS FOR ACCESS TO THE GLOBAL FILES.
*   29. 'TUBAFPR1' - 1 BYTE -
*       SWITCHES USED BY THE AFIO MACRO INTERPRETER ROUTINES ONLY.
*   30. 'TUBAFPR2' - 1 BYTE -
*       SWITCHES USED BY THE AFIO MACRO INTERPRETER ROUTINES ONLY.
*   31. 'TUBREZUM' - 2 BYTES -
*       RETURN DISPLACEMENT USED BY AFIO MACRO INTERPRETER ONLY.
*   32. 'TUBNCCWS' - 1 BYTE -
*       THIS BYTE HOLDS THE NUMBER OF CCW'S GENERATED FOR AN I/O
*       OPERATION. USED BY AFIO ONLY.
*   33. 'TUBNSRCH' - 1 BYTE -
*       MAXIMUM NUMBER OF SEARCH ARGUMENTS. (USED BY AFIO ONLY).
*   34. 'TUBXTNDF' - 2 BYTES -
*       EXTENDED WORK AREA REQUIRED INDICATOR. USED ONLY BY AFIO.
*   35. 'AVLRECFX' AND 'XAVAILFX' - 2 BYTES -
*       USED BY AFIO ONLY
*   36. 'TUBACTNM' - 1 BYTE -
*       NUMBER FOR THE ACTIVE FILE ASSOCIATED WITH THIS TUB.
*                         SET BY PROCESSOR WITH 'CREATE' COMMAND TO
*                         EITHER '1' (DEFAULT) OR '2' (PRIVATE
*                         UTILITY).
*                         CHECKED BY AFIO.
*   37. 'TUBGBLNM' - 1 BYTE -
*       SAME AS 'TUBACTNM' EXCEPT RELATION IS TO GLOBAL FILES. THIS
*       FIELD (INSTEAD OF 'TUBACTNM') IS USED WHEN THE 'FTYPE='
*       PARAMETER IS CODED IN THE 'CREATE' COMMAND.
*   38. 'TUBGBLKY' - 8 BYTES -
*       THIS FIELD CONTAINS THE KEY OF THE RECORD DESIRED IN A GLOBAL
*       FILE. IT IS USED BY RAFIO AND BY PROCESSORS WHEN IT IS
*       DESIRED TO 'POINT','REPLACE','DELETE','RGET',OR 'SKIP' A
*       SPECIFIC RECORD OR KEY.
*   39. 'TUBBPQEL' - 8 BYTES -
*       LIBRARY I/O QUEUE ELEMENT - USED BY LIBRARY I/O MODULE AND THE
*       'NQ' MODULE TO QUEUE REQUESTS FOR ACCESS TO THE SYSTEM OR USER
*       LIBRARIES.
*   40. 'TUBPAMSW' - 1 BYTE -
*       THIS FIELD IS USED AS A BYTE OF SWITCHES FOR THE LIBRARY I/O
*       MODULES.
*   41. 'TUBAFISW' - 1 BYTE -
*       INTERNAL SWITCHES FOR RESTART AND
*       BUFFER CONTROL FOR AFIO AND LIBIO.
*             BIT 0     - USE USER BUFFER, NOT GETMAIN AREA.
*                         SET BY CALLERS TO AFIO/BPAM.
*             BIT 1     - WARMSTART IN PROGRESS.
*                         SET BY IHKAWS.
*             BIT 2     - WARMSTART COMPLETED.
*                         SET BY IHKAWS.
*             BITS 3-7  - UNUSED.
*   42. 'TUBCNTFS' - 2 BYTES -
*       THIS FIELD IS USED BY THE PROCESSORS REQUESTING MULTIPLE AFIO
*       OPERATIONS AND BY AFIO ITSELF.  IF A MULTIPLE 'RGET', FOR
*       INSTANCE, IS DESIRED THIS FIELD IS INITIALIZED TO REFLECT THE
*       NUMBER OF RECORDS REQUESTED.
*   43. 'TUBLBXAF' - 4 BYTES -
*        AFIO WORK AREA - USED FOR USER ORIENTED PROCESSING.
*   44. 'TUBFDAD' - 8 BYTES -
*       USED BY LIBIO FOR TRACK ADDRESS.
*   45. 'TUBTRKBL' - 8 BYTES -
*       TRACK BALANCE INFORMATION FOR LIBIO.
*   46. 'TUBIOLNK' - 4 BYTES -
*       AFIO LINKAGE-USED ONLY BY AFIO.
*   47. 'TUBUSRNM' - 8 BYTES -
*       THIS FIELD CONTAINS THE USER-ID OF THE USER WHO OWNS THE FILE.
*                         SET BY IHKUTM, IHKLDS, AND IHKEDT.
*   48. 'TUBPMFNM' - 8 BYTES -
*       THIS FIELD CONTAINS THE NAME OF THE LIBRARY OR USER LIBRARY
*       FILE BEING PROCESSED. IHKEDT AND IHKLDS INITIALIZE THIS
*       FIELD FOR THE USERS OF LIBIO.
*       FOR THE USE OF LIBIO.
*   49. 'TUBNXKEY' - 8 BYTES -
*       THIS FIELD IS USED BY PROCESSORS AND BY AFIO - WHEN FOR
*       INSTANCE, 'POINT' IS USED TO POSITION TO A PARTICULAR RECORD,
*       THE KEY FOR THAT RECORD SHOULD BE IN 'TUBNXKEY'. WHEN AFIO
*       RETRIEVES A KEY UPON REQUEST IT IS RETRIEVED INTO 'TUBNXKEY'.
*   50. 'TUBAFCTL' - 80 BYTES -
*       THIS AREA IS USED BY AFIO ONLY FOR CONTROL OF THIS USER'S
*       ACTIVE FILE AREA.
*   51. 'TUBTIME' - 2 BYTES -
*       TIME OF DAY OF LOGON.
*                        INSERTED BY IHKLGN.
*                        UTILIZED BY IHKLGN, IHKLGF AND IHKCC1.
*   52. 'TUBIDLEL' - 2 BYTES -
*       LOGICAL DATA LENGTH OF PREVIOUS LINE OPERATION.
*                        INSERTED BY IHKLAD.
*                        UTILIZED BY IHKLAB.
*   53. 'TUBOUTAB' - 4 BYTES -
*       CONTAINS THE ADDRESS OF OUTPUT TAB INFORMATION.
*                         SET BY IHKTAB.
*                         USED BY IHKLEW.
*                         CHECKED BY IHKLAD.
*                         RESET BY IHKTAB.
*   54. 'TUBTRKFW' - 4 BYTES -
*       TRACK ADDRESS INDICATOR. USED BY AFIO ONLY.
         EJECT
*            T E R M I N A L / U S E R   B L O C K   ( T U B )
         SPACE 2
*              *********************************************
*              *+0        *+1                              *
*              * TUBSTATS *             TUBCLBAD           *
*              *********************************************
*              *+4        *+5                              *
*              * TUBREQST *             TUBUFFAD           *
*              *********************************************
*              *+8                                         *
*              *                  TUBUSRID (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+16                  *+18                  *
*              *       TUBPOLLC      *       TUBDATAL      *
*              *********************************************
*              *+20                                        *
*              *                  TUBPREV                  *
*              *********************************************
*              *+24                                        *
*              *                  TUBNEXT                  *
*              *********************************************
*              *+28       *+29                             *
*              * TUBEXCLG *             TUBEXCAD           *
*              *********************************************
*              *+32       *+33                             *
*              * TUBPPTFL *             TUBPPTAD           *
*              *********************************************
*              *+36                                        *
*              *                  TUBDIRAD                 *
*              *********************************************
*              *+40                                        *
*              *                  TUBIRLSA                 *
*              *********************************************
*              *+44                  *+46                  *
*              *       TUBLNSEQ      *       TUBRECCT      *
*              *********************************************
*              *+48                                        *
*              *                  TUBTABAD                 *
*              *********************************************
*              *+52                                        *
*              *                  TUBRJCT (8 BYTES)        *
*              *                                           *
*              *********************************************
*              *+60       *+61       *+62       *+63       *
*              * TUBFLG1  * TUBFLG2  * TUBFLG3  * TUBFLG4  *
*              *********************************************
         EJECT
*              *********************************************
*              *+64                                        *
*              *                  TUBFQEB                  *
*              *********************************************
*              *+68                                        *
*              *                                           *
*              *                  TUBSAVE (72 BYTES)       *
*              *                                           *
*              *********************************************
*              *+140                                       *
*              *                  TUBPRMLS (20 BYTES)      *
*              *                                           *
*              *********************************************
*              *+160                                       *
*              *                  TUBRAFBF                 *
*              *********************************************
*              *+164                                       *
*              *                  TUBAFQEL (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+172                                       *
*              *                  TUBGBLQL (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+180      *+181      *+182                 *
*              * TUBAFPR1 * TUBAFPR2 *       TUBREZUM      *
*              *********************************************
*              *+184      *+185      *+186                 *
*              * TUBNCCWS * TUBNSRCH *       TUBXTNDF      *
*              *********************************************
*              *+188      *+189      *+190      *+191      *
*              * AVLRECFX * XAVAILFX * TUBACTNM * TUBGBLNM *
*              *********************************************
*              *+192                                       *
*              *                  TUBGBLKY (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+200                                       *
*              *                  TUBBPQEL (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+208      *+209      *+210                 *
*              * TUBPAMSW * TUBAFISW *       TUBCNTFS      *
*              *********************************************
*              *+212                                       *
*              *                  TUBLBXAF                 *
*              *********************************************
         EJECT
*              *********************************************
*              *+216                                       *
*              *                  TUBFDAD (8 BYTES)        *
*              *                                           *
*              *********************************************
*              *+224                                       *
*              *                  TUBTRKBL (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+232                                       *
*              *                  TUBIOLNK                 *
*              *********************************************
*              *+236                                       *
*              *                  TUBUSRNM (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+244                                       *
*              *                  TUBPMFNM (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+252                                       *
*              *                  TUBNXKEY (8 BYTES)       *
*              *                                           *
*              *********************************************
*              *+260                                       *
*              *                                           *
*              *                  TUBAFCTL (80 BYTES)      *
*              *                                           *
*              *********************************************
*              *+340                 *+342                 *
*              *       TUBTIME       *       TUBIDLEL      *
*              *********************************************
*              *+344                                       *
*              *                  TUBOUTAB                 *
*              *********************************************
*              *+348                                       *
*              *                  TUBTRKFW                 *
*              *********************************************
         EJECT
.SK3     AIF   ('&RJCT' NE 'YES' AND '&ALL' NE 'YES').SK4
         SPACE 2
***********************************************************************
*                                                                     *
*                   REMOTE JOB CONTROL TABLE (RJCT)                   *
*                                                                     *
*        THE REMOTE JOB CONTROL TABLE IS A DISK-ONLY TABLE. IT IS     *
* MAINTAINED BY THE RJCT MANAGER (IHKRJC) AND RESIDES AS ONE OF THE   *
* SYSTEM LIBRARIES IN THE ACTIVE AREA. IHKRJC CONTROLS THE RJCT BY    *
* MEANS OF RAFIO MACROS TO READ, WRITE, DELETE, AND SEARCH ENTRIES.   *
* THE JOB NAME (LEFT ADJUSTED AND PADDED TO THE RIGHT WITH BLANKS)    *
* IS USED AS THE KEY TO LOCATE ENTRIES IN THE ACTIVE AREA.            *
*                                                                     *
***********************************************************************
         SPACE 2
RJCTSECT DSECT
RJCTUNIT DS    CL1 .                    'S RDR' UNIT TYPE (2311/2314)
         DS    CL2 .                    RESERVED
RJCTVOL  DS    CL6 .                    'S RDR' VOLUME SERIAL
         DS    CL7 .                    RESERVRD
RJCTUSER DS    CL8 .                    USER ID OF SUBMITTER
RJCTTTRB DS    CL3 .                    TTR OF LAST SYSOUT BLOCK READ
RJCTFLGS DS    CL1 .                    STATUS BYTE
RJCTQMPA DS    CL36 .                   Q MANAGER PARAMETER AREA
RJCTJOB  EQU   RJCTQMPA .               JOBNAME
RJCTQMPE DS    CL8 .                    EXTENDED QMPA
RJCTTTR0 DS    CL4 .                    TTR OF FIRST SYSOUT RECORD
         EJECT
*      R E M O T E   J O B   C O N T R O L   T A B L E   ( R J C T )
         SPACE 2
*              *********************************************
*              *+0        *+1                   *+3        *
*              * RJCTUNIT *       RESERVED      *          *
*              **********************************          *
*              *                                           *
*              *                 RJCTVOL (6 BYTES)         *
*              *          **********************************
*              *          *+9                              *
*              *          *                                *
*              ************       RESERVED                 *
*              *                                           *
*              *                                           *
*              *********************************************
*              *+16                                        *
*              *                 RJCTUSER (8 BYTES)        *
*              *********************************************
*              *+24                             *+27       *
*              *       RJCTTTRB                 * RJCTFLGS *
*              *********************************************
*              *+28                                        *
*              *                                           *
*              *                 RJCTQMPA (36 BYTES)       *
*              *                                           *
*              *********************************************
*              *+64                                        *
*              *                 RJCTQMPE (8 BYTES)        *
*              *********************************************
*              *+72                                        *
*              *                 RJCTTTR0                  *
*              *********************************************
*
*              TOTAL LENGTH = 76 BYTES.
         EJECT
*       DEFINITIONS OF NAMES -
*    1. 'RJCTUNIT' - 1 BYTE -
*       LAST CHARACTER OF UNIT FOR WHICH 'S RDRCRJE' WAS ISSUED(1 OR 4)
*                         SET BY IHKALC.
*                         USED BY IHKCIP.
*    2. 'RESERVED' - 2 BYTES -
*    3. 'RJCTVOL' - 6 BYTES -
*       VOLUME SERIAL OF 'S RDR' UNIT.
*                         SET BY IHKSUB.
*                         USED BY IHKCIP.
*    4. 'RESERVED' - 7 BYTES -
*    5. 'RJCTUSER' - 8 BYTES -
*       USER IDENTIFICATION OF USER SUBMITTING THE JOB.
*                         SET BY IHKSUB.
*                         CHECKED BY IHKOUT, IHKDEQ, IHKCC1IHKSTS,
*                         AND IHKRER03.
*    6. 'RJCTTTRB' - 3 BYTES -
*       RELATIVE TRACK AND RECORD ADDRESS OF FIRST BLOCK OF SYSOUT DATA
*       SET TO BE SENT UPON RECEIPT OF A 'CONTINUE HERE' COMMAND.
*                         SET BY IHKPUT.
*                         CHECKED BY IHKOUT.
*    7. 'RJCTFLGS' - 1 BYTE -
*       EACH BIT REFLECTS A CONDITION OF STATUS OF THIS JOB. IF ON, THE
*       CONDITION EXISTS; IF OFF, THE SPECIFIED CONDITION DOES NOT
*       EXIST. ALL BITS ARE INITIALIZED TO 'OFF' BY IHKSUB.
*       BIT DEFINITIONS -
*             BIT 0     - NOTIFY MESSAGE SENT.
*                         SET BY IHKDEQ.
*                         CHECKED BY IHKDEQ.
*                         TURNED OFF BY IHKDEQ.
*             BIT 1     - JOB COMPLETE.
*                         SET BY IHKDEQ.
*                         CHECKED BY IHKDEQ, IHKOUT, IHKCC5,
*                         IHKCC1, AND IHKSTS.
*                         TURNED OFF BY IHKCIP AND IHKOUT (WARMSTART).
*             BIT 2     - JOB WAS FIRST JOB IN A 'SUBMIT' COMMAND.
*                         SET BY IHKSUB.
*                         CHECKED BY IHKCIP (TO DETERMINE IF ANY
*                         S RDR COMMANDS WERE ISSUED BY CRJE BUT
*                         NOT PROCESSED BY OS).
*             BIT 3     - JOB TERMINATED ABNORMALLY.
*                         SET BY IHKDEQ.
*                         CHECKED BY IHKCC3 AND IHKSTS.
*             BIT 4     - JOB IS TO BE CANCELLED.
*                         SET BY IHKRER03.
*                         CHECKED BY IHKDEQ.
*             BITS 5-7  - RESERVED FOR FUTURE USE.
*    8. 'RJCTQMPA' - 36 BYTES -
*       OS QUEUE MANAGER PARAMETER AREA CONTAINING INFORMATION TO
*       TRANSMIT OUTPUT FROM THIS JOB.
*                         SET BY IHKDEQ.
*                         CHECKED BY IHKPUT, IHKRER01, AND IHKCC5.
*    9. 'RJCTJOB' - FIRST 8 BYTES OF RJCTQMPA -
*       NAME OF THE JOB FROM THE USER'S JOB CARD (ALSO KEY FOR THE
*       RECORD). IT IDENTIFIES THE JOB WITHIN THE CRJE SYSTEM.
*                         SET BY IHKSUB.
*                         CHECKED BY IHKSUB, IHKOUT, IHKCC1.
*                         IHKCC5, IHKDEQ, AND IHKSTS.
*                         TURNED OFF (WHEN ENTRY IS DELETED)
*                         BY IHKOUT, IHKCC5, IHKDEQ, AND
*                         IHKCIP (COLDSTART SPECIFIED).
*   10. 'RJCTQMPE' - 8 BYTES -
*       OS EXTERNAL QUEUE MANAGER PARAMETER AREA IS AN EXTENSION OF
*       THE RJCTQMPA.
*                         SET BY IHKDEQ.
*                         CHECKED BY IHKOUT AND IHKCC5.
*   11, 'RJCTTTR0' - 4 BYTES -
*       CONTAINS RELATIVE TRACK AND RECORD ADDRESS OF THE NEXT SMB/DSB.
*                         MODIFIED BY IHKPUT AND IHKSUB.
         EJECT
.SK4     AIF   ('&PPT' NE 'YES' AND '&ALL' NE 'YES').SK5
         SPACE 2
***********************************************************************
*                                                                     *
*                   PARAMETER POSITION TABLE (PPT)                    *
*                                                                     *
*        THE PARAMETER POSITION TABLE CONTAINS THE PARAMETERS OF THE  *
* COMMAND RECEIVED FROM THE TERMINAL. THE TABLE IS USED TO PASS THIS  *
* INFORMATION FROM THE SYSTEM ADMINISTRATOR (SA) TO THE COMMAND       *
* PROCESSORS (CP).                                                    *
*                                                                     *
***********************************************************************
         SPACE 2
PPTDSECT DSECT
PPTFLG   DS    0CL1 .                  FLAG BYTE
PPTCHAD  DS    CL4 .                   ADDRESS OF NEXT PPT
PPTLNG   DS    CL1 .                   LENGTH OF THIS PPT
PPTCMD   DS    CL1 .                   COMMAND CODE
PPTPARS  EQU   * .                     LENGTH INDICATORS AND PARMS
         SPACE 2
*       DEFINITIONS OF NAMES -
*    1. 'PPTFLG' - 1 BYTE -
*       BITS REFLECT A CONDITION OF STATUS WITHIN THE SYSTEM. IF ON,
*       THE CONDITION EXISTS; IF OFF, THE CONDITION DOES NOT EXIST.
*       BIT DEFINITIONS -
*             BIT 0-7   - USED INTERNALLY IN IHKCMD AND
*                         IN COMMAND PROCESSOR.
*    2. 'PPTCHAD' - 4 BYTES -
*       CONTAINS ADDRESS OF THE NEXT PPT.
*                         SET BY IHKCMD.
*                         CHECKED BY COMMAND PROCESSOR.
*                         TURNED OFF BY IHKCMD.
*    3.  'PPTLNG' - 1 BYTE -
*        LENGTH OF THIS PPT.
*                         SET BY IHKCMD.
*                         UTILIZED BY COMMAND PROCESSORS AND IHKCMD.
*                         TURNED OFF BY IHKCMD.
*    4. 'PPTCMD' - 1 BYTE -
*       CONTAINS THE COMMAND CODE.
*                         SET BY IHKCMD.
*                         CHECKED BY COMMAND PROCESSOR.
*                         TURNED OFF BY IHKCMD.
*    5. 'PPTPARS' - VARIABLE -
*       CONTAINS COMMAND PARAMETERS (DELIMITERS ARE REMOVED). EACH
*       PARAMETER IS PRECEDED BY ONE BYTE INDICATING THE LENGTH OF THE
*       PARAMETER. THE FIRST BIT OF THE LENGTH INDICATOR IS SET IF THE
*       PARAMETER WAS ENCLOSED IN PARENTHESES, WHILE THE SECOND BIT IS
*       SET IF THE PARAMETER WAS ENCLOSED IN QUOTES. THE LAST PARAMETER
*       IS SUCCEEDED BY X'FF'.
         SPACE 10
*         P A R A M E T E R   P O S I T I O N   T A B L E   ( P P T )
         SPACE 2
*              *********************************************
*              *+0        *                                *
*              * PPTFLG   *      PPTCHAD                   *
*              *********************************************
*              *+4        *+5        *+6                   *
*              *  PPTLNG  *  PPTCMD  *                     *
*              ***********************                     *
*              *+8                                         *
*              *              PPTPARS (26-130 BYTES)       *
*              *                                           *
*              *                                           *
*              *                                           *
*              *********************************************
         EJECT
.SK5     AIF    ('&AVT' NE 'YES' AND '&ALL' NE 'YES').SK6
         SPACE 2
*        A D D R E S S   V E C T O R   T A B L E
         SPACE 2
AVTDSECT DSECT
         SPACE 3
*        C O N T R O L    B L O C K S    A N D    T A B L E S
IHKYYCCT DS    A IHKCCT                 CRJE CONTROL TABLE
IHKYYSCB DS    A IHKSTCB1               STCB POINTER FOR START-UP
IHKYYSC1 DS    A IHKSTCB2               CURRENT STCB IN FIRST CIRCLE
IHKYYSC2 DS    A IHKSTCB2               CURRENT STCB IN SECOND CIRCLE
IHKYYSC3 DS    A IHKSTCB3               CURRENT STCB IN THIRD CIRCLE
IHKYYSC4 DS    A 0                      RESERVED
IHKYYCLB DS    A IHKCLB                 CONVERSATIONAL LINE BLOCK LIST
IHKYYTUB DS    A 0                      ADDRESS OF FIRST TUB IN CHAIN
         DS    A 0                      ADDRESS OF LAST TUB IN CHAIN
IHKYYMCL DS    A IHKMCL                 MAJOR COMMAND CODE LIST
IHKYYSCL DS    A IHKSCL                 SUB-COMMAND CODE LIST
IHKYYMOD DS    A IHKMOD                 NON-RESIDENT MODULE TABLE
IHKYYMAP DS    A 0                      CURRENT MAP OF TRANSIENT AREA
IHKYYTRT DS    A IHKTRT                 COMMAND CODE TRANSLATE TABLE
IHKYYDEF DS    A IHKDEF                 OPTION DEFAULT TABLE
IHKYYCIB DS    A IHKCIB                 CENTRAL COMMAND INPUT BUFFER
IHKYYGML DS    A IHKGML                 GETMAIN LIST FOR REFRESHABILITY
IHKYYDQE DS    A IHKDQE                 SYS DEQUEUE ECB
IHKYYDQS DS    A IHKDQS                 STOP ECB FOR SYS DEQUEUE
IHKYYLCE DS    A IHKLCE                 LOADER/CONTROLLER RETURN ECB
IHKYYLCT DS    A 0                      LOADER/CONTROLLER TCB ADDRESS
IHKYYSRE DS    A IHKSRE                 SRV ECB TO RETURN TO OS
IHKYYSRT DS    A 0                      SRV TCB ADDRESS
IHKYYSPL DS    A 0                      START PARAMETER LIST
IHKYYECL DS    A IHKECL                 LOADER/CONTROLLER ECBLIST
IHKYYECD DS    A IHKECD                 DISPATCHER ECBLIST
IHKYYECS DS    A IHKECS                 UTILITY TASK (IHKSRV) ECBLIST
         SPACE 2
*        O P E R A T I N G    S Y S T E M    M O D U L E S
         SPACE 1
IHKYYQMS DS    A 0                      QUEUE MANAGER (ENQUEUE)
IHKYYQMD DS    A 0                      QUEUE MANAGER (DEQUEUE)
IHKYYQML DS    A 0                      QUEUE MANAGER (DELETE)
         EJECT
         SPACE 2
*        C R J E    L I N E    A D M I N I S T R A T O R
         SPACE 1
IHKYYLAB DS    V IHKLAB                 OUTPUT PREPARATION
IHKYYLAP DS    V IHKLAP                 READ/WRITE
IHKYYLAD DS    V IHKLAD                 ENTRY, ANALYSIS, AND END
IHKYYLAT DS    V IHKLAT                 TAB CHARACTER EDITING
IHKYYLAM DS    A 0                      RESERVED
         SPACE 2
*        M E S S A G E    W R I T E R    E N T R Y    P O I N T S
         SPACE 1
IHKYYMSG DS    V IHKMSG                 BUILD OR BUILD AND SEND
IHKYMSG1 DS    V IHKMSG01               BUILD AND ENQUEUE
IHKYMSG2 DS    V IHKMSG02               ENQUEUE EXISTING MESSAGE
IHKYMSG3 DS    V IHKMSG03               LIST MESSAGES AT CENTRAL
         SPACE 2
*        A F I O / B P A M    M O D U L E S
         SPACE 1
IHKYYAFI DS    V IHKAFI                 AFIO
IHKYYEXC DS    V IHKEXC                 EXCCW
IHKYYEXF DS    V IHKEXF                 EXCPFW
IHKYYGCW DS    V IHKGCW                 GENCCW
IHKYYBPM DS    V IHKBPM                 BPAM
IHKYYIRP DS    V IHKIRP                 INTRPFW
IHKYYRNQ DS    V IHKRNQ                 ENQUEUE SERVICE REQUESTS
IHKYYKBX DS    V IHKNBX                 KONBOX
IHKYYWTR DS    V IHKWTR
         SPACE 2
*        S E R V I C E    R O U T I N E S
         SPACE 1
IHKYYSYN DS    V IHKSYN                 SYNTAX CHECKER INTERFACE
IHKYYUTM DS    V IHKUTM                 UVR MANAGER
IHKYYCCS DS    V IHKCCS                 CHARACTER SCAN
IHKYYRJC DS    V IHKRJC                 RJCT MANAGER
IHKYYNUM DS    V IHKNUM                 LINE NUMBER VERIFICATION
IHKYYBGN DS    V IHKBGN                 CRJE BEGIN MODULE
IHKYYSDQ DS    V IHKSDQ                 JOB TERMINATION
IHKYYDSP DS    V IHKDSP                 DISPATCHER
         SPACE 2
*        THE ADDRESSES OF THE SYNTAX CHECKERS ARE INSERTED
*        AT THE OPERATOR'S DISCRETION AT START-UP TIME.
         SPACE 1
IHKYYPL1 DS    V IHKPL1                 PL/1 SYNTAX CHECKER
IHKYYFRT DS    V IHKFRT                 FORTRAN SYNTAX CHECKER
         SPACE 2
*        THE NAMES OF THESE OPTIONAL INSTALLATION-DEFINED
*        EXITS ARE SUPPLIED IN THE 'CRJETABL' MACRO.
         SPACE 1
IHKYYIAX DS    A 0                      LOGON EXIT (ACCOUNTING)
IHKYYISX DS    A 0                      SUBMIT EXIT (JOB CARD)
IHKYYILX DS    A 0                      LOGOFF EXIT
         SPACE 2
*         THE NAME OF THE OPTIONAL INSTALLATION-DEFINED USER
*        COMMAND PROCESSOR IS SUPPLIED IN THE 'CRJETABL' MACRO.
         SPACE 1
IHKYYUSR DS    A 0
         SPACE 2
*        R E S I D E N T    C O M M A N D    P R O C E S S O R S
         SPACE 1
IHKYYCMD DS    V IHKLST                 LIST
         DS    A 0                      UNUSED.
         DS    V IHKSCN                 SCAN
IHKYYIRL DS    V IHKIRL                 INSERT/REPLACE
         DS    V IHKIRL01               IMPLICIT SUB-COMMAND
         DS    V IHKIRL02               CORRECTION MODE
         DS    V IHKIRL                 DELETE SUB-COMMAND
IHKYDSP1 DS    V IHKDSP01               CURRENT PRIORITY IN DISPATCHER
IHKYYLPT DS    V IECTLERP               BTAM LERB PRINT ROUTINE
IHKYYLEW DS    V IHKLEW                 TAB OUTPUT FORMATTING
IHKYYLAY DS    A 0                      PROGRAMMED TIMEOUT MODULE
IHKYYGMS DS    A IHKGMS                SUBTASK GETMAIN LIST
         EJECT
.SK6     AIF   ('&STCB' NE 'YES' AND '&ALL' NE 'YES').SK7
         SPACE 2
*          S U B - T A S K   C O N T R O L   B L O C K   ( S T C B )
         SPACE 2
STCBSECT DSECT
STCBNEXT DS    CL4 .                    ADDRESS OF NEXT STCB IN CHAIN
STCBECBL DS    CL4 .                    ECB LIST ENTRY ADDRESS
STCBSAVE DS    CL4 .                    CALLER'S SAVE AREA ADDRESS
STCBDUMY DS    CL4 .                    DUMMY ECB FOR INITIALIZATION
         SPACE 5
*              *********************************************
*              *+0                                         *
*              *                 STCBNEXT                  *
*              *********************************************
*              *+4                                         *
*              *                 STCBECBL                  *
*              *********************************************
*              *+8                                         *
*              *                 STCBSAVE                  *
*              *********************************************
*              *+12                                        *
*              *                 STCBDUMY                  *
*              *********************************************
         EJECT
.SK7     AIF   ('&DIR' NE 'YES' AND '&ALL' NE 'YES').SK8
         SPACE 3
***********************************************************************
*                                                                     *
*              USER LIBRARY PDS DIRECTORY ENTRY (DIR)                 *
*                                                                     *
*        THE DIRECTORY ENTRY OF THE USER'S PARTITIONED DATA SET       *
* LIBRARY DESCRIBES A MEMBER AND ALL ITS ATTRIBUTES.  IT IS CREATED,  *
* USED AND MODIFIED BY THE COMMAND PROCESSORS IN PROCESSING THE       *
* USER'S LIBRARY.                                                     *
*                                                                     *
***********************************************************************
         SPACE 3
DIRDSECT DSECT
DIRFNAME DS    CL8 .                    NORMAL DIRECTORY ENTRIES
DIRTTR   DS    CL3 .                    TTR FOR BEGINNING OF MEMBER
DIRUILEN DS    X .                      NO OF HALFWORDS OF USER INFO
DIRCRE   DS    CL3 .                    CREATION DATE
DIRMODAT DS    CL3 .                    DATE LAST MODIFIED
DIRSAV   DS    H .                      NO OF TIMES READ
DIRREAD  EQU   DIRSAV
DIRATTRL DS    X .                      TYPE FILE
DIRPL148 EQU   X'80' .                  PL/1 WITH 48 CHARACTER SET
DIRFORTG EQU   X'40' .                  FORTRAN 'G'
DIRADATA EQU   X'20' .                  DATA
DIRATEXT EQU   X'10' .                  TEXT
DIRADLST EQU   X'08' .                  DSLIST
DIRACLST EQU   X'04' .                  CLIST.
DIRPL1   EQU   X'02' .                  PL/1
DIRFORTE EQU   X'01' .                  FORTRAN 'E'
DIRFORTH EQU   X'41' .                  FORTRAN 'H'
DIRATTRO DS    X .                      OTHER ATTRIBUTES
DIROLNO  EQU   X'80' .                  LINE NOS CONTAINED IN RECORD
DIROLNOF EQU   X'7F' .                  TO RESET DIROLNO
DIROLD   EQU   X'40' .                  'EDIT' OLD DATA SET
DIROLDF  EQU   X'BF' .                  TO RESET DIROLD
DIRKEY   DS    CL3 .                    DATA SET KEY
DIRPL1BS DS    C .                      PL/1 BEGINNING SOURCE MARGIN
DIRPL1ES DS    C .                      PL/1 ENDING SOURCE MARGIN
DIRSERV1 DS    C .                      RESERVED
DIRINC   DS    F .                      LINE NUMBER INCREMENT
DIRNOBLK DS    H .                      NUMBER OF BLOCKS IN DATA SET
DIRSERV2 DS    3H .                     RESERVED
DIRSIZE  EQU   *-DIRDSECT
         EJECT
*      U S E R  L I B R A R Y  D I R E C T O R Y  E N T R Y  ( D I R )
         SPACE 2
*              *********************************************
*              *+0                                         *
*              *              DIRFNAME (8 BYTES)           *
*              *                                           *
*              *********************************************
*              *+8                              *+11       *
*              *           DIRTTR               *  DIRUILEN*
*              *********************************************
*              *+12                             *+15       *
*              *           DIRCRE               *          *
*              *********************************************
*              *                     *+18                  *
*              *  DIRMODAT (3 BYTES) *       DIRSAV        *
*              *********************************************
*              *+20       *+21       *+22                  *
*              *  DIRATTRL*  DIRATTRO*  DIRKEY  (3 BYTES)  *
*              *********************************************
*              *          *+25       *+26       *+27       *
*              *          *  DIRPL1BS*  DIRPL1ES*  DIRSERV1*
*              *********************************************
*              *+28                                        *
*              *                DIRINC                     *
*              *********************************************
*              *+32                  *+34                  *
*              *     DIRNOBLK        *                     *
*              ***********************                     *
*              *+36                                        *
*              *                DIRSERV2 (6 BYTES)         *
*              *********************************************
               EJECT
.SK8     AIF   ('&UVR' NE 'YES' AND '&ALL' NE 'YES').SK9
***********************************************************************
*                                                                     *
*                   USER VERIFICATION RECORD (UVR)                    *
*                                                                     *
*        THE USER VERIFICATION RECORD IS USER TO OBTAIN INFORMATION   *
* ABOUT THE USER AND TO OBTAIN THE NAME OF THE DD CARD DESCRIBING     *
* THE USER LIBRARY.                                                   *
*                                                                     *
***********************************************************************
         SPACE 2
UVRDSECT DSECT
UVRFMAIN DS    CL8 .                    FREEMAIN CONTROL WORDS
UVRUSRID DS    CL8 .                    USERID
UVRPASSW DS    CL8 .                    PASSWORD
UVRCNTL1 DS    C .                      CONTROL BYTE
UVRSESS  EQU   X'80' .                  SHOW SESSION - ON
UVRSESSF EQU   X'7F' .                  SHOW SESSION - OFF
UVRDMSG  EQU   X'40' .                  DELAYED MESSAGE(S) FOR USER-ON
UVRDMSGF EQU   X'BF' .                  DELAYED MESSAGES-OFF
UVRABTM1 EQU   X'20' .                  ABNORMAL TERMINATION
UVRABTM2 EQU   X'10' .                  ABNORMAL TERMINATION
UVRLMSGN EQU   X'04' .                  A DELAYED MESSAGE HAS BEEN LOST
UVRLMSGF EQU   X'FB'
UVRLIBIN EQU   X'02' .                  USER'S LIBRARY INOPERATIVE
UVRACTVN EQU   X'01' .                  USER CURRENTLY ACTIVE-ON
UVRACTVF EQU   X'FE' .                  USER CURRENTLY ACTIVE-OFF
UVRCNTL2 DS    C .                      MESSAGE CONTROL BYTE
UVRLNSEQ DS    H .                      TUB IDENTIFICATION FIELD
UVRMXCON EQU   3 .                      MAXIMUM CENTRAL CONSOLES
UVRCID1  DS    C .                      FIRST CONSOLE ID
UVRCID2  DS    C .                      SECOND CONSOLE ID
UVRCID3  DS    C .                      THIRD CONSOLE ID
UVRUNUS2 DS    CL49 .                   UNUSED
UVRDDNAM DS    CL8 .                    DDNAME
         EJECT
*                     USER VERIFICATION RECORD  (UVR)
         SPACE 1
*              *********************************************
*              *+0                                         *
*              *          UVRFMAIN (8 BYTES)               *
*              *                                           *
*              *********************************************
*              *+8                                         *
*              *          UVRUSRID (8 BYTES)               *
*              *                                           *
*              *********************************************
*              *+16                                        *
*              *          UVRPASSW (8 BYTES)               *
*              *                                           *
*              *********************************************
*              *+24       *+25       *+26                  *
*              * UVRCNTL1 * UVRCNTL2 * UVRLNSEQ            *
*              *********************************************
*              *+28       *+29       *+30       *+31       *
*              *  UVRCID1 *  UVRCID2 *  UVRCID3 *          *
*              **********************************          *
*              *          UVRUNUS2 (49 BYTES)              *
*              *                                           *
*              *                                           *
*              *********************************************
*              *+80                                        *
*              *          UVRDDNAM (8 BYTES)               *
*              *                                           *
*              *********************************************
         EJECT
*     DEFINITIONS OF NAMES -
*  1. UVRUSRID - 8 BYTES -
*     CONTAINS USERID BY WHICH RECORD IS LOCATED.
*  2. UVRPASSW - 8 BYTES -
*     CONTAINS CORRESPONDING PASSWORD.
*  3. UVRCNTL1 - 1 BYTE -
*     BITS REFLECT CONTROL INFORMATION.
*     BIT DEFINITIONS -
*             BIT 0     - SESSION IS TO BE INDICATED TO OPERATOR.
*                         SET ONLY IF MCS IS NOT IN THE SYSTEM.
*             BIT 1     - DELAYED MESSAGES ARE AVAILABLE.
*                         SET, CHECKED AND TURNED OFF BY IHKUTM.
*                         TURNED OFF BY IHKCC4 ALSO.
*             BIT 2     - INDICATES ABNORMAL TERMINATION.
*                         SET BY IHKUTM.
*             BIT 3     - INDICATES ABNORMAL TERMINATION.
*             BIT 4     - UNUSED.
*             BIT 5     - DELAYED MESSAGE FOR THIS USER WAS LOST.
*                         SET, CHECKED AND TURNED OFF BY IHKUTM.
*                         SET BY IHKMSG.
*             BIT 6     - USER'S LIBRARY INOPERATIVE LAST SESSION.
*                         SET AND CHECKED BY IHKUTM.
*             BIT 7     - INDICATES THAT USERID IS ACTIVE.
*                         SET, CHECKED AND TURNED OFF BY IHKUTM.
*                         CHECKED BY IHKCC1 AND IHKCC7.
*  4. UVRCNTL2 - 1 BYTE -
*     USED TO FACILITATE USER MESSAGE HANDLING.
*  5. UVRLNSEQ - 2 BYTES -
*     TUB IDENTIFICATION FIELD TO FACILITATE WARM START FOLLOWING
*     ABNORMAL TERMINATION OF CRJE.
*                         SET BY IHKUTM.
*                         USED BY IHKAWS TO RETRIEVE USER'S ACTIVE AREA
*                         CLEARED BY IHKUTM.
*  6. UVRCID1 - 1 BYTE -
*     CONSOLE ID OF AN OPERATOR'S CONSOLE WHICH REQUESTED
*     NOTIFICATION WHENEVER THIS USER LOGS ON OR LOGS OFF.
*                         SET BY IHKCC6 WHEM MCS IS IN THE SYSTEM.
*                         PASSED TO IHKLGN AND IHKLGF BY IHKUTM.
*                         CLEARED BY IHKCC6.
*  7. UVRCID2 - 1 BYTE -
*     SEE UVRCID1.
*  8. UVRCID3 - 1 BYTE -
*     SEE UVRCID1.
*  9. UVRUNUS2 - 49 BYTES -
*     NOT USED.
* 10. UVRDDNAM - 8 BYTES -
*     CONTAINS THE NAME OF THE DD CARD DESCRIBING THE USER LIBRARY
*                         CHECKED BY IHKUTM.
         EJECT
.SK9     AIF   ('&DEF' NE 'YES' AND '&ALL' NE 'YES').END
***********************************************************************
*                                                                     *
*                   TERMINAL COMMAND DEFAULT TABLE (DEF)              *
*                                                                     *
*        THIS TABLE CONTAINS THE DEFAULT OPTIONS FOR THE OPERANDS     *
* OF EACH TERMINAL COMMAND                                            *
*                                                                     *
***********************************************************************
         SPACE 3
DEFDSECT DSECT
DEFSTLNO DS    CL4 .                    DEFAULT DATA SET STARTING LINE *
                                          NO
DEFINCRE DS    CL4 .                    DEFAULT DATA SET INCREMENT
DEFLGN   DS    X .                      LOGON DEFAULTS
DEFLMID  EQU   X'40' .                  MESSAGE IDS REQUESTED
DEFLBC   EQU   X'01' .                  BROADCAST MESSAGES REQUESTED
DEFCON   DS    X .                      CONTINUE DEFAULTS
DEFCBGN  EQU   X'02' .                  CONTINUE AT BEGINNING
DEFCNXT  EQU   X'06' .                  CONTINUE AT NEXT DATA SET
DEFCHER  EQU   X'00' .                  CONTINUE HERE
DEFDEL   DS    X .                      DELETE (MAJOR) DEFAULTS
DEFDPURG EQU   X'80' .                  PURGE
DEFEDIT  DS    X .                      EDIT OPTIONS
DEFENEW  EQU   X'80' .                  NEW DATA SET
DEFENEWF EQU   X'7F'
DEFENUM  EQU   X'40' .                  LINE NUMBERS IN LINE
DEFENUMF EQU   X'BF'
DEFESCAN EQU   X'20' .                  SYNTAX SCAN REQUESTED
DEFESCNF EQU   X'DF'
DEFPL148 EQU   X'04' .                  PL/1 WITH 48 CHARACTER SET
DEFEATTR DS    X .                      EDIT DATA SET ATTRIBUTE
DEFFORTH EQU   X'41' .                  FORTRAN 'H'
DEFFORTG EQU   X'40' .                  FORTRAN 'G'
DEFADATA EQU   X'20' .                  DATA
DEFATEXT EQU   X'10' .                  TEXT
DEFADLST EQU   X'08'
DEFACLST EQU   X'04' .                  COMMAND LIST
DEFPL1   EQU   X'02' .                  PL/1
DEFFORTE EQU   X'01' .                  FORTRAN 'E'
DEFPLBSM DS    X .                      PL/1 BEGINNING SOURCE MARGIN
DEFPLESM DS    X .                      PL/1 ENDING SOURCE MARGIN
DEFEXEC  DS    X .                      EXEC DEFAULTS
DEFELST  EQU   X'80' .                  LIST REQUESTED
DEFSND   DS    X .                      SEND DEFAULTS
DEFSNOW  EQU   X'80' .                  DO NOT ENQUEUE MESSAGES
DEFINP   DS    X .                      INPUT DEFAULT
DEFIREP  EQU   X'80' .                  LINE NUMBER PROMPTS REQUESTED
DEFLST   DS    X .                      LIST DEFAULTS
DEFLNUM  EQU   X'80' .                  LINE NUMBERS TO BE LISTED
DEFSIZE  EQU   *-DEFDSECT
         EJECT
* T E R M I N A L   C O M M A N D   D E F A U L T  T A B L E   (D E F)
         SPACE 3
*              *********************************************
*              *+0                                         *
*              *                DEFSTLNO                   *
*              *                                           *
*              *********************************************
*              *+8                                         *
*              *                DEFINCRE                   *
*              *                                           *
*              *********************************************
*              *+16       *+17       *+18       *+19       *
*              * DEFLGN   *  DEFCON  *  DEFDEL  * DEFEDIT  *
*              *********************************************
*              *+20       *+21       *+22       *+23       *
*              * DEFEATTR * DEFPLBSM * DEFPLESM * DEFEXEC  *
*              *********************************************
*              *+24       *+25       *+26       *+27       *
*              * DEFSND   *  DEFINP  *  DEFLST  *  DEFRSERV*
*              *********************************************
         EJECT
.END     MEND

         MACRO
         IEEVCHWA  &OWNWA
CHKWA    DSECT      CHKPT WORK AREA      JUNE 14,1967
CKWAOFST DS    F    OFFSET TO BEGINNING OF CHKMAIN'S AND CHKDCB'S W.A.
CKBFOFST DS    F    OFFSET TO BEGINNING OF CHKPT'S BUFFER
*                        REGISTER EQUATES
R0       EQU   0
R1       EQU   1
R2       EQU   2
R3       EQU   3
R4       EQU   4
R5       EQU   5
R6       EQU   6
R7       EQU   7
R8       EQU   8
R9       EQU   9
RA       EQU   10
RB       EQU   11
RC       EQU   12
RD       EQU   13
RE       EQU   14
RF       EQU   15
*
*             *********************************************************
*             *                                                       *
*             *   THE INFORMATION MAPPED BY THIS MACRO IS SHARED      *
*             *        BY ALL CHKPT ROUTINES (CHKPT, CHKDCB,          *
*             *   PRESERVE, CHKMAIN, IORESUME, AND RETURN)            *
*             *                                                       *
*             *********************************************************
CKWACL   DS    F    LENGTH OF CHKWA
CKBUFL   DS    F    LENGTH OF CHKPT'S BUFFER
CKTCBAD  DS    F    POINTER TO TCB OF P/P
*THE ORDER OF THE NEXT TWO CARDS MUST BE CKPPM, CKPPE.
CKPPM    DS    F    PTR TO LOW ORDER ADDRESS OF P.P. CORE
CKPPE    DS    F    PTR TO HIGH ORDER ADDRESS OF P.P. CORE
CKPPML   DS    F    LOW ORDER ADDR OF SECONDARY PP CORE
CKPPEL   DS    F    HIGH ORDER ADDR OF SECONDARY PP CORE
CKTIOLN  DS    F    LENGTH OF TIOT
CKFLAG1  DS    CL1  CHKPT HOUSEKEEPING FLAGS
CKTRKOV  EQU   64   TRACK OVERFLOW SPECIFIED
CKTAPE   EQU   32   CHKPT DATA SET ON TAPE.
CKMFT    EQU   16   MFT SYSTEM
CKMVT    EQU   8    MVT SYSTEM
CKCANCEL EQU   4    REQUEST CANCELLED
CKOPEN   EQU   2    CHKPT ISSUED OPEN
CKBPAM   EQU   1    CHKPT DATA SET OPENED FOR BPAM
CKFLAG2  DS    CL1
CKEOV    EQU   32   INDICATES EOV HAS OCCURRED.
CKUSPCHD EQU   4    INDICATES USER SUPPLIED CHECKID
CKFREEM  EQU   2     INDICATES TO ONLY FREEMAIN AND CLOSE CHKWA IN CER
CKON     EQU   1    INDICATES PURGED I/O
CKRETCOD DS    CL2  CHKPT RETURN CODE
CKNORM   EQU   X'00'     CHKPT NORMAL
CKPGMERR EQU   X'08'     CHKPT PROGRAM ERROR
CKIOERR  EQU   X'0C'     INDICATES I/O ERROR
CKPSBERR EQU   X'10'     CHKPT POSSIBLE ERROR
CKMSGCOD DS    CL2  CHKPT MESSAGE CODE
CKDECB1  DS    0F  MAPPING OF FIRST DECB.
CKECB1   DS    F
CKTYPE1  DS    H
CKLNGTH1 DS    H
CKDCBAD1 DS    F
CKAREA1  DS    F
CKIOBPT1 DS    F
CKDECB2  DS    0F             MAPPING OF SECOND DECB
CKECB2   DS    F
CKTYPE2  DS    H
CKLNGTH2 DS    H
CKDCBAD2 DS    F
CKAREA2  DS    F
CKIOBPT2 DS    F
CKDCBAD  EQU   CKDCBAD1  ADDR OF CHKPT DCB.
CKINT    DS    F    DATA MANAGEMENT INTERFACE BYTE
CKSYNAD  DS    F   SAVE AREA FOR DCBSYNAD FIELD
CKPARMAD DS    F    ADDR OF PARM LIST
CKUNIT   DS    CL3       UNIT FOR CHKPT D.S.
CKDDNAME DS    CL8       CHKPT D.S. DDNAME
CKVOLSER DS    CL6       VOL.SER.NO.FOR CHKPT D.S.
CKCHEKID DS    2F   GENERATED CHECKID.
CKTTR    DS    1F    TTRZ FOR BPAM CHKPT D.S.
CKJCTMB  DS    2F        MBBCCHHR OF JCT.
CKREGSAV DS    18F  REGISTER SAVE AREA
CKJCT    EQU   *
         IEFAJCTB
         ORG   INJMJCT+176
         DS    0D
         DS    F
DXECB    DS    0CL4
         DC    X'00000000'
DXIOB    DS    0CL32
IOBFLAG1 DC    X'00'
IOBFLAG2 DC    X'00'
IOBSENSE DS    0H
IOBSENS0 DS    CL1
IOBSENS1 DS    CL1
IOBECBPT DS    XL1
         DC    AL3(DXECB)          ECB ADDRESS
IOBCSW   DS    0D
IOBCOMAD DC    X'00000000'
IOBSTAT0 DC    X'00'
IOBSTAT1 DC    X'00'
IOBCNT   DC    X'0000'
IOBSIOCC DS    XL1
IOBSTART DC    AL3(DXCCW)          CHANNEL PROGRAM ADDRESS
IOBWGHT  DS    XL1
IOBDCBPT DC    AL3(0)    DCB ADDRESS
         DS    XL1
         DS    XL3
IOBINCAM DC    X'0000'
IOBERRCT DS    XL2
DXDAADDR DS    D                   MBBCCHHR SEEK ADDRESS.
         CNOP  0,8
DXCCW    DS    0CL24
DXCCW1   DS    D
DXCCW2   DS    D
DXCCW3   DS    D
         MEND

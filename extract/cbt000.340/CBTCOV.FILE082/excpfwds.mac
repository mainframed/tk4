         MACRO
         EXCPFWDS &TYPE=DSECT
*
* ACTIVE FILE I/O TEMPORARY WORK AND CONSTANT AREA
*
         AIF   ('&TYPE' EQ 'DSECT').GO
&TYPE    CSECT .                  ACTIVE FILE WORK/CONSTANT AREA
         AGO   .GO2
.GO      ANOP
EXCPFWDS DSECT .                  ACTIVE FILE WORK/CONSTANT DEFINITION
.GO2     ANOP
*
VARIOFW  DS    0CL32 .             VARIABLE PORTION OF WORK/CONSTANTS
VARIO1FW DS    0CL16 .            RECORD DEFINITION AREA
ULKDFW   DC    H'0' .             LENGTH OF USER'S RECORD KEY FIELD
UMLKDFW  DC    H'0' .             MACHINE LENGTH OF KEY FIELD
ULDDFW   DC    H'0' .             LENGTH OF USER'S RECORD DATA FIELD
ULKDDFW  DC    H'0' .                  COMBINED KEY & DATA LENGTH
ULKCFW   DC    H'0' .             LENGTH OF TRACK CHAIN
ULDCFW   DC    H'0' .             LENGTH OF RECORD CHAIN
UNORECFW EQU   ULDCFW .           NUMBER OF DATA RECORDS PER TRACK
UMLDCFW  DC    H'0' .             MACHINE LENGTH OF RECORD CHAIN
UDNRECFW DC    H'0' .             MAXIMUM RECORD NUMBER ON TRACK
VARIO2FW DS    0CL10 .            BUFFER DEFINITION AREA
BLKSZFW  DC    H'0' .             PHYSICAL LENGTH OF USER'S BUFFER
ULLRECFW DC    H'0' .             LENGTH OF USER'S LOGICAL BUFFER
UADKEYFW DC    H'0' .             REL. POS. OF KEY IN BUFFER
UADDATFW DC    H'0' .             REL. POS. OF TEXT FROM KEY
UADNKYFW DC    H'0' .         REL. POS. OF NEXT KEY FROM TEXT
NXTKEYFW DC    A(0) .                  USER KEY FIELD POINTER
EXRETLK  DC    A(0) .        EXECUTOR RETURN ADDRESS
EXRET2LK DC    A(0) .             ALTERNATE EXECUTOR RET AND GEN RET
WKDATAFW DC    F'0' .
         AIF   ('&TYPE' EQ 'IHKEXF' OR '&TYPE' EQ 'DSECT').GO3
         MEXIT
.GO3     ANOP
EXTENDFW EQU   * .                N OF EXECUTOR DEPENDENT WORK AREA
CCWRGFW  DC    A(0) .        CCW LIST ORIGIN - 8
SRCHRGFW DC    A(0) .        SEARCH ARGUMENT LIST ORIGIN - 8
IOB      DS    0F .          IOB DEF. (INPUT/OUTPUT BLOCK)
IOBFLAG1 DC    B'11000010' .      UNRELATED, COMMAND/DATA CHAINING
IOBERR   EQU   B'00100000'        ERROR ROUTINE IN CONTROL
IOBXCPTN EQU   B'00000100'        ERROR PENDING OR PERMANENT
IOBFLAG2 DC    X'00' .
IOBSENS0 DC    X'00' .            SENSE BYTES
IOBSENS1 DC    X'00' .
TRKOVRUN EQU   B'01000000'        TRACK OVER RUN
NORECFND EQU   B'00001000'        NO RECORD FOUND
IOBECBCC DS    0CL1 .        IOS ECB CC CODE (FIRST BYTE)
PERMERR  EQU   B'00100000' .      =0 IF PERMANENT ERROR
IOBECBPT DC    A(ECB) .      ECB ADDRESS POINTER
IOBFLAG3 DS    0CL1 .
IOBCSW   DC    XL8'0' .           CHANNEL END CSW
ILI      EQU   B'01000000'        INCORRECT LENGTH INDICATION
IOBSIOCC DS    0CL1 .             SIO CONDITION CODE
IOBSTART DC    A(0) .             CHANNEL PROGRAM POINTER
         DS    0CL1 .
IOBDCBPT DC    A(ACTIVDCB) .      DCB POINTER
         DS    0CL1 .
IOBRESTR DC    A(0) .             IOS CHANNEL PROGRAM RESTART ADDRESS
IOBINCAM DC    H'0' .             BLOCK COUNT INCREMENT (TAPE ONLY)
IOBERRCT DC    H'0' .             ERROR RETRY COUNT
IOBSEEK  DC    XL8'0' .           MBBCCHHR EXTEND AND SEEK ADDRESS
ECB      DC    F'0' .             IOS EVENT CONTROL BLOCK
ACTIVDCB DCB   DSORG=DAU,MACRF=(E),DEVD=DA,DDNAME=ACTIVE
*
* TEMPORARY STORAGE USED FOR SEARCH ARGUMENTS, CCW LISTS, AND SAVE AREA
*
TMPAREA0 DS    0F
MINXTND  EQU   *-EXTENDFW
INSDTRAN DS    CL12
REPDTRAN DS    CL12
TMPAREA1 DS    0F
MINXTND1 EQU   *-EXTENDFW
         ORG   TMPAREA0
SAV1     DS    F
SAV2     DS    F
TMPAREA2 DS    0F
MINXTND2 EQU   *-EXTENDFW
         DS    CL4000 .           MAXIMUM EXTRA STORAGE NEEDED
*
         MEND

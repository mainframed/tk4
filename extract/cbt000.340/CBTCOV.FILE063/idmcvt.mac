*---------------------------------------------------------------------*
*        CONTROL CHARACTERS                                           *
*                                                                     *
*  NOTE: UPDATED FOR ISPF. FOR DETAILS SEE COMMENTS BELOW. SRH 5/84   *
*                                                                     *
*---------------------------------------------------------------------*
IDMCVT   DS    0D                  MUST START ON DOUBLE WORD BOUNDARY
TSOPFX   EQU   C'.'                TSO COMMAND IDENTIFIER.
QUOTE    EQU   C''''
IDMXLEN  EQU   64                  ENTRY LENGTH FOR IDMUXIT TABLE
SPFXOPTL EQU   8
POINT    EQU   C'.'
BLANK    EQU   C' '
STAR     EQU   C'*'
AFTER    EQU   C'A'                SIGN -AFTER- FOR PRIM COMMAND
BEFORE   EQU   C'B'                SIGN -BEFORE- FOR PRIM COMMAND
ZERO     EQU   X'00'
ZEROC    EQU   C'0'
ONE      EQU   X'01'
DEFIS    EQU   C'-'
YES      EQU   C'Y'
NO       EQU   C'N'
EDSIGN   EQU   X'F0'
RPARENT  EQU   C')'
LPARENT  EQU   C'('
DUMBUFL  DC    F'12'
DUMBUFF  DC    C'PGM(IEFBR14)'
IDMBUFL  DC    F'45'                  PARM LENGTH FOR IDMMAIN IN. CALL
IDMPREF  DC    C'PGM(IDMMAIN)         PARM('  PARM PREFIX FOR IDMMAIN
PARMIDM1 DC    X'FFFF'            FIRST PARM FOR IDMMAIN INTERNAL CALL
ZERO10   DC    XL10'00'
BLANK256 DC    CL256' '
DEFAULT  DC    C' '
DUMMYREC DC    C'0 RECORDS'
LACTADD  DC    C'*****ADDED'
LACTED   DC    C'EDITED'
LACTEDS  DC    C'EDITED SAVED'
LACTEDF  DC    C'EDIT FAILED'
LACTBRO  DC    C'BROWSED'
LACTBROF DC    C'BROWSE FAILED'
LACTP    DC    C'PRINTED'
LACTPER  DC    C'PRINT FAILED'
LACTDER  DC    C'INFO FAILED'
LACTNOM  DC    C'MEMBER ERASED'
LACTNOV  DC    C'VOLSER ERASED'
LACTVOL  DC    C'VOLSER ADDED'
LACTDLER DC    C'DELETE FAILED'
LACTUNER DC    C'UNCTLG FAILED'
LACTDDSN DC    C'DSN DELETED'
LACTDMBR DC    C'MBR DELETED'
LACTUDSN DC    C'UNCATALOGED'
LACTSXIT DC    C'USER SELECT'
LACTPXIT DC    C'USER PRINT'
LACTBXIT DC    C'USER BROWSE'
LACTDOK  DC    C'INFO DISPLAY'
MINUS1   DC    F'-1'
MINUS0   DC    F'0'
PLUS1    DC    F'1'
MAXNUMB  DC    F'32000'           DEFAULT NUMBER FOR REMOVE
*
*  NOTE: THE FOLLOWING TWO FIELDS - TEXITBUF AND PFKXBUF HAVE SRH 5/84
*        CHANGED IN ISPF. I HAVE LEFT OLD VALUES AS COMMENTS. SRH 5/84
*        THIS CHANGED RESEARCHED BY BILL WESTLAND.            SRH 5/84
*                                                             SRH 5/84
*EXITBUF DC    C'PGM(ISPTSO)' **OLD SPF**                     SRH 5/84
*FKXBUF  DC    C'PGM(ISPOPT) PARM(OPT03   )' **OLD SPF**      SRH 5/84
*                                                             SRH 5/84
TEXITBUF DC    C'PGM(ISRPTC)' ISPF BUFFER FOR SELECT SERVICE-TSO MODE
PFKXBUF  DC    C'PGM(ISPOPT) PARM(ISPOPT03)' ISPF-BUFF FOR PFK EXIT
         SPACE
         DS    0F
TABLE    DC    256X'0'            TABLE TO SEARCH FOR BLANK
         ORG   TABLE+C' '
         DC    X'1'
         ORG
         SPACE 2
TABLER   DC    256X'1'            TABLE TO SEARCH FOR NONBLANK
         ORG   TABLER+C' '
         DC    X'0'
         ORG
         SPACE 2
TABLEN   DC    256X'1'            TABLE TO SEARCH FOR NONUMBER
         ORG   TABLEN+C'0'
         DC    XL10'0'
         ORG
         EJECT
*---------------------------------------------------------------------*
*        SPF COMMAND KEYWORDS                                         *
*---------------------------------------------------------------------*
SHARED   DC    C'SHARED'
PROFILE  DC    C'PROFILE'
CONTROL  DC    C'CONTROL'
DISPLAY  DC    C'DISPLAY'
REFRESH  DC    C'REFRESH'
SELECT   DC    C'SELECT'
ERRORS   DC    C'ERRORS'
RETURN   DC    C'RETURN'
TBDISPL  DC    C'TBDISPL'
TBADD    DC    C'TBADD'
TBPUT    DC    C'TBPUT'
TBSCAN   DC    C'TBSCAN'
TBDELETE DC    C'TBDELETE'
TBOPEN   DC    C'TBOPEN'
TBCLOSE  DC    C'TBCLOSE'
TBEND    DC    C'TBEND'
TBSAVE   DC    C'TBSAVE'
REPLCOPY DC    C'REPLCOPY'
TBQUERY  DC    C'TBQUERY'
TBCREATE DC    C'TBCREATE'
VDEFINE  DC    C'VDEFINE'
VRESET   DC    C'VRESET'
VCOPY    DC    C'VCOPY'
VGET     DC    C'VGET'
VPUT     DC    C'VPUT'
WRITE    DC    C'WRITE'
REPL     DC    C'REPLACE'
EDIT     DC    C'EDIT'
BROWSE   DC    C'BROWSE'
MOVE     DC    C'MOVE'
FIXED    DC    C'FIXED'
CHAR     DC    C'CHAR'
TBTOP    DC    C'TBTOP'
TBSKIP   DC    C'TBSKIP'
         EJECT
*---------------------------------------------------------------------*
*        SPF VARIABLES DESCRIPTION, MESSAGE ID'S                      *
*---------------------------------------------------------------------*
TBPERCNT DC    F'100'             PERCENT OF SPACE TO PADD TABLE
PROFILEN DC    C'(YIDMCL YIDMDEST)'
ZUSERN   DC    C'(ZUSER)'
ZUSERL   DC    F'7'               DATA LENGTH OF ZUSER=LOGON ID
SYSTABN  DC    C'(SYSTAB)'
SYSTABL  DC    F'8'               DATA LENGTH OF SYSTAB=DIRECTORY NAME
ZERRMSGN DC    C'(ZERRMSG)'
ZERRMSGL DC    F'8'
ZTDTOPN  DC    C'(ZTDTOP)'
ZTDTOPL  DC    F'4'
OPTN     DC    C'(OPT)'
OPTL     DC    F'80'              DATA LENGTH OF OPT=USER INPUT
TKEY     DC    C'(DSNAME VOL)'
TNAME    DC    C'(ACTION LASTACT MBR FSTR)'
TUSERN   DC    C'(DSNAME VOL MBR LASTACT FSTR)'
TPANN    DC    C'(PNSL PVOL)'
ROWSV    DC    CL8'ROWS'
ROWSN    DC    C'(ROWS)'
ROWSL    DC    F'4'
CRPSV    DC    CL8'CRPS'
CRPSN    DC    C'(CRPS)'
CRPSL    DC    F'4'
PNSLN    DC    C'(PNSL)'                  PANVALET
PNSLL    DC    F'56'                      PANVALET
PVOLN    DC    C'(PVOL)'                  PANVALET
PVOLL    DC    F'6'                       PANVALET
DSNAMEN  DC    C'(DSNAME)'
DSNAMEL  DC    F'44'
VOLN     DC    C'(VOL)'
VOLL     DC    F'6'
MBRN     DC    C'(MBR)'
MBRL     DC    F'8'
FSTRN    DC    C'(FSTR)'
FSTRL    DC    F'1'
LCCN     DC    C'(LCC)'
LCCL     DC    F'8'
MSGPARMN DC    C'(MSGPARM)'
MSGPARML DC    F'80'
BUFFCMDN DC    C'(BUFFCMD)'
BUFFCMDL DC    F'256'
ACTIONN  DC    C'(ACTION)'
ACTIONL  DC    F'1'
LASTACTN DC    C'(LASTACT)'
LASTACTL DC    F'13'
*
PANELN   DC    C'P#DTABLE'
PANELP   DC    C'P#DPRINT'
PANDELET DC    C'P#DDELET'
PANDELVS DC    C'P#DDELVS'
PANLPROM DC    C'P#LPROMP'
PANELI   DC    C'P#DSINFO'
PANLDUMM DC    C'P#DDUMMY'      TO CIRCUMVENT IBM BUG IN SPF
*
LUSRBUFF DC    C'PANEL(P#LCUSER)'
LUTLBUFF DC    C'CMD(%C#UTIL)'    INVOKE UTIL CLIST    *SRH 3/84*
PREFTSO  DC    C'CMD('
SPFXPRF1 DC    C'PANEL('
SPFXPRF2 DC    C') OPT('
PRFXADD  DC    C'A '''
PRFDADD  DC    C'A '
         SPACE
MSGID1   DC    CL8'YDST001'
MSGID2   DC    CL8'YDST002'
MSGID3   DC    CL8'YDST003'
MSGID4   DC    CL8'YDST004'
MSGID5   DC    CL8'YDST005'
MSGID6   DC    CL8'YDST006'
MSGID7   DC    CL8'YDST007'
MSGID8   DC    CL8'YDST008'
MSGID9   DC    CL8'YDST009'
MSGID10  DC    CL8'YDST010'
MSGID11  DC    CL8'YDST011'
MSGID12  DC    CL8'YDST012'
MSGID13  DC    CL8'YDST013'
MSGID14  DC    CL8'YDST014'
MSGID15  DC    CL8'YDST015'
MSGID16  DC    CL8'YDST016'
MSGID17  DC    CL8'YDST017'
MSGID18  DC    CL8'YDST018'
MSGID19  DC    CL8'YDST019'
MSGID20  DC    CL8'YDST020'
MSGID21  DC    CL8'YDST021'
MSGID22  DC    CL8'YDST022'
MSGID23  DC    CL8'YDST023'
MSGID24  DC    CL8'YDST024'
MSGID25  DC    CL8'YDST025'
MSGID26  DC    CL8'YDST026'
MSGID27  DC    CL8'YDST027'
MSGID28  DC    CL8'YDST028'
MSGID29  DC    CL8'YDST029'
MSGID30  DC    CL8'YDST030'
MSGID31  DC    CL8'YDST031'
MSGID32  DC    CL8'YDST032'
MSGID33  DC    CL8'YDST033'
MSGID34  DC    CL8'YDST034'
MSGID36  DC    CL8'YDST036'
MSGID37  DC    CL8'YDST037'
MSGID38  DC    CL8'YDST038'
MSGID44  DC    CL8'YDST044'
MSGID45  DC    CL8'YDST045'
MSGID46  DC    CL8'YDST046'
MSGID47  DC    CL8'YDST047'
MSGID48  DC    CL8'YDST048'
MSGID49  DC    CL8'YDST049'
MSGID50  DC    CL8'YDST050'
MSGID51  DC    CL8'YDST051'
MSGID52  DC    CL8'YDST052'
MSGID53  DC    CL8'YDST053'
MSGID54  DC    CL8'YDST054'
MSGID55  DC    CL8'YDST055'
MSGID56  DC    CL8'YDST056'
MSGID57  DC    CL8'YDST057'
         EJECT
*---------------------------------------------------------------------*
*        SET OF LIST FORMS MACROS                                     *
*---------------------------------------------------------------------*
CALL01   CALL  ,(TBOPEN,,WRITE),VL,MF=L       OPEN TABLE
CALL01E  EQU   *
         SPACE
CALL02   CALL  ,(TBQUERY,),VL,MF=L            CHECK IF TABLE EXIST
CALL02E  EQU   *
         SPACE
CALL03   CALL  ,(TBCREATE,,TKEY,TNAME,WRITE,REPL),VL,MF=L  CREATE TABLE
CALL03E  EQU   *
         SPACE
CALL04   CALL  ,(TBQUERY,,DEFAULT,DEFAULT,ROWSV),VL,MF=L   GET ROWS NUM
CALL04E  EQU   *
         SPACE
CALL05   CALL  ,(TBDELETE,),VL,MF=L           DELETE DUMMY RECORD
CALL05E  EQU   *
         SPACE
CALL06   CALL  ,(TBADD,),VL,MF=L              ADD DUMMY RECORD
CALL06E  EQU   *
         SPACE
CALL07   CALL  ,(TBDISPL,,PANELN,),VL,MF=L    DISPLAY TABLE
CALL07E  EQU   *
         SPACE
CALL08   CALL  ,(VDEFINE,ROWSN,,FIXED,ROWSL),VL,MF=L
CALL08E  EQU   *
         SPACE
CALL09   CALL  ,(VDEFINE,ZUSERN,,CHAR,ZUSERL),VL,MF=L
CALL09E  EQU   *
         SPACE
CALL10   CALL  ,(VDEFINE,OPTN,,CHAR,OPTL),VL,MF=L
CALL10E  EQU   *
         SPACE
CALL11   CALL  ,(VDEFINE,DSNAMEN,,CHAR,DSNAMEL),VL,MF=L
CALL11E  EQU   *
         SPACE
CALL12   CALL  ,(VDEFINE,VOLN,,CHAR,VOLL),VL,MF=L
CALL12E  EQU   *
         SPACE
CALL13   CALL  ,(VDEFINE,ACTIONN,,CHAR,ACTIONL),VL,MF=L
CALL13E  EQU   *
         SPACE
CALL14   CALL  ,(VDEFINE,LASTACTN,,CHAR,LASTACTL),VL,MF=L
CALL14E  EQU   *
         SPACE
CALL15   CALL  ,(VDEFINE,LCCN,,CHAR,LCCL),VL,MF=L
CALL15E  EQU   *
         SPACE
CALL16   CALL  ,(SELECT,,),VL,MF=L            EXEC TSO COMMAND
CALL16E  EQU   *
         SPACE
CALL17   CALL  ,(TBCLOSE,,REPLCOPY,,TBPERCNT),VL,MF=L   CLOSE TABLE
CALL17E  EQU   *
         SPACE
CALL18   CALL  ,(VDEFINE,MBRN,,CHAR,MBRL),VL,MF=L
CALL18E  EQU   *
         SPACE
CALL19   CALL  ,(EDIT,,),VL,MF=L
CALL19E  EQU   *
         SPACE
CALL20   CALL  ,(VDEFINE,MSGPARMN,,CHAR,MSGPARML),VL,MF=L
CALL20E  EQU   *
         SPACE
CALL21   CALL  ,(VDEFINE,ZERRMSGN,,CHAR,ZERRMSGL),VL,MF=L
CALL21E  EQU   *
         SPACE
CALL22   CALL  ,(BROWSE,,),VL,MF=L
CALL22E  EQU   *
         SPACE
CALL23   CALL  ,(TBTOP,),VL,MF=L              GOTO TOP OF TABLE
CALL23E  EQU   *
         SPACE
CALL24   CALL  ,(TBSKIP,,),VL,MF=L              SKIP ROWS IN TABLE
CALL24E  EQU   *
         SPACE
CALL25   CALL  ,(TBSCAN,,DSNAMEN),VL,MF=L      SCAN ROWS IN TABLE
CALL25E  EQU   *
         SPACE
CALL26   CALL  ,(VDEFINE,ZTDTOPN,,FIXED,ZTDTOPL),VL,MF=L
CALL26E  EQU   *
         SPACE
CALL27   CALL  ,(TBEND,),VL,MF=L              END TABLE - NO SAVE
CALL27E  EQU   *
         SPACE
CALL28   CALL  ,(TBSAVE,,REPLCOPY,,TBPERCNT),VL,MF=L   SAVE TABLE
CALL28E  EQU   *
         SPACE
CALL29   CALL  ,(VDEFINE,CRPSN,,FIXED,CRPSL),VL,MF=L
CALL29E  EQU   *
         SPACE
CALL30   CALL  ,(TBQUERY,,,,,,,CRPSV),VL,MF=L  GET CURRENT ROW
CALL30E  EQU   *
         SPACE
CALL31   CALL  ,(TBPUT,),VL,MF=L              UPDATE ROW
CALL31E  EQU   *
         SPACE
CALL32   CALL  ,(VDEFINE,BUFFCMDN,,CHAR,BUFFCMDL),VL,MF=L
CALL32E  EQU   *
         SPACE
CALL33   CALL  ,(DISPLAY,),VL,MF=L    DISPLAY ANY PANEL
CALL33E  EQU   *
         SPACE
CALL34   CALL  ,(VDEFINE,SYSTABN,,CHAR,SYSTABL),VL,MF=L
CALL34E  EQU   *
         SPACE
CALL35   CALL  ,(VDEFINE,FSTRN,,CHAR,FSTRL),VL,MF=L
CALL35E  EQU   *
         SPACE
CALL36   CALL  ,(VDEFINE,PNSLN,,CHAR,PNSLL),VL,MF=L
CALL36E  EQU   *
         SPACE
CALL37   CALL  ,(VDEFINE,PVOLN,,CHAR,PVOLL),VL,MF=L
CALL37E  EQU   *
         SPACE
CALL38   CALL  ,(VPUT,DEFAULT,DEFAULT),VL,MF=L
CALL38E  EQU   *
         SPACE
CALLIX   CALL  ,(,,,),VL,MF=L      GENERIC LOCATE MODULE
CALLIXE  EQU   *
         SPACE
EXTRACT  EXTRACT ,FIELDS=(PSB),MF=L
EXTRACTE EQU   *
         SPACE
LOCLST   CAMLST NAME,0,,0          CAMLIST FOR LOCATE
LOCLSTE  EQU   *
         SPACE
UNCLST   CAMLST UNCAT,0            CAMLIST FOR UNCATALOG
UNCLSTE  EQU   *
         SPACE
SCRLST   CAMLST SCRATCH,0,,0,,OVRD CAMLIST FOR SCRATCH
SCRLSTE  EQU   *
         SPACE
OB1LST   CAMLST SEARCH,0,0,0       CAMLIST FOR OBTAIN DSCB1
OB1LSTE  EQU   *
         SPACE
OB3LST   CAMLST SEEK,0,0,0         CAMLIST FOR OBTAIN DSCB3
OB3LSTE  EQU   *
         SPACE
PODCB    DCB   DSORG=PO,MACRF=(R,W)
PODCBE   EQU   *

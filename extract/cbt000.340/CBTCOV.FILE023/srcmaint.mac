1
-
-
-                          JES3 MAINTENANCE MANUAL
-
-
-
0                           ROCKWELL INTERNATIONAL
                             2201 Seal Beach Blvd
                                 PO Box 2515
                        Seal Beach, California  90740
-
-                                   Editor
                                 Lionel Dyck
                             Mail Code: 041-SH28
                             Phone (213) 594-1647
                               Comnet 374-1647
-
-
-
0                               April 2, 1984
-                                 Version 2
1
-
                      This page intentionally left blank
1
-
-
-                             TABLE OF CONTENTS
-  PREFACE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
-  Chapter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
0  1. MODIFICATION CONTROL AND DEVELOPMENT . . . . . . . . . . . . . . .
0  2. USERMOD NUMBER ASSIGNMENTS . . . . . . . . . . . . . . . . . . . .
0        Assignment of USERMOD ID's  . . . . . . . . . . . . . . . . . .
0  3. JES3 CODING STANDARDS  . . . . . . . . . . . . . . . . . . . . . .
0  4. JES3 NAMING STANDARDS  . . . . . . . . . . . . . . . . . . . . . .
0        COPY elements . . . . . . . . . . . . . . . . . . . . . . . . .
         Macro elements  . . . . . . . . . . . . . . . . . . . . . . . .
         User Exits  . . . . . . . . . . . . . . . . . . . . . . . . . .
         External Subroutines  . . . . . . . . . . . . . . . . . . . . .
0  5. ROCKWELL INSTALLATION PARAMETER TABLE  . . . . . . . . . . . . . .
0        Abstract  . . . . . . . . . . . . . . . . . . . . . . . . . . .
         Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . .
         Objectives  . . . . . . . . . . . . . . . . . . . . . . . . . .
         Implementation  . . . . . . . . . . . . . . . . . . . . . . . .
            Coding . . . . . . . . . . . . . . . . . . . . . . . . . . .
            Installation Control . . . . . . . . . . . . . . . . . . . .
         Specifications  . . . . . . . . . . . . . . . . . . . . . . . .
            IAT#RIP - RIP CSECT Assembly . . . . . . . . . . . . . . . .
            IATX#IF - Test Mod Enable/Disable Status . . . . . . . . . .
            IATX#RIP - Addressability to the RIP . . . . . . . . . . . .
            IATY#RIB - Enable/Disable Flag Construction  . . . . . . . .
            IATY#RID - Internal Parameter Values . . . . . . . . . . . .
            IATY#RIF - Specify Enable/Disable Flags  . . . . . . . . . .
            IATY#RIM - Status of a Modification  . . . . . . . . . . . .
            IATY#RIP - Generate RIP DSECT or CSECT . . . . . . . . . . .
            RIPUPDAT - Create New RIP Table  . . . . . . . . . . . . . .
         Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . .
            Specifying Status  . . . . . . . . . . . . . . . . . . . . .
            Specifying Parameters  . . . . . . . . . . . . . . . . . . .
            Testing Status . . . . . . . . . . . . . . . . . . . . . . .
            Using Internal Parameter . . . . . . . . . . . . . . . . . .
            Complex Example  . . . . . . . . . . . . . . . . . . . . . .
0                                   - ii -
1
-
            Example using WORK . . . . . . . . . . . . . . . . . . . . .
0  6. INTRO TO VM TESTING  . . . . . . . . . . . . . . . . . . . . . . .
0        MVS VM Testing  . . . . . . . . . . . . . . . . . . . . . . . .
         JES3 VM Testing . . . . . . . . . . . . . . . . . . . . . . . .
            JES3 Commands  . . . . . . . . . . . . . . . . . . . . . . .
            Global-Local JES3  . . . . . . . . . . . . . . . . . . . . .
            SP 1.3.1 JES3 VM Testing . . . . . . . . . . . . . . . . . .
            Viewing the INITDECK Listing on VM . . . . . . . . . . . . .
               OSLIST  . . . . . . . . . . . . . . . . . . . . . . . . .
               OSLISTX . . . . . . . . . . . . . . . . . . . . . . . . .
         VM Commands . . . . . . . . . . . . . . . . . . . . . . . . . .
         SAVESYS . . . . . . . . . . . . . . . . . . . . . . . . . . . .
         TSO under VM  . . . . . . . . . . . . . . . . . . . . . . . . .
         VTAM under VM . . . . . . . . . . . . . . . . . . . . . . . . .
         CMS/XEDIT . . . . . . . . . . . . . . . . . . . . . . . . . . .
            CMS commands . . . . . . . . . . . . . . . . . . . . . . . .
            CMS HELP . . . . . . . . . . . . . . . . . . . . . . . . . .
            XEDIT  . . . . . . . . . . . . . . . . . . . . . . . . . . .
               XEDIT subcommands . . . . . . . . . . . . . . . . . . . .
            Output spool . . . . . . . . . . . . . . . . . . . . . . . .
         SNA RJP Testing Under VM  . . . . . . . . . . . . . . . . . . .
0  7. SNA RJP TESTING UNDER VM . . . . . . . . . . . . . . . . . . . . .
0        RJP testing under VM  . . . . . . . . . . . . . . . . . . . . .
            Starting RJP . . . . . . . . . . . . . . . . . . . . . . . .
            Starting JPITTS  . . . . . . . . . . . . . . . . . . . . . .
         NJE testing to an RSCS node . . . . . . . . . . . . . . . . . .
0  8. TESTING PROCEDURES AND GUIDELINES  . . . . . . . . . . . . . . . .
0  9. EXTENSIONS TO IBM CODE . . . . . . . . . . . . . . . . . . . . . .
0        Date Conversion Routine . . . . . . . . . . . . . . . . . . . .
         DC Extensions . . . . . . . . . . . . . . . . . . . . . . . . .
            WHERE Option . . . . . . . . . . . . . . . . . . . . . . . .
            Display Format Options . . . . . . . . . . . . . . . . . . .
         Rockwell File Build . . . . . . . . . . . . . . . . . . . . . .
            RFOPEN . . . . . . . . . . . . . . . . . . . . . . . . . . .
            RFSCAN . . . . . . . . . . . . . . . . . . . . . . . . . . .
            RFCLOSE  . . . . . . . . . . . . . . . . . . . . . . . . . .
         JES3 PRDMP Enhancements . . . . . . . . . . . . . . . . . . . .
         LOCATE Enhancements . . . . . . . . . . . . . . . . . . . . . .
         Initialization Deck Tailoring . . . . . . . . . . . . . . . . .
         OUTPUT Limitations  . . . . . . . . . . . . . . . . . . . . . .
         Write-to-Programmer . . . . . . . . . . . . . . . . . . . . . .
         Modify X Extension  . . . . . . . . . . . . . . . . . . . . . .
-
0                                  - iii -
1
-
   10. APPLYING IBM MAINTENANCE. . . . . . . . . . . . . . . . . . . . .
0        Corrective Maintenance  . . . . . . . . . . . . . . . . . . . .
         Preventive Maintenance  . . . . . . . . . . . . . . . . . . . .
0  11. JES3 INITIALIZATION DECK MAINTENANCE  . . . . . . . . . . . . . .
-  Appendix  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
0  A. JES3 DATASETS  . . . . . . . . . . . . . . . . . . . . . . . . . .
0        SMP Managed Datasets  . . . . . . . . . . . . . . . . . . . . .
         Rockwell Datasets . . . . . . . . . . . . . . . . . . . . . . .
         User Datasets . . . . . . . . . . . . . . . . . . . . . . . . .
         The JES3 PROC . . . . . . . . . . . . . . . . . . . . . . . . .
0  B. MODIFICATION REQUEST FORM  . . . . . . . . . . . . . . . . . . . .
0  C. ISPF PANELS AND PROGRAMS . . . . . . . . . . . . . . . . . . . . .
0        ISPF Panels . . . . . . . . . . . . . . . . . . . . . . . . . .
            SRCMAINT Menu  . . . . . . . . . . . . . . . . . . . . . . .
            INIT Panels  . . . . . . . . . . . . . . . . . . . . . . . .
               INITSRC1 Panel  . . . . . . . . . . . . . . . . . . . . .
               INITSRC2 Panel  . . . . . . . . . . . . . . . . . . . . .
               INITSRC3 Panel  . . . . . . . . . . . . . . . . . . . . .
               INITJOB1 Panel  . . . . . . . . . . . . . . . . . . . .
               INITSMP1 Panel  . . . . . . . . . . . . . . . . . . . .
               INITSMP2 Panel  . . . . . . . . . . . . . . . . . . . .
            TRACKING . . . . . . . . . . . . . . . . . . . . . . . . .
            COPYCNTL . . . . . . . . . . . . . . . . . . . . . . . . .
            ASM  . . . . . . . . . . . . . . . . . . . . . . . . . . .
            ASMPRINT Panel . . . . . . . . . . . . . . . . . . . . . .
            LINKSMP  . . . . . . . . . . . . . . . . . . . . . . . . .
               SMPLINKP Panel  . . . . . . . . . . . . . . . . . . . .
            CUMOD  . . . . . . . . . . . . . . . . . . . . . . . . . .
               AUTONUM . . . . . . . . . . . . . . . . . . . . . . . .
               CUMODS  . . . . . . . . . . . . . . . . . . . . . . . .
               CUMODSM . . . . . . . . . . . . . . . . . . . . . . . .
               CUMODN  . . . . . . . . . . . . . . . . . . . . . . . .
            SMP  . . . . . . . . . . . . . . . . . . . . . . . . . . .
               SMPREC  . . . . . . . . . . . . . . . . . . . . . . . .
            SMPBATCH Panel . . . . . . . . . . . . . . . . . . . . . .
            CNTLSCAN . . . . . . . . . . . . . . . . . . . . . . . . .
            COMPARE  . . . . . . . . . . . . . . . . . . . . . . . . .
            RIBUPDTE . . . . . . . . . . . . . . . . . . . . . . . . .
            SEARCHIT . . . . . . . . . . . . . . . . . . . . . . . . .
               SEARCHCC  . . . . . . . . . . . . . . . . . . . . . . .
            BROWSASM . . . . . . . . . . . . . . . . . . . . . . . . .
0                                   - iv -
1
-
         Programs  . . . . . . . . . . . . . . . . . . . . . . . . . .
            CUMOD  . . . . . . . . . . . . . . . . . . . . . . . . . .
            SMPLINKP . . . . . . . . . . . . . . . . . . . . . . . . .
            SMPDATA  . . . . . . . . . . . . . . . . . . . . . . . . .
            BLDJCLIN . . . . . . . . . . . . . . . . . . . . . . . . .
            SEARCHIT . . . . . . . . . . . . . . . . . . . . . . . . .
            RIBUPDTE . . . . . . . . . . . . . . . . . . . . . . . . .
            MODSREP  . . . . . . . . . . . . . . . . . . . . . . . . .
            COPYCNTL . . . . . . . . . . . . . . . . . . . . . . . . .
            COMPARE  . . . . . . . . . . . . . . . . . . . . . . . . .
            DAHANDBK . . . . . . . . . . . . . . . . . . . . . . . . .
            PRNTMODS . . . . . . . . . . . . . . . . . . . . . . . . .
            ACTMODS - Active Modules/Macros Report . . . . . . . . . .
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - v -
1
-
                      This page intentionally left blank
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - vi -
1
-
-
-                                  PREFACE
+                                  PREFACE
-     This manual reflects the standards selected by Rockwell Internatio
   for the maintenance  of Source distributed software  packages.   In s
   cific this manual is  designed for the Job Entry Subsystem  3 product
   IBM.   The intent is that all source  changes to JES3 will be maintai
+                                                        ____
   using the IBM product System Modification  Program (SMP 4).   SMP/E w
   be addressed in a future release of this document.
0     This manual was developed to provide standards for source developm
   for JES3.  BUT the  primary intent was to overcome some  of the probl
   with using SMP to maintain source.   There are still many problems si
   SMP basically  handles source in the  same way it handles  object dec
   With the  difference being that  SMP does recognize  incremental upda
   for source type elements.   What is not handled at all is the ability
   RESTORE selected  source updates  without  having  to RESTORE  all  n
   ACCEPTED maintenance.   In this manual a  technique is suggested to s
   plify these problems.
-
      This manual was formatted using SCRIPT  from the University of Wat
   loo.  The pre-formatted data can be found in dataset JES3.SCRIPT.MEMO
-
-
-
-
-
-
-
-
                                    - ii -
1
-
-
-                                 Chapter 1
+                                 Chapter 1
0                    MODIFICATION CONTROL AND DEVELOPMENT
+                    MODIFICATION CONTROL AND DEVELOPMENT
-     All modifications will  go through the following  phases during th
   development.
-
      1.  ISPF Default Values
0         a) Enter the SRCMAINT menu and select option I.   You will now
             enter the  Initialization menu,  select each  'all numeric'
             option one at a time.   When  you have selected all numeric
             only options  then you  will have  established all  the re-
             quired ISPF defaults for Source Maintenance.  You need only
             do this once to tailor and initialize all defaults.
0         b) After all defaults have been established by doing the above
             step you only have to use option IA to cause all of the de-
             faults to be  made available to the ISPF  panels and clists
             used by the  source maintenance system.   If  you are using
             the new ISPF/PDF then this step is not required.
0     2.  Modification Request
0         a) All modifications will  have a request written.    This re-
             quest must be  approved by management prior  to any coding.
             The form may be found in Appendix B.
-
      3.  Assignment of Modid
0         a) Enter the TRACKING  panel through the SRCMAINT  ISPF panel.
             Select the next MODID from the list and enter the appropri-
             ate information in the form.
0×        b) Note that  the modid that  you assign  is just the  first 5
 ×           positions of the USERMOD id (i.e. SJxxx).
-
      4.  COPY Original Source/Macro
-
                                    - 1 -
1
-
          a) Enter the COPYCNTL panel and  copy the original source into
             your  source   library.    Specify   COPY,   the   original
             Source/Macro  library,  your  source  library  and the  SMP
             USERMOD id selected from the TRACKING panel.
0         b) If you  decide to  terminate this  modification then  enter
             TRACKING and free up the USERMOD id and then enter COPYCNTL
             and specify CANCEL for the option.
0         c) If you are  creating a new element then use  the NEW option
             to log your  ownership of the element  name.   An assembler
             COPY member is to be treated as a new element.
-
      5.  Develop Mod
0         a) Using ISPF EDIT  insert new lines of code into  the copy of
             the original following the coding  standards found in Chap-
             ter 3.
0            i)    Insure that autonum is OFF.
0            ii)   Insure that a mask is setup  with the USERMOD in Col-
                   umns 65-71 with an '@' in column 64.
0            iii)  Insure that you put in  a prolog documenting the pur-
                   pose of the mod, any dependencies, messages,  macros,
                   registers,  plus anything else that might be meaning-
                   ful for debugging and/or recoding of the modification
                   for a future release.
-
      6.  Assemble New Module
0         a) Enter the ASM panel of the SRCMAINT Menu and verify the ob-
             ject deck library.    Also you will have to  specify if you
             want the assembler to verify  re-entrantability of your mo-
             dule.   You will enter ISPF  browse of the assembly listing
             after the assembly and then you will be given the option of
             Printing, Deleting or Keeping the listing.
-
      7.  Link Edit New Module
0         a) You will  now want to  Link the  new module into  a library
             from which it can be tested.   See Appendix C for a list of
             all JES3 libraries  that can be used  for testing.   Select
             one of the test libraries and then enter LINKSMP panel from
-                                   - 2 -
1
-
             the SRCMAINT  menu.   You many  specify up to  8 individual
             object decks  to be linkedited.    ISPF program  SMPLINK is
             then invoked  to extract  the appropriate  link information
             from the  SMPCDS and a table  is built for each  module and
             each load module.    Only one link per load  module is per-
             formed.  If you specify any new modules that are not in the
             SMPCDS then the defaults as  specified on the LINKSMP panel
             are used.  The defaults apply to all new modules.
+                                             ___
-
      8.  Testing New/Changed Modules
0         a) All new or  changed modules MUST be tested under  VM to in-
+                                        ____
             sure that they work.  See the Chapter 6, for complete docu-
             mentation on testing JES3 using VM.
-
      9.  Create SMP USERMOD
0         a) Enter the CUMOD panel from  the SRCMAINT menu.   This panel
             will prompt you for the following information: module name,
             modid, pre-reqs, co-reqs, allow/disallow deletion of origi-
             nal lines of code, plus.
0         b) At this point you will be  prompted to invoke AUTONUM which
             will place  valid sequence  numbers into  the new  lines of
             code which you created without sequence numbers (right ?).
0            i)    If you  wish to have  different sequence  numbers for
                   each group of new records then place a + in column 73
                   and then in columns 74-77 enter a 1 to 4 position nu-
                   meric value which  will be used as  the increment for
                   that group of records.
0         c) SMP Pre-requisites are any USERMODs  which MUST be in APPLY
             status before your USERMOD can be applied.
0         d) SMP Co-requisites are  any USERMODs which MUST  be in APPLY
             status or MUST be applied at the same time as your USERMOD.
             If 2  or more  USERMODs require  each other  for processing
             then they are co-requisites.   If one can be on without the
             other then  they are either  pre-requisites or there  is no
             SMP relationship.
0         e) The  USERMOD will  be  created  by comparing  the  modified
             source  with the  original  source  and generating  an  SMP
             USERMOD deck complete with all  required SMP information to
             install your modification.
-
                                    - 3 -
1
-
          f) After CUMOD  processing you are  placed into browse  of the
             CUMOD report,   if you  do not have  a 3278-5  terminal you
             should shift so  that you see columns  80-100 which contain
             information about CUMOD processing.   A line with --- indi-
             cates that  the record  in columns  1-80 was  put into  the
             USERMOD,  if it has *** then it wasn't.  If it has ### then
             the record in columns 1-80 has no sequence numbers.
0×        g) If you  created more than one  element with the  same modid
 ×           then you will have to run the CUMOD process multiple times,
 ×           specifying the MERGE option on the second of the CUMOD ISPF
 ×           panels, until all elements have been processed.  NOTE: that
 ×           you should not specify MERGE the  first time thru CUMOD for
 ×           a USERMOD.
-
      10. SMP Receive
0         a) Enter the SMP menu from the SRCMAINT menu.  Select option 1
             (Receive)  and specify the USERMOD  you just created in the
             CUMOD phase.
0         b) Note the Receive option,  there are  4 actions that the SMP
             Receive Exit will take depending  upon the option specified
             here.  The options are in Table 1.
-
-
             ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
             ×
             ×  I  -  Verify that the USERMOD id is in Cols 65-71 of all
             ×        source/macro statements.
             ×  D  -  Delete all object decks found during receive.
             ×  B  -  Both of the above options.
             ×  N  -  No checking applied - vanilla SMP actions.
             ×
             ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
                                        TABLE 1
0                               SMP Receive Exit Options
-
0     11. SMP Apply
-
0                                   - 4 -
1
-
          a) Enter SMP option 2 (SMP Batch) and specify option APPLY and
             the USERMOD that you just received.
-
      12. Logging USERMOD Complete
0         a) Enter COPYCNTL panel and specify  option of Finished to log
             your modification to a source/macro complete.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-                                   - 5 -
1
-
                      This page intentionally left blank
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 6 -
1
-
-
-                                 Chapter 2
+                                 Chapter 2
0                         USERMOD NUMBER ASSIGNMENTS
+                         USERMOD NUMBER ASSIGNMENTS
-     In order to  insure uniqueness of SMP  USERMOD identification assi
   ments, the following USERMOD number ranges have been selected.
-            Center
+            ______
+                      Range
+                      _____
             ECC
+                      SJ500 - SJ649
             MCC
+                      SJ650 - SJ799
             SWCC
+                      SJ800 - SJ949
             WCC
+                      SJ000 - SJ499 and SJ999
-
   NOTE:  That all USERMOD numbers are assigned thru the source maintena
   ISPF application.
0  NOTE 2: Reference the Modification Control and Development Chapter, s
   tion on assignment of MODID.
-
-
-
-
-
-
-
-
-                                   - 7 -
1
-
 × 2.1   ASSIGNMENT OF USERMOD ID'S
+  2.1   ASSIGNMENT OF USERMOD ID'S
+        __________ __ _______ ____
-×    The assignment of a USERMOD id  takes place under the TRACKING opt
 × of the source maintenance ISPF panel. This function places the user i
 × ISPF EDIT on the JES3.MODS.LOG(TRACKING) dataset.   This is a sequent
 × file containing  the modid followed by  the programmer name  assigned
 × the mod,  which is then followed by a brief description of the modifi
 × tion (a 1 liner).
0×    The modid that you assign is the SJxxx portion of the USERMOD.  Th
 × and z are used to delineate deltas of the base modid.
0×    The y,  at this time,  may remain the letter A for every module/ma
 × element in the SMP USERMOD.  Or y may be a distinct letter, one for e
 × element.   The  former requires a single  SMP USERMOD and the  later
 × quires a seperate SMP USERMOD for every element.
0×    The z is a change designation, where 0 indicates the base or origi
 × mod and where  1 - nth indicates  the 1st through nth  change/fix or
 × hancement to the original modification.
0×    If you choose to  assign y the letter A for  all elements,  then w
 × you invoke the USERMOD create function (CUMOD).   The first time you
 × ecute CUMOD for the  USERMOD the MERGE option should be  set to NO,
 × the second through nth elements the MERGE option should be set to YES
-
-
-
-
-
-
-
-
-
                                    - 8 -
1
-
-
-                                 Chapter 3
+                                 Chapter 3
0                           JES3 CODING STANDARDS
+                           JES3 CODING STANDARDS
-     1.  The usermod id MUST be in columns 65-71 of every line of modi-
+                        ____
          fied code.   Its  format is SJnnnyz.   An @ sign  must also be
+                                                           ____
          placed in column 64 of every line of modified code.
0         a) where nnn = modification number 000-999.
0         b) where   y  = module identifier   A-Z and 0-9,   a different
             letter for each element that a single modification hits.
0×           i)    NOTE:  This is now optional.    If you wish to assign
 ×                 the  same  modid  to every  element  updated  by  the
 ×                 USERMOD you may.  For example if your modid is SJ999,
 ×                 you could  assign SJ999A0 to  every element  that you
 ×                 are updating/creating in your USERMOD.   Then the 1st
 ×                 time you update this USERMOD, reguardless of how many
 ×                 elements are to be updated,  you would assign a modid
 ×                 of SJ999A1.
0         c) where   z = modification change level
0     2.  If the number of lines in a  new mod exceeds 10,  use a assem-
          bler copy,  an  external subroutine or user  exit.   Otherwise
          code changes inline.
0         a) If the module is either a unique module or an IBM user exit
             that does not  have any productive IBM code  then this does
             not apply.
0     3.  If there are more than one assembler COPY's in a module, think
          about using an external subroutine or a user exit.
0     4.  The prolog of  a module should have a history  of all Rockwell
          modifications,  along with a 1 line functional description,  a
          more indepth  description,  external dependencies,   entry and
          exit expectations,  register and macro usage and anything else
          that you think might be meaningful since this is the main doc-
          umentation on this modification.
0         a) Copy JES3.CNTL.LOG($PROLOG) for a model source prolog
0         b) Copy JES3.CNTL.LOG($MPROLOG) for a model macro prolog
-                                   - 9 -
1
-
      5.  Have a  Clear routine at the  beginning of a program  to clear
          everything (work areas,  flags,  etc.),  for all non-reentrant
          code.
0         a) For JES3 a  module may not be  linked as RENT but  could be
             used by JES3 as if it were  RENT so this is a good standard
             practice.
0     6.  Have a Clear  routine after every pass through  the program to
          make sure flags and such are reset.
0     7.  Use TITLE cards.   Be sure to put module name in name field of
          the first TITLE card.
0     8.  Place boxed  comments at the beginning  of a routine  giving a
          brief description of what it does.
0         a) Copy JES3.CNTL.LOG($BOX) for model source box
0         b) Copy JES3.CNTL.LOG($MBOX) for model macro box
0     9.  Use meaningful comments on every line within reason.
0     10. Put mapping macros in alphabetical order.
0     11. Code either top-down or bottom-up.  This means you should have
          a mainline of code and everything  else should be treated as a
          sub- routine.  Decide which registers you want to use for dif-
          ferent functions  before you start  coding (i.e.   base,  BAL,
          etc.).
0     12. Coding messages:
0         a) See example in figure 1.
-
-            ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
             ×
             ×  MESSAGE  DC    AL1(MSGEND-MESSAGE)
             ×           DC    C'RATNNNN '
             ×  MSGJOBN  DC    C'(    )'
             ×           DC    C'NOT FOUND'
             ×  JOBNUM   EQU   MSGJOBN+1
             ×  MSGEND   EQU   *
             ×
             ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                          Figure 1:  Message Coding Example
0                                   - 10 -
1
-
      13. Try to use  a BAL instead of an ACALL  whenever possible.   If
          you need to save your registers, then use ACALL.
0     14. If at all possible, don't read JCT.  It takes too much I/O.
0     15. Flags:
0         a) See the example  on coding,  setting and testing  a flag in
             figure 2.
-
-            ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
             ×
             ×  Flag Definition Example
             ×
             ×  FLAG     DS    X         THIS IS A FLAG BYTE
             ×  COND1    EQU   X'01'     CONDITION 1
             ×  COND2    EQU   X'02'     CONDITION 2
             ×  COND3    EQU   X'04'     CONDITION 3
             ×  COND4    EQU   X'08'     CONDITION 4
             ×
             ×
             ×  Flag Testing Example 1
             ×
             ×           TM    FLAG,COND1   IS THIS CONDITION 1?
             ×           BC    ALLON,LABEL  BRANCH IF YES.
             ×
             ×
             ×  Flag Testing Example 2
             ×
             ×           TM    FLAG,COND1+COND4  IS THIS COND1 OR COND4?
             ×           BC    NALLOFF,LABEL     BRANCH IF YES.
             ×
             ×
             ×  Flag Setting Example
             ×
             ×           OI    FLAG,COND3   SET CONDITION 3.
             ×
             ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                      Figure 2:  Flag Definition/Testing/Setting
-
-
-                                   - 11 -
1
-
      16. ESTAE or JESTAE routines should be  used to clean up resources
          when an error occurs.   Try to also check for recursion.   The
          user is responsible for closing opened files and releasing al-
          located JSAM files in the event of an error.
0     17. JES3 control blocks should be referenced by name, not by abso-
          lute displacement.
0     18. Register Conventions: See Table 2.
-
-         ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
          ×
          ×   R0 & R1 - used for passing parameters to called routine
          ×   R2 - R9 - work registers
          ×   R10     - base register for all DSP's
          ×   R11     - contains address of FCT for the DSP
          ×   R12     - contains address of JES3 TVT
          ×   R13     - base register for CSECT or work area
          ×   R14     - address to which a called routine must return
          ×   R15     - address of the called program
          ×
          ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
                                       TABLE 2
0                             JES3 Register Conventions
-
-     19. Unit  record and  tape  I/O is  performed  using the  JESOPEN,
          JESEXCP, and JESCLOSE macros.
0     20. Communication between  DSP's and the  operator are  done using
          the LOGIN macro.
0     21. You CANNOT  delete IBM code.    You have two  options,  either
          branch around the code using RIP or use the assembler instruc-
          tion AGO/ANOP which will do an unconditional branch.   See the
          AGO example in figure 3.
-            See Chapter 5, for details on how to use RIP.
-
-
                                    - 12 -
1
-
          ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
          ×
          ×               AGO   .LABEL
          ×       ORIGLAB DC    X'00'
          ×       .LABEL  ANOP
          ×       ORIGLAB DC    X'FF'
          ×
          ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                       Figure 3:  Sample Using AGO and ANOP
      22.
-         Try to invoke the IATXPRT macro.   This will aid you in debug-
          ging code when an error occurs.
0     23. When using a  COPY statement,  put meaningful  comments before
          and after the COPY so it will stand out in the assembled code.
0     24. If you use the assembler COPY  facility then place a statement
          of code before the COPY with  a label to allow other modifica-
          tion code to be used at the same location without modification
          to your COPY code.
0     25. Never have a COPY routine that does not allow additional proc-
          essing after  the COPY code is  completed.   If the  COPY code
          ARETURNs with a cancel/delete return  code then the ARETURN is
          acceptable,  otherwise it should fall  thru and allow the pro-
          vided ARETURN to return normally.
0     26. You should NEVER put in sequence numbers manually.   The AUTO-
          NUM function of CUMOD is designed to do this for you.
0     27. Mapping macros MUST NEVER be placed with a COPY.
0     28. Use SMP for all code, both Rockwell and IBM.  There is no dif-
          ference in the way they are maintained.
0     29. All IBM  messages that  are changed must  have the  IAT prefix
          changed to RAT and logged in JES3.MODS.LOG(MESSAGES)
0     30. All Rockwell messages must be prefixed RAT and signed out from
          JES3.MODS.LOG(MESSAGES).
0     31. For any message changes consider using IBM USER EXIT IATUX31.
0     32. All labels should be meaningful  names or SJxxxyy  where SJxxx
          = the modification number and yy is any unique value.  This is
          to identify all labels with the modification.
-
                                    - 13 -
1
-
                      This page intentionally left blank
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 14 -
1
-
-
-                                 Chapter 4
+                                 Chapter 4
0                           JES3 NAMING STANDARDS
+                           JES3 NAMING STANDARDS
-     This section  documents the naming  standards for  Rockwell develo
   macros, modules, exits, messages, etc. within the JES3 system.
-
-  4.1   COPY ELEMENTS
+  4.1   COPY ELEMENTS
+        ____ ________
0     The name of  COPY macros should be  the name of the  module name l
   the IAT plus a 3 character numeric suffix.
0  ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  I.e.  for Two COPY's in IATSSDI the first would be SSDI001 and the
   ×  second would be SSDI002.
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
0     NOTE:  Insure that the copy name which is really a macro has a uni
   name by coordinating with anyone else working  on the same module and
   checking JES3.SP131.JES3MAC...
-
-  4.2   MACRO ELEMENTS
+  4.2   MACRO ELEMENTS
+        _____ ________
0     1.  All Rockwell macros must begin with  IATY# and may be suffixed
          by any meaningful and unique 1-3 characters.
0     2.  All NEW Rockwell macros MUST begin with RATYxxxx where xxxx is
+             ___                 ____
          any unique descriptive qualifier.  Executable macros should be
          RATXxxxx for all NEW macros.
-
-
-                                   - 15 -
1
-
   4.3   USER EXITS
+  4.3   USER EXITS
+        ____ _____
0     1.  All Rockwell developed exits must begin with IATUX#x where x =
          A thru Z and 0 thru 9.
0     2.  If  you are  developing a  NEW exit  then it  MUST begin  with
+                                    ___                ____
          RATUXxx where xxxx is any unique descriptive qualifier.
-
-  4.4   EXTERNAL SUBROUTINES
+  4.4   EXTERNAL SUBROUTINES
+        ________ ___________
0     1.  All External Subroutines will begin with  IAT# and may be suf-
          fixed by  any unique  set of  1-4 characters  which should  be
          meaningful.
0     2.  If you are  developing a NEW external subroutine  then it MUST
+                                  ___                              ____
          begin with RATxxxx where xxxx is any unique descriptive quali-
          fier.
-
-
-
-
-
-
-
-
-
-
-                                   - 16 -
1
-
-
-                                 Chapter 5
+                                 Chapter 5
0                   ROCKWELL INSTALLATION PARAMETER TABLE
+                   ROCKWELL INSTALLATION PARAMETER TABLE
-     RIP will be the vehicle to provide the ability to have a JES3 mod
   stalled in all centers and only active in those that desire it.  It w
   be implemented with all new JES3 mods to the SP 1.3.1 level and then
   existing mods will be refitted after 1.3.1 is in production.
0     RIP is also the desired technique to 'backout' temporary or no lon
   needed mods.
-
   5.1   ABSTRACT
+  5.1   ABSTRACT
+        ________
0     A technique is described which will reduce the effort for implemen
   tion of new  versions of JES3 at multiple Rockwell  computing centers
   giving each installation external control over Rockwell modifications
   JES3.
-
-  5.2   PROBLEM
+  5.2   PROBLEM
+        _______
0     Rockwell International maintains several large computing centers,
   of which use JES3. Periodically the Western Computing Center distribu
   a new version of JES3 to each  center.  This consists of accumulated
   maintenance plus Rockwell modifications.   Each center maintains modi
   cations to JES3.  Many of these modifications are common to all cente
   but some are not.   Further,  some  of the common modifications are u
   with different  internal parameters at  each center.   Each  center m
   thus examine  every new distribution and  tailor it to its  own requi
   ments.  This may  require a significant amount of  effort and consequ
   delay in implementation.
-
-
-
0                                   - 17 -
1
-
   5.3   OBJECTIVES
+  5.3   OBJECTIVES
+        __________
0     The Rockwell Installation Parameters (RIP)   table is a technique
   reducing the above  mentioned effort.   The objectives  of the techni
   are as follows:
0     1.  Identical source code, including all modifications,  should be
          maintained at all centers, and distributed by the WCC.
0     2.  It should be possible to enable or disable each modification.
0     3.  When applicable, each modification should be internally param-
          eterized to allow tailoring to each center's requirements.
0     4.  It should  be easy to enable  or disable modifications  and to
          change parameters without requiring  detailed knowledge of the
          modifications or of the RIP mechanisms.
0     5.  Parameters should be  modifiable without requiring a  JES3 hot
          start or warm start.
0     6.  Tailoring should not require reassembly of executable code, or
          of large complex data CSECTs.
0     7.  The overhead should be minimal (both execution time and amount
          of storage required).
0     8.  The coding effort required should be small.
-
   5.4   IMPLEMENTATION
+  5.4   IMPLEMENTATION
+        ______________
0     The Rockwell Installation Parameters (RIP)   consist of one page (
   in read only storage in CSA.   The RIP contains parameters which cont
   the behavior of Rockwell modifications. It consists of two sections.
   first section contains an enable/disable flag for each modification.
   second section contains constants which  are used as internal paramet
   by those modifications  which require them.   Each  center assembles
   own version of the RIP to meet its requirements.  A number of macros
   some executable code  interface with the table to meet  the above obj
   tives.
-
-
-
-                                   - 18 -
1
-
   5.4.1   Coding
+  5.4.1   Coding
+          ______
0     The first objective is the  most difficult.  Every Rockwell modifi
   tion must be  changed to use the RIP,  and  every center's modificati
   must be integrated into a common base.   The amount of coding effort
   system overhead for the RIP executable macros is small. The major eff
   is in identifying the appropriate use of them in existing modificatio
   Use of them in new code should require very little effort.
0     In order to use the RIP,  the  IATY#RIP macro must be expanded to
   the RIP DSECT.  The DSECT is required  by the IATX#IF macro,  and by
   code which is internally parameterized.
0     To implement the enable/disable feature,  each section of a modifi
   tion must be preceded by a macro call of IATX#IF.  IATX#IF generates
   line code  to test the RIP  flag which controls a  specific modificat
   and to branch around the modification code if the installation has di
   bled the modification.  Normally three instructions are generated (Lo
   Test under Mask,  and Branch on  Condition).   Optionally,  the Load
   struction may be  suppressed if a base  register for the RIP  is alre
   established.
0     An internal parameter is simply a  constant defined via a Define C
   stant instruction. Typically a Compare instruction would be used to m
   ify the behavior of  a modification based on the parameter  value set
   the installation.  Internal parameters are placed in the RIP rather t
   being buried in an executable load module or data CSECT along with ot
   data.   They are included in the RIP  by placing the Define Constant
   struction in module IATY#RID.   Relocatable  address constants cannot
   used, because the RIP is moved into CSA.
0     Addressability to  the RIP is obtained  via a macro call  of IATX#
   (IATX#IF can also be used--it uses IATX#RIP as an inner macro).   In
   JES3 address space a single Load instruction is generated to address
   RIP via the TVT.  Additional Load  instructions may be generated in s
   tasks or  subsystem interface routines to  address the RIP via  the S
   instead of the TVT.  The SSVT may be addressed directly, via the CVT,
   via a Main Processor Control table.
-
   5.4.2   Installation Control
+  5.4.2   Installation Control
+          ____________ _______
0     The RIP is assembled as module IAT#RIP.  Each center must assemble
   after specifying its own values for enable/disable flags and for para
   ters.  To simplify this process, two modules (IATY#RIF and IATY#RID)
   provided which are copy'd during the  assembly.   IATY#RIF consists o
   series of macro calls to IATY#RIM to disable specific Rockwell modifi
   tions.   IATY#RID consists  of internal parameters coded  as Define C
   stant and Equate Symbol instructions.
-
                                    - 19 -
1
-
      The RIP is placed automatically into  read only storage in CSA dur
   initialization.  A new copy may be  created by calling the RIPUPDAT D
   which will load it from the JES3 load module library. Alternatively,
   DC DSP may be used to modify the RIP directly in main storage.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 20 -
1
-
   5.5   SPECIFICATIONS
+  5.5   SPECIFICATIONS
+        ______________
0  5.5.1   IAT#RIP - RIP CSECT Assembly
+  5.5.1   IAT#RIP - RIP CSECT Assembly
+          _______ _ ___ _____ ________
0     IAT#RIP contains the assembler source code which expands the RIP a
   CSECT.  Each installation  must assemble IAT#RIP after  creating its
   version of modules IATY#RIF and IATY#RID.    There is no modifiable c
   in IAT#RIP itself.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                                    - 21 -
1
-
   5.5.2   IATX#IF - Test Mod Enable/Disable Status
+  5.5.2   IATX#IF - Test Mod Enable/Disable Status
+          _______ _ ____ ___ ______________ ______
0     The IATX#IF macro  tests a flag in the  Rockwell Installation Para
   ters table to determine whether or not to execute code associated wit
   Rockwell modification. IATX#RIP is used as an inner macro.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×       name                      name: symbol.
   ×
   ×   IATX#IF
   ×
   ×   modnum                         modnum: symbol.
   ×                                  Value range: SJ001-SJ999.
   ×
   ×   ,THEN=address                  address: RX-type address or regist
   ×   ,ELSE=address                  (R1)-(R15).
   ×
   ×       ,REG=(reg)                 reg: register (R1)-(R15).
   ×                                  Default: REG=(R1).
   ×
   ×       ,USING=NO                  Default: USING=NO.
   ×       ,USING=YES
   ×
   ×       ,ADDR=TVT                  Default: ADDR=TVT.
   ×       ,ADDR=SSVT
   ×       ,ADDR=MPC
   ×       ,ADDR=CVT
   ×       ,ADDR=RIP
   ×
   ×       ,WORK=(R0)                 workarea: symbol.
   ×       ,WORK=workarea             Default: none.
   ×
   ×       ,TVT=address               address: RX-type address.
   ×                                  Default: TVT addressability assume
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                          Figure 4:  IATX#IF Macro
-
   modnum
     specifies a Rockwell JES3 modification number in the range SJ001
     through SJ999.
0  THEN
     specifies the address of code to be executed if the installation ha
     enabled the modification.
0                                   - 22 -
1
-
   ELSE
     specifies the address of code to be executed if the installation ha
     disabled the modification.
0  REG
     specifies a register which is to be used for addressing the RIP.
     REG is passed to the IATX#RIP macro.
0  USING
     specifies whether or not a USING instruction is to be generated for
     the REG parameter. USING is passed to the IATX#RIP macro.
0  ADDR
     specifies the way the address of the RIP is to be obtained.  ADDR i
     passed to the IATX#RIP macro.
0  WORK
     specifies a work area for saving the register used to address the R
     This avoids destroying the value in the register specified by REG.
     register zero (R0) is specified, it will be destroyed.
0  TVT
     specifies the address of the TVT when addressability is not
     established for it. Valid only for ADDR=TVT.
-
-
-
-
-
-
-
-
-
-                                   - 23 -
1
-
   5.5.3   IATX#RIP - Addressability to the RIP
+  5.5.3   IATX#RIP - Addressability to the RIP
+          ________ _ ______________ __ ___ ___
0     The IATX#RIP macro provides addressability  to the Rockwell Instal
   tion Parameters table so that parameters within it can be used. This
   cro need not be used when the IATX#IF macro is used.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×       name                          name: symbol.
   ×
   ×  IATX#RIP
   ×
   ×       REG=(reg)                     reg: register (R1)-(R15).
   ×                                     Default: REG=(R1).
   ×
   ×       ,USING=YES                    Default: USING=YES.
   ×       ,USING=NO
   ×
   ×       ,ADDR=TVT                     Default: ADDR=TVT.
   ×       ,ADDR=SSVT
   ×       ,ADDR=MPC
   ×       ,ADDR=CVT
   ×       ,ADDR=RIP
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 5:  IATX#RIP Macro
-
-
-
-
-
-
-
-                                   - 24 -
1
-
   REG
     specifies a register which is to be loaded with the address of the
0  USING
     specifies whether or not a USING statement is to be generated for t
     register specified by REG.
0  ADDR
     specifies the way the address of the RIP is to be obtained.  TVT sp
   ifies that the RIP can be addressed via the TVT.   The TVT DSECT must
   defined and addressable.
0  SSVT specifies that  the RIP can be  addressed via the SSVT.    The S
   DSECT must be defined and addressable.
0  MPC specifies that the  SSVT can be addressed via the  MPC.  The MPC
   SSVT DSECTs must be defined. The MPC must be addressable.
0  CVT specifies  that the  SSVT can be  addressed via  the CVT.   The C
   JESCT, SSCVT, and SSVT DSECTs must be defined.
0  RIP specifies  that the  register specified by  REG has  previously b
   loaded with the address of the RIP.   No load instruction will be gen
   ated. This is primarily used via the IATX#IF macro.
-
-
-
-
-
-
-
-
-
-                                   - 25 -
1
-
   5.5.4   IATY#RIB - Enable/Disable Flag Construction
+  5.5.4   IATY#RIB - Enable/Disable Flag Construction
+          ________ _ ______________ ____ ____________
0     The IATY#RIB macro is used as an inner macro by IATY#RIP.   It gen
   ates the enable/disable flag names used  by macro IATX#IF,  and sets
   installation specified flag values when IATY#RIP is expanded as a CSE
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  IATY#RIB
   ×
   ×       TYPE=DSECT                   Default: TYPE=DSECT.
   ×       TYPE=CSECT
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 6:  IATY#RIB Macro
-
   TYPE
     specifies whether the RIP is being expanded as a DSECT or CSECT.
-
-
-
-
-
-
-
-
-
-                                   - 26 -
1
-
   5.5.5   IATY#RID - Internal Parameter Values
+  5.5.5   IATY#RID - Internal Parameter Values
+          ________ _ ________ _________ ______
0     The IATY#RID module contains all the internal parameter values in
   RIP.  It consists entirely of Define Constant and Equate Symbol instr
   tions.  When a Rockwell modification  is coded,  its internal paramet
   must be included in IATY#RID.  Each  installation should examine all
   parameters and  establish appropriate  values for  them.   Care  must
   taken to  allow sufficient length for  a parameter,  as  an installat
   must not change the length.
0     IATY#RID resides  in a JES3  macro library  and is copy'd  into ma
   IATY#RIP. It is assembled in module IAT#RIP.
-
-
-
-
-
-
-
-
-
-
-
-
-
-                                   - 27 -
1
-
   5.5.6   IATY#RIF - Specify Enable/Disable Flags
+  5.5.6   IATY#RIF - Specify Enable/Disable Flags
+          ________ _ _______ ______________ _____
0     The IATY#RIF module  specifies whether each Rockwell  modification
   to be  enabled or  disabled.   It  consists entirely  of macro  calls
   IATY#RIM.   Each installation should evaluate all Rockwell modificati
   and determine whether each one should be used.
0     IATY#RIF resides  in a JES3  macro library  and is copy'd  into ma
   IATY#RIP. It is assembled in module IAT#RIP.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-                                   - 28 -
1
-
   5.5.7   IATY#RIM - Status of a Modification
+  5.5.7   IATY#RIM - Status of a Modification
+          ________ _ ______ __ _ ____________
0     The IATY#RIM macro specifies whether a Rockwell modification is to
   enabled or disabled at the installation.  Each installation should sp
   ify its own values in module IATY#RIF.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  modnum                     modnum: symbol.
   ×                             Valid range: SJ001-SJ999.
   ×
   ×  IATY#RIM
   ×
   ×  use                         use: YES or NO.
   ×                              Default: YES.
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 7:  IATY#RIM Macro
-
   modnum
     specifies a Rockwell modification number from SJ001 to SJ999.
0  use
     specifies whether the specified modification is to be enabled (YES)
     disabled (NO).
-
-
-
-
-
-
-
0                                   - 29 -
1
-
   5.5.8   IATY#RIP - Generate RIP DSECT or CSECT
+  5.5.8   IATY#RIP - Generate RIP DSECT or CSECT
+          ________ _ ________ ___ _____ __ _____
0     The IATY#RIP macro  maps the Rockwell Installation  Parameters tab
   The IATY#RIP  DSECT must  be included whenever  the IATX#IF  or IATX#
   macros are  used.   Note  that symbols  SJ001 through  SJ999 and  SJ0
   through SJ999# are defined in the DSECT.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  IATY#RIP
   ×
   ×       TYPE=DSECT             Default: TYPE=DSECT.
   ×       TYPE=CSECT
   ×
   ×       ,ADDR=NONE             Default: ADDR=NONE.
   ×       ,ADDR=ALL              Note: any combination of parameters
   ×       ,ADDR=TVT                    may be specified in parentheses
   ×       ,ADDR=SSVT                   except NONE or ALL.
   ×       ,ADDR=MPC
   ×       ,ADDR=CVT
   ×       ,ADDR=JESCT
   ×       ,ADDR=SSCVT
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 8:  IATY#RIP Macro
-
-
-
-
-
-
-
-
                                    - 30 -
1
-
   TYPE specifies the type of data  area to be generated.   DSECT specif
   that a dummy section is to be created for addressing the RIP.
0  CSECT specifies that  a control section is to be  created for assembl
   the data in the RIP.
0  ADDR specifies the generation of DSECTs required to address the RIP.
   many operands as required may be specified.
0  NONE specifies no DSECTs are to be generated. This is the default, si
   the required DSECTs will generally be specified in the unmodified cod
0  ALL specifies all DSECTs (TVT, SSVT, MPC, CVT, JESCT,  SSCVT)  are to
   generated.
0  TVT (Transfer Vector Table)  specifies the TVT DSECT (IATYTVT)  is to
   generated.  The TVT is the normal means of accessing the RIP in the J
   address space.
0  SSVT (Subsystem Vector Table)  specifies the SSVT DSECT (IATYSVT)  is
   be generated.  The SSVT is the normal means of accessing the RIP in s
   system interfaces.
0  MPC (Main Processor Control Table) specifies the MPC DSECT (IATYMPC)
   to be  generated.   This may  be used to  address the SSVT  in subsys
   interfaces.
0  CVT (Communications Vector Table) specifies the CVT DSECT (CVT) is to
   generated.   This  may be used to  address the SSVT in  subsystem int
   faces.
0  JESCT (JES Control Table) specifies the JESCT DSECT (IEFJESCT)  is to
   generated.  This is required when the SSVT is addressed via the CVT.
0  SSCVT (Subsystem Communications Vector Table)  specifies the SSCVT DS
   (IEFJSCVT)  is to be  generated.  This is required when the  SSVT is
   dressed via the CVT.
-
-
-
-
-
0                                   - 31 -
1
-
   5.5.9   RIPUPDAT - Create New RIP Table
+  5.5.9   RIPUPDAT - Create New RIP Table
+          ________ _ ______ ___ ___ _____
0     RIPUPDAT is  a callable DSP  which loads a new  copy of the  RIP i
   CSA.   Typically,   new values  would be  specified in  members IATY#
   and/or IATY#RID,   then module IAT#RIP  would be reassembled  and lin
   into a JES3 load module library.  RIPUPDAT would then be called to pl
   the updated load module into CSA, overlaying the previous version.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 32 -
1
-
   5.6   EXAMPLES
+  5.6   EXAMPLES
+        ________
0  5.6.1   Specifying Status
+  5.6.1   Specifying Status
+          __________ ______
0     Specifying Enable/Disable Status of Modifications
0     Module IATY#RIF could contain the following macro instructions:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×       SJ123    IATY#RIM NO
   ×       SJ456    IATY#RIM NO
   ×       SJ789    IATY#RIM YES
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                       Figure 9:  IATY#RIF Data Csect
-
0     This would  disable Rockwell modifications  SJ123 and  SJ456.   SJ
   would be enabled,  although this is redundant.   All other modificati
   would be  enabled by default.   Note  that there are no  other assemb
   language statements in the module, although comments could be include
-
-
-
-
-
-
-
-
0                                   - 33 -
1
-
   5.6.2   Specifying Parameters
+  5.6.2   Specifying Parameters
+          __________ __________
0     Specifying Internal Parameters
0     Module IATY#RID could contain the following instructions:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×       EXAMPLE1 DC    CL8'ABC'
   ×       EXAMPLE2 DC    F'123'
   ×       EXAMPLE3 DC    A(EXAMPLE2-EXAMPLE1)  NON-RELOCATABLE
   ×       EXAMPLE4 DC    X'FF'
   ×       EXAMPLE5 EQU   X'80'
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                      Figure 10:  IATY#RID Data Csect
-
0     Note again that  there are no other assembler  language statements
   the module.
-
-
-
-
-
-
-
-
-
                                    - 34 -
1
-
   5.6.3   Testing Status
+  5.6.3   Testing Status
+          _______ ______
0     Testing Enable/Disable Status of a Modification
0     The following  code represents the most  typical case of  testing
   status of a modification:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×           ...
   ×           IATY#RIP                    MAP THE RIP
   ×           ...
   ×           IATX#IF SJ123,ELSE=NOSJ123  TEST MOD STATUS
   ×  *        CODE FOR MODIFICATION SJ123 FOLLOWS
   ×           ...
   ×  *        END OF CODE FOR SJ123
   ×  NOSJ123  DS  0H                      BRANCH HERE IF MOD DISABLED
   ×           ...
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 11:  RIP Example 1
-
-
-
-
-
-
-
-
-
0                                   - 35 -
1
-
   5.6.4   Using Internal Parameter
+  5.6.4   Using Internal Parameter
+          _____ ________ _________
0     Using an Internal Parameter
0     The following is a simple example of using an internal parameter:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×           ...
   ×           IATY#RIP                    MAP THE RIP
   ×           ...
   ×           IATX#RIP                    GET RIP ADDRESSABILITY
   ×           CLC   EXAMPLE1,SAMPLE1      CHECK INTERNAL PARAMETER
   ×           BC    EQ,TEST1
   ×           DROP  R1                    DROP DEFAULT BASE REGISTER
   ×           ...
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 12:  RIP Example 2
-
-
-
-
-
-
-
-
-
-
                                    - 36 -
1
-
   5.6.5   Complex Example
+  5.6.5   Complex Example
+          _______ _______
0  A More Complex Example
0  The following example combines testing the status of a modification w
   the use of an internal parameter:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×           ...
   ×           IATY#RIP                    MAP THE RIP
   ×           ...
   ×           IATX#IF SJ456,ELSE=NOSJ456,REG=(R9),USING=YES
   ×  *                                    TEST MOD STATUS AND
   ×  *                                    GET RIP ADDRESSABILITY
   ×  *        CODE FOR MODIFICATION SJ456 FOLLOWS
   ×           ...
   ×           TM    EXAMPLE4,EXAMPLE5     CHECK INTERNAL PARAMETER
   ×           BC    ALLON,TEST2
   ×           ...
   ×           DROP  R9                    DROP RIP BASE REGISTER
   ×  *        END OF CODE FOR SJ456
   ×  NOSJ456  DS    0H                    BRANCH HERE IF MOD DISABLED
   ×           ...
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                      Figure 13:  RIP Complex Example
-
-
-
-
-
-
-
0                                   - 37 -
1
-
   5.6.6   Example using WORK
+  5.6.6   Example using WORK
+          _______ _____ ____
0     The following  example shows the use  of the WORK parameter  to av
   destroying the contents of any registers except register zero.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×           ...
   ×           IATY#RIP                    MAP THE RIP
   ×           ...
   ×           IATX#IF SJ789,ELSE=NOSJ789,WORK=(R0)  TEST MOD STATUS
   ×  *        CODE FOR MODIFICATION SJ789 FOLLOWS
   ×           ...
   ×  *        END OF CODE FOR SJ789
   ×  NOSJ789  DS  0H                      BRANCH HERE IF MOD DISABLED
   ×           ...
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                     Figure 14:  RIP using WORK Example
-
-
-
-
-
-
-
-
-
-
                                    - 38 -
1
-
-
-                                 Chapter 6
+                                 Chapter 6
0                            INTRO TO VM TESTING
+                            INTRO TO VM TESTING
-     VM is run in the WCC on a 370/158 AP with 6MB of storage or on a 1
   4341M2.   It is used  to test new releases of software  and to check
   system modifications prior to being placed into production.
0     To sign  up for a  VM test slot,    sign out a  slot on the  VM ch
   board.  On the 158 there are 4 MVS  id's for VM testing,  however we
   never to have more than 3 MVS test systems active at any one time due
   performance considerations.  On the 4341 the only MVS id is MVS.
0     The datasets of most interest for VM testing are shown in Table 3.
-
-  ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×
   ×  SYS1.PARMLIB           AVLIB3  * Parmlib for VM MVS Only
   ×  SYS1.PROCLIB           AVLIB3  * Proclib for VM MVS Only
   ×  SYS1.SYSPARM           AVLIB3  * Sysparm for VM MVS Only
   ×  JES3.DRVM.CNTL                 * Disk Reader for VM JES3 Only
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
                                   TABLE 3
0                          MVS VM Testing Datasets
-
-
-
-
-
0                                   - 39 -
1
-
   6.1   MVS VM TESTING
+  6.1   MVS VM TESTING
+        ___ __ _______
-       To LOGON onto VM:
           1. depress enter to clear the VM logo
           2. enter LOGON MVSx MVS
0       Insure that no volumes are missing - you will get a message if
        any are.
0       Issue #CP SP CONS STA to spool your console log.
0       If you are using the 4341 then you must:
           a) issue #CP Q DA AUMVSF
              then issue #CP ATT xxx * 323  where xxx is the address fro
              the prior query.
           b) issue #CP Q DA AUCATF
              then issue #CP ATT xxx * 324  where xxx is the address fro
              the prior query.
0       You are now ready to IPL MVS - to do so enter:
          #cp I 333 (323 on the 4341)
0       Within a few minutes you should receive the following message:
        IEA101A SPECIFY SYSTEM PARAMETERS ...
0       Your response should be similar to:
          r 00,SYSP=VM  (optionally ,CLPA)
0       You can change the MLPA, Linklist, APF list, Nucleus, etc. with
        this reply.
0       You will then be prompted to enter the master catalog parameter,
        depress enter unless you wish to change the master catalog.
        (The message is IEA347A SPECIFY MASTER CONSOLE)
0       You will now receive a lot of IEA301I and IEA363I messages which
        can be ignored.
0       You will now receive message:
        IEA877A  SPECIFY FULL DASD SYS1.DUMP DATSETS ....
        reply:
        enter
        or
        R 00,DA=(xx,yy)     where xx and yy = the full dumps you wish
                            to have emptied.
0       The next prompt is IFB010D ENTER "IPL REASON, SUBSYSTEM ID" OR "
0       Your response should be:
        R 00,U
-                                   - 40 -
1
-
        To save your system so that you do not have to re-IPL you can
        enter QUIESCE which will stop MVS.  You should then enter
        #CP SAVESYS MVSx.  This will save your current system for use
        the next day or the next time that VM is up.
0       To bring up a saved system - log onto VM and enter I MVSx.
        Then enter #CP SYSTEM RESTART and you are back where you were.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 41 -
1
-
   6.2   JES3 VM TESTING
+  6.2   JES3 VM TESTING
+        ____ __ _______
0  NOTE: For JES3 1.3.1 Testing see Section 6.2.3
0       You are now ready to start JES3.
0       To do so enter:
        S JES3,Q=VM
0       Check with the JES3 group if you wish any changes to the standar
        JES3 system.
0       You will receive 3 prompts for JES3 initialization.
0       The first prompt is:
        IAT3011 SPECIFY JES3 START TYPE
        01 IAT3011 (L H HA W WA OR C)
0       You should normally respond with C for cold start as this is the
        fastest.
        ex.  R 01,C
0       The second prompt is:
        02 IAT3033 CONFIRM JES3 COLDSTART REQUEST (U)
0       Reply with R 02,U
0       The third prompt is for the INITDECK and is:
        03 IAT3012 SELECT JES3 INISH ORIGIN (N M= U=), ...
0       The normal response is R 03,M=VM
0       JES3 is now on its way to initialization.
0       After some time you will receive message:
        IAT3100 JES3 x.x.x SYSTEM COLDSTART ON yy.ddd AS L
0       This indicates that the coldstart has been successfully complete
0       You should now enter:
        *S JSS
0       This will complete the initialization of JES3.
0       You must now enter:
        *V L,ON  to vary cpu L online to JES3
0       Message IAT2645 ****** L    CONNECT COMPLETE ******
        indicates that you are ready to begin processing.
-
0                                   - 42 -
1
-
        If you have any sysout be sure that all output has a DEST of LOC
        You may receive message:
        IAT7030 jobname (job#) on WCC1#00B (00B), SETUP F=STANDARD, ..
0       This indicates that JES3 wants to start writer 00B, you should
        enter:
        *S 00B to start the output writer.
-
-
-  6.2.1   JES3 Commands
+  6.2.1   JES3 Commands
+          ____ ________
0       Some common JES3 commands are:
0       *I J/jobname   - inquire about a job
0       *F J/job#,C    - cancel a job
0       *F J/job#,p=xx - change a job's JES3 priority
0       NOTE:  All JES3 commands are prefixed by an * or 8.
0              For a complete list of JES3 commands see SX23-0007
-
-
-
-
-
-
-
-
0                                   - 43 -
1
-
   6.2.2   Global-Local JES3
+  6.2.2   Global-Local JES3
+          ____________ ____
-
      1.  Preparation
0     2.  Note that your global-local must both be 3033's if you are us-
          ing the standard VM IPL volume.
0         a) Insure that AUJSQ0 is mounted and available to VM.
0         b) Check the JES3 initdeck JES3.PARMLIB(JES3IN00) to determine
             the CTC addresses for your test.
0         c) Do ISPF browse F DEVICE 1
0         d) Find JNAME= cpu you desire and then
0         e) Determine the  CTC address that  connects to the  local you
             are bringing up.   NOTE:  It is the same in both directions
             today but might change.
0         f) Signup for 2 MVS VM id's.
0         g) Determine the CPUID  for your global and for  your local so
             that you can set the cpuid prior to ipl'ing MVS.
0     3.  Logon to 1 MVS VM system.
0     4.  Insure  that AUJSQ0  is available  to  your VM  MVS system  as
          read/write (RW).
0         a) If not  then issue #CP ATT  xxx SYSTEM AUJSQ0 where  xxx is
             the address of AUJSQ0.   The address is determined by issu-
             ing a #CP Q DASD AUJSQ0.
0         b) Issue #CP LINK FULLPROD 120 320 MW WT for the first link or
             #CP LINK FULLPROD 120 320 MW  MULT if another id has linked
             to AUJSQ0.
0     5.  Logon to 2nd MVS VM system.
0         a) Issue #CP SET  CPUID xxxxxx,  where xxxxxx is  the CPUID of
             planned local.
0         b) Issue  #CP LINK  FULLPROD 120  320  MW MULT  for access  to
             AUJSQ0.
0         c) Issue #CP DEF xxx CTC for both MVS systems
0         d) From 1 of the systems issue:  #CP COUPLE xxx MVSy zzz
-                                   - 44 -
1
-
             i)    where xxx = the CTC address of the MVS system you are
                   on
0            ii)   y   = the MVS id of the other MVS system
0            iii)  and   zzz = the CTC address of the other MVS system
0     6.  IPL normally as documented under MVS VM TESTING.
0     7.  Issue S JES3,Q=TEST and bring  up your global processor first.
          Do a COLD start (reply C).
0     8.  Issue *S JSS after the system is up.
0     9.  Issue *V x,ON where x = the cpuname of the global.
0     10. When the  global processor is up,   then IPL the local  on the
          other MVS VM system.
0     11. Issue S JES3,Q=TEST and reply L to bring it up as a local.
0     12. Issue *S JSS after the system is up.
0     13. On the global processor: *V x,ON where x is the cpuname of the
          local.
0     14. Verify that the  JES3 classes you need are turned  on for both
          the global and local.
0     15. Contact someone in the JES3 group if you have any questions or
          problems.
-
-
-
-
-
-
-
0                                   - 45 -
1
-
   6.2.3   SP 1.3.1 JES3 VM Testing
+  6.2.3   SP 1.3.1 JES3 VM Testing
+          __ _ _ _ ____ __ _______
0     JEST has been established  as a test proc for JES3  and requires t
   MVS be IPL'd with SYSP=J3 to allow JEST to be a subsystem.
0     The default MLPA parameter for SYSP=J3 is MLPA=J3 and is required
   JES3 1.3.1 testing.
0     If you do not use the JEST procedure then you will have to start J
   as follows:
0     IPL MVS with MLPA=J3 and LNK=(00,XP or XB or XT or any combination
0     S JES3,Q=VM,SLOAD=AVJESX,PROD=PROD131,TEST=TEST131,LOAD1=, etc
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  00    Default MVS Linklist Libraries
   ×  XP    JES3 1.3.1 Production Linklist Library
   ×  XT    JES3 1.3.1 Test/Prod  Linklist Library
   ×  XB    JES3 1.3.1 Beta Test  Linklist Library
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
                                   TABLE 4
0                        JES3 1.3.1 LNKLSTxx Options
-
0     or for a Global - Local test:
0     S JES3,Q=TEST,SLOAD=AVJESX,PROD=PROD131,TEST=TEST131,LOAD1=, etc
-
   NOTE: See the JES3 PROC on page 91.
-
-
-
-
-                                   - 46 -
1
-
   6.2.4   Viewing the INITDECK Listing on VM
+  6.2.4   Viewing the INITDECK Listing on VM
+          _______ ___ ________ _______ __ __
0     When JES3 comes up it places the INITDECK listing into a disk data
   on a minidisk.   To  view the listing you need to log onto  a CMS id
   execute the OSLIST or OSLISTX CMS EXEC.
-
-  6.2.4.1   OSLIST
+  6.2.4.1   OSLIST
-     This EXEC will copy the INITDECK into a CMS file named INITDECK LI
   ING A1 and will write the file to your terminal.
0     To execute OSLIST enter:
0  OSLIST  xxxx          where xxxx = the MVS VM id
                                      or TEST if you used Q=TEST
-
0  6.2.4.2   OSLISTX
+  6.2.4.2   OSLISTX
-     This EXEC will copy the INITDECK into a CMS file named INITDECK LI
   ING A1 and will then put you into XEDIT to view the file.
0     To execute OSLISTX enter:
0  OSLISTX xxxx          where xxxx = the MVS VM id
                                      or TEST if you used Q=TEST
-
-
-
-
-
-
0                                   - 47 -
1
-
   6.3   VM COMMANDS
+  6.3   VM COMMANDS
+        __ ________
0  All VM commands should be preceded by a #CP to indicate that you
   are entering a VM command and not a CMS or MVS command.
0  Some of the more common VM commands are:
0  #CP Q N  - display who is logged onto VM
0  #CP IND  - display current CPU utilization
0  #CP IND USER - display the current CPU usage for your session
0  #CP D P   - display the current PSW
0  #CP D G   - display the current general register contents
0  #CP SET PFxx IMM command - set a PFK with a VM or MVS command to
                              be executed immediately
0  #CP Q PF                 - displays current PFK settings
0  #CP SET PFxx command     - set a PFK with a VM or MVS command to
                              be executed after allowing modification
0  #CP SPOOL CONSOLE START - to spool all VM, MVS and JES3 console
                             messages to hardcopy
0  #CP SPOOL 00B cmsid     - to spool all sysout to your cms id
0  #CP SPOOL 00B TO SYSTEM - to spool all sysout back to hardcopy
0  #CP SET CPUid 012345    - change cpu serial number
0  #CP Q CPUid             - query current cpu serial number
0  #CP DEF CTC xxx         - define a virtual CTC
0  #CP Q V xxx             - find what is on virtual address xxx
0  #CP Q DASD vvvvvv       - find out where vol vvvvvv is mounted
0  #CP COUPLE xxx userid yyy - connects CTC xxx on current userid
                               to other userid's CTC yyy
0  #CP TRace (SVC,I/O,PROgram,EXTernal,PRIV,SIO,CCW,BRanch,INSTruct,
              ALL,CSW) (OFf/RUN)  - to trace to console any or all
                                    of these events
-
-                                   - 48 -
1
-
   6.4   SAVESYS
+  6.4   SAVESYS
+        _______
0     If you want to use the same MVS system on your next VM session and
   not need  to change  any IPL  parameters you  can save  the current
   system intact.   You will want to reserve your VM logonid to insure t
   the paging and spool packs will not be altered.  To do this :
0     1.  Issue QUIESCE  - then wait for a wait state message
0     2.  Issue #CP SAVESYS MVSx  - where x = your VM id (1-4)
0     3.  Issue #CP LOGOFF when the SAVESYS is completed
0     4.  Recover from a SAVESYS:
0     5.  Logon to VM
0     6.  Issue IPL MVSx - where x = your VM id
0     7.  You are now exactly where you were when you did the SAVESYS.
-
-
-
-
-
-
-
-
-
-
-
                                    - 49 -
1
-
   6.5   TSO UNDER VM
+  6.5   TSO UNDER VM
+        ___ _____ __
0     To run TSO under VM :
0     1.  Start VTAM. (See VTAM under VM)
0     2.  Issue S TSO
0         a) After TSO starts,   you should have the  VTAM salutation on
             the terminal attached as D50, to LOGON enter YAVMTSO.
0         b) After TSO  is up issue  EX 'AOST.CLIST(VMLOGON)' to  set up
             the  correct TSO  Prefix.   See  separate documentation  on
             VMLOGON in this document for further information.
0         c) NOTE:  The prefix of AVMTSO is required so that you can al-
             locate datasets and  use ISPF plus.   The  index will cause
             all new  allocations to go to  AVDIV1 so please  be careful
             what you allocate.
0         d) Important NOTE:   You cannot access  either your TSO or RAT
             volumes so if you want any of these datasets then copy them
             to AVDIV1 with index AVMTSO.
0     3.  NOTE: doing a #CP SAVESYS with NET active could cause problems
          when recovering due to changes in the VTAMLST.
-
-
-
-
-
-
-
-
-
                                    - 50 -
1
-
   6.6   VTAM UNDER VM
+  6.6   VTAM UNDER VM
+        ____ _____ __
0     To run VTAM under VM:
0     1.  If only Cross Domain access is needed skip the first 3 steps.
0     2.  Find a VM terminal.
0     3.  Issue a #CP DISABLE xxx    where xxx = the terminal address
0     4.  Issue a #CP ATT  xxx * D5x   where xxx =  terminal address and
          D5x is D50-D5F
0     5.  If Cross Domain  sessions to WCC1 & WCC2 are  required issue a
          #CP ATT 018 * 018  to get 3705#A
0     6.  IPL MVS
0     7.  or
          Issue V CH(D),ONLINE
          Issue V PATH(D5x),ONLINE
          Issue V D5x,ONLINE
          Issue V PATH(018),ONLINE
          Issue V 018,ONLINE
0     8.  Then verify that AVTSS2 is online to JES3
0     9.  To start VTAM
0         a) Issue S NET,,,(COLD,LIST=VM)
0         b) Then wait till NET starts
0         c) Issue Start commands for desired VTAM applications
0     10. If access  to other  computing centers is  needed then  do the
          following additional VTAM commands:
0         a) V NET,ACT,ID=CDRMDEF
0         b) V NET,ACT,ID=CDRSC
0     11. The terminal node names are YL#D5xVM.
0     12. NOTE: doing a #CP SAVESYS with NET active could cause problems
          when recovering due to changes in the VTAMLST.
-
-
0                                   - 51 -
1
-
   6.7   CMS/XEDIT
+  6.7   CMS/XEDIT
+        _________
0     To utilize CMS/XEDIT you must first have  a CMS user id and passwo
   obtained from the VM system programmer.
0     Now that you have your user id, you are ready to log on, to do so
   ter the following:
0     1.  Press enter to clear the VM logo
0     2.  Enter LOGON userid password
0     3.  I CMS  - IPL CMS
0     4.  Press enter to complete the IPL of CMS
-
-
-
-
-
-
-
-
-
-
-
-
-                                   - 52 -
1
-
   6.7.1   CMS commands
+  6.7.1   CMS commands
+          ___ ________
0     At this point in VM/CMS may  of the following CMS commands may be
   ecuted:
0    ACCESS    DESBUF   FETCH     HX        MAKEBUF   RENAME    STATE
     AMSERV    DISK     FILEDEF   INCLUDE   MODMAP    RO        SVCTRACE
     ASSEMBLE  DLBL     FINIS     LABELDEF  MOVEFILE  RESERV    SYNONUM
     ASSGN     DOSLIB   FORMAT    LISTDS    OPTION    RT        TAPE
     CMSBATCH  DOSLKED  GENDIRT   LISTFILE  OSRUN     RUN       TAPEMAC
     COMPARE   DROPBUF  GENMOD    LISTIO    PRINT     SENTRIES  TAPPDS
     CONWAIT   DSERV    GLOBAL    LKED      PSERV     SET       TXTLIB
     COPYFILE  EDIT     HB        LOAD      PUNCH     SO        TYPE
     CP        ERASE    HELP      LOADLIB   QUERY     SORT      UPDATE
     DDR       ESERV    HO        LOADMOD   READCARD  SSERV     XEDIT
     DEBUG     EXEC     HT        MACLIB    RELEASE   START
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 53 -
1
-
   6.7.2   CMS HELP
+  6.7.2   CMS HELP
+          ___ ____
0     To learn more about the CMS commands and their use, enter the foll
   ing:
0      HELP MENU      -  displays a menu of the above command and allows
                         you to selectively view them.
0      HELP CMS cmd   -  where cmd is the CMS command you wish to view.
                         This HELP command allows you to view a particul
                         CMS command selected form the list above.
0      HELP HELP      -  displays information on how to use the CMS HELP
                         facility, its syntax, keywords, operands, and
                         options.
-
-
-
-
-
-
-
-
-
-
-
-
-                                   - 54 -
1
-
   6.7.3   XEDIT
+  6.7.3   XEDIT
+          _____
0     Use the CMS XEDIT command to invoke the editor to create, modify,
   manipulate CMS disk files. The format of the XEDIT command is:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  XEDIT fn ft fm -  where fn is file name (any 1-8 character name),
   ×                    ft is file type (any 1-8 character name), and fm
   ×                    is file mode (optional in most cases).
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                          Figure 15:  XEDIT Syntax
-
-
0  ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×
   ×                            XEDIT my data
   ×
   ×                                  or
   ×
   ×                              X my data
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 16:  XEDIT Example
-
0     Once the editor has been invoked,  you may execute any of the foll
   ing XEDIT subcommands:
-
-
-
0                                   - 55 -
1
-
   6.7.3.1   XEDIT subcommands
+  6.7.3.1   XEDIT subcommands
0    ADD       CMS      DOWN      JOIN      OVERLAY   REPEAT    STACK
     ALTER     CMSG     DUPLICAT  LEFT      PARSE     REPLACE   STATUS
     BACKWARD  CMSXEDIT EMSG      LOAD      POWERINP  RESET     TOP
     BOTTOM    COMMAND  EXPAND    LOCATE    PRESERVE  RESTORE   TRANSFER
     CANCEL    COMPRESS FILE      LOWERCAS  PURGE     RIGHT     TYPE
     CAPPEND   COPY     FIND      MACRO     PUT       SAVE      UP
     CDELETE   COUNT    FINDUP    MODIFY    PUTD      SCHANGE   UPPERCAS
     CFIRST    COVERLAY FOWARD    MOVE      QUERY     SET       VMFDEOPT
     CHANGE    CP       GET       MSG       QUIT      SHIFT     VMFOPT
     CINSERT   CREPLACE HELP      NEXT      READ      SORT      XEDIT
     CLAST     CURSOR   HEXTYPE   NFIND     RECOVER   SOS
     CLOCATE   DELETE   INPUT     NFINDUP   RENUM     SPLIT
-     CMS commands are  entered on the command line indicated  by the la
   arrow (===>),  after typing a subcommand on the command line,  you pr
   the enter key to execute the command.
0     Prefix subcommands are  one-character commands used to  perform ba
   edit task on a particular line.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  Prefix subcommands
   ×
   ×            A  (add)            C  (copy
   ×            D  (delete)         F  (following)
   ×            "  (duplicate)      P  (preceding)
   ×            M  (move)           /  (set current line)
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                      Figure 17:  XEDIT Line Commands
-
0     Prefix subcommands are entered over  any position of the five-char
   ter prefix area on one or more lines. When the enter key is pressed,
   of the prefix subcommands that have been  typed on the screen are exe
   ted.
0     The following are brief  examples of using XEDIT to create  a new
   file browse or modify an existing file,   and examine output from an
   test system.
-
                                    - 56 -
1
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×                           Browse or modify
   ×
   ×                              XEDIT my file
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                  Figure 18:  XEDIT Browse/Modify Example
-
      You can use your pf keys to scroll up, down, left,  right,  enter
   commands to locate or manipulate data,  or modify the existing file.
   the  file was  modified and  you wish  to save  the modifications  en
   "file", if not, enter "qq".
0     To create a new file, enter the following:
0     1.  XEDIT my file
0     2.  INPUT
0         a) On command  line,  this  will position  your cursor  on the
             first input line. Continue entering data line by line until
             file is complete.
0     3.  Enter
0         a) This will position cursor back to command line
0     4.  FILE
0         a) On command line,  this will store  newly created file the A
             disk.
-
-
-
-
-
-                                   - 57 -
1
-
   6.7.4   Output spool
+  6.7.4   Output spool
+          ______ _____
0     Examine output spooled to  a CMS userid from an MVS  test system,
   entering the following commands:
-     1.  Q R
0         a) Query virtual  reader,  this will  display any files  to be
             read in.   If multiple files  exist,  enter "order  r ####"
             (#### is file no.  ), This will position file at top of the
             reader stack.
0     2.  READ fn ft
0         a) Where fn is file name (any  1-8 character name),  and ft is
             file type (any  1-8 character name).   This  will read your
             file onto your A disk.
0     3.  XEDIT fn ft
0         a) Edit the file just read in,  use pf keys,  to scroll or CMS
             commands to locate specific data.
0     4.  QQ
0         a) On command line, to terminate edit session.
-
   6.8   SNA RJP TESTING UNDER VM
+  6.8   SNA RJP TESTING UNDER VM
+        ___ ___ _______ _____ __
-     1.
      2.  BRING UP JES3
0     3.  SWITCH 3705 #8 TO VM MACHINE (2914 #1 - SWITCH D)
0     4.  RESET AND LOAD THE 3705
0     5.  ENTER FOLLOWING VM COMMANDS
0         a) VARY ONLINE 017
0         b) ATTACH 017 TO MVSX AS 017
0     6.  ENTER FOLLOWING MVS COMMANDS
0         a) VARY 017,ONLINE
0         b) S NET,,,(COLD,LIST=58),V=A
-                                   - 58 -
1
-
      7.  CALL AND START SNARJP FOR TERMINAL RM210
0     8.  ENTER FOLLOWING COMMANDS ON THE PRODUCTION GLOBAL SYSTEM
0         a) V NET,ACT,ID=CDYAJESV
0     9.  ENTER FOLLOWING COMMANDS ON THE 3777 TERMINAL
0         a) V PR1,OFFLINE AND WAIT FOR PRINTER TO QUIESCE
0         b)   B. PRESS SSCM AND ENTER LOGOFF
0         c)   C. PRESS TERM REQ AND ENTER E,LOGONVM
0     10. THE FOLLOWING INQUIRIES WILL DOUBLE  CHECK WHAT MUST BE ACTIVE
          (D NET,ID=)
             . YN8        -NCP ON 3705 #8
             . YXG
             . CDYAJES3
             . CDYN7      -RM210 LUS AS CROSS DOMAIN RESOURCE
             . YXL        -CDRM OF SYSTEM L MACHINE
             . YT802AY7   -3705 #8 LINE NAME
             . YT7039Y8   -3705 #7 LINE NAME (SYSTEM L)
0     11. COMMANDS  TO STOP/START  A LINE:   (V  NET,INACT,F,ID=)  /  (V
          NET,ACT,ID=)
0     12. TO RETURN TERMINAL BACK TO PRODUCTION
0         a) PRESS SSCM AND ENTER LOGOFF
0         b) PRESS TERM REQ AND ENTER E,LOGON
0         c) V PR1,ON
0         d) S PR1
-
-
-
-
-
-                                   - 59 -
1
-
-
-                                 Chapter 7
+                                 Chapter 7
0                          SNA RJP TESTING UNDER VM
+                          SNA RJP TESTING UNDER VM
-     1.  IPL the MVS id on the 4341.
0     2.  Bring up JES3.
0     3.  If 3705 #A has not been attached  to the MVS id by the profile
          exec, then the following steps must be executed:
0         a) #CP VARY ON 016         Vary on #A to VM
0         b) #CP ATT 016 * 018
0         c) V 018,ONLINE            Vary on #A to MVS
0     4.  S NET,,,(COLD,LIST=VM)      Call VTAM
0     5.  *X SNARJP                   Call SNA RJP
0     6.  *S SNARJP,T=RM210           Start the work station
0     7.  The 3777  terminal on  the east end  of the  7th floor  is now
          needed for testing.    Paul Judd at X2518 should  be called to
          approve the test time.
0     8.  RM304 must be logged off the production system.
0         a) Press  APPL REQ,   type *V  PR1,OFF  and hit  EOM Wait  for
             printer to quiesce if it was active.
0         b) Press SSCP REQ,   type LOGOFF and hit EOM.    Wait for VTAM
             messages to stop.
0     9.  Now sign on RM210.
0         a) If the  LOGONVM procedure  exists,  press  TERM REQ,   type
             E,LOGONVM and hit EOM
0         b) To logon with using the procedure, press SSCP REQ, type LO-
             GON APPLID=YAJES3VM,DATA='RM210'
0         c) To add  or change the  LOGONVM procedure,  press  TERM REQ,
             type SSCP,  and hit EOM.   On  the NAME= line type LOGONVM.
-                                   - 60 -
1
-
             Press -->× and type A for add  or C for change and hit EOM.
             Type LOGON APPLID=YAJES3VM,DATA='RM210' and hit EOM
0         d) Logon is complete when message IAT2810 is displayed.
0     10. To talk to JES3,  press APPLID REQ,  type your command and hit
          EOM.
0     11. Disk reader members OVERFLOW and SNARJP can be called from the
          JES3 console to create test jobs.   The jobs issue messages to
          document their use.
0     12. To end your test,
0         a) Press APPL REQ, type *V PR1,OFF  and hit EOM
0         b) Press SSCP REQ, type LOGOFF, and hit EOM.
0     13. To sign RM304 back on,
0         a) Press TERM REQ, type E,LOGON  and hit EOM
0         b) After IAT2810, press APPL REQ, type *V PR1,ON and hit EOM
0         c) If a job needs setup on PR1,   press APPL REQ,  type *S PR1
             and hit EOM
0         d) If there is no output to  be printed,  setup the printer by
             pressing APPL  REQ,  typing *X  WTR,OUT=PR1,T and  hit EOM.
             Respond to the setup message as in step 13.c.
0     14. Key Board Description
0         a) APPL REQ - pressed before entering a JES3 command
0         b) TERM REQ - pressed before entering  a command to the termi-
             nal, examples - E,LOGON , SSCP , HOSTIN , HOSTOUT.
0         c) SSCP REQ - pressed before entering a VTAM command,  usually
             LOGOFF
0         d) EOM      - pressed to enter a command or response.
0         e) CNCL KB  - pressed to cancel a command or procedure.
0         f) OPER ACTN- pressed if the operator action light comes on.
0         g) BKSP CHAR- pressed to back space the cursor.
0         h) PAGE FWD - pressed to page console messages forward.
-
                                    - 61 -
1
-
          i) PAGE BACK- pressed to page console message back.  Read from
             spool.
-
   7.1   RJP TESTING UNDER VM
+  7.1   RJP TESTING UNDER VM
+        ___ _______ _____ __
0  The following  is the procedure  for bringing up  JPITTS.   Instructi
   used under VM are preceded by **.
0     1.  Secure   3705 #8, the test 3705 by the service control center.
0         a) Ask someone in service control if it is being used,  and if
             not,  ask to have it.   And make sure it is switched to the
             "b" position.   (Dolan will see that  it is switched to "b"
             pos.)
0         b) Get someone in master console area to switch 3705 #8 to the
             desired cpu,  L in this example.   This is done in 3814 #10
             cu 2 ch 3
0     2.  Obtain the wrap line from ibm or make sure the wrap line is in
          the 3705 #8.   It is a single  piece of hardware with a single
          plug,  that goes on  the b side of the 3705  #8 connecting 0B6
          and 0B7.
0         a) Put the wrap line in place.
0     3.  Depress load on the 3705 #8.
0         a) Load 3705 #8 with the emulator.  S EPLOAD,ID=8,DS8=,LA8=017
             did work for us.   This command is entered from an MVS con-
             sole,  or with  T L preceding the command from  a JES3 con-
             sole.
0     4.  Have master console operator switch  0B0-0B7 on 3814#10 to the
          VM machine  (G).
0     5.  Logon to VM system.
0         a) Issue #CP VARY ONLINE 0B6
0         b) Issue #CP VARY ONLINE 0B7
0         c) Issue #CP ATT 0B6 MVSx 0B6
0         d) Issue #CP ATT 0B7 MVSx 0B7
0     6.  IPL MVSx system
0     7.  Bring up JES3
-                                   - 62 -
1
-
      8.  Enter *X RJP
0         a) To find the status of 0B6 and 0B7:  Enter:  UCB 0B6,0B7
0         b) And if they are offline-- Enter:  V (0B6,0B7),ONLINE
-
   7.1.1   Starting RJP
+  7.1.1   Starting RJP
+          ________ ___
0     9.  Enter *S RJP,L=LINE0B6
0     10. Enter *V 00B,ON,L
0     11. Enter *V 00C,ON,L
-
   7.1.2   Starting JPITTS
+  7.1.2   Starting JPITTS
+          ________ ______
0     12. Enter s JPITTS,0B7
0         a) This will cause the terminal program to start.   The termi-
             nal program  will initialize and  issue a message  to enter
             the terminal id.
0     13. Reply to it by:  R nn,RM090
0         a) The terminal program will initialize and establish communi-
             cations with RM090.
0     14. Enter F  JPITTS,S,PR1,00B  this will  allocate printer  00B as
          RM090PR1.
0         a) Enter R nn,PN to message IEC123D 00B,SPECIFY UCS PARAMETER.
0     15. Enter F  JPITTS,S,RD1,00C  this  will allocate  reader 00C  as
          RM090RD1.
0     16.
      17. Read your input stream from CMS.
0         a) Log on to your CMS id.
0         b) Issue #CP SP PUN MVSx  where MVSx is your MVS id.
0         c) Issue PUN xxxxxx
0            i)    where xxxxxx is  the name of the  CMS file containing
                   your test job.
-
                                    - 63 -
1
-
      18. Enter F JPITTS,S,RD1,00C  each time you wish to read a job.
0         a)
      19. You can  communicate with  the terminal  by responding  to the
          outstanding reply (E.G.   R nn,*S PR2).    This is the same as
          entering  *S RM090PR2 on the global.
-
   7.2   NJE TESTING TO AN RSCS NODE
+  7.2   NJE TESTING TO AN RSCS NODE
+        ___ _______ __ __ ____ ____
0  The following is the procedure for bringing up an RSCS node under VM.
0     1.  Change the NJERMT card for WCC4 in an init deck in APARMLIB.
0         a) Change to CTC=YES.
0         b) Delete LINE=xxxxxxx.
0     2.  IPL MVS and start JES3 using the new init deck.
0     3.  Logon a CMS id.   (cmsid1)
0     4.  Define the virtual CTC
0         a) DEF CTC 130 (on cmsid1)
0         b) #cp DEF CTC 1C0 (on MVSx)
0         c) COUPLE 130 MVSx 1C0 (on cmsid1)
0         d) Vary the channel and device for 1C0 on to MVS (on MVSx)
0         e) Vary 1C0 on to JES3 (on MVSx)
0     5.  Get access to RSCS's 191 disk.
0         a) LINK RSCS 191 vaddr RR (on cmsid1, password = RD)
0     6.  IPL vaddr  (vaddr from above on cmsid1)
0     7.  START WCC LINE 130 PARM BUFF=1200  (on cmsid1)
0     8.  *X NJE,N=WCC4,L=NJE1C0 (on cmsid1)
0  To test the NJE functions, use the following procedure:
0     1.  On another CMS id (cmsid2), enter the following commands,
0         a) SP PRT to cmsid1
-
                                    - 64 -
1
-
          b) SP PUN to cmsid1
0         c) TAG DEV PUN WCC JOB
0         d) TAG DEV PRT WCC LOCAL 05
0     2.  Punch a JCL  file.   The job should  run on the MVSid  and the
          output should end up in cmsid2's reader, unless the JCL speci-
          fies differently.
0     3.  Print a file.   The file should print  on a JES3 writer on the
          MVS id.
-
-
-
-
-
-
-
-
-
-
-
-
-
-                                   - 65 -
1
-
                      This page intentionally left blank
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 66 -
1
-
-
-                                 Chapter 8
+                                 Chapter 8
0                     TESTING PROCEDURES AND GUIDELINES
+                     TESTING PROCEDURES AND GUIDELINES
-     This chapter  describes the guidelines  for testing  modifications
   JES3.
0     All modifications must be tested to determine if the mod works and
   it causes any unexpected changes elsewhere.
0     Testing will be  performed using the MVS test  system available un
   VM as described in chapter 6.
0     A  test  job   or  test  case  description  should   be  placed  i
   JES3.DRVM.CNTL under the name of the modification to be tested (i.e.
   SJ091A0 the member name would be SJ091A0).   This job(s)  should atte
   to verify every  possible combination of factors which  could cause y
   modification to fail.  The description is applicable for any mod wher
   job cannot be used for the testing.
0     For Control  Block modifications a CBPRNT  should be included  in
   job.
0     For new messages,  a comment in the JCL or description should expl
   what the message is and what causes it to be issued.
-
-
-
-
-
-
-
0                                   - 67 -
1
-
                      This page intentionally left blank
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 68 -
1
-
-
-                                 Chapter 9
+                                 Chapter 9
0                           EXTENSIONS TO IBM CODE
+                           EXTENSIONS TO IBM CODE
-     This chapter describes the extensions made  to the standard IBM co
   such as new commands, parameters, DSP's, subprograms, exits, etc.
-
-
-
-
-
-
-
-
-
-
-
-
-
-                                   - 69 -
1
-
   9.1   DATE CONVERSION ROUTINE
+  9.1   DATE CONVERSION ROUTINE
+        ____ __________ _______
0     This modification converts binary time  to decimal (hh.mm.ss)  or
   lian date to gregorian  date and places the result in  a caller provi
   ares.
0     1.  Processing Description
0         a) Every year divisible by 4 is considered a leap year.
0         b) Time and Date are assume to be 4 bytes
0         c) Time is of the form hhmmssth binary on entry
0         d) Date is of the form 00yydddF packed on entry
0     2.  Register Usage
0         a) R0 - Addr of receiving field on entry.
0         b) R1 - Time or Date to be converted on entry
0            i)    If time then hi-order bit must be on.
0     3.  Return format
0         a) If bit 1 is on convert the date to mm/dd/yy
0         b) If bit 1 is off then convert the time to hh.mm.ss
0  Examples:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×      Time --   LA   R1,TIME
   ×                ICM  R1,8,=AL1(80)
   ×                LA   R0,OUTFIELD
   ×                ACALL ENTER=CONVDATE
   ×
   ×      Date --   LA   R1,DATE
   ×                LA   R0,OUTFIELD
   ×                ACALL ENTER=CONVDATE
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                        Figure 19:  CONVDATE Example
-
0                                   - 70 -
1
-
   9.2   DC EXTENSIONS
+  9.2   DC EXTENSIONS
+        __ __________
0  9.2.1   WHERE Option
+  9.2.1   WHERE Option
+          _____ ______
0     This option will display the module name in which an address resid
0     The syntax is:
                  *S DC,C=xxxxxx,WHERE
                  or
                  *S DC,C=xxxxxx,BASE=yyyy,WHERE
-  The response is:
-       RAT0003 MODULE=module name BASE=base addr DISPLACEMENT=offset
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 71 -
1
-
      9.2.2   Display Format Options
+     9.2.2   Display Format Options
+             _______ ______ _______
0  This option  allows storage to be  displayed in Hexidecimal,   EBCDIC
   both.   Hex is the default and is no different than the standard DC d
   play.   EBCDIC will display storage in  EBCIDC only.   BOTH will disp
   storage in both EBCDIC and Hex.
-
      The syntax is:
-                 *S DC,C=xxxxxx,BASE=yyyy,M=option
0  Where option = H for Hex (default)
                  E for EBCIDC
                  B for Both Hex and EBCDIC
-
-
-
-
-
-
-
-
-
-
-
-
                                    - 72 -
1
-
   9.3   ROCKWELL FILE BUILD
+  9.3   ROCKWELL FILE BUILD
+        ________ ____ _____
0  9.3.1   RFOPEN
+  9.3.1   RFOPEN
+          ______
0     RFOPEN is the JES3 macro instruction to open, read and sort an OS
   taset  and place  it into  an instorage  table within  the JES3  addr
   space.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×   RFOPEN DDNAME= R1
   ×                  address ,
   ×
   ×          SIZE=   R0
   ×                  nnn ,
   ×
   ×          LENGTH= R2
   ×                  nnn ,
   ×
   ×          DISP=   R3
   ×                  nnn ,
   ×
   ×          BUSY=   address ,
   ×
   ×          NORMAL= address
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                          Figure 20:  RFOPEN macro
-
0   Parameter    Subparameter    Explanation
+   _________    ____________    ___________
    DDNAME=      (R1)            Specifies the address of the 8 byte
                 address         field containing the DDNAME of the
                                 data set desired.
0   SIZE=        (R0)            Specifies the length of each record
                 nnnn            in the data set.
0   LENGTH=      (R2) (note 1)   Specifies the length of the record
                 nnnn            sort key (if the file is to be sorted).
0   DISP=        (R3) (note 1)   Specifies the displacement into
                 nnnn            the record of the sort key
                                 (if the file is to be sorted).
0   BUSY=        address         Specifies the address to which the
0                                   - 73 -
1
-
                                 routine returns if the incore table
                                 is not available.
0   NORMAL=      address
-  Normal return: Upon return register 1 contains the address of(#RFB)
                  the file control block.
0  Restrictions:  The contents of R0, R1, R14 and R15 are always
                  destroyed. The contents of R2 and R3 will also be
                  destroyed if the file is to be sorted.
0  Example:       In the following example the file is to be sorted.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×             RFOPEN DDN=ABC,DISP=1,LENGTH=8,SIZE=24
   ×                 (DISP=1 points to the first character of the file.)
   ×
   ×                 In the following example the file is not to be sort
   ×             .....
   ×             RFOPEN DDN=ABC,SIZE=24
   ×             .....
   ×   ABC       DC     CL8'ABC'
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                        Figure 21:  RFOPEN Examples
-
0  Note1:         If the file is to be sorted (used for binary search),
                  LENGTH and DISP parameters must be specified.
0  Note2:         If the file already exits in the JES3 address space
                  the only effect of an RFOPEN is to add one to the use
                  count and return a #RFB pointer in register 1.
0  Note3:         Datasets must have record format F, FB or FBS.
-
-
-
                                    - 74 -
1
-
   9.3.2   RFSCAN
+  9.3.2   RFSCAN
+          ______
0     The RFSCAN macro instruction is used for a binary or serial scan o
   JES3 incore table.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×   RFSCAN RFB=    R1  ,
   ×
   ×          Data=   R3
   ×                  address ,
   ×
   ×          LENGTH= R2
   ×                  nnn ,
   ×
   ×          DISP=   R0
   ×                  nnn ,
   ×
   ×          Eod=    address ,
   ×
   ×          NORMAL= address ,
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                          Figure 22:  RFSCAN macro
-
0  Parameter    Subparameter    Explanation
+  _________    ____________    ___________
   RFB=         (R1) (note 1)   Specifies the address of the #RFB
                address         (file control block) to scan.
0  data=        (R3)            Specifies the address of the data
                address         field name to scan on.
0  LENGTH=      (R2)            Specifies the length of the data
                nnnn            field to scan on.
0  DISP=        (R0)            Specifies the displacement into
                nnnn            the record of the data field.
0  eod=         address         Specifies the address to which the
                                routine returns when the data field
                                requested is not found.
0  NORMAL=      address
-
                                    - 75 -
1
-
   Normal return: Upon return register 1 contines the address of the
                  record containing the data field.
0  Restrictions:  The contents of R0, R1, R2, R3, R14 and R15 are
                  always destroted.
0  Example:       In the following example the file is to be scan for
                  RM146.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×   RFSCAN RFB=(R1),DISP=1,LENGTH=5,DATA=ABC,EOD=NOENTRY
   ×       (DISP=1 points to the first character of the file.)
   ×             .
   ×             .
   ×   NOENTRY   DS     0H
   ×             .
   ×
   ×   ABC       DC     CL5'RM146'
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 23:  RFSCAN Example
-
-  Note1:         The RFB pointer was returned in R1 from the RFOPEN
                  macro instruction.
-
-
-
-
-
-
-                                   - 76 -
1
-
   9.3.3   RFCLOSE
+  9.3.3   RFCLOSE
+          _______
0  RFCLOSE  close the JES3 incore table
0  the RFCLOSE macro instruction is used to close the request of a JES3
   core table search.   This instruction will  also reduce the use count
   the table by 1.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  RFCLOSE RFB= rx
   ×          normal = address
   ×
   ×          RFB = (R1)      specifies the address of the #RFB
   ×                address   (file control block) to close.
   ×
   ×          NORMAL=address  normal return for close
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                         Figure 24:  RFCLOSE Macro
-
   restriction: the contents of R1, R14 and R15 are destroyed
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  example:   close a file whose address is in register 1.
   ×
   ×             label RFCLOSE RFB=(R1)
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                        Figure 25:  RFCLOSE Example
-
-
-
-
                                    - 77 -
1
-
   9.4   JES3 PRDMP ENHANCEMENTS
+  9.4   JES3 PRDMP ENHANCEMENTS
+        ____ _____ ____________
0     The JES3 exit routine is modified  to produce output immediately w
   a JES3 user control statement is encountered,  rather than when a TCB
   processed.
0     The operands available on the JES3  control statement are expanded
   include the OPTION keyword as defined for the DC DSP.  The use of OPT
   can substantially reduce  the amount of output from AMDPRDMP  in a la
   system, and significantly improves the usability under IPCS.
0     The format of the control statement for use with AMDPRDMP is:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  JES3 × JES3 keyword,keyword,...  where keyword may be:
   ×  OFF × DEBUG × OPTION=xxx × OPTION=(xxx,xxx,...)
   ×  xxx may be: controlblock  ×  controlblock=ENTRY
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                  Figure 26:  JES3 PRDMP Control Statement
-
0  OFF causes an immediate exit (for compatibility).
0  DEBUG enables the program check snap code.
0     If no keyword is given,  the default  is OPTION=DEF,  a subset of
   control blocks.  See the documentation for the DC DSP for the other p
   missible values for OPTION.
0     An attention exit  is added to allow  the user to abort  output un
   IPCS.
-
-
-
-
-                                   - 78 -
1
-
   9.5   LOCATE ENHANCEMENTS
+  9.5   LOCATE ENHANCEMENTS
+        ______ ____________
0     If the LOCATE subtask is busy on  the JES3 Global processor,  and
   job can run on another main,   then the job will go across the CTC to
   the LOCATE on that local processor.
0  This is a modification to module IATLVIN.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 79 -
1
-
   9.6   INITIALIZATION DECK TAILORING
+  9.6   INITIALIZATION DECK TAILORING
+        ______________ ____ _________
0     The INITDECK is tailored to the  correct processing mode by a IATU
   based upon the value passed in the parm field.
0     If the first character is F then  all TRACK cards are changed to F
   MAT control cards.
0     The next parameter of the parm determines which control cards are
   lected for processing by JES3 based upon the special character in col
   1 of the control card as follows:
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  ?  -  Ignore unless there is no PARM
   ×  *  -  Comment
   ×  /  -  VM
   ×  ;  -  SEC
   ×  :  -  TEST
   ×  %  -  PROD
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                   Figure 27:  INITDECK Tailoring Control
-
-
-
-
-
-
-
-
-                                   - 80 -
1
-
   9.7   OUTPUT LIMITATIONS
+  9.7   OUTPUT LIMITATIONS
+        ______ ___________
0     SYSOUT for both lines and cards are limited by counting the number
   bytes being written and by records for CRT output in IATDMEB.
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  25,000,000 bytes of SYSOUT
   ×  5,000 blocks of CRT output
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                       Figure 28:  SYSOUT Limitations
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 81 -
1
-
   9.8   WRITE-TO-PROGRAMMER
+  9.8   WRITE-TO-PROGRAMMER
+        ___________________
0     1.  Function.
          This DSP  enables the computer  operator to issue  messages to
          the JESMSG data  set of any job in the  system.   The messages
          are also recorded in a special  data set (hereafter called the
          'bucket')  for  operations use as  an audit trail  of activity
          and/or problems.   In the event that the JESMSG data set could
          not be accessed,  the operator's message is flagged with a mi-
          nus sign (-)   in the bucket as  well as being printed  on the
          calling console as an error.   The  operator may issue a write
          to programmer to the DSP itself for comments purposes; in this
          case,  the  message is  marked with  an asterisk  (*)  in  the
          bucket.  If a message cannot be written to the bucket, it will
          be printed on  the calling console as an error.    As an added
          function the operator  can send MVS commands  to all connected
          mains
0     2.  Operation.
0         a) After WTP is called,  it AWAITs  for a START,  RESTART,  or
             CANCEL command.
0         b) The START command  initiates the search for  the job's res-
             queue entry to  issue the JESMSG macro.   A  record is then
             ABLOCKed into the multi-record file of the bucket.
0         c) If the START command is for a  SEND then the command is IN-
             TERCOM'd to all connected mains.
0         d) A RESTART  command causes WTP to  print out on  the calling
             console the current list of  messages queued in the bucket.
             The messages are  retained for writing on the  printer at a
             later time.
0         e) A CANCEL command triggers the spinoff  of the bucket to the
             printer as data set JES3.WTP.OUTPUT.
0     3.  Command Formats:
0         a) *X WTP
0            i)    invoke the DSP.   Any parameters  on the call command
                   are ignored.
0         b) *S WTP,J=nnnn,'text'
0            i)    START the DSP.   Commas or blanks may be used as del-
                   imeters.   'J='  is a keyword parameter  denoting job
                   number.   The job number need not have leading zeros.
                   The 'text' (which is not  enclosed in quotes)  is the
                   message for the job.
0                                   - 82 -
1
-
          c) *S WTP,S='MVS command'
0            i)    Brodcast the MVS command to all connect mains.
0         d) *R WTP
0            i)    RESTART the DSP.  This will cause the bucket data set
                   to be printed on the calling console without deleting
                   the data set.   This command will probably be used at
                   shift  change  to  ascertain current  status  of  the
                   system.   After the bucket is written, WTP awaits the
                   next command.
0         e) *C WTP
0            i)    CANCEL the DSP.  The bucket data set will be spun off
                   as JES3.WTP.OUTPUT.
-
-
-
-
-
-
-
-
-
-
-
-
                                    - 83 -
1
-
   9.9   MODIFY X EXTENSION
+  9.9   MODIFY X EXTENSION
+        ______ _ _________
0     1.  DELETE=F Option
0     2.  Function.
          This option will clear the load count in the IATYJDE (JDEALDS)
          causing a fresh module to be loaded.
0     3.  Syntax:
          *F X,M=module-name,DELETE/DEL=F
0     4.  Warning: Options DELETE=Y/N already exist.   Do not mistakenly
          enter these options.
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 84 -
1
-
-
-                                 Chapter 10
+                                 Chapter 10
0                          APPLYING IBM MAINTENANCE
+                          APPLYING IBM MAINTENANCE
-  10.1   CORRECTIVE MAINTENANCE
+  10.1   CORRECTIVE MAINTENANCE
+         __________ ___________
0     To APPLY a  corrective PTF/APAR you should first  RECEIVE the desi
   maintenance and then use the RIBUPDTE Panel to simulate the APPLY.
   overlays of locally modified  lines of code will be flagged  as will
   inserts immediately  prior to  a locally modified  line of  code.   T
   CHECK is performed using the usermod id in cols 65-71 of the source c
   and the @ in column 64 to  signify the presence of a USERMOD.   RIBUP
   will generate a report similiar to IEBUPDTE for each element.
0     After checking the  RIBUPDTE report for conflicts  you should corr
   the conflicts, and run the SMP APPLY.
0     If  you have  conflicts  you should  either  attempt  to restore
   USERMOD or build  and APPLY a 'reverse'  mod to backout the  USERMOD
   then APPLY the PTF/APAR followed by the new redesigned USERMOD.
-
-
-
-
-
-
-
-
-
                                    - 85 -
1
-
   10.2   PREVENTIVE MAINTENANCE
+  10.2   PREVENTIVE MAINTENANCE
+         __________ ___________
0     To overcome  some of the deficiencies  of SMP in handling  source
   following is a suggested technique for applying Preventive Maintenanc
0     1.  ACCEPT ALL desired PTF's and/or APARS - NOT USERMODS.
0     2.  Run  PUTEDIT on  the  PUT Tapes  to  select  only the  desired
          FMID's.
0     3.  Run the output of PUTEDIT thru  RIBUPDTE to flag any potential
          conflicts with a local modification.
0     4.  Run the output  of PUTEDIT thru SMP using APPLY  CHECK to flag
          all potential USERMOD regressions.
0     5.  Analyze the  output of steps 3  and 4 for retrofitting  of re-
          gressed/impacted USERMODs.
0         a) If you determine that there is no impact then skip the next
+                                                          ____
             step.
0     6.  Re-allocate the Target level libraries and copy the Dlib data-
          sets into them.
0     7.  Receive the PUT tape.
0     8.  Do an APPLY excluding those  SYSMODs documented in the exclude
          list.   This  will re-apply  all usermods  along with  the PUT
          maintenance.
0         a) Note:  For JES3 the exclude list should be ignored per JES3
+            ____
             Level 2.
0     9.  Test the new system.
0     10. Copy the new  level Target load libraries  into the production
          libraries.
-
-
-
-
-
                                    - 86 -
1
-
-
-                                 Chapter 11
+                                 Chapter 11
0                    JES3 INITIALIZATION DECK MAINTENANCE
+                    JES3 INITIALIZATION DECK MAINTENANCE
-     This chapter documents how to modify the JES3 Initialization Deck
   to test the Initdeck using the IPO INITDECK Checker.
0     This procedure requires the use of ISPF with the JES3 ISPF librari
-  1.  You first need to allocate the appropriate libraries and tables
       to be able to use the INITDECK panels.
              EX 'JES3.CLIST(JES3PDF)'
              ISPSTART
0  1.  Access the AOST panels.
       Select J - JES3
       Select 1 - INITDECK
       Select 5 - EDIT and enter the computing center (WCC1 or WCC2)
                  you wish to edit.
0  2.  In this dataset you will find the init deck broken down into four
       sections:  DECKXY, DEVICEXY, NJEXY, and RJPXY.
       - Where XY denotes the level:  X = 1 (for WCC1)
                                          2 (for WCC2)
                                      Y = 0 (production)
                                          1 (backup)
                                          F (currently being worked on).
0  3.  When you change one of the sections:
       - Create member at level 1F for WCC1 or 2F for WCC2 (ex. S DECK1F
       - Copy the production level X0 (ex. COPY DECK10).
       - Make modifications.
0  4.  After all the mods are made to the sections:
       - Create member called JES3IN1F for WCC1 or JES3IN2F for WCC2.
         Merge all the sections together.
0          Example:
                       S JES3IN1F
                       COPY DECK1F
                       FIND &
                       COPY DEVICE1F after the &
                       FIND &
                       COPY NJE1F after the &
                       FIND &
0                                   - 87 -
1
-
                       COPY RJP1F after the &
                       END
         * Note:  If there isn't a XF level, then copy in the X0 level.
0      - This will be the new initdeck and is now ready to test
0  6.  Now you are ready to run the initdeck checker.
       - Select 6 - INITDRVR.
       - Fill in computing center, suffix, and queue type.
       - Hit enter and wait for several minutes.
       - The initialization deck errors will appear on the screen.  The
         whole initialization deck listing will be in 'JES3.INITDECK.
         computing-center-name.LIST'.  You can scan this by selecting
         7 - SCAN in the INITDECK panel.  From here you can scan the
         errors or browse the whole initdeck listing.
0  7.  When you are ready to move the initdeck to the production library
       select 8 - PROD.  Specify the computing center and the suffix.
0  8.  Before the warmstart, change 'JES3.PARMLIB' as follows:
       - Delete JES3IN01.
       - Rename JES3IN00 to JES3IN01.
       - Rename the new initdeck (JES3IN1F or JES3IN2F) to JES3IN00.
0  9.  Rename the initdeck sections after the warmstart to reflect the
       current levels and backup levels.
         Example:
                     Delete DECKX1
                     Rename DECKX0 to DECKX1
                     Rename DECKXF to DECKX0
                     Where X = 1 (WCC1) or 2 (WCC2)
-
-
-
-
-
-
-
0                                   - 88 -
1
-
-
-                                 Appendix A
+                                 Appendix A
0                               JES3 DATASETS
+                               JES3 DATASETS
-
   A.1   SMP MANAGED DATASETS
+  A.1   SMP MANAGED DATASETS
+        ___ _______ ________
0        Dataset Name               Description
+        _______ ____               ___________
0        JES3.SP131.JES3MAC         Macro library
         JES3.SP131.JES3SRC         Source library
         JES3.SP131.AJES3MAC        Dlib Macro library
         JES3.SP131.AJES3SRC        Dlib Source library
         JES3.SP131.JES3LIB         SMP Managed Load Library
         JES3.SP131.JES3LPA         SMP Managed LPA Load Library
-        Test SP 1.3.1 Datasets
         Dataset Name               Description
+        _______ ____               ___________
0        JES3.TST131.JES3MAC        Macro library
         JES3.TST131.JES3SRC        Source library
         JES3.TST131.JES3LIB        SMP Managed Load Library
         JES3.TST131.JES3LPA        SMP Managed LPA Load Library
-     Note:  All of these data sets should be referenced by the SMP Pane
-
-
-
-
-
-
-                                   - 89 -
1
-
             or thru the ISPF SRCMAINT Panels.
-
   A.2   ROCKWELL DATASETS
+  A.2   ROCKWELL DATASETS
+        ________ ________
0        Dataset Name               Description
+        _______ ____               ___________
0        JES3.CNTL.LOG              Module tracking log
         JES3.MODS.LOG(TRACKING)    Modification Tracking log
         JES3.MODS.LOG(MESSAGES)    Message control log
         JES3.MODS.LOG(NONRIP)      Log of all mods which are
                                      non-RIPable.
         JES3.MESSAGES              ATMS Format RAT Messages
         JES3.PROP.CNTL             Proposal Data Set
         JES3.DRVM.CNTL             JES3 VM Test Jobs ++
         JES3.DRVM.CNTL($DOC)       Documentation for VM Test Jobs
         JES3.SCRIPT.MEMO           Script input to generate this manual
         JES3.CHECKLST.LOG          SP131 Gotcha Checklist
         JES3.BETA131.LOAD          Steplib
         JES3.TEST131.LOAD          Steplib
         JES3.PROD131.LOAD          Steplib
         JES3.pgmrname.LOAD         Steplib
         AJES.TESTL131.LOAD         Linklist
         AJES.BETAL131.LOAD         Linklist
         AJES.PRODL131.LOAD         Linklist
         AJES3L.module-name.LISTING Assembly listing on the MSS.
-
-
   A.3   USER DATASETS
+  A.3   USER DATASETS
+        ____ ________
0        Dataset Name               Description
+        _______ ____               ___________
0        userid.MODS.JASM           Source dataset  (FB,80,6160 - PDS)
         userid.MODS.OBJ            Object dataset  (FB,80,3120 - PDS)
-
-
-
-
-                                   - 90 -
1
-
   A.4   THE JES3 PROC
+  A.4   THE JES3 PROC
+        ___ ____ ____
-
0  //JES3    PROC LOAD1=DUMMY,      * FIRST SPECIAL TEST LOAD LIBRARY  *
   //             LOAD2=DUMMY,      * SECOND SPECIAL TEST LOAD LIBRARY *
   //             LOAD3=DUMMY,      * THIRD SPECIAL TEST LOAD LIBRARY  *
   //             PARMLIB=PARMLIB,  * JES3 PARMLIB DATASET QUALIFIER   *
   //             PROD=PROD,        * DEFAULT PRODUCTION LOAD LIBRARY  *
   //             Q=PROD,           * DEFAULT SPOOL QUEUE              *
   //             SCHKPNT=,         * VOLSER OF CHECK POINT DATASET    *
   //             SIN=AVJES1,       * VOLSER OF JES3PARM DATASET       *
   //             SINIT=,           * VOLSER FOR INITDECK LISTING      *
   //             SJCT=,            * VOLSER FOR JCT DATASET           *
   //             SLOAD=AVJES1,     * VOLSER OF JES3 LOAD LIBRARIES    *
   //             SPOOL=T,          * PARM FOR TRACK INSTEAD OF FORMAT *
   //             TEST=TEST         * DEFAULT TEST LOAD LIBRARY        *
   //IEFPROC EXEC PGM=IATINTK,PARM='&SPOOL&Q',PERFORM=12,TIME=1440
   //CHKPNT   DD  DSNAME=AJES.&Q..CHKPNT,DISP=OLD,
   //             UNIT=SYSALLDA,VOLUME=SER=&SCHKPNT
   //JES3IN   DD  DSNAME=JES3.&PARMLIB(JES3IN00),DISP=SHR,
   //             UNIT=SYSALLDA,VOLUME=SER=&SIN
   //JES3JCT  DD  DSNAME=AJES.&Q..JCT,DISP=OLD,
   //             UNIT=SYSALLDA,VOLUME=SER=&SJCT
   //JES3OUT  DD  DDNAME=IEFRDER
   //IEFRDER  DD  DSNAME=AJES.INITDECK.&Q..LIST,DISP=OLD,
   //             UNIT=SYSALLDA,SPACE=(CYL,(4,1)),VOL=SER=&SINIT
   //STEPLIB  DD  DSNAME=JES3.&LOAD1..LOAD,DISP=SHR,
   //             UNIT=SYSALLDA,VOLUME=SER=&SIN
   //         DD  DSNAME=JES3.&LOAD2..LOAD,DISP=SHR,
   //             UNIT=SYSALLDA,VOLUME=SER=&SIN
   //         DD  DSNAME=JES3.&LOAD3..LOAD,DISP=SHR,
   //             UNIT=SYSALLDA,VOLUME=SER=&SIN
   //         DD  DSNAME=JES3.&TEST..LOAD,DISP=SHR,
   //             UNIT=SYSALLDA,VOLUME=SER=&SLOAD
   //         DD  DSNAME=JES3.&PROD..LOAD,DISP=SHR,
   //             UNIT=SYSALLDA,VOLUME=SER=&SLOAD
-
-
-
-
-
                                    - 91 -
1
-
                      This page intentionally left blank
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                   - 92 -
1
-
-
-                                 Appendix B
+                                 Appendix B
0                         MODIFICATION REQUEST FORM
+                         MODIFICATION REQUEST FORM
-
   MODIFICATION REQUEST                            Tracking id: JES001__
0  Requestor: _______________________                 Comnet: 374-____
0  Modification number: _________  (assigned after approval)
0  Modification Title: ____________________________________________
0  Category: Performance__  Operational__  User__  Systems__
             Accounting__   Security__     Bugfix__
0  Author:  __________________________                  Date: 0 /  /83
0  Summary: __________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
0  Justification: ____________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
0  Extent of Change:
0  Modules: __________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
0  JCL:     __________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
0  User:    __________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
0  Operations: _______________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
0                                   - 93 -
1
-
   Extent of Change (cont):
0  Other:   __________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
0  Mod interdependencies: ____________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
   ___________________________________________________________________
-
   Authorization to design:  _______________________  Date: ___/___/__
                             Supervisor
0  Authorization to code:    _______________________  Date: ___/___/__
                             Supervisor
0  Authorization to code:    _______________________  Date: ___/___/__
                             Manager
-
-
-
-
-
-
-
-
-
-
-                                   - 94 -
1
-
-
-                                 Appendix C
+                                 Appendix C
0                          ISPF PANELS AND PROGRAMS
+                          ISPF PANELS AND PROGRAMS
-
   C.1   ISPF PANELS
+  C.1   ISPF PANELS
+        ____ ______
0  C.1.1   SRCMAINT Menu
+  C.1.1   SRCMAINT Menu
+          ________ ____
0     This menu  is the entry point  for ALL source  maintenance functio
   It may be accessed  from the ISPF Master Menu.   The  panels will be
   dressed beginning from the top of the SRCMAINT menu.
-    SRCMAINT ------------- Source Maintenance Menu -------------
     Select application ===>
0       0  TRACKING   - Update the Modification Tracking Log
        1  COPYCNTL   - Copy Source/Macro for modification
        2  ASM        - Assemble New Source Module
        3  LINKSMP    - Linkedit using SMP CDS information
        4  CUMOD      - Create SMP USERMOD Deck
        5  SMP        - SMP Services
-       6  AUTONUM    - Number Inserted Records
        7  CNTLSCAN   - Browse Control Log D/S
        8  COMPARE    - Source Compare Utility
        9  RIBUPDTE   - IEBUPDTE Simulator
       10  SEARCHIT   - Source Search Utility
       11  BROWSASM   - Browse/Print MSS Assembly Listing
       12  ACTMODS    - List all active modules
0       C  SRCMCLN    - Clean up files      S  Secure    - Secure Termin
        E  EDIT       - ISPF Edit           B  BROWSE    - ISPF Browse
0       I  INIT       - Initialize Source/SMP Defaults
0    Press END key to terminate
-
-
-                                   - 95 -
1
-
   C.1.2   INIT Panels
+  C.1.2   INIT Panels
+          ____ ______
0     This is  the primary panel for  initialization of ISPF  variables
   Source maintenance and SMP.   You need  enter these panels only once
   less you wish to change any of these defaults.
-    INIT -------------  Initialize Defaults  --------------------
0    Select application ===>
0       1  Source Maintenance Defaults
        2  SMP Defaults
        3  JOB Card Defaults
-       I1 Execute Defaults for Source Maintenance Only
        I2 Execute Defaults for SMP Only
        I3 Execute Defaults for Jobcard Only
        IA Execute Defaults (all of the above)
-
-       P  ISPF Parms
        S  Secure Terminal
        X  Exit this panel
-
-
-
-
-
-
-
-
0                                   - 96 -
1
-
   C.1.2.1   INITSRC1 Panel
+  C.1.2.1   INITSRC1 Panel
0    INITSRC1 ---------  INITIAL SOURCE MAINTENANCE DEFAULTS -----------
     Enter/Verify Defaults
0    User Modification Source Library     ===> $A1238
                                          ===> MODS
                                          ===> JASM
0    Object Deck Dataset for Assemblies   ===> '$A1238.MODS.OBJ'
0    Macro Libraries for Assemblies  #1   ===> 'JES3.SP131.JES3MAC'
                                     #2   ===> 'SYS1.MACLIB'
       Note: the Source Library      #3   ===> 'AMVS38H.AMODGEN'
             is always concatenated  #4   ===> 'SYS1.ACFMAC'
             first...                #5   ===>
                                     #6   ===>
0    Linecount for Assemblies             ===> 55
0    Increment for Autonum                ===> 100
0    SMP Managed Source Dataset           ===> 'JES3.SP131.JES3SRC'
0    Allow Delete of IBM Source           ===> N
-
-
-
-
-
-
-
-
-
0                                   - 97 -
1
-
   C.1.2.2   INITSRC2 Panel
+  C.1.2.2   INITSRC2 Panel
0    INITSRC2 ---------  INITIAL SOURCE MAINTENANCE DEFAULTS -----------
     Enter/Verify Defaults
0    Output Dataset for SMP Decks           ===> $A1238
                                            ===> MODS
                                            ===> JASM
0    Copy Control Dataset                   ===> 'JES3.CNTL.LOG'
     Modification Tracking DSN              ===> 'JES3.MODS.LOG(TRACKING
     Default FMID for New Src/Mac           ===> HJS2327
0    Default SMP Managed Source Dsname      ===> 'JES3.SP131.JES3SRC'
                         Macro  Dsname      ===> 'JES3.SP131.JES3MAC'
0    Default SYSLIB for New Source          ===> JES3SRC    DDNAME
                            Macro           ===> JES3MAC
0    Default Distlib for New Source         ===> AJES3SRC   DDNAME
                             Macro          ===> AJES3MAC
0    Default Link Library for New Lmods     ===> JES3LIB    DDNAME
0    Default DISTLIB for New Object Deck    ===> AOSBA      DDNAME
-
-
-
-
-
-
-
-
-
0                                   - 98 -
1
-
   C.1.2.3   INITSRC3 Panel
+  C.1.2.3   INITSRC3 Panel
0    INITSRC3 ---------  INITIAL SOURCE MAINTENANCE DEFAULTS -----------
     Enter/Verify Defaults
0    Default Test Load Library Dsn      ===> 'JES3.NAME.LOAD'
0    Default Syslib Dsns for Link Edit  ===> 'JES3.DUMMY.LOAD'
                                        ===> 'JES3.SP131.JES3LIB'
                                        ===> 'JES3.SP131.JES3LPA'
                                        ===>
                                        ===>
0    Default Libraries for Source Search:
                                  DD1   ===> 'JES3.SP131.JES3SRC'
                                  DD2   ===> 'JES3.SP131.JES3MAC'
                                  DD3   ===>
0    Default Libraries for RIBUPDTE:
                           Primary Lib  ===> 'JES3.SP131.JES3SRC'
                         Alternate Lib  ===> 'JES3.SP131.JES3MAC'
0    Default Input Dataset for RIBUPDTE ===> 'JES3.SP131.SMPPTS'
-
-
-
-
-
-
-
-
-
-
                                    - 99 -
1
-
   C.1.2.4   INITJOB1 Panel
+  C.1.2.4   INITJOB1 Panel
0    INITJOB1 ---------  INITIALIZE JOBCD DEFAULTS ---------------------
     Enter/verify parameters below:
0    Default Job Class              ===> JES3
0    Default Job Time               ===> 10
0    Default Job Msgclass           ===> T
0    Default Job Sysout class       ===> *
0    Default Job Main Selection     ===> ANY
0    Default Job Prty               ===> 7
-        If you have not as yet set the SMP Defaults you will
         have to do so before execution of any SMP Functions
         some of which are included in the Source Maintenace System
-
-
-
-
-
-
-
-
-
-
-                                  - 100 -
1
-
   C.1.2.5   INITSMP1 Panel
+  C.1.2.5   INITSMP1 Panel
0    INITSMP1 ---------  INITIAL SMP DEFAULTS --------------------------
     Enter/Verify Defaults
0    Default System ID       ===> JES3       also used as name of SMP JC
0    Default SMP CDS DSN     ===> 'JES3.SP131.SMPCDS'
       CDS Vol  ===>           UNIT  ===>           optional
0    Default SMP PTS DSN     ===> 'JES3.SP131.SMPPTS'
       PTS Vol  ===>           UNIT  ===>           optional
0    Default MSGVP for SMP Assembly Listings  ===> JESLIST   optional
     Default Prefix for MSVGP Datasets        ===> AJES3L    optional
0    Default Space for Sysout Work D/S  Prim ===> 200     Sec ===> 200
-
-
-
-
-
-
-
-
-
-
-
-
                                   - 101 -
1
-
   C.1.2.6   INITSMP2 Panel
+  C.1.2.6   INITSMP2 Panel
0    INITSMP2 ---------  INITIAL SMP DEFAULTS --------------------------
     Enter/Verify Defaults
0    Default SMP Receive Option  ===> B
        I - Usermod ID must be in cols 65-71 of all SRC and MAC updates
        D - Delete all objects prior to Receive
        B - Both of the above
        N - No check is performed
0    SMP ENQ Dataset Name    ===> 'JES3.SP131.ENQ'
0    Default Target Volume Serial Number  ===>         optional
-
-
-
-
-
-
-
-
-
-
-
-
-
                                   - 102 -
1
-
   C.1.3   TRACKING
+  C.1.3   TRACKING
+          ________
0     This Menu  item will  place you into  ISPF EDIT  of the  tracking
   form.   You will use this form to  acquire the next available USERMOD
   and to note completion of a USERMOD.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                                   - 103 -
1
-
   C.1.4   COPYCNTL
+  C.1.4   COPYCNTL
+          ________
0     This  panel  will perform  4  functions  related  to the  control
   source/macro elements.
0     The first is COPY which will copy  a source element from the base
   brary to the  user's library where it  may be changed.   This  action
   also logged in the specified control dataset.
0     The second function is FINISHED which will update the control data
   with the  COMPLETED status indicating that  the user has  finished us
   the element.
0     The third function is to update the control dataset with the CANCE
   status indicating  that the  user has chosen  not to  continue modify
   that element.
0     The fourth function  is new which just  logs an entry in  the cont
   log dataset for a new element.
-    COPYCNTL --------------- Copy Base Source to User Lib -------------
     Enter/verify parameters below:
0    Option:                   ===> COPY      COPY
                                              FINISHED
                                              CANCEL
                                              NEW
0    Original source data set: ===> 'JES3.SP131.JES3SRC'
0        Source/Macro name     ===>           Always required
0    Modified source data set:
         PROJECT               ===> $A1238
         LIBRARY               ===> MODS
         TYPE                  ===> JASM
0    Modification ID:          ===>            aabbbcd
0    Control Data Set:         ===> 'JES3.CNTL.LOG'
-
-
-
-
                                   - 104 -
1
-
   C.1.5   ASM
+  C.1.5   ASM
+          ___
0     This panel  allows you to assemble  any source modules that  you h
   updated that reside in your modification library.  You may specify up
   6 SYSLIB datasets  to be used by the assembler  including your modifi
   tion library which is ALWAYS concatenated as the first SYSLIB.
+                        ______
0     You will always have to specify if you want the assembler to test
   re-entrancy.
0     The assembly listing will be  placed in dataset userid.module.LIST
   unless the  BATCH assembly  option is chosen  in which  case it  will
   placed in TSO hold.
0     After a  TSO assembly you  will be  placed into ISPF  BROWSE.   Af
   browse you  will enter the ASMPRINT  panel which is documented  later
   this Appendix.
0     NOTE: Assembler H is the assembler invoked for the assembly.
-    ASM ------------- Source Maintenance Assembly ---------------------
0    Input Source Library  ===> '$A1238.MODS.JASM'
              Member Name  ===> IATINGL
0    Object Deck Library   ===> '$A1238.MODS.OBJ'
0    Macro Libraries       ===> 'JES3.SP131.JES3MAC'
      (note:               ===> 'SYS1.MACLIB'
        the source         ===> 'AMVS38H.AMODGEN'
        library is         ===> 'SYS1.ACFMAC'
        always the 1st)    ===>
                           ===>
0    Assembly Options:
     Rent: _     (Y or N)  Linecount: 55
0    Batch or TSO: TSO     (Batch or TSO)
0    For Batch JOB Card build:  (change or leave for defaults)
     Jobname: $A1238    Class: JES3      Time: 2       MSGCLASS: T
     Sysout Class: *    Main: /(K,L)     PRTY: 7
-
-
-
0                                  - 105 -
1
-
   C.1.6   ASMPRINT Panel
+  C.1.6   ASMPRINT Panel
+          ________ _____
0     This  panel is  entered from  clist  ASMPRINT which  first goes  i
   BROWSE of the assembly listing.  You may print/delete/keep or browse
   listing after the initial browse.
-   ASMPRINT----------- ASM  Data Set Print Selection Panel ------------
    Enter/verify parameters below:
0   Option:                  %===> P         P - Print the data set
                                             B - Browse the data set
                                             D - Delete the data set
                                             K - Keep the data set
0   Data Set Name:  '$A1238.IATUX01.LIST'
0       SYSOUT Class             %===> 8
        Copies                   %===> 1
-
-
-
-
-
-
-
-
-
-
-
0                                  - 106 -
1
-
   C.1.7   LINKSMP
+  C.1.7   LINKSMP
+          _______
0     This panel allows you to linkedit  up to eight object decks (modul
   from your object  deck library using the linkedit  information stored
   the SMPCDS.   There  are two types of  modules that are handled  by t
   process:
0     1.  Existing Modules
0         a) These are modules already known  to the SMPCDS.   They will
             be linkedited according to the  JCLIN information stored in
             the SMPCDS.
0         b) IEWL is invoked only once per load module and all eight mo-
             dules may be included.
0     2.  New Modules
0         a) These are modules that have never been made known to SMP.
0         b) If defaults  are specified then they  apply to ALL  new mo-
             dules.   This includes  LMOD name and attributes.    If you
             specify eight new modules and specify  a LMOD name then all
             eight modules are included in the order specified to create
             a complex load module using the name supplied.
0         c) If just  the rent/reus or  auth options are  specified then
             they apply to  all new modules which will  be linkedited as
             load modules having the same name as the module.
0         d) If no defaults are specified then each new module becomes a
             load module having the same name as the module.
0     3.  You may specify the SYSLMOD library on this panel and you will
          be prompted once  for each load module allowing  you to change
          the SYSLMOD.   This  prompt is a panel that  displays the load
          module name,  the object decks being used,  the SMP determined
          target library, the SMP determined linkedit attributes and the
          link library you chose.   At this time you can change the link
          library  or enter  PF3/PF15 and  return to  the LINKSMP  panel
          without doing the current link.
-
-
-
-
                                   - 107 -
1
-
     LINKSMP ------------ SMP Linkedit Panel ---------------------------
     Enter/verify parameters below:
0    Object Deck Dataset          ===> '$A1238.MODS.OBJ'
0    Object members:     =>          =>          =>          =>
                         =>          =>          =>          =>
0    SYSLMOD Dsname:              ===> 'JES3.NAME.LOAD'
0    SYSLIB Dsnames:             1===> 'JES3.DUMMY.LOAD'
                                 2===> 'JES3.SP131.JES3LIB'
                                 3===> 'JES3.SP131.JES3LPA'
                                 4===>
                                 5===>
0    Link Options for NEW modules ONLY:
       LMOD:          RENT/REUS:          Auth: N
0    CDS Dsname:   ===>  'JES3.SP131.SMPCDS'
         Volume    ===>          Unit  ===>           If not cataloged
-
-
-
-
-
-
-
-
-
-
-                                  - 108 -
1
-
   C.1.7.1   SMPLINKP Panel
+  C.1.7.1   SMPLINKP Panel
0     This panel is entered  once for every load module to  be processed
   the linkage editor based upon the modules specified in LINKSMP.
0     You may only change the load library  to be used.   All other data
   informational.  Note the SMP determined load library and if it is LPA
   then you might reconsider your load library.
0     If you enter PF3 or PF15 then processing is stopped at this point
   any linkedit listings are displayed before returning to LINKSMP panel
-    SMPLINKP ----------- SMP Linkedit Prompt Panel --------------------
0        Load Module Name: IATNUC
0        Object Decks for this Link: IATGRGU  IATCNCN  IATOSDR
-        SMP Determined Load Library: JES3LIB
0        Load Library Specified %===> 'JES3.LIONEL.LOAD'
         SMP Determined Link Edit Attributes: RENT
-
-
         Change the Load Library if desired and depress enter
0        Enter PF3/PF15 to return to the primary Link Panel
-
-
-
-
-
-
-                                  - 109 -
1
-
   C.1.8   CUMOD
+  C.1.8   CUMOD
+          _____
0     This is a series of panels  that simplify the process of construct
   the SMP USERMOD.   The first panel (CUMOD)  requires that you enter y
   modification library, the module/macro that you updated, the SMP USER
   id,  where the original source/macro resides,  whether to create the
   deck or not, and if you wish to number the modified lines of code.
0×    If you  have assigned the same  modid to multiple elements  then t
 × panel will be entered multiple times.   The second thru nth time the
 × MODS panel MERGE option MUST be specified as yes.
+                          ____
-    CUMOD------------------- Create USERMOD Option Menu ---------------
     COMMAND ===>
0    Modified source input data set:
         PROJECT               ===> $A1238
         LIBRARY               ===> MODS
         TYPE                  ===> JASM
         MEMBER NAME           ===> IATUX23
0    Original source library   ===> 'JES3.SP131.JES3SRC'
              macro  library   ===> 'JES3.SP131.JES3MAC'
0    Element Type              ===> SRCSRC or MAC
     Allow Deletions ?         ===> N        (Y or N)
         Autonum Required      ===> Y        (Y or N)
0    SMP DECK GENERATION:      ===> Y        (Y OR N FOR CONTROL CARDS)
         USERMOD id            ===> SJ139B4  (aabbbcd)
         Description           ===>
0    Report Disposition:       ===> NEW
-
-
-
-
-
-
0                                  - 110 -
1
-
   C.1.8.1   AUTONUM
+  C.1.8.1   AUTONUM
0     If you  specify that  you want to  automatically number  the modif
   code then you will see this panel.  It will prompt you for the increm
   to be used in numbering the modified lines of code.
0     This panel invokes  clist AUTONUM and program  AUTONUM.   The auto
   program will  read the  entire source/macro into  storage and  then s
   down until it finds a blank sequence number in cols 73-80,  it will t
   add the specified increment to the last valid sequence number and ins
   the new  generated sequence  number into the  record.   If  all modif
   lines of code are updated successfully without any invalid sequence n
   ber ranges  then the module  is written back  to the dataset  from wh
   came,  otherwise processing terminates with a  message on the last va
   sequence number and the current invalid sequence number.
0     If you wish a  different increment then place a +xxxx  in 73-77 wh
   xxxx is any 1-4 position numeric value  that will be used for that gr
   of new records.
0     If UPDATE=N is specified then the updated source is placed in the
   tional output dataset.
0     The Max Record Count informs the  AUTONUM program of the maximum n
   ber of source  statements to GETMAIN.   If  this is not enough  then
   will have to specify a larger number.
0     Note:  The update takes place in storage and is not output unless
   update is completely successful (i.e. no overlays or large numbers).
-
-
-
-
-
-
-
-
                                   - 111 -
1
-
     AUTONUM ---------------- Number Inserted Card Images --------------
     Enter/verify parameters below:
0    Input source data set:
         PROJECT               ===> $A1238
         LIBRARY               ===> MODS
         TYPE                  ===> JASM
         MEMBER NAME           ===> IATUX02
             or DSN  ===>
0    Output source data set:                    Required for Update=N
         PROJECT               ===> $A1238
         LIBRARY               ===> MODS
         TYPE                  ===> JASM
         MEMBER NAME           ===>
             or DSN  ===>
0    Update Option:            ===> Y           Y = inplace  N = copy
0    Update Increment:         ===> 100
0    Max Record Count:         ===> 5000
-
-
-
-
-
-
-
-
-
-
0                                  - 112 -
1
-
   C.1.8.2   CUMODS
+  C.1.8.2   CUMODS
0     This panel is invoked to prompt for SMP information, some of which
   only needed for new source/macros.  As a minimum you must specify if
   are updating a source element or a macro element.   You may also spec
   if you want to allow the CUMOD program to generate comment cards for
   leted lines of code.
0     You must also specify the library into  which the SMP USERMOD will
   created.  The default is your modification library.
0     If there are any SMP pre-requisite  or co-requisite SYSMOD's that
   not applied to the element you are working on and you wish them inclu
   in the SMP deck then you may specify up to five of each.
0     If the element  is new to SMP then  you may specify it  here and s
   the overhead of checking the CDS for it.
0     This panel  is invoked  if the SMP  option is  selected on  the CU
   panel.   Here you may change the output location of the USERMOD, the
   to use and any PRE-REQ's, CO-REQ's.
0×    NOTE:  The MERGE option MUST be specified  as Yes for the second t
+                             ____
 × nth elements to be added to your USERMOD.
-
-
-
-
-
-
-
-
-
-                                  - 113 -
1
-
    CUMODS------------------ USERMOD SMP PARAMETERS MENU ---------------
    Enter/verify parameters below:
0   Output for SMP Deck:                    USERMOD: SJ999XX
        PROJECT               ===> $A1238
        LIBRARY               ===> MODS
        TYPE                  ===> JASM
        MEMBER                ===> SJ999XX
                                   _
0   SMP CDS data set:         ===> 'JES3.SP131.SMPCDS'
0   SMP Delta Deck Option:    ===> M         F = complete delta
                                             M = just for MODID = SJ999X
    SMP Information for SJ999XX
        COREQ                 ===>
        PREREQ                ===>
        SUP                   ===>
0   Merge Option:             ===> N         Y or N
    NEW SMP Element:          ===> n         Y or N
-
-
-
-
-
-
-
-
-
-
-                                  - 114 -
1
-
   C.1.8.3   CUMODSM
+  C.1.8.3   CUMODSM
0     This panel is displayed only for macro  updates to allow you to sp
   ify any modules that need to be assembled when SMP applies the macro.
-    CUMODSM ------------ USERMOD SMP MACRO UPDATE MENU ----------------
0    Enter Names of Modules to be Assembled when this Macro is APPLIED:
     (upto 9 names per line separated by blanks)
0    UM1:
     UM2:
     UM3:
     UM4:
     UM5:
     UM6:
     UM7:
     UM8:
     UM9:
     UMA:
     UMB:
     UMC:
     UMD:
     UME:
     UMF:
     UMG:
-
-
-
-
-
-
-
-
-                                  - 115 -
1
-
   C.1.8.4   CUMODN
+  C.1.8.4   CUMODN
0     This panel is  displayed for new source/macro elements  to prompt
   the correct distribution library,  the  correct target library,  and
   linkedit information that overrides the defaults.
0   CUMODN------------------ USERMOD SMP PARAMETERS MENU ---------------
0   SMP Information for SJ999XX element IATUX23
0       Source  Information
        FMID                  ===> HJS2327
                                   _
        SYSLIB                ===> JES3SRC
        DISTLIB               ===> AJES3SRC
0       Macro   Information
        SYSLIB                ===> JES3MAC     *
        DISTLIB               ===> AJES3MAC    *
0       Object Information
        SYSLIB                ===> JES3LIB     Target Library
        DISTLIB               ===> AOSBA       Dlib Library
0       Linkage Editor Options:            used for jclin build
        Rent                  ===> N       Y or N
        Reus                  ===> N       Y or N
        Authorized            ===> N       Y or N
        Lmod                  ===>           if other than module name
-
-
-
-
-
-
-
-
                                   - 116 -
1
-
   C.1.9   SMP
+  C.1.9   SMP
+          ___
0     This is a series of panels to allow you to perform many SMP functi
   without having an indepth knowledge of SMP.  There is a help for many
   them.
0     NOTE:  this is the one section that will change with the installat
+     ____
   of SMP/E.
0     This is the main  menu panel for SMP processing under  ISPF.   As
   functions for SMP become available this menu will expand.
-    SMP ----------------- SMP Processing Panel ------------------------
     Select application ===>
-       1  SMPREC     - Foreground SMP Receive or Reject
        2  SMPBATCH   - Batch RECEIVE,REJECT,APPLY,ACCEPT,RESTORE
        3  SMPLIST    - Foreground SMP List
        4  SMPCDSL    - List Full CDS in Batch  (non-IBM)
-
-
-
        I  INIT       - Initialize Source/SMP Defaults
        S  Secure     - Secure Terminal
0    Press END key to terminate
-
-
-
-
-
-
0                                  - 117 -
1
-
   C.1.9.1   SMPREC
+  C.1.9.1   SMPREC
0     This panel allows you to RECEIVE  or REJECT USERMODs using SMP.
   must specify the library into which the USERMOD was created and the m
   ber name and whether you want to RECEIVE or REJECT it.
0     RECEIVE makes  the USERMOD available to  be APPLIED to the  system
   the SMP APPLY function.  After you RECEIVE your USERMOD then contact
   SMP coordinator who will  APPLY it for you and let you  know when it
   been APPLIED.
0     After you  are notified that  the USERMOD  has been APPLIED  then
   should re-enter the COPYCNTL panel and use the Finished option, then
   ter Tracking and log the Modid complete.
0     REJECT makes the  USERMOD unavailable to SMP  and may be used  if
   create and RECEIVE a USERMOD and then  need to change it.   You MUST
   JECT a USERMOD prior to re-RECEIVEing it.
-    SMPREC--------------- SMP Receive/Reject Panel --------------------
     Enter/verify parameters below:
0    Data Set for SMP Deck:
         PROJECT               ===> $A1238
         LIBRARY               ===> MODS
         TYPE                  ===> JASM
         MEMBER                ===> SJ999XX   or blank for sequential
           or DSN              ===>
0    SMP Option:               ===> RECEIVE   Receive or Reject
0    SYSMOD id's (if different from MEMBER):
         ===>
0    SMP PTS data set:         ===> 'JES3.SP131.SMPPTS'
0    Optional PTS Volume:      ===>         Unit: ===>
0    RECEIVE Option:           ===> B          B = Check USERMOD id and
                                               I = Check USERMOD id only
                                               D = Delete OBJ decks only
                                               N = No checking or deleti
-
-
-
0                                  - 118 -
1
-
   C.1.10   SMPBATCH Panel
+  C.1.10   SMPBATCH Panel
+           ________ _____
0     This panel is the ISPF - Batch interface.  A batch job is construc
   based upon  the parameters  entered on  this menu  and is  submitted
   processing.
-    SMPBATCH ------------ SMP Batch Processing Panel ------------------
     Enter/verify parameters below:
0    SMP Option:               ===>
0    Check processing ?        ===> Y          Y or N
     SELECT, EXCLUDE or GROUP  ===> S          S E G
     SYSMOD id's (optional):
       ===>
     System (JES3, IMS, ?)     ===> JES3       Name of JCL to be Tailore
     TLIB:                     ===> N          Y or N  (FMID use only)
     Target VOLSER             ===>            optional
0    RECEIVE Input File:       ===>
     RECEIVE Option:           ===> B          (I D B or N)
0    For JOB Card build:
     Job Char: A        Class: JES3      Time: 10      MSGCLASS: T
     Sysout Class: *    Main: ANY        PRTY: 7
0    Submit JOB to print Assembly Listing ===> Y
     MSVGP for APPLY List      ===> JES3LIST  List Prefix  ===> AJES3L
     Primary Space for List D/S:==> 200       Secondary    ===> 200
-
-
-
-
-
-
-
-                                  - 119 -
1
-
   C.1.11   CNTLSCAN
+  C.1.11   CNTLSCAN
+           ________
0     This panel allows you to browse the  copy control file created by
   COPYCNTL panel.  This panel will invoke the ISPF BROWSE function.
-   CNTLSCAN --------------- Browse CNTL LOG Data Set ------------------
    Enter/verify parameters below:
-   Control Log Data Set Name:
        DSN                  %===> 'JES3.CNTL.LOG'
        MEMBER NAME          %===>          +  null = all
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                  - 120 -
1
-
   C.1.12   COMPARE
+  C.1.12   COMPARE
+           _______
0     This panel will invoke the Yale University  compare utility that w
   compare any two lrecl 80 files.
-    COMPARE ---------------- Compare Utility Panel --------------------
     Enter/verify parameters below:
-    Original Data Set:
         PROJECT               ===> $A1238
         LIBRARY               ===>
         TYPE                  ===>
         MEMBER                ===>
          or  DSN:  ===>
0    New Data Set:
         PROJECT               ===> $A1238
         LIBRARY               ===>
         TYPE                  ===>
         MEMBER                ===>
          or  DSN:  ===>
0    Processing Parm:         ===>               FULL or blank
0    Report Disposition:       ===> D            D = Disk Data Set
                                                 T = Terminal
-
-
-
-
-
-
-
-
0                                  - 121 -
1
-
   C.1.13   RIBUPDTE
+  C.1.13   RIBUPDTE
+           ________
0     This panel  prompts you for the  libraries and input to  simulate
   BUPDTE.   The input  may be standard IEBUPDTE format  (except no NUMB
   INSERT or DELETE statements are allowed) or SMP SYSMOD format.
-    RIBUPDTE---------------- IEBUPDTE Simulator Panel -----------------
     Enter/verify parameters below:
0    Primary source data set:
         PROJECT               ===>
         LIBRARY               ===>
         TYPE                  ===>
            or DSN    ===> 'JES3.SP131.JES3SRC'
0    Alternate source data set:
         PROJECT               ===>
         LIBRARY               ===>
         TYPE                  ===>
            or DSN    ===> 'JES3.SP131.JES3MAC'
0    Input Data Set:           ===> 'JES3.SP131.SMPPTS'
         MEMBER                ===>               may be blank for seq d
0               List=ALL       ===> N             Y or N
0    Report disposition       ===> NEW            disposition for SYSPRI
-
-
-
-
-
-
-
-
0                                  - 122 -
1
-
   C.1.14   SEARCHIT
+  C.1.14   SEARCHIT
+           ________
0     This  panel prompts  you  for the  source or  macro  libraries to
   searched for upto 20 character strings.  After hitting enter you will
   prompted for upto 20 character strings  which are terminated by a str
   of 4 blanks.   You may also specify if you want to execute the search
   the foreground or batch.
-    SEARCHIT --------------- Source Search Utility Panel --------------
     Enter/verify parameters below:
0    Partitioned Data Set to scan:
         PROJECT               ===>
         LIBRARY               ===>
         TYPE                  ===>
           or  DSN             ===>
0    Partitioned Data Set 2: (optional)
         PROJECT               ===>
         LIBRARY               ===>
         TYPE                  ===>
           or  DSN             ===>
0    Partitioned Data Set 3: (optional)
         PROJECT               ===>
         LIBRARY               ===>
         TYPE                  ===>
           or  DSN             ===>
0    Report Destination:       ===> D         T = terminal
                                              D = Data set
-
-
-
-
-
-
-
                                   - 123 -
1
-
   C.1.14.1   SEARCHCC
+  C.1.14.1   SEARCHCC
0     This panel is  displayed to allow you to enter  your search argume
   and verify them prior to invoking the search.
-    SEARCHCC --------------- Source Search Control Cards --------------
0   Enter Search Arguments / Maximum of 20 characters terminated by 4 bl
0     CC1:  ===>
      CC2:  ===>
      CC3:  ===>
      CC4:  ===>
      CC5:  ===>
      CC6:  ===>
      CC7:  ===>
      CC8:  ===>
      CC9:  ===>
      CC10: ===>
      CC11: ===>
      CC12: ===>
      CC13: ===>
      CC14: ===>
0    BATCH OR TSO EXECUTION: TSO      BATCH OR TSO
     JOB CHAR: A        JOB CLASS: JS3BATCH  PRTY: 9     SYSOUT CLASS: T
-
-
-
-
-
-
-
-
-                                  - 124 -
1
-
   C.1.15   BROWSASM
+  C.1.15   BROWSASM
+           ________
0     This panel allows you to display the assembly listing that was gen
   ated at SMP APPLY time to the Mass Store (3850)  and optionally to pr
   it.  This panel invokes clist and panel ASMPRINT.
-    BROWSASM ------------- Browse MSS Assembly Listing ----------------
     Enter/verify parameters below:
0        Module Name           ===> IATUX01
0        Prefix                ===> AJES3L
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                  - 125 -
1
-
   C.2   PROGRAMS
+  C.2   PROGRAMS
+        ________
0  C.2.1   CUMOD
+  C.2.1   CUMOD
+          _____
0     This program  will generate an IEBUPDTE  deck with SMP  control ca
   (optional) by comparing 2 source decks.   Only the report is produced
   SMP=n is specified.
0     The method of operation is:
-     1.  Acquire PARM from ISPF variables
0     2.  Invoke SMPDATA to get CDS information.
0     3.  Read NEWSRC file and compare with OLDSRC.
0     4.  All new records generate a record in delta deck.
0     5.  All missing records generate a message  in the report and will
          generate a delta deck card.
0     6.  A check is made for at  least 1 valid prolog documentation re-
          cord which is  identified by either *@  in cols 1-2 or  .*@ in
          cols 1-3 for macros.
-
             TSO ISPF invocation:
-         ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¼
          ×                                                            ×
          ×  ALLOC F(REPORT) DS(*)                                     ×
          ×  ALLOC F(DELTA) DS(OUTPUT FILE FOR DELTA DECK)             ×
          ×  ALLOC F(OLDSRC)  DS(ORIGINAL SOURCE/MACRO)                ×
          ×  ALLOC F(NEWSRC)  DS(NEW/UPDATED SOURCE/MACRO)             ×
          ×  ALLOC F(SMPCDS)  DS(SMP CDS)                              ×
          ×  ISPEXEC SELECT PGM(CUMOD)                                 ×
          ×                                                            ×
          ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿³
-
-
-
-
                                   - 126 -
1
-
          ISPF parameters:
               MEMBER   element name (i.e. Macro name or SRC name)
               MODID    SMP USERMOD id (i.e. TT00011)
               PREREQ   pre requisites PTF
               FMID     SMP FMID
               SYSLIB   SMP syslib
               DISTLIB  SMP DLIB
               NEW      new module or macro (not in SMPCDS yet)
 ×             MERGE    merge multiple elements
               COREQ    co-requisites PTF
               SRCMAC   SRC or MAC  (def.= SRC)
               DELFULL  complete delta or just for MODID
                        (SMP = Y only)
               SMP      Y - generate SMP control cards (default)
                        N - no deck - report only
               ADEL     Y - allow records to be deleted
                        N - do not allow deleted records
                            (default=n)
                            except for USERMOD records
               UM1-UMG assembly module names for macro update
-
-
-
-
-
-
-
-
-
-
-
                                   - 127 -
1
-
   C.2.2   SMPLINKP
+  C.2.2   SMPLINKP
+          ________
0     This is an ISPF program to link  a module using the linkedit infor
   tion stored in the SMP CDS if available.
0     ISPF variables needed on input:
0       SLOAD      - Load library for IEWL
        M1 THRU M8 - Object module name
        ROPT       - RENT or REUS flag or blank for new LMODs
        AUTH       - Y or N for new LMODs
0  ISPF variables output to SMPLINKP Panel:
0       SLOAD
        M1 through M8
        SYSLIB - The SMP determined target library ddname of SYSLMOD
                 if new
        LEPARM - SMP determined Linkedit  parm or that provided by ROPT
        NEW    - Indicates that you have a NEW module or LMOD
        DELMOD - Indicates default LMOD for NEW modules if desired
0  Sub-programs:
        SMPDATA - via ATTACH to acquire SMPCDS information
        IEWL    - via ATTACH to perform linkedit
        IKJEFF18- via LINK to provide Dynamic Allocation Failure Analysi
0  Return Codes:
0       00 - OK
        04 - Failure in Dynamic Allocation
0  DD's required thru Pre Allocation:
         SYSLIN
         SYSUT1
         SYSLIB
         SYSPRINT
         OBJ    - object deck library
         SMPCDS - SMP Control Data Set
0  DD's acquired thru Dynamic Allocation:
         SYSLMOD
-
-
-
-                                  - 128 -
1
-
   C.2.3   SMPDATA
+  C.2.3   SMPDATA
+          _______
0     This is a generalized subroutine that can  be linked to from any p
   gram  and will  return  selected information  from the  SMP  CDS to
   caller.
0  Input R1 -> 3 Words
        Word1 = -> FUNCTION DESIRED
                SRC    returns FMID,RMID,UMID,DISTLIB,SYSLIB
                MAC    returns FMID,RMID,UMID,DISTLIB,SYSLIB
                MOD    returns FMID,RMID,UMID,DISTLIB,SYSLIB,LMOD
                LMOD   returns SYSLIB,LEPARM,LE CONTROL CARDS
0       Word2 = -> Element Name
0       Word3 = -> 2 Words where
                Word1 contains the length of the provided data area.
                The second points to the start of the data area.
-       DD's required/used:
              SMPOUT   - Dynamically Allocated
              SMPCNTL  - Dynamically Allocated
              SMPPUNCH - Dynamically Allocated
              SMPLOG   - Dynamically Allocated
      ------> SMPCDS   - MUST BE PREALLOCATED <-------
-     HMASMP is invoked to gather the required data
-
-
-
-
-
-
-
-
                                   - 129 -
1
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×  Format of Returned data
   ×
   ×  FOR MAC SRC and MOD requests
   ×  1        10
   ×  NAME     Element name
   ×  DISTLIB  SMP DISTLIB DDNAME
   ×  SYSLIB   SMP SYSLIB DDNAME
   ×  FMID     FMID
   ×  RMID     RMID
   ×  UMID     ( max 4 UMIDS per line
   ×  UMID       4 UMIDS - may be multiple lines
   ×  UMID       max 4 UMIDS  )
   ×  LMOD     Load module name (MOD request only)
   ×
   ×   If any of the above fields are missing then there is no
   ×   entry in the CDS for that field.
   ×
   ×
   ×  For LMOD requests:
   ×  1        10
   ×  NAME     Element name
   ×  SYSLIB   SMP TARGET Linkedit Library
   ×  LEPARM   Linkedit Parm
   ×  LE cards (blank)
   ×  --- Actual cards in col 1-80 ---
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
0  Return codes:
         0  -  Normal return
         4  -  Bad SMP return - probably element not found
         8  -  No element name specified
        12  -  Invalid function code
        16  -  SVC 99 Error
        20  -  Exceeded 200 data records
-
-
-
-
-
0                                  - 130 -
1
-
   C.2.4   BLDJCLIN
+  C.2.4   BLDJCLIN
+          ________
0     This program is designed to be executed under ISPF only.   It is p
   of the source maintenance system and will build jclin for use by prog
   CUMOD in building the SMP USERMOD.
0  ISPF variables used:
          MEMBER = module name
      **  DELMOD = default load module name
       *  RENT   = RENT LE attributes (implies reus)
       *  REUS   = REUS LE attributes
       *  AUTH    = authorized LE attribute
       *  SYSLIBO = target library for load module
       *  DISTLIBO = DLIB for module
0      *  - Used only for new LMODs
      **  - required only if LMOD name is different than module name
-  DD's required:
          SMPJCLIN DD DSN=jclin output file
          SMPCDS DD DSN= SMP CDS dsn
0  External routines:
          SMPDATA - via LINK to acquire SMP CDS information
-
-
-
-
-
-
-
-
-
0                                  - 131 -
1
-
   C.2.5   SEARCHIT
+  C.2.5   SEARCHIT
+          ________
0     This utility is designed to search all files having a ddname prefi
   with an @ character for the supplied character string.
0     JCL to Execute SEARCHIT:
0  //  EXEC PGM=SEARCHIT
   //SYSIN    -  CONTROL CARDS (SEE BELOW FOR SYNTAX)
     (LRECL=80)
   //SYSPRINT -  REPORT OF HITS
     (RECFM=FBA,LRECL=121)
   //@AA      -  PDS OR PS INPUT FILE
     (LRECL=80)
   //@BB      -  PDS OR PS INPUT FILE
     (LRECL=80)
-     TSO Execution
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×    ALLOC F(SYSIN) DA(*)
   ×    ALLOC F(SYSPRINT) DA(*)
   ×    ALLOC F(@AA) DA(PDS OR PS INPUT FILE)
   ×    ALLOC F(@BB) DA(PDS OR PS INPUT FILE)
   ×    $P SEARCHIT
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                      Figure 29:  SEARCHIT TSO Example
-
-
      The  control card  may have  any character  string that  you wish
   search for coded in columns 1 through 20.  Column 20 or the first occ
   rence of 4 consecutive blanks indicate the end of the search string.
0     The control cards may be terminated with a /* or with END.
-     NOTE:  All processing is in upper case.
-
-                                  - 132 -
1
-
   ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×           ABENDS:
   ×                 1000 = More than 100 control cards
   ×                 2000 = More than 2000 directory entries in PDS
   ×
   ×           Solution to ABENDS:
   ×                 1000 = Increase label TABSIZE value
   ×                 2000 = Increase label DIRSIZE value
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
                                   TABLE 5
0                            SEARCHIT Abend Codes
-
-
   C.2.6   RIBUPDTE
+  C.2.6   RIBUPDTE
+          ________
0     Description: this program will simulate IEBUPDTE.   It may be invo
   either via a  TSO call or batch  program .   When invoked  RIBUPDTE w
   simulate the insert,  replace functions  of IEBUPDTE plus will determ
   if a USERMOD record  is being overlayed or if an  insert is being pla
   within 4 cards of a USERMOD card.
0     A USERMOD record (card) is determined in the following manner:
0     1.  From sysut1 only
0     2.  Does col 64 = @
0     3.  Is col 65 a char from k through t
0     4.  If both 2 and 3 are true then it must be a USERMOD record.
-     JCL to execute:
0  //RIBUP EXEC PGM=RIBUPDTE
   //SYSPRINT DD SYSOUT=*
   //SYSIN  DD -- SAME AS IEBUPDTE
   //SYSUT1 DD -- SAME AS IEBUPDTE
   //SYSUTA DD -- ALTERNATE SYSUT1
-
-
0                                  - 133 -
1
-
   C.2.7   MODSREP
+  C.2.7   MODSREP
+          _______
0     This program will scan a source pds and will generate 3 reports:
   Report 1:   All usermods by module
0  Report 2:   All usermods with modules affected
               (note: the first 5 positions of the USERMOD are
                used for this report)
0  Report 3:   Documentation report listing all prologs (optional)
-    JCL:        EXEC PGM=MODSREP,PARM='TITLE ID'
                 SYSPRINT DD SYSOUT=A
                 SOURCE   DD DSN=SOURCE PDS
                 SORTIN   DD DSN=SEQ FILE (OPTIONAL)
0     If DD SORTIN  is present then a third report  is generated consist
   of all prologs found.  A prolog is determined to be an *@ or .*@ In c
   umns 1 through 2  or 1 through 3 of a source or  macro member.   This
   accomplished by  invoking SORT internally  and then producing  the th
   report.
0     USERMODs are  determined by  an @ in  column 64  and a  valid USER
   character in column 65 (K through T except O)
0     All SORT files are dynamically allocated and SORT is then invoked
   LINK.
-
-
-
-
-
-
-
-
0                                  - 134 -
1
-
   C.2.8   COPYCNTL
+  C.2.8   COPYCNTL
+          ________
0     This program will  control access to any source or  macro library
   will perform the following functions:
0     1.  COPY
0         a) Copy a source element and log an entry in a control file.
0         b) Inform the  copies if anyone else  currently has a  copy of
             the element and display the history of the element.
0     2.  FINISHED
0         a) Log the use of an element complete in the control log.
0     3.  CANCEL
0         a) Log the use of an element cancelled in the control log.
-
      The dd statements required to execute COPYCNTL are:
0     1.  CNTL
0         a) A Control log pds where the member  name is the name of the
             element copies.
0     2.  WORK
0         a) A sequential work file.
0     3.  ELEMIN
0         a) The input library ( A PDS)
0     4.  ELEMOUT
0         a) The output library ( A PDS)
-     The execution parms are:
0     MEMBER=  -  Element name to be processed
      M=
0     MODID=   -  SMP USERMOD ID
      ID=
0     CODE=    -  Processing code
      C=
0                                  - 135 -
1
-
      Codes:
                C        -  Copy element
0               F        -  Flag element as Finished
0               X        -  Flag element as cancelled
-
      Special NOTE:
     Access is made to the OSACT to acquire the programmer
     name which is assumed to be the first 10 bytes of the
     accounting information.
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                  - 136 -
1
-
   C.2.9   COMPARE
+  C.2.9   COMPARE
+          _______
0     1.  Description
0            This program  is used to compare  two versions of  the same
          source program.   It will compare columns  1 through 72 or op-
          tionally columns 1 through 80.  The optional file, IGNORE, may
          be used to instruct COMPARE to ignore specified card images in
          the data sets being compared.   A  report of the comparison is
          written to the SYSPRINT file.   If the output is directed to a
          TSO terminal,  only  the first 78 characters of  each line are
          written.  This may not  be desirable if you are  using a hard-
          copy terminal.
0            The COMPARE program uses only  columns 1 through 72;  thus,
          any two versions  of a program may be easily  compared even if
          one (or both)  of the files has been resequenced.   If neither
          file has been  resequenced,  a PARM of "FULL" may  be coded to
          request that all eighty columns be used in the comparison.   A
          facility is also provided to  ignore trivial card images (such
          as " EJECT " or " SPACE 3 " in an assembler source program).
0            This program  uses all available  core in its  region after
          opening its  input/output files  (except for  4k which  is re-
          leased).   The obtained core area is  used as a compare buffer
          which is only dumped (written to SYSPRINT)  when identical re-
          cords (based on the first 72 bytes)   are found in the old and
          new data sets.   If the compare buffer overflows,  the program
          terminates.   Therefore,  if it is suspected that the two data
          sets may be  very far out of  sync,  a large region  should be
          used.  The number of unmatched records that can be buffered at
          one time can be calculated from the expression:   (region size
          - 8k - buffers) / 160.   As a general rule,  30k is sufficient
          for about 100 unmatched records at a time,  and 100k is suffi-
          cient for about 500 unmatched records at a time.
0            Card images  of the  trival data is  input from  the IGNORE
          file.  If the IGNORE DD statement is missing, a table of triv-
          ial data for  assembler source code will be  assumed which in-
          cludes " EJECT ",   " SPACE   " " SPACE 1 ",  "  SPACE 2 ",  "
          SPACE 3 " and blank comment cards.
-
      2.  JCL
0         //stepname   EXEC  PGM=COMPARE,REGION=100K
          //OLD        DD    DSN=old-seq-dsn,....
          //NEW        DD    DSN=new-seq-dsn ....
          //SYSPRINT   DD    SYSOUT=A
          //IGNORE     DD    *      (OR DUMMY  --  OR OMITTED)
           (Trivial card images that are to be ignored in the comparison
0                                  - 137 -
1
-
          /*
-
0            This program is originally from the Yale University.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-                                  - 138 -
1
-
   C.2.10   DAHANDBK
+  C.2.10   DAHANDBK
+           ________
0     This program is designed to generate  a data area handbook similar
   the MVS Debugging Handbooks.   The input is the assembled machine rea
   ble listing.
0     1.  I suggest  that you use assembler  H and assemble  every macro
          you can think of.
0     2.  Place the macros in alphanumeric order.
0     3.  Use PRINT  OFF and PRINT ON  to insure that only  those macros
          you want get listed.
-
-  ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
   ×
   ×          //STEP  EXEC PGM=DAHANDBK,PARM='L=xx,TITLE INFORMATION'
   ×          //STEPLIB  DD DSN=AOST.LOAD,DISP=SHR
   ×          //INPUT    DD DSN=listing d/s from assembly of macros
   ×          //TITLE    DD SYSOUT=*   TITLE AND TABLE OF CONTENTS
   ×          //OUTPUT   DD SYSOUT=*   HANDBOOK
   ×          /*
   ×
   ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
-                      Figure 30:  DAHANDBK JCL Example
-
0     1.  Parm
0            The L=xx parameter is optional and  if coded must be first.
          It specifies the number of lines per page.   xx must be 2 num-
          bers.
0            The title consists of up to 45 characters to be used on the
          title page and on the bottom of each page to identify the con-
          tents of the handbook (i.e. PARM='JES3 SP 1.3.1 PUT 8209').
0         ö¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¼
          ×                                                            ×
          ×        The defaults are 'L=45,Data Area Handbook'          ×
          ×                                                            ×
          ¨¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿³
-
                                   - 139 -
1
-
      2.  Processing Overview
0         a) The table of  contents is built from the  listing using ei-
             ther the label of  the macro for the name or  if blank then
             the macro itself with the first 40 bytes of data is used.
0         b) The mapping of the macro will  list all DC's with the first
             16 bytes  of the value.   All  equates will have  the value
             displayed in hex  immediately following the prior  DC which
             is assumed to be the flag byte.
0         c) After the mapping a cross-reference  is performed in alpha-
             numeric order.
-
-
-
-
-
-
-
-
-
-
-
-
-
0                                  - 140 -
1
-
   C.2.11   PRNTMODS
+  C.2.11   PRNTMODS
+           ________
0     PRNTMODS is designed to print all  USERMOD statements found in an
   sembly listing to simplify the process of determining where a module
   been modified.
0  A USERMOD is determined to be:
0     1.  An @ in column 64
0     2.  A valid USERMOD id K through T (excluding O) in column 65
-  JCL to execute:
          //stepnm  EXEC PGM=PRNTMODS
          //ASMIN   DD   DSN=assembly listing on dasd
          //SYSPRINT DD   SYSOUT=x
-
   C.2.12   ACTMODS - Active Modules/Macros Report
+  C.2.12   ACTMODS - Active Modules/Macros Report
+           _______ _ ______ ______________ ______
0     This program is designed to read an unloaded copy of the source ma
   tenance control log (unloaded by IEBPDSUT) and generate a report list
   all elements currently being worked on.
0  JCL Required:
0       //stepname EXEC PGM=ACTMODS
        //SYSPRINT DD SYSOUT=*
        //IN       DD DSN=unload from IEBPDSUT
-
-
-
-
-
-
-
0                                  - 141 -
1
-
                      This page intentionally left blank
-
-                               LIST OF TABLES
-  Table                                                               p
0  1.  SMP Receive Exit Options  . . . . . . . . . . . . . . . . . . . .
0  2.  JES3 Register Conventions . . . . . . . . . . . . . . . . . . . .
0  3.  MVS VM Testing Datasets . . . . . . . . . . . . . . . . . . . . .
0  4.  JES3 1.3.1 LNKLSTxx Options . . . . . . . . . . . . . . . . . . .
0  5.  SEARCHIT Abend Codes  . . . . . . . . . . . . . . . . . . . . .
-
-
-
-
-
-
-
-
-
-
-
                                   - 142 -
1
-
-
-                              LIST OF FIGURES
-  Figure                                                              p
0  1.   Message Coding Example . . . . . . . . . . . . . . . . . . . . .
0  2.   Flag Definition/Testing/Setting  . . . . . . . . . . . . . . . .
0  3.   Sample Using AGO and ANOP  . . . . . . . . . . . . . . . . . . .
0  4.   IATX#IF Macro  . . . . . . . . . . . . . . . . . . . . . . . . .
0  5.   IATX#RIP Macro . . . . . . . . . . . . . . . . . . . . . . . . .
0  6.   IATY#RIB Macro . . . . . . . . . . . . . . . . . . . . . . . . .
0  7.   IATY#RIM Macro . . . . . . . . . . . . . . . . . . . . . . . . .
0  8.   IATY#RIP Macro . . . . . . . . . . . . . . . . . . . . . . . . .
0  9.   IATY#RIF Data Csect  . . . . . . . . . . . . . . . . . . . . . .
0  10.  IATY#RID Data Csect  . . . . . . . . . . . . . . . . . . . . . .
0  11.  RIP Example 1  . . . . . . . . . . . . . . . . . . . . . . . . .
0  12.  RIP Example 2  . . . . . . . . . . . . . . . . . . . . . . . . .
0  13.  RIP Complex Example  . . . . . . . . . . . . . . . . . . . . . .
0  14.  RIP using WORK Example . . . . . . . . . . . . . . . . . . . . .
0  15.  XEDIT Syntax . . . . . . . . . . . . . . . . . . . . . . . . . .
0  16.  XEDIT Example  . . . . . . . . . . . . . . . . . . . . . . . . .
0  17.  XEDIT Line Commands  . . . . . . . . . . . . . . . . . . . . . .
0  18.  XEDIT Browse/Modify Example  . . . . . . . . . . . . . . . . . .
0  19.  CONVDATE Example . . . . . . . . . . . . . . . . . . . . . . . .
0  20.  RFOPEN macro   . . . . . . . . . . . . . . . . . . . . . . . . .
0  21.  RFOPEN Examples  . . . . . . . . . . . . . . . . . . . . . . . .
-                                  - 143 -
1
-
   22.  RFSCAN macro . . . . . . . . . . . . . . . . . . . . . . . . . .
0  23.  RFSCAN Example . . . . . . . . . . . . . . . . . . . . . . . . .
0  24.  RFCLOSE Macro  . . . . . . . . . . . . . . . . . . . . . . . . .
0  25.  RFCLOSE Example  . . . . . . . . . . . . . . . . . . . . . . . .
0  26.  JES3 PRDMP Control Statement . . . . . . . . . . . . . . . . . .
0  27.  INITDECK Tailoring Control . . . . . . . . . . . . . . . . . . .
0  28.  SYSOUT Limitations . . . . . . . . . . . . . . . . . . . . . . .
0  29.  SEARCHIT TSO Example . . . . . . . . . . . . . . . . . . . . .
0  30.  DAHANDBK JCL Example . . . . . . . . . . . . . . . . . . . . .
-
-
-
-
-
-
-
-
-
-
-
-
                                   - 144 -

1
1
+
-
                                MVS TUNING REPORT
+                               MVS TUNING REPORT
-
-
                                    VERSION IV
+                                   VERSION IV
-
-
                                  NOVEMBER 1979
+                                 NOVEMBER 1979
-
-
                             MVS Performance Project
+                            MVS Performance Project
1
 The following people worked on this document at the St. Louis
 meeting and deserve thanks along with the other contributors of
 information and time. It is hoped that as more information is
 made available it will be submitted to the MVS Performance
 Project for inclusion in future versions of this report.
 This document has been prepared for publication in a SHARE SSD.
0                                           William F. Hartman
                                            Manager
                                            MVS Performance Project
-
-
-
0     Arnold Casinghino         Bob Slate
      Marty Spritzen            Cliff Goosmann
      Terri Farrari             Tom Elfreich
      Jerry Daniel              Jim Purdy - Deputy Project Manager
      Frank Pajerski            Sal Asad
      Danual Lau                Elaine Johnson
      Jim Woodhill              Wayne Uniat
      Alan DiPirro              Dan Squillace
      Tom Beck                  Jack MacLean
      Ben Moore                 Ken Tucker
      John Flavin               James Mehaffey
      Hazel Jacoby              Dave Thewlis
      Mano Hazarika             Clayton Wilkie
      Roger Zimmerman           Ajit K Murarka
      Mitch Schneidkaut         Meg Ghent
      John Sullivan             Tom Cooney
      Elaine Brinker            Bill Coyne
      Ed Berkel                 Ron Clark
0Contributors - not at St. Louis
0     John Chapman              Phylis Livings
      Keith Sopher
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   Contents
1                                TABLE OF CONTENTS
 Contents By Section
0     Methodology.................................................7
      Configuration..............................................28
      SRM........................................................32
      Publications...............................................39
      ASM........................................................42
      IMS........................................................45
      IOS........................................................48
      JES2.......................................................54
      JES3.......................................................57
      MSS........................................................60
      SCP........................................................64
      SMF........................................................71
      TSO........................................................78
      TCAM.......................................................76
      VIO........................................................87
      POUND......................................................94
      DCMS......................................................129
      Tuning Tools..............................................141
-
-
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   Contents
1                                TABLE OF CONTENTS
 Contents By Item (zaps,tables, fine tuning, etc.)
0     Configuration
            1.0   SYSGEN JOBCAT JCL..............................30
            2.0   Shared DASD RESERVE............................31
      SRM
            1.0   Page stealing..................................36
            2.0   Add SRB to TCB time............................36
            3.0   MPL target adjustment..........................37
            4.1   Count NS spaces in MPL.........................37
      PUBLICATIONS
            1.0   MVS............................................39
            2.0   Capacity Planning..............................40
            3.0   IMS/MVS........................................40
            4.0   General........................................40
            5.0   DASD...........................................40
      ASM
            1.0   Slot turnaround................................42
            2.0   SLOTC and SLOTV................................43
            3.0   NUCLEUS pages..................................44
      IMS
            1.0   Extraneous abends..............................46
            2.0   FETCH work area................................46
            3.0   Fix list.......................................47
            4.0   DISP=SHR for ISAM updates......................57
      IOS
            1.0   Channel rotate.................................48
            2.0   Priority IO queuing............................49
            2.1   Priority queuing...............................50
            3.0   VATLST defaults................................51
            4.0   IOHALT page fix................................52
            5.0   CPUid in IO error messages.....................53
      JES2
            1.0   Automatic command bootstrap....................55
            2.0   Hardcopy log...................................56
            3.0   Lines of print message.........................56
      JES3
            1.0   Console roll speed.............................57
            2.0   Suppress LOCATES...............................57
            3.0   JOBLIB and STEPLIB.............................58
            4.0   DWAITs.........................................58
            5.0   JSAM buffers...................................59
      MSS
            1.0   INPL...........................................60
            2.0   Staging space..................................60
            3.0   Table pack usage...............................60
            4.0   Track allocation...............................61
            5.0   Temporary datasets.............................61
            6.0   RELEASE and LRU problem........................61
            7.0   QSAM dataset performance.......................62
            8.0   MSS messages...................................62
            9.0   RESERVE........................................62
           10.0   Virtual UCB busy...............................63
           11.0   Channel configuration..........................63
-
                  SHARE MVS Tuning Report IV Nov 1979   Contents
1                                TABLE OF CONTENTS
      SCP
            1.0   Subsystem requests.............................64
            2.0   GDG updated at step term.......................64
            3.0   DASD default to ROUND..........................65
            4.0   Larger CSA needed..............................65
            5.0   Console automatic ROLL mode....................66
            6.0   WTO user exit control..........................66
            7.0   JOBFAIL disposition............................66
            8.0   DU display.....................................67
            9.0   Dump 80 lines per page.........................67
           10.0   Alphabetic IEBPTPCH output.....................68
           11.0   Started task print out.........................68
           12.0   Assembler default block sizes..................68
           13.0   Date last used in DSCB.........................69
           14.0   Dynamic BLDL...................................70
      SMF
            1.0   OPTCD=W........................................71
            2.0   Record type 40.................................71
            3.0   Extraneous messages............................72
            4.0   Don't SWAP while ENQed.........................72
            5.0   Flush SMF buffer...............................72
      TCAM
            1.0   USERMAX........................................75
            2.0   High CPU usage.................................76
            3.0   3270 polling...................................77
      TSO
            1.0   Allocation default to SHR......................78
            2.0   Edit tab for 3270..............................78
            3.0   Edit data set size.............................78
            4.0   TSO PROCLIB....................................79
            5.0   SVS IEBCOPY for MVS............................79
            6.0   CMDLIB members to LPALIB.......................80
            7.0   LINK and LOAD overhead.........................81
            8.0   Free TMP data sets.............................82
            9.0   CVOL search....................................83
           10.0   TSO OUTPUT command.............................83
           11.0   SPF temporary data sets........................83
           12.0   EDIT VERIFY ON.................................84
           13.0   PROFILE command default........................84
           14.0   Concatenated UADS..............................85
      VIO
            1.0   Optimization with 3330.........................87
            2.0   Optimization with 3350.........................88
            3.0   Avoid chained scheduling.......................89
            4.0   BUFNO=1........................................89
            5.0   Limit VIO track capacity.......................90
            6.0   Limit space on 3330............................90
            7.0   Limit space on 3350............................91
            8.0   Round average block requests...................92
      DCMS
            1.0   HELP..........................................128
            2.0   CHANNEL.......................................130
            3.0   CHIMP.........................................130
            4.0   CPU...........................................131
-
                  SHARE MVS Tuning Report IV Nov 1979   Contents
1                                TABLE OF CONTENTS
            5.0   D A...........................................132
            6.0   DCMSPROF......................................132
            7.0   DIDOCS........................................133
            8.0   DMN...........................................133
            9.0   D U...........................................134
           10.0   FRAMES........................................134
           11.0   JES3..........................................135
           12.0   LOOK..........................................135
           13.0   MS............................................135
           14.0   PAGE..........................................136
           15.0   POUND.........................................137
           16.0   SRM...........................................137
           17.0   SWAP..........................................137
           18.0   TSUSER........................................137
           19.0   WIZARD........................................137
           20.0   MISCELLANEOUS.................................138
-
-
-
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   Contents
1
 METHODOLOGY
0This methodology has undergone constant revision by members of
 the MVS Performance project. This latest version was updated at
 SHARE 52.5, JUNE 1979. The basic level of system includes many
 SUs especially the Supervisor, Scheduler, and RMF 2 updates.
0This methodology and the specific tips and techniques presented
 within it are offered as a supplement to the information presented
 in various IBM publications, most notably the Initilization and Tuning
 Guide and the MVS Performance Notebook.  Our hope is to give you the
 benefit of our real-world experiences.
0Where applicable, discussion of the capabilities and uses of non-IBM
 hardware and software performance products are given, information
 obviously unavilable from IBM itself.
0At the center of any MVS tuning methodology should, indeed,be a
 statement of purpose. The proverbial question: WHY TUNING? In an
 effort to explain why a comprehensive measurement and tuning program
 should be part of each data processing installations overall plan, the
 pictorial view of where tuning fits into the planning cycle is given.
-
-
-
-
-
-
-
-
-
-
-
-                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
                     _________________________
                     ×  DETERMINE CURRENT    ×
                     ×  WORKLOAD             ×.......
           .........>×  CHARACTERISTICS      ×      .
           .         ×_______________________×      .
           .                                        .
           .                                        .
           .                                        .
   ________.__________                      ________v___________
   × TUNE TO PRESERVE×                      ×                   ×
   × DATA PROCESSING ×                      ×  DETERMINE FUTURE ×
   ×   PLAN AND      ×                      ×      WORKLOAD     ×
   ×  ENVIRONMENT    ×                      ×  CHARACTERISTICS  ×
   ×_________________×                      ×___________________×
          /.`                                       .
           .                                        .
           .                                        .
           .                                        .
           .                                        .
   ________.___________                     ________v_____________
   ×                  ×                     ×   USE A PREDICTIVE ×
   ×  PERIODICALLY    ×                     ×PROCESS TO DETERMINE×
   ×    VALIDATE      ×                     ×     CAPACITY       ×
   ×      PLAN        ×                     ×   REQUIREMENTS     ×
   ×                  ×                     ×                    ×
   ×__________________×                     ×____________________×
          /.`                                       .
           .                                        .
           .                                        .
           .                                        .
           .         ________________________       .
           .         ×PRODUCE DOCUMENTATION ×       .
           ..........×AND MANAGEMENT REPORTS×<.......
                     ×DESCRIBING THE        ×
                     ×CAPACITY NEEDED       ×
                     ×______________________×
-
-
-
-
-
-
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 As the illustration denotes,  tuning is an  integral part of the long-r
 processing plan.    It serves the purpose  of extending or allowing  th
 plan  to reach  its fulfillment  through a  series of  iterative adjust
 various system parameters,application programs, hardware configurations
 tuning program can be applied in a passive mode.  What is meant by this
 reports can be generated and revirwed by analysts and management period
 obtain  and  maintain  primarily  general  awareness   of  the  data  p
 installation's  performance.   A more  vigorous  approach  is  one that
 described as a "preventive tuning" approach.   Under this methodology,
 data elements are capured and stored continuously, so that, daily anays
 performed.  In this way poor performance, be it in the form of sporadic
 time spikes for on-line systems or elongated batch throughput and turna
 be better anticipated and data describing  those variables causing the
 can be accessed,  processed and reported readily.  This provides the in
 required  for  immediate  tuning  to be  undertaken  to  solve  the  pe
 abnormality.
0The format of the  methodology described in this report is  divided int
 sections.  The first  section consists of discussion  of what can and
 accomplished by tuning MVS.  Next is the section on what to measure to
 This is followed by lists of those items  that can be tuned in MVS.  Th
 are by  order of  importance and  by ease  of change.    The tools  ava
 measure the  parameters of MVS  are described in  this report under  th
 section.   Next  are  some  parameters that  can  be  calculated  from
 information to further determine tuning  strategies and performance bot
 Following this is  a recomended method of collecting  and maintaning pe
 data, a performance database.   In addition there are some recomended d
 from SMF/RMF  to be collected.    Finally,  there is  included a list
 values"  that offer  guidelines for  determining  good and  bad perform
 various areas of the system.  These values have  held up over time and
 be unaffected by installation of various selectable units.
0With the above information the actual methodology is then outlined. The
 should be to select  those areas that are applicable to  your installat
 on  each  tuneable  area  and  determine   if  you  are  receiving  the
 performance.
0There are two basic approaches to system tuning:
0     o     The top-down approach begins with inspection of
            overall system data with the path of further activity
            unknown. This will generally create additional detail
            projects. This document is a top-down approach.
0     o     Working in the bottom-up mode, specific exception
            conditions generate the work. These usually include
            poor job performance on specific jobs or poor response
            under certain conditions.
0The sources of data include:
0     RMF (or MF1)
      Other Software Monitors
      SMF Data
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
      GTF Data
      Hardware monitor data
      Console logs
      Physical observations
0Two things should be noted.
0     o     Going down the list an increasing amount of raw data
            is generated with data reduction becoming more
            important.
0     o     In a new installation it is advisable to reasonably
            exhaust data from one level before dropping to the
            next. Too much data can be as frustrating as not
            enough.
0Remember:
0     o     An abnormal situation at one installation may be the
            norm at another site. Only where a quasi-standard for
            MVS exists will an attempt be made to give a judgment.
            As with most aspects of systems programming, intuition
            is a most valuable asset.
0     o     A tuning methodology once executed is not a permanent
            solution. The methodology must be repeated
            periodically to compensate for workload changes. The
            methodology should also be revised as the system
            changes and as knowledge and experience increases.
-
-
-
-
-
-
-
-
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 1.   What can be accomplished by tuning MVS?
0     Basically, there are three things that an installation is trying
      to accomplish:
0   o Provide SERVICE -examples of measures of service are 'batch
      turnaround', on-line response time and "TSO" trivial response
      time.
0   o Control COST - generally as hardware utilization goes up
      unit costs come down. These measures of utilization and thruput
      include jobs/hour and % CPU busy.
    o Maintain MANAGEMENT CONTROL -you want to be able to provide
      service and control cost in the future as well as the present.
-     Tuning is the process of adjusting all the factors in your
      shop which affect the capacity of your system to meet your
      particular service and cost objectives. These factors are listed
      under "3, WHAT IS TUNED?"
0     It is important to note:
-
     A GOOD JOB OF TUNING CANNOT MAKE UP FOR A POOR JOB OF
                   CAPACITY PLANNING
-    You cannot tune a 3031 to do the work of a 3033.
0    The tuning process can be driven both by service requirements and
     cost requirements. For example:
-    A perceived degradation of interactive response time is a typical
     example of a service problem which prompts a tuning effort.
-    The desire to delay a major hardware upgrade by six months is
     typical cost avoidance behavior which will prompt a tuning effort.
-    In the majority of installations, tuning is primarily SERVICE
     driven. Cost is largely ignored, or more precisely, implicitly
     considered by the practice of running the CPU's at 90% or greater
     utilization. Thus the orentation of this report is that
0         PERFORMANCE   =     SERVICE
0   Implicit in all the discussion of MVS behavior which follows
    is that you are tracking the service that you are providing
    to your users and have established objectives for it to which you
    compare actual results.
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
    "TSO trivial response time less than 1 second 95% of the time"
    is a performance objective.
0   "A paging rate of 10 frames/second" is NOT a performance objective.
0   Always remember:
0     TUNING MAY BE INTERMITTENT, BUT MEASUREMENT SHOULD BE CONTINUAL.
-   Obviously you must continually measure your external (as seen by the
    user) performance else you do not know if you are meeting your
    objectives.  You also need continual internal performance
    measurement so when your external performance degrades(and it will)
    you can make comparison to see what changed.
0     MVS can be a response oriented system or it can be a thruput
      oriented system. To be both at one time will require excess
      capacity or compromises.  Response/turnaround implies
      availability of a resource upon demand, with results
      returned within specific time requirements; while thruput
      implies maximum utilization of all resources.
0     Therefore, before any tuning can begin you should be able to
      answer the following questions:
0           What type of system do I have? Response/Turnaround?
            Thruput?
0           If response oriented, what constitutes acceptable
            response for online requests and batch turnaround
            times?  What is the expected split of online
            transactions between trivial and more complex?  How much
            of the system resources do you expect to spend for
            response vs turnaround?
            If a thruput oriented system, what is considered good
            and bad turnaround for the major classes of work you
            run?  What is the expected work volume?
0           If a thruput oriented system, how are you measuring
            thruput to give an accurate picture of system thruput
            versus operator thruput, or external interaction?
0           In other words, before you proceed you must have
            defined the workload in terms of volume and quality of
            service. You must also have stated the performance
            objectives for your installation.
-
-
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 MVS response oriented system:
0  INPUT                  PROCESS               OUTPUT
   ---------------       ---------------       -----------------
  .               .     .               .     .                 .
  .TSO transaction.     . CPU           .     . Systems         .
  .               .     .   access      .     .  Expectation    .
  .Batch Jobs     .     .   demand      .     .  of useful work .
  .               .     .               .     .                 .
  .Operator       .     . I/O           .     . Users           .
  .  interaction  .     .   channels    .     .  Expectation    .
  .               . >>> .   cntl units. >>> .  of useful work .
  .               .     .   devices     .     .                 .
  .Subsystems     .     .   paths       .     .                 .
  .               .     .               .     .                 .
  .Started Tasks  .     . Storage       .     . Managements     .
  .               .     .   swapping    .     .  Expectation    .'
  .Interactive    .     .   paging      .     .  of useful work .
  .  systems      .     .   job residncy.     .                 .
  .               .     . External      .     .                 .
  .               .     .   Processing  .     .                 .
   ---------------       ---------------       -----------------
0MVS thruput oriented system:
0  INPUT                  PROCESS               OUTPUT
   ---------------       ---------------       -----------------
  .               .     .               .     .                 .
  .Batch jobs     .     . CPU           .     . Systems         .
  .               .     .   access      .     .  Expectation    .
  .               .     .   demand      .     .  of useful work .
  .               .     .               .     .                 .
  .Operator       .     . I/O           .     . Users           .
  .  interaction  .     .   channels    .     .  Expectation    .
  .               . >>> .   devices     . >>> .  of useful work .
  .               .     .   paths       .     .                 .
  .Started Tasks  .     .               .     .                 .
  .               .     . Storage       .     .                 .
  .               .     .   swapping    .     . Managements     .
  .               .     .   paging      .     .  Expectation    .
  .Subsystems     .     .   job residncy.     .  of useful work .
  .               .     . External      .     .                 .
  .               .     .   processing  .     .                 .
   ---------------       ---------------       -----------------
-
-
-
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 2.   What is measured?
0     CPU utilization - problem, system, supervisor
      Paging rates - by component type
      Swapping rates - by reason
      % of total I/O used for paging
      Service distribution - (SRMs view of service)
      Channel utilization
      Control unit utilization
      Device utilization
      Real storage utilization
      Arm movement on rotating storage with moveable access arms.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 3.   What is tuned?
0     By order of importance.
0     1.    Hardware configuration.
      2.    CPU utilization by jobs and supervisor.
      3.    Available address spaces (initiators & interactive
            users).
      4.    Data set location and use.
      5.    Auxiliary storage utilization - by size, number,
            device used, class of use.
      6.    Job tuning by redesign, repackage, or data management
            use improvement.
      7.    Job re-scheduling by frequency and competition.
      8.    SRM tuning by IPS modification and internal constants
            change.
      9.    Real storage utilization - by scheduling, PARMLIB, by
            job working set size.
      10.   JES utilization primarily by buffer size and spooling
            device selection.
      11.   Modifications to the operating system.
0     By ease of change.
0     1.    Available address spaces (initiators & interactive
            users).
      2.    Job re-scheduling by frequency and competition.
      3.    JES utilization primarily by buffer size and spooling
            device selection.
      4.    SRM tuning by IPS modification and internal constants
            change.
      5.    Data set location and use.
      6.    Real storage utilization - by scheduling, PARMLIB, job
            working set size.
      7.    Auxiliary storage utilization - by size, number,
            device used, class of use.
      8.    CPU utilization by jobs and supervisor.
      9.    Modifications to the operating system.
      10.   Hardware configuration.
      11.   Job tuning by redesign, repackage, or data management
            use improvement.
-
-
-
-
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 4.   What is calculated?
0     Some useful values which help determine bottlenecks are
      shown below. The use of these values is discussed later in
      this section. Many other values can be found and the IBM
      Performance Notebook GC28-0886 and can be consulted for
      formulas.
0     o     Residency time = Average time of ended transactions
0                          X    Average transaction service rate
                                ________________________________
                                Average absorption service rate
0     For batch work the following picture should be remembered:
      <-----------------------ELAPSED TIME---------------------->
      WAIT TO START<---------INITIATED TIME--------------------->
                    NOT READY<-----ACTIVE TIME------------------>
                              SWAPPED OUT<-----RESIDENT--------->
                              & READY TIME      TIME
0     o     Wait to start time = Average time of ended transaction -
            Residency time (for TSO from RMF)
0     o     Wait to start time = Restore complete - User ready
            (for TSO from GTF)
0     o     Wait to start time = Initiator job select - RDR start time
            (for batch from SMF)
0     o     Swap in time = Restore complete - Swap in start (from
            GTF tracing sysevents)
0     o     Swap in delay = Swap in start - User ready (from GTF
            tracing sysevents)
0     o     CPU time between page faults =  total TCB CPU
                                            _____________________
                                            number of page faults
0     o   Total swapped out & ready time = Elapsed time -
          Residency time (from SMF type 4 and 34 or 5 and 35)
0     o   Paging as % of total IO =  PAGERATE X INTERVAL
                                     ___________________
                                     3  X  SIO COUNT
-
-
-
-                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 5.   Magic numbers
0     The following numbers represent goodness in a tuning sense.
      They are intended to provide additional information in
      determining whether a particular area of your system should
      be looked at for tuning.
0   o CPU UTILIZATION
      Above 90% is normal in a busy system
      70-80% Supervisor overhead with a heavy TSO workload.
0     50-70% Supervisor overhead with a light TSO workload
0   o CHANNELS
0     30% busy or less is ideal for a channel load on a dasd block
          multiplexor channel.
0     40-50% busy on a dasd channel is a bad situation and will normally
          cause queue delays for all I/O to that channel.
0     50-60% busy on tape channels.
0   o DEVICE and CONTROL UNITS
0     90% of all seeks on a volume should be in a 10 cylinder range for
          maximum performance and minimal I/O delay time caused by
          seeking during a specified time interval.
0     More than 1% requests defered due to control unit busy is
          excessive.
0   o SWAPPING
0     1.0 Swaps/transaction for TSO trivial.
0     1.1 Swaps/transaction for all TSO
0     2-3 Swaps/transaction for Batch.
0     In a non-storage constrained environment the effect of logical
      swap in MVS/SE should reduce these values proportionaly.
0     Out and ready user average above 2 will cause excessive waste
      of resources.
0     Terminal output swaps should not be allowd to happen.
0  o PAGING
0    25 pages/second is a reasonable rate for 2305.
0    15 pages/second is a reasonable rate for 3330.
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
     20 pages/second is a reasonable rate for 3350.
0    Paging as % of total I/O in a TSO environment 15%
0    Paging as % of total I/O in a non TSO environment 7-8%
0    PLPA paging rate of 12-15 pages/second indicates a problem.
     LPA/CSA page out rate greater than 5 pages/second indicates a
        problem.
   o PROFILE SERVICE
     If SRB time is higher than 33% of TCB time it should be considered
        high.
0    TCB to SRB ratio for average batch work is about 6 to 1.
0    Wait to start time for TSO transactions, should be less than 1/2
         second.
0    The time between page faults for any given job should be less than
        50 ms.
-
-
-
-
-
-
-
-
-
-
-
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 6 WHERE TO START ?
-
     Tuning is a game of find the bottleneck. A bottleneck is an
     individual system factor which limits the performance of a workload
     type. For example once the CPU is running at 100%, adding tape
     channels will not make low priority batch run faster. The CPU is
     the bottleneck, not the tape channel.
0    Tunning is a never-ending process in the sense that something is
     always a bottleneck.  Thus you do not stop tuning when all the
     bottlenecks are gone. You stop tuning when you are meeting your
     service objectives.
0    Our methodolgy consists of measuring internal performance variables
     (e.g. % channel busy) and comparing them to established "rules of
     thumb" (e.g. 35% or less for dasd channels). We have attempted to
     list the variables in order of importance to the average MVS shop
     and provide rules of thumb which are usually applicable. However:
0    When you find a bottleneck it DOES NOT MEAN that removing it will
     help! Generally, you are tuning because a SPECIFIC WORKLOAD (e.g.
     IMS message processing ) is having problems.
     Finding a bottleneck with our methodolgy does not NECESSARILY mean
     you have found the problem you are looking for. You USUALLY have
     but every once in a while you find a bottleneck that is keeping
     some other workload from performing properly or really destroying
     your workload.
-    Rules ot thumb do not NECESSARLY apply to YOUR SYSTEM running
     YOUR WORKLOAD.
0    What are we really telling you? You cannot tune sucessfully
     without an in-depth knowledge of what is really going on in your
     center. Workload characteristics are especially complex and require
     a thourough understanding before you can judge if a rule of thumb
     applies to your situation.
0    The following is a collection of three questions that
     address the tuning of MVS. Following each question is a list
     of topics that should be investigated. Each topic has
     additional discussion in the text that follows.
0DO YOU HAVE SUFFICIENT CAPACITY TO RUN MVS?
0 YES, continue on to the next question.
0 NO , hunt for something to use as a paddle to propel yourself up
       this inland waterway you find yourself on.
0IS THIS A THRUPUT ORIENTED SYSTEM?
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
  YES, go to thruput question below.
0 NO , continue on.
0IS INTERACTIVE RESPONSE ACCEPTABLE (TSO)?
0 YES, continue on to the next question.
0 NO , start checking the following areas in the order listed:
       CPU Utilization
       Swapping
       Paging
       Profile service
       ENQ contention
       Dispatching priority
       Ready users versus Multiprogramming level
       Channels
       Devices and Control Units
       Miscellaneous
0IS TURNAROUND ACCEPTABLE (BATCH)?
0 YES, Continue on to next question.
0 NO , Check the items in the previous question plus:
       Swap out & ready time
       Service unit absorption rate
0IS THRUPUT ACCEPTABLE?
0 YES, stop take the day off.  Your objectives are met, but be sure
       you have a tracking system in place.
0 NO , start checking the following areas in the order listed:
       CPU Utilization
       Swapping
       Paging
       Profile service
       ENQ contention
       Operational Interactions
       Dispatching priority
       Channels
       Devices and Control Units
       Miscellaneous
-
-
-
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 METHODOLOGY 1.0 CPU Utilization
0CPU high
0Is your CPU utilization high? A value greater than 90% is normal,
 but one should be concerned if this value is achieved and the
 system is not meeting your objetives. A value of less than 85%
 indicates insufficient workload or severe hardware/software
 problems. A constant 100% CPU utilization and multiprogramming
 levels below the minimum level required to meet your performance
 objectives may require an upgrade to a more powerful CPU.
0Is Supervisor overhead high?
0Measure by a hardware monitor, or an approximation can be
 obtained by subtracting total SMF job step time from total CPU
 time obtained from RMF. Check non-TCB time in performance notebook.
0A normal percentage is in the 70% range and values as high as 80%
 have been observed for a heavy TSO workload. For non-TSO, a range
 of 50-70% is normal.
0Supervisor overhead can be reduced by:
0     o     Add reentrant code to PLPA (SYS1.LPALIB).
      o     Use fix lists.
      o     Use BLDL (fixed) list to reduce I/O requirements.
      o     Consider using a dynamic BLDL modification.
      o     Reduce pageing rate
      o     Increase I/O blocking for frequently used data sets,
            and use FBS.
      o     Convert VIO to non-VIO to trade CPU time for I/O time.
      o     Find dominant workload and optimize. (Use RMF/MF1
            performance groups to monitor service used by class of
            users. Use SMF or address space monitors to locate
            jobs).
      o     Redesign and optimize programs from MVT and SVS to be
            aware of the environment they are running in.
      o     Use repack programs to reduce page faults.
      o     If supervisor time is high (greater than 70%), check
            the swapping rates as a possible cause.
      o     If swapping is low, profile other supervisor services
            (see the section on Profile Service).
0CPU low - Greater than 10% wait
0     o     If real storage is critical:
                Decrease fixed requirements.
                Decrease multiprogramming level in IPS.
                Increase amount of real storage.
      o     Check channels and control unit activity for delays
            caused by I/O.
      o     Check paging and swapping activity.
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 METHODOLOGY 2.0 Swapping
0Is swapping high?  TSO trival first period shouldn't be over 1.0.
 (Use of field mark key and command stacking can reduce this below
 1.0).  All TSO shouldn't be over 1.1; batch may be as high as 2-3
 without significant problems, based upon average job size.
0If CPU capacity is available you can raise the MPLs.
0If attempts to reduce swapping have not solved the problem try a
 faster swapping device or try swap data sets. If this fails
 consider additional storage.
0Check the data set placement of swap and page data sets to reduce
 I/O delay time caused by arm movement.
0Determine type of swap:
01.   Is the count of long waits high?
0     o     Reduce use of STIMER.
      o     Increase the ENQ residency value to reduce the
            contention on enqued resources.
      o     Reschedule work to avoid waiting for resources.
      o     Change the program issuing waits.
02.   Real storage swaps can be reduced by:
0     o     Increasing the amount of real storage.
      o     Decreasing the fixed requirements of the system. This
            can be accomplished by reducing the number or size of
            TP buffers, fixed resident modules or fixed BLDL.
      o     Decrease the multiprogramming level in the IPS.
03.   Exchange swaps can be reduced by:
0     o     Reduce initiators to lessen the number of jobs
            competing.
      o     IPS variations to deliver more service while in storage.
      o     Make a high swapping application non-swappable in the
            PPT.
      o     Isolate high swapping applications in separate domains
            and control MPLS.
04.   Unilateral swaps can be reduced by increasing the
      multiprogramming level in the IPS. Be aware this will drive
      up the demand paging rate.
0     o     Make SRM happy values less sensitive.
05.   Auxilary storage swaps can be reduced by:
0     o     Increasing auxilarly storage.
      o     Decreasing multiprogramming level in the IPS.
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 6.   ENQ exchange swaps can be reduced by:
0     o     Increasing the ENQ residency value (ERV), in IEAOPT00.
      o     Scheduling jobs that require the same resource at
            different times.
      o     Change the resources or the program to avoid
            contention or serialization for a single resource.
      o     Change JCL to use FREE=CLOSE. (Ineffective for JES3).
            Watch effect on billing system as these won't be
            recorded in SMF record type 4, only in record type 40.
07.   Detected waits.
0     o     Check number of initiators and type of work scheduled
            for each. Avoid an over commitment or resources.
08.   Terminal output swaps--should not be over  1 % of total swaps.
0METHODOLOGY 3.0 Paging
0Is total paging rate high?
0     A value of 15 pages/second is reasonable for 3330's and 25
      pages/sec for a 2305-2. Extreme variability with good
      performance has been observed.
0Is the pageable linkpack area paging high? A rate of 12 to 15
 pages/second indicates a problem.
0     o     Improve IEAPAK00 (see tools).
      o     Move nonshared code from PLPA to LNKLSTxx (eg VTAM).
      o     Consider splitting PLPA across channels.
0Is CSA paging high? A count of LPA/CSA page out of greater than 5
 pages/second indicates a problem.
0     o     Eliminate the use of duplex link pack area.
      o     Don't default MAXUSERS.
      o     Check expansion of SQA into CSA and correct.
0Is VIO paging high?
0     o     Set maximum BLKSIZE equal to 3 pages for a 3330 paging
            device.
      o     A low reclaim rate is an indication of misuse (eg SORT).
      o     Reduce VIO BLKSIZE.
      o     ZAP default BUFNO = 1 for VIO.
      o     Change simulated device (3330 to 2314) to optimize the
            window size for the paging device being used.
0Is demand paging high?
0     o     Evaluate use of Virtual=Real.
      o     Consider adding more real storage.
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
      o     Move reentrant modules to LPA.
      o     Decrease Multiprogramming level.
      o     Reorder CSECTs based on page fault reference patterns.
      o     Change problem programs to reference pages in a manner
            that acknowledges running in a virtual environment.
0METHODOLOGY 4.0 Profile Service
0Determine the type of service being used - SRB, Task or
 Supervisor. Check performance notebook for non-TCB formulas.
0High SRB usage - examine data management being used. Check TCB to
 SRB ratio. Average batch work is about 6 to 1. If SRB is higher
 that 1/3 of TCB it should be considered high.
0Low SRB usage, high task or supervisor time.
0     o     Change application program if excessive supervisor
            services are used.
      o     Consider a faster CPU if task time is high and work is
            not being completed.
      o     Investigate operating system areas of greatest use and
            determine if modification is feasible to increase
            production work.
0Wait to start time.
0     o     If unacceptable for batch:
            -   Make sure operations isn't "HOLD"ing jobs.
            -   Evaluate the number of initiators used.
            -   Evaluate the initiator to job class structure.
            -   Evaluate job scheduling against system expectations.
0     o     If acceptable for batch:
            -   Check CPU time between page faults. If less than
                50 ms, check common page-ins caused by jobs. If
                greater than 50 ms, check other uses of the CPU
                (SRB, supervisor time).
            -   Check ENQ contention.
0For TSO trivial commands compare wait to start time to 1/2 second.
 Keep in mind TCAM and line controller delays; they are not reported
 but are visible to the terminal users.
0     o     If wait to start time is less than 1/2 second.
0           -   Check CPU time between page faults.  If less than
                50 ms, check common page-ins caused by tasks.  If
                greater than 50 ms, check other uses of the CPU
                (SRB, Supervisor time).
            -   Check ENQ contention.
0     o     If wait to start time is greater than 1/2 second.
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
            -   Determine the component parts of the wait to start
                time.  If swap-in time is the major factor then
                consider more swap data sets or spreading swap and
                page data sets.  If the swap-in time is not the
                major component: increase the weight for the TSO
                trivial domain, increase the minimum and maximum
                MPL and separate trivial and non-trivial commands
                into different domains.
0METHODOLOGY 5.0 ENQ Contention - See swapping - ENQ exchange swaps.
0METHODOLOGY 6.0 Operational Interactions
      Use syslog or console log to observe any operational anomalies:
0     o     Missing tape mounts, or excessive amount of time for
            mounts.
      o     Shift changes that may require additional overlap.
      o     Job queues that may be held or manipulated.
      o     Scheduling work in a less than optimal fashion.
0METHODOLOGY 7.0 Dispatching Priority
0Use DPRTY to order types of work (e.g., Interactive, TP line
 handlers, critical batch, etc.,).  DPRTY can be used to run tasks
 outside the APG.
0METHODOLOGY 8.0 Ready Users versus Multiprogramming Level (MPL)
0If more ready users than MPL:
0     o     Increase the weight of the domain to force additional
            service.
      o     Increase the maximum MPL if this is the limiting factor.
0If less ready users than MPL: Consider increasing the minimums
 which will also increase sensitivity to peak load situations.
0METHODOLOGY 9.0 Channels
0Values less than 30% busy are ideal, periodic 40-50% busy are
 very bad, and values greater than 50% are a major problem.
 Selector channels can handle about 20-30% higher activity than
 block multiplexors.
0Is channel utilization high?
0     o     If optional channels are in your system investigate
            the channel rotate modification (standard with MVS SE).
      o     Review volume placement.
      o     Increase the number of paging datasets to spread the
            load across several channels.
      o     Install priority I/O zap to force servicing the most
            inportant work first.
      o     Balance channels and control units.
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
      o     Avoid ISAM on channels used by the system or other
            high priority work that shouldn't be delayed.
      o     Find major users and investigate for proper use of I/O
            on the channels.
      o     Investigate logical channel wait times from the RMF
            data. Wait time is calculated as:
0               AVERAGE QUEUE LENGTH  X PERIOD LENGTH
                _____________________
                   ACTIVITY
0METHODOLOGY 10.0 Devices and Control Units
0Is seek activity high? An optimal situation is when 90% of all
 seeks fall within a 10 cylinder range.
0     o     Try to balance activity between strings of DASD.
      o     Use GTF to improve data set placement.
      o     Avoid multiple extents on high activity data sets.
      o     Install more devices.
      o     Redesign file structure.
0Is there shared DASD in the system? Use GTF DASD contention
 analyzer to determine if a problem exists.
0Is I/O being delayed?
0     o     Examine control unit concurrent demand and separate
            requested data to different locations on other control
            units.
      o     Install more control units if queue lengths are long.
            Control unit busy over 1% is excessive.
      o     Install faster devices.
0     o     Examine contention caused by string switches.
      o     Don't share devices when not required (consider
            turning off the shared bit in UCB).
      o     Redesign DASD configuration to the usage pattern of
            MVS. Your original configuration was probably designed
            for MVT and some of the basic assumptions are no
            longer valid.
      o     Implement work scheduling.
0     Other suggestions that can decrease I/O delay:
0     o     Decrease MPL.
      o     Increase blocksize to reduce the number of I/O requests.
      o     Use VIO if CPU cycles are available.
      o     Watch for any allocation that requires more than one
            extent. This may be critical for system data sets.
      o     Schedule heavy I/O users to times of low total I/O
            demand.
0     Miscellaneous Areas
-
                 SHARE MVS Tuning Report IV Nov 1979   Methodology
1
      o     Watch for large working set sizes that affect swap
            load.
      o     SMF data sets are heavily used so select buffer size
            and options carefully.  Allocate on a volume with low
            contention, and place near the VTOC.
      o     Avoid excessive libraries in LNKLSTxx.  Do not let
            LNKLSTxx data sets go into multiple extents.
      o     Dynamic BLDL list offers a good way of reducing both
            CPU and I/O at the cost of storage.
      o     Avoid JES journalling.
      o     Avoid shared UCBs.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                SHARE MVS Tuning Report IV Nov 1979   Methodology
1
 CONFIGURATION
01.   Channel planning
0     o     Channel utilization measured via (RMF & GTF SIO) may
            identify possible bottlenecks.
0     o     Channel utilization guidelines for DASD devices:
            Recommended channel busy range - 20-35%
            Recommended maximum EXCP's per second per channel - 40
02.   Control unit planning
0     o     In a shared DASD environment, a control unit
            contention of 10-15% (control unit busy events/total
            I/O events--measured by GTF DASD Contention Analyzer)
            indicates a potential bottleneck. This range has been
            experimentally determined by plotting average I/O time
            against control unit contention.
0     o     String switching in a uni-processor environment is
            strictly for availability/ recoverability and may
            cause some performance degradation depending on
            channel activity.
0     o     String switching in a multi-processor or shared DASD
            environment must be accompanied by a cross-channel to
            control unit connection to give an effective
            performance improvement. Cross-channel to control unit
            connection is where the primary channel from each CPU is
            connected to two different control units (ISC,3830 or equiv)
            and the optional channel from each CPU is connected to
            the control unit which has the primary channel from
            the other CPU. The use of channel rotate may
            defeat this configuration.
0     o     If alternate control units are connected to an optional
            channel path to a devicealtercntl must be gened or zaped on
            to utilize the optional parth properly.
-3.   Device planning - fixed heads on 3350s can be used for the
      following:
0           -   JES2 checkpoint data sets
            -   OS CVOLs
            -   SWAP data sets
            -   VTOCs
            -   JES3 STT
            -   JES3 checkpoint data set
            -   TSO catalogs
04.   SYSGEN planning
-
0               SHARE MVS Tuning Report IV Nov 1979   Configuration
1
      a.    Device classes to reduce serialization.
0           o   Have many esoteric names for small groups of
                devices. (This is not necessary for 3350's).
            o   Use VIO because it doesn't serialize.
            o   Separate scratch for TSO & Batch.
      b.    Master catalog
0           o   Pointer in SYS1.NUCLEUS can be changed (see
                Conversion Notebook GC28-0689).
            o   Put the catalog where you want it after Stage 2,
                don't let SYSGEN define it.
            o   If it has to be moved (this is very difficult), be
                sure it is in the right place and size when you
                come up. Consider future generations and isolate
                from all other SYS1 data sets. (see SYSGEN
                manual).
0     c.    Data set placement
0           o   Don't assume that you want the catalog, PROCLIB,
                PARMLIB all on your SYSRES pack.
            o   LPALIB is only needed at CLPA time, so put it away
                from the VTOC.
      d.    ACRCODE - if an MP is not in your future, do not
            specify and it will save about 1K in the nucleus.
      e.    OLTEP needs an APF library.
      f.    Storage size - It is very important in an MP
            environment to specify the maximum storage size for
            reconfiguration.
      g.    Most of CTRLPROG parameters can be changed at IPL
            time.
      h.    JES3 must be the primary subsystem if more than one
            subsystem used.
      i.    All subsystems must be defined at SYSGEN.
      j.    Consoles - make sure the alternate console chain does
            not loop back in the middle; this can cause failure to
            reach all consoles.
      k.    Review TSO data set blocksizes.
      l.    Stage 2 can be run under production MVT by using the
            job card MACRO to put in what is acceptable to your
            system. Page spaces must be defined by AMS on an MVS
            system, however.
      m.    WTO buffers should be set much higher than default
            which is 20, to avoid a wait prior to JES startup.
0           Note:   A sample sysgen can be found in the sysgen
                    manual (GC28-3792).
0     n.    A sysgen is not CPU model dependent.
-
-
0               SHARE MVS Tuning Report IV Nov 1979   Configuration
1
 CONFIGURATION 1.0
0TYPE:          MACRO
 RELEASE:       3.7
 KEYPHRASE:     JOBCAT JCL card for SYSGEN
0ENVIRONMENT    MVS 3.7
0PROBLEM:       Lack of JOBCAT JCL card in stage 1 SYSGEN.
0SOLUTION:      Add JOBCAT JCL card to stage 2 SYSGEN.
0BENEFITS:      Decreased editing of stage 2 JCL.
0EXAMPLE:       See below.
0++ PTF /* LOCAL MOD TO JOBCARD MACRO TO GENERATE PROPER
           FORMAT JOBCARD AND TO ADD JOBCAT STATEMENTS TO SYSGEN
           JOBS ONE THROUGH N EXCEPT JOB SIX */ .
 ++ VER (Z037) .
 ++ UPDTE (JOBCARD) DISTLIB (AGENLIB) .
  ./ CHANGE NAME=JOBCARD,LIST=ALL
  PUNCH '//SYSGEN&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
  PUNCH // CLASS=&SGCTRLC(42),MSGCLASS=&SGCTRLC(41),MSGLEVEL=(1,1),'
  PUNCH '// REGION=512K'
  PUNCH '/*JOBPARM       ROOM=HSS,TIME=60,LINES=150'
  PUNCH '//&SGCTRLC(40)&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
  PUNCH '// CLASS=&SGCTRLC(42),MSGCLASS=&SCTRLC(42),MSLEVEL=(1,1),'
  PUNCH '// REGION=512K'
  PUNCH '/*JOBPARM      ROOM=HSS,TIME=60,LINES=150'
  PUNCH '//SYSGEN&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
  PUNCH '// CLASS=&SGCTRLC(42),MSGCLASS=SGCTRLC(41),MSLEVEL=(1,1),'
  PUNMCH '// REGION=512K,TYPRUN-HOLD'
  PUNCH "'/JOBPARM       ROOM=HSS,TIME=60,LINES=150'
  PUNCH '//&SGCTRLC(40)&SGCTRLA(3) JOB Y51024808,''531-0 RC CREWS'','
  PUNCH '// CLASS=&SGCTRLC(42),MSGCLASS-&SGCTRLC(41),MSGLEVEL=(1,1),'
  PUNCH '// REGION=512K,TYPRUN=HOLD'
  PUNCH '/*JOBPARM      ROOM=HSS,TIME=60,LINES=150'
  .MEND    AIF   (&SGCTRLA(3) EQ 0 OR &SGCTRLA(3) EQ 6).END
  PUNCH '//JOBCAT DD DSN=&SVSNMC,DISP=SHR'
  &END     MEND
-
-
-
-
-
0               SHARE MVS Tuning Report IV Nov 1979   Configuration
1
 CONFIGURATION 2.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:         7612
 KEYPHRASE:     RESERVE
0ENVIRONMENT:   Multiple CPUs and shared DASD.
0PROBLEM:       1.  Deadly embrace or lock-out between one or more
                    CPUs.
                2.  DASD utilization degraded and made inefficient.
0SOLUTION:      Prevent a RESERVE from being issued on DASD to
                SYSLMOD using temporary and new data sets with the
                Linkage-Editor.
0               HEWLFINT in HEWL, requires zap to bypass RESERVE
                on temporary dsnames and also to bypass issuing a
                DEQ.
0BENEFITS:      Prevent unnecessary shared DASD pack lock-outs
                across computers. Improve DASD performance.
0DESCRIPTION
 * MODIFICATION TO LINKAGE EDITOR
 * PREVENTS RESERVE FROM BEING ISSUED TO SYSLMOD PACK
 * FOR TEMPORARY AND NEW DATASETS
 * ALSO ADDED CODE TO OMIT ISSUING DEQ WHEN RESERVE WAS NOT ISSUED
0++ZAP (HEWLFINT)
 NAME HEWLFINT
 VER 0DFC  47ECCE10     RESERVED ISSUED?
 VER 0232  4780C23A     SYSLMOD DD ?
 VER 0F90  00000000,00000000 PATCH AREA
 REP 0DFC  47F0CFA6         B    PATCH2
 REP 0232  478CCF8A         BE   PATCH
 REP 0F90  5810CA52         L    R1,MAINGOT POINT TO JFCB
 REP 0F94  91C01057         TM   JFCBIND2,X'C0' NEW DATA SET ?
 REP 0F98  4710CF9E         BO   SETFLAG    YES--NO RESERVE
 REP 0F9C  91011057         TM   JFCBIND2,X'01' TEMPORARY DATA SET ?
 REP 0FA0  4780C23A         BZ   RESV       NO--ISSUE RESERVE
 REP 0FA4  9602CFBA SETFLAG OI   INTERN1,X'02' SET NOT RESV FLAG
 REP 0FA8  47F0C260         B    CHECKENQ   OMIT RESERVE
 REP 0FAC  4710CDFA         BO   DEQ        RESTORE ZAPPED INSTR
 REP 0FB0  9102CFBA         TM   INTERN1,X'02'  WAS RESERVED ISSUED ?
 REP 0FB4  4780CE10         BZ   ABENT1A    GO DEQ
 REP 0FB8  94FBCFBA         NI   INTERN1,X'FB'  RESET FLAG
 REP 0FBC  47F0CE10         B    ABENTIA     GO CHECK FOR DEQ
 REP 0FC0  00               SWITCH  02 NO RESV. ISSUED.
-
-
0               SHARE MVS Tuning Report IV Nov 1979   Configuration
1
 SRM
0     This section applies to the SRM as implemented in MVS 3.7
      with SU7.  Information pertaining to MVS/SE will be added as
      it becomes available.  The reader should be familiar with the
      description of SRM algorithms which appears in the
      Initialization and Tuning Guide.
01.   What the SRM does.
0     o     The SRM component of MVS performs several functions.
            Two of these are the following:
            a.  Adjusting the system multiprogramming level based
                on resource over or under utilization.
            b.  Allocating available resources among the various
                competing address spaces.
0     o     Dispatching priority and swapping are the primary
            control mechanisms of the SRM.
0     o     Every address space has an associated performance
            group number (PGN).  Through the IPS definition, it is
            also assigned a performance group period, a service
            objective, a domain, and a dispatching priority.
0     o     The SRM controls competition among domains by
            adjusting the target multiprogramming level of each
            domain (unilateral swaps).
0     o     The SRM controls competition among address spaces
            within  a domain by comparing service received versus
            the service objective.  This comparison assigns a
            recommendation value to the address space, and spaces
            with a low recommendation value may be swapped out in
            favor of those with a higher value (exchange swaps).
0     o     Dispatching priority is applied globally across all
            address spaces regardless of domain.
0     o     An address space can be isolated from SRM swap control
            by running it V=R or by marking it as non-swappable or
            priviledged.  In this case, dispatching priority is the
            only means of control, and service objectives are not
            important.
02.   Tailoring an IPS to an installation.
0     o     Define like categories of work (domains); e.g., Batch,
            TSO trivial, TSO medium, TSO long transactions,
            started tasks, high priority batch, CICS, IMS.  Define
            one domain for each category of work.
0     o     Specify domain MPL constraints. Minimum MPLS can be
            used to guarantee a minimum number of swapped-in users
-
                  SHARE MVS Tuning Report IV Nov 1979   SRM
1
            for a domain.
0     o     Define the weighting factor for each domain. Values
            too close together prevent discrimination between domains.
0     o     Define performance groups and periods and associate a
            domain for each group of users. If more than one
            performance group is assigned to the same domain, you
            can establish priorities by assigning them to
            different service objectives.
0     o     Use the APG specification to assign a range of
            dispatching priorities. (APG is very important to
            non-swappable address spaces).
0     o     Construct service coefficients for the processor using
            guidelines supplied in the Initialization and Tuning
            Guide.
03.   IPS Notes.
0     o     Batch users can be "AGED" by defining multiple periods
            and associating them with objectives that are
            progressively more favorable.
0     o     Running last period TSO transactions in a batch domain
            may result in excessive preemption of batch jobs as
            TSO users switch into the batch domain.
0     o     There is no reason to use a workload level
            specification of more than four points. Additional
            points will not be used later in performance objective
            definitions and only complicate the IPS.
0     o     A reduction in the TSO trivial domain maximum MPL is
            more acceptable than a reduction in the minimum MPL
            for subsequent TSO domains. The former delays the user
            prior to the initial swap-in, whereas the latter may force
            a unilateral swap-out as the TSO transaction period
            switches into the new domain.
0     o     To reduce exchange swaps:
0           - Specify larger ISVs or smaller service definition
            coefficients
0           - Construct objectives with a nearly vertical slope.
0           - Take all objectives within a domain to zero at the
            same point.
0     o     Use RTB=1 with caution. This parameter impacts the
            recommendation value and can cause exchange swaps even
            when a transaction is within its ISV.
-
                  SHARE MVS Tuning Report IV Nov 1979   SRM
1
 4.   SRM MPL adjustment summary.
0     Each domain should represent work with like characteristics.
      A domain is defined with a minimum and maximum
      multiprogramming level and a weighting factor indicating its
      relative importance.  The SRM will adjust the target MPL
      between the minimum and maximum MPL by using the contention
      index and several system resource indicators.  The weighting
      factor from the IPS is used to calculate the contention
      index. (Contention index = (READY USER AVERAGE/TARGET MPL *
      WEIGHTING FACTOR).
0     System resoure utilization is determined by monitoring the
      following indicators in the RCT:
0           1.  CPU (RCVCPUA)
            2.  Unreferenced interval count (RCVUICA)
            3.  Auxiliary storage manager queue length (RCVASMQA)
            4.  Average number of deferred IO requests (RCVTOTDF)
            5.  Page fault rate from non-swap and non-VIO
                page-ins plus reclaims (RCVPTR)
0     If the system utilization is high, the target MPL of the
      domain with the lowest contention index is lowered.  If the
      utilization is low, the domain with the highest contention
      index is increased.  If the utilization is acceptable, the
      target MPL's are adjusted to balance the contention indices.
0     The default indicators (happy values) in IRARMCNS:
0                                   GOOD        BAD
            CPU utilization          96         100+
            UIC count                 4           2
            ASM queue length          7          10
            Page fault rate         100         100 (ignored)
            Deferred I/O request    100         100 (ignored)
0     Remember, the MPL is lowered if any of the five resources is
      bad and the MPL is raised  only  if all five resources are
      good.  The display domain command, D DMN, is useful for
      watching the MPLs and the ready user averages.
0     Many installations have altered these threshold values in order
      to achieve a higher level of multiprogramming and CPU
      utilization. ASM queue length is particularly suspect. For
      example:
                                GOOD        BAD
            CPU                 100         100
            ASM queue length     12          15
            Page fault rate      35          40
05.   ENQUEUE Residency Value
            (ERV in PARMLIB member IEAOPT00)
-
0                 SHARE MVS Tuning Report IV Nov 1979   SRM
1
      o     Any address space that holds a contention resource
            will have the ENQ-HOLD flag turned on. This has the
            effect of making the address space highly favored for
            swap-in and ineligible for swap-out.
0     o     There are two types of contention resources:
            a.  the address space has enqueued a resoure and
                another user wants the resource.
            b.  the address space established a DASD reserve from
                an authorized program.
0     o     The ENQ-HOLD flag remains on until:
            a.  all contention resources are released.
            b.  the ERV is exhausted.
0     o     The ERV is exhausted when the address space has
            accumulated that number of CPU service units since the
            ENQ-HOLD was applied.
0     o     A small ERV may allow swap-out of an address space
            which holds a critical resource such as the catalog or
            a VTOC on shared DASD.
0     o     A very large ERV may give unwarranted favorable
            treatment to an address space by overriding normal SRM
            swap control.
0     o     A zap can be applied which will make ENQ-HOLD
            effective for  all  address spaces which do DASD
            reserves.
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   SRM
1
 SRM 1.0
0TYPE:          PTF
 RELEASE:       3.7 - SU7
 KEYPHRASE:     Page stealing from non-swappable address spaces
0SOLUTION:      There is a PTF available to change the way the SRM
                steals pages. The PTF number is UZ10991 and has a
                pre-req of number UZ09952.
0               Currently, the SRM can steal an excessive number
                of pages from a non-swappable address space,
                thereby increasing response time. This can happen
                if the non-swappable address space has multiple
                pages with the highest unreferenced interval count
                in the system.
0               After applying the above PTF, the SRM will steal
                up to 2 pages from each address space and common on
                each pass through the page steal routine. This
                should reduce the number of pages stolen from a
                single non-swappable address space during an
                available queue shortage.
0               PTF UZ10991 is available on PTF tape 77-06 and PTF
                UZ09952 is available on PTF 77-04.
0 SRM 2.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTF:           PTF tapes through 7801
 KEYPHRASE:     Service unit calculation
0BENEFIT:       SRM decisions are based on more data, including
                some of the system services done on behalf of an
                address space.
0WARNING:       This mod is not necessary with MVS SE, since a
                coefficient has been established for SRB time.
0++ PTF
 ++ VER (Z037) PRE(UZ15115).
 ++ ZAP (IRARMWLM) DISTLIB (AOSC5).
  EXPAND IRARMWLM(66)
    NAME  IRARMWLM
 *
 * LOCAL MOD TO SRM WORKLOAD MANAGER SERVICE CALCULATOR TO INCLUDE BOTH
 * TCB AND SRB TIME IN THE CPU TIME PORTION OF SERVICE UNITS INSTEAD
 * OF TCB TIME ONLY
0 VER 002A 98AB5040   OVLY1 LM WKRE,WRK0,ASCBEJST(ASCBPTR)
  REP 002A 47F0CB9E      B         PATCH1
  REP 0BA0 98AB5040      LM   WKRE,WRK0,ASCBEJST(ASCPTR)
-
                  SHARE MVS Tuning Report IV Nov 1979   SRM
1
  REP 0BA4 5EB050CC      AL   WKR0,ASCBSRBT+4(ASCBPTR)
  REP 0BA8 47C0CBAE      BC   12,*+8
  REP 0BAC 5AA0CB8A      A    WKRE,ONE
  REP 0BB0 5EA050C8      AL   WKRE,ASCBSRBT),ASCBPTR)
  REP 0BB4 47F0C02C      B    OVLY1+4
  VER 0ACE D20760605040   OVLY2 MVC  OUXBCPS(8,OUXBPTR),ASCBEJST(APTR)
  REP 0ACE 47F0CBB6      B PATCH2
  REP 0BB8 98895040      LM    8,9,ASCBEJST(ASCBPTR)
  REP 0BBC 5E9050CC      AL    9,ASCBSRBT+4(,ASCBPTR)
  REP 0BC0 47C0CBC6      BC    12,*+8
  REP 0BC4 5A800B8A      A     8,ONE
  REP 0BC8 5E8050C8      AL    8,ASCBSRBT(,ASCBPTR)
  REP 0BCC 90896060      STM   8,9,OUXBCPS(OUXBPTR)
  REP 0BD0 47F0CAD2      B     OVLY2+6
0SRM 3.0
0TYPE:          ZAP
 RELEASE:       3.7 - SU7
 PTF:           UZ13851
 KEYPHRASE:     MPL target adjustment
0PROBLEM:       SRM will increment the target MPL for a domain to
                RUA+1 even when the target is below RUA, while
                another domain may have a target below the ready
                user average and need to be bumped.
0SOLUTION:      This zap modifies the algorithm so that the target
                MPL for a domain will not be raised unless RUA is
                greater than current target MPL.
0++ZAP (IRARMRMR)
0 NAME IRARMRMR                  AFTER PTF UZ13851
  VER 023E 4740C252             VER 028A 4740C29E
  REP 023E 47D0C252             REP 028A 47D0C29E
0SRM 4.0
0TYPE:          ZAP
 RELEASE:       3.7G
 PTF:           UZ15115
 KEYPHRASE:     Count NS spaces in current MPL
0PROBLEM:       SRM does not count non-swappable address spaces
                when determining the current MPL. An address space
                can come out of non-swappable status, causing a
                domain to exceed its target MPL and start a swap
                when the real workload on the system has not
                changed.
0++ZAP  (IRARMCTL)
0 NAME IRARMCTL
-
                  SHARE MVS Tuning Report IV Nov 1979   SRM
1
  VER 0644 91904011
  VER 0672 91224011
  REP 0644 91104011
  REP 0672 91A24011
0++ZAP (IRARMRMR)
0 NAME IRARMRMR
  VER 028A 4740,C29E
  REP 028A 47D0,C29E
0SRM 4.1
0TYPE:          ZAP
 RELEASE:       3.7H
 KEYPHRASE:     Count NS spaces in current MPL
0PROBLEM:       SRM does not count non-swappable address spaces
                when determining the current MPL. An address space
                can come out of non-swappable status, causing a
                domain to exceed its target MPL and start a swap
                when the real workload on the system has not
                changed.
0++ZAP  (IRARMCTL)
0 NAME IRARMCTL
  VER 064E 91904011
  VER 067C 91224011
  REP 064E 91104011
  REP 067C 91A24011
0++ZAP (IRARMRMR)
0 NAME IRARMRMR
  VER 028E 4740,C2A2
  REP 028E 47D0,C2A2
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   SRM
1
 PUBLICATIONS
01.   MVS
0     OS/VS2 System Programming Library:
      Initialization and Tuning Guide..................GC28-0681-2
      VS2 Release 3.7
0     OS/VS2 MVS
      Resources Measurement Facility (RMF)
      Reference and Users Guide........................SC28-0740-0
0     Large Systems Design: A Performance Perspective
      Wm. D Connors IBM
0     SMF Reported Values in MVT,SVS,MVS
      Tom Giblin IBM
      Guide 43 Nov 76
0     Attributes of Multiple-Processor (MP) Systems.....TR.00.2374
      M. Bing Jr
      Oct 18, 1976
0     MVS Selectable Unit Experiences..................ZZ05-0032-0
      Scott Loftesness, R. M. Schardt. M. C. Zwilling
      IBM WSC
0     OS/MVS Performance Notebook......................GC28-0886-0
0     MVS Systems Extensions..........................ZZ05-0046-00
      Bob Cook & Brian Kasch IBM WSC
0     MVS System Extensions Release 1.1.0
      Planning Information...............................ZZ05-0050
      July, 1977
0     Attached Processing (AP) System
      Performance Characteristics and Considerations..GG22-9004-00
      W. W. White SPD & Tom Giblin WSC
0     MVS Release 3.7
      Selectable Unit Performance Measurements.........ZZ05-0062-00
      D. D. Boos, et. all IBM WSC
0     Multiple Virtual Storage Performance Tool(MVSPT).
      An IBM Aid Program
      Users Guide......................................ZZ20-2666-0
0     SVS/MVS System and Job Impact Analysis...........SH20-1720-0
0     IPO TUNNING GUIDE (all versions)
0     DIRECT ACCESS STORAGE DEVICE SWITCHING CONCEPTS  ZZ20-3698-00
-
0               SHARE MVS Tuning Report IV Nov 1979   Publications
1
 2.   CAPACITY PLANNING
0     Complex System Capacity Planning
      M. Rush IBM WSC  12/01/76
0     Capacity Planning................................GG22-9001-0
      An Introduction
      DR. L. Bronner IBM WSC
0     Capacity Planning and Performance Analysis
      Using RMF
      R. M. Armstrong IBM WSC
      Guide 45  Oct 30, 1977
0     Capacity Planning in a Complex
      Workload Environment
      Don Schiller IBM WSC
0     OS/VS Capacity Management Aid....................SB21-1835-0
03.   IMS/MVS
0     Change MGT/Tracking
      DP Accounting for IMS/VS
      Service Level Reporter
      General Information Manual.......................GH19-6028-0
0     IMS/MVS Performance Tuning Guide..................GC320-6004
      Bart Grantham & Cynthia Woff IBM
0     IMS Capacity Planning..............................ZZ05-6004
      D. A. Schramm IBM WSC
04.   GENERAL
0     CMG Transactions
      Newsletter of Computer Measurement Group
0     EDP Performance Review
      A Monthly Report in Computer Performance
      Improvement
                Applied Computer Research
                8808 N. Central Ave.
                Suite 298
                Phoenix, Arizona  85020
0     Tutorial: Computer Systems Monitor
      Gary Nutt U. of Colo
      Computer  Nov 1975
05.   DASD
0     I.O Configuration and its Effect on IOS............ZZ23-0222
-
0               SHARE MVS Tuning Report IV Nov 1979   Publications
1
      A DASD Tuning Refresher............................ZZ05-0300
0     Effective use of DASD
      Butch Maxwell IBM
      Guide 41 Denver Col  11-75
0     3350 DASD Planning Considerations
      SHARE XLVI Session B839  2/27/76
0     IBM Direct Access Storage Device
      Switching Concepts...............................ZZ20-3698-0
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0               SHARE MVS Tuning Report IV Nov 1979   Publications
1
 ASM 1.0
0TYPE:          FINE TUNING
 RELEASE:       3.7
 KEYPHRASE:     Slot turnaround
0PROBLEM:       Determining quality of service from a page data in
                deciding to add data sets, etc.
0SOLUTION:      Look at ASM's evaluation of the average turnaround
                time for a page and total usage of the data set.
0To determine ASM's internal evaluation of slot turnaround, take a
 stand alone dump or use the 'dump' command to take a dump of
 ASID=01.
0In the ASMDATA portion of the formatted dump:
0           PARERQTM  =  average turnaround per
                         slot to this page dataset
            PARESZSL  =  size of pagespace in slots
            PARESLTA  =  available slots
0           PARERQTM values are microseconds. This number should
            fall within the following range for good paging:
0               2314      20000 - 24000
                3330      10000 - 12000
                2305-2     5000 -  7000
                3350       7000 -  9000
0With SU7, these values may be obtained under program control,
 directly from the Paging Activity Reference Table (PART).
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   ASM
1
 ASM 2.0
0TYPE:          ZAP
 RELEASE:       3.7  IPO 2.0
 KEYPHRASE:     SLOTC and SLOTV
0PROBLEM:       The default values for ILRSLOTC AND ILRSLOTV in
                IEANUC01 cause the auxiliary storage manager to
                reserve excessive amounts of page space for each
                ASID.
0SOLUTION:      Change the defaults to you own specifications.
0BENEFITS:      Reduced paging space requirements.
0WARNINGS:      Using an extremely large ILRSLOTC to trim paging
                space requirements could result in a shortage of
                auxiliary storage.
0 NAME IEANUC01 ILRSLOTC
  VER 00 00000010        12MEG/16 FOR EACH ADDR SPACE
  REP 00 00000019        12MEG/25 FOR EACH ADDR SPACE
  NAME IEANUC01 ILRSLOTV
  VER 00 00000010        12MEG/16 FOR EACH VIO DSN
  REP 00 00000019        12MEG/25 FOR EACH VIO DSN
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   ASM
1
 ASM 3.0
0TYPE:          SUPPORT
 RELEASE:       3.7 with SU55
0PROBLEM:       Nucleus pages pollute high speed paging devices.
0SOLUTION:      In IEASYS00 specify only the PLPA, common and
                slowest local page data set. Use COMMNDxx to page
                add the faster local page data sets. The nucleus
                will be paged out during NIP processing and will
                then reside on the slowest device.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   ASM
1
 IMS
0The following guidelines have proved useful in tuning IMS 1.1.4
 on a 4M 168.
0     1.    Pools should be adjusted to eliminate failures. This
            is an effort that must be done an a continuing basis
            because each change may or may not provide a
            sufficient pool size.
0     2.    Use a program pre-load on applications that are high
            in usage.
0     3.    Specify EXCPVR to page fix some of the I/O code and
            minimize CCW translation.
0     4.    Specify index-in-core option for ISAM to reduce the
            ISAM I/O activity.
0     5.    Make the MPR's and control region non-swappable to
            guarantee CPU availability (1.1.3).
0     6.    Set the dispatching priority for the IMS control
            region higher than the APG, BATCH, and (depending on
            environments) TSO users.
0     7.    Set-up common blocksize to minimize buffer pool
            compactions. (BFPLBSZ option).
0     8.    Make sure there are enough FRE's to support the
            3270's.
0     9.    Turn off buffer handler trace (BHTRACE=0), on the
            DFSVSAMP DD card to reduce IMS overhead.
0     10.   Split data sets across more than one pack, control
            unit and channel. (Move the LGMSG, SHMSG and QBLKS
            data sets off IMS control pack). Adjustments may be
            necessary to balance the IMS packs and minimize each
            one's usage.
0     11.   Review, frequently, the high overhead transactions
            (selected from monitor and log tape statistics for
            large CPU and large number of calls).
0     12.   Run IMS/VS control region in protect key #7. This will
            reduce overhead by shortening some path lengths for
            some supervisor services.
0     13.   Order control region and fix the most active portions,
            typically 30%-40%.
0     14.   Investigate placing high use transients (such as PLI
            error handling etc.) in LPALIB or preloading them.
-
                  SHARE MVS Tuning Report IV Nov 1979   IMS
1
 IMS 1.0
0TYPE:          ZAP & MACRO
 RELEASE:       IMS 1.1.3
0PROBLEM:       IMS module DFSFMOD0 reissues any abend which
                occurs in the IMS control region. This "after the
                fact" dump overlays the original dump on SYSMDUMP
                datasets. This can be avoided by removing the dump
                option from the abend issued by DFSFMOD0.
0ZAP on IMS 1.1.3 PTF 0 is
      NAME DFSFMOD0
      VER  03AC 80000000
      REP  03AC 40000000
0SOURCE CHANGE IS
      ./ CHANGE  NAME=DFSFMOD0
             OI   R1, x'40000000'  ABEND-NO DUMP  1402000
-
 IMS 2.0
0TYPE:          ZAP
 RELEASE:       3.7G
 KEYPHRASE:     IMS performance/FETCH work area
0++ PTF.
 ++ VER (Z037).
 ++ ZAP (IEWFETCH) TALIAS (IEWFBOSV,IEWMSEPT).
    NAME IEWFETCH
 * LOCAL MOD TO FETCH TO INCREASE THE MAXIMUM SIZE AREA WHICH IS
 *  FIXED FOR PROGRAM TEXT DATA PER I/O SEQUENCE.
 *  THIS SHOULD HAVE THE EFFECT OF SUBSTANTIALLY INCREASING THE AMOUNT
 *  OF TEXT BLOCK CHAINED READS.
 *  WITH ITS CURRENT FIX LIMIT OF 18K, IF TEXT IS BLOCKED 12K WHICH IS
 *  THE MAXIMUM FOR 3330, ONLY ONE BLOCK CAN BE PROCESSED PER SIO.
 *  BY INCREASING THE FIX LIMIT TO 64K, POTENTIALLY 5 BLOCKS COULD BE
 *  PROCESSED ASSUMING RELOCATION CAN BE FULLY PERFORMED DURING PCI TIME
 *  THIS CHANGE SHOULD ALSO DECREASE (BY A FACTOR OF UP TO 5) THE NUMBER
 *  OF CHANNEL END/DEVICE END INTERRUPTS, RELATED IOS AND POST STATUS
 *  INTERRUP HANDLING TIME,AND DISPATCHER/SRB SCHEDULING/PROCESSING TIME
 *
  VER 0C64 00004800             FIXLIMTM = 18K
  VER 1560 00004800             FIXLIMIT = 18K
  REP 0C64 00010000             FIXLIMTM = 64K
  REP 1560 00010000             FIXLIMIT = 64K
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   IMS
1
 IMS 3.0
0TYPE:          FINE TUNING
 RELEASE:       IMS 1.1.3
 KEYPHRASE:     IMS PERFORMANCE
0ENVIRONMENT:   158 3 Meg IMS Dedicated
0PROBLEM:       IMS too slow
0SOLUTION:      Put IGC0004F and DFSMPOS0 in the fix list and save
                the page fix and page free, also the rescheduling
                of an SRB if DFSMPOS0 has a page fault.
-
 IMS 4.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          Through tape 7802
 KEYPHRASE:     ISAM updates
0PROBLEM:       Type II accesses or restores to ISAM data bases
                while IMS is "up" cannot allocate with DISP=OLD.
0SOLUTION:      Allow open for output with DISP=SHR.
0++PTF /* ALLOW ISAM UPDATES WITH DISP=SHR */ .
 ++ZAP (IGG0192A) DISTLIB(AOSD8) .
  NAME IGG0192A
  VER 0150 4710,319A          BO   ISL00F21
  REP 0150 4700,319A          NOP
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   IMS
1
 IOS 1.0
0TYPE:          ZAP
 RELEASE:
 PTFs:          PTF tapes through 7711
 REFERENCES:    IOS Program Logic
 KEYPHRASE:     Channel Rotate
0ENVIRONMENT:   DASD/TAPE Devices With OPTCHAN
0PROBLEM:       MVS/IOS does not rotate physical channel paths to
                a TAPE/DASD device in a non-MVS SE environment.
0SOLUTION:      Modify the IOS test channel routine to cause the
                physical channel list for each logical channel to
                be rotated between IO requests. Use a spin lock to
                serialize access to the test channel list.
0BENEFITS:      Instead of requiring the operator to vary paths
                offline to prevent IOS from using only the lowest
                channel address. Both channels to a device will be
                utilized.
0WARNING:       This code  does  work on AP/MP systems.
0++VER (Z037) .
 ++ZAP (IECIOSAM) .
  NAME IECIOSCN
  VER  04BE  58A0C010
  VER  1668  00000000,00000000,00000000,00000000
  VER  1678  00000000,00000000,00000000,00000000
  VER  1688  00000000,00000000,00000000
  REP  04BE  47F0866A        BRANCH TO PATCH AREA.
  REP  1668  58A0C010        ISSUE OVERLAID INSTRUCTION.
  REP  166C  9502C014        CHECK NO. OF CHANNELS ON THIS LCH.
  REP  1670  477054C2        NO OPTCHAN ON THIS LCH, RETURN.
  REP  1674  93008694        TEST AND SET CHANNEL ROTATE LOCK.
  REP  1678  47708676        LOOP TIL BIT IS OFF.
  REP  167C  4860A000        SAVE PRIMARY CHANNEL.
  REP  1680  D201A000A002    MOVE SECONDARY TO PRIMARY.
  REP  1686  4060A002        UPDATE SECONDARY.
  REP  168A  920F8694        TURN-OFF CHANNEL ROTATE LOCK BIT.
  REP  168E  47F054C2        RETURN TO TEST CHANNEL ROUTINE.
  REP  1692  0000            CHANNEL ROTATE LOCK, FF00=ON 0F00=OFF
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   IOS
1
 IOS 2.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          SU16 with UZ08679 and UZ09237 and PTF tapes
                through 7802.
 KEYPHRASE:     Priority I/O queuing
0ENVIRONMENT:   8 meg 168 BATCH/TSO/IMS.
0PROBLEM:       Unable to provide adequate I/O response due to
                high paging, data base access, and batch
                processing.
0SOLUTION:      Modify IOS to provide I/O priority queuing.
0EXAMPLE:       IMS's I/O will get done before TSO's I/O, which
                will get done before Batch I/O.
0RESULTS:       Not measured. System appeared better. More
                consistent IMS response.
 WARNING:       This MOD checks APG MTW Group.
 ++PTF.
 ++ZAP  (IECIOSCN).
 NAME IECIOSCN
 VER 1638 00000000,00000000,00000000,00000000
 VER 1648 00000000,00000000,00000000,00000000
 VER 1658 00000000,00000000,00000000,00000000
 VER 1668 00000000,00000000,00000000,00000000
 VER 1678 00000000,00000000               CHK IOS PATCH AREA
 VER 0494 5020B008                        IOQ ASSOC WITH IOSB(INIT IOQE
 REP 0494 47F0863A                        B PATCH
 REP 1638 58A00224      L 10,PSAOLD       PICK UP PSA OLD ASCB
 REP 163C D200B006A02B  MVC IOQPRI,ASCBDP
 REP 1642 5020B008      ST  IOSBR,IOQIOSB
 REP 1646 1BAA          SR  10,10
 REP 1648 43A0B006      IC  10,IOQPRI
 REP 164C 41E00077      LA  14,119        TOP OF LOWER FIX RNG OF APG
 REP 1650 19AE          CR  10,14         QPRI IN APG MTW GROUP?????
 REP 1652 47205498      BH  INLINE
 REP 1656 94F0B006      NI  IOQPRI,X'F0'  IGNORE MTW AND ALL BELOW
 REP 165A 47F05498      B   INLINE
 VER 0D72 58E01004      L   14,LCHLST     PICK UP LAST IOQ IN LCH
 REP 0D72 47F08666      B   PATCH2
 REP 1664 D500F006B006  CLC IOQPRI,IOQPRI NEXT TO CURRENT
 REP 166A 47408676      BL  CHAIN         IF NEXT LOWER CHAIN INCR
 REP 166E 18EF          LR  14,15         NEXT INTO PREVIOUS
 REP 1670 47F05D68      B   IQUEE60       KEEP ON SEARCHING
 REP 1674 50B0E000      ST  11,IOQLNK     CHAIN CURR TO PREV
 REP 1678 50F0B000      ST  15,IOQLNK     CHAN NEXT OT CURRENT
 REP 167C 47F05D86      B   IQUEE080      BACK INLINE
-
-
                  SHARE MVS Tuning Report IV Nov 1979   IOS
1
 IOS 2.1
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     Priority I/O queuing
0ENVIRONMENT:   4 mb 168 BATCH/TSO/CICS.
0PROBLEM:       Unable to provide adequate I/O response due to
                high paging, data base access, and batch
                processing.
-SOLUTION:      Modify IOS to provide I/O priority queuing.
0EXAMPLE:       CICS's I/O will get done before TSO's I/O which
                will get done before Batch I/O.
0RESULTS:       Not measured. System appeared better. More
                consistent CICS and TSO response.
0WARNING:       This MOD  does not  check APG MTW Group.
0++PTF
 *
 *          THIS ZAP ADDS PRIORITY I/O QUEUING TO SYSTEM.
 *          THIS ZAP SHOULD IMPROVE CICS AND TSO PERFORMANCE.
 *
 */ .
 ++VER  (Z037) .
 ++ZAP  (IECIOSAM) .
  NAME IECIOSCN
  VER 044E 5020,B008
  VER 0D26 58F0,1004
  VER 14EE C9D6,E240,D7C1,E3C3,C800
  VER 1514 0000,0000,00000000,00000000,00000000
  REP 044E 47F0,8516                BRANCH TO PATCH AREA
  REP 0D26 47F0,852E                BRANCH TO PATCH
  REP 1514 58A0,0224                PICK UP PSA OLD ASCB POINTER
  REP 1518 D200,B006,A02B           MOVE ASCB PRI TO ICCPRI FIELD
  REP 151E 5020,B008                DUPLICATE EXISTING CODE
  REP 1522 41A0,003C
  REP 1526 40A0,B004
  REP 152A 07F4
  REP 152C D500,F006.B006           IS CURRENT IOQ LOWER IN PRIORITY
  REP 1532 4740,853E                IF YES THEN INSERT NEW
  REP 1536 18EF                     OTHERWISE UPDATE LOOP IOQ POINTER
  REP 1538 47F0,5D1C                AND BRANCH TO IQUEE060
  REP 153C 50B0,E000                STORE NEW IOQ PTR IN LINK FIELD
  REP 1540 50F0,B000                STORE POINTER TO OLD IOQ IN LINKFLD
  REP 1544 47F0,5D3A                AND BRANCH TO IQUEE080
-
-
                  SHARE MVS Tuning Report IV Nov 1979   IOS
1
 IOS 3.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     DASD VATLST defaults
0ENVIRONMENT:   370/168
0PROBLEM:       DASD volumes on line at IPL and not in VATLSTxx
                are assigned volume status by the first user on
                the volume.
0SOLUTION:      Change NIP so all volumes not in VATLSTxx are
                assigned as PRIVATE/RESERVE.
0WARNING:       This is an old zap.
0* Re-verify offsets
 EXPAND IEAVAP00 (60)
0* R11--101B  )
 * R9--201A   )  base register setup
 * R8--3019   )
 * R4--4018   )
0VER   0090   4770C09E
 VER   4160   4 words of zeroes
 VER   4170   5 words of zeroes
 REP   0090   47704148            Br. to patch area
 REP   4160   9104A003            Is it perm. resident
 REP   4164   47104160            Yes, make private (Br to 4178)
 REP   4168   9120A003            Is it reserved
 REP   416C   47104160            Yes, make private  (Br to 4178)
 REP   4170   94DBA003            Reset reserved & resident bits
 REP   4174   9620A003            Turn on reserved bit
 REP   4178   94E3A022            Reset private, public, & storage bits
 REP   417C   9610A022            Turn on private bit
 REP   4180   47F0C09E            Back to inline code
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   IOS
1
 IOS 4.0
0TYPE:          ZAP
 RELEASE:       3.7G
 PTFs:          PTF tapes through 7711
 KEYPHRASE:     IOHALT, PAGEFIX
0PROBLEM:       Page Fix and Page Free macros issued even when
                module is fixed.
0SOLUTION:      Bypass PGFIX & PGFREE if module is fixed. It does
                not apply to section of code to support halt to
                CTC device.
0BENEFIT:       Better response for TP systems.
0WARNING:       Place IGC0003C in the fix list.
0++VER  (Z037) .
 ++ZAP  (IGC0003C) DISTLIB(ALPALIB).
  NAME  IGC0003C
  VER  0082  1891,1BBB                  R3=CT
  VER  0270  47F0,627A                  R6=BASE
  VER  09B0  0000,0000,0000,0000,0000,0000,0000,0000,
  VER  09C0  0000,0000,0000,0000,0000,0000,
  REP  0082  45A0,69AE
  REP  0270  47F0,69BE
  REP  09B0  1891,1BBB,BD67,3081,4740,60B6,07FA
  REP  09C0  BD67,3081,4740,6286,47F0,627A
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   IOS
1
 IOS 5.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTF:           UZ05095
 KEYPHRASE:     CPUID
0PROBLEM:       CPUid does not appear in I/O error messages.
0SOLUTION:      Provide CPUid in I/O error messages.
0++PTF /* MOD TO PROVIDE CPUID IN IO ERROR MESSAGES */ .
 ++VER (Z037) PRE (UZ05095) .
  ++ZAP (IGE0025C) DISTLIB (ALPALIB) .
 ++ZAP (IGE0025C) DISTLIB (ALPALIB) .
  NAME IGE0025C
  VER 094A F321              UNPACK HOURS
  VER 0950 F321              UNPACK MIN
  VER 0956 F321              UNPACK SECONDS
  REP 094A D206,8000,9D6A    CPUID = OX
  REP 0950 D200,8007,201B    EWACPU FIELD
  REP 0956 96F0,8007         PRINTABLE CPU #
  REP 095A 0700
  REP 095C 4700
  REP 0960 4700
  REP 0D84 C3D7,E4C9,C47E,F000               'WTOPATCH'
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   IOS
1
 JES2
01.   Turn off job journaling (only needed for checkpoint
      restart).
02.   Minimize PROCLIB switching.
03.   Minimize JES SMF records (types 6 and 26).
04.   Check &NUMTGV - recommended values:
0           DEVICE      &NUMTGV
            3330        1279
            3330-11     1919
            3340-35     348
            3340-70     696
            2314        400
            3350        3250
05.   Hit STOP before LOAD.
0     If a write is being done to the HASP checkpoint data set at
      the time LOAD is hit, the checkpoint data set is written
      with zeroes.
0           HIT STOP
            Count to 5
            HIT LOAD
0     This gives I/O time to complete.
06.   If using logon, preprompt and supply all JCL.
07.   Use track celling and do full track read and writes.
08.   Put JES2 CSECTS on a page boundary.
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   JES2
1
 JES2 1.0
0TYPE:          SUPPORT
 KEYPHRASE:     JES2 Automatic Command Facility BOOTSTRAP
0BENEFIT:       The JES2 Automatic Command Facility may be used to
                good effect in controlling standard systems
                functions such as date/time stamping and printing
                the systems logs, controlling RMF, etc., and may
                be used to bootstrap itself.  Properly set up, the
                facility will operate correctly across IPLs, etc.
0SOLUTION:      The following strategy was employed:
0               1.  A member of PARMLIB was defined, "AUTOCMND".
                    This member contains all commands to be
                    established in the Automatic Command Facility
                    for the 24-hour period.  Note that the  last
                    command, to be executed 25 hours from the
                    midnight previous to the commands being set up
                    (i.e, one the  next  morning), bootstraps the
                    command set for the next day.  Specific command
                    ID numbers are assigned to force command
                    replacement for those commands still in effect
                    when the commands bootstrap at 1 AM (to avoid
                    multiple "D T" every 10 minutes, for example).
                2.  A standard IEBGENER to INTRDR from the PARMLIB
                    AUTOCMND member is defined in SYS1.PROCLIB,
                    such that the command "S AUTOCMND" will result
                    in the automatic commands being fed to the
                    internal reader.
                3.  The INTRDR must be defined as allowing
                    commands (JES2 initialization parameters)
                4.  An "S AUTOCMND" must be placed in the commands
                    executed by JES2 during initialization to
                    cause the initial loading of the automatic
                    commands.
 WARNING:       DO NOT use the L= operand on the $TA commands in
                AUTOCMND.  If the console specified by L= is not
                available at the time 'S AUTOCMND' is issued, the
                commands will be flushed and never set.
0EXAMPLE:       Sample AUTOCMND Member of SYS1.PARMLIB:
 /*$TA900,I=600,'$VS,''D T'''         /*DISPLAY TIME EVERY 10 MINUTES *
 /*$TA901,I=7200,'$VS,''S DUMPCHK'''  /*CHK DUMP DS EVERY 2 HOURS*/
 /*$TA902,T=23.59,'$VS,''P RMF'''     /*STOP RMF JUST BEFORE MIDNIGHT*/
 /*$TA903,T=24.00,'$VS,''S RMF.RMF''' /*START RMF AT MIDNIGHT*/
 /*$TA904,T=24.00,'$VS,''W'''         /*WRITE LOGS AT MIDNIGHT*/
 /*$TA999,T=25.00,'$VS,''S AUTOCMND'''/*BOOTSTRAP AUTOCMND FOR NEXT DAY
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   JES2
1
 JES2 2.0
0TYPE:          Fine tuning
 RELEASE:       3.7
 KEYPHRASE:     Hardcopy log
0ENVIRONMENT:   3 mb 168 Batch only
                (many RMT sites)
 PROBLEM:       If many $HASPxxx messages are being issued and
                HARDCPY log has a QN print chain, then shortage of
                WTO buffers may occur ($ is a non-preferred QN
                character).
0SOLUTION:      Use &CCOMCHR to change to a QN preferred
                character.
0BENEFITS:      Speeds up HARDCPY log.
-JES2 3.0
0TYPE:          SOURCE
 RELEASE:       3.7
0PROBLEM:       Lack of control of printer resources
0SOLUTION:      Any job printing more than 10,000 lines will write
                a message to the operator with the number of lines
                that the job will print.
0 ++ VER (Z037) PRE (UZ80300) .
  ++ UPDTE (HASPPTF)  DISTLIB(AOSH2) .
  ./ CHANGE NAME=HASPPTF,LIST=ALL
           CLC   JCTLINES,=F'10000'  MORE THAN 10,000 lines       Q15551
           BL    PNOMSG              NO, SKIP MESSAGE             Q15552
           L     R1,JCTLINES         CONVERT LINES                Q15553
           CVD   R1,PCCWORK          TO DECIMAL                   Q15554
           MVC   PMESSAGE(L'PRTHIVOL),PRTHIVOL  MOVE TEST TO MSG  Q15555
           ED    PMESSAGE+12(8),PCCWORK+4  LINE COUNT TO EBCDIC   Q15556
     $WTO  PMESSAGE,L'PRTHIVOL,ROUTE=$LOG+$MAIN+$UR               Q15557
  PNOMSG   DS    OH                                               Q15558
  PRTHIVOL DC 0CL26'0',X'999F',C'WILL PRINT ',X'20202020202120',C'
                                                           LINES' Q51176
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   JES2
1
 JES3 1.0
0TYPE:          ZAP
 RELEASE:       JES3 2.0
 KEYPHRASE:     Console usage roll speed
0PROBLEM:       JES3 Display Consoles roll too slow
0SOLUTION:      Change default roll speed constant from two
                seconds to one half second.
0BENEFITS:      Global processor does not run at "Console Speed".
                Eliminates large console buffer queues.
0++ PTF
 ++ VER (Z021)
 ++ ZAP (IATINC1)
  NAME IATINC
  VER 004A 9219        Console roll=2.0 Sec.
  REP 004A 9201        Console roll=0.25 Sec.
-
 JES3 2.0
0TYPE:          ZAP
 RELEASE:       JES3 2.1
 KEYPHRASE:     JES3 dynamic allocation degradation
0PROBLEM:       JES3 elongates dynamic allocation requests with
                unnecessary spool I/O.
0SOLUTION:      Suppress all "LOCATE" type messages for TS Address
                Spaces.
0++ PTF
 ++ VER (Z037)
 ++ ZAP (IATGRJA)
  NAME IATGRJA
  VER 1090 F000,F002,F004,F006,F008,F00A F00C,F00E
  REP 1090 8860,0018,9181,40B5,4710,ADF6,47F0,F018
  VER 0C5A 88670,0018
  REP 0C5A 47F0,F44A
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   JES3
1
 JES3 3.0
0TYPE:          Fine Tuning
 RELEASE:       JES3 2.1
 KEYPHRASE:     Converter/Interpreter interference in JES3
0PROBLEM:       JES3 with JOBLIB or STEPLIB DD Statement causes
                unnecessary fetch I/O for C/I modules resident in
                PLPA.
0SOLUTION:      Place JES3 load module libraries on LINKLIST to
                avoid unnecessary fetch I/O. Use STEPLIB and/or
                JESLIB Statements only for testing.
-
 JES3 4.0
0TYPE:          Fine Tuning
 RELEASE:       JES3 2.1
 KEYPHRASE:     JES3 Local Processor DWAIT
0PROBLEM:       JES3 Subsystem Requests (SSI) from a local
                processor may take a long time to service. This
                may cause unnecessary swaps.
0SOLUTION:      Increase the "Detected Wait" time constant on
                local processors to three to four times the
                supplied value.
0WARNING:       Monitor the detected wait rate with RMF to assure
                that you have made the constant large enough.
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   JES3
1
 JES3 5.0
0TYPE:          Support
 RELEASE:       JES3 2.1
 KEYPHRASE:     JSAM buffers
0PROBLEM:       Excessive JSAM buffer usage causes JES3 to abend
                when a job or TSO user terminates with a large
                number of DD cards or dynamically allocated data
                sets.  A common circumvention is to set PAGES=xxx
                to the maximum of 1024 pages for the buffer pool;
                this is a drain on real storage and the problem
                can still occur.
0SOLUTION:      BATCH:  Appropriate use of the JES3 INISH RESDSN
                statement will allow reduction in the JST.  By
                reducing the number of JES-managed-disk entries
                for resident disk datasets, the number of buffers
                required for setup and termination will be reduced.
0               TSO:  By limiting the number of DD DYNAM Statements
                or the number specified in the DYNAMNBR parameter,
                large 'spikes' of JSAM buffer usage at LOGOFF for
                each user will be avoided.  (e.g. a TSO user with
                60 dynamically allocated  datasets  at LOGOFF will
                require 62 JSAM buffers to LOGOFF).
0               TSO:  By ignoring dynamic allocation verifications
                for TSO users for specific resident volumes, both
                JSAM buffer usage and ALLOC overhead can be
                reduced. This modification is available as the
                "HARRISON" or "CHUBB" fix from most IBM SE
                offices.
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   JES3
1
 MSS 1.0
0TYPE:          SUPPORT
 RELEASE:       MVS 3.7
 KEYPHRASE:     IMPL of MSS
0ENVIRONMENT:   370/168
0PROBLEM:       CPU lockouts or confusion in the MSS, creating at
                best an IPL.
0SOLUTION:      IMPL ONLY when the manual specifies you can.
0WARNING:       Extra care is needed when MSS is on multiple CPU's.
-
 MSS 2.0
0TYPE:          FINE TUNING
 RELEASE:       MVS 3.7
 KEYPHRASE:     MSS staging space
0ENVIRONMENT:   370/168
0PROBLEM:       Excessive stage/destage with loss of performance
                and real core.
0SOLUTION:      Provide enough staging space for initiators
                running. If LRU is invoked between different jobs,
                each job waits on I/O and cannot be swapped out.
0BENEFITS:      More thruput, and significantly lower elapsed
                time.
-MSS 3.0
0TYPE:          FINE TUNING
 RELEASE:       MVS 3.7
 KEYPHRASE:     MSS table pack usage; performance
0ENVIRONMENT:   370/168
0PROBLEM:       High channel utilization due to excessive table pack
                usage.
0SOLUTION:      Dedicate the primary table pack for exclusive use
                of MSC.
0BENEFITS:      More Batch thruput due to less system wait on MSS
                UCB.
 MSS 4.0
-
0                 SHARE MVS Tuning Report IV Nov 1979   MSS
1
 TYPE:          FINE TUNING
 RELEASE:       MVS 3.7
 KEYPHRASE:     MSS performance
0ENVIRONMENT:   370/168
0PROBLEM:       MSS overhead
0SOLUTION:      Minimize the use of track allocation for data sets
                (i.e., use cylinders). In fact, data sets should
                be allocated on  8  cylinder boundaries, since this
                is a page increment for MSS and the VTOC should be
                located at cylinder zero.  Groups should be defined
                with default space at some multiple of 8 cylinders.
                A dummy 1 cylinder data set should be placed at
                cylinder 7.
0BENEFITS:      Less table pack activity, more availability MSS.
-MSS 5.0
0TYPE:          FINE TUNING
 RELEASE:       MVS 3.7
 ENVIRONMENT:   370/168
0PROBLEM:       Excessive IO to MSS causing over-utilization of
                channel, and usage of MSS UCB. This creates excessive
                core utilization during swapout while waiting for
                staging.
0SOLUTION:      Do  NOT  allocate temporary datasets and sortwork to
                MSS.  A technique for sortwork during heavy DASD
                allocation is to use 'DEVPREF' in SYSGEN with
                overflow to MSS.
0BENEFITS:      Dropped MSS UCB usage (in our installation) from
                85% to 20%.
0WARNING:       Only necessary when utilization too high.
0MSS 6.0
0TYPE:          SUPPORT
 RELEASE:       MVS 3.7
 KEYPHRASE:     'RELEASE' and related LRU problem
0ENVIRONMENT:   370/168
0PROBLEM:       'RELEASE' JCL option with MSS does not release
                excess of DASD on MSS. This creates LRU problems
                at later times as this unnecessary data is
                destaged.
-
0                 SHARE MVS Tuning Report IV Nov 1979   MSS
1
 SOLUTION:      Do not use 'RELEASE' on MSS files.
0BENEFITS:      More MSS staging space available.
0WARNINGS:      SYNCSORT uses 'release' option for workfiles.
-MSS 7.0
0TYPE:          FINE TUNING
 RELEASE:       MVS 3.7
 KEYPHRASE:     QSAM dataset performance on MSS
0ENVIRONMENT:   370/168
0PROBLEM:       QSAM datasets use read-previous-record before
                reading the correct record, creating high overhead
                on MSS.
0SOLUTION:      Use full track on QSAM datasets on MSS or use
                OPTCD=Z (search direct).
0BENEFITS:      Reduction of elapsed time on datasets with this
                option.
0WARNING:       COBOL cannot compile OPTCD=Z.
0MSS 8.0
0TYPE:          SUPPORT
 RELEASE:       MVS 3.7
 KEYPHRASE:     MSS messages
0ENVIRONMENT:   370/168
0PROBLEM:       MSS problems difficult to resolve because the
                messages are lost to the operator.
0SOLUTION:      One Console to receive MSS messages is helpful to
                alleviate problems and change the message's
                descriptor code to DOM.
0WARNING:       This may completely fill 3270 console screens and
                cause a WTO buffer shortage but the mssages will
                stay on the console until the operator deletes
                them.
0MSS 9.0
0TYPE:          Support
 RELEASE:       MVS 3.7
 KEYPHRASE:     IMPL of 3830-3
0ENVIRONMENT:   370/158
-
                  SHARE MVS Tuning Report IV Nov 1979   MSS
1
 PROBLEM:       Reserve against 3350 which is connected to 3830-3.
0SOLUTION:      Enter QUIESE command and then system reset the
                system holding reserve.
0WARNING:       The above solution frees the hardware reserve but
                does not decrement the reserve count in the UCB.
                This may cause problems later.
0MSS 10.0
0TYPE:          Fine Tuning
 RELEASE:       MVS 3.7
 KEYPHRASE:     Table create parameter
0PROBLEM:       Excessive virtual UCB busy
0SOLUTION:      When doing your table create specify
                CYLINDERFAULT=YES.
0BENEFITS:      When you are running in cylinder fault mode, the
                virtual UCB will not show busy while the fault is
                being resolved and other people will be able to
                perform I/O against this UCB.
-
 MSS 11.0
0TYPE:          CONFIGURATION
 RELEASE:       MVS 3.7
 KEYPHRASE:     System performance
0ENVIRONMENT:   370/158
0PROBLEM:       Channel utilization
0SOLUTION:      If one places the MSS on a channel by itself one
                might also consider placing local TSO terminals on
                this channel also.
0BENEFITS:      Channel balance may be helped.
0WARNING:       Check your MSS channel utilization before doing
                this.
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   MSS
1
 SCP 1.0
0TYPE:          ZAP
 RELEASE:       3.7H
 KEYPHRASE:     Subsystem requests
0ENVIRONMENT:   8 megabyte 168 BATCH/TSO/IMS/RJE.
0PROBLEM:       Too much overhead processing subsystem requests.
0SOLUTION:      Combine the separate GETMAINS into one.
-++PTF.
   */ .
 ++VER  (Z037).
 ++ZAP  (IEFJRASP)
  /*     THIS MODULES PURPOSE IS TO ROUTE SUBSYSTEM REQUESTS
   *     TO ALL ACTIVE SUBSYSTEMS. IT IS USED QUITE FREQUENTLY
   *     (I.E. FOR EVERY WTO). THEREFORE THE SEPARATE GETMAINS
   *      FOR THE DATD AND SSIB ARE COMBINED INTO ONE.
   */ .
  NAME  IEFJRASP
  VER   0064  4510,C04C,0A0A
  VER   00FA  0A0A
  VER   012C  E600004C
  REP   0064  4110,D04C,0700
  REP   00FA  0700
  REP   012C  E6000070
-
 SCP 2.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     GDG updated at step termination
0++ PTF.
 ++ VER (Z037) .
 ++ ZAP(IEFAB461) .
  NAME IEFAB461
 *
 *     ZAP TO GDG SINGLE PROCESSING (IEFAB461) TO CAUSE GDGNT SEARCH
 *     TO OBTAIN THE CURRENT BASE GENERATION FROM THE CATALOG
 *     RATHER THAN USING THE OLD ONE FROM THE GDGNT. ZAP ALSO
 *     FORCES REUSE OF THE FIRST GDGNT ENTRY TO CONSERVE SWA AND
 *     AVOID UNNECESSARY SEARCHES OF A LENGTHY GDGNT .
 *
  VER 0418 4770,C61A          BNE   @RF00150
  REP 0418 4700,C61A          NOP   @RF00150
  VER 05E8 1E3F               ALR   @03,@15
  REP 05E8 0700               NOP
-
0                 SHARE MVS Tuning Report IV Nov 1979   SCP
1
 SCP 3.0
0TYPE:          ZAP
 RELEASE:       3.7H
 PTFs:          PTF tapes through 7811
 KEYPHRASE:     DASD ALLOCATION
0ENVIRONMENT:   6 MB 168/AP - BATCH,RJE,TSO,IMS
0PROBLEM:       Data sets which are allocated on track boundaries
                go thru end-of-track recovery at the end of every
                track during processing.
0SOLUTION:      Modify the DASD space allocation routine to:
                1.  Make any average-block space request default
                    to round.
                2.  Change the space allocation algorithm from
                    best-fit to first-fit.
0BENEFITS:      Reduced IO activity on DASD channels.
0*
 */ .
 ++VER  (Z037) .
 ++ZAP  (IGG0325D) .
  NAME  IGG0325D
  VER   00CA  9141,B05E   TEST IF A RECORD ROUNDED REQUEST
  VER   0176  4740,C148   BEST-FIT
  REP   00CA  9140,B05E   MAKE AVG-BLK SPACE REQUEST DEFAULT TO ROUND
  REP   0176  4740,C274   FIRST-FIT
-SCP 4.0
0TYPE:          ZAP
 RELEASE:       3.7H
 PTFs:          PTF tapes through 7802
0PROBLEM:       A larger CSA needed
0SOLUTION:      Reduce default private area size.
                (also available in su64)
0++ ZAP (IEAVNIP0)  .
  NAME IEANUC01 IEAVNIP0
  VER 2EA4 00800000    PRIVATE AREA SIZE OF 8MEG
  REP 2EA4 00600000    DECREASE TO A MAXIMUM OF 6 MEG
 ++ ZAP (IEAVNP08) .
  NAME IEAVNP08
 * CSA HERE MEANS COMMON AREA WHICH IS ALL OF SQA, PLPA, MLPA AND CSA
  VER 03A2 4740C380   TEST IF CSA REQUEST IS GREATER THAN 8 MEG
  REP 03A2 47F0
0SCP 5.0
-
                  SHARE MVS Tuning Report IV Nov 1979   SCP
1
 TYPE:          MACRO
 RELEASE:       3.7
 KEYPHRASE:     Console automatic ROLL mode
0PROBLEM:       Unattended consoles will queue up messages and
                eventually crash system due to buffer shortage.
0SOLUTION:      Use PFK #12 to set up automatic roll mode.
0 ++ PTF .
  ++ VER (Z037) .
  ++ UPDTE (SGIEA2D2) DISTLIB (AGENLIB) .
  ./ CHANGE NAME=SGIEA2D2,LIST=ALL
           AIF   ((&J+1) LT &PFKLIM(&I)).KEYLOOP
           PUNCH '         DC    FL1''&j'''
           PUNCH '         DC    X''80'''
   PUNCH '         DC    CL09''K A,NONE;'''
   PUNCH '         DC    CL08''K D,PFK;'''
   PUNCH '         DC    CL32''K S,DEL=R,SEG=19,CON=N,RTME=001;'''
   PUNCH '         DC    CL13''MN JOBNAMES,T'''
   PUNCH '         DC    CL46'' '''
  ++ UPDTE (SGIEA2D3) DISTLIB (AGENLIB) .
  ./ CHANGE NAME=SGIEA2D3,LIST=ALL
           AIF   ((&J+1) LT &PFKLIM(&I)).KEYLOOP
           PUNCH '         DC    FL1''&J'''
           PUNCH '         DC    X''80'''
   PUNCH '         DC    CL09''K A,NONE;'''
   PUNCH '         DC    CL08''K D,PFK;'''
   PUNCH '         DC    CL32''K S,DEL=R,SEG=19,CON=N,RTME=001;'''
   PUNCH '         DC    CL13''MN JOBNAMES,T'''
   PUNCH '         DC    CL46'' '''
0SCP 6.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     WTO user exit control
0PROBLEM:       Not all messages give control to user exit.
0++ PTF /* THIS MODIFICATION ALLOWS THE WTO USER EXIT
          (IEECVXIT) TO BE GIVEN CONTROL FOR ALL MESSAGES. */ .
 ++ VER (Z037) PRE (UZ07018) .
 ++ ZAP (IEAVVWTO) .
  NAME IEAVVWTO
  VER 030C 47E0
  REP 030C 47F0
0SCP 7.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     JOBFAIL DISP proessing
-
0                 SHARE MVS Tuning Report IV Nov 1979   SCP
1
 PROBLEM:       Conditional dispositioning bypassed if job fails.
0SOLUTION:      If JOBFAIL is set, make de-allocation perform
                conditional disposition processing at step and job
                end as if an abend had occurred. This will handle
                cases like 'DATA SET NOT FOUND' and 'NO SPACE
                AVAILABLE'.
0++ PTF.
 ++ VER (Z037) PRE(UZ07002)
 ++ ZAP (IEFBB410) .
  NAME IEFBB410
 *        ZAP TO CAUSE CONDITIONAL STEP DISPOSITION IF JOBFAIL SET
  VER 07D2 9624A1DC                OI    STPASS,B'00100100'
  VER 07E6 9617A1DC                OI    STPASS,B'00010111'
  REP 07E6 9624A1DC                OI    STPASS,B'00100100'
 *        ZAP TO CAUSE CONDITIONAL JOB DISPOSITION IF JOBFAIL SET
  VER 0B0C 91088005                TM    JCTABEND(@08),B'00001000'
  VER 0B10 47E0BAF4                BNO   @RF00...
  VER 1524 00000000      PATCH     DC    NF'0'    PATCH AREA
  VER 1530 00000000      PATCHEND  DC    F'0'     PATCH END
  REP 0B10 47E0C501                BNO   PATCH
  REP 1524 58809000                L     @08,LCTPTR(,PARMPTR)
  REP 1528 91C0B020                TM    LCTJFAIL(@08),B'11000000'
  REP 152C 47E0BAF4                BNO   @RF00...
  REP 1530 47F0BAF0                B     @RF00...-4
0SCP 8.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     Display units
0++ PTF /* CHANGE THE NUMBER OF DEVICES THAT A D U
           DISPLAYS FROM 100 T0 1 */.
 ++ VER (Z037) .
 ++ ZAP (IEE20110) .
  NAME IEE20110
  VER 00E0 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
  VER 0114 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
  VER 0148 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
  VER 018A 9264,C085               MVI   NODIVICES+ONE,NODEVDEF
  REP 00E0 9201,C085               MVI   NODIVICES+ONE,X'01'
  REP 0114 9201,C085               MVI   NODIVICES+ONE,X'01'
  REP 0148 9201,C085               MVI   NODIVICES+ONE,X'01'
  REP 018A 9201,C085               MVI   NODIVICES"ONE,X'01'
-
 SCP 9.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     DUMP 80 lines per page
-
                  SHARE MVS Tuning Report IV Nov 1979   SCP
1
 ++ PTF /* CHANGE THE NUMBER OF LINES PER PAGE IN DUMP TO 80 */.
 ++ VER (Z037) PRE (UZ06202) .
 ++ ZAP (IEAVAD01) .
  NAME IEAVAD01
  VER 02F8 9238210F
  VER 0C6A 9238210F
  VER 0CDC 9238210F
  REP 02F8 9250210F
  REP 0C6A 9250210F
  REP 0CDC 9250210F
0SCP 10.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          PTF tapes through 7802
 KEYPHRASE:     TTR SORT
0PROBLEM:       IEBPTPCH output is awkward to read.
0SOLUTION:      Cause the TTR sort to not be done, therefore leaving
                the members in alphabetical order.
0 NAME IEBPPCH1
  VER 0D12 47409D22
  REP 0D12 47F09D22
-
 SCP 11.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          PTF tapes through 7802
 KEYPHRASE:     Started task output
0PROBLEM:       JES3 SYSMSG printed for started tasks
0SOLUTION:      Replace MSGLEVEL=1 with MSGCLASS=0 in generated
                job card.
0 NAME IEEVSTAR
  VER 0B5F D1D6C240D4,E2C7D3C5,E5C5D37EF1
  REP 0B5F D1D6C240D4,E2C7C3D3,C1E2E27EF0
0SCP 12.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          PTF tapes through 7802
 KEYPHRASE:     BLOCK SIZES
0PROBLEM:       Inefficient blocking of assembler SYSOUT datasets.
-
0                 SHARE MVS Tuning Report IV Nov 1979   SCP
1
 SOLUTION:      Add default block sizes to the SYSPRINT, SYSPUNCH
                and SYSGO DCB's
0 NAME IFOX0G00
  VER 00A6 0000
  VER 0106 0000
  VER 0166 0000
  REP 00A6 181B         DCB=BLKSIZE=6171
  REP 0106 0C80         DCB=BLKSIZE=3200
  REP 0166 0C80         DCB=BLKSIZE=3200
0SCP 13.0
0TYPE:          ZAP
 RELEASE:       3.7E
 KEYPHRASE:     Date in DSCB
0PROBLEM:       Need to know date data set was last used, except
                for certain utilities.
0SOLUTION:      Move current date to VOLSER field of DSCB.
                (or consider su60 implementation)
0++ ZAP (IFG0195A) .
  EXPAND IFG0195A(600)
  NAME IGC0001I IFG0195A
 *
 *           MOD TO CHECK FOR A LIST OF EXCLUDED PROGRAMS
 *           PROGRAMS EXCLUDED ARE DISKLIST,IEHLIST,TSOWHSE, AND
 *                        IKJSQID0
 *           MOD WILL MOVE CURRENT DATE TO VOL SER FIELD OF DSCB
 *                        IN ORDER TO SURVEY LAST DATE USED
 *           TO ADD NAMES TO EXCLUDE TABLE CHECK CURRENT TABLE
 *                        AND PUT NAME IN NEXT AVAILABLE 8 BYTES
  VER 009C 9104,4098      TM   JFCBTSDM,JFCNDSCB
  REP 009C 47F0,338E      GO TO EXPANDED PATCH AREA
  VER 0390 0000,0000,0000,0000,0000,0000,0000,0000,0000,0000   VER PATC
  REP 0390 4700,0000      NO OP INSTRUCTION
  REP 0394 58C0,0010      LOAD RC WITH ADDRESS OF CVT
  REP 0398 58C0,C000      LOAD RC WITH ADDRESS OF TCB ADDRESS
  REP 039C 58C0,C004      LOAD RC WITH ADDRESS OF TCB
  REP 03A0 58C0,C02C      LOAD RC WITH ADDRESS OF CODE FOR JPQ
  REP 03A4 41D0,341A      LOAD RD WITH ADDRESS OF FIRST TABLE ENTRY
  REP 03A8 9500,D000      COMPARE FOR END OF TABLE
  REP 03AC 4780,33FE      IF END OF TABLE BRANCH TO MOVE AREA CODE
  REP 03B0 D507,C008,D000 COMPARE PGM NAME(CDE) WITH TABLE ENTRY
  REP 03B6 4780,340E      JUST RETURN IF EQUAL
  REP 03BA 41D0,D008      LOAD ADDRESS OF NEXT TABLE ENTRY
  REP 03BE 47F0,33A6      BRANCH TO COMPARE NEW TABLE ENTRY
 *                  MOVE ODE AREA FOR MOVE DATE TO DSCB
  REP 0400 58C0,0010      LOAD R12 WITH ADDRESS OF CVT
  REP 0404 58C0,C038      LOAD R12 WITH DATE IN PACKED DECIMAL
  REP 0408 50C0,4001      STORE DATA IN DSIDSSN (VOLSER FIELD OF DSCB)
  REP 040C 9640,40B0      SET DSCB MODIFIED SWITCH ON
-
                  SHARE MVS Tuning Report IV Nov 1979   SCP
1
  REP 0410 9104,4098      REPLACE ORIGINAL INSTRUCTION
  REP 0414 47F0,309E      BRANCH BACK TO FOLLOWING ORIGINAL INSTRUCTION
 *                  STORAGE USED   JUST LIKE   DC CL99'1'
  REP 0418 0000,0004      NUMBER OF DOUBLE WORD ENTRIES TO SEARCH
 *TABLE ENTRIES NEXT  ROOM FOR A TOTAL OF 21
  REP 041C C4C9E2D2D3C9E2E3   FIRST ENTRY    DISKLIST
  REP 0424 C9C5C8D3C9E2E340   SECOND ENTRY   IEHLIST
  REP 042C E3E2D6E6C8E2C540   THIRD ENTRY    TSOWHSE  FOR ARCHIVE SYSTE
  REP 0434 C9D2D1E2D8C9C4F0   FOURTH ENTRY   IKJSQID0
0SCP 14.0
0TYPE:          Fine Tuning
 RFELEASE:      3.7
0PROBLEM:       Finding the optimum fixed BLDL list.
0SOLUTION:      Use a dynamic BLDL list in the nucleus to keep the
                most recent entries in core. The DYNAMIC BLDL code
                and zap is on the SHARE MVS MODS TAPE.
0BENEFITS:      Most installations see at least an 85% hit ratio for
                members of the linklist libraries. The contents of
                the table will also change to reflect the changing
                workload on different shifts, etc.
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   SCP
1
 SMF 1.0
0TYPE:          ZAP
 RELEASE:       3.7G
 KEYPHRASE:     SMF recording
0PROBLEM:       Overhead of write validity check with SYS1.MAN
                datasets
0SOLUTION:      Remove OPTCD=W from MANX/MANY DCBs
-++PTF.
 ++ZAP(IEEMB822).
  NAME IEEMB822
  VER 03B4 E2D4,C6D4,C1D5,E740      MANX
  VER 0410 E2D4,ClD4,C1D5,E840      MANY
  VER 03C0 8000,0001                OPTCD=W
  VER 041C 8000,0001
  REP 03C0 0000
  REP 042C 0000
-
 SMF 2.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          All PTF tapes through 7802.
0PROBLEM:       Type 40 records cause most of the SMF data set activity
                (dynamic allocation)in a TSO environment.
0SOLUTION:      Turn off the writing of the SMF record Type 40.
0BENEFITS:      Less time spent writing SMF records. MANX and MANY
                data sets fill up less quickly.
0WARNING:       This mod will eliminate some relevant data; an
                alternative is to use the IEFU83 exit to bypass
                type 40 records with zero IO counts.
0++PTF.
   /*   THIS ZAP WILL TURN OFF THE WRITING OF SMF RECORD TYPE 40
    *   THE DYNAMIC DD ALLOCATION RECORD
    */.
 ++VER  (Z037).
 ++ZAP  (IEFDB4F9).
  NAME IFFDB4F9
  VER  070E  0A53
  REP  070F  0700
0SMF 3.0
-
0                 SHARE MVS Tuning Report IV Nov 1979   SMF
1
 TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          PTF tapes through 7711
 KEYPHRASE:     IEFACTRT.
0ENVIRONMENT:   4 mb 168 BATCH/TSO/CICS.
0PROBLEM:       When the Exit 'IEFACTRT' is used to print 'START',
                'STOP', and other information; messages IEF373I,
                IEF374I, IEF375I, and IEF376I are redundant.
0SOLUTION:      Stop the formatting and printing of the messages.
0BENEFITS:      Less time spent writing unneeded messages.
0++PTF.
  /*   WITH THE INSTALLATION OF THE IEFACTRT EXIT.
   *   THE INFORMATION IN MESSAGES IEF373I, IEF374I,
   *   IEF375I, AND IEF376I IS REDUNDANT.
   *   THIS ZAP STOPS THE FORMATTING AND PRINTING OF THOSE MESSAGES.
   */.
 ++VER  (Z037).
 ++ZAP  (IEFTB722).
  NAME IEFTR722
  VER 04AA 45F0,C74A        CALL SIGNON
  VER 04AE 4550,C840        CALL SIGNOFF
  VER 05D2 45F0,C743        CALL SIGNOFF
  VER 05D6 45E0,C840        CALL SIGNOFF
  REP 04AA 0700,0700
  REP 04AE 0700,0700
  REP 05D2 0700,0700
  REP 05D6 0700,0700
0SMF 4.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTFs:          PTF tapes through 7801
 KEYPHRASE:     Don't SWAP while enqued on SMF buffer
0PROBLEM:       Lock out occurs if user gets swapped out while
                holding the SMF buffer
0SOLUTION:      Mark user non-swappable while enqued.
0++PTF .
 ++ZAP (IEEMB830) .
 ****  DO NOT SWAP AN ADDRESS SPACE WHILE IT IS ENQUED ON THE SMF BUFFE
  NAME IGC0008C IEEMB830
  VER 0170 D20B,C158,B696      MVC ENQCORE(ENQLEN),ENQLIST
  VER 0416 947F,C13D           NI  ENQSW,B'01111111'
  VER 061C 947F,C13D           NI  ENQSW,B'01111111'
  VER 0700 00000000,00000000,00000000,00000000  PATCH AREA
  VER 0710 00000000,00000000,00000000,00000000  PATCH AREA
-
                  SHARE MVS Tuning Report IV Nov 1979   SMF
1
  VER 0720 00000000,00000000,00000000,00000000  PARCH AREA
 *
 *           BEGINNING ZAP CODE FOR PATCH AREA ONE
  REP 0170 47F0,B6FE,0000    B PATCH1
  REP 0700 4100,0029         SET DONT SWAP CODE FOR SYSTEM EVENT SVC
  REP 0704 0A5F              ISSUE SYSTEM EVENT SVC
  REP 0706 D20B,C158,B696    REPLACE ORIGINAL MVC INSTRUCTION
  REP 070C 47F0,B174         BRANCH BACK TO FOLLOWING INSTRUCTION
 *           THE END OF ZAP CODE FOR PATCH AREA ONE
 *
 *           BEGINNING ZAP CODE FOR PATCH AREA TWO
  REP 0416 47F0,B70E         B PATCH2
  REP 0710 4100,002A         SET OK TO SWAP CODE FOR SYSTEM EVENT SVC
  REP 0714 0A5F              ISSUE SYSTEM EVENT SVC
  REP 0716 947F,C13D         REPLACE ORIGINAL NI INSTRUCTION
  REP 071A 47F0,B418         BRANCH BACK TO FOLLOWING INSTRUCTION
 *           THE END OF ZAP CODE FOR PATCH AREA TWO
 *
 *           BEGINNING ZAP CODE FOR PATCH AREA THREE
  REP 061C 47F0,B71C         B PATCH3
  REP 071E 4100,002A         SET OK TO SWAP CODE FOR SYSTEM EVENT SVC
  REP 0722 0A5F              ISSUE SYSTEM EVENT SVC
  REP 0724 947F,C13D         REPLACE ORIGINAL NI INSTRUCTION
  REP 0728 47F0,B61E         BRANCH BACK TO FOLLOWING INSTRUCTION
 *           THE END OF ZAP CODE FOR PATCH AREA THREE
 *
0SMF 5.0
0TYPE:          ZAP
 PTFs:          PTF tapes through 7801
0PROBLEM:       SMF data is left on the buffer when a planned
                system "down" occurs but it is not desirable to
                switch the SMF data sets. (HALT  EOD command)
0SOLUTION:      Fix Z EOD proessing so that it will still flush
                the SMF bufer but will not switch SMF data sets.
0++PTF
 ++ZAP(IEE70110) DISTLIB(AOSB3).
   EXPAND IEE70110(40)
  NAME IEE70110
  VER 0108 18160A53                       LR  1,6 . . . SVC  83
  VER 02EC 00000000                        VERIFY PATCH AREA
  VER 02F0 00000000
  VER 02F4 000000000000
  VER 02FA 0000
  VER 02FC 0000
  VER 02FE 00000000
  VER 0302 00000000
  REP 0108 47F0C2EA                        BRANCH TO PATCH
  REP 02EC 953C2004               PATCH    IS IT HALT
  REP 02F0 4780C2F8                        YES, BRANCH AROUND
-
                  SHARE MVS Tuning Report IV Nov 1979   SMF
1
  REP 02F4 D2036004C300                    MOVE 'SWIT' TO RECORD
  REP 02FA 1816                            LR  1,6
  REP 02FC 0A53                            SVC 83
  REP 02FE 47F0C10A                        BRANCH TO MAINLINE
  REP 0302 E2E67C9E3                       'SWIT' CONSTANT
 ++ZAP(IEEMB830) DISTLIB(AOS00).
   EXPAND IEEMB830(56)
  NAME IEEMB830
  VER 023A 4770B274                        RECORD NOT 'HALT', BR OUT
  VER 0266 96015068                        TURN ON SWITCH FLAG
  VER 072C 00000000                        VERIFY PATCH AREA
  REP 023A 47F0B72A                        BRANCH TO PATCH1
  REP 0266 47F0B740                        BRANCH TO PATCH2
  REP 072C 4780B23C               PATCH1   IF RECORD 'HALT',BR MAINLINE
  REP 0730 D5033004B73C                    OTHERWISE, IS IT 'SWIT'
  REP 0736 4780B23C                        IF SO, BR MAINLINE
  REP 073A 47F0B274                        OTHERWISE, BRANCH OUT
  REP 073E E2E6C9E3                        'SWIT' CONSTANT
  REP 0742 D5033004B684           PATCH2   IS RECORD 'HALT'
  REP 0748 4780B408                        YES, SKIP SWITCH
  REP 074C 96015068                        TURN ON SWITCH FLAG
  REP 0750 47F0B268                        BANCH BACK TO SWITCH
-
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   SMF
1
 TCAM 1.0
0TYPE:          ZAP
 RELEASE:       3.7
 PTF:           UZ14048
 KEYPHRASE:     TCAM USERMAX
0PROBLEM:       Cannot change maxusers
0WARNING:
0     1)    If number is set larger than TIOC USERMAX, the results
            are very unpredictable. There is also a two digit
            limit.
0     2)    Various infrequent TCAM abends have been attributed to
            this zap. However, it does perform a useful function.
0     3)    After the USERMAX has been lowered, the operator SEND
            command will only send messages to that number of
            users.
0*
 *    THIS ZAP ALLOWS THE USERMAX VALUE OF TSO USERS TO BE RESET
 *    DYNAMICALLY AFTER TSO HAS BEEN INITIALIZED UNDER MVS.
 *
 *    F TCAM,TS=XXX        WHERE XXX IS THE NEW USERMAX DESIRED
 *
 *    XXX MAY RANGE FROM ZERO TO THE VALUE OF USERMAX SPECIFIED IN
 *    IKJPRMXX OR SET BY DEFAULT. ATTEMPTS TO INCREASE THE VALUE
 *    BEYOND THE ORIGINAL USERMAX WILL GIVE UNPREDICTABLE RESULTS.
 *
 *    LIBRARY -- SYS1.LPALIB
0 NAME IGCMC10D IEDAY1
 *
 *       R12 = 0002
 *
  VER 07BA 41000012          REPLACE THIS INSTRUCTION
  REP 07BA 47F0CC96          WITH BRANCH TO PATCH AREA
  VER 0CA0 00000000          EMPTY PATCH AREA
  REP 0CA0 41000012          RESTORE REPLACED INSTRUCTION
  REP 0CA4 95F03001          CLI  1(R3),C'0'      IS VALUE NUMERIC
  REP 0CA8 4740C7BC  (NOTE1) BL   ERROR           NO, EXIT SYNTAX ERR
  REP 0CAC 0650              BCTR R5,0            REDUCE LENGTH FOR =
  REP 0CAE 0650              BCTR R5,0            AND EXECUTE INSTR
  REP 0CB0 4450CCDC          EX   R5,PACK         PACK VALUE SPECIFIED
  REP 0CB4 4F80CCE2          CVB  R8,ZERO         CONVERT TO BINARY
  REP 0CB8 58400010          L    R4,CVTPTR       GET CVT POINTER
  REP 0CBC 584040F0          L    R4,CVTAQAVT-CVT(R4)  TCAM AVT
  REP 0CC0 58404024          L    R4,TCXRPT-IEDQTCX(R4)  AND RPT
  REP 0CC4 1244              LTR  R4,R4           IS TSO ACTIVE
  REP 0CC6 4780C7BC  (NOTE1) BZ   ERROR           NO, ERROR
  REP 0CCA B20B0000          IPK                  SAVE CURR KEY REG2
-
                  SHARE MVS Tuning Report IV Nov 1979   TCAM
1
  REP 0CCE B20A0060          SPKA 96(0)           SET TCAM KEY
  REP 0CD2 4080400A          STH  R8,TIOCNTSB     SET NEW USERMAX VALUE
  REP 0CD6 B20A2000          SPKA 0(R2)           RESTORE PROTECT KEY
  REP 0CDA 47F0C792  (NOTE2) B    EXIT            NORMAL EXIT
  REP 0CDE F270CCE23001      PACK ZERO(8),1(*-*,R3) PACK NEW VALUE
  REP 0CE4 0000000000000000  DC   D'0'            INTO THIS AREA
 *
 *    THE FOLLOWING CODE SHOULD BE FOUND AT THESE LOCATIONS:
 *    NOTE1 -- 181D  (SHOULD BE PRIOR TO XCTL TO IGC0310D)
 *    NOTE2 -- 5850D00C,1B00,4000501C  (PRIOR TO XCTL TO IGC0710D)
 *
 *
0TCAM 2.0
0TYPE:          Fine Tuning
 RELEASE:       Any TCAM above 9B
 REFERENCES:    TCAM Programmer's Guide
 KEYPHRASE:     Fixed storage CPU benefits
0ENVIRONMENT:   Large TCAM systems (with TSO)
0PROBLEM:       High TCAM CPU use and large working set.
0SOLUTION:
            1)  Reduce TCAM Region size to absolute minimum by
                reducing buffers allocated, etc.
0           2)  Reduce poll interval for Remote 327x devices via
                superzap.  (See TCAM 3.0)
0           3)  Run reduced size TCAM specifying ADDRSPC=REAL.
0BENEFITS:      Minimizes CPU used in heavy TSO environments.
0WARNINGS:      Light TSO loads (peak less than 40 users) may not
                "pay back" enough CPU for real storage consumed.
0TCAM 3.0
0RELEASE:       3.7
 PTF:           UZ07822
0PROBLEM:       High TCAM polling overhead
0SOLUTION:      Reduce polling of remote 3270 devices that are not
                logged on.  This is accomplished by increasing the
                polling interval by a factor of 15 if no one is
                logged on.  Once logon occurs, the normal polling
                interval is utilized.
0BENEFITS:      For terminals not logged on, this mod decreased
                line activity by approximately 93 percent (93%).
                Because of the high correlation between line
-
                  SHARE MVS Tuning Report IV Nov 1979   TCAM
1
                activity in polling and CPU utilization by TCAM,
                CPU utilization is reduced by the same order of
                magnitude.  In a production environment, where the
                average terminal was logged on approximately 40
                percent (40%) of the time, total line activity was
                reduced by 48 percent (48%).  Additionally, TCAM
                CPU utilization was reduced 47 percent (47%).
0++ PTF
 ****
 **** /* MOD TO REDUCE POLLING TO 1/15TH THE NORMAL RATE FOR
 ****    TERMINALS ON WHICH NO TSO SESSION IS ACTIVE. THE BYTE AT
 ****    OFFSET 0B45 DETERMINES THE NUMBER OF POLLING INTERVALS
 ****    TO BE SKIPPED.  /*
 ****
 ++ VER(Z037) PRE(UZ07822) .
 ++ ZAP(IEDAYZ) DISTLIB(A0S21).
   EXPAND IEDAYZ(80)
 DUMP IEDAYZ
 NAME IEDAYZ
 VER 005E 6364             DATE LAST MODIFIED
 VER 0096 1B66             AYZ015 ??
 VER 0114 58A04034         AYZ042 ??
 VER 015E 41801008         AYZ045 ??
 VER 007A 91807024         TM  QCBFLAG,QCBTSSES    TSO TERM ACTIVE?
 VER 007E 471060A0         BO  AYZ020              BRANCH IF YES
 VER 0082 47F06096         B   AYZ015              RETURN IF NOT
 VER 014E 91104013         TM  LCBTSOB,LCBSOPL     ANY ENTRIES POLLED?
 VER 0152 4710615E         BO  AYZ045
 REP 0082 47F06B30       * B    PATCH
 REP 0152 47106B64       * B   PATCH2
 REP 0B30 91487024   PATCH TM  QCBFLAG,QCBNOBRK+QCBTERMQ
 REP 0B34 47E06096       * BNO AYZ015
 REP 0B38 58A04034         L   RDCB,LCBDCBPT       GET DCB ADDR
 REP 0B3C 9500A018         CLI DCBINTVL,ZERO       IS INTERVAL=0?
 REP 0B40 47806096       * BE  AYZ015              YES. NO SLOWPOLL
 REP 0B44 950F7019         CLI DCBINTVL,ZERO       EXCEEDED BYPASS COUN
 REP 0B48 47406B54       * BL  INCR                NO. BR INCR ROUTINE
 REP 0B4C 92007019         MVI QCBINTV1,ZERO       RESET COUNTER
 REP 0B50 47F06096       * B   AYZ015              GO DO POLL
 REP 0B54 43C07019         INCR IC R12,QCBINTVL+1   GET COUNT
 REP 0B58 41C0C001         LA  R12,1(,R12)         INCR COUNT
 REP 0B5C 42C07019         STC R12,QCBINTVL+1      STORE COUNT
 REP 0B60 47F06114       * B   AYZ042              SKIP POLL
 REP 0B64 58A04034     CH2 L   RDCB,LCBDCBPT GET DCB ADDR
 REP 0B68 9500A018         CLI DCBINTVL+1,ZERO     INTERVAL=0?
 REP 0B6C 4780615E       * BE AYZ045
 REP 0B70 47F06156
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   TCAM
1
 TSO 1.0
0TYPE:          ZAP
 RELEASE:       3.7H
 PTFs:          PTF tapes through 7811
 KEYPHRASE:     TSO ALLOC
0PROBLEM:       ALLOC defaults to "OLD"
0SOLUTION:      Change ALLOC default to "SHR"
0BENEFIT:       Lessens data set contention by TSO users and/or
                batch.
0NAME IKJEFD30
 VER 021A D201A00CC41E
 REP 021A D201A00CC420
-TSO 2.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     TSO EDIT TAB FOR 3270
0REQUIREMENTS:  3270's
0ENVIRONMENT:   TSO with 3270's
0PROBLEM:       3270's have no TAB key recognized by TSO.
0SOLUTION:      Choose a character and make it a logical tab key.
0EXAMPLE:       This makes the "#" a logical tab key. Entering
                "TAB OFF" will return the use of "#" as an input
                character. "TAB ON" will restore logical tab.
0BENEFITS:      Tabbing is very handy in edit.
0++ PTF /* SET TAB CHARACTER TO # (POUND SIGN) .
                 THIS IS FOR 3270 SUPPORT  */ .
 ++ VER (Z037) .
 ++ ZAP (IKJEBELE) .
  NAME IKJEBELE
  VER 0228 9240,6003           MVI   TEXTBFR-1(@06),C' '
  REP 0228 927B,6703          MVI   TEXTBFR-1(@06),C'#'
  VER 0858 7A7B7C                    TRANSLATE TABLE ENTRY
  REP 0858 7A057C                    TRANSLATE TABLE ENTRY
-TSO 3.0
0TYPE:          ZAP
 RELEASE:       3.7
-
                  SHARE MVS Tuning Report IV Nov 1979   TSO
1
 KEYPHRASE:     TSO EDIT
0PROBLEM:       TSO EDIT allocates new data sets too large.
0SOLUTION:      Change TSO EDIT to release space for new data
                sets. (Changes SADAQN field).
0BENEFITS:      Data sets use only space really needed.
0WARNINGS:      Can fragment data sets if first created and then
                added to.
0NAME IKJEBESA
  VER  1286  0402,0840
  REP  1286  0402,0850
-
0TSO 4.0
0TYPE:          FINE TUNING
 KEYPHRASE:     PROCLIB
0PROBLEM:       Switching from one proclib to another.
0SOLUTION:      Use only one proclib and have TSO procs start with
                a character high in collating sequence; i.e., #,
                @, or $, reducing the directory search. Also,
                combining PROCLIB's eliminates the open-close
                overhead involved in switching libraries between
                batch and logon.
0TSO 5.0
0TYPE:          SUPPORT
 RELEASE:       3.7
 KEYPHRASE:     SVS IEBCOPY on MVS for use in TSO.
01.   Copy from VS2R1.7 to MVS SYS1.SVCLIB
                IGG019C8 as IGG019WA
                IGG019FT as IGG019WB
02.   Superzap IGG019WA
0     NAME IGG019WA IGG019C8
      * To make SVS appendage routine compatible with MVS IOS.
      VER FC 47F0, E004
      REP FC 47F0, E000
      * For correct CSW validity check
      VER 0496 5880, 0040  (After PTF 70305 location verifies
      REP 0496 5880, 2008  at 04B6)
03.   LINKEDIT REL 1.7 (SVS) IEBCOPY into MVS SYS1.LINKLIB or user
-
                  SHARE MVS Tuning Report IV Nov 1979   TSO
1
      library as TSOCOPY.
04.   Superzap TSOCOPY to use IGG019WA and IGG019WB.
0     NAME TSOCOPY IEBDSMCA
      VER 0682 C3F8C6E3
      REP 0682 E6C1E6C2
      VER 06CA C3F8C6E3
      REP 06CA E6C1E6C2
      VER 07FA C3F8C6E3
      REP 07FA E6C1E6C2
0     NAME TSOCOPY IEBDV1
      VER 0828 C3F8
      REP 0828 E6C1
      VER 083E C6E3
      REP 083E E6C2
05.   Update MVS SYS1.PARMLIB (IEAAPP00) to include IGG019WA  as
      a PCI appendage and IGG019WB as a SIO appendage.
0TSO 6.0
0TYPE:          FINE TUNING + ZAP
 RELEASE:       3.7H
 KEYPHRASE:     TSO COMMANDS
0PROBLEM:       Unnecessary activity to CMDLIB
0SOLUTION:      Copy SYS1.CMDLIB members to SYS1.LPALIB
0BENEFITS:      15% reduction in TSO response for edit type
                scripts measured (benchmarks on a 4 MB 158).
0               Increased efficiency in directory search, paging.
0WARNINGS:      Reduced Private Area size
                Reduced SMF CPU time for billing purposes (8-18%
                measured).
                SMP must be informed: The easiest way is to change
                the CMDLIB DDcard in the SMP proc to point to
                SYS1.LPALIB.
0               One might do as well if one did selective copying
                to lpalib instead of mass copy. if this is done
                SMP must be informed differently ie via uclin.
-EXAMPLE:       To remove the restriction of SYS1.CMDLIB being in
                LNKLST, the following zaps will NOP the BLDL.
01.    TEST COMMAND
0NAME  IKJEGCIV
-
                  SHARE MVS Tuning Report IV Nov 1979   TSO
1
 VER  00F4  0A12
 REP  00F4  1bff
02.    EDIT COMMAND
0NAME   IKJEBECI
 VER  021C  0A12   BLDL
 VER  037C  9280F000     SET DE BIT IN ATTACH
 REP  021C  1BFF         SR
 REP  037C  9200F000     DON'T SET DE BIT IN ATTACH
0TSO 7.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     PERFORMANCE; CVT
0ENVIRONMENT:   TSO
0PROBLEM:       Eliminate overhead of LINK or LOAD SVC's for
                frequently invoked user modules.
0SOLUTION:      Utilize module IKJEFXSR to place the addresses of
                modules in the CVT. A module can then be invoked
                via CALL instead of LINK or LOAD. IKJEFXSR
                searches the LINKPACK area for the specific module
                and places its address at the specified offset
                within the CVT. The high-order bit is turned on in
                the address field. IKJEFXSR contains a table of
                entries of modules whose addresses are to be added
                to the CVT. Each table entry is twelve bytes long
                and of the form:
0                   DC  CL8'NAME'
                    DC  AL4(CVT-OFFSET)
0               The table starts at +560 and runs through +5D7.
                IKJEFXSR can be expanded and new entries added at
                the end of the table. The last entry in the table
                is determined by a LA instruction at +11C. This
                must be changed to point to the last entry added.
0WARNING:       The modules whose addresses are to be added to the
                CVT must reside in the LINKPACK area.
0               This is an old zap.
0EXAMPLE:
 ++ZAP(IKJEFXSR).
  EXPAND IKJEFXSR(40)
 NAME IKJEFXSR
 VER 05D8 00000000,00000000,00000000
 REP 05D8 C1C2C340,40404040          DC  CL8'ABC'
 REP 05E0 00000000                   DC  AL4(192)  USER FIELD
-
                  SHARE MVS Tuning Report IV Nov 1979   TSO
1
 VER 011C 41F0C5B0
 REP 011C 41F0C5BC
0TSO 8.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     TMP, ALLOCATION
0PROBLEM:       Data sets allocated by IBM written command
                processors are not freed at termination.
0SOLUTION:      Upon termination of a command procedure, the TMP
                will free all data sets allocated by the CP. For
                efficiency, IKJEFXSR has been used to place the
                address of the freeall module into the CVT.
0++ZAP(IKJEFXSR).
  EXPAND IKJEFXSR(40)
 NAME IKJEFXSR
 VER 05D8 00000000,00000000,00000000
 REP 05D8 C6D9C5C5C1D3D3040           DC  CL8'FREEALL'
 REP 05E0 00000000                    DC  AL4(192)
 VER 011C 41F005B0
 REP 011C 41F0C5BC
0++ZAP(IKJEFT02).
  EXPAND IKJEFT02(90)  IKJEFT02
 VER  1078  47F0AFDE            B     @EL00010
 REP  1078  47F0B455            B     PATCH
 VER  1460  00000000
 REP  1460  C6D9C5C5C1D3D340    DC    CL8'FREEALL'
 REP  1468  FF000000            DC    X'FF000000'
 REP  1470  58109098      PATCH L     1,CPPLPTR
 REP  1474  5610B44D            O     1,=X'FF0000000'  INDICATE SPEC FC
 REP  1478  58F00010            L     15,CVTPTR       A(CVT)
 REP  147C  9180F0C0            TM    192(15),X'80'   FREEALL PTR EXIST
 REP  1480  4780B479            BZ    LINK            NO, DO LINK
 REP  1484  58F0F0C0            L     15,192(15)      A(FREEALL)
 REP  1488  05EF                BALR  14,15           INVOKE FREEALL
 REP  148A  50F094EC            ST    15,RCODE   STORE RETACODE
 REP  148E  18E6                LR    14,6
 REP  1490  47F0AFDE            B     @EL00010    RETURN TO MAINLINE
 REP  1494  41000008       LINK LA    0,8
 REP  1498  1110                LNR   1,0
 REP  149A  0A0A                SVC   10         GET 8-BYTE WORK AREA
 REP  149C  1841                LR    4,1
 REP  149E  18F1                LR    15,1       PARM REGISTER
 REP  14A0  4110B445            LA    1,=CL8"FREEALL'
 REP  14A4  50104000            ST    1,(4)      A(EP NAME)
 REP  14A8  D70340044004        XC    4(4,4),4(4)  ZERO DCB ADDRESS
 REP  14AE  58109098            L     1,CPPLPTR
 REP  14B2  4610BB3C            O     1,=X'FF000000'  INDICATE SPEC FCN
 REP  14B6  0A06                SVC   6          LINK TO FREEALL
-
                  SHARE MVS Tuning Report IV Nov 1979   TSO
1
 REP  14B8  50F094EC            ST    15,RCODE   STORE RET CODE
 REP  14BC  1814                LR    1,4
 REP  14BE  41000008            LA    0,8
 REP  14C2  0A0A                SVC   10         FREE WORK AREA
 REP  14C4  18E6                LR    14,6
 REP  14C6  47F0AFDE            B     @EL00010    RETURN TO MAINLINE
0TSO 9.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     CVOL
0PROBLEM:       Search of VSAM catalog to find TSO CVOL.
0SOLUTION:      For data sets beginning with a $ go directly to CVOL.
0WARNING:       This zap may have to be reworked if the data
                management SU is installed.
0++ PTF /* AUTOMATIC CVOL POINTER FOR TSO DATA SETS -
          FOR ANY DATA SET BEGINNING WITH A $ SEARCH THE MASTER CATALOG
          FOR $TSO001 (WHICH IS AN ALIAS OF SYSCTLG.TSO001). */   .
 ++ VER (Z037) .
 ++ ZAP (IGG0CLA3) .
  NAME IGG0CLA3
  VER 048E 45E0,C734     Z027DOG   BAL   R14,IGGPDOG
  VER 0E24 0000,0000     PATCH     DC    F'0'
  VER 0E3A 0000,0000     PATCHEND  DC    F'0'
  REP 048E 45E0,CDF6               BAL   R14,PATCH
  REP 0E24 955B,A05C               CLI   SCHQN(R10),C'$'
  REP 0E28 4770,C734               BNE   IGGPDOG
  REP 0E2C D207,B02C,CE08          MVC   CCASRCH(8,R11),TSO001
  REP 0E32 47F0,C734               B     IGGPDOG
  REP 0E36 5BE3E2D6        TSO001  DC    C'$TSO'
  REP 0E3A F0F0F140                DC    C'001'
0TSO 10.0
0TYPE:          ZAP, SUPPORT
 RELEASE:       3.7
 KEYPHRASE:     OUTPUT command
0PROBLEM:       TSO users are restricted to output only those jobs
                prefixed with their ID.
0SOLUTION:      Allow TSO output command for any jobname.
0 NAME  IKJEFF53
  VER   009C  4770C12E
  REP   009C  47F0C12E
0TSO 11.0
-
0                 SHARE MVS Tuning Report IV Nov 1979   TSO
1
 TYPE:          Fine Tuning
 RELEASE:       SPF REL 2
 KEYPHRASE:     SPF ALLOC
0PROBLEM:       SPF allocates "temporary permanent" datasets to
                contain JCL used in job submission.
0SOLUTION:      Preallocate these data sets as VIO.
                or add dd cards to logon proc.
0BENEFIT:       Reduces overhead of dataset allocation and
                significantly speeds up submit, particularly under
                edit.
0EXAMPLE:
0  PROC  0
   CONTROL NOMSG
   FREE DD(SPFCNTL1 SPFCNTL2 SPFLIST1 SPFLIST2)
   FREE ATTLIST(SPF)
   ATTR SPF LRECL(80) BLKSIZE(2000) RECFM(F B)
   ALLOC DD(SPFCNTL1) NEW SPACE(5 1)  CYL UNIT(VIODA) USING(SPF)
   ALLOC DD(SPFCNTL2) NEW SPACE(5 1)  CYL UNIT(VIODA) USING(SPF)
   ALLOC DD(SPFLIST1) NEW SPACE(5 1)  CYL UNIT(VIODA) USING(SPF)
   ALLOC DD(SPFLIST2) NEW SPACE(5 1)  CYL UNIT(VIODA) USING(SPF)
   NEWSPF
   END
0WARNING:       SPF must be renamed to NEWSPF. CNTL2 and LIST2 are
                only used for split screen. BLKSIZE should be
                adjusted based on device type being used for VIO.
-
 TSO 12.0
0TYPE:          MACRO, SUPPORT
 RELEASE:       MVS 3.7
 KEYPHRASE:     TSO EDIT verify
0FUNCTION:      Change TSO edit mode default to VERIFY ON.
0 ./  CHANGE NAME=SGIKJ0E2
      OI  CACFLAG1,CAVRFYSW
0TSO 13.0
0TYPE:          ZAP, SUPPORT
 RELEASE:       3.7
 KEYPHRASE:     PROFILE command default
0FUNCTION:      Make PROFILE subcommand WTPMSG in effect for all
                TSO users. (Bypass check if WIP bit is on).
-
0                 SHARE MVS Tuning Report IV Nov 1979   TSO
1
  NAME  IGC0203E
  VER 020E 4780B214
  VER 021A 47E0B214
  REP 020E 4700B214
  REP 021A 4700B214
0TSO 14.0
0TYPE:          ZAP
 RELEASE:       3.7G
 KEYPHRASE:     Concatenated UADS
0ENVIRONMENT:   6 MB 168/AP - BATCH,RJE,TSO,IMS
0PROBLEM:       When a TSO user enters LOGOFF, module IKJEFLL
                attempts to update certain fields of the UADS data
                set. We have two UADS data sets concatenated in
                the MSTRJCL, and this causes a S-C13 abend.
0SOLUTION:      Bypass the updating of the UADS data sets.
0   / .
 ++VER (Z037) .
 ++ZAP (IKJEFLA) .
  NAME   IKJEFLL
  VER    004E  4710C03A
  REP    004E  47F0C03A
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   TSO
1
 VIO
0     1.    Heavy use of VIO may hurt system performance in a real
            storage constrained environment. It can also make TSO
            response erratic.
0     2.    As the block size of the data set increases, the
            benefits of VIO diminish. VIO may use more CPU, but
            run in less elapsed time. See IBM's Performance Notebook.
0     3.    Nothing is gained by using more than one buffer for a
            VIO data set.
0     4.    In most shops, the simplest significant performance
            improvement for VIO will probably come about from its
            use for work data sets in compiles and utilities, and
            for TSO EDIT work files. However, compiler work data
            set blocksizes are calculated based on the SIZE,
            BLKSIZE and BFSIZE in the procedure and can go as high
            as 32K. See the installation guides for details.
0     5.    Avoid using VIO for large data sets.
0     6.    Don't use VIO for sort work data sets.
0     7.    Don't use VIO for work files of IEHMOVE and IEBCOPY.
0     8.    Allocate VIO datasets on cylinder boundaries.
0     9.    If concerned about real storage, use a 2314 window device.
0     10.   If concerned about controlling users, consider a 2305 window
0     11.   CPU time required for VIO increases above real I/O.
0     12.   Use VIO for temporary datasets with a blocksize of
            1200 bytes or less. Blocksizes between 1200 and 3200
            bytes may be used if paging activity is light.
0     13.   If the space allocation was made in terms of blocks,
            specify the "ROUND" subparameter to minimize overhead
            of validity checking.
0     14.   If VIO is used for the linkage editor work file, the
            load module created will have a maximum blocksize of
            the VIO device used. Therefore full track blocking
            will only be used if the virtual work device and the
            load libarary are the same device type.
0     15.   VIO can also be used for a dataset that has a large
            amount of open and closes to the same file. Since the
            Format-1 DSCB for the VIO dataset (VDSCB) is
            maintained in Virtual Storage, overhead associated
            with DASDSM is reduced.
-
                  SHARE MVS Tuning Report IV Nov 1979   VIO
1
 VIO 1.0
0TYPE:          TABLE
 KEYPHRASE:     Optimization with 3330 as VIO device
0                                                13165
                                                _____________
      1.    Blocks/track on 3330 Mod 1 and 11 = Blksize + 135
0     2.    VIO buffer utilization = (BLKSIZE + 8) * BLK/TRK  + 30
0     3.    Pages used =  VIO Buffer Util + 4095
                          ______________________
                                  4096
0     4.    Last page wastage = (Pages used X 4096) - VIO buffer Util.
-
  _________________________________________________________________
  BYTES/BLOCK                 MAX BYTES/BLOCK       BYTES/BLOCK
  WITHOUT KEYS  BLOCKS/TRK      OPTIMUM VIO     TO MINIMIZE WASTAGE
0  (1)   (2)       (3)              (4)                (5)
   MIN.  MAX.
0__________________________________________________________________
  6448 13030        1             12250           11840
  4252  6447        2              6121            5916
  3157  4253        3              4078            3938
  2449  3156        4              3056            2952
  2060  2498        5              2443            2360
  1746  2059        6              2035            1965
  1511  1745        7              1743            1683
  1328  1510        8              1510            1472
  1182  1327        9              1327            1307
  1062  1181        10             1181            1176
 __________________________________________________________________
0     NOTES :
      The value in column (4) is the largest blocksize in this
      range which will provide maximum utilization of the VIO
      buffer - as close to 100% of the 3rd page in the buffer as
      possible.
0     A value between (4) and (5) should be used since this will
      limit wastage of the 3rd buffer page to less than 10%.
0     The choice of blocksize between the values in (2) and (4)
      should be avoided since this will cause the buffer to
      overflow into the 4th buffer page.
0     A value between (1) and (5) should also be avoided since
      this is less efficient utilization of the 3rdf 4.9 (less
-
                  SHARE MVS Tuning Report IV Nov 1979   VIO
1
      than 90%).
0VIO 2.0
0TYPE:          TABLE
 KEYPHRASE: Optimization with 3350 as VIO device
0                                             19254
                                             _____________
      1.    Blocks/track on 3350 (no keys) = BLKSIZE + 185
0     2.    VIO buffer utilization = (BLKSIZE + 8) * BLK/TRK + 30
0     3.    Pages used =  VIO Buffer Util + 4095
                          ______________________
                                 4096
0     4.    Last page wastage = (Pages used X 4096) - VIO Buffer Util.
-
  _________________________________________________________________
  BYTES/BLOCK                 MAX BYTES/BLOCK       BYTES/BLOCK
  WITHOUT KEYS  BLOCKS/TRK      OPTIMUM VIO     TO MINIMIZE WASTAGE
0  (1)   (2)       (3)              (4)                (5)
   MIN.  MAX.
0 _________________________________________________________________
  9443 19069        1             16346           15936
  6234  9442        2              8169            7964
  4629  6233        3              5443            5306
  3666  4628        4              4080            3978
  3025  3665        5              3262            3180
  2566  3024        6              2717            2649
  2222  2565        7              2328            2269
  1955  2221        8              2036            1985
  1741  1954        9              1809            1762
  1566  1740        10             1627            1586
  _________________________________________________________________
0      NOTES :
0     The value in column (4) is the largest blocksize in this
      range which will provide maximum utilization of the VIO
      buffer - as close to 100% of the 4th page in the buffer as
      possible.
0     A value between (4) and (5) should be used since this will
      limit wastage of the 4th buffer page to less than 10%.
0     The choice of blocksize between the values in (2) and (4)
      should be avoided since this will cause the buffer to
      overflow into the 5th buffer page.
-
                  SHARE MVS Tuning Report IV Nov 1979   VIO
1
      A value between (1) and (5) should also be avoided since
      this is less efficient utilization of the 4th page (less
      than 90%).
0VIO 3.0
0TYPE:          ZAP
 RELEASE:       3.7G
 KEYPHRASE:     VIO CHAINED SCHEDULING
0ENVIRONMENT:   6 MB 168/AP - BATCH,RJE,TSO,IMS
0PROBLEM:       Chained scheduling for VIO is not needed when the
                BUFNO for VIO is changed to 1.
0SOLUTION:      Modify SAM open to avoid defaulting to chained
                scheduling for VIO data sets.
0WARNING:       Thsi zap should be used in conjunction  with VIO
                4.0.
0++VER  (Z037) .
 ++ZAP  (IGG0193I) DISTLIB(AOSD0).
  NAME IGG0193I
  VER 0082 4740,31B0           BM    A0181  USE PCI FOR INOUT/OUTIN DA
  VER 009E 4710,31B0           BO    A0181  USE PCI FOR DA OUTPUT
  VER 00B2 4740,31B0           BM    A0181  USE PCI FOR DA INPUT
  VER 0272 0000,00000000,00000000,00000000
  VER 0280 00000000,00000000,00000000,00000000
  REP 0082 4740,3270           BM    PATCH        CHECK VIO FIRST
  REP 009E 4710,3278           BO    PATCH1
  REP 00B2 4740,3278           BM    PATCH1
  REP 0272 45E0,3280          BAL    14,VIOTST    IS IT VIO
  REP 0276 47F0,3084           B     A0130-8      USE NORMAL SCHED.
  REP 027A 45E0,3280           ABAL  14,VIOTST    IS IT VIO
  REP 027E 47F0,30B4           B     A0150-8      YES, USE NORM SCHED.
  REP 0282 58A0,B020   VIOTST  L     RUCB,DEBUCBAD    GET UCB
  REP 0286 9180,A000           TM    UCBJBNR,UCBVRDEV   IS IT VIO
  REP 028A 4780,31B0           BZ    A0181        NO, OK TO USE PCI
  REP 028E 07FE                BR    14        CHANGE TO NORMAL SCHED.
0VIO 4.0
0TYPE:          ZAP
 RELEASE:       3.7G
 KEYPHRASE:     VIO BUFNO
0ENVIRONMENT:   6 MB 168/AP - BATCH,RJE,TSO,IMS
0PROBLEM:       Too much paging due to VIO.
0SOLUTION:      Modify QSAM open to set default number of buffers
                for VIO to 1 instead of 5.
-
0                 SHARE MVS Tuning Report IV Nov 1979   VIO
1
 ++VER (Z037) .
 ++ZAP (IGG0196B) DISTLIB(AOSD0).
  NAME IGG0196B
  VER 00D8 9205,2014   OVLY    MVI   DCBBUFNO,GENDEF
  VER 0274 00000000,00000000,00000000
  VER 0280 00000000,00000000,00000000
  REP 00D8 47F0,3272   OVLY    B     PATCH
  REP 0274 9205,2014   PATCH   MVI   DCBBUFNO,GENDEF
  REP 0278 58A0,B020           L     RUCB,DEBUCBAD   PICK UP UCB ADDR.
  REP 027C 9180,A000           TM    UCBJBNR,UCBVRDEV  IS IT VIO
  REP 0280 4780,30DA           BZ    OVLY+4            NO
  REP 0284 9201,2014           MVI   DCBBUFNO,X'01'  DEFAULT TO 1 BUFF
  REP 0288 47F0,30DA           B     OVLY+4
0VIO 5.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     Limit VIO track capacity
0++PTF  .
 ++VER (Z037) PRE (UZ05057).
 ++ZAP (IGC0002D) DISTLIB (AOSD0).
   NAME IGC0002D
 * LOCAL MOD TO DEVTYPE SVC TO RETURN A VALUE OF 12250 AS MAXIMUM
 *  TRACK CAPACITY FOR VIO 3330 MOD1 & 16346 FOR 3350 VIO.
  VER 0206 50C02004     DVDA1      ST   DVNUMRG,DVAMAXRC
  VER 03B8 5C5C5C5C     DVCPATCH   DC   CL50'****'
  REP 0206 47F063B6     DVDA1      B    DVCPATCH
  REP 03B8 91808000                TM   UCBJBNR,UCBVRDEV
  REP 03BC 47E063D2                BNO  EXITPTCH
  REP 03C0 95098013                CLI  UCBTBYT4,D3330
  REP 03C4 478063DA                BE   VIO3330
  REP 03C8 950B8013                CLI  UCBTBYT4,D3350
  REP 03CC 477063D2                BNE  EXITPTCH
  REP 03D0 48C063E4                LH   DVNUMRG,VIOMAX2
  REP 03D4 50C02004     EXITPTCH   ST   DVNUMRG,DVAMAXRC
  REP 03D8 47F06208                B    DVDA+4
  REP 03DC 48C063E2     VIO3330    LH   DVNUMRG,VIOMAX1
  REP 03E0 47F063D2                B    EXITPTCH
  REP 03E4 2FDA         VIOMAX1    DC   H'12250'
  REP 03E6 3FDA         VIOMAX2    DC   H'16346'
                                                            24
 VIO 6.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     Limit VIO requests for 3330
0++PTF /* MOD TO PREVENT VIO FROM BEING ASSIGNED TO LARGE
      SPACE REQUESTS.  LIMIT VIO TO 9 CYLS (171 TRKS) OR LESS THAN
      2 MB IF THE REQUEST IS IN BLOCKS. ALSO PREVENT VIO FROM
      BEING USED FOR SORTWK DD STATEMENTS.  */ .
 ++VER (Z037) PRE(UZ05102).
-
                  SHARE MVS Tuning Report IV Nov 1979   VIO
1
 ++ZAP (IEFAB464).
  NAME IEFAB464
 * CHANGE LARGE VIO USERS TO REAL
  VER 0830 47F0C844                 B   'RC00303
  VER 085C 9620602B                 OI  SIOVAMDS(CSIOTP),X'20'
  VER 0E9A 00000000        PATCHLOC DC  F'0'
  VER 0F20 00000000        PATCHEND DC  F'0'
  REP 0830 47F0CE7E                 B   PATCH
  REP 085C 47F0CE7E                 B   PATCH
  REP 0E9A 9620602B                     TURN ON VIO FLAG.
  REP 0E9E 91C0709B                 TM  JFCBCTRI,X'C0' ALLOC IN CYL
  REP 0EA2 47E0CE92                 BNO NEXT1       NOPE
  REP 0EA6 41F00010                 LA  R15,16    MAX CYL REQ
  REP 0EAA 47F0CECC                 B   COMPARE
  REP 0EAE 9180709B        NEXT1    TM  JFCBCTRI,X'80' ALLOC IN TRKS
  REP 0EB2 47E0CEA2                 BNO NEXT2      NOPE
  REP 0EB6 41F001E0                 LA  R15,480   MAX TRACKS REQ
  REP 0EBA 47F0CECC                 B   COMPARE
  REP 0EBE 9140709B        NEXT2    TM  JFCBCTRI,X'40' ALOC IN BLKS
  REP 0EC2 47E0C844                 BNO RETURN  WANTS DEFAULT SPACE
  REP 0EC6 58F0CF04                 L   R15,MAXBYTES
  REP 0ECA 58A07098                 L   R10,JFCBPQTY
  REP 0ECE 88A00008                 SRL R10,8     SHIFT INTO REG.
  REP 0ED2 5840709C                 L   R4,JFCBSQTY  SECONDARY QUANTITY
  REP 0ED6 88400008                 SRL R4,8  SHIFT INFO REG
  REP 0EDA 4C40CEFA                 MH  R4,=H'15' MULT SEC BY 15
  REP 0EDE 1AA4                     AR  R10,R4 ADD TO PRIME QUANTITY
  REP 0EE0 4CA070AC                 MH  R10,JFCBDRLH+1 #BLKS X AV BLK L
  REP 0EE4 47F0CEE2                 B   COMPARE+22
  REP 0EE8 58A07098        COMPARE  L   R10,JFCBPQTY
  REP 0EEC 88A00008                 SRL R10,8
  REP 0EF0 5840709C                 L   R4,JFCBSQTY
  REP 0EF4 88400008                 SRL R4 ,8
  REP 0EF8 4C40CEFA                 MH  R4,=H'15'
  REP 0EFC 1AA4                     AR  R10,R4
  REP 0EFE 19AF                     CR  R10,R15
  REP 0F00 4720CEF2                 BH  NOVIO
  REP 0F04 D5056004CEFE             CLC SCTDDNAM(6,CSIOTP),=C'SORTWK'
  REP 0F0A 4770C844                 BNE RETURN
  REP 0F0E 94DF602B        NOVIO    NI  SIOVAMDS(CSIOTP),X'DF' TURN OFF
  REP 0F12 47F0C844                 B   RETURN
  REP 0F16 000F0000                 DC  H'15'
  REP 0F1A E2D6D9E3E6D2             DC  CL6'SORTWK'
  REP 0F20 00800000        MAXBYTES DC  F'08388608'
0VIO 7.0
0TYPE:          ZAP
 RELEASE:       3.7
 KEYPHRASE:     Limit VIO requests for 3350
0++PTF /* MOD TO PREVENT VIO FROM BEING ASSIGNED TO LARGE
       SPACE REQUESTS. LIMIT VIO TO 4 CYLS (120 TRKS) OR LESS THAN
       2 MB IF THE REQUEST IS IN BLOCKS. ALSO PREVENT VIO FROM BEING
-
                  SHARE MVS Tuning Report IV Nov 1979   VIO
1
       USED FOR SORTWK DD STATEMENTS. */.
 ++ VER (Z037) PRE (UZ08089) .
 ++ ZAP (IEFAB464) .
  NAME IEFAB464
  VER 088A 47E0,C876               BNO   @RF00334     NOT VIO ELGIBLE
  VER 0F82 0000,0000     PATCHEND  DC    F'0'
  VER 0F22 0000,0000     PATCH     DC    F'0'
  REP 088A 45E0,CF06               BAL   R14,PATCH
  REP 0F22 47E0,C876        PATCH  BNO   @RF00334   ZAPPED INSTRUCTION
  REP 0F26 91C0,709B               TM    JFCBCTR1,B'11000000'  IN CYLS
  REP 0F2A 47E0,CF1A               BNO   NEXT1      NO
  REP 0F2E 41F0,0004               LA    R15,4      MAX CYL REQUEST
  REP 0F32 47F0,CF46               B     COMPARE    GO COMPARE
  REP 0F36 9180,709B     NEXT1     TM    JFCBCTRI,B'10000000'  IN TRKS
  REP 0F3A 47E0,CF2A               BNO   NEXT2      NO - GO TRY BLKS
  REP 0F3E 47F0,0078               LA    R15,120    MAX TRKS FOR VIO
  REP 0F42 47F0,CF46               B     COMPARE    GO COMPARE
  REP 0F46 9140,709B     NEXT2     TM    JFCBCTR1,B'01000000' IN BLOCKS
  REP 0F4A 47E0,C876               BNO   @RF00334  UNKNOWN REQ = NO VIO
  REP 0F4E 58F0,CED8               L     R15,=F'2097152' MAX VIO CORE
  REP 0F52 58A0,7098               L     R10,JFCBPQTY   PRI # OF BLOCKS
  REP 0F56 88A0,0008               SRL   R10,8    SHIFT IN TO REG
  REP 0F5A 4CA0,70AC               MH    R10,JFCBDRLH+1   BLOCK LENGTH
  REP 0F5E 47F0,CF4E               B     COMPARE+8
  REP 0F62 58A0,7098     COMPARE   L     R10,JFCBPQTY  GET PRI ALLOC
  REP 0F66 88A0,0008               SRL   R10,8      SHIFT INTO REG
  REP 0F6A 19AF                    CR    R10,R15    COMP REQ TO MAX
  REP 0F6C 4720,C876               BH    @RF00334   MORE THAN ALLOWD
  REP 0F70 D505,6004,CF64          CLC   SCTDDNAM(6,CSIOTP),=C'SORTWK'
  REP 0F76 4780,C876               BE    @RF00334   DON'T ALLOW VIO
  REP 0F7A 07FE                    B     R14      RETURN - ALLOW VIO
  REP 0F7C 0020,0000               DC    F'2097152' MAXIMUM CORE FOR VI
  REP 0F80 E2D6,D9E3,E6D2          DC    C'SORTWK'      SORT WORK FILE
0VIO 8.0
0TYPE:          ZAP
 RELEASE:       3.7G
 PTFs:          PTF TAPES THROUGH 7711
 KEYPHRASE:     ROUND VIO REQUESTS
0SOLUTION:      Make all VIO space requests that specify average
                block automatically allocate as 'ROUND'.
0++VER (Z037) .
 ++ZAP (IGG03251) .
  NAME IGG0325I
  VER 029E 9101B098        TM    JFCROUND(JFCBPTR),X'01'
  VER 02A2 47E0C2BA
  REP 029E 9601B09B        OI    JFCROUND(JFCBPTR),X'01'
  REP 02A2 4700C2BA
-
-
                  SHARE MVS Tuning Report IV Nov 1979   VIO
1
   POUND
    THIS SECTION IS TO DESCRIBE THE POUND SUBSYSTEM COMMANDS.
  THE POUND SUBSYSTEM IS AVAILABLE ON THE SHARE MODS TAPE.
  AND HAS VERSIONS FOR BOTH SE AND NON-SE SYSTEMS.
   A BRIEF LIST OF THE COMMANDS AVAILABLE ARE:
0             #A -   (SE)  DISPLAY JOB STATUS -  EXPANDED  D A
              #C -   (SK)  HEX/DEC CALCULATOR AND TOD DISPLAY
              #D -   (SD)  DISPLAY AND ZAP CORE
              #F -   (SF)  DISPLAY PAGE FRAME ASSIGNMENTS
              #H -   (SM)  DISPLAY HELP
              #I -   (SJ)  DISPLAY IPS AND SWAP COUNTS
              #J -   (SL)  MODIFIED DISPLAY ACTIVE REPLACEMENT
              #L -   (SC)  DISPLAY LINES FOR TSO
              #N -   (SA)  DISPLAY ENQUEUE
              #O -   (SR)  DISPLAY PENDING I/O AND ALLOCATION
              #Q -   (SQ)  ANALYZE ENQUEUE CONFLICTS
              #R -   (SG)  DISPLAY DEVICE STATUS
              #S -   (SH)  DISPLAY LPA MODULES
              #T -   (SN)  MODIFIED DISPLAY ACTIVE FOR TSO
              #V -   (SI)  DISPLAY UNIT
              ##B -  (ZB)  MONITOR DEVICES
              ##J -  (ZJ)  MONITOR JOBS
              ##P -  (ZP)  MONITOR PAGING
0  A MORE COMPLETE DISCRIPTION FOLLOWS:
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #A  COMMAND     (DISPLAY JOB STATUS -   EXPANDED  D A)
-
                #A   ASID       4 LINES OF OUTPUT FOR AN ASID
0               #A   .JOBNAME   4 LINES OF OUTPUT FOR AN JOBNAME
0               #A              2 LINES OF OUTPUT FOR ALL JOBS
0               #A   0000       4 LINES OF OUTPUT FOR ALL JOBS
0               #A   XX,L       4 LINES OF OUTPUT FOR SELECTED TYPE
0               #A   XX         2 LINES OF OUTPUT FOR SELECTED TYPE
0               #A   XX,S       1 LINE OF OUTPUT FOR SELECTED TYPE
0                    WHERE  XX   IS ONE OF THE FOLLOWING TYPES -
-                    $J         SELECT ALL JOBS
-                    $S         SELECT ALL STARTED TASKS
-                    $T         SELECT ALL TSO USERS
-                    $I         SELECT ALL IDLE INITIATORS
-                    NN         SELECT ALL JOBS IN DOMAIN -   NN
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
                    E X A M P L E
-    TEST00   (000B) DP(112) SWL(010/016) SWC(0001)
        PERF-NRS(0B/07/0B) DPRTY-NR(70/76) DMN(01)
        Q(00) S(80) Y(40) A(58) T(83) E(00) U(00)
        AS(FE2578) SR(06) QP(01) OU(FE1080) A(0063/00000)
-
     1ST LINE -
0         TEST00                JOBNAME
          (000B)                ASID
          DP(112)               DISPATCHING PRIORITY  (FROM ASCB)
          SWL(010/016)          SWAP LOAD IN DECIMAL PAGES  (IN/OUT)
          SWC(0001)             SWAP COUNT IN DECIMAL
-    2ND LINE -
0         PERF-NRS(0B/07/0B)    PERFORMANCE GROUP  (NEW/RESET/SPECIFIED)
          DPRTY-NR(70/76)       DISPATCHING PRIORITY  (FROM OUCB)
          DMN(01)               DOMAIN NUMBER
-    3RD LINE -
0         (OUCB FLAGS -   SEE DESCRIPTION BELOW)
-    4TH LINE -
0         AS(FE2578)            ASCB ADDRESS
          SR(06)                SWAP REASON CODE  (SEE TABLE BELOW)
          QP(01)                DISPATCHING QUEUE POSITION
          OU(FE1080)            OUCB ADDRESS
          A(0063/00000)         ADDRESS SPACE SLOTS/VIO SLOTS
-
          NOTE THAT IF THE SWAP REASON CODE IS  00,   QP(XX) WILL
          PRINT TO INDICATE THE DISPATCHING QUEUE POSITION.
-
0    SWAP REASON CODES -
-         01        TERMINAL WAIT -   OWAITHI
          02        TERMINAL WAIT -   INPUT
          03        LONG WAIT
          04        AUXILLARY STORAGE SHORTAGE
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
          05        REAL STORAGE SHORTAGE
          06        DETECTED WAIT
          07        REQUEST SWAP
          08        ENQ EXCHANGE SWAP
          09        EXCHANGE ON RECOMMENDATION VALUE
          0A        UNILATERAL SWAP
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
     OUCB FLAGS -
-
           Q(00)   IN HEX THE OUCBQFL   SWAP TRANSITION FLAGS
0       1... ....   OUCBGOO     TRANSITIONING OUT OF CORE
        .1.. ....   OUCBGOI     TRANSITIONING INTO CORE
        ..1. ....   OUCBGOB     TRANSITIONING BETWEEN STATES
        ...1 ....   OUCBQF3     RESERVED
        .... 1...   OUCBOFF     REQUEST ENTER WAIT STATE
        .... .1..   OUCBOUT     REQUEST ENTER OUT STATE
        .... ..1.   OUCBQF6     RESERVED
        .... ...1   OUCBQF7     RESERVED
-          S(80)   IN HEX THE OUCBSFL   SWAPOUT CONTINUATION FLAGS
0       1... ....   OUCBNSW     NON-SWAPPABLE STATUS
        .1.. ....   OUCBCTI     CTL INHIBITS QUIESCE
        ..1. ....   OUCBBIB     BRING IN FOR CANCEL
        ...1 ....   OUCBINV     =1 IF OUCB IS INVALID
        .... 1...   OUCBSF4     RESERVED
        .... .1..   OUCBPVL     USER PROGRAM PRIVILEGED
        .... ..1.   OUCBENQ     ENQ RESIDENT STATUS
        .... ...1   OUCBSCN     SWAP CHAIN TERMINATION MARK
-          Y(40)   IN HEX THE OUCBYFL   USER TYPE FLAGS
0       1... ....   OUCBPSTE    POST ERROR
        .1.. ....   OUCBSTT     START CREATED USER
        ..1. ....   OUCBLOG     LOGON CREATED USER
        ...1 ....   OUCBMNT     MOUNT CREATED USER
        .... 1...   OUCBR01     RESERVED
        .... .1..   OUCBAXS     AUX SHORTAGE FORCED SWAP
        .... ..1.   OUCBDTA     DATA ACCUMULATION IMPACTED
        .... ...1   OUCBFXS     FIXED STORAGE SHORTAGE FORCED SWAP
-          A(58)   IN HEX THE OUCBAFL   ALGORITHM STATUS FLAGS
0       1... ....   OUCBAF0     RESERVED
        .1.. ....   OUCBAPG     APG ALGORITHM APPLICABLE
        ..1. ....   OUCBRMA     RMA ALGORITHM APPLICABLE
        ...1 ....   OUCBCPL     SIGNIFICANT CPU USER
        .... 1...   OUCBJSR     JOB SELECT RECEIVED
        .... .1..   OUCBR02     RESERVED
        .... ..1.   OUCBNWT     MSO DETECTED NON-SWAP WAIT
        .... ...1   OUCBASW     AUTHORIZED FOR DONT SWAP
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
           T(83)   IN HEX THE OUCBTFL   TRANSACTION STATUS FLAGS
0       1... ....   OUCBATR     TRANSACTION IN EXISTENCE
        .1.. ....   OUCBSTR     TRANSACTION START PENDING
        ..1. ....   OUCBNTR     TRANSACTION STOP PENDING
        ...1 ....   OUCBRTR     TRANSACTION RESUME PENDING
        .... 1...   OUCBPCH     PG PERIOD CHANGE PENDING
        .... .1..   OUCBMAR     ACTIVITY RECORDING MINUS
        .... ..1.   OUCBINP     INITIATOR ATTACH PENDING
        .... ...1   OUCBINC     INITIATOR ATTACH CURRENT
-          E(00)   IN HEX THE OUCBEFL   EVENT STATUS FLAGS
0       1... ....   OUCBLWT     LONG WAIT STATUS
        .1.. ....   OUCBTRM     TERMINAL WAIT STATUS
        ..1. ....   OUCBOWT     OUTPUT TERMINAL WAIT
        ...1 ....   OUCBCIM     COMPOSITE INPUT MESSAGE
        .... 1...   OUCBNQF     ENQHOLD PROCESSED
        .... .1..   OUCBQSS     QSCEST PROCESSED
        .... ..1.   OUCBQSC     QSCEMP PROCESSED
        .... ...1   OUCBMWT     MSO DETECTED WAIT STATUS
        .... ...1   OUCBUF7     RESERVED
-          U(00)   IN HEX THE OUCBUFL   USER TYPE FLAGS
0       1... ....   OUCBJSFS    JOB SELECT DELAY - PAGE FRAME SHORTAGE
        .1.. ....   OUCBJSAS    JOB SELECT DELAY - AUX SLOT SHORTAGE
        ..1. ....   OUCBUF2     RESERVED
        ...1 ....   OUCBUF3     RESERVED
        .... 1...   OUCBUF4     RESERVED
        .... .1..   OUCBUF5     RESERVED
        .... ..1.   OUCBQF6     RESERVED
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
           #C   COMMAND   (CALCULATOR, TOD, AND MSTCONS SWITCH)
-
0         #C           DISPLAY TOD CLOCK HIGH-ORDER WORD
-         #CMNN,XX..X  SEND MESSAGE  NN  TIMES TO THE
                       CONSOLE SPECIFIED BY THE L=XX PARAMETER
-         #CZ,PASSWRD  SWITCH MASTER CONSOLE DESIGNATION TO THE
                       CONSOLE SPECIFIED BY THE L=XX PARAMETER
-         #C XXXX      CONVERT 1-8 DIGIT HEX VALUE TO DEC
-         #C ,DDDD     CONVERT 1-8 DIGIT DEC VALUE TO HEX
-         #C AAAOBBB   CALCULATOR MODE
-               AAA    IS 1-8 DIGIT HEX OR ,DEC VALUE
0               BBB    IS 1-8 DIGIT HEX OR ,DEC VALUE
0               O      IS ARITHMETIC OPERATOR
                       +   ADD
                       -   SUBTRACT
                       .   MULTIPLY
                       /   DIVIDE
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #D  COMMAND     (DISPLAY AND ZAP CORE)
-
              FOR DUMPING CORE
                  #D  0000  (ADDRESS - IF ITS VIRTUAL IT WILL
                             BE OF THE MASTER SCHEDULER ADDRESS SPACE.)
-             FOR DUMPING CORE FOR OTHER THAN 4 LINES  (64 BYTES)
0                 #D 0000,NN          WHERE  NN  IS THE NUMBER OF LINES
                                      TO PRINT FROM 01 - 64.
-             FOR DUMPING A UCB
0                 #D  U280  (WILL DUMP THE 280 UCB)
-             FOR ZAPPING CORE
0                 #D  0ACD/FF000000/FF160000
0                     0ACD     = ADDRESS TO BE ZAPPED
                      FF000000 = DATA TO BE VERIFIED
                      FF160000 = DATA TO BE ZAPPED IN
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #F  COMMAND     (DISPLAY PAGE FRAME ASSIGNMENTS)
-
              #F
-             NUCLEUS       98
              TOT FIXED    130
              SQA FIXED     88
              CMN FIXED     12
              SYS PAGES    260
              AVAILABLE     24
              MASTER        16
              JES2          48
              FFGRI1        68
              TEST00        10
-
-
-
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
          #F C     -       TO DISPLAY CSA VIRTUAL STORAGE USAGE
-
           CSA SIZE =      3752K      CSA ADDR =   00790000
           SQA FREE =        56K     SQA AVAIL =     2092K
           PRV SIZE =      7168K      PRV ADDR =   00090000
           FREE        SIZE=   1980K      ADDR =   00790000
           ALLOCATED   SIZE=   1696K      ADDR =   0097F000
           FREE        SIZE=     48K      ADDR =   00B00000
           ALLOCATED   SIZE=     32K      ADDR =   00B0C000
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
          #F MX   -        TO DISPLAY THE SPECIFIED MEGABYTE (M1 TO M9)
                           OF REAL STORAGE SHOWING FRAME ALLOCATION,
                           INCLUDING NUMBER OF FRAMES, OWNING ASID,
                           PFT FLAGS.
-                          SEE  (#F R)  FOR DESCRIPTION OF OUTPUT.
-
                  NOTE -   MEGABYTE 0 CANNOT BE DISPLAYED AND WILL
                           CAUSE A PARM ERROR IF ATTEMPTED.
                           SINCE MEGABYTE 0 CANNOT BE VARIED
                           OFFLINE  (IT CONTAINS THE NUCLEUS),
                           THIS RESTRICTION SEEMS REASONABLE.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
          #F OX  -     TO DISPLAY, FOR THE SPECIFIED MEGABYTE (O1 TO O9)
                       OF REAL STORAGE,  FRAME ALLOCATION FOR OFFLINE
                       INTERCEPTED FRAMES WHICH ARE NOT YET OFFLINE,
                       INCLUDING NUMBER OF FRAMES, OWNING ASID,
                       PFT FLAGS.
-                      SEE  (#F R)  FOR DESCRIPTION OF OUTPUT.
-
              NOTE -   MEGABYTE 0 CANNOT BE DISPLAYED AND WILL
                       CAUSE A PARM ERROR IF ATTEMPTED.
                       SINCE MEGABYTE 0 CANNOT BE VARIED
                       OFFLINE  (IT CONTAINS THE NUCLEUS),
                       THIS RESTRICTION SEEMS REASONABLE.
-
-
-
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
          #F BX  -     TO DISPLAY, FOR THE SPECIFIED MEGABYTE (B1 TO B9)
                       OF REAL STORAGE,  FRAME ALLOCATION FOR
                       BAD FRAMES INCLUDING NUMBER OF FRAMES,
                       OWNING ASID AND PFT FLAGS.
-                      SEE  (#F R)  FOR DESCRIPTION OF OUTPUT.
-
              NOTE -   MEGABYTE 0 CANNOT BE DISPLAYED AND WILL
                       CAUSE A PARM ERROR IF ATTEMPTED.
                       SINCE MEGABYTE 0 CANNOT BE VARIED
                       OFFLINE  (IT CONTAINS THE NUCLEUS),
                       THIS RESTRICTION SEEMS REASONABLE.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
      #F R   -       TO DISPLAY THE V=R AREA SHOWING FRAME
                     ALLOCATION,  INCLUDING NO. OF FRAMES,
                     OWNING ASID AND PFT FLAGS.
-
              EXAMPLE OUTPUT -
-                        PAGES.ASID.FLAGS
                         ----------------
                         012...0008...R-U
                         001...FFFF...A-A
-
              PAGES COLUMN -    NO. OF FRAMES OWNED BY THIS ASID
                                AND WITH THESE FLAGS IN DECIMAL.
-
              ASID COLUMN -     ASID OF ADDRESS SPACE LAST TO OWN
                                OR CURRENTLY OWNING THESE FRAMES.
                                FFFF INDICATES NO OWNER.
-
              FLAGS COLUMN -    THREE FLAG DIGITS WITH THE FOLLOWING
                                MEANINGS.  A - IN ANY FLAG DIGIT
                                INDICATES NO STATUS.
-                   1ST DIGIT -    O     OFFLINE
                                   C     OFFLINE INTERCEPT
                                   R     V=R ALLOCATE
                                   I     V=R INTERCEPT
                                   A     AVAILABLE
-                   2ND DIGIT -    B     BAD FRAME
                                   F     LONG TERM FIXED
                                   S     SQA/LSQA FRAME
                                   V     VIO FRAME
-                   3RD DIGIT -    A     AVAILABLE QUEUE
                                   R     SQA RESERVED QUEUE
                                   C     COMMON QUEUE
                                   S     SQA QUEUE
                                   U     LOCAL QUEUE
                                   L     LSQA QUEUE
                                   N     NOT QUEUED
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
         #H  COMMAND      (DISPLAY  # COMMAND  HELP)
-
            #H         DISPLAYS COMMAND LIST
0           #H X       DISPLAYS HELP FOR  COMMAND  #X
0           #H #X      DISPLAYS HELP FOR  COMMAND  ##X
-
                     #A -   (SE)  DISPLAY JOB STATUS -  EXPANDED  D A
                     #C -   (SK)  HEX/DEC CALCULATOR AND TOD DISPLAY
                     #D -   (SD)  DISPLAY AND ZAP CORE
                     #F -   (SF)  DISPLAY PAGE FRAME ASSIGNMENTS
                     #H -   (SM)  DISPLAY HELP
                     #I -   (SJ)  DISPLAY IPS AND SWAP COUNTS
                     #J -   (SL)  MODIFIED DISPLAY ACTIVE REPLACEMENT
                     #L -   (SC)  DISPLAY LINES FOR TSO
                     #N -   (SA)  DISPLAY ENQUEUE
                     #O -   (SR)  DISPLAY PENDING I/O AND ALLOCATION
                     #Q -   (SQ)  ANALYZE ENQUEUE CONFLICTS
                     #R -   (SG)  DISPLAY DEVICE STATUS
                     #S -   (SH)  DISPLAY LPA MODULES
                     #T -   (SN)  MODIFIED DISPLAY ACTIVE FOR TSO
                     #V -   (SI)  DISPLAY UNIT
                     ##B -  (ZB)  MONITOR DEVICES
                     ##J -  (ZJ)  MONITOR JOBS
                     ##P -  (ZP)  MONITOR PAGING
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
         #I  COMMAND      (DISPLAY IPS AND SWAP COUNTS)
-
                DISPLAYS CURRENT IPS MEMBER AND SWAP COUNTS
                BY REASON SINCE LAST IPL.
-
                CURRENT IPS -   IEAIPST2
                LGCPU 100  AVCPU 101  AVPAG  27  AVUIC  16
                TERM WAIT - IN      (01)          0
                TERM WAIT - OUT     (02)          0
                LONG WAIT           (03)        304
                AUX STOR SHORTAGE   (04)          0
                REAL STOR SHORTAGE  (05)          0
                DETECTED WAIT       (06)        932
                REQUEST SWAP        (07)         82
                ENQ EXCHANGE        (08)        112
                WORKLOAD EXCHANGE   (09)         89
                UNILATERAL SWAP     (0A)        243
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
          #I A      (DISPLAY ASM COUNTS)
-
          EXAMPLE  -
0               ILRSLOTC            16
                ILRSLOTV            16
                AVAIL SLOTS        836
                TOTAL SLOTS      4,338
                VIO SLOTS            0
                ADSPC SLOTS        796
                BAD SLOTS            0
-
          NOTE  -      AVAIL SLOTS IS THE NUMBER OF UNRESERVED
                       LOCAL PAGE DATA SET SLOTS.
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
         #I P     (DISPLAY PAGE DATA SET USAGE)
-
         EXAMPLE -
0             PLPA  A53  PAGE01  PLPAPAGE           ERR(000)
              SIZE(1044) AVAIL(0197) USED(82%) BRST(019)
              COMN  942  PAGE02  COMMPG2            ERR(000)
              SIZE(0522) AVAIL(0438) USED(17%) BRST(021)
              LOCL  A53  PAGE02  LOCALP2            ERR(000)
              SIZE(1566) AVAIL(1110) USED(30%) BRST(027)
              LOCL  942  PAGE01  LOCALPG2           ERR(000)
              SIZE(1566) AVAIL(1105) USED(30%) BRST(038)
-             SIZE AND AVAILABLE FIGURES ARE DECIMAL NUMBER OF SLOTS.
0             BRST IS THE PARERQTM VALUE DIVIDED BY 256, IN DECIMAL.
              IT REPRESENTS THE AVERAGE TIME REQUIRED TO
              TRANSFER 1 PAGE.
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
         #I S     (DISPLAY SWAP DATA SET USAGE)
-
         EXAMPLE -
0             SWAP DS- 001  SETS- 200  PGS/SET-  12
              940  MVACAT  SYS1.SWAP01
              SIZE(2400) AVAIL(1200) USED(50%) ERR(0000)
-             SIZE AND AVAILABLE FIGURES ARE DECIMAL NUMBER OF SLOTS.
0             ERR  IS THE NUMBER OF ERRORS SUFFERED ON THE SWAP DS.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #J  COMMAND      (MODIFIED DISPLAY ACTIVE REPLACEMENT)
0      #J T  COMMAND    (MODIFIED DISPLAY ACTIVE -  TSO ONLY)
0      #J NN  COMMAND   (MODIFIED DISPLAY ACTIVE -  FOR DOMAIN  'NN')
-          EXAMPLE  -
0     *****   IN  QUEUE   *****     ASID DPRTY QP  FLAGS   CPU TIME
      JES2     JES2     IEFPROC     0002  253  02  NSW      1.33.01
      TEST00   STEP1                0004  117  04  IN CP    2.55.33
      TEST01   STEPX    ASMBLR      0005  119  03  IN       0.10.68
      TMSBKUP  FDR                  0006  112  05  IN       1.11.24
      *****   OUT  QUEUE   *****    ASID DPRTY SR  FLAGS   CPU TIME
      RMF      148      IEFPROC     0003  251  03  OUTLW    1.11.98
-      WHERE -
0         ASID    DPRTY    QP/SR    FLAGS    CPU TIME
         ------  -------  -------  -------  ----------
0         NNNN     DDD     QQ/SS    XXXYY    MMM.SS.HH
-        NNNN         IS THE ADDRESS SPACE IDENTIFICATION
0        DDD          IS THE JOBS DISPATCHING PRIORITY
0        QQ           IS THE JOBS ASCB QUEUE POSITION, WHICH IS
                      A RELATIVE DISPATCHING PRIORITY
0        SS           IS THE SWAP REASON CODE AS DESCRIBED IN THE
                      DOCUMENTATION FOR THE  # A COMMAND.
0        XXXYY        IS THE JOB STATUS AS DESCRIBED BELOW
0        MMM.SS.HH    IS THE CPU AND SRB ACCUMULATED JOB STEP TIME
-
         XXX -
0            IN  -   IN CORE - SWAPPED IN
             NSW -   NON-SWAPPABLE
             OUT -   SWAPPED OUT
             GOO -   IN PROCESS OF BEING SWAPPED OUT
             GOI -   IN PROCESS OF BEING SWAPPED IN
             GOB -   CURRENTLY CHANGING STATUS
-        YY -
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
             LW  -   LONG WAIT STATUS -  EXPLICIT OR IMPLICIT
             MW  -   LONG WAIT STATUS DETECTED BY MSO (MS6)
             CP  -   SIGNIFICANT CPU USER - SET BY IRARMCPM
             A   -   AUXILIARY STORAGE SHORTAGE
             S   -   REAL STORAGE SHORTAGE
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #L  COMMAND     (DISPLAY LINES FOR TSO)
-
                 #L        (WILL SHOW USERID, ASID AND TP LINE)
0                       IBMUSER   (000C)  - 3F1
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #N  COMMAND     (DISPLAY ENQUEUE -   SEE ENQ/DEQ SUMMARY)
-
          #N   FORMAT IS AS FOLLOWS -
0          #N (ZZZZZZ)XXXXXXXX/YYYYYYYY
0             WHERE   -
0                XXXXXXXX       IS THE 8 CHARACTER MAJOR NAME OR  '*'
                 YYYYYYYY       IS THE 1 - 44 CHARACTER MINOR NAME OR '*
                 (ZZZZZZ)       IS THE 1 - 8 CHARACTER JOBNAME TO LIMIT
                                THE SEARCH.   (OPTIONAL)
-                 #N *
0                 #N SYSDSN/*
0                 #N SYSIEFSD/*
0                 #N SYSDSN/SYS1.LINKLIB
-
                 IN RESPONSE TO THE #N COMMAND THE CURRENT STATUS
                 TYPES ARE:
0                             SHR - SHARED USE ENQ
                              EXCL- EXCLUSIVE USE ENQ
                              RSVS- SHARED USE WITH A RESERVE
                              RSVX- EXCLUSIVE USE WITH A RESERVE
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
                        MVS  ENQ/DEQ  SUMMARY
-
      MAJOR NAME   MINOR NAME               DESCRIPTION
      ----------   ----------    -----------------------------------
0     SYSDSN       -DSNAME       ENQ FOR USER OR SYSTEM DATA SETS
0     SYSIEA01     IEA           ABEND IN PROGRESS
0     SYSIEFSD     CHNGDEVS      UCB MANIPULATION
0                  Q4            UCB MANIPULATION
0                  Q6            PROTECT KEY ALTERATION
0                  Q10           CSCB CHAIN MANIPULATION
0                  RPLL          JOB JOURNAL DATA SET (CKPT/RSTRT)
0                  STCQUE        STARTED TASK CONTROL WAITING FOR
                                 EXECUTION
0                  TSOQUE        TSO DATA SETS
0     SYSIGGV1     MCATOPEN      MASTER CATALOG
0     SYSIGGV2     -CATLGNAME    USER CATALOGS
0     SYSIKJBC     -RBA          TSO BRODCAST DATA SET (REL BYTE ADDR)
0     SYSIKJUA     OPENUADS      UADS DATA SET
0                  -USERID       TSO USERS
0     SYSLMOD      -DSNAME       LINKEDIT RESERVE
0     SYSSJWTP     JSCBWTP       WRITE-TO-PROGRAMMER MESSAGES
0                  -RPL+ASID     MESSAGE DATA SET PROCESSING
                                 (REQUEST PARAMETER LIST + ASID)
0     SYSSMF01     BUF           SMF BUFFER WRITE
0     SYSZUSRL     -UCBADDR      USER LABEL PROCESSING
0     SYSVSAM      -CCCCNNNX     VSAM DATA SET PROCESSING
                                 (CCCC- ACB ADDR, NNN- CI NO., X- STAT)
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
      MAJOR NAME   MINOR NAME               DESCRIPTION
      ----------   ----------    -----------------------------------
0     SYSVTOC      -VOLSER       VTOC RESERVE
0     SYSZRBMF     ACTIVE        MF1 ACTIVE INDICATOR
0     SYSZCAXW     CAXW          CAXWA (CATLG AUXILLARY WORK AREA)
0     SYSZCSD      CSDCPUJS      CSD UPDATE
0     SYSZEC16     PURGE         PURGE DATA SET PROCESSING
0     SYSZIGGI     -ASID         TSB PROCESSING
0     SYSZJES2     SPOOL         AWAITING SPOOL SPACE
0     SYSZPCCB     PCCB          PCCP (PRIV CATLG CONTROL BLOCK)
0     SYSZPGAD     PAGEADD       SERIALIZE FOR PAGEADD COMMAND
-
-
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
     #O  COMMAND   (DISPLAY OUTSTANDING I/O AND ALLOCATION REQUESTS)
-
      #O                DISPLAY ALL OUTSTANDING I/O
0     #O A              DISPLAY ACTIVE OUTSTANDING I/O
0     #O Q              DISPLAY QUEUED OUTSTANDING I/O
0     #O X              DISPLAY ALLOCATION QUEUE
-
               I/O OUTPUT EXAMPLE -
0              UUU  VVVVVV  JJJJJJJJ  IIIIII  DDDDDDDD  SSSSSSS
-              WHERE -
                       UUU -         UNIT ADDR
                       VVVVVV -      VOLSER
                       JJJJJJJJ -    JOBNAME OR ASID
                       IIIIII -      IOQ ADDR
                       DDDDDDDD -    I/O DRIVER NAME
                       SSSSSSS -     STATUS (ACTIVE OR QUEUED)
-
               ALLOCATION OUTPUT EXAMPLE -
0              *SYSTEM*  *AQTOP*  M1M1M1M1M1M1  M2M2M2M2M2M2
               JJJJJJJJ  SSSSSSS  M1M1M1M1M1M1  M2M2M2M2M2M2
-              WHERE -
                       1ST LINE IS SYSTEM WIDE ALLOCATION MASK
                       AND FOLLOWING LINES ARE JOB INFO
0                      JJJJJJJJ -   JOBNAME OR ASID
                       SSSSSSS -    STATUS (ACTIVE OR QUEUED)
                                    OWNING -   JOB HOLDS MASK
                                    AQUEUE -   JOB QUEUED FOR 'A' QUEUE
                                    BQUEUE -   JOB QUEUED FOR 'AB' QUEUE
                                    WAITING -  OPERATOR REPLIED 'WAIT'
                       M1M1M1M1 -   A OWNERSHIP MASK
                       M2M2M2M2 -   B OWNERSHIP MASK
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #Q  COMMAND     (ANALYZE ENQUEUE -   SEE ENQ/DEQ SUMMARY)
-
          #Q
-
                 OUTPUT EXAMPLE -
0                MAJOR= SYSDSN
                 MINOR= SYS1.LINKLIB
                 ROSLINK1  EXCL  RESERVE
                 ROSLINK2  EXCL  RESERVE
                 ROSLIST1  SHR
-
                 IN RESPONSE TO THE #Q COMMAND THE CURRENT STATUS
                 TYPES ARE:
0                             SHR - SHARED USE ENQ
                              EXCL- EXCLUSIVE USE ENQ
                              RESERVE -  RESERVE INDICATOR
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
     #R  COMMAND   (DEVICE STATUS COMMAND)
-
      #R M              PENDING MOUNTS FOR TAPE
0     #R T              TAPE BUSY AND PENDING MOUNTS
0     #R D              DISK BUSY AND PENDING MOUNTS
0     #R P              UNIT RECORD BUSY
0     #R B              ALL DEVICE BUSY AND PENDING MOUNTS
0     #R V              ALL PENDING VARIED OR UNLOADED DEVICES
0     #R R              ALL RESERVES OUTSTANDING
-
      #R M=XXXXXXXX     PENDING MOUNTS FOR A JOB
0     #R T=XXXXXXXX     ALLOCATED TAPE DEVICES FOR A JOB
0     #R D=XXXXXXXX     ALLOCATED DISK DEVICES FOR A JOB
0     #R P=XXXXXXXX     ALLOCATED UNIT RECORD DEVICES FOR A JOB
0     #R B=XXXXXXXX     ALL ALLOCATED DEVICES FOR A JOB
-         =XXXXXXXX     FOR ALL COMANDS IS EITHER A 4 DIGIT ASID OR A
                        1 - 8 CHARACTER JOBNAME
-
      #R S=VVVVVV       DEVICE ON WHICH VOLUME VVVVVV IS MOUNTED
-     #R U=NNN          DISPLAY SPECIFIED -
0                           DEVICE          (NNN)
                            CONTROL UNIT    (NN)
                            CHANNEL         (N)
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #S  COMMAND     (DISPLAY LPA MODULES)
-
         #S PGMNAME   WILL DISPLAY LOAD MODULES IN FLPA, MLPA OR
         PLPA. THE VIRTUAL ADDRESS AND MODULES SIZE ARE DISPLAYED
         UNLESS THE MODULE  SPECIFIED IS REPRESENTED BY A MINOR
         CDE OR LPDE, IN WHICH CASE THE VIRTUAL ADDRESS AND MAJOR
         NAME ARE DISPLAYED.
-        #S *ADDR    WILL DISPLAY THE NAME OF THE LOAD MODULE
         AND ITS STARTING ADDRESS AND LENGTH.
-
            #S XXXXXXXX
0           MODULE NOT FOUND
-           #S IEFBR14
0           IEFBR14      DF9C78    000020
-           #S EDIT
0           EDIT         EF6000    E
-           #S E
0           E            EF6000    001EB0
-           #S *000002
0           ADDRESS NOT FOUND
-           #S *EF6010
0           E            EF6000    001EB0
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #V  COMMAND     (DISPLAY UNIT)
-
             #V CUU         (DISPLAY SINGLE UNIT)
0                EX.    #V 251
-           #V CUX          (DISPLAY ALL UNITS BY CONTROL UNIT)
0                EX.    #V 25X
-           #V CUU,CUU...   (DISPLAY ALL UNITS IN LIST)
0                EX.    #V 251,363,108,288
-           #V CUX,CUX...   (DISPLAY ALL UNITS IN LIST BY C.U.)
0                EX.    #V 25X,36X,47X
-           #V S=VOLSER     (DISPLAY UNIT FOR THIS VOLSER)
0                EX.    #V S=DAA001
-
            COMMAND OUTPUT IS AS FOLLOWS -
-                 UUU  SSSSSS  FFF  UNIT=DDDDDD  AS=AAAA  PATH=X,Y
                     DCB=MM  USR=UU  RSV=RR  FLG=11111111/22222222
                                    - OR -
                     DEVTYPE=ZZZZZZZZ        FLG=11111111/22222222
-                    UUU       IS THE UNIT ADDRESS
                     SSSSSS    THE VOLUME SERIAL OR DEVICE CLASS
                     FFF       ON, OFF, OF CHG
                     DDDDDD    THE DEVICE TYPE
                     AAAA      THE ADDRESS SPACE ID
                     X,Y       THE PRIMARY,SECONDARY DEVICE PATH
                     MM        THE NO. OF OPEN DCBS TO THE DEVICE
                     UU        THE NO. OF USERS
                     RR        THE DEVICE RESERVE COUNT
                     ZZZZZZZZ  THE 4 BYTE HEX DEVICE TYPE FIELD
                     1111/2222 THE FIRST 8 BYTES OF THE UCB IN HEX
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
       #X  COMMAND     (DISPLAY AND ZAP CORE IN ANOTHER ADDR SPACE)
-
              WHERE -
0                    AAAA -     IS ASID OF ADDR SPACE TO USE
                     SSSSSS -   IS ADDRESS TO ACT UPON
-
0             FOR DUMPING CORE
                  #X  >AAAA,SSSSSS
-
              FOR DUMPING CORE FOR OTHER THAN 4 LINES  (64 BYTES)
0                 #X >AAAA,SSSSSS,NN   WHERE  NN  IS THE NUMBER OF LINES
                                       TO PRINT FROM 01 - 64.
-             FOR ZAPPING CORE
0                 #X >AAAA,SSSSSS/VVVVVVVV/RRRRRRRR
0                     VVVVVVVV = DATA TO BE VERIFIED
                      RRRRRRRR = DATA TO BE ZAPPED IN
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
      ##B  COMMAND      (MONITOR DEVICES)
-
      ##BUUU            MONITOR DEVICE BUSY FOR DEVICE  UUU
0     ##BUUX            MONITOR DEVICE BUSY FOR DEVICES ON
                        CONTROL UNIT  UU
-                       OUTPUT FORMAT AS FOLLOWS -
0                       UNIT (UUU) NN% BUSY FOR LAST YYY SECONDS
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   POUND
1
      ##J  COMMAND      (MONITOR JOBS)
0     ##J T  COMMAND    (MONITOR TSO USERS)
0     ##J NN  COMMAND   (MONITOR JOBS -  FOR DOMAIN  'NN')
-          EXAMPLE  -
0     *****   IN  QUEUE   *****    EXCPC   EXCPT    CPUC     CPUT
      JES2     JES2     IEFPROC      43    68,976   9.37   61.33.01
      TEST00   STEP1                 21     3,400   0.58       5.33
      TEST01   STEPX    ASMBLR      153   178,922  12.77    9.10.68
      TMSBKUP  FDR                    3       367   0.09       1.24
      *****   OUT  QUEUE   *****   EXCPC   EXCPT    CPUC     CPUT
      RMF      148      IEFPROC       0       666   0.00      11.98
-      WHERE -
0         EXCPC     EXCPT      CPUC      CPUT
         ------    -------    -------   -------
0        XX,XXX   X,XXX,XXX   M.SS.HH  MMM.SS.HH
-        EXCPC        IS THE EXCP COUNT FOR THE SAMPLED INTERVAL
0        EXCPT        IS THE EXCP COUNT TOTAL FOR THE CURRENT STEP
0        CPUC         IS THE CPU/SRB TIME FOR THE SAMPLED INTERVAL
0        CPUT         IS THE CPU/SRB TIME TOTAL FOR THE CURRENT STEP
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
      ##P  COMMAND      (MONITOR PAGING)
-
         VIO PAGING        NNN.NN   PAGES/SEC
         SWAP PAGING       NNN.NN   PAGES/SEC
         COMMON PAGING     NNN.NN   PAGES/SEC
         ADDRSPC PAGING    NNN.NN   PAGES/SEC
         TOTAL PAGING      NNN.NN   PAGES/SEC
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   POUND
1
 DCMS
0The SHARE Standard Monitor which is known as DCMS was developed
 by members of the MVS Performance Project as a common facility
 for system monitoring in order to collect data for MVS tuning.
 In addition to functioning under TSO, DCMS also provides
 facilities for stand-alone 3270-type local devices.
 Included with the monitor are macros to handle the display IO so
 the user can add his own new commands and routines.
0DCMS is invoked from TSO by keying in 'DCMS'.  When one receives
 the message "Enter DCMS Promptor Control Type", the password
 'AUTH' must be entered.  In order to utilize 'POUND' and certain
 'DIDOCS' facilities, the TSO user must be authorized.  See section
 POUND for further comment on the POUND SUBSYSTEM.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
 DCMS 1.0 HELP (DCMS HELP Information)
0This is a generalized HELP facility for DCMS commands and
 provides HELP information on some, but not all of the commands
 supported by DCMS.  Certain commands, such as POUND, contain their
 own HELP facility.  Listed below are the DCMS commands:
-     COMMAND   /   (ALIAS)         DISPLAY FUNCTION:
01.   CHANNEL   /    SCAMP          LOGICAL CHANNEL ACTIVITY
 2.   CHIMP                         ACTIVE ADDRESS SPACES
 3.   CPU                           CPU UTILIZATION
 4.   DA        /    DJ             ACTIVE BATCH JOBS
 5.   DCMSPROF  /    PROF           DCMS SESSION PROFILE UPDATE
 6.   DIDOCS                        MCS COMMAND INTERFACE
 7.   DMN                           DOMAIN TABLE
 8.   DU                            UCB SCANNER
 9.   FRAMES                        REAL STORAGE FRAME USAGE
 10.  JES3                          JES3 SETUP STATISTICS
 11.  LOOK                          CONTROL BLOCK/STORAGE DISPLAY
 12.  MS                            MASTER SUMMARY: ADDRESS SPACES
 13.  PAGE      /    SPAM           PAGE RATE SUMMARY
 14.  POUND                         #CMD SUBSYSTEM INTERFACE
 15.  SRM                           SRM STATUS / INTERVAL DATA
 16.  SWAP                          SWAP STATISTICS BY REASON
 17.  TSUSER                        TSO USER SRM DATA
 18.  WIZARD                        SRM BEHAVIOR / MPLT ANALYSIS
0HELP is utilized by keying in 'HELP' and entering one of the
 following:
0     DEPRESS                     TO DISPLAY
01.   PFK1              PFK KEY USAGE COMMON TO ALL COMMANDS
 2.   PFK2              MENU OF AVAILABLE COMMANDS
 3.   PFK7              FRAME BACKWARDS IN CURRENT HELP
 4.   PFK8              FRAME FORWARDS IN CURRENT HELP
 5.   PFK12             T E R M I N A T E     H E L P
 6.   CANCEL            RESTART HELP FROM BEGINNING
 7.   ATTN              TERMINATES THE HELP PROCESSOR
 8.   ENTER             ** TO REQUEST HELP FOR A SPECIFIC
                        DCMS COMMAND ENTER THE NAME OF THE
                        COMMAND, AND THE "ENTER" KEY.
-
 Common Function Key Utilization for DCMS is described below:
01.   PFK 1  - ALTER MODE OF CURRENT MONITOR ROUTINE-where applicable
 2.   PFK 2  - ALTER TIME INTERVAL OF CURRENT ROUTINE-where applicable
 3.   PFK 3  - INVOKE "HELP" DISPLAY FOR CURRENT ROUTINE-where applicabl
 4.   PFK 4  - NO "STANDARD" USE - see individual helps
 5.   PFK 5  - NO "STANDARD" USE - see individual helps
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
 6.   PFK 6  - NO "STANDARD" USE - see individual helps
 7.   PFK 7  - MOVE BACKWARD ONE SCREEN
 8.   PFK 8  - MOVE FORWARD ONE SCREEN
 9.   PFK 9  - RESTART CURRENT DISPLAY AT BEGINNING
 10.  PFK 10 - INVOKE LOG / HARDCOPY SUPPORT
 11.  PFK 11 - INVOKE / ALTER COMMAND STACK SERVICE
 12.  PFK 12 - TERMINATE CURRENT DISPLAY ROUTINE
-
 NOTE:   The HELP routines for individual commands will describe
         only PFK usage which differs from the standard usage
         described above.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   DCMS
1
 DCMS 2.0 CHANNEL (Logical Channel Activity)
0This monitor displays utilization of logical channels on an
 interval specified by the user.  The utilization can be displayed
 in one of two formats: percentage or request rate.  Both figures
 are calculated by the System Resource Manager (SRM) on a
 one-second interval.  For detailed information on how he arrives
 at these figures, the module IRARMIOM in component SC1-CX should
 prove useful.
0Additional PFK definitions are as follows:
01.   PF1   HELP Key
 2.   PF2   Change/update Key
 3.   PF3   Change display modes
0DCMS 3.0 CHIMP (Active Address Spaces)
0CHIMP is utilized for address space displays and is invoked by
 entering 'CHIMP'.  It has several different modes of display,
 which may be changed by entering one of the following
 subcommands:
01.   I    This mode will display only those address spaces which
           are either swapped in and running or swapped out but
           ready to run.
 2.   O    This mode will display all active address spaces in the
           system, regardless of location.
0          To switch between modes, type either I or O.
0          You may also enter options to restrict the output to
           only TSO address spaces (in either in/out or waiting
           status according to your use of the I and O options
           above) or only started task/batch job address spaces.
 3.   T    Restricts the output to only TSO address spaces.
 4.   B    Restricts the output to started task/batch job address
           spaces.
 5.   A    Resets the TSO/started task/batch job selection.
 6.   S    To exit from this command.
-In order to properly interpret the display, the following
 terminology is utilized:
0                   GLOSSARY OF TERMS FOR OUTPUT DISPLAY:
01.   JOB   Job name of address space
 2.   STEP  Step name of address space for batch jobs, TSO and
            started tasks.
 3.   P     Reason code for swap out from the SRM user control
            block, OUCBPFL.
0           The following are the reason codes displayed:
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
            R   Reset Value.
            W   Memory is in long wait or input terminal wait.
            T   Memory is in output terminal wait.
            E   An ENQHOLD has been received for this memory.
            V   Memory was swapped out by main storage
                occupancy(MSO).
            O   Memory was swapped out to make room for TSO
                Trivial.
            P   Involuntary swapout, usually due to partial
                analysis.
            S   Swapout caused by real storage shortage.
            ?   Unable to determine swapout reason.
04.   MEMORY    Current amount of memory allocated to this address
                space.
 5.   WSS       SRM's view of the working set size for this
                address space.
 6.   T         Type of memory (S=STC or Mount, T=TSO, B=Batch).
 7.   LOC       Current location of this address space:
0               IN   Swapped in and eligible to run.
                OUT  Swapped out but ready to run.
                WT   Swapped out and not ready to run.
                N/S  Swapped in and V=R or non-swappable status.
                <->  Transitioning between states.Address Spaces)
08.   DP    Dispatching priority of address space (in hex).
 9.   PG    Performance group.
 10.  SC    Number of times the address space has been swapped.
 11.  WMR   Current SRM workload manager recommendation value.
            (Actually the workload level of this address space).
 12.  SRV   Service accumulated in the last swapped-in period.
 13.  CPU   CPU time, in seconds, used by the address space (SRB
            plus task).
0DCMS 4.0 CPU (CPU Utilization)
0The CPU command presents the following statistics:
01.   Percent of CPU utilization. This the percent of the sample
      with the Wait bit off. (NOTE: This is percent based on the
      entire sampling interval. All other percents are now based
      on count of non-wait state PSW's).
 2.   Percent of Supervisor state. This is the percent of active
      PSWs with the Problem bit off. Supervisor state is further
      subdivided into: a) The percentages when an SVC was in
      control in task mode, b) When an SRB is in control, and c)
      Other (which includes, for example, MODESET time, initiator
      time, JES and TCAM task time in supervisor state, etc.).
 3.   Percent of User State. This is the percent of active PSWs
      with the problem bit on and non-system key (>7).
 4.   Sample size. NOTE: When STATDIE initializes, it zeros out
      the pageable buffers. For the first 20 minutes, some of the
      buffers are still unfilled. There is no valid PSW which
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
      contains all zero bits, so the sample is defined as the set
      of PSWs with at least one bit on.
 5.   Time.
 6.   Average Ready TCBS.
 7.   Breakdown of CPU utilization by Key, SVC number, performance
      group and program name. Note that the four (4) columns of
      data are separate and total vertically. You do not read them
      across the rows, because there is no horizontal association.
      Only ten (10) items appear in each column, though it is easy
      to modify the program to print more. The columns will not
      total to 100 percent (100%), of course, if there is any
      omitted non-zero value. Descriptions are as follows:
0     KEY     Breaks down active time by protect key.
      SVC     Breaks down active time by the SVC number of the ten
              (10) most active SVCS.
      PG      Breaks down active time by the performance group of
              the ASID in control.
      PGM     Breaks down active time by the CDENAME pointed to by
              the highest PRB on the RB queue.
-DCMS 5.0 DA (Active Batch Job Display)
0DA is a realtime address display and contains the following
 information:
01.   Jobname
 2.   Stepname
 3.   Procstep
 4.   CPU time
 5.   Job Status
 6.   ASID
 7.   Dispatching Priority
 8.   Swap Count
 9.   CPU time used
 10.  CPU time left
 11.  Rate
 12.  I/O request count
-DCMS 6.0 DCMSPROF (DCMS Session Profile Update)
0No information currently available on this command.
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   DCMS
1
 DCMS 7.0 DIDOCS (MCS Command Interface)
0DIDOCS requires special TSO authorization and is an MCS command
 interface facility.  It permits one to enter OS and JES commands
 and receive the command response.  This is quite different from
 the RESOLVE COM facility in that it is possible to receive, at
 the issuing terminal, the response from most commands.  It should
 be noted that partial output from multi-screen displays may
 sometimes be lost as a result of the technique utilized to
 capture the response.  This facility has proven to be quite useful
 for the following types of displays:
 1.   $DQ,Q=XEQ
 2.   $DI
 3.   $DA
 4.   D M
 5.   D C
 6.   D U,,,device-addr
-DCMS 8.0 DMN (Display Domain Table)
0The DMN display is a breakdown of the current domain
 specifications and shows the following information:
01.   Domain number
 2.   Weight
 3.   Minimum multi-programming level (MPL)
 4.   Maximum MPL
 5.   Target MPL
 6.   Current MPL
 7.   Count of address spaces going out
 8.   Count of address spaces in
 9.   Count of address spaces out
 10.  Count of average runnable address spaces.
-
-
-
-
-
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   DCMS
1
 DCMS 9.0 DU (UCB Scanner)
0The DU command displays all devices sysgenned in the system.
 Additional PFK definitions are as follows:
01.   PF4               Display all sysgenned units.
 2.   PF5               Display only online units
-DCMS 10.0 FRAMES (Real Storage Frame Usage)
0FRAMES is a display of the current frame utilization, identifying
 each frame as one of the following:
01=*MASTER*
 2=JES3
 3=TCAM
 4=????????
 5=????????
 6=????????
 7=????????
 8=????????
 9=????????
 0=????????
 A=Avail
 B=Bad
 C=Common
 L=Local
 N=Nucleus
 S=SQA
 V=VIO
 ?=Unknown
-DCMS 11.0 JES3 (JES3 Setup Statistics)
0No information currently available on this command.
 DCMS 12.0 LOOK
0LOOK is a main storage display facility showing 256 bytes in hex
 and character format.  Because it does not currently possess
 address space support, its capabilities are limited.
-DCMS 13.0 MS (Master Summary: Address Spaces)
01.   The MS command supports the following displays:
0     E     End this processor
      I     Initiator display
      J     Running jobs display
      LP    Active Link Pack Area
      SS    System Performance statistics
      TS    TSO user display w/statistics
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
      T     TSO user display
      S     Started task display
02.   PFK support is as follows:
0     PF1   HELP
      PF2   Null
      PF3   Exit
      PF4   SS
      PF5   LP
      PF6   T
      PF7   I
      PF8   J
      PF9   TS
      PF10  S
      PF11  Null
      PF12  Reserved
03.   Initiator Display - The following information is provided:
0     ASID
      Jobname
      Flag Settings
      Waits
      Swap Count
      Domain
      Performance Group
      slots
      Working Set Size
      Job Steptime
      Dispatching Priority
      Storage specifications
04.   Running Jobs Display
0     The information displayed is the same as for the Initiator display
05.   Started Task Display
0     The information displayed is the same as for the Initiator display
06.   System Performance Statistics
0     The following information is provided:
0     System release number
      System ID
      CPU model
      CPU size
      VIO slots in use
      Slot space in use
      Address space Slots in use
      Usable frame space
      Nucleus size
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
      LPA/CSA size
      LSQA size
      SQA size
      Long term fix
      Short term fix
      VIO
      Local
      Available
      Bad pages
      V=R
      Program
 DCMS 14.0 PAGE (Page Rate Summary)
0PAGE, also known as SPAM, displays paging statistics in bar-graph
 form.  PFK support is as follows:
01.   PA1               Termination
 2.   PF1               HELP
0PAGE is interrupt driven; you must hit ENTER to initiate the
 display.  Fields will always be overflowed at the start due to
 lack of complete knowledge of the day's previous events.
 Display items are as follows:
0     PVTNPIN   # of pages paged in, excluding swap-ins and VIO
      PVTNPOUT  # of pages paged out, excluding swap-outs and VIO
      PVTVAMI   Number of VIO page ins, excluding swap
      PVTVAMO   Number of VIO page outs, excluding swap
      PVTVAMR   Number of VIO reclaims
      PVTSPIN   Number of pages swapped in
      PVTSPOUT  Number of pages swapped out
      PVTNPREC  Number of pages reclaimed
      PVTNSWPS  Number of successful swaps
      PVTCAIN   Number of NON-VIO page-ins
      PVTCAOUT  Number of common area non-VIO page-outs
      PVTCAREC  Number of reclaims of common area non-VIO
                page-outs
      PVTSPREC  Number of private area pageable pages reclaimed
                across a swap
0Pagerate, UIC (unreferenced interval count) and CPU percentage
 fields are all extracted from the RCTs maintained by the SRM.
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
 DCMS 15.0 POUND (#CMD Subsystem Interface)
 This is the POUND subsystem, which required special TSO
 authorization, and is invoked by entering 'POUND'.  One can then
 depress 'ENTER' or PFK1 to obtain HELP or enter any of the valid
 "#" commands as described in the POUND section.
0DCMS 16.0 SRM (SRM Status - Interval Data)
0No information is currently available on this command.
-DCMS 17.0 SWAP (SWAP Statistics by Reason)
0This gives a swap count display of the following items:
0     1.    Terminal Output
      2.    Terminal Input
      3.    Long Wait
      4.    AUX Storage Shortage
      5.    Real Storage Shortage
      6.    Detected Wait
      7.    REQSWAP
      8.    CAP ENQ Exchange
      9.    CAP Exchange on Recommended Value
      10.   CAP Unilaterla
-DCMS 18.0 TSUSER (TSO User SRM Data)
0This is a TSO user display and shows the following information:
0     1.    Count of users logged on
      2.    User ID
      3.    Line Address
      4.    ASID
      5.    Dispatching priority
      6.    Status
      7.    Performance group
      8.    Period
      9.    Swap in size
      10.   Swap out size
      11.   Frame utilization
      12.   CPU service units
      13.   IO service units
      14.   MSO service units
      15.   Swap count
0DCMS 19.0 WIZARD (SRM Behavior - MPLT Analysis)
0     WIZARD is a composite display of the following items:
0     1.    Domain Table Display
                Domain
                Min MPL
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
                Max MPL
                Weight
                MPL Target
                Ready User Average
                Users going out
                Current MPL
                Users out
                Users in storage
0     2.    Current IPS number and CPU, IO, MSO factors
0     3.    Swap Reasons and Counts
                Terminal Input
                Terminal Output
                Long Wait
                Aux storage shortage
                Real storage shortage
                Detected wait
                Requested
                CAP:  ENQ exchange
                CAP:  WLM (work load manager) exchange
                CAP:  Unilateral
0     4.    Incore Users Count
0     5.    Resource Control Table - Low, High, Average, Count
            Thresholds
0               UIC
                CPU
                ASMQ
                PAGE
                LCH (logical channel utilization)
-DCMS 20.0 MISCELLANEOUS INFORMATION
01.   DCMS CLIST
      ALLOC DDN(DCMSLIB) SHR DSN('MMA.LOADLIB')
-2.   Modules copied from DCMS library to a LNKLST library:
0     $DCMS
      IEESA13D
      IEESC13D
      IEESD13D
      IEESF13D
      IEESG13D
      IEESH13D
      IEESI13D
      IEESJ13D
      IEESK13D
      IEESL13D
-
                  SHARE MVS Tuning Report IV Nov 1979   DCMS
1
      IEESM13D
      IEESN13D
      IEESW13D
03.   Modules copied to SYS1.LPALIB:
      STATDIE
0     This is necessary to support the use of the CPU command and is
      packaged with OUR-MF from Yale University.  STATDIE is a low
      overhead PSW sampler which must be running prior to executing
      the CPU command.
04.   In a non-TSO/VTAM environment, DIDOCS and POUND require
      utilization of an authorized version of IKJEFT01.  With TSO/VTAM,
      authorization can be accomplished by adding $DCMS to APFCTABL
      (the table of authorized command processors) in csect IKJEFTE2
      in load module IKJEFT02.
-
-
-
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   DCMS
1
-                           THIS PAGE ACCIDENTALLY LEFT BLANK
0                 SHARE MVS Tuning Report IV Nov 1979   DCMS
1
 TUNING TOOLS
0A.   Address space monitors
0     1.    APEMAN - SHARE MVS PROJECT MODS TAPE
      2.    CHIMP - SHARE MVS PROJECT MODS TAPE
      3.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
      4.    MVS SYSTEM INFORMATION ROUTINES (SIR) 5796-PGB
      5.    RESOLVE - BOOLE AND BABBAGE, INC
      6.    RSMON - 5788-CAF
      7.    OMEGAMON - CANDLE SERVICE CORPORATION
      8.    DCMS - SHARE MVS PROJECT MODS TAPE
      9.    COMMAND SUBSYSTEM - CONNECTICUT BANK TAPE
      10.   SIR - SYSTEM INFORMATION ROUTINES
0B.   DASD analysis
0     1.    COMPREHENSIVE MANAGEMENT FACILITY (CMF) -
            BOOLE AND BABBAGE, INC
      2.    DATASET OPTIMIZER (DSO) - BOOLE AND BABBAGE, INC
      3.    GTF DASD CONTENTION ANALYZER - 5798-CEZ
      4.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
      5.    GTF I/O CONCURRENCY REPORT - 5796-PGD
      6.    MVS SEEK ANALYSIS PROGRAM - 5796-PJC
      7.    MVSPT - IBM AID
      8.    RESOLVE - BOOLE AND BABBAGE, INC
      9.    RESOURCE MEASUREMENT FACILITY (RMF) - 5740-XXM
      10.   SYSTEM ACTIVITY MEASUREMENT FACILITY (MF/1)
      11.   OMEGAMON - CANDLE SERVICE CORPORATION
      12.   GTF DASD SEEK ANALYSIS - SHARE MVS PROJECT MODS TAPE
      13.   DCMS - SHARE MVS PROJECT MODS TAPE
      14.   Shared DASD Analysis (DASDMUS)
0C.   ENQ problems
0     1.    COMPREHENSIVE MANAGEMENT FACILITY (CMF) -
            BOOLE AND BABBAGE, INC
      2.    MVS SYSTEM INFORMATION ROUTINES (SIR) - 5796-PGB
      3.    QCB TRACE - SHARE MVS PROJECT MODS TAPE
      4.    RESOLVE - BOOLE AND BABBAGE, INC
      5.    COMMAND SUBSYSTEM - CONNECTICUT BANK TAPE
0D.   Global resource monitors
0     1.    APEMAN - SHARE MVS PROJECT MODS TAPE
      2.    CHIMP - SHARE MVS PROJECT MODS TAPE
      3.    COMPREHENSIVE MANAGEMENT FACILITY (CMF) -
            BOOLE AND BABBAGE, INC
      4.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
      5.    JES3 MONITORING FACILITY II (JMF) - 5796-PLW
      6.    MF/1 POST ANALYZER - 5798-CHX
      7.    MVSPT - IBM AID
      8.    RESOLVE - BOOLE AND BABBAGE, INC
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
      9.    RESOURCE MEASUREMENT FACILITY (RMF) - 5740-XXM
      10.   RMF POST Processor (CBT)
      11.   RMF POST Processor (Carrier)
      12.   RSMON - 5788-CAF
      13.   SYSTEM ACTIVITY MEASUREMENT FACILITY (MF/1)
      14.   OMEGAMON - CANDLE SERVICE CORPORATION
      15.   GENERALIZED DATA AREA MONITOR AND DISPLAY PROGRAM - 5798-CK
      16.   DCMS - SHARE MVS PROJECT MODS TAPE
      17.   COMMAND SUBSYSTEM - CONNECTICUT BANK TAPE
      18.   SIMON -BELL LABS
      19.   QCM - DUQUESNE SYSTEMS,INC.
0E.   Job data
0     1.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
      2.    PROBLEM PROGRAM EVALUATOR ANALYZER (PPE) - BOOLE AND BABBAG
      3.    SMF DATA
      4.    TOTAL SYSTEM ANALYZER (TSA) - BOOLE AND BABBAGE, INC
      5.    COTUNE II - CAPEX CORPORATION
      6.    DCMS - SHARE MVS PROJECT MODS TAPE
0F.   Module usage
0     1.    GTF DATA ANALYSIS PROGRAM - 5798-CHT
      2.    GTF SUPERVISOR SERVICES ANALYZER - 5796-PGE
      3.    MVS SEEK ANALYSIS PROGRAM - 5796-PFC
      4.    PROBLEM PROGRAM EVALUATOR ANALYZER (PPE) - BOOLE AND BABBAG
      5.    TOTAL SYSTEM ANALYZER (TSA) - BOOLE AND BABBAGE, INC
0G.   PLPA pack list generators
-     1.    APEMAN- SHARE MVS PROJECT MODS TAPE OR CONNECTICUT BANK TAP
      2.    MVS SEEK ANALYSIS PROGRAM - 5796-PJC
      3.    PSW PACKER - SHARE MVS PROJECT MODS TAPE
0H.   Program packing -
0     1.     VS REPACK - 5796-PDZ
0I.   Miscellaneous
0     1.    TSO TERMINAL INPUT/OUTPUT SIMULATOR (TIOS)
              - BOEING COMPUTER SERVICES
      2.    Dynamic TRACE (On/Off)  MVS MODS TAPE
0J.   IMS MONITORS
0     1.    CONTROL/IMS - BOOLE and BABBAGE
-
-
-                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 TUNING TOOLS 1.0
0TYPE:          TOOL
 REFERENCES:    ALERT ANALYZERS USERS GUIDE
 KEYPHRASE:     ALERT
0ENVIRONMENT    Any MVS system
0PROBLEM:       Performance
0SOLUTION:      The ALERT performance analyzer pinpoints
                bottlenecks in operations, systems and programming
                by explaining with a narrative description the
                specific inefficiency problem, delay or degradation
                activity.
0ALERT
0     1.    Provides over sixty narrative reports.
      2.    Reports only when user specified thresholds are
            exceeded.
      3.    Permits selection by frequency of occurrence.
      4.    Allows items selected to be summarized.
      5.    Permits selection of only the last, and most timely
            occurrence of a condition.
      6.    Report level can be controlled by user specified print
            limits.
      7.    Exceptional reporting conditions are presented in a
            report summarization.
      8.    Report referencing is facilitated with pagination and
            a report table of contents.
      9.    Source SMF data may be selectively saved during the
            analysis for further investigation.
      10.   Report narratives aid the user's efforts in
            alleviating bottlenecks by providing recommended
            solutions to the problems found.
0BENEFIT:       Better performance
0SOURCE:        Comten Inc.
0TUNING TOOLS 2.0
0TYPE:          TOOL
 KEYPHRASE:     APEMAN (A Performance Evaluation Monitor for MVS)
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
0SOLUTION:      Will monitor various system components:
                1.  Monitors the page frame table entries.
                2.  Monitors queue elements on any major/minor
                    QCB chain.
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                3.  Monitors several of the internal variables
                    of the SRM.
                4.  Monitors the resource utilization of the
                    address spaces.
                5.  Monitors the trace table entries.
                6.  Monitors the status of I/O devices attached
                    to the system.
0BENEFIT:       Better performance and a deeper insight
                into the internal operation of MVS.
0SOURCE:        CONNECTICUT BANK MODS TAPE OR SHARE MVS PROJECT
                MODS TAPE
0TUNING TOOLS 3.0
0TYPE:          TOOL
 RELEASE:       3.7+ or IPO
 KEYPHRASE:     COMMAND subsystem
 PROBLEM:       Lack of information involving status of the system
                and individual jobs.
0SOLUTION:      The command subsystem is a collection of display
                commands that are easy to invoke and provide
                information on the following:
0               1.  Address space status.
                    a.  ASID.
                    b.  Dispatching priority from ASCB.
                    c.  Swap load pages (in/out).
                    d.  Swap count in decimal.
                    e.  Performance group.
                    f.  Dispatching priority from OUCB.
                    g.  Domain number.
                    h.  The OUCB flags (swap transition, swapout
                        continuation, user type, algorithm status,
                        transaction status, event status).
                    i.  ASCB address.
                    j.  Swap reason.
                    k.  Dispatching queue position.
                    l.  OUCB address.
                    m.  Address space slots.
                    n.  VIO slots.
                2.  Storage.
                    a.  UCBs by unit number.
                    b.  Core by address and zapping facility.
                3.  Page frame assignments.
                    a.  Fixed frames by owners.
                    b.  Specific megabytes (PFT flags, owning ASID).
                    c.  Offline frames and intercepted frames.
                    d.  V=R.
                4.  IPS number and swap counts by reason since last IPL
                5.  ASM counts.
                6.  Page and Swap data set usage.
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                7.  Active job display (modified D A).
                    a.  Swapped in or out with reason.
                    b.  ASID.
                    c.  Dispatching priority.
                    d.  Queing priority.
                    e.  CPU time.
                8.  TSO lines (USERID, ASID and TP line).
                9.  ENQUE's (all or by major or minor name).
                10. Device status.
                11. LPA modules (name, starting address and length).
                12. Units (single, by control unit, by VOLSER).
                13. Clock and a bonus hex calculator.
                14. HELP command facility
0SOURCE:        CONNECTICUT BANK TAPE
0TUNING TOOLS 4.0
0TYPE:          TOOL
 KEYPHRASE:     CHIMP (Computerized Heuristic Information
                Monitoring Program)
0REQUIREMENTS:  TSO 3270 Terminal
0ENVIRONMENT:   Any MVS system with TSO
0PROBLEM:       Performance
0SOLUTION:      CHIMP will display several system status
                indicators on a job basis.
0BENEFIT:       Better performance
0SOURCE:        SHARE MVS PROJECT MODS TAPE
-TUNING TOOLS 5.0
0TYPE:          TOOL
 REFERENCES:    COTUNE II USERS GUIDE
 KEYPHRASE:     COTUNE II
0ENVIRONMENT:   Any MVS system with COBOL
0PROBLEM:       COBOL program performance
0SOLUTION:      Provides execution time analysis of COBOL
                programs.
0BENEFIT:       Reveals time spent in each section of code for
                further investigation to improve performance.
0SOURCE:        CAPEX CORPORATION
                2613 North Third Street
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                Phoenix, Arizona  85004
0TUNING TOOLS 6.0
0TYPE:          TOOL
 REFERENCES:    CMF USERS GUIDE
 KEYPHRASE:     CMF (Comprehensive Management Facility)
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
0SOLUTION:      CMF is a software product which measures
                hardware/software performance. The standard CUE
                package will perform the following functions:
0               1.  Indicate usage of the channels and I/O devices
                    as well as queueing for the CPU, channels
                    control units, and I/O devices.
                2.  Measure real storage page utilization.
                3.  Measure main storage utilization.
                4.  Measure device head movements.
                5.  Measure paging in progress.
                6.  Measure ENQ/DEQ activity.
0BENEFIT:       Possible reconfiguration to reduce resource
                contention. Make more effective use of real
                storage. Minimize average seek time.
0SOURCE:        BOOLE AND BABBAGE, INC
                850 Stewart Drive
                Sunnyvale, CA  94086
0TUNING TOOLS 7.0
0TYPE:          TOOL
 KEYPHRASE:     Shared DASD Analysis program (DASDMVS)
0ENVIRONMENT:   Any MVS System
0REQUIREMENTS:  GTF data
0PROBLEM:       Contention incurred with shared DASD
0SOLUTION:      Displays DASD activity and contention on each
                device and on each channel if OPTCHAN is available
                on a device.
0BENEFIT:       Balance DASD across control units
                Reduction of job contention
                Data set placements
0SOURCE:        SHARE MVS PROJECT MODS TAPE
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 TUNING TOOLS 8.0
0TYPE:          TOOL
 KEYPHRASE:     DCMS
0ENVIRONMENT:   MVS
0PROBLEM:       An installation wishes to write monitor program
                useful to itself and other SHARE installations.
0SOLUTION:      The SHARE standard monitor interface provides a
                set of macro instructions that allow a programmer
                to write a monitor in a relatively short period of
                time. The interface provides full screen access to
                local, remote and TSO. (Under TCAM only).
0               Several programs are provided with the package to
                monitor various system components. For example:
0                   1.  Individual jobs.
                    2.  Channel utilization.
                    3.  Paging activity.
                    4.  Core utilization.
0BENEFIT:       You can become a contributor to SHARE with
                relative ease.
0SOURCE:        SHARE MVS MODS TAPE.
                For a more detailed description see the Tuning
                Report Section on DCMS.
0TUNING TOOLS 9.0
0TYPE:          TOOL
 RELEASE:       Version 2.3
 REFERENCES:    USER GUIDE FOR DSO
 KEYPHRASE:     DSO (Data Set Optimizer)
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance/excessive DASD head movement
0SOLUTION:      DSO performs an analysis of head movement activity
                by data set within volume, produces a statistical
                summary and calculates an optimal data set
                organization of the volume, indicating the
                anticipated head movement reduction of such a
                reorganization.
0BENEFIT:       Reduction of head movement.
0SOURCE:        BOOLE AND BABBAGE, INC
                850 Stewart Drive
                Sunnyvale, CA  94086
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
 TUNING TOOLS 10.0
0TYPE:          TOOL
 KEYPHRASE:     Dynamic Trace (On/Off)
0ENVIRONMENT:   Any MVS System
0PROBLEM:       System Trace overhead
0SOLUTION:      Utilization of this tool will allow the system
                trace to be turned on and off dynamically.
0BENEFIT:       Use of this program will allow an installation to
                reduce the system overhead incurred by running
                trace continually.
0SOURCE:        SHARE MVS PROJECT MODS TAPE
0TUNING TOOLS 11.0
0TYPE:          TOOL
 REFERENCES:    SB21-1910-0
 KEYPHRASE:     GENERALIZED DATA AREA MONITOR AND DISPLAY PROGRAM
0ENVIRONMENT:   OS, VS1, SVS, MVS
0PROBLEM:       Lack of available information concerning status of
                the system.
0SOLUTION:      Utilization of tool to display information about
                internal MVS system operation.
0BENEFIT:       May be utilized to sample and report on any area
                of storage that may be accessed. The generalized
                data area monitor and display program is unique
                among performance tools because it makes no
                assumptions on which system data areas should be
                monitored.
0SOURCE:        IBM FDP (5798 - CKK)
0TUNING TOOLS 12.0
0TYPE:          TOOL
 REFERENCES:    GC28-0674/ZZ05-0021
 KEYPHRASE:     GTF
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
0SOLUTION:      GTF is capable of collecting a vast quantity of
                event oriented information, including:
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
                1.  SIOS against devices.
                2.  I/O interrupt details.
                3.  Recovery routines activity.
                4.  SVC usage.
                5.  SRM activity (SYSEVENTS).
                6.  VTAM remote network activity.
                7.  ENQ/DEQ activity.
                8.  LINK, LOAD, XCTL, ATTACH activity.
                9.  User events.
                10.  Program and external interrupts.
0BENEFIT:       A deeper insight into the operation of MVS.
0WARNING:       GTF data collection can impose a significant
                overhead upon the system. A degradation of 30
                percent in throughput due to GTF collecting
                comprehensive data has been noted.
0SOURCE:        GTF is an integral part of MVS.
0TUNING TOOLS 13.0
-TYPE:          TOOL
 RELEASE:       MVS
 KEYPHRASE:     GTF DASD SEEK ANALYSIS (TSGTFMAP)
0REQUIREMENTS:  Batch region = 512K, needs GTF data
0ENVIRONMENT:   MVS
0PROBLEM:       Obtaining information on: DASD seek contention,
                string contention, and job/DASD contention.
0SOLUTION:      Display the following:
0               1.  By string/device/job.
                    a.  SIOS by condition code
                    b.  Maximum and average I/O time
                    c.  Maximum and average defer time
                    d.  Average seek in cylinders
                2.  From and to seek matrix.
                3.  Selected job interference display.
0BENEFIT:       Balance DASD across control units.
                Job contention reduction.
                Data set placement.
0WARNING:       Some installation dependent constants are in the code.
0SOURCE:        SHARE MVS PROJECT MODS TAPE
0TUNING TOOLS 14.0
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 TYPE:          TOOL
 REFERENCES:    SN20-6454/SB21-1808-1
 KEYPHRASE:     GTF DATA ANALYSIS PROGRAM
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
 SOLUTION:      This package possesses the ability to output a
                maximum of 23 reports based upon GTF input.
                Reports are created as follows:
                1.  Short listing of all GTF records.
                2.  Record summary by job.
                3.  I/O count by DDNAME within job
                    (DDNAME not available).
                4.  SVC count by job.
                5.  I/O count by device within job.
                6.  SIO count by device within job.
                7.  External interrupt count by job.
                8.  Dispatcher activity by job.
                9.  Page fault report by page within job.
                10. Program interrupts by job.
                11. PCI usage by device within job.
                12. Unknown GTF records by job.
                13. DDNAME activity by device
                    (DDNAME not available).
                14. Device activity by DDNAME
                    (DDNAME not available).
                15. Module activity by job.
                16. Job activity by module.
                17. SIO analysis by job within device.
                18. I/O CSW analysis by job  within device.
                19. GETMAIN/FREEMAIN length analysis by job.
                20. SRM summary.
                21. Recovery routine list.
                22. DASD seek and arm movement analysis by device.
                23. SRM summary by address space.
0BENEFIT:       Deeper insight into the operation of the system.
                Primarily for resource usage and tracking.
0WARNING:       Utilization of GTF may seriously degrade system
                performance.
0SOURCE:        IBM FDP (5798-CHT)
0TUNING TOOLS 15.0
0TYPE:          TOOL
 REFERENCES:    SB21-1654-0/SN20-6461
0KEYPHRASE:     GTF DIRECT ACCESS CONTENTION ANALYZER
0ENVIRONMENT:   Any MVS system
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 PROBLEM:       Performance impact of operating in a shared DASD
                environment.
0SOLUTION:      Provides a statistical tool for evaluating the
                interference resulting from accessing DASD shared
                between two or more CPUS. Also provides
                statistical information for evaluating the
                interference resulting from sharing a control unit
                between two or more DASD devices.
0BENEFIT:       Identify bottleneck control units and volumes so
                that corrective action may be taken.
0WARNING:       Utilization of GTF may seriously degrade system
                performance.
0SOURCE:        IBM FDP (5798-CEZ)
0TUNING TOOLS 16.0
0TYPE:          TOOL
 REFERENCES:    SH20-1815-0/LY20-2240-0
 KEYPHRASE:     GTF I/O CONCURRENCY REPORT
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance/IO interference causing degradation.
0SOLUTION:      GTFIOCUR displays the concurrency that exists
                between devices, control units, or channels within
                the system and the overlap that exists between
                devices in the system. This will aid the user in
                identifying device contention, thereby aiding him
                in balancing I/O loads, increasing the capacity of
                the I/O system, improving response time, and
                increasing throughput.
0BENEFIT:       Determine optimal placement of devices on control
                units and channels in order to minimize I/O
                interface.
0WARNING:       Utilization of GTF may seriously degrade system
                performance.
0SOURCE:        IBM FDP (5796-PGD)
0TUNING TOOLS 17.0
0TYPE:          TOOL
 REFERENCES:    SH20-1816-0
 KEYPHRASE:     GTF SUPERVISOR SERVICES ANALYZER
0REQUIREMENTS:  MVS
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance/excessive utilization of supervisor
                services.
0SOLUTION:      Extracts and summarizes the number and types of
                SVCS recorded by GTF. The objective is to allow
                the user to pinpoint, with several degrees of
                resolution, those jobs and programs which are the
                heaviest users of supervisor services within the
                system.
0BENEFIT:       Reduce utilization of supervisor services.
0WARNING:       Utilization of GTF may seriously degrade system
                performance.
0SOURCE:        IBM FDP (5796-PGE)
0TUNING TOOLS 18.0
0TYPE:          TOOL
 REFERENCES:    SH20-1881/LY20-2270
 KEYPHRASE:     JMF (JES3 Monitoring Facility)
0ENVIRONMENT:   Any MVS system running JES3
 PROBLEM:       Performance in a JES3 user with information on the
                activities and resource utilization of JES3. JMF
                reports provide information on the following areas
                of JES3:
                1.  CPU utilization.
                2.  Paging and allocated page frames.
                3.  Subtask utilization.
                4.  Function activity and summary.
                5.  Spool activity and I/O chaining.
                6.  Buffer utilization.
                7.  Job analysis - time spent in each function.
                8.  Job execution summary.
                9.  JES3 device allocation activity.
                10. Module utilization.
                11. Function queue statistics.
0BENEFIT:       Information can be used to evaluate the
                performance of an existing MVS/JES3 and to
                understand the impact of particular JES3 functions
                on the entire system. Used on a regular basis, JMF
                can assist in identifying changes in the JES3
                environment which affect overall JES3 performance.
                Such information may also be useful in planning
                for future growth of the system.
0SOURCE:        IBM FDP (5796-PHR)
-
-                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 TUNING TOOLS 19.0
0TYPE:          TOOL
 REFERENCES:    SB21-1814-1/LB21-1815-0
 KEYPHRASE:     MF/1 POST ANALYZER
0REQUIREMENTS:  MVS
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Consolidation of MF/1 or RMF data
0SOLUTION:      Consists of two programs, the first of which will
                generate, from SMF records, the standard MF/1
                report. The second program will summarize and
                condense MF/1 or RMF data on an interval basis
                using SMF data. The output is a series of summary
                reports and histograms.
0BENEFITS:      Supplies RMF or MF/1 data in a more usable format.
0WARNING:       Minor changes, as described in the distributed
                material, are required in order for this package
                to function with RMF data.
0SOURCE:        IBM FDP (5798-CHX)
-
-
-
-
-
-
-
-
-
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 TUNING TOOLS 20.0
0TYPE:          TOOL
 REFERENCES:    GC28-0755-0
 KEYPHRASE:     MF/1 System activity Measurement Facility
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
0SOLUTION:      MF/1 permits the gathering of information on the
                following classes of system activity:
                1.  CPU activity.
                2.  Channel activity and channel-CPU overlap
                    activity.
                3.  I/O device activity and contention.
                4.  Paging activity.
                5.  Workload activity.
0BENEFIT:       Better performance and a deeper insight into the
                overall operation of the system.
0WARNING:       No noticeable degradation should occur while
                sampling every .999 seconds. However, sampling
                more frequently could significantly degrade system
                performance, especially in the device measurements
                area.
0SOURCE:        MF/1 is generated as a part of MVS, but its
                utilization is completely optional.
0TUNING TOOLS 21.0
0TYPE:          TOOL
 RELEASE:       Version 1 modification level 2
 REFERENCES:    ZZ20-2666-1
 KEYPHRASE:     MVSPT (Multiple Virtual Storage Performance Tool)
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
0SOLUTION:      MVSPT produces a series of reports in the
                following format:
                1.  CPU report.
                    a.  CPU utilization (by processor)
                    b.  CPU queue length
                    c.  Overlap (MP only)
                2.  Channel report.
                    a.  Physical channel BUSY, BUSY and CPU wait,
                        average service time, SIO counts
                    b.  Logical channel BUSY, partial BUSY,
                        request started and percent queued
                3.  Device report.
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                    a.  BUSY, control unit queue, 2314 SEEK
                    b.  Wait on UNIT/PATH, reserved, mount pending
                    c.  Average service time, SIO counts
                    d.  Request queue distribution
                4.  Main storage report.
                    a.  Main storage distribution
                    b.  CPU time by ASID
                    c.  Swap out time
                5.  System data set report.
                    a.  BUSY, BUSY and CPU wait
                    b.  Wait on PATH/UNIT/DATA set
                    c.  Queued requests
                6.  Paging report, which is a duplication of  MF/1
                    reports.
                7.  SRM queue reports, queue distribution in, out,
                    and wait.
0BENEFIT:       Better performance and a deeper insight into the
                internal operation of MVS
0SOURCE:        This is an IBM aid and is available for use under
                the Marketing Usage Guidelines for IBM aid
                programs.
0TUNING TOOLS 22.0
0TYPE:          TOOL
 RELEASE:       MVS 3.7 with SU5 and SU7
 REFERENCES:    OMEGAMON USERS GUIDE
 KEYPHRASE:     OMEGAMON
0REQUIREMENTS:  Local 3270 dedicated CRT and/or a  local 3270
                under TSO.
                REGION=40K
0PROBLEM:       Obtaining real-time information about the MVS
                operating system.
0SOLUTION:      May measure the following:
                1.  Status of MVS, batch jobs.
                2.  TSO sessions.
                3.  I/O devices.
                4.  Channels.
                5.  Real storage.
                6.  Paging and swapping.
                7.  Paging and swapping data sets.
                8.  SRM information.
                9.  Exception reporting.
                10. COBOL programs.
0BENEFIT:       Real time monitoring of an MVS system tracking the
                system and finding bottle necks before they occur
                and become too serious.
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 SOURCE:        CANDLE SERVICE CORPORATION
0TUNING TOOLS 23.0
0TYPE:          TOOL
 RELEASE:       Version 3.0
 REFERENCES:    PPE REFERENCE GUIDE
 KEYPHRASE:     PPE ANALYZER (Problem Program Evaluator)
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance of user programs
0SOLUTION:      The PPE analyzer produces a series of reports
                capable of describing program behavior according
                to a variety of variables, such as CPU time by
                instruction address, wait time, paging activity,
                etc.
0BENEFIT:       Allows the user to effectively concentrate
                optimization efforts in those program areas which
                are most likely to yield thhe most significant
                improvement.
0SOURCE:        BOOLE AND BABBAGE, INC
                850Stewart Drive
                Sunnyvale, CA  94086
0TUNING TOOLS 24.0
0TYPE:          TOOL
 REFERENCES:    PSW Packer Documentation File
 KEYPHRASE:     PSW Packer
0REQUIREMENTS:  MVS and PL/1 Optimizing Compiler
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Excessive PLPA paging
0SOLUTION:      Monitor PLPA paging and generate a pack List.
0BENEFIT:       Reduction of PLPA Paging
0WARNING:       Running the PSW sampler will incur a small amount
                of system overhead.
0SOURCE:        SHARE MVS PROJECT MODS TAPE
0TUNING TOOLS 25.0
0TYPE:          TOOL
 KEYPHRASE:     QCB trace
 REQUIREMENTS:  TSO terminal and/or operator console
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
 ENVIRONMENT:   Any MVS system
0PROBLEM:       Enqueue lockout
0SOLUTION:      Use of the QCB trace displays the enqueue chain
0BENEFIT:       Operator will be able to see what resources are
                enqueued by which jobs
0WARNING:       The trace does not go down the enqueue chain
                disabled, so the chain may change.
0SOURCE:        SHARE MVS PROJECT MODS TAPE
0TUNING TOOLS 26.0
0TYPE:          TOOL
 REFERENCES:    RESOLVE REFERENCE MANUAL
 KEYPHRASE:     RESOLVE
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Lack of sufficient display commands under MVS.
0SOLUTION:      Utilization of RESOLVE by operational staff.
                Utilization of RESOLVE by systems personnel by
                means of a TSO terminal.
0BENEFIT:       Possesses the following display commands:
                1.  ASM data.
                2.  MCS console status.
                3.  CPU usage by job.
                4.  CSA.
                5.  Data set attributes.
                6.  Memory.
                7.  Enqueue conflicts.
                8.  Outstanding I/O requests.
                9.  Ownership of system locks.
                10. Paging rates.
                11. Outstanding reserves.
                12. RSM data.
                13. Available DASD space on a volume.
                14. SRM data.
                15. Job status.
                16. UCB.
                17. Units utilized by a job.
0               May also be utilized to alter memory, unload
                permanently resident DASD, submit jobs, alter swap
                status, change dispatching priority, exit a job,
                de-allocate devices, and execute commands from a
                TSO terminal.
0WARNING:       Execution of certain display commands from a TSO
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                terminal will not obtain the requested display.
0SOURCE:        BOOLE AND BABBAGE, INC
                850 Stewart Drive
                Sunnyvale, CA  94086
0TUNING TOOLS 27.0
0TYPE:          TOOL
 REFERENCES:    SC28-0740-1
 KEYPHRASE:     RMF (Resource Measurement Facility), Release 2
0ENVIRONMENT:   OS/VS2 release 3.7 with SU5 and SU7
0PROBLEM:       Performance/MF1 tuning tool supplied with MVS
                lacks information desirable for tuning system.
0SOLUTION:      Use RMF to supply information produced by MF/1
                plus data and display enhancements.
0BENEFIT:       Enhancements include page data set analysis, swap
                data set analysis, greater detail in paging and
                workload activity reports, enqueue reports and
                logical channel activity reports. Workload
                activity service units are divided into IOC, CPU,
                and MSO. Post processor to analyze RMF's SMF data
                is included with this program product. Real time
                display data is available with or without TSO.
0WARNING:       With options selected to produce all available
                reports, no noticeable degradation occurred on a
                4MEG 168 while sampling every .999 seconds.
                However, sampling more frequently could
                significantly degrade system performance,
                especially in the device measurements area.
                Significant overhead may be realized through
                indiscriminate usage of the trace facility. Trace
                records may approach 32K in size, potentially a
                problem for user programs analyzing SMF data.
0SOURCE:        IBM PROGRAM PRODUCT (5740-XY4)
0TUNING TOOLS 28.0
0TYPE:          TOOL
 KEYPHRASE:     RMF POST PROCESSOR (CARRIER)
0REQUIREMENTS:  RMF
0ENVIRONMENT:   Any MVS System
0PROBLEM:       Consolidation of RMF measurement data.
0SOLUTION:      A data reduction program which produces RMF data
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                for the following information on a shift summary:
0               1.  CPU utilization
                2.  Total paging rate
                3.  Demand paging rate
                4.  Page fault rate
                5.  Total fixed pages
                6.  Number of pageable system pages
                7.  Number of pageable private pages
                8.  Total service units
                9.  Number of ended tansactions
                10. Average transaction time
                11. Channel ativity
                12. Worse 6 DASD devices for queue lengths
0BENEFIT:       A more meaningful presentation of data collected.
0SOURCE:        SHARE MVS PROJECT MODS TAPE
0TUNING TOOLS 29.0
0TYPE:          TOOL
 KEYPHRASE:     RMF Post Processor (CBT)
0REQUIREMENTS:  RMF
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Consolidation of RMF measurement data
0SOLUTION:      A data reduction proram which produces summary
                reports:
0               1.  Channels
                2.  Performance groups
                3.  Devices
                4.  CPU
                5.  Page frame utilization
                6.  Swap paging and page faults
                7.  Swap counts
                8.  Trace data
                9.  Page reclaims
                10. Address space paging
                11. Common area paging
0BENEFIT:       A more meaningful presentation of data collected.
0SOURCE:        SHARE MVS PROJECT MODS TAPE
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
 TUNING TOOLS 30.0
0TYPE:          TOOL
 KEYPHRASE:     RSMON (Real Storage Monitor Program for MVS)
0ENVIRONMENT:   MVS 3.7
0PROBLEM:       Performance
0SOLUTION:      RSMON is an MVS software monitor, especially
                suited for measuring real storage utilization, and
                related phenomena. This product can be run
                on-line, using a dedicated BTAM terminal or IMS
                terminal or IN BATCH mode. In any mode, a log tape
                can be written which may be post analyzed to
                produce various reports, with time selection
                criteria, making RSMON quite flexible. There are 8
                major reports available from RSMON:
0               1.  Real storage frame usage, describing use of
                    real memory.
                2.  Real storage frame allocation by address
                    space, giving a graphical representation of
                    type of memory frames used.
                3.  Paging rate report, divided into components
                    such as VIO, system user, and swap.
                4.  Auxiliary storage manager report, describing
                    allocation of page storage, and paging
                    activity.
                5.  Address space summary, status of all address
                    spaces in system.
                6.  SRM, CPU, and channel utilization.
                7.  Storage map report, displays contents of real
                    storage frames.
                8.  Storage residency report, measures real or
                    virtual storage residency for an address
                    space.
0BENEFIT:       Better performance and a deeper insight into the
                internal operation of MVS.
0SOURCE:        IBM PRODUCT (5788-CAF)
                This is a Canadian 'Country Implemented Program'
                and may not be available within the United States.
0TUNING TOOLS 31.0
0TYPE:          TOOL
 RELEASE:       Version 2 if supervisor II SU installed. Otherwise
                use version 1.
 REFERENCES:    SH20-1813-1
 KEYPHRASE:     SIR (Subsystem Information Routine)
0ENVIRONMENT:   Any MVS system
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
 PROBLEM:       Performance/lack of available information
                concerning status of the system.
0SOLUTION:      Utilization of SIR to display information about
                internal MVS system operation.
0BENEFIT:       May be utilized to track page frame allocations,
                OUCBS, paging and reclaim rates on a system and
                job level, workload manager statistics and swap
                reason codes on a job level. Also has an ENQ
                contention report. A TSO version is also provided
                which gives many of the above mentioned job
                oriented statistics on a real time basis.
0WARNING:       In order to reduce overhead, SIR does not acquire
                many of the conventional locks and, as a result,
                OC4's are not uncommon in certain environments.
                This has been essentially replaced by the RMFMON
                facilities of RMF Version II.
0SOURCE:        IBM IUP (5796-PGB)
0TUNING TOOLS 32.0
0TYPE:          TOOL
 REFERENCES:    SH20-1814-0
 KEYPHRASE:     SEEK ANALYSIS PROGRAM
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance degradation as a result of excessive
                head movement.
0SOLUTION:      Provides seek analysis histogram as well as an I/O
                activity report by device address and condition
                code. Three other reports produced are an SVC
                usage report, a module usage report, and a module
                affinity report.
0BENEFIT:       May be utilized to determine optimal placement of
                data sets in order to reduce head movement
                activity.
0WARNING:       Utilization of GTF may seriously degrade system
                performance.
0SOURCE:        IBM IUP (5796-PJC)
0TUNING TOOLS 33.0
0TYPE:          TOOL
 RELEASE:       76.6
 REFERENCES:    A USERS GUIDE TO SAS 76
 KEYPHRASE:     SAS (Statistical Analysis System)
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
 ENVIRONMENT:   Any MVS system
0PROBLEM:       Consolidation of measurement data
0SOLUTION:      Data reduction programs which produce graphs and
                statistical information, SAS allows one to read
                and save any byte or bytes in a record. This data
                may then be passed to SAS subroutines that produce
                the graphs or statistical information. The
                language is fairly easy to learn and use. Examples
                of using SAS for the analysis of SMF data,
                including RMF, may be found on the SHARE MVS
                PROJECT MODS TAPE or the Connecticut Bank Mods
                tape.
0BENEFIT:       A more meaningful presentation of data collected
0SOURCE:        SAS INSTITUTE, INCORPORATED
                P. O. Box 10622
                Raleigh, North Carolina  27605
0TUNING TOOLS 34.0
0TYPE:          TOOL
 KEYPHRASE:     SUBMAN
0REQUIREMENTS:  MVS with a 3270 with or without TSO
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
0SOLUTION:      Will monitor various system components:
                1.  Monitor jobs running.
                2.  Monitor various system statistics.
                3.  Monitor system enqueues.
0BENEFIT:       Greater insight into system operation
 WARNING:       The offsets of the OUCB fields may not have been
                updated for the Supervisor SU's.
0SOURCE:        SHARE MVS PROJECT MODS TAPE
0TUNING TOOLS 35.0
0TYPE:          TOOL
 KEYPHRASE:     TIOS (TSO Terminal Input/Output Simulator)
0REQUIREMENTS:  One offline UCB per simulated line (no
                communication hardware required).
0ENVIRONMENT:   Any 360 /370 TSO (MVT, SVS, MVS)
0PROBLEM:       TSO stress and performance testing is difficult
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                and costly using real terminals.
0SOLUTION:      TIOS runs on host CPU and drives TCAM as though
                real terminals were present.
0BENEFIT:       Controlled TSO test and benchmark environment
                without the requirement for communications
                hardware.
0WARNINGS:      2-5% CPU overhead 20K +0.9K per simulated line
                fixed memory overhead.
0SOURCE:        This item is a BCS product.
0TUNING TOOLS 36.0
0TYPE:          TOOL
 KEYPHRASE:     TSO/MON
0ENVIRONMENT:   Any MVS system with TSO
0PROBLEM:       TSO control and monitoring
0SOLUTION:      Provides TSO management control, utilization and
                performance information at the system and user
                level.
0BENEFIT:       Better TSO performance and control
0SOURCE:        MORINO ASSOCIATES, INC
                This item is a MORINO ASSOCIATES chargeable
                product.
0TUNING TOOLS 37.0
0TYPE:          TOOL
 RELEASE:       Version 2.0
 REFERENCES:    TSA REFERENCE GUIDE
 KEYPHRASE:     TSA (Total System Analyzer)
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance
0SOLUTION:      TSA is a software monitor designed to collect CPU
                user data. TSA reports on the total CPU usage by
                SVC modules, system task modules, and problem
                program modules. The overall CPU usage can be
                broken down in finer detail by specific module and
                further by the calling job name to accurately
                portray not only how the CPU usage was distributed
                throughout the system but also which jobs were
                using modules of particular interest. Histogram
                reports for modules of special interest can be
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
                obtained to identify the specific instruction
                locations of high CPU activity. Time oriented
                plots of CPU usage can be obtained by module or by
                the entire system to identify patterns in system
                behavior or to analyze specific time intervals
                when bottlenecks occur. TSA may also be utilized
                to create data for the PPE analyzer.
0BENEFIT:       Provides the user with necessary data to eliminate
                module bottlenecks, optimize high CPU usage areas
                in programs, reduce total CPU usage, and decrease
                TP system response time.
0SOURCE:        BOOLE AND BABBAGE, INC
                850 Stewart Drive
                Sunnyvale, CA  94086
0TUNING TOOLS 38.0
0TYPE:          TOOL
 REFERENCES:    MVS-System Information Routines SH20-1813
 KEYPHRASE:     MVS
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance, Capacity planning
0SOLUTION:      SIR was designed to supplement the data provided
                by MF/1. MF/1 provides system wide information of a
                general natur. SIR is intended to supplement this
                general information with information about
                specific memories (jobs, started tasks, or logged-on
                TSO users). SIR provides breakdowns in other areas
                including:
0               o Service units delivered
                o Memory Allocation
                o Memory swap status
                o CPU usage by memory
                o Resource usage by memory.
0BENEFIT:       SIR is most usefull in understanding the SRM.
0SOURCE:        IBM FDP (5796 - P6B)
0TUNING TOOLS 39.0
0TYPE:          TOOL
 REFERENCES:    SIMON Use Guide
 KEYPHRASE:     SIMON
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance,Capacity planning
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools
1
 SOLUTION:      Simon is a Data collection and reporting package.
                It provides information on global computer system
                components resource utilization(CPU,channels and
                memory).
                Highlights of simon are:
0               o low overhead(less than 1.5%)
                o statistical accuracy
                o no mods to scp
                o easy to read
                o paging/swapping statistics
0BENEFIT:       Provides the user with data for performance and
                capacity planning analysis.
0SOURCE:        Bell Telephone Labs
0TUNING TOOLS 40.0
0TYPE:          TOOL
 REFERENCES:    QCM Users Guide
 KEYPHRASE:     QCM
0ENVIRONMENT:   Any MVS system
0PROBLEM:       Performance, capacity planning ,accounting
0SOLUTION:      QCM is an event driven continuous software monitor.
                Data is logged into the SMF datasets. QCM times events
                and accurately associates all work performed for a
                particular task and records it.
0BENEFIT:       Provides the user with continuous measurement data.
0SOURCE:        Duquene Systems, INC.
                Allegheny Center
                Pittsburgh, Pa.
0TUNING TOOLS 41.0
0TYPE:          TOOL
 REFERENCES:    Control/IMS Product Description
 KEYPHRASE:     Control/IMS
0ENVIRONMENT:   MVS system  with IMS.
0PROBLEM:       Performance, capacity planning
0SOLUTION:      Control/IMS provides performance evaluation, planning
                and forcasting information about IMS.
0BENEFIT:       Provides the user with information about individual IMS
                applications.
-
0                 SHARE MVS Tuning Report IV Nov 1979   Tools
1
 SOURCE:        BOOLE AND BABBAGE, INC
                850 Stewart Drive
                Sunnyvale, CA  94086
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
                  SHARE MVS Tuning Report IV Nov 1979   Tools

@VER@*******************************************************************
*
*       S H A R E   J E S 2   M O D S   T A P E   ( S P   V E R S I O N
*
************************************************************************

          VERSION 14 -  15 SEP 1983

@AVAILABILITY@**********************************************************
*
*                       A V A I L A B I L I T Y
*
************************************************************************

There are currently two versions of the JES2 project user mods tape.
The original version that was started by Steve Anderson is now available
ONLY through the SHARE Program Library Agency as program number 370D-05.
The JES2 project has started a new mods tape which will contain modifica
applicable to the SP version of JES2.  The SP related files from the old
were used as a base to start this new one.

For a copy of the SP version of the JES2 project mods tape send a 2400 f
reel AND a RETURN ADDRESS LABEL to:
     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

Include a check (no purchase orders, please) payable to
     THE NORTHEAST REGIONAL DATA CENTER
for the amount shown below:

     UNITED STATES AND CANADA   $5.00
     EVERYWHERE ELSE           $20.00

If shipping from outside the United States of America, please
ship by mail and put the proper custom declaration tags on.
Indicate 1 reel of magnetic tape with no commercial value.

Please submit the following information for including mods on the
tape or to request a copy of the tape if you have no mods to add.
You do not have to be a SHARE installation to get the tape.

SHARE INSTALLATION CODE          __________
INSTALLATION CONTACT ______________________   PHONE _______________
MAILING ADDRESS      ______________________
                     ______________________
                     ______________________
                     ______________________
TAPE DENSITY         __________              (9 TRACK 800/1600/6250)
NUMBER OF FILES      __________

If you are including mods, please be sure to include an abstract file
on the tape.

@DISCLAIMER@************************************************************
*
*                       D I S C L A I M E R
*
************************************************************************

     THE MODS ON THIS TAPE HAVE BEEN USED SUCCESSFULLY AND TO THE
     BEST OF OUR KNOWLEDGE ARE OPERATIONAL.  HOWEVER, NO WARRENTY
     IS MADE TO THE ACCURACY OF THE PROGRAMS OR RELATED MATERIALS.
     NO RESPONSIBILITY IS ASSUMED FOR ANY MODIFICATION DIRECTLY OR
     INDIRECTLY CAUSED BY THESE MODS.  IT IS THE RESPONSIBILITY OF
     THE USERS TO EVALUATE THE USEFULNESS AND APPLICABILITY OF ANY
     MODS IN THEIR INSTALLATION.

     WE DO NOT GUARANTEE TO KEEP ANY MATERIAL PROVIDED UP TO DATE
     NOR DO WE GUARANTEE TO PROVIDE ANY CORRECTIONS OR EXTENSIONS
     BY THE AUTHOR OR THE USERS IN THE FUTURE.

@TOC@*******************************************************************
*
*         T A B L E   O F   C O N T E N T S
*
************************************************************************

  FILE NUMBER   FILE CONTENTS                              LAST UPDATE
  -----------   ---------------------------------------    -----------
       1        DETAILED DESCRIPTIONS OF FILE CONTENTS       CURRENT
       2        JCL TO RELOAD TAPE TO DISK                   CURRENT
       3        NIH - JES2 MERGE DOCUMENTATION             01/79   V01
       4        NIH - JES2 MERGE PROGRAM                   01/79   V01
       5        ONL SPOOL ACCESS ROUTINES & JES2 MODS      04/83   V11
       6        TRIANGLE UNIVERSITIES - JESDUMP            10/81   V01
       7        TRIANGLE UNIVERSITIES - EXIT005            04/82   V01
       8        TRIANGLE UNIVERSITIES - USER PROCLIBS      04/82   V01
       9        LOCKHEED JESMODS                           03/83   V10
      10-12     MELLON BANK JESMODS                        09/82   V07
      13        MELLON BANK MODS TO HJSTP FOR SP2          01/83   V09
      14        NERDC QUEUE COMMAND                        09/83   V14
      15        NERDC RMT360 WORKSTATION PACKAGE           05/82   V01
      16        NERDC JESMODS                              04/83   V11
      17        AIRFORCE JESMODS                           04/83   V11
      18        ONL REMOTE 360 WORKSTATION MODS            06/82   V03
      19        ONL RMTGEN SUPPORT FOR WORKSTATION MODS    06/82   V03
      20-21     NULL                                       03/83   V10
      22        E. F. MACDONALD EXIT005                    09/82   V05
      23        ABSTRACT FROM OLD JES2 MODS TAPE           02/82   V05
      24        JES2 PERFORMANCE MONITOR                   09/82   V06
      25        HITACHI XREFASM PROGRAM                    10/82   V08
      26        US CHAMBER OF COMMERCE MODS                03/83   V10
      27        COPENHAGEN HANDELSBANK SNA 3287 MODS       04/83   V11
      28        TRIANGLE UNIVERSITIES - NETWORK JOB HEADER 05/83   V12
      29        HALLMARK CARDS - TSO LOGON TO SECONDARY    05/83   V12
      30        NORTHWESTERN BANK MODS                     08/83   V13
      31        MELLON BANK JESMODS FOR SP 1.3.3   (1.3.3) 09/83   V14
      32        NERDC QUEUE COMMAND FOR SP 1.3.3   (1.3.3) 09/83   V14

@HISTORY@***************************************************************
*
*         V E R S I O N   H I S T O R Y
*
************************************************************************

V-014   15 SEP 83  - ADDITION OF FILE 31 (MELLON MODS FOR 1.3.3).
                   - UPDATES TO NERDC QUEUE COMMAND.
V-013   15 AUG 83  - ADDITION OF FILE 30 (NORTHWESTERN BANK MODS).
V-012   24 MAY 83  - ADDITION OF TUCC NETWORK JOB HEADER MODS.
                   - ADDITION OF HALLMARK MODS TO ALLOW TSO LOGON TO SEC
V-011   28 APR 83  - UPDATE TO ONL MODS.
                   - ADDITION OF COPENHAGEN HANDELSBANK SNA 3287 SUPPORT
                   - UPDATES TO AIRFORCE MODS.
                   - UPDATES TO NERDC QUEUE COMMAND.
                   - UPDATES TO NERDC JESMODS.
V-010   17 MAR 83  - UPDATE TO LOCKHEED MODS.
                   - ADD US CHAMBER OF COMMERCE MODS.
                   - US SENATE MODS REMOVED AT THEIR REQUEST.
V-009   24 JAN 83  - UPDATE TO MELLON HJSTP MODS TO FIX SOME ERRORS. (FR
                   - UPDATE TO NERDC QUEUE COMMAND.
V-008   17 OCT 82  - UPDATE TO LOCKHEED MODS TO FIX AN ERROR IN DYNALLOC
                   - UPDATE TO NERDC QUEUE COMMAND (FILE 14).
                   - UPDATE TO ONL MODS (FILE 5).
                   - ADD FILE 25 HITACHI XREFASM PROGRAM.
V-007   27 SEP 82  - UPDATE TO MELLON BANK SHARED SPOOL MODS (FILES 10-1
                   - UPDATE TO NERDC QUEUE COMMAND (FILE 14).
V-006   15 SEP 82  - ADD FILE 24 JES2 PERFORMANCE MONITOR.
V-005   10 SEP 82  - UPDATE FILE 9 WITH ADDITION OF DYNAMIC PROCLIB
                     ALLOCATION AND MULTIPLE PSO PCE SUPPORT.
                   - UPDATES TO FILE 16.
                   - ADD FILES 20 & 21 SENATE JOB SCHEDULER.
                   - ADD FILE 22 E. F. MACDONALD EXIT005.
                   - ADD ABSTRACT FILE FROM OLD JES2 TAPE THAT IS ONLY
                     AVAILABLE FROM SPLA.
V-004   16 AUG 82  - UPDATED NERDC QUEUE.
V-003   03 JUL 82  - UPDATE ONL FILES.
V-002   07 JUN 82  - ADD AIRFORCE MODS.
V-001   17 MAY 82  - INITIAL SP MODS TAPE.

@FILE001@***************************************************************
*
*         F I L E   1   S H A R E   J E S 2   M O D S   A B S T R A C T
*
************************************************************************

THIS FILE CONTAINS THE DESCRIPTION OF THE SHARE JES2 MODS TAPE THAT
YOU ARE READING. IT WAS CREATED WITH THE FOLLOWING DCB ATTRIBUTES:
    RECFM FB   LRECL 80   BLKSIZE 32720

@FILE002@***************************************************************
*
*         F I L E   2   S H A R E   J E S 2   M O D S   T A P E   J C L
*
************************************************************************

THIS FILE CONTAINS JCL TO RESTORE THE SHARE JES2 MODS TAPE TO DISK.
THE FILE WAS CREATED WITH THE FOLLOWING DCB ATTRIBUTES:
    RECFM FB   LRECL 80   BLKSIZE 32720

TO FIND THE DCB ATTRIBUTES OF ANY FILE ON THIS TAPE, LOOK AT THE JCL
IN THIS FILE TO RESTORE THAT FILE.

@FILE003@***************************************************************
*
*         F I L E   3   N I H   M E R G E   P R O S E
*
************************************************************************

THIS FILE DESCRIBES THE HASP MERGE PROGRAM SUPPLIED BY NIH.
THE SOURCE IS ON THE NEXT FILE. LAST FILE UPDATE JANUARY 1979.
THIS AND THE FOLLOWING FILE WERE COPIED FROM VERSION 24 OF THE OLD
JES2 MODS TAPE.

HASP MERGE IS A UTILITY PROGRAM DEVELOPED AT NIH TO MERGE PTFS AND USER
MODS WITH AN UNDISTURBED SOURCE BASE TO CREATE A TEMPORARY SOURCE LIB
FOR TEST ASSEMBLIES. THERE ARE 235 LINES OF TEXT IN THIS FILE.

@FILE004@***************************************************************
*
*         F I L E   4     N I H   M E R G E   S O U R C E
*
************************************************************************

THE FOLLOWING PROGRAM WAS SUPPLIED BY NIH. THIS FILE CONTAINS 1248
SOURCE CARDS. LAST FILE UPDATE - JAN. 1979.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   ROGER FAJMAN  BLDG 12 ROOM 2235
                   NATIONAL INSTITUTE OF HEALTH
                   BETHESDA, MARYLAND
                               20014

@FILE005@***************************************************************
*
*         F I L E   5     O N L   J E S 2   M O D S
*
************************************************************************

The following is an abstract of the mods supplied by the
Oak Ridge National Laboratory:

SHARE Installation Code = ONL

Installation Contact = Robert M. Jinkins
   (JES2 only)         Oak Ridge National Laboratory
                       Bldg. 4500-N  MS-255
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = System Product V1.3.0

Last Update = April 1983

Distribution Format = IEBCOPY Unloaded PDS
                      PDS: DCB=(RECFM=FB,LRECL=80,BLKSIZE=3600),
                           UNIT=3350,SPACE=(TRK,(120,20,20))
                      Tape: DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)
                            Non-labeled, 6250 BPI.

Mod Format = NIH Hasp Merge Format (Convertible to IEBUPDTE format)

Mod Documentation = Member $$$INDEX (The member you are now reading)

Disclaimer = The authors, make no representation or warranty of any
   kind whatsoever, including, but not limited to, representations
   or warranties, express or implied, or merchantability, fitness for
   use or purpose, accuracy or completeness of processes, procedures,
   designs, definitions, instructions, information, or functioning of
   any programs, documents, or related materials; the authors further
   expressly disclaim any knowledge of purpose for which these programs,
   documents, or related material may be utilized or their applicability
   for such use, nor shall the fact of making them available constitute
   any such representation, warranty, or knowledge; nor do the authors
   assume any liability, responsibility, or obligation arising from the
   use or malfunctioning of these computer programs, documentation, or
   related materials.

Notes = The 'Index of ONL Mods' (see below) is listed in order
   of functional categories rather than alphabetically.  A brief
   abstract of each mod is given along with the name(s) of the
   member(s) in which a mod is located.  The mods are documented
   extensively and may describe functional capabilities omitted
   from this abstract.

   The member names of the JES2 mods are in the following formats:

     ONL$xxxx  Where 'xxxx' is the mod identifier.  Members with names
               in this format contain a brief abstract of the mod, NIH
               HASP Merge (IEBUPDTE like) control statements, and if the
               mod is not entirely in exits, assembler language code
               with sequence numbers dependent on the IBM JES2 source.
               In general, the member contains only a few assembler
               statements if any.  Some of these statements may invoke a
               macro called ONL$xxxx (where 'xxxx' is the mod ID).
               Note: Member names in this format must be edited as
                     non-line-numbered' data sets.

     $xxxxMAC  Where 'xxxx' is the mod identifier.  Members with
               names in this format contain an NIH HASP Merge 'ADD'
               control statement followed by the macro definition
               of the ONL$xxxx macro (where 'xxxx' is the mod ID).
               These members usually contain extensive documentaion
               and assembler code which may be generated in various
               JES2 modules under control of a macro operand.
               Note: Members in this format should be edited as
                     line numbered data sets.  The line numbers are
                     not dependent on the JES2 source.  However, if
                     you install an ONL mod which names another ONL
                     mod as a prerequisite, it may contain updates
                     dependent on the line numbers of the prerequisite
                     ONL mod.


     J2X$xxxx  Where 'xxxx' is the mod identifier.  Members with
               names in this format contain an NIH HASP Merge 'ADD'
               control statement followed a JES2 exit module.  These
               members usually contain extensive documentaion about
               the exit module.
               Note: Members in this format should be edited as
                     line numbered data sets.  The line numbers are
                     not dependent on the JES2 source.  However, if
                     you install an ONL mod which names another ONL
                     mod as a prerequisite, it may contain updates
                     dependent on the line numbers of the prerequisite
                     ONL mod.

     DOCxxxxx  Where 'xxxxx' is the document identifier.  Members with
               names in this format may contain general documention
               about ONL mods or operator instructions.  All DOCxxxxx
               members are designed to be printed with 60 lines per
               page (/*JOBPARM LINECT=60).

   Member names with other formats are individually described below.

***********************
*  Index of ONL Mods  *
***********************
                                                             × Member
Description of Mod, Program, or Documentation                × Names
=============================================================#=========
The member you are reading now is called $$$INDEX.           × $$$INDEX
-------------------------------------------------------------+---------
JESSPOOL is a set of subroutines which provide the caller    × JESSPOOL
with easy access to the JES2 Checkpoint and Spool data sets. × JESDATA
Some of the most significant features are listed below:      ×
 - Extensive validity checking is performed and diagnostic   ×
   information is made available to the caller.  A Return    ×
   Code and an Error Information Code provide the primary    ×
   sources of diagnostic information.                        ×
 - The entire Checkpoint data set may be read including the  ×
   Check record, Lock record, Master record, and 4K Queue    ×
   records.  Optionally, the reading of the 4K Queue records ×
   may be restricted to the JIX and JQE Queues.  The Check   ×
   record is always read first and the Master record is read ×
   last to allow detection of Checkpoint updates which may   ×
   have occurred while the Checkpoint was being read. If     ×
   this occurs, the Checkpoint data set will be re-read      ×
   until a valid copy is obtained or a specified number of   ×
   re-reads have been performed.                             ×
 - The JESSPOOL routines can operate with missing spool      ×
   volumes including the primary spool volume.  Normally,    ×
   only the volumes which were in use at the last JES2 Nodal ×
   Warm-Start will be used.  However, at the user's request, ×
   JESSPOOL will attempt to use all spools in existence.  If ×
   this option is chosen, the user may also request that     ×
   Return codes not be set when volumes which were not       ×
   useable at the last JES2 Nodal Warm-Start are still       ×
   unuseable.                                                ×
 - Dynamic Allocation is used; no DD statements are required.×
 - Any Count-Key-Data type direct access device is supported.×
 - If for some reason, a problem developed with the check-   ×
   point or spool volumes and the names of the spool volumes ×
   were CLIPPED, the user could specify the first five       ×
   characters of the renamed spool volumes and use these     ×
   routines as part of a postmortem or recovery program.     ×
 - The JESSPOOOL entry points are:                           ×
     JESSPOOL- Builds the JESDATA area mapped by the JESDATA ×
               macro and is used to communicate between the  ×
               caller and the JESSPOOL entry points.         ×
     JESALOC - Allocates the JES2 Checkpoint and Spool data  ×
               sets and performs the first read of the JES2  ×
               Checkpoint data set.                          ×
     JESFREE - Releases all resources held by the JESSPOOL   ×
               routines.                                     ×
     JESCKPT - Reads the JES2 Checkpoint data set.           ×
     JESREAD - Reads a record from the JES2 Spool.           ×
     JESRJCT - Reads a JCT from the JES2 Spool.              ×
Notes:                                                       ×
   (1) Users with M.A.S. systems please call before using    ×
       the JESSPOOL routines.                                ×
   (2) A value of less than one second for the &MINHOLD JES2 ×
       Initialization Parameter may have an adverse effect   ×
       on JESSPOOL performance when reading the Checkpoint.  ×
-------------------------------------------------------------+---------
The QPURGE program runs as a started task under MVS/JES2.    × QPURGE
It purges jobs from the JES2 Job Queue which have remained   ×
in the system for more than a specified number of days since ×
the job began output processing, or if no output processor   ×
time stamp is available, the number of days since the job    ×
ended execution.  The program can operate in either TEST or  ×
CANCEL mode, the diference being whether or not the jobs are ×
actually purged via subsystem cancel requests.  An audit     ×
trail is provided in the form of WTO messages which give the ×
job number, jobname, and age of the job's output for each    ×
job which is purged.  The program includes numerous validity ×
checks and any problems are brought to the operator's        ×
attention via WTO messages.                                  ×
-------------------------------------------------------------+---------
TICKETS is the front-end of a program which reads the JES2   × TICKETS
Checkpoint and Spool data sets using the JESSPOOL routines,  ×
and generates job setup tickets. No system mods or subsystem ×
interfaces are required.  The tickets program uses its own   ×
checkpoint data set to keep track of which jobs have had     ×
setup tickets produced.  Restart capabilities include job    ×
number ranges, time of day requests, and an automatic warm   ×
start capability.  The TICKETS front-end can also be used to ×
list the JES2 Log, the input JCL, the expanded JCL, and the  ×
system messages for a given job, started task, or TSO user.  ×
The front-end does not format or print job setup tickets;    ×
this is done by the TIFSUB (Tickets Interface SUBroutine) or ×
by routines called from TIFSUB.  The interface consists of   ×
a single entry point which is used to receive a 'Call Code'  ×
which identifies the remainder of the parameter list.  The   ×
TICKETS front-end uses return codes from the TIFSUB to direct×
futher processing. The TIFSUB can be coded in either FORTRAN ×
or assembler. The 'Call Codes' indicate one of the following:×
  Initialization - Called once at the beginning of the run.  ×
  New Job - Called when processing begins for a new job      ×
    setup ticket.                                            ×
  Internal Text - Called once for each internal text record  ×
    for a job.  Spanned records are assembled into a single  ×
    record before calling TIFSUB.  An end-of-file call is    ×
    made after all internal text records for a job have been ×
    processed.                                               ×
  Input JCL - Called once for each input JCL record.  An     ×
    End-of-file call is made after the last JCL record has   ×
    been processed.                                          ×
  End of JOB - Called at the end of processing for a each    ×
    job setup ticket.                                        ×
  End of Run - Called after all job setup tickets for the    ×
    current run have been processed.                         ×
  Abort Job - Called to abort the processing of a job setup  ×
    ticket when an internal text or JCL buffer has an invalid×
    job key, DSID, or is not formatted correctly. Processing ×
    resumes with the next job setup ticket.                  ×
The TIFSUB can request the following via return codes:       ×
  - Continue with normal processing.                         ×
  - Abort the current job setup ticket without comment.      ×
  - Abort the current job setup and flag the job in error.   ×
  - Request that no more calls be made for internal text     ×
    records for the current job setup ticket.                ×
  - Request that no more calls be made for input JCL records ×
    for the current job setup ticket.                        ×
  - Request the TICKETS front-end to take an ABEND Dump.     ×
The TICKETS front-end formats and presents error information ×
returned from the JESSPOOL routines as well as providing a   ×
number of its own diagnostics.                               ×
-------------------------------------------------------------+---------
Two test versions of the TIFSUB routine (see TICKETS above)  × TIFSUBA
are provided; one in assembler and the other in FORTRAN.     × TIFSUBF
-------------------------------------------------------------+---------
The HASP Merge program and its documentation from the        × NIHPROSE
National Institute of Health (NIH) are included since        × HSPMERGE
the ONL JES2 mods are in NIH HASP Merge format.              ×
-------------------------------------------------------------+---------
The $A command has been modified so that jobs awaiting       × ONL$AJHJ
execution may be forced to execute on a specified system     × $AJHJMAC
when released.  A warning message will be issued if a job is ×
released to a system which cannot execute the job because    ×
of a system affinity or resource conflict.                   ×
-------------------------------------------------------------+---------
The $A command has been modified to prevent RJE operators    × ONL$ARJE
from releasing setup jobs awaiting execution.  Jobs in those × $ARJEMAC
classes whose Class Attribute Table (CAT) entry indicates    ×
TYPRUN=HOLD are considered setup jobs.  If a command is      ×
entered from an RJE to release a setup job, the following    ×
message will be issued:                                      ×
     "NOT RELEASED, AWAITING EXEC SETUP"                     ×
-------------------------------------------------------------+---------
Eliminates the punching of blank cards at the end of punched × ONL$BCRD
data sets at selected remotes.                               × $BCRDMAC
-------------------------------------------------------------+---------
Expands the JQE and QSE control blocks.  A cold-start is     × ONL$BLKS
required.  After that, mods which require the additional     ×
space may be installed without futher cold-starts.           ×
-------------------------------------------------------------+---------
The ONL Automatic Job Classing Mod:                          × ONL$CLAS
 - Determine the system resources required for a job by      × $CLASMAC
   examining installation defined accounting parameters and  × J2x$CLAS
   the job's internal text, and based on those resource      ×
   requirements, compute a job class.                        ×
 - Pass information about a job to SMF by storeing           ×
   information in the JMR User Identification field          ×
   (JCTUSEID).                                               ×
Note:  This mod uses exits 3, 6, and 7.                      ×
-------------------------------------------------------------+---------
The $COMWORK macro has been expanded to include a 10 word    × ONL$COMW
work area for use by other local mods to HASPCOMM.           ×
-------------------------------------------------------------+---------
The $D'jobname command has been modified to allow a partial  × ONL$DN01
Jobname to be specified.                                     ×
-------------------------------------------------------------+---------
The HASP646 (PERCENT SPOOL UTILIZATION) message is modified  × ONL$DQ01
in EXIT 10 to include the total number of jobs in the system.× J2X$DQ01
-------------------------------------------------------------+---------
The $EJ command has been modified to perform the same        × ONL$EJCH
function as a $EJ-$HJ-$CJ command sequence.  If a job is not × $EJCHMAC
restartable across warm-starts because of JES2 initialization×
defaults or because RESTART=N was specified on a JOBPARM     ×
control statement, then a message saying "NOT RESTARTABLE AT ×
USER'S REQUEST" will be issued.                              ×
-------------------------------------------------------------+---------
Support has been added to support a /*RELAY control statement× ONL$HRLY
for transmitting unit record data sets.  The /*RELAY control × $HRLYMAC
statement's main advantage over TYPRUN=COPY is that it can   × J2X$HRLY
transmit anything ... and without modification.  All card    ×
images following the /*RELAY statement are transmitted until ×
an end-of-file is reached on the input device.  The code is  ×
modeled after TUC's RELAY mod but has been expanded in scope.×
If any errors are found in the /*RELAY statement, the illegal×
/*RELAY card image and associated error messages will be     ×
printed at the default destination for the input device.     ×
The format of the /*RELAY statement is:                      ×
                                                             ×
/*RELAY  PRINT  destination   jobname   account#   pgmr-name ×
         PUNCH                                               ×
-------------------------------------------------------------+---------
JES2 Internal Text Scan Exit to enforce ONL's JCL standards: × ONL$INTX
 - Occurrences of TIME=1440 in the internal text for batch   × J2X$INTX
   jobs is changed to TIME=1439.                             ×
 - The ADDRSPC=VIRT parameter is added to the internal text  ×
   of job statements for non-privileged job classes.         ×
-------------------------------------------------------------+---------
Here is yet another (yes, another) separator page/card exit. × ONL$JSEP
One novel feature about this mod is that separator lines for × J2X$JSEP
narrow forms, e.g. mailing labels, are rotated one position  ×
to the left on each succeeding line so that all the separator×
information will be printed on the form.                     ×
-------------------------------------------------------------+---------
This mod allows operators to control RJE Line Error Logging  × ONL$LERR
by using a $TCON,0,TP command to turn-on error logging and a × $LERRMAC
$TCON,15,TP command to turn-off line error logging. A Master ×
Console Informational route code was added to the $DMR...    ×
command to prevent the loss of messages from RJE's.          ×
-------------------------------------------------------------+---------
The $LQ command, implemented in EXIT 5, is used to list      × ONL$LQCM
output data set information for JOEs which match specified   × J2X$LQCM
characteristics including job number range, destination      ×
range (by JOE destination instead of job routing), JOE       ×
select, SYSOUT class, form name, FCB, UCS, writer name, 3800 ×
forms overlay frame, and 3800 burst option.  The JOEs thus   ×
selected are displayed using the HASP688 message format.     ×
-------------------------------------------------------------+---------
The Resource Routing Mod allows a job using a '/*ROUTE XEQ   × ONL$RSRT
resource' control statement to specify from a set of resource× $RSRTMAC
names, those resources which must be attached to a given CPU × J2X$RSRT
before the job can execute on that CPU. The code was modeled ×
after Mellon Bank's Resource Routing mod, however, it now    ×
bears very little resemblance to the original.               ×
-------------------------------------------------------------+---------
The ONL HASPCOMM Exit Services Mod is based on code written  × ONL$SERV
by John Kinn at California Lockheed (SHARE Installation Code × DOC$SERV
CL).  Its purpose is to provide EXIT 5 routines with many of × $SERVMAC
the services available to command sub-processors within      × $SERVADD
HASPCOMM.  In fact, this mod will allow some command sub-    ×
processors to be moved from HASPCOMM to EXIT 5 routines with ×
little or no modification.  Other features include a $ESTAE  ×
environment created before EXIT 5 is invoked.  In the event  ×
of a program check, the command being processed is discarded ×
and an error message is issued.  Another feature is a new    ×
exit point in the COFJMSG service routine in HASPCOMM.  The  ×
COFJMSG routine is invoked by a $CFJMSG macro instruction    ×
and issues the HASP608 Job Information Message.  The new     ×
exit (EXIT 254) allows the HASP608 message text to be        ×
changed prior to issuing a $CWTO.  The exit may issue its    ×
own $CWTO's if additional message lines are needed.          ×
-------------------------------------------------------------+---------
Prevent the use of SYSOUT Classes which have been declared as× ONL$SYSO
'ILLEGAL' by a new keyword on the $$x (SYSOUT Class) JES2    × $SYSOMAC
Initialization parameter.                                    ×
-------------------------------------------------------------+---------
The Time/Date Validation mod adds a user defined exit to     × ONL$TODV
HASPINIT.  The exit validates the TOD (GMT) and LOCAL clocks × $TODVMAC
during JES2 Initialization.  This includes a comparison with × J2X$TODV
the gregorian date, day of week, and with the JES2 Checkpoint×
time stamps for this and other systems in the JES2 complex.  ×
=============================================================#=========


*******************************
*  JES2 Exit Cross-Reference  *
*******************************

 EXIT # ×  ONL Modification ID(s)
========#==============================================================
     1  ×  ONL$JSEP
     2  ×  ONL$RSRT  ONL$HRLY
     3  ×  ONL$CLAS
     4  ×  ONL$RSRT
     5  ×  ONL$LQCM  ONL$RSRT
     6  ×  ONL$CLAS  ONL$INTX
     7  ×  ONL$CLAS
    10  ×  ONL$DQ01
   254  ×  ONL$RSRT  ONL$SERV
   255  ×  ONL$TODV
========#==============================================================

@FILE006@***************************************************************
*
*         F I L E   6   T U C   S P 2   J E S D U M P
*
************************************************************************

THIS FILE WAS COPIED FROM VERSION 24 OF THE OLD JES2 MODS TAPE.

JESD     TITLE 'JESDUMP JES2 CONTROL BLOCK DUMP UTILITY - DESCRIPTION'
*              JES/SP VERSION OF JESDUMP                        JFW
* JACK SCHUDEL OF NERDC AT THE UNIVERSITY OF FLORIDA            JFW
* CONVERTED JESDUMP TO RUN ON JES2/SP. I HAD TO REMOVE SOME     JFW
* OF HIS LOCAL DEPENDENT CODE, AND REMOVED A REQUIREMENT TO     JFW
* SPECIFY 'SYSPARM' TO SKIP AROUND IT. SOME FUNCTIONS HAVE      JFW
* NOT BEEN CHECKED OUT, BUT MOST SEEM TO WORK OK.               JFW
* IF YOU HAVE PROBLEMS, OR SPECIFICALLY IF YOU MAKE FIXES       JFW
* PLEASE NOTIFY:                                                JFW
*        JIM WALKER                                             JFW
*        TUCC                                                   JFW
*        PO BOX 12076                                           JFW
*        RESEARCH TRIANGLE PARK, NC 27709                       JFW
*        (919) 549-0671                                         JFW
*                                                               JFW
*                                                                 NERDC
* THIS IS THE NERDC VERSION OF THE TUCC JESDUMP PROGRAM.          NERDC
* NERDC MODIFICATIONS TO SUPPORT NJE3 AND SOME OF THE NERDC       NERDC
* CONTROL BLOCK EXTENSIONS ARE FLAGGED WITH THE WORD "NERDC" IN   NERDC
* COLUMNS 67-71.                                                  NERDC
* CHANGES TO SUPPORT THE MVS/SP2-JES2 VERSION ARE FLAGGED "SP2".  NERDC
* NON-NERDC USERS SHOULD ASSEMBLE THE PROGRAM USING AN ASSEMBLER  NERDC
* PARM OF 'SYSPARM=STOCK' TO SKIP SOME OF THE NERDC FIELDS IN     NERDC
* THE JQE AND JCT.                                                NERDC
*                                                                 NERDC
* THIS VERSION OF JESDUMP WAS TAKEN FROM THE SHARE JES2 PROJECT   NERDC
* MODS TAPE, AT THE VERSION 5 LEVEL, AND HAS BEEN RESEQUENCED.    NERDC
*                                                                 NERDC
* GENERAL DESCRIPTION OF NERDC MODIFICATIONS:                     NERDC
* - THE $WARN MACRO WAS MODIFIED TO NOT GENERATE THE MNOTE, BUT   NERDC
*   THIS SHOULD BE FIXED BACK THE FIRST FEW TIMES THAT THE SYSTEM NERDC
*   IS PUT UP AT A NEW INSTALLATION.                              NERDC
* - GET DCBBLKSI FOR SPOOL FROM CHECKPOINT AREA                   NERDC
* - ADD HCT COMMAND TO DUMP CHECKPOINTED AREA                     NERDC
* - AREADMP OF JCT WILL DUMP ENTIRE BUFFER, SINCE NJE HEADERS AND NERDC
*   TRAILERS FOLLOW THE JCT IN THE BUFFER.                        NERDC
* - ADD VALIDITY CHECKING TO READIT SUBROUTINE.                   NERDC
*   NOTE:  THIS CODE IS HAS CONSTANTS FOR 3350 DASD IN IT.        NERDC
* - ADD SYNAD ROUTINE FOR SPOOL IO THAT ABENDS SE CAN LOOK AT THE NERDC
*   ERROR.                                                        NERDC
* - ADD OPTION TO CHAIN COMMAND TO SPECIFY THE NUMBER OF BUFFERS  NERDC
*   TO CHAIN THROUGH BEFORE RETURNING CONTROL TO THE CALLER.      NERDC
*   CHAINING WILL ALSO STOP IF THE CHAIN FIELD BECOMES ZERO.      NERDC
*   (USEFUL FOR GETTING TO THE LAST BUFFER IN A LARGE SYSOUT.)    NERDC
* - CHANGES TO INITHCT AND RDCKPT FOR SUPPORT OF NJE3 SPOOL.      NERDC
* - CHANGES TO FORMAT OUTPUT TO ADD SOME LOCAL FIELDS AND DELETE  NERDC
*   OTHERS.                                                       NERDC
* - ADD HOLD INDICATORS TO FORMAT OUTPUT.                         NERDC
* - ADD DEST INFORMATION TO FORMAT OUTPUT.                        NERDC
* - CHANGE LENGTH OF FMTWK FIELD.                                 NERDC
* - DISPLAY NUMBER OF TRACK GROUPS ALLOCATED TO EACH JOB ON       NERDC
*   FORMAT OUTPUT.  (LAST FIELD - UNLABELED)                      NERDC
* - ADD MACRO CALLS TO GENERATE DSECTS FOR $TGM, $CAT             SP2
* - JQE, JOE, AND JOT OFFSETS WERE 2 BYTE FIELDS, REPRESENTING    SP2
*   THE OFFSET/4.  THESE FIELDS ARE NOW 3 BYTES, AND REPRESENT    SP2
*   THE TRUE OFFSET.                                              SP2
* - PULL ADDITIONS OF 10000 AND 20000 FOR STC AND TSU             SP2
* - SKIP AROUND ALL CODE DEALING WITH THE HQT, SINCE WE DO NOT    SP2
*   KNOW WHAT HAPPENED TO IT IN THE SP2 VERSION.                  SP2
* - ADD FIELDS FOR $JIXSIZE, $JOBQSIZ, AND $JOTSIZE               SP2
* - CHANGES TO INITHCT AND RDCKPT FOR SUPPORT OF SP2 SPOOL..      SP2
* - CHANGE DEST INFO ON FORMAT OUTPUT TO ONLY PRINT THE LOW-ORDER SP2
*   BYTE OF THE NODE NUMBER AND REMOTE NUMBER.                    SP2
* - JQEFLAG3 NOW USED TO INDICATE IF A STC/TSU/JOB STATUS.        SP2
*                                                                 NERDC
*                                                                 NERDC
* NOTE:  THE JOE LOOKUP ROUTINES SHOULD BE CHANGED TO FIND THE    NERDC
*        JOE BY CHAINING FROM JQEJOE, BUT I HAVE NOT DONE THIS    NERDC
*        YET.                                                     NERDC
* NOTE:  I DOUBT IF THE SYSLOG COMMANDS WORK PROPERLY, BUT I WILL NERDC
*        BE RUNNING THE SP2 JES2 SYSTEM AS A SECONDARY SUBSYSTEM  NERDC
*        FOR A LONG TIME, AND WILL NOT BE IN A POSITION TO TEST   NERDC
*        IT UNTIL THEN.                                           NERDC
* NOTE: SYSLOG COMMANDS SEEM TO WORK TO ME ALTHOUGH I              TUC
*        HAVEN'T TRIED ALL OF THEM  10/14/81                       TUC
*
@FILE007@***************************************************************
*
*         F I L E   7   T U C   S P 2   M O D S
*
************************************************************************
*
*        JIM WALKER
*        TRIANGLE UNIVERSITIES COMPUTATION CENTER (TUC)
*        BOX 12076
*        RESEARCH TRIANGLE PARK, NC  27709
*        (919) 549-0671
*
*        SP JES2 COMMAND EXIT - EXIT5
*
*        THIS ROUTINE PROVIDES A SAMPLE EXIT5 WITH SEVERAL FUNCTIONS
*        ADDED:
*          1. COMMAND LOOKUP ROUTINE
*          2. HASPCOMM MACROS AND SERVICES AVAILABLE
*          3. $ESTAE ENVIRONMENT ESTABLISHED AROUND COMMAND PROCESSING
*          4.  SEVERAL COMMANDS WHICH MAY OR MAY NOT BE OF INTEREST
*              A. $DMJ EXTENSION ALLOWS MESSAGE TO BE SENT TO JOB
*                 NOT IN EXECUTION.
*              B. ATTACH, DETACH SUBTASK COMMANDS. I ALSO HAVE
*                 DISPATCHER MODS TO ALLOW JES2 PCE TO COMMUNICATE
*                 WITH SUBTASK SO ATTACHED IF ANYONE IS INTERESTED.
*              C. DUMP JQE COMMAND
*
*        L=CCA VERIFICATION AND AUTOMATIC REDIRECTION IS NOT
*        DONE HERE BUT PROBABLY SHOULD BE. IF ANYONE DOES THESE
*        PLEASE SEND ME A COPY.
*
*        I THINK THE MOST SIGNIFICANT PART OF THIS EXIT IS THE
*        INCLUSION OF HASPCOMM MACRO FACILITIES IN IT. USER
*        COMMAND EXTENSIONS CAN BE CODED HERE IN THE SAME
*        MANNER AS IF THE CODE WERE IN HASPCOMM. SMALL
*        ADDITIONS TO SOME COMMANDS CAN BE DONE AS I DID THE
*        $DMJ ADDITION. I INTEND TO 'COPY' SOME STANDARD
*        COMMANDS INTO THIS CSECT FOR MODIFICATION RATHER
*        THAN MAKING HASPCOMM UPDATES.
*
*        I WILL OF COURSE OVER TIME ADD MANY LOCAL COMMANDS
*        HERE. I SUGGEST THAT THIS MIGHT BE A GOOD PLACE
*        FOR OTHERS TO PUT THEIR COMMANDS FOR DISTRIBUTION.

@FILE008@***************************************************************
*
*         F I L E   8      T U C C   U S E R    P R O C L I B S
*
************************************************************************

LAST FILE UPDATE - 08/19/81

JIM WALKER
TRIANGLE UNIVERSITIES COMPUTATION CENTER
P. O. BOX 12076
RESEARCH TRIANGLE PARK, NC  27709
(919) 549-0671

***      USER PROCLIB ABSTRACT

ALLOW ANY PDS TO BE SPECIFIED AS THE FIRST CONCATENATION PROCLIB
FOR A JOB.

MODIFIES:
   HASPXEQ - ADD $EXIT STATEMENTS FOR EXITS 240-243
   $JCT    - ADD TWO FIELDS TO JCTDSECT FOR PROCLIB
             DSNAME AND OPTIONAL VOLUME SERIAL NUMBER

ADDS:
   EXIT4   - EXIT4 (JCL AND CONTROL CARD EXIT) TO
             CHECK FOR /*PROCLIB STATEMENT AND SAVE THE
             SPECIFIED PROCLIB DSNAME AND OPTIONAL
             VOLUME SERIAL NUMBER IN THE JCT.
   UPROCXIT- EXITS 240, 241, 242, AND 243 WHICH ARE CALLED
             FROM HASPXEQ.

THIS MODIFICATION IS PERFORMED ALMOST ENTIRELY IN EXITS.
HASPXEQ CODE MODIFICATIONS ARE REQUIRED IN ORDER TO INVOKE
4 EXITS (240-243) HOWEVER. IN ADDITION, TWO FIELDS MUST BE
ADDED TO THE JCT.

THE MOD ALLOWS A USER TO INSERT A PROCLIB CONTROL STATEMENT
IN A JOB, IN THE FORM:
         /*PROCLIB=ANY.DSNAME <,VOLSER>
WHERE:
         ANY.DSNAME IS THE DSNAME OF THE DESIRED PROCLIB
         VOLSER IS THE VOLUME SERIAL NUMBER OF THE PROCLIB
         IF IT IS NOT CATALOGED.
         NOTE: I RECOMMEND THAT YOU REQUIRE THE PROCLIB TO
         BE CATALOGED AND REMOVE THE OPTIONAL VOLSER CODE.

STANDARD IBM EXIT 4 IS USED TO CAPTURE THE PROCLIB DSNAME
AND OPTIONAL VOLSER AND STORE IN THE JCT.  NO OTHER FUNCTION
IS PERFORMED AT HASPRDR TIME. THIS CODE IS IN MEMBER EXIT004.

MEMBER $JCT IS AN IEBUPDTE INPUT DECK TO ADD THE TWO REQUIRED
FIELDS TO THE JCT DSECT.

MEMBER HASPXEQ IS AN IEBUPDTE INPUT DECK TO ADD COPY STATEMENTS
AND ONE REQUIRED LABEL TO THE HASPXEQ MODULE.  THE COPY STATEMENTS
COPY MEMBERS TUC1081A, TUC1081B, TUC1081C, AND TUC1081D INTO
HASPXEQ.  THESE MEMBERS SET THE ENVIRONMENT AND ISSUE THE
$EXIT MACROS TO INVOKE EXITS 240 THRU 243.

MEMBER UPROCXIT CONTAINS EXITS 240 THRU 243.

   EXIT240. THIS EXIT ESTABLISHES THE USER PROCLIB IF IT WAS
   SPECIFIED. IT CLOSES THE OLD PROCLIB IF OPEN, DYNAMICALLY
   ALLOCATES THE SPECIFIED USER PROCLIB, CONCATENATES IT BEFORE
   THE SPECIFIED /*JOBPARM PROCLIB (OR DEFAULT), AND RETURNS
   TO HASPXEQ WITH A RETURN CODE TO CAUSE HASPXEQ TO RE-OPEN
   THE PROCLIB.

   EXIT241. IF THE SPECIFIED PROCLIB WAS ENQUEUED AND THUS
   COULD NOT BE ALLOCATED, THIS EXIT PERFORMS THE FOLLOWING
   TASKS;
            HOLDS THE JOB
            RESCHEDULES THE JOB FOR CONVERSION
            SETS AN AUTOMATIC OPERATOR COMMAND TO RELEASE THE
                  JOB AFTER 5 MINUTES

   EXIT242. CLOSES AND UNALLOCATES THE USER PROCLIB.

   EXIT243. CLOSES AND UNALLOCATES THE USER PROCLIB IN CASE
   OF CONVERTER ABEND.

ANY DATASET MAY BE SPECIFIED AS THE USER PROCLIB. IF THE DATASET
DOES NOT EXIST, THE CONVERTER PROCESSOR WILL INCLUDE THE NORMAL
NUMBERED IBM ERROR MESSAGES IN THE JOB CONSOLE LOG AND TERMINATE
THE JOB.  THE BLOCKSIZE OF THE PROCLIB MUST BE 4240 OR LESS
AS THE CODE IS DISTRIBUTED, BUT THIS IS EASILY MODIFIED IF
DESIRED.  LRECL MUST BE 80. THE CODE MAKES NO CHECK TO INSURE
THAT A PDS HAS BEEN SPECIFIED, BUT THE CONVERTER DOES AND
FLUSHES THE JOB WITH NUMBERED IBM MESSAGES IF SOME ILLOGICAL
SITUATION IS SPECIFIED.

NOTE THAT SINCE THE CONVERTER RUNS AS A SUBTASK OF JES2,
IT CAN ACCESS PROCLIBS THAT ARE EITHER PASSWORD OR RACF
PROTECTED.  I BELIEVE THAT ACF2 PROTECTION MAY BE CHECKED
IF YOU DESIRE, BUT THIS CODE IS NOT PROVIDED.

@FILE009@***************************************************************
*
*         F I L E   9      L O C K H E E D   S P 2   M O D S
*
************************************************************************

 THESE MODIFICATIONS ARE FROM LOCKHEED CALIFORNIA COMPANY (CL)

 THE INSTALLATION CONTACT IS:

 JOHN KINN
 LOCKHEED CALIFORNIA COMPANY
 PLANT A-1, BLDG 67, DEPT 8321
 P.O. BOX 551
 BURBANK, CALIFORNIA 91520

 TELEPHONE (213) 847-7492

 MODIFICATION NAME BSCTRACE  (LAST UPDATED 22 MAR 82)

    IBM'S SUPPLIED LINE TRACE (TRACE ID 4) FORMATS ONLY THE
    BUFFER IN WHICH THE IOB APPEARS.  THUS, ONLY INPUT
    TRAFFIC IS SEEN.  OUTPUT TRAFFIC IS PICKED UP FROM
    A DIFFERENT BUFFER.  THIS CHANGE WILL TRACE ALL DATA
    POINTED TO BY READ OR WRITE CCW'S

 MODIFICATION NAME COMMXIT     (LAST UPDATED 23 MAR 82)

    THIS MODIFICATION PROVIDES EXIT 5 FROM HASPCOMM
    THE NECESSARY MACROS NEEDED TO DO MOST INSTALLATION COMMANDS.
    SUPPORT IS PROVIDED FOR THE FOLLOWING COMMANDS:
       $CFSEL
       $CFCVE
       $CFCVB
       $CFDCTL
       $CFVQE
       $CFRTR
       $CFRTRA

 MODIFICATION NAME DYNALLOC

      THIS CODE SUPPORTS A NEW VERB IN THE HASP INITIALIZATION
      DECK, DYNALLOC.  THIS VERB IS USED TO SPECIFY THE PROCLIBS
      USED BY THE CONVERTER.  FROM 1 TO 16 DATA SETS CAN BE SPECIFIED
      FOR EACH DDNAME.  IF THE CATALOG IS USED TO LOCATE THE DATA
      SETS, THE DATA SETS NEED NOT BE CATALOGED IN THE MASTER
      CATALOG AS THEY WOULD IF THEY WERE ALLOCATED VIA DD CARDS.

 MODIFICATION NAME EXIT10   (LAST UPDATED 6 MAY 82)

    THIS IS THE EXIT 10 MODULE RUNNING AT OUR INSTALLATION
    (ALMOST).  IT ACCOMPLISHES THE FOLLOWING:

       QUEUES MESSAGES DESTINED FOR REMOTES TO THE CPU
       THAT THE REMOTE IS SIGNED ON TO.  THIS ELIMINATES
       MESSAGE SPOOLING.

       CAUSES ALL MESSAGES THAT EMANATE FROM THE JES2
       ADDRESS SPACE THAT ARE OF INTEREST TO THE
       REMOTE WORK STATION TO BE SENT TO THE REMOTE
       AS WELL AS THE LOCAL CONSOLE.

 MODIFICATION NAME HOTNEWS     (LAST UPDATED 17 AUG 81)

      THIS SHOWS CODE THAT SHOULD BE ADDED TO THE END
      OF YOUR EXIT1 MODULE IN ORDER TO STILL SUPPORT
      HOTNEWS.

 MODIFICATION NAME MULTICNV (ADDED 10 MAR 83)

        THIS MODIFICATION ALLOWS AN INSTALLATION TO SPECIFY
        THE NUMBER OF CONVERTER SUB-TASKS THAT ARE TO BE
        SUPPORTED BY JES2.  THE PARAMETER IS &NUMCNV=XX WHERE
        XX IS A NUMERIC VALUE BETWEEN 1 AND 10.

         CAUTION CAUTION CAUTION CAUTION CAUTION CAUTION

       IF YOU USE THIS MOD AND YOU SPECIFY MORE THAN ONE CONVERTER
       (I.E. &NUMCNV DOES NOT = 1), THEN YOU MUST CODE YOUR EXIT
       6 MODULE(S) RE-ENTRANTLY SINCE ONLY ONE COPY OF THEM IS LOADED
       BY JES2 INITIALIZATION.

 MODIFICATION NAME SMF226    (ADDED 10 MAR 83)

        THIS MODIFICATION CAUSES AN SMF 226 RECORD (ALMOST
        IDENTICAL TO THE TYPE 26 RECORD) TO BE GENERATED
        WHENEVER A JOB HAS AN ERROR EITHER AT CONVERTER TIME
        OR INTERPRETER TIME.  THIS IS ESPECIALLY USEFUL FOR USERS
        OF APOLLO/STARS OR DCMS FROM VALUE COMPUTING INC.

 MODIFICATION NAME MULTIPSO  (LAST UPDATED 11 MAR 83)

      THIS MODIFICATION ACTUALLY CONSISTS OF TWO MODIFICATIONS.
      THE FIRST (WHICH THE SECOND DEPENDS UPON) EXPANDS THE
      ECF SUPPORT FROM A HALF WORD TO A FULL WORD IN SSSM AND
      NUC.  THE SECOND MAKES THE NUMBER OF PSO PCE'S SPECIFIABLE
      WITH A VALUE FROM 1 TO 9.  THE DEFAULT IS 1.  THIS MEANS
      THAT THE TSO AND XWTR SUPPORT AND XEQ WILL BE MULTI-THREADED.

 MODIFICATION NAME RDRXIT     (LAST UPDATED 17 AUG 81)

      THIS SHOWS THE CODE REQUIRED TO SUPPORT THE
      HASPRDR SCAN ROUTINE IN USER EXITS.

 MODIFICATION NAME UCBLU     (LAST UPDATED 11 MAR 83)

      THIS IS THE MODIFICATION TO THE HASPNUC UCB
      LOOKUP ROUTINE THAT WILL ALLOW JES2 SP 1.3
      TO RUN UNDER PRIOR RELEASES OF THE BASE CONTROL PROGRAM.
      THE LASTEST CHANGE CORRECTS A PROBLEM WHICH OCCURS AFTER
      APARS OZ60304 AND OZ66199 ARE APPLIED TO JES2 SP 1.3.0.

 MODIFICATION NAME XBMSIMPL

      THIS IS A SIMPLE SAMPLE OF AN XBM PROGRAM WHICH INVOKES
      PANVALET USING THE PANVALET CONTROL STATEMENTS PROVIDED
      BY THE USER.  THIS WAS USED BY US FOR YEARS IN ORDER TO
      UPDATE PRODUCTION JCL ON A PANVALET LIB AND SUBMIT THE
      ALTERED JCL TO THE JOB QUEUE VIA THE INTERNAL READER.

@FILE010@***************************************************************
*
*         F I L E   1 0 - 1 2   M E L L O N   B A N K   J E S M O D S
*
************************************************************************

THESE FILES UPDATED 27 SEP 82 TO FIX TWO KNOWN PROBLEMS:
  1.  AN ASSEMBLY ERROR ON EXITCOMM IF MBNUMRJE IS LESS THAT 16.
  2.  ABEND S0C1 OR S0C4 IN EXITCOMM FROM $DQ AND $DN COMMANDS CAUSED
      BY AN ERROR IN THE INSTALL PROCEDURE.

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$        SSSS  PPPPP            J EEEEEE  SSSS   2222      $
$       S    S P    P           J E      S    S 2    2     $
$       S      P    P           J E      S           2     $
$        SSSS  PPPPP            J EEEE    SSSS   22222     $
$            S P                J E           S 2          $
$       S    S P           J    J E      S    S 2          $
$        SSSS  P            JJJJ  EEEEEE  SSSS  222222     $
$                                                          $
$           SSSS  H    H RRRRR   SSSS  PPPPP  L            $
$          S    S H    H R    R S    S P    P L            $
$          S      H    H R    R S      P    P L            $
$           SSSS  HHHHHH RRRRR   SSSS  PPPPP  L            $
$               S H    H R  R        S P      L            $
$          S    S H    H R  R   S    S P      L            $
$           SSSS  H    H R   R   SSSS  P      LLLLLL       $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
************************************************************
************************************************************
**************                                **************
************                                    ************
**********                                        **********
*                                                          *
*                                                          *
*             GENERAL DESCRIPTION OF MELLON BANK           *
*                  SHARED SPOOL MODS                       *
*                     FOR SP/JES2                          *
*                                                          *
**********                                        **********
************                                    ************
**************                                **************
************************************************************
************************************************************


************************************************************
*                                                          *
*                 D I S C L A I M E R                      *
*                                                          *
************************************************************

    THE MODS ON THIS TAPE HAVE BEEN USED SUCCESSFULLY AND TO THE
 BEST OF OUR KNOWLEDGE THEY ARE OPERATIONAL, HOWEVER NO WARRANTY
 IS MADE TO THE ACCURACY OF THE MODS AND NO RESPONSIBILITY IS
 ASSUMED FOR ANY MODIFICATION DIRECTLY OR INDIRECTLY CAUSED BY THE
 USE OF THE MODIFICATIONS.  IT IS THE USERS RESPONSIBILITY TO
 EVALUATE THE USEFULLNESS OF THE MATERIAL.

    WE DO NOT GUARANTEE TO KEEP ANY MATERIAL PROVIDED UP TO DATE
 NOR DO WE GUARANTEE TO PROVIDE ANY CORRECTIONS OR EXTENSIONS MADE
 IN THE FUTURE.

************************************************************
************************************************************

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

    THE FOLLOWING IS A BRIEF EXPLANATION OF THE MELLON BANK MODS
MADE TO JES2.  IT IS INTENDED FOR THOSE WHO ARE UNFAMILIAR WITH
PREVIOUS VERSIONS OF HASP OR JES2 SHARED SPOOL SUPPORT AND IS
BEING PROVIDED IN LIEU OF THE FORMAL DOCUMENT ORIGINALLY
DISTRIBUTED WITH THE HASP V4 MELLON MODIFICATIONS.  IF THE WRITE-UP
LEAVES YOU WITH SOME UNANSWERED QUESTIONS, YOU MAY GIVE US A CALL.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

RESOURCE ROUTING CONTROL CARDS

     PROVIDES A FACILITY BY WHICH JOBS CAN BE ROUTED TO SPECIFIC
CPUS DEPENDING ON THE AVAILABILITY OF A PARTICULAR RESOURCE NAME
ASSIGNED TO A CPU.  RESOURCE NAMES ARE USER DEFINED (SYSTEMS PROGRAMMER)
AND SPECIFIED IN THE JES2 MACRO  $RESTABL  .  ONCE DEFINED, THESE
RESOURCE NAMES ATTACHED TO A CPU REMAIN IN EFFECT UNTIL THEY ARE
DETACHED VIA THE $QD COMMAND, OR A COLD START IS DONE AND ALL
RESOURCES ARE THEN UNASSIGNED.

     RESOURCES SPECIFIED IN THE $RESTABL MACRO CAN DEFINE PHYSICAL
I/O GEAR WHICH MAY BE ATTACHED TO ONLY ONE CPU AT A TIME, OR
POSSIBLY A SOFTWARE NAME WHICH MAY ONLY PERTAIN TO ONE PARTICULAR CPU.


SPECIFICATION ... IN $RESTABL MACRO


ASSIGNMENT....... $QA,RESOURCE NAME  ATTACHES A RESOURCE NAME FROM
                                     THE TABLE TO THIS CPU.


                  $QD,RESOURCE NAME  REMOVE RESOURCE NAME FROM THIS CPU


USE............... /*ROUTE XEQ RESOURCE NAME...  FOLLOWING JOBCARD

                   JOB WILL AUTOMATICALLY BE SCHEDULED TO THE CPU(S)
                   BEARING THIS RESOURCE NAME IN ITS QSE


EXAMPLE:    SYSTEM #       RESOURCES ATTACHED
            ________       __________________

               1           DUALD,IMS

               2           3525

               3           IMS,TSO,NOINQ


   //BSPROUT JOB (,,7551,429),'TEST RESOURCE',MSGLEVEL=(1,1),CLASS=A
   /*ROUTE XEQ IMS
   //S1 EXEC PGM=IEFBR14


THIS JOB WILL BE SCHEDULED TO EITHER SYSTEM #1 OR SYSTEM #3


     THE $DC COMMAND IS USED TO DISPLAY THOSE JOBS WHICH HAVE USED
THE /*ROUTE XEQ RESOURCE CONTROL CARD AND NO CPUS HAVE THAT RESOURCE
NAME ATTACHED....  FOR EXAMPLE, USING THE ABOVE LIST, IF A JOB WERE
SUBMITTED WITH A   /*ROUTE XEQ SCANNER   CONTROL CARD, THE JOB WOULD
NEVER EXECUTE NO MATTER HOW MANY INITIATORS WERE AVAILABLE UNTIL
A SYSTEM IN THE COMPLEX WOULD ISSUE A $QA,SCANNER.  THIS WOULD
BE DETECTABLE BY ISSUING A $DC COMMAND WHICH WOULD DISPLAY THOSE
JOBS WAITING FOR RESOURCE NAMES.


     THE $DR COMMAND WILL LIST THE RESOURCE ATTACHED TO EACH CPU.

 EXAMPLE

     $DR          NO OPERANDS  DEFAULTS THIS CPU

     $DR,&SID     LIST SPECIFIC CPU RESOURCES.


     OTHER /*ROUTE CONTROL CARD FORMATS.........

      /*ROUTE XEQ HERE
          JOB WILL BE SCHEDULED FOR EXECUTION ON THE CPU WHICH
          READ THE JCL.  (CONTROLLING THE CARD READER)

      /*ROUTE XEQ CPUX    (WHERE X IS A NUMBER FROM 1 TO 7 )
          JOB WILL BE SCHEDULE TO THE CPU NUMBER SPECIFIED BY
          COMPARING ALL CPU ID'S IN THE QSE.



---------------------------------------------------------------


/*CNTL CARDS................


     THIS FEATURE PROVIDES THE ABILITY TO SINGLE-THREAD JOBS
THROUGH EXECUTION WHICH NEED A DEVICE OF WHICH THERE IS ONLY ONE
AND MUST BE USED SERIALLY.  SOME EXAMPLES WOULD BE THE 3525,
DUALD DENSITY DRIVE AND THE OCR SCANNER.


     BY USING THE /*CNTL CARD, YOU CAN DEFINE A RESOURCE NAME THAT
YOU NEED EXCLUSIVE CONTROL OF.  IF ANY OTHER JOBS COME INTO THE SYSTEM
WITH THE SAME CONTROL NAME, THEY WILL NOT EXECUTE SIMULTANEOUSLY ON
THE SAME OR OTHER CPUS IN THE COMPLEX.  THIS PROVIDES BETTER CONTROL
OVER THE RESOURCES WE HAVE THAT MUST BE USED SERIALLY.  THIS DOES NOT
AFFECT JOBS RUNNING WITHOUT THE /*CNTL CARD OR RUNNING IN A SYSTEM
WITHOUT SHARED SPOOL.


   THE FORMAT FOR RESURCE CONTROL IS :

     /*CNTL RESOURCE,EXC     OR
     /*CNTL RESOURCE,SHR    (DEFAULT SHR)


     USERS MAY ALSO PROTECT DATASETS FROM BEING BEING UPDATED BY
DIFFERENT JOBS ON THE SAME OR DIFFERENT CPUS BY USING THE /*CNTL CARD.
EACH /*CNTL CARD MAY HAVE A 1 TO 8 CHARACTER CONTROL NAME AND AN EXC
OR SHR SPECIFICATION.

     JOBS WITH THE SAME CNTROL NAME WILL NOT EXECUTE SIMUTANEOUSLY
IF ONE OF THE JOBS HAS AN EXC CONTROL SPECIFICATION. JOBS WITH SHR
MAY EXECUTE SIMUTANEOUSLY ON ANY CPU.


EXAMPLES:

    //JOB1 JOB
    /*CNTL MASTER,EXC


    //JOB2 JOB
    /*CNTL MASTER,SHR


  IN THE ABOVE EXAMPLE, WHICHEVER JOB BEGAN EXECUTION FIRST, WOULD
LOCKOUT THE OTHER JOB FROM BEGINNING UNTIL IT HAS COMPLETED.



    //JOB1 JOB
    /*CNTL MASTER,SHR


    //JOB2 JOB
    /*CNTL MASTER


    //JOB3 JOB
    /*CNTL MASTER,SHR


  IN THE ABOVE EXAMPLE, ALL 3 JOBS COULD RUN SIMULTANEOUSLY AS THEY
ALL SPECIFY THE SHR OPTION.


________________________________________________________________


BEFORE AND AFTER CONTROL CARDS


FORMAT :      /*BEFORE JOB1
              /*AFTER JOB1


     PROVIDES A MEANS TO SCHEDULE JOBS BEFORE OR AFTER ANOTHER.
FOLLOWS JOB CARD OR ANY OTHER JES CONTROL CARDS (ROUTE - CNTL ).

     IF THE BEFORE OR AFTER JOBNAME IS NOT IN THE JOBQ, THERE IS
NO ACTION TAKEN ON PREVENTING THE JOB FROM BEGINNING.

EXAMPLE :


    /*PRIORITY     13
    //BSPTEST JOB (,,7551,429),RUSBASAN,MSGLEVEL=(1,1),CLASS=A
    /*ROUTE XEQ MSS
    /*AFTER BSPFIRST
    //S1 EXEC PGM=IEFBR14
    /*
    /*PRIORITY     2
    //BSPFIRST JOB (,,7551,429),RUSBASAN,MSGLEVEL=(1,1),CLASS=A
    /*ROUTE XEQ CPU2
    /*CNTL DUALD,EXC
    //SA EXEC PGM=IEFBR14
    /*


  IN THE ABOVE EXAMPLE, JOB BSPTEST WOULD NOT EXECUTE UNTIL JOB
BSPFIRST HAS FINISHED EXECUTION, EVEN THOUGH BSPTEST HAS A HIGHER
PRIORITY.



********************************************************************
********************************************************************

 EXAMPLES OF ALLOWABLE -MULTI- CONTROL AND ROUTE CARDS COMBINATIONS

    COMBINATION  1.                 ** ONE          AFTER  CARD  **
                                    ** ONE          BEFORE CARD  **
                                    ** NONE TO TWO  CNTL   CARDS **
                /*AFTER   JOBNAME
                /*BEFORE  JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  2.                 ** ONE           AFTER CARD  **
                                    ** NONE TO THREE CNTL  CARDS **
                /*AFTER   JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  3.                 ** ONE           BEFORE CARD **
                                    ** NONE TO THREE CNTL  CARDS **
                /*BEFORE  JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  4.                 ** ONE TO FOUR CNTL    CARD  **
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

*****************************************************************
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$        H    H      J EEEEEE  2222   2222   2222   6666        $
$        H    H      J E      2    2 2    2 2    2 6    6       $
$        H    H      J E           2      2      2 6            $
$        HHHHHH      J EEEE      2      2      2   66666        $
$        H    H      J E       2      2       2    6    6       $
$        H    H J    J E      2      2      2      6    6       $
$        H    H  JJJJ  EEEEEE 222222 222222 222222  6666        $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*****************************************************************
*
*
*        MELLON BANK N.A.  SHARED SPOOL  FOR SP JES2 FMID(HJE2226)
*
*  THESE CHANGES MAY REQUIRE A COLD START SINCE THEY MODIFY JES2
*  CONTROL BLOCKS (IE. QSE)...
*
*  UNDER SP JES2 THE VAST MAJORITY OF THE MELLON MOD CODE
*  HAS BEEN REMOVED FROM INSTREAM HASPSRC UPDATES AND HAS BEEN
*  PLACED INTO JES2 EXIT CODE THAT IS TAKEN BY THE JES2 MAIN
*  TASK.
*
*
*  CHANGES FROM STANDARD JES2 AND  HASP.......
*
*  $   HASP $DN  AND DQ  COMMANDS.
*
*
*  $  HASP  $OJ IS JES2  $QJ
*
*      $QJ WILL WORK FOR JOBS IN ALL STAGES....
*        JOBS EXECUTING OR AWAITING EXECUTION WILL SHOW JES2
*         CONTROL CARDS...ROUTE..CNTL..ETC.
*
*      JOBS PRINTING OR AWAITING PRINT WILL SHOW # OF LINES TO
*        PRINT AND OR CARDS TO PUNCH.
*
*
*  $   THE FOLLOWING COMMAND WILL CAUSE JES TO ABEND 0C1
*
*                   $DN,0,$0C1
*
*      WE HAVE FOUND THIS VERY USEFUL IN TESTING JES MODS
*      OR GETTING JES2 OUT TO BRING UP A NEW VERSION WITHOUT IPL.
*      THIS COMMAND HAS BEEN CARRIED OVER IN THE MELLON MODS FOR
*      SP JES2; HOWEVER, THE CURRENT JES2 COMMAND, "$PJES2,ABEND",
*      ACCOMPLISHES THE SAME FUNCTION.
*
*
*  $  THE ASSEMBLER EQUATED SYMBOL, $NUMRJE, SHOULD BE CHANGED
*     TO REFLECT YOUR INSTALLATION'S VALUE.
*
*
*
*   $  THE FOLLOWING MODULES, MACROS, AND CONTROL BLOCK ARE CHANGED.
*
*      $JQE, $QGET, $QSE, $RDRWORK...............
*      HASPCOMM, HASPNUC, HASPRDR................
*
*
*   $  THE ASSEMBLER COPY FUNCTION IS ALSO USED TO INTERGRATE SOME
*      OF THE MODS INTO HASP SOURCE CODE AT ASSEMBLY TIME. THIS IS
*      DONE TO REDUCE MELLON MOD EXPOSURE TO IBM UPDATES.  THE
*      FOLLOWING SOURCE MEMBERS WILL BE ADDED TO HASPSRC.
*
*      $RESTABL, MBQGET, EXITRDR, XITCOMM1..............
*      XITCOMM2,XITCOMM3, EXITCOMM .....................
*
*
*  $    THE FOLLOWING STATEMENTS NEED TO BE ADDED TO THE JES2 PARAMETER
*       LIBRARY TO ESTABLISH THE RDR AND COMM EXITS AT JES2
*       INITIALIZATION TIME:
*
*       LOAD    EXITRDR                      USER LINKLIB LOAD MODULE
*       LOAD    EXITCOMM                     USER LINKLIB LOAD MODULE
*       EXIT002 MBX002,ENABLE                HASPRDR  EXIT JOBCARD
*       EXIT004 MBX004,ENABLE                HASPRDR  EXIT JCL/JECL
*       EXIT005 MBX005,ENABLE                HASPCOMM EXIT COMMANDS
*
*
*  $    FILE 2 ON THIS TAPE CONTAINS IEBUPDTE CARDS THAT UPDATE AND ADD
*       CODE TO YOUR HASPSRC SOURCE LIBRARY (IT IS ADVISABLE TO CREATE
*       A BACKUP COPY OF YOUR HASPSRC PDS AND APPLY THE MODS TO THAT
*       COPY).  USE FILE 3 ON THIS TAPE AS IEBUPDTE INPUT TO "EDIT"
*       MEMBER HASPCOMM IN YOUR HASPSRC PDS AND CREATE THE NEW EXITCOMM
*       MEMBER (THIS PROCESS WILL LEAVE YOUR HASPCOMM MEMBER INTACT).
*       ASSEMBLE AND LINK YOUR JES2 SOURCE.  EXITRDR AND EXITCOMM SHOULD
*       BE ASSEMBLED AND LINKED AS SEPARATE APF AUTHORIZED LOAD MODULES
*       AND MUST BE LOCATED IN AN APF AUTHORIZED LIBRARY AVAILABLE TO
*       JES2 AT INITIALIZATION TIME.
*
*
*  $    TAPE FORMAT IS:
*
*       FILE 10 THIS DOCUMENT
*       FILE 11 IEBUPDTE INPUT TO ADD AND UPDATE MEMBERS IN HASPSRC PDS
*       FILE 12 IEBUPDTE INPUT TO USE HASPCOMM AND CREATE A NEW MEMBER E
*
*
*  $    PLEASE DIRECT ANY INQUIRIES, PROBLEMS ETC TO:
*
*       CHUCK KALISH   MELLON BANK N.A.
*                      ROOM 424
*                      MELLON SQUARE
*                      PITTSBURGH,  PA. 15230
*              PHONE  (412) 232-1525
*
*       DAVID SCHAEFER MELLON BANK N.A.
*              PHONE  (412) 232-4203
*
*
*
*
*
*
*
*****************************************************************
*****************************************************************
  GGGG   OOOO   OOOO  DDDD          L      U    U  CCCC  K    K
 G    G O    O O    O D   D         L      U    U C    C K   K
 G      O    O O    O D    D        L      U    U C      K  K
 G  GGG O    O O    O D    D        L      U    U C      KKK
 G    G O    O O    O D    D        L      U    U C      K  K
 G    G O    O O    O D    D        L      U    U C    C K  K
  GGGG   OOOO   OOOO  DDDDD         LLLLLL  UUUU   CCCC  K   K

@FILE013@***************************************************************
*
*         F I L E   1 3    M E L L O N   B A N K   H J S T P   M O D S
*
************************************************************************

     HJSTP  SP3 MODIFICATIONS

ONLY TWO MODULES IN HJSTP NEED REPLACING:
QUEUE INITIALIZATION AND QUEUE PROCESSING. COMPLETE MODULE REPLACEMENTS
ARE IN THIS PDS. THEY NEED TO BE RE-ASSEMBLED AND RE-LINKED
INTO THE LOAD MOUDLE. IF YOU ARE CURRENTLY RUN NJE, THESE MODULES WILL
AND MUST REPLACE YOUR CURRENT ONES. REASON BEING THAT I MADE THE MODS
IN Q1 AND QP BE ACCESSED AS NJE2R2 PARM IN THE HJSTP PROGRAM. SINCE
SP3 HAS NJE INTEGRATED, I THOUGHT THERE WAS NO PROBLEM. IF YOU DO
HAVE NJE, YOU MUST THEREFORE HAVE TWO SEPARATE LOAD MODULES-ONE FOR
NJE/3 AND ONE FOR SP3.

THERE ARE NO DD CARD OR LINK CHANGES

TWO NOTES:  1) IN THE HJSTMAP MODULES, UPDATES SHOULD BE MADE TO
               MAP EQUIVALENCE TABLES INTO THE NEW FORMAT (NNNNRRRR).
               I HAVE NOT DONE THIS TO DATE.

            2) I CURRENTLY DO NOT RUN NJE-THEREFORE THERE COULD
               BE ERRORS IN HJSTP THAT I HAVE NOT FOUND YET. I'LL
               BE GLAD TO DISCUSS THESE ON THE TELEPHONE.



                                              FRANK R. RUSBASAN
                                              MELLON BANK, N.A.
                                              (412) 232-5743


@FILE014@***************************************************************
*
*         F I L E   1 4    N E R D C   Q U E U E   C O M M A N D
*
************************************************************************

     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

THIS FILE IS THE NERDC'S VERSION OF THE QUEUE COMMAND, WHICH SUPPORTS 32
MODELS 2, 3, 4, AND 5, AND CAN BE ASSEMBLED TO OPERATE IN THE FOLLOWING
ENVIRONMENTS:
     MVS/JES2-SP REL 2
     JES2/NJE REL 3.1
     JES2 REL 4.1

SEE MEMBER $UFDOC FOR FURTHER INFORMATION.

SEE MEMBER $LOG FOR A LIST OF THE MODIFICATIONS MADE FOR EACH TAPE VERSI

AS OF VERSION 4 OF THIS TAPE, THE QUEUE COMMAND HAS BEEN UPDATED WITH
MODIFICATIONS PROVIDED BY WALT FARRELL OF RAINIER NATIONAL BANK.
THESE MODIFICATIONS ARE DETAILED IN MEMBER $RNBDOC, AND ARE SUMMARIZED B
     - IMPROVED TCAM SUPPORT
     - RACF SUPPORT
     - PROCESS BOTH THE LOCAL AND REMOTE QUEUES FOR JOBS AWAITING PRINT/
     - STATUS AND DJ COMMANDS WILL PROCESS THE CONVERSION, DUMP, AND OUT

AS OF VERSION 14 OF THIS TAPE, THE QUEUE COMMAND HAS BEEN UPDATED WITH
MODIFICATIONS PROVIDED BY BOB JINKINS AT ONL.
THESE MODIFICATIONS ARE DETAILED IN MEMBER $ONLDOC, AND ARE SUMMARIZED B
     - CREATE A SINGLE AUTHORIZATION CSECT THAT CONTAINS ALL OF THE USER
       AUTHORIZATION TESTS FOR THE QUEUE COMMAND.  THIS INCLUDES COMMAND
       JOB, AND DATASET TESTING, WITH FACILITIES FOR USE OF RACF OR ACF2
     - THE HELP COMMAND ONLY LISTS COMMANDS WHICH ARE VALID FOR THE CURR
       USER.

@FILE015@***************************************************************
*
*         F I L E   1 5    N E R D C   R M T 3 6 0   W O R K S T A T I O
*
************************************************************************

     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

THIS FILE CONTAINS THE NERDC'S VERSION OF THE OLD IOWA WORKSTATION PACKA
THAT ALLOWS A PROGRAM RUNNING UNDER MVS OR MVT TO EMULATE A HASP MULTILE
WORKSTATION.  THIS IS USEFUL FOR TESTING AND AS A WAY TO PASS JOBS AND
OUTPUT TO SYSTEMS THAT ARE NOT YET RUNNING A NETWORKING VERSION OF JES2.

@FILE016@***************************************************************
*
*         F I L E   1 6    N E R D C   J E S M O D S
*
************************************************************************

     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

THIS FILE CONTAINS SEVERAL OF THE NERDC'S MODIFICATIONS TO THE SP VERSIO
JES2.
THE FOLLOWING MODIFICATIONS ARE INCLUDED:
    NE000    * DOCUMENTATION CONTROL.
    NE001    * SUPPRESSION OF $HASPGEN COPY CODE EXPANSION.
    NE003    * ISSUE LOAD POINT MESSAGES.
    NE004    * CONDITIONAL INITIALIZATION PROCESSING.
    NE005    * INITIATORS WILL BE INITIALIZED AS DRAINED ($PI).
    NE008    * NERDC CONTROL BLOCK FILLERS.
    NE009    * SUPPORT FOR NERDC COMMAND ADDITIONS.
    NE010    * $YM COMMAND TO LIST MODULE ADDRESSES.
    NE011    * CHANGE $D'JOBNAME' TO NOT REQUIRE ENDING APOSTROPHE.
    NE012    * JOB DISPLAY BY PREFIX.
    NE013    * HASPXJ04 - READER CONTROL CARD SCAN EXIT.
    NE016    * OUTPUT HEADER LINE SPECIFICATION.
    NE020    * PLACE STARS ON FOLD OF HEADER PAGE.
    NE021    * SELECTABLE PRINT TRANSLATION.
    NE026    * CHANGE $COFCVE IN HASPCOMM TO SUPPORT NUMBERS > 99999.
    NE028    * RESTRICTIONS ON $ COMMANDS FROM READERS.
    NE030    * ALLOW 'REMOTE' ON ROUTE CARDS.
    NE031    * SMF ID OF CREATING SYSTEM ON SYSLOG.
    NE044    * CHECK SMFWTM RETURN CODES IN HASPMISC.
    NE045    * DO NOT PRINT DELETED JOBS ROUTED TO LOCAL.
    NE052    * $YB COMMAND TO LIST AVAILABLE BUFFERS.
    NE067    * ALLOW SNA/SCS 3287'S AS REMOTE PRINTERS (MAY NOT WORK).
    NE068    * PERFORMANCE CHANGE IN HASPBSC COMPRESSION ROUTINE.
    NE072    * TREAT /*EOF AND /*EOJ CARDS AS VALID JECL.
    NE075    * CHANGE $DQ TO LIST NUMBER OF HELD JOBS OF THOSE LISTED.
    NE076    * CHANGE $DQ & $DN TO IGNORE HELD JOBS IF "H=N" IS SPECIFIE

IN ADDITION, A VERSION OF THE JES2 PERFORMANCE MONITOR IS INCLUDED IN ME
    JESMON   * THE MONITOR PROGRAM
    JESMONR  * THE REPORT PROGRAM
    JESMOND  * THE DOCUMENTATION FILE (TSO FORMAT / WATERLOO SCRIPT INPU

IN ADDITION, MODS TO VM/RSCS ARE PROVIDED TO ALLOW A VM NODE TO BE ATTAC
TO A JES2 NETWORK WITHOUT THE NEED OF CONNECT CARDS AT THE JES2 NODE.
THIS WILL ONLY WORK IF THE VM NODE IS AN 'ENDNODE' (NO STORE AND FORWARD
SINCE RSCS WILL ACCEPT BUT NOT UNDERSTAND THE NCC RECORDS.
    RSCS2NJE * THE VERSION FOR RELEASE 2 OF RSCS
    RSCS3NJE * THE VERSION FOR RELEASE 3 OF RSCS
               (NOTE THAT THE RELEASE 3 VERSION WILL NOT WORK WITH CTC'S

@FILE017@***************************************************************
*
*         F I L E   1 7    A I R F O R C E   J E S M O D S
*
************************************************************************

                                   19 APRIL 1983

   COURTESY:  JIM MARSHALL, CAPT, USAF
              SAN ANTONIO DATA SERVICES CENTER
              8630 BROADWAY
              SAN ANTONIO, TX  78217
              1-512-828-0201/0334


    THE FOLLOWING ARE SOME JES2 EXITS FROM THE AIR FORCE DATA SERVICES
 CENTER, PENTAGON, WASH  DC.  THESE EXITS WERE NOT WRITTEN BY ME, I
 JUST RECENTLY LEFT THERE AND STILL HAVE THE CONTACTS. IF THERE ARE
 ANY QUESTIONS, YOU CAN CONTACT

            PAUL FINDLEY, 1LT, USAF
            AIR FORCE DATA SERVICES CENTER
            PENTAGON / CMIS - ROOM 1C1039
            WASHINGTON  DC  20330
            1-202-695-1274/2478


   JESEX001 - SEPARATOR PAGE EXIT FOR PRINT AND PUNCH. ALSO GOES TO
              TO EXIT 255

             JESEX255 - PRINT A LOCAL RECEIPT ON A 328X TYPE PRINTER
                        FOR ALL JOBS PRINTED LOCAL. KEYS OFF TRAILER
                        PAGE FOR ALL LOCALLY PRINTED JOBS. HELPS
                        OPERATORS TO FIND ALL THE JOBS.

   JESEX002 - RESTRICT THE JOB CLASSES ON SUBMIT. ALSO THEY RUN A
              3330-1 AND 3330 SPOOL. MAKE ALL OUTPUT GO TO 3330-1
              UNLESS IT IS FULL AND THEN GO TO 3330.

   JESEX010 - SUPPRESS THE $WTO PUT OUT BY THE GENERATION OF THE
              RECEIPT

@FILE018@***************************************************************
*
*         F I L E   1 8 - 1 9    O N L   R M T 3 6 0   W O R K S T A T I
*
************************************************************************

The following is an abstract of the HASP Remote Terminal Programs
supplied by the Oak Ridge National Laboratory:

SHARE Installation Code = ONL

Installation Contact = Robert M. Jinkins
   (JES2 only)         Computer Sciences Division
                       Union Carbide Corp., Nuclear Division
                       Oak Ridge National Laboratory
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = Any

Last Update = NOV 1981

Distribution Format = IEBCOPY Unloaded PDS
   File 1 = Source and Documentation:
               PDS: DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120),
                    UNIT=3350,SPACE=(TRK,(60,10,5)
               Tape: DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)
                     Non-labeled, 6250 BPI.
   File 2 = Old HASP RMTGEN Load Module:
               PDS: DCB=(RECFM=U,BLKSIZE=7294),
                    UNIT=3350,SPACE=(TRK,(2,,2))
               Tape: DCB=(RECFM=VS,LRECL=7310,BLKSIZE=7314)
                     Non-labeled, 6250 BPI.

Mod Format = Source, Documentation, and RMTGEN input.

Mod Documentation = Member $$$INDEX in the first file
                    (The member you are now reading).

Disclaimer = The authors, make no representation or warranty of any
   kind whatsoever, including, but not limited to, representations
   or warranties, express or implied, or merchantability, fitness for
   use or purpose, accuracy or completeness of processes, procedures,
   designs, definitions, instructions, information, or functioning of
   any programs, documents, or related materials; the authors further
   expressly disclaim any knowledge of purpose for which these programs,
   documents, or related material may be utilized or their applicability
   for such use, nor shall the fact of making them available constitute
   any such representation, warranty, or knowledge; nor do the authors
   assume any liability, responsibility, or obligation arising from the
   use or malfunctioning of these computer programs, documentation, or
   related materials.

Acknowledgment: The basic workstation program mods were written at the
   University of Iowa and were futher modified by Jack Schudel at the
   University of Florida.

Note: Member RMTJOUT is an example of using VSAM to write to an
      internal reader.

                                                             × Member
Description of Program or Documentation                      × Name(s)
=============================================================#=========
The member you are reading now is called $$$INDEX.           × $$$INDEX
-------------------------------------------------------------+---------
This is the IBM source for the HASP II.3.1 System 360        × HRTPB360
workstation program. This stand-alone workstation source is  ×
used with RMTGEN type update mods to create new workstation  ×
programs which run on MVT and MVS systems.                   ×
-------------------------------------------------------------+---------
This member contains the default options needed to do a      × HRTPOPTS
RMTGEN.                                                      ×
-------------------------------------------------------------+---------
This is the RMTGEN input to create a workstation program     × HRTP
which can run as a task on an MVT or MVS system. The members × JCL
are:                                                         × PROC
  HRTP - The RMTGEN input.                                   ×
  JCL  - Model JCL to do the RMTGEN.                         ×
  PROC - Model PROC to execute the workstation program.      ×
-------------------------------------------------------------+---------
*** The following code has not been used since July 1981 *** ×
The HASP II.3.1 System 360 stand-alone workstation program   × DOCRMT1
was modified to run as a task under MVT or MVS. At ONL, the  × DOCRMT91
workstation program has been futher modified to create two   × DOCST91
special purpose workstations:                                × RMT1
 - A workstation which receives job streams as punched data  × RMT91
   and passes the jobs to MVT/HASP via an internal reader.   × RMTCONEX
 - A workstation which receives SYSOUT output along with     × RMTJOUT
   special separator information which is used to generate   × RMTPPU
   a job using the user's Jobname, Account number, Programmer×
   name, Destination, SYSOUT Class, and Forms number.        ×
These workstation programs along with a few MVT/HASP mods    ×
allow an MVT/HASP system to function as a sort of crude NJE  ×
node. The package consists of the following members:         ×
  DOCRMT1  - Operator documentation for the SYSOUT Receiver. ×
  DOCRMT91 - Operator documentation for the Job Receiver.    ×
  DOCST91  - Operator documentation on a special command     ×
             to determine the availibility of the links.     ×
  RMT1     - The SYSOUT Receiver workstation update.         ×
  RMT91    - The Job Receiver workstation update.            ×
  RMTJOUT  - A subroutine used by RMT1 to generate Jobs.     ×
  RMTPPU   - A program executed to reconstruct SYSOUT output.×
=============================================================#=========

@FILE020@***************************************************************
*
*         F I L E   2 0 - 2 1   ( N U L L )
*
************************************************************************


@FILE022@***************************************************************
*
*         F I L E   2 2    E . F . M A C D O N A L D   E X I T 0 0 5
*
************************************************************************

 THIS PROGRAM IS A JES2/SP2 (FMID HJE2226) USER EXIT #5 ROUTINE.
 THERE ARE NO INSTALLATION UNIQUE CONSIDERATIONS EXCEPT THAT THE
 COMMANDS "$JC", "$JL", "$JM" AND "$JD" ARE NOT BEING USED FOR
 ANYTHING ELSE.  NO CHANGES TO JES2 CODE ARE REQUIRED.

 WHILE THIS PROGRAM IS NOT SUPPORTED IN ANY WAY WHEN USED OUTSIDE THE
 AUTHORS INSTALLATION, WE WOULD LIKE TO HEAR OF ANY SUGGESTIONS OR
 PROBLEMS.

                            TOM SLONE
                            E. F. MACDONALD COMPANY
                            129 SOUTH LUDLOW STREET
                            DAYTON, OHIO   45402
                               (513) 226-5520

 THE PROGRAM PROVIDES FOUR BASIC FUNCTIONS:

    1.  CANCEL ALL JOES (JOB OUTPUT ELEMENTS) OF A SPECIFIED JOB
        IN A SPECIFIED SYSOUT CLASS.  SIMILAR TO VS1 "C JOBNAME,OUT=X"
        EXAMPLES:
           $JCJ175,Q=D (CANCEL ALL SYSOUT=D JOES OF J175)
           $JC'MYJOB',Q=E (CANCEL ALL SYSOUT=E JOES OF JOBNAME "MYJOB"
        THE OPERAND "Q=" IS REQUIRED; USE JES2 "$C" COMMAND TO CANCEL
        ALL OUTPUT OF A JOB.

    2.  LIST ALL JOES IN SYSOUT CLASS ORDER.
        LIST MAY BE RESTRICTED TO A SELECTED CLASS, OR ALL CLASSES
        EXCEPT A SELECTED CLASS.  SIMILAR TO THE VS1 "SO" COMMAND.
        EXAMPLES:
           $JL      (LIST ALL JOES IN SYSOUT CLASS ORDER)
           $JL,Q=Z  (LIST ALL JOES IN SYSOUT QUEUE Z)
           $JL,Q=-P (LIST ALL JOES EXCEPT THOSE IN SYSOUT QUEUE P)
        EACH SELECTED JOE IS LISTED IN THE FOLLOWING FORMAT:
        JNNNN JJJJJJJJ C IIII.IIII FORM FCB  L=X S=Y P=NN LLLLLLLLL
        WHERE JNNNN IS THE JES2 JOB NUMBER (J175, S3968, ETC.),
        JJJJJJJJ IS THE JOBNAME, IIII.IIII IS THE JOE ID, FORM IS
        THE FORM NUMBER, FCB IS THE FCB NAME, "X" IS "Y" IF THE DEST
        IS LOCAL, "Y" IS "Y" IF THE JOE IS SELECTABLE AND THE *JOB*
        IS NOT HELD, "Y" IS "N" IF THE JOE IS NOT SELECTABLE,
        "Y" IS "H" IF THE JOB IS HELD, "NN" IS THE PRIORITY OF THE
        JOE (NOT THE JOB), AND LLLLLLLLL IS THE JOE LINECOUNT.
        TO LIST ALL JOES OF A PARTICULAR JOB, USE THE JES2
        "$L...,ALL" COMMAND.

    3.  MOVE THE JOES OF A SELECTED JOB FROM A SELECTED SYSOUT CLASS
        TO A DIFFERENT SELECTED SYSOUT CLASS.  SIMILAR TO VS1
        "E JOBNAME,CLASS=X,OUT=Y".  EXAMPLES:
           $JMJ175,FROMQ=X,TOQ=Y (MOVE J175 SYSOUT=X JOES TO SYSOUT=Y)
           $JM'MYJOB',TOQ=C,FROMQ=G (MOVE JOBNAME "MYJOB" SYSOUT=G
                                     JOES TO SYSOUT=C)
        TO MOVE *ALL* JOES OF A JOB TO A SELECTED SYSOUT CLASS, USE
        THE JES2 "$TO" COMMAND.

    4.  DISPLAY THE CURRENT JULIAN DATE.  THIS IS INTENDED FOR
        USE WITH THE JES2 AUTOMATIC COMMAND FACILITY TO DATESTAMP
        HARDCOPY LOGS.  FORMAT IS "$JD"; NO OPERANDS.

@FILE023@***************************************************************
*
*         F I L E   2 3    A B S T R A C T   F R O M   O L D   T A P E
*
************************************************************************

THIS FILE CONTAINS THE ABSTRACT FILE FROM THE ORIGINAL JES2 PROJECT MODS
TAPE THAT WAS STARTED BY STEVE ANDERSON IS NOW AVAILABLE ONLY THROUGH TH
PROGRAM LIBRARY AGENCY AS PROGRAM NUMBER 370D-05.6.001.  THAT TAPE CONTA
MODIFICATIONS THAT ARE APPLICABLE TO JES2 AND NJE VERSIONS PRIOR TO SP 1

@FILE024@***************************************************************
*
*         F I L E   2 4    J E S 2   P E R F O R M A N C E   M O N I T O
*
************************************************************************

THIS FILE CONTAINS A VERSION OF THE JES2 PERFORMANCE MONITOR THAT HAS BE
UPDATED FOR JES2 AT THE SP 1.3.0 LEVEL.

THE ORIGINAL MONITOR WAS DEVELOPED BY STEVE MYERS OF INA, WITH ENHANCEME
PROVIDED BY SELBY SHANLY OF DATACROWN.
SP SUPPORT WAS PROVIDED BY MELLON BANK, AND FURTHER EXTENDED BY JOHN KIN
AT LOCKHEED AND BILL MOSTELLER AT BOEING COMPUTER SERVICES.

@FILE025@***************************************************************
*
*         F I L E   2 5    H I T A C H I   X R E F A S M   P R O G R A M
*
************************************************************************

AUTHOR:        A. BRUCE LELAND
               HITACHI AMERICA, LTD.
               1800 BERING DRIVE
               SAN JOSE, CALIF. 95112
               (408) 292-6404

XREFASM:       A CROSS REFERENCE CONSOLIDATION PROGRAM FOR SYSTEMS
               OF ASSEMBLER ROUTINES (SUCH AS THE JES2 SUBSYSTEM).


OPERATION:     THE ASSEMBLER LISTINGS ARE READ BY THE PROGRAM
               WHICH ABSTRACTS THE LISTING CROSS REFERENCE DATA,
               SORTS SYMBOLS ALPHABETICALLY AND PRODUCES THE FINAL
               CONSOLIDATED CROSS REFERENCE REPORT.

SUPPORTED ASSEMBLERS:

     A.  STANDARD MVS ASSEMBLER (IFOX)

     B.  ASSEMBLER "H" PRODUCT

JCL:

     //STEPNAME  EXEC PGM=XREFASM
     //LISTINGS    DD DSN=ASSEMBLER.INPUT.LIST,DISP=SHR
     //SORTWK01    DD UNIT=SYSDA,SPACE=(CYL,(10,10))
     //SORTWK02    DD UNIT=SYSDA,SPACE=(CYL,(10,10))
     //SORTWK03    DD UNIT=SYSDA,SPACE=(CYL,(10,10))
     //SYSOUT      DD SYSOUT=A                   -SORT PGM MESSAGES-
     //SORTLIB     DD DSN=SYS1.SORTLIB,DISP=SHR  -MAY NOT BE NEEDED-
     //SYSPRINT    DD SYSOUT=A                   -CONSOLIDATED XREF-

OPTIONS:

     A.  IF A FULL CROSS REFERENCE (LIKE THE XREF(FULL) OPTION) IS
         DESIRED, PARM=FULL MAY BE CODED ON THE EXEC STATEMENT.  NOTE
         THAT THIS OPTION IS ONLY EFFECTIVE IF THE LISTING DATA SET
         WAS GENERATED WITH THE XREF(FULL) OPTION IN THE ASSEMBLIES.

     B.  THE LISTINGS DD STATEMENT MAY DEFINE A PDS (PARTITIONED
         DATA SET).  IF THAT IS THE CASE, ALL DATA FROM ALL OF THE
         PDS MEMBERS WILL BE USED.

     C.  THE LISTINGS DD STATEMENT MAY DEFINE ONE OR MORE CONCATENATED
         SEQUENTIAL DATA SETS.  IF THIS IS DONE, THE DATA SET WITH
         THE LARGEST BLOCKSIZE MUST BE THE FIRST DATA SET IN THE
         THE CONCATENATION SEQUENCE (ALTERNATIVELY, A LARGE BLOCKSIZE
         COULD BE PROVIDED FOR THE FIRST DATA SET BY OVERRIDING THE
         DCB PARAMETER WITH A LARGE, VALID BLOCKSIZE VALUE).

RESTRICTIONS:

     A.  THE FIRST "TITLE" STATEMENT OF EACH ASSEMBLY PROGRAM SHOULD
         HAVE A ONE-TO-EIGHT CHARACTER NAME FIELD WHICH IDENTIFIES
         THE PROGRAM SO THAT A SYMBOL CAN BE TRACKED BACK TO ITS USE
         BY MODULE NAME.

     B.  ALTHOUGH LITERALS ARE ALSO CROSS REFERENCED, THEY ARE ONLY
         ALLOWED A 100 CHARACTER LISTING LENGTH (AS APPOSED TO THE
         THEORETIC MAXIMUM OF ABOUT 174 CHARACTERS).  LITERALS WITH
         MORE LISTING CHARACTERS WILL PROBABLY CAUSE INCORRECT
         RESULTS ON AT LEAST THE OUTPUT LINES LISTING THOSE LITERALS.

@FILE026@***************************************************************
*
*         F I L E   2 6    U . S .   C H A M B E R   O F   C O M M E R C
*
************************************************************************


        THIS IS THE EQUIV OF US SENATES IEFUJV CONVERTED TO JES EXIT-6

          IT IS IN PRODUCTION AT US CHAMBER OF COMMERCE

            FOR FURTHER INFO CONTACT DICK CEASER AT (301) 468-5169




            INSTALLION INSTRUCTION
    ----------------------------------------
    1. COPY $CLASS, CLASSTAB, CLEXAMP AND SMF239 TO YOUR MACLIB
    2. ASSEMBLE CLASS TABLE AND EXIT6 INTO A LNKLST LIBRARY
      (SEE EXAMPLES IN MEMBERS CLA$TAB2 AND EXIT6  )
    3. ALLOCATE A SNAP DUMP DATA SET AND PUT DD STMT IN JES2 PROC
    4. MODIFY JES PARMS DEFINE AND LOAD JESXIT6
        (E.G. EXIT006  JESXIT6,ENABLE      AND
              LOAD JESXIT6 )
       MODIFY PARMLIB MEMBER SMFPRM00 TO GATHER TYPE 239 RECORDS
    5. TEST... SMFPGM WILL PRINT REPORT OF SMF TYPE 239 USER RECORDS
         SO YOU MAY WANT TO ASM AND LINK AND USE THIS PROGRAM TO TRACK
         JOB CLASS ASSIGNMENTS
       ALSO SNAP WILL PRINT THE KEY DATA AREAS SNAPPED
       (YOU CAN ZAP THE VARIOUS BRANCH INSTRUCTIONS TO FORCE SNAPS)



NOTE: DSFIND AND FINDMEM ARE LITTLE PGMS I FOUND HANDY TO 'FIND THINGS'
      SEE LISTINGS

@FILE027@***************************************************************
*
*         F I L E   2 7    S N A   3 2 8 7   S U P P O R T
*
************************************************************************


                              JES2 modifications for
                                SNA printer support

                                   Knud Nielsen
                              Copenhagen Handelsbank
                                  EDP Department
                                  Holmens Kanal 2
                               DK-1091 Copenhagen K
                                      Denmark
                           Tel. +45 2 96 55 33 ext. 2183
                                  March 14, 1983


          In the following description, the individual modifications wil
          be designated  by the SMP  SYSMOD identifications  assigned fo
          our system, e.g. LOC0058.
          The modifications are shipped on the tape in SMP format.
          All modifications apply to JES2 release SP1.3.0.

          LOC0043
          This  update for  HASPSNA  provides  support for  SNA  printer
          (3287, 7436, 3289) as JES2 remote printers.  Other SNA printer
          (3776,  8100) can  be  used by  JES2  as  before applying  thi
          change.
          Developed by B&W Diesel, Copenhagen.

          LOC0042
          This update for HASPSNA provides sharing of SNA printers betwe
          en JES2  and IMS or another similar VTAM application.
          May be  applied jointly  with modification  LOC0043 or  withou
          LOC0043.
          Developed by Copenhagen Handelsbank, November 1980.

          LOC0058
          This update for HASPCOMM enhances  the response to the operato
          command
              $DU,RMTnnn
          when the actual remote is an SNA work station.  With this upda
          te, the  SNA LUNAME  will be  displayed on  the console.   Thi
          information  will help  operators  diagnose  problems with  I/
          errors etc.
             If operators  are able  to alter  the LUNAME  (see LOC0059)
          this mod is  required to see the actual LUNAME  assigned to th
          remote.
          Developed by Copenhagen Handelsbank, March 1982.

          LOC0059
          This update for HASPCOMM provides a new operand
              N=luname
          in the operator command
              $TRMTnnn
          which makes by operator able to alter the LUNAME of a SNA remo
          te.
          See syntax rules in the actual code.
          NOTE:
          This modification has been used to alter LUNAMEs, not to assig
          a LUNAME to a SNA remote  without LUNAME specified in JES2PARM
          If an empty LUNAME  is to be replaced, we suggest  you add thi
          statement in the SETLUNAM copy member after EX R15,LUNAMMVC:
            OI  RATFLAGS,RATPILUN   LUNAME permanently assigned  KHB0064
          Developed by Copenhagen Handelsbank, March 1982.

          LOC0100
          Teamco, Norway has experienced a  problem with the present JES
          SNA support if 3270-type SNA printers are used on a JES2 syste
          which  also  communicates with  IBM  8100  og IBM  3970.   Thi
          problem was solved by Teamco using an additional JES2 modifica
          tion which is also included on the tape.

NOTE:
    The following comments contributed by Bill Mosteller (BCG). (03 AUG
    There may be problems with regular SNA RJE devices since some of the
      do not request FM Headers in the bind, but do require them from JE
    Possible fixes are being worked on by a few sites, and will be inclu
      as soon as they are available.

@FILE028@***************************************************************
*
*         F I L E   2 8    T U C C   N J H   M O D S
*
************************************************************************

TUCC NJE HEADER AND TRAILER USER SECTION EXTENSIONS.

JIM WALKER
TRIANGLE UNIVERSITIES COMPUTATION CENTER
P. O. BOX 12076
RESEARCH TRIANGLE PARK, NC  27709
(919) 549-0671

THIS MODIFICATION IS DISTRIBUTED AS AN UNLOADED PDS WITH 12 MEMBERS.


TUCC EXTENDS THE NJE HEADER AND TRAILER TO INCLUDE LOCALLY REQUIRED
INFORMATION.  OTHER INSTALLATIONS MAY BE INTERESTED IN THE TECHNIQUE
USED FOR THE USER SECTION EXTENSIONS, BUT PROBABLY NOT IN THE
SPECIFIC TUCC DATA.

THE MODIFICATION IS WRITTEN TO ALLOW NON-TUCC TYPE USER
SECTIONS TO BE RECEIVED, SAVED, AND RETURNED.  WE CONSIDER THIS
TO BE AN IMPORTANT FEATURE, BECAUSE IT ALLOWS US TO COMMUNICATE
WITH OTHER NODES WHICH MAY HAVE A DIFFERENT FORMAT.

THE MODIFICATION IS IMPLEMENTED VIA 4 USER EXITS.  EXIT 236 IS
INVOKED FROM HASPRDR TO ADD A TUCC USER SECTION TO THE NJE
HEADER AND TRAILER UNLESS ANOTHER NODES USER SECTION WAS RECEIVED
VIA NJE.  IF ANOTHER FORMAT USER SECTION WAS RECEIVED, IT IS
SAVED UNMODIFIED AND WILL BE RETURNED.  EXITS 237-239 ARE
INVOKED FROM HASPNET TO UPDATE THE TUCC USER SECTION ON
JOBS BEING TRANSMITTED IF A TUCC USER SECTION EXISTS FOR THE
JOB.  IF A TUCC USER SECTION DOES NOT EXIST, THESE EXITS DO
NOTHING.

MUCH OF THE INFORMATION INCLUDED IN THE TUCC USER SECTIONS IS
GATHERED FROM SMF RECORDS AS THE JOB RUNS. THEREFORE THE DATA
IS NOT AVAILABLE UNTIL THE JOB HAS COMPLETED EXECUTION.  INSTEAD
OF KEEPING THE INFORMATION UPDATED AT ALL TIMES, WE UPDATE IT
JUST AS IT IS BEING TRANSMITTED.  HENCE THE REQUIREMENT FOR
THE UPDATE EXITS FROM HASPNET.


THE FOLLOWING MEMBERS ARE INCLUDED:

ABSTRACT - THE MEMBER YOU ARE CURRENTLY READING
HASPRDR  - IEBUPDTE STATEMENTS TO UPDATE HASPRDR (1 COPY STATEMENT)
HASPNET  - IEBUPDTE STATEMENTS TO UPDATE HASPNET (3 COPY STATEMENTS)
$NHD     - IEBUPDTE STATEMENTS TO UPDATE THE NJE HEADER
           DSECT (2 COPY STATEMENTS FOR HEADER AND TRAILER ADDITIONS)
TUCNJH   - TUCC USER SECTION HEADER DEFINITION, COPIED INTO $NHD
TUCNJT   - TUCC USER SECTION TRAILER DEFINITION, COPIED INTO $NHD
TUC1360A - EXIT 239 INVOCATION, COPIED INTO HASPNET
TUC1360B - EXIT 237 INVOCATION, COPIED INTO HASPNET
TUC1360D - EXIT 238 INVOCATION, COPIED INTO HASPNET
TUC1360E - EXIT 236 INVOCATION, COPIED INTO HASPRDR
EXIT236  - EXIT 236 CODE
NJEHDRX  - EXIT 237, 238, AND 239 CODE

@FILE029@***************************************************************
*
*         F I L E   2 9    H C I   S E C O N D A R Y   L O G O N
*
************************************************************************

         MIKE MINTER    HALLMARK CARDS, INC.
                        DP TECHNICAL SERVICES - #352
                        2501 MCGEE
                        KANSAS CITY, MO. 64108
                PHONE  (816) 274-5965
                       (816) 274-5421

       THIS FILE IS FROM HALLMARK CARDS, INC. AND CONTAINS MVS
       MODIFICATIONS TO ALLOW TSO LOGONS AND MVS START COMMANDS
       TO BE DIRECTED TO A SECONDARY JES2 SUBSYSTEM.

       NO COMMITMENT IS MADE THAT WE WILL MAINTAIN THESE
       PROGRAMS, OR THAT THEY WILL FUNCTION WITH LATER
       RELEASES OF MVS.  THE MODIFICATIONS HAVE BEEN USED
       SUCESSFULLY IN THE FOLLOWING ENVIRONMENTS:
            MVS SE RELEASE 3.8
            MVS SP VERSION 1 RELEASE 1.1  (SP 1.1.1)
            MVS SP VERSION 1 RELEASE 3.1  (SP 1.3.1)

       *****************
       * DOCUMENTATION *
       *****************

       $DOC     - COMPLETE DOCUMENTATION.

       $SMPJCL  - SAMPLE JCL TO INSTALL THESE USERMODS VIA SMP4.

       HVT      - A MAPPING MACRO USED TO DEFINE THE HALLMARK
                  VECTOR TABLE (HVT) WHICH IS POINTED TO BY
                  THE CVTUSER FIELD OF THE CVT.
                  A ONE BIT FLAG IS USED IN THIS TABLE TO INDICATE
                  THAT THE SECONDARY JES2 LOGON/START CODE IS
                  ENABLED OR DISABLED.

       TMVS024  - SOURCE CODE FOR USERMOD TMVS024 THAT WILL
                  INSTALL THE "HALJSWT" CSECT INTO THE STARTED
                  TASK CONTROL LOAD MODULE (IEESB605).
                  THE USERMOD IS COMPLETELY INSTALLED VIA SMP4
                  RECEIVE AND APPLY PROCESSING.  CHANGE THE FMID
                  FROM JBB1326 TO YOUR LEVEL OF MVS.  REMOVE OR
                  ALTER THE CODE THAT REFERENCES THE HVT TO SUIT
                  YOUR OWN NEEDS.

       TMVS025  - THIS IS A USERMOD SUPERZAP TO MODULE IGG0193K
                  WHICH IS NEEDED TO ALLOW THE IEFSSREQ OPEN
                  REQUEST FOR THE STCINRDR OR THE TSOINRDR TO
                  BE PROCESSED BY THE SECONDARY JES2.

@FILE030@***************************************************************
*
*         F I L E   3 0    N F I   M O D S
*
************************************************************************

         NORTHWESTERN BANK EXITS, PROGRAMS, AND UTILITIES

         JOHN V. HOOPER
         NORTHWESTERN BANK
         P.O. BOX 310
         NORTH WILKESBORO, NORTH CAROLINA 28674

         PHONE (919) 651-5423   8:30 - 5:00 MONDAY-FRIDAY


  JES$LF   - A JES2 EXIT (5) TO PROVIDE OPERATOR CAPABILITY TO DISPLAY
             DETAILED INFORMATION ABOUT JOBS IN THE PRINT QUEUE.
             IT IS DESIGNED TO ENHANCE THE DISPLAY NORMALLY PROVIDED
             BY THE $DF COMMAND.

  JESEXIT1 - A JES2 EXIT (1) TO PROVIDE ENHANCEMENTS TO THE IBM SUPPLIED
             SEPARATOR PAGE.  SUPPORT IS ALSO PROVIDED FOR THE KODAK
             KOMSTAR MICORFICHE PROCESSOR AND THE IBM 6670 DOCUMENTATION
             PROCESSOR.

  JESEXIT5 - A JES2 EXIT (5) TO FILTER JES2 COMMANDS TO DISALLOW CERTAIN
             COMMANDS OR OPERANDS ON THE COMMANDS.

  JESEXIT6 - A JES2 EXIT (6) TO PERFORM STANDARDS ENFORCEMENT FOR JCL
             AS WELL AS SET THE JOB CLASS BASED UPON THE RESOURCES
             SUCH AS TAPE UNITS, REGION SIZE, OR CPU TIME.  VIOLATIONS
             TO STANDARDS AND JOB CLASS REPORTING IS MADE TO THE JOB
             MESSAGE DATA SET FOR THE JOB AS IF THE CONVERTER WAS
             PRODUCING THE ERROR MESSAGES.

  JESEXIT9 - A JES2 EXIT (9) TO ABEND TEST JOBS WHICH EXCEED THE
             ESTIMATED LINE COUNT WHILE ALLOWING ALL OTHER JOBS TO
             CONTINUE.

  PRINTDOC - SAMPLE JCL TO PRINT THIS MEMBER ($DOC).

@FILE031@***************************************************************
*
*         F I L E   3 1   M E L L O N   B A N K   J E S M O D S   F O R
*
************************************************************************

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$  ****  *****  **  **   ****       * ******  ****   ****  $
$ *    * *    *  *   *  *    *      * *      *    * *    * $
$ *      *    *  *   *       *      * *      *           * $
$  ****  *****   *   *   ****       * ****    ****   ***** $
$      * *       *   *       *      * *           * *      $
$ *    * *       *   *  *    * *    * *      *    * *      $
$  ****  *      *** ***  ****   ****  ******  ****  ****** $
$                                                          $
$           ****  *    * *****   ****  *****  *            $
$          *    * *    * *    * *    * *    * *            $
$          *      *    * *    * *      *    * *            $
$           ****  ****** *****   ****  *****  *            $
$               * *    * *  *        * *      *            $
$          *    * *    * *  *   *    * *      *            $
$           ****  *    * *   *   ****  *      ******       $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
************************************************************
************************************************************
**************                                **************
************                                    ************
**********                                        **********
*                                                          *
*                                                          *
*             GENERAL DESCRIPTION OF MELLON BANK           *
*                  SHARED SPOOL MODS                       *
*                  FOR JES2 SP 1.3.3                       *
*                                                          *
**********                                        **********
************                                    ************
**************                                **************
************************************************************
************************************************************


************************************************************
*                                                          *
*                 D I S C L A I M E R                      *
*                                                          *
************************************************************

    THE MODS ON THIS TAPE HAVE BEEN USED SUCCESSFULLY AND TO THE
 BEST OF OUR KNOWLEDGE THEY ARE OPERATIONAL, HOWEVER NO WARRANTY
 IS MADE TO THE ACCURACY OF THE MODS AND NO RESPONSIBILITY IS
 ASSUMED FOR ANY MODIFICATION DIRECTLY OR INDIRECTLY CAUSED BY THE
 USE OF THE MODIFICATIONS.  IT IS THE USERS RESPONSIBILITY TO
 EVALUATE THE USEFULLNESS OF THE MATERIAL.

    WE DO NOT GUARANTEE TO KEEP ANY MATERIAL PROVIDED UP TO DATE
 NOR DO WE GUARANTEE TO PROVIDE ANY CORRECTIONS OR EXTENSIONS MADE
 IN THE FUTURE.

************************************************************
************************************************************

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

    THE FOLLOWING IS A BRIEF EXPLANATION OF THE MELLON BANK MODS
MADE TO JES2.  IT IS INTENDED FOR THOSE WHO ARE UNFAMILIAR WITH
PREVIOUS VERSIONS OF HASP OR JES2 SHARED SPOOL SUPPORT AND IS
BEING PROVIDED IN LIEU OF THE FORMAL DOCUMENT ORIGINALLY
DISTRIBUTED WITH THE HASP V4 MELLON MODIFICATIONS.  IF THE WRITE-UP
LEAVES YOU WITH SOME UNANSWERED QUESTIONS, YOU MAY GIVE US A CALL.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

RESOURCE ROUTING CONTROL CARDS

     PROVIDES A FACILITY BY WHICH JOBS CAN BE ROUTED TO SPECIFIC
CPUS DEPENDING ON THE AVAILABILITY OF A PARTICULAR RESOURCE NAME
ASSIGNED TO A CPU.  RESOURCE NAMES ARE USER DEFINED (SYSTEMS PROGRAMMER)
AND SPECIFIED IN THE JES2 MACRO  $RESTABL  .  ONCE DEFINED, THESE
RESOURCE NAMES ATTACHED TO A CPU REMAIN IN EFFECT UNTIL THEY ARE
DETACHED VIA THE $QD COMMAND, OR A COLD START IS DONE AND ALL
RESOURCES ARE THEN UNASSIGNED.

     RESOURCES SPECIFIED IN THE $RESTABL MACRO CAN DEFINE PHYSICAL
I/O GEAR WHICH MAY BE ATTACHED TO ONLY ONE CPU AT A TIME, OR
POSSIBLY A SOFTWARE NAME WHICH MAY ONLY PERTAIN TO ONE PARTICULAR CPU.


SPECIFICATION ... IN $RESTABL MACRO


ASSIGNMENT....... $QA,RESOURCE NAME  ATTACHES A RESOURCE NAME FROM
                                     THE TABLE TO THIS CPU.


                  $QD,RESOURCE NAME  REMOVE RESOURCE NAME FROM THIS CPU


USE............... /*ROUTE XEQ RESOURCE NAME...  FOLLOWING JOBCARD

                   JOB WILL AUTOMATICALLY BE SCHEDULED TO THE CPU(S)
                   BEARING THIS RESOURCE NAME IN ITS QSE


EXAMPLE:    SYSTEM #       RESOURCES ATTACHED
            ________       __________________

               1           DUALD,IMS

               2           3525

               3           IMS,TSO,NOINQ


   //BSPROUT JOB (,,7551,429),'TEST RESOURCE',MSGLEVEL=(1,1),CLASS=A
   /*ROUTE XEQ IMS
   //S1 EXEC PGM=IEFBR14


THIS JOB WILL BE SCHEDULED TO EITHER SYSTEM #1 OR SYSTEM #3


     THE $DC COMMAND IS USED TO DISPLAY THOSE JOBS WHICH HAVE USED
THE /*ROUTE XEQ RESOURCE CONTROL CARD AND NO CPUS HAVE THAT RESOURCE
NAME ATTACHED....  FOR EXAMPLE, USING THE ABOVE LIST, IF A JOB WERE
SUBMITTED WITH A   /*ROUTE XEQ SCANNER   CONTROL CARD, THE JOB WOULD
NEVER EXECUTE NO MATTER HOW MANY INITIATORS WERE AVAILABLE UNTIL
A SYSTEM IN THE COMPLEX WOULD ISSUE A $QA,SCANNER.  THIS WOULD
BE DETECTABLE BY ISSUING A $DC COMMAND WHICH WOULD DISPLAY THOSE
JOBS WAITING FOR RESOURCE NAMES.


     THE $DR COMMAND WILL LIST THE RESOURCE ATTACHED TO EACH CPU.

 EXAMPLE

     $DR          NO OPERANDS  DEFAULTS THIS CPU

     $DR,&SID     LIST SPECIFIC CPU RESOURCES.


     OTHER /*ROUTE CONTROL CARD FORMATS.........

      /*ROUTE XEQ HERE
          JOB WILL BE SCHEDULED FOR EXECUTION ON THE CPU WHICH
          READ THE JCL.  (CONTROLLING THE CARD READER)

      /*ROUTE XEQ CPUX    (WHERE X IS A NUMBER FROM 1 TO 7 )
          JOB WILL BE SCHEDULE TO THE CPU NUMBER SPECIFIED BY
          COMPARING ALL CPU ID'S IN THE QSE.



---------------------------------------------------------------


/*CNTL CARDS................


     THIS FEATURE PROVIDES THE ABILITY TO SINGLE-THREAD JOBS
THROUGH EXECUTION WHICH NEED A DEVICE OF WHICH THERE IS ONLY ONE
AND MUST BE USED SERIALLY.  SOME EXAMPLES WOULD BE THE 3525,
DUALD DENSITY DRIVE AND THE OCR SCANNER.


     BY USING THE /*CNTL CARD, YOU CAN DEFINE A RESOURCE NAME THAT
YOU NEED EXCLUSIVE CONTROL OF.  IF ANY OTHER JOBS COME INTO THE SYSTEM
WITH THE SAME CONTROL NAME, THEY WILL NOT EXECUTE SIMULTANEOUSLY ON
THE SAME OR OTHER CPUS IN THE COMPLEX.  THIS PROVIDES BETTER CONTROL
OVER THE RESOURCES WE HAVE THAT MUST BE USED SERIALLY.  THIS DOES NOT
AFFECT JOBS RUNNING WITHOUT THE /*CNTL CARD OR RUNNING IN A SYSTEM
WITHOUT SHARED SPOOL.


   THE FORMAT FOR RESURCE CONTROL IS :

     /*CNTL RESOURCE,EXC     OR
     /*CNTL RESOURCE,SHR    (DEFAULT SHR)


     USERS MAY ALSO PROTECT DATASETS FROM BEING BEING UPDATED BY
DIFFERENT JOBS ON THE SAME OR DIFFERENT CPUS BY USING THE /*CNTL CARD.
EACH /*CNTL CARD MAY HAVE A 1 TO 8 CHARACTER CONTROL NAME AND AN EXC
OR SHR SPECIFICATION.

     JOBS WITH THE SAME CNTROL NAME WILL NOT EXECUTE SIMUTANEOUSLY
IF ONE OF THE JOBS HAS AN EXC CONTROL SPECIFICATION. JOBS WITH SHR
MAY EXECUTE SIMUTANEOUSLY ON ANY CPU.


EXAMPLES:

    //JOB1 JOB
    /*CNTL MASTER,EXC


    //JOB2 JOB
    /*CNTL MASTER,SHR


  IN THE ABOVE EXAMPLE, WHICHEVER JOB BEGAN EXECUTION FIRST, WOULD
LOCKOUT THE OTHER JOB FROM BEGINNING UNTIL IT HAS COMPLETED.



    //JOB1 JOB
    /*CNTL MASTER,SHR


    //JOB2 JOB
    /*CNTL MASTER


    //JOB3 JOB
    /*CNTL MASTER,SHR


  IN THE ABOVE EXAMPLE, ALL 3 JOBS COULD RUN SIMULTANEOUSLY AS THEY
ALL SPECIFY THE SHR OPTION.


________________________________________________________________


BEFORE AND AFTER CONTROL CARDS


FORMAT :      /*BEFORE JOB1
              /*AFTER JOB1


     PROVIDES A MEANS TO SCHEDULE JOBS BEFORE OR AFTER ANOTHER.
FOLLOWS JOB CARD OR ANY OTHER JES CONTROL CARDS (ROUTE - CNTL ).

     IF THE BEFORE OR AFTER JOBNAME IS NOT IN THE JOBQ, THERE IS
NO ACTION TAKEN ON PREVENTING THE JOB FROM BEGINNING.

EXAMPLE :


    /*PRIORITY     13
    //BSPTEST JOB (,,7551,429),RUSBASAN,MSGLEVEL=(1,1),CLASS=A
    /*ROUTE XEQ MSS
    /*AFTER BSPFIRST
    //S1 EXEC PGM=IEFBR14
    /*
    /*PRIORITY     2
    //BSPFIRST JOB (,,7551,429),RUSBASAN,MSGLEVEL=(1,1),CLASS=A
    /*ROUTE XEQ CPU2
    /*CNTL DUALD,EXC
    //SA EXEC PGM=IEFBR14
    /*


  IN THE ABOVE EXAMPLE, JOB BSPTEST WOULD NOT EXECUTE UNTIL JOB
BSPFIRST HAS FINISHED EXECUTION, EVEN THOUGH BSPTEST HAS A HIGHER
PRIORITY.



********************************************************************
********************************************************************

 EXAMPLES OF ALLOWABLE -MULTI- CONTROL AND ROUTE CARDS COMBINATIONS

    COMBINATION  1.                 ** ONE          AFTER  CARD  **
                                    ** ONE          BEFORE CARD  **
                                    ** NONE TO TWO  CNTL   CARDS **
                /*AFTER   JOBNAME
                /*BEFORE  JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  2.                 ** ONE           AFTER CARD  **
                                    ** NONE TO THREE CNTL  CARDS **
                /*AFTER   JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  3.                 ** ONE           BEFORE CARD **
                                    ** NONE TO THREE CNTL  CARDS **
                /*BEFORE  JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  4.                 ** ONE TO FOUR CNTL    CARD  **
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

*****************************************************************
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$        H    H      J EEEEEE  2222   3332   2222   9999        $
$        H    H      J E      2    2 3    3 2    2 9    9       $
$        H    H      J E           2      3      2 9    9       $
$        HHHHHH      J EEEE      2    3333     2    99999       $
$        H    H      J E       2          3   2         9       $
$        H    H J    J E      2      3    3 2      9    9       $
$        H    H  JJJJ  EEEEEE 222222  3333  222222  9999        $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*****************************************************************
*
*
*  MELLON BANK SHARED SPOOL FOR SP 1.3.3 JES2 FMID(HJE2329)
*
*  THESE CHANGES WILL REQUIRE A COLD START SINCE THEY MODIFY JES2
*  CONTROL BLOCKS (IE. QSE)...
*
*  UNDER SP 1.3.3 JES2 THE VAST MAJORITY OF THE MELLON MOD CODE
*  HAS BEEN REMOVED FROM INSTREAM HASPSRC UPDATES AND HAS BEEN
*  PLACED INTO JES2 EXIT CODE THAT IS TAKEN BY THE JES2 MAIN
*  TASK.
*
*
*  CHANGES FROM STANDARD JES2 AND  HASP.......
*
*  $  HASP $DN AND DQ  COMMANDS.
*
*
*  $  HASP  $OJ IS JES2  $QJ.
*
*      $QJ WILL WORK FOR JOBS IN ALL STAGES....
*        JOBS EXECUTING OR AWAITING EXECUTION WILL SHOW JES2
*         CONTROL CARDS...ROUTE..CNTL..ETC.
*
*      JOBS PRINTING OR AWAITING PRINT WILL SHOW # OF LINES TO
*        PRINT AND OR CARDS TO PUNCH.
*
*
*  $   A RECOVERY ROUTINE HAS BEEN ADDED TO THE COMMAND EXIT WHICH
*      WILL DISCARD ANY COMMAND CAUSING A PROGRAM CHECK AND CONTINUE
*      PROCESSING.
*
*
*
*
*
*   $  THE FOLLOWING MODULES, MACROS, AND CONTROL BLOCK ARE CHANGED.
*
*      $JQE, $QGET, $QSE, $RDRWORK, $HCT , HASPCOMM
*
*
*  $    THE FOLLOWING STATEMENTS NEED TO BE ADDED TO THE JES2 PARAMETER
*       LIBRARY TO ESTABLISH THE NECESSARY JES2 EXIT ENVIRONMENT AT
*       INITIALIZATION TIME:
*
*       LOAD    J2XRDR                       USER LINKLIB LOAD MODULE
*       LOAD    J2XNUC                       USER LINKLIB LOAD MODULE
*       LOAD    J2XCOMM                      USER LINKLIB LOAD MODULE
*       EXIT002 ROUTINE=(MBX002)             JOB CARD SCAN
*       EXIT004 ROUTINE=(MBX004)             JCL/JECL CARD SCAN
*       EXIT005 ROUTINE=(MBX005)             COMMAND PROCESSOR
*       EXIT014 ROUTINE=(MBX014)             $QGET
*       EXIT020 ROUTINE=(MBX020)             END OF INPUT
*       EXIT245 ROUTINE=(MBX245)             COFJMSG SUPPORT
*
*
*
*  $    SEVERAL ADDITIONAL MELLON WRITTEN COMMANDS HAVE BEEN INCLUDED
*       FOR YOUR USE:
*
*       $DRES WILL DISPLAY THE NUMBER OF JES2 RESOURCES CURRENTLY
*       AVAILABLE AS WELL AS THE TOTAL NUMBER DEFINED.  THIS COMMAND
*       COMES IN QUITE HANDY WHEN YOU ARE RECEIVING $HASP050 RESOURCE
*       SHORTAGE MESSAGES.
*
*       $KD WILL DISPLAY THE M.A.S. INITIALIZATION VALUES GOVERNING THE
*       CONTROL OF THE CHECKPOINT DATASET, I.E. &WARNTIM &MINHOLD
*       &MINDORM AND &MAXDORM
*
*       $KT CAN BE USED TO ALTER THE ABOVE MENTIONED VALUES ON A GIVEN
*       MEMBER OF A M.A.S. COMPLEX, I.E.
*
*       $KT,H=NNN     SET &MINHOLD TO NNN 100TH OF SECONDS
*       $KT,M=NNN     SET &MINDORM TO NNN 100TH OF SECONDS
*       $KT,X=NNN     SET &MAXDORM TO NNN 100TH OF SECONDS
*       $KT,W=NNN     SET &WARNTIM TO NNN 100TH OF SECONDS
*
*       $DB WILL DISPLAY A SUMMARY OF THE WORKED BACKLOGGED ON THE
*       M.A.S. COMPLEX.
*
*
*
*
*  $    MEMBER JESMODS ON THIS TAPE CONTAINS IEBUPDTE CARDS THAT UPDATE
*       CODE TO YOUR HASPSRC SOURCE LIBRARY (IT IS ADVISABLE TO CREATE
*       A BACKUP COPY OF YOUR HASPSRC PDS AND APPLY THE MODS TO THAT
*       COPY). ASSEMBLE AND LINK YOUR JES2 SOURCE.  J2XRDR, J2XNUC, AND
*       J2XCOMM SHOULD BE ASSEBMBLED AND LINKED AS SEPARATE APF
*       AUTHORIZED LOAD MODULES AND MUST BE LOCATED IN AN APF
*       IN AN APF AUTHORIZED LIBRARY AVAILABLE TO JES2 AT
*       INITIALIZATION TIME.
*
*       NOTE:  DO NOT LINK THESE EXITS AS REENTRANT OR YOU WILL
*              EXPERIENCE ABEND S0C4 PROBLEMS IN THE EXITS!
*
*
*  $    PLEASE DIRECT ANY INQUIRIES, PROBLEMS ETC TO:
*
*       CHUCK KALISH   MELLON BANK N.A.
*                      ROOM 424
*                      MELLON SQUARE
*                      PITTSBURGH,  PA. 15230
*              PHONE  (412) 232-1525
*
*       GEORGE WOLFORD MELLON BANK N.A.
*              PHONE  (412) 232-1527
*
*
*
*
*
*
*
*****************************************************************
*****************************************************************
  GGGG   OOOO   OOOO  DDDD          L      U    U  CCCC  K    K
 G    G O    O O    O D   D         L      U    U C    C K   K
 G      O    O O    O D    D        L      U    U C      K  K
 G  GGG O    O O    O D    D        L      U    U C      KKK
 G    G O    O O    O D    D        L      U    U C      K  K
 G    G O    O O    O D    D        L      U    U C    C K  K
  GGGG   OOOO   OOOO  DDDDD         LLLLLL  UUUU   CCCC  K   K
*                                                               *


@FILE032@***************************************************************
*
*         F I L E   3 2    N E R D C   Q U E U E   F O R   1 . 3 . 3
*
************************************************************************

     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

THIS FILE IS A FIRST CUT AT UPDATING THE NERDC'S VERSION OF THE QUEUE CO
TO SUPPORT JES2 AT THE SP 1.3.3 LEVEL.  WHEN THIS VERSION IS COMPLETED I
WILL BE MOVED UP INTO FILE 14 AND WILL SUPPORT ALL OF THE CURRENTLY SUPP
LEVELS OF JES2 AS WELL.

NOTE THAT THIS VERSION WAS CUT OUT PRIOR TO THE INCLUSION OF THE ONL MOD
THAT ARE INCORPORATED IN THE FILE 14 VERSION.

THIS CODE IS BEING PROVIDED ON A STRICTLY AS IS BASIS, WITH NO SUPPORT
IMPLIED.  IF IT BREAKS AND YOU CAN FIX IT, I WILL TRY TO INCORPORATE THE
FIXES INTO THE CODE ON A TIME AVAILABLE BASIS.

AT THIS TIME, THE COMMAND IS ABLE TO LOCATE JOBS AND LIST THEIR OUTPUT,
BUT NOTHING HAS BEEN DONE WITH ANY OF THE STATUS DISPLAY COMMANDS.

SEE MEMBER $UFDOC FOR FURTHER INFORMATION.

SEE MEMBER $LOG FOR A LIST OF THE MODIFICATIONS MADE FOR EACH TAPE VERSI


@END@*******************************************************************
************************************************************************
**
**        E N D   O F   S H A R E   J E S 2   M O D S   T A P E
**
************************************************************************
************************************************************************

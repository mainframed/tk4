         MACRO
&LABEL   WRTERM &P1,&P2,&EDIT=XX,&COLOR=XX
         STM    R0&SYSNDX,R1&SYSNDX,SV&SYSNDX SAVE WORK REGS
         LA     R1&SYSNDX,CON&SYSNDX          ADDRESS  DATA
         AIF    (T'&P2 EQ 'O').LENGTH1
         LA     R0&SYSNDX,&P2
         AGO    .LENGTH2
.LENGTH1 ANOP
         LA     R0&SYSNDX,L'CON&SYSNDX        LENGTH OF DATA
.LENGTH2 ANOP
         TPUT   (1),(0)               WRITE IT TO THE SCREEN
         LM     R0&SYSNDX,R1&SYSNDX,SV&SYSNDX RESTORE WORK REGS
         B      WEND&SYSNDX           AND EXIT
SV&SYSNDX DC    2F'0'
R0&SYSNDX EQU   0
R1&SYSNDX EQU   1
         AIF   ('&P1'(1,1) NE '''').NOTLIT1
CON&SYSNDX DC    C&P1
         AGO   .NOTLIT2
.NOTLIT1 ANOP
CON&SYSNDX EQU &P1
.NOTLIT2 ANOP
WEND&SYSNDX   DS    0H
         AIF   ('&EDIT' NE 'XX').END1
         AIF   ('&COLOR' EQ 'XX').END2
.END1    MNOTE 1,'END AND COLOR KEYWORDS ARE INVALID FOR TSO'
.END2    MEND

          DESCRIPTION OF XMSG MACRO

NAME     XMSG  MSGADDR,
               <(P1<,L'P1>)......,PN>
                     OR
               <P1,...,PN>
               <,MCSFLAG=M1>
               <,REPLY=A1>
               <,MSGRA=A2>
               <,WTO=ANY>
                     OR
               <,WTO=ALL>
                     OR
               <,WTO=CONS>
                     OR
               <,WTO=LOG>
                     OR
               <,WTO=TSO>
                     OR
               <,WTO=NONE>
               <,MF=(E,XL)>
                     OR
               <,MF=L>
                     OR
               <,MF=L>

   WHERE
         MSGADDR  = ADDRESS OF THE MESSAGE TO BE SENT
         P1...PN  = PARAMETERS THAT ARE TO BE INSERTED INTO THE MESSAGE
         M1       = THE ADDRESS OF A WORD CONTAINING THE MCSFLAG INFO
         A1       = ADDRESS OF AN AREA TO HOLD A REPLY
         A2       = ADDRESS OF AN AREA WHERE MESSAGE IS TO BE RETURNED
                    THE REPLY= AND MSGRA= OPERANDS ARE MUTUALLY
                    EXCLUSIVE
         WTO=ANY  = THE ROUTINE DECIDES ITSELF WHERE THE MESSAGE IS TO
                    BE SENT DEPENDING ON THE ENVIRONMENT (BATCH OR TSO)
         WTO=ALL  = THE ROUTINE WILL SEND THE MESSAGE EVERYWHERE
         WTO=TSO  = ONLY TPUT WILL BE DONE
         WTO=CONS = ONLY WTO WILL BE DONE
         WTO=LOG  = MESSAGE WILL BE WRITTEN TO LOG
         L        = A LIST FORM OF THE MACRO

         IN AN MF=X FORM OF THE MACRO (THE DEFAULT)
            ALL OPERANDS MUST BE OF THE A CONSTANT TYPE OR
            A REGISTER 2 - 12 CODED IN PARENTHESES
         IN AN MF=E FORM THEY ARE RX TYPE OPERANDS OR A REGISTER 2-12
             CODED IN PARENTHESES
    HERE IS AN EXAMPLE WITH THE MESSAGE IT WOULD HAVE ISSUED:
         XMSG MSG1,FIELD,(FIELD+2,2),MF=()
         LA   9,ANREDE   PARM TO BE INSERTED
         LA   8,L'ANREDE LENGTH
         XMSG MSG1,((9),(8)),TIME,(RCODE+2,2),NAME,REPLY=(ANS,5)

NAME     DC   CL20'WURZELHUBER'
TIME     DC   C'02.01.33'
RCODE    DC   A(15)
ANREDE   DC   CL40'%HERRN PROFESSOR DOKTOR%'
MSG1     DC   C'XMSG01 AN <1D> <4W> UM <2C> UHR: RETURN CODE WAR <3X>'
ANS      DC   CL100' '

  THE FOLLOWING MESSAGE WOULD THEN BE SENT:

       'AN HERRN PROFESSOR DOKTOR WURZELHUBER UM 02.01.33 UHR: RETURN
CODE WAR 000F'

AN ANSWER WOULD THEN HAVE BEEN OBTAINED FROM THE CONSOLE OR TSO
TERMINAL  OPERATOR. LENGTH 5 BYTES.

HOW TO CODE A MESSAGE PARAMETER DESCRIPTORS
         <NT>
          ××
          ××___TYPE OF PARAMETER
          ×
          ×____NUMBER OF PARAMETER PASSED (FIRST,SECOND,THIRD ETC)
   WHERE T = C  FOR CHARACTER INSERTION
         T = X  PARM IS CONVERTED TO HEX
         T = D  PARM HAS A DELIMITER AT THE BEGINNING AND END
         T = W  PARM IS DELIMITED AT END BY A SPACE. (W = WORD)

THOSE CODING XCONTROL ROUTINES SHOULD, IF THEY ARE USING THE XPARM
MACRO, INCLUDE 'MCSFLAG=REG4' ON THE MACRO STATEMENT.

 ./        ADD   NAME=DESCRIBE,LIST=ALL

                E D V   -   I N V E N T A R D A T E I
                =====================================


                        BEDIENUNGSANLEITUNG


ZWECK UND BENUTZER DER INVENTARDATEI
____________________________________

DIE EDV-INVENTARDATEI IST  ALS VERZEICHNIS ALLER GERÖTE  UND PROGRAMME
DES  RECHENZENTRUMS DER  NLV/NAV  KONZIPIERT.  DIESES VERZEICHNIS  IST
HISTORIENFÖHIG  ANGELEGT, D.H.  NEBEN DEM  JETZT G!LTIGEN  VERZEICHNIS
WERDEN   AUCH   ALLE   VERALTETEN   VERZEICHNISSE   AUFBEWAHRT.    DIE
INVENTARDATEI STEHT  ALLEN MITARBEITERN DER  SYSTEMTECHNIK UND  AV F!R
AUSK!NFTE  ZUR VERF!GUNG;  ÖNDERUNGEN SOLLEN  JEDOCH NUR  DIE F!R  DIE
VERWALTUNG DER GERÖTE UND PROGRAMME ZUSTÖNDIGEN MITARBEITER VORNEHMEN.
BEI R!CKFRAGEN UND UNKLARHEITEN STEHT HR. STABREY TEL. (0911) 531 2538
F!R WEITERE AUSK!NFTE ZUR VERF!GUNG.


AUFBAU UND VERWALTUNG DER INVENTARDATEI
_______________________________________

DIE GERÖTE UND  PROGRAMME WERDEN IN PRODUKTGRUPPEN  UNTERGLIEDERT; EIN
VERZEICHNIS DER  PRODUKTGRUPPEN LIEGT  BEI HRN.  LEDERER (TEL.  2528).
EIN AUSZUG DAVON IST IM ANHANG ENTHALTEN.  INNERHALB DER PRODUKTGRUPPE
WERDEN DIE GERÖTE  UND PROGRAMME NACH TYP,  MODELL UND MASCHINENNUMMER
UNTERSCHIEDEN.   BEI  IBM-PRODUKTEN   SIND  DIESE   ANGABEN  AUS   DEM
LIEFERSCHEIN ZU ENTNEHMEN, BEI  NICHT-IBM-PRODUKTEN M!SSEN DIESE WERTE
EVTL.   WILLK!RLICH   GEWÖHLT   WERDEN.   DIE   PRODUKTE   SIND   ALSO
IDENTIFIZIERT DURCH

          PRODUKTGRUPPE    4 BYTES
          TYP              4 BYTES
          MODELL           3 BYTES
          MASCHINENNUMMER  7 BYTES.

SÖMTLICHE DATEN EINES PRODUKTES WERDEN IN EINEM SATZ DER INVENTARDATEI
GESPEICHERT. BEI  ÖNDERUNG DER DATEN  EINES PRODUKTES WIRD  EINE KOPIE
DES  SATZES  ERZEUGT.  DIE  VERSCHIEDENEN  KOPIEN  WERDEN  DURCH  EINE
LAUFENDE  NUMMER UNTERSCHIEDEN.  AUSSERDEM  WIRD  IN JEDER  KOPIE  DER
ZEITRAUM VERMERKT,  IN DEM DIE KOPIE  AKTUELL WAR ODER IST.  DIE KOPIE
EINES  PRODUKTES  UND DAMIT  JEDER  SATZ  DER INVENTARDATEI  IST  ALSO
EINDEUTIG BESTIMMT DURCH

          PRODUKTGRUPPE    4 BYTES
          TYP              4 BYTES
          MODELL           3 BYTES
          MASCHINENNUMMER  7 BYTES
          LAUFENDE NUMMER  3 BYTES.

DER ZEITRAUM DER G!LTIGKEIT IST IN DEN FELDERN G!LTIGVON UND G!LTIGBIS
VERMERKT; DIE AKTUELLE  KOPIE EINES PRODUKTES ENTHÖLT  KEIN G!LTIGBIS.
DIE LAUFENDE NUMMER  BLEIBT DEM BENUTZER DER  INVENTARDATEI VERBORGEN;
BEI NEUAUFNAHME,  ÖNDERUNG ODER  L\SCHUNG VON  PRODUKTEN ARBEITET  DER
BENUTZER  NUR  MIT DEN  ERSTEN  4  SCHL!SSELFELDERN, DIE  DAS  PRODUKT
EINDEUTIG BESTIMMEN. INTERN  WIRD BEI NEUAUFNAHME DIE  LAUFENDE NUMMER
AUF  1  GESETZT.  ÖNDERUNGEN  WERDEN  STETS  AN  DER  AKTUELLEN  KOPIE
VORGENOMMEN; DIE LAUFENDE NUMMER WIRD DABEI UM 1 ERH\HT. ÖNDERUNGEN AN
DEN SCHL!SSELFELDERN  EINES PRODUKTES SIND ZUGELASSEN;  AUSSERDEM KANN
VON  EINEM PRODUKT  EINE KOPIE  MIT  ANDEREN SCHL!SSELFELDERN  ERZEUGT
WERDEN.  ZUSÖTZLICH ZUM L\SCHEN EINES  EINZELNEN PRODUKTES K\NNEN AUCH
ALLE  KOPIEN  VON  ALLEN  PRODUKTEN GEL\SCHT  WERDEN,  DIE  VOR  EINEM
BESTIMMTEN  DATUM  GEÖNDERT  WURDEN.   DAS  LOESCHEN  EINES  EINZELNEN
PRODUKTES  WIRD LOGISCH  DURCHGEFUEHRT; DAS  LOESCHEN  VON KOPIEN  VOR
EINEM ANGEGEBENEN DATUM GESCHIEHT PHYSISCH.


AUSWERTUNG DER INVENTARDATEI
____________________________

AUSWERTUNGEN  K\NNEN WAHLWEISE  AUF TERMINAL  ODER DRUCKER  AUSGEGEBEN
WERDEN. DRUCKLISTEN WERDEN UNTER DER  EIGENEN USERID MIT OUTPUTCLASS C
NACH  PROGRAMMENDE   AUSGEDRUCKT.   DIE  LISTENAUSGABE   AUF  TERMINAL
GESCHIEHT  MIT SPF-BROWSE  ODER SPF-EDIT.   !BER DAS  WERTIGKEITSDATUM
WIRD DIE AKTUALITAET DER  INVENTARDATEI GESTEUERT. STANDARDMÖSSIG WIRD
IMMER DAS TAGESDATUM ALS WERTIGKEITSDATUM  GEWÖHLT, D.H. ES WIRD IMMER
DER AKTUELLE STAND DER  INVENTARDATEI AUSGEWAEHLT.  DURCH MODIFIKATION
DES WERTIGKEITSDATUM  WIRD DER  ZUM ANGEGEBENEN  DATUM AKTUELLE  STAND
AUSGEWAEHLT.  NEUAUFNAHMEN, AENDERUNGEN UND LOESCHUNGEN WERDEN MIT DEM
ANGEGEBENEN  WERTIGKEITSDATUM   DURCHGEFUEHRT.  DIE   BEARBEITUNG  DER
EINZELNEN  PRODUKTE  DER  INVENTARDATEI MUSS  MIT   NICHT-ABSTEIGENDEN
WERTIGKEITSDATEN ERFOLGEN.  BEI SUCHABFRAGEN KANN DAS WERTIGKEITSDATUM
WEGGELASSEN WERDEN; ES WERDEN DANN ALLE PRODUKTKOPIEN DURCHSUCHT.

DAS FORMAT  DER FREIFORMATIERTEN  LISTE IST  IN EINEM  EXTRA ABSCHNITT
BESCHRIEBEN.


BENUTZUNG DES INVENTARDATEI-VERWALTUNGSPROGRAMMS
________________________________________________

DAS INVENTARDATEIVERWALTUNGSPROGRAMM  WIRD IM SPF  MIT DEM  MENU N.9.9
AUFGERUFEN. INNERHALB DES  PROGRAMMS WIRD !BER EIN  AUSWAHLMENU IN DIE
ENTSPRECHENDE VERARBEITUNG VERZWEIGT. AUSGEGEBENE  LISTEN WERDEN UNTER
DER USERID  DES BENUTZERS  BEI PROGRAMMENDE  AUSGEDRUCKT. WÖHREND  DER
VERARBEITUNG  WERDEN  FEHLERMELDUNGEN/HINWEISE  IN  DER  ERSTEN  ZEILE
RECHTS VERMERKT. MIT  DER HELP-TASTE KANN EINE LÖNGERE  MELDUNG IN DER
DRITTEN ZEILE  ERZEUGT WERDEN. DIE  INVENTARDATEI IST NUR  WÖHREND DER
BEARBEITUNG EINES FALLES IM ZUGRIFF;  WERDEN VON MEHREREN BILDSCHIRMEN
VORGÖNGE  GESTARTET, SO  WERDEN  DIE  AKTIONEN AUF  DER  INVENTARDATEI
SERIALISIERT.  ES IST  AUCH  M\GLICH,  IM SPLIT-SCREEN-MODUS  AUF  DIE
INVENTARDATEI ZUZUGREIFEN.


FORMAT EINER FREIFORMATIERTEN LISTENANFORDERUNG
_______________________________________________

EINE LISTENANFORDERUNG BESTEHT AUS FOLGENDEN 4 TEILEN

  1   SATZAUSWAHL
  2   SORTIERUNG DER AUSGEWÖHLTEN SÖTZE
  3   FELDAUSWAHL DER AUSGEWÖHLTEN UND SORTIERTEN SÖTZE
  4   ANGABE EINER LISTEN!BERSCHRIFT

DIESE  4 TEILE  EINER  LISTENANFORDERUNG  SIND IN  DIESER  REIHENFOLGE
ANZUGEBEN.  DIE  TEILE  1,  2  UND 4  SIND  DABEI  WAHLWEISE;  TEIL  3
(=FELDAUSWAHL) IST  OBLIGATORISCH. DIE  LISTENANFORDERUNG IST  MIT "."
ABZUSCHLIESSEN.

BEISPIEL:

  FIND PROD='2324' AND ZB=' ' AND BENUTZER='STABREY'
  SORT TYP MOD MANR
  EDIT TYP MOD MANR CUA LEITUNG BENUTZER TEL
  TITLE 'SONDERAUSWERTUNG'.

WENN  KEINE   SATZAUSWAHL  ANGEGEBEN  IST,   WERDEN  ALLE   SÖTZE  DER
INVENTARDATEI  AUSGEWÖHLT. WENN  KEINE SORTIERUNG  ANGEGEBEN IST,  IST
STANDARDMÖSSIG   NACH   PRODUKTGRUPPE   TYP   MODELL   MASCHINENNUMMER
AUFSTEIGEND  SORTIERT.   FEHLER  IN  DER  LISTENANFORDERUNG   SIND  IM
LISTENANFORDERUNGSBILD  OBEN   RECHTS  VERMERKT;  DURCH   DR!CKEN  DER
PF13-TASTE ERSCHEINT IN DER DRITTEN ZEILE EINE GENAUE ERLÖUTERUNG. DIE
FEHLERHAFTE STELLE DER LISTENANFORDERUNG IST MIT "?" MARKIERT.


FORMAT DER SATZAUSWAHL
______________________

DIE SATZAUSWAHL HAT FOLGENDES FORMAT

  "FIND"     SATZAUSWAHLBEDINGUNG                 OBLIGATORISCH
  "AND"/"OR" SATZAUSWAHLBEDINGUNG   ...           WAHLWEISE

BEISPIELE:

  FIND PROD='2324'
  FIND PROD='2324' AND ZV=' ' OR BENUTZER='STABREY'

DURCH "AND"/"OR"  VERKN!PFTE SATZAUSWAHLBEDINGUNGEN  K\NNEN IN  RUNDEN
KLAMMERN ZUSAMMENGEFASST WERDEN, UM VORRANGIG AUSGEWERTET ZU WERDEN.

BEISPIEL:

  FIND PROD='2324' AND (BENUTZER='STABREY' OR BENUTZER='NIGL')


FORMAT DER SATZAUSWAHLBEDINGUNG
_______________________________

EINE SATZAUSWAHLBEDINGUNG HAT FOLGENDES FORMAT

  DATENFELDNAME   VERGLEICHSOPERATOR   LITERAL

DAS LITERAL  DARF NICHT LÖNGER  ALS DIE ENTSPRECHENDE  FELDLÖNGE SEIN.
K!RZERE LITERALE WERDEN RECHTS MIT BLANKS AUFGEF!LLT.


FORMAT DER SORTIERUNG
_____________________

DIE SORTIERUNG DER AUSGEWÖHLTEN SÖTZE WIRD FOLGENDERMASSEN ANGEGEBEN

  "SORT"    DATENFELDNAME                       OBLIGATORISCH
            DATENFELDNAME   ...                 WAHLWEISE

BEISPIEL:

  SORT PROD TYP MOD MANR

DIE  AUSGEWÖHLTEN  SÖTZE  WERDEN   AUFSTEIGEND  SORTIERT.  WENN  KEINE
SORTIERUNG ANGEGEBEN IST, IST DIE REIHENFOLGE DER SÖTZE UNBESTIMMT.


FORMAT DER FELDAUSWAHL
______________________

DIE FELDAUSWAHL HAT FOLGENDES FORMAT

  "EDIT"/"PRINT"/"BROWSE" DATENFELDNAME   ...   OBLIGATORISCH
                          DATENFELDNAME   ...   WAHLWEISE

BEISPIELE:

  EDIT  PROD TYP MOD MANR
  PRINT BENUTZER TEL CUA LEITUNG MANR

WENN  KEINE  SÖTZE  AUFGELISTET WERDEN,  SIND  AUCH  KEINE  AUSGEWÖHLT
WORDEN.  BEI   "EDIT"/"BROWSE"  GEHT  DIE  AUSGABE  AUF  TERMINAL, BEI
"PRINT" AUF DRUCKER.


FORMAT DER LISTEN!BERSCHRIFT
____________________________

DIE LISTEN!BERSCHRIFT WIRD FOLGENDERMASSEN ANGEGEBEN

  "TITLE"       LITERAL

BEISPIEL:

  TITLE 'SONDERAUSWERTUNG NR.1'


FORMAT EINES LITERALS
_____________________

EIN LITERAL KANN FOLGENDE FORMATE HABEN

  'AAA'               FORMAT 1    AAA = ALPHANUMERISCHE ZEICHENKETTE
  C'AAA'              FORMAT 2
  X'XXX'              FORMAT 3    XXX = SEDEZIMALE ZEICHENKETTE

APOSTROPHE INNERHALB EINER ALPHANUMERISCHEN  ZEICHENKETTE SIND DOPPELT
ANZUGEBEN.

BEISPIELE:

  '2324'
  C'ABFRAGE AUF PROD=''2324'''
  X'00001C'


VERZEICHNIS DER PRODUKTGRUPPEN
______________________________

    2300 COMPUTER
         2310 RECHNER
         2320 PERIPHERIE
              2321 BANDEINHEITEN
              2322 PLATTENLAUFWERKE
              2323 DRUCKER
              2324 BILDSCHIRME
              2325 GERÖTE ZUR ERSTELLUNG UND ZUM LESEN VON LOCHKARTEN
              2326 GERÖTE ZUR BESCHRIFTUNG UND ZUM LESEN VON
                   MAGNETBÖNDERN
              2327 GERÖTE ZUM LESEN UND BESCHRIFTEN VON DISKETTEN
              2328 GERÖTE ZUR EDV-NACHBEARBEITUNG
         2390 SOFTWARE


VERZEICHNIS DER ABTEILUNGSNUMMERN
_________________________________

EIN VERZEICHNIS DER ABTEILUNGSNUMMERN KANN IM 4. BILD DER NEUAUFNAHME
ODER AENDERUNG DURCH DR!CKEN DER PF24-TASTE ERHALTEN WERDEN.

VERZEICHNIS DER DATENFELDNAMEN
______________________________

EIN VERZEICHNIS DER DATENFELDNAMEN KANN IM SUCHABFRAGEMENU DURCH
DR!CKEN DER PF24-TASTE ERHALTEN WERDEN.

VERZEICHNIS DER VERGLEICHSOPERATOREN
____________________________________

   OPERATOR    BEDEUTUNG

   =           GLEICH
   <           KLEINER
   >           GR\SSER
   <>          UNGLEICH
   <=          KLEINER GLEICH
   >=          GR\SSER GLEICH
 ./        ADD   NAME=INSTALL,LIST=ALL
 Installation INVENTARDATEISYSTEM
 --------------------------------

 1. Member UNLV01AJ enth{lt die Jobs COMPLINK
                                     DELDEF
    Member UNLV01BJ enth{lt die Clists ISP
                                       NLV99CLT
    Member UNLV01CS enth{lt die Assemblersource INVENTAR
    Member UNLV01DB enthÖlt die ISPF-Panels
    Member UNLV01EA enth{lt die Beschreibungen DESCRIBE
                                               INSTALL
    Member UNLV01FB enth{lt die ISPF-Messages
    In jedem UNLV01..-Member sind './ ADD'-Karten mit den echten
    Namen der Panels, Messages, ...
    Die './ ADD'-Karten beginnen in Spalte 2 und m}ssen f}r IEBUPDTE
    auf Spalte 1 geschoben werden.

 2. Programm INVENTAR anpassen
    Im Unterprogramm UPABTLR werden zwei Tabellen geladen:
    a) Tabelle der Abteilungen mit Abteilungsnummer und
                                   Abteilungsbezeichnung
    b) Tabelle der Kostenstellen mit Kostenstellennummer und
                                   zugeh|riger Abteilungsnummer
    Diese Routine ist anzupassen.
    (Der ABTLTAB-Makro speichert fest in die Kostenstellentabelle ein.)
    Im Programm wird f}r Auswertungen ein GETMAIN }ber 1 MB gemacht.
    Der Wert X'100000' im Programm ist evtl. anzupassen.

 3. Programm INVENTAR assemblieren und linken
    (Musterjcl COMPLINK anpassen)

 4. Inventardatei anlegen mit Vsam
    (Musterjcl DELDEF anpassen)

 5. Programmaufruf:  EXEC 'vollqualifizierter Dsname(ISP)'
    Der vollqualifizierte Dsname bezeichnet den entladenen PO-Dataset.
    Die CLIST's ISP und NLV99CLT sind anzupassen.
    a) Menu 0 : Inventardatei programm{~ig anlegen
    b) alle anderen Menus testen

 6. Beschreibung der Programmfunktionen in DESCRIBE.

 7. R}ckfragen: Stabrey Tel. (0911) 531 2538

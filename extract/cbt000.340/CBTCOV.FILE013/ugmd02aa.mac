*                T A P E C O P Y
*
* FUNCTION/OPERATION:
* TAPECOPY COPIES THE CONTENTS OF AN INPUT TAPE TO AN OUTPUT TAPE
* IF THE VOLUME LABEL OF THE MOUNTED TAPE IS STANDARD, ITS VOL
* SER-# IS COMPARED WITH THAT FOUND IN JFCB. THE OPERATOR IS ASKED
* FOR ACTION IF THEY ARE NOT EQUAL (DONE FOR INPUT AND OUTPUT TAPE)
* POSSIBLE ACTIONS ARE: 'U'   -  USE THIS TAPE IN SPITE OF OTHER
*                             VOL-SER-# FOUND IN JFCB, AND DO
*                             NOT CHANGE VOLUME LABEL OF OUTTAPE
*                       'M'   -  MOUNT A NEW TAPE
*                       'C'   -  CANCEL COPY
* INCASE OF THE REPLY 'M' A MESSAGE 'TSC011' IS ROUTED TO THE
* TAPECONSOLE (ROUTCODE 5,6) TO MOUNT A NEW TAPE. MOST ERRORS
* LEAD TO AN ABEND USER1 WHICH IS ACCOMPANIED BY AN INFORMATION
* ABOUT WHICH OPERATION FAILED.
*
* LABELS ARE HANDLED IN THE FOLLOWING WAY:
*          IF NO PARM INFORMATION IS PROVIDED ON THE EXEC CARD THEN
*             IF INTAPE = SL AND OUTTAPE = SL THEN
*                         VOLUME LABEL OF OUTTAPE IS NOT CHANGED
*             IF INTAPE = NL AND OUTTAPE = NL THEN
*                         INTAPE IS COPIED COMPLETELY
*             IF INTAPE = SL AND OUTTAPE = NL THEN
*                         COPY VOLUME LABEL FOR OUTTAPE FROM DD-CARD
*                         (OUTTAPE IS SL AFTER COPY)
*             IF INTAPE = NL AND OUTTAPE = SL THEN
*                         OUTTAPE IS CHANGED TO NL, INTAPE IS COPIED
*                                                          COMPLETELY
*          IF PARM=CL IS CODED ON THE EXEC CARD THEN
*             INTAPE IS COPIED COMPLETELY INCLUDING VOLUME LABEL
*                                            ( IF PRESENT )
*             IN THIS CASE THE OPERATOR IS ASKED
*             TO EXPLICITLY ALLOW THIS.
*             POSSIBLE ACTIONS ARE :
*                    'U' - ALLOW LABEL TO BE COPIED
*                    'C' - CANCEL COPY
* WARNING:
*          LABEL PROCESSING REQUIRES THAT BOTH TAPES CONTAIN
*          AT LEAST ONE BLOCK OR TAPEMARK TO AVOID UNRAPPING
*          OF TAPE BY FIRST READ OPERATION.
*
* ENTRY POINTS :  TAPECOPY
*
* INPUT:
*             PARM='CL'   FOR COPY TAPE COMPLETELY, (INCLUDING
*                         VOLUME LABEL IF PRESENT)
*             NONE        OTHERWISE
*
* DD STATEMENTS:
*             INTAPE   DEFINES THE TAPE TO BE COPIED
*             OUTTAPE  DEFINES THE OUTPUT TAPE
*
*             SYSPRINT DEFINES THE OUTPUT DATA SET
*                      DCB=(RECFM=FBA,LRECL=121,BLKSIZE=3146)
*                      IS PROVIDED BY PROGRAM
*
* EXIT NORMAL  :  VIA REGISTER 14
*
* EXIT ERROR   :  ABEND
*
* RETURN CODES :  0 - INPUT TAPE WITH SL
*                 4 - INPUT TAPE NOT WITH SL
*
* TABLES/WORK AREAS :
*                DCB, ECB, IOB, JFCB
*
* ATTRIBUTES  : REUSSABLE, NOT REENTRABLE,
*              EXCP USING WITH OPEN AND CLOSE (TYPE=J)
*
* RESTRICTIONS : SHOULD BE LINKED WITH AC=1 IN VS SYSTEMS
*
* RELATED PGMS: TAPESCAN,TAPESKIM
*
* STORAGE: TOTAL < 40K
* STATUS   :  CHANGE LEVEL : 1.3  SCHEID 26JAN76
*                                 COMPARE MOUNTED VOL-SER-#
*                         WITH REQUIRED VOL-SER-# FOUND IN JFCB
*                            1.4  SCHEID 27JUL76
*                                 CHANGE LENGTH OF READ CCW TO
*                              AVOID ABEND
*                            1.5  BIRKENBIHL 27AUG76
*                                 COPY TAPES STARTING WITH EOF
*                            1.6  SCHEID 25JAN77
*                                 CORRECT CANCEL AND MOUNT PASSUS
*
* NOTES : NONE
* AUTHOR: V.BLASIUS

+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.1 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×               X   X   DDDD    AAA   TTTTT   AAA                    ×
×                X X    D   D  A   A    T    A   A                   ×
×                 X     D   D  AAAAA    T    AAAAA                   ×
×                X X    D   D  A   A    T    A   A                   ×
×               X   X   DDDD   A   A    T    A   A                   ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×    XDATA ist ein vielseitiges  Datei-Verwaltungsprogramm  fuer     ×
×    PS, IS und VSAM organisierte Dateien mit allen Satzformaten.    ×
×    Aus einer beliebigen Eingabedatei koennen eine oder mehrere     ×
×    - auch verschiedenartige -  Ausgabedateien  erzeugt  werden.    ×
×    Ausserdem kann eine  Datei in  einem  von  5  verschiedenen     ×
×    Druckformaten - auch selektiv - gedruckt werden.                ×
×                                                                    ×
×    Die Funktionen des  Programms werden primaer durch die Anga-    ×
×    be von DD-Statements in der JCL bestimmt.                       ×
×    Jede Ein- und Ausgabedatei,  die  per  JCL beschrieben, und     ×
+    deren DDNAME dem XDATA bekannt ist, wird entsprechend ihrer     ×
×    Definition bedient.                                             ×
×                                                                    ×
×    Mit  SYSIN-Steueranweisungen  koennen mengen-  und  problem-    ×
×    bezogene  Selektionen und Modifikationen vorgenommen werden.    ×
×    XDATA  verfuegt ueber eine  eigene  Befehlssprache, die die     ×
×    Anweisungen IF, THEN, ELSE, SET  und DCL kennt.   Jeder Ein-    ×
×    gabesatz durchlaeuft den Befehlscode und wird anschliessend,    ×
×    den Anweisungen der  Befehlssprache entsprechend, weiterver-    ×
×    arbeitet.                                                       ×
×                                                                    ×
×    Zusaetzlich kann ein eigener  USER-Exit  eingesetzt  werden,    ×
×    der wie der Sort-Exit E15 kodiert sein muss.                    ×
×                                                                    ×
×    Folgende Funktionen werden vom XDATA ausgefuehrt:               ×
×                                                                    ×
×                                                                    ×
×     - Kopieren  und  Selektieren  von  Dateien                     ×
×     - Protokollieren der  Programmaktivitaeten                     ×
×     - Einfuegen  und  Loeschen von logischen Saetzen               ×
×     - Veraendern  und  konvertieren von Datenfeldern               ×
×     - Volle Arithmetik mit den vier Grundrechenarten               ×
×     - Separieren von Datenmengen                                   ×
×     - Drucken in 5 verschiedenen Druckformaten                     ×
×     - Veraendern von  Satz-  und  Blocklaengen                     ×
×     - Verketten  verschiedener  Eingabe-Device-Typen               ×
×     - Updaten von DASD-Dateien                                     ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×    Programmautor  :  H. Hoffmann                                   ×
×    Programmwartung:  Systemprogrammierung                          ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.2 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    Das EXEC-Statement                                              ×
×    ------------------                                              ×
×                                                                    ×
×                                                                    ×
×    //STEPNAME EXEC PGM=XDATA                                       ×
×             <,PARM='userexit,ABEND=nnnn,MSGLEVEL=x,DATA=text'>     ×
×                                                                    ×
×                                                                    ×
×    userexit     Name eines Loadmoduls                              ×
×                                                                    ×
×                 Der Exit erhaelt die  Steuerung,  nachdem  ein     ×
×                 Satz gelesen wurde, und eine vorhandene  SYSIN-    ×
×                 Procedure durchlaufen ist.  Der Ablauf und die     ×
×                 Parameteruebergabe ist  mit  den  Konventionen     ×
×                 des Sort-Exits E15 identisch.                      ×
×                 Der  Exit  muss  ueber  JOBLIB,  STEPLIB  oder     ×
×                 LINKLIB-Kettung geladen werden koennen.            ×
×                                                                    ×
×                 Hinweis:                                           ×
×                 DD-Namen fuer Dateien, die im  Exit  definiert     ×
×                 werden, sollten nicht 'SYS' beginnen.              ×
×                                                                    ×
×    ABEND=nnnn   Erzeugen eines USER-ABENDS                         ×
×                                                                    ×
+                 Endet XDATA mit einem Returncode, der groesser     ×
×                 oder gleich n ist, wird ein USER-ABEND mit dem     ×
×                 Wert des Returncodes erzeugt.                      ×
×                 Der  3.  Dispositionsparameter  der  JCL  wird     ×
×                 wirksam.                                           ×
×                                                                    ×
×    MSGLEVEL=x   Message Level des SYSPRINT Protokolls              ×
×                                                                    ×
×             0 - SYSIN Steuerkarten und  Datei-Informationen        ×
×                 werden nicht gedruckt.                             ×
×             1 - SYSIN Steuerkarten  werden  nicht  gedruckt.       ×
×             2 - Datei-Informationen werden  nicht  gedruckt.       ×
×             3 - Das Protokoll  wird  vollstaendig  gedruckt.       ×
×                 MSGLEVEL=3 ist der Default-Wert.                   ×
×                                                                    ×
×    DATA=text    Parameter fuer die SYSIN-Procedure                 ×
×                                                                    ×
×                 Beliebiger Text,  der unter dem Namen $PARM in     ×
×                 der SYSIN-Procedure zur Verfuegung steht.          ×
×                                                                    ×
×    Beispiel :   EXEC PGM=XDATA,                                    ×
×                      PARM='ABEND=8,MEINEXIT,MSGLEVEL=2,DATA=XX'    ×
×                                                                    ×
×                 Die PARM-Werte koennen in beliebiger Reihenfolge   ×
×                 wahlweise angegeben werden. (Trennung mit Komma)   ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.3 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×  DDNAMEN und ihre Bedeutung                                        ×
×  --------------------------                                        ×
×                                                                    ×
×                           Eingaben                                 ×
×                                                                    ×
×  +---------+----------------------------------------------------+  ×
×  × SYSUT1 ×× Sequentielle Eingabedatei (QSAM). Verketten von    ×  ×
×  ×         ×   unterschiedlichen  Device-Typen ist  moeglich.   ×  ×
×  × SYSUTX ×× Sequentielle Update-Datei (QSAM). Nur DASD Devices ×  ×
×  ×         ×   (SYSIN-Procedure oder USER-Exit erforderlich.)   ×  ×
×  × SYSIS1 ×× Indexsequentielle Eingabedatei    (ISAM oder VSAM) ×  ×
×  × SYSISX  × Indexsequentielle Update-Datei    (Siehe SYSUTX)   ×  ×
×  +---------+----------------------------------------------------+  ×
×  × SYSIN   × Datei fuer Steueranweisungen                       ×  ×
×  × SYSLIB  × Source-PDS fuer Steueranweisungen (COPY Statement) ×  ×
×  +--------------------------------------------------------------+  ×
×                                                                    ×
×                           Ausgaben                                 ×
×                                                                    ×
×  +---------+----------------------------------------------------+  ×
×  × SYSPRINT× Nachrichten- und Protokolldatei                    ×  ×
×  +---------+----------------------------------------------------+  ×
×  × SYSUT2  × Sequentielle Ausgabedatei (QSAM)                   ×  ×
×  × SYSIS2  × Indexsequentielle Ausgabedatei (ISAM oder VSAM)    ×  ×
+  +---------+----------------------------------------------------+  ×
×  × SYSUT3× × Sequentielle Ausgabedatei    (Kopie von SYSUT2)    ×  ×
×  × SYSDEL  × Sequentielle Ausgabedatei fuer  DELETE-Saetze      ×  ×
×  ×         × SYSUT3 bzw. SYSDEL werden nur aktiviert, wenn      ×  ×
×  ×         × auch ein SYSUT2 DD-Statement vorhanden ist.        ×  ×
×  +---------+----------------------------------------------------+  ×
×  × SYSUT21 × Sequentielle Ausgabedateien (QSAM) (Separieren)    ×  ×
×  × SYSUT22 × Datensaetze werden auf eine dieser  Dateien ausge- ×  ×
×  × SYSUT23 × geben, wenn die Systemvariable $FILE in der SYSIN- ×  ×
×  × SYSUT24 × Procedure gesetzt und das Kennwort  'SEPARATE' im  ×  ×
×  × SYSUT25 × -PROC Statement kodiert ist.                       ×  ×
×  × SYSUT26 × Der Inhalt von  $FILE  bestimmt, auf  welche  der  ×  ×
×  × SYSUT27 × SYSUT2x-Datei geschrieben werden soll.             ×  ×
×  × SYSUT28 × Beispiel: $FILE = '3' bedeutet Ausgabe auf SYSUT23 ×  ×
×  +---------+----------------------------------------------------+  ×
×                                                                    ×
×  Bei Ausgabedateien werden  fehlende  DCB-Parameter  RECFM, LRECL  ×
×  oder BLKSIZE von der Eingabe uebernommen.  Bei  RECFM=F(B)  wird  ×
×  die BLKSIZE auf ein Vielfaches der LRECL geprueft, und gegebenen- ×
×  falls angepasst. BLKSIZE=1-7 errechnet die  guenstigste Blockung  ×
×  fuer Platte.  Die maximale Blocksize ist bei 1 = ganze Spur, bei  ×
×  2 = 1/2 Spur, bei 3 = 1/3 Spur  usw.                              ×
×                                                                    ×
×                           Druckausgaben                            ×
×                                                                    ×
×  +---------+----------------------------------------------------+  ×
×  × CHAR  × × Formatiertes Andrucken von Dateien in einem der    ×  ×
×  × HEXA  × × 5 Formate.                                         ×  ×
×  × DUMP  × × Druckmuster siehe naechste Seite.                  ×  ×
×  × DATA  × ×                                                    ×  ×
×  × DITTO   ×                                                    ×  ×
×  +---------+----------------------------------------------------+  ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.4 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×                       D R U C K M U S T E R                        ×
×                       =====================                        ×
×                                                                    ×
×    CHAR-Format                                                     ×
×    -----------                                                     ×
×                                                                    ×
×    SATZ-NR  VON BIS  1234567890123456789012345678901234567890      ×
×                                                                    ×
×          1  001 040  ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890*()%      ×
×                                                                    ×
×    SATZ-NR  VON BIS  1234567890123456789012345678901234567890      ×
×                                                                    ×
×    HEXA-Format                                                     ×
×    -----------                                                     ×
×                                                                    ×
×    SATZ-NR  VON BIS  1 2 3 4 5 6 7 8 9 0  1 2 3 4 5 6 7 8 9 0      ×
×                                                                    ×
×          1  001 020  C1C2C3C4C5C6C7C8C9D1 D2D3D4D5D6D7D8D9E2E3     ×
×                                                                    ×
×    SATZ-NR  VON BIS  1 2 3 4 5 6 7 8 9 0  1 2 3 4 5 6 7 8 9 0      ×
×                                                                    ×
×    DUMP-Format                                                     ×
×    -----------                                                     ×
×                                                                    ×
+    SATZ-NR  VON BIS  1 2 3 4 5 6 7 8 9 0  1 2    123456789012      ×
×                                                                    ×
×          1  001 012  C1C2C3C4C5C6C7C85C4D 5D6C  *ABCDEFGH....*     ×
×                                                                    ×
×    SATZ-NR  VON BIS  1 2 3 4 5 6 7 8 9 0  1 2    123456789012      ×
×                                                                    ×
×    DATA-Format                                                     ×
×    -----------                                                     ×
×                                                                    ×
×    SATZ-NR  VON BIS  1 2 3 4 5 6 7 8 9 0  1 2 3 4 5 6 7 8 9 0      ×
×                                                                    ×
×          1  001 020   A B C D E F G H I J  K L M N O P Q R S T     ×
×                      C1C2C3C4C5C6C7C8C9D1 D2D3D4D5D6D7D8D9E2E3     ×
×                                                                    ×
×    SATZ-NR  VON BIS  1 2 3 4 5 6 7 8 9 0  1 2 3 4 5 6 7 8 9 0      ×
×                                                                    ×
×    DITTO-Format                                                    ×
×    ------------                                                    ×
×                                                                    ×
×    SATZ-NR  VON BIS  1234567890123456789012345678901234567890      ×
×                                                                    ×
×          1  001 040  ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890*()%      ×
×                      CCCCCCCCCDDDDDDDDDEEEEEEEEFFFFFFFFFF5456      ×
×                      123456789123456789234567891234567890CDDC      ×
×                                                                    ×
×    SATZ-NR  VON BIS  1234567890123456789012345678901234567890      ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.5 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    SYSIN-Steuerkarten                                              ×
×    ------------------                                              ×
×                                                                    ×
×    Ein  SYSIN-Statement  beginnt in  Spalte 1  mit einem Minus-    ×
×    zeichen (-),  eine Kommentarzeile wird mit einen  Stern (*)     ×
×    in Spalte 1 gekennzeichnet.                                     ×
×    Dem Minuszeichen folgt mit  oder  ohne Blank(s) ein Befehls-    ×
×    wort.  Die  Operanden oder  Schluesselworte schliessen sich,    ×
×     - getrennt durch Blank(s) -  der  Syntax  entsprechend, an.    ×
×                                                                    ×
×    Jeder Befehl kann in beliebig vielen Folgekarten fortgesetzt    ×
×    werden.  Eine  Folgekarte ist da moeglich, wo in der  Syntax    ×
×    Blanks erlaubt sind.  In Folgekarten muss die Spalte 1 blank    ×
×    sein.                                                           ×
×                                                                    ×
×    Kommentare  innerhalb  eines  Statements  sind ueberall dort    ×
×    moeglich, wo Blanks auftreten koennen.   Der Kommentaranfang    ×
×    wird mit der Zeichenkombination  /*  angezeigt.   Jeder Text    ×
×    rechts des  Kommentaranfangs  wird  bei  der  Interpretation    ×
×    nicht mehr beruecksichtigt.                                     ×
×                                                                    ×
×    Die  Spalten   1-72  werden  als  Source-Text  interpretiert,   ×
×    die  Spalten  73-80  koennen  zur  Kennung  verwendet werden.   ×
×                                                                    ×
+                                                                    ×
×                                                                    ×
×                                                                    ×
×    Die XDATA SYSIN-Procedure                                       ×
×    -------------------------                                       ×
×                                                                    ×
×    Die  SYSIN-Procedure  erhaelt die  Steuerung, wenn ein Daten-   ×
×    satz gelesen und durch die  '-MOD'  Parameter DROP bzw. SKIP    ×
×    zur Verarbeitung freigegeben wurde.   In der SYSIN-Procedure    ×
×    koennen die  Datensaetze - auch in  Abhaengigkeit von  Daten-   ×
×    inhalten -  veraendert,  umgebaut   oder   geloescht  werden.   ×
×    Zur Bearbeitung  werden  zwei  Pufferbereiche zur Verfuegung    ×
×    gestellt.   Der eine (OLD-Bereich)  enthaelt  den  aktuellen    ×
×    Datensatz.   Es  ist  der  Originalpuffer  der  Eingabedatei.   ×
×    Veraenderungen ausserhalb der  logischen  Satzlaenge koennen    ×
×    deshalb dazu fuehren, dass  unvorhergesehene  Ergebnisse auf-   ×
×    treten.                                                         ×
×                                                                    ×
×    Der andere (NEW-Bereich)  steht fuer den  Anwender zu freien    ×
×    Verwendung zur Verfuegung.  Das  XDATA  stellt  von sich aus    ×
×    keine Daten in diesen Bereich.                                  ×
×                                                                    ×
×    Wenn ein  Datensatz aus dem  NEW-Bereich  ausgegeben werden     ×
×    soll, so muss dieser ab Stelle 1 in der  Laenge der Ausgabe-    ×
×    LRECL  vollstaendig  aufgebaut sein.                            ×
×                                                                    ×
×    Die Steueranweisungen werden in ausfuehrbaren Maschinencode     ×
×    umgesetzt, der fuer jeden Eingabedatensatz durchlaufen wird.    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.6 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    SYSIN Steuerkarten-Syntax                                       ×
×    -------------------------                                       ×
×                                                                    ×
×    - MOD    mengenbezogene Datenauswahl  und Steueranweisungen     ×
×                                                                    ×
×             Die Schluesserworte der  '-MOD' Steuerkarten  sind     ×
×             wahlfrei  und  koennen  in  beliebiger Reihenfolge     ×
×             kodiert werden.  Die  Parameter  werden mit  Komma     ×
×             ohne Blanks getrennt.                                  ×
×             '-MOD'  Anweisungen  koennen   mehrfach  auftreten.    ×
×             Sie muessen ausserhalb von Proceduren liegen.          ×
×                                                                    ×
×            <DROP=n>      n Saetze werden am Anfang ueberlesen      ×
×            <SKIP=n>      jeder  n-te  Satz  wird  verarbeitet      ×
×                          Der 1. Satz ist DROP + 1                  ×
×            <COPY=n>      n Saetze  werden  auf  SYSUT2/SYSIS2      ×
×                          geschrieben                               ×
×            <LIST=n>      n Saetze  werden auf die  Druckdatei      ×
×                          geschrieben                               ×
×                                                                    ×
×            <EXIT=name>   Name des USER-Exits. Siehe EXEC Stmt.     ×
×                                                                    ×
×                          (Teil)-KEY   einer  Eingabedatei mit      ×
×            <KEY='text'>  Schluesseln.  Der  Satz  mit dem Key      ×
+                          'text' ist  der  erste Satz, der zur      ×
×                          Bearbeitung   bereitgestellt    wird.     ×
×                                                                    ×
×            <T1='text'>   1. Zeile    Ueberschriftszeilen fuer      ×
×            <T2='text'>   2. Zeile      die Druckausgabedatei       ×
×                                                                    ×
×                          n  ist eine maximal 15-stellige Zahl      ×
×                          ohne Vorzeichen.                          ×
×                          name  ist  ein  maximal  8-stelliger      ×
×                          Name eines Loadmoduls.                    ×
×                          'text' kann beliebigen Inhalt  haben.     ×
×                          Der Zeichenkette kann auch der Daten-     ×
×                          typ (C/X) vorangestellt werden.           ×
×                                                                    ×
×    - COPY   Kopieren von SYSLIB-Membern in SYSIN-Input             ×
×                                                                    ×
×             mbrname <,mbrname,...>                                 ×
×                                                                    ×
×             Der Inhalt des Members wird an dieser  Stelle  in      ×
×             den SYSIN-Input  kopiert.                              ×
×             Unter dem DD-Namen SYSLIB muessen PDS-Datasets be-     ×
×             schrieben sein,  deren  RECFM=F(B)  und  LRECL=80      ×
×             sein muessen.                                          ×
×                                                                    ×
×             'COPY'-Statements koennen an jeder Stelle im Input     ×
×             auftreten. Der laufende Befehl muss  abgeschlossen     ×
×             sein. '-COPY' in einem Member ist nicht  zulaessig.    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.7 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    SYSIN Steuerkarten-Syntax                                       ×
×    -------------------------                                       ×
×                                                                    ×
×    - PROC   Beginn der SYSIN-Procedure                             ×
×                                                                    ×
×             <SEPARATE>   Die Separate-Files  SYSUT21 - SYSUT28     ×
×                          werden aktiviert,  wenn sie definiert     ×
×                          sind.                                     ×
×             <SECOND>     Wenn auch ein USER-Exit vorhanden ist,    ×
×                          wird zuerst der USER-Exit angesteuert,    ×
×                          und danach erst die SYSIN-Procedure.      ×
×             <DEBUG>      Statement-Nummern und  Offsets werden     ×
×                          angelistet.                               ×
×                          Hilfe zur Suche von Datenfehlern          ×
×                                                                    ×
×    - DCL    Definieren von Feldnamen                               ×
×                                                                    ×
×             Feldnamen sind maximal 12-stellige  alphanumerische    ×
×             Namen ohne nationale  Sonderzeichen,  auf  die  man    ×
×             sich bei der Kodierung in  der  SYSIN-Procedure  be-   ×
×             ziehen kann. Das erste Zeichen ist ein Buchstabe.      ×
×             Feldnamen muessen definiert sein,  bevor  sie  ange-   ×
×             sprochen werden koennen.                               ×
×                                                                    ×
+                                                                    ×
×                            feld    ×                               ×
×             feldname      SYSVAR   ×                               ×
×                         Direktwert × (nur Typ C/X oder P)          ×
×                          feldname    <(pos,laenge)> (nur C-Typ)    ×
×                                                                    ×
×                                                                    ×
×    - PEND   ENDE der SYSIN-Procedure                               ×
×                                                                    ×
×                                                                    ×
×    - IF      Auswahlsteuerung                                      ×
×                                                                    ×
×              (              = × EQ              )                  ×
×             (               > × GT               )                 ×
×            (      feld   ×  < × LT      feld   ×  )                ×
×            (     SYSVAR  × ^= × NE     SYSVAR  ×  )  <× × OR >..   ×
×            (    feldname × ^> × NG    feldname ×  )  <& × AND>     ×
×            (   direktwert  ^< × NL   direktwert   )  < THEN >      ×
×             (              >= × GE               )                 ×
×              (             <= × LE              )                  ×
×                                                                    ×
×         oder   Liste von Werten      ('ODER' Verknuepfung)         ×
×                                                                    ×
×              (    feld   ×           feld   × ,   feld   ×,..)     ×
×             (    SYSVAR  × = × EQ   SYSVAR  × ,  SYSVAR  ×,.. )    ×
×             (   feldname ×         feldname × , feldname ×,.. )    ×
×              ( direktwert         direktwert  ,direktwert,..)      ×
×                                                                    ×
×             Die Verknuepfung von Abfragen  und  die  Verwendung    ×
×             von Klammern ist unbeschraenkt moeglich.               ×
×             Beide Typen von  Abfragen  koennen  gemischt werden.   ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.8 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    SYSIN Steuerkarten-Syntax                                       ×
×    -------------------------                                       ×
×                                                                    ×
×    - THEN    Alternativzweige                                      ×
×    - ELSE     zu IF                                                ×
×                                                                    ×
×    -<SET>    Veraenderung ohne Bedingung                           ×
×                                                                    ×
×              Die Syntax von  THEN, ELSE und SET ist identisch.     ×
×              Jeder Befehl  kann  beliebig  viele  Anweisungen      ×
×              enthalten und endet,  wenn ein neues Befehlswort      ×
×              auftritt.                                             ×
×                                                                    ×
×              Character-Typ Feldnamen (C/X/N) koennen auch mit      ×
×              SUBSTR versehen sein.  (feldname(stelle,laenge))      ×
×                                                                    ×
×                  feld  ×             feld   ×                      ×
×                 SYSVAR ×    =       SYSVAR  ×                      ×
×                feldname            feldname ×                      ×
×                                   direktwert                       ×
×                                                                    ×
×              (Die  Operanden  muessen gleichartige Typen haben)    ×
×                                                                    ×
×                                                                    ×
+         oder     feld  ×                                           ×
×                 SYSVAR ×    =      arithmetischer Ausdruck         ×
×                feldname                                            ×
×                                                                    ×
×              (Das  Empfangsfeld  muss ein numerischer Typ sein)    ×
×                                                                    ×
×               Die Operatoren sind +, -, * und / bzw. //.           ×
×               Der Operator  /  fuehrt eine  Division durch und     ×
×               liefert als Ergebnis den ganzzahligen Teil.          ×
×               Der Operator  //  fuehrt eine Division durch und     ×
×               gibt als Ergebnis den Rest zurueck.                  ×
×                                                                    ×
×               Beispiel: ERG = (A+B)*C/D-E                          ×
×                         ERG = 14 / 5        Inhalt von ERG = 2     ×
×                         ERG = 14 // 5       Inhalt von ERG = 4     ×
×                                                                    ×
×                                                                    ×
×         oder                      feld     × , feld     × , ..     ×
×                feld   ×    =      SYSVAR   × , SYSVAR   × , ..     ×
×                feldname           feldname × , feldname × , ..     ×
×                                   direktwert , direktwert , ..     ×
×                                                                    ×
×               (Die  Operanden   in   verketteten   Zuweisungen     ×
×                muessen Character-Typen sein.  (C/X/N))             ×
×               Beispiel: FELD = C'AB' ,N-7-3,'  ',F2(2,1), X'00'    ×
×                                                                    ×
×         oder  <RETURN/DELETE/FINISH/REPLACE/CONTINUE/WRITE>        ×
×                                                                    ×
×         oder   GOTO label                                          ×
×                                                                    ×
×         oder   CALL upro <(feld <, feld , ..)>>                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.9 × 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    SYSIN Steuerkarten-Syntax                                       ×
×    -------------------------                                       ×
×                                                                    ×
×         GOTO label                                                 ×
×                                                                    ×
×         Unbegingte  Verzweigung zu einer mit dem  Namen 'label'    ×
×         definierten Stelle im Exit.                                ×
×                                                                    ×
×         Label ist wie Feldname ein maximal 12-stelliger  alpha-    ×
×         numerischer Name. Pro Procedure sind  maximal 20 Label     ×
×         moeglich. Es kann nur  innerhalb  derselben  Procedure     ×
×         verzweigt werden. In weiteren Proceduren koennen daher     ×
×         gleiche Labelnamen verwendet werden.                       ×
×         Labelnamen und Feldnamen koennen gleich lauten.            ×
×                                                                    ×
×         Label koennen vor jeder Abfrage oder  jeder  Zuweisung     ×
×         kodiert werden. Dem Labelnamen folgt  ohne  Blank  ein     ×
×         Doppelpunkt (:).                                           ×
×                                                                    ×
×         Beispiel :  -PROC                                          ×
×                     -DCL     F1  C-1-1                             ×
×                     -SET L1: $CNT1 = 1                             ×
×                          L2: NEW.C-1-80 = OLD.C-1-80               ×
×                          L3: WRITE SYSUT2                          ×
+                     -IF      F1 = '3' THEN GOTO L5                 ×
×                     -F1: L4: RETURN                                ×
×                      L5:                                           ×
×                     -IF  L6: F1 = '1' THEN GOTO F1                 ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×         CALL upro <(feld <, feld , ..)>>                           ×
×                                                                    ×
×         Aufruf eines Unterprogrammes.  Das  Unterprogramm  muss    ×
×         ueber  JOBLIB,  STEPLIB  oder  LINKLIB  geladen  werden    ×
×         koennen. Dem Unterprogramm kann eine Parameterliste mit-   ×
×         gegeben werden.  Die  Parameter in der Liste werden mit    ×
×         Komma oder Blank(s) getrennt.                              ×
×         Es koennen maximal 8 verschiedene  Unterprogramme aufge-   ×
×         rufen werden.                                              ×
×                                                                    ×
×         Beispiel :  CALL UPRO (F1   NEW.C-4-2 , X'0000' )          ×
×                                                                    ×
×         Nach Rueckkehr  aus  dem  Unterprogramm  enthaelt  die     ×
×         Systemvariable $LASTCC den Returncode.                     ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.10× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    Feld-Syntax                                                     ×
×    -----------                                                     ×
×                                                                    ×
×    FELD:      OLD.typ-position-laenge    oder   OLD.typ-von:bis    ×
×               NEW.typ-position-laenge    oder   NEW.typ-von:bis    ×
×                                                                    ×
×    OLD        Speicherbereich eingelesener Satz    (Default)       ×
×    NEW        Speicherbereich des neu zu erstellenden Satzes       ×
×                                                                    ×
×               Feldnamen kann auch  der  OLD/NEW  Prefix vorange-   ×
×               stellt werden.  Der Prefix  der  Definition  oder    ×
×               der  Default-Prefix  werden  damit ueberschrieben.   ×
×                                                                    ×
×               Der  NEW-Bereich  wird so gross angelegt, wie die    ×
×               hoechste im  Exit angesprochene Stelle beschreibt.   ×
×               Die maximale Groesse betraegt 4096 Bytes.            ×
×               Der NEW-Bereich wird am Anfang auf X'00' initiali-   ×
×               siert.  Felder, die  in  DCL-Statements  fuer den    ×
×               NEW-Bereich definiert sind,  werden auf Grundstel-   ×
×               lung ihres  Datentyps  gesetzt.   Saetze, die mit    ×
×               REPLACE oder WRITE aus dem NEW-Bereich ausgegeben    ×
×               werden sollen, werden ab Stelle 1  in  der  LRECL    ×
×               der Ausgabedatei geschrieben.                        ×
×               Andere Teile des NEW-Bereichs koennen als Arbeits-   ×
+               speicher benutzt werden.                             ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×    Typ        Datenformat des Feldes (C, X, P, N, I)               ×
×                                                                    ×
×     C         Character-Format                                     ×
×                                                                    ×
×               Alle EBCDIC-Zeichen sind gueltig.                    ×
×               Bei Zuweisungen wird  ein laengeres  Empfangsfeld    ×
×               rechts mit Blanks aufgefuellt.                       ×
×               Laenge : 1 - 256 Bytes                               ×
×                                                                    ×
×     X         Hexadezimales Format                                 ×
×                                                                    ×
×               Alle EBCDIC-Zeichen sind gueltig.                    ×
×               Bei Zuweisungen wird  ein laengeres  Empfangsfeld    ×
×               rechts mit binaeren Nullen aufgefuellt.              ×
×               Laenge : 1 - 256 Bytes                               ×
×                                                                    ×
×     P         Dezimal gepacktes Format                             ×
×                                                                    ×
×               Nur gueltige gepackte Daten sind erlaubt             ×
×               Laenge : 1 - 8 Bytes                                 ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.11× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×     N         Numerisches Format                                   ×
×                                                                    ×
×               Ungepackte Ziffern  mit  gueltigem  Vorzeichen im    ×
×               linken Halbbyte des letzten  Bytes sind zulaessig.   ×
×               Fuehrende  Blanks  sind  erlaubt,  das  rechteste    ×
×               Zeichen muss eine Ziffer sein.                       ×
×               Nach  Zuweisungen  enthaelt  das  Vorzeichen  bei    ×
×               negativem Wert ein  X'D', sonst  X'F'.               ×
×               Der Typ N kann als numerischer  Datentyp oder als    ×
×               Charactertyp verwendet werden.                       ×
×               Laenge: 1 - 15 Bytes                                 ×
×                                                                    ×
×     I         Integer-Format  (Binaer-Zahl)                        ×
×                                                                    ×
×               Laenge: 2 oder 4 Bytes                               ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×               Kombinationen von Datentypen                         ×
×               ----------------------------                         ×
×                                                                    ×
×                      IF STMT                 THEN, ELSE, SET       ×
×               __×_C_×_X_×_N_×_P_×_I_×    __×_C_×_X_×_N_×_P_×_I_×   ×
+               C_× J × J × J × N × N ×    C_× J × J × J × N × N ×   ×
×               X_× J × J × J × N × N ×    X_× J × J × J × N × N ×   ×
×               N_× N × N × N × N × N ×    N_× J × J × J × J × J ×   ×
×               P_× N × N × N × J × N ×    P_× J × J × J × J × J ×   ×
×               I_× N × N × N × N × N ×    I_× J × J × J × J × J ×   ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×    Position:  Die Position im Datensatz                            ×
×                                                                    ×
×               Das erste Byte hat bei  variablem  Satzformat die    ×
×               Position 5, sonst Position 1.                        ×
×                                                                    ×
×               Es kann  nur  auf  Datenfelder zugegriffen werden,   ×
×               die im Bereich von 1 bis 4096 liegen.                ×
×               Beim Aufbau von variablen Saetzen im  NEW-Bereich    ×
×               ist darauf zu achten,  dass auch das  Satzlaengen-   ×
×               feld richtig mit erstellt wird.                      ×
×                                                                    ×
×    Laenge:    Laenge des Datenfeldes in Bytes                      ×
×                                                                    ×
×               Grenzen siehe unter Typ                              ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.12× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    SYSVAR:    Systemvariable                                       ×
×    -------------------------                                       ×
×                                                                    ×
×               Systemvariable  sind  XDATA-Feldnamen,  die  mit     ×
×               einem  $-Zeichen  beginnen  und  fest definierte     ×
×               Formate  und  Feldlaengen haben.  Systemvariable,    ×
×               die  keine  besondere  Funktion  haben, sind auf     ×
×               Grundstellung ihres Datentyps initialisiert.         ×
×                                                                    ×
×     $CNT0 -   Rechenfelder                (TYP = P, Laenge = 8)    ×
×     $CNT9     zur freien Verwendung                                ×
×                                                                    ×
×     $FLG0 -   Programmflags               (TYP = P, Laenge = 1)    ×
×     $FLG9     zur freien Verwendung                                ×
×                                                                    ×
×     $RECNO    Eingabesatzzaehler          (TYP = P, Laenge = 8)    ×
×               enthaelt die  laufende  Nummer des  eingelesenen     ×
×               Datensatzes.                                         ×
×                                                                    ×
×     $FILE     File-Variable               (TYP = C, Laenge = 1)    ×
×               Der Inhalt dieser Variablen bestimmt, auf welche     ×
×               SEPARATE-Datei  (SYSUT21-SYSUT28)     ausgegeben     ×
×               werden soll.                                         ×
×                                                                    ×
+     $DATE     Maschinendatum              (TYP = C, Laenge = 8)    ×
×               Das Maschinendatum  steht  in  der Form TT.MM.JJ     ×
×               zur Verfuegung.                                      ×
×                                                                    ×
×     $TIME     Uhrzeit                     (TYP = C, Laenge = 8)    ×
×               Die Uhrzeit  steht  in  der  Form  HH.MM.SS  zur     ×
×               Verfuegung.                                          ×
×                                                                    ×
×               Die Variablen $DATE und $TIME werden einmalig ge-    ×
×               setzt und nicht staendig erneuert.  Werden diese     ×
×               Variablen veraendert, ist  ihr  Inhalt zerstoert     ×
×               und wird nicht automatisch wiederhergestellt.        ×
×                                                                    ×
×     $RETCD    Returncode (User)           (TYP = P, Laenge = 3)    ×
×               XDATA endet mit dem Return-Code oder  User-Abend,    ×
×               der in diese  Variable gesetzt wurde, wenn durch     ×
×               andere Ereignisse nicht ein hoeherer Return-Code     ×
×               Vorrang bekommt.                                     ×
×                                                                    ×
×     $LASTCC   Returncode nach CALL        (TYP = P, Laenge = 3)    ×
×               Diese Variable enthaelt den Returncode,  den ein     ×
×               Unterprogramm,  das  mit  CALL  aufgerufen wurde,    ×
×               gesetzt hat.                                         ×
×                                                                    ×
×     $MAXCC    Hoechster $LASTCC           (TYP = P, Laenge = 3)    ×
×                                                                    ×
×     $PARM     DATA-Feld aus JCL-PARM      (TYP = C, Laenge = n)    ×
×               Die Laenge entspricht der Laenge des DATA-Feldes     ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.13× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    Direktwerte:                                                    ×
×    ------------                                                    ×
×                                                                    ×
×              Es gibt 2 Arten von Direktwerten                      ×
×                                                                    ×
×                 1. Zeichenkettenwerte  (in Hochkommas)             ×
×                                                                    ×
×                          'wert'  Den  Typ  (C/X)  bestimmt der     ×
×                                  1. Operand                        ×
×                    oder C'wert'  Der Typ ist Character             ×
×                                  (EBCDIC-Zeichen)                  ×
×                    oder X'wert'  Der Typ ist Hexadezimal           ×
×                                  (0-9 und A-F).  Zwei Zeichen      ×
×                                  entsprechen einem Byte.           ×
×                                                                    ×
×                 2. numerische Werte                                ×
×                                                                    ×
×                    maximal 15 Ziffern mit oder ohne Vorzeichen     ×
×                    direkt vor der 1. Ziffer.  Ein Dezimalpunkt     ×
×                    ist moeglich. Er hat nur optische Bedeutung     ×
×                    und wird bei Rechenoperationen ignoriert.       ×
×                                                                    ×
×                                                                    ×
×    Steuerbefehle       (Verlassen der SYSIN-Procedure)             ×
+    -------------                                                   ×
×                                                                    ×
×    RETURN    Der  Satz  soll aus dem  OLD-Bereich  geschrieben     ×
×              werden.    (-PEND schliesst RETURN ein)               ×
×                                                                    ×
×    DELETE    Der Satz soll ueberlesen werden.                      ×
×              bei Update: Satz wird nicht upgedatet.                ×
×                                                                    ×
×    FINISH    Sofortige Beendigung des XDATA.                       ×
×              Keine Ausgabeaktivitaeten mehr.                       ×
×                                                                    ×
×    REPLACE   Der im NEW-Bereich erstellte  Satz soll den einge-    ×
×              lesenen ersetzen.                                     ×
×                                                                    ×
×    CONTINUE  Die Steuerung wird an die naechste  PROC weiterge-    ×
×              reicht. Fortsetzung des Exits.                        ×
×                                                                    ×
×    WRITE     SYSUT2/SYSIS2/SYSUT21-SYSUT28/PRINT                   ×
×              Die  Anweisung  WRITE ddname fuegt einen Satz aus     ×
×              dem  NEW-Bereich  in  die  mit ddname bezeichnete     ×
×              Datei ein.  Die  Verarbeitung  wird anschliessend     ×
×              direkt hinter dem WRITE-Statement fortgesetzt.        ×
×                                                                    ×
×              WRITE PRINT bedeutet:                                 ×
×              Schreiben auf eine der Druckdateien,  die per JCL     ×
×              definiert ist.                                        ×
×              WRITE SYSUT2 schreibt auch auf SYSUT3,  wenn  ein     ×
×              DD-Statement vorhanden ist.                           ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.14× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    *----------------------------------------------------------*    ×
×    *           Beispiel fuer SYSIN-Steuerkarten               *    ×
×    *      Dieses Beispiel soll die verschiedenen Moeglich-    *    ×
×    *      keiten der XDATA-Sprache andeuten.                  *    ×
×    *----------------------------------------------------------*    ×
×    *                                                               ×
×    *                                                               ×
×    -PROC  SEPARATE                                                 ×
×    *----------------------------------------------------------*    ×
×    *      Definition eines Eingabesatzes                      *    ×
×    *----------------------------------------------------------*    ×
×    *                                                               ×
×    -DCL   SATZ     C-1-80           /* EINGABESATZ                 ×
×           F1       C-1-4            /* IDENTISCH MIT C-1-4         ×
×           F2       P-*-8            /* IDENTISCH MIT P-5-8         ×
×           F3       I-*-4            /* IDENTISCH MIT I-13-4        ×
×           F4       N-*-6            /* IDENTISCH MIT N-17-6        ×
×           F5       X-*-7            /* IDENTISCH MIT X-23-7        ×
×           F6       C-*-51           /* IDENTISCH MIT C-30-51       ×
×    *                                                               ×
×    *----------------------------------------------------------*    ×
×    *  Ein '*' anstelle des Displacements bedeutet, dass sich  *    ×
×    *  das Feld direkt an das zuletzt beschriebene anschliesst.*    ×
×    *  '*' Notationen sind nur bei Feldbeschreibungen im 'DCL' *    ×
+    *  Statement moeglich.                                     *    ×
×    *----------------------------------------------------------*    ×
×    *                                                               ×
×    -DCL   ZEIT     $TIME            /* ZEIT UND $TIME SIND         ×
×                                     /* JETZT IDENTISCHE FELDER     ×
×           STUNDE   ZEIT(1,2)        /*  UNTERDEFINITION            ×
×           MINUTE   ZEIT(4,2)        /*   von                       ×
×           SEKUNDE  ZEIT(7,2)        /*    ZEIT                     ×
×    -DCL   ID       C'ABCD'          /* ZEICHENKETTENKONSTANTE      ×
×           NUMID     23              /* NUMERISCHE KONSTANTE        ×
×           WORK     NEW.C-81-40      /* WORKFELD IM NEW-BEREICH     ×
×    -DCL   WORK2    WORK(1,4)        /* WORK2 = WORK                ×
×                                     /* (AB STELLE 1, LAENGE 4)     ×
×           WORK3    WORK2            /* SYNONYM                     ×
×           ZAEHLER  $CNT2            /* SYNONYM                     ×
×                                                                    ×
×    *      Fortsetzung naechste Seite                               ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.15× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    *----------------------------------------------------------*    ×
×    *      Start des Exits                                     *    ×
×    *----------------------------------------------------------*    ×
×    *                                                               ×
×    -      IF    F1 = 'ZZZZ' THEN GOTO ZAEHLEN                      ×
×    -      IF   (F1 = ID , WORK2 , 'AAAA', C-52-4) AND F2 > 5       ×
×    -        THEN DELETE                                            ×
×     /*    ARITHMETISCHER AUSDRUCK                                  ×
×    -      SET   F3 = F3 * (NUMID + F2) / 100                       ×
×    -      IF    F5(1,2) = 'F0F1'                                   ×
×     /* DIREKTWERT IST HEXA, WEIL DER TYP VON F5 X IST              ×
×    -        THEN NEW.SATZ = SATZ(1,72) , ZEIT                      ×
×     /*                      VERKETTETE ZUWEISUNG                   ×
×                  WRITE SYSUT2    /* INSERT AUS DEM NEW-BEREICH     ×
×     ZAEHLEN:     ZAEHLER  = ZAEHLER + 1                            ×
×                  N-73-8   = ZAEHLER                                ×
×                  RETURN           /* AUSGABE DES EINGABESATZES     ×
×    -      IF    F5(1,2) = C'02'                                    ×
×    -        THEN NEW.SATZ = ''    /* AUF BLANK LOESCHEN            ×
×                  CONTINUE         /* FORTSETZUNG IN FOLGEPROC      ×
×    -        ELSE NEW.N-1-8 = OLD.F2     /* DATENKONVERTIERUNG      ×
×             REPLACE                                                ×
×    -PEND                                                           ×
×    -PROC  /* FORTSETZUNG DER VERARBEITUNG                          ×
+           /* DIE DEFINITIONEN AUS DER VORANGEGANGENEN PROC         ×
×           /* SIND WEITERHIN GUELTIG                                ×
×    -SET   NEW.SATZ = 'IRGENDWAS'                                   ×
×    -IF    OLD.F2   = 100                                           ×
×    -THEN                            /* FORTSETZUNG HINTER -ELSE    ×
×    -ELSE  GOTO LAB1:                                               ×
×    -SET   F2       = F2 * 3                                        ×
×     LAB1: CALL UPRO  (F2,'XX')                                     ×
×           CONTINUE                  /* FOLGT KEINE WEITERE PROC,   ×
×                                     /* WIRD CONTINUE IN RETURN     ×
×                                     /* UMGESETZT                   ×
×    -PEND                                                           ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.16× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×              F E H L E R M E L D U N G E N                         ×
×              -----------------------------                         ×
×                                                                    ×
×    XDA010E  PARM-EINTRAGUNG FALSCH                                 ×
×    BEISPIEL //STEP EXEC PGM=XDATA,PARM='MSGLEVEL=4'                ×
×             MSGLEVEL=4 ist nicht gueltig                           ×
×    XDA020E  UNGUELTIGE STEUERKARTE                                 ×
×             -PROC                                                  ×
×             XYZ                                                    ×
×             XYZ ist eine ungueltige Anweisung                      ×
×    XDA030E  ELSE STATEMENT AN DIESER STELLE UNGUELTIG              ×
×             -IF A = B                                              ×
×             -ELSE Y = Z                                            ×
×    XDA040E  LETZTES IF STATEMENT NICHT ABGESCHLOSSEN               ×
×             -IF A = B OR C =                                       ×
×             -THEN RETURN                                           ×
×    XDA050E  INTERNER SPEICHERPLATZ VOLL.                           ×
×             FORTSETZUNG MIT NEUEM -PROC STATEMENT                  ×
×             Der interne Platz fuer den SYSIN-Code ist voll         ×
×             Abhilfe: -PROC                                         ×
×                        code                                        ×
×                      -SET CONTINUE                                 ×
×                      -PEND                                         ×
×                      -PROC                                         ×
+                        code                                        ×
×                      -PEND                                         ×
×    XDA060S  I/O ERROR AUF EINER DATEI  (NAEHERES IN DER MELDUNG)   ×
×    XDA070E  DATENFEHLER IN STATEMENT NN.                           ×
×             INTERRUPT-ADRESSE=XXXX (XXXXXX)                        ×
×             Es ist ein Datenfehler aufgetreten. (S0C7)             ×
×             Mit -PROC DEBUG ist das fehlerhafte Statement          ×
×             leicht zu finden                                       ×
×    XDA080W  SATZ KANN NICHT EINGEFUEGT WERDEN.                     ×
×             SYSUT21 DD-STATEMENT FEHLT                             ×
×             -IF A = B                                              ×
×             -THEN WRITE SYSUT21                                    ×
×             Es gibt kein SYSUT21 DD-Statement, oder SEPARATE im    ×
×             -PROC Statement fehlt.                                 ×
×    XDA090E  NEW-BEREICH NICHT ANGELEGT.                            ×
×             INSERT ODER REPLACE NICHT MOEGLICH                     ×
×             -PROC                                                  ×
×             -SET REPLACE                                           ×
×                                                                    ×
×    XDA100E  DELETE IST EIN UNGUELTIGES SCHLUESSELWORT              ×
×             -MOD  DELETE=8                                         ×
×    XDA110E  UNGUELTIGER DATENTYP                                   ×
×             -SET Q-3-5 = 20                                        ×
×    XDA120E  SATZPOSITION ODER -LAENGE NICHT NUMERISCH              ×
×             -SET C-4B-7 = 'XX'                                     ×
×    XDA130E  SATZPOSITION ODER -LAENGE ZU GROSS ODER NULL           ×
×             -SET C-1-300 = ''                                      ×
×    XDA140E  >= IST EIN UNGUELTIGER OPERATOR                        ×
×             -SET A >= B                                            ×
×    XDA150E  DATENKONSTANTE ZU LANG                                 ×
×             -MOD COPY=1234567890123456789                          ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.17× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×              F E H L E R M E L D U N G E N                         ×
×              -----------------------------                         ×
×                                                                    ×
×    XDA160E  ENDE DER ZEICHENKETTE FEHLT                            ×
×             -SET C-1-5 = 'ACBDE                                    ×
×    XDA170E  UNGUELTIGE ZEICHEN IN EINER HEXA-KETTE                 ×
×             -SET X-1-5 = 'SFDHGC'                                  ×
×    XDA180E  ANWEISUNGEN NACH EINER VERZWEIGUNG KOENNEN NICHT       ×
×             AUSGEFUEHRT WERDEN                                     ×
×             -SET A=B  GOTO XYZ WRITE SYSUT2                        ×
×    XDA190E  DATENTYP C UND P NICHT VERTRAEGLICH                    ×
×             -SET C-1-5 = P-8-1                                     ×
×                                                                    ×
×    XDA200E  UNAUSGEWOGENE KLAMMERNPAARE                            ×
×             -IF (A = B                                             ×
×             -THEN                                                  ×
×    XDA210E  ABER IST EIN UNGUELTIGER VERKNUEPFUNGSTYP              ×
×              -IF A = B ABER C = D                                  ×
×    XDA220E  WERT NACH SCHLUESSELWORT NICHT NUMERISCH               ×
×             -MOD COPY=5S                                           ×
×    XDA230E  WERT NACH SCHLUESSELWORT ZU LANG                       ×
×             -MOD EXIT=ABCDEFGHI                                    ×
×    XDA240E  TEXT ')&^%' ENTHAELT UNGUELTIGE SYNTAX                 ×
×             -SET A = )&^%                                          ×
+    XDA250E  DATENKONSTANTE NICHT NUMERISCH                         ×
×             -SET A = 34X                                           ×
×    XDA260E  FELDNAME ODER LABEL VIELZULANGERNAME ZU LANG.          ×
×             MAXIMAL 12 ZEICHEN                                     ×
×             -DCL VIELZULANGERNAME C-1-20                           ×
×    XDA270E  FELDNAME ODER LABEL AB# SYNTAKTISCH FALSCH             ×
×             -DCL AB# C-1-20                                        ×
×    XDA280E  FELDNAME ODER LABEL XYZ NICHT DEFINIERT                ×
×             -SET XYZ = '1'                                         ×
×             Fuer XYZ gibt es kein DCL Statement                    ×
×    XDA290E  FELDNAME ODER LABEL XYZ IST SCHON DEFINIERT            ×
×             -DCL XYZ C-1-20                                        ×
×                  XYZ P-1-2                                         ×
×                                                                    ×
×    XDA300E  COPY IN EINEM MEMBER IST NICHT ERLAUBT                 ×
×             Ein Member, das mit -COPY in den SYSIN                 ×
×             geholt wird, darf kein -COPY enthalten                 ×
×    XDA310E  SYNTAXFEHLER IM COPY STATEMENT                         ×
×             -COPY ABC,,XYZ                                         ×
×    XDA320E  SYSLIB DATASET KANN NICHT EROEFFNET WERDEN             ×
×             SYSLIB DD Statement fehlt.                             ×
×    XDA330E  SYSLIB DATASET ATTRIBUTE SIND FALSCH                   ×
×             RECFM muss F(B) und LRECL muss 80 sein                 ×
×    XDA340E  MEMBER XYZ NICHT GEFUNDEN                              ×
×             Member XYZ nicht in SYSLIB                             ×
×    XDA350E  STACK UEBERLAUF.                                       ×
×             RECHENOPERATIONEN ZU TIEF GESCHACHTELT                 ×
×             -SET A = B+(C+(D+(E+(F+(G+(H+(I*J)))))))               ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.18× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×              F E H L E R M E L D U N G E N                         ×
×              -----------------------------                         ×
×                                                                    ×
×    XDA400W  DIESE PROCEDURE KANN NICHT AUSGEFUEHRT WERDEN          ×
×             -PROC                                                  ×
×               code                                                 ×
×             -PEND                                                  ×
×             -PROC                                                  ×
×               code                                                 ×
×             -PEND                                                  ×
×             In der ersten PROC fehlt ein CONTINUE Befehl           ×
×                                                                    ×
×    XDA410E  NAME DES UNTERPROGRAMMS ZU LANG                        ×
×             -CALL ABCDEFGHI                                        ×
×                                                                    ×
×    XDA420E  MODUL XYZ KANN NICHT GELADEN WERDEN                    ×
×             -CALL XYZ                                              ×
×             Fehler beim Laden des Moduls                           ×
×             Siehe JCL-Protokoll                                    ×
×                                                                    ×
×    XDA430E  MEHR ALS 32 PARAMETER IM CALL STATEMENT                ×
×             Die CALL-Parameterliste darf 32 Parameter nicht        ×
×             ueberschreiten.                                        ×
×                                                                    ×
+    XDA440E  MEHR ALS 8 VERSCHIEDENE UNTERPROGRAMME                 ×
×             Es duerfen maximal 8 verschiedene Upros benutzt        ×
×             werden.                                                ×
×                                                                    ×
×    XDA450E  ZU VIELE LABEL. LABEL TABELLE VOLL                     ×
×             Es sind maximal 20 Label pro PROC moeglich             ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
×                                                                    ×
+--------------------------------------------------------------------+
+--------------------------------------------------------------------+
×    PREUSSAG   ×                                  × Kapitel × Stand ×
×      KDV      ×        E D V  -  HANDBUCH        ×---------×-------×
×               ×                                  × 3.2.1.19× 81.11 ×
+--------------------------------------------------------------------+
×     XDATA     × Kapitel: Dienstprogramme     Teil: Dateiorientiert ×
+--------------------------------------------------------------------+
×                                                                    ×
×    XDATA Steuerkarten in Anwendungsprogrammen                      ×
×    ------------------------------------------                      ×
×                                                                    ×
×    Mit Hilfe der Driver-Module  XDAINIT  und  XDAEXIT  kann der    ×
×    SYSIN-Exit des XDATA von eigenen  Programmen  benutzt werden.   ×
×    Man kann die individuelle Auswahl von Datensaetzen damit von    ×
×    aussen steuern, oder Modifikationen vornehmen.                  ×
×                                                                    ×
×    Der DD-Name der Steuerkartendatei kann vom Anwendungsprogramm   ×
×    bestimmt werden (Default ist SYSIN).   Damit ist es moeglich,   ×
×    mehrere Steuerkarten-Sets zu verarbeiten.                       ×
×                                                                    ×
×    Die Druckausgabe der Steuerkarten und der  Fehlernachrichten    ×
×    erfolgt ueber SYSOUT, wenn ein  entsprechendes  DD-Statement    ×
×    vorhanden ist.                                                  ×
×                                                                    ×
×    Einschraenkungen gegenueber XDATA :                             ×
×                                                                    ×
×         1)  Die -MOD  Anweisung  ist ungueltig.                    ×
×         2)  Die -PROC Anweisungen SEPARATE  und  SECOND            ×
×             sind wirkungslos.                                      ×
×         3)  WRITE und REPLACE werden nicht durchgefuehrt.          ×
×                                                                    ×
×    Beispiel fuer PL/I                                              ×
+    ------------------                                              ×
×                                                                    ×
×    DCL  XDAINIT  /* INITIALISIERING, PRUEFEN DER STEUERKARTEN */   ×
×         EXTERNAL ENTRY OPTIONS (ASM INTER RETCODE),                ×
×         XDAEXIT  /* AUSFUEHRUNG, AUSWAHL UND MODIFIKATIONEN   */   ×
×         EXTERNAL ENTRY OPTIONS (ASM INTER RETCODE);                ×
×    DCL  PLIRETV  BUILTIN;                                          ×
×    DCL  ENTRYADR BIN FIXED (31) /* WIRD VON XDAINIT MIT INHALT*/   ×
×                  STATIC;        /* GEFUELLT UND DARF NICHT    */   ×
×                                 /* VERAENDERT WERDEN.         */   ×
×    DCL  DDNAME   CHAR (8)     ; /* DDNAME DER STEUERDATEI     */   ×
×    DCL  1   EBER     ,          /* EINGABE-BEREICH            */   ×
×          2   .       ,                                             ×
×          2   .       ,                                             ×
×          2   .       ;                                             ×
×    Im Vorprogramm:                                                 ×
×         DDNAME = 'STEUER1';                                        ×
×         CALL XDAINIT (ENTRYADR,DDNAME); /* DDNAME KANN FEHLEN */   ×
×         IF PLIRETV  > 4                                            ×
×            THEN   fehlerhafte Steuerkarten                         ×
×         IF ENTRYADR = 0                                            ×
×            THEN   Steuerdatei DUMMY oder nur Kommentare            ×
×                                                                    ×
×    Nach dem Lesen eines Datensatzes                                ×
×                                                                    ×
×         CALL     XDAEXIT (ENTRYADR,EBER);                          ×
×         IF       PLIRETV  = 0              /* RETURN */            ×
×           THEN   GOTO VERARBEITEN;                                 ×
×         IF       PLIRETV  = 4              /* DELETE */            ×
×           THEN   GOTO NEULESEN;                                    ×
×           ELSE   GOTO ENDE;                /* FINISH */            ×
×                                                                    ×
+--------------------------------------------------------------------+

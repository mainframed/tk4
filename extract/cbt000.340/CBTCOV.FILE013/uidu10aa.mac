1               EDV - HANDBUCH                02.76
-               MOVECVOL                        Z   34   1
-
-
-    DAS PROGRAMM  'MOVECVOL' DIENT ZUR PFLEGE VON OS-KATALOGEN
     UNTER MVS.
0    DAS PROGRAMM KANN 4 FUNKTIONEN AUSFUEHREN:
0    1)  ERSTELLEN EINER BACKUP-KOPIE (COPY)
     2)  ENTLADEN EINES OS-KATALOGS (DUMP)
     3)  LADEN EINES OS-KATALOGS (RESTORE)
     4)  FORMATISIEREN EINES NEU ANGELEGTEN KATALOGS (FORMAT)
         (DIESE FUNKTION IST IN 'COPY' U. 'RESTORE' ENTHALTEN)
-    ERSTELLEN EINER BACKUP-KOPIE (COPY)
0    DER OS-KATALOG WIRD UNTER ANDEREM DATEI-NAMEN (UNGLEICH
     'SYSCTLG') AUF DAS GLEICHE ODER EIN ANDERES DASD-VOLUME
     KOPIERT.
     WIRD FUER DIE AUSGABE DAS VOLUME BENUTZT, AUF DEM DER ORIGINAL-
     SYSCTLG RESIDIERT, LAESST SICH DIE BACKUP-KOPIE DURCH
     'RENAME' AKTIVIEREN, ANDERNFALLS MUSS DER ENTSPRECHENDE
     CVOL-POINTER IM MASTER-KATALOG GEAENDERT WERDEN.
0    BITTE UNBEDINGT DEN ABSCHNITT
     'AKTIVIEREN DES NEUEN KATALOGS' BEACHTEN.
0    DAS AUSGABE-VOLUME MUSS DIE GLEICHE SPUR-KAPAZITAET
     WIE DAS EINGABE-VOLUME HABEN!
0    DER BACKUP-KATALOG KANN GROESSER ALS DER ORIGINAL-KATALOG
     ANGELEGT WERDEN.
0    JCL - STATEMENTS:
0    EXEC-KARTE:    PGM=MOVECVOL,PARM='COPY'
     DD-KARTEN:
        CTLG       BESCHREIBT DEN ORIGINAL-KATALOG
        CTLGOUT    BESCHREIBT DEN NEUEN KATALOG
        MSG        BESCHREIBT DIE NACHRICHTEN-DATEI
1               EDV - HANDBUCH                02.76
-               MOVECVOL                        Z   34   2
-
-
-    BEISPIEL:
0    //         EXEC PGM=IEFBR14
     //*   SPACE ALLOCATION
     //DD1     DD DSN=SYSCTLG.NEW,UNIT=SYSDA,VOL=SER=SERIAL,
     //           DISP=(,KEEP),SPACE=(CYL,(5),,CONTIG)
     //COPY    EXEC PGM=MOVECVOL,PARM='COPY'
     //CTLG    DD  DSN=SYSCTLG,UNIT=SYSDA,VOL=SER=SERIAL,DISP=SHR
     //CTLGOUT DD DSN=SYSCTLG.NEW,UNIT=SYSDA,VOL=SER=SERIAL,
     //           DISP=OLD
     //MSG     DD SYSOUT=*

-    ENTLADEN EINES OS-KATALOGS (DUMP)
0    DER OS-KATALOG WIRD AUF EINE SEQUENTIELLE DATEI (BAND ODER
     PLATTE) GESCHRIEBEN.
     DAS FORMAT DER AUSGABE-SAETZE ENTSPRICHT DEM DER VON
     'MVSBLDG' GEFUEHRTEN LOG-DATEI:
0    BYTES   0 -   2  RELATIVE SPUR-ADRESSE DES KATALOG-BLOCKS
             3 -   5  'DMP'  BEDEUTET 'ENTLADENER KATALOG'
             6 -  13  SCHLUESSEL DES KATALOG-BLOCKS
            14 - 269  KATALOG-BLOCK
           270 - 273  DATUM IN DEZIMAL GEPACKTER FORM  00YYDDDS
                      YY = JAHR, DDD = FABRIKTAG, S = VORZEICHEN
           274 - 277  UHRZEIT IN DEZIMAL GEPACKTER FORM OHNE
                      VORZEICHEN  HHMMSSTH; HH = STUNDEN,
                      MM = MINUTEN, SS = SEKUNDEN, TH = 1/100 SEK
           278 - 299  ' CATALOG BACK UP '
0    DIE DUMP-DATEI KANN MIT DEM PROGRAMM 'LISTLOG' FORMATISIERT
     GEDRUCKT WERDEN.
0    JCL - STATEMENTS
0    EXEC-KARTE:     PGM=MOVECVOL,PARM='DUMP'
     DD-KARTEN:
        CTLG         BESCHREIBT DEN ORIGINAL-KATALOG
        TAPE         BESCHREIBT DIE SEQUENTIELLE DATEI
        MSG          BESCHREIBT DIE NACHRICHTEN-DATEI
1               EDV - HANDBUCH                02.76
-               MOVECVOL                        Z   34   3
-
-
-    BEISPIEL:
0    //DUMP   EXEC  PGM=MOVECVOL,PARM='DUMP'
     //CTLG   DD    DSN=SYSCTLG,UNIT=SYSDA,VOL=SER=SERIAL,DISP=SHR
     //TAPE   DD    DSN=CATDUMP,UNIT=2400,DISP=(,KEEP),
     //             DCB=(RECFM=FB,LRECL=300,BLKSIZE=3000)
     //MSG    DD    SYSOUT=*
-
     LADEN EINES OS-KATALOGS (RESTORE)
0
     AUS EINEM ENTLADENEN (GEDUMPTEN) KATALOG WIRD EIN
     NEUER OS-KATALOG ERSTELLT. DER DSNAME MUSS WAEHREND
     DES LADENS UNGLEICH 'SYSCTLG' SEIN.
     BITTE UNBEDINGT DEN ABSCHNITT 'AKTIVIEREN DES NEUEN
     KATALOGS' BEACHTEN.
0    DIE SPURKAPAZITAET DES AUSGABE-VOLUMES KANN GROESSER
     ALS DIE DES ORIGINAL-CVOL SEIN, JEDOCH AUF KEINEN FALL
     KLEINER.
     DER NEUE KATALOG KANN GROESSER ALS DER URSPRUENGLICHE
     KATALOG ANGELEGT WERDEN.
0    JCL - STATEMENTS
0    EXEC-KARTE:    PGM=MOVECVOL,PARM='RESTORE'
     DD-KARTEN:
     TAPE           BESCHREIBT DIE SEQUENTIELLE DUMP-DATEI
     CTLGOUT        BESCHREIBT DEN NEUEN KATALOG
     MSG            BESCHREIBT DIE NACHRICHTEN-DATEI
0    BEISPIEL:
0    //     EXEC PGM=IEFBR14
     //*  SPACE ALLOCATION
     //DD1    DD  DSN=SYSCTLG.NEW,UNIT=SYSDA,VOL=SER=SERIAL,
     //            SPACE=(CYL,(5),,CONTIG),DISP=(,KEEP)
     //REST    EXEC PGM=MOVECVOL,PARM='RESTORE'
     //TAPE    DD   DSN=CATDUMP,UNIT=TAPE,VOL=SER=VOLSER,DISP=OLD
     //CTLGOUT DD  DSN=SYSCTLG.NEW,UNIT=SYSDA,VOL=SER=SERIAL,
     //            DISP=OLD
     //MSG     DD  SYSOUT=*
1               EDV - HANDBUCH                02.76
-               MOVECVOL                        Z   34   4
-
-
-    FORMATISIEREN EINES NEUEN OS-KATALOGS (FORMAT)
-    UM IN EINEM VOELLIG NEUEN OS-KATALOG (MIT IEFBR14 ANGELEGT)
     MIT 'MVSBLDG' GDG'S ANLEGEN ZU KOENNEN, MUSS DER KATALOG
     VORHER FORMATISIERT WERDEN, DAS HEISST, ES MUESSEN DUMMY-
     SAETZE GESCHRIEBEN WERDEN UND EIN VOLUME INDEX ANGELEGT
     WERDEN. DAS KANN AUF ZWEI ARTEN GESCHEHEN:
0    1)  MIT DEM UTILITY 'IEHPROGM' EINE DUMMY-DATEI KATALOGI-
         SIEREN, DIE U. U. HINTERHER WIEDER ENTFERNT WERDEN KANN.
         DAS FORMATISIEREN MACHT DANN DER CVOL-PROCESSOR.
0    2)  MIT MOVECVOL (FORMAT).
0    DER KATALOG MUSS UNTER EINEM DSNAME UNGLEICH 'SYSCTLG'
     ANGELEGT WERDEN.
     BITTE DEN ABSCHNITT 'AKTIVIEREN DES NEUEN KATALOGS'
     BEACHTEN.
0    JCL - STATEMENTS
0    EXEC-KARTE:      PGM=MOVECVOL,PARM='FORMAT'
     DD-KARTEN:
     CTLGOUT          BESCHREIBT DEN NEUEN KATALOG
     MSG              BESCHREIBT DIE NACHRICHTEN-DATEI
0    BEISPIEL:
0    //       EXEC PGM=IEFBR14
     //*    SPACE ALLOCATION
     //DD1    DD   DSN=SYSCTLG.NEW,UNIT=SYSDA,VOL=SER=SERIAL,
     //            DISP=(,KEEP),SPACE=(CYL,(2),,CONTIG)
     //FORM   EXEC PGM=MOVECVOL,PARM='FORMAT'
     //CTLGOUT DD  DSN=SYSCTLG.NEW,UNIT=SYSDA,VOL=SER=SERIAL,
     //            DISP=OLD
     //MSG     DD  SYSOUT=*
-
-    DIE FORMAT-FUNKTION IST IN DEN MOVECVOL-FUNKTIONEN
     COPY UND RESTORE BEREITS ENTHALTEN.
1               EDV - HANDBUCH                02.76
-               MOVECVOL                        Z   34   5
-
-
-    AKTIVIEREN DES NEUEN KATALOGS
-    BEVOR EIN MIT 'MOVECVOL' ERSTELLTER KATALOG BENUTZT WERDEN
     KANN, MUSS IM VTOC MIT SUPERZAP EINE KORREKTUR VORGENOMMEN
     WERDEN, DAMIT DER CVOL-PROCESSOR DIE DATEI ALS KATALOG
     AKZEPTIERT. UM EIN VORZEITIGES ZUGREIFEN DES CVOL-
     PROCESSORS ZU VERHINDERN, SOLLTE DER NEUE KATALOG ZUNAECHST
     MIT EINEM DSNAME UNGLEICH 'SYSCTLG' ANGELEGT WERDEN UND
     ERST NACH VOLLZOGENEM ZAP AUF 'SYSCTLG' RENAMED WERDEN.
0    DIE ZAP-CONTROL-STATEMENTS SEHEN WIE FOLGT AUS:
0    CCHHR ..........  ADRESSE DES DSCB
     VER 62 ........
     REP 62 0000FF..
-    DAS 'RENAME' KANN MIT DEM PROGRAMM 'VMP' DURCHGEFUEHRT
     WERDEN. 'VMP' FUEHRT DIE VTOC-KORREKTUR AUTOMATISCH
     DURCH (NUR BEI RENAME AUF 'SYSCTLG').
0    JCL - STATEMENTS FUER 'VMP'
0    //REN    EXEC PGM=VMP,PARM='REN,SERIAL,SYSCTLG.NEW,SYSCTLG'
     //SYSUT1 DD   UNIT=SYSDA,SPACE=(TRK,(1,1))
     //SYSUT2 DD   UNIT=SYSDA,SPACE=(TRK,(1,1))
     //JCLIN  DD   DUMMY
     //IN     DD   DUMMY
     //MSG    DD   SYSOUT=*
     //JCLOUT DD   SYSOUT=(*,INTRDR)
0    SERIAL = VVVVVV  ODER  VVVVVV/DDDDDD
              VVVVVV = VOLUME-SERIAL-NR.
              DDDDDD = DEVICE-TYPE, DURCH EINEN SCHRAEGSTRICH
                       VON DER VOL-SER GETRENNT.
                       MOEGLICHE DEVICE-TYPES SIND Z.B.
                       2314, 3330, 3330-1 U.S.W.
                       DEFAULT IST 3330-1
1               EDV - HANDBUCH                02.76
-               MOVECVOL                        Z   34   6
-
-
-    MOVECVOL  FEHLER-MELDUNGEN (MSG)
-    **** PARAMETER ERROR
             ES WURDE EIN UNGUELTIGER PARAMETER ANGEGEBEN. ES SIND
             NUR DIE PARAMETER 'COPY', 'DUMP', 'RESTORE' UND
             'FORMAT' ERLAUBT.
0    **** NO SUFFICIENT SPACE ON NEW CATALOG
             'COPY', 'RESTORE'
             FUER DEN NEUEN KATALOG WURDE NICHT GENUG PLATZ
             ZUGEORDNET.
0    **** LOGICAL ERROR ON SOURCE CATALOG
             'COPY', 'DUMP'
             ORIGINAL-KATALOG HAT KEINEN GUELTIGEN VOLUME INDEX.
0    **** LOGICAL ERROR ON NEW CATALOG
             'COPY', 'RESTORE', 'FORMAT'
             FEHLER BEIM ABSCHLIESSENDEN UPDATE DES VOLUME INDEX.
0    **** UNLOADED CATALOG IN ERROR
             'RESTORE'
             ENTLADENER KATALOG BESITZT KEINEN GUELTIGEN
             VOLUME INDEX.
0    **** TIME SVC NOT SUCCESSFUL
             EIN FEHLER TRAT AUF WAEHREND D. SVC 11 (TIME).
-
-    WICHTIGER HINWEIS:
0    'MOVECVOL' MUSS MIT AC=1 IN EINE AUTORISIERTE BIBLIOTHEK
     GELINKT WERDEN.
-     RUECFRAGEN AN : HERMANN NOACK
                      C/O IDUNA VERSICHERUNGEN
                          ABT. 97811
                      NEUE RABENSTRASSE 15-19
                      2000 HAMBURG 36
                      TEL. 040/44184-3173

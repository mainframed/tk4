1               EDV-HANDBUCH                        01.76
-               DISKSCRT                              Z   37   1
-
-
-     DISKSCRT DIENT ZUM AUTOMATISCHEN LOESCHEN UND ENTKATALOGISIEREN
      VON NON-VSAM DATASETS AUF MAGNETPLATTEN MOD. 3330-1 ODER 3330-11.
      WEITERE DA-DEVICES NUR PER PROGRAMMAENDERUNG. SIEHE STATEMENTS
      FOLGEND DEM LABEL 'UCBOK'. DIE BEDINGUNGEN, NACH DENEN DIE
      EINZELNEN DATA SETS UNTERSUCHT WERDEN, SIND IN EINEM LADEMODUL
      DES NAMENS 'DSNTAB1' FESTGEHALTEN (SIEHE BESCHREIBUNG VON
      DSNTAB1).
      IST DER TSO DATA SET SYS1.UADS VORHANDEN, SO WIRD AUS DEN
      USER-ID'S DYNAMISCH EINE TABELLE AUFGEBAUT UND MIT DEN DATA SET
      NAMEN VERGLICHEN. TSO DATA SETS HABEN EINE FESTE SPERRFRIST VON
      2O TAGEN. AENDERUNG MOEGLICH IN DER DEFINITION VON 'TSORETPD'.
      ALLE UEBRIGEN DATA SETS WERDEN 2 BZW. 4 TAGE GESCHUETZT, ES SEI
      DENN, SIE HAETTEN EINE SPERRFRIST IM EXPDT-FELD DES FORMAT 1 DSCB.
      DANN WIRD DIESE SPERRFRIST BERUECKSICHTIGT. DIE ANZAHL VON 2 BZW.
      4 TAGEN KANN IN DEN STATEMENTS FOLGEND DEM LABEL 'CONVDAT2' BZW.
      'WEEKEND2' GEAENDERT WERDEN.
      DIE UNTERSCHIEDLICHEN SPERRFRISTEN RESULTIEREN AUS DEN ARBEITS-
      FREIEN WOCHENENDEN; VON MITTWOCH BIS FREITAG WIRD GELOESCHT,
      WENN DIE DATA SETS AELTER ALS 2 TAGE, VON SONNABEND BIS
      DIENSTAG, WENN SIE AELTER ALS 4 TAGE SIND.
-     ALLE SPERRFRISTEN WERDEN VOM ERSTELLUNGSDATUM (CREADT DES DSCB
      FORMAT 1) AUSGEHEND BERECHNET. DAS BEDEUTET, DASS FUER DIE DATA
      SET NAMEN, DIE IN EINER DER BEIDEN TABELLEN ANZUFINDEN SIND, DAS
      EXPDT-FELD UNBERUECKSICHTIGT BLEIBT, ES SEI DENN, DASS DIESES
      AELTER ALS ERSTELLUNGSDATUM MINUS SPERRFRIST LT. TABELLE IST.
      DIE SPERRFRIST ZAEHLT AB 00.00 UHR FOLGEND DEM ERSTELLUNGSTAG.
1                 EDV - HANDBUCH                     01.76
-                 DISKSCRT                             Z   37   2
-
-    DIE VOLUMES, DIE VOM PROGRAMM UNTERSUCHT WERDEN DUERFEN, SIND
     IN EINEM LADEMODUL NAMENS 'VOLTAB1' ENTHALTEN (SIEHE BESCHREIBUNG
     DIESES MODULS).
     DIE VOLUMES, AUF DENEN DIE IN 'DSNTAB1' ENTHALTENEN DATA SET NAMEN
     NICHT VORKOMMEN DUERFEN, SIND IN 'VOLTAB1' UND 'VOLTAB2' ENTHALTEN
     (SIEHE BESCHREIBUNG DIESER MODULN).
     UEBER SYSPRINT WIRD EINE LISTE ALLER UNGESCHUETZTEN DATEIEN AUSGE-
     GEBEN. DIE DATA SETS, DEREN VERBLEIBENDE SPERRFRIST KLEINER GLEICH
     7 TAGE IST, ERHALTEN LINKSBUENDIG VOR DEM DATA SET NAMEN EINE ENT-
     SPRECHENDE ANZAHL VON STERNEN ANGEDRUCKT.
     VOR DEN 'SCRATCH' UND 'UNCATLG' MAKROS IM PROGRAMM STEHT EIN UNBE-
     DINGTER VERZWEIGBEFEHL, SO DASS WAEHREND DER TESTPHASE NUR EINE
     LISTE OHNE ECHTE SCRATCH- U. UNCATALOG-FUNKTIONEN ERSTELLT WIRD.
     DER BEFEHL SOLLTE IM PROGRAMM BLEIBEN UND NUR PER SUPERZAP GE-
     AENDERT WERDEN.
     DA FUER DIE ERRECHNUNG DER SPERRFRIST DAS DATUM AUS DEM TIME-
     MAKRO ZUGRUNDE LIEGT, WIRD DAS JAHR AUF GUELTIGKEIT GEPRUEFT UND
     MUSS EBENFALLS PER SUPERZAP ZUM JAHRESWECHSEL GEAENDERT WERDEN
     (SIEHE STATEMENTS FOLGEND DEM LABEL 'GETTIME').
     AUSSERDEM WIRD BEI DEN DATA SETS OHNE SPERRFRIST GEPRUEFT,
     OB DAS ERSTELLUNGSDATUM MEHR ALS 40 TAGE ZURUECKLIEGT.
     AUCH IN DIESEM FALL WIRD NICHT GESCRATCHED. ES ERSCHEINT EINE
     WARNMELDUNG. (BEI JAHRESWECHSEL KANN DAS JAHR VOM OPERATOR
     FALSCH EINGEGEBEN UND DAS ERSTELLUNGSDATUM SOMIT FALSCH
     WERDEN. WIRD DAS DATUM DANN KORRIGIERT UND DAS SCRATCH-PROGRAMM
     LAEUFT, WUERDEN ALLE DIESE DATA SETS GELOESCHT)
1                  EDV - HANDBUCH                          01.76
-                  DISKSCRT                                  Z   37   3
-
-     FOLGENDE PROGRAMME WERDEN VON DISKSCRT DYNAMISCH AUFGERUFEN:
-              WEEKEND  - LIEFERT DEN WOCHENTAG
               UCBSCAN  - STELLT PRO AUFRUF EINEN UCB BEREIT
               READVTOC - UEBERGIBT PRO AUFRUF EINEN FORMAT1 DSCB
               PDSSCAN  - LIEFERT PRO AUFRUF EINEN MEMBERNAMEN EINES PDS
               FMDATUM  - WIRD INNERHALB WEEKEND AUFGERUFEN (TAGESDATUM)
-
      WEITERE LADEMODULN:
-              DSNTAB1  - ENTHAELT SCHUTZBEDINGUNGEN FUER DATA SET NAMEN
               VOLTAB1  - ENTHAELT ALLE SCRATCH- UND SYSTEM-VOLUMES
               VOLTAB2  - ENTHAELT ALLE SYSTEM VOLUMES
-
      HINWEISE ZUR UMWANDLUNG DER PROGRAMME:
      IN DER MACLIB MUESSEN DIE MAKROS 'IECDSECS,DCBD,IEFUCBOB' UND
      'IECSDSL1' AUS DER SYS1.AMODGEN VORHANDEN SEIN.
      DER LINK-LAUF SOLLTE MIT DEM PARAMETER 'NCAL' VORGENOMMEN WERDEN.
      DIE MODULN SOLLTEN IN EINER DER IN DER LNKLST00 ENTHALTENEN
      LIBRARIES STEHEN.
-     JOB CONTROL FUER DIE ANWENDUNG:
-              //JOBNAME JOB (ACCOUNTING)
               //STEP EXEC PGM=DISKSCRT
               //SYSPRINT DD SYSOUT=*
               //PDSDCB DD DSN=SYS1.UADS,DISP=SHR     TSO USER
-
      DIE PDSDCB DD-KARTE DARF FEHLEN (WIRD BEI OPEN GEPRUEFT).
-     RUECKFRAGEN AN: HARRO SCHMIDT
                      C/O IDUNA VERSICHERUNGEN
                          ABT. 97811
                      NEUE RABENSTRASSE 15-19
                      2000 HAMBURG 36
                      TEL. 040/44184-2867

./ ADD  NAME=$$$DOC

************************************************************************
*                                                                      *
*              MILLER BREWING SPF/RACF INTERFACE                       *
*                  INSTALLATION INFORMATION                            *
*                                                                      *
*       MODIFIED JAN-82 BY: URSULA HOYT @ GENRAL ELECTRIC MILWAUKEE    *
*                                                                      *
************************************************************************

     TO INSTALL THIS PACKAGE:
     CHANGE JOBCARDS AND DATASET NAMES (GLOBALLY) WITHING THIS MEMBER.
     CREATE A PDS DATASET NAMED 'SYS2.RACF.ISPINFO' INTO WHICH THIS
     FILE SHOULD BE LOADED (IEBUPDTE) AS FOLLOWS:

//TS00000A JOB (934000TSG),'RACF',
//             CLASS=I,NOTIFY=TS00000,MSGCLASS=X,MSGLEVEL=(0,0)
//*            USER=TS00000,PASSWORD=PASSWORD,
//*
//LOAD     EXEC PGM=IEBUPDTE,PARM=NEW
//SYSPRINT DD   DUMMY
//SYSUT2   DD   DSN=SYS2.RACF.ISPINFO,DISP=SHR
//SYSIN    DD   DSN=TS00000.ISPAIDS.DATA(RACF$DOC),DISP=SHR

            ----  THEN  ----

 A.  INSTALL THE OPTIONAL MATERIAL FOR RACF (WE NEED THE MACROS).

 B.  GLOBALLY CHANGE THE USER SVC NUMBER IN THE 'ISPALIB' MEMBER (IT
     IS CURRENTLY SET TO '255') TO ONE OF YOUR CHOSING.  BY DOING IT
     PRIOR TO INSTALL, ALL MEMBERS OF THE UNLOADED SOURCE FILE MAY BE
     CHANGED AT ONCE.

 C.  ALLOCATE AND LOAD THE FOUR SPF FILES ISPALIB, ISPPLIB, ISPMLIB
     AND OBJ VIA THE $$ALLOC JOB.

        1 - ASSEMBLER SOURCE ............ SYS2.RACF.ISPALIB
        2 - SPF PANELS .................. SYS2.RACF.ISPPLIB
        3 - SPF MESSAGES ................ SYS2.RACF.ISPMLIB
        4 - RACF MODULE OBJECT .......... SYS2.RACF.OBJ
        5 - RACF LOAD LIBRARY ........... SYS2.RACF.LOAD

 D.  INSTALL THE APPROPRIATE SVC INTO YOUR SYSTEM (MVSGPSVC OR AUTHSVC
     PROVIDED IF REQUIRED).

 E.  LINK EDIT THE OBJECT MODULES FROM OBJ INTO THE ISPLOAD DATASET
     AS DEFINED BY THE $LINK MEMBER.  OR ASSEMBLE AND LINK EDIT THE
     SOURCE AS DEFINED BY THE $ASM AND $LINK MEMBERS.
     NOTE: IF THE MVSGPSVC IS USED (RECOMENDED), THE REENTRANT MODULES
           MUST ALSO BE INCLUDED IN THE LINK PACK AREA IN ORDER TO
           ALLOW NON-OPER TSO USERS TO USE THE INTERFACE.  IF NOT
           LINKPACK RESIDENT, NON-OPER USERS WILL CAUSE A SECURITY
           FAILURE MESSAGE TO BE ISSUED TO THE MASTER CONSOLE.

 F.  UPDATE YOUR EXISTING SPF LOGON PROCEDURE TO INCLUDE THE PANELS,
     MESSAGES AND LOAD LIBRARY (AN EXAMPLE PROC IS PROVIDED).

 G.  UPDATE YOUR EXISTING PRIMARY OR EXTENTION MENU (AN EXAMPLE MENU
     IS PROVIDED).

./ ADD  NAME=$$ALLOC
//TS00000R JOB (934000TSG),'RACF',
//             CLASS=I,NOTIFY=TS00000,MSGCLASS=X,MSGLEVEL=(0,0)
//*            USER=TS00000,PASSWORD=PASSWORD,
//*
//*
//*        ALLOCATE THE REQUIRED DATASETS FOR USE BY ASSEMBLE.
//*
//*
//*        THE FOLLOWING DATASETS WILL BE ALLOCATED TO THE SAME
//*        VOLUME AS THE 'ISPINFO' DATASET (THIS ONE).
//*
//ALLOCATE EXEC PGM=IEFBR14
//ISPALIB  DD   DSN=SYS2.RACF.ISPALIB,VOL=REF=SYS2.RACF.ISPINFO,
//             SPACE=(6160,(150,20,5),,,ROUND),DISP=(,CATLG),
//             DCB=(LRECL=80,RECFM=FB,BLKSIZE=3200)
//ISPMLIB  DD   DSN=SYS2.RACF.ISPMLIB,VOL=REF=SYS2.RACF.ISPINFO,
//             SPACE=(6160,(12,2,3),,,ROUND),DISP=(,CATLG),
//             DCB=ISP.R1M0.ISPMLIB
//ISPPLIB  DD   DSN=SYS2.RACF.ISPPLIB,VOL=REF=SYS2.RACF.ISPINFO,
//             SPACE=(6160,(80,10,10),,,ROUND),DISP=(,CATLG),
//             DCB=ISP.R1M0.ISPPLIB
//OBJ      DD   DSN=SYS2.RACF.OBJ,VOL=REF=SYS2.RACF.ISPINFO,
//             SPACE=(3200,(50,50,5),,,ROUND),DISP=(,CATLG),
//             DCB=(LRECL=80,RECFM=FB,BLKSIZE=3200)
//LOAD     DD   DSN=SYS2.RACF.LOAD,VOL=REF=SYS2.RACF.ISPINFO,
//             SPACE=(8368,(20,10,5),,,ROUND),DISP=(,CATLG)
//*
//*        IEBUPDTE ADD THE THREE DISTRIBUTION MEMBERS TO THE
//*        DATASETS JUST CREATED.
//*
//BUILDA   EXEC PGM=IEBUPDTE,PARM=NEW
//SYSPRINT DD   DUMMY
//SYSUT2   DD   DSN=SYS2.RACF.ISPALIB,DISP=SHR
//SYSIN    DD   DSN=TS00000.ISPAIDS.DATA(RACFALIB),DISP=SHR
//*
//BUILDM   EXEC PGM=IEBUPDTE,PARM=NEW
//SYSPRINT DD   DUMMY
//SYSUT2   DD   DSN=SYS2.RACF.ISPMLIB,DISP=SHR
//SYSIN    DD   DSN=TS00000.ISPAIDS.DATA(RACFMLIB),DISP=SHR
//*
//BUILDP   EXEC PGM=IEBUPDTE,PARM=NEW
//SYSPRINT DD   DUMMY
//SYSUT2   DD   DSN=SYS2.RACF.ISPPLIB,DISP=SHR
//SYSIN    DD   DSN=TS00000.ISPAIDS.DATA(RACFPLIB),DISP=SHR
//*
//BUILDO   EXEC PGM=IEBUPDTE,PARM=NEW
//SYSPRINT DD   DUMMY
//SYSUT2   DD   DSN=SYS2.RACF.OBJ,DISP=SHR
//SYSIN    DD   DSN=TS00000.ISPAIDS.DATA(RACFOLIB),DISP=SHR
./ ADD  NAME=$ASM
//TS00000A JOB (934000TSG),'RACF',
//             CLASS=I,NOTIFY=TS00000,MSGCLASS=X,MSGLEVEL=(0,0)
//*            USER=TS00000,PASSWORD=PASSWORD,
//*
//*        INSTREAM PROC TO ASSEMBLE THE SOURCE
//*
//ASMRACF  PROC MEMBER=
//ASM      EXEC PGM=IFOX00,PARM='OBJECT,NODECK,NOLIST,TERM'
//*SM      EXEC PGM=IEV90,PARM='OBJECT,NODECK,NOLIST,TERM'
//SYSLIB   DD   DISP=SHR,DSN=SYS1.MACLIB
//         DD   DISP=SHR,DSN=SYS1.AMODGEN
//         DD   DISP=SHR,DSN=SYS2.RACF.MACLIB <--- OPTIONAL MATERIAL
//         DD   DISP=SHR,DSN=SYS2.RACF.ISPALIB <--- THIS LIBRARY
//SYSUT1   DD   UNIT=SYSDA,SPACE=(CYL,(2,3))
//SYSUT2   DD   UNIT=SYSDA,SPACE=(CYL,(2,3))
//SYSUT3   DD   UNIT=SYSDA,SPACE=(CYL,(2,3))
//SYSTERM  DD   SYSOUT=*
//SYSGO    DD   DSN=SYS2.RACF.OBJ(&MEMBER),DISP=SHR
//SYSIN    DD   DISP=SHR,DSN=SYS2.RACF.ISPALIB(&MEMBER)
//*
//*        ASSEMBLE THE SOURCE MODULES
//*
//CMNSUB   EXEC ASMRACF,MEMBER=CMNSUB
//CMNER10  EXEC ASMRACF,MEMBER=CMNER10
//CMNER11  EXEC ASMRACF,MEMBER=CMNER11
//CMNER12  EXEC ASMRACF,MEMBER=CMNER12
//CMNER13  EXEC ASMRACF,MEMBER=CMNER13
//CMNER14  EXEC ASMRACF,MEMBER=CMNER14
//CMNER15  EXEC ASMRACF,MEMBER=CMNER15
//CMNER16  EXEC ASMRACF,MEMBER=CMNER16
//CMNER17  EXEC ASMRACF,MEMBER=CMNER17
//CMNER18  EXEC ASMRACF,MEMBER=CMNER18
//CMNER20  EXEC ASMRACF,MEMBER=CMNER20
//CMNER21  EXEC ASMRACF,MEMBER=CMNER21
//CMNER22  EXEC ASMRACF,MEMBER=CMNER22
//CMNER23  EXEC ASMRACF,MEMBER=CMNER23
//CMNER24  EXEC ASMRACF,MEMBER=CMNER24
//CMNER30  EXEC ASMRACF,MEMBER=CMNER30
//CMNER31  EXEC ASMRACF,MEMBER=CMNER31
//CMNER32  EXEC ASMRACF,MEMBER=CMNER32
//CMNER33  EXEC ASMRACF,MEMBER=CMNER33
//CMNER34  EXEC ASMRACF,MEMBER=CMNER34
//CMNER40  EXEC ASMRACF,MEMBER=CMNER40
//CMNER41  EXEC ASMRACF,MEMBER=CMNER41
//CMNER42  EXEC ASMRACF,MEMBER=CMNER42
//CMNER43  EXEC ASMRACF,MEMBER=CMNER43
//CMNER44  EXEC ASMRACF,MEMBER=CMNER44
//CMNER50  EXEC ASMRACF,MEMBER=CMNER50
//CMNER51  EXEC ASMRACF,MEMBER=CMNER51
//CMNER52  EXEC ASMRACF,MEMBER=CMNER52
//CMNER53  EXEC ASMRACF,MEMBER=CMNER53
./ ADD  NAME=$LINK
//TS00000R JOB (934000TSG),'RACF',
//             CLASS=I,NOTIFY=TS00000,MSGCLASS=X,MSGLEVEL=(0,0)
//*            USER=TS00000,PASSWORD=PASSWORD,
//*
//*        LINK THE NON-REENTRANT MODULES FIRST
//*
//NONRENT  EXEC PGM=IEWL,PARM=MAP
//SYSPRINT DD   SYSOUT=*
//SYSUT1   DD   UNIT=SYSDA,SPACE=(CYL,(2,3))
//SYSLIB   DD   DISP=SHR,DSN=SYS1.AOS31
//         DD   DISP=SHR,DSN=SYS2.RACF.LOAD
//SYSLMOD  DD   DISP=SHR,DSN=SYS2.RACF.LOAD
//OBJ      DD   DSN=SYS2.RACF.OBJ,DISP=SHR
//SYSLIN   DD   *
 INCLUDE OBJ(CMNSUB)
        NAME CMNSUB
 INCLUDE OBJ(CMNER10)
        NAME CMNER10
 INCLUDE OBJ(CMNER11)
        NAME CMNER11
 INCLUDE OBJ(CMNER12)
        NAME CMNER12
 INCLUDE OBJ(CMNER13)
        NAME CMNER13
 INCLUDE OBJ(CMNER14)
        NAME CMNER14
 INCLUDE OBJ(CMNER20)
        NAME CMNER20
 INCLUDE OBJ(CMNER30)
        NAME CMNER30
 INCLUDE OBJ(CMNER40)
        NAME CMNER40
 INCLUDE OBJ(CMNER50)
        NAME CMNER50
//*
//*        LINK THE REENTRANT MODULES LAST
//*
//RENT     EXEC PGM=IEWL,PARM='RENT,REUS,MAP'
//SYSPRINT DD   SYSOUT=*
//SYSUT1   DD   UNIT=SYSDA,SPACE=(CYL,(2,3))
//SYSLIB   DD   DISP=SHR,DSN=SYS1.AOS31
//         DD   DISP=SHR,DSN=SYS2.RACF.LOAD
//SYSLMOD  DD   DISP=SHR,DSN=SYSL.LINKLIB
//*YSLMOD  DD   DISP=SHR,DSN=SYS2.RACF.LOAD
//OBJ      DD   DSN=SYS2.RACF.OBJ,DISP=SHR
//SYSLIN   DD   *
 INCLUDE OBJ(CMNER15)
        NAME CMNER15
 INCLUDE OBJ(CMNER16)
        NAME CMNER16
 INCLUDE OBJ(CMNER17)
        NAME CMNER17
 INCLUDE OBJ(CMNER18)
        NAME CMNER18
 INCLUDE OBJ(CMNER21)
        NAME CMNER21
 INCLUDE OBJ(CMNER22)
        NAME CMNER22
 INCLUDE OBJ(CMNER23)
        NAME CMNER23
 INCLUDE OBJ(CMNER24)
        NAME CMNER24
 INCLUDE OBJ(CMNER31)
        NAME CMNER31
 INCLUDE OBJ(CMNER32)
        NAME CMNER32
 INCLUDE OBJ(CMNER33)
        NAME CMNER33
 INCLUDE OBJ(CMNER34)
        NAME CMNER34
 INCLUDE OBJ(CMNER41)
        NAME CMNER41
 INCLUDE OBJ(CMNER42)
        NAME CMNER42
 INCLUDE OBJ(CMNER43)
        NAME CMNER43
 INCLUDE OBJ(CMNER44)
        NAME CMNER44
 INCLUDE OBJ(CMNER51)
        NAME CMNER51
 INCLUDE OBJ(CMNER52)
        NAME CMNER52
 INCLUDE OBJ(CMNER53)
        NAME CMNER53
/*
./ ADD  NAME=MENU
%--------------------------- MVS EXTENSION MENU ------------------------
%SELECT OPTION ===>_OPT     +                                     +TIME:
%
   +A+- AUTH COMMAND                    %B+- BROWSE AIDS
   %C+- CONSOLE                         %D+- DISPLAY SYSTEM INFORMATION
   +E+-                                 %F+- FINDQ, ENQ TABLE DISPLAY
   +G+-                                 +H+-
   %I+- INFO SYSTEM                     %J+- IPCS
   +K+-                                 +L+-
   %M+- MORE EXTENSIONS                 +N+-
   %O+- OTHER EXTENSIONS                %P+- PDB INQUIRIES
   %Q+- QUESTIONS/COMMENTS/PROBLEMS     %R+- RACF SECURITY
   %S+- SMP                             %T+- TAPE MANAGEMENT
   %U+- UTILITIES                       %V+- DISK MANAGEMENT
   +W+-                                 %X+- EXTENSIONS - ADDITION
   %Y+- FREEALL                         %Z+- SYSTEM HISTORY DISPLAY
%
%   1+- PDA %2+- IMS %3+- MVS %4+- OPR %5+- SEC %6+- TPS %7+-CICS
%
)INIT
  .HELP = TTUTOR
  &ZHTOP = TTUTOR     /* TUTORIAL TABLE OF CONTENTS */
  &ZHINDEX = TINDEX   /* TUTORIAL INDEX - 1ST PAGE  */
)PROC
  &SEL = TRANS( TRUNC (&OPT,'.')
                A,'PGM( )'
                B,'PANEL(CMNEB00)'
                C,'CMD(%MVSEC00)'
                D,'PANEL(CMNED00)'
                E,'PGM( )'
                F,'PGM(CMNEF00)'
                G,'PGM( )'
                H,'PGM( )'
                I,'CMD(%MVSEI00)'
                J,'CMD(%CMNEJ00)'
                K,'PGM( )'
                L,'PGM( )'
                M,'PGM( )'
                N,'PGM( )'
                O,'PANEL(MVSEO00)'
                P,'CMD(%MVSEP00)'
                Q,'PGM(CMNEQ00)'
                R,'PANEL(CMNER00)'
                S,'CMD(%MVSES00)'
                T,'PANEL(MVSET00)'
                U,'PANEL(MVSEU00)'
                V,'PANEL(MVSEV00)'
                W,'PGM( )'
                X,'PANEL(MVSEX00)'
                Y,'CMD(FREEALL)'
                Z,'PANEL(MVSEZ00)'
                1,'PANEL(PDA@E00)'
                2,'PANEL(IMS@E00)'
                3,'PANEL(MVS@E00)'
                4,'PANEL(OPR@E00)'
                5,'PANEL(SEC@E00)'
                6,'PANEL(TPS@E00)'
                7,'PANEL(CIC@E00)'
                8,'PANEL(ENG@E00)'
                ' ',' '
                *,'?' )
)END
./ ADD  NAME=MLPA
SYS1.LINKLIB CMNER16,CMNER17,CMNER18,CMNER21,       RACF ISP MODULES
             CMNER22,CMNER23,CMNER24,CMNER31,       RACF ISP MODULES
             CMNER32,CMNER33,CMNER34,CMNER41,       RACF ISP MODULES
             CMNER42,CMNER43,CMNER44,CMNER51,       RACF ISP MODULES
             CMNER52,CMNER53,CMNER15                RACF ISP MODULES
./ ADD  NAME=PROC
//@MVS01   EXEC PGM=IKJEFT01,PARM='SPF',
//             DYNAMNBR=99,REGION=4096K
//*
//SYSIN    DD TERM=TS
//SYSPRINT DD TERM=TS
//SYSTERM  DD TERM=TS
//*
//SYSPROC  DD DISP=SHR,DSN=SYS2.USER.ISPCLIB      <=== ISPF CLISTS
//         DD DISP=SHR,DSN=SYS2.MSTR.ISPCLIB      <=== ISPF CLISTS
//ISPLLIB  DD DISP=SHR,DSN=SYS2.USER.LOAD         <=== USER MODULES
//         DD DISP=SHR,DSN=SYS2.MSTR.LOAD         <=== ISPF MODULES
//         DD DISP=SHR,DSN=SYS2.RACF.LOAD         <=== RACF MODULES
//ISPPLIB  DD DISP=SHR,DSN=SYS2.USER.ISPPLIB      <=== USER MODIFIED
//         DD DISP=SHR,DSN=SYS2.PANV.ISPPLIB      <=== PANV PANELS
//         DD DISP=SHR,DSN=SYS2.RACF.ISPPLIB      <=== RACF PANELS
//         DD DISP=SHR,DSN=SYS2.MSTR.ISPPLIB      <=== MSTR PANELS
//         DD DISP=SHR,DSN=ISP.R1M0.ISPPLIB       <=== ISPF PANELS
//ISPMLIB  DD DISP=SHR,DSN=SYS2.PANV.ISPMLIB      <=== PANV MESSAGES
//         DD DISP=SHR,DSN=SYS2.USER.ISPMLIB      <=== USER MESSAGES
//         DD DISP=SHR,DSN=SYS2.RACF.ISPMLIB      <=== RACF MESSAGES
//         DD DISP=SHR,DSN=SYS2.MSTR.ISPMLIB      <=== USER MESSAGES
//         DD DISP=SHR,DSN=ISP.R1M0.ISPMLIB       <=== ISPF MESSAGES
//ISPSLIB  DD DISP=SHR,DSN=SYS2.USER.ISPSLIB      <=== USER MODIFIED
//         DD DISP=SHR,DSN=SYS2.MSTR.ISPSLIB      <=== MSTR PROCS
//         DD DISP=SHR,DSN=ISP.R1M0.ISPSLIB       <=== ISPF PROCS
//ISPPARM  DD DISP=SHR,DSN=ISP.R1M0.ISPPARM       <=== ISPF PARMS
./ ADD  NAME=RENTSCR
//TS00000R JOB (934000TSG),'RACF',
//             CLASS=I,NOTIFY=TS00000,MSGCLASS=X,MSGLEVEL=(0,0)
//*            USER=TS00000,PASSWORD=PASSWORD,
//*
//*        DELETE THE RE-ENTRANT MODULES FROM A TEST LOADLIB
//*
//SCRATCH  EXEC PGM=IEHPROGM
//SYSPRINT DD   SYSOUT=*
//SYSUT1   DD   DISP=SHR,DSN=SYS2.RACF.LOAD
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER15
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER16
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER17
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER18
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER21
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER22
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER23
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER24
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER31
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER32
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER33
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER34
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER41
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER42
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER43
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER44
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER51
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER52
 SCRATCH DSNAME=SYS2.RACF.LOAD,VOL=3350=TSO501,MEMBER=CMNER53
/*

         MACRO
&LABEL  $ENTER ,
         GBLB  &USPUSH
         GBLC  &SCRSECT,&TRPSECT
         LCLC  &CLABEL,&LLABEL,&LLABEL7
&LLABEL  SETC  '&LABEL'
         AIF   ('&LLABEL' NE '').SKIP01
         MNOTE 8,'$ENTER -- MISSING LABEL'
&LLABEL  SETC  '$ENT&SYSNDX'
.SKIP01  ANOP
         DS    0D                  WHERE WE ARE NOW
SCRIPT&SCRSECT CSECT ,
&CLABEL  SETC  '&LLABEL'
         AIF   ('&SCRSECT' NE '&TRPSECT').SKIP02
&CLABEL  SETC  '$&TRPSECT&SYSNDX'
         AGO   .SKIP03
.SKIP02  ANOP
&LLABEL7 SETC  '&LLABEL'(1,7)
         ORG   A&SCRSECT.SCRIP+V&LLABEL7-V&SCRSECT.SCRIP
.SKIP03  ANOP
         DC    A(&CLABEL)          ROUTINE ENTRY ADDRESS
         ORG   ,
&CLABEL  CSECT ,
         AIF   (NOT &USPUSH).SKIP04
         POP   USING               RESTORE GLOBAL USING STATUS
.SKIP04  ANOP
         PUSH  USING               SAVE GLOBAL USING STATUS
&USPUSH  SETB  (1)
         DC    CL4'SCRW'           PREFIX IDENTIFIER
         DC    CL8'&LLABEL'        FOR DUMP READERS
         USING &CLABEL,BASE2       AND TELL THE ASSEMBLER
         MEND

//IBMUSERZ JOB (530000000000),'TECH.JEFF.KAPLAN',
// CLASS=S,MSGCLASS=A,MSGLEVEL=(1,1),NOTIFY=IBMUSER,REGION=6M
//S EXEC ASMHCL,PARM.L='XREF,LIST'
//C.SYSLIB DD DSN=SYS1.MACLIB,DISP=SHR
//C.SYSIN  DD *
ISP      TITLE 'TSO/E ISPF/PDF DYNAMIC CONCATENATION'
ISPDCNCT CSECT , /* ISPDCNCT */
R0       EQU   0
R1       EQU   1
R2       EQU   2
R3       EQU   3
R4       EQU   4
R5       EQU   5
R6       EQU   6
R7       EQU   7
R8       EQU   8
R9       EQU   9
RA       EQU   10
RB       EQU   11
RC       EQU   12
RD       EQU   13
RE       EQU   14
RF       EQU   15
K0       EQU   0
K1       EQU   1
K2       EQU   2
K3       EQU   3
K4       EQU   4
K5       EQU   5
K6       EQU   6
K7       EQU   7
K8       EQU   8
K9       EQU   9
K10      EQU   10
K11      EQU   11
K12      EQU   12
K13      EQU   13
K14      EQU   14
K15      EQU   15
K16      EQU   16
K17      EQU   17
K18      EQU   18
K19      EQU   19
K20      EQU   20
K24      EQU   24
K28      EQU   28
K32      EQU   32
K36      EQU   36
K40      EQU   40
K44      EQU   44
K48      EQU   48
K52      EQU   52
K56      EQU   56
K60      EQU   60
K64      EQU   64
K68      EQU   68
K72      EQU   72
K76      EQU   76
K80      EQU   80
K84      EQU   84
K88      EQU   88
K90      EQU   90
K92      EQU   92
K96      EQU   96
K104     EQU   104
K117     EQU   117
K160     EQU   160
K255     EQU   255
K256     EQU   256
K264     EQU   264
K424     EQU   424
K512     EQU   512
K4095    EQU   4095
K32760   EQU   32760
X80      EQU   X'80'
X40      EQU   X'40'
X20      EQU   X'20'
X10      EQU   X'10'
X08      EQU   X'08'
X04      EQU   X'04'
X02      EQU   X'02'
X01      EQU   X'01'
X7F      EQU   X'7F'
XFF      EQU   X'FF'
ISPDCNCT AMODE 24
ISPDCNCT RMODE 24
         SAVE  (14,12),,ISPDCNCT*&SYSDATE*&SYSTIME
         SPLEVEL SET=4 , /* MVS/ESA EXPANSION */
         LR    RA,RF /*ADDRESSABILITY*/
         USING ISPDCNCT,RA,RB,RC
         LA    RB,K4095(,RA)
         LA    RB,K1(,RB)
         LA    RC,K4095(,RB)
         LA    RC,K1(,RC)
         LR    RF,RD
         LA    RD,SAVEAREA
         ST    RD,K8(,RF)
         ST    RF,K4(,RD)
         LA    R1,MESSAGE /* DYNALLOC ISPMLIB */
         SVC   99
         LA    R1,PANEL   /* DYNALLOC ISPPLIB */
         SVC   99
         LA    R1,SKELETON /*DYNALLOC ISPSLIB */
         SVC   99
         LA    R1,TABLE   /* DYNALLOC ISPTLIB */
         SVC   99
         LA    R1,PROC    /* DYNALLOC SYSPROC */
         SVC   99
MAINEXIT L     RD,K4(,RD)
         RETURN (14,12),RC=0
SAVEAREA DC    (K9)D'0' /*SAVEAREA */
MESSAGE  DC    AL1(X80),AL3(MSGRB)
MSGRB    DC    AL1(K20,K3),AL2(K0),AL4(K0)
         DC    AL4(MSGTXTP),AL4(K0,K0)
MSGTXTP  DC    AL4(MSGTU1),AL1(X80),AL3(MSGTU2)
MSGTU1   DC    AL2(K4,K0) /* PERM CONCAT */
MSGTU2   DC    AL2(K1,K2),AL2(K7),C'ISPMLIB',AL2(K7),C'MESSAGE'
PANEL    DC    AL1(X80),AL3(PNLRB)
PNLRB    DC    AL1(K20,K3),AL2(K0),AL4(K0)
         DC    AL4(PNLTXTP),AL4(K0,K0)
PNLTXTP  DC    AL4(PNLTU1),AL1(X80),AL3(PNLTU2)
PNLTU1   DC    AL2(K4,K0) /* PERM CONCAT */
PNLTU2   DC    AL2(K1,K2),AL2(K7),C'ISPPLIB',AL2(K5),C'PANEL'
SKELETON DC    AL1(X80),AL3(SKLRB)
SKLRB    DC    AL1(K20,K3),AL2(K0),AL4(K0)
         DC    AL4(SKLTXTP),AL4(K0,K0)
SKLTXTP  DC    AL4(SKLTU1),AL1(X80),AL3(SKLTU2)
SKLTU1   DC    AL2(K4,K0) /* PERM CONCAT */
SKLTU2   DC    AL2(K1,K2),AL2(K7),C'ISPSLIB',AL2(K8),C'SKELETON'
TABLE    DC    AL1(X80),AL3(TBLRB)
TBLRB    DC    AL1(K20,K3),AL2(K0),AL4(K0)
         DC    AL4(TBLTXTP),AL4(K0,K0)
TBLTXTP  DC    AL4(TBLTU1),AL1(X80),AL3(TBLTU2)
TBLTU1   DC    AL2(K4,K0) /* PERM CONCAT */
TBLTU2   DC    AL2(K1,K2),AL2(K7),C'ISPTLIB',AL2(K5),C'TABLE'
PROC     DC    AL1(X80),AL3(PRCRB)
PRCRB    DC    AL1(K20,K3),AL2(K0),AL4(K0)
         DC    AL4(PRCTXTP),AL4(K0,K0)
PRCTXTP  DC    AL4(PRCTU1),AL1(X80),AL3(PRCTU2)
PRCTU1   DC    AL2(K4,K0) /* PERM CONCAT */
PRCTU2   DC    AL2(K1,K2),AL2(K7),C'SYSPROC',AL2(K4),C'PROC'
         END
/*
//L.SYSLMOD DD DSN=SYS1.TECH.COMMON.LOADLIB(ISPDCNCT),DISP=SHR,
//  UNIT=,SPACE=

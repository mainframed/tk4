 ISREDIT MACRO (KILL)
 SET &DEL =
 IF &KILL = ? THEN DO
 ISPEXEC DISPLAY PANEL(D)
 EXIT
 END
 ISREDIT (WORKDSN) = DATASET
SET  PDSDSN = &WORKDSN
IF &LIST = LIST THEN CONTROL LIST CONLIST SYMLIST
SET &DEL =

/* INITIALIZE DATASET */
ISPEXEC  LMINIT DATAID(PDSID) DATASET('&PDSDSN') +
                ENQ(SHRW)                        +
                ORG(PDSORG)
SET LMRC = &LASTCC
IF &LMRC ^= 0 THEN +
   DO
      WRITE LMINIT FAILED - RETURN CODE &LMRC
      WRITE DATA SET IS NOT ALLOCATED OR NOT PARTITIONED
      EXIT CODE(8)
   END

WRITE  '&WORKDSN(&KILL)' SELECTED FOR DELETION
/* OPEN DATA SET */
ISPEXEC LMOPEN DATAID(&PDSID) OPTION(OUTPUT)
SET RET1 = &LASTCC
IF &RET1 ^= 0 THEN GOTO EXIT1
WRITE CONFIRM DELETION OF '&PDSDSN(&KILL)' (Y/N)
WRITENR ==>
READ &DEL
IF &SUBSTR(1:1,&STR(&DEL)) ^= Y THEN GOTO EXIT1
ISPEXEC LMMDEL DATAID(&PDSID) MEMBER(&KILL)
SET LMRC = &LASTCC
IF &LMRC ^= 0 THEN GOTO EXIT1
WRITE '&PDSDSN(&KILL)'  DELETED
ISPEXEC LMCLOSE DATAID(&PDSID)
ISPEXEC LMFREE DATAID(&PDSID)
EXIT
EXIT1: +
IF &LMRC = 8 THEN +
   DO
      WRITE MEMBER &KILL NOT FOUND IN '&PDSDSN'
         ISPEXEC LMCLOSE DATAID(&PDSID)
         ISPEXEC LMFREE DATAID(&PDSID)
      EXIT CODE(0)
   END
 WRITE '&PDSDSN(&KILL)' NOT DELETED
ISPEXEC LMCLOSE DATAID(&PDSID)
ISPEXEC LMFREE DATAID(&PDSID)
EXIT
ISPEXEC LMCLOSE DATAID(&PDSID)
ISPEXEC LMFREE DATAID(&PDSID)


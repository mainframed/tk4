PROC 0  WNW(WRITE) DEBUG
CONTROL NOMSG
IF &DEBUG = DEBUG  THEN +
CONTROL LIST SYMLIST CONLIST
SET &RCODE=0
SET &MSG =&STR()
 ISPEXEC CONTROL ERRORS RETURN
   FREE FI(INFILE)
/**********************************************************************
/* THIS CLIST BUILDS A EDIT MACRO TABLE USING THE $DESCRPT MEMBER     *
/* FROM THE EDIT MACRO DISTRIBUTION PDS.  UPDATES CAN BE MADE TO THE  *
/* TABLE USING THE MACLIST EDIT MACRO FOUND IN THE SAME PDS.  BEFORE  *
/* THIS CLIST CAN BE RUN, THE ALLOC STATEMENT BELOW MUST BE CHANGED   *
/* TO REFLECT THE NAME OF THE PDS ON YOUR SYSTEM.                     *
/*           CHANGE                                                   *
/*       \/------------\/                                             *
 ALLOC DA(PVTLIB.MACSOUT($DESCRPT)) F(INFILE) SHR
/*       /\------------/\                                             *
/*           CHANGE                                                   *
 OPENFILE INFILE INPUT
ISPEXEC TBOPEN EDITMACS &WNW
SET &RCC = &LASTCC
  IF &RCC = 8 THEN  +
    DO
      WRITE THE MASTER MACRO TABLE DOES NOT EXIST WE WILL MAKE ONE
      SET &WNW= WRITE
      ISPEXEC TBCREATE EDITMACS NAMES(MACNAME MACDESC) WRITE
      ISPEXEC TBADD EDITMACS
      ISPEXEC TBOPEN EDITMACS &WNW
    END
GETLOOP: +
GETFILE INFILE
IF &LASTCC = 400 THEN GOTO ENDIT
SET &MACNAME = &SUBSTR(1:8,&STR(&INFILE))
SET &MACDESC = &SUBSTR(11:79,&STR(&INFILE))
ADDLOOP: +
    ISPEXEC TBADD EDITMACS
 WRITE &MACNAME &MACDESC
 IF &LASTCC > 4 THEN GOTO ENDIT
GOTO GETLOOP
ENDIT: +
   ISPEXEC TBCLOSE EDITMACS
   CLOSFILE INFILE
   FREE FI(INFILE)
   EXIT

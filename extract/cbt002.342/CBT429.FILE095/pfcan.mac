ISREDIT MACRO (HELP)
      IF &HELP = ? THEN DO
      ISPEXEC DISPLAY PANEL(PFCAN)
      EXIT
      END
/**********************************************************************/
/* THIS ISPF/PDF EDIT MACRO RESETS THE PF KEYS TO THEIR ORIGINAL      */
/* FUNCTION AND THEN CANCELS THE EDIT SESSION.                        */
/* THIS MACRO WORKS IN CONJUNCTION WITH THE PBOX MACRO.  .            */
/*                                                                    */
/* TO RUN:                                                            */
/*    THE DIAGRAM MACRO REDEFINES THE CANCEL PRIMARY COMMAND TO RUN   */
/*    THIS MACRO INSTEAD OF CANCELING THE EDIT SESSION DIRECTLY.      */
/**********************************************************************/
 SET &P = PROFILE
/* VGET THE SAVED PF KEY VALUES */
ISPEXEC VGET (SAVEPF01 SAVEPF02 SAVEPF03 SAVEPF04 SAVEPF05 SAVEPF06) &P
ISPEXEC VGET (SAVEPF07 SAVEPF08 SAVEPF09 SAVEPF10 SAVEPF11 SAVEPF12) &P
ISPEXEC VGET (SAVEPF13 SAVEPF14 SAVEPF15 SAVEPF16 SAVEPF17 SAVEPF18) &P
ISPEXEC VGET (SAVEPF19 SAVEPF20 SAVEPF21 SAVEPF22 SAVEPF23 SAVEPF24) &P

/* RESTORE THE PF KEYS TO THEIR ORIGINAL VALUES */
SET &ZPF01 = &SAVEPF01
SET &ZPF02 = &SAVEPF02
SET &ZPF03 = &SAVEPF03
SET &ZPF04 = &SAVEPF04
SET &ZPF05 = &SAVEPF05
SET &ZPF06 = &SAVEPF06
SET &ZPF07 = &SAVEPF07
SET &ZPF08 = &SAVEPF08
SET &ZPF09 = &SAVEPF09
SET &ZPF10 = &SAVEPF10
SET &ZPF11 = &SAVEPF11
SET &ZPF12 = &SAVEPF12
SET &ZPF13 = &SAVEPF13
SET &ZPF14 = &SAVEPF14
SET &ZPF15 = &SAVEPF15
SET &ZPF16 = &SAVEPF16
SET &ZPF17 = &SAVEPF17
SET &ZPF18 = &SAVEPF18
SET &ZPF19 = &SAVEPF19
SET &ZPF20 = &SAVEPF20
SET &ZPF21 = &SAVEPF21
SET &ZPF22 = &SAVEPF22
SET &ZPF23 = &SAVEPF23
SET &ZPF24 = &SAVEPF24

/* VPUT THE VARIABLES BACK TO THE PROFILE */
ISPEXEC VPUT (ZPF01 ZPF02 ZPF03 ZPF04 ZPF05 ZPF06) &P
ISPEXEC VPUT (ZPF07 ZPF08 ZPF09 ZPF10 ZPF11 ZPF12) &P
ISPEXEC VPUT (ZPF13 ZPF14 ZPF15 ZPF16 ZPF17 ZPF18) &P
ISPEXEC VPUT (ZPF19 ZPF20 ZPF21 ZPF22 ZPF23 ZPF24) &P
/* RESET THE FUNCTION OF THE END AND CANCEL COMMANDS */
ISREDIT DEFINE END RESET
ISREDIT DEFINE CANCEL RESET

/* END THE EDIT SESSION */
ISREDIT CANCEL

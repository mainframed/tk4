      *TCB*************************************************************
      *                                                               *
      *      TCB = TASK CONTROL BLOCK                                 *
      *                                                               *
      *                                                               *
      *                                                               *
      *---------------------------------------------------------------*
      *                                                               *
      *        COBOL  COPYBOOKS  FOR  M-V-S  CONTROL  BLOCKS          *
      *                                                               *
      *                PREPARED BY : FRED SCHUFF                      *
      *                              WAYNE, PA                        *
      *                                                               *
      *****************************************************************
       01 TCB-TCBFIX.
      *             TCB PREFIX (32 BYTES)
      *
       05 TCB-TCBFRS.
       10  TCB-TCBFRS0   PIC X(8).
      *          SAVE AREA FOR FLOATING POINT REGISTER 0
       10  TCB-TCBFRS2   PIC X(8).
      *          SAVE AREA FOR FLOATING POINT REGISTER 2
       10  TCB-TCBFRS4   PIC X(8).
      *          SAVE AREA FOR FLOATING POINT REGISTER 4
       10  TCB-TCBFRS6   PIC X(8).
      *          SAVE AREA FOR FLOATING POINT REGISTER 6
      *
      *     TCB PROPER
      *
       05  TCB-TCB.
       10  TCB-TCBRBP    PIC S9(9) COMP.
      *          ADDRESS OF THE RB FOR EXECUTING PROGRAM. THIS
      *          OFFSET FIXED BY ARCHITECTURE.
       10  TCB-TCBPIE.
      *          ADDRESS OF SPIE CONTROL AREA. THE FIRST WORD OF
      *          THIS AREA CONTAINS THE PROGRAM INTERRUPT ELEMENT
      *          (PIE) ADDRESS.
       15  TCB-TCBPMASK  PIC X(01).
      *          SPIE BITS
      *          X'0F' - PROGRAM MASK AT TIME OF SPIE INITIATION. MASK
      *          RESTORED AT TIME OF SPIE NULLIFICATION.
       15  TCB-TCBPIEA   PIC X(3).
      *          ADDRESS OF SPIE CONTROL AREA. THE FIRST WORD OF
      *          THIS AREA CONTAINS THE PROGRAM INTERRUPT ELEMENT
      *          (PIE) ADDRESS.
       10  TCB-TCBDEB    PIC S9(9) COMP.
      *          ADDRESS OF THE DEB QUEUE
       10  TCB-TCBTIO    PIC S9(9) COMP.
      *          ADDRESS OF THE TASK I/O TABLE (TIOT)
       10  TCB-TCBCMP.
      *          TASK COMPLETION CODE AND INDICATORS
       15  TCB-TCBCMPF   PIC X(01).
      *          INDICATOR FLAGS
      *          X'80' - A DUMP HAS BEEN REQUESTED
      *          X'40' - A STEP ABEND HAS BEEN REQUESTED
      *          X'20' - SOME PROBLEM PROGRAM STORAGE WAS OVERLAID BY
      *          THE SECOND LOAD OF ABEND.  A FIRST LOAD OVERLAY IS
      *          INDICATED IN TCBFLGS FIELD (OFFSET 29 DECIMAL).
      *          (OS/VS1)
      *          X'20' - DUMP OPTIONS WERE PROVIDED ON CALLRTM OR SETRP
      *          MACRO (OS/VS2)
      *          X'10' - COMPLETION CODE IS NOT TO BE STORED IN TCBCMPC
      *          (OFFSET 17 DECIMAL) IF AN ABEND IS ENCOUNTERED.
      *          THIS IS TO PREVENT AN OVERLAY OF THE ORIGINAL
      *          COMPLETION CODE. (OS/VS1)
      *          X'10' - A COMPLETION CODE WAS NOT PROVIDED ON CALLRTM
      *          MACRO. A DEFAULT CODE IS BEING USED.
      *          (OS/VS2)
      *          X'08' - A DOUBLE ABEND HAS OCCURRED (OS/VS1)
      *          X'08' - ABEND WAS SCHEDULED VIA CROSS MEMORY ABTERM
      *          (OS/VS2)
      *          X'04' - A DUMP MESSAGE (WTO) IS TO BE ISSUED TO THE
      *          OPERATOR (OS/VS1)
      *          X'04' - INDICATES REASON CODE (TCBARC) IS VALID(OS/VS2)
      *          X'02' - ABEND TO OUTPUT AN INDICATIVE DUMP (OS/VS1)
      *          X'01' - AN ABEND MESSAGE IS PROVIDED TO BE PRINTED BY
      *          ABDUMP (OS/VS1)
       14  TCB-TCBCMPC   PIC X(3).
      *          SYSTEM COMPLETION CODE IN FIRST 12 BITS,
      *          USER COMPLETION CODE IN LAST 12 BITS
       10  TCB-TCBTRN.
      *          ADDRESS OF TESTRAN CONTROL CORE TABLE
       15  TCB-TCBABF    PIC X(01).
      *          FLAG BYTE
      *          X'80' - BOTH TESTRAN AND DECIMAL SIMULATOR ON A MOD 91
      *          X'40' - SUPPRESS TAKING CHECKPOINTS FOR THIS STEP
      *          (JOB STEP TCB)
      *          X'20' - GAM/SP ACTIVE FOR THIS TASK
      *          X'08' - TCAM POST-PENDING (RORI)
      *          X'04' - TEST TASK - USED BY TEST SVC
      *          X'02' - OLTEP FUNCTIONS REQUIRE CLEANUP BEFORE ABNORMAL
      *          TERMINATION CAN BE INVOKED
       15  TCB-TCBTRNB   PIC X(3).
      *          ADDRESS OF TESTRAN CONTROL CORE TABLE
       10  TCB-TCBMSS.
      *          FOR JOB STEP TCB, ADDRESS OF THE BOUNDARY BOX.
      *          FOR SUBTASK TCB, ADDRESS OF THE GOTTEN SUBTASK
      *          AREA QUEUE ELEMENT (GQE).  A GQE IS PRESENT
      *          ONLY IF THE SYSTEM HAS ISSUED A GETMAIN MACRO
      *          INSTRUCTION FOR THE SPACE.  (OS/VS1)
      *          ADDRESS OF LAST SPQE ON MSS QUEUE (OS/VS2)
       15  FILLER        PIC X(01).
      *          HIGH ORDER BYTE OF TCBMSS
       15  TCB-TCBMSSB   PIC X(3).
      *          FOR JOB STEP TCB, ADDRESS OF THE BOUNDARY BOX.
      *          FOR SUBTASK TCB, ADDRESS OF THE GOTTEN SUBTASK
      *          AREA QUEUE ELEMENT (GQE).  A GQE IS PRESENT
      *          ONLY IF THE SYSTEM HAS ISSUED A GETMAIN MACRO
      *          INSTRUCTION FOR THE SPACE.  (OS/VS1)
      *          ADDRESS OF LAST SPQE ON MSS QUEUE (OS/VS2)
       10  TCB-TCBPKF    PIC X(01).
      *          STORAGE PROTECTION KEY FOR THIS TASK. IF THERE
      *          IS NO STORAGE PROTECTION, ALL BITS ARE ZERO.
      *          X'F0' - STORAGE PROTECTION KEY
      *          X'0F' - MUST BE ZERO
       10 TCB-TCBFLGS.
       15  TCB-TCBFLGS1  PIC X(01).
      *          FIRST TCB FLAG BYTE
      *          X'80' - ABNORMAL TERMINATION IN PROGRESS
      *          X'40' - NORMAL TERMINATION IN PROGRESS
      *          X'20' - ENTER ABEND ERASE ROUTINE WHEN IN CONTROL AGAIN
      *          (OS/VS2)
      *          X'10' - TASK IS NON-PREEMPTABLE (OS/VS2)
      *          X'08' - PREVENT DUMP INDICATOR (OS/VS2)
      *          X'04' - TOP TASK IN TREE BEING ABTERMED (OS/VS2)
      *          X'02' - ABTERM DUMP COMPLETED (OS/VS2)
      *          PROBLEM PROGRAM STORAGE HAS BEEN OVERLAID TO
      *          PROCESS ABEND (OS/VS1)
      *          X'01' - PROHIBIT QUEUEING OF ASYNCHRONOUS EXITS FOR
      *          THIS TASK
       15  TCB-TCBFLGS2  PIC X(1).
      *          X'80' - THE TASK IS ABENDING AND IS IN THE PROCESS OF
      *          (1) OPEN FOR DUMP DATA SET PROCESSING,
      *          (2) CLOSE FOR USER DATA SET OR
      *          (3) PURGE FOR ENQ'ED RESOURCES.  THIS BIT IS
      *          USED IN CONJUNCTION WITH TCBSTACK.
      *          (OS/VS2)
      *          X'40' - SECOND JOB STEP INTERVAL HAS EXPIRED
      *          (OS/VS2 INITIATOR TCB)
      *          X'20' - IF 1, THE SYSABEND DUMP DATA SET HAS BEEN OPENE
      *          FOR ABEND. IF 0, THE SYSUDUMP DUMP DATA SET WAS
      *          OPENED. THIS BIT IS ONLY USED FOR THE JOB STEP
      *          TCB AND IS USED IN CONJUNCTION WITH TCBFDSOP BIT.
      *          X'10' - TASK HAS ISSUED A SYSTEM-MUST-COMPLETE AND SET
      *          ALL OTHER TASKS IN THE SYSTEM NONDISPATCHABLE
      *          X'08' - TASK HAS ISSUED A STEP-MUST-COMPLETE AND TURNED
      *          OFF ALL OTHER TASKS IN THE STEP
      *          X'04' - SYSABEND OPEN FOR JOB STEP (OS/VS2)
      *          X'02' - ETXR TO BE SCHEDULED
      *          X'01' - THIS TASK IS A MEMBER OF A TIME-SLICED GROUP
       15  TCB-TCBFLGS3  PIC X(1).
      *          X'80' - ALL PSW'S IN SUPERVISOR STATE (OS/VS2)
      *          X'40' - RTM1 HAS INVOKED SLIP FOR A TASK IN EUT MODE.
      *          RTM2 MAY BYPASS SLIP PROCESSING
      *          X'20' - ABTERM BIT TO PREVENT MULTIPLE ABENDS (OS/VS2)
      *          X'10' - TCBFX WAS SET BY STATUS MCSTEP
      *          X'02' - ENQ/DEQ RESOURCE MANAGER HAS RECEIVED
      *          CONTROL. NO FURTHER DIRECTED ENQS ALLOWED.
      *          X'01' - THIS TASK WAS DETACHED WITH STAE=YES OPTION
      *          (OS/VS2)
       15  TCB-TCBFLGS4  PIC X(1).
      *          RESERVED BYTE (OS/VS1)
      *          X'80' - ABDUMP NONDISPATCHABILITY INDICATOR
      *          X'40' - SER1 NONDISPATCHABILITY INDICATOR
      *          X'20' - I/O RQE'S EXHAUSTED
      *          X'10' - TASK OR JOB STEP IS MOMENTARILY 'FROZEN' UNTIL
      *          THE REQUIRED RESOURCES ARE AVAILABLE.  THE BIT
      *          IS SET THROUGH THE USE OF THE 'STATUS' SVC
      *          X'08' - TASK IS TEMPORARILY NONDISPATCHABLE BECAUSE
      *          SMF TIME LIMIT OR SYSOUT LIMIT USER EXIT
      *          ROUTINE IS BEING EXECUTED FOR THIS STEP
      *          X'04' - TOP RB IS IN WAIT STATE
      *          X'01' - TASK TERMINATING AND NONDISPATCHABLE BECAUSE
      *          EITHER OPEN FOR DUMP DATA SET IS IN PROCESS OR
      *          CLOSE BY ABEND IS IN PROCESS
       15  TCB-TCBFLGS5  PIC X(1).
      *          X'80' - TASK TERMINATED (OS/VS2)
      *          X'40' - ABNORMAL WAIT (OS/VS2)
      *          X'40' - TASK IS TEMPORARILY NONDISPATCHABLE BECAUSE
      *          SMF TIME LIMIT OR SYSOUT LIMIT USER EXIT ROUTINE
      *          IS BEING EXECUTED FOR THIS STEP.  THIS BIT IS
      *          SET TO 1 IN ALL TCB'S EXCEPT JOB STEP TCB.
      *          (OS/VS1)
      *          X'20' - TASK IS NONDISPATCHABLE DUE TO EXCESSIVE PAGING
      *          RATE
      *          X'10' - TASK IS TEMPORARILY NONDISPATCHABLE BECAUSE IT
      *          WAS ATTACHED UNDER THE DISP=NO OPERAND
      *          X'08' - ANOTHER TASK IS IN SYSTEM-MUST-COMPLETE STATUS
      *          OR A SUMMARY BIT FOR FIELD TCBSYSCT
      *          X'04' - ANOTHER TASK IN THIS JOB STEP IS IN
      *          STEP-MUST-COMPLETE STATUS
      *          X'02' - INITIATOR WAITING FOR REGION (OS/VS2)
      *          X'01' - PRIMARY NONDISPATCHABILITY BIT. THIS BIT IS
      *          SET TO 1 IF ANY OF THE SECONDARY
      *          NONDISPATCHABILITY BITS (OFFSETS 173, 174, 175,
      *          200 OR 201 DECIMAL) IS SET TO 1.  THIS BIT IS
      *          SET TO 0 IF A SECONDARY NONDISPATCHABILITY BIT
      *          IS SET TO 0 AND ALL OTHER SECONDARY
      *          NONDISPATCHABILITY BITS ARE 0.
       10  TCB-TCBLMP    PIC X(1).
      *          TASK LIMIT PRIORITY (OS/VS2)
      *          NUMBER OF RESOURCES FOR WHICH THIS TASK IS
      *          ENQUEUED (OS/VS1)
       10  TCB-TCBDSP    PIC X(1).
      *          DISPATCHING PRIORITY FOR THIS TASK
       10  TCB-TCBLLS    PIC S9(9) COMP.
      *          ADDRESS OF LAST LOAD LIST ELEMENT (LLE) IN LOAD
      *          LIST (OS/VS2)
      *          ADDRESS OF THE PREFIX OF THE MOST RECENTLY ADDED
      *          REQUEST BLOCK (RB-8) ON THE LIST OF PROGRAMS
      *          LOADED VIA THE LOAD MACRO INSTRUCTION (OS/VS1)
       10  TCB-TCBJLB    PIC S9(9) COMP.
      *          ADDRESS OF A JOBLIB DCB
       10  TCB-TCBJPQ.
      *          ADDRESS OF LAST CDE FOR JOB PACK AREA (JPA)
      *          CONTROL QUEUE (OS/VS2)
       15  TCB-TCBPURGE  PIC X(01).
      *          HIGH ORDER BYTE
      *          X'80' - JPQ PURGE FLAG
       15  TCB-TCBJPQB   PIC X(3).
      *          LOW ORDER 24-BITS OF TCBJPQ
       10 TCB-TCBGRS.
       15  TCB-TCBGRS0   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 0
       15  TCB-TCBGRS1   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 1
       15  TCB-TCBGRS2   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 2
       15  TCB-TCBGRS3   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 3
       15  TCB-TCBGRS4   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 4
       15  TCB-TCBGRS5   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 5
       15  TCB-TCBGRS6   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 6
       15  TCB-TCBGRS7   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 7
       15  TCB-TCBGRS8   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 8
       15  TCB-TCBGRS9   PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 9
       15  TCB-TCBGRS10  PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 10
       15  TCB-TCBGRS11  PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 11
       15  TCB-TCBGRS12  PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 12
       15  TCB-TCBGRS13  PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 13
       15  TCB-TCBGRS14  PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 14
       15  TCB-TCBGRS15  PIC S9(9) COMP.
      *          SAVE AREA FOR GENERAL REGISTER 15
       10  TCB-TCBFSA.
      *          ADDRESS OF THE FIRST PROBLEM PROGRAM SAVE AREA
       15  FILLER        PIC X(1).
      *          FIRST BYTE OF TCBFSA (OS/VS2)
       15  TCB-TCBFSAB   PIC X(3).
      *          ADDRESS OF THE FIRST PROBLEM PROGRAM SAVE AREA
       10  TCB-TCBTCB    PIC S9(9) COMP.
      *          ADDRESS OF NEXT TCB OF LOWER PRIORITY ON THE
      *          READY QUEUE
       10  TCB-TCBTME    PIC S9(9) COMP.
      *          ADDRESS OF THE TIMER QUEUE ELEMENT (TQE)
      *          X'80' - IF ZERO, TASK TYPE TQE.
      *          IF ONE, REAL/WAIT TYPE TQE.
       10  TCB-TCBJSTCB.
      *          ADDRESS OF FIRST JOB STEP TCB
      *          OR OF THIS TCB IF KEY ZERO  (OS/VS2)
       15  FILLER        PIC X(01).
      *          HIGH ORDER BYTE OF TCBJSTCB
       15  TCB-TCBJSTCA  PIC X(3).
      *          LOW ORDER 24 BITS OF TCBJSTCB
       10  TCB-TCBNTC    PIC S9(9) COMP.
      *          ADDRESS OF THE TCB FOR THE TASK PREVIOUSLY
      *          ATTACHED BY THE TASK THAT ATTACHED THIS TASK.
      *          FOR EXAMPLE, IF TASK A ATTACHED TASK B AND THEN
      *          TASK C, THIS FIELD IN TASK C'S TCB POINTS TO
      *          TASK B'S TCB, AND THIS FIELD IN TASK B'S TCB
      *          IS ZERO.
       10  TCB-TCBOTC    PIC S9(9) COMP.
      *          ADDRESS OF THE TCB FOR THE TASK (THE ORIGINATING
      *          TASK) THAT ATTACHED THIS TASK.  THIS FIELD IS
      *          ZERO IN THE TCB FOR A SYSTEM TASK.
       10  TCB-TCBLTC    PIC S9(9) COMP.
      *          ADDRESS OF THE TCB FOR THE TASK LAST ATTACHED BY
      *          THIS TASK. NOTE - IF A TASK (THE ORIGINATING
      *          TASK) HAS ATTACHED OTHER TASKS, THE TCB'S FOR
      *          THE OTHER TASKS ARE ON THE SUBTASK QUEUE OF THE
      *          ORIGINATING TASK. TCBLTC IN THE TCB FOR THE
      *          ORIGINATING TASK POINTS TO THE LAST TCB (THE
      *          TCB FOR THE LAST ATTACHED TASK) IN THE SUBTASK
      *          QUEUE. IN EACH TCB ON THE SUBTASK QUEUE,
      *          EXCEPT THE FIRST TCB, TCBNTC POINTS TO THE
      *          PRECEDING TCB ON THE QUEUE.
       10  TCB-TCBIQE    PIC S9(9) COMP.
      *          ADDRESS OF AN INTERRUPTION QUEUE ELEMENT (IQE)
      *          FOR SCHEDULING THE ETXR ROUTINE OF THE TASK
      *          THAT ATTACHED THIS TASK.
       10  TCB-TCBECB    PIC S9(9) COMP.
      *          ADDRESS OF THE ECB THAT WILL BE POSTED BY THE
      *          SUPERVISOR'S TASK TERMINATION ROUTINES WHEN
      *          NORMAL OR ABNORMAL TERMINATION OCCURS.
       10  TCB-TCBTSFLG  PIC X(01).
      *          TIME SHARING FLAGS
      *          X'80' - SWAPPED TIME SHARING TASK (OS/VS1)
      *          X'40' - TASK SHOULD BE MADE NONDISPATCHABLE VIA TCBSTPP
      *          WHEN IT IS NO LONGER RUNNING A PRIVILEGED
      *          PROGRAM
      *          X'20' - TASK SHOULD NOT HAVE ATTENTION EXITS SCHEDULED
      *          ON IT BY EXIT EFFECTOR.  THIS OFFSET FIXED BY
      *          ARCHITECTURE.
      *          X'10' - PURGE TGET/TPUT AFTER ATTENTION
      *          X'02' - M195 TASK IS MEMBER OF DYNAMIC DISPATCHING
      *          GROUP
      *          X'01' - FOR M195, ZERO MEANS I/O BOUND AND ONE MEANS
      *          CPU BOUND
       10  TCB-TCBSTPCT  PIC X(1).
      *          NUMBER OF SETTASK STARTS WHICH MUST BE
      *          ISSUED BEFORE TASK IS MADE DISPATCHABLE -
      *          FIELD NOT RESTRICTED TO TSO
       10  TCB-TCBTSLP   PIC X(1).
      *          LIMIT PRIORITY OF TIME SHARING TASK
       05  TCB-TCBTSDP   PIC X(01).
      *          DISPATCHING PRIORITY OF TIME SHARING TASK
       05  TCB-TCBRD     PIC S9(9) COMP.
      *          POINTER TO DPQE MINUS 8 FOR THE JOB STEP
      *          (OS/VS2).
      *          TCBRD SAME AS TCBRD
       05  TCB-TCBAE     PIC S9(9) COMP.
      *          LIST ORIGIN OF AQE(S) FOR THIS TASK (OS/VS2).
      *          TCBAE SAME AS TCBAE
       05  TCB-TCBSTAB.
      *          ADDRESS OF THE CURRENT STAE CONTROL BLOCK
       10  TCB-TCBNSTAE  PIC X(01).
      *          FLAGS INTERNAL TO STAE ROUTINE
      *          X'80' - ABEND ENTERED BECAUSE OF ERROR IN STAE
      *          PROCESSING
      *          X'40' - STAE INVOKED PURGE I/O ROUTINE WITH QUIESCE I/O
      *          OPTION
      *          X'20' - A 33E ABEND HAS OCCURRED FOR TASK (OS/VS2)
      *          X'10' - 1=SUPERVISOR MODE,0=PROBLEM PROGRAM MODE
      *          INDICATOR TO SYNCH OF THE MODE OF THE USER
      *          EXIT (OS/VS2)
      *          X'08' - PURGE I/O ROUTINE DID NOT SUCCESSFULLY QUIESCE
      *          I/O, BUT I/O WAS HALTED
      *          X'04' - SYNCH ISSUED BY ASIR TO SCHEDULE EXIT ROUTINE
      *          (OS/VS2)
      *          X'01' - STAE RECURSION VALID (OS/VS2)
       10  TCB-TCBSTABB  PIC X(3).
      *          ADDRESS OF THE CURRENT STAE CONTROL BLOCK
       05  TCB-TCBTCT.
      *          ADDRESS OF THE TIMING CONTROL TABLE (TCT) IF
      *          SYSTEM MANAGEMENT FACILITIES (SMF) DATA IS BEING
      *          COLLECTED FOR THE TASK.  ZERO IF SMF DATA IS NOT
      *          BEING COLLECTED FOR THE TASK OR FOR OS/VS1, IF
      *          SMF IS NOT IN THE SYSTEM.
       10  TCB-TCBTCTGF  PIC X(01).
      *          FLAG BYTE FOR TIMING CONTROL TABLE
      *          X'80' - IF ZERO, THE TCT CORE TABLE IS NOT TO BE
      *          UPDATED BY GETMAIN/FREEMAIN.
      *          IF ONE, THE TCT CORE TABLE IS TO BE UPDATED BY
      *          GETMAIN/FREEMAIN.
       10  TCB-TCBTCTB   PIC X(3).
      *          ADDRESS OF THE TIMING CONTROL TABLE (TCT) IF
      *          SYSTEM MANAGEMENT FACILITIES (SMF) DATA IS BEING
      *          COLLECTED FOR THE TASK.  ZERO IF SMF DATA IS NOT
      *          BEING COLLECTED FOR THE TASK OR FOR OS/VS1, IF
      *          SMF IS NOT IN THE SYSTEM.
       05  TCB-TCBUSER   PIC S9(9) COMP.
      *          A WORD AVAILABLE TO THE USER
       05  TCB-TCBSCNDY.
      *          SECONDARY NONDISPATCHABILITY BITS. IF ANY BIT
      *          IN THE FOLLOWING FOUR BYTES IS 1, THE PRIMARY
      *          NONDISPATCHABILITY BIT (OFFSET 33.7 DECIMAL)
      *          IS 1, AND THE TASK IS NONDISPATCHABLE.
      *05  TCB-TCBNDSP.
      *          SAME AS TCBSCNDY
       10  TCB-TCBNDSP0  PIC X(01).
      *          BYTE 0
       10  TCB-TCBNDSP1  PIC X(01).
      *          BYTE 1
      *          X'80' - THE TASK IS TEMPORARILY NONDISPATCHABLE -
      *          DAMAGE ASSESSMENT ROUTINE (DAR)
      *          TCBDARTN * ALIAS *
      *          X'40' - THE TASK IS PERMANENTLY NONDISPATCHABLE -
      *          DAMAGE ASSESSMENT ROUTINE (DAR)
      *          TCBDARPN * ALIAS *
      *          X'20' - THE TASK IS TEMPORARILY NONDISPATCHABLE -
      *          RECOVERY MANAGEMENT SUPPORT AND SYSTEM ERROR
      *          RECOVERY (RMS/SER)
      *          X'10' - THE TASK IS PERMANENTLY NONDISPATCHABLE -
      *          RECOVERY MANAGEMENT SUPPORT AND SYSTEM ERROR
      *          RECOVERY (RMS/SER)
      *          (IF THIS BIT IS ON THEN THE PREVIOUS BIT
      *          MUST BE ON TOO)
      *          X'08' - THE TASK IS IN DEVICE ALLOCATION AND DYNAMIC
      *          DEVICE RECONFIGURATION (DDR) HAS MADE IT
      *          NONDISPATCHABLE -
      *          RECOVERY MANAGEMENT SUPPORT AND SYSTEM ERROR
      *          RECOVERY (RMS/SER) (OS/VS1)
      *          X'04' - DISPATCHING OF TCAM TASK MUST BE DELAYED UNTIL
      *          TCAM I/O APPENDAGE OR SVC ROUTINE HAS COMPLETED
      *          EXECUTION (TCAM IN MULTIPROCESSING ENVIRONMENT)
      *          X'02' - SRB IS TO BE SCHEDULED TO PERFORM PIE/PICA
      *          PROCESSING (FIRST LEVEL INTERRUPT HANDLER)
      *          X'01' - THE TASK IS TEMPORARILY NONDISPATCHABLE WHILE
      *          BEING SET UP FOR ABTERM (OS/VS2)
       10  TCB-TCBNDSP2  PIC X(01).
      *          BYTE 2
      *          X'80' - ABDUMP IS PROCESSING (OS/VS1)
      *          X'40' - TASK SET NONDISPATCHABLE BY SETTASK
      *          X'20' - TASK IS NONDISPATCHABLE BECAUSE SVC DUMP IS
      *          EXECUTING FOR ANOTHER TASK
      *          X'10' - TASK IS NONDISPATCHABLE BECAUSE IT IS BEING
      *          SWAPPED OUT
      *          X'08' - TASK IS NONDISPATCHABLE DUE TO AN INPUT WAIT
      *          X'04' - TASK IS NONDISPATCHABLE DUE TO AN OUTPUT WAIT
      *          X'02' - DYNAMIC SUPPORT SYSTEM (DSS) HAS SET THIS
      *          TASK NONDISPATCHABLE
      *          X'01' - ABEND ROUTINE WAS ENTERED FOR THIS TASK WHILE
      *          THE DCB FOR SYSABEND (OR SYSUDUMP) DATA SET WAS
      *          BEING OPENED FOR ANOTHER TASK  (OS/VS1)
       10  TCB-TCBNDSP3  PIC X(01).
      *          BYTE 3
      *          X'80' - TASK IS ABENDING AND NONDISPATCHABLE BECAUSE IT
      *          HAS A JOB STEP SUBTASK.  TCBONDSP MUST ALSO BE
      *          ON. (OS/VS2)
      *          X'20' - TCB NONDISPATCHABLE BECAUSE SRB'S ARE STOPPED
      *          (OS/VS2)
      *          X'10' - SET NONDISPATCHABLE SO THAT SLIP/PER CAN ALTER
      *          RB PSW PER BIT (OS/VS2)
      *          X'08' - STAGE 3 EXIT EFFECTOR MUST RUN TO SYNCHRONIZE
      *          ATTENTION INTERRUPT (OS/VS2)
      *          X'04' - TSO AUTHORIZED REQUEST PROCESSING ACTIVE
      *          X'02' - INDICATES TASK IS STOPPED BECAUSE ITS CPU
      *          OR CONTINUOUS WAIT TIME HAS BEEN EXCEEDED.  SMF
      *          DETERMINES WHETHER TO GRANT EXTENSION OR ABEND
      *          TASK.
      *          X'01' - INITIATOR SETS THIS BIT TO PREVENT JOB STEP
      *          EXECUTION IN ORDER TO DO CANCEL PROCESSING
      *          (CAN CANCEL LOOP)   (OS/VS2)
       05  TCB-TCBMDIDS  PIC S9(9) COMP.
      *          RESERVED FOR MODEL-DEPENDENT SUPPORT AND FOR
      *          IBM PROPRIETARY PROGRAMMING SUPPORT
       05  TCB-TCBJSCB.
      *          ADDRESS OF THE JOB STEP CONTROL BLOCK
       10  TCB-TCBRECDE  PIC X(01).
      *          ABEND RECURSION BYTE
      *          X'80' - VALID REENTRY TO ABEND IF NON-ZERO VALUE IN
      *          FOLLOWING 7 BITS
      *          X'01' - OPEN DUMP DATA SET
      *          X'02' - CLOSE DIRECT SYSOUT ON TAPE
      *          X'03' - CLOSE OPEN DATA SETS
      *          X'04' - RESERVED.
      *          X'05' - GRAPHICS
      *          X'07' - ABDUMP
      *          X'08' - PURGE TAXE
      *          X'09' - MESSAGE RECURSION
      *          X'0A' - DD-DYNAM TIOT CLEANUP
      *          X'0B' - ABEND IS ISSUING A WTOR ASKING WHETHER THE JOB
      *          STEP TASK SHOULD WAIT FOR THE DUMP AREA
      *          (OS/VS1)
      *          X'0C' - PURGE TSO INTERPARTITION POSTS
      *          X'0D' - PURGE TCAM INTERPARTITION POSTS
      *          X'0E' - INDICATIVE DUMP (LOAD 8 OF ABEND) HAS ABENDED.
      *          ABEND WILL HANDLE THIS ABEND.  (OS/VS1)
      *          X'0F' - ASIR RECURSION. SAVE OLD COMPLETION CODE
      *          X'10' - TYPE 1 MESSAGE WRITE TO PROGRAMMER
      *          X'20' - WRITE-TO-PROGRAMMER (WTP) FAILED. JOB STEP
      *          TIMER EXPIRED DURING JOB STEP ABEND AND THE
      *          STAE EXIT IS DENIED.  (OS/VS1)
      *          X'21' - ABEND IS ENTERING FIRST VTAM INTERFACE,
      *          ISTRAAA1, FOR TERMINATION OF TASK OR SUBTASK
      *          (OS/VS1)
      *          X'22' - ABEND IS ENTERING SECOND VTAM INTERFACE,
      *          ISTRAAA2, BECAUSE ISTRAAA1 ABENDED  (OS/VS1)
      *          X'23' - ABEND IS ENTERING FIRST VTAM INTERFACE,
      *          ISTRAAA0, BECAUSE VTAM ABENDED  (OS/VS1)
      *          X'24' - ABEND IS ENTERING SECOND VTAM INTERFACE,
      *          ISTRAAA2, BECAUSE ISTRAAA0 ABENDED  (OS/VS1)
      *          X'30' - STAE/STAI NOT TO BE HONORED
      *          X'31' - RETURN FROM DUMP PROCESSING
      *          X'32' - CONVERT TO STEP ABEND
      *          X'33' - RETURN FROM DAMAGE ASSESSMENT ROUTINES
      *          X'34' - RETURN FROM TYPE 1 MESSAGE MODULE
      *          X'35' - ABEND ISSUED SVC 13 TO TRANSFER CONTROL (XCTL)
      *          TO A NON-ABEND MODULE
      *          X'40' - A MUST COMPLETE TASK HAS ABNORMALLY TERMINATED
      *          WITHOUT ENOUGH STORAGE FOR 2 RB'S FOR A WTOR
      *          ASKING WHETHER THE TASK'S RESOURCES ARE
      *          CRITICAL. THE RESOURCES ARE ASSUMED TO BE
      *          CRITICAL, AND THE PARTITION IS MARKED
      *          PERMANENTLY NONDISPATCHABLE. (OS/VS1)
       10  TCB-TCBJSCBB  PIC X(3).
      *          ADDRESS OF THE JOB STEP CONTROL BLOCK
       05  TCB-TCBSSAT   PIC S9(9) COMP.
      *          ADDRESS OF THE SUBSYSTEM AFFINITY TABLE
      *          (SSAT).
       05  TCB-TCBIOBRC  PIC S9(9) COMP.
      *          ADDRESS OF IOB RESTORE CHAIN FOR I/O QUIESCED
      *          BY EOT
       05  TCB-TCBEXCPD  PIC S9(9) COMP.
      *          ADDRESS OF EXCP DEBUG AREA (OS/VS2)
       05  TCB-TCBEXT1.
      *          ADDRESS OF OS-OS/VS COMMON TCB EXTENSION
       10  FILLER        PIC X(01).
      *          RESERVED.
       10  TCB-TCBEXT1A  PIC X(3).
      *          ADDRESS OF OS-OS/VS COMMON TCB EXTENSION
      *
      *      OS/VS1 - OS/VS2 COMMON SECTION
      *
       05  TCB-TCBBITS.
      *          FLAG BYTES. IF A BIT IN THE FOLLOWING TWO BYTES
      *          IS SET TO 1, THE PRIMARY NONDISPATCHABILITY BIT
      *          (OFFSET 33.7 DECIMAL) IS SET TO 1, AND THE TASK
      *          IS NONDISPATCHABLE.
       10  TCB-TCBNDSP4  PIC X(01).
      *          SECONDARY NONDISPATCHABILITY FLAGS COMMON TO
      *          OS/VS1 AND OS/VS2.  COORDINATED WITH PRIMARY
      *          NONDISPATCHABILITY FLAG TCBPNDSP.   THIS BYTE IS
      *          NOT CURRENTLY SUPPORTED BY OS/VS2.
       10  TCB-TCBNDSP5  PIC X(01).
      *          SECONDARY NONDISPATCHABILITY FLAGS UNIQUE TO
      *          OS/VS1 OR OS/VS2.  COORDINATED WITH PRIMARY
      *          NONDISPATCHABILITY FLAG TCBPNDSP.   THIS BYTE IS
      *          NOT CURRENTLY SUPPORTED BY OS/VS2.
       10  TCB-TCBFLGS6  PIC X(01).
      *          TASK-RELATED FLAGS
      *          X'80' - THE PARTITION IS FIXED IN REAL STORAGE. VIRTUAL
      *          ADDRESSES ARE EQUAL TO REAL ADDRESSES.
      *          X'40' - PAGE FAULT INTERRUPT IS TO BE PASSED TO THE
      *          TASK'S INTERRUPT EXIT AND AN 8-BYTE PICA IS IN
      *          EFFECT FOR THIS TASK  (OS/VS2)
      *          X'20' - TASK IS CPU-BOUND MEMBER OF AUTOMATIC PRIORITY
      *          GROUP (APG) (OS/VS2)
      *          X'10' - TASK SCHEDULED FOR ABTERM WHILE OWNING
      *          SUPERVISOR LOCK (OS/VS2)
      *          X'04' - REGION SELECTED FOR MIGRATION FROM PRIMARY
      *          PAGING DEVICE (OS/VS2)
      *          X'02' - TASK IS IN AUTOMATIC PRIORITY GROUP (APG)
      *          (OS/VS2)
      *          X'01' - JOB STEP TASK BUT NOT HIGHEST IN FAILING TREE
      *          (OS/VS2)
       10  TCB-TCBFLGS7  PIC X(01).
      *          TASK-RELATED FLAGS
      *          X'80' - TASK IS IN AN ECB WAIT FOR A GETPART
      *          (OS/VS2)
      *          X'20' - IF 1, SVC SCREENING IS TO BE PROPAGATED TO
      *          SUBTASKS
      *          X'10' - SET IN JOB STEP TCB TO INDICATE THAT A TASK IN
      *          THE JOB STEP IS IN SERIAL ABEND PROCESSING.
      *          USED IN CONJUNCTION WITH TCBFOINP.
      *          (OS/VS2)
      *          X'08' - IF 1, SVC SCREENING IS REQUIRED FOR THE TASK.
      *          THIS OFFSET FIXED BY ARCHITECTURE.
      *          X'04' - RESIDENT SYSTEM TASK (OS/VS2)
      *          X'02' - ALL OTHER TASKS IN JOB STEP HAVE BEEN SET
      *          NONDISPATCHABLE BY ABDUMP.   THIS BIT IS SET TO
      *          CONTROL JOB STEP DURING THE DUMPING PROCESS.
      *          (OS/VS2)
      *          X'01' - GENERALIZED TRACE FACILITY (GTF) TRACING HAS
      *          BEEN TEMPORARILY DISABLED UNDER THIS TASK
       05  TCB-TCBDAR    PIC X(01).
      *          DAMAGE ASSESSMENT ROUTINE (DAR) FLAGS
      *          X'80' - PRIMARY DAR RECURSION. DAR HAS BEEN ENTERED FOR
      *          THIS TASK.
      *          X'40' - SECONDARY DAR RECURSION. IF DAR IS REENTERED,
      *          THIS TASK WILL BE SET NONDISPATCHABLE.
      *          X'20' - A DUMP HAS BEEN REQUESTED FOR A WRITER OR
      *          SCHEDULER ABEND, AND THE USER HAS PROVIDED NO
      *          SYSABEND DD CARD (OS/VS1)
      *          X'10' - RECURSION PERMITTED IN CLOSE -
      *          AFTER DAR PROCESSING COMPLETED (PCP)
      *          X'10' - DAR HAS BEEN ENTERED TO HANDLE A VALID
      *          RECURSION IN MUST-COMPLETE STATUS THROUGH ABEND
      *          X'08' - SYSTEM ERROR TASK IS FAILING. DAR DUMP SHOULD
      *          NOT REQUEST ANY ERROR RECOVERY PROCEDURE (ERP)
      *          PROCESSING.
      *          X'04' - A WTO OPERATION WITH A 'REINSTATEMENT FAILURE'
      *          MESSAGE IS IN PROCESS FOR DAR
      *          X'02' - WTO OPERATION WITH A 'DAR IN PROGRESS' MESSAGE
      *          IS IN PROCESS FOR DAR (OS/VS1)
      *          X'01' - THE DUMP SVC ROUTINE IS EXECUTING FOR THIS TASK
       05  TCB-TCBRSV37  PIC X(01).
      *          RESERVED FOR USER
       05  TCB-TCBSYSCT  PIC X(1).
      *          NUMBER OF OUTSTANDING SYSTEM-MUST-COMPLETE
      *          REQUESTS (ICB497) YM3883
       05  TCB-TCBSTMCT  PIC X(1).
      *          NUMBER OF OUTSTANDING STEP-MUST-COMPLETE
      *          REQUESTS (ICB497) YM3883
       05  TCB-TCBEXT2.
      *          ADDRESS OF OS/VS1 - OS/VS2 COMMON EXTENSION
       10  FILLER        PIC X(01).
      *          FIRST BYTE OF TCBEXT2
       10  TCB-TCBEXT2A  PIC X(3).
      *          ADDRESS OF OS/VS1 - OS/VS2 COMMON EXTENSION
      *
      *     OS/VS2 TCB OVERLAY
      *
       05  TCB-TCBAECB   PIC S9(9) COMP.
      *          ABEND ECB. POSTED BY A MOTHER TASK IN RTM2
      *          PROCESSING WHEN A DAUGHTER IS WAITING TO
      *          TERMINATE IT.
       05  TCB-TCBXSB    PIC S9(9) COMP.
      *          ADDRESS OF CURRENT XSB FOR TASK.
       05  TCB-TCBBACK   PIC S9(9) COMP.
      *          ADDRESS OF PREVIOUS TCB ON READY QUEUE. ZERO
      *          IN TOP TCB.
       05  TCB-TCBRTWA   PIC S9(9) COMP.
      *          POINTER TO CURRENT RTM2 WORK AREA
       05  TCB-TCBNSSP   PIC S9(9) COMP.
      *          NORMAL STACK SAVE AREA POINTER.
      *          X'80' - NORMAL STACK SAVED IN SQA INDICATOR.
       05  TCB-TCBXLAS   PIC S9(9) COMP.
      *          ASCB ADDRESS OF THE CML LOCK HELD WHILE
      *          TCB SUSPENDED OR INTERRUPTED.
       05  TCB-TCBABCUR  PIC X(01).
      *          ABEND RECURSION BYTE
       05  TCBFJMCT      PIC X(1).
      *          NUMBER OF OUTSTANDING STEP-MUST-COMPLETE@YA02725
      *          REQUESTS ISSUED BY THE TASK
       05  TCB-TCBTID    PIC X(01).
      *          TASK ID NUMBER
      *          255 - ID FOR PAGING SUPERVISOR TASK
      *          254 - ID FOR SYSTEM ERROR TASK
      *          253 - ID FOR COMMUNCIATIONS TASK
      *          252 - ID FOR I/O RMS TASK
      *          251 - ID FOR MASTER SCHEDULER TASK
      *          250 - ID FOR JOB ENTRY SUBSYSTEM (JES) MONITOR TASK
      *          249 - ID FOR DYNAMIC SUPPORT SYSTEM (DSS) TASK
      *          248 - ID FOR SYSTEM LOG TASK
       05  FILLER        PIC X(01).
      *          RESERVED.
       05  TCB-TCBXSCT.
      *          DISPATCHER INTERSECT CONTROL WORD
       10  TCB-TCBXSCT1  PIC X(01).
      *          FLAG BYTE
      *          X'80' - BIT ON MEANS THIS TCB IS CURRENTLY ACTIVE ON A
      *          CPU. USED TO SYNCHRONIZE SOME STATUS SAVING AND
      *          DISPATCHABILITY INDICATORS WHEN ACTIVE OR NOT
      *          UNDER THE LOCAL LOCK.
      *          X'40' - STAGE 3 EXIT EFFECTOR/RESUME/TCTL INTERSECT FLA
      *          X'20' - TASK REQUESTED LOCAL LOCK
       10  TCB-TCBXSCT2  PIC X(01).
      *          FLAG BYTE
      *          X'80' - CML RESOURCE MANAGER PROCESSING
      *          COMPLETE FOR THIS CML LOCK HOLDER.
      *          X'40' - CML LOCK HOLDER READY TO RUN
       10  TCB-TCBCCPVI  PIC S9(4) COMP.
      *          ID OF THE CURRENT CPU RUNNING THIS TASK. USED
      *          FOR RECOVERY AND CPU AFFINITY.
       05  TCB-TCBFOE.
      *          ADDRESS OF FIRST FIX OWNERSHIP ELEMENT (FOE)
      *          IN LIST FOR THIS TASK
       10  FILLER        PIC X(01).
      *          RESERVED.
       10  TCB-TCBFOEA   PIC X(3).
      *          ADDRESS OF FIRST FIX OWNERSHIP ELEMENT (FOE)
      *          IN LIST FOR THIS TASK
       05  TCB-TCBSWA    PIC S9(9) COMP.
      *          ADDRESS OF FIRST SCHEDULER WORK AREA (SWA) SPQE
      *          ON SWA SPQE CHAIN
       05  TCB-TCBSTAWA  PIC S9(9) COMP.
      *          ESTAE ROUTINE WORK AREA POINTER
       05  TCB-TCBTCBID  PIC X(4).
      *          CONTAINS BLOCK ID - 'TCB '
       05  TCB-TCBRTM12  PIC S9(9) COMP.
      *          POINTER TO PARAMETER AREAS PASSED FROM RTM1 TO RTM2
       05  TCB-TCBESTAE.
      *          AREA TO CONTAIN RECOVERY DATA FOR RTM
       10  TCB-TCBSCBKY  PIC X(01).
      *          KEY IN WHICH SYNCH IS TO PASS CONTROL
      *          TO THE USER EXIT
       10  TCB-TCBESTRM  PIC X(01).
      *          ESTAE TERM OPTIONS
      *          X'80' - ESTAE EXIT ENTERED WITH TERM OPTION
      *          X'40' - SERIALIZED BY TCB ACTIVE
       10  TCB-TCBERTYP  PIC X(1).
      *          TYPE OF ERROR CAUSING ENTRY TO THE RTM. SET
      *          BY RTM1.
       10  TCB-TCBMODE   PIC X(1).
      *          MASK INDICATING MODE OF SYSTEM AT TIME OF ERROR.
      *          SEE IHART1W/MODE FOR INDIVIDUAL BIT DEFINITIONS.
       05  TCB-TCBUKYSP  PIC S9(9) COMP.
      *          ADDRESS OF SPQE'S FOR SUBPOOLS 229 AND 230
      *          (USER KEY STORAGE IN THE PRIVATE AREA)
       05  TCB-TCBSEQNO  PIC S9(4) COMP.
      *          DISPATCHING SEQUENCE NUMBER
       05  TCB-TCBAFFN   PIC X(2).
      *          CPU AFFINITY INDICATOR
       05  TCB-TCBFBYT1  PIC X(01).
      *          FLAG BYTE.
      *          X'80' - END OF TASK FLAG FOR FREEMAIN. SET TO 1 BY TASK
      *          TERMINATION AT START OF TERMINATION PROCESSING
      *          AND RESET TO 0 AT FINISH.  INDICATES THAT A
      *          FREEMAIN ON A BLOCK OF LOCAL STORAGE THAT IS
      *          STILL FIXED BY RSM SHOULD RESULT IN A RETURN
      *          CODE OF 8 RATHER THAN ABNORMAL TERMINATION.
      *          X'40' - RTM1 IS CURRENTLY PROCESSING EUT FRR'S
      *          FOR THIS TASK
      *          X'20' - TASK HAS BEEN SET NONDISPATCHABLE VIA STATUSND
      *          WHILE SVC 16 (PURGE) SCANS THE RB CHAIN PURGING
      *          APPENDAGE-SCHEDULED ASYNCHRONOUS EXIT ROUTINES
      *          RUNNING UNDER AN IRB/RQE OR NON-RESIDENT ERP'S
      *          RUNNING UNDER THE SIRB.
      *          X'10' - SET BY RTM2 TO INDICATE ONLY PURGE PHASE TO BE
      *          PERFORMED
      *          X'08' - SET BY RTM2 TO INDICATE RTM2 HAS BEEN ENTERED
      *          FOR THIS TASK
      *          X'04' - SET BY RTM2 TO INDICATE TO EXIT THAT END OF TAS
      *          PROCESSING IS COMPLETE
      *          X'02' - SYNCHRONIZATION OF ATTENTION INTERRUPT REQUIRED
      *          BY EXIT PROLOG
      *          X'01' - LOCALLY LOCKED TCB HAS PAGE FAULTED, AND I/O IS
      *          REQUIRED (FIRST LEVEL INTERRUPT HANDLER)
       05  TCB-TCBFBYT2  PIC X(01).
      *          FLAG BYTE.
      *          X'80' - SET BY RTM2 IN THE JOB STEP TCB WHEN IT HAS BEE
      *          ENTERED ON THE TCB FOR AN X22 ABEND
      *          X'40' - MOTHER WAITING FLAG. TURNED ON IN A SUBTASK IN
      *          RTM2 PROCESSING WHEN AN ANCESTOR TASK IS WAITING
      *          TO ABEND IT.
      *          X'20' - DAUGHTER WAITING FLAG. TURNED ON IN A MOTHER
      *          TASK IN RTM2 PROCESSING WHEN A DAUGHTER IS
      *          WAITING TO ABEND IT.
      *          X'10' - SET BY RTM2 TO PREVENT PERCOLATION TO THE TASK
      *          OF AN ASYNCHRONOUS ABEND
      *          X'08' - IF 1, ERROR PROPAGATED FROM RTM1 IS
      *          NON-RETRYABLE
      *          X'04' - IF 1, ECB POINTED TO BY TCBECB IS NOT TO BE
      *          VALIDITY CHECKED. IF 0, ECB POINTED TO BY
      *          TCBECB IS TO BE VALIDITY CHECKED.
      *          X'02' - STATUS STOP PENDING,TASK HOLDS A CML LOCK
      *          X'01' - A TASK WITH EUT FRRS HAS BEEN CANCELLED. THIS
      *          FLAG PASSES THE CANCEL REQUEST FROM RTM1 TO RTM2.
       05  TCB-TCBFBYT3  PIC X(01).
      *          FLAG BYTE
      *          X'80' - EXPANDED VERSION OF THE TCB
      *          X'40' - IF 1, INDICATES USER PROGRAM IS LOADED
      *          UNDER THIS TASK OR A LOWER TASK.
      *          X'20' - DETACH HAS BEEN CALLED BY RTM
       05  FILLER        PIC X(01).
      *          RESERVED.
       05  TCB-TCBRPT    PIC S9(9) COMP.
      *          ADDRESS OF RADIX PARTITION TREE FOR LOCAL
      *          STORAGE MANAGEMENT
       05  TCB-TCBVAT    PIC S9(9) COMP.
      *          ADDRESS OF THE VAT (VSAM). THERE IS ONE
      *          VAT PER JOB STEP TCB.
       05  TCB-TCBSWASA  PIC S9(9) COMP.
      *          ADDRESS OF SAVE AREA USED BY SWA MANAGER
       05  TCB-TCBSVCA2  PIC S9(9) COMP.
      *          ADDRESS OF SVC SCREENING TABLE
       05  TCB-TCBERD    PIC S9(9) COMP.
      *          EXTENDED REGION DESCRIPTOR.
       05  TCB-TCBEAE    PIC S9(9) COMP.
      *          EXTENDED ALLOCATED ELEMENT QUEUE
      *          ANCHOR.
       05  TCB-TCBARC    PIC S9(9) COMP.
      *          REASON CODE FOR ABEND
       05  TCB-TCBGRES   PIC S9(9) COMP.
      *          TASK GLOBAL RESOURCE COUNT - NUMBER OF GLOBAL
      *          RESOURCES OWNED BY THIS TASK
       05  TCB-TCBSTCB   PIC S9(9) COMP.
      *          ADDRESS OF STCB
       05  TCB-TCBTTIME  PIC X(8).
      *          TCB'S ACCUMULATED CPU TIME
       05  TCB-TCBCELAP  PIC S9(9) COMP.
      *          COMMON EXECUTION LIBRARY ANCHOR POINTER
       05  TCB-TCBR148   PIC X(3).
      *          RESERVED
       05  TCB-TCBLEVEL  PIC X(01).
      *          LEVEL NUMBER OF TCB
      *          X'02' - JBB2110 (NOT IN BASE)
      *          X'02' - JBB2125
      *          X'03' - JBB2133
      *          X'03' - LEVEL OF THIS MAPPING
       05  TCB-TCBBDT    PIC S9(9) COMP.
      *          ADDRESS OF BDT'S GSD LINKAGE
      *          CONTROL BLOCK
       05  TCB-TCBNDAXP  PIC S9(9) COMP.
      *          COUNT OF NUMBER OF CONSECUTIVE DISPATCHES
      *          REQUIRED ON A CP BEFORE THE TASK SHOULD BE
      *          REDISPATCHED ON AN AXP.
       05  TCB-TCBSENV   PIC S9(9) COMP.
      *          ADDRESS OF ACEE FOR THE TASK.
      *          THE ACEE DESCRIBES THE RACF
      *          AUTHORIZATION FOR THE TASK.
      *
      *****************************************************************
      *      OS/VS1 - OS/VS2 COMMON EXTENSION                         *
      *      ADDRESS OF EXTENSION IS IN TCBEXT2                       *
      *****************************************************************
       01 TCB-TCBXTNT2.
      *          START OF EXTENSION
       05  TCB-TCBGTF.
      *          ADDRESS OF GENERALIZED TRACE FACILITY (GTF)
      *          TEMPORARY TRACE BUFFER
       10  TCB-TCBTFLG   PIC X(01).
      *          GTF FLAG BYTE
      *          X'80' - GTF ASYNCHRONOUS GATHER ROUTINE IS IN CONTROL
      *          X'40' - GTF ASYNCHRONOUS GATHER ERROR ROUTINE IS IN
      *          CONTROL
      *          X'20' - MACHINE CHECK INTERRUPTION HANDLER SHOULD
      *          UNCONDITIONALLY BRANCH TO THE DISPATCHER
       10  TCB-TCBGTFA   PIC X(3).
      *          ADDRESS OF GTF TEMPORARY TRACE BUFFER
       05  FILLER        PIC X(01).
      *          RESERVED.
       05  TCB-TCBRCMP   PIC X(3).
      *          MOST RECENT ABEND COMPLETION CODE (INCLUDING
      *          VALID RECURSIONS IN STAE)
       05  TCB-TCBEVENT  PIC S9(9) COMP.
      *          ADDRESS OF EVENT TABLES QUEUE
       05  TCB-TCBRTMCT  PIC S9(9) COMP.
      *          COUNT OF TOKENS USED FOR ESTAE.
       05  TCB-TCBTQE    PIC S9(9) COMP.
      *          ADDRESS OF A REUSABLE TASK-RELATED TQE (OS/VS2)
       05  TCB-TCBCAUF   PIC S9(9) COMP.
      *          ADDRESS OF SUBSYSTEM FACILITY CONTROL BLOCK
      *          (OS/VS2)
       05  TCB-TCBPERCP  PIC S9(9) COMP.
      *          POINTER TO A QUEUE OF SPIS. AN SPI
      *          REPRESENTS THE PERCOLATION OF AN SRB'S
      *          FRR TO THE RELATED TASK.
      *          X'80' - TASK IS IN RECOVERY.
       05  TCB-TCBPERCT  PIC S9(9) COMP.
      *          COUNT OF SRB MODE FRRS WAITING TO
      *          PERCOLATE TO THIS TASK, BUT NOT
      *          REPRESENTED IN SPI QUEUE (TCBPERCP).
      *
      *    END OF TCB
      *

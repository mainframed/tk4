GOPTIONS NOTEXT82;
*OPTIONS DEVICE=GDDMPCGX;
GOPTIONS CBACK=CYAN ;
GOPTIONS COLORS=(WHITE CYAN PINK BLUE GREEN YELLOW RED);
*OPTIONS NOCHARACTERS;
*OPTIONS DEVADDR=(ADMPRINT,.,L03M16) DEVICE=GDDM87 /*USE FOR ADMPRINT*/;
*OPTIONS HSIZE=8 VSIZE=7;
  DATA TEST1;
  SET SASDB.UTM18901
      SASDB.UTM18902
      SASDB.UTM18903
      SASDB.UTM18904
      SASDB.UTM1WK01
      SASDB.UTM1WK02
      SASDB.UTM1WK03
      SASDB.UTM1WK04
         ;
%INCLUDE DD1(EX8901);
%INCLUDE DD1(EX8902);
%INCLUDE DD1(EX8903);
%INCLUDE DD1(EX8904);
%INCLUDE DD1(EX8905);
   IF S70IST LT 090000 THEN DELETE ;
   IF S70IST GT 155000 THEN DELETE ;
   IF S70INT LT 0500000 THEN DELETE /*     THROW OUT SMALL INTERVAL  */;
   HHOLD  = FLOOR(S70IST/10000);
KEEP HHOLD  CPU_UT S70DAT;
PROC SORT DATA=TEST1 OUT=TEST2;
 BY  HHOLD;
*PROC PRINT DATA=TEST2;
DATA TEST3;
SET TEST2;
LENGTH COLORVAR SHAPVAR $ 8;
IF CPU_UT GE 70.0 THEN
DO;
   COLORVAR='RED';
SHAPEVAR='PYRAMID';
END;
IF CPU_UT GE 45.0 AND  CPU_UT < 70.0 THEN
DO;
    COLORVAR='BLUE';
    SHAPEVAR='CUBE';
END;
IF CPU_UT < 45.0 THEN
DO;
    COLORVAR='GREEN';
    SHAPEVAR='DIAMOND';
END;
TITLE1 J=C H=1.5 F=SIMPLEX C=WHITE 'CPU UTILIZATION FOR 3090-400E';
TITLE2 J=C H=1 F=SIMPLEX C=WHITE 'SUMMARIZED BY RMF INTERVALS';
FOOTNOTE1 J=L H=1 F=SIMPLEX C=WHITE
   '    JANUARY 1989 THROUGH MAY 26TH';
FOOTNOTE2 J=L H=1 F=SIMPLEX C=RED C=WHITE
   '    CPUNDL: TECHNICAL SUPPORT';
FOOTNOTE3 J=L H=1 F=SIMPLEX C=RED   '    RED   GT 75% ';
FOOTNOTE4 J=L H=1 F=SIMPLEX C=BLUE  '    BLUE  GT 45 LT 75% ';
FOOTNOTE5 J=L H=1 F=SIMPLEX C=GREEN '    GREEN LT 45 % ';
   PROC G3D  DATA = TEST3; /* GOUT=MYCAT.GRAPHS;*/
 SCATTER S70DAT*HHOLD=CPU_UT / NONEEDLE TILT=80 90 45 ROTATE=60 90 20
 ZMIN=10.0 ZMAX=100.0 ZTICKNUM=10
  XTICKNUM=7
COLOR=COLORVAR SHAPE=SHAPEVAR GRID;
LABEL S70DAT = 'DATE (YYDDD)';
LABEL CPU_UT = '% UTIL';
LABEL HHOLD = 'TIME';
RUN;

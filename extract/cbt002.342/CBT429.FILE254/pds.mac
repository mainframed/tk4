/* REXX PDSE TO PDS EXEC */
ADDRESS "TSO";
PARSE UPPER ARG DSNAME DIR DC;
IF DSNAME = "" × DIR = "" THEN EXIT 16;
PARSE VAR DSNAME "'" DSNAME "'";
PARSE VAR DSNAME HLQ "." . ;
IF HLQ="SYS1" THEN MC="NOMIG";
   ELSE MC="STANDARD";
INDSN = "'"DSNAME××".PDSE'";
DSNAME = "'"DSNAME"'";
'RENAME' DSNAME INDSN;
"FREE F(OUT)";
"ALLOC F(OUT) LIKE("INDSN") DSNTYPE(PDS) DIR("DIR") DSNAME("DSNAME×× ,
  ") NEW CATALOG STORCLAS(SCSTNRDG) MGMTCLAS("MC") DATACLAS("DC")";
IF RC^=0 THEN EXIT 16;
"FREE F(IN)";
"ALLOC F(IN) DA("INDSN") SHR";
IF RC^=0 THEN EXIT 16;
"FREE F(SYSIN)";
"ALLOC F(SYSIN) DA('TECH110.USER.CNTLLIB(PDSSYSIN)') SHR";
IF RC^=0 THEN EXIT 16;
"CALL 'SYS1.LINKLIB(IEBCOPY)'";

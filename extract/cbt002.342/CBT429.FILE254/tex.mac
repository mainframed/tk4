/* REXX */
"ALLOC F(INDD) DA('TECH110.RMF.HISTORY') OLD";
"EXECIO * DISKR INDD (FINIS STEM T.";
"ALLOC F(OUTDD) DA('TECH110.TEMP.DATA') OLD";
X=0;
S1=0;S2=0;
DO I = 1 TO T.0;
  PARSE VAR T.I PD PT . . . . PS;
  IF PT<"09" THEN ITERATE;
  ELSE IF PT="09" THEN DO;
  S1=PD;
  S2=PS;
  END;
  ELSE IF PT<="16" THEN DO;
    S2=S2+PS; END;
  ELSE IF PT="17" THEN DO;
    X=X+1;
    OUTX.X=S1 RIGHT(S2,8,"0"); END;
  ELSE ITERATE;
END;
"EXECIO * DISKW OUTDD (FINIS STEM OUTX.";
EXIT 0;

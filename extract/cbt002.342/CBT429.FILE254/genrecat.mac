/* REXX EXEC to generate recatalog IDCAMS statements         */
"ALLOC F(OUTP) DSNAME('TECH110.USER.CNTLLIB(GENREC2I)') SHR";
outline=1;
dummy = outtrap("recat.");
"LISTC LVL('SYS1.TCPIP') VOL";
dummy = outtrap("OFF");
do i = 1 to recat.0;
  if word(recat.i,1)="NONVSAM" then do;
       dsname=strip(word(recat.i,3));
       end;
  if substr(word(recat.i,1),1,6)="VOLSER" then do;
       wlen=length(word(recat.i,1));
       volser=strip(substr(word(recat.i,1),wlen-5,6));
       out.outline=" DEF NVSAM (NAME("dsname") -";
       outline=outline+1;
       out.outline=" VOL("volser") DEVT(3390) RECATALOG) -";
       outline=outline+1;
       out.outline=" CAT(SYS1.MCATSA.CLUSTER)";
       outline=outline+1;
       end;
end;
"EXECIO * DISKW OUTP (STEM OUT. FINIS";

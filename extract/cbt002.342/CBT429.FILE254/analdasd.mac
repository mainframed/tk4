/* REXX */
TOTDSCNT09="0 0 0";
TOTDSCNT1019="0 0 0";
TOTDSCNT2029="0 0 0";
TOTDSCNT3039="0 0 0";
TOTDSCNT4049="0 0 0";
TOTDSCNT5059="0 0 0";
TOTDSCNT6069="0 0 0";
TOTDSCNT7079="0 0 0";
TOTDSCNT8089="0 0 0";
TOTDSCNT9099="0 0 0";
"ALLOC F(INPUT) DA('TECH110.DASD.USED.REPORT') SHR";
"EXECIO * DISKR INPUT (STEM IN. FINIS";
DO I = 1 TO IN.0;
   PARSE VAR IN.I USEDP KBALLOC KBUSED . ;
   IF KBUSED="" THEN ITERATE I;
   IF ^DATATYPE(USEDP,"W") THEN ITERATE I;
   IF USEDP=100 & KBALLOC=0 & KBUSED=0 THEN ITERATE I;
   IF USEDP=0 & KBALLOC=0 & KBUSED=0 THEN ITERATE I;
   SELECT;
     WHEN (USEDP<10) THEN UVAR="09";
     WHEN (USEDP<20) THEN UVAR="1019";
     WHEN (USEDP<30) THEN UVAR="2029";
     WHEN (USEDP<40) THEN UVAR="3039";
     WHEN (USEDP<50) THEN UVAR="4049";
     WHEN (USEDP<60) THEN UVAR="5059";
     WHEN (USEDP<70) THEN UVAR="6069";
     WHEN (USEDP<80) THEN UVAR="7079";
     WHEN (USEDP<90) THEN UVAR="8089";
     OTHERWISE UVAR="9099";
   END;
   PARSE VALUE VALUE("TOTDSCNT"××UVAR) WITH TOTCNT TOTALL TOTUSED;
   TOTCNT=TOTCNT+1;
   TOTALL=TOTALL+KBALLOC;
   TOTUSED=TOTUSED+KBUSED;
   INTERPRET  "TOTDSCNT"UVAR"="TOTCNT TOTALL TOTUSED;
END;
"VMFCLEAR";
PARSE VALUE VALUE("TOTDSCNT"××"09") WITH C0009 A0009 U0009;
PARSE VALUE VALUE("TOTDSCNT"××"1019") WITH C1019 A1019 U1019;
PARSE VALUE VALUE("TOTDSCNT"××"2029") WITH C2029 A2029 U2029;
PARSE VALUE VALUE("TOTDSCNT"××"3039") WITH C3039 A3039 U3039;
PARSE VALUE VALUE("TOTDSCNT"××"4049") WITH C4049 A4049 U4049;
PARSE VALUE VALUE("TOTDSCNT"××"5059") WITH C5059 A5059 U5059;
PARSE VALUE VALUE("TOTDSCNT"××"6069") WITH C6069 A6069 U6069;
PARSE VALUE VALUE("TOTDSCNT"××"7079") WITH C7079 A7079 U7079;
PARSE VALUE VALUE("TOTDSCNT"××"8089") WITH C8089 A8089 U8089;
PARSE VALUE VALUE("TOTDSCNT"××"9099") WITH C9099 A9099 U9099;
Z=1000000.0;
SAY "% USED/ALLOCT:"LEFT("  FILES  ",9)RIGHT(" GB ALLC ",9)×× ,
     RIGHT(" GB USED ",9);
SAY "TOTAL 00%-09%:"LEFT(C0009,9)RIGHT(TRUNC(A0009/Z,2),9)×× ,
     RIGHT(TRUNC(U0009/Z,2),9);
SAY "TOTAL 10%-19%:"LEFT(C1019,9)RIGHT(TRUNC(A1019/Z,2),9)×× ,
     RIGHT(TRUNC(U1019/Z,2),9);
SAY "TOTAL 20%-29%:"LEFT(C2029,9)RIGHT(TRUNC(A2029/Z,2),9)×× ,
     RIGHT(TRUNC(U2029/Z,2),9);
SAY "TOTAL 30%-39%:"LEFT(C3039,9)RIGHT(TRUNC(A3039/Z,2),9)×× ,
     RIGHT(TRUNC(U3039/Z,2),9);
SAY "TOTAL 40%-49%:"LEFT(C4049,9)RIGHT(TRUNC(A4049/Z,2),9)×× ,
     RIGHT(TRUNC(U4049/Z,2),9);
SAY "TOTAL 50%-59%:"LEFT(C5059,9)RIGHT(TRUNC(A5059/Z,2),9)×× ,
     RIGHT(TRUNC(U5059/Z,2),9);
SAY "TOTAL 60%-69%:"LEFT(C6069,9)RIGHT(TRUNC(A6069/Z,2),9)×× ,
     RIGHT(TRUNC(U6069/Z,2),9);
SAY "TOTAL 70%-79%:"LEFT(C7079,9)RIGHT(TRUNC(A7079/Z,2),9)×× ,
     RIGHT(TRUNC(U7079/Z,2),9);
SAY "TOTAL 80%-89%:"LEFT(C8089,9)RIGHT(TRUNC(A8089/Z,2),9)×× ,
     RIGHT(TRUNC(U8089/Z,2),9);
SAY "TOTAL 90%-99%:"LEFT(C9099,9)RIGHT(TRUNC(A9099/Z,2),9)×× ,
     RIGHT(TRUNC(U9099/Z,2),9);
EXIT 0;

 /********************* MSGMAKE  ISPF EDIT MACRO *********************/
 /* MSGMAKE IS AN ISPF EDIT MACRO  IS USED TO CREATE AN ISPF MESSAGE */
 /* STUB WITHIN A CLIST OR  ISPF  EDIT  MACRO.  ENTER MSGMAKE ON THE */
 /* COMMAND LINE AND USE  THE  A  OR  B DESTINATION INDICATOR ON THE */
 /* LINE WHERE A MESSAGE COMMAND IS  TO BE PLACED.  THE TEXT THAT IS */
 /* NEEDED WILL BE PLACED INTO  THE  DATA.  THE USER CAN THEN CHANGE */
 /* THE CONDITION NEEDED FOR THE  EXECUTION  OF THE MESSAGE, AND THE */
 /* MESSAGE TEXT THAT SHOULD BE DISPLAYED.                           */
 /*                                                                  */
 /*                                                                  */
 /* SYNTAX: MSGMAKE                                                  */
 /*                                                                  */
 /********************************************************************/

ISREDIT MACRO (HELP) NOPROCESS

       IF &STR(&HELP) = HELP THEN +
           DO
           ISPEXEC DISPLAY PANEL(MSGMAKE)
           EXIT
           END

       IF &STR(&HELP) = ? THEN +
           DO
           ISPEXEC DISPLAY PANEL(MSGMAKE)
           EXIT
           END
 SET &RBRAC = &STR())
 SET &AMPR  = &NRSTR(&&)
 SET &LBRAC = &STR((
START: +
 SET &LNE1 = +
 &NRSTR( IF {CONDITION}  THEN DO  )
 SET &LNE2 = +
 &NRSTR(   SET ZEDSMSG = &NRSTR(&AMPR)STR(SHORT MSG TEXT &RBRAC
 SET &LNE3 = +
 &NRSTR(   SET ZEDLMSG = &NRSTR(&AMPR)STR(MESSAGE LONG TEXT HERE      +
       &NRSTR(                   +)
 SET &LNE4 = +
 &NRSTR(                        &RBRAC)
 SET &LNE5 = +
 &NRSTR(   ISPEXEC SETMSG MSG(ISRZ001))
 SET &LNE6 = +
 &NRSTR( END)
DEST: +
  ISREDIT PROCESS DEST
  SET &MYCC = &LASTCC
  IF &MYCC = 8 THEN GOTO EMPTY
  IF &MYCC = 0 THEN DO
  ISREDIT LOCATE .ZDEST
  ISREDIT (ROW,COL) = CURSOR
       ISREDIT MASKLINE = "&LNE1"
       ISREDIT LINE_AFTER &ROW = MASKLINE
       ISREDIT MASKLINE = "&LNE2"
       ISREDIT LINE_AFTER &EVAL(&ROW + 1)  = MASKLINE
       ISREDIT MASKLINE = "&LNE3"
       ISREDIT LINE_AFTER &EVAL(&ROW + 2)  = MASKLINE
       ISREDIT MASKLINE = "&LNE4"
       ISREDIT LINE_AFTER &EVAL(&ROW + 3)  = MASKLINE
       ISREDIT MASKLINE = "&LNE5"
       ISREDIT LINE_AFTER &EVAL(&ROW + 4)  = MASKLINE
       ISREDIT MASKLINE = "&LNE6"
       ISREDIT LINE_AFTER &EVAL(&ROW  + 5)  = MASKLINE
       ISREDIT MASKLINE = ' '
    GOTO ERROROUT
EMPTY: +
       ISREDIT MASKLINE = "&LNE6"
       ISREDIT LINE_BEFORE 1 = MASKLINE
       ISREDIT MASKLINE = "&LNE5"
       ISREDIT LINE_BEFORE 1 = MASKLINE
       ISREDIT MASKLINE = "&LNE4"
       ISREDIT LINE_BEFORE 1 = MASKLINE
       ISREDIT MASKLINE = "&LNE3"
       ISREDIT LINE_BEFORE 1 = MASKLINE
       ISREDIT MASKLINE = "&LNE2"
       ISREDIT LINE_BEFORE 1 = MASKLINE
       ISREDIT MASKLINE = "&LNE1"
       ISREDIT LINE_BEFORE 1 = MASKLINE
ERROROUT:+
       ISREDIT MASKLINE = ' '
      SET RC = 0
  END
  END
  EXIT CODE(&RC)

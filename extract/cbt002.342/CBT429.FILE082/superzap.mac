1                                                             PAGE    1












                         MAPLPA VERSION III-A





                   A LINK PACK AREA MAPPING PROGRAM





                        THIS WRITE-UP REVISED





                          FEBRUARY 27, 1975


1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    2


                             INTRODUCTION


    MAPLPA  IS A PROGRAM THAT PRODUCES A LINK PACK AREA MAP SORTED BOTH
 ALPHABETICALLY  AND  BY  ADDRESS.  IT  ALSO  PRODUCES  CARDS WHICH ARE
 SUITABLE  AS INPUT TO BOTH THE TPATH PROGRAM (QV) AND THE PULL PROGRAM
 (QV).

    MAPLPA  RUNS  AS A PROBLEM PROGRAM UNDER VS AND REQUIRES NO CHANGES
 TO  BE MADE TO VS. MAPLPA NOW WILL MAP THE LINK PACK AREA OF SVM, THIS
 IS A CHANGE FROM MAPLPA VERSION III.

    MAPLPA  MAY  BE  INVOKED  IN  THE  STANDARD WAY, PASSING PARAMETERS
 AND/OR ALTERNATE DDNAME'S...SEE THE UTILITIES SRL.

    JCL REQUIRED TO EXECUTE MAPLPA IS STANDARD DATASET UTILITY JCL:

      //STEPNAME EXEC PGM=MAPLPA
      // <,PARM='LINES=×L=NNN,ALPHA,KVT×EPS×BOTH'>
      // <,REGION=XXXXK>
      <//SYSPUNCH DD SYSOUT=B<,DCB=BLKSIZE=PPPPP>>
      <//PUNCH DD SYSOUT=B<,DCB=BLKSIZE=PPPPP>>
      <//STEPLIB DD DSN=D89MSC1.SIMMON.LOAD,DISP=SHR>
      //SYSPRINT DD SYSOUT=C,<DCB=BLKSIZE=BBBBB>
      <//PRINT DD SYSOUT=C,<DCB=BLKSIZE=BBBBB>>

      WHERE:

           NNN  (LINE  COUNT) IS ANY NUMBER FROM 10 THRU 999. THIS WILL
                BE  USED  TO  SET  THE LINE COUNT PER PAGE. THE DEFAULT
                LINE COUNT IS 56.

                NOTE:

                      IF  AN  INVALID  LINE  COUNT  IS PASSED TO MAPLPA
                           (LESS  THAN  10  OR  GREATER  THAN 999), THE
                           DEFAULT  LINE  COUNT  (56)  WILL BE USED. AN
                           ERROR MESSAGE WILL BE ISSUED; IT WILL APPEAR
                           IN THE USER'S JCL.

           ALPHA  THIS  SPECIFIES  THAT  MAPLPA  SHOULD PRODUCE PUNCHED
                OUTPUT   IN  ALPHABETICAL  ORDER  RATHER  THAN  ADDRESS
                (NUMERICAL) ORDER.

           KVT THIS SPECIFIES THAT MAPLPA SHOULD PRODUCE PUNCHED OUTPUT
                SIMILAR TO THE NUCPUNCH PROGRAM (QV); ALSO SEE APPENDIX
                I.

           EPS  THIS  SPECIFIES  THAT  MAPLPA SHOULD PRODUCE ONLY MINOR
                OUTPUT CARDS; IE, ONLY CARDS WHICH ARE FOR ALIAS MEMBER
                NAMES.

           BOTH  THIS  SPECIFIES  THAT  MAPLPA  SHOULD PRODUCE BOTH THE
                MAJOR  AND  MINOR  CARDS  AS  OUTPUT; IE, BOTH THE TRUE
                MEMBER NAMES AND ALIAS MEMBER NAMES.


1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    3


           C  (SYSOUT  CLASS)  IS ANY ALPHA CHARACTER FROM A THRU Z, OR
                ANY NUMERIC CHARACTER FROM 0 THRU 9.

                NOTE:

                      FOR  PROPER  OUTPUT,  MAPLPA  REQUIRES  A PRINTER
                           HAVING  AT  LEAST  132 POSITIONS AND A PN OR
                           EQUIVALENT TRAIN/CHAIN.

           BBBBB (BLKSIZE FOR SYSPRINT OR PRINT) IS ANY MULTIPLE OF 137
                UP  TO  AND INCLUDING FULL-TRACK BLOCKING. THE LRECL IS
                137; THE DEFAULT IS 3509. THE RECFM IS VBA.

           PPPPP  (BLKSIZE FOR SYSPUNCH OR PUNCH) IS ANY MULTIPLE OF 80
                UP  TO  AND  INCLUDING FULL-TRACK BLOCKING. THE DEFAULT
                BLOCKSIZE IS 80.

           XXXX  (REGION SIZE) CAN BE DETERMINED, APPROXIMATELY, BY THE
                FOLLOWING FORMULA:

                XXXX = 128K + (2*BBBBB +2*PPPPP +4096) / 1024)K


     SYSPRINT  THIS  IS  THE  PRIMARY OUTPUT OF MAPLPA. IT OR THE PRINT
          DDCARD IS A REQUIRED DDCARD.

                NOTE:

                      MAPLPA  VERSIONS  I  AND  II  USED  PRINT  AS THE
                           PRIMARY   OUTPUT   DDNAME.   THIS  HAS  BEEN
                           RETAINED FOR COMPATIBILITY.

           SYSPUNCH THIS IS THE SECONDARY OUTPUT OF MAPLPA. IT IS NOT A
                REQUIRED  DDCARD.  SEE  APPENDIX  II  FOR  OUTPUT  CARD
                FORMAT.

           STEPLIB  THIS IS A LIBRARY ON THE TSO A-QUEUE WHICH CONTAINS
                THE CURRENT VERSION OF MAPLPA.

                NOTE:

                      FOR A FULLER EXPLAINATION OF THE DDCARD'S USED BY
                           MAPLPA, SEE APPENDIX III.


1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    4


    MAPLPA'S PRIMARY OUTPUT IS TWO LISTINGS OF THE LINK PACK AREA TO BE
         MAPPED:

           1.  A  MAP  OF  THE  LOAD MODULES IN THE LINK PACK AREA, THE
                MODIFIED  LINK PACK AREA, THE FIXED LINK PACK AREA, AND
                CERTAIN   SYSTEM  AREAS  (SUCH  AS  SQA,  ETC.)  SORTED
                ALPHABETICALLY   WITH   MAJOR  NAMES  AND  MINOR  NAMES
                INDICATED (A MINOR NAME IS AN ALIAS).

           2. A MAP OF THE LINK PACK AREA, THE MODIFIED LINK PACK AREA,
                THE  FIXED  LINK  PACK  AREA,  AND CERTAIN SYSTEM AREAS
                SORTED  BY  ADDRESS.  MINOR  NAMES  AND MAJOR NAMES ARE
                INDICATED.


      IF  THE  SYSPUNCH  DDCARD  IS  PRESENT,  CARDS,  AS  DESCRIBED IN
           APPENDIX  I,  WILL  BE  PRODUCED. THE SYSPUNCH DDCARD IS NOT
           REQUIRED.

      THE  OUTPUT  IN  THE SYSPUNCH DATASET DEPENDS UPON THE PARAMETERS
           SPECIFIED  (OR NOT SPECIFIED) ON THE EXEC CARD; SEE APPENDIX
           I.


1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    5


                              APPENDIX I


                         THE SYSPUNCH DATASET


      MAPLPA PRODUCES CARDS WITH THE FOLLOWING FORMAT:

           COLUMNS 1 THRU 6 - LOAD MODULE START ADDRESS
           COLUMN 7 - THE MAJOR NAME FLAG
           COLUMNS 10 THRU 15 - LOAD MODULE LENGTH
           COLUMNS 16 THRU 23 - LOAD MODULE OR ALIAS NAME
           COLUMN 24 - THE LENGTH FLAG

      COLUMNS  1  THRU 6 CONTAIN THE LOAD MODULE OR ALIAS START ADDRESS
           IN HEXIDECIMAL, SIX CHARACTERS WITH LEADING ZEROES.

      COLUMN 7 CONTAINS AN ASTERISK (*) INDICATING THE CARD HAS A MAJOR
           NAME  IN  COLUMNS  16 THRU 23. A MAJOR NAME IS A LOAD MODULE
           NAME. MINOR (ALIAS) NAME CARDS WILL NOT HAVE THIS ASTERISK.

      COLUMNS  10 THRU 15 CONTAIN THE LOAD MODULE LENGTH. THIS IS TAKEN
           FROM  THE  LPDE'S FOR THE LINK PACK AREA, AND FROM THE CDE'S
           FOR  LOAD  MODULES  IN  THE FIXED LINK PACK AREA. MINOR NAME
           CARDS WILL HABE BLANKS HERE.

      COLUMNS  16  THRU  23  CONTAIN  THE  LOAD MODULE OR ALIAS NAME IN
           EBCDIC, EIGHT CHARACTERS WITH TRAILING BLANKS.

      COLUMN  24  CONTAINS  AN  ASTERISK (*) INDICATING THAT COLUMNS 10
           THRU  15  CONTAIN  THE  LOAD MODULE LENGTH. MINOR NAME CARDS
           WILL NOT HAVE THIS ASTERISK.

      IF  THE KVT PARM HAS BEEN SPECIFIED IN THE PARM FIELD OF THE EXEC
           CARD, MAPLPA WILL PRODUCE CARDS WITH THE FOLLOWING FORMAT:

           COLUMNS 1 THRU 6 - LOAD MODULE START ADDRESS
           COLUMN 7 - THE MAJOR NAME FLAG
           COLUMNS 10 THRU 15 - LOAD MODULE ENDING ADDRESS
           COLUMNS 16 THRU 23 - LOAD MODULE NAME
           COLUMN 24 - THE END ADDRESS FLAG


1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    6


      COLUMNS 1 THRU 6 CONTAIN THE LOAD MODULE START ADDRESS ADDRESS IN
           HEXIDECIMAL, SIX CHARACTERS WITH LEADING ZEROES.

      COLUMN  7 CONTAINS AN ASTERISK (*) INDICATING THAT THE CARD HAS A
           MAJOR NAME IN COLUMNS 16 THRU 23.

      COLUMNS  10  THRU 15 CONTAIN THE LOAD MODULE ENDING ADDRESS. THIS
           IS  THE  LOAD  MODULE  START  ADDRESS  PLUS  THE LOAD MODULE
           LENGTH,  ROUNDED  TO  AN  EIGHT BYTE BOUNDARY MINUS ONE (1),
           TAKEN FROM THE LPDE'S FOR LOAD MODULES IN THE LINK PACK AREA
           OR THE CDE'S FOR LOAD MODULES IN THE FIXED LINK PACK AREA.

      COLUMNS  16 THRU 23 CONTAIN THE LOAD MODULE NAME IN EBCDIC, EIGHT
           CHARACTERS WITH TRAILING BLANKS.

      COLUMN  24  CONTAINS  A  BLANK INDICATING THAT COLUMNS 10 THRU 15
           CONTAIN AN ENDING ADDRESS.

      IF  THE KVT PARAMETER IS SPECIFIED, ONLY MAJOR NAME CARDS WILL BE
           PRODUCED IN THE SYSPUNCH DATASET.


1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    7


                             APPENDIX II


                               MESSAGES

   ALL MAPLPA MESSAGES ARE IN THE FOLLOWING FORMAT:

           MSGID-MSGNUMBER-SEVERITY MESSAGE

                     MSGID IS ALWAYS MLPA
                     MSGNUMBER IS THE NUMBER IN MAPLPA'S TABLE
                     SEVERITY IS A ONE CHARACTER CODE

                          I INFORMATIONAL....RC=0
                          W WARNING..........RC=4
                          E ERROR............RC=8
                          T TERMINAL.........RC=12
                          C CATASTROPHIC.....RC=16

                NOTES:

                     I  INFORMATIONAL - THIS IS A MESSAGE TO INFORM THE
                     USER OF SOME EVENT, DATA, TOTAL, ETC.

                     W  WARNING  - THIS IS A MESSAGE TO INFORM THE USER
                     OF  SOME  UNUSUAL  OCCURANCE  WHICH MAY OR MAY NOT
                     HAVE SOME EFFECT ON MAPLPA'S PROCESSING.

                     E  ERROR - THIS IS A MESSAGE TO INFORM THE USER OF
                     SOME   CONDITION   THAT   PRECLUDES   MAPLPA  FROM
                     PROCESSING.

                     T  TERMINAL - THIS IS A MESSAGE TO INFORM THE USER
                     OF A CONDITION THAT PRECLUDES MAPLPA'S PROCESSING.

                     C  CATASTROPHIC  - THIS IS A MESSAGE TO INFORM THE
                     USER  OF  A  CONDITION  THAT MAPLPA RECOGINIZES AS
                     BEING  DISASTEROUS  TO  ITS  PROCESSING,  SUCH  AS
                     POSSIBLE LOOPS, ETC. THIS WILL BE ACCOMPANIED BY A
                     USER ABEND.


1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    8


   MLPA01E BUFFER EXHAUSTED BEFORE ALL CDE CHAINS WERE TESTED

      THE AREA OBTAINED TO CONTAIN THE SORTED POINTERS WAS TOO SMALL TO
      CONTAIN THE POINTERS TO THE CDE'S FOR THE FIXED LINK PACK AREA.

   MLPA02C SAVEAREA COUNT EXCEEDED

      DUE  TO  SOME ERROR IN MAPLPA, THE MAXIMUM DEPTH OF SAVEAREAS WAS
      EXCEEDED. THIS WILL BE ACCOMPANIED BY A USER 001 ABEND.

           IF  A  SYSUDUMP  DDCARD  WAS  NOT PRESENT IN THE JCL, PLEASE
           RERUN WITH ONE IN THE JCL.

           PLEASE SEND THE DUMP TO:






1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE    9


 THE FOLLOWING MESSAGES WILL APPEAR IN THE USER'S JCL

   MLPA90T SYSPRINT DID NOT OPEN

      SYSUT2 OR ITS ALTERNATE DID NOT OPEN.

   MLPA91W UNRECOGNIZABLE PARM

      A  CHARACTER  STRING  IN THE PARM FIELD WAS NOT RECOGNIZED BY THE
      PARM FIELD PROCESSING ROUTINE.

   MLPA92W INVALID PAGESIZE, DEFAULT USED

      THE  LINECOUNT  GIVEN IN THE LINES= OR L= PARAMETER WAS LESS THAN
      10 OR GREATER THAN 999.

   MLPA93W NON DECIMAL IN PARM FIELD

      THE LINECOUNT GIVEN IN THE LINES= OR L= PARAMETER CONTAINED A NON
      DECIMAL CHARACTER.

   MLPA94W PARM FIELD TOO LONG

      THE  LINECOUNT  GIVEN IN THE LINES= OR L= PARAMETER WAS MORE THAN
      THREE (3) DIGITS LONG.



1MAPLPA: A LINK PACK AREA MAPPING PROGRAM                     PAGE   10


                             APPENDIX III


                         DDCARD'S FOR MAPLPA


   SYSPRINT  THIS  IS  THE  PRIMARY  OUTPUT  OF MAPLPA. IT HAS A RECORD
        FORMAT  OF  VARIABLE  BLOCKED  WITH  ASA  CONTROL CHARACTERS, A
        LOGICAL  RECORD LENGTH OF 137, AND A DEFAULT BLOCKSIZE OF 3509.
        THE  BLOCKSIZE CAN BE OVIDDEN VIA THE DDCARD. SYSPRINT CONTAINS
        ANY  ERR  ERROR  MESSAGES  THAT WERE ISSUED, AND THE TWO SORTED
        LISTINGS PRODUCED BY MAPLPA.

   PRINT  THIS  IS  AN  ALTERNATE DDNAME FOR SYSPRINT. MAPLPA VERSION I
        USED  THIS  AS  THE  DDNAME FOR THE PRINTED OUTPUT; IT HAS BEEN
        RETAINED FOR COMPATIBILITY.

   SYSPUNCH  THIS  IS  THE  SECONDARY OUTPUT OF MAPLPA. IT HAS A RECORD
        FORMAT  OF  FIXED BLOCKED, A LOGICAL RECORD LENGTH OF 80, AND A
        DEFAULT  BLOCKSIZE  OF  80. THE BLOCKSIZE MAY BE OVERRIDDEN VIA
        THE DDCARD. IT WILL CONTAIN THE CARDS AS DEFINED IN APPENDIX I.
        THIS  IS  NOT  A  REQUIRED  DDCARD;  IE, IF YOU DO NOT WANT THE
        PUNCHED OUTPUT OF MAPLPA, A DD DUMMY CARD IS NOT REQUIRED.

   PUNCH  THIS  IS  AN  ALTERNATE  NAME FOR THE SYSPUNCH DDCARD. MAPLPA
        VERSION  I  USED  THIS AS THE DDNAME FOR THE PUNCHED OUTPUT; IT
        HAS BEEN RETAINED FOR COMPATIBILITY.


/*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*/
/* DOC:  THIS IS AN ISPF V2.2 ISREDIT MACRO                          */
/* REQ:  USER MUST BE IN ISPF EDIT MODE                              */
/*                                                                   */
/* FUNCTION: ENTERS COMMENTS PER DSN AND MEMBER NAME                 */
/*                                                                   */
/*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*/
PROC 0 X()
CONTROL MAIN
ISREDIT MACRO (HOLD)
SET &ID=&SYSUID
SET &RC=0
ISREDIT (DSN) =  DATASET
ISREDIT (MEM) =  MEMBER
/* FIND OUT THE NUMBER OF LINES IN THE DATASET  */
ISREDIT (TOP,BOT) = DISPLAY_LINES
SET &PNT=0
SET &ID=&SYSUID
ISREDIT LINE_AFTER &PNT = "//&MEM   JOB (000000),'&ID',"
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT = '//            CLASS=Z,MSGCLASS=X,'
SET &PNT=&PNT+1
SET &X=
IF &HOLD=HOLD THEN SET &X=&STR(,TYPRUN=HOLD)
IF &HOLD=SCAN THEN SET &X=&STR(,TYPRUN=SCAN)
ISREDIT LINE_AFTER &PNT = '//            NOTIFY=&ID.&X'
SET &PNT=&PNT+1
GOTO COMMENTS
PROC:  +
ISREDIT LINE_AFTER &PNT = '//&MEM     PROC'
SET &PNT=&PNT+1
COMMENTS: +
ISREDIT LINE_AFTER &PNT= +
'//*-----------------------------------------------------------------*'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT='//*   LIB: &DSN.(&MEM)'
SET &PNT=&PNT+1
WRITE ENTER PRODUCT TO RECEIVE FOR  &MEM
WRITENR >&STR( )
READ
ISREDIT LINE_AFTER &PNT="//*   DOC: RECEIVE &SYSDVAL"
SET &PNT=&PNT+1
SET &DT=&STR(&SYSDATE...&SYSTIME)
ISREDIT LINE_AFTER &PNT="//*  NOTE: &DT  "
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//*                                                                 *'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//*-----------------------------------------------------------------*'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//RECEIVE  EXEC  SMPE'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//SMPPTFIN  DD   DSN=SMPMCS,DISP=OLD,UNIT=TAPE,     '
SET &PNT=&PNT+1
WRITE ENTER VOLSER
WRITENR >&STR( )
READ &VS

IF &HOLD=SERVICE OR &HOLD=MAINT THEN DO
ISREDIT LINE_AFTER &PNT= +
'//          LABEL=(1,NL,EXPDT=98000),VOL=SER=&VS,'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//          DCB=(LRECL=80,BLKSIZE=7200,REXFM=FB)'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//          DD   DSN=F3,DISP=OLD,UNIT=TAPE,       '
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//          LABEL=(3,NL,EXPDT=98000),VOL=SER=&VS,'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//          DCB=(LRECL=80,BLKSIZE=7200,REXFM=FB)'
SET &PNT=&PNT+1
END
                     ELSE DO
ISREDIT LINE_AFTER &PNT= +
'//          LABEL=(1,SL,EXPDT=98000),VOL=SER=&VS,'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//          DCB=(LRECL=80,BLKSIZE=7200,REXFM=FB)'
SET &PNT=&PNT+1
END

ISREDIT LINE_AFTER &PNT= +
'//SMPCNTL   DD  *'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'  SET BDY(GLOBAL).     '
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'      RECEIVE          '
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'              SYSMODS          '
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'              LIST             '
SET &PNT=&PNT+1
WRITE ENTER SOURCEID PARM FOR SMP/E
WRITENR >&STR( )
READ &SRCID
ISREDIT LINE_AFTER &PNT= +
'              SOURCEID(&SRCID) '
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'              .'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'/*'
SET &PNT=&PNT+1
ISREDIT LINE_AFTER &PNT= +
'//'
ISREDIT UP MAX
ISREDIT LEFT  MAX
EXIT CODE(&RC)

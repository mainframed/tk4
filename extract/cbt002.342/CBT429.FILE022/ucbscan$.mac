PROC 0  TAPE             +
        DASD             +
        DISPLAY          +
        ON ONLINE        +
        SYSOUT O OFILE
CONTROL NOMSG NOFLUSH NOLIST
FREE DD(A,SYSOUT)
CONTROL MAIN
IF &DASD=DASD THEN SET &P=DASD
IF &TAPE=TAPE THEN SET &P=TAPE
IF &COMM=COMM THEN SET &P=COMM
IF &DISPLAY=DISPLAY THEN SET &P=DISPLAY
IF &ON=ON THEN SET &P=ON
IF &ONLINE=ONLINE THEN SET &P=ONLINE
IF &O=O OR &OFILE=OFILE OR &SYSOUT=SYSOUT THEN DO
   ATTR A LRECL(133) RECFM(F B A) DSORG(PS) BLKSIZE(1330)
   ALLOC DD(SYSOUT) NEW  USING(A)
  END
CALL 'LINKLIB(UCBSCAN)' '&P'
/*DOPROG UCBSCAN  '&P'*/
IF &O=O OR &OFILE=OFILE OR &SYSOUT=SYSOUT THEN DO
   IF &SYSISPF=ACTIVE THEN DO
      ISPEXEC  LMINIT  DATAID(ID1) DDNAME(SYSOUT)
      ISPEXEC  BROWSE  DATAID(&ID1)
      ISPEXEC  LMFREE  DATAID(&ID1)
     END

   ELSE DO
       REVIEW SYSOUT FILE
     END
   WRITENR TO PRINT ENTER (Y/N):&STR( )
   READ &A
   IF &A=Y THEN PRINTODD SYSOUT
   FREE DD(SYSOUT,A)
  END

//&SYSUID.R JOB (00000000,06009,10),RESTORE,MSGCLASS=Q,NOTIFY=&SYSUID
//*  REF: ABL.ISPSLIB(ARCRESW)
//*  DOC: JOBSTREAM SUBMITTED VIA SPF 3.A.ARC.RESW
//*       RESTORE A USER DATASET USING WEEKLY DUMPS (FROM TAPE TO DISK)
//RESTORE  EXEC PGM=ADRDSSU,REGION=2000K
//SYSPRINT DD SYSOUT=*
//DISKOUT  DD UNIT=3380,VOL=SER=&ARCWVOL,DISP=SHR
//TAPEIN   DD DSN=RETURN.&ARCWVOL,
//            UNIT=TAPES,DISP=SHR,VOL=SER=(&ARCWTAPE)
//* IF DATASET TO BE RESTORED ALREADY EXISTS ON CAT (&ARCWCAT = YES),
//* THEN RESTORE THE DATASET UNCATALOGED, APPENDING "RESTORED" TO DSN.
//* TO AVOID DATASET NAMING CONFLICTS AND CATALOG INDEX STRUCTURE WOES.
//SYSIN    DD   *
 RESTORE INDD(TAPEIN) OUTDD(DISKOUT) TOL(ENQF) -
)SEL &ARCWCAT = YES
 DATASET(INCLUDE(&ARCWDSN)) -
 RENAME(&ARCWDSN,&ARCWDSN..RESTORED)
)ENDSEL
)SEL &ARCWCAT = NO
 DATASET(INCLUDE(&ARCWDSN)) CATALOG
)ENDSEL
//* END OF (SKELETON) JOBSTREAM "ARCRESW"

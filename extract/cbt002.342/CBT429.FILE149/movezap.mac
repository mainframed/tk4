//CSYSMASZ JOB  ACCNT,NOTIFY=CSYSMAS,MSGCLASS=A
/*ROUTE PRINT WYLBUR
//COPY EXEC PGM=IEBCOPY
//SYSPRINT DD SYSOUT=*
//I        DD DISP=SHR,DSN=SYS1.LINKLIB
//O        DD DISP=(SHR,CATLG),DSN=CSYSMAS.TMP.LOAD,
//  UNIT=3350,VOL=SER=SYSDA1,SPACE=(CYL,(5,1,50))
//SYSIN    DD *
  C I=O,O=O
  C I=((I,R)),O=O
    S M=IEHMOVE
    S M=IEHMVERA
    S M=IEHMVERD
    S M=IEHMVESA
    S M=IEHMVESC
    S M=IEHMVESE
    S M=IEHMVESH
    S M=IEHMVESI
    S M=IEHMVESJ
    S M=IEHMVESK
    S M=IEHMVESL
    S M=IEHMVESM
    S M=IEHMVESN
    S M=IEHMVESO
    S M=IEHMVESP
    S M=IEHMVESQ
    S M=IEHMVESR
    S M=IEHMVESS
    S M=IEHMVEST
    S M=IEHMVESU
    S M=IEHMVESV
    S M=IEHMVESX
    S M=IEHMVESY
    S M=IEHMVESZ
    S M=IEHMVETA
    S M=IEHMVETG
    S M=IEHMVETJ
    S M=IEHMVETL
    S M=IEHMVXSE
    S M=IEHMVXSF
  C I=O,O=O
//ZAP EXEC PGM=AMASPZAP
//SYSPRINT DD SYSOUT=*
//SYSLIB   DD DISP=SHR,DSN=CSYSMAS.TMP.LOAD
//SYSIN    DD *
*
*   ZAP IEHMOVE (A COPY, NOT THE REAL ONE...)
*    DON'T ALLOCATE WORK FILES (SYSUT1,SYSUT2,SYSUT3)
*    DON'T USE OPENJ ON WORK FILES
*    DON'T SCRATCH WORK FILES
*
*  RESULT: 1. DOESN'T REQUIRE AUTHORIZATION TO ALLOCATE WORK FILES
*          2. WORK FILES CAN BE VIO
*             (WORK FILES SHOULD BE CONTIG & ON SAME DEVICETYPE)
*             (A S047 WILL RESULT IF THE UNAUTHORIZED VERSION TRIES
*              TO ALLOCATE A DATASET - ALL OUTPUT DATASETS MUST
*              BE ON TAPE OR PRE-ALLOCATED).
*
*   IT IS SOMETIMES USEFUL TO USE JUST A FEW OF THESE ZAPS, IE:
*
*   ALLOW VIO WORK FILES, RUN IEHMOVE AUTHORIZED,
*   USE OACMOVE FRONT END TO PRELOAD IEHMOVE MODULES,
*   AND COPY 3330(-11) TO 3350'S.  IF YOU HAVE INDEXED
*   VTOC'S AND SHORT DATASETS THIS CAN BE 4 TIMES FASTER THAN
*   NORMAL IEHMOVE.
*
*   RUN NON-AUTHORIZED TO IEHMOVE DSGROUP.. (OR OTHER) TO TAPE
*   FOR ARCHIVING.  (IEHMOVE IS *THE* DEFINITION OF HOW TO COPY
*   THE STRANGE TYPES OF DATASETS).  MOST OTHER COPY ROUTINES
*   HAVE PROBLEMS WITH VBS OR DA DATASETS, OR ELSE USE A TRACK
*   IMAGE TYPE COPY - NOT OS UTILITY COMPATIBLE.
*   (HOWEVER SOME ARE MUCH FASTER, AND SOME ARE NOT).
*
*
   NAME IEHMVXSE IEHMVSSE
*   FICHE: IEHMVXSE UZ33853 8103 7F06
   VER  067C  4710            ALLOW VIO FOR WORK FILES
   REP  067C  4700             SO NOP THIS CHECK
   VER  07E2  0A20            DON'T ISSUE ALLOCATE SVC (REQ AUTH)
   REP  07E2  1BFF             SINCE FILES ALREADY ALLOCATED
   VER  0A30  0A16            DON'T USE OPENJ ON WORK FILES
   REP  0A30  0A13             USE NORMAL OPEN
   VER  0A44  0A16            DON'T USE OPENJ ON WORK FILES
   REP  0A44  0A13             USE NORMAL OPEN
   VER  0A58  0A16            DON'T USE OPENJ ON WORK FILES
   REP  0A58  0A13             USE NORMAL OPEN
   VER  0C08  E2E8,E2E4,E3F1,4040  'SYSUT1' DDNAME IN DCB4
   REP  0C08  E2E8,E2E4,E3F2,4040  MAKE IT SYSUT2
   VER  0C60  E2E8,E2E4,E3F1,4040  'SYSUT1' DDNAME IN DCB5
   REP  0C60  E2E8,E2E4,E3F3,4040  MAKE IT SYSUT3
   IDRDATA CS0XXXX
   NAME IEHMVESK IEHMVSSK
* FICHE: IEHMVESK UZ24329
   VER  024E  0A1D            DON'T SCRATCH WORK FILES
   REP  024E  1BFF             (SCRATCH FAILS ON VIO VOLUME)
   IDRDATA CS0XXXX
***
***   FOLLOWING NOT 100% CORRECT -
***     THIS REMOVES THE SCRATCH OF THE WORK FILES FROM
***     THE STAE EXIT, BUT IT ALSO REMOVES THE SCRATCH
***     OF A POSSIBLE '**TEMP' FILE (ABORTED COPY).
***
   NAME IEHMOVE  IEHMVSSD
* FICHE: IEHMOVE  UZ33823
   VER  0142  0A1D            DON'T SCRATCH WORK FILES (IF ABEND)
   REP  0142  1BFF             (SCRATCH FAILS ON VIO VOLUME)
*  VER  009C  0A3C            DON'T ISSUE STAE (FOR TESTING)
*  REP  009C  1BFF             (THIS IS FOR TESTING ONLY)
   IDRDATA CS0XXXX
***
* REMOVE POSSIBLE DD CARD CONFLICTS BY REQUIRING
* IEHMOVE <ANYNAME> DD CARDS TO HAVE DDNAMES WHICH START WITH "$".
*
   NAME IEHMVXSF IEHVOLMT
* FICHE: IEHMVSSF UZ33823 8103 7D27
   VER  0512  D507,2004,A452  CHECK DD NAME FOR BLANK
   VER  0518  4780,A0C6
   REP  0512  0700,955B,2004  NOPR, CLI DD NAME STARTS WITH '$'?
   REP  0518  4770            REVERSE BRANCH (ONLY ACCEPT $ DD'S)
   IDRDATA CS0XXXX
***
***    ZAP FOR DSL ONLY TO ALLOW RESTORE OF DA DATASETS
***    (IEHMOVE DOES NOT ALLOW PREALLOCATED DA DATASET FOR RESTORE)
***
*** THE FOLLOWING TWO ZAPS (CS0BDAM) ARE REQUIRED IF THE
*** TO DEVICE IS DASD, THE DATASET IS BDAM AND A PREALLOCATED
*** DATASET IS TO BE USED. (MUST BE PRE-ALLOCATED IF UNAUTHORIZED).
***
   NAME IEHMVESX IEHMVSRV
* FICHE: IEHMVSRV UZ35492 8105 20B07
   VER  07B6  47F0,4094      CHANGE END OF BDAM CHECKING TO
   REP  07B6  47F0,47CE      BR TO CODE TO TRY OBTAIN ON "TO"
   VER  07BE  4710,4094      DATASET.  THIS WILL CAUSE "PREALLOCATED"
   REP  07BE  4710,47CE      FLAG TO BE SET IF "TO" DATASET
   VER  07CA  47F0,4094      EXISTS.  (EVEN FOR BDAM)
   REP  07CA  47F0,47CE      (CHANGE ALL BR'S TO IEHMVRTE TO IEHMVETE)
   IDRDATA CS0BDAM
   NAME IEHMVESV IEHMVSSX
* FICHE: IEHMVSSX UZ52878 8111 115A06 (NOT IN 8205 INDEX)
   VER  0882  47E0,B88E      ALLOW BDAM PREALLOCATED
   REP  0882  4700             DATASETS
   VER  097C  4710,B9DC      IF BDAM DON'T ALLOW PREALLOC
   REP  097C  4710,BB14      ALLOW BDAM PREALLOC VIA BR TO "PREALLO"
   IDRDATA CS0BDAM
//

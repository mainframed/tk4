1                          Internal Entry Macro

 NAME     OACSUB    CSECT= NO,
                    ENTRY= NO,
                    BASE= R10,
                    ENTRYS= ,
                    ENTRYR= ,
                    EXIT= ,
                    DSECT= ,
                    WORK=  ,
                    INUSE= YES,
                    ID= ,
                    DATE= ,
                    PRINT=

          NAME      Major name, see CSECT= and ENTRY=

          CSECT= YES or NO
                    If YES, a CSECT will be generated for NAME.

          ENTRY=  YES or NO
                     If YES, an ENTRY statement will be generated for
                     each entry.  If no a DC 0H'0' will be generated

          BASE= (register,address)
               register
                     The regiser to be used as the base for this routine
                     R15 is assumed to contain the base address on entry
                     to the routine.
               address
                     If this value is coded it is assumed that the
                     subroutine occures within the scope of a global bas
                     and the macro generates an OACUSING for the
                     specified register and address.

          ENTRYS= NAME or NAME LIST
                     A list of alternate entry points.  A label will be
                     generated for each name in the list.  If ENTRY=YES
                     was coded, an ENTRY statement will also be generate
                     for each name.

          ENTRYR= register
                     The register which will contain an indication of
                     which entry was used to call this routine:
                    0 for main entry
                    4 for first secondary entry
                    8 for second secondary entry
                    ETC.

1         EXIT= (name,RC)
                    name
                         The name of the exit routine to be generated
                         by this macro. If no name is given, no routine
                         will be generated
                    RC   (register) or address
                         The register which will contain the return
                         code on entry to the exit. or the address
                         of a fullword which will contain the
                         return code on entry to the exit.
                         If no rc is coded R0, R1, R15 and the
                         condition code are left unchanged.

          DSECT= name
                     If coded, the macro will generate a DSECT mapping
                     the "current" stack element and will do an OACUSING
                     on R11 for this DSECT.The DSECT will contain:
                    an OAC STACK headder as its first element,
                    followed by the work macro expansion if one was code
                    followed by a label for the workname if one was code
                    followed by the reserved area if one was requested;

          WORK=(reserved-length,macro-parm,label-name)

                    reserved-length
                         The number of bytes to be reserved in the
                         workarea obtained by this macro. See DSECT=
                         for a disscussion of it's position in the worka

                    macro-parm
                         If this argument is coded, the user defined
                         macro OACSUBWK is expanded with this parm as
                         part of the DSECT generated by OACSUB whend.
                         DSECT= is coded. If no macro-parm is coded,
                         no macro is called.

                    label-name
                         The name of a label to be generated immediatly
                         preceeding the reserved area (if any) generated
                         as part of the work DSECT.

          INUSE= YES or NO
                     If YES is coded an OACINUSE is generated as the las
                     statement of the macro.

          ID =
                    The specified string will be generated as a
                    DC C'&ID ',C'&SYSDATE' immediatly before the first
                    instruction of the generated entry code.
                    If this keyword is not coded, no DC C is
                    generated.

          DATE =
                     Overides the date of assembly in the DC C at the
                     beginning of the generated entry code.

          PRINT=  ALL, or SHORT, or NONE, or empty
                    ALL-     Full macro expansion (PRINT ON,GEN)
                    SHORT-   Short form of macro. No comments and
                             inuse suppressed.
                    NONE-    Only code will be printed.
                    EMPTY-   The value of &OACPRTG will determine action

1         OAC STACK CONVENTIONS:

          R11 points to the "current" stack element.
          R12 points to the base of the workarea obtained by this macro.
          R13 points to the next available byte on the stack.

          Overflow checks are done in such a way that R13 will point
          to at least 72 bytes of workarea.

          a stack element consists of:
          DC 8D'0'    a register save area containing the results of a
                      STM 0,15
          user requested work area: See WORK= keyword

          The global C-symbol &OACSTMX is assumed to contain the address
          of a universally addressable word containing the address of
          the last valid byte of the stack area -71.

          The global C-symbol &OACSTER is assumed to contain the
          address of a universally addressable STACK overflow routine.

IKJUP    TITLE ' - TO REPLACE CALLS TO IBM IKJUPDT '
*                                 WRITTEN BY KERMIT KISER
*
*//*
*//* A TSO COMMAND USES IKJUPDT AS FOLLOWS:
*//*
*//*     CALL  IKJUPDT,(UPT,ECT,ECB,UPLIST)
*//*
*//*          UPT = USER PROFILE TABLE       (FROM CPPL)
*//*          ECT = ENVIRONMENT CONTROL TABLE   "   "
*//*          ECB = COMMAND PROCESSOR ECB
*//*          UPLIST = A FOUR WORD BLOCK AS BELOW:
*//*
*//*
*//*  UPLIST  DS  0XL16
*//*  LOCPTR  DS  AL4         PTR TO VARIABLE NAME
*//*  LOCLEN  DS  F           LENGTH OF VARIABLE NAME
*//*  VALPTR  DS  A           PTR TO DATA VALUE
*//*  VALLEN  DS  F           LENGTH OF DATA VALUE
*//*
*//* EXAMPLE : SET &VAR = &STR(MYDATA)
*//*    WOULD NEED THE FOLLOWING CONTROL BLOCK PASSED TO IKJUPDT:
*//*
*//*  UPLIST  DS  0XL16
*//*  LOCPTR  DC  A(=C'VAR')    PTR TO VARIABLE NAME
*//*  LOCLEN  DC  F'3'          LENGTH OF VARIABLE NAME
*//*  VALPTR  DC  A(=C'MYDATA') PTR TO DATA VALUE
*//*  VALLEN  DC  F'6'          LENGTH OF DATA VALUE
*//*
IKJUPDT  ENTERR LEVEL=V1M0
         LR    R11,R1                   R11->CPPL
         USING CPPL,R11
         EJECT
*
         LINK  EP=SETVAR                DO THE UPDATE              V1M4
*
         EJECT
         LEAVER
         EJECT
         LTORG
         EJECT
WORKAREA DSECT
SAVEAREA DS    18F
WORKLEN  EQU   *-WORKAREA
         EJECT
         IKJCPPL
         END

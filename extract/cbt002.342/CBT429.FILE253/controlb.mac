PROC 0 RULE(%) MISSION(%) GROUP(%) D(A) MODE(L) TEST(NO) -
       PROG(CTBCXJB) -
       ILPREFA(SYSM.IOA) -
       ILVERA(V410) -
       ILPREFB(SYSM.CTBI) -
       ILVERB(V120) -
       OLPREFB(SYSS.CTBO) -
       OLVERB(V120) -
       DBPREFA(SYSS.IOA) -
       DBVERA(V410) -
       DBPREFB(SYSS.CTBO) -
       DBVERB(V120) -
       HOLDCLASS(G) -
       RULLIB(RULES) -
       TSTLIB(PARM) -
       DBGLIB(PARM) -
       PROFMEM(CTBPROF)
CONTROL LIST CONLIST SYMLIST
IF &MISSION=% THEN SET &MISSION=
IF &GROUP=% THEN SET &GROUP=
IF &RULE=% THEN SET &RULE=
IF &MODE=L THEN DO
  /*** PASS  ***/
  ALLOC F(DAPASCTB) DS(&ILPREFA..&ILVERA..PARM(PASCTB)) SHR REUSE
  /*** IOADB ***/
  ALLOC F(DARESF)   DS(&DBPREFA..&DBVERA..RES) SHR REUSE
  ALLOC F(DASINC)   DS(&DBPREFA..&DBVERA..SNC) SHR REUSE
  ALLOC F(DANRES)   DS(&DBPREFA..&DBVERA..NRS) SHR REUSE
  ALLOC F(DANSINC)  DS(&DBPREFA..&DBVERA..NSN) SHR REUSE
  ALLOC F(DALOG)    DS(&DBPREFA..&DBVERA..LOG) SHR REUSE
  /*** CTBDB ***/
  ALLOC F(DABJAFI)  DS(&DBPREFB..&DBVERB..JAFI) SHR REUSE
  ALLOC F(DABJAFD)  DS(&DBPREFB..&DBVERB..JAFD) SHR REUSE
  ALLOC F(DABREPI)  DS(&DBPREFB..&DBVERB..REPI) SHR REUSE
  ALLOC F(DABREPD)  DS(&DBPREFB..&DBVERB..REPD) SHR REUSE
  ALLOC F(DABGRPI)  DS(&DBPREFB..&DBVERB..GRPI) SHR REUSE
  ALLOC F(DABGRPD)  DS(&DBPREFB..&DBVERB..GRPD) SHR REUSE
  ALLOC F(DABVDBMI) DS(&DBPREFB..&DBVERB..MODI) SHR REUSE
  ALLOC F(DABVDBMD) DS(&DBPREFB..&DBVERB..MODD) SHR REUSE
  ALLOC F(DABVDBAI) DS(&DBPREFB..&DBVERB..VARI) SHR REUSE
  ALLOC F(DABVDBAD) DS(&DBPREFB..&DBVERB..VARD) SHR REUSE
  ALLOC F(DABABF)   DS(&DBPREFB..&DBVERB..ABF) SHR REUSE
  /*** RULES ***/
  ALLOC F(DABRULE) DS(&OLPREFB..&OLVERB..&RULLIB) SHR REUSE
  /*** DEBUG ***/
  ALLOC F(A)       DS(&ILPREFB..&ILVERB..&TSTLIB(&PROFMEM)) SHR REUSE
  ALLOC F(LOCS)    DS(&ILPREFB..&ILVERB..&DBGLIB(CTBSORC)) SHR REUSE
  ALLOC F(LVLS)    DS(&ILPREFB..&ILVERB..&DBGLIB(CTBCLVL)) SHR REUSE
  ALLOC F(SYSIN)   DS(&ILPREFB..&ILVERB..&DBGLIB(CTBQE)) SHR REUSE
  ALLOC F(DBGIN)   DS(&ILPREFB..&ILVERB..&DBGLIB(CTBDBG)) SHR REUSE
  ALLOC F(DBGOUT)  DA (*) SHR REUSE
  ALLOC F(PRTDBG)  SYSOUT(&HOLDCLASS) HOLD REUSE
  ALLOC F(SYSUSER) SYSOUT(&HOLDCLASS) HOLD REUSE
  ALLOC F(SYSRULE) SYSOUT(&HOLDCLASS) HOLD REUSE
END
IF &D=H -
THEN DO
       ALLOC F(SYSPRINT) SYSOUT(&HOLDCLASS) HOLD REUSE
       ALLOC F(SYSTERM) SYSOUT(&HOLDCLASS) HOLD REUSE
     END
ELSE DO
       ALLOC F(SYSPRINT) DA (*) SHR REUSE
       ALLOC F(SYSTERM) DA (*) SHR REUSE
     END
/*
/*  CALL
/*
IF &TEST=NO -
THEN -
   CALL '&ILPREFA..&ILVERA..LOAD(&PROG)' '/&RULE,/&MISSION,/&GROUP'
ELSE -
   TEST '&ILPREFA..&ILVERA..LOAD(&PROG)' '/&RULE,/&MISSION,/&GROUP'
EXIT CODE(&LASTCC)

/* REXX */
TRUE = "1";
FALSE = "0";
SDSF.1 = "PREFIX **";
SDSF.2 = "DA OJOB";
"EXECIO * DISKW ISFIN (FINIS STEM SDSF.";
DROP SDSF.;
DO FOREVER;
"SDSF";
DROP SDSFOUT.;
"EXECIO * DISKR ISFOUT (FINIS STEM SDSFOUT.";
RCTR = 0;
FOUND_DA = FALSE;
DO I = 1 TO SDSFOUT.0;
   IF ^FOUND_DA THEN DO;
        IF SUBSTR(SDSFOUT.I,1,13)^="1 SDSF DA SYS" THEN ITERATE I;
        FOUND_DA = TRUE;
        ITERATE I;
        END;
   IF SDSFOUT.I=" " THEN ITERATE I;
   IF SUBSTR(SDSFOUT.I,1,15)="  COMMAND INPUT" THEN DO;
        RCTR = RCTR + 1;
        REPOUT.RCTR="TIMESTAMP:" DATE() TIME();
        ITERATE I;
        END;
   RCTR = RCTR + 1;
   REPOUT.RCTR = SUBSTR(SDSFOUT.I,2);
END;
"EXECIO * DISKW REPORT (FINIS STEM REPOUT.";
DROP REPOUT.;
"SLEEP 00010000"; /* SLEEP HHMMSSTH */
END; /* END LOOP */
EXIT 0;

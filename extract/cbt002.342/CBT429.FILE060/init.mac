//************************************************************
//* THIS JOB DEFINES AND INITIALIZES THE SOFTWARE STATUS     *
//*   REPORT VSAM DATASETS. STEP1 DEFINES CLUSTERS. STEP2    *
//*   INITIALIZES THEM FROM DATASETS SUPPLIED ON THE TAPE.   *
//*   STEP3 BUILDS THE ALTERNATE INDEXES.                    *
//*                                                          *
//* EDIT THIS MEMBER FIRST:                                  *
//*    JOB CARD                                              *
//*    FIND ALL "?" AND SUBSTITUTE APPROPRIATE VALUES        *
//*    ALL VSAM DATASETS ARE PREFIXED BY "SSRV.SOFTSTAT"     *
//*       ...USE "CHANGE ALL" IF DESIRED                     *
//************************************************************
//       JOB.....
//STEP1    EXEC PGM=IDCAMS
//SYSPRINT DD   SYSOUT=?
//SYSIN    DD   *
  DELETE (SSRV.SOFTSTAT.HISTORY) CLUSTER
  DEFINE CLUSTER (NAME(SSRV.SOFTSTAT.HISTORY) -
      KEYS(8 0) RECSZ(53 53) CISZ(4096) SHR(2,3) INDEXED -
      CYL(1 1) VOL(??????)) -
    DATA(NAME(SSRV.SOFTSTAT.HISTORY.DATA)) -
    INDEX(NAME(SSRV.SOFTSTAT.HISTORY.INDEX))
  DELETE (SSRV.SOFTSTAT.PRODTBL) CLUSTER
  DEFINE CLUSTER (NAME(SSRV.SOFTSTAT.PRODTBL) -
      RECSZ(8180 8180) CISZ(8192) SHR(2,3) NUMBERED -
      REC(2 1) VOL(??????)) -
    DATA(NAME(SSRV.SOFTSTAT.PRODTBL.DATA))
  DELETE (SSRV.SOFTSTAT.INDXTBL) CLUSTER
  DEFINE CLUSTER (NAME(SSRV.SOFTSTAT.INDXTBL) -
      RECSZ(2040 2040) CISZ(4096) SHR(2,3) NUMBERED -
      REC(2 1) VOL(??????)) -
    DATA(NAME(SSRV.SOFTSTAT.INDXTBL.DATA))
  DELETE (SSRV.SOFTSTAT.PTFAIX) ALTERNATEINDEX
  DEFINE ALTERNATEINDEX (NAME(SSRV.SOFTSTAT.PTFAIX) -
      RELATE(SSRV.SOFTSTAT.HISTORY) NONUNIQUEKEY  UPGRADE -
      VOLUMES(??????) RECORDS(300 50) RECORDSIZE(25 97) CISZ(4096) -
      FREESPACE(25 25) KEYS(12 8) SHR(2 3)) -
    DATA(NAME(SSRV.SOFTSTAT.PTFAIX.DATA)) -
    INDEX(NAME(SSRV.SOFTSTAT.PTFAIX.INDEX))
  DELETE (SSRV.SOFTSTAT.FMIDAIX) ALTERNATEINDEX
  DEFINE ALTERNATEINDEX (NAME(SSRV.SOFTSTAT.FMIDAIX) -
      RELATE(SSRV.SOFTSTAT.HISTORY) NONUNIQUEKEY  UPGRADE -
      VOLUMES(??????) RECORDS(300 50) RECORDSIZE(54 414) CISZ(4096) -
      FREESPACE(25 25) KEYS(9 20) SHR(2 3)) -
    DATA(NAME(SSRV.SOFTSTAT.FMIDAIX.DATA)) -
    INDEX(NAME(SSRV.SOFTSTAT.FMIDAIX.INDEX))
  DELETE (SSRV.SOFTSTAT.PTFPATH) PATH
  DEFINE PATH (NAME(SSRV.SOFTSTAT.PTFPATH) -
      PATHENTRY(SSRV.SOFTSTAT.PTFAIX) UPDATE)
  DELETE (SSRV.SOFTSTAT.FMIDPATH) PATH
  DEFINE PATH (NAME(SSRV.SOFTSTAT.FMIDPATH) -
      PATHENTRY(SSRV.SOFTSTAT.FMIDAIX) UPDATE)
/*
//STEP2  EXEC  PGM=IDCAMS,COND=(8,LT)
//SYSPRINT  DD  SYSOUT=?
//DD1 DD DSN=SSR.SSRINTBL.INIT,DISP=(OLD,KEEP),UNIT=TAPE,
//         LABEL=(2,SL),DCB=(LRECL=2040,RECFM=FB,BLKSIZE=2040),
//         VOL=SER=SSRTAP
//DD2 DD DSN=SSRV.SOFTSTAT.INDXTBL,DISP=SHR
//DD3 DD DSN=SSR.SSRPRTBL.INIT,DISP=(OLD,KEEP),UNIT=TAPE,
//         LABEL=(3,SL),DCB=(LRECL=8180,RECFM=FB,BLKSIZE=8180),
//         VOL=REF=*.DD1
//DD4 DD DSN=SSRV.SOFTSTAT.PRODTBL,DISP=SHR
//DD5 DD DSN=SSR.SSRHSTRY.INIT,DISP=(OLD,KEEP),UNIT=TAPE,
//         LABEL=(4,SL),DCB=(LRECL=53,RECFM=FB,BLKSIZE=5300),
//         VOL=REF=*.DD1
//DD6 DD DSN=SSRV.SOFTSTAT.HISTORY,DISP=SHR
//SYSIN  DD *
  REPRO INFILE(DD1) OUTFILE(DD2) COUNT(1)
  REPRO INFILE(DD3) OUTFILE(DD4) COUNT(1)
  REPRO INFILE(DD5) OUTFILE(DD6) COUNT(1)
/*
//STEP3  EXEC  PGM=IDCAMS,COND=(8,LT)
//SYSPRINT  DD  SYSOUT=?
//DD1 DD DSN=SSRV.SOFTSTAT.HISTORY,DISP=SHR
//DD2 DD DSN=SSRV.SOFTSTAT.PTFAIX,DISP=SHR
//DD3 DD DSN=SSRV.SOFTSTAT.FMIDAIX,DISP=SHR
//SYSIN  DD *
   BLDINDEX INFILE(DD1) OUTFILE(DD2)
   BLDINDEX INFILE(DD1) OUTFILE(DD3)

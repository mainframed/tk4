//TSMASPRE JOB (D439),
//             '*JCL SCAN EXIT4 PREP',
//             CLASS=A,
//             MSGCLASS=X,
//             NOTIFY=TSMAS
/*JOBPARM  ROOM=0350
//* SEE SYS2.JES2136.EXITSRC($PREP4)
//*
//* THIS JOB PREPARES LIBRARIES FOR TURNING OVER THE JCL SCAN JES2
//* EXIT4MIT INTO PRODUCTION.  ONLY APPLICABLE TO BENJ. FRANKLIN.
//*
//* THIS STEP SCRATCHES THE PREVIOUS BACKUP MEMBER FROM PRODUCTION.
//*
//SCRATCH  EXEC PGM=IEHPROGM,PARM='LINECNT=76'
//SYSPRINT DD  SYSOUT=*
//MVSPG2   DD  UNIT=3380,VOL=SER=MVSPG2,DISP=OLD
//SYSIN    DD  *
  SCRATCH  DSNAME=SYS1.PLINKLIB,VOL=3380=MVSPG2,MEMBER=EXIT4MIB
//*
//* THIS STEP COMPRESSES THE PRODUCTION LIBRARY AND COPIES OVER THE
//* NEW MEMBER RENAMED TO A TEMPORARY NEW NAME PRIOR TO TURNOVER.
//*
//COPY     EXEC PGM=IEBCOPY,COND=(8,LT)
//SYSPRINT DD  SYSOUT=*
//SYSUT3   DD  UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT4   DD  UNIT=SYSDA,SPACE=(CYL,(1,1))
//EXITLOAD DD  DSN=SYS2.JES2136.EXITLOAD,DISP=SHR  NEW EXITS
//PLINKLIB DD  DSN=SYS1.PLINKLIB,DISP=SHR          PRODUCTION EXITS
COMP4    COPY OUTDD=PLINKLIB,INDD=PLINKLIB   COMPRESS SYS1.PLINKLIB
COPY4    COPY OUTDD=PLINKLIB,INDD=EXITLOAD   COPY AND RENAME EXIT4MIT
EXIT4MIT SELECT MEMBER=((EXIT4MIT,EXIT4MIN,R))
//*
//* TEST FOR BAD RETURN CODES.
//*
//STEP97   EXEC PGM=IEFBR14,   DON'T RUN IF BAD RETURN CODES
//             COND=((8,LT,SCRATCH),(0,LT,COPY))
//*
//STEP98   EXEC PGM=TEC064,    DON'T RUN IF STEP97 RUNS (IE: RUN IF ANY
//             COND=(0,EQ,STEP97),  STEP IS NON-ZERO)
//         PARM='PREPARATION FAILED - NOTIFY SUBMITTER OR MIKE SHEEDY'
//STEPLIB  DD  DSN=SYS2.TECH.LINKLIB,
//             DISP=SHR
//*
//* TEST FOR ABEND.
//*
//STEP99   EXEC PGM=TEC064,    DON'T RUN IF NO STEP ABENDS
//             COND=ONLY,
//         PARM='PREPARATION FAILED - NOTIFY SUBMITTER OR MIKE SHEEDY'
//STEPLIB  DD  DSN=SYS2.TECH.LINKLIB,
//             DISP=SHR

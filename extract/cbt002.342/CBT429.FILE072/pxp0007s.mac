&LIBJOBC1
&LIBJOBC2
&LIBJOBC3
)SEL &ZCMD = D × &ZCMD = R
)SEL &VOLSER ^= &Z
/*SETUP  &VOLSER
)ENDSEL
)ENDSEL
//PXLIBMNT  EXEC PGM=PANEXEC,REGION=1500K,
)SEL &ZCMD = B
//*      RUN EASYTRIEVE REPORTS AND BKUP PANEXEC LIBRARY
//*          REPORTS PE101,PE117,PE106,PE108,PE110,PE107
//       PARM='%INPUT PXSTBKUP/;T'
//PANELIB  DD DSN=&SPXPDSN,DISP=SHR,
//            UNIT=SYSDA,VOL=SER=&PXPVOL
//PROTECT  DD DSN=HRA.PANXBKUP.&SPXPDSN(+1),
//            DISP=(,CATLG,DELETE),
//            UNIT=T6250,LABEL=RETPD=&LIBRETPD,DCB=MODLDSCB
//FILEA    DD UNIT=SYSDA,SPACE=(CYL,(50,10),RLSE)
//FILEB    DD UNIT=SYSDA,SPACE=(CYL,(50,10),RLSE)
//EZTIN    DD UNIT=SYSDA,SPACE=(TRK,(10,5),RLSE)
//SYSPUNCH DD UNIT=SYSDA,SPACE=(TRK,(1,1))    REQUIRED FOR PE107
//SYSPRINT DD SYSOUT=(*,PXSTATS)
//SYSOUT   DD SYSOUT=(*,PXSTATS)
)ENDSEL
)SEL &ZCMD = D
//*   REMOVE INACTIVE/DISABLED PGMS FROM PANEXEC LIB(MARKED BY PE107)
//*   AND MERGE THEM WITH PREVIOUS INACTIVE TAPE
//           TIME=30
//PANELIB  DD DSN=&SPXPDSN,DISP=SHR,
//            UNIT=SYSDA,VOL=SER=&PXPVOL
)SET  DUMMY  = &Z
)SET  PROTECTC = ,,PROTECTC*
)SEL &VOLSER = &Z
)SET  DUMMY  = DUMMY,
)SET  PROTECTC = &Z
//*   NO PRIOR DELETE FILE, PROTECTC DD DUMMY'ED OUT
)ENDSEL
//PROTECTC DD &DUMMY.DSN=HRA.PANXDEL.&SPXPDSN(0),
//            DISP=OLD,UNIT=T6250,DCB=MODLDSCB
//PROTECT  DD DSN=HRA.PANXDEL.&SPXPDSN(+1),
//            DISP=(,CATLG,DELETE),
//            UNIT=T6250,LABEL=RETPD=&LIBRETPD,DCB=MODLDSCB
//PANEIN   DD *
%REMOVE,FL PANELIB*,PROTECT*&PROTECTC
)CM SEL &PXPMODE = &Z × &PXPMODE = A
)CM SET  PXPMODE = I
)CM ENDSEL
)CM ;&PXPMODE
;I
)ENDSEL
)SEL &ZCMD = C
//*          CREATE PANEXEC LIBRARY
)SEL &PXPGRP = &Z
)SET  PXPGRP = TEST
)ENDSEL
//           PARM='%INPUT PXCREATP/;T,&LIBMXELT,&PXPGRP'
//PANELIB  DD DSN=&SPXPDSN,DISP=(,CATLG,DELETE),UNIT=SYSDA,
//          VOL=SER=&LIBCVL,SPACE=(CYL,&LIBCYL)
)ENDSEL
)CM              MODIFY LIBRARY ATTRIBUTES - DONE ON-LINE
)CM              RESTORE PROCEDURE
)SEL &ZCMD = R
)SET  REPL = ,
)SEL &LIBRREP = Y
)SET  REPL = ,R
)ENDSEL
)SET  QELT = &PXPGRP..&PXPELT/&PXPTYPE;&PXPSTAT&PXPMODE
)SEL &PXPGRP = &Z
)SEL &PXPELT = *
)SEL &PXPTYPE = &Z
)SEL &PXPSTAT = &Z
)SEL &PXPMODE = &Z
)SET  QELT = *
)ENDSEL
)ENDSEL
)ENDSEL
)ENDSEL
)ENDSEL
//*   RESTORE ELEMENTS FROM BACKUP
//  PARM='%INPUT PXRESTRP/;T,''&REPL'',&QELT'
)SEL &VOLSER = &Z
//*   SPECIFIED RELATIVE/ABSOLUTE GDG NUMBER DOES NOT EXIST
)ENDSEL
//PANELIB  DD DSN=&SPXPDSN,DISP=SHR,
//            UNIT=SYSDA,VOL=SER=&PXPVOL
)SEL &LIBGDG ^= &Z
//PROTECT  DD DSN=HRA.PANXBKUP.&SPXPDSN(&LIBGDG),
)ENDSEL
)SEL &LIBGDG = &Z
//PROTECT  DD DSN=HRA.PANXBKUP.&SPXPDSN..G&LIBGDGAB.V00,
)ENDSEL
//            DISP=OLD,UNIT=T6250,DCB=MODLDSCB
)ENDSEL
)CM              CONVERT PROCEDURE
)SEL &ZCMD = V
//  PARM='%CONVERT PANELIB*&PXPGRP../&PXPTYPE;&PXPSTAT&PXPMODE,PDSIN*'
//PANELIB  DD DSN=&SPXPDSN,DISP=SHR,
//            UNIT=SYSDA,VOL=SER=&PXPVOL
//PDSIN    DD DSN=&SLIBPDS,DISP=SHR,
//            UNIT=SYSDA,VOL=SER=&PDSVOL
)ENDSEL
//STEPLIB  DD DSN=HRA.PANESRL,DISP=SHR
//PANESRL  DD DSN=HRA.PANESRL,DISP=SHR
//PANPRINT DD SYSOUT=*

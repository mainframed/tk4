PROC 0 DEBUG
/*--------------------------------------------------------*/
/*      ISPF/PDF CLIST FOR SADSC PANELS FOR USE           */
/*               DOING DEFINE ALIAS TO MASTER CAT         */
/*--------------------------------------------------------*/
CONTROL   MSG PROMPT NOFLUSH NOLIST
IF &DEBUG NE THEN CONTROL LIST MSG CONLIST SYMLIST
ISPEXEC CONTROL ERRORS RETURN
SET &AUSER = &STR(SS)
SET &USER = &STR(&SUBSTR(1:2,&SYSUID))
IF &USER NE &AUSER THEN EXIT
SET &MALIAS  = &STR()
SET &PASSWRD = &STR()
SET &COSTCDE = &STR()
LOOP:  +
    SET &MAXCC   = 0
    SET &LASTCC  = 0
    ISPEXEC DISPLAY PANEL(DEFA#P)
    IF &LASTCC = 8  THEN EXIT
    ISPEXEC VGET (&MALIAS &PASSWRD)
    SET &LASTCC = 0
    SET &MAXCC  = 0
    SET &COSTCDE = &SUBSTR(1:2,&MALIAS)
    ISPEXEC  FTOPEN   TEMP
    ISPEXEC  FTINCL   DEFA#S
    ISPEXEC  FTCLOSE
    ISPEXEC  VGET     ZTEMPF
    CONTROL NOMSG
    SET &LASTCC = 0
    SET &MAXCC  = 0
    EX    '&ZTEMPF'
    IF &MAXCC EQ 0  THEN +
       DO
       WRITE  UPDATE WAS SUCCESSFUL UNLESS OTHERWISE INDICATED.
       END
    ELSE   +
       DO
       WRITE  UPDATE WAS NOT SUCCESSFUL
       END
    CONTROL NOMSG
    GOTO LOOP
    END

++ USERMOD(IMSSIGN).
++ VER (P115) FMID (HMJ3102)
  /*
  PROBLEM DESCRIPTION(S):
    IMSSIGN -PROBLEM SUMMARY:
               THIS USERMOD,  LIKE APAR PP32459 (PTF UP49291 FOR
              IMS 1.3),  LETS THE   /DISPLAY NODE  COMMAND  SHOW
              "SIGN(USERID)" FOR SIGNED ON NODES.   APAR PP42288
              (8507 PTF UP60596 FOR IMS 1.3) MISGUIDEDLY REMOVED
              THE USERID, ONLY SHOWING "SIGN", TO  'ALLOW A USER
              TO MAKE SIGN ON VERIFICATION SECURITY EFFECTIVE'!?

              THIS USERMOD IS FOR IMS 3.1, SRC ELEMENT DFSIDPB0,
              WITH AN FMID, RMID AND LASTUPD OF HMJ3102.

              REFER TO THESE NOTES WHEN  REWORKING  THE USERMOD:
              AFTER LINE "LA    R3,L'STATSIGN(,R3)"     01998000
              AND BEFORE "NI    NODSTAT1,255-SIGN1"     01999400
              THE 4  MVC/LA/MVC/LA  INSTRUCTIONS ARE REINSTATED.
              FOR "STATSIGN DC    C'SIGN '"             02345000
              THE C'SIGN(' STRING IS REINSTATED, AS PER PP32459.

              NOTE THAT  "LA    R6,L'STATSIGN+9(,R3)"   01994000
              STILL TESTS FOR BUFFER SPACE FOR THE  FULL STRING:
              SIGN(USERID  )        SO NO CHANGE IS NEEDED HERE.
                 ->123456789<-

              ENJOY!  AND REMEMBER, EVERY LINE OF CODE BELOW WAS
              WRITTEN BY IBM!

  COMPONENT:  5665-40901-HMJ3102

 */.
++ SRCUPD(DFSIDPB0) DISTLIB(TMSOURCE) .
./ CHANGE NAME=DFSIDPB0
         MVC   0(8,R3),CTBUSID         MOVE IN USER ID         @BA32459
         LA    R3,8(,R3)               INCR BUFFER POINTER     @BA32459
         MVC   0(2,R3),=C') '          MOVE IN CLOSING PAREN   @BA32459
         LA    R3,2(,R3)               ADD PAREN LNGTH+BLANK   @BA32459
STATSIGN DC    C'SIGN('                                        @BA32459

./ ADD NAME=$INDEX   0122-93092-94038-0834-00105-00049-00000-KETCSC
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

               REFERENCE INDEX FOR XDBS.TSOISPF.EXEC
             ------------------------------------------

   XDBS.TSOISPF.EXEC: LIBRARY FOR REXX COMMAND LISTS.


  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

   MEMBER   DESCRIPTION OR PURPOSE
  ========  ============================================================
  $INDEX    THIS MEMBER.
  --------  ------------------------------------------------------------
  BAKDBSBK  BACK OUT DATABASE SOFTWARE
  --------  ------------------------------------------------------------
  BAKOEMS1  OEM BACKOUT SKELETON.
  --------  ------------------------------------------------------------
  BAKDBSS1  DATA BASE BACKOUT SKELETON.
  --------  ------------------------------------------------------------
  BSDSBKP   THIS JOB IS USED TO CHANGE BSDS DATASET WITH ACTIVE LOG
            INFORMATION
  --------  ------------------------------------------------------------
  BSDSJCL   THIS IS THE CONTROL CARDS USE BY THE REXX EXEC FOR THE BSDS
            JOB.
  --------  ------------------------------------------------------------
  DOCARCH   DOCUMENT ARCHIVE TOOK PLACE
  --------  ------------------------------------------------------------
  DELDBSS1  DATA BASE DELETE SKELETON.
  --------  ------------------------------------------------------------
  DELOEMS1  OEM DELETE SKELETON.
  --------  ------------------------------------------------------------
  DELOMGS1  Zonemaint delete Omegamon II for DB2 zone on request
  --------  ------------------------------------------------------------
  DOCLADD   DOCUMENT ON LEVEL TRACKING BOARD
  --------  ------------------------------------------------------------
  DOCLT2A   DOCUMENT ON LEVEL TRACKING BOARD
  --------  ------------------------------------------------------------
  DOCLDEL   DOCUMENT ON LEVEL TRACKING BOARD
  --------  ------------------------------------------------------------
  DOCLB2A   DOCUMENT ON LEVEL TRACKING BOARD
  --------  ------------------------------------------------------------
  DOCLA2B   DOCUMENT ON LEVEL TRACKING BOARD
  --------  ------------------------------------------------------------
  DOCLA2T   DOCUMENT ON LEVEL TRACKING BOARD
  --------  ------------------------------------------------------------
  DOCIMP    DOCUMENT IMPLEMENT TOOK PLACE
  --------  ------------------------------------------------------------
  DOCCLNE   DOCUMENT MIGRATION TOOK PLACE
  --------  ------------------------------------------------------------
  DOCBKOT   DOCUMENT BACKOUT TOOK PLACE
  --------  ------------------------------------------------------------
  IMPOEMS1  OEM DELETE SKELETON.
  --------  ------------------------------------------------------------
  IMPOMGS1  Omegamon II for DB2 implement skeleton
  --------  ------------------------------------------------------------
  IMPDBSS1  OEM DELETE SKELETON.
  --------  ------------------------------------------------------------
  MIGDBSS1  OEM DELETE SKELETON.
  --------  ------------------------------------------------------------
  MIGOEMS1  OEM DELETE SKELETON.
  --------  ------------------------------------------------------------
  MIGOLD    (An old MIGRATION SKELETON)
  MIGOMGS1  Omegamon II for DB2 migration skeleton
  --------  ------------------------------------------------------------
  PRTGENER  PRINT A DATASET
  --------  ------------------------------------------------------------
  PTFAPCK   PTF APPLY CHECK
  --------  ------------------------------------------------------------
  PTFR1     RECEIVE A PTF
  --------  ------------------------------------------------------------
  PTFR2     RECEIVE A PTF
  --------  ------------------------------------------------------------
  PTFF1     FETCH PTF
  --------  ------------------------------------------------------------
  PTFF3     FETCH PTF
  --------  ------------------------------------------------------------
  PTFF2     FETCH PTF
  --------  ------------------------------------------------------------
  TRCKSCRL  TIME TRACKING SCRIPT LOCAL PRINTER
  --------  ------------------------------------------------------------
  TRCKD00   Job to print weekly capture actuals
  --------  ------------------------------------------------------------
  TRCKACTL  Weekly report for capture actuals
  --------  ------------------------------------------------------------
  TRCKSCRP  TIME TRACKING SCRIPT
  --------  ------------------------------------------------------------
  TRCK300   PRINT TIME TRACKING REPORT
  --------  ------------------------------------------------------------
  TRCK301   PRINT TIME TRACKING REPORT
  --------  ------------------------------------------------------------
  TRCK400   SEND AS NOTE TO KEN
  --------  ------------------------------------------------------------
  TRCK600   TIME TRACKING - TELL USER KEN EDITED IT
  --------  ------------------------------------------------------------
  TRCK700   TIME TRACKING - PRINT FOR USER
  --------  ------------------------------------------------------------
  TRCK710   JOB TO RUN SCRIPT FOR TIME TRACKING
  --------  ------------------------------------------------------------
  TRCK802   TIME TRACKING - PRINT CODES
  --------  ------------------------------------------------------------
  TRCK902   TIME TRACKING - PRINT CODES
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *


./ ADD NAME=BAKDBSBK 0101-92309-93092-2251-00315-00304-00011-DD20008
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(BAKDBSS1)
//* GDE: DAN BORGES AND MANNY PRISCIANDARO
//* DOC: THIS JOB WILL BACKOUT ACTIVE TO TARGET AND THEN
//*      BACKOUT BACKUP TO ACTIVE
//* *******************************************************************
//*
/*
//***********************************************************
//*      DEFINE A NEW TARGET ZONE                           *
//***********************************************************
//DEFTGT  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DEFINE CLUSTER( -
                 NAME(&SKELTGT..CSI) -
                 MODEL(&SKELACT..CSI) -
                 VOLUMES(&VOLACT) -
                ) -
         DATA( -
                 NAME(&SKELTGT..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELTGT..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE TARGET ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITTGT EXEC PGM=IDCAMS,COND=(0,NE,DEFTGT)
//TGTZONE  DD  DSN=&SKELTGT..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
/*
//***********************************************************
//*  ZONECOPY ACTIVE TO TARGET                              *
//***********************************************************
//ACT2TGT EXEC PGM=GIMSMP,COND=(0,NE,INITTGT)
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&TGTZNE,&SKELTGT..CSI,TARGET))
      .
    ENDUCL .
  RESETRC.
  SET BDY(&TGTZNE) .
    ZONECOPY (&ACTZNE) INTO(&TGTZNE) .
    UCLIN .
      REP TZONE(&TGTZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELACT..*,&SKELTGT..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  RENAME ACTIVE TO TARGET                                *
//***********************************************************
//RENACT  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEBAK
)SEL &ACTFLAG = Y
  ALTER &SKELACT..&SUFFIX +
    NEWNAME(&SKELTGT..&SUFFIX)
)ENDSEL
)ENDDOT
 /*                                  */
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO TGT RENAME*
//************************************************************
//LUPDA2T EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %LVLTRCK PARMA(UPD) PARMB(&ACTZNE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE ACTIVE ZONE FROM GLOBAL                         *
//***********************************************************
//DROPACT EXEC PGM=GIMSMP,COND=(0,NE)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&ACTZNE)) .
    ENDUCL.
  RESETRC.
//***********************************************************
//*      DEFINE A NEW ACTIVE ZONE                           *
//***********************************************************
//DEFACT  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELACT..CSI
  DEFINE CLUSTER( -
                 NAME(&SKELACT..CSI) -
                 MODEL(&SKELBKP..CSI) -
                 VOLUMES(&VOLBKP) -
                ) -
         DATA( -
                 NAME(&SKELACT..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELACT..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE ACTIVE ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITACT EXEC PGM=IDCAMS,COND=(0,NE,DEFACT)
//TGTZONE  DD  DSN=&SKELACT..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
/*
//***********************************************************
//*  ZONECOPY BACKUP TO ACTIVE                              *
//***********************************************************
//BKP2ACT EXEC PGM=GIMSMP,COND=(0,NE,INITACT)
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&ACTZNE,&SKELACT..CSI,TARGET))
      .
    ENDUCL .
  RESETRC.
  SET BDY(&ACTZNE) .
    ZONECOPY (&BKPZNE) INTO(&ACTZNE) .
    UCLIN .
      REP TZONE(&ACTZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELBKP..*,&SKELACT..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  RENAME BACKUP TO ACTIVE                                *
//***********************************************************
//RENBKP  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEBAK
)SEL &BKPFLAG = Y
  ALTER &SKELBKP..&SUFFIX +
    NEWNAME(&SKELACT..&SUFFIX)
)ENDSEL
)ENDDOT
 /*                                  */
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT BKP TO ACTV RENAME*
//************************************************************
//LUPDB2A EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(UPD) PARMB(&BKPZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE BACKUP ZONE FROM GLOBAL                         *
//***********************************************************
//DROPBKP EXEC PGM=GIMSMP,COND=(0,NE)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&BKPZNE)) .
    ENDUCL.
  RESETRC.
//***********************************************************
//*      DELETE BACKUP ZONE                                 *
//***********************************************************
//DELBKP  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELBKP..CSI
/*
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&BKPZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*      DOCUMENT THAT BACKOUT HAS OCCURRED                 *
//***********************************************************
//DOCBKOT EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCBKOT PARMA(&BKPZNE) PARMB(&ACTZNE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT DB2MAINT DB2GRP BACKOUT-&LV &ACTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEBAK
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
//
./ ADD NAME=BAKDBSS1 0113-92205-93363-0805-00317-00570-00065-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(BAKDBSS1)
//* GDE: DAN BORGES AND MANNY PRISCIANDARO
//* DOC: THIS JOB WILL BACKOUT ACTIVE TO TARGET AND THEN
//*      BACKOUT BACKUP TO ACTIVE
//* *******************************************************************
//*
/*
//***********************************************************
//*      DEFINE A NEW TARGET ZONE                           *
//***********************************************************
//DEFTGT  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DEFINE CLUSTER( -
                 NAME(&SKELTGT..CSI) -
                 MODEL(&SKELACT..CSI) -
                 VOLUMES(&VOLACT) -
                ) -
         DATA( -
                 NAME(&SKELTGT..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELTGT..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE TARGET ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITTGT EXEC PGM=IDCAMS,COND=(0,NE,DEFTGT)
//TGTZONE  DD  DSN=&SKELTGT..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
/*
//***********************************************************
//*  ZONECOPY ACTIVE TO TARGET                              *
//***********************************************************
//ACT2TGT EXEC PGM=GIMSMP,COND=(0,NE,INITTGT)
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&TGTZNE,&SKELTGT..CSI,TARGET))
      .
    ENDUCL .
  RESETRC.
  SET BDY(&TGTZNE) .
    ZONECOPY (&ACTZNE) INTO(&TGTZNE) .
    UCLIN .
      REP TZONE(&TGTZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELACT..*,&SKELTGT..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  RENAME ACTIVE TO TARGET                                *
//***********************************************************
//RENACT  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEBAK
)SEL &ACTFLAG = Y
  ALTER &SKELACT..&SUFFIX +
    NEWNAME(&SKELTGT..&SUFFIX)
)ENDSEL
)ENDDOT
 /*                                  */
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO TGT RENAME*
//************************************************************
//LUPDA2T EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %LVLTRCK PARMA(UPD) PARMB(&ACTZNE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE ACTIVE ZONE FROM GLOBAL                         *
//***********************************************************
//DROPACT EXEC PGM=GIMSMP,COND=(0,NE)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&ACTZNE)) .
    ENDUCL.
  RESETRC.
//***********************************************************
//*      DEFINE A NEW ACTIVE ZONE                           *
//***********************************************************
//DEFACT  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELACT..CSI
  DEFINE CLUSTER( -
                 NAME(&SKELACT..CSI) -
                 MODEL(&SKELBKP..CSI) -
                 VOLUMES(&VOLBKP) -
                ) -
         DATA( -
                 NAME(&SKELACT..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELACT..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE ACTIVE ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITACT EXEC PGM=IDCAMS,COND=(0,NE,DEFACT)
//TGTZONE  DD  DSN=&SKELACT..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
/*
//***********************************************************
//*  ZONECOPY BACKUP TO ACTIVE                              *
//***********************************************************
//BKP2ACT EXEC PGM=GIMSMP,COND=(0,NE,INITACT)
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&ACTZNE,&SKELACT..CSI,TARGET))
      .
    ENDUCL .
  RESETRC.
  SET BDY(&ACTZNE) .
    ZONECOPY (&BKPZNE) INTO(&ACTZNE) .
    UCLIN .
      REP TZONE(&ACTZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELBKP..*,&SKELACT..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  RENAME BACKUP TO ACTIVE                                *
//***********************************************************
//RENBKP  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEBAK
)SEL &BKPFLAG = Y
  ALTER &SKELBKP..&SUFFIX +
    NEWNAME(&SKELACT..&SUFFIX)
)ENDSEL
)ENDDOT
 /*                                  */
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT BKP TO ACTV RENAME*
//************************************************************
//LUPDB2A EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(UPD) PARMB(&BKPZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE BACKUP ZONE FROM GLOBAL                         *
//***********************************************************
//DROPBKP EXEC PGM=GIMSMP,COND=(0,NE)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&BKPZNE)) .
    ENDUCL.
  RESETRC.
//***********************************************************
//*      DELETE BACKUP ZONE                                 *
//***********************************************************
//DELBKP  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELBKP..CSI
/*
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&BKPZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*      DOCUMENT THAT BACKOUT HAS OCCURRED                 *
//***********************************************************
//DOCBKOT EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCBKOT PARMA(&BKPZNE) PARMB(&ACTZNE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
)SEL &SKELE = DBSDSLST
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT B-DB2-&LV &BKPZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
)ENDSEL
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEBAK
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
//
./ ADD NAME=BAKOEMS1 0103-93218-93363-0807-00165-00153-00015-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(BAKOEMS1)
//* GDE: MANNY PRISCIANDARO
//* DOC: THIS JOB WILL BACKOUT ACTIVE TO TARGET AND THEN
//*      BACKOUT BACKUP TO ACTIVE
//* *******************************************************************
//*
/*
//***********************************************************
//*  RENAME ACTIVE TO TARGET                                *
//***********************************************************
//RENACT  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEBAK
)SEL &ACTFLAG = Y
  ALTER &SKELACT..&SUFFIX +
    NEWNAME(&SKELTGT..&SUFFIX)
)ENDSEL
)ENDDOT
 /*                                  */
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO TGT RENAME*
//************************************************************
//LUPDA2T EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(UPD) PARMB(&ACTZNE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  RENAME BACKUP TO ACTIVE                                *
//***********************************************************
//RENBKP  EXEC PGM=IDCAMS,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEBAK
)SEL &BKPFLAG = Y
  ALTER &SKELBKP..&SUFFIX +
    NEWNAME(&SKELACT..&SUFFIX)
)ENDSEL
)ENDDOT
 /*                                  */
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT BKP TO ACTV RENAME*
//************************************************************
//LUPDB2A EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(UPD) PARMB(&BKPZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&BKPZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*      DOCUMENT THAT BACKOUT HAS OCCURRED                 *
//***********************************************************
//DOCBKOT EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCBKOT PARMA(&BKPZNE) PARMB(&ACTZNE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT B-&PRODUCT-&LV &BKPZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEBAK
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
//
./ ADD NAME=BSDSBKP  0100-92357-92357-1153-00046-00046-00000-FMMCSC
//&SSID.ARCH JOB (A006,SYTM,99,99),'10DB2GRP: &SSIDARCH',
//             CLASS=&JC.,MSGCLASS=&MC
//             TYPRUN=HOLD
//*
//* LIB: XDBS.TSOISPF.SKELS(BSDSJCL)
//* GDE: GG24-3180 DB2 OPERATION AND RECOVERY SAMPLE PROCEDURES
//* DOC: THIS JOB IS USED TO CHANGE BSDS DATASET WITH ACTIVE LOG
//*      INFORMATION
//*
//STRTMSG  EXEC PGM=IKJEFT01,DYNAMNBR=25,
//             REGION=2048K,TIME=60,
//             COND=(4,LT),
//             PARM='%ADDMSG &SSID.ARCH &SSID.SYS STARTING'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
//********************************
//* CHANGE BSDS
//********************************
//S01#01  EXEC PGM=DSNJU003
//STEPLIB  DD  DISP=SHR,DSN=&SSID..DSNLOAD
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//SYSUT1   DD  DISP=SHR,DSN=&BSDS..BSDS01
//SYSUT2   DD  DISP=SHR,DSN=&BSDS..BSDS02
//SYSIN    DD  *
)DOT BSDSTBL
  DELETE DSNAME=&DSN
)ENDDOT BSDSTBL
//*
//GOODMSG  EXEC PGM=IKJEFT01,DYNAMNBR=25,
//             REGION=2048K,TIME=60,
//             COND=(4,LT),
//             PARM='%ADDMSG &SSID.ARCH &SSID.SYS WORKED'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
//ERRORMSG EXEC PGM=IKJEFT01,DYNAMNBR=25,
//             REGION=2048K,TIME=60,
//             COND=((0,EQ,GOODMSG),EVEN),
//             PARM='%ADDMSG &SSID.ARCH &SSID.SYS FAILED'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
./ ADD NAME=BSDSJCL  0115-92230-92357-1154-00003-00030-00003-FMMCSC
)DOT BSDSTBL
  DELETE DSNAME=&DSN
)ENDDOT BSDSTBL
./ ADD NAME=DELDBSS1 0109-92204-93363-0805-00091-00114-00032-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(IMPDBSS1)
//* GDE: DAN BORGES AND MANNY PRISCIANDARO
//* DOC: THIS JOB WILL DELETE ANY ZONE
//* *******************************************************************
//*
//***********************************************************
//*  REMOVE ZONE FROM GLOBAL                                *
//***********************************************************
//DROPBCK EXEC PGM=GIMSMP,
//             REGION=8192K,TIME=1200
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&DELZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE DATA SETS                               *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS,
//             REGION=8192K,TIME=1200
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEDEL
)SEL &DELFLAG = Y
    DELETE &SKELDEL..&SUFFIX
)ENDSEL
)ENDDOT
    DELETE &SKELDEL..CSI
/*
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&DELZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
)SEL &SKELE = DBSDSLST
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT D-DB2-&LV &ACTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
)ENDSEL
//*
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEDEL
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
./ ADD NAME=DELOEMS1 0104-93216-93363-0808-00072-00049-00024-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(DELOEMS1)
//* GDE: MANNY PRISCIANDARO
//* DOC: THIS JOB WILL DELETE ANY NON-SMP/E ZONE
//* *******************************************************************
//*
//***********************************************************
//*      DELETE THE DATA SETS                               *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS,
//             REGION=8192K,TIME=1200
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT OEMDSLST
)SEL &DELFLAG = Y
    DELETE &SKELDEL..&SUFFIX
)ENDSEL
)ENDDOT
/*
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&DELZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT D-&PRODUCT-&LV &DELZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEDEL
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
./ ADD NAME=DELOMGS1 0103-93350-93363-0804-00089-00091-00003-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(DELOMGS1)
//* GDE: DAN BORGES AND MANNY PRISCIANDARO
//* DOC: THIS JOB WILL DELETE ANY ZONE
//* *******************************************************************
//*
//***********************************************************
//*  REMOVE ZONE FROM GLOBAL                                *
//***********************************************************
//DROPBCK EXEC PGM=GIMSMP,
//             REGION=8192K,TIME=1200
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&DELZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE DATA SETS                               *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS,
//             REGION=8192K,TIME=1200
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEDEL
)SEL &DELFLAG = Y
    DELETE &SKELDEL..&SUFFIX
)ENDSEL
)ENDDOT
    DELETE &SKELDEL..CSI
/*
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH OMGLVTRK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&DELZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
)SEL &SKELE = DBSDSLST
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT D-OMEG-&LV &ACTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
)ENDSEL
//*
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEDEL
)SEL &DELFLAG = Y
//DMY&DDCTR DD DSN=&SKELDEL..&SUFFIX,DISP=OLD
)ENDSEL
)ENDDOT
./ ADD NAME=DOCARCH  0105-92057-92057-1632-00025-00025-00000-DD20002
//***********************************************************
//*      DOCUMENT TAPE ARCHIVE                              *
//***********************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//         REGION=8192K,TIME=1200,
//         PARM=('%BATCH DOCARCH PARMA(&BKPZNE) PARMB(&BKUPLVL)',
//         'PARMC(&SKELBKP)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCBKOT  0101-92057-92057-1434-00024-00025-00000-DD20002
//***********************************************************
//*      DOCUMENT THAT BACKOUT HAS OCCURRED                 *
//***********************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCBKOT PARMA(&BKPZNE) PARMB(&ACTZNE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCCLNE  0104-92057-92057-1754-00024-00026-00000-DD20002
//***********************************************************
//*      DOCUMENT MIGRATION                                 *
//***********************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCCLNE PARMA(&SRCZNE) PARMB(&DESTZNE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCIMP   0102-92057-92057-1426-00025-00025-00000-DD20002
//***********************************************************
//*      DOCUMENT IMPLEMENTATION                            *
//***********************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCIMP PARMA(&TGTZNE) PARMB(&ACTZNE)',
//             'PARMC(&SKELTGT) PARMD(&SKELACT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCLADD  0101-92058-92058-0936-00025-00025-00000-DD20002
//******************************************************************
//* ADD AN ENTRY ON TRCKING BOARD TO  REFLECT CREATION OF NEW ZONE *
//******************************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(ADD) PARMB(DONTCARE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCLA2B  0103-92057-92057-1826-00025-00025-00000-DD20002
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO BKP COPY  *
//************************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(UPD) PARMB(&ACTZNE)',
//             'PARMC(&BKPZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCLA2T  0104-92057-92057-1830-00025-00025-00000-DD20002
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO TGT COPY  *
//************************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %LVLTRCK PARMA(UPD) PARMB(&SRCZNE)',
//             'PARMC(&DESTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCLB2A  0103-92057-92057-1836-00025-00025-00000-DD20002
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT BKP TO ACTV COPY  *
//************************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(UPD) PARMB(&BKPZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCLDEL  0102-92057-92057-1841-00025-00025-00000-DD20002
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=DOCLT2A  0103-92057-92058-0930-00025-00025-00000-DD20002
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO BKP COPY  *
//************************************************************
//DOCCLNE EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(UPD) PARMB(&TGTZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
./ ADD NAME=IMPDBSS1 0123-92192-93363-0805-00397-00776-00397-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(IMPDBSS1)
//* GDE: DAN BORGES AND MANNY PRISCIANDARO
//* DOC: THIS JOB WILL IMPLEMENT FROM TARGET TO ACTIVE
//* *******************************************************************
//*
)SEL &BFOUND = Y
//***********************************************************
//*  SAVE BACKUP TO TAPE                                    *
//***********************************************************
//SAVEIT  EXEC PGM=ADRDSSU,PARM=''
//SYSPRINT DD  SYSOUT=*
//TAPE     DD  DISP=(NEW,CATLG),DSN=&SKELBKP..LVL&BKUPLVL.,
//             UNIT=(3480,,DEFER),LABEL=(1,SL,EXPDT=99030),
//             VOL=(,,,99)
//SYSIN    DD  *
 DUMP    -
         OUTDDNAME(TAPE)              -
         DATASET(INCLUDE(  -
)DOT TABLEIMP
)SEL &BKPFLAG = Y
)SEL &BKPVSAM = N
           &SKELBKP..&SUFFIX, -
)ENDSEL
)ENDSEL
)ENDDOT
           &SKELBKP..CSI       -
          ))
 IF LASTCC = 4 THEN SET MAXCC = 0
/*
//***********************************************************
//*      DOCUMENT TAPE ARCHIVE                              *
//***********************************************************
//DOCARCH EXEC PGM=IKJEFT01,DYNAMNBR=35,
//         REGION=8192K,TIME=1200,
//         PARM=('%BATCH DOCARCH PARMA(&BKPZNE) PARMB(&BKUPLVL)',
//         'PARMC(&SKELBKP)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE BACKUP ZONE FROM GLOBAL                         *
//***********************************************************
//DROPBCK EXEC PGM=GIMSMP
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&BKPZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE BACKUP DATA SETS                        *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEIMP
)SEL &BKPFLAG = Y
)SEL &BKPVSAM = N
    DELETE &SKELBKP..&SUFFIX
)ENDSEL
)ENDSEL
)ENDDOT
    DELETE &SKELBKP..CSI
  SET MAXCC = 0
/*
)ENDSEL
//***********************************************************
//*      DEFINE A NEW BACKUP ZONE                           *
//***********************************************************
//DEFBCK  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DEFINE CLUSTER( -
                 NAME(&SKELBKP..CSI) -
                 MODEL(&SKELACT..CSI) -
                 VOLUMES(&VOLBKP) -
                ) -
         DATA( -
                 NAME(&SKELBKP..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELBKP..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE BACKUP ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITBCK EXEC PGM=IDCAMS,COND=(0,NE,DEFBCK)
//TGTZONE  DD  DSN=&SKELBKP..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
/*
//***********************************************************
//*  ZONECOPY ACTIVE TO BACKUP                              *
//***********************************************************
//ACT2BCK EXEC PGM=GIMSMP,COND=(0,NE,INITBCK)
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&BKPZNE,&SKELBKP..CSI,TARGET))
      .
    ENDUCL .
  RESETRC.
  SET BDY(&BKPZNE) .
    ZONECOPY (&ACTZNE) INTO(&BKPZNE) .
    UCLIN .
      REP TZONE(&BKPZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELACT..*,&SKELBKP..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  RENAME ACTIVE TO BACKUP                                *
//***********************************************************
//RENACT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEIMP
)SEL &ACTFLAG = Y
  ALTER &SKELACT..&SUFFIX +
    NEWNAME(&SKELBKP..&SUFFIX)
)ENDSEL
)ENDDOT
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO BKP COPY  *
//************************************************************
//LUPDA2B EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(UPD) PARMB(&ACTZNE)',
//             'PARMC(&BKPZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*      DEFINE A NEW ACTIVE ZONE                           *
//***********************************************************
//DEFACT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELACT..CSI
  SET MAXCC = 0
  DEFINE CLUSTER( -
                 NAME(&SKELACT..CSI) -
                 MODEL(&SKELTGT..CSI) -
                 VOLUMES(&VOLACT) -
                ) -
         DATA( -
                 NAME(&SKELACT..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELACT..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE ACTIVE ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITACT EXEC PGM=IDCAMS,COND=(0,NE,DEFACT)
//TGTZONE  DD  DSN=&SKELACT..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
//***********************************************************
//*  REMOVE ACTIVE ZONE FROM GLOBAL                         *
//***********************************************************
//DROPACT EXEC PGM=GIMSMP
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&ACTZNE)) .
    ENDUCL.
  RESETRC.
/*
/*
//***********************************************************
//*  ZONECOPY TARGET TO ACTIVE                              *
//***********************************************************
//TGT2ACT EXEC PGM=GIMSMP,COND=(0,NE,INITACT)
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE ZONEINDEX((&ACTZNE,&SKELACT..CSI,TARGET)).
    ENDUCL.
  RESETRC.
  SET BDY(&ACTZNE) .
    ZONECOPY (&TGTZNE) INTO(&ACTZNE) .
    UCLIN .
      REP TZONE(&ACTZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELTGT..*,&SKELACT..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  IDCAMS ALTERS TO GET TRUE NAMES                        *
//***********************************************************
//RENTGT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEIMP
)SEL &TGTFLAG = Y
  ALTER &SKELTGT..&SUFFIX +
    NEWNAME(&SKELACT..&SUFFIX)
)ENDSEL
)ENDDOT
/*
//***********************************************************
//*  ARRANGE ZONEINDEX ENTRIES                              *
//***********************************************************
//DROPTGT EXEC PGM=GIMSMP&CONDPRM
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&TGTZNE)) .
    ENDUCL.
  RESETRC.
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT TGT TO ACT ZCOPY  *
//************************************************************
//LUPDT2A EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(UPD) PARMB(&TGTZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  DELETE TARGET CSI                                      *
//***********************************************************
//DELTGT  EXEC PGM=IDCAMS,COND=(0,NE,TGT2ACT)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELTGT..CSI
/*
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH LVLTRCK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*      DOCUMENT IMPLEMENTATION                            *
//***********************************************************
//DOCIMPL EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCIMP PARMA(&TGTZNE) PARMB(&ACTZNE)',
//             'PARMC(&SKELTGT) PARMD(&SKELACT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
)SEL &SKELE = DBSDSLST
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT I-DB2-&LV &ACTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
)ENDSEL
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEIMP
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
//
./ ADD NAME=IMPOEMS1 0104-93217-93363-0808-00230-00397-00025-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(IMPOEMS1)
//* GDE: MANNY PRISCIANDARO
//* DOC: THIS JOB WILL IMPLEMENT FROM TARGET TO ACTIVE
//* *******************************************************************
//*
)SEL &BFOUND = Y
//***********************************************************
//*  SAVE BACKUP TO TAPE                                    *
//***********************************************************
//SAVEIT  EXEC PGM=ADRDSSU,PARM=''
//SYSPRINT DD  SYSOUT=*
//TAPE     DD  DISP=(NEW,CATLG),DSN=&SKELBKP..LVL&BKUPLVL.,
//             UNIT=(3480,,DEFER),LABEL=(1,SL,EXPDT=99030),
//             VOL=(,,,99)
//SYSIN    DD  *
 DUMP    -
         OUTDDNAME(TAPE)              -
         DATASET(INCLUDE(  -
)DOT TABLEIMP
)SEL &BKPFLAG = Y
)SEL &BKPVSAM = N
           &SKELBKP..&SUFFIX, -
)ENDSEL
)ENDSEL
)ENDDOT
          ))
 IF LASTCC = 4 THEN SET MAXCC = 0
/*
//***********************************************************
//*      DOCUMENT TAPE ARCHIVE                              *
//***********************************************************
//DOCARCH EXEC PGM=IKJEFT01,DYNAMNBR=35,
//         REGION=8192K,TIME=1200,
//         PARM=('%BATCH DOCARCH PARMA(&BKPZNE) PARMB(&BKUPLVL)',
//         'PARMC(&SKELBKP)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
/*
//***********************************************************
//*      DELETE THE BACKUP DATA SETS                        *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEIMP
)SEL &BKPFLAG = Y
)SEL &BKPVSAM = N
    DELETE &SKELBKP..&SUFFIX
)ENDSEL
)ENDSEL
)ENDDOT
  SET MAXCC = 0
/*
)ENDSEL
/*
//***********************************************************
//*  RENAME ACTIVE TO BACKUP                                *
//***********************************************************
//RENACT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEIMP
)SEL &ACTFLAG = Y
  ALTER &SKELACT..&SUFFIX +
    NEWNAME(&SKELBKP..&SUFFIX)
)ENDSEL
)ENDDOT
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO BKP COPY  *
//************************************************************
//LUPDA2B EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(UPD) PARMB(&ACTZNE)',
//             'PARMC(&BKPZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  IDCAMS ALTERS TO GET TRUE NAMES                        *
//***********************************************************
//RENTGT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEIMP
)SEL &TGTFLAG = Y
  ALTER &SKELTGT..&SUFFIX +
    NEWNAME(&SKELACT..&SUFFIX)
)ENDSEL
)ENDDOT
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT TGT TO ACT ZCOPY  *
//************************************************************
//LUPDT2A EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(UPD) PARMB(&TGTZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*      DOCUMENT IMPLEMENTATION                            *
//***********************************************************
//DOCIMPL EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCIMP PARMA(&TGTZNE) PARMB(&ACTZNE)',
//             'PARMC(&SKELTGT) PARMD(&SKELACT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT I-&PRODUCT-&LV &ACTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEIMP
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
//
./ ADD NAME=IMPOMGS1 0106-93341-94012-1718-00427-00397-00032-MJLCSC
)DEFAULT  )&?!#>
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(IMPOMGS1)
//* GDE: MIKE LOVARI AND KEN TOMIAK
//* DOC: THIS JOB WILL IMPLEMENT FROM TARGET TO ACTIVE
//* *******************************************************************
//*
)SEL &BFOUND = Y
//***********************************************************
//*  SAVE BACKUP TO TAPE                                    *
//***********************************************************
//SAVEIT  EXEC PGM=ADRDSSU,PARM=''
//SYSPRINT DD  SYSOUT=*
//TAPE     DD  DISP=(NEW,CATLG),DSN=&SKELBKP..LVL&BKUPLVL.,
//             UNIT=(3480,,DEFER),LABEL=(1,SL,EXPDT=99030),
//             VOL=(,,,99)
//SYSIN    DD  *
 DUMP    -
         OUTDDNAME(TAPE)              -
         DATASET(INCLUDE(  -
)DOT TABLEIMP
)SEL &BKPFLAG = Y
)SEL &BKPVSAM = N
           &SKELBKP..&SUFFIX, -
)ENDSEL
)ENDSEL
)ENDDOT
           &SKELBKP..CSI       -
          ))
 IF LASTCC = 4 THEN SET MAXCC = 0
/*
//***********************************************************
//*      DOCUMENT TAPE ARCHIVE                              *
//***********************************************************
//DOCARCH EXEC PGM=IKJEFT01,DYNAMNBR=35,
//         REGION=8192K,TIME=1200,
//         PARM=('%BATCH DOCARCH PARMA(&BKPZNE) PARMB(&BKUPLVL)',
//         'PARMC(&SKELBKP)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE BACKUP ZONE FROM GLOBAL                         *
//***********************************************************
//DROPBCK EXEC PGM=GIMSMP
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&BKPZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE BACKUP DATA SETS                        *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEIMP
)SEL &BKPFLAG = Y
)SEL &BKPVSAM = N
    DELETE &SKELBKP..&SUFFIX
)ENDSEL
)ENDSEL
)ENDDOT
    DELETE &SKELBKP..CSI
  SET MAXCC = 0
/*
)ENDSEL
//***********************************************************
//*      DEFINE A NEW BACKUP ZONE                           *
//***********************************************************
//DEFBCK  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DEFINE CLUSTER( -
                 NAME(&SKELBKP..CSI) -
                 MODEL(&SKELACT..CSI) -
                 VOLUMES(&VOLBKP) -
                ) -
         DATA( -
                 NAME(&SKELBKP..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELBKP..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE BACKUP ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITBCK EXEC PGM=IDCAMS,COND=(0,NE,DEFBCK)
//TGTZONE  DD  DSN=&SKELBKP..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
/*
//***********************************************************
//*  ZONECOPY ACTIVE TO BACKUP                              *
//***********************************************************
//ACT2BCK EXEC PGM=GIMSMP,COND=(0,NE,INITBCK)
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&BKPZNE,&SKELBKP..CSI,TARGET))
      .
    ENDUCL .
  RESETRC.
  SET BDY(&BKPZNE) .
    ZONECOPY (&ACTZNE) INTO(&BKPZNE) .
    UCLIN .
      REP TZONE(&BKPZNE)
        RELATED(OMGD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELACT..*,&SKELBKP..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  RENAME ACTIVE TO BACKUP                                *
//***********************************************************
//RENACT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEIMP
)SEL &ACTFLAG = Y
  ALTER &SKELACT..&SUFFIX +
    NEWNAME(&SKELBKP..&SUFFIX)
)ENDSEL
)ENDDOT
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ACTV TO BKP COPY  *
//************************************************************
//LUPDA2B EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH OMGLVTRK PARMA(UPD) PARMB(&ACTZNE)',
//             'PARMC(&BKPZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*      DEFINE A NEW ACTIVE ZONE                           *
//***********************************************************
//DEFACT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELACT..CSI
  SET MAXCC = 0
  DEFINE CLUSTER( -
                 NAME(&SKELACT..CSI) -
                 MODEL(&SKELTGT..CSI) -
                 VOLUMES(&VOLACT) -
                ) -
         DATA( -
                 NAME(&SKELACT..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELACT..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE ACTIVE ZONE ON THE NEW SYSRES       *
//***********************************************************
//INITACT EXEC PGM=IDCAMS,COND=(0,NE,DEFACT)
//TGTZONE  DD  DSN=&SKELACT..CSI,DISP=SHR
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO OUTFILE(TGTZONE) INFILE(ZPOOL)
//***********************************************************
//*  REMOVE ACTIVE ZONE FROM GLOBAL                         *
//***********************************************************
//DROPACT EXEC PGM=GIMSMP
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&ACTZNE)) .
    ENDUCL.
  RESETRC.
/*
/*
//***********************************************************
//*  ZONECOPY TARGET TO ACTIVE                              *
//***********************************************************
//TGT2ACT EXEC PGM=GIMSMP,COND=(0,NE,INITACT)
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE ZONEINDEX((&ACTZNE,&SKELACT..CSI,TARGET)).
    ENDUCL.
  RESETRC.
  SET BDY(&ACTZNE) .
    ZONECOPY (&TGTZNE) INTO(&ACTZNE) .
    UCLIN .
      REP TZONE(&ACTZNE)
        RELATED(OMGD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELTGT..*,&SKELACT..*) .
    ENDZONEEDIT.
/*
//*
//***********************************************************
//*  MAKE SURE $$$COIBM IS THERE                            *
//***********************************************************
//$$$COIB EXEC PGM=IEBCOPY,COND=(0,NE)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  COPY INDD=((INPT01,R)),OUTDD=OTPT01
    SELECT MEMBER=(($$$COIBM,,R))
  COPY INDD=((INPT01,R)),OUTDD=OTPT02
    SELECT MEMBER=(($$$COIBM,,R))
/*
//INPT01   DD  DISP=SHR,DSN=XDBS.&ACTZNE..CNTL
//OTPT01   DD  DISP=OLD,DSN=&SKELTGT..RO2JCL
//OTPT02   DD  DISP=OLD,DSN=&SKELTGT..TO2CLIST
//SYSUT3   DD  UNIT=SYSALLDA,SPACE=(TRK,(1,5))
//SYSUT4   DD  UNIT=SYSALLDA,SPACE=(TRK,(1,5))
//*
//***********************************************************
//*  DROP .TARGET FROM HIGH-LEVEL QUALIFIERS                *
//***********************************************************
//IPOUPDT EXEC PGM=IPOUPDTE,PARM='UPDATE',REGION=4096K
//STEPLIB  DD  DISP=SHR,DSN=XDBS.DB2GRP.LOADLIB
//SYSPRINT DD  SYSOUT=*
//@DD01    DD  DISP=SHR,DSN=&SKELTGT..RO2JCL
//@DD02    DD  DISP=SHR,DSN=&SKELTGT..TO2CLIST
//SYSIN    DD  *
&SKELTGT.<&SKELACT.<<
/*
//***********************************************************
//*  IDCAMS ALTERS TO GET TRUE NAMES                        *
//***********************************************************
//RENTGT  EXEC PGM=IDCAMS&CONDPRM
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 /*                                  */
)DOT TABLEIMP
)SEL &TGTFLAG = Y
  ALTER &SKELTGT..&SUFFIX +
    NEWNAME(&SKELACT..&SUFFIX)
)ENDSEL
)ENDDOT
/*
//***********************************************************
//*  ARRANGE ZONEINDEX ENTRIES                              *
//***********************************************************
//DROPTGT EXEC PGM=GIMSMP&CONDPRM
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&TGTZNE)) .
    ENDUCL.
  RESETRC.
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT TGT TO ACT ZCOPY  *
//************************************************************
//LUPDT2A EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH OMGLVTRK PARMA(UPD) PARMB(&TGTZNE)',
//             'PARMC(&ACTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  DELETE TARGET CSI                                      *
//***********************************************************
//DELTGT  EXEC PGM=IDCAMS,COND=(0,NE,TGT2ACT)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DELETE &SKELTGT..CSI
/*
//******************************************************************
//* DELETE ENTRY OF TRCKING BOARD TO  REFLECT DROPPING OF TGT ZONE *
//******************************************************************
//LVLDEL  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH OMGLVTRK PARMA(DEL) PARMB(DONTCARE)',
//             'PARMC(&TGTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*      DOCUMENT IMPLEMENTATION                            *
//***********************************************************
//DOCIMPL EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCIMP PARMA(&TGTZNE) PARMB(&ACTZNE)',
//             'PARMC(&SKELTGT) PARMD(&SKELACT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
)SEL &SKELE = OMGDSLST
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT I-OMEG-&LV &ACTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
)ENDSEL
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEIMP
)SEL &ACTFLAG = Y
)SEL &ACTVSAM = N
//DMY&DDCTR DD DSN=&SKELACT..&SUFFIX,DISP=OLD
)ENDSEL
)ENDSEL
)ENDDOT
//
./ ADD NAME=MIGDBSS1 0119-92198-94011-1544-00314-00350-00127-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(MIGDBSS1)
//* GDE: DAN BORGES AND MANNY PRISCIANDARO
//* DOC: THIS JOB WILL CLONE THE CBIPO TARGET.
//* *******************************************************************
//*
//*                          W A R N I N G
//*
//* IF YOU ARE MIGRATING FROM A ACTIVE ZONE IN ONE ENVIRONMENT TO A
//* TARGET ZONE IN ANOTHER EXISTING ENVIRONMENT, THE DSNEXIT STEP
//* WILL SERVE YOUR PURPOSES. OTHERWISE, RE-EVALUATE THE DSNEXIT STEP.
//* IF YOU ARE MIGRATING TO A NEW ENVIRONMENT (DESTINATION NOT IN TABLE)
//* THE DSNEXIT STEP IS NOT NECCESSARY AND HAS BEEN AUTOMATICALLY
//* REMOVED FROM THIS JOB STREAM.
//* *******************************************************************
)SEL &COMPRESS = Y
//*
//* THIS JOB COMPRESSES A VOLUME.
//*
//COMPRESS  EXEC PGM=ADRDSSU,REGION=3072K,
//             PARM=''        'TYPRUN=NORUN'
//SYSPRINT DD  SYSOUT=*
//INVOL1   DD  UNIT=SYSALLDA,VOL=SER=&VOLSRC,DISP=SHR
//SYSIN    DD    *
 COMPRESS INCLUDE(&SKELSRC..**) -
          DDNAME(INVOL1) -
          WAIT(2,2)
 RELEASE  INCLUDE(&SKELSRC..**) -
          DDNAME(INVOL1) -
          WAIT(2,2)
)ENDSEL
)SEL &BFOUND = Y
//*
//***********************************************************
//*  SAVE BACKUP TO TAPE                                    *
//***********************************************************
//SAVEIT  EXEC PGM=ADRDSSU,PARM=''
//SYSPRINT DD  SYSOUT=*
//TAPE     DD  DISP=(NEW,CATLG),DSN=&SKELBKP..LVL&BKUPLVL.,
//             UNIT=(3480,,DEFER),LABEL=(1,SL,EXPDT=99030),
//             VOL=(,,,99)
//SYSIN    DD  *
 DUMP    -
         OUTDDNAME(TAPE)              -
         DATASET(INCLUDE(  -
)DOT TABLEMIG
)SEL &BKPFLAG = Y
           &SKELBKP..&SUFFIX, -
)ENDSEL
)ENDDOT
           &SKELBKP..CSI       -
          ))
 IF LASTCC = 4 THEN SET MAXCC = 0
/*
//***********************************************************
//*      DOCUMENT TAPE ARCHIVE                              *
//***********************************************************
//DOCARCH EXEC PGM=IKJEFT01,DYNAMNBR=35,
//         REGION=8192K,TIME=1200,
//         PARM=('%BATCH DOCARCH PARMA(&BKPZNE) PARMB(&BKUPLVL)',
//         'PARMC(&SKELBKP)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE BACKUP ZONE FROM GLOBAL                         *
//***********************************************************
//DROPBCK EXEC PGM=GIMSMP
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&BKPZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE BACKUP DATA SETS                        *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEMIG
)SEL &BKPFLAG = Y
    DELETE &SKELBKP..&SUFFIX
)ENDSEL
)ENDDOT
    DELETE &SKELBKP..CSI
  SET MAXCC = 0
/*
)ENDSEL
)SEL &DFOUND = Y
//***********************************************************
//*  DELETE AN ENTRY FROM THE GZONE ZONEINDEX               *
//***********************************************************
//ZONEDEL EXEC PGM=GIMSMP,COND=(0,LT)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&DESTZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE OLD TARGET ZONE IF IT EXISTS            *
//***********************************************************
//DELCSI  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEMIG
)SEL &DESTFLAG = Y
    DELETE &SKELDEST..&SUFFIX
)ENDSEL
)ENDDOT
    DELETE &SKELDEST..CSI
  SET MAXCC = 0
/*
)ENDSEL
//***********************************************************
//*      DEFINE THE NEW TARGET ZONE ON THE NEW VOLUME       *
//***********************************************************
//DEFCSI  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DEFINE CLUSTER( -
                 NAME(&SKELDEST..CSI) -
                 MODEL(&SKELSRC..CSI) -
                 VOLUMES(&VOLID) -
                ) -
         DATA( -
                 NAME(&SKELDEST..CSI.DATA) -
                 CYLINDERS(5 5) -
                ) -
         INDEX( -
                 NAME(&SKELDEST..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE TARGET ZONE ON THE NEW VOLUME       *
//***********************************************************
//ZPOOL   EXEC PGM=IDCAMS,COND=(0,NE,DEFCSI)
//TZONE    DD  DSN=&SKELDEST..CSI,DISP=OLD
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO INFILE(ZPOOL) OUTFILE(TZONE)
/*
//***********************************************************
//*  ADD AN ENTRY TO THE GZONE ZONEINDEX                    *
//***********************************************************
//ZONEADD EXEC PGM=GIMSMP,COND=(0,NE,DEFCSI)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=OLD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&DESTZNE,&SKELDEST..CSI,TARGET))
      .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*  ZONECOPY TO THE NEW VOLUME TARGET ZONE                 *
//***********************************************************
//ZONECPY EXEC PGM=GIMSMP,COND=(0,NE,DEFCSI)
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=SHR
//SMPLOG   DD  DSN=DBSSMPE.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(&DESTZNE) .
    ZONECOPY (&SRCZNE) INTO(&DESTZNE) .
    UCLIN .
      REP TZONE(&DESTZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELSRC..*,&SKELDEST..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  DFDSS CLONE THE TARGET DATASETS                        *
//***********************************************************
//COPYDSN EXEC PGM=ADRDSSU,
//             PARM='',COND=(0,NE,DEFCSI)
//SYSPRINT DD  SYSOUT=*
//VOLDD    DD  UNIT=SYSALLDA,VOL=SER=&VOLID,DISP=SHR
//SYSIN    DD  *
 COPY -
    OUTDDNAME(VOLDD) -
    DATASET(INCLUDE(     -
)DOT TABLEMIG
)SEL &SRCFLAG = Y
     &SKELSRC..&SUFFIX&SUFFIX2
)ENDSEL
)ENDDOT
           ) -
    ) -
    RENAMEUNC( -
)DOT TABLEMIG
)SEL &SRCFLAG = Y
    (&SKELSRC..&SUFFIX,&SKELDEST..&SUFFIX)&SUFFIX2
)ENDSEL
)ENDDOT
    ) -
    TOLERATE(ENQFAILURE) -
    ALLDATA(*) ALLEXCP -
    CATALOG
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ZONE COPY         *
//************************************************************
//LUPDZCPY EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %LVLTRCK PARMA(UPD) PARMB(&SRCZNE)',
//             'PARMC(&DESTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*      DOCUMENT MIGRATION                                 *
//***********************************************************
//DOCMIGR EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCCLNE PARMA(&SRCZNE) PARMB(&DESTZNE)',
//             'PARMC(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
)SEL &SKELE = DBSDSLST
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT M-DB2-&LV &DESTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
)ENDSEL
)SEL &ENVRMENT = YES AND &SKELE = DBSDSLST
//*
//DSNEXIT EXEC PGM=IEBCOPY
//SYSPRINT DD  SYSOUT=*
//SYSUT3   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT4   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT1   DD  DISP=SHR,DSN=&IEBSUT1..DSNEXIT
//SYSUT2   DD  DISP=SHR,DSN=&SKELDEST..DSNEXIT
//SYSIN    DD  *
  COPY INDD=((SYSUT1,R)),OUTDD=SYSUT2
/*
)ENDSEL
//
./ ADD NAME=MIGOEMS1 0112-93193-93363-0809-00126-00116-00028-KETCSC
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(MIGOEMS1)
//* GDE: MANNY PRISCIANDARO
//* DOC: THIS JOB WILL CLONE THE BASE PRODUCT.
//* *******************************************************************
//*
)SEL &DFOUND = Y
//***********************************************************
//*      DELETE OLD TARGET DATASETS IF THEY EXIST           *
//***********************************************************
//DELDS   EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEMIG
)SEL &DESTFLAG = Y
    DELETE &SKELDEST..&SUFFIX
)ENDSEL
)ENDDOT
/*
)ENDSEL
//***********************************************************
//*  DFDSS CLONE THE TARGET DATASETS                        *
//***********************************************************
//COPYDSN EXEC PGM=ADRDSSU,
//             PARM=''
//SYSPRINT DD  SYSOUT=*
//VOLDD    DD  UNIT=SYSALLDA,VOL=SER=&VOLID,DISP=SHR
//SYSIN    DD  *
 COPY -
    OUTDDNAME(VOLDD) -
    DATASET(INCLUDE(     -
)DOT TABLEMIG
)SEL &SRCFLAG = Y
     &SKELSRC..&SUFFIX&SUFFIX2
)ENDSEL
)ENDDOT
           ) -
    ) -
    RENAMEUNC( -
)DOT TABLEMIG
)SEL &SRCFLAG = Y
              (&SKELSRC..&SUFFIX,&SKELDEST..&SUFFIX)&SUFFIX2
)ENDSEL
)ENDDOT
    ) -
    TOLERATE(ENQFAILURE) -
    ALLDATA(*) ALLEXCP -
    CATALOG
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ZONE COPY         *
//************************************************************
//LUPDZCPY EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OEMLVTRK PARMA(UPD) PARMB(&SRCZNE)',
//             'PARMC(&DESTZNE) PARMD(DONTCARE) PARME(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*      DOCUMENT MIGRATION                                 *
//***********************************************************
//DOCMIGR EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH DOCCLNE PARMA(&SRCZNE) PARMB(&DESTZNE)',
//             'PARMC(&PRODUCT)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//*
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT M-&PRODUCT-&LV &DESTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//*
//***********************************************************
//*  EXCLUSIVE ENQUEUE ON ACTIVE DATA SETS                  *
//***********************************************************
//ENQDS   EXEC PGM=IEFBR14
)DOT TABLEMIG
)SEL &DESTFLAG = Y
//DMY&DDCTR DD DSN=&SKELDEST..&SUFFIX,DISP=OLD
)ENDSEL
)ENDDOT
//
./ ADD NAME=MIGOMGS1 0108-93340-94012-1632-00365-00115-00365-KETCSC
)DEFAULT  )&?!#>
&JC1
&JC2
&JC3
&JC4
&JC5
//* *******************************************************************
//* LIB: XDBS.TSOISPF.SKELS(MIGOMGS1)
//* GDE: MIKE LOVARI AND KEN TOMIAK
//* DOC: THIS JOB WILL CLONE THE SMP/E TARGET ENVIRONMENT.
//* *******************************************************************
//*
//*                          W A R N I N G
//*
//* IF YOU ARE MIGRATING FROM A ACTIVE ZONE IN ONE ENVIRONMENT TO A
//* TARGET ZONE IN ANOTHER EXISTING ENVIRONMENT, THE COPYUSR STEPS
//* WILL SERVE YOUR PURPOSES. OTHERWISE, RE-EVALUATE THE COPYUSR STEPS.
//* IF YOU ARE MIGRATING TO A NEW ENVIRONMENT (DESTINATION NOT IN TABLE)
//* THE COPYUSR STEP IS NOT NECCESSARY AND HAS BEEN AUTOMATICALLY
//* REMOVED FROM THIS JOB STREAM.
//* *******************************************************************
)SEL &COMPRESS = Y
//*
//* THIS JOB COMPRESSES A VOLUME.
//*
//COMPRES EXEC PGM=ADRDSSU,REGION=3072K,
//             PARM=''        'TYPRUN=NORUN'
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD    *
 COMPRESS INCLUDE(&SKELSRC..**) -
          WAIT(2,2)
 RELEASE  INCLUDE(&SKELSRC..**) -
          WAIT(2,2)
)ENDSEL
)SEL &BFOUND = Y
//*
//***********************************************************
//*  SAVE BACKUP TO TAPE                                    *
//***********************************************************
//SAVEIT  EXEC PGM=ADRDSSU,PARM=''
//SYSPRINT DD  SYSOUT=*
//TAPE     DD  DISP=(NEW,CATLG),DSN=&SKELBKP..LVL&BKUPLVL.,
//             UNIT=(3480,,DEFER),LABEL=(1,SL,EXPDT=99030),
//             VOL=(,,,99)
//SYSIN    DD  *
 DUMP    -
         OUTDDNAME(TAPE)              -
         DATASET(INCLUDE(  -
)DOT TABLEMIG
)SEL &BKPFLAG = Y
           &SKELBKP..&SUFFIX, -
)ENDSEL
)ENDDOT
           &SKELBKP..CSI       -
          ))
 IF LASTCC = 4 THEN SET MAXCC = 0
/*
//***********************************************************
//*      DOCUMENT TAPE ARCHIVE                              *
//***********************************************************
//DOCARCH EXEC PGM=IKJEFT01,DYNAMNBR=35,
//         REGION=8192K,TIME=1200,
//         PARM=('%BATCH OMGARCH PARMA(&BKPZNE) PARMB(&BKUPLVL)',
//         'PARMC(&SKELBKP)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*  REMOVE BACKUP ZONE FROM GLOBAL                         *
//***********************************************************
//DROPBCK EXEC PGM=GIMSMP
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&BKPZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE BACKUP DATA SETS                        *
//***********************************************************
//DELBCK  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEMIG
)SEL &BKPFLAG = Y
    DELETE &SKELBKP..&SUFFIX
)ENDSEL
)ENDDOT
    DELETE &SKELBKP..CSI
  SET MAXCC = 0
/*
)ENDSEL
)SEL &DFOUND = Y
//***********************************************************
//*  DELETE AN ENTRY FROM THE GZONE ZONEINDEX               *
//***********************************************************
//ZONEDEL EXEC PGM=GIMSMP,COND=(0,LT)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      DEL GLOBALZONE ZONEINDEX((&DESTZNE)) .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*      DELETE THE OLD TARGET ZONE IF IT EXISTS            *
//***********************************************************
//DELCSI  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
)DOT TABLEMIG
)SEL &DESTFLAG = Y
    DELETE &SKELDEST..&SUFFIX
)ENDSEL
)ENDDOT
    DELETE &SKELDEST..CSI
  SET MAXCC = 0
/*
)ENDSEL
//***********************************************************
//*      DEFINE THE NEW TARGET ZONE ON THE NEW VOLUME       *
//***********************************************************
//DEFCSI  EXEC PGM=IDCAMS
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  DEFINE CLUSTER( -
                 NAME(&SKELDEST..CSI) -
                 MODEL(&SKELSRC..CSI) -
                 VOLUMES(&VOLID) -
                ) -
         DATA( -
                 NAME(&SKELDEST..CSI.DATA) -
                 CYLINDERS(25 5) -
                ) -
         INDEX( -
                 NAME(&SKELDEST..CSI.INDEX) -
                 TRACKS(10 2) -
                )
/*
//***********************************************************
//*      INITIALIZE THE TARGET ZONE ON THE NEW VOLUME       *
//***********************************************************
//ZPOOL   EXEC PGM=IDCAMS,COND=(0,NE,DEFCSI)
//TZONE    DD  DSN=&SKELDEST..CSI,DISP=OLD
//ZPOOL    DD  DSN=SYS1.MACLIB(GIMZPOOL),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  REPRO INFILE(ZPOOL) OUTFILE(TZONE)
/*
//***********************************************************
//*  ADD AN ENTRY TO THE GZONE ZONEINDEX                    *
//***********************************************************
//ZONEADD EXEC PGM=GIMSMP,COND=(0,NE,DEFCSI)
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=OLD
//SMPCNTL  DD  *
  SET BDY(GLOBAL) .
    UCLIN.
      ADD GLOBALZONE
          ZONEINDEX((&DESTZNE,&SKELDEST..CSI,TARGET))
      .
    ENDUCL.
  RESETRC.
/*
//***********************************************************
//*  ZONECOPY TO THE NEW VOLUME TARGET ZONE                 *
//***********************************************************
//ZONECPY EXEC PGM=GIMSMP,COND=(0,NE,DEFCSI)
//SMPCSI   DD  DSN=XDBS.OMEGGLB.CSI,DISP=SHR
//SMPLOG   DD  DSN=XDBS.OMEGGLB.SMPLOG,DISP=MOD
//SMPOUT   DD  SYSOUT=*
//SMPRPT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SMPCNTL  DD  *
  SET BDY(&DESTZNE) .
    ZONECOPY (&SRCZNE) INTO(&DESTZNE) .
    UCLIN .
      REP TZONE(&DESTZNE)
        RELATED(DBSD) .
    ENDUCL  .
    ZONEEDIT DDDEF.
      CHANGE DATASET(&SKELSRC..*,&SKELDEST..*) .
    ENDZONEEDIT.
/*
//***********************************************************
//*  DFDSS CLONE THE TARGET DATASETS                        *
//***********************************************************
//COPYDSN EXEC PGM=ADRDSSU,
//             PARM='',COND=(0,NE,DEFCSI)
//SYSPRINT DD  SYSOUT=*
//VOLDD    DD  UNIT=SYSALLDA,VOL=SER=&VOLID,DISP=SHR
//SYSIN    DD  *
 COPY -
    OUTDDNAME(VOLDD) -
    DATASET(INCLUDE(     -
)DOT TABLEMIG
)SEL &SRCFLAG = Y
     &SKELSRC..&SUFFIX&SUFFIX2
)ENDSEL
)ENDDOT
           ) -
    ) -
    RENAMEUNC( -
)DOT TABLEMIG
)SEL &SRCFLAG = Y
    (&SKELSRC..&SUFFIX,&SKELDEST..&SUFFIX)&SUFFIX2
)ENDSEL
)ENDDOT
    ) -
    TOLERATE(ENQFAILURE) -
    ALLDATA(*) ALLEXCP -
    CATALOG
/*
//************************************************************
//* UPDATE LEVEL TRACKING BOARD TO REFLECT ZONE COPY         *
//************************************************************
//LUPDZCPY EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('BATCH %OMGLVTRK PARMA(UPD) PARMB(&SRCZNE)',
//             'PARMC(&DESTZNE) PARMD(DONTCARE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
//***********************************************************
//*      DOCUMENT MIGRATION                                 *
//***********************************************************
//DOCMIGR EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=8192K,TIME=1200,
//             PARM=('%BATCH OMGCLNE PARMA(&SRCZNE) PARMB(&DESTZNE)')
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.CLIST
//ISPLIST  DD  SYSOUT=*,DCB=(RECFM=FBA,BLKSIZE=1210,LRECL=121)
//ISPLOG   DD  SYSOUT=*,DCB=(RECFM=VA,BLKSIZE=129,LRECL=125)
//ISPPROF  DD  DISP=(NEW,DELETE,DELETE),DSN=&&PROFILE,
//             UNIT=SYSALLDA,SPACE=(TRK,(1,1,5)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//ISPLLIB  DD  DISP=SHR,DSN=ISR.ISRLOAD
//         DD  DISP=SHR,DSN=ISP.ISPLOAD
//ISPPLIB  DD  DISP=SHR,DSN=ISR.ISRPENU
//         DD  DISP=SHR,DSN=ISP.ISPPENU
//ISPMLIB  DD  DISP=SHR,DSN=ISR.ISRMENU
//         DD  DISP=SHR,DSN=ISP.ISPMENU
//ISPSLIB  DD  DISP=SHR,DSN=ISR.ISRSENU
//         DD  DISP=SHR,DSN=ISP.ISPSLIB
//ISPTLIB  DD  DISP=SHR,DSN=ISR.ISRTLIB
//         DD  DISP=SHR,DSN=ISP.ISPTENU
)SEL &SKELE = OMGDSLST
//***********************************************************
//*  MAINTENANCE NOTIFICATION                               *
//***********************************************************
//MAINTMSG EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             COND=(4,LT),
//             PARM='%ADDMSGMT M-OMEG-&LV &DESTZNE'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
)ENDSEL
)SEL &ENVRMENT = YES AND &SKELE = OMGDSLST
//*
//CPYUSR1 EXEC PGM=IEBCOPY
//SYSPRINT DD  SYSOUT=*
//SYSUT3   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT4   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT1   DD  DISP=SHR,DSN=&IEBSUT1..PROFSAVE
//SYSUT2   DD  DISP=SHR,DSN=&SKELDEST..PROFSAVE
//SYSIN    DD  *
  COPY INDD=((SYSUT1,R)),OUTDD=SYSUT2
/*
//*
//CPYUSR2 EXEC PGM=IEBCOPY
//SYSPRINT DD  SYSOUT=*
//SYSUT3   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT4   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT1   DD  DISP=SHR,DSN=&IEBSUT1..PROCSAVE
//SYSUT2   DD  DISP=SHR,DSN=&SKELDEST..PROCSAVE
//SYSIN    DD  *
  COPY INDD=((SYSUT1,R)),OUTDD=SYSUT2
/*
//*
//CPYUSR3 EXEC PGM=IEBCOPY
//SYSPRINT DD  SYSOUT=*
//SYSUT3   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT4   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT1   DD  DISP=SHR,DSN=&IEBSUT1..RO2JCL
//SYSUT2   DD  DISP=SHR,DSN=&SKELDEST..RO2JCL
//SYSIN    DD  *
  COPY INDD=((SYSUT1,R)),OUTDD=SYSUT2
/*
//*
//CPYUSR4 EXEC PGM=IEBCOPY
//SYSPRINT DD  SYSOUT=*
//SYSUT3   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT4   DD  UNIT=VIO,SPACE=(CYL,(01,01))
//SYSUT1   DD  DISP=SHR,DSN=&IEBSUT1..RO2PARM
//SYSUT2   DD  DISP=SHR,DSN=&SKELDEST..RO2PARM
//SYSIN    DD  *
  COPY INDD=((SYSUT1,R)),OUTDD=SYSUT2
/*
//*
//$$$COIB EXEC PGM=IEBCOPY,COND=(4,LT)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
  COPY INDD=((INPT01,R)),OUTDD=OTPT01
    SELECT MEMBER=(($$$COIBM,,R))
  COPY INDD=((INPT01,R)),OUTDD=OTPT02
    SELECT MEMBER=(($$$COIBM,,R))
/*
//INPT01   DD  DISP=SHR,DSN=XDBS.&ACTZNE..CNTL
//OTPT01   DD  DISP=OLD,DSN=&SKELDEST..RO2JCL
//OTPT02   DD  DISP=OLD,DSN=&SKELDEST..TO2CLIST
//SYSUT3   DD  UNIT=SYSALLDA,SPACE=(TRK,(1,5))
//SYSUT4   DD  UNIT=SYSALLDA,SPACE=(TRK,(1,5))
//*
//IPOUPDT EXEC PGM=IPOUPDTE,PARM='UPDATE',REGION=4096K
//STEPLIB  DD  DISP=SHR,DSN=XDBS.DB2GRP.LOADLIB
//SYSPRINT DD  SYSOUT=*
//@DD01    DD  DISP=SHR,DSN=&SKELDEST..RO2JCL
//@DD02    DD  DISP=SHR,DSN=&SKELDEST..TO2CLIST
//SYSIN    DD  *
&IEBSUT1.<&SKELDEST.<<
XDBS.TOMGDB2.TARGET<&SKELDEST.<<
/*
)ENDSEL
//
./ ADD NAME=PRTGENER 0100-92157-92157-1638-00022-00022-00000-DMV0016
&JA
&JB
&JC
&JD
//*
//* LIB: SKELS(PRTGENER)
//* GDE: KENNETH E. TOMIAK
//* DOC: THIS SKELETON GENERS THE SELECTED DATASET TO SYSOUT.
//*
//S01#01  EXEC PGM=IEBGENER,REGION=512K,TIME=600
)SEL &OUTDEF NE &Z
//OUTDEF OUTPUT &PAGESTR.&FONTSTR.&FORMSTR
)ENDSEL
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DISP=SHR,DSN=&DATASETG
//SYSUT2   DD  SYSOUT=&SYSOUT,DEST=&DEST,COPIES=&CPY,
)SEL &OUTDEF NE &Z
//             OUTPUT=(*.OUTDEF),
)ENDSEL
//             DCB=(RECFM=&RECFM,BLKSIZE=&BLKSIZE,LRECL=&LRECL)
//SYSIN    DD  DUMMY
//
./ ADD NAME=PTFAPCK  0102-91240-93089-1714-00023-00023-00000-KETCSC
//&ZUSER.A JOB (A006,SYTM),'10DB2GRP: &SYSMOD',
//            MSGCLASS=V,CLASS=J,
//            NOTIFY=&ZUSER
//*
//MYPROCS JCLLIB ORDER=(XDBS.INSTALL.CNTL)
//*
//* LIB: XDBS.TSOISPF.SKELS(PTFAPCK)
//* GDE: SMP/E REFERENCE
//* DOC: THIS JOB DOES AN APPLY CHECK.
//*
//S01#01  EXEC PROC=SMPPROC
//SMPCNTL  DD  *
 SET BDY(&ZONE) .
   APPLY
     CHECK
     S(
       &SYSMOD
      )
     GROUPEXTEND
     BYPASS(HOLDSYSTEM(ACTION,DEP,DOC))
   .
/*
//
./ ADD NAME=PTFF1    0109-91074-93098-1150-00083-00098-00000-KETCSC
&WA
//             USER=&CSCSUSER,PASSWORD=&CSCSPSWD,
&WB
&WC
&WD
&WE
//*
//* LIB: SKELS(PTFF1)
//* GDE: KENNETH E. TOMIAK
//* DOC: INVOKE SERVICE TO RECEIVE PTF FROM IESERV.
//*
//*------------------------------------------------------------------
//*                    RETRIEVE DATA FROM IE MAILBOX
//*------------------------------------------------------------------
//*
//S01#04  EXEC PGM=TPMAIN,
//*            PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//             PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//STEPLIB  DD  DISP=SHR,DSN=EXPEDITE.MVS.R30.LOADLIB
//         DD  DSN=PLI.V2R2M0.PLILINK,DISP=SHR
//         DD  DSN=PLI.V2R2M0.SIBMLINK,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//OUTFILE  DD  SYSOUT=*
)SEL &TYPE = P
//PDSOUT   DD  DISP=SHR,DSN=&DSN(MLST&USRCLS)
)ENDSEL
)SEL &TYPE = S
//SEQOUT   DD  DISP=SHR,DSN=&DSN
)ENDSEL
//INFILE   DD  *
CSS&RECA
CRF&RECB
)SEL &TYPE = P
CRFC DPDSOUT
)ENDSEL
)SEL &TYPE = S
CRFC DSEQOUT
)ENDSEL
CSE
/*
//ISCTRACE DD  DUMMY
//ISCMSGS  DD  DUMMY
//PLIDUMP  DD  DUMMY
//*
//*-------------------------------------------------------------------*
//*                    RETRIEVE PTF  FROM IE MAILBOX                  *
//*-------------------------------------------------------------------*
//*
//S02#04  EXEC PGM=TPMAIN,
//*            PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//             PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//STEPLIB  DD  DISP=SHR,DSN=EXPEDITE.MVS.R30.LOADLIB
//         DD  DSN=PLI.V2R2M0.PLILINK,DISP=SHR
//         DD  DSN=PLI.V2R2M0.SIBMLINK,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//OUTFILE  DD  SYSOUT=*
//TERSED   DD  DISP=(NEW,CATLG,DELETE),
//             DCB=(RECFM=FB,BLKSIZE=7168,LRECL=1024),
//             UNIT=SYSALLDA,SPACE=(TRK,(10,20),RLSE),
//             DSN=&DSN..TERSED.MPTF&USRCLS
//INFILE   DD  *
CSS&RECA
CRF&RECC
CRFC DTERSED
CSE
/*
//ISCTRACE DD  DUMMY
//ISCMSGS  DD  DUMMY
//PLIDUMP  DD  DUMMY
//*
//S03#04  EXEC PGM=TRSUNPCK,COND=(0,NE),
//             PARM='UNPACK'
//STEPLIB  DD  DISP=SHR,DSN=EXPEDITE.MVS.R30.LOADLIB
//         DD  DSN=PLI.V2R2M0.PLILINK,DISP=SHR
//         DD  DSN=PLI.V2R2M0.SIBMLINK,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//INFILE   DD  DISP=OLD,DSN=&DSN..TERSED.MPTF&USRCLS
//OUTFILE  DD  DISP=SHR,DSN=&DSN(MPTF&USRCLS)
//*
//S04#04  EXEC PGM=IEFBR14
//INFILE   DD  DISP=(OLD,DELETE,KEEP),
//             DSN=&DSN..TERSED.MPTF&USRCLS
//
./ ADD NAME=PTFF2    0105-91098-93098-1150-00044-00050-00000-KETCSC
&WA
//             USER=&CSCSUSER,PASSWORD=&CSCSPSWD,
&WB
&WC
&WD
&WE
//*
//* LIB: SKELS(PTFF2)
//* GDE: KENNETH E. TOMIAK
//* DOC: INVOKE SERVICE TO RECEIVE PTF FROM IESERV.
//*
//*------------------------------------------------------------------
//*                    RETRIEVE DATA FROM IE MAILBOX
//*------------------------------------------------------------------
//*
//S01#01  EXEC PGM=TPMAIN,
//             PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//*            PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//STEPLIB  DD  DISP=SHR,DSN=EXPEDITE.MVS.R30.LOADLIB
//         DD  DSN=PLI.V2R2M0.PLILINK,DISP=SHR
//         DD  DSN=PLI.V2R2M0.SIBMLINK,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//OUTFILE  DD  SYSOUT=*
)SEL &TYPE = P
//PDSOUT   DD  DISP=SHR,DSN=&DSN(&USRCLS)
)ENDSEL
)SEL &TYPE = S
//SEQOUT   DD  DISP=SHR,DSN=&DSN
)ENDSEL
//INFILE   DD  *
CSS&RECA
CRF&RECB
)SEL &TYPE = P
CRFC DPDSOUT
)ENDSEL
)SEL &TYPE = S
CRFC DSEQOUT
)ENDSEL
CSE
/*
//ISCTRACE DD  DUMMY
//ISCMSGS  DD  DUMMY
//PLIDUMP  DD  DUMMY
//
./ ADD NAME=PTFF3    0103-91178-93098-1150-00083-00104-00000-KETCSC
&WA
//             USER=&CSCSUSER,PASSWORD=&CSCSPSWD,
&WB
&WC
&WD
&WE
//*
//* LIB: SKELS(PTFF1)
//* GDE: KENNETH E. TOMIAK
//* DOC: INVOKE SERVICE TO RECEIVE PTF FROM IESERV.
//*
//*------------------------------------------------------------------
//*                    RETRIEVE DATA FROM IE MAILBOX
//*------------------------------------------------------------------
//*
//S01#04  EXEC PGM=TPMAIN,
//*            PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//             PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//STEPLIB  DD  DISP=SHR,DSN=EXPEDITE.MVS.R30.LOADLIB
//         DD  DSN=PLI.V2R2M0.PLILINK,DISP=SHR
//         DD  DSN=PLI.V2R2M0.SIBMLINK,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//OUTFILE  DD  SYSOUT=*
)SEL &TYPE = P
//PDSOUT   DD  DISP=SHR,DSN=&DSN(ELST&USRCLS)
)ENDSEL
)SEL &TYPE = S
//SEQOUT   DD  DISP=SHR,DSN=&DSN
)ENDSEL
//INFILE   DD  *
CSS&RECA
CRF&RECB
)SEL &TYPE = P
CRFC DPDSOUT
)ENDSEL
)SEL &TYPE = S
CRFC DSEQOUT
)ENDSEL
CSE
/*
//ISCTRACE DD  DUMMY
//ISCMSGS  DD  DUMMY
//PLIDUMP  DD  DUMMY
//*
//*-------------------------------------------------------------------*
//*                    RETRIEVE PTF  FROM IE MAILBOX                  *
//*-------------------------------------------------------------------*
//*
//S02#04  EXEC PGM=TPMAIN,
//*            PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//             PARM='NOSPIE,NOSTAE/,IBM0ATR1,,,,3600'
//STEPLIB  DD  DISP=SHR,DSN=EXPEDITE.MVS.R30.LOADLIB
//         DD  DSN=PLI.V2R2M0.PLILINK,DISP=SHR
//         DD  DSN=PLI.V2R2M0.SIBMLINK,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//OUTFILE  DD  SYSOUT=*
//TERSED   DD  DISP=(NEW,CATLG,DELETE),
//             DCB=(RECFM=FB,BLKSIZE=7168,LRECL=1024),
//             UNIT=SYSALLDA,SPACE=(TRK,(10,20),RLSE),
//             DSN=&DSN..TERSED.EPTF&USRCLS
//INFILE   DD  *
CSS&RECA
CRF&RECC
CRFC DTERSED
CSE
/*
//ISCTRACE DD  DUMMY
//ISCMSGS  DD  DUMMY
//PLIDUMP  DD  DUMMY
//*
//S03#04  EXEC PGM=TRSUNPCK,COND=(0,NE),
//             PARM='UNPACK'
//STEPLIB  DD  DISP=SHR,DSN=EXPEDITE.MVS.R30.LOADLIB
//         DD  DSN=PLI.V2R2M0.PLILINK,DISP=SHR
//         DD  DSN=PLI.V2R2M0.SIBMLINK,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//INFILE   DD  DISP=OLD,DSN=&DSN..TERSED.EPTF&USRCLS
//OUTFILE  DD  DISP=SHR,DSN=&DSN(EPTF&USRCLS)
//*
//S04#04  EXEC PGM=IEFBR14,COND=(0,NE,S03#04)
//INFILE   DD  DISP=(OLD,DELETE,KEEP),
//             DSN=&DSN..TERSED.EPTF&USRCLS
//
./ ADD NAME=PTFR1    0102-91074-92048-0847-00042-00047-00000-DMV0016
&PA
&PB
&PC
&PD
&PE
//*
//* LIB: SKELS(PTFR1)
//* GDE: KENNETH E. TOMIAK
//* DOC: THIS JOB RECEIVES MAINTENANCE FROM THE IESERV DATA SET.
//*
//S01#01  EXEC PGM=GIMSMP,COND=(0,LT),
//             REGION=8192K,TIME=1200
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=SHR
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPLIST  DD  SYSOUT=*             LIST COMMAND REPORT
//SYSPRINT DD  SYSOUT=*             UTILITY OUTPUT REPORTS
//SYSUT1   DD  UNIT=SYSALLDA,SPACE=(6160,(194,388))
//SYSUT2   DD  UNIT=SYSALLDA,SPACE=(6160,(194,388))
//SYSUT3   DD  UNIT=SYSALLDA,SPACE=(6160,(194,388))
//SYSUT4   DD  UNIT=SYSALLDA,SPACE=(6160,(7,7)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)
//SMPWRK1  DD  UNIT=SYSALLDA,SPACE=(6160,(186,194,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)
//SMPWRK2  DD  UNIT=SYSALLDA,SPACE=(6160,(186,194,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)
//SMPWRK3  DD  UNIT=SYSALLDA,SPACE=(3120,(384,380,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120)
//SMPWRK4  DD  UNIT=SYSALLDA,SPACE=(3120,(384,380,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120)
//SMPWRK6  DD  UNIT=SYSALLDA,SPACE=(6144,(183,380,195)),
//             DCB=(RECFM=U,BLKSIZE=6144)
//SMPPTFIN DD  DISP=SHR,DSN=&DOFDSN(MPTF&USRCLS)
//SMPHOLD  DD  DUMMY
//SMPCNTL  DD  *
  SET      BOUNDARY (GLOBAL) .
    RECEIVE
      SOURCEID(IESERV)
      LIST
    .
/*
//
./ ADD NAME=PTFR2    0102-91115-92048-0850-00042-00047-00000-DMV0016
&PA
&PB
&PC
&PD
&PE
//*
//* LIB: SKELS(PTFR2)
//* GDE: KENNETH E. TOMIAK
//* DOC: THIS JOB RECEIVES MAINTENANCE FROM THE IESERV DATA SET.
//*
//S01#01  EXEC PGM=GIMSMP,COND=(0,LT),
//             REGION=8192K,TIME=1200
//SMPCSI   DD  DSN=DBSSMPE.GLOBAL.CSI,DISP=SHR
//SMPRPT   DD  SYSOUT=*
//SMPOUT   DD  SYSOUT=*
//SMPLIST  DD  SYSOUT=*             LIST COMMAND REPORT
//SYSPRINT DD  SYSOUT=*             UTILITY OUTPUT REPORTS
//SYSUT1   DD  UNIT=SYSALLDA,SPACE=(6160,(194,388))
//SYSUT2   DD  UNIT=SYSALLDA,SPACE=(6160,(194,388))
//SYSUT3   DD  UNIT=SYSALLDA,SPACE=(6160,(194,388))
//SYSUT4   DD  UNIT=SYSALLDA,SPACE=(6160,(7,7)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)
//SMPWRK1  DD  UNIT=SYSALLDA,SPACE=(6160,(186,194,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)
//SMPWRK2  DD  UNIT=SYSALLDA,SPACE=(6160,(186,194,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)
//SMPWRK3  DD  UNIT=SYSALLDA,SPACE=(3120,(384,380,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120)
//SMPWRK4  DD  UNIT=SYSALLDA,SPACE=(3120,(384,380,111)),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120)
//SMPWRK6  DD  UNIT=SYSALLDA,SPACE=(6144,(183,380,195)),
//             DCB=(RECFM=U,BLKSIZE=6144)
//SMPPTFIN DD  DISP=SHR,DSN=&DOFDSN(&USRCLS)
//SMPHOLD  DD  DUMMY
//SMPCNTL  DD  *
  SET      BOUNDARY (GLOBAL) .
    RECEIVE
      SOURCEID(IESERV)
      LIST
    .
/*
//
./ ADD NAME=TRCKACTL 0104-94035-94038-1045-00092-00092-00000-KETCSC
.*
.* LIB: SCRIPT(TRACKING)
.* GDE: KEN TOMIAK
.* DOC: THIS MEMBER creates a time tracking report.
.*
.DD FONTDEF  DSN 'XDBS.SCRIPT.IMBEDS(FONTDEF)'
.IM FONTDEF
.bf X0T155DC
.ll 110
.ce 1;.us 1;Period Ending: &WEEKDATE Time Tracking for: DB2 Group
.pf
:rdef ID=rowdt
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='11 8 8 8 8 8 8 8 8  8  8 15'
      ARRANGE='1  2 3 4 5 6 7 8 9 10 11 12'
    .
:rdef ID=rowhd
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='11 8 8 8 8 8 8 8 8  8  8 15'
      ARRANGE='1  2 3 4 5 6 7 8 9 10 11 12'
    .
:rdef ID=rowft
      HP='1'
      ALIGN='center'
      CONCAT=yes
      VALIGN='top'
      ROTATE='0'
      CWIDTHS='106'
      ARRANGE='1'
    .
:TABLE ID=time   REFID=rowdt
       SPLIT=yes
       ROTATE=0
       PAGE
       width=106
    .
:thd REFID=rowhd.
:c.Project:ec.
:c.&USERN1.:ec.
:c.&USERN2.:ec.
:c.&USERN3.:ec.
:c.&USERN4.:ec.
:c.&USERN5.:ec.
:c.&USERN6.:ec.
:c.&USERN7.:ec.
:c.&USERN8.:ec.
:c.&USERN9.:ec.
:c.&USERN10.:c.Total:ec.
:ethd.
:TFT REFID=rowft.
:c.Summary for projects by individual.
:etft.
.*
)DOT &TBL
:ROW REFID=rowdt.
:c.&PROJID.:ec.
:c.&USER1.:ec.
:c.&USER2.:ec.
:c.&USER3.:ec.
:c.&USER4.:ec.
:c.&USER5.:ec.
:c.&USER6.:ec.
:c.&USER7.:ec.
:c.&USER8.:ec.
:c.&USER9.:ec.
:c.&USER10.:ec.
:c.&PROJTOT.:ec.
.*
)ENDDOT
:ROW REFID=rowhd.
:c.Totals:ec.
:c.&USERT1.:ec.
:c.&USERT2.:ec.
:c.&USERT3.:ec.
:c.&USERT4.:ec.
:c.&USERT5.:ec.
:c.&USERT6.:ec.
:c.&USERT7.:ec.
:c.&USERT8.:ec.
:c.&USERT9.:ec.
:c.&USERT10.:ec.
:c.&TTOTAL.:ec.
:erow.
:etable.
./ ADD NAME=TRCKD00  0104-94035-94038-0956-00037-00037-00000-KETCSC
//&ZUSER.T JOB (A006,SYTM),'10DB2GRP: &ZUSER',
//             MSGCLASS=7,MSGLEVEL=(1,1),
//             CLASS=S,REGION=4096K,
//             NOTIFY=&ZUSER
//*
//SCRIPTIT EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=SCRIPT.DCFLOAD,DISP=SHR
//SYSPRINT  DD  SYSOUT=*
//SYSTSPRT  DD  SYSOUT=*
//SYSTSIN   DD  *
   SCRIPT '&TBLDSN' +
     PROFILE('SCRIPT.MACLIB(DSMPROF4)') +
     LIB('SCRIPT.MACLIB') +
     FONTLIB('SYS1.FONTLIBB') +
     SEGLIB('SYS1.PSEGLIB') +
     FILE('&ZUSER..SCRIPT.LIST') +
     SYSVAR(X NO) +
     DEVICE(PG1A90)
/*
//*
//GENSTEP EXEC PGM=IEBGENER,COND=(0,NE,SCRIPTIT)
//OUTDD OUTPUT FORMDEF=A10111,DEST=CSCBATCH.P43CSG31,
//             PAGEDEF=D08462,
//             BURST=YES,
//             CKPTPAGE=5,
//             PIMSG=Y,OUTDISP=WRITE,
//             COPIES=1
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DSN=&ZUSER..SCRIPT.LIST,DISP=SHR
//SYSUT2   DD  SYSOUT=X,
//             OUTPUT=(*.OUTDD)
//SYSIN    DD  DUMMY
//*
//DELETE  EXEC PGM=IEFBR14
//DEL1     DD  DSN=&ZUSER..SCRIPT.LIST,DISP=(OLD,DELETE,DELETE)
//DEL2     DD  DSN=&TBLDSN,DISP=(OLD,DELETE,DELETE)
//*
./ ADD NAME=TRCKSCRL 0103-93200-94038-1045-00069-00069-00000-KETCSC
.*
.* LIB: SCRIPT(TRACKING)
.* GDE: KEN TOMIAK
.* DOC: THIS MEMBER creates a time tracking report.
.*
.DD FONTDEF  DSN 'XDBS.SCRIPT.IMBEDS(FONTDEF)'
.IM FONTDEF
.ll 110
.ce 1;.us 1;Period Ending: &WEEKEND  Time Tracking for: &PGMR
:rdef ID=rowdt
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='11 9  6 6 6 6 6 6  6  7  5 48'
      ARRANGE='1 2  3 4 5 6 7 8 9 10 11 12'
    .
:rdef ID=rowhd
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='11 9  6 6 6 6 6 6  6  7  5 48'
      ARRANGE='1 2  3 4 5 6 7 8 9 10 11 12'
    .
:rdef ID=rowft
      HP='1'
      ALIGN='center'
      CONCAT=yes
      VALIGN='top'
      ROTATE='0'
      CWIDTHS='122'
      ARRANGE='1'
    .
:TABLE ID=time   REFID=rowdt
       SPLIT=yes
       ROTATE=0
       PAGE
       width=122
    .
:thd REFID=rowhd.
:c.Major:c.Minor:ec.
:c.Fri:c.Sat:c.Sun:c.Mon:c.Tue:c.Wed:c.Thu:c.Total:c.X:ec.
:c.Description:ec.
:ethd.
:TFT REFID=rowft.
:c.Daily totals do not have to equal 7 hours. Mark "X" column
when task is 100% complete.
 For PROBLEMS enter problem number in description.
 For CHANGES enter CHREQ number in description.
:etft.
.*
)DOT &TBL
:ROW REFID=rowdt.
:c.&CDMAJ.:c.&CDMIN.:ec.
:c.&DAY1.:c.&DAY2.:c.&DAY3.:c.&DAY4.:c.&DAY5.:c.&DAY6.:c.&DAY7.:ec.
:c.&TOT.:c.&X.:ec.
:c.&DESC.:ec.
.*
)ENDDOT
:ROW REFID=rowhd.
:c.Totals:c. :ec.
:c.&TDAY1.:c.&TDAY2.:c.&TDAY3.:ec.
:c.&TDAY4.:c.&TDAY5.:c.&TDAY6.:c.&TDAY7.:ec.
:c.&TTOT.:c.:ec.
:erow.
:etable.
./ ADD NAME=TRCKSCRP 0111-92073-94038-1045-00069-00067-00000-KETCSC
.*
.* LIB: SCRIPT(TRACKING)
.* GDE: KEN TOMIAK
.* DOC: THIS MEMBER creates a time tracking report.
.*
.DD FONTDEF  DSN 'XDBS.SCRIPT.IMBEDS(FONTDEF)'
.IM FONTDEF
.bf X0T155DC
.ll 110
.ce 1;.us 1;Period Ending: &WEEKDATE Time Tracking for: &PGMR
.pf
:rdef ID=rowdt
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='11 9 48 6 6 6 6 6 6  6  7  5'
      ARRANGE='1 2  3 4 5 6 7 8 9 10 11 12'
    .
:rdef ID=rowhd
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='11 9 48 6 6 6 6 6 6  6  7  5'
      ARRANGE='1 2  3 4 5 6 7 8 9 10 11 12'
    .
:rdef ID=rowft
      HP='1'
      ALIGN='center'
      CONCAT=yes
      VALIGN='top'
      ROTATE='0'
      CWIDTHS='122'
      ARRANGE='1'
    .
:TABLE ID=time   REFID=rowdt
       SPLIT=yes
       ROTATE=0
       PAGE
       width=122
    .
:thd REFID=rowhd.
:c.Major:c.Minor:c.Description:ec.
:c.Fri:c.Sat:c.Sun:c.Mon:c.Tue:c.Wed:c.Thu:c.Total:c.X:ec.
:ethd.
:TFT REFID=rowft.
:c.Daily totals do not have to equal 7 hours. Mark "X" column
when task is 100% complete.
 For PROBLEMS enter problem number in description.
 For CHANGES enter CHREQ number in description.
:etft.
.*
)DOT &TBL
:ROW REFID=rowdt.
:c.&CDMAJ.:c.&CDMIN.:c.&DESC.:ec.
:c.&DAY1.:c.&DAY2.:c.&DAY3.:c.&DAY4.:c.&DAY5.:c.&DAY6.:c.&DAY7.:ec.
:c.&TOT.:c.&X.:ec.
.*
)ENDDOT
:ROW REFID=rowhd.
:c.9999:c.9999:c.Totals:ec.
:c.&TDAY1.:c.&TDAY2.:c.&TDAY3.:ec.
:c.&TDAY4.:c.&TDAY5.:c.&TDAY6.:c.&TDAY7.:ec.
:c.&TTOT.:c.:ec.
:erow.
:etable.
./ ADD NAME=TRCK300  0120-92073-94038-0956-00037-00035-00000-KETCSC
//&ZUSER.T JOB (A006,SYTM),'10DB2GRP: &ZUSER',
//             MSGCLASS=7,MSGLEVEL=(1,1),
//             CLASS=S,REGION=4096K,
//             NOTIFY=&ZUSER
//*
//SCRIPTIT EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=SCRIPT.DCFLOAD,DISP=SHR
//SYSPRINT  DD  SYSOUT=*
//SYSTSPRT  DD  SYSOUT=*
//SYSTSIN   DD  *
   SCRIPT '&ZUSER..TRCK300.&TBL' +
     PROFILE('SCRIPT.MACLIB(DSMPROF4)') +
     LIB('SCRIPT.MACLIB') +
     FONTLIB('SYS1.FONTLIBB') +
     SEGLIB('SYS1.PSEGLIB') +
     FILE('&ZUSER..SCRIPT.LIST') +
     SYSVAR(X NO) +
     DEVICE(PG1A90)
/*
//*
//GENSTEP EXEC PGM=IEBGENER,COND=(0,NE,SCRIPTIT)
//OUTDD OUTPUT FORMDEF=A10111,DEST=CSCBATCH.P43CSG31,
//             PAGEDEF=D08462,
//             BURST=YES,
//             CKPTPAGE=5,
//             PIMSG=Y,OUTDISP=WRITE,
//             COPIES=1
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DSN=&ZUSER..SCRIPT.LIST,DISP=SHR
//SYSUT2   DD  SYSOUT=X,
//             OUTPUT=(*.OUTDD)
//SYSIN    DD  DUMMY
//*
//DELETE  EXEC PGM=IEFBR14
//DEL1     DD  DSN=&ZUSER..SCRIPT.LIST,DISP=(OLD,DELETE,DELETE)
//DEL2     DD  DSN=&ZUSER..TRCK300.&TBL,DISP=(OLD,DELETE,DELETE)
//*
./ ADD NAME=TRCK301  0110-92215-94038-0957-00037-00037-00000-KETCSC
//KETCSCT  JOB (A006,SYTM),'10DB2KET: &ZUSER',
//             MSGCLASS=7,MSGLEVEL=(1,1),
//             CLASS=S,REGION=4096K,
//             NOTIFY=KETCSC
//*
//SCRIPTIT EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=SCRIPT.DCFLOAD,DISP=SHR
//SYSPRINT  DD  SYSOUT=*
//SYSTSPRT  DD  SYSOUT=*
//SYSTSIN   DD  *
   SCRIPT '&ZUSER..TRCK301.&TBL' +
     PROFILE('SCRIPT.MACLIB(DSMPROF4)') +
     LIB('SCRIPT.MACLIB') +
     FONTLIB('SYS1.FONTLIBB') +
     SEGLIB('SYS1.PSEGLIB') +
     FILE('&ZUSER..SCRIPT.LIST') +
     SYSVAR(X NO) +
     DEVICE(PG1A90)
/*
//*
//GENSTEP EXEC PGM=IEBGENER,COND=(0,NE,SCRIPTIT)
//OUTDD OUTPUT FORMDEF=A10111,DEST=CSCBATCH.P43CSG31,
//             PAGEDEF=D08462,
//             BURST=YES,
//             CKPTPAGE=5,
//             PIMSG=Y,OUTDISP=WRITE,
//             COPIES=1
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DSN=&ZUSER..SCRIPT.LIST,DISP=SHR
//SYSUT2   DD  SYSOUT=X,
//             OUTPUT=(*.OUTDD)
//SYSIN    DD  DUMMY
//*
//DELETE  EXEC PGM=IEFBR14
//DEL1     DD  DSN=&ZUSER..SCRIPT.LIST,DISP=(OLD,DELETE,DELETE)
//DEL2     DD  DSN=&ZUSER..TRCK301.&TBL,DISP=(OLD,DELETE,DELETE)
//*
./ ADD NAME=TRCK400  0126-92085-93246-1314-00027-00014-00000-KETCSC
//&ZUSER.T JOB (A006,SYTM),'10DB2&INIT.: &ZUSER',
//             MSGCLASS=&MC,MSGLEVEL=(0,0),
//             CLASS=S,REGION=4096K
//*
/*ROUTE PRINT CSCVM.KETCSC
//*
//S01#01  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             PARM='%VMMSG CSCVM.KETCSC'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//SYSIN    DD  *,DCB=LRECL=80
From: &PGMR
Subject: Week Ending &WEMM./&WEDD./&WEYY

It is ready.

)DOT &TBL
&CDMAJ &CDMIN &DESC
              &DAY1  &DAY2  &DAY3  &DAY4  &DAY5  &DAY6  &DAY7  &TOT  &X
)ENDDOT
/*
//VMMSG    DD  DISP=(NEW,PASS,DELETE),DSN=&&TEMP,
//             UNIT=SYSDA,SPACE=(TRK,(1,1)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//
./ ADD NAME=TRCK600  0103-92092-93041-1009-00020-00015-00000-DD20008
//&ZUSER.T JOB (A006,SYTM),'10DB2GRP: &ZUSER',
//             MSGCLASS=&MC,MSGLEVEL=(0,0),
//             CLASS=S,REGION=4096K
//*
//S01#01  EXEC PGM=IKJEFT01,DYNAMNBR=35,
//             REGION=4096K,TIME=1200,
//             PARM='%VMMSG CSCVM.&VMID'
//SYSTSPRT DD  SYSOUT=*
//SYSTSIN  DD  DUMMY
//SYSPROC  DD  DISP=SHR,DSN=XDBS.TSOISPF.EXEC
//SYSIN    DD  *,DCB=LRECL=80
From: Ken Tomiak
Subject: Week Ending &WEMM./&WEDD./&WEYY

Ken EDITed it.
/*
//VMMSG    DD  DISP=(NEW,PASS,DELETE),DSN=&&TEMP,
//             UNIT=SYSDA,SPACE=(TRK,(1,1)),
//             DCB=(RECFM=FB,BLKSIZE=3120,LRECL=80)
//
./ ADD NAME=TRCK700  0112-92164-94038-0957-00037-00037-00000-KETCSC
//&ZUSER.T JOB (A006,SYTM),'10DB2GRP: &ZUSER',
//             MSGCLASS=7,MSGLEVEL=(1,1),
//             CLASS=S,REGION=4096K,
//             NOTIFY=&ZUSER
//*
//SCRIPTIT EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=SCRIPT.DCFLOAD,DISP=SHR
//SYSPRINT  DD  SYSOUT=*
//SYSTSPRT  DD  SYSOUT=*
//SYSTSIN   DD  *
   SCRIPT '&ZUSER..TIME.TRACK.&TBL' +
     PROFILE('SCRIPT.MACLIB(DSMPROF4)') +
     LIB('SCRIPT.MACLIB') +
     FONTLIB('SYS1.FONTLIBB') +
     SEGLIB('SYS1.PSEGLIB') +
     FILE('&ZUSER..SCRIPT.LIST') +
     SYSVAR(X NO) +
     DEVICE(PG1A90)
/*
//*
//GENSTEP EXEC PGM=IEBGENER,COND=(0,NE,SCRIPTIT)
//OUTDD OUTPUT FORMDEF=A10111,DEST=CSCBATCH.P43CSG31,
//             PAGEDEF=D08462,
//             BURST=YES,
//             CKPTPAGE=5,
//             PIMSG=Y,OUTDISP=WRITE,
//             COPIES=1
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DSN=&ZUSER..SCRIPT.LIST,DISP=SHR
//SYSUT2   DD  SYSOUT=X,
//             OUTPUT=(*.OUTDD)
//SYSIN    DD  DUMMY
//*
//DELETE  EXEC PGM=IEFBR14
//DEL1     DD  DSN=&ZUSER..SCRIPT.LIST,DISP=(OLD,DELETE,DELETE)
//DEL2     DD  DSN=&ZUSER..TIME.TRACK.&TBL,DISP=(OLD,DELETE,DELETE)
//*
./ ADD NAME=TRCK710  0107-93200-94038-0957-00037-00037-00000-KETCSC
//&ZUSER.T JOB (A006,SYTM),'10DB2GRP: &ZUSER',
//             MSGCLASS=7,MSGLEVEL=(1,1),
//             CLASS=J,REGION=4096K,
//             NOTIFY=&ZUSER
//*
//SCRIPTIT EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=SCRIPT.DCFLOAD,DISP=SHR
//SYSPRINT  DD  SYSOUT=*
//SYSTSPRT  DD  SYSOUT=*
//SYSTSIN   DD  *
   SCRIPT '&ZUSER..TIME.TRACK.&TBL' +
     PROFILE('SCRIPT.MACLIB(DSMPROF4)') +
     LIB('SCRIPT.MACLIB') +
     FONTLIB('SYS1.FONTLIBB') +
     SEGLIB('SYS1.PSEGLIB') +
     FILE('&ZUSER..SCRIPT.LIST') +
     SYSVAR(X NO) +
     DEVICE(1403W6)
/*
//*
//GENSTEP EXEC PGM=IEBGENER,COND=(0,NE,SCRIPTIT)
//OUTDD OUTPUT FORMDEF=A10111,DEST=CSCVM.KETCSC,
//             PAGEDEF=D08462,
//             BURST=YES,
//             CKPTPAGE=5,
//             PIMSG=Y,OUTDISP=WRITE,
//             COPIES=1
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DSN=&ZUSER..SCRIPT.LIST,DISP=SHR
//SYSUT2   DD  SYSOUT=X,
//             OUTPUT=(*.OUTDD)
//SYSIN    DD  DUMMY
//*
//DELETE  EXEC PGM=IEFBR14
//DEL1     DD  DSN=&ZUSER..SCRIPT.LIST,DISP=(OLD,DELETE,DELETE)
//DEL2     DD  DSN=&ZUSER..TIME.TRACK.&TBL,DISP=(OLD,DELETE,DELETE)
//*
./ ADD NAME=TRCK802  0139-92101-94038-0957-00109-00070-00000-KETCSC
)DEFAULT  )&?!<>
)CM  ) = control recognition character
)CM  & = variable recognition character
)CM  ? =
)CM  ! = tab control
)CM  < =
)CM   = anding
)CM  > =
//&ZUSER.S JOB (A006,SYTM),'10DB2GRP: TRCK802',
//             MSGCLASS=V,MSGLEVEL=(1,1),
//             CLASS=J,REGION=4096K,NOTIFY=&ZUSER
//*
//S01#02  EXEC PGM=IDCAMS,REGION=2048K
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 REPRO INFILE(SYSUT1) OUTFILE(SYSUT2)
/*
//SYSUT1   DD  *
.*
.CM LIB: XDBS.SCRIPT(CDMAJOR)
.CM GDE: DMV0016
.CM DOC: THIS SCRIPT FILE IS THE DOCUMENT FOR
.CM       specific tracking codes.
.*
.DD IMBEDS DSN 'XSYS.MVSESA.IMBEDS(IMBEDS)'
.IM IMBEDS
.fo off
.am .5i
.pm .0i
.ce 1
Time Tracking Major Codes as of &&$SYSDATE
.sp 2
.if &&$LDEV ^= PG1A270 .ty You must use a PG1A270 device
.if &&$LDEV ^= PG1A270 .qq
.CM 08 MEDIUM NORMAL                 GOTHIC REVERSE DCF REL 2 COMPATIBI
.BF X0GT15
.if &&$LDEV = PG1A270 .cd 2 1 75
.if &&$LDEV = PG1A270 .cl 70
:rdef ID=rowxx
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='10 10 6 44'
      ARRANGE='1 2 3 4'
    .
:rdef ID=rowxxB
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='bottom'
      ROTATE='0 0'
      CWIDTHS='10 10 6 44'
      ARRANGE='1 2 3 4'
    .
:TABLE ID=table# REFID=rowxx
       SPLIT=YES
       ROTATE=0
       COLUMN
       width=70
    .
:thd REFID=rowxxB.
:c.Code:c.Target Date:c.Resp:c.Description of task:ec.
:ethd.
)DOT &TBL
:ROW REFID=rowxx.
:c.&CDMAJ.:c.&TGT.:c.&RESP.:ec.
:c.&DESC.:ec.
)ENDDOT
:tcap.Major Codes
:tdesc.Usually a project, sometimes a bucket clarified by the
minor code.
:etable.
/*
//SYSUT2    DD  DISP=OLD,DSN=XDBS.SCRIPT(CDMAJOR)
//*
//SCRIPTIT EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=SCRIPT.DCFLOAD,DISP=SHR
//SYSPRINT  DD  SYSOUT=*
//SYSTSPRT  DD  SYSOUT=*
//SYSTSIN   DD  *
   SCRIPT 'XDBS.SCRIPT(CDMAJOR)' +
     PROFILE('SCRIPT.MACLIB(DSMPROF4)') +
     LIB('SCRIPT.MACLIB') +
     FONTLIB('SYS1.FONTLIBB') +
     SEGLIB('PPFA.USER.PSEGLIB') +
     FILE('XDBS.SCRIPT.LIST') +
     TWOPASS INDEX +
     SYSVAR(X NO H YES) +
     DEVICE(PG1A270)
/*
//*
//GENSTEP EXEC PGM=IEBGENER,COND=(0,NE,SCRIPTIT)
//OUTDD OUTPUT FORMDEF=A10111,DEST=CSCBATCH.P43CSG31,
//             PAGEDEF=D08462,
//             BURST=YES,
//             CKPTPAGE=5,
//             PIMSG=Y,
//             COPIES=1
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DSN=XDBS.SCRIPT.LIST,DISP=SHR
//SYSUT2   DD  SYSOUT=X,FREE=CLOSE,
//             OUTPUT=(*.OUTDD)
//SYSIN    DD  DUMMY
//*
//DELETE  EXEC PGM=IEFBR14
//DEL1     DD  DSN=XDBS.SCRIPT.LIST,DISP=(OLD,DELETE,DELETE)
//*
./ ADD NAME=TRCK902  0110-92101-94038-0957-00108-00070-00000-KETCSC
)DEFAULT  )&?!<>
)CM  ) = control recognition character
)CM  & = variable recognition character
)CM  ? =
)CM  ! = tab control
)CM  < =
)CM   = anding
)CM  > =
//&ZUSER.S JOB (A006,SYTM),'10DB2GRP: TRCK902',
//             MSGCLASS=V,MSGLEVEL=(1,1),
//             CLASS=J,REGION=4096K,NOTIFY=&ZUSER
//*
//S01#02  EXEC PGM=IDCAMS,REGION=2048K
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  *
 REPRO INFILE(SYSUT1) OUTFILE(SYSUT2)
/*
//SYSUT1   DD  *
.*
.CM LIB: XDBS.SCRIPT(CDMINOR)
.CM GDE: DMV0016
.CM DOC: THIS SCRIPT FILE IS THE DOCUMENT FOR
.CM       specific tracking codes.
.*
.DD IMBEDS DSN 'XSYS.MVSESA.IMBEDS(IMBEDS)'
.IM IMBEDS
.fo off
.am .5i
.pm .0i
.ce 1
Time Tracking MINOR Codes as of &&$SYSDATE
.sp 2
.if &&$LDEV ^= PG1A270 .ty You must use a PG1A270 device
.if &&$LDEV ^= PG1A270 .qq
.CM 08 MEDIUM NORMAL                 GOTHIC REVERSE DCF REL 2 COMPATIBI
.BF X0GT15
.if &&$LDEV = PG1A270 .cd 2 1 75
.if &&$LDEV = PG1A270 .cl 70
:rdef ID=rowxx
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='10 60'
      ARRANGE='1 2'
    .
:rdef ID=rowxxB
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='bottom'
      ROTATE='0 0'
      CWIDTHS='10 60'
      ARRANGE='1 2'
    .
:TABLE ID=table# REFID=rowxx
       SPLIT=YES
       ROTATE=0
       COLUMN
       width=70
    .
:thd REFID=rowxxB.
:c.Code:c.Description of task:ec.
:ethd.
)DOT XCDMIN
:ROW REFID=rowxx.
:c.&CDMIN.:ec.
:c.&DESC.:ec.
)ENDDOT
:tcap.MINOR codes
:tdesc.Used for Non-Project work major codes.
:etable.
/*
//SYSUT2    DD  DISP=OLD,DSN=XDBS.SCRIPT(CDMINOR)
//*
//SCRIPTIT EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=SCRIPT.DCFLOAD,DISP=SHR
//SYSPRINT  DD  SYSOUT=*
//SYSTSPRT  DD  SYSOUT=*
//SYSTSIN   DD  *
   SCRIPT 'XDBS.SCRIPT(CDMINOR)' +
     PROFILE('SCRIPT.MACLIB(DSMPROF4)') +
     LIB('SCRIPT.MACLIB') +
     FONTLIB('SYS1.FONTLIBB') +
     SEGLIB('PPFA.USER.PSEGLIB') +
     FILE('XDBS.SCRIPT.LIST') +
     TWOPASS INDEX +
     SYSVAR(X NO H YES) +
     DEVICE(PG1A270)
/*
//*
//GENSTEP EXEC PGM=IEBGENER,COND=(0,NE,SCRIPTIT)
//OUTDD OUTPUT FORMDEF=A10111,DEST=CSCBATCH.P43CSG31,
//             PAGEDEF=D08462,
//             BURST=YES,
//             CKPTPAGE=5,
//             PIMSG=Y,
//             COPIES=1
//SYSPRINT DD  SYSOUT=*
//SYSUT1   DD  DSN=XDBS.SCRIPT.LIST,DISP=SHR
//SYSUT2   DD  SYSOUT=X,FREE=CLOSE,
//             OUTPUT=(*.OUTDD)
//SYSIN    DD  DUMMY
//*
//DELETE  EXEC PGM=IEFBR14
//DEL1     DD  DSN=XDBS.SCRIPT.LIST,DISP=(OLD,DELETE,DELETE)
//*

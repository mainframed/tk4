 /* X1A100:  SPF - OBTAIN JOBCARD INFORMATION FOR SPF APPLICATION USE */
 /* AUTHOR:  JOE VEILLEUX                                             */
 /* HISTORY: 29NOV83-JJV-2.00-ORIGINAL RELEASE                        */
 /*                                                                   */
 /* THIS PROGRAM CALLS THE APCI "ACOUNT" SUBROUTINE TO OBTAIN THE     */
 /* TSO SESSION'S ACCOUNTING INFORMATION. THAT INFORMATION IS THEN    */
 /* PUT INTO SPF VARIABLES CORRESPONDING TO SKELETON "APCIJOBC".      */
0X1A100: PROC OPTIONS(MAIN);
 /* DECLARE PL/1 RUNTIME OPTIONS, SUBROUTINES, AND PL/1 FUNCTIONS     */
 DCL PLIXOPT CHAR(80) VAR EXTERNAL /* PL/1 RUNTIME OPTIONS */
     INIT('NOREPORT,ISASIZE(10K)');
 DCL ISPLINK EXTERNAL ENTRY OPTIONS(ASM INTER RETCODE);
 DCL ACOUNT  EXTERNAL ENTRY OPTIONS(ASM INTER);
0/* VARIABLES FOR JOBCARD ACCOUNTING FIELDS                           */
 DCL ACCT   CHAR(4),
     CLOCK  FIXED BIN(15),
     USERID CHAR(8),
     JCCHG  CHAR(10),
     JCNAME CHAR(20),
     JCREQO CHAR(10),
     JCPGM  CHAR(8);
0/* FULLWORD LENGTHS FOR "VDEFINE" */
 DCL (L8 INIT(8), L10 INIT(10), L20 INIT(20)) FIXED BIN(31);
0/* VDEFINE THE VARIABLES TO SHARE WITH SPF                           */
 CALL ISPLINK('VDEFINE','(JCCHG)', JCCHG, 'CHAR',L10);
 CALL ISPLINK('VDEFINE','(JCNAME)',JCNAME,'CHAR',L20);
 CALL ISPLINK('VDEFINE','(JCREQO)',JCREQO,'CHAR',L10);
 CALL ISPLINK('VDEFINE','(JCPGM)', JCPGM, 'CHAR',L8);
0/* MAIN PROGRAM CODE: CALL ACOUNT TO GET ACCOUNTING INFO             */
 CALL ACOUNT(JCCHG,CLOCK,JCNAME,USERID,JCREQO,JCPGM);
 CALL ISPLINK ('VPUT','(JCCHG JCNAME JCREQO JCPGM)','SHARED ');
0/* DONE: CLEAN UP AND EXIT */
 CALL ISPLINK ('VRESET');  /* UN-DEFINE THE VARIABLES */
 END X1A100;

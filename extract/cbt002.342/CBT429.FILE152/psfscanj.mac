//HPZ$J   JOB ,ZBIEGIEN,MSGCLASS=W,CLASS=D
/*JOBPARM ROOM=3426
//* DELETE CHARACTERS FROM A CODE PAGE, 1 OR MORE
//A EXEC SAS@
//CHAR DD DSN=HPZ.SAS.CHARSET,DISP=OLD
//ABC  DD  * PUT NAMES OF CHARACTERS TO DELETE
ABCDEF01
//SYSIN DD *
OPTIONS GEN=0;
DATA ABC;
INFILE ABC;
INPUT CHARID $CHAR8. ;

PROC SORT DATA=ABC;
 BY CHARID;

DATA CHAR.TRANSCHR(KEEP=CHARID CVALID CPRINT CINCR CDPOINT);
MERGE ABC (IN= INABC)
      CHAR.TRANSCHR(IN= INTRANS);
 BY CHARID;
IF INABC AND NOT INTRANS THEN DO;
 PUT 'CHARACTER TO DELETE IS NOT IN THE FILE, CHAR=' CHARID;
 RETURN;
END;
IF INABC AND INTRANS THEN DO;
 PUT 'THIS CHARACTER IS BEING DELETED=' CHARID;
 RETURN;
END;
IF NOT INABC AND INTRANS THEN
 OUTPUT CHAR.TRANSCHR;

DATA CHAR.TRANSHDR(KEEP=CDPOINTS DEFAULTG
                        DVALID DPRINT DINCR VARBSPAC);
SET CHAR.TRANSCHR END=EODAT;
X+1;
IF EODAT THEN DO;
 SET CHAR.TRANSHDR;
 CDPOINTS=X;
 OUTPUT CHAR.TRANSHDR;
END;

PROC PRINT DATA=CHAR.TRANSHDR;
PROC PRINT DATA=CHAR.TRANSCHR;

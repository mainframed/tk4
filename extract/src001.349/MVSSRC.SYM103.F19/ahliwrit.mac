WS01     TITLE 'AHLIWRIT, TRACE WRITER FOR GTF INTERNAL MODE           *
                        '
*                                                                  0001
AHLIWRIT CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(19)                                             0001
         DC    C'AHLIWRITR0300078166'                              0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                     0001
         BALR  @11,0                                               0001
@PSTART  LA    @12,4095(,@11)                                      0001
         USING @PSTART,@11                                         0001
         USING @PSTART+4095,@12                                    0001
         ST    @13,@SA00001+4                                      0001
         LA    @14,@SA00001                                        0001
         ST    @14,8(,@13)                                         0001
         LR    @13,@14                                             0001
*/*A-000000-999999                                           @YA02014*/
*                                                                  0002
*   ;                                                              0002
*                                                                  0002
*/* %DCL WRTRTYPE CHAR;             POSSIBLE VALUES: 'INTERNAL'      */
*                                                                  0003
*                                   /* 'EXT.TAPE'                    */
*                                                                  0003
*   /*****************************************************************/
*   /*                                                               */
*   /* 'EXT.D.A.'                                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0003
*/* %DCL DIAGAIDS CHAR;                THIS IS SET EQUAL TO        0003
*                                      'GENERATE' TO OBTAIN THE    0003
*                                      NONESSENTIAL PIECES OF CODE 0003
*                                      WHICH HAVE BEEN PUT INTO THE
*                                      TRACE WRITER FOR DIAGNOSTIC 0003
*                                      PURPOSES                      */
*/* %DCL FL1CHART CHAR;             THIS IS SET EQUAL TO 'NOFL1LST' TO
*                                   HAVE THE FL1 LISTING           0003
*                                   SUPPRESSED                       */
*/*  %WRTRTYPE='INTERNAL';                                           */
*/*  %DIAGAIDS='GENERATE';                                           */
*/*  %FL1CHART='';                                                   */
*                                                                  0003
*                                                                  0003
*/*AHLWRIT: CHART (AMODE,SEQ)                                        */
*/*AHLWRIT: HEADER                                                 0003
*/*GTF TRACE WRITER AHLIWRIT FOR INTERNAL MODE, AHLCWRIT FOR EXTERNA
*/*L TO TAPE, AND AHLWWRIT FOR EXTERNAL TO D.A.           PAGE   #   */
*/*AHLWRIT: E ATTACHED BY INITIALIZATION R1->MCQE                    */
*                                                                  0003
*                                                                  0003
*/* **************************************************************** */
*/*                                                                  */
*/*            PREFIXED SAVE AREA                                    */
*/*                                                                  */
*/*  OS/VS2 RELEASE 4, 10/17/75, LEVEL=5                             */
*/*                                                                  */
*/*  METHOD OF ACCESS                                                */
*/*      BAL  - DSECT IS PRODUCED UNLESS DSECT=NO IS SPECIFIED.      */
*/*             USING ON PSA GIVES ADDRESSABILITY FOR ALL SYMBOLS.   */
*/*      PL/S - PSA WILL BE BASED(0) FOR PL/S I OR LOCATION(0) FOR   */
*/*             PL/S II UNLESS %PSABASE IS SET TO SOME OTHER VALUE   */
*/*             BEFORE INCLUDE FOR MACRO.                            */
*/*                                                                  */
*/*  NOTE                                                            */
*/*      THE LABELS BEGINNING WITH PSA OR FLC ARE THE PROPER LABELS  */
*/*      TO USE.  THE OTHER LABELS ARE GIVEN AS ALIAS NAMES FOR      */
*/*      COMPATIBILITY WITH LABELS USED FOR SYSTEM 360 LOW CORE.     */
*/*                                                                  */
*/* **************************************************************** */
*                                                                  0003
*   DECLARE                                                        0003
*     1 PSA LOCATION(0) BDY(DWORD),                                0003
*      2 FLCRNPSW CHAR(8) BDY(DWORD),/* RESTART NEW PSW (AFTER IPL)  */
*       3 FLCIPPSW CHAR(8) BDY(DWORD),/* IPL PSW                     */
*      2 FLCROPSW CHAR(8) BDY(DWORD),/* RESTART OLD PSW (AFTER IPL)  */
*       3 FLCICCW1 CHAR(8) BDY(DWORD),/* IPL CCW1                    */
*      2 FLCICCW2 CHAR(8) BDY(DWORD),/* IPL CCW2                     */
*       3 FLCCVT PTR(31),           /* ADDRESS OF CVT (AFTER IPL)    */
*       3 * CHAR(4),                /* RESERVED (AFTER IPL)          */
*      2 FLCEOPSW CHAR(8) BDY(DWORD),/* EXTERNAL OLD PSW             */
*      2 FLCSOPSW CHAR(8) BDY(DWORD),/* SVC OLD PSW                  */
*      2 FLCPOPSW CHAR(8) BDY(DWORD),/* PROGRAM CHECK OLD PSW        */
*      2 FLCMOPSW CHAR(8) BDY(DWORD),/* MACHINE CHECK OLD PSW        */
*      2 FLCIOPSW CHAR(8) BDY(DWORD),/* INPUT/OUTPUT OLD PSW         */
*      2 FLCCSW CHAR(8) BDY(DWORD), /* CHANNEL STATUS WORD           */
*      2 FLCCAW CHAR(4) BDY(WORD),  /* CHANNEL ADDRESS WORD          */
*      2 FLCCVT2 PTR(31),           /* ADDRESS OF CVT - USED BY DUMP
*                                      ROUTINES ICB319               */
*      2 FLCTIMER CHAR(4),          /* TIMER                         */
*      2 FLCTRACE PTR(31),          /* ADDRESS OF TRACE TABLE HEADER */
*      2 FLCENPSW CHAR(8) BDY(DWORD),/* EXTERNAL NEW PSW             */
*      2 FLCSNPSW CHAR(8) BDY(DWORD),/* SVC NEW PSW                  */
*      2 FLCPNPSW CHAR(8) BDY(DWORD),/* PROGRAM CHECK NEW PSW        */
*      2 FLCMNPSW CHAR(8) BDY(DWORD),/* MACHINE CHECK NEW PSW        */
*      2 FLCINPSW CHAR(8) BDY(DWORD),/* INPUT/OUTPUT NEW PSW         */
*      2 * CHAR(4),                 /* RESERVED                      */
*      2 PSAEEPSW CHAR(4) BDY(WORD),/* EXTENDED PSW DATA STORED ON 0003
*                                      EXTERNAL INTERRUPT MDC084     */
*       3 PSASPAD FIXED(15),        /* ISSUING PROCESSOR'S PHYSICAL
*                                      ADDRESS ON EMS OR EXTERNAL  0003
*                                      CALL INTERRUPT MDC046         */
*       3 FLCEICOD FIXED(15),       /* EXTERNAL INTERRUPTION CODE    */
*      2 PSAESPSW CHAR(4) BDY(WORD),/* EXTENDED PSW DATA STORED ON 0003
*                                      SVC INTERRUPT MDC085          */
*       3 * CHAR(1),                /* RESERVED - SET TO ZERO        */
*       3 FLCSVILC PTR(8),          /* SVC INSTRUCTION LENGTH COUNTER
*                                      - NUMBER OF BYTES MDC079      */
*        4 * BIT(5),                /* ALWAYS ZERO                   */
*        4 FLCSILCB BIT(3),         /* SIGNIFICANT BITS IN ILC FIELD
*                                      - LAST BIT IS ALWAYS ZERO   0003
*                                      MDC080                        */
*       3 FLCSVCN FIXED(15),        /* SVC INTERRUPTION CODE - SVC 0003
*                                      NUMBER MDC081                 */
*      2 PSAEPPSW CHAR(8) BDY(WORD),/* EXTENDED PSW FOR PROGRAM    0003
*                                      INTERRUPT MDC086              */
*       3 * CHAR(1),                /* RESERVED - SET TO ZERO        */
*       3 FLCPIILC PTR(8),          /* PROGRAM INSTRUCTION LENGTH  0003
*                                      COUNTER - NUMBER OF BYTES IN
*                                      INSTRUCTION CAUSING PROGRAM 0003
*                                      INTERRUPTION MDC082           */
*        4 * BIT(5),                /* ALWAYS ZERO                   */
*        4 FLCPILCB BIT(3),         /* SIGNIFICANT BITS IN ILC FIELD
*                                      - LAST BIT IS ALWAYS ZERO   0003
*                                      MDC083                        */
*       3 FLCPICOD FIXED(15),       /* PROGRAM INTERRUPTION CODE     */
*        4 PSARV049 CHAR(1),        /* RESERVED FOR IMPRECISE      0003
*                                      INTERRUPTS MDC087             */
*        4 PSAPICOD PTR(8),         /* 8-BIT INTERRUPT CODE MDC088   */
*         5 PSAPIPER BIT(1),        /* PER INTERRUPT OCCURRED MDC089 */
*         5 PSAPIMC BIT(1),         /* MONITOR CALL INTERRUPT      0003
*                                      OCCURRED MDC090               */
*         5 PSAPIPC BIT(6),         /* AN UNSOLICITED PROGRAM CHECK
*                                      HAS OCCURRED IF ANY OF THESE 6
*                                      BITS ARE ON MDC091            */
*       3 FLCTEA PTR(31),           /* TRANSLATION EXCEPTION ADDRESS */
*        4 * CHAR(1),               /* RESERVED - SET TO ZERO        */
*        4 FLCTEAA PTR(24),         /* TRANSLATION EXCEPTION ADDRESS */
*      2 * CHAR(1),                 /* RESERVED - SET TO ZERO        */
*      2 FLCMCNUM PTR(8),           /* MONITOR CLASS NUMBER          */
*      2 FLCPERCD CHAR(1),          /* PROGRAM EVENT RECORDING CODE  */
*      2 * CHAR(1),                 /* RESERVED - SET TO ZERO        */
*      2 FLCPER PTR(31),            /* PER ADDRESS                   */
*       3 * CHAR(1),                /* RESERVED - SET TO ZERO        */
*       3 FLCPERA PTR(24),          /* PER ADDRESS                   */
*      2 * CHAR(1),                 /* RESERVED - SET TO ZERO        */
*      2 FLCMTRCD CHAR(3),          /* MONITOR CODE                  */
*      2 * CHAR(8),                 /* RESERVED                      */
*      2 FLCMCLA CHAR(344) BDY(DWORD),/* MACHINE CHECK LOGOUT AREA   */
*       3 FLCCHNID CHAR(4),         /* CHANNEL ID                    */
*       3 FLCIOEL PTR(31),          /* SAME AS FLCIOELA BELOW        */
*        4 * CHAR(1),               /* RESERVED                      */
*        4 FLCIOELA PTR(24),        /* I/O EXTENDED LOGOUT (IOEL)  0003
*                                      POINTER                       */
*       3 FLCLCL CHAR(4),           /* LIMITED CHANNEL LOGOUT (ECSW) */
*       3 * CHAR(2),                /* RESERVED                      */
*       3 * CHAR(1),                /* RESERVED MDC051               */
*       3 * CHAR(1),                /* RESERVED MDC052               */
*       3 FLCIOA PTR(31),           /* I/O ADDRESS                   */
*        4 * CHAR(1),               /* RESERVED                      */
*        4 FLCIOAA PTR(24),         /* I/O ADDRESS                   */
*       3 * CHAR(44),               /* RESERVED                      */
*       3 FLCMCIC CHAR(8),          /* MACHINE-CHECK INTERRUPTION  0003
*                                      CODE                          */
*       3 * CHAR(8),                /* RESERVED                      */
*       3 FLCFSA PTR(31),           /* FAILING STORAGE ADDRESS       */
*        4 * CHAR(1),               /* ZEROES                        */
*        4 FLCFSAA PTR(24),         /* FAILING STORAGE ADDRESS       */
*       3 FLCRGNCD CHAR(4),         /* REGION CODE                   */
*       3 FLCFLA CHAR(96) BDY(WORD),/* FIXED LOGOUT AREA             */
*       3 FLCFPSAV CHAR(32) BDY(DWORD),/* FLOATING POINT REGISTER  0003
*                                      SAVE AREA                     */
*       3 FLCGRSAV(16) FIXED(31),   /* GENERAL REGISTER SAVE AREA    */
*       3 FLCCRSAV(16) FIXED(31),   /* CONTROL REGISTER SAVE AREA    */
*      2 FLCHDEND CHAR(0) BDY(DWORD),/* END OF HARDWARE ASSIGNMENTS  */
*      2 PSAPSA CHAR(4) BDY(WORD),  /* CONTROL BLOCK ACRONYM IN    0003
*                                      EBCDIC                        */
*      2 PSACPUPA PTR(15),          /* PHYSICAL CPU ADDRESS (CHANGED
*                                      DURING ACR) (MDC130)    YM3489*/
*      2 PSACPULA PTR(15),          /* LOGICAL CPU ADDRESS           */
*      2 PSAPCCAV PTR(31),          /* VIRTUAL ADDRESS OF PCCA       */
*      2 PSAPCCAR PTR(31),          /* REAL ADDRESS OF PCCA          */
*      2 PSALCCAV PTR(31),          /* VIRTUAL ADDRESS OF LCCA       */
*      2 PSALCCAR PTR(31),          /* REAL ADDRESS OF LCCA          */
*      2 PSATNEW PTR(31),           /* TCB NEW POINTER               */
*      2 PSATOLD PTR(31),           /* TCB OLD POINTER               */
*      2 PSAANEW PTR(31),           /* ASCB NEW POINTER              */
*      2 PSAAOLD PTR(31),           /* ASCB OLD POINTER              */
*      2 PSASUPER CHAR(4) BDY(WORD),/* SUPERVISOR CONTROL WORD       */
*       3 PSASUP1 BIT(8),           /* FIRST BYTE OF PSASUPER        */
*        4 PSAIO BIT(1),            /* I/O FLIH                      */
*        4 PSASVC BIT(1),           /* SVC FLIH                      */
*        4 PSAEXT BIT(1),           /* EXTERNAL FLIH                 */
*        4 PSAPI BIT(1),            /* PROGRAM CHECK FLIH            */
*        4 PSALOCK BIT(1),          /* LOCK ROUTINE                  */
*        4 PSADISP BIT(1),          /* DISPATCHER                    */
*        4 PSATCTL BIT(1),          /* TCTL RECOVERY FLAG (MDC310) 0003
*                                                            @Z40FP9A*/
*        4 PSATYPE6 BIT(1),         /* TYPE 6 SVC IN CONTROL (MDC311)
*                                                            @Z40FP9A*/
*       3 PSASUP2 BIT(8),           /* SECOND BYTE OF PSASUPER       */
*        4 PSAIPCRI BIT(1),         /* SIGP - REMOTE IMMEDIATE       */
*        4 PSAGTF BIT(1),           /* GTF GIVEN CONTROL FROM FLIH   */
*        4 PSAIPCEC BIT(1),         /* EXTERNAL CALL SLIH IS ACTIVE
*                                      MDC047                        */
*        4 PSAIPCES BIT(1),         /* EMERGENCY SIGNAL SLIH IS    0003
*                                      ACTIVE MDC048                 */
*        4 PSAIPCE2 BIT(1),         /* EMERGENCY SIGNAL (EMS) SLIH 0003
*                                      RECURSIVE ENTRY FLAG MDC110   */
*        4 PSAACR BIT(1),           /* AUTOMATIC CPU RECONFIGURATION
*                                      (ACR) IN CONTROL MDC119       */
*        4 PSARTM BIT(1),           /* RECOVERY TERMINATION MONITOR
*                                      (RTM) IN CONTROL MDC120       */
*        4 PSALCR BIT(1),           /* LOW CORE REFRESH ROUTINE IS 0003
*                                      ACTIVE MDC126                 */
*       3 PSASUP3 BIT(8),           /* THIRD BYTE OF PSASUPER        */
*        4 PSAIOSUP BIT(1),         /* IF ON, A MAINLINE IOS       0003
*                                      COMPONENT SUCH AS CHANNEL   0003
*                                      SCHEDULER HAS ENTERED A     0003
*                                      PHYSICALLY DISABLED STATE   0003
*                                      WITHOUT REGARD TO LOCKING   0003
*                                      REQUIREMENTS MDC127           */
*        4 PSAPI2 BIT(1),           /* PROGRAM CHECK FLIH RECURSION
*                                      (MDC301)              @ZM08516*/
*        4 PSAPSREG BIT(1),         /* PSA RECOVERY RECURSION      0003
*                                      (MDC302)              @ZM08516*/
*        4 PSASPR BIT(1),           /* SUPER FRR IS ACTIVE (MDC305)
*                                                            @ZA02995*/
*        4 PSAESTA BIT(1),          /* ESTAE RECOVERY ROUTINE ACTIVE
*                                      (MDC312)              @Z40FP9A*/
*        4 PSARV012 BIT(1),         /* RESERVED                      */
*        4 PSARV013 BIT(1),         /* RESERVED                      */
*        4 PSARV014 BIT(1),         /* RESERVED                      */
*       3 PSASUP4 BIT(8),           /* FOURTH BYTE OF PSASUPER       */
*        4 PSARV015 BIT(1),         /* RESERVED                      */
*        4 PSARV016 BIT(1),         /* RESERVED                      */
*        4 PSARV017 BIT(1),         /* RESERVED                      */
*        4 PSARV018 BIT(1),         /* RESERVED                      */
*        4 PSARV019 BIT(1),         /* RESERVED                      */
*        4 PSARV020 BIT(1),         /* RESERVED                      */
*        4 PSARV021 BIT(1),         /* RESERVED                      */
*        4 PSARV022 BIT(1),         /* RESERVED                      */
*      2 PSAGPREG(3) FIXED(31),     /* REGISTER SAVE AREA FOR I/O  0003
*                                      FLIH, SVC FLIH, EXTERNAL FLIH
*                                      AND SYSTEM TRACE              */
*      2 PSARSREG FIXED(31),        /* RESTART FLIH REGISTER SAVE    */
*      2 PSAPIREG FIXED(31),        /* PROGRAM CHECK FLIH REGISTER 0003
*                                      SAVE                          */
*      2 PSAEXPS1 CHAR(8) BDY(DWORD),/* EXTERNAL FLIH PSW SAVE AREA 1*/
*      2 PSAEXPS2 CHAR(8) BDY(DWORD),/* EXTERNAL FLIH PSW SAVE AREA 2*/
*      2 PSAMPSW CHAR(8) BDY(DWORD),/* SETLOCK MODEL PSW             */
*      2 PSAMCHEX CHAR(8) BDY(DWORD),/* MCH EXIT PSW                 */
*      2 PSAIPCR CHAR(4) BDY(WORD), /* IPC INSTRUCTION TO BE EXECUTED*/
*      2 PSAIPCRM CHAR(1),          /* BYTE USED BY ABOVE IPC      0003
*                                      INSTRUCTION                   */
*      2 * CHAR(3),                 /* RESERVED                      */
*      2 PSAIPCD CHAR(4) BDY(WORD), /* IPC INSTRUCTION TO BE EXECUTED*/
*      2 PSAIPCDM CHAR(1),          /* BYTE USED BY ABOVE IPC      0003
*                                      INSTRUCTION                   */
*      2 * CHAR(3),                 /* RESERVED                      */
*      2 PSAIPCSA FIXED(31),        /* IPC REGISTER SAVE AREA MDC049 */
*      2 PSAHLHIS FIXED(31),        /* SAVE AREA FOR PSAHLHI MDC050  */
*      2 PSARECUR CHAR(1),          /* RESTART FLIH RECURSION      0003
*                                      INDICATOR. IF X'00', FLIH NOT
*                                      IN CONTROL. IF X'FF', FLIH IN
*                                      CONTROL, ENTRY IS RECURSIVE 0003
*                                      MDC093                        */
*      2 PSADSSGO PTR(8),           /* INITIALIZE DSS FLAG, SET BY 0003
*                                      OPERATOR. IF X'00', DSS NOT TO
*                                      BE ACTIVATED. IF NOT X'00', 0003
*                                      NEXT RESTART INTERRUPT FROM 0003
*                                      CONSOLE SHOULD INITIALIZE DSS.
*                                      MDC094                        */
*      2 PSARV050 FIXED(15),        /* RESERVED                      */
*      2 PSASRSA PTR(31),           /* REAL ADDRESS OF SAVE AREA USED
*                                      DURING STOP AND RESTART     0003
*                                      SUBROUTINE MDC095             */
*      2 PSACLHT CHAR(56) BDY(WORD),/* CPU LOCKS HELD TABLE.       0003
*                                      INITIALIZED TO ZERO. IF LOCK
*                                      IS HELD, WORD REPRESENTING  0003
*                                      LOCK HAS ITS ADDRESS.         */
*       3 PSADISPL PTR(31),         /* GLOBAL DISPATCHER LOCK        */
*       3 PSAASML PTR(31),          /* AUXILIARY STORAGE MANAGEMENT
*                                      (ASM) LOCK MDC002             */
*       3 PSASALCL PTR(31),         /* SPACE ALLOCATION LOCK MDC003  */
*       3 PSAIOSSL PTR(31),         /* IOS SYNCHRONIZATION LOCK    0003
*                                      MDC010                        */
*       3 PSAIOSCL PTR(31),         /* IOS CHANNEL AVAILABLE TABLE 0003
*                                      LOCK MDC004                   */
*       3 PSAIOSUL PTR(31),         /* IOS UNIT CONTROL BLOCK LOCK 0003
*                                      MDC005                        */
*       3 PSAIOSLL PTR(31),         /* IOS LOGICAL CHANNEL QUEUE LOCK
*                                      MDC006                        */
*       3 PSATPNCL PTR(31),         /* TCAM'S TPNCP LOCK MDC007      */
*       3 PSATPDNL PTR(31),         /* TCAM'S TPDNCB LOCK MDC008     */
*       3 PSATPACL PTR(31),         /* TCAM'S TPACBDEB LOCK MDC009   */
*       3 PSAOPTL PTR(31),          /* OPTIMIZER LOCK                */
*       3 PSACMSL PTR(31),          /* CROSS MEMORY SERVICES LOCK    */
*       3 PSALOCAL PTR(31),         /* LOCAL LOCK                    */
*       3 PSARV023 PTR(31),         /* RESERVED LOCK                 */
*      2 PSALKSA CHAR(64) BDY(WORD),/* SETLOCK REGISTER SAVE AREA    */
*       3 PSALKR0 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 0 */
*       3 PSALKR1 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 1 */
*       3 PSALKR2 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 2 */
*       3 PSALKR3 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 3 */
*       3 PSALKR4 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 4 */
*       3 PSALKR5 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 5 */
*       3 PSALKR6 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 6 */
*       3 PSALKR7 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 7 */
*       3 PSALKR8 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 8 */
*       3 PSALKR9 FIXED(31),        /* SETLOCK'S CALLER'S REGISTER 9 */
*       3 PSALKR10 FIXED(31),       /* SETLOCK'S CALLER'S REGISTER 10*/
*       3 PSALKR11 FIXED(31),       /* SETLOCK'S CALLER'S REGISTER 11*/
*       3 PSALKR12 FIXED(31),       /* SETLOCK'S CALLER'S REGISTER 12*/
*       3 PSALKR13 FIXED(31),       /* SETLOCK'S CALLER'S REGISTER 13*/
*       3 PSALKR14 FIXED(31),       /* SETLOCK'S CALLER'S REGISTER 14*/
*       3 PSALKR15 FIXED(31),       /* SETLOCK'S CALLER'S REGISTER 15*/
*      2 PSAHLHI CHAR(4) BDY(WORD), /* HIGHEST LOCK HELD INDICATOR   */
*       3 PSACLHS BIT(32) BDY(WORD),/* CPU LOCKS HELD STRING MDC122  */
*      2 PSALITA PTR(31),           /* ADDRESS OF LOCK INTERFACE   0003
*                                      TABLE                         */
*      2 PSAPSWSV CHAR(8) BDY(DWORD),/* PSW SAVE AREA FOR DISPATCHER
*                                      AND ACR                       */
*      2 PSACR0 FIXED(31),          /* SAVE AREA FOR CONTROL REGISTER
*                                      0                             */
*      2 PSAMCHFL BIT(8),           /* MCH RECURSION FLAGS           */
*      2 PSASYMSK CHAR(1),          /* THIS FIELD WILL BE USED IN  0003
*                                      CONJUNCTION WITH THE STNSM  0003
*                                      INSTRUCTION TO PLACE IOS    0003
*                                      CHANNEL SCHEDULER INTO A    0003
*                                      DISABLED STATE AND          0003
*                                      SIMULTANEOUSLY SAVE THE SYSTEM
*                                      MASK OF THE CALLER MDC022     */
*      2 PSARV061 CHAR(1),          /* RESERVED (MDC060)       YM4244*/
*      2 PSAMCHIC CHAR(1),          /* MCH INITIALIZATION COMPLETE 0003
*                                      FLAGS MDC098                  */
*      2 PSAWKRAP PTR(31),          /* REAL ADDRESS OF VARY CPU    0003
*                                      PARAMETER LIST MDC106         */
*      2 PSAWKVAP PTR(31),          /* VIRTUAL ADDRESS OF VARY CPU 0003
*                                      PARAMETER LIST MDC107         */
*      2 PSAVSTAP FIXED(15),        /* WORK AREA FOR VARY CPU MDC108 */
*      2 PSACPUSA PTR(15),          /* PHYSICAL CPU ADDRESS (STATIC)
*                                      (MDC131)                YM3489*/
*      2 PSASTOR FIXED(31),         /* MASTER MEMORY'S SEGMENT TABLE
*                                      ORIGIN REGISTER (STOR) VALUE  */
*      2 PSADSSRS FIXED(31),        /* REGISTER SAVE FOR DSS PROGRAM
*                                      AND SVC INTERRUPT HANDLERS  0003
*                                      MDC053                        */
*      2 PSADSSR2 FIXED(31),        /* REGISTER SAVE AREA FOR DSS I/O
*                                      AND EXTERNAL INTERRUPT      0003
*                                      HANDLERS MDC054               */
*      2 PSADSSR3 FIXED(31),        /* REGISTER SAVE AREA FOR DSS  0003
*                                      ERROR RECOVERY ROUTINE MDC055 */
*      2 PSADSSWK FIXED(31),        /* WORK AREA FOR DSS INTERRUPT 0003
*                                      HANDLERS MDC056               */
*      2 PSADSSTS(5) FIXED(31),     /* REGISTER SAVE FOR DSS MODULES
*                                      MAKING CALLS TO IQATSS MDC023 */
*      2 PSADSSFL CHAR(4) BDY(WORD),/* DSS FLAG BYTES MDC024         */
*       3 PSADSSF1 BIT(8),          /* DSS STATUS BYTE MDC029        */
*        4 PSADSSMV BIT(1),         /* DSS MONITORING, VS2 RUNNING 0003
*                                      MDC030                        */
*        4 PSADSSDM BIT(1),         /* DSS IN VS2-2 VM MDC031        */
*        4 PSADSSDD BIT(1),         /* DSS IN DSS VM MDC032          */
*        4 PSADSSDW BIT(1),         /* DSS IN DSS WAIT MDC033        */
*        4 PSADSSTP BIT(1),         /* DSS PROCESSING SIGP MDC034    */
*        4 PSADSSSP BIT(1),         /* DSS SIGP PENDING MDC035       */
*        4 PSADSSOI BIT(1),         /* DSS EXECUTING OVERLAID      0003
*                                      INSTRUCTION MDC036            */
*        4 PSADSSPI BIT(1),         /* DSS EXECUTING PRIVILEGED    0003
*                                      INSTRUCTION MDC037            */
*       3 PSADSSF2 CHAR(1),         /* SYSTEM STATUS BYTE MDC038     */
*       3 PSADSSF3 BIT(8),          /* DSS FLAG BYTE MDC099          */
*        4 PSADSSGP BIT(1),         /* DSS SIGP INDICATOR MDC100     */
*        4 PSADSSES BIT(1),         /* ERROR SHORT SAVE INDICATOR  0003
*                                      MDC113                        */
*        4 PSADSSNM BIT(1),         /* NON-MONITORABLE CODE INDICATOR
*                                      MDC114                        */
*        4 PSADSSRW BIT(1),         /* DSS OWNS CVTRSTWD MDC117      */
*        4 PSADSSMC BIT(1),         /* MACHINE CHECK RUNNING (MDC132)
*                                                              YM6287*/
*        4 PSARV055 BIT(1),         /* RESERVED FOR DSS MDC100       */
*        4 PSARV056 BIT(1),         /* RESERVED FOR DSS MDC100       */
*        4 PSARV057 BIT(1),         /* RESERVED FOR DSS MDC100       */
*       3 PSADSSF4 BIT(8),          /* DSS RECURSION FLAGS MDC101    */
*        4 PSADSSRC BIT(1),         /* PROGRAM-SVC RECURSION FLAG  0003
*                                      MDC057                        */
*        4 PSADSS12 BIT(1),         /* PROGRAM INTERRUPT 12 RECURSION
*                                      FLAG MDC058                   */
*        4 PSADSSIE BIT(1),         /* I/O-EXTERNAL RECURSION FLAG 0003
*                                      MDC059                        */
*        4 PSADSSC0 BIT(1),         /* CONTROL REGISTER 0 INVALID  0003
*                                      FLAG MDC092                   */
*        4 PSADSSDE BIT(1),         /* DAT ERROR WHILE DSS RUNNING IN
*                                      VS2 VM MDC102                 */
*        4 PSADSSVE BIT(1),         /* DAT ERROR WHILE DSS RUNNING IN
*                                      DSS VM MDC103                 */
*        4 PSADSS10 BIT(1),         /* SEGMENT EXCEPTION RECURSION 0003
*                                      FLAG MDC104                   */
*        4 PSADSS05 BIT(1),         /* ADDRESSING EXCEPTION RECURSION
*                                      FLAG MDC105                   */
*      2 PSADSSRP CHAR(8) BDY(DWORD),/* DSS TO VS2-2 RESUME PSW    0003
*                                      MDC025                        */
*      2 PSADSSPP CHAR(8) BDY(DWORD),/* DSS PSW FOR RETURNING CONTROL
*                                      FROM PRIVILEGED INSTRUCTION 0003
*                                      STREAM TO VS2 MDC026          */
*      2 PSADSS14 FIXED(31),        /* RESTART SECOND LEVEL INTERRUPT
*                                      HANDLER CONTROL REGISTER 14 0003
*                                      SAVE AREA MDC115              */
*      2 PSADSSFW FIXED(31),        /* FULL-WORD DSS WORK AREA MDC116*/
*      2 PSADSSPR FIXED(31),        /* DSS REGISTER SAVE FOR       0003
*                                      PRIVILEGED INSTRUCTION STREAM
*                                      MDC028                        */
*      2 PSADSSED CHAR(0) BDY(WORD),/* END OF DSS FIELDS MDC045      */
*      2 PSARV025 FIXED(31),        /* RESERVED FOR DSS              */
*      2 PSARV040 PTR(31),          /* RESERVED FOR DSS              */
*      2 PSARV041 PTR(31),          /* RESERVED FOR DSS              */
*      2 PSARV042 PTR(31),          /* RESERVED FOR DSS              */
*      2 PSARV043 PTR(31),          /* RESERVED FOR DSS              */
*      2 PSARV044 PTR(31),          /* RESERVED FOR DSS              */
*      2 PSARV045 PTR(31),          /* RESERVED FOR DSS              */
*      2 PSARSVT(16) PTR(31),       /* RECOVERY STACK VECTOR TABLE 0003
*                                      (EACH ELEMENT MAPPED BELOW) 0003
*                                      MDC064                        */
*      2 PSASRPSW CHAR(8) BDY(DWORD),/* RESUME PSW FOR STOP AND    0003
*                                      RESTART SUBROUTINE MDC096     */
*      2 PSARSPSW CHAR(8) BDY(DWORD),/* RESUME PSW FIELD FOR RESTART
*                                      INTERRUPT HANDLER MDC097      */
*      2 PSASTART CHAR(16) BDY(DWORD),/* START FATHOM RECORDING    0003
*                                      MDC111                        */
*      2 PSASTOP CHAR(16) BDY(DWORD),/* STOP FATHOM RECORDING MDC112 */
*      2 PSASFACC CHAR(4) BDY(WORD),/* SETFRR ABEND COMPLETION CODE
*                                      USED WHEN A SETFRR ADD IS   0003
*                                      ISSUED AGAINST A FULL FRR   0003
*                                      STACK MDC123                  */
*      2 PSALSFCC CHAR(4) BDY(WORD),/* A LOAD INSTRUCTION TO PRIME 0003
*                                      REGISTER 1 WITH THE SETFRR  0003
*                                      ABEND COMPLETION CODE IN    0003
*                                      PSASFACC MDC124               */
*      2 PSASVC13 CHAR(2),          /* AN SVC 13 INSTRUCTION MDC125  */
*      2 PSARV059 FIXED(15),        /* RESERVED                      */
*      2 PSAPIR2 FIXED(31),         /* PROGRAM CHECK FLIH REGISTER 0003
*                                      SAVE (MDC303)         @ZM08516*/
*      2 PSAPCPSW CHAR(8) BDY(DWORD),/* TEMPORARY OLD PSW STORAGE FOR
*                                      PROGRAM FLIH (MDC129)   YM0943*/
*      2 PSAATCVT PTR(31),          /* ADDRESS OF VTAM ATCVT.      0003
*                                      INITIALIZED BY VTAM. (MDC300)
*                                                            @Z30AP9A*/
*      2 PSAWTCOD PTR(31),          /* CALLER-SUPPLIED WAIT STATE  0003
*                                      INFORMATION FOR STOP/RESTART
*                                      (MDC306)              @ZA00904*/
*      2 PSACDAL PTR(31),           /* ADDRESS OF COMMON DISPATCHER
*                                      ELEMENT FOR THIS CPU (MDC307)
*                                                            @Z40FP9A*/
*      2 PSARV062 FIXED(31),        /* RESERVED              @Z40AQ9A*/
*      2 PSAUSEND CHAR(0) BDY(DWORD),/* END OF ASSIGNED FIELDS MDC109*/
*      2 * CHAR(2024) BDY(DWORD),   /* RESERVED              @Z40AQ9A*/
*      2 PSASTAK CHAR(596) BDY(DWORD),/* NORMAL FRR STACK (MDC304) 0003
*                                                            @ZM32352*/
*      2 * CHAR(428);               /* RESERVED FOR EXPANSION OF   0003
*                                      PSASTAK (MDC304)      @ZM32352*/
*   DECLARE                                                        0004
*     FLC DEF(PSA) CHAR(LENGTH(PSA)) BDY(DWORD);                   0004
*   DECLARE                                                        0005
*     1 PSARSVTE CHAR(64) DEF(PSARSVT) BDY(WORD),/* RECOVERY STACK 0005
*                                      VECTOR TABLE MDC065           */
*      2 PSACSTK PTR(31),           /* ADDRESS OF CURRENTLY USED   0005
*                                      FUNCTIONAL RECOVERY ROUTINE 0005
*                                      (FRR) STACK MDC061            */
*      2 PSANSTK PTR(31),           /* ADDRESS OF NORMAL FRR STACK 0005
*                                      MDC062                        */
*      2 PSASSTK PTR(31),           /* ADDRESS OF SVC-I/O- DISPATCHER
*                                      FRR STACK MDC063              */
*      2 PSASSAV PTR(31),           /* ADDRESS OF INTERRUPTED STACK
*                                      SAVED BY SVC-I/O- DISPATCHER
*                                      MDC066                        */
*      2 PSAMSTK PTR(31),           /* ADDRESS OF MCH FRR STACK    0005
*                                      MDC067                        */
*      2 PSAMSAV PTR(31),           /* ADDRESS OF INTERRUPTED STACK
*                                      SAVED BY MCH MDC068           */
*      2 PSAPSTK PTR(31),           /* ADDRESS OF PROGRAM CHECK FLIH
*                                      FRR STACK MDC069              */
*      2 PSAPSAV PTR(31),           /* ADDRESS OF INTERRUPTED STACK
*                                      SAVED BY PROGRAM CHECK FLIH 0005
*                                      MDC070                        */
*      2 PSAESTK1 PTR(31),          /* ADDRESS OF EXTERNAL FLIH FRR
*                                      STACK FOR NON- RECURSIVE    0005
*                                      ENTRIES MDC071                */
*      2 PSAESAV1 PTR(31),          /* ADDRESS OF INTERRUPTED STACK
*                                      SAVED BY NON- RECURSIVE     0005
*                                      ENTRIES MDC072                */
*      2 PSAESTK2 PTR(31),          /* ADDRESS OF EXTERNAL FLIH FRR
*                                      STACK FOR FIRST LEVEL       0005
*                                      RECURSIONS MDC073             */
*      2 PSAESAV2 PTR(31),          /* ADDRESS OF INTERRUPTED STACK
*                                      SAVED BY EXTERNAL FLIH FOR  0005
*                                      FIRST LEVEL RECURSIONS MDC074 */
*      2 PSAESTK3 PTR(31),          /* ADDRESS OF EXTERNAL FLIH FRR
*                                      STACK FOR SECOND LEVEL      0005
*                                      RECURSIONS AND ACR MDC075     */
*      2 PSAESAV3 PTR(31),          /* ADDRESS OF INTERRUPTED STACK
*                                      SAVED BY EXTERNAL FLIH (ACR)
*                                      FOR SECOND LEVEL RECURSIONS 0005
*                                      MDC076                        */
*      2 PSARSTK PTR(31),           /* ADDRESS OF RESTART FLIH FRR 0005
*                                      STACK MDC077                  */
*      2 PSARSAV PTR(31);           /* ADDRESS OF INTERRUPTED STACK
*                                      SAVED BY RESTART FLIH MDC078  */
*                                                                  0006
*/*                                                                  */
*/*      COMMUNICATION VECTOR TABLE                                  */
*/*                                                                  */
*/*      OS/VS2 RELEASE 3.7 PTF, 11/02/77, LEVEL=18                  */
*/*                                                                  */
*/*  METHOD OF ACCESS                                                */
*/*      PL/S - DCL CVTPTR PTR                                       */
*/*      BAL  - DSECT=YES SHOULD BE SPECIFIED ON MACRO CALL EXCEPT   */
*/*             WHEN CALLED DURING SYSGEN TO CREATE CSECT.  CVT FOR  */
*/*             OS/VS2 IS MAPPED UNLESS SYS=AOS1 IS SPECIFIED.  THE  */
*/*             PREFIX IS NOT MAPPED UNLESS PREFIX=YES IS SPECIFIED. */
*/*             A USING ON CVTMAP OR DSECT NAME WILL ESTABLISH       */
*/*             ADDRESSABILITY FOR ALL SYMBOLS EXCEPT IN THE 2       */
*/*             EXTENSIONS.  TO ESTABLISH ADDRESSABILITY FOR THE     */
*/*             OS - OS/VS COMMON EXTENSION, YOU SHOULD CODE         */
*/*                                                                  */
*/*             L     REG,CVTEXT1                                    */
*/*             USING CVTXTNT1,REG                                   */
*/*                                                                  */
*/*             TO ESTABLISH ADDRESSABILITY FOR THE OS/VS1 - OS/VS2  */
*/*             COMMON EXTENSION, YOU SHOULD CODE                    */
*/*                                                                  */
*/*             L     REG,CVTEXT2                                    */
*/*             USING CVTXTNT2,REG                                   */
*/*                                                                  */
*/*             WHERE REG IN EITHER CASE IS ANY REGISTER OTHER       */
*/*             THAN ZERO.                                           */
*/*                                                                  */
*/*             WHEN LISTING IS SUPPRESSED, YOU CAN DETERMINE WHICH  */
*/*             DSECT A SYMBOL IS IN BY USING THE STATEMENT NUMBER   */
*/*             IN THE DEFN COLUMN IN THE CROSS REFERENCE LISTING.   */
*/*             FOR EXAMPLE, ANY SYMBOL DEFINED BETWEEN THE          */
*/*             STATEMENT NUMBERS FOR CVTXTNT1 AND CVTXTNT2 IS IN    */
*/*             THE OS - OS/VS COMMON EXTENSION.                     */
*/*                                                                  */
*/*  F.E.'S                                                          */
*/*      MICROFICHE LISTING - CVT                                    */
*/*                                                                  */
*/*  DEVELOPERS                                                      */
*/*      BAL LISTING  - SPECIFY LIST=YES ON MACRO CALL               */
*/*      PL/S LISTING - SPECIFY %IHALIST='YES' BEFORE INCLUDE        */
*/*                                                                  */
*/*      FOR INTEGRATION, A LISTING MUST NOT BE REQUESTED UNLESS     */
*/*      YOUR MODULE CREATES THE CSECT.                              */
*                                                                  0006
*                                                                  0006
*/*                    CVT PROPER                                    */
*                                                                  0006
*   DECLARE                                                        0006
*     1 CVTMAP BASED(CVTPTR) BDY(WORD),                            0006
*      2 CVT CHAR(0) BDY(WORD),     /* BEGINNING OF CVT MDC150       */
*      2 CVTTCBP PTR(31),           /* ADDRESS OF A DOUBLE WORD, THE
*                                      FIRST CONTAINING THE NEXT-TO-
*                                      BE-DISPATCHED TCB ADDRESS. THE
*                                      SECOND CONTAINING THE LAST  0006
*                                      (CURRENT) TCB ADDRESS. BOTH 0006
*                                      WORDS ARE IDENTICAL UNLESS THE
*                                      TASK GOES INTO A WAIT STATE.
*                                      WHEN IN A WAIT STATE, THE   0006
*                                      FIRST WORD IS SET TO ZERO   0006
*                                      UNTIL THE WAITING IS OVER AND
*                                      THEN BOTH WORDS ARE ONCE AGAIN
*                                      IDENTICAL. (OS/VS1) ADDRESS OF
*                                      4-WORD LIST OF ADDRESSES - THE
*                                      NEXT TCB, THE CURRENT TCB, THE
*                                      NEXT ASCB AND THE CURRENT   0006
*                                      ASCB, IN THAT ORDER (OS/VS2)
*                                      MDC026                        */
*      2 CVT0EF00 PTR(31),          /* ADDRESS OF ROUTINE TO SCHEDULE
*                                      ASYNCHRONOUS EXITS            */
*      2 CVTLINK PTR(31),           /* ADDRESS OF DCB FOR          0006
*                                      SYS1.LINKLIB DATA SET         */
*      2 CVTJOB PTR(31),            /* ADDRESS OF QUEUE MANAGER    0006
*                                      RESIDENT DATA AREA (QMRES)  0006
*                                      (OS/VS1) (MDC083)       XM4042*/
*      2 CVTBUF PTR(31),            /* ADDRESS OF THE BUFFER OF THE
*                                      RESIDENT CONSOLE INTERRUPT  0006
*                                      ROUTINE                       */
*      2 CVTXAPG PTR(31),           /* ADDRESS OF I/O SUPERVISOR   0006
*                                      APPENDAGE VECTOR TABLE        */
*      2 CVT0VL00 PTR(31),          /* ADDRESS OF ENTRY POINT OF THE
*                                      TASK SUPERVISOR'S ADDRESS   0006
*                                      VALIDITY CHECKING ROUTINE     */
*      2 CVTPCNVT PTR(31),          /* ADDRESS OF ENTRY POINT OF THE
*                                      ROUTINE WHICH CONVERTS A    0006
*                                      RELATIVE TRACK ADDRESS (TTR)
*                                      TO AN ABSOLUTE TRACK ADDRESS
*                                      (MBBCCHHR)                    */
*      2 CVTPRLTV PTR(31),          /* ADDRESS OF ENTRY POINT OF THE
*                                      ROUTINE WHICH CONVERTS AN   0006
*                                      ABSOLUTE TRACK ADDRESS      0006
*                                      (MBBCCHHR) TO A RELATIVE TRACK
*                                      ADDRESS (TTR)                 */
*      2 CVTILK1 PTR(31),           /* ADDRESS OF THE CHANNEL AND  0006
*                                      CONTROL UNIT PORTION OF THE 0006
*                                      UCB LOOKUP TABLE              */
*      2 CVTILK2 PTR(31),           /* ADDRESS OF THE UCB HALFWORD 0006
*                                      ADDRESS LIST PORTION OF THE 0006
*                                      UCB LOOKUP TABLE              */
*      2 CVTXTLER PTR(31),          /* ADDRESS OF ERROR RECOVERY   0006
*                                      PROCEDURE (ERP) LOADER      0006
*                                      (IECVERPL) ENTRY POINT      0006
*                                      IECXTLER (MDC349)     @Z40AQ9A*/
*      2 CVTSYSAD PTR(31),          /* ADDRESS OF THE SYSTEM       0006
*                                      RESIDENCE VOLUME ENTRY IN THE
*                                      UCB LOOKUP TABLE              */
*      2 CVTBTERM PTR(31),          /* ADDRESS OF ENTRY POINT OF THE
*                                      ABTERM ROUTINE                */
*      2 CVTDATE CHAR(4) BDY(WORD), /* CURRENT DATE IN PACKED DECIMAL*/
*      2 CVTMSLT PTR(31),           /* ADDRESS OF THE MASTER COMMON
*                                      AREA IN MASTER SCHEDULER    0006
*                                      RESIDENT DATA AREA. NOTE - USE
*                                      CVTMSER INSTEAD TO ADDRESS  0006
*                                      MASTER SCHEDULER RESIDENT DATA
*                                      AREA.                         */
*      2 CVTZDTAB PTR(31),          /* ADDRESS OF I/O DEVICE       0006
*                                      CHARACTERISTIC TABLE          */
*      2 CVTXITP PTR(31),           /* ADDRESS OF ERROR INTERPRETER
*                                      ROUTINE                       */
*      2 CVTDAR PTR(31),            /* SAME AS CVTDARA BELOW (OS/VS1)
*                                      MDC029                        */
*       3 CVTFLGS1 BIT(8),          /* FLAG BYTE (OS/VS1) MDC030     */
*        4 CVTDMPLK BIT(1),         /* SVC DUMP IS IN PROGRESS     0006
*                                      (OS/VS1) MDC030               */
*        4 CVTRSV01 BIT(1),         /* RESERVED                      */
*        4 CVTRSV02 BIT(1),         /* RESERVED                      */
*        4 CVTRSV03 BIT(1),         /* RESERVED                      */
*        4 CVTRSV04 BIT(1),         /* RESERVED                      */
*        4 CVTRSV05 BIT(1),         /* RESERVED                      */
*        4 CVTRSV06 BIT(1),         /* RESERVED                      */
*        4 CVTRSV07 BIT(1),         /* RESERVED                      */
*       3 CVTDARA PTR(24),          /* ADDRESS OF THE SYS1.DUMP I/O
*                                      CONTROL BLOCKS NEEDED BY    0006
*                                      ABEND'S DAMAGE ASSESSMENT   0006
*                                      ROUTINE (DAR) (OS/VS1) MDC029 */
*      2 CVT0FN00 PTR(31),          /* ADDRESS OF ENTRY POINT OF THE
*                                      FINCH ROUTINE (OS/VS1)        */
*      2 CVTEXIT CHAR(2) BDY(WORD), /* AN SVC 3 INSTRUCTION. EXIT TO
*                                      DISPATCHER.                   */
*      2 CVTBRET CHAR(2) BDY(WORD,3),/* A BCR 15,14 INSTRUCTION.   0006
*                                      RETURN TO CALLER (USED BY DATA
*                                      MANAGEMENT ROUTINES)          */
*      2 CVTSVDCB PTR(31),          /* ADDRESS OF THE DCB FOR THE  0006
*                                      SYS1.SVCLIB DATA SET          */
*      2 CVTTPC PTR(31),            /* ADDRESS OF THE TIMER        0006
*                                      SUPERVISOR WORK AREA          */
*      2 CVTPBLDL PTR(31),          /* ADDRESS OF BRANCH AND LINK  0006
*                                      (BALR) ENTRY POINT OF THE BLDL
*                                      ROUTINE (OS/VS1) MDC103       */
*      2 CVTSJQ PTR(31),            /* ADDRESS OF THE SELECTED JOB 0006
*                                      QUEUE (OS/VS1)                */
*      2 CVTCUCB PTR(31),           /* ADDRESS OF THE TABLE THAT   0006
*                                      CONTAINS THE CURRENT CONSOLE
*                                      UCB ADDRESSES                 */
*      2 CVTQTE00 PTR(31),          /* ADDRESS OF THE TIMER ENQUEUE
*                                      ROUTINE FOR INTERVAL TIMER    */
*      2 CVTQTD00 PTR(31),          /* ADDRESS OF THE TIMER DEQUEUE
*                                      ROUTINE FOR INTERVAL TIMER    */
*      2 CVTSTB PTR(31),            /* ADDRESS OF THE I/O DEVICE   0006
*                                      STATISTICS TABLE              */
*      2 CVTDCB CHAR(1) BDY(WORD),  /* OPERATING SYSTEM CONFIGURATION*/
*        4 CVTRSV08 BIT(1),         /* RESERVED                      */
*        4 CVT1SSS BIT(1),          /* PCP                           */
*        4 CVT2SPS BIT(1),          /* MFT, OS/VS1                   */
*        4 CVT4MS1 BIT(1),          /* MVT, OS/VS2                   */
*        4 CVTRSV09 BIT(1),         /* RESERVED                      */
*        4 CVT4MPS BIT(1),          /* MODEL 65 MULTIPROCESSING      */
*        4 CVT6DAT BIT(1),          /* DYNAMIC ADDRESS TRANSLATION BY
*                                      CPU (OS/VS1, OS/VS2)          */
*        4 CVTMVS2 BIT(1),          /* MULTIPLE MEMORY OPTION OF   0006
*                                      OS/VS2 IS PRESENT MDC131      */
*      2 CVTDCBA PTR(24),           /* ADDRESS OF THE DCB FOR THE  0006
*                                      SYS1.LOGREC (OUTBOARD       0006
*                                      RECORDER) DATA SET FOR SYSTEM
*                                      ENVIRONMENT RECORDING (SER)   */
*      2 CVTIOQET PTR(31),          /* ADDRESS OF IOS REQUEST ELEMENT
*                                      TABLE (OS/VS1) MDC020         */
*       3 CVTSV76M FIXED(31),       /* SVC 76 MESSAGE COUNT FIELD  0006
*                                      (OS/VS2) (MDC372)     @ZA18857*/
*      2 CVTIXAVL PTR(31),          /* ADDRESS OF THE I/O          0006
*                                      SUPERVISOR'S FREELIST POINTER
*                                      WHICH CONTAINS THE ADDRESS OF
*                                      THE NEXT REQUEST ELEMENT    0006
*                                      (OS/VS1) ADDRESS OF THE I/O 0006
*                                      SUPERVISOR'S COMMUNICATION  0006
*                                      AREA (IOCOM) (OS/VS2)         */
*      2 CVTNUCB PTR(31),           /* LOWEST ADDRESS NOT IN THE   0006
*                                      NUCLEUS (ON PAGE BOUNDARY FOR
*                                      OS/VS1) (ON SEGMENT BOUNDARY
*                                      FOR OS/VS2) (MDC318)  @Z30AQ9A*/
*      2 CVTFBOSV PTR(31),          /* ADDRESS OF PROGRAM FETCH    0006
*                                      ROUTINE                       */
*      2 CVT0DS PTR(31),            /* ADDRESS OF ENTRY POINT OF THE
*                                      DISPATCHER                    */
*      2 CVTILCH PTR(31),           /* ADDRESS OF THE LOGICAL CHANNEL
*                                      WORD TABLE                    */
*      2 CVTIERLC PTR(31),          /* ADDRESS OF THE ASYNCHRONOUS 0006
*                                      EXIT QUEUE (OS/VS1) (MDC218)
*                                                              YM4043*/
*       3 CVTRV516 PTR(31),         /* ** CVTIERLC FIELD UNUSED IN 0006
*                                      MVS ** (MDC218)         YM4043*/
*      2 CVTMSER PTR(31),           /* ADDRESS OF DATA AREA OF MASTER
*                                      SCHEDULER RESIDENT DATA AREA  */
*      2 CVT0PT01 PTR(31),          /* ADDRESS OF BRANCH ENTRY POINT
*                                      OF POST ROUTINE               */
*      2 CVTRSV11 PTR(31),          /* ** CVTTRMTB FIELD UNUSED IN 0006
*                                      OS/VS **                      */
*      2 CVTHEAD PTR(31),           /* ADDRESS OF THE HIGHEST      0006
*                                      PRIORITY TCB IN THE READY   0006
*                                      QUEUE (OS/VS1) MDC025         */
*       3 CVTSV76C BIT(32) BDY(WORD),/* SVC 76 MESSAGE CONTROL FIELD.
*                                      HIGH-ORDER BIT IS DEFINED, AND
*                                      ALL OTHER BITS ARE ZERO.    0006
*                                      (OS/VS2) (MDC373)     @ZA18857*/
*        4 CVTSV76Q BIT(1),         /* SVC 76 ENQUEUE SWITCH (OS/VS2)
*                                      (MDC374)              @ZA18857*/
*      2 CVTMZ00 PTR(31),           /* HIGHEST ADDRESS IN VIRTUAL  0006
*                                      STORAGE FOR THE MACHINE       */
*      2 CVT1EF00 PTR(31),          /* ADDRESS OF ROUTINE WHICH    0006
*                                      CREATES IRB'S FOR EXITS       */
*      2 CVTQOCR PTR(31),           /* GRAPHICS INTERFACE TASK (GFX)
*                                      FIELD. ADDRESS OF SEVENTH WORD
*                                      OF GFX PARAMETER LIST, IF GFX
*                                      IS ACTIVE. ZERO IF GFX IS NOT
*                                      ACTIVE.                       */
*      2 CVTQMWR PTR(31),           /* ADDRESS OF QUEUE MANAGER'S  0006
*                                      SYSTEM OUTPUT COMMUNICATIONS-
*                                      DATA-AREA (CDA), WHICH IS   0006
*                                      STORED ON AN EXTERNAL DEVICE  */
*      2 CVTSNCTR FIXED(15),        /* SERIAL NUMBER COUNTER FOR   0006
*                                      ASSIGNING SERIAL NUMBERS TO 0006
*                                      NON-SPECIFIC, UNLABELED     0006
*                                      MAGNETIC TAPE VOLUMES         */
*      2 CVTOPTA CHAR(1),           /* OPTION INDICATORS             */
*       3 CVTCCH BIT(1),            /* CHANNEL CHECK HANDLER (CCH) 0006
*                                      OPTION PRESENT - RECOVERY   0006
*                                      MANAGEMENT SUPPORT (RMS)    0006
*                                                              XM4686*/
*       3 CVTAPR BIT(1),            /* ALTERNATE PATH RETRY (APR)  0006
*                                      OPTION PRESENT - RECOVERY   0006
*                                      MANAGEMENT SUPPORT (RMS)      */
*       3 CVTDDR BIT(1),            /* DYNAMIC DEVICE RECONFIGURATION
*                                      (DDR) OPTION PRESENT -      0006
*                                      RECOVERY MANAGEMENT SUPPORT 0006
*                                      (RMS) (OS/VS1) DDR          0006
*                                      SYSTEM-INITIATED SWAP ACTIVE
*                                      (OS/VS2) MDC126               */
*       3 CVTNIP BIT(1),            /* NIP IS EXECUTING              */
*       3 CVTRSV12 BIT(1),          /* RESERVED                      */
*       3 CVTRSV13 BIT(1),          /* RESERVED                      */
*       3 CVTASCII BIT(1),          /* ASCII TAPE PROCESSING IS    0006
*                                      GENERATED IN THIS SYSTEM      */
*       3 CVTXPFP BIT(1),           /* CPU HAS EXTENDED PRECISION  0006
*                                      FLOATING POINT FEATURE        */
*      2 CVTOPTB CHAR(1),           /* MISCELLANEOUS FLAGS           */
*       3 CVTPROT BIT(1),           /* CPU HAS STORE PROTECTION    0006
*                                      FEATURE (OS/VS1)              */
*       3 CVTCTIMS BIT(1),          /* IF ON, HARDWARE HAS THE CLOCK
*                                      COMPARATOR AND CPU TIMER    0006
*                                      FEATURE INSTALLED, AND OS/VS1
*                                      SYSGEN HAS SPECIFIED THIS   0006
*                                      FEATURE (OS/VS1) MDC127       */
*       3 CVTTOD BIT(1),            /* CPU HAS TIME-OF-DAY CLOCK   0006
*                                      FEATURE                       */
*       3 CVTNLOG BIT(1),           /* SYS1.LOGREC IS UNAVAILABLE FOR
*                                      ERROR RECORDING. ALWAYS SET TO
*                                      ZERO FOR OS/VS1 ICB382        */
*       3 CVTAPTHR BIT(1),          /* NIP SETS THIS BIT TO 1 WHEN 0006
*                                      DEVICE TESTING IS COMPLETE. IF
*                                      1, I/O SUPERVISOR USES AN   0006
*                                      ALTERNATE PATH TO A DEVICE  0006
*                                      WHEN A CONDITION CODE OF 3  0006
*                                      EXISTS. THIS BIT IS RESET BY
*                                      NIP TO 0 AFTER THE LINK PACK
*                                      AREA IS INITIALIZED.    YM2670*/
*       3 CVTFP BIT(1),             /* CPU HAS FETCH PROTECTION    0006
*                                      FEATURE (OS/VS1) ICB427       */
*       3 CVTRSV16 BIT(1),          /* RESERVED                      */
*       3 CVTRSV17 BIT(1),          /* RESERVED                      */
*      2 CVTQCDSR PTR(31),          /* CDE SEARCH ROUTINE ADDRESS  0006
*                                      (OS/VS2) ADDRESS OF THE     0006
*                                      ROUTINE THAT SEARCHES THE   0006
*                                      REENTERABLE LOAD MODULE QUEUE
*                                      (OS/VS1)                      */
*      2 CVTQLPAQ PTR(31),          /* ADDRESS OF POINTER TO MOST  0006
*                                      RECENT ENTRY ON LINK PACK AREA
*                                      CDE QUEUE (OS/VS2) ADDRESS OF
*                                      THE REENTERABLE LOAD MODULE 0006
*                                      QUEUE (OS/VS1)                */
*      2 CVTRSV18 PTR(31),          /* ** CVTMPCVT FIELD UNUSED IN 0006
*                                      OS/VS **                      */
*      2 CVTSMCA PTR(31),           /* ADDRESS OF THE SYSTEM       0006
*                                      MANAGEMENT CONTROL AREA (SMCA)
*                                      IF THE SYSTEM MANAGEMENT    0006
*                                      FACILITIES (SMF) OPTION IS  0006
*                                      PRESENT IN THE SYSTEM.      0006
*                                      OTHERWISE, ZERO.              */
*      2 CVTABEND PTR(31),          /* ADDRESS OF SECONDARY CVT FOR
*                                      ABEND IN EOT (OS/VS2) USED BY
*                                      AN INTERNAL ABEND TRACE     0006
*                                      ROUTINE FOR DEBUG PURPOSES  0006
*                                      (OS/VS1)                XM0615*/
*      2 CVTUSER PTR(31),           /* A WORD AVAILABLE TO THE USER  */
*      2 CVTMDLDS PTR(31),          /* RESERVED FOR MODEL-DEPENDENT
*                                      SUPPORT                       */
*      2 CVTQABST CHAR(2) BDY(WORD),/* AN SVC 13 (ABEND) INSTRUCTION
*                                      (OS/VS2) RESERVED (OS/VS1)    */
*      2 CVTLNKSC CHAR(2) BDY(WORD,3),/* AN SVC 6 (LINK) INSTRUCTION
*                                      ICB369                        */
*      2 CVTTSCE PTR(31),           /* ADDRESS OF THE FIRST TIME   0006
*                                      SLICE CONTROL ELEMENT (TSCE)  */
*      2 CVTPATCH PTR(31),          /* ADDRESS OF A 200-BYTE FE PATCH
*                                      AREA                          */
*      2 CVTRMS PTR(31),            /* RECOVERY MANAGEMENT SUPPORT 0006
*                                      (RMS) COMMUNICATIONS VECTOR.
*                                      ADDRESS OF A MACHINE STATUS 0006
*                                      BLOCK.                        */
*      2 CVTRV515 PTR(31),          /* ** CVTTSCVT FIELD UNUSED IN 0006
*                                      MVS ** (MDC037)       @Z40AQ9A*/
*      2 CVT0SCR1 PTR(31),          /* ADDRESS OF THE SECTOR       0006
*                                      CALCULATION ROUTINE FOR     0006
*                                      ROTATIONAL POSITION SENSING 0006
*                                      (RPS)                         */
*      2 CVTGTF PTR(31),            /* GENERALIZED TRACE FACILITY  0006
*                                      (GTF) CONTROL WORD ICB312     */
*       3 CVTGTFST BIT(8),          /* GTF FLAG BYTE ICB312          */
*        4 CVTGTFS BIT(2),          /* GTF STATUS (OS/VS1) MDC088    */
*         5 CVTGTFAV BIT(1),        /* IF ZERO, GTF NOT ACTIVE. IF 0006
*                                      ONE, GTF ACTIVE. (OS/VS2)   0006
*                                      MDC098                        */
*         5 CVTRV315 BIT(1),        /* RESERVED (OS/VS2)             */
*        4 CVTSTATE BIT(1),         /* GTF IS IN CONTROL PROCESSING A
*                                      HOOK (OS/VS1) MDC093          */
*         5 CVTRV316 BIT(1),        /* RESERVED (OS/VS2)             */
*        4 CVTTMODE BIT(1),         /* IF 0, MODE=INT SPECIFIED. IF
*                                      1, MODE=EXT SPECIFIED WHICH 0006
*                                      MEANS TRACE DATA IS TO BE   0006
*                                      WRITTEN TO AN EXTERNAL DEVICE.
*                                      (OS/VS1) MDC094               */
*         5 CVTRV317 BIT(1),        /* RESERVED (OS/VS2)             */
*        4 CVTFORM BIT(1),          /* TRACE DATA IS TO BE FORMATTED
*                                      ON ABNORMAL TERMINATION     0006
*                                      (OS/VS1) MDC095               */
*         5 CVTRV318 BIT(1),        /* RESERVED (OS/VS2)             */
*        4 CVTUSR BIT(1),           /* TRACE=USR SPECIFIED.        0006
*                                      USER-REQUESTED TRACE DATA IS
*                                      TO BE INCLUDED IN THE TRACE 0006
*                                      DATA SET. (MDC317)    @Z30AP9A*/
*        4 CVTRNIO BIT(1),          /* GTF IS ACTIVE AND TRACING RNIO
*                                      EVENTS MDC187                 */
*        4 CVTRSV27 BIT(1),         /* RESERVED                      */
*       3 CVTGTFA PTR(24),          /* ADDRESS OF THE MONITOR CALL 0006
*                                      VECTOR TABLE (OS/VS1) ADDRESS
*                                      OF MAIN MONITOR CALL ROUTING
*                                      TABLE, MCHEAD (OS/VS2) MDC156 */
*      2 CVTAQAVT PTR(31),          /* ADDRESS OF THE FIRST WORD OF
*                                      THE TCAM DISPATCHER WHICH   0006
*                                      CONTAINS THE ADDRESS OF THE 0006
*                                      ADDRESS VECTOR TABLE (AVT). IF
*                                      ZERO, TCAM IS NOT STARTED     */
*       3 CVTTCMFG CHAR(1),         /* TCAM FLAGS                    */
*        4 CVTTCRDY BIT(1),         /* TCAM IS READY TO ACCEPT USERS */
*        4 CVTRSV28 BIT(1),         /* RESERVED                      */
*        4 CVTRSV29 BIT(1),         /* RESERVED                      */
*        4 CVTRSV30 BIT(1),         /* RESERVED                      */
*        4 CVTRSV31 BIT(1),         /* RESERVED                      */
*        4 CVTRSV32 BIT(1),         /* RESERVED                      */
*        4 CVTRSV33 BIT(1),         /* RESERVED                      */
*        4 CVTRSV34 BIT(1),         /* RESERVED                      */
*       3 CVTAQAVB PTR(24),         /* SAME AS CVTAQAVT ABOVE        */
*      2 CVTVOLM2 PTR(31),          /* ADDRESS OF TABLE FOR POWER  0006
*                                      WARNING FEATURE (PWF) (OS/VS2)
*                                      (MDC308)              @Z30AQ9A*/
*       3 CVTTATA PTR(31),          /* ADDRESS OF THE FIRST ENTRY IN
*                                      THE TCB ADDRESS TABLE. THE  0006
*                                      FIRST ENTRY IS FOR PARTITION
*                                      0. (OS/VS1)                   */
*        4 CVTTSKS PTR(8),          /* MAXIMUM ALLOWABLE NUMBER OF 0006
*                                      ENTRIES IN THE TCB ADDRESS  0006
*                                      TABLE (OS/VS1)                */
*         5 CVTVOLF2 BIT(8),        /* PWF FLAG BYTE. THIS BYTE IS 0006
*                                      OVERLAID BY CVTVOLM2 AFTER PWF
*                                      INITIALIZATION. (OS/VS2)    0006
*                                      (MDC309)              @Z30AQ9A*/
*          6 CVTVOLI2 BIT(1),       /* PWF INITIALIZATION HAS NOT  0006
*                                      OCCURRED (OS/VS2) (MDC310)  0006
*                                                            @Z30AQ9A*/
*        4 CVTTAT PTR(24),          /* SAME AS CVTTATA ABOVE         */
*         5 CVTVOLT2 PTR(24),       /* PWF RECHECK TIME DELAY. THIS
*                                      VALUE IS OVERLAID BY CVTVOLM2
*                                      AFTER PWF INITIALIZATION.   0006
*                                      (OS/VS2) (MDC311)     @Z30AQ9A*/
*      2 CVTATER PTR(31),           /* ADDRESS OF THE SYSTEM ERROR 0006
*                                      TCB. THE PURGE ROUTINE USES 0006
*                                      THIS FIELD TO ACCESS THE SIRB.
*                                      (OS/VS1) ICB346               */
*       3 CVTSYST PTR(8),           /* NUMBER OF ENTRIES IN THE TCB
*                                      ADDRESS TABLE FOR TCB'S     0006
*                                      CREATED DURING SYSTEM       0006
*                                      GENERATION (OS/VS1)           */
*       3 CVTATERA PTR(24),         /* SAME AS CVTATER ABOVE         */
*      2 CVTEXT1 PTR(31),           /* ADDRESS OF OS - OS/VS COMMON
*                                      EXTENSION ICB421              */
*      2 CVTCBSP PTR(31),           /* ADDRESS OF ACCESS METHOD    0006
*                                      CONTROL BLOCK STRUCTURE MDC195*/
*      2 CVTPURG PTR(31),           /* ADDRESS OF SUBSYSTEM PURGE  0006
*                                      ROUTINE ICB330                */
*       3 CVTRSV35 PTR(8),          /* RESERVED ICB330               */
*       3 CVTPURGA PTR(24),         /* ADDRESS OF SUBSYSTEM PURGE  0006
*                                      ROUTINE ICB330                */
*      2 CVTAMFF CHAR(4),           /* RESERVED FOR ACCESS METHOD  0006
*                                      FLAGS ICB436                  */
*      2 CVTQMSG PTR(31),           /* ADDRESS OF INFORMATION TO BE
*                                      PRINTED BY ABEND ICB307       */
*       3 CVTRSV36 PTR(8),          /* RESERVED ICB307               */
*       3 CVTQMSGA PTR(24),         /* ADDRESS OF INFORMATION TO BE
*                                      PRINTED BY ABEND ICB307       */
*      2 CVTDMSR PTR(31),           /* SAME AS CVTDMSRA BELOW ICB346 */
*       3 CVTRSV37 PTR(8),          /* RESERVED (OS/VS1) ICB346      */
*        4 CVTDMSRF BIT(8),         /* OPEN/CLOSE/EOV FLAG BYTE.   0006
*                                      SETTING BOTH BIT 0 AND BIT 1
*                                      ON WILL CAUSE BOTH KINDS OF 0006
*                                      DUMPS TO BE TAKEN. THESE BITS
*                                      ARE USED DURING TESTING AND 0006
*                                      DEBUGGING WHEN OTHER DEBUG  0006
*                                      METHODS ARE INEFFECTIVE.    0006
*                                      (OS/VS2) (MDC350)     @Z40AQ9A*/
*         5 CVTSDUMP BIT(1),        /* SET BY COREZAP. WILL CAUSE AN
*                                      SDUMP TO BE TAKEN AND IEC999I
*                                      MESSAGE ISSUED FOR EVERY ABEND
*                                      ISSUED WITHIN AN            0006
*                                      OPEN/CLOSE/EOV OR DADSM     0006
*                                      FUNCTION. (OS/VS2) (MDC351) 0006
*                                                            @Z40AQ9A*/
*         5 CVTUDUMP BIT(1),        /* SET BY COREZAP. WILL CAUSE AN
*                                      ABEND DUMP TO BE TAKEN FOR  0006
*                                      EVERY ABEND ISSUED WITHIN AN
*                                      OPEN/CLOSE/EOV OR DADSM     0006
*                                      FUNCTION. (OS/VS2) (MDC352) 0006
*                                                            @Z40AQ9A*/
*         5 CVTRV629 BIT(1),        /* RESERVED (OS/VS2)     @Z40AQ9A*/
*         5 CVTRV630 BIT(1),        /* RESERVED (OS/VS2)     @Z40AQ9A*/
*         5 CVTRV631 BIT(1),        /* RESERVED (OS/VS2)     @Z40AQ9A*/
*         5 CVTRV632 BIT(1),        /* RESERVED (OS/VS2)     @Z40AQ9A*/
*         5 CVTRV633 BIT(1),        /* RESERVED (OS/VS2)     @Z40AQ9A*/
*         5 CVTRV634 BIT(1),        /* RESERVED (OS/VS2)     @Z40AQ9A*/
*       3 CVTDMSRA PTR(24),         /* ADDRESS OF THE OPEN/CLOSE/EOV
*                                      SUPERVISORY ROUTINE IN THE  0006
*                                      NUCLEUS. THIS ROUTINE HANDLES
*                                      THE ROUTING OF CONTROL AMONG
*                                      THE I/O SUPPORT ROUTINES.   0006
*                                      ICB346                        */
*      2 CVTRSV38 PTR(31),          /* RESERVED                      */
*      2 CVTRSV39 PTR(31),          /* RESERVED                      */
*/*            OS/VS1 - OS/VS2 COMMON SECTION                        */
*                                                                  0006
*      2 CVTREAL PTR(31),           /* ADDRESS OF THE VIRTUAL STORAGE
*                                      BYTE FOLLOWING THE HIGHEST  0006
*                                      VIRTUAL=REAL STORAGE ADDRESS
*                                      ICB368                        */
*      2 CVTPTRV PTR(31),           /* ADDRESS OF PAGING SUPERVISOR
*                                      GENERAL ROUTINE TO TRANSLATE
*                                      REAL ADDRESSES TO VIRTUAL   0006
*                                      ADDRESSES                     */
*      2 CVTMODE PTR(31),           /* ADDRESS OF ROUTINE TO CHANGE
*                                      SYSTEM MASK (OS/VS1) (MDC217)
*                                                              YM4244*/
*      2 CVTJESCT PTR(31),          /* ADDRESS OF JOB ENTRY SUBSYSTEM
*                                      (JES) CONTROL TABLE           */
*      2 CVTJEPS PTR(31),           /* ADDRESS OF JOB ENTRY        0006
*                                      PERIPHERAL SERVICES (JEPS)  0006
*                                      MONITOR TCB (OS/VS1)    YM2702*/
*      2 CVTTZ FIXED(31),           /* DIFFERENCE BETWEEN LOCAL TIME
*                                      AND GREENWICH MEAN TIME IN  0006
*                                      BINARY UNITS OF 1.048576    0006
*                                      SECONDS                       */
*      2 CVTMCHPR PTR(31),          /* ADDRESS OF MACHINE CHECK    0006
*                                      PARAMETER LIST                */
*      2 CVTEORM PTR(31),           /* HIGHEST REAL ADDRESS IN MAIN
*                                      STORAGE (OS/VS1) POTENTIAL  0006
*                                      REAL HIGH STORAGE ADDRESS   0006
*                                      (OS/VS2) MDC087               */
*      2 CVTERPV PTR(31),           /* ADDRESS OF I/O SUPERVISOR   0006
*                                      SUBROUTINE TO CONVERT CCW DATA
*                                      ADDRESSES TO VIRTUAL ADDRESSES
*                                      (OS/VS1) (MDC219)       YM4043*/
*       3 CVTRV517 PTR(31),         /* ** CVTERPV FIELD UNUSED IN MVS
*                                      ** (MDC219)             YM4043*/
*      2 CVTINTLA PTR(31),          /* ADDRESS OF A TIME INTERVAL. 0006
*                                      I/O LOAD BALANCING COUNTS THE
*                                      NUMBER OF EXCP'S ISSUED DURING
*                                      THIS TIME INTERVAL AND USES 0006
*                                      THE VALUE IN DETERMINING THE
*                                      AMOUNT OF I/O ACTIVITY IN THE
*                                      SYSTEM. (OS/VS1) (MDC220)   0006
*                                                              YM4043*/
*       3 CVTRV518 PTR(31),         /* ** CVTINTLA FIELD UNUSED IN 0006
*                                      MVS ** (MDC220)         YM4043*/
*      2 CVTAPF PTR(31),            /* SAME AS CVTAPFA BELOW ICB360  */
*       3 CVTRSV40 PTR(8),          /* RESERVED ICB360               */
*       3 CVTAPFA PTR(24),          /* ADDRESS OF BRANCH ENTRY POINT
*                                      IN AUTHORIZED PROGRAM FACILITY
*                                      (APF) ROUTINE                 */
*      2 CVTEXT2 PTR(31),           /* ADDRESS OF OS/VS1 - OS/VS2  0006
*                                      COMMON EXTENSION ICB330       */
*       3 CVTRSV41 PTR(8),          /* RESERVED ICB330               */
*       3 CVTEXT2A PTR(24),         /* SAME AS CVTEXT2 ABOVE ICB330  */
*      2 CVTHJES PTR(31),           /* SAME AS CVTHJESA BELOW ICB454 */
*       3 CVTRSV42 PTR(8),          /* RESERVED ICB454               */
*       3 CVTHJESA PTR(24),         /* ADDRESS OF OPTIONAL JOB ENTRY
*                                      SUBSYSTEM (JES) COMMUNICATION
*                                      VECTOR TABLE ICB454           */
*      2 CVTRSV43 FIXED(15),        /* RESERVED                      */
*      2 CVTRSV44 FIXED(15),        /* RESERVED                      */
*      2 CVTRSV45 PTR(31),          /* RESERVED                      */
*      2 CVTRSV46 PTR(31),          /* RESERVED                      */
*/*            OS/VS1 OVERLAY                                        */
*                                                                  0006
*      2 CVTPGSIA PTR(31),          /* ADDRESS OF PAGING SUPERVISOR
*                                      INFORMATION AREA              */
*      2 CVTPCVT PTR(31),           /* ADDRESS OF PAGED CVT EXTENSION*/
*      2 CVTA1F1 CHAR(1),           /* PAGE FAULT FLAGS              */
*       3 CVTPFSW BIT(1),           /* ONLY THE PAGING TASK MAY BE 0006
*                                      DISPATCHED                    */
*       3 CVTSRSW BIT(1),           /* NO TASK EXCEPT THE PAGING TASK
*                                      MAY EXECUTE DISABLED CODE     */
*       3 CVTRSV47 BIT(1),          /* RESERVED                      */
*       3 CVTRSV48 BIT(1),          /* RESERVED                      */
*       3 CVTRSV49 BIT(1),          /* RESERVED                      */
*       3 CVTRSV50 BIT(1),          /* RESERVED                      */
*       3 CVTRSV51 BIT(1),          /* RESERVED                      */
*       3 CVTRSV52 BIT(1),          /* RESERVED                      */
*      2 CVTSYSK CHAR(1),           /* SYSTEM LOCK. IF NOT ZERO, ONLY
*                                      THE PAGING TASK MAY BE      0006
*                                      DISPATCHED                    */
*       3 CVTRSV53 BIT(1),          /* RESERVED                      */
*       3 CVTRSV54 BIT(1),          /* RESERVED                      */
*       3 CVTRSV55 BIT(1),          /* RESERVED                      */
*       3 CVTRSV56 BIT(1),          /* RESERVED                      */
*       3 CVTSLKR BIT(1),           /* MACHINE CHECK HANDLING IS IN
*                                      PROGRESS ICB320               */
*       3 CVTSLKQ BIT(1),           /* SYSTEM QUEUE AREA (SQA) HAS 0006
*                                      BEEN EXHAUSTED                */
*       3 CVTSLKP BIT(1),           /* LAST PAGING CONTROL BLOCK   0006
*                                      (PCB) HAS BEEN USED           */
*       3 CVTSLKO BIT(1),           /* A ROUTINE RUNNING DISABLED HAS
*                                      PRODUCED A PAGE FAULT         */
*      2 CVTSULK FIXED(15),         /* SUPERVISOR LOCK. NUMBER OF  0006
*                                      TASKS ATTEMPTING TO EXECUTE 0006
*                                      DISABLED ROUTINES. IF NOT   0006
*                                      ZERO, ONLY ENABLED TASKS MAY
*                                      RUN.                          */
*      2 CVTSMF PTR(31),            /* ADDRESS OF SYSTEM MANAGEMENT
*                                      FACILITIES (SMF) TCB ICB395   */
*      2 CVTPNWFR PTR(31),          /* ADDRESS OF ROUTINE WHICH FREES
*                                      THE 'EMERGENCY' WORK AREA   0006
*                                      (ICB413)                XM2452*/
*      2 CVTDDCE PTR(31),           /* ADDRESS OF DYNAMIC DISPATCHING
*                                      CONTROL ELEMENT ICB466        */
*      2 CVTRSV57 FIXED(15),        /* RESERVED                      */
*      2 CVTRSV58 FIXED(15),        /* RESERVED                      */
*      2 CVTSTOA FIXED(31),         /* SAVE AREA FOR THE REAL STORAGE
*                                      ADDRESS OF THE SEGMENT TABLE
*                                      ORIGIN ICB496                 */
*      2 CVTVOLM1 PTR(31),          /* ADDRESS OF TABLE FOR POWER  0006
*                                      WARNING FEATURE (PWF) (MDC312)
*                                                            @X04AQ9A*/
*       3 CVTVOLF1 BIT(8),          /* PWF FLAG BYTE. THIS BYTE IS 0006
*                                      OVERLAID BY CVTVOLM1 AFTER PWF
*                                      INITIALIZATION. (MDC313)    0006
*                                                            @X04AQ9A*/
*        4 CVTVOLI1 BIT(1),         /* PWF INITIALIZATION HAS NOT  0006
*                                      OCCURRED (MDC314)     @X04AQ9A*/
*       3 CVTVOLT1 PTR(24),         /* PWF RECHECK TIME DELAY. THIS
*                                      VALUE IS OVERLAID BY CVTVOLM1
*                                      AFTER PWF INITIALIZATION.   0006
*                                      (MDC315)              @X04AQ9A*/
*      2 CVTRSV61 PTR(31),          /* RESERVED                      */
*      2 CVTATMCT PTR(31),          /* POINTER TO VTAM CONTROL TABLE
*                                      MDC082                        */
*       3 CVTATMST CHAR(1),         /* VTAM START STATUS MDC135      */
*       3 CVTATMCA PTR(24),         /* POINTER TO VTAM CONTROL TABLE
*                                      MDC138                        */
*      2 CVTAUTH PTR(31),           /* POINTER TO AUTHORIZED LIBRARY
*                                      TABLE MDC188                  */
*      2 CVTACTAP PTR(31),          /* ADDRESS OF BRANCH ENTRY TO  0006
*                                      VTAM'S SVC ROUTINE ISTAPC42 0006
*                                      (MDC216)              @X31BH9A*/
*      2 CVTRV485 PTR(31),          /* RESERVED MDC106               */
*      2 CVTRV486 PTR(31),          /* RESERVED MDC106               */
*      2 CVTRV487 PTR(31),          /* RESERVED MDC106               */
*      2 CVTRV488 PTR(31);          /* RESERVED MDC106               */
*/*            OS/VS2 OVERLAY                                        */
*                                                                  0007
*   DECLARE                                                        0007
*     1 CVTS01 DEF(CVTPGSIA) BDY(WORD),                            0007
*      2 CVTGETL PTR(31),           /* ADDRESS OF IKJGETL, TSO GET 0007
*                                      LINE ROUTINE (MDC206)   YM2225*/
*      2 CVTLPDSR PTR(31),          /* ADDRESS OF LINK PACK AREA   0007
*                                      (LPA) DIRECTORY SEARCH ROUTINE*/
*      2 CVTPVTP PTR(31),           /* ADDRESS OF PAGE VECTOR TABLE  */
*      2 CVTLPDIA PTR(31),          /* ADDRESS OF LINK PACK AREA   0007
*                                      (LPA) DIRECTORY (ON PAGE    0007
*                                      BOUNDARY)                     */
*       3 CVTDIRST CHAR(1),         /* FLAG BYTE                     */
*        4 CVTDICOM BIT(1),         /* LPA DIRECTORY HAS BEEN      0007
*                                      INITIALIZED BY NIP            */
*        4 CVTRSV63 BIT(1),         /* RESERVED                      */
*        4 CVTRSV64 BIT(1),         /* RESERVED                      */
*        4 CVTRSV65 BIT(1),         /* RESERVED                      */
*        4 CVTRSV66 BIT(1),         /* RESERVED                      */
*        4 CVTRSV67 BIT(1),         /* RESERVED                      */
*        4 CVTRSV68 BIT(1),         /* RESERVED                      */
*        4 CVTRSV69 BIT(1),         /* RESERVED                      */
*       3 CVTLPDIR PTR(24),         /* ADDRESS OF LPA DIRECTORY. ON
*                                      PAGE BOUNDARY                 */
*      2 CVTRV320 PTR(31),          /* ** CVTPAGE1 FIELD UNUSED IN 0007
*                                      MVS ** (MDC112)       @Z40AQ9A*/
*      2 CVTRV321 PTR(31),          /* ** CVTPGSUP FIELD UNUSED IN 0007
*                                      MVS ** (MDC113)       @Z40AQ9A*/
*      2 CVTSLIDA CHAR(4) BDY(WORD),/* IDENTITY OF TCB CAUSING     0007
*                                      SUPERVISOR LOCK BYTE (CVTSYLK)
*                                      TO BE SET OR IDENTITY OF TCB
*                                      THAT SECOND EXIT PROCESSING IS
*                                      FOR WHEN CVTSEIC=1            */
*       3 CVTSYLK CHAR(1),          /* SUPERVISOR LOCK. ONLY ENABLED
*                                      TASKS MAY BE DISPATCHED       */
*       3 CVTSLID CHAR(3),          /* SAME AS CVTSLIDA ABOVE        */
*      2 CVTRV322 PTR(31),          /* RESERVED FOR FUTURE USE     0007
*                                      (MDC343)              @Z40AQ9A*/
*      2 CVTRV328 PTR(31),          /* ** CVTSEG AND CVTSEGA FIELDS
*                                      UNUSED IN MVS ** (MDC139)   0007
*                                                            @Z40AQ9A*/
*      2 CVTRV329 PTR(31),          /* ** CVTSEGB FIELD UNUSED IN MVS
*                                      ** (MDC141)           @Z40AQ9A*/
*      2 CVTRV330 PTR(31),          /* ** CVTSEGC AND SUBFIELDS    0007
*                                      UNUSED IN MVS ** (MDC142)   0007
*                                                            @Z40AQ9A*/
*      2 CVTRV331 PTR(31),          /* ** CVTSEGD AND SUBFIELDS    0007
*                                      UNUSED IN MVS ** (MDC145)   0007
*                                                            @Z40AQ9A*/
*      2 CVTRSV77 PTR(8),           /* RESERVED                      */
*      2 CVTSPVLK PTR(8),           /* NUMBER OF TASKS WHICH HAVE  0007
*                                      TERMINATED WHILE OWNING     0007
*                                      SUPERVISOR LOCK WITHOUT     0007
*                                      OPERATOR HAVING YET BEEN    0007
*                                      NOTIFIED                      */
*      2 CVTCTLFG CHAR(1),          /* SYSTEM CONTROL FLAGS          */
*       3 CVTRV323 BIT(1),          /* ** CVTPSIC BIT UNUSED IN MVS
*                                      ** (MDC118)           @Z40AQ9A*/
*       3 CVTRV333 BIT(1),          /* ** CVTAPGB BIT UNUSED IN MVS
*                                      ** (MDC151)           @Z40AQ9A*/
*       3 CVTRSV78 BIT(1),          /* RESERVED ICB382               */
*       3 CVTDSTAT BIT(1),          /* DEVSTAT OPTION IN EFFECT.   0007
*                                      DEVICE ADDRESS FOR 2319, 3330,
*                                      2314, 3330-1, 3340 CAN VARY 0007
*                                      ACROSS SYSTEMS MDC189         */
*       3 CVTRSV79 BIT(1),          /* RESERVED                      */
*       3 CVTNOMP BIT(1),           /* MULTIPROCESSING CODE IS NOT IN
*                                      THE SYSTEM MDC176             */
*       3 CVTGTRCE BIT(1),          /* GENERALIZED TRACE FACILITY  0007
*                                      (GTF) HAS SUPPRESSED        0007
*                                      SUPERVISOR TRACE ICB446       */
*       3 CVTSDTRC BIT(1),          /* SVC DUMP HAS SUPPRESSED     0007
*                                      SUPERVISOR TRACE ICB446       */
*      2 CVTAPG CHAR(1),            /* DISPATCHING PRIORITY OF     0007
*                                      AUTOMATIC PRIORITY GROUP (APG)
*                                      ICB339                        */
*      2 CVTTRACE CHAR(2) BDY(WORD),/* BRANCH ON REGISTER          0007
*                                      INSTRUCTION. SET BY NIP.    0007
*                                      REGISTER TEN FOR TRACE.     0007
*                                      REGISTER ELEVEN FOR NO TRACE. */
*      2 CVTTRAC2 CHAR(2) BDY(WORD,3),/* BRANCH ON REGISTER 11     0007
*                                      INSTRUCTION. THIS ALLOWS FOR
*                                      SUPPRESSING TRACE DYNAMICALLY
*                                      BY SETTING CONDITION CODE MASK
*                                      TO ZERO IN FIRST INSTRUCTION
*                                      (CVTTRACE)                    */
*      2 CVTRSCN PTR(31),           /* ADDRESS OF ROUTINE TO SCAN TCB
*                                      TREE                          */
*      2 CVTTAS PTR(31),            /* ADDRESS OF ROUTINE TO TRANSFER
*                                      ADDRESS SPACE                 */
*      2 CVTRV332 PTR(31),          /* ** CVTPVALD FIELD UNUSED IN 0007
*                                      MVS ** (MDC148)       @Z40AQ9A*/
*      2 CVTSHRVM PTR(31),          /* LOWEST ADDRESS OF SHARED    0007
*                                      VIRTUAL STORAGE AREA. THIS  0007
*                                      ADDRESS WILL BE THE BEGINNING
*                                      OF THE COMMON SERVICE AREA  0007
*                                      (CSA) (MDC324)        @Z30AQ9A*/
*      2 CVT0VL01 PTR(31),          /* ENTRY POINT ADDRESS OF      0007
*                                      VALIDITY CHECK ROUTINE      0007
*                                      (IEA0VL01) USED TO COMPARE  0007
*                                      PROTECT KEY OF AN ADDRESS WITH
*                                      TCB PROTECT KEY.              */
*      2 CVTRV324 PTR(31),          /* ** CVTPFIXQ FIELD UNUSED IN 0007
*                                      MVS ** (MDC119)       @Z40AQ9A*/
*      2 CVTRV325 PTR(31),          /* ** CVTPFIXR FIELD UNUSED IN 0007
*                                      MVS ** (MDC120)       @Z40AQ9A*/
*      2 CVTRV326 PTR(31),          /* ** CVTPFIXP FIELD UNUSED IN 0007
*                                      MVS ** (MDC121)       @Z40AQ9A*/
*      2 CVTASCRF PTR(31),          /* CREATED ASCB QUEUE HEADER   0007
*                                      (MDC337)              @ZA04120*/
*      2 CVTASCRL PTR(31),          /* CREATED ASCB QUEUE TRAILER  0007
*                                      (MDC338)              @ZA04120*/
*      2 CVTPUTL PTR(31),           /* ADDRESS OF IKJPUTL, TSO PUT 0007
*                                      LINE ROUTINE (MDC207)   YM2225*/
*      2 CVTSRBRT PTR(31),          /* DISPATCHER RETURN ADDRESS FOR
*                                      SRB ROUTINES MDC130           */
*      2 CVTOLT0A PTR(31),          /* BRANCH ENTRY TO OLTEP MEMORY
*                                      TERMINATION RESOURCE MANAGER
*                                      MDC129                        */
*      2 CVTSMFEX PTR(31),          /* BRANCH ENTRY TO SYSTEM      0007
*                                      MANAGEMENT FACILITIES (SMF) 0007
*                                      EXCP COUNTING ROUTINE FOR VAM
*                                      WINDOW INTERCEPT MDC133       */
*      2 CVTCSPIE PTR(31),          /* FOR CHECKPOINT/RESTART, BRANCH
*                                      ENTRY TO SPIE MDC149          */
*      2 CVTPTGT PTR(31),           /* ADDRESS OF IKJPTGT, TSO PUTGET
*                                      ROUTINE (MDC208)        YM2225*/
*      2 CVTIOSPL PTR(8),           /* PRIORITY LEVEL OF I/O       0007
*                                      SUPERVISOR CHANNEL SCHEDULER
*                                      MDC019                        */
*      2 CVTRV513 CHAR(1),          /* RESERVED MDC165               */
*      2 CVTDSSAC CHAR(1),          /* DYNAMIC SUPPORT SYSTEM (DSS)
*                                      ACTIVATED FLAG - USED BY    0007
*                                      RESTART FLIH. IF X'00', DSS 0007
*                                      NOT INITIALIZED. IF X'FF', DSS
*                                      HAS BEEN INITIALIZED. MDC163  */
*      2 CVTRV139 PTR(8),           /* RESERVED                      */
*      2 CVTSTCK PTR(31),           /* ADDRESS OF IKJSTCK, TSO STACK
*                                      ROUTINE (MDC209)        YM2225*/
*      2 CVTMAXMP PTR(15),          /* FOR MEASUREMENT FACILITY    0007
*                                      (MF/1), MAXIMUM PHYSICAL CPU
*                                      ADDRESS SUPPORTED BY THIS   0007
*                                      RELEASE MDC165                */
*      2 CVTRV144 FIXED(15),        /* RESERVED                      */
*      2 CVTSCAN PTR(31),           /* ADDRESS OF IKJSCAN, TSO SCAN
*                                      ROUTINE (MDC210)        YM2225*/
*      2 CVTAUTHL PTR(31),          /* POINTER TO AUTHORIZED LIBRARY
*                                      TABLE MDC001                  */
*      2 CVTBLDCP PTR(31),          /* BRANCH ENTRY TO BUILD POOL  0007
*                                      MDC003                        */
*      2 CVTGETCL PTR(31),          /* BRANCH ENTRY TO GET CELL    0007
*                                      MDC004                        */
*      2 CVTFRECL PTR(31),          /* BRANCH ENTRY TO FREE CELL   0007
*                                      MDC005                        */
*      2 CVTDELCP PTR(31),          /* BRANCH ENTRY TO DELETE POOL 0007
*                                      MDC006                        */
*      2 CVTCRMN PTR(31),           /* BRANCH ENTRY TO SVC 120     0007
*                                      (GETMAIN/FREEMAIN:CRBRANCH) 0007
*                                      MDC007                        */
*      2 CVTCRAS PTR(31),           /* BRANCH ENTRY TO 'CREATE     0007
*                                      ADDRESS SPACE' MDC008         */
*      2 CVTQSAS PTR(31),           /* BRANCH ENTRY TO TASK        0007
*                                      TERMINATION MDC009            */
*      2 CVTFRAS PTR(31),           /* BRANCH ENTRY TO FREE ADDRESS
*                                      SPACE MDC010                  */
*      2 CVTS1EE PTR(31),           /* BRANCH ENTRY TO STAGE 1 EXIT
*                                      EFFECTOR MDC011               */
*      2 CVTPARS PTR(31),           /* ADDRESS OF IKJPARS, TSO PARSE
*                                      ROUTINE (MDC211)        YM2225*/
*      2 CVTQUIS PTR(31),           /* BRANCH ENTRY TO QUIESCE MDC013*/
*      2 CVTSTXU PTR(31),           /* BRANCH ENTRY TO ATTENTION EXIT
*                                      EPILOGUE MDC014               */
*      2 CVTOPTE PTR(31),           /* BRANCH ENTRY ADDRESS TO     0007
*                                      SYSEVENT MDC015               */
*      2 CVTSDRM PTR(31),           /* BRNACH ENTRY ADDRESS OF THE 0007
*                                      RESOURCE MANAGER ROUTINE FOR
*                                      SVC DUMP. THIS ROUTINE CAN BE
*                                      INVOKED BY MEMORY TERMINATION
*                                      MDC077                        */
*      2 CVTIOSCS PTR(31),          /* ENTRY POINT OF I/O SUPERVISOR
*                                      CHANNEL SCHEDULER MDC018      */
*      2 CVTAQTOP PTR(31),          /* POINTER TO AREA CONTAINING  0007
*                                      QUIESCE DESCRIPTOR BLOCK    0007
*                                      (QDB'S) FOR DEVICE ALLOCATION
*                                      MDC021                        */
*      2 CVTVVMDI PTR(31),          /* CONSTANT USED BY PAGED LINK 0007
*                                      PACK AREA (LPA) DIRECTORY   0007
*                                      SEARCH ALGORITHM MDC022       */
*      2 CVTASVT PTR(31),           /* POINTER TO ADDRESS SPACE    0007
*                                      VECTOR TABLE (ASVT) MDC070    */
*      2 CVTGDA PTR(31),            /* POINTER TO GLOBAL DATA AREA 0007
*                                      (GDA) IN SQA MDC024           */
*      2 CVTASCBH PTR(31),          /* POINTER TO HIGHEST PRIORITY 0007
*                                      ADDRESS SPACE CONTROL BLOCK 0007
*                                      (ASCB) ON THE ASCB DISPATCHING
*                                      QUEUE (HEAD OF ASCB QUEUE)  0007
*                                      MDC027                        */
*      2 CVTASCBL PTR(31),          /* POINTER TO LOWEST PRIORITY  0007
*                                      ASCB ON ASCB DISPATCHING QUEUE
*                                      MDC028                        */
*      2 CVTRTMCT PTR(31),          /* POINTER TO                  0007
*                                      RECOVERY/TERMINATION CONTROL
*                                      TABLE MDC031                  */
*      2 CVTSV60 PTR(31),           /* ADDRESS OF SVC 60 BRANCH ENTRY
*                                      POINT (MDC354)        @Z40FP9A*/
*      2 CVTSDMP PTR(31),           /* ADDRESS OF SVC DUMP BRANCH  0007
*                                      ENTRY POINT MDC033            */
*      2 CVTSCBP PTR(31),           /* ADDRESS OF SCB PURGE RESOURCE
*                                      MANAGER MDC034                */
*      2 CVTSDBF PTR(31),           /* ADDRESS OF 4K SQA BUFFER USED
*                                      BY SVC DUMP. HIGH ORDER BIT OF
*                                      THIS CVT WORD IS USED AS LOCK
*                                      TO INDICATE BUFFER IS IN USE
*                                      MDC035                        */
*      2 CVTRTMS PTR(31),           /* RTM1 INTERNAL SERVICABILITY 0007
*                                      LEVEL INDICATOR MDC036        */
*      2 CVTTPIOS PTR(31),          /* ADDRESS OF THE TELEPROCESSING
*                                      I/O SUPERV1SOR ROUTINE (TPIOS)
*                                      MDC078                        */
*      2 CVTSIC PTR(31),            /* BRANCH ENTRY ADDRESS OF THE 0007
*                                      ROUTINE TO SCHEDULE SYSTEM  0007
*                                      INITIALIZED CANCEL MDC042     */
*      2 CVTOPCTP PTR(31),          /* ADDRESS OF SYSTEM RESOURCES 0007
*                                      MANAGER (SRM) CONTROL TABLE 0007
*                                      MDC043                        */
*      2 CVTEXPRO PTR(31),          /* ADDRESS OF EXIT PROLOGUE/TYPE
*                                      1 EXIT MDC044                 */
*      2 CVTGSMQ PTR(31),           /* ADDRESS OF GLOBAL SERVICE   0007
*                                      MANAGER QUEUE MDC045          */
*      2 CVTLSMQ PTR(31),           /* ADDRESS OF LOCAL SERVICE    0007
*                                      MANAGER QUEUE MDC046          */
*      2 CVTGSPL PTR(31),           /* ADDRESS OF GLOBAL SYSTEM    0007
*                                      PRIORITY LIST QUEUE MDC047    */
*      2 CVTVWAIT PTR(31),          /* ADDRESS OF WAIT ROUTINE MDC048*/
*      2 CVTPARRL PTR(31),          /* ADDRESS OF PARTIALLY LOADED 0007
*                                      DELETE QUEUE MDC049           */
*      2 CVTAPFT PTR(31),           /* ADDRESS OF AUTHORIZED PROGRAM
*                                      FACILITY (APF) TABLE.       0007
*                                      INITIALIZED BY NIP. MDC050    */
*      2 CVTQCS01 PTR(31),          /* BRANCH ENTRY ADDRESS TO     0007
*                                      PROGRAM MANAGER USED BY ATTACH
*                                      MDC051                        */
*      2 CVTFQCB PTR(31),           /* POINTER TO FIRST MAJOR QCB FOR
*                                      ENQ MDC052                    */
*      2 CVTLQCB PTR(31),           /* POINTER TO LAST MAJOR QCB FOR
*                                      ENQ MDC053                    */
*      2 CVTRENQ PTR(31),           /* RESOURCE MANAGER ADDRESS FOR
*                                      ENQ MDC054                    */
*      2 CVTRSPIE PTR(31),          /* RESOURCE MANAGER FOR SPIE   0007
*                                      MDC055                        */
*      2 CVTLKRMA PTR(31),          /* RESOURCE MANAGER ADDRESS FOR
*                                      LOCK MANAGER MDC056           */
*      2 CVTCSD PTR(31),            /* VIRTUAL ADDRESS OF COMMON   0007
*                                      SYSTEM DATA AREA (CSD).     0007
*                                      INITIALIZED BY NIP. MDC057    */
*      2 CVTDQIQE PTR(31),          /* RESOURCE MANAGER FOR EXIT   0007
*                                      EFFECTORS MDC058              */
*      2 CVTRPOST PTR(31),          /* RESOURCE MANAGER FOR POST   0007
*                                      MDC059                        */
*      2 CVT062R1 PTR(31),          /* BRANCH ENTRY TO DETACH MDC060 */
*      2 CVTVEAC0 PTR(31),          /* ASCBCHAP BRANCH ENTRY MDC061  */
*      2 CVTGLMN PTR(31),           /* GLOBAL BRANCH ENTRY ADDRESS 0007
*                                      FOR GETMAIN/FREEMAIN MDC062   */
*      2 CVTSPSA PTR(31),           /* POINTER TO GLOBAL WORK/SAVE 0007
*                                      AREA VECTOR TABLE (WSAG)    0007
*                                      MDC071                        */
*      2 CVTWSAL PTR(31),           /* ADDRESS OF TABLE OF LENGTHS OF
*                                      LOCAL WORK/SAVE AREAS MDC072  */
*      2 CVTRV149 PTR(31),          /* RESERVED (MDC073)       YM4043*/
*      2 CVTWSAC PTR(31),           /* ADDRESS OF TABLE OF LENGTHS OF
*                                      CPU WORK/SAVE AREAS MDC074    */
*      2 CVTRECRQ PTR(31),          /* ADDRESS OF THE RECORDING    0007
*                                      REQUEST FACILITY (PART OF RTM1
*                                      - CALLED BY RTM2 AND RMS)   0007
*                                      MDC075                        */
*      2 CVTASMVT PTR(31),          /* POINTER TO AUXILIARY STORAGE
*                                      MANAGEMENT VECTOR TABLE (AMVT)
*                                      MDC076                        */
*      2 CVTIOBP PTR(31),           /* ADDRESS OF THE BLOCK PROCESSOR
*                                      CVT MDC079                    */
*      2 CVTSPOST PTR(31),          /* POST RESOURCE MANAGER       0007
*                                      TERMINATION ROUTINE (RMTR)  0007
*                                      ENTRY POINT MDC085            */
*      2 CVTRSTWD FIXED(31),        /* RESTART RESOURCE MANAGEMENT 0007
*                                      WORD - CONTAINS IDENTIFIER OF
*                                      USER IF RESTART IS IN USE.  0007
*                                      OTHERWISE, ZERO. MDC161       */
*      2 CVTFETCH PTR(31),          /* ADDRESS OF ENTRY POINT FOR  0007
*                                      BASIC FETCH MDC196            */
*      2 CVT044R2 PTR(31),          /* ADDRESS OF IGC044R2 IN CHAP 0007
*                                      SERVICE ROUTINE MDC197        */
*      2 CVTPERFM PTR(31),          /* ADDRESS OF THE PERFORMANCE  0007
*                                      WORK AREA. SET BY IGX00018. 0007
*                                      MDC205                        */
*      2 CVTDAIR PTR(31),           /* ADDRESS OF IKJDAIR, TSO     0007
*                                      DYNAMIC ALLOCATION INTERFACE
*                                      ROUTINE (MDC212)        YM2225*/
*      2 CVTEHDEF PTR(31),          /* ADDRESS OF IKJEHDEF, TSO    0007
*                                      DEFAULT SERVICE ROUTINE     0007
*                                      (MDC213)                YM2225*/
*      2 CVTEHCIR PTR(31),          /* ADDRESS OF IKJEHCIR, TSO    0007
*                                      CATALOG INFORMATION ROUTINE 0007
*                                      (MDC214)                YM2225*/
*      2 CVTSSAP PTR(31),           /* ADDRESS OF SYSTEM SAVE AREA 0007
*                                      MDC063                        */
*      2 CVTAIDVT PTR(31),          /* POINTER TO APPENDAGE ID VECTOR
*                                      TABLE MDC064                  */
*      2 CVTIPCDS PTR(31),          /* BRANCH ENTRY FOR DIRECT SIGNAL
*                                      SERVICE ROUTINE MDC065        */
*      2 CVTIPCRI PTR(31),          /* BRANCH ENTRY FOR REMOTE     0007
*                                      IMMEDIATE SIGNAL SERVICE    0007
*                                      ROUTINE MDC066                */
*      2 CVTIPCRP PTR(31),          /* BRANCH ENTRY FOR REMOTE     0007
*                                      PENDABLE SIGNAL SERVICE     0007
*                                      ROUTINE MDC067                */
*      2 CVTPCCAT PTR(31),          /* POINTER TO PHYSICAL CCA VECTOR
*                                      TABLE MDC068                  */
*      2 CVTLCCAT PTR(31),          /* POINTER TO LOGICAL CCA VECTOR
*                                      TABLE MDC069                  */
*      2 CVTRV210 BIT(8),           /* RESERVED                      */
*       3 CVTRV211 BIT(1),          /* RESERVED                      */
*       3 CVTRV212 BIT(1),          /* RESERVED                      */
*       3 CVTRV213 BIT(1),          /* RESERVED                      */
*       3 CVTRV214 BIT(1),          /* RESERVED                      */
*       3 CVTRV215 BIT(1),          /* RESERVED                      */
*       3 CVTRV216 BIT(1),          /* RESERVED                      */
*       3 CVTRV217 BIT(1),          /* RESERVED                      */
*       3 CVTRV218 BIT(1),          /* RESERVED                      */
*      2 CVTRV219 BIT(8),           /* RESERVED                      */
*       3 CVTRV220 BIT(1),          /* RESERVED                      */
*       3 CVTRV221 BIT(1),          /* RESERVED                      */
*       3 CVTRV222 BIT(1),          /* RESERVED                      */
*       3 CVTRV223 BIT(1),          /* RESERVED                      */
*       3 CVTRV224 BIT(1),          /* RESERVED                      */
*       3 CVTRV225 BIT(1),          /* RESERVED                      */
*       3 CVTRV226 BIT(1),          /* RESERVED                      */
*       3 CVTRV227 BIT(1),          /* RESERVED                      */
*      2 CVTRV228 BIT(8),           /* RESERVED                      */
*       3 CVTRV229 BIT(1),          /* RESERVED                      */
*       3 CVTRV230 BIT(1),          /* RESERVED                      */
*       3 CVTRV231 BIT(1),          /* RESERVED                      */
*       3 CVTRV232 BIT(1),          /* RESERVED                      */
*       3 CVTRV233 BIT(1),          /* RESERVED                      */
*       3 CVTRV234 BIT(1),          /* RESERVED                      */
*       3 CVTRV235 BIT(1),          /* RESERVED                      */
*       3 CVTRV236 BIT(1),          /* RESERVED                      */
*      2 CVTRV237 BIT(8),           /* RESERVED                      */
*       3 CVTRV238 BIT(1),          /* RESERVED                      */
*       3 CVTRV239 BIT(1),          /* RESERVED                      */
*       3 CVTRV240 BIT(1),          /* RESERVED                      */
*       3 CVTRV241 BIT(1),          /* RESERVED                      */
*       3 CVTRV242 BIT(1),          /* RESERVED                      */
*       3 CVTRV243 BIT(1),          /* RESERVED                      */
*       3 CVTRV244 BIT(1),          /* RESERVED                      */
*       3 CVTRV245 BIT(1),          /* RESERVED                      */
*      2 CVTRV246 PTR(8),           /* RESERVED                      */
*      2 CVTRV247 PTR(8),           /* RESERVED                      */
*      2 CVTRV248 PTR(8),           /* RESERVED                      */
*      2 CVTRV249 PTR(8),           /* RESERVED                      */
*      2 CVTRV250 PTR(8),           /* RESERVED                      */
*      2 CVTRV251 PTR(8),           /* RESERVED                      */
*      2 CVTRV252 PTR(15),          /* RESERVED                      */
*      2 CVTRV253 FIXED(15),        /* RESERVED                      */
*      2 CVTRV254 FIXED(15),        /* RESERVED                      */
*      2 CVTPWI PTR(31),            /* ADDRESS OF THE WINDOW       0007
*                                      INTERCEPT ROUTINE MDC104      */
*      2 CVTPVBP PTR(31),           /* ADDRESS OF THE VIRTUAL BLOCK
*                                      PROCESSOR MDC105              */
*      2 CVTMFCTL PTR(31),          /* POINTER TO MEASUREMENT      0007
*                                      FACILITY CONTROL BLOCK MDC100 */
*      2 CVTMFRTR PTR(31),          /* IF MEASUREMENT FACILITY IS  0007
*                                      ACTIVE, CONTAINS ADDRESS OF 0007
*                                      MEASUREMENT FACILITY ROUTER.
*                                      OTHERWISE, ADDRESS OF CVTBRET.
*                                      MDC101                        */
*       3 CVTMFACT BIT(1),          /* IF ONE, I/O SUPERVISOR AND  0007
*                                      TIMER SECOND LEVEL INTERRUPT
*                                      HANDLER HOOKS BRANCH TO     0007
*                                      MEASUREMENT FACILITY ROUTER 0007
*                                      MDC102                        */
*      2 CVTVPSIB PTR(31),          /* BRANCH ENTRY TO PAGE SERVICES
*                                      MDC108                        */
*      2 CVTVSI PTR(31),            /* BRANCH ENTRY TO VAM SERVICES
*                                      MDC109                        */
*      2 CVTVFP PTR(31),            /* BRANCH ENTRY TO FINDPAGE    0007
*                                      MDC110                        */
*      2 CVTRV262 BIT(8),           /* RESERVED                      */
*       3 CVTRV263 BIT(1),          /* RESERVED                      */
*       3 CVTRV264 BIT(1),          /* RESERVED                      */
*       3 CVTRV265 BIT(1),          /* RESERVED                      */
*       3 CVTRV266 BIT(1),          /* RESERVED                      */
*       3 CVTRV267 BIT(1),          /* RESERVED                      */
*       3 CVTRV268 BIT(1),          /* RESERVED                      */
*       3 CVTRV269 BIT(1),          /* RESERVED                      */
*       3 CVTRV270 BIT(1),          /* RESERVED                      */
*      2 CVTRV271 BIT(8),           /* RESERVED                      */
*       3 CVTRV272 BIT(1),          /* RESERVED                      */
*       3 CVTRV273 BIT(1),          /* RESERVED                      */
*       3 CVTRV274 BIT(1),          /* RESERVED                      */
*       3 CVTRV275 BIT(1),          /* RESERVED                      */
*       3 CVTRV276 BIT(1),          /* RESERVED                      */
*       3 CVTRV277 BIT(1),          /* RESERVED                      */
*       3 CVTRV278 BIT(1),          /* RESERVED                      */
*       3 CVTRV279 BIT(1),          /* RESERVED                      */
*      2 CVTRV280 BIT(8),           /* RESERVED                      */
*       3 CVTRV281 BIT(1),          /* RESERVED                      */
*       3 CVTRV282 BIT(1),          /* RESERVED                      */
*       3 CVTRV283 BIT(1),          /* RESERVED                      */
*       3 CVTRV284 BIT(1),          /* RESERVED                      */
*       3 CVTRV285 BIT(1),          /* RESERVED                      */
*       3 CVTRV286 BIT(1),          /* RESERVED                      */
*       3 CVTRV287 BIT(1),          /* RESERVED                      */
*       3 CVTRV288 BIT(1),          /* RESERVED                      */
*      2 CVTRV289 BIT(8),           /* RESERVED                      */
*       3 CVTRV290 BIT(1),          /* RESERVED                      */
*       3 CVTRV291 BIT(1),          /* RESERVED                      */
*       3 CVTRV292 BIT(1),          /* RESERVED                      */
*       3 CVTRV293 BIT(1),          /* RESERVED                      */
*       3 CVTRV294 BIT(1),          /* RESERVED                      */
*       3 CVTRV295 BIT(1),          /* RESERVED                      */
*       3 CVTRV296 BIT(1),          /* RESERVED                      */
*       3 CVTRV297 BIT(1),          /* RESERVED                      */
*      2 CVTTRCA PTR(31),           /* ADDRESS OF TRACE TABLE HEADER
*                                      (MDC327)              @ZA02352*/
*      2 CVTRV302 PTR(15),          /* RESERVED                      */
*      2 CVTRV303 PTR(15),          /* RESERVED                      */
*      2 CVTRV304 FIXED(15),        /* RESERVED                      */
*      2 CVTRV305 FIXED(15),        /* RESERVED                      */
*      2 CVTRV306 FIXED(15),        /* RESERVED                      */
*      2 CVTRV307 FIXED(15),        /* RESERVED                      */
*      2 CVTVIOP PTR(31),           /* ENTRY POINT OF PAGE I/O POST
*                                      MDC111                        */
*      2 CVTRMBR PTR(31),           /* ADDRESS OF REGMAIN BRANCH   0007
*                                      ENTRY MDC123                  */
*      2 CVTLFRM PTR(31),           /* LIST FORMAT FREEMAIN BRANCH 0007
*                                      ENTRY POINT MDC124            */
*      2 CVTGMBR PTR(31),           /* LIST FORMAT GETMAIN BRANCH  0007
*                                      ENTRY POINT MDC125            */
*      2 CVT0TC0A PTR(31),          /* ADDRESS OF TASK CLOSE MODULE
*                                      IFG0TC0A MDC128               */
*      2 CVTRLSTG FIXED(31),        /* SIZE OF ACTUAL REAL STORAGE 0007
*                                      ONLINE AT IPL TIME IN 'K'.  0007
*                                      VALUE PLACED HERE BY IEAVNIP0.
*                                      MDC153                        */
*      2 CVTSPFRR PTR(31),          /* 'SUPER FRR' ADDRESS (ADDRESS
*                                      OF FUNCTIONAL RECOVERY ROUTINE
*                                      ESTABLISHED AT NIP0 TIME TO 0007
*                                      PROTECT SUPERVISOR CONTROL  0007
*                                      PROGRAM) MDC154               */
*      2 CVTVEMS0 PTR(31),          /* ADDRESS OF MEMORY SWITCH    0007
*                                      ROUTINE MDC155                */
*      2 CVTJRECM PTR(31),          /* ADDRESS OF SUBSYSTEM INTERFACE
*                                      RESOURCE MANAGER MDC157       */
*      2 CVTIRECM PTR(31),          /* ADDRESS OF INITIATOR RESOURCE
*                                      MANAGER MDC158                */
*      2 CVTDARCM PTR(31),          /* ADDRESS OF DEVICE ALLOCATION
*                                      RESOURCE MANAGER MDC159       */
*      2 CVT0PT02 PTR(31),          /* ADDRESS OF POST ENTRY POINT 0007
*                                      IEA0PT02 MDC160               */
*      2 CVTSTPRS PTR(31),          /* ENTRY POINT OF STOP AND     0007
*                                      RESTART SUBROUTINE MDC162     */
*      2 CVTWTCB PTR(31),           /* ADDRESS OF WAIT STATE TCB   0007
*                                      MDC164                        */
*      2 CVTVACR PTR(31),           /* ACR/VARY CPU CHANNEL RECOVERY
*                                      ROUTINE ADDRESS. ADDRESS    0007
*                                      FILLED IN BY VARY CPU       0007
*                                      PROCESSOR. MDC178             */
*      2 CVTQUIT PTR(31),           /* VARY CPU SHUTDOWN ROUTINE   0007
*                                      ADDRESS. ADDRESS FILLED IN BY
*                                      VARY CPU PROCESSOR. MDC179    */
*      2 CVTGTFR8 PTR(31),          /* GENERALIZED TRACE FACILITY  0007
*                                      (GTF) CONTROL REGISTER 8    0007
*                                      INITIALIZATION ROUTINE ADDRESS
*                                      MDC180                        */
*      2 CVTVSTOP PTR(31),          /* ADDRESS OF VARY CPU STOP CPU
*                                      ROUTINE MDC169                */
*      2 CVTVPSA PTR(31),           /* ADDRESS OF COPY OF SYSGEN'ED
*                                      PSA - PLACED HERE BY NIP    0007
*                                      MDC170                        */
*      2 CVTRMPTT PTR(31),          /* ADDRESS OF ISTRAMA1, THE VTAM
*                                      RESOURCE MANAGER FOR NORMAL 0007
*                                      AND ABNORMAL TASK TERMINATION
*                                      (MDC322)              @Z30AP9A*/
*      2 CVTRMPMT PTR(31),          /* ADDRESS OF ISTRAMA2, THE VTAM
*                                      RESOURCE MANAGER FOR NORMAL 0007
*                                      AND ABNORMAL MEMORY         0007
*                                      TERMINATION (MDC323)  @Z30AP9A*/
*      2 CVTEXP1 PTR(31),           /* ADDRESS OF EXIT PROLOGUE WHICH
*                                      RETURNS TO THE DISPATCHER   0007
*                                      MDC173                        */
*      2 CVTCSDRL PTR(31),          /* REAL ADDRESS OF COMMON SYSTEM
*                                      DATA AREA (CSD). INITIALIZED
*                                      BY NIP. MDC174                */
*      2 CVTSSRB PTR(31),           /* STATUS STOP SRB ENTRY MDC175  */
*      2 CVTRPT PTR(31),            /* ADDRESS OF IGARPT01 MODULE OF
*                                      RADIX PARTITION TREE SERVICES.
*                                      INITIALIZED BY NIP. MDC177    */
*      2 CVTQV1 PTR(31),            /* ADDRESS OF QUEUE VERIFICATION
*                                      FOR SINGLE THREADED QUEUES  0007
*                                      WITH HEADERS ONLY MDC181      */
*      2 CVTQV2 PTR(31),            /* ADDRESS OF QUEUE VERIFICATION
*                                      FOR SINGLE THREADED QUEUES  0007
*                                      WITH HEADER AND TRAILER MDC182*/
*      2 CVTQV3 PTR(31),            /* ADDRESS OF QUEUE VERIFICATION
*                                      FOR DOUBLE THREADED QUEUES  0007
*                                      MDC183                        */
*      2 CVTGSDA PTR(31),           /* ADDRESS OF GLOBAL SYSTEM    0007
*                                      DUPLEX AREA. ADDRESS FILLED IN
*                                      BY NIP0. MDC184               */
*       3 CVTGSDAB BIT(1),          /* IF HIGH-ORDER BIT IS ONE,   0007
*                                      THERE IS A VALID VALUE IN   0007
*                                      FOLLOWING 31 BITS MDC185      */
*      2 CVTADV PTR(31),            /* ADDRESS OF ADDRESS          0007
*                                      VERIFICATION ROUTINE MDC186   */
*      2 CVTTPIO PTR(31),           /* ADDRESS OF VTAM TPIO (SVC 124)
*                                      ROUTINE MDC193                */
*      2 CVTCRCA PTR(31),           /* WHEN CHANNEL RECONFIGURATION
*                                      HARDWARE (CRH) IS ACTIVE,   0007
*                                      ADDRESS OF CRH COMMUNICATION
*                                      AREA IECVCRCA. OTHERWISE,   0007
*                                      ZERO. (MDC306)        @Z30CQ9A*/
*      2 CVTEVENT PTR(31),          /* BRANCH ENTRY ADDRESS TO EVENTS
*                                      (FAST MULTIPLE WAIT ROUTINE)
*                                      (MDC316)              @Z30HP9A*/
*      2 CVTSSCR PTR(31),           /* ADDRESS OF STORAGE SYSTEM   0007
*                                      CONTROLLER RECOVERY MANAGER 0007
*                                      CLEANUP ROUTINE (SSC RMCR)  0007
*                                      (MDC319)              @Z30LP9A*/
*      2 CVTCBBR PTR(31),           /* BRANCH ENTRY ADDRESS TO     0007
*                                      GETMAIN/FREEMAIN (MDC325)   0007
*                                                            @Z30EN9A*/
*      2 CVTEFF02 PTR(31),          /* ADDRESS OF IKJEFF02, TSO    0007
*                                      MESSAGE ISSUER SERVICE ROUTINE
*                                      (MDC326)              @ZM30972*/
*      2 CVTRV604 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV605 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTHSM PTR(31),            /* POINTER TO HIERARCHICAL     0007
*                                      STORAGE MANAGER (HSM) QUEUE 0007
*                                      CONTROL TABLE (MDC375)      0007
*                                                            @ZA27771*/
*      2 CVTRAC PTR(31),            /* ADDRESS OF ACCESS CONTROL CVT
*                                      (MDC320)              @Z40RP9A*/
*      2 CVTCGK PTR(31),            /* ADDRESS OF ROUTINE USED TO  0007
*                                      CHANGE THE KEY OF VIRTUAL   0007
*                                      PAGES (MDC331)        @Z40EP9A*/
*      2 CVTRV609 PTR(31),          /* RESERVED (MDC332)     @Z40AQ9A*/
*      2 CVT0PT0E PTR(31),          /* ENTRY POINT TO IDENTIFY POST
*                                      EXIT ROUTINES (MDC334)      0007
*                                                            @Z40EP9A*/
*      2 CVT0PT03 PTR(31),          /* POST REINVOCATION ENTRY POINT
*                                      FROM POST EXIT ROUTINES     0007
*                                      (MDC335)              @Z40EP9A*/
*      2 CVTTCASP PTR(31),          /* RESERVED FOR FUTURE USE     0007
*                                      (MDC336)              @Z40DQ9A*/
*      2 CVTRV613 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV614 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV615 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV616 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV617 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV618 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV619 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTIHASU PTR(31),          /* ADDRESS OF BIT STRING (MDC355)
*                                                            @Z404P9A*/
*      2 CVTRV621 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV622 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV623 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV624 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV625 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV626 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV627 PTR(31),          /* RESERVED (MDC307)     @Z30AQ9A*/
*      2 CVTRV628 PTR(31);          /* RESERVED (MDC307)     @Z30AQ9A*/
*/*                                                                  */
*/*            OS - OS/VS COMMON EXTENSION                           */
*/*                                                                  */
*                                                                  0008
*   DECLARE                                                        0008
*     1 CVTXTNT1 BASED(CVTEXT1),    /* START OF OS - OS/VS COMMON  0008
*                                      EXTENSION ICB421              */
*      2 CVTFACHN PTR(31),          /* ADDRESS OF CHAIN OF DCB FIELD
*                                      AREAS (ISAM) ICB421           */
*      2 CVTRSV87 PTR(31),          /* RESERVED                      */
*      2 CVTRSV88 PTR(31);          /* RESERVED                      */
*/*                                                                  */
*/*            OS/VS1 - OS/VS2 COMMON EXTENSION                      */
*/*                                                                  */
*                                                                  0009
*   DECLARE                                                        0009
*     1 CVTXTNT2 BASED(CVTEXT2),    /* START OF OS/VS1 - OS/VS2    0009
*                                      EXTENSION                     */
*      2 CVTDSSV PTR(31),           /* ADDRESS OF THE DYNAMIC SUPPORT
*                                      SYSTEM (DSS) VECTOR TABLE   0009
*                                      ICB313                        */
*       3 CVTRSV89 PTR(8),          /* RESERVED ICB313               */
*       3 CVTDSSVA PTR(24),         /* ADDRESS OF THE DSS VECTOR   0009
*                                      TABLE ICB313                  */
*      2 CVTNUCLS CHAR(1),          /* IDENTIFICATION OF THE NUCLEUS
*                                      MEMBER NAME ICB322            */
*      2 CVTFLGBT BIT(8),           /* FLAG BYTE (OS/VS1) (MDC301) 0009
*                                                            @X04EP9A*/
*       3 CVTNPE BIT(1),            /* INDICATES NON-PAGING        0009
*                                      ENVIRONMENT (VM HANDSHAKING)
*                                      (OS/VS1) (MDC302)     @X04EP9A*/
*       3 CVTVME BIT(1),            /* INDICATES MACHINE IS OPERATING
*                                      IN VM ENVIRONMENT (OS/VS1)  0009
*                                      (MDC303)              @X04EP9A*/
*       3 CVTRSV9C BIT(1),          /* RESERVED                      */
*       3 CVTRSV9D BIT(1),          /* RESERVED                      */
*       3 CVTRSV9E BIT(1),          /* RESERVED                      */
*       3 CVTRSV9F BIT(1),          /* RESERVED                      */
*       3 CVTRSV9G BIT(1),          /* RESERVED                      */
*       3 CVTRSV9H BIT(1),          /* RESERVED                      */
*      2 CVTRSV91 FIXED(15),        /* RESERVED                      */
*      2 CVTDEBVR PTR(31),          /* ADDRESS OF BRANCH ENTRY POINT
*                                      OF DEB VALIDITY CHECK ROUTINE
*                                      (ICB380)                XM9028*/
*      2 CVTRSV92 PTR(31),          /* RESERVED (MDC190)       YM2278*/
*      2 CVTRSV93 PTR(31),          /* RESERVED                      */
*      2 CVTRSV94 PTR(31),          /* RESERVED                      */
*      2 CVTQID PTR(31),            /* SAVE AS CVTQIDA BELOW ICB381  */
*       3 CVTRSV95 PTR(8),          /* RESERVED ICB381               */
*       3 CVTQIDA PTR(24),          /* ADDRESS OF QUEUE            0009
*                                      IDENTIFICATION (QID) TABLE  0009
*                                      PREFIX ICB381                 */
*      2 CVTOLTEP PTR(31),          /* POINTER TO CONTROL BLOCK    0009
*                                      CREATED BY SVC 59 TO POINT TO
*                                      PSEUDO-DEB'S ICB423           */
*      2 CVTRSV96 FIXED(15),        /* RESERVED                      */
*      2 CVTRSV97 FIXED(15),        /* RESERVED                      */
*      2 CVTRSV98 PTR(31),          /* RESERVED                      */
*      2 CVTCCVT PTR(31),           /* ADDRESS OF CRYPTOGRAPHIC    0009
*                                      FACILITY CVT (MDC370) @ZA27771*/
*      2 CVTSKTA PTR(31),           /* ADDRESS OF STORAGE KEY TABLE
*                                      (VM HANDSHAKING) (OS/VS1)   0009
*                                      (MDC304)              @X04EP9A*/
*      2 CVTICB PTR(31),            /* ADDRESS OF MASS STORAGE SYSTEM
*                                      (MSS) CONTROL BLOCK (MDC305)
*                                                            @Z30LP9A*/
*      2 CVTRV400 BIT(8),           /* RESERVED                      */
*       3 CVTRV401 BIT(1),          /* RESERVED                      */
*       3 CVTRV402 BIT(1),          /* RESERVED                      */
*       3 CVTRV403 BIT(1),          /* RESERVED                      */
*       3 CVTRV404 BIT(1),          /* RESERVED                      */
*       3 CVTRV405 BIT(1),          /* RESERVED                      */
*       3 CVTRV406 BIT(1),          /* RESERVED                      */
*       3 CVTRV407 BIT(1),          /* RESERVED                      */
*       3 CVTRV408 BIT(1),          /* RESERVED                      */
*      2 CVTRV409 BIT(8),           /* RESERVED                      */
*       3 CVTRV410 BIT(1),          /* RESERVED                      */
*       3 CVTRV411 BIT(1),          /* RESERVED                      */
*       3 CVTRV412 BIT(1),          /* RESERVED                      */
*       3 CVTRV413 BIT(1),          /* RESERVED                      */
*       3 CVTRV414 BIT(1),          /* RESERVED                      */
*       3 CVTRV415 BIT(1),          /* RESERVED                      */
*       3 CVTRV416 BIT(1),          /* RESERVED                      */
*       3 CVTRV417 BIT(1),          /* RESERVED                      */
*      2 CVTRV418 PTR(8),           /* RESERVED                      */
*      2 CVTRV419 PTR(8),           /* RESERVED                      */
*      2 CVTRV420 PTR(15),          /* RESERVED                      */
*      2 CVTRV421 FIXED(15),        /* RESERVED                      */
*      2 CVTRV422 FIXED(15),        /* RESERVED                      */
*      2 CVTRV423 FIXED(15),        /* RESERVED                      */
*      2 CVTATCVT PTR(31),          /* POINTER TO VTAM'S CVT MDC080  */
*       3 CVTATACT BIT(1),          /* IF ON, VTAM IS ACTIVE MDC081  */
*      2 CVTRV425 PTR(31),          /* RESERVED                      */
*      2 CVTRV426 PTR(31),          /* RESERVED                      */
*      2 CVTRV427 PTR(31),          /* RESERVED                      */
*      2 CVTRV428 FIXED(31),        /* RESERVED                      */
*      2 CVTRV429 BIT(8),           /* RESERVED                      */
*       3 CVTRV430 BIT(1),          /* RESERVED                      */
*       3 CVTRV431 BIT(1),          /* RESERVED                      */
*       3 CVTRV432 BIT(1),          /* RESERVED                      */
*       3 CVTRV433 BIT(1),          /* RESERVED                      */
*       3 CVTRV434 BIT(1),          /* RESERVED                      */
*       3 CVTRV435 BIT(1),          /* RESERVED                      */
*       3 CVTRV436 BIT(1),          /* RESERVED                      */
*       3 CVTRV437 BIT(1),          /* RESERVED                      */
*      2 CVTRV438 BIT(8),           /* RESERVED                      */
*       3 CVTRV439 BIT(1),          /* RESERVED                      */
*       3 CVTRV440 BIT(1),          /* RESERVED                      */
*       3 CVTRV441 BIT(1),          /* RESERVED                      */
*       3 CVTRV442 BIT(1),          /* RESERVED                      */
*       3 CVTRV443 BIT(1),          /* RESERVED                      */
*       3 CVTRV444 BIT(1),          /* RESERVED                      */
*       3 CVTRV445 BIT(1),          /* RESERVED                      */
*       3 CVTRV446 BIT(1),          /* RESERVED                      */
*      2 CVTRV447 PTR(8),           /* RESERVED                      */
*      2 CVTRV448 PTR(8),           /* RESERVED                      */
*      2 CVTRV449 PTR(15),          /* RESERVED                      */
*      2 CVTRV450 FIXED(15),        /* RESERVED                      */
*      2 CVTRV451 FIXED(15),        /* RESERVED                      */
*      2 CVTRV452 FIXED(15),        /* RESERVED                      */
*      2 CVTRV453 PTR(31),          /* RESERVED                      */
*      2 CVTRV454 PTR(31),          /* RESERVED                      */
*      2 CVTRV455 PTR(31),          /* RESERVED                      */
*      2 CVTRV456 PTR(31),          /* RESERVED                      */
*      2 CVTRV457 BIT(8),           /* RESERVED                      */
*       3 CVTRV458 BIT(1),          /* RESERVED                      */
*       3 CVTRV459 BIT(1),          /* RESERVED                      */
*       3 CVTRV460 BIT(1),          /* RESERVED                      */
*       3 CVTRV461 BIT(1),          /* RESERVED                      */
*       3 CVTRV462 BIT(1),          /* RESERVED                      */
*       3 CVTRV463 BIT(1),          /* RESERVED                      */
*       3 CVTRV464 BIT(1),          /* RESERVED                      */
*       3 CVTRV465 BIT(1),          /* RESERVED                      */
*      2 CVTRV466 BIT(8),           /* RESERVED                      */
*       3 CVTRV467 BIT(1),          /* RESERVED                      */
*       3 CVTRV468 BIT(1),          /* RESERVED                      */
*       3 CVTRV469 BIT(1),          /* RESERVED                      */
*       3 CVTRV470 BIT(1),          /* RESERVED                      */
*       3 CVTRV471 BIT(1),          /* RESERVED                      */
*       3 CVTRV472 BIT(1),          /* RESERVED                      */
*       3 CVTRV473 BIT(1),          /* RESERVED                      */
*       3 CVTRV474 BIT(1),          /* RESERVED                      */
*      2 CVTRV475 PTR(8),           /* RESERVED                      */
*      2 CVTRV476 PTR(8),           /* RESERVED                      */
*      2 CVTRV477 PTR(8),           /* RESERVED                      */
*      2 CVTRV478 PTR(8),           /* RESERVED                      */
*      2 CVTRV479 FIXED(15),        /* RESERVED                      */
*      2 CVTRV480 PTR(31),          /* RESERVED                      */
*      2 CVTRV481 PTR(31),          /* RESERVED                      */
*      2 CVTRV482 PTR(31);          /* RESERVED                      */
*/*                       CVT PREFIX                                 */
*                                                                  0010
*   DCL                                                            0010
*     1 CVTFIX BASED(CVTPTR-256) BDY(WORD),                        0010
*      2 * CHAR(248) BDY(WORD),     /* RESERVED                      */
*      2 * CHAR(2) BDY(WORD),       /* RESERVED                      */
*      2 CVTMDL CHAR(2) BDY(WORD,3),/* CPU MODEL NUMBER IN SIGNLESS
*                                      PACKED DECIMAL, I.E., A MODEL
*                                      145 WOULD BE REPRESENTED AS 0010
*                                      0145 HEX                      */
*      2 CVTRELNO CHAR(4) BDY(WORD),/* RELEASE NUMBER (EBCDIC)       */
*       3 CVTNUMB CHAR(2) BDY(WORD),/* RELEASE NUMBER                */
*       3 CVTLEVL CHAR(2) BDY(WORD,3);/* LEVEL NUMBER OF THIS RELEASE*/
*/*                    END OF CVT MACRO                              */
*                                                                  0011
*                                                                  0011
*/* **************************************************************** */
*/*                                                                  */
*/*            ADDRESS SPACE CONTROL BLOCK                           */
*/*                                                                  */
*/*  OS/VS2 RELEASE 2, 07/10/73, LEVEL=13                            */
*/*                                                                  */
*/*  METHOD OF ACCESS                                                */
*/*      BAL  - DSECT IS PRODUCED UNLESS DSECT=NO IS SPECIFIED.      */
*/*             USING ON ASCB GIVES ADDRESSABILITY FOR ALL SYMBOLS.  */
*/*      PL/S - DCL ASCBPTR PTR                                      */
*/*                                                                  */
*/* **************************************************************** */
*                                                                  0011
*   DCL                                                            0011
*     1 ASCB BASED(ASCBPTR) BDY(DWORD),                            0011
*      2 ASCBEGIN CHAR(0),          /* BEGINNING OF ASCB             */
*      2 ASCBASCB CHAR(4) BDY(WORD),/* ACRONYM IN EBCDIC -ASCB-      */
*      2 ASCBFWDP PTR(31),          /* ADDRESS OF NEXT ASCB ON ASCB
*                                      READY QUEUE                   */
*      2 ASCBBWDP PTR(31),          /* ADDRESS OF PREVIOUS ASCB ON 0011
*                                      ASCB READY QUEUE              */
*      2 ASCBLOCK FIXED(31),        /* LOCAL LOCK                    */
*      2 ASCBIOSP PTR(31),          /* POINTER TO IOS PURGE INTERFACE
*                                      CONTROL BLOCK (IPIB)          */
*      2 ASCBFSLQ PTR(31),          /* POINTER TO FIRST SUSPENDED SRB
*                                      ON THE LOCK SUSPENDED SRB   0011
*                                      QUEUE                         */
*      2 ASCBLSLQ PTR(31),          /* POINTER TO LAST SUSPENDED SRB
*                                      ON THE LOCK SUSPENDED SRB   0011
*                                      QUEUE                         */
*      2 ASCBSPL PTR(31),           /* POINTER TO SPL                */
*      2 ASCBCPUS FIXED(31),        /* NUMBER OF CPU'S ACTIVE IN THIS
*                                      MEMORY MDC007                 */
*      2 ASCBASID BIT(16) BDY(WORD),/* ADDRESS SPACE IDENTIFIER FOR
*                                      THE ASCB                      */
*      2 ASCBSEQN FIXED(15),        /* SEQUENCE NUMBER THAT        0011
*                                      REPRESENTS THE ASCB'S POSITION
*                                      ON THE DISPATCHING QUEUE      */
*      2 ASCBIOSM FIXED(15) BDY(WORD),/* I/O SERVICE MEASURE         */
*      2 ASCBRV07 PTR(8),           /* RESERVED MDC017               */
*      2 ASCBDP PTR(8),             /* DISPATCHING PRIORITY RANGE  0011
*                                      FROM 0-255                    */
*      2 ASCBSTOR PTR(31),          /* TABLE LENGTH AND REAL ADDRESS
*                                      OF SEGMENT TABLE IN THE SAME
*                                      FORMAT AS CONTROL REGISTER ONE
*                                      MDC027                        */
*      2 ASCBLDA PTR(31),           /* POINTER TO LOCAL DATA AREA  0011
*                                      PART OF LSQA FOR VSM          */
*      2 ASCBRSM PTR(31),           /* ADDRESS OF RSM'S CONTROL BLOCK
*                                      HEADER                        */
*      2 ASCBCSCB PTR(31),          /* ADDRESS OF CSCB               */
*      2 ASCBTSB PTR(31),           /* ADDRESS OF TSB                */
*      2 ASCBEJST BIT(64) BDY(DWORD),/* ELAPSED JOB STEP TIMING    0011
*                                      UNSIGNED 64-BIT BINARY NUMBER */
*      2 ASCBEWST BIT(64) BDY(DWORD),/* TIME OF DAY WHENEVER I-STREAM
*                                      IS SWITCHED FROM A MEMORY     */
*      2 ASCBJSTL BIT(32) BDY(WORD),/* CPU TIME LIMIT FOR THE JOB  0011
*                                      STEP                          */
*      2 ASCBECB BIT(32) BDY(WORD), /* RCT'S WORK ECB                */
*      2 ASCBUBET BIT(32) BDY(WORD),/* TIME STAMP WHEN USER BECAME 0011
*                                      READY                         */
*      2 ASCBQSVC FIXED(31),        /* CPID FOR SVRB QUICKCELL       */
*      2 ASCBDUMP PTR(31),          /* SVC DUMP'S ECB POINTER        */
*      2 ASCBFW1 FIXED(31),         /* FULL-WORD LABEL TO BE USED FOR
*                                      COMPARE AND SWAP FOR ANY BIT
*                                      IN THIS WORD MDC026           */
*       3 ASCBAFFN BIT(16) BDY(WORD),/* CPU AFFINITY INDICATOR       */
*       3 ASCBRCTF BIT(8),          /* FLAGS FOR RCT                 */
*        4 ASCBTMNO BIT(1),         /* MEMORY IS BEING QUIESCED, IS
*                                      QUIESCED, OR IS BEING RESTORED*/
*        4 ASCBFRS BIT(1),          /* RESTORE REQUEST               */
*        4 ASCBFQU BIT(1),          /* QUICESCE REQUEST              */
*        4 ASCBRV08 BIT(1),         /* RESERVED (MDC031)       YM2236*/
*        4 ASCBWAIT BIT(1),         /* LONG WAIT INDICATOR           */
*        4 ASCBOUT BIT(1),          /* ADDRESS SPACE CONSIDERED    0011
*                                      SWAPPED OUT                   */
*        4 ASCBTMLW BIT(1),         /* MEMORY IS IN A LONG WAIT      */
*        4 ASCBRF01 BIT(1),         /* RESERVED                      */
*       3 ASCBFLG1 BIT(8),          /* FLAG BYTE                     */
*        4 ASCBTOFF BIT(1),         /* MEMORY SHOULD NOT BE CHECKED
*                                      FOR JOB STEP TIMING           */
*        4 ASCBCMSH BIT(1),         /* CMS LOCK HELD                 */
*        4 ASCBS3S BIT(1),          /* STAGE II EXIT EFFECTOR HAS  0011
*                                      SCHEDULED A RQE OR IQE AND  0011
*                                      STAGE III EXIT EFFECTOR SHOULD
*                                      BE INVOKED                    */
*        4 ASCBTERM BIT(1),         /* ADDRESS SPACE TERMINATING   0011
*                                      NORMALLY                      */
*        4 ASCBABNT BIT(1),         /* ADDRESS SPACE TERMINATING   0011
*                                      ABNORMALLY                    */
*        4 ASCBSTND BIT(1),         /* TCB'S NON-DISPATCHABLE        */
*        4 ASCBTYP1 BIT(1),         /* TYPE1 SVC HAS CONTROL         */
*        4 ASCBNSWP BIT(1),         /* PROGRAM IS NON SWAPPABLE OR 0011
*                                      WILL RUN IN V=R REGION        */
*      2 ASCBTMCH PTR(31),          /* TERMINATION QUEUE CHAIN       */
*      2 ASCBASXB PTR(31),          /* POINTER TO ADDRESS SPACE    0011
*                                      EXTENSION CONTROL BLOCK (ASXB)*/
*      2 ASCBSWCT FIXED(15) BDY(WORD),/* NUMBER OF TIMES MEMORY    0011
*                                      ENTERS SHORT WAIT             */
*      2 ASCBDSP1 BIT(8),           /* NON-DISPATCHABILITY FLAGS     */
*       3 ASCBNOQ BIT(1),           /* ASCB NOT ON ASCB DISPATCHING
*                                      QUEUE                         */
*       3 ASCBFAIL BIT(1),          /* A FAILURE HAS OCCURRED WITHIN
*                                      THE ADDRESS SPACE. THE MEMORY
*                                      IS NONDISPATCHABLE            */
*       3 ASCBRF02 BIT(1),          /* RESERVED MDC013               */
*       3 ASCBRF03 BIT(1),          /* RESERVED MDC014               */
*       3 ASCBRF04 BIT(1),          /* RESERVED                      */
*       3 ASCBRF05 BIT(1),          /* RESERVED                      */
*       3 ASCBRF06 BIT(1),          /* RESERVED                      */
*       3 ASCBRF07 BIT(1),          /* RESERVED                      */
*      2 ASCBFLG2 BIT(8),           /* FLAG BYTE MDC015              */
*       3 ASCBXMPT BIT(1),          /* ASCB EXEMPT FROM SYSTEM     0011
*                                      NON-DISPATCHABLE MDC013       */
*       3 ASCBPXMT BIT(1),          /* ASCB PERMANENTLY EXEMPT FROM
*                                      SYSTEM NON-DISPATCHABLE MDC014*/
*       3 ASCBCEXT BIT(1),          /* CANCEL TIMER EXTENSION BECAUSE
*                                      EOT PROCESSING IS STARTED FOR
*                                      THE JOB STEP TCB MDC021       */
*       3 ASCBS2S BIT(1),           /* FOR LOCK MANAGER, ENTRY MADE
*                                      TO STAGE II EXIT EFFECTOR   0011
*                                      WITHOUT CORRESPONDING ENTRY TO
*                                      STAGE III EXIT EFFECTOR MDC020*/
*       3 ASCBSNQS BIT(1),          /* STATUS STOP NON-QUIESCEABLE 0011
*                                      LEVEL SRB'S MDC028            */
*       3 ASCBRV04 BIT(1),          /* RESERVED                      */
*       3 ASCBRV05 BIT(1),          /* RESERVED                      */
*       3 ASCBRV06 BIT(1),          /* RESERVED                      */
*      2 ASCBSSRB FIXED(15) BDY(WORD),/* COUNT OF STATUS STOP SRB'S  */
*      2 ASCBSRBS FIXED(15),        /* COUNT OF SRB'S DISPATCHED IN
*                                      THIS MEMORY                   */
*      2 ASCBVSC FIXED(15) BDY(WORD),/* ALLOCATED AUXILIARY SLOT   0011
*                                      COUNT (VAM) MDC004            */
*      2 ASCBNVSC FIXED(15),        /* ALLOCATED AUXILIARY SLOT COUNT
*                                      (NON-VAM) MDC005              */
*      2 ASCBTCBS FIXED(31),        /* NUMBER OF READY TCB'S IN THIS
*                                      MEMORY MDC006                 */
*      2 ASCBCMSF PTR(31),          /* ADDRESS OF NEXT ASCB ON CMS 0011
*                                      SUSPEND QUEUE                 */
*      2 ASCBCMSB PTR(31),          /* ADDRESS OF PREVIOUS ASCB ON 0011
*                                      CMS SUSPEND QUEUE             */
*      2 ASCBQECB BIT(32) BDY(WORD),/* QUIESCE ECB                   */
*      2 ASCBMECB BIT(32) BDY(WORD),/* MEMORY CREATE/DELETE ECB      */
*      2 ASCBOUCB PTR(31),          /* SYSTEM RESOURCES MANAGER (SRM)
*                                      USER CONTROL BLOCK POINTER    */
*      2 ASCBOUXB PTR(31),          /* SYSTEM RESOURCES MANAGER (SRM)
*                                      USER EXTENSION BLOCK POINTER  */
*      2 ASCBFMCT FIXED(15) BDY(WORD),/* ALLOCATED PAGE FRAME COUNT  */
*      2 ASCBRS01 FIXED(15),        /* RESERVED FOR FUTURE USE       */
*      2 ASCBXMPQ PTR(31),          /* POINTER TO XMPOST SRB QUEUE 0011
*                                      MDC023                        */
*      2 ASCBIQEA PTR(31),          /* POINTER TO IQE FOR ATCAM    0011
*                                      ASYNCHRONOUS PROCESSING MDC010*/
*      2 ASCBRTWA PTR(31),          /* POINTER TO LAST RTM2 WORK AREA
*                                      ACQUIRED FROM SQA MDC011      */
*      2 ASCBMCC CHAR(4) BDY(WORD), /* USED TO HOLD A MEMORY       0011
*                                      TERMINATION COMPLETION CODE ON
*                                      ABNORMAL MEMORY TERMINATION 0011
*                                      MDC012                        */
*      2 ASCBJBNI PTR(31),          /* POINTER TO JOBNAME FIELD FOR
*                                      INITIATED PROGRAMS OR ZERO  0011
*                                      MDC018                        */
*      2 ASCBJBNS PTR(31),          /* POINTER TO JOBNAME FIELD FOR
*                                      START/MOUNT/LOGON OR ZERO   0011
*                                      MDC019                        */
*      2 ASCBLGCB PTR(31),          /* ADDRESS OF LOGICAL GROUP CHAIN
*                                      BLOCK (LGCB) CHAIN MDC022     */
*      2 ASCBVGTT PTR(31),          /* ADDRESS OF VSAM GLOBAL      0011
*                                      TERMINATION TABLE (VGTT)    0011
*                                      MDC024                        */
*      2 ASCBPCTT PTR(31),          /* ADDRESS OF PRIVATE CATALOG  0011
*                                      TERMINATION TABLE (PCTT)    0011
*                                      MDC025                        */
*      2 ASCBRS12 FIXED(15),        /* RESERVED FOR FUTURE USE       */
*      2 ASCBSMCT PTR(8),           /* NUMBER OF OUTSTANDING STEP  0011
*                                      MUST COMPLETE REQUESTS IN   0011
*                                      ADDRESS SPACE MDC016          */
*      2 ASCBRS14 BIT(8),           /* RESERVED FOR FUTURE USE       */
*      2 ASCBSWTL FIXED(31),        /* STEP WAIT TIME LIMIT MDC029   */
*      2 ASCBSRBT CHAR(8) BDY(DWORD),/* ACCUMULATED SRB TIME MDC030  */
*      2 ASCBEND CHAR(0) BDY(DWORD);/* END OF ASCB                   */
*                                                                  0012
*/* ******************************************************************/
*/*                                                                  */
*/*  THE SDWA (SYSTEM DIAGNOSTIC WORK AREA) IS USED BY BOTH (E)STA   */
*/*  EXIT ROUTINES AND FRR ROUTINES AS THE COMMUNICATION AREA        */
*/*  BETWEEN THE RTM AND THE (E)STA OR FRR WHEN ERRORS OCCUR.        */
*/*  IT IS ALSO REFERRED TO AS THE RTCA (RECOVERY TERMINATION        */
*/*  COMMUNICATION AREA). IT CONTAINS DATA CONCERNING THE ORIGINAL   */
*/*  ERROR AND ALSO CONCERNING ACTIONS OF PREVIOUSLY ENTERED         */
*/*  RECOVERY ROUTINES.                                              */
*/*                                                                  */
*/*  METHOD OF ACCESS                                                */
*/*  BAL                                                             */
*/*              IHASDWA DSECT =  YES                                */
*/*                               NO                                 */
*/*  DSECT = YES IS THE DEFAULT AND WILL PRODUCE THE SDWA            */
*/*             AS A DSECT.                                          */
*/*  DSECT = NO WILL PRODUCE THE SDWA AS A CONTINUATION OF           */
*/*             DEFINED STORAGE. (NO DSECT CARD PRODUCED)            */
*/*  PLS                                                             */
*/*    IF MACRO VARIABLE %SDWA9999 IS NOT EQUAL TO ','               */
*/*    AND %SDWALVL IS NULL, THE SDWA WILL BE INCLUDED               */
*/*    AS A LEVEL 1 STRUCTURE BASED ON SDWAPTR.                      */
*/*                                                                  */
*/*    IF %SDWALVL IS SPECIFIED AS A NUMBER FROM 1 TO 4              */
*/*    THE SDWA WILL BE A NON-BASED STRUCTURE WITH THE               */
*/*    TOP LEVEL EQUAL TO %SDWALVL.                                  */
*/*                                                                  */
*/*    IF SDWA9999 IS EQUAL TO ',' THE SDWA WILL                     */
*/*    TERMINATE WITH A COMMA RATHER THAN A                          */
*/*    SEMI-COLON.                                                   */
*/*                                                                  */
*/*                                                                  */
*/*  MACMEAN SDWA MEANS SYSTEM DIAGNOSTIC WORK AREA                  */
*/*  MACCOMP Y-1 SC1C5/PZD81                                         */
*/*  MACSTAT Y-1 72318/Y02703,Y02704                                 */
*/*                                                                  */
*/* ******************************************************************/
*                                                                  0012
*   DECLARE                                                        0012
*     1 SDWA BASED(SDWAPTR),                                       0012
*          6 SDWAPARM PTR(31),      /* PARAMETER LIST ADDRESS IF   0012
*                                      (E)STA MACRO SPECIFIED PARAM
*                                      OPTION OR 0. FOR FRRS THIS IS
*                                      THE ADDRESS OF THE 6 WORD PARM
*                                      AREA RETURNED BY THE SETFRR 0012
*                                      MACRO WHEN THE PARMAD KEYWORD
*                                      IS SPECIFIED ON THE ON THE  0012
*                                      SETFRR MACRO                  */
*          6 SDWAFIOB PTR(31),      /* ADDRESS OF PURGE I/O REQUEST
*                                      LIST (PIRL), OR 0 IF HALT I/O
*                                      IS REQUESTED ON ENTRY TO RETRY
*                                      ROUTINE FOR (E)STA.           */
*           7 SDWAABCC CHAR(4),     /* ABEND COMPLETION CODE ON ENTRY
*                                      TO EXIT ROUTINE               */
*            8 SDWACMPF CHAR(1),    /* FLAG BITS IN COMPLETION CODE. */
*             9 SDWAREQ BIT(1),     /* ON, DUMP TO BE GIVEN. SET IF
*                                      DUMP REQUESTED BY ABEND,    0012
*                                      CALLRTM, OR SETRP MACRO.      */
*             9 SDWASTEP BIT(1),    /* ON, JOBSTEP TO BE           0012
*                                      TERMINATED.SET IF STEP OPTION
*                                      SPECIFIED ON ABEND MACRO.     */
*             9 * BIT(1),           /* RESERVED                      */
*             9 SDWASTCC BIT(1),    /* ON, DON'T STORE COMPLETION  0012
*                                      CODE. NOT USED IN OS/VS2 REL.
*                                      2                             */
*             9 * BIT(4),           /* RESERVED                      */
*            8 SDWACMPC CHAR(3),    /* SYSTEM COMPLETION CODE (FIRST
*                                      12 BITS) AND USER COMPLETION
*                                      CODE (SECOND 12 BITS).        */
*          6 SDWACTL1 CHAR(8) BDY(WORD),/* BC MODE PSW AT TIME OF  0012
*                                      ERROR. NOT INITIALIZED FOR  0012
*                                      FRRS.                         */
*           7 SDWACMKA CHAR(1),     /* CHANNEL INTERRUPTS MASKS      */
*            8 SDWAIOA BIT(7),      /* I/O INTERRUPTS (ALL ZEROS OR
*                                      ALL ONES).                    */
*            8 SDWAEXTA BIT(1),     /* EXTERNAL INTERRUPT.           */
*           7 SDWAMWPA CHAR(1),     /* PSW KEY AND 'M-W-P'.          */
*            8 SDWAKEYA BIT(4),     /* PSW KEY                       */
*            8 * BIT(1),            /* RESERVED                      */
*            8 SDWAMCKA BIT(1),     /* MACHINE CHECK INTERRUPT       */
*            8 SDWAWATA BIT(1),     /* WAIT STATE.                   */
*            8 SDWASPVA BIT(1),     /* SUPERVISOR/PROBLEM- PROGRAM 0012
*                                      MODE.                         */
*           7 SDWAINTA CHAR(2),     /* INTERRUPT CODE (LAST 2 BYTES
*                                      OF INTERRUPT CODE IF I/O    0012
*                                      INTERRUPT).                   */
*           7 SDWAPMKA CHAR(1),     /* INSTRUCTION LENGTH CODE,    0012
*                                      CONDITION CODE, AND PROGRAM 0012
*                                      MASKS.                        */
*            8 SDWAILA BIT(2),      /* INSTRUCTION LENGTH CODE       */
*            8 SDWACCA BIT(2),      /* LAST CONDITION CODE           */
*            8 SDWAFPA BIT(1),      /* FIXED-POINT OVERFLOW          */
*            8 SDWADOA BIT(1),      /* DECIMAL OVERFLOW              */
*            8 SDWAEUA BIT(1),      /* EXPONENT UNDERFLOW            */
*            8 SDWASGA BIT(1),      /* SIGNIFANCE                    */
*           7 SDWANXTA PTR(24),     /* ADDRESS OF NEXT INSTRUCTION TO
*                                      BE EXECUTED                   */
*          6 SDWACTL2 CHAR(8) BDY(WORD),/* BC MODE PSW FROM LAST PRB
*                                      ON RB CHAIN. ZERO FOR FRRS.   */
*           7 SDWACMKP CHAR(1),     /* CHANNEL INTERRUPTS MASKS      */
*            8 SDWAIOP BIT(7),      /* I/O INTERRUPTS (ALL ZEROS OR
*                                      ALL ONES).                    */
*            8 SDWAEXTP BIT(1),     /* EXTERNAL INTERRUPT.           */
*           7 SDWAMWPP CHAR(1),     /* PSW KEY AND 'M-W-P'.          */
*            8 SDWAKEYP BIT(4),     /* PSW KEY                       */
*            8 * BIT(1),            /* RESERVED                      */
*            8 SDWAMCKP BIT(1),     /* MACHINE CHECK INTERRUPT       */
*            8 SDWAWATP BIT(1),     /* WAIT STATE.                   */
*            8 SDWASPVP BIT(1),     /* SUPERVISOR/PROBLEM- PROGRAM 0012
*                                      MODE.                         */
*           7 SDWAINTP CHAR(2),     /* INTERRUPT CODE (LAST 2 BYTES
*                                      OF INTERRUPT CODE IF I/O    0012
*                                      INTERRUPT).                   */
*           7 SDWAPMKP CHAR(1),     /* INSTRUCTION LENGTH CODE,    0012
*                                      CONDITION CODE, AND PROGRAM 0012
*                                      MASKS.                        */
*            8 SDWAILP BIT(2),      /* INSTRUCTION LENGTH CODE       */
*            8 SDWACCP BIT(2),      /* LAST CONDITION CODE           */
*            8 SDWAFPP BIT(1),      /* FIXED-POINT OVERFLOW          */
*            8 SDWADOP BIT(1),      /* DECIMAL OVERFLOW              */
*            8 SDWAEUP BIT(1),      /* EXPONENT UNDERFLOW            */
*            8 SDWASGP BIT(1),      /* SIGNIFICANCE                  */
*           7 SDWANXTP PTR(24),     /* ADDRESS OF NEXT INSTRUCTION TO
*                                      BE EXECUTED                   */
*          6 SDWAGRSV CHAR(64) BDY(WORD),/* GENERAL PURPOSE REGISTERS
*                                      AT TIME OF ERROR              */
*           7 SDWAGR00 FIXED(31),   /* GPR 0.                        */
*           7 SDWAGR01 FIXED(31),   /* GPR 1.                        */
*           7 SDWAGR02 FIXED(31),   /* GPR 2.                        */
*           7 SDWAGR03 FIXED(31),   /* GPR 3.                        */
*           7 SDWAGR04 FIXED(31),   /* GPR 4.                        */
*           7 SDWAGR05 FIXED(31),   /* GPR 5.                        */
*           7 SDWAGR06 FIXED(31),   /* GPR 6.                        */
*           7 SDWAGR07 FIXED(31),   /* GPR 7.                        */
*           7 SDWAGR08 FIXED(31),   /* GPR 8.                        */
*           7 SDWAGR09 FIXED(31),   /* GPR 9.                        */
*           7 SDWAGR10 FIXED(31),   /* GPR 10.                       */
*           7 SDWAGR11 FIXED(31),   /* GPR 11.                       */
*           7 SDWAGR12 FIXED(31),   /* GPR 12.                       */
*           7 SDWAGR13 FIXED(31),   /* GPR 13.                       */
*           7 SDWAGR14 FIXED(31),   /* GPR 14.                       */
*           7 SDWAGR15 FIXED(31),   /* GPR 15.                       */
*          6 SDWANAME CHAR(8) BDY(WORD),/* IF PROBLEM PROGRAM MODE 0012
*                                      NAME OF ABENDING PROGRAM, OR
*                                      ZERO IF NO NAME IS AVAILABLE.
*                                      ZERO IF NOT RUNNING UNDER AN
*                                      RB.                           */
*           7 SDWARBAD PTR(31),     /* RB ADDRESS OF ABENDING      0012
*                                      PROGRAM. (IF SUPERVISOR MODE
*                                      PROGRAM RUNNING UNDER AN RB)  */
*           7 * CHAR(4),            /* CONTAINS ZEROS IF SUPERVISOR
*                                      MODE PROGRAM RUNNING UNDER AN
*                                      RB. OR IF PROGRAM NOT RUNNING
*                                      UNDER AN RB.                  */
*          6 SDWAEPA PTR(31),       /* ENTRY POINT ADDRESS OF      0012
*                                      ABENDING PROGRAM. ZERO IF NOT
*                                      RUNNING UNDER AN RB.          */
*          6 SDWAIOBR PTR(31),      /* POINTER TO SDWAFIOB FIELD, OR
*                                      0 IF NO RETRY, OR 0 IF HALT 0012
*                                      I/O IS REQUESTED FOR (E)STA 0012
*                                      EXITS. ZERO FOR FRRS. ICB3777 */
*          6 SDWAEC1 CHAR(8) BDY(WORD),/* EXTENDED CONTROL PSW AT  0012
*                                      TIME OF ERROR(ABEND)          */
*           7 SDWAEMK1 CHAR(1),     /* INTERRUPT INFORMATION MASKS   */
*            8 * BIT(1),            /* RESERVED                      */
*            8 SDWAPER1 BIT(1),     /* ON,PROGRAM EVENT RECORD- ING
*                                      INTERRUPTS CAN OCCUR        0012
*                                      OFF,PROGRAM EVENT RECORD- ING
*                                      INTERRUPTS CANNOT OCCUR       */
*            8 * BIT(3),            /* RESERVED                      */
*            8 SDWATRM1 BIT(1),     /* ON,ADDRESS TRANSLATION ACTIVE */
*            8 SDWAIO1 BIT(1),      /* OFF,I/O INTERRUPTIONS CANNOT
*                                      OCCUR ON,I/O INTERRUPTIONS CAN
*                                      OCCUR SUBJECT TO CHANNEL MASK
*                                      BITS IN CONTROL REGS 2 AND 3  */
*            8 SDWAEXT1 BIT(1),     /* OFF,EXTERNAL INTERRUPTIONS  0012
*                                      CANNOT OCCUR ON,EXTERNAL    0012
*                                      INTERRUPTIONS CAN OCCUR     0012
*                                      SUBJECT TO EXTERNAL SUBCLASS
*                                      MASK BITS OF CONTROL REGISTER
*                                      0                             */
*           7 SDWAMWP1 CHAR(1),     /* PSW KEY AND 'M-W-P'           */
*            8 SDWAKEY1 BIT(4),     /* PSW KEY                       */
*            8 SDWAECT1 BIT(1),     /* EXTENDED CONTROL MODE BIT     */
*            8 SDWAMCK1 BIT(1),     /* OFF,MACHINE CHECKS CANNOT   0012
*                                      OCCUR ON,MACHINE CHECKS DUE TO
*                                      SYSTEM DAMAGE AND           0012
*                                      INSTRUCTION-PROCESSING DAMAGE
*                                      CAN OCCUR. OTHER MACHINE    0012
*                                      CHECKS SUBJECT TO MASK BITS IN
*                                      CONTROL REGISTER 14           */
*            8 SDWAWAT1 BIT(1),     /* ON,CPU IN WAIT STATE          */
*            8 SDWAPGM1 BIT(1),     /* ON,PROBLEM STATE            0012
*                                      OFF,SUPERVISOR STATE          */
*           7 SDWAINT1 CHAR(1),     /* CONDITION CODE AND PROGRAM  0012
*                                      MASK                          */
*            8 * BIT(2),            /* RESERVED                      */
*            8 SDWACC1 BIT(2),      /* CONDITION CODE                */
*            8 SDWAFPO1 BIT(1),     /* FIXED POINT OVERFLOW          */
*            8 SDWADEC1 BIT(1),     /* DECIMAL OVERFLOW              */
*            8 SDWAEXP1 BIT(1),     /* EXPONENT UNDERFLOW            */
*            8 SDWASGN1 BIT(1),     /* SIGNIFICANCE                  */
*           7 * CHAR(1),            /* RESERVED                      */
*           7 SDWANXT1 PTR(31),     /* ADDRESS OF NEXT INSTRUCTION TO
*                                      BE EXECUTED                   */
*            8 * PTR(8),            /* RESERVED                      */
*            8 SDWAADD1 PTR(24),    /* INSTRUCTION ADDRESS           */
*          6 SDWAAEC1 CHAR(8) BDY(WORD),/* ADDITIONAL EC MODE      0012
*                                      INFORMATION                   */
*           7 * CHAR(1),            /* RESERVED                      */
*           7 SDWAILC1 PTR(8),      /* INSTRUCTION LENGTH CODE FOR 0012
*                                      PSW DEFINED BY         SDWAEC1*/
*            8 * BIT(5),            /* RESERVED ALWAYS ZERO          */
*            8 SDWAIL1 BIT(2),      /* INSTRUCTION LENGTH CODE       */
*            8 * BIT(1),            /* RESERVED ALWAYS ZERO          */
*           7 SDWAINC1 FIXED(16),   /* INTERRUPT CODE. IF PROGRAM  0012
*                                      CHECK OCCURRED THE SUBFIELDS
*                                      ARE FURTHER DIVIDED           */
*            8 * CHAR(1),           /* RESERVED FOR IMPRECISE      0012
*                                      INTERRUPTS IF PROGRAM CHECK   */
*            8 SDWAICD1 PTR(8),     /* 8 BIT INTERRUPT CODE IF     0012
*                                      PROGRAM CHECK                 */
*             9 SDWAIPR1 BIT(1),    /* PER INTERRUPT OCCURRED        */
*             9 SDWAIMC1 BIT(1),    /* MONITOR CALL INTERRUPT      0012
*                                      OCCURRED                      */
*             9 SDWAIPC1 BIT(6),    /* AN UNSOLICITED PROGRAM CHECK
*                                      HAS OCCURRED                  */
*           7 SDWATRAN PTR(31),     /* VIRTUAL ADDRESS CAUSING     0012
*                                      TRANSLATION EXCEPTION         */
*          6 SDWAEC2 CHAR(8) BDY(WORD),/* EC MODE PSW OF THE RB WHICH
*                                      CREATED THE ESTAE EXIT AT THE
*                                      TIME IT LAST INCURRED AN    0012
*                                      INTERRUPT OR 0 FOR ESTAI. OR
*                                      PSW USED TO GIVE FRR CONTROL  */
*           7 SDWAEMK2 CHAR(1),     /* INTERRUPT INFORMATION MASKS   */
*            8 * BIT(1),            /* RESERVED                      */
*            8 SDWAPER2 BIT(1),     /* ON,PROGRAM EVENT RECORD- ING
*                                      INTERRUPTS CAN OCCUR        0012
*                                      OFF,PROGRAM EVENT RECORD- ING
*                                      INTERRUPTS CANNOT OCCUR       */
*            8 * BIT(3),            /* RESERVED                      */
*            8 SDWATRM2 BIT(1),     /* ON,ADDRESS TRANSLATION ACTIVE */
*            8 SDWAIO2 BIT(1),      /* OFF,I/O INTERRUPTIONS CANNOT
*                                      OCCUR ON,I/O INTERRUPTIONS CAN
*                                      OCCUR SUBJECT TO CHANNEL MASK
*                                      BITS IN CONTROL REGS 2 AND 3  */
*            8 SDWAEXT2 BIT(1),     /* OFF,EXTERNAL INTERRUPTIONS  0012
*                                      CANNOT OCCUR ON,EXTERNAL    0012
*                                      INTERRUPTIONS CAN OCCUR     0012
*                                      SUBJECT TO EXTERNAL SUBCLASS
*                                      MASK BITS OF CONTROL REGISTER
*                                      0                             */
*           7 SDWAMWP2 CHAR(1),     /* PSW KEY AND 'M-W-P'           */
*            8 SDWAKEY2 BIT(4),     /* PSW KEY                       */
*            8 SDWAECT2 BIT(1),     /* EXTENDED CONTROL MODE BIT     */
*            8 SDWAMCK2 BIT(1),     /* OFF,MACHINE CHECKS CANNOT   0012
*                                      OCCUR ON,MACHINE CHECKS DUE TO
*                                      SYSTEM DAMAGE AND           0012
*                                      INSTRUCTION-PROCESSING DAMAGE
*                                      CAN OCCUR. OTHER MACHINE    0012
*                                      CHECKS SUBJECT TO MASK BITS IN
*                                      CONTROL REGISTER 14           */
*            8 SDWAWAT2 BIT(1),     /* ON,CPU IN WAIT STATE          */
*            8 SDWAPGM2 BIT(1),     /* ON,PROBLEM STATE            0012
*                                      OFF,SUPERVISOR STATE          */
*           7 SDWAINT2 CHAR(1),     /* CONDITION CODE AND PROGRAM  0012
*                                      MASK                          */
*            8 * BIT(2),            /* RESERVED                      */
*            8 SDWACC2 BIT(2),      /* CONDITION CODE                */
*            8 SDWAFPO2 BIT(1),     /* FIXED POINT OVERFLOW          */
*            8 SDWADEC2 BIT(1),     /* DECIMAL OVERFLOW              */
*            8 SDWAEXP2 BIT(1),     /* EXPONENT UNDERFLOW            */
*            8 SDWASGN2 BIT(1),     /* SIGNIFICANCE                  */
*           7 * CHAR(1),            /* RESERVED                      */
*           7 SDWANXT2 PTR(31),     /* ADDRESS OF NEXT INSTRUCTION TO
*                                      BE EXECUTED                   */
*            8 * PTR(8),            /* RESERVED                      */
*            8 SDWAADD2 PTR(24),    /* INSTRUCTION ADDRESS           */
*          6 SDWAAEC2 CHAR(8) BDY(WORD),/* ADDITIONAL EC MODE      0012
*                                      INFORMATION                   */
*           7 * CHAR(1),            /* RESERVED                      */
*           7 SDWAILC2 CHAR(1),     /* INSTRUCTION LENGTH CODE FOR 0012
*                                      PSW DEFINED BY         SDWAEC2*/
*            8 * BIT(5),            /* RESERVED ALWAYS ZERO          */
*            8 SDWAIL2 BIT(2),      /* INSTRUCTION LENGTH CODE       */
*            8 * BIT(1),            /* RESERVED ALWAYS ZERO          */
*           7 SDWAINC2 FIXED(16),   /* INTERRUPT CODE. IF PROGRAM  0012
*                                      CHECK OCCURRED THE SUBFIELDS
*                                      ARE FURTHER DIVIDED           */
*            8 * CHAR(1),           /* RESERVED FOR IMPRECISE      0012
*                                      INTERRUPTS ON PROGRAM CHECK 0012
*                                      INTERRUPT                     */
*            8 SDWAICD2 PTR(8),     /* 8 BIT INTERRUPT CODE IF     0012
*                                      PROGRAM CHECK                 */
*             9 SDWAIPR2 BIT(1),    /* PER INTERRUPT OCCURRED        */
*             9 SDWAIMC2 BIT(1),    /* MONITOR CALL INTERRUPT      0012
*                                      OCCURRED                      */
*             9 SDWAIPC2 BIT(6),    /* AN UNSOLICITED PROGRAM CHECK
*                                      OCCURRED                      */
*           7 SDWATRN2 PTR(31),     /* VIRTUAL ADDRESS CAUSING     0012
*                                      TRANSLATION EXCEPTION         */
*          6 SDWASRSV CHAR(64) BDY(WORD),/* GENERAL PURPOSE REGISTERS
*                                      OF THE RB LEVEL WHICH CREATED
*                                      THE ESTAE EXIT AT THE TIME IT
*                                      LAST INCURRED AN INTERRUPT OR
*                                      0 FOR ESTAI. FOR FRRS       0012
*                                      INITIALIZED TO REGISTERS AT 0012
*                                      TIME OF ERROR. THIS REGISTER
*                                      AREA IS USED TO UPDATE      0012
*                                      REGISTER CONTENTS FOR RETRY IF
*                                      REQUESTED                     */
*           7 SDWASR00 FIXED(31),   /* GPR 0.                        */
*           7 SDWASR01 FIXED(31),   /* GPR 1.                        */
*           7 SDWASR02 FIXED(31),   /* GPR 2.                        */
*           7 SDWASR03 FIXED(31),   /* GPR 3.                        */
*           7 SDWASR04 FIXED(31),   /* GPR 4.                        */
*           7 SDWASR05 FIXED(31),   /* GPR 5.                        */
*           7 SDWASR06 FIXED(31),   /* GPR 6.                        */
*           7 SDWASR07 FIXED(31),   /* GPR 7.                        */
*           7 SDWASR08 FIXED(31),   /* GPR 8.                        */
*           7 SDWASR09 FIXED(31),   /* GPR 9.                        */
*           7 SDWASR10 FIXED(31),   /* GPR 10,                       */
*           7 SDWASR11 FIXED(31),   /* GPR 11.                       */
*           7 SDWASR12 FIXED(31),   /* GPR 12.                       */
*           7 SDWASR13 FIXED(31),   /* GPR 13.                       */
*           7 SDWASR14 FIXED(31),   /* GPR 14.                       */
*           7 SDWASR15 FIXED(31),   /* GPR 15.                       */
*          6 SDWAIDNT CHAR(4),      /* SDWA IDENTIFICATION AND     0012
*                                      ATTRIBUTES                    */
*           7 SDWASPID CHAR(1),     /* SUBPOOL ID OF STORAGE       0012
*                                      CONTAINING THIS SDWA          */
*           7 SDWALNTH CHAR(3),     /* LENGTH OF THIS SDWA IN BYTES  */
*          6 SDWAMCH CHAR(28) BDY(WORD),/* CONTAINS MACHINE CHECK  0012
*                                      DATA IF SDWAMCHK IS ON        */
*           7 SDWASTCK CHAR(8) BDY(WORD),/* BEGINNING AND ENDING   0012
*                                      STORAGE CHECK ADDRESSES.    0012
*                                      FILLED IN DUE TO STORAGE ERROR
*                                      (SDWASCK) OR A KEY FAILURE  0012
*                                      (SDWASKYF) THESE ADDRESSES ARE
*                                      VALID ONLY IF INDICATED BY THE
*                                      SDWASRVL FLAG.                */
*            8 SDWASCKB PTR(31),    /* BEGINNING VIRTUAL ADDRESS OF
*                                      STORAGE CHECK                 */
*            8 SDWASCKE PTR(31),    /* ENDING VIRTUAL ADDRESS OF   0012
*                                      STORAGE CHECK                 */
*           7 SDWAMCHI CHAR(2),     /* ADDITIONAL MCH INFORMATION  0012
*                                      FLAGS                         */
*            8 SDWAMCHS CHAR(1),    /* MCH FLAG BYTE                 */
*             9 SDWASRVL BIT(1),    /* ON,STORAGE ADDRESS SUPPLIED 0012
*                                      (SDWASTCK, SDWARFSA) ARE    0012
*                                      VALID.                        */
*             9 SDWARCDF BIT(1),    /* ON,MACHINE CHECK RECORD NOT 0012
*                                      RECORDED                      */
*             9 SDWATSVL BIT(1),    /* ON,TIME STAMP VALID           */
*             9 SDWAINVP BIT(1),    /* ON,STORAGE IS RECONFIGURED, 0012
*                                      PAGE IS INVALIDATED.          */
*             9 SDWARSRC BIT(1),    /* ON,STORAGE RECONFIGURATION  0012
*                                      STATUS AVAILABLE            0012
*                                      (SDWARSR1,SDWARSR2)           */
*             9 SDWARSRF BIT(1),    /* ON,STORAGE RECONFIGURATION NOT
*                                      ATTEMPTED (SDWARSR1, SDWARSR2
*                                      ARE INVALID )                 */
*             9 * BIT(2),           /* RESERVED                      */
*            8 SDWAMCHD CHAR(1),    /* INPUT INFORMATION TO RECOVERY
*                                      ROUTINE CON- CERNING A MACHINE
*                                      CHECK ERROR                   */
*             9 SDWASKYF BIT(1),    /* ON,STORAGE KEY FAILURE        */
*             9 SDWAREGU BIT(1),    /* ON,GENERAL PURPOSE REGISTER 0012
*                                      CONTENTS AT TIME OF MACHINE 0012
*                                      CHECK UNPREDICTABLE           */
*             9 SDWAPSWU BIT(1),    /* ON,PSW AND-OR CONTROL       0012
*                                      REGISTERS AT TIME OF MACHINE
*                                      CHECK UNPREDICTABLE           */
*             9 SDWASCK BIT(1),     /* ON,STORAGE DATA CHECK         */
*             9 SDWAACR BIT(1),     /* ON,INDICATES ACR REQUEST      */
*             9 SDWAINSF BIT(1),    /* ON,INSTRUCTION FAILURE        */
*             9 SDWAFPRX BIT(1),    /* ON, CONTENTS OF FLOATING POINT
*                                      REGISTERS AT TIME OF MACHINE
*                                      CHECK ARE UNPREDICTABLE       */
*             9 SDWATERR BIT(1),    /* ON,TIMER ERROR - CAUSES ENTRY
*                                      TO RECOVERY ROUTINES ONLY IF
*                                      LOGOUT FAILED                 */
*           7 SDWACPID CHAR(2),     /* ID OF FAILING CPU CAUSING ACR */
*           7 SDWARSR1 CHAR(1),     /* ADDITIONAL STORAGE FRAME ERROR
*                                      INDICATORS AS RETURNED FROM 0012
*                                      REAL STORAGE RECONFIGURATION  */
*            8 * BIT(6),            /* RESERVED                      */
*            8 SDWAMSER BIT(1),     /* STORAGE ERROR ALREADY SET IN
*                                      FRAME                         */
*            8 SDWACHNG BIT(1),     /* CHANGE INDICATOR WAS ON IN  0012
*                                      FRAME                         */
*           7 SDWARSR2 CHAR(1),     /* ADDITIONAL STORAGE ERROR    0012
*                                      INDICATORS.                   */
*            8 SDWAOFLN BIT(1),     /* FRAME OFFLINE OR SCHEDULED TO
*                                      GO OFFLINE IF SDWAINTC IS ON  */
*            8 SDWAINTC BIT(1),     /* INTERCEPT THE FRAME IS      0012
*                                      SCHEDULED TO GO OFFLINE OR THE
*                                      FRAME HAS INCURRED A STORAGE
*                                      ERROR OR IS V=R               */
*            8 SDWASPER BIT(1),     /* STORAGE ERROR PERMANENT ON  0012
*                                      FRAME                         */
*            8 SDWANUCL BIT(1),     /* FRAME CONTAINS PERMANENT    0012
*                                      RESIDENT STORAGE,I.E. NUCLEUS.*/
*            8 SDWAFSQA BIT(1),     /* FRAME IN SQA                  */
*            8 SDWAFLSQ BIT(1),     /* FRAME IN LSQA                 */
*            8 SDWAPGFX BIT(1),     /* FRAME IS PAGE FIXED           */
*            8 SDWAVEQR BIT(1),     /* FRAME IS VIRTUAL=REAL OR    0012
*                                      SCHEDULED FOR VIRTUAL= REAL.
*                                      IF SDWAINTC IS ON             */
*           7 * CHAR(2),            /* RESERVED                      */
*           7 SDWARFSA PTR(31),     /* REAL STORAGE FAILING ADDRESS.
*                                      ( VALID ONLY IF INDICATED BY
*                                      SDWASRVL )                    */
*           7 SDWATIME CHAR(8),     /* TIME STAMP OF ASSOCIATED    0012
*                                      MACHINE CHECK RECORD.         */
*          6 SDWAFLGS CHAR(4),      /* INPUT FLAGS DESCRIBING REASONS
*                                      AND CONDITIONS FOR ENTERING A
*                                      RECOVERY EXIT ROUTINE         */
*           7 SDWAERRA CHAR(1),     /* ERROR TYPE CAUSING ENTRY TO 0012
*                                      RECOVERY ROUTINE              */
*            8 SDWAMCHK BIT(1),     /* ON,MACHINE CHECK              */
*            8 SDWAPCHK BIT(1),     /* ON,PROGRAM CHECK              */
*            8 SDWARKEY BIT(1),     /* ON,INDICATES CONSOLE RESTART
*                                      KEY DEPRESSED                 */
*            8 SDWASVCD BIT(1),     /* ON,INDICATES TASK ISSUED SVC
*                                      13                            */
*            8 SDWAABTM BIT(1),     /* ON,INDICATES SYSTEM FORCED SVC
*                                      13(ABTERM)                    */
*            8 SDWASVCE BIT(1),     /* ON,INDICATES AN SVC WAS ISSUED
*                                      BY A LOCKED OR SRB ROUTINE    */
*            8 SDWATEXC BIT(1),     /* ON,INDICATES AN UNRECOVERABLE
*                                      TRANSLATION FAILURE           */
*            8 SDWAPGIO BIT(1),     /* ON,INDICATES A PAGE I/O ERROR */
*           7 SDWAERRB CHAR(1),     /* ADDITIONAL ERROR ENTRY      0012
*                                      INFORMATION                   */
*            8 * BIT(4),            /* RESERVED                      */
*            8 SDWATYP1 BIT(1),     /* ON,TYPE1 SVC IN CONTROL AT  0012
*                                      TIME OF ERROR                 */
*            8 SDWAENRB BIT(1),     /* ON,ENABLED RB IN CONTROL AT 0012
*                                      TIME OF ERROR                 */
*            8 SDWALDIS BIT(1),     /* ON,A LOGICALLY OR PHYSICALLY
*                                      DISABLED ROUTINE WAS IN     0012
*                                      CONTROL AT TIME OF ERROR.     */
*            8 SDWASRBM BIT(1),     /* SYSTEM IN SRB MODE AT TIME OF
*                                      ERROR                         */
*           7 SDWAERRC CHAR(1),     /* ADDITIONAL ERROR ENTRY      0012
*                                      INFORMATION                   */
*            8 SDWASTAF BIT(1),     /* ON,A PREVIOUS (E)STA EXIT OR
*                                      FRR FAILED                    */
*            8 SDWASTAI BIT(1),     /* ON, A (E)STAI EXIT PREVIOUSLY
*                                      RECEIVED CONTROL              */
*            8 SDWAIRB BIT(1),      /* ON,AN IRB PRECEDED THE RB THAT
*                                      IS ASSOCIATED WITH THIS EXIT  */
*            8 SDWAPERC BIT(1),     /* ON,THIS RECOVERY ROUTINE IS 0012
*                                      BEING PERCOLATED TO           */
*            8 SDWAEAS BIT(1),      /* ON INDICATES A LOWER LEVEL  0012
*                                      EXIT HAS RECOGNIZED AN ERROR
*                                      AND PROVIDED SERVICE- ABILITY
*                                      INFORMATION                   */
*            8 * BIT(3),            /* RESERVED.                     */
*           7 SDWAERRD CHAR(1),     /* ADDITIONAL ERROR ENTRY      0012
*                                      INFORMATION.                  */
*            8 SDWACLUP BIT(1),     /* ON,INDICATES RECOVERY ROUTINE
*                                      ONLY TO CLEANUP AND NOT RETRY
*                                      (IF ESTA EXIT AND 33E       0012
*                                      COMPLETION CODE THE DUMP IS 0012
*                                      TAKEN AFTER ENTRY TO THE    0012
*                                      RECOVERY ROUTINE,IF THE     0012
*                                      COMPLETION CODE IS OTHER THAN
*                                      33E AND IT IS AN ESTA EXIT THE
*                                      DUMP IS TAKEN BEFORE ENTRY TO
*                                      THE RECOVERY ROUTINE)         */
*            8 SDWANRBE BIT(1),     /* ON,RB ASSOCIATED WITH THIS  0012
*                                      ESTA EXIT WAS NOT IN CONTROL
*                                      AT TIME OF ERROR              */
*            8 SDWASTAE BIT(1),     /* ON,THIS ESTA EXIT HAS BEEN  0012
*                                      ENTERED FOR A PREVIOUS ABEND.
*                                      NEVER ON FOR FRRS.            */
*            8 SDWACTS BIT(1),      /* ON,THIS TASK WAS NOT IN     0012
*                                      CONTROL AT TIME OF ERROR BUT A
*                                      TASK WITHIN THE SAME JOBSTEP
*                                      TREE REQUESTED A 'STEP' ABEND.
*                                      ONLY 'ON' IF SDWACLUP IS 'ON'.*/
*            8 SDWAMABD BIT(1),     /* ON,THIS TASK WAS NOT IN     0012
*                                      CONTROL AT TIME OF ERROR BUT
*                                      AN ANCESTOR OF THIS TASK HAS
*                                      ABENDED. ONLY 'ON' IF SDWACLUP
*                                      IS 'ON'                       */
*            8 SDWARPIV BIT(1),     /* ON, THE REGISTERS AND PSW AT
*                                      TIME OF ERROR ARE UNAVAILABLE */
*            8 SDWAMCIV BIT(1),     /* ON, MACHINE CHECK ERROR     0012
*                                      INFORMATION IS UNAVAILABLE.   */
*            8 * BIT(1),            /* RESERVED                      */
*          6 SDWAFMID CHAR(2),      /* ASID OF MEMORY IN WHICH ERROR
*                                      OCCURRED =0, IF MEMORY IS   0012
*                                      CURRENT NOT=0, IF OTHER MEMORY
*                                      IS CURRENT. FOR FRRS- IF THE
*                                      VALUE IS NON ZERO THE FRR IS
*                                      RECEIVING CONTROL IN THE    0012
*                                      MASTER SCHEDULER ADDRESS SPACE
*                                      AND CANNOT ADDRESS THE PRIVATE
*                                      AREA OF THE FAILING ADDRESS 0012
*                                      SPACE. FOR ESTA- IF THE VALUE
*                                      IS NON ZERO ENTRY IS DUE TO 0012
*                                      CROSS MEMORY ABTERM.          */
*          6 SDWAIOFS CHAR(1),      /* THIS IS THE CURRENT I/O     0012
*                                      STATUS.(THE I/O PROCESSING  0012
*                                      REQUESTED BY THE FIRST (E)STA
*                                      EXIT IS THE ONLY REQUEST    0012
*                                      HONORED )                     */
*            8 SDWAIOQR BIT(1),     /* ON,I/O FOR FAILING PROGRAM HAS
*                                      BEEN QUIESCED AND IS        0012
*                                      RESTOREABLE                   */
*            8 SDWAIOHT BIT(1),     /* ON,I/O FOR FAILING PROGRAM IS
*                                      HALTED AND IS NOT RESTOREABLE */
*            8 SDWANOIO BIT(1),     /* ON,FAILING PROGRAM HAS NO I/O
*                                      OUTSTANDING                   */
*            8 SDWANIOP BIT(1),     /* ON,USER REQUESTED NO I/O    0012
*                                      PROCESSING                    */
*            8 * BIT(4),            /* RESERVED                      */
*          6 * CHAR(1),             /* RESERVED                      */
*          6 SDWARTYA PTR(31),      /* ADDRESS OF RETRY ROUTINE      */
*          6 SDWARECA PTR(31),      /* ADDRESS OF VARIABLE RECORDING
*                                      AREA WITHIN SDWA              */
*          6 SDWACPUA CHAR(4) BDY(WORD),/* ADDRESS OF CPU HOLDING  0012
*                                      RESOURCE WHICH CAUSES VALID 0012
*                                      SPIN ON CURRENT CPU-USED WITH
*                                      RESTART KEY ERROR TYPE.IF THIS
*                                      FIELD IS VALIDLY FILLED IN BY
*                                      AN FRR THE FRRS MAINLINE    0012
*                                      PROGRAM WILL BE RESUMED AT THE
*                                      NEXT SEQUENTIAL INSTRUCTION.
*                                      NOT VALID FOR ESTAE EXITS.    */
*           7 * CHAR(2),            /* RESERVED                      */
*           7 SDWALCPU PTR(15) BDY(HWORD),/* LOGICAL ADDRESS OF CPU
*                                      HOLDING RESOURCE              */
*          6 SDWAPARQ CHAR(4),      /* FLAGS SET BY RECOVERY ROUTINE
*                                      TO REQUEST FUR- THEIR       0012
*                                      PROCESSING ACTION             */
*           7 SDWARCDE CHAR(1),     /* RETURN CODE FROM RECOVERY   0012
*                                      ROUTINE TO INDICATE RETRY OR
*                                      TERMINATION ACTIONS : 0,    0012
*                                      CONTINUE WITH TERMINATION THIS
*                                      INDICATION IMPLIES PERCOLATION
*                                      4, RETRY 16, PREVENT FURTHER
*                                      (E)STAI PROCESSING            */
*           7 SDWAACF2 CHAR(1),     /* FLAGS TO INDICATE ADDITIO- NAL
*                                      PROCESSING REQUESTS           */
*            8 SDWARCRD BIT(1),     /* ON,RECORDING REQUESTED        */
*            8 * BIT(1),            /* RESERVED                      */
*            8 SDWASPIN BIT(1),     /* ON,PROGRAM INTERRUPTED VIA THE
*                                      RESTART KEY WAS IN A VALID  0012
*                                      SPIN(SET BY THE SETRP MACRO 0012
*                                      WHEN CPU ADDRESS IS SPECIFIED
*                                      ALONG WITH CPU ADDRESS IN   0012
*                                      SDWACPUA FIELD TO ALLOW     0012
*                                      RESTART OF ALTERNATE CPU)     */
*            8 * BIT(1),            /* RESERVED                      */
*            8 SDWAUPRG BIT(1),     /* ON,UPDATED REGISTERS STARTING
*                                      WITH SDWASR00 ARE TO BE USED
*                                      FOR RETRY                     */
*            8 SDWAFREE BIT(1),     /* ON,SDWA/RTCA TO BE FREED PRIOR
*                                      TO RETRY ONLY VALID FOR ESTA
*                                      EXITS                         */
*            8 * BIT(2),            /* RESERVED                      */
*           7 SDWAACF3 CHAR(1),     /* FLAGS INDICATING WHAT GLOBAL
*                                      LOCKS ARE TO BE FREED (KEY 0
*                                      SUPERVISOR ONLY.) ONLY VALID
*                                      FOR FRRS                      */
*            8 * BIT(3),            /* RESERVED                      */
*            8 SDWADISP BIT(1),     /* ON THE DISPATCHER LOCK        */
*            8 SDWAASMP BIT(1),     /* ON, THE ASMPAT LOCK           */
*            8 SDWASALL BIT(1),     /* ON, THE SALLOC LOCK           */
*            8 SDWAIPRG BIT(1),     /* ON, THE IOSYNCH LOCK          */
*            8 SDWAICAT BIT(1),     /* ON,THE IOSCAT LOCK            */
*           7 SDWAACF4 CHAR(1),     /* ADDITIONAL LOCKS TO BE FREED  */
*            8 SDWAIUCB BIT(1),     /* ON,THE IOSUCB LOCK            */
*            8 SDWAILCH BIT(1),     /* ON, THE IOSLCH LOCK           */
*            8 SDWATNCB BIT(1),     /* ON,THE NCB LOCK               */
*            8 SDWATDNB BIT(1),     /* ON,THE DNCB LOCK              */
*            8 SDWATADB BIT(1),     /* ON,THE ACBDEBS LOCK           */
*            8 SDWAOPTM BIT(1),     /* ON,THE SYSTEM RESOURCE      0012
*                                      MGR(SRM) LOCK                 */
*            8 SDWACMS BIT(1),      /* ON,THE CMS LOCK               */
*            8 SDWAFLLK BIT(1),     /* ON,THE LOCAL LOCK             */
*          6 SDWALKWA CHAR(36) BDY(WORD),/* LOCK AREA                */
*           7 SDWALKWS CHAR(32) BDY(WORD),/* LOCKWORDS REQUIRED TO 0012
*                                      FREE THE GLOBAL LOCKS ONLY  0012
*                                      USED FOR FRRS                 */
*            8 SDWAICLW PTR(31),    /* LOCKWORD FOR THE IOSCAT LOCK  */
*            8 SDWAIULW PTR(31),    /* LOCKWORD FOR THE IOSUCB LOCK  */
*            8 SDWAILLW PTR(31),    /* LOCKWORD FOR THE IOSLCH LOCK  */
*            8 SDWAIPLW PTR(31),    /* LOCKWORD FOR THE IOSYNCH LOCK */
*            8 SDWAAPLW PTR(31),    /* LOCKWORD FOR THE ASMPAT LOCK  */
*            8 SDWATNLW PTR(31),    /* LOCKWORD FOR THE NCB LOCK     */
*            8 SDWATDLW PTR(31),    /* LOCKWORD FOR THE DNCB LOCK    */
*            8 SDWATALW PTR(31),    /* LOCKWORD FOR THE ACBDEBS LOCK */
*           7 * PTR(31),            /* RESERVED                      */
*          6 SDWARECP CHAR(24),     /* RECORDING PARAMETERS (MODULE
*                                      ,CSECT,AND RECOVERY ROUTINE 0012
*                                      NAME-RESPECTIVELY)            */
*           7 SDWAMODN CHAR(8),     /* THE MODULE NAME INVOLVED IN 0012
*                                      THE ERROR (SUPPLIED BY THE  0012
*                                      RECOVERY ROUTINE)             */
*           7 SDWACSCT CHAR(8),     /* THE CSECT NAME INVOLVED IN THE
*                                      ERROR(SUPPLIED BY THE RECOVERY
*                                      ROUTINE)                      */
*           7 SDWAREXN CHAR(8),     /* THE RECOVERY ROUTINE NAME   0012
*                                      HANDLING THE ERROR            */
*          6 SDWADPLA PTR(31),      /* POINTER TO DUMP PARAMETER LIST
*                                      RESIDING IN SDWA.             */
*          6 SDWASNPA CHAR(8),      /* SNAP PARAMETER LIST FLAGS     */
*           7 SDWADUMP CHAR(4),     /* DUMP CHARACTERISTICS          */
*            8 SDWADPID CHAR(1),    /* ID OF DUMP REQUESTED          */
*            8 SDWADPFS CHAR(1),    /* DUMP FLAGS                    */
*             9 SDWADPT BIT(1),     /* ALWAYS OFF,INDICATES SNAP DUMP
*                                      REQUEST                       */
*             9 SDWADLST BIT(1),    /* ALWAYS ON, INDICATES OS/VS2 0012
*                                      REL. 2 DUMP PARAMETER LIST  0012
*                                      SUPPLIED. USED BY RTM TO    0012
*                                      INDICATE DUMP OPTIONS ARE   0012
*                                      AVAILABLE IN THE SDWA         */
*             9 * BIT(4),           /* RESERVED.                     */
*             9 SDWASLST BIT(1),    /* ON,STORAGE LIST SUPPLIED FOR
*                                      DUMP                          */
*             9 * BIT(1),           /* RESERVED                      */
*            8 * CHAR(2),           /* RESERVED                      */
*           7 SDWADDAT CHAR(4),     /* SDATA/PDATA OPTIONS           */
*            8 SDWASDAT CHAR(1),    /* SDATA OPTIONS                 */
*             9 SDWANUC BIT(1),     /* DISPLAY NUCLEUS               */
*             9 SDWASQA BIT(1),     /* DISPLAY SQA                   */
*             9 SDWALSQA BIT(1),    /* DISPLAY LSQA                  */
*             9 SDWASWA BIT(1),     /* DISPLAY SWA                   */
*             9 SDWAGTF BIT(1),     /* DISPLAY GTF INCORE TRACE TABLE*/
*             9 SDWACBS BIT(1),     /* FORMAT AND DISPLAY CONTROL  0012
*                                      BLOCKS                        */
*             9 SDWAQQS BIT(1),     /* FORMAT AND DISPLAY QCBS/ QELS */
*             9 * BIT(1),           /* RESERVED                      */
*            8 * CHAR(1),           /* RESERVED                      */
*            8 SDWAPDAT CHAR(1),    /* PDATA OPTIONS                 */
*             9 SDWADSAS BIT(1),    /* DISPLAY SAVE AREAS            */
*             9 SDWADSAH BIT(1),    /* DISPLAY SAVE AREA HEADER      */
*             9 SDWADREG BIT(1),    /* DISPLAY REGISTERS             */
*             9 SDWATLPA BIT(1),    /* DISPLAY LPA MODULES OF TASK   */
*             9 SDWATJPA BIT(1),    /* DISPLAY JPA MODULES OF TASK   */
*             9 SDWADPSW BIT(1),    /* DISPLAY PSW                   */
*             9 SDWAUSPL BIT(1),    /* DISPLAY USER SUBPOOLS         */
*             9 * BIT(1),           /* RESERVED                      */
*            8 * CHAR(1),           /* RESERVED                      */
*          6 SDWADPSA CHAR(36) BDY(WORD),/* DUMP RANGES AREA         */
*           7 SDWADPSL CHAR(32) BDY(WORD),/* DUMP STORAGE LISTS(MAX 4
*                                      RANGES AVAILABLE)             */
*            8 SDWAFRM1 PTR(31),    /* BEGINNING ADDRESS FOR STORAGE
*                                      RANGE 1                       */
*            8 SDWATO1 PTR(31),     /* ENDING ADDRESS FOR STORAGE  0012
*                                      RANGE 1                       */
*            8 SDWAFRM2 PTR(31),    /* BEGINNING ADDRESS FOR STORAGE
*                                      RANGE 2                       */
*            8 SDWATO2 PTR(31),     /* ENDING ADDRESS FOR STORAGE  0012
*                                      RANGE 2                       */
*            8 SDWAFRM3 PTR(31),    /* BEGINNING ADDRESS FOR STORAGE
*                                      RANGE 3                       */
*            8 SDWATO3 PTR(31),     /* ENDING ADDRESS FOR STORAGE  0012
*                                      RANGE 3                       */
*            8 SDWAFRM4 PTR(31),    /* BEGINNING ADDRESS FOR STORAGE
*                                      RANGE 4                       */
*            8 SDWATO4 PTR(31),     /* ENDING ADDRESS FOR STORAGE  0012
*                                      RANGE 4                       */
*           7 * PTR(31),            /* RESERVED                      */
*          6 SDWARCPL CHAR(28) BDY(WORD),/* RESERVED FOR RTM USE     */
*          6 SDWACOMP PTR(31),      /* THIS WORD IS PROVIDED FOR   0012
*                                      COMMUNICATION OF ADDITIONAL 0012
*                                      RECOVERY DATA ON A PER      0012
*                                      COMPONENT BASIS (FOR OS/VS2 0012
*                                      RELEASE 2 THIS FIELD IS ONLY
*                                      USED BY DATA MANAGER).        */
*          6 * PTR(31),             /* RESERVED                      */
*          6 SDWARA CHAR(112),      /* VARIABLE RECORDING AREA     0012
*                                      PREFIXED BY TWO BYTE LENGTH 0012
*                                      FIELD OF AREA AND A TWO BYTE
*                                      FIELD WITH LENGTH OF USER   0012
*                                      SUPPLIED INFORMATION          */
*           7 SDWAVRAL CHAR(2),     /* LENGTH OF VARIABLE RECORD- ING
*                                      AREA                          */
*           7 SDWADPVA CHAR(1),     /* DEFINES DUMPING OF DATA IN  0012
*                                      VARIABLE AREA.                */
*            8 SDWAHEX BIT(1),      /* DATA TO BE DUMPED BY EREP IN
*                                      HEX.                          */
*            8 SDWAEBC BIT(1),      /* DATA TO BE DUMPED BY EREP   0012
*                                      EBCDIC.                       */
*            8 * BIT(6),            /* RESERVED                      */
*           7 SDWAURAL CHAR(1),     /* LENGTH OF USER SUPPLIED     0012
*                                      INFORMATION                   */
*           7 SDWAVRA CHAR(108),    /* VARIABLE RECORDING AREA       */
*          6 * CHAR(0) BDY(DWORD);  /* ROUND UP TO DOUBLE WORD       */
*/* THESE CONSTANTS MAP RETURN CODES FROM AN EXIT IN FIELD           */
*/* SDWARCDE                                                         */
*                                                                  0013
*   DECLARE                                                        0013
*     SDWACWT CONSTANT(0),          /* CONTINUE WITH TERMINATION.  0013
*                                      THIS INDICATION IMPLIES     0013
*                                      PERCOLATION                   */
*     SDWARETY CONSTANT(4),         /* RETRY USING RETRY ADDRESS IN
*                                      SDWARTYA FIELD                */
*     SDWAPSTI CONSTANT(16);        /* PREVENT FURTHER (E)STAI     0013
*                                      PROCESSING                    */
*                                                                  0014
*/*********SERVICE REQUEST BLOCK************************************ */
*/*  OS/VS2 RELEASE 2    12/8/72   LEVEL=1                           */
*/*     BAL- DSECT  ALWAYS PRODUCED, PERFORM USING ON SRBSECT        */
*/*                                                                  */
*/*     PL/S  - SRBSECT WILL BE BASED(SRBPTR) .                      */
*/*        1. IF YOU WISH TO APPEND THE SRB TO THE END OF            */
*/*           ANOTHER CONTROL BLOCK, SET %SRBLEVEL='N'               */
*/*           WHERE N IS AN INTEGER BETWEEN 2 AND 3,INCLUSIVE.       */
*/*           SRBSECT WILL THEN BE AN UNBASED LEVEL N  VARIABLE.     */
*/*        2. IF YOU WISH TO APPEND ANOTHER CONTROL BLOCK TO THE END */
*/*           OF THE SRB, SET %SRB9999=',', AND THE SEMICOLON AT     */
*/*           THE END OF THE SRB WILL BE REPLACED WITH A COMMA.      */
*/*                                                                  */
*/*      EXAMPLE OF PLACING SRB BETWEEN TWO OTHER BLOCKS:            */
*/*         %SRBLEVEL='2'     ;                                      */
*/*         %SRB9999=',' ;                                           */
*/*     DECLARE  1 MYBLOCK,                                          */
*/*         2 MYFIELD,                                               */
*/*        %INCLUDE SYSLIB(IHASRB)  ;                                */
*/*         2 MYFIELD2 ;                                             */
*/****************************************************************** */
*                                                                  0014
*   DECLARE                                                        0014
*     1 SRBSECT BASED(SRBPTR) BDY(WORD),                           0014
*        4 SRB,                                                    0014
*          6 SRBID CHAR(4),         /* SRB EBCDIC ACRONYM            */
*          6 SRBFLNK PTR(31),       /* FORWARD CHAIN FIELD           */
*          6 SRBASCB PTR(31),       /* ADDRESS SPACE TO BE DISPATCHED*/
*          6 SRBFLC BDY(WORD),      /* SRB AREA MOVED TO LOW CORE    */
*            8 SRBCPAFF BIT(16),    /* CPU AFFINITY MASK             */
*            8 SRBPASID FIXED(15),  /* PURGEDQ ASID                  */
*            8 SRBPTCB PTR(31),     /* PURGEDQ TCB ADDRESS           */
*          6 SRBEP PTR(31),         /* ENTRY POINT ADDRESS OF      0014
*                                      ASYNCHRONOUS ROUTINE          */
*          6 SRBRMTR PTR(31),       /* ADDRESS OF RESOURCE MGR     0014
*                                      TERMINATION ROUTINE FOR     0014
*                                      PURGEDQ                       */
*          6 SRBPARM PTR(31),       /* USER PARAMETER                */
*          6 SRBSAVE PTR(31),       /* SAVE AREA POINTER FOR       0014
*                                      REDISPATCH OF SUSPENDED S SRB.*/
*          6 SRBPKF BIT(8),         /* PROTECT KEY IN HIGH ORDER 4 0014
*                                      BITS, LOW ORDER BITS 0        */
*          6 SRBPRIOR PTR(8),       /* PRIORITY LEVEL                */
*          6 * CHAR(2),             /* RESERVED                      */
*          6 * PTR(31)              /* RESERVED                      */
*                ,                                                 0014
*      2 * CHAR(16) BDY(WORD);      /* THIS IS A WORKAREA FOR AHLSBUF*/
*                                                                  0015
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS MAPPING AND ALL REFERENCES TO IT AND ANY FIELD IN IT MUST*/
*   /* FOLLOW THE SRB MAPPING                                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0015
*   ;                                                              0015
*                                                                  0015
*/********************************************************************/
*/*                               MCQE                               */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   OS/VS2-R2                                                      */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE MCQE, MONITOR CALL QUEUE            */
*/*   ELEMENT.  THERE IS ONE MCQE PER USER OF THE MONITOR            */
*/*   CALL ROUTING FACILITY PROVIDED BY THE SETEVENT SERVICE.        */
*/*   THE MCQE IS USED BY SETEVENT AS THE ROOT OF ALL BLOCKS         */
*/*   THAT DESCRIBE THE EVENTS DESIRED BY THIS APPLICATION.          */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS OBTAINED BY AHLSETEV WHEN THE FIRST      */
*/*   SETEVENT IS ISSUED BY AN APPLICATION.  AHLSETEV INITIALIZES    */
*/*   IT AS REQUIRED AND FREES IT WHEN AN APPLICATION ISSUES         */
*/*   A SETEVENT INDICATING THAT IT NO LONGER REQUIRES MONITORING    */
*/*   SERVICES.                                                      */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS CONTROL IS OBTAINED FROM SQA AND THEREFORE IS FIXED       */
*/*   COMMON.                                                        */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT THE USER WILL QUALIFY  */
*/*   ALL ADDRESSING TO IT.                                          */
*/*                                                                  */
*/* USE                                                              */
*/*   THE SRB MAPPING, IHASRB, MUST BE INCLUDED PRIOR TO THIS        */
*/*   MAPPING, AND NO REFERENCE OF ANY KIND MAY BE MADE TO THIS      */
*/*   MAPPING OR ANY FIELD IN IT UNTIL AFTER THE SRB MAPPING.        */
*/*                                                                  */
*/********************************************************************/
*                                                                  0016
*   DECLARE                                                        0016
*     1 MCQE BDY(WORD) BASED,                                      0016
*      2 MCQEIDEN CHAR(8),          /* EBCDIC IDENTIFIER- MCQE       */
*      2 MCQENAME CHAR(8),          /* EBCDIC NAME OF APPLICATION    */
*      2 MCQEASCB PTR(31),          /* @ APPLICATION ASCB            */
*      2 MCQEMCQE PTR(31),          /* @ NEXT MCQE, 0= LAST IN CHAIN */
*      2 MCQEMCEE PTR(31),          /* @ FIRST MCEE ON THIS        0016
*                                      APPLICATION MCEE CHAIN        */
*      2 MCQEMCCL PTR(31),          /* @ FIRST MCCL ON THIS        0016
*                                      APPLICATION MCCL CHAIN        */
*      2 MCQEAT PTR(31),            /* @ APPLICATION TABLE, FOR GTF
*                                      THIS IS THE GTFPCT            */
*      2 MCQETECB PTR(31),          /* TERMINATION ECB               */
*      2 MCQESCHE PTR(8),           /* IF SET TO X'FF' INDICATES THAT
*                                      THE SRB IN THIS MCQE IS     0016
*                                      ALREADY SCHEDULED. THE TEST 0016
*                                      AND SET INSTRUCTION IS USED TO
*                                      MANIPULATE THIS BYTE.         */
*      2 MCQEFLGS BIT(8),           /* FLAG BYTE                     */
*       3 MCQEACT BIT(1),           /* 1= THIS MCQE IS ACTIVE        */
*       3 * BIT(7),                 /* RESERVED                      */
*      2 * PTR(16) BDY(BYTE),       /* RESERVED                      */
*      2 MCQESRB CHAR(LENGTH(SRB)) BDY(WORD);/* THIS SRB IS USED TO
*                                      SCHEDULE A ROUTINE IN AHLSETEV
*                                      TO POST THE APPLICATION     0016
*                                      TERMINATION ECB IN CASE OF  0016
*                                      DISASTROUS ERROR. THIS ECB IS
*                                      MCQETECB.                     */
*                                                                  0017
*/********************************************************************/
*/*                              MCHEAD                              */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   VS2-R2                                                         */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE MONITOR CALL ROUTING TABLES HEAD,   */
*/*   THE BEGINNING OF ALL TABLES FOR MONITOR CALL EVENT ROUTING. THE*/
*/*   GTF WORD IN THE CVT, CVTGTF, CONTAINS THE ADDRESS OF MCHEAD.   */
*/*   THIS ADDRESS IS SET UP BY A VCON WHEN THE NUCLEUS IS LINK      */
*/*   EDITED.                                                        */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS CONTAINED IN AHLMCIH.  THE ADDRESSES     */
*/*   OF SETEVENT ENTRIES ARE INITIALIZED BY IEAVNP17 AT NIP         */
*/*   TIME.  THIS BLOCK IS NEVER FREED.                              */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS BLOCK IS A PART OF AHLMCIH, AND THEREFORE, IS IN FIXED    */
*/*   COMMON.                                                        */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT CVTGTF WILL CONTAIN    */
*/*   THE ADDRESS OF IT.                                             */
*/*                                                                  */
*/********************************************************************/
*                                                                  0017
*   DECLARE                                                        0017
*     1 MCHEAD BDY(WORD) BASED(CVTGTFA),/*                   @ZA24017*/
*      2 MCHIDEN CHAR(8),           /* EBDIC IDENTIFIER - MCHEAD     */
*      2 MCHCUR PTR(31),            /* @ CURRENT MCCE                */
*      2 MCHCNT PTR(31),            /* USE COUNT OF NUMBER OF      0017
*                                      ROUTINES USING CURRENT MCCE   */
*      2 MCHCTL PTR(31),            /* CURRENT MASK OF ACTIVE CLASSES
*                                      IN CONTROL REGISTER 8         */
*      2 MCHDIS PTR(31),            /* @ USED TO DISABLE MCEE/MCCLE
*                                      (RETURN TO AHLMCIH)           */
*      2 MCHFLGS CHAR(4),           /* FLAG BYTES                    */
*       3 MCHFLG1 BIT(8),           /* FLAG BYTE                     */
*        4 MCHACT BIT(1),           /* MC ROUTING ACTIVE INDICATOR   */
*        4 MCHTERM BIT(1),          /* MC ROUTING TERMINATION INDIC  */
*        4 * BIT(6),                /* UNUSED                        */
*       3 * CHAR(3),                /* RESERVED                      */
*      2 MCHSETE PTR(31),           /* @ ENABLED ENTRY TO AHLSETEV   */
*      2 MCHSETD PTR(31),           /* @ DISABLED ENTRY TO AHLSETEV  */
*      2 MCHMCER PTR(31),           /* ADDRESS OF MC ROUTER AHLMCER  */
*      2 MCHFRRAD PTR(31),          /* ADDR OF AHLMCIH RECOVERY CODE */
*      2 MCHEADRD PTR(31),          /* ADDR OF AHLREADR FOR THE    0017
*                                      WRITER-STACK SERVICE          */
*      2 MCHEADTR PTR(31);          /* RMTR E.P. FOR AHLREADR        */
*                                                                  0018
*/********************************************************************/
*/*                               MCCE                               */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   VS2-R2                                                         */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE MCCE, MONITOR CALL CONTROL          */
*/*   ELEMENT.  THE MCCE IS USED BY AHLSETEV TO DESCRIBE THE         */
*/*     ACTIVE TABLES.                                               */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS OBTAINED BY AHLSETEV WHEN THE FIRST      */
*/*   SETEVENT IS ISSUED BY AN APPLICATION DESCRIBING A REQUEST      */
*/*   TO MONITOR EVENTS. AHLSETEV INITIALIZES THE MCCE AT THIS TIME. */
*/*   WHENEVER A REQUEST IS MADE VIA SETEVENT THAT CAUSES OLD TABLES */
*/*   TO BE FREED, A NEW MCCE WILL BE BUILT AND THE OLD ONE FREED.   */
*/*   THIS TABLE IS ALSO FREED WHENEVER  MONITORING IS NO LONGER     */
*/*   REQUIRED.                                                      */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS CONTROL IS OBTAINED FROM SQA AND THEREFORE IS FIXED       */
*/*   COMMON.                                                        */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT THE USER WILL QUALIFY  */
*/*   ALL ADDRESSING TO IT.                                          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0018
*   DECLARE                                                        0018
*     1 MCCE BDY(WORD) BASED,                                      0018
*      2 MCCEIDEN CHAR(8),          /* EBCDIC IDENTIFIER- MCCE       */
*      2 MCCEEDA PTR(31),           /* @MCED PBINT TABLES            */
*      2 MCCECDA PTR(31),           /* @MCCD                         */
*      2 MCCEQEA PTR(31),           /* @ FIRST MCQE ON CHAIN         */
*      2 MCCEOEDA PTR(31),          /* @ MCED TO BE FREED, OR 0 IF 0018
*                                      NONE TO BE FREED.             */
*      2 MCCEOCDA PTR(31),          /* @ MCCD TO BE FREED, OR 0 IF 0018
*                                      NONE TO BE FREED.             */
*      2 MCCEOMCQ PTR(31),          /* @ MCQE TO BE FREED, OR 0 IF 0018
*                                      NONE TO BE FREED.             */
*      2 MCCECNT PTR(31),           /* USE COUNT TO DETERMINE WHEN 0018
*                                      THIS MCCE IS NO LONGER IN USE */
*      2 MCCEMCCE PTR(31),          /* @ NEXT OLD MCCE- USED FOR PD  */
*      2 MCCEECB PTR(31),           /* ECB TO BE POSTED IF MCQE IS TO
*                                      BE FREED                      */
*      2 MCCESRB CHAR(LENGTH(SRB)); /* SRB USED TO SCHEDULE ROUTINE
*                                      TO FREE MCCE AND ASSOCIATED 0018
*                                      TABLES                        */
*                                                                  0019
*/********************************************************************/
*/*                                                                  */
*/*                      IMDMEDIT MAPPING MACRO                      */
*/*                                                                  */
*/*  THE IMDMEDIT MACRO MAPS THE EID VALUES ASSOCIATED WITH IBM      */
*/*  SYSTEM AND SUBSYSTEM EVENTS.  THE STORAGE FOR ANY OR ALL OF THE */
*/*  MAPPED VALUES MUST BE CONTAINED IN THE MODULE REFERENCING THE   */
*/*  DESIRED EIDS.  IMDMEDIT IS DESIGNED TO BE USED BY IBM-SUPPLIED  */
*/*  FORMAT APPENDAGES, AND USER-SUPPLIED USER EXIT MODULES.  ALL    */
*/*  LABELS THAT ARE NOT PREFIXED WITH IMD ARE USED BY THE OTHER     */
*/*  COMPONENTS OF GTF AND CORRESPOND TO THE NAMES USED IN THE HOOK  */
*/*  AND GTRACE MACROS.                                              */
*/********************************************************************/
*                                                                  0019
*   DCL                             /*                       @OZ14118*/
*     IMDMPCI BIT(16) CONSTANT('2100'X),/* PCI I/O INTERRUPT         */
*     IMDMSVC BIT(16) CONSTANT('1000'X),/* SVC INTERRUPT             */
*     IMDMDSP BIT(16) CONSTANT('0003'X),/* DISPATCHER                */
*     IMDMIO1 BIT(16) CONSTANT('5201'X),/* I/O INTERRUPT             */
*     IMDMIO2 BIT(16) CONSTANT('5200'X),/* I/O INTERRUPT             */
*     IMDMSIO BIT(16) CONSTANT('5100'X),/* SIO OPERATION             */
*     IMDMSSM1 BIT(16) CONSTANT('0000'X),/* SSM OPERATION            */
*     IMDMSSM BIT(16) CONSTANT('0000'X),/* OS SSM FOR COMPATIBILITY  */
*     IMDMPIPG BIT(16) CONSTANT('0000'X),/* PAGE FAULT PROG INT      */
*     IMDMPI BIT(16) CONSTANT('6101'X),/* PROGRAM INTERRUPT          */
*     IMDMEXT BIT(16) CONSTANT('6201'X),/* EXTERNAL INTERRUPT        */
*     IMDMTINT BIT(16) CONSTANT('6200'X),/* PFLIH                    */
*     IMDMEOS BIT(16) CONSTANT('5101'X),/* IOS                       */
*     IMDMSTAE BIT(16) CONSTANT('4002'X),/* RTM                      */
*     IMDMFRR BIT(16) CONSTANT('4003'X),/* RTM                       */
*     IMDMTP1 BIT(16) CONSTANT('8100'X),/* TPIOS                     */
*     IMDMTP2 BIT(16) CONSTANT('8200'X),/* TPIOS                     */
*     IMDMDSP1 BIT(16) CONSTANT('0001'X),/* DISPATCHER               */
*     IMDMDSP2 BIT(16) CONSTANT('0002'X),/* DISPATCHER               */
*     IMDMDSP3 BIT(16) CONSTANT('0003'X),/* DISPATCHER               */
*     IMDMDSP4 BIT(16) CONSTANT('0004'X),/* EXIT PROLOG DISPATCH     */
*     IMDMSVCD BIT(16) CONSTANT('F100'X),/* SVCDUMP                  */
*     IMDMSRM BIT(16) CONSTANT('4001'X),/* SRM                       */
*     IDAAM01 BIT(16) CONSTANT('EFF5'X),/* VSAM                      */
*     IMDMDMA1 BIT(16) CONSTANT('EFFF'X),/* OPEN/CLOSE/EOV           */
*     IEATINT BIT(16) CONSTANT('6200'X),/* PFLIH                     */
*     IEAPINT BIT(16) CONSTANT('6101'X),/* PFLIH                     */
*     IECSIO BIT(16) CONSTANT('5100'X),/* IOS                        */
*     IECEOS BIT(16) CONSTANT('5101'X),/* IOS                        */
*     IECIO2 BIT(16) CONSTANT('5200'X),/* IOS                        */
*     IECIO1 BIT(16) CONSTANT('5201'X),/* IOS                        */
*     IECPCI BIT(16) CONSTANT('2100'X),/* IOS                        */
*     IEASTAE BIT(16) CONSTANT('4002'X),/* RTM                       */
*     IEAFRR BIT(16) CONSTANT('4003'X),/* RTM                        */
*     IEADISP1 BIT(16) CONSTANT('0001'X),/* DISPATCHER               */
*     IEADISP2 BIT(16) CONSTANT('0002'X),/* DISPATCHER               */
*     IEADISP3 BIT(16) CONSTANT('0003'X),/* DISPATCHER               */
*     IEADISP4 BIT(16) CONSTANT('0004'X),/* EXIT PROLOG DISPATCH     */
*     IEASVCD BIT(16) CONSTANT('F100'X),/* SVCDUMP                   */
*     IEAABOF BIT(16) CONSTANT('F200'X),/* ABEND/SNAP                */
*     IRASRM BIT(16) CONSTANT('4001'X),/* SRM                        */
*     ISPTPIO1 BIT(16) CONSTANT('8100'X),/* TPIOS                    */
*     ISPTPIO2 BIT(16) CONSTANT('8200'X),/* TPIOS                    */
*     IEASVCH BIT(16) CONSTANT('1000'X),/* SVC FLIH                  */
*     IEAEINT BIT(16) CONSTANT('6201'X),/* EXT FLIH                  */
*     IGGSP169 BIT(16) CONSTANT('EFFE'X),/* SAM/PAM/DAM              */
*     IGGSP451 BIT(16) CONSTANT('EFFD'X),/* SAM/PAM/DAM              */
*     IGGSP251 BIT(16) CONSTANT('EFFC'X),/* SAM/PAM/DAM              */
*     IGGSP145 BIT(16) CONSTANT('EFFB'X),/* SAM/PAM/DAM              */
*     IGGSP239 BIT(16) CONSTANT('EFFA'X),/* SAM/PAM/DAM              */
*     IGGSP235 BIT(16) CONSTANT('EFF9'X),/* SAM/PAM/DAM              */
*     IGGSP119 BIT(16) CONSTANT('EFF8'X),/* SAM/PAM/DAM              */
*     IGGSP215 BIT(16) CONSTANT('EFF7'X),/* SAM/PAM/DAM              */
*     IGGSP112 BIT(16) CONSTANT('EFF6'X),/* SAM/PAM/DAM              */
*     IGGSP008 BIT(16) CONSTANT('EFF4'X),/* SAM/PAM/DAM              */
*     IGGSP002 BIT(16) CONSTANT('EFF3'X);/* SAM/PAM/DAM              */
*   DCL                             /*                       @Y30AI3O*/
*     ISTLNEID BIT(16) CONSTANT('EFF2'X),/* VTAM LINE TRACE  @Y30AI3O*/
*     ISTCLEID BIT(16) CONSTANT('EFF1'X),/* VTAM CNTRL LAYR  @Y30AI3O*/
*     ISTRPEID BIT(16) CONSTANT('EFF0'X),/* VTAM CNTRL LAYR  @Y30AI3O*/
*     ISTTPEID BIT(16) CONSTANT('EFEF'X);/* VTAM TPIOS BUFR  @Y30AI3O*/
*   DCL                             /*                       @OZ14118*/
*     ISTTDEID BIT(16) CONSTANT('EFE4'X),/* VTAM RESERVED    @OZ14118*/
*     ISTTREID BIT(16) CONSTANT('EFE3'X),/* VTAM RESERVED    @OZ14118*/
*     ISTTHEID BIT(16) CONSTANT('EFE2'X),/* VTAM RESERVED    @OZ14118*/
*     ISTVIEID BIT(16) CONSTANT('EFE1'X);/* VTAM INTERNAL    @OZ14118*/
*                                                                  0022
*/********************************************************************/
*/*                              GTFPCT                              */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   OS/VS2-R2                                                      */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE GTF PRIMARY CONTROL BLOCK.          */
*/*   THE GTFPCT CONTAINS INFORMATION NECESSARY FOR GTF              */
*/*   TO FUNCTION.                                                   */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS OBTAINED BY AHLGTFI.  IT IS INITIALIZED  */
*/*   BY AHLGTFI AND AHLXWRIT, I.E., WRITER INITIALIZATION.          */
*/*   GTFPCT IS FREED AT TERMINATION BY EITHER AHLGTFI OR AHLTMON    */
*/*   AFTER WRITER TERMINATION IS  COMPLETE.                         */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS CONTROL BLOCK IS OBTAINED FROM AND RESIDES IN SQA,        */
*/*   AND THEREFORE, IS FIXED, COMMON.                               */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT THE USER WILL QUALIFY  */
*/*   ALL ADDRESSING TO IT.                                          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0022
*   DECLARE                                                        0022
*     1 GTFPCT BDY(DWORD) BASED(PCTPTR),                           0022
*      2 GTFPCTID CHAR(8),          /* EBCDIC IDENTIFIER             */
*      2 GTFSTAT PTR(31),           /* FLAGS INDICATING STATUS       */
*       3 GTFMODE BIT(1),           /* 0=INTERNAL, 1=EXTERNAL        */
*       3 GTFDEBUG BIT(1),          /* 1=DEBUG MODE                  */
*       3 GTFRESV BIT(30),          /* RESERVED FLAGS                */
*      2 GTFOPTS CHAR(4),           /* GTF OPTION WORD               */
*       3 GTFOPTS1 PTR(8),          /* FIRST OPTION BYTE             */
*        4 OPTSYSM BIT(1),          /* MINIMAL TRACING FOR IO,SIO, 0022
*                                      SVC,PI,EXT, FRR               */
*        4 OPTSYSP BIT(1),          /* MAX TRACING FOR IO,SIO,SVC, 0022
*                                      PI,EXT,FRR WITH POSSIBLE    0022
*                                      SELECTIVE TRACING             */
*        4 OPTSYS BIT(1),           /* MAXIMUM TRACING FOR IO,SIO, 0022
*                                      SVC,PI,EXT,FRR                */
*        4 OPTUSR BIT(1),           /* ALL GTRACE EVENTS REQUESTED   */
*        4 OPTTRC BIT(1),           /* ALL EVENTS ASSOCIATED WITH THE
*                                      EXECUTION SHOULD BE TRACED    */
*        4 OPTDSP BIT(1),           /* ALL DISPATCHER EVENTS TRACED  */
*        4 OPTRES1 BIT(1),          /* RESERVED                      */
*        4 OPTPCI BIT(1),           /* PCI EVENTS ARE TO TRACED      */
*       3 GTFOPTS2 PTR(8),          /* SECOND OPTION BYTE            */
*        4 OPTSVC BIT(1),           /* SVC EVENTS TO BE TRACED       */
*        4 OPTSVCP BIT(1),          /* SVC FILTERING REQUESTED       */
*        4 OPTSIO BIT(1),           /* ALL SIO EVENTS TO BE TRACED   */
*        4 OPTSIOP BIT(1),          /* SIO FILTERING REQUESTED       */
*        4 OPTPI BIT(1),            /* ALL PI EVENTS TO BE TRACED    */
*        4 OPTPIP BIT(1),           /* PI FILTERING REQUESTED        */
*        4 OPTIO BIT(1),            /* ALL IO INTERRUPTS TRACED      */
*        4 OPTIOP BIT(1),           /* IO FILTERING REQUESTED        */
*       3 GTFOPTS3 PTR(8),          /* THIRD OPTION BYTE             */
*        4 OPTEXT BIT(1),           /* EXTERNAL INTERRUPTS TRACED    */
*        4 OPTRNIO BIT(1),          /* RNIO EVENTS TO BE TRACED      */
*        4 OPTSRM BIT(1),           /* ALL EVENTS FROM SYSTEMS     0022
*                                      RESOUR- CES MANAGER TO BE   0022
*                                      TRACED                        */
*        4 OPTRR BIT(1),            /* RETURN FROM ALL RECOVERY    0022
*                                      ROUTINES TRACED- FRR AND ESTAE*/
*        4 OPTRES2 BIT(3),          /* RESERVED                      */
*        4 OPTIOSIO BIT(1),         /* IO=SIO REQUESTED              */
*       3 GTFOPTS4 PTR(8),          /* FOURTH OPTION BYTE            */
*        4 OPTRES3 BIT(7),          /* RESERVED                      */
*        4 OPTTIME BIT(1),          /* ALL RECORDS TIMESTAMPED       */
*      2 PCTCATF PTR(31),           /* CURRENT ACTIVE TRACE FUNCTIONS*/
*       3 PCTSVC BIT(1),            /* SVC FUNCTION ACTIVE           */
*       3 PCTEXT BIT(1),            /* EXT FUNCTION ACTIVE           */
*       3 PCTIO BIT(1),             /* IO FUNCTION ACTIVE            */
*       3 PCTSIO BIT(1),            /* SIO FUNCTION ACTIVE           */
*       3 PCTDSP BIT(1),            /* DSP FUNCTION ACTIVE           */
*       3 * BIT(1),                 /* RESVRD FOR COMPATIBILITY WITH
*                                      MCATRAIL                      */
*       3 PCTPI BIT(1),             /* PI FUNCTION ACTIVE            */
*       3 PCTUSR BIT(1),            /* USR FUNCTION ACTIVE           */
*       3 PCTRNIO BIT(1),           /* RNIO FUNCTION ACTIVE          */
*       3 PCTSRM BIT(1),            /* SRM FUNCTION ACTIVE           */
*       3 PCTRR BIT(1),             /* RR FUNTION ( FRR AND ESTAE) 0022
*                                      ACTIVE                        */
*       3 PCTSVCF BIT(1),           /* SVC FILTERING ACTIVE          */
*       3 PCTIOF BIT(1),            /* IO FILTERING ACTIVE           */
*       3 PCTSIOF BIT(1),           /* SIO FILTERING ACTIVE          */
*       3 PCTPIF BIT(1),            /* PI FILTERING ACTIVE           */
*       3 * BIT(17),                /* RESERVED FOR C&S LOGIC        */
*      2 GTFSIOFT PTR(31),          /* @ SIO FILTER TABLE            */
*      2 GTFSIOBL PTR(31),          /* @ SIO FGBR ENTRY, USED BY   0022
*                                      FILTER ROUTINE                */
*      2 GTFIOFT PTR(31),           /* @ IO FILTER TABLE             */
*      2 GTFIOBL PTR(31),           /* @ IO FGBR ENTRY, USED BY    0022
*                                      FILTER ROUTINE                */
*      2 GTFSVCFT PTR(31),          /* @ SVC FILTER TABLE            */
*      2 GTFSVCBL PTR(31),          /* @ SVC FGBR ENTRY, USED BY   0022
*                                      FILTER ROUTINE                */
*      2 GTFPIFT PTR(31),           /* @ PI FILTER TABLE             */
*      2 GTFPIBL PTR(31),           /* @ PI FGBR ENTRY, USED BY    0022
*                                      FILTER ROUTINE                */
*      2 GTFEIDL PTR(31),           /* @ EID LIST TABLE              */
*      2 MCQEPTR PTR(31),           /* @ MCQE                        */
*      2 INITPTR PTR(31),           /* @ INITDATA                    */
*      2 FIXPTR PTR(31),            /* @ FIXTAB                      */
*      2 FIXLEN PTR(31),            /* LENGTH OF FIXTAB              */
*      2 ECBADRLT PTR(31),          /* ADDRESS OF ADDRESS LIST OF  0022
*                                      ECBS FOR AHLTMON POSTED FOR 0022
*                                      NORMAL OR ABNORMAL TERMINATION
*                                      OF GTF                        */
*      2 STOPECBA PTR(31),          /* ADDR STOP ECB                 */
*      2 AHLECB PTR(32),            /* ECB FOR WTOR AHL018A POSTED 0022
*                                      WHEN OPERATOR REPLIES         */
*      2 ATTCHECB PTR(31),          /* ECB USED WHEN WRITER IS     0022
*                                      ATTACHED POSTED BY SYSTEM WHEN
*                                      WRITER TERMINATES             */
*      2 WMTABPTR PTR(31),          /* @ WMSGTAB                     */
*      2 WTASKECB PTR(31),          /* AHLWTASK COMMUNICATION ECB- 0022
*                                      POSTED BY AHLWPOST            */
*      2 WTSKINIT PTR(31),          /* ECB POSTED WHEN AHLWTASK INIT-
*                                      IALIZATION COMPLETE           */
*      2 WTSKATTH PTR(31),          /* ECB USED WHEN AHLWTASK IS   0022
*                                      ATTACHED, POSTED BY SYSTEM  0022
*                                      WHEN AHLWTASK TERMINATES      */
*      2 TRMWTASK PTR(31),          /* ECB POSTED TO CAUSE AHLWTASK
*                                      TO TERMINATE                  */
*      2 WRTRTCBA PTR(31),          /* @ WRITERS TCB                 */
*      2 WTSKTCBA PTR(31),          /* @ AHLWTASK TCB                */
*      2 WPOSTSRB PTR(31),          /* @ SRB USED USED BY WTO SERVICE*/
*      2 EQHEAD PTR(31),            /* @ 1ST GTFBCB ON EMPTY QUEUE OR
*                                      0 IF IT IS NULL. THE TRACE  0022
*                                      WRITER USES THIS PTR TO ADD 0022
*                                      GTFBCB TO THE HEAD OF THE   0022
*                                      EMPTY QUEUE & AHLSBUF USES IT
*                                      TO REMOVE THEM. THE END OF  0022
*                                      THIS QUEUE IS A 0 IN THE    0022
*                                      BCBCHAIN FIELD OF THE LAST  0022
*                                      GTFBCB.                       */
*      2 RQHEAD PTR(31),            /* @ 1ST GTFBCB ON RELEASE QUEUE
*                                      OR 0 IF IT IS NULL. AHLSBUF 0022
*                                      USES THIS PTR TO ADD GTFBCB TO
*                                      THE HEAD OF THE RELEASE QUEUE
*                                      AND THE TRACE WRITER USES IT
*                                      TO REMOVE THEM. THE END OF  0022
*                                      THIS QUEUE IS A 0 IN THE    0022
*                                      BCBCHAIN FIELD OF THE LAST  0022
*                                      GTFBCB.                       */
*      2 WQHEAD PTR(31),            /* THIS PTR POINTS TO THE GTFBCB
*                                      THAT IS TO BE PROCESSED NEXT
*                                      BY THE TRACE WRITER, IT IS 0
*                                      IF THERE ARE NONE. GTFBCB ON
*                                      THIS QUEUE MAY ALSO BE ON THE
*                                      HISTORY AND SAVELIST QUEUES.
*                                      THE END OF THIS QUEUE IS A 0
*                                      IN THE BCBCHAIN FIELD OF THE
*                                      LAST GTFBCB. AHLSBUF UPDATES
*                                      THIS PTR ONLY IF IT WAS 0 WHEN
*                                      A GTFBCB WAS ADDED AT QTAIL.  */
*      2 HQHEAD PTR(31),            /* THIS PTR POINTS TO THE GTFBCB
*                                      WHICH HAS THE OLDEST DATA   0022
*                                      BEING SAVED FOR HISTORICAL  0022
*                                      PURPOSES. AHLSBUF KEEPS IT UP
*                                      TO DATE. GTFBCB ON THIS QUEUE
*                                      MAY ALSO BE ON THE WRITE &  0022
*                                      SAVELIST QUEUES. THE END OF 0022
*                                      THIS QUEUE IS A 0 IN THE    0022
*                                      BCBCHAIN FIELD OF THE LAST  0022
*                                      GTFBCB.                       */
*      2 QTAIL PTR(31),             /* POINTS TO THE LAST GTFBCB ON
*                                      THE HISTORY QUEUE AND ON THE
*                                      WRITE QUEUE (IF IT IS NOT   0022
*                                      NULL). THIS FIELD IS USED BY
*                                      AHLSBUF TO ADD JUST FILLED  0022
*                                      GTFBCB TO THE HISTORY & WRITE
*                                      QUEUES.                       */
*      2 HQLENGTH PTR(31),          /* IS THE NUMBER OF GTFBCB TO BE
*                                      MAINTAINED ON THE HISTORY   0022
*                                      QUEUE AND THE NUMBER OF GTFBCB
*                                      THAT WILL BE ON AN SLEBCBQ.   */
*      2 SLQHEAD PTR(31),           /* @ 1ST SLE ON SAVELIST QUEUE.
*                                      AHLSBUF & AHLREADR ADD SLE TO
*                                      THE HEAD OF THIS QUEUE WITH 0022
*                                      CS, & AHLREADR REMOVES SLE  0022
*                                      FROM ANYWHERE IN THE QUEUE. A
*                                      0 IN SLQCHAIN IS THE QUEUE END*/
*      2 SAVECNT PTR(31),           /* NUMBER OF SAVE HOOK RECORDS 0022
*                                      STACKED BY AHLTDIR BUT NOT YET
*                                      BUFFERED BY AHLSBUF. AHLTDIR
*                                      USES CS TO INCR THIS WHENEVER
*                                      IT STACKS A SAVEHOOK, &     0022
*                                      AHLSBUF DECR IT WHEN IT BUILDS
*                                      AN SLE                        */
*      2 SLEPAGE PTR(31),           /* ADDRESS OF THE PAGE OF SLE. 0022
*                                      THIS IS USED BY AHLREADR TO 0022
*                                      BUILD ITS LIST OF ADDRESS   0022
*                                      SPACE TO BE DUMPED BY SVCDUMP */
*      2 BCBPAGE(4) PTR(31),        /* ADDRESSES OF FROM 1 TO 4 PAGES
*                                      CONTAINING THE GTFBCB. THIS IS
*                                      USED BY AHLREADR TO BUILD ITS
*                                      LIST OF ADDRESS SPACE TO BE 0022
*                                      DUMPED BY SVCDUMP             */
*      2 WSMODBEG PTR(31),          /* BEGINNING AND END ADDR OF THE
*                                      LOAD MODULE AHLWSMOD          */
*      2 WSMODEND PTR(31),          /* THESE ARE KEPT SO A PGFREE CAN
*                                      BE DONE IN ERROR RECOVERY     */
*      2 NEXTBLOK PTR(31),          /* @ NEXT GTFBLOK TO BE BUFFERED.
*                                      AHLSBUF USES THIS PTR TO    0022
*                                      DETERMINE WHICH GTFBLOK IS TO
*                                      BE EMPTIED INTO A GTFBUFR   0022
*                                      NEXT.                         */
*       3 GBCDS BIT(1),             /* THIS IS THE GTFBLOK CHAIN   0022
*                                      DISABLE SWITCH. IT IS SET   0022
*                                      (NEXTBLOK MADE NEG) BY THE  0022
*                                      TRACE WRITER TO PREVENT     0022
*                                      AHLSFEOB FROM UPDATING      0022
*                                      CURRBLOK. IT IS TESTED BY   0022
*                                      AHLSFEOB                      */
*      2 CURRBLOK PTR(31),          /* AHLSFEOB PUTS THE ADDR OF THE
*                                      GTFBLOK TO BE FILLED BY     0022
*                                      AHLSBLOK HERE. IT IS THE    0022
*                                      CURRENT ONE                   */
*      2 SBLOKRTN PTR(31),          /* @ AHLSBLOK- USED BY AHLSTACK
*                                      MACRO. IF THIS FIELD IS 0 THE
*                                      AHLSTACK MACRO WILL NOT     0022
*                                      ATTEMPT TO CALL AHLSBLOK.     */
*      2 SFEOBRTN PTR(31),          /* AHLSFEOB ADDR USED BY THE   0022
*                                      TRACE WRITER & AHLTDIR TO FEOB*/
*      2 AHLRDPLQ PTR(31),          /* HEAD OF THE QUEUE OF REQUESTS
*                                      FOR DATA TO BE TRANSFERED TO
*                                      OTHER PROGRAMS                */
*      2 TRANSCNT PTR(31),          /* THIS IS THE COUNT OF THE    0022
*                                      NUMBER OF REQUESTS FOR DATA 0022
*                                      THAT WERE PROCESSED FROM    0022
*                                      AHLRDPLQ                      */
*      2 WRTRCOM PTR(32),           /* WRITER COMMUNICATIONS ECB-  0022
*                                      POSTED BY AHLSBUF EACH TIME IT
*                                      RUNS. THE TRACE WRITER WAITS
*                                      ON THIS ECB WHEN IT HAS NO  0022
*                                      WORK TO DO                    */
*       3 * BIT(1),                                                0022
*       3 WRTRCOMP BIT(1),          /* THE POST BIT                  */
*      2 GTFCMECB PTR(32),          /* ECB POSTED BY THE TRACE WRITER
*                                      TO INFORM THE MOTHER TASK THAT
*                                      INITIALIZATION IS COMPLETE    */
*      2 TRMWRIT PTR(31),           /* THIS ECB IS POSTED BY THE   0022
*                                      MOTHER TASK WHEN ALL FGBR   0022
*                                      ACTIVITY HAS BEEN QUIESED AND
*                                      THE TRACE WRITER IS TO      0022
*                                      TERMINATE.                    */
*       3 * BIT(1),                                                0022
*       3 TRMWRITP BIT(1),          /* THE POST BIT                  */
*      2 WRTRERR PTR(31),           /* THIS ECB IS POSTED BY THE   0022
*                                      TRACE WRITER OR ANY OF THE  0022
*                                      WRITER- STACK RECOVERY RTNS TO
*                                      REQUEST THAT THE MOTHER TASK
*                                      TERMINATE THE TRACE WRITER.   */
*       3 * BIT(1),                                                0022
*       3 WRTRERRP BIT(1),          /* THE POST BIT                  */
*      2 GTFSSRB PTR(31),           /* PTR TO THE SRB USED BY      0022
*                                      AHLSFEOB TO SCHEDULE AHLSBUF.
*                                      0 IF AHLSBUF IS DISABLED.     */
*       3 SRBAVAIL BIT(1),          /* THIS BIT IS SET WHEN THE SRB
*                                      IS AVAILABLE FOR SCHEDULING.
*                                      IT IS USED TO SERIALIZE THE 0022
*                                      USE OF THE SRB AND PORTIONS OF
*                                      THE CODE IN AHLSBUF           */
*      2 GTFLOSTR PTR(31),          /* COUNT OF RECORDS LOST WHEN  0022
*                                      AHLSBLOK WAS UNABLE TO STACK
*                                      RECORDS.                      */
*      2 WRITERDD CHAR(8),          /* DDNAME OF TRACE DATASET FOR 0022
*                                      THE TRACE WRITER OUTPUT       */
*      2 QLOCKWRD CHAR(4),          /* A PRIVATE COOPERATIVE LOCK  0022
*                                      USED BY AHLSBUF & THE TRACE 0022
*                                      WRITER                        */
*       3 QLOCK CHAR(1),            /* TEST AND SET IS USED TO SET 0022
*                                      THIS BYTE TO OBTAIN CONTROL OF
*                                      THE RESOURCES                 */
*       3 POSTWRIT CHAR(1),         /* THIS BYTE IS SET BY THE TRACE
*                                      WRITER TO REQUEST THAT AHLSBUF
*                                      POST QLOCKECB WHEN IT RELEASES
*                                      QLOCK                         */
*       3 SCHEDBUF CHAR(1),         /* THIS BYTE IS SET BY AHLSBUF TO
*                                      REQUEST THAT THE TRACE WRITER
*                                      SCHEDULE IT WHEN IT RELEASES
*                                      QLOCK                         */
*       3 * CHAR(1),                /* THIS BYTE IS RESERVED         */
*      2 QLOCKECB PTR(32),          /* THIS ECB IS WAITED ON BY THE
*                                      TRACE WRITER IF THE QLOCK IS
*                                      NOT AVAILABLE. IT IS POSTED BY
*                                      AHLSBUF AFTER THE IT HAS FREED
*                                      THE QLOCK                     */
*       3 * BIT(1),                                                0022
*       3 QLECBP BIT(1),            /* THE POST BIT                  */
*      2 WQLENGTH PTR(31),          /* NUMBER OF GTFBCB ON THE WRITE
*                                      Q DIAGNOSTIC AID              */
*      2 WQMAX PTR(31),             /* MOST GTFBCB EVER ON THE WRITE
*                                      Q DIAGNOSTIC AID              */
*      2 EQLENGTH PTR(31),          /* NUMBER OF GTFBCB ON THE EMPTY
*                                      Q                             */
*      2 EQMIN PTR(31),             /* LEAST NUMBER OF BUFFERS EVER
*                                      ON THE EMPTY QUEUE DIAGNOSTIC
*                                      AID                           */
*      2 SLESUSED PTR(31),          /* TOTAL NUMBER OF SLE EVER USED
*                                      DIAGNOSTIC AID                */
*      2 SBUFDISA PTR(31),          /* NUMBER OF TIMES AHLSBUF     0022
*                                      DISABLED DUE TO NULL EMPTY  0022
*                                      QUEUE DIAGNOSTIC AID          */
*      2 NUMOFBUF PTR(31),          /* TOTAL NUMBER OF BUFFERS     0022
*                                      PROCESSED BY WRITER DIAGNOSTIC
*                                      AID                           */
*      2 WRTDLST PTR(31),           /* THE ADDRESS OF A LIST FORM  0022
*                                      SDUMP MACRO TO BE USED BY ALL
*                                      THE WRITER-STACK SEVICE ERROR
*                                      RTNS                          */
*      2 RQTOTAL PTR(31),           /* THE TOTAL NUMBER OF GTFBCB  0022
*                                      THAT WERE PUT ON THE RELEASE
*                                      QUEUE DIAGNOSTIC AID          */
*      2 RQPURGE PTR(31),           /* THE NUMBER OF TIMES THE WRITER
*                                      PURGED THE RELEASE QUEUE    0022
*                                      DIAGNOSTIC AID                */
*      2 SLECNT PTR(31),            /* THE NUMBER OF SLE ON THE SLE
*                                      QUEUE THAT ARE IN USE       0022
*                                      DIAGNOSTIC AID                */
*      2 SLEMAX PTR(31),            /* THIS CONTAINS THE COUNT OF THE
*                                      MOST SLE THAT WERE IN USE AT
*                                      ONE TIME DIAGNOSTIC AID       */
*      2 EQSHORT PTR(31),           /* COUNT OF THE NUMBER OF TIMES
*                                      THE TRACE WRITER HAS FOUND  0022
*                                      THAT THE EMPTY QUEUE WAS LESS
*                                      THAN THE MINIMUM RESERVE    0022
*                                      GTFBCB.                       */
*      2 AUDITFLG CHAR(4),          /* AUDIT FLAGS USED BY THE     0022
*                                      WRITERS ALSO ERROR FLAGS SET
*                                      BY ANY WRITER-STACK SERVICE 0022
*                                      RTN TO INDICATE THE ERROR     */
*       3 AFIWRIT BIT(1),           /* SET TO INDICATE THAT AHLIWRIT
*                                      IS THE TRACE WRITER ATTACHED  */
*       3 AFCWRIT BIT(1),           /* SET TO INDICATE THAT AHLCWRIT
*                                      IS THE TRACE WRITER ATTACHED  */
*       3 AFWWRIT BIT(1),           /* SET TO INDICATE THAT AHLWWRIT
*                                      IS THE TRACE WRITER ATTACHED  */
*       3 AFINIT BIT(1),            /* ON DURING INITIALIZATION OF 0022
*                                      THE THE TRACE WRITER          */
*       3 AFTERM BIT(1),            /* SET DURING THE FINAL STAGES OF
*                                      WRITER TERMINATION, AFTER THE
*                                      DATA FLUSHING IS OVER         */
*       3 AFWAIT BIT(1),            /* SET WHILE THE WRITER IS IN THE
*                                      WAIT STATE                    */
*       3 AFGMSRB BIT(1),           /* SET WHILE THE SRB FOR AHLSBUF
*                                      IS BEING GOTTEN               */
*       3 AFGMBLOK BIT(1),          /* SET WHILE GTFBLOK ARE BEING 0022
*                                      GOTTEN                        */
*       3 AFOPEN BIT(1),            /* SET WHILE THE DEVTYPE AND OPEN
*                                      ARE BEING DONE ON THE TRACE DD*/
*       3 AFCLOSE BIT(1),           /* SET WHILE THE TRACE DATASET IS
*                                      BEING CLOSED                  */
*       3 AFLDFX BIT(1),            /* SET WHILE AHLSBLOK, AHLSFEOB,
*                                      & AHLSBUF ARE BEING LOADED OR
*                                      FIXED                         */
*       3 AFBUFOFF BIT(1),          /* SET WHILE THE WRITER IS     0022
*                                      ENGAGED IN CODE FOR THE     0022
*                                      PURPOSE OF REMOVING GTFBCB  0022
*                                      FROM THE WRITER QUEUE         */
*       3 AFWRAP BIT(1),            /* SET WHEN THE WRITER IS      0022
*                                      RESETTING BSAM TO THE       0022
*                                      BEGINNING OF THE DA DATASET   */
*       3 AFPGRLSE BIT(1),          /* SET WHILE THE WRITER IS     0022
*                                      PURGING THE RELEASE QUEUE     */
*       3 AFEQFIX BIT(1),           /* SET WHILE THE WRITER IS     0022
*                                      GETTING ANOTHER PAGE OF GTFBCB
*                                      TO PUT ON THE EMPTY QUEUE     */
*       3 AFBLKFIX BIT(1),          /* SET WHILE THE WRITER IS TRYING
*                                      TO REPLACE A GTFBLOK THAT HAS
*                                      A BLOKUSE WHICH WILL PROBALBLY
*                                      NOT GO TO ZERO                */
*       3 AFFEOB BIT(1),            /* SET WHEN THE WRITER CALLS   0022
*                                      AHLSFEOB TO PURGE THE GTFBLOK */
*       3 AFBUFGET BIT(1),          /* SET WHENEVER THE WRITER IS  0022
*                                      GETTING GTFBCB & GTFBUFR      */
*       3 AFSLEGET BIT(1),          /* SET WHEN THE WRITER IS GETTING
*                                      THE SLE                       */
*       3 AFQLWAIT BIT(1),          /* SET WHILE THE TRACE WRITER IS
*                                      WAITING FOR THE QLOCK         */
*       3 AFXWRIT BIT(1),           /* SET WHILE THE AHLXWRIT      0022
*                                      SUBROUTINE IS RUNNING         */
*       3 TERMFLAG BIT(1),          /* SET WHEN IT IS DETECTED THAT
*                                      THE TRMWRIT ECB HAS BEEN    0022
*                                      POSTED. IF THIS IS SET ALL  0022
*                                      FGBR ACTIVITY HAS BEEN QUIESED*/
*       3 WSERFLAG BIT(1),                                         0022
*       3 WSERFG02 BIT(1),          /* SET BY AHLSFRR IF THE TRACE IS
*                                      BEING TERMINATED BECAUSE OF AN
*                                      ERROR IN AHLSBUF              */
*       3 WSERFG03 BIT(1),          /* SET BY AHLSBFRR IF THE TRACE
*                                      IS BEING TERMINATED BECAUSE OF
*                                      AN ERROR IN AHLSBLOK OR     0022
*                                      AHLSFEOB                      */
*       3 WSERFG04 BIT(1),          /* SET BY THE WRITER IF THE TRACE
*                                      IS BEING TERMINATED BECAUSE OF
*                                      A CRONIC GTFBLOK PROBLEM      */
*       3 WSERFG05 BIT(1),          /* SET BY AHLWSTAE WHEN IT IS  0022
*                                      ENTERED                       */
*       3 WSERFG06 BIT(1),          /* SET BY                        */
*       3 AFSLEBLD BIT(1),          /* SET BY AHLSBUF WHILE EXECUTING
*                                      CODE TO SUPPORT AHLREADR      */
*       3 * BIT(3),                 /* RESERVED FOR TRACE WRITER USE */
*      2 GTFASCB PTR(31),           /* ADDRESS OF ASCB FOR GTF       */
*      2 TRANSMAX PTR(31),          /* THIS IS THE MAX NUMBER OF   0022
*                                      AHLRDPL EVER ON THE AHLRDPLQ
*                                      AT ONE TIME                   */
*      2 PCTDMPMD PTR(31),          /* ADDRESS OF THE GTF          0022
*                                      SDUMP-TAKING ROUTINE          */
*      2 PCTWTOMD PTR(31);          /* ADDRESS OF THE GTF WTO      0022
*                                      ROUTINE, USED TO WRITE ERROR
*                                      MESSAGES                      */
*                                                                  0023
*/********************************************************************/
*/*                               SLE                                */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   OS/VS2-R2                                                      */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE GTF SAVE LIST ELEMENTS.             */
*/*   THE SLE ARE USED TO IDENTIFY STRINGS OF GTFBCB ARE BEING       */
*/*   SAVED FOR PROCESSING BY EITHER SVCDUMP OR IGC0F05A.            */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS OBTAINED AND INITIALIZED BY THE TRACE    */
*/*   WRITER FOR USE BY AHLSBUF AND AHLREADR                         */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS CONTROL BLOCK IS OBTAINED FROM SUBPOOL 7, AND IS FIXED,   */
*/*   THEREFORE IT IS FIXED, PRIVATE.                                */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT THE USER WILL QUALIFY  */
*/*   ALL ADDRESSING TO IT.                                          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0023
*   DECLARE                                                        0023
*     1 SLE BDY(WORD) BASED,                                       0023
*      2 SLEID CHAR(8),             /* EBCIDIC IDENTIFIER            */
*      2 SLQCHAIN PTR(31),          /* @ NEXT SLE ON QUEUE OR 0 FOR
*                                      THE END OF THE QUEUE          */
*      2 SLEHOOK CHAR(8) BDY(WORD), /* THIS PORTION OF THE SLE IS  0023
*                                      WHERE THE DATA FROM THE     0023
*                                      SAVEHOOK IS SAVED             */
*       3 SLEEID BIT(16),           /* EID OF SAVEHOOK FOR WHICH THIS
*                                      SLE WAS CERATED               */
*       3 SLEDUMP CHAR(6) BDY(WORD,3),/* THIS FORMS THE UNIQUE DUMP
*                                      IDENTIFIER PASSED IN THE SAVE
*                                      HOOK RECORD AND THEN MATCHED
*                                      TO THE ID IN THE PARMLIST   0023
*                                      PASSED TO AHLREADR            */
*        4 SLEASID PTR(15),         /* ASID OF ADDRESS SPACE THAT  0023
*                                      ISSUED SAVE HOOK              */
*        4 SLETCBA PTR(31),         /* @ TCB FOR WHICH ABDUMP IS   0023
*                                      DUMPING, OR 0 IF THIS IS FOR
*                                      SVCDUMP                       */
*      2 SLEPGLST PTR(31),          /* PTR TO A LIST OF PAGES THAT 0023
*                                      CONTAIN ALL THE PORTIONS OF 0023
*                                      THE TASK WRITER'S ADDRESS   0023
*                                      SPACE THAT EDIT WILL NEED TO
*                                      LOCATE AND FORMAT THE DATA IN
*                                      AN SVCDUMP. AHLREADR WILL PASS
*                                      ALL THESE PAGES ACROSS TO   0023
*                                      SVCDUMP                       */
*      2 SLEBCBQ PTR(31),           /* PTR TO THE STRING OF GTFBCB 0023
*                                      SAVED FOR THIS DUMP           */
*      2 SLEQCNT PTR(31),           /* THIS FIELD INDICATES HOW MANY
*                                      GTFBCB ARE ON THE SLEBCBQ. IT
*                                      IS SET BY AHLSBUF & DECR BY 0023
*                                      AHLREADR AS GTFBCB ARE TAKEN
*                                      OFF THE SLEBCBQ               */
*      2 SLEFLAGS CHAR(4),                                         0023
*       3 SLEINUSE BIT(1),          /* THIS IS SET WHEN THE SLE IS IN
*                                      USE. AHLSBUF USES THIS BIT TO
*                                      IDENTIFY AN AVAILABLE SLE     */
*       3 * BIT(31);                                               0023
*   DECLARE                                                        0024
*     1 SVCPLIST BASED(SLEPGLST),   /* LIST OF PAGES TO BE PASSED TO
*                                      SVCDUMP BY AHLREADR. THIS LIST
*                                      IS BUILT BY AHLREADR THE FIRST
*                                      TIME IT ACCESSES AND SLE      */
*      2 PLINDEX PTR(31),           /* INDEX USED BY AHLREADR TO STEP
*                                      THROUGH THE LIST THIS IS    0024
*                                      INITIALIZED AT THE MAX AND  0024
*                                      DECREMENTED EACH TIME A PAGE
*                                      IS PASSED                     */
*      2 PAGELIST(274) PTR(31),     /* THE LIST OF PAGE ADDRESSES 1
*                                      MCHEAD, 1 MCCE, 10 MCQE, 1  0024
*                                      GTFPCT, 1 SLE (PAGE FULL), 4
*                                      GTFBCB (PAGES FULL), 255    0024
*                                      GTFBUFR, 1 EXTRA JUST IN CASE.*/
*       3 COMMONPG BIT(1);          /* THIS BIT IS ON IF THE PAGE IS
*                                      ONE THAT IS IN COMMON ADDR  0024
*                                      SPACE                         */
*                                                                  0025
*/********************************************************************/
*/*                              GTFBCB                              */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   OS/VS2-R2                                                      */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE GTF BUFFER CONTROL BLOCK.           */
*/*   THE GTFBCB IS USED TO CONTROL GTFBUFR MANIPULATION.            */
*/*   THERE IS ONE GTFBCB PER GTFBUFR AND IT CONTAINS ALL FLAG,      */
*/*   CHAIN, & COUNT FIELDS                                          */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS OBTAINED BY TRACE WRITER INITIALIZATION, */
*/*   AND INITIALIZED AT THAT TIME.  ONE IS OBTAINED FOR EACH        */
*/*   GTFBUFR.                                                       */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS CONTROL BLOCK IS OBTAINED FROM SUBPOOL 5,AND IS FIXED,    */
*/*   THEREFORE IT IS FIXED, PRIVATE.                                */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT THE USER WILL QUALIFY  */
*/*   ALL ADDRESSING TO IT.                                          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0025
*   DECLARE                                                        0025
*     1 GTFBCB BDY(WORD) BASED,                                    0025
*      2 GTFBCBID CHAR(8),          /* EBCDIC IDENTIFIER- GTFBCB     */
*      2 BCBSWAP PTR(31) BDY(WORD), /* MODIFICATION OF THIS WORD   0025
*                                      REQUIRES MP SERIALIZATION   0025
*                                      CONSIDERATIONS AND THE      0025
*                                      POSSIBLE USE OF CS            */
*       3 BCBQFLAG BIT(16),         /* DIAGNOSTIC FLAGS- EACH FLAG 0025
*                                      CORRESPONDS TO A MEANS BY   0025
*                                      WHICH THIS GTFBCB CAN BE    0025
*                                      LOCATED AND ALSO TO THE     0025
*                                      ASSOCIATED USE FOR WHICH THE
*                                      DATA IN THE GTFBUFR IS BEING
*                                      KEPT                          */
*        4 EQFLAG BIT(1),           /* ON THE EMPTY QUEUE            */
*        4 WQFLAG BIT(1),           /* ON THE WRITE QUEUE            */
*        4 CQFLAG BIT(1),           /* CURRENTLY BEING FILLED        */
*        4 SQFLAG BIT(1),           /* ON AN SLEBCBQ                 */
*        4 HQFLAG BIT(1),           /* ON THE HISTORY QUEUE          */
*        4 RQFLAG BIT(1),           /* ON THE HISTORY QUEUE          */
*        4 DECBFLAG BIT(1),         /* CURRENTLY INVOLVED IN I/O     */
*       3 BCBUSE PTR(15),           /* NUMBER OF QUEUES THIS BUFFER
*                                      IS ON                         */
*      2 BCBCHAIN PTR(31),          /* THIS CHAIN FIELD POINTS TO THE
*                                      NEXT GTFBCB ON ANY AND ALL OF
*                                      THE QUEUES THAT IT MAY BE ON
*                                      OR IS 0 IF THERE IS NO MORE 0025
*                                      GTFBCB. IN THE CASE OF AN   0025
*                                      SLEBCBQ THIS PTR WILL BE    0025
*                                      INVALID AFTER GOING DOWN THE
*                                      QUEUE THE NUMBER OF GTFBCB  0025
*                                      SPECIFIED IN SLEQCNT          */
*       3 HQCHAIN PTR(31),          /* AN ALIAS                      */
*        4 WQCHAIN PTR(31),         /* AN ALIAS                      */
*         5 EQCHAIN PTR(31),        /* AN ALIAS                      */
*          6 RQCHAIN PTR(31),       /* AN ALIAS                      */
*           7 SQCHAIN PTR(31),      /* AN ALIAS                      */
*      2 GBUFRPTR PTR(31),          /* PTR TO GTFBUFR FOR THIS GTFBCB*/
*      2 BCBFREQ PTR(31);           /* RUNNING TOTAL OF THE NUMBER OF
*                                      TIMES THIS GTFBCB WAS USED    */
*   DCL                                                            0026
*     1 GTFBUFR CHAR(4096) BASED(GBUFRPTR) BDY(DWORD),/* THIS IS THE
*                                      AREA THAT HOLDS THE TRACE DATA
*                                      ASSOCIATED WITH THE GTFBCB. IT
*                                      IS ON A PAGE BOUNDRY          */
*      2 BIGLL PTR(15);             /* MAJOR LENGTH FIELD FOR THE  0026
*                                      VARIABLE LENGTH BLOCKED DATA  */
*   DCL                             /* THESE TWO WORDS ARE USED TO 0027
*                                      UPDATE BCBSWAP IN THE MAPPING
*                                      VIA CS. SEE THE BCBSWAP     0027
*                                      REMARKS FOR THE MEANINGS OF 0027
*                                      EACH FIELD                    */
*     1 CMPWKA BDY(WORD) BASED,                                    0027
*      2 COMPBCB PTR(31) BDY(WORD),                                0027
*      2 SWAPBCB PTR(31) BDY(WORD),                                0027
*        4 * BIT(16),                                              0027
*          6 EQFSWAP BIT(1),                                       0027
*          6 WQFSWAP BIT(1),                                       0027
*          6 CQFSWAP BIT(1),                                       0027
*          6 SQFSWAP BIT(1),                                       0027
*          6 HQFSWAP BIT(1),                                       0027
*          6 RQFSWAP BIT(1),                                       0027
*          6 DECBFSWA BIT(1),                                      0027
*          6 * BIT(9),                                             0027
*        4 SWAPUSE PTR(15);                                        0027
*                                                                  0028
*/********************************************************************/
*/*                              GTFBLOK                             */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   OS/VS2-R2                                                      */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE GTF BLOCK.  THE GTFBLOK ARE USED    */
*/*   BY AHLSBLOK FOR BLOCKING TRACE RECORDS BEFORE HAVING AHLSBUF   */
*/*   BUFFER THEM.                                                   */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS OBTAINED BY WRITER INITIALIZATION,       */
*/*   AND WILL BE INITIALIZED AT THAT TIME.  THIS CONTROL BLOCK/DATA */
*/*   AREA MUST BE IN COMMON ADDRESS SPACE AND ON A DOUBLE WORD      */
*/*   BOUNDRY. IT WILL BE FREED BY THE TRACE WRITER AT               */
*/*   TERMINATION.                                                   */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS CONTROL BLOCK IS OBTAINED FROM SQA                        */
*/*   AND THEREFORE, IS FIXED, COMMON.                               */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT THE USER WILL QUALIFY  */
*/*   ALL ADDRESSING TO IT.                                          */
*/*                                                                  */
*/********************************************************************/
*                                                                  0028
*   DECLARE                                                        0028
*     1 GTFBLOK BDY(DWORD) BASED,                                  0028
*      2 BLOKID CHAR(8),            /* EBCDIC IDENTIFIER- GTFBLOK    */
*      2 BLKCHAIN PTR(31) BDY(DWORD),/* ADDRESS OF THE NEXT GTFBLOK
*                                      ON THE CHAIN                  */
*       3 BLKINUSE BIT(1),          /* THIS BIT IS SET BY AHLSBUF TO
*                                      INDICATE THAT THIS GTFBLOK IS
*                                      BEING BUFFERED. AHLSBLOK    0028
*                                      CHECKS THIS IN THE PROCESS OF
*                                      RESERVING SPACE IN A GTFBLOK  */
*      2 BLOKAREA CHAR(4096) BDY(WORD),/* RECORD BLOCKING AREA THE 0028
*                                      FORMAT OF THIS AREA WILL BE 0028
*                                      THAT OF A VARIABLE BLOCKED  0028
*                                      RECORD WITH THE MAJOR LENGTH
*                                      FIELD BEING BLOKLEN           */
*       3 BLOKLEN PTR(15),          /* LENGTH OF DATA IN THIS BLOCK  */
*       3 BLOKUSE PTR(15),          /* NUMBER OF RECORDS WHICH HAVE
*                                      SPACE RESERVED FOR THEM IN  0028
*                                      THIS GTFBLOK BUT HAVE NOT BEEN
*                                      MOVED IN YET BY AHLSBLOK. THIS
*                                      HALF WILL BE 0 ONLY WHEN THIS
*                                      GTFBLOK IS IN A CONDITION TO
*                                      BE BUFFERED BY AHLSBUF        */
*/* THIS VARIABLE NAME IS USED FOR CDS OF THE GTFBLOK FIELDS         */
*/*   BLKCHAIN, BLKINUSE, BLOKLEN, & BLOKUSE                         */
*                                                                  0028
*     BLOKSWAP CHAR(8) BDY(DWORD) DEFINED(BLKCHAIN);               0028
*                                                                  0028
*   /*****************************************************************/
*   /*                                                               */
*   /* MAP OF GTF TIME-STAMP RECORD AND/OR LOST EVENTS RECORD        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0029
*   DCL                                                            0029
*     1 RECMAP DEFINED(BLOKAREA) POSITION(5),                      0029
*      2 RECLL FIXED(15),           /* LENGTH OF THIS RECORD         */
*      2 RECRES1 CHAR(2),           /* QSAM COMPATABILITY            */
*      2 RECAID CHAR(1),            /* AID                           */
*      2 RECFID CHAR(1),            /* FID                           */
*      2 RECTIME CHAR(12),          /* TIME FIELD                    */
*       3 RECVTTZ CHAR(4),          /* CVT TIME ZONE                 */
*       3 RECTOD CHAR(8),           /* TOD VALUE                     */
*      2 RECGTFOP BIT(32) BDY(BYTE),/* GTF OPTION WORD, IF THIS IS A
*                                      TIME-STAMP RECORD, OR         */
*       3 RECLSTEV PTR(31) BDY(BYTE);/* LOST EVENT COUNT, IF THIS IS
*                                      A LOST EVENTS RECORD          */
*                                                                  0029
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS IS A MAPPING OF A SAVEHOOK RECORD. THIS RECORD IS BUILT  */
*   /* BY AHLTDIR TO REQUEST THAT AHLSBUF RETAIN GTFBUR CURRENTLY ON */
*   /* THE HISTORY QUEUE FOR AHLREADR                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0030
*   DCL                                                            0030
*     1 SVHKREC BASED,              /* SAVE HOOK RECORD FORMAT       */
*      2 SVHKLEN PTR(15),                                          0030
*      2 * CHAR(2),                                                0030
*      2 SVHKAFID CHAR(2),                                         0030
*      2 SVHKDATA CHAR(8),                                         0030
*       3 SVHKEID CHAR(2),                                         0030
*       3 SVHKASID CHAR(2),                                        0030
*       3 SVHKTCB CHAR(4);                                         0030
*                                                                  0031
*/********************************************************************/
*/*                              MCAWSA                              */
*/********************************************************************/
*/*                                                                  */
*/* LEVEL OF APPLICABILITY                                           */
*/*   VS2-R2                                                         */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*   THIS MAPPING DESCRIBES THE MCAWSA, MONITOR CALL APPLICATION    */
*/*   WORK SAVE AREA, USED BY FGBRS.                                 */
*/*                                                                  */
*/* INITIALIZATION                                                   */
*/*   THIS CONTROL BLOCK IS OBTAINED BY AHLVCON AT VARY CPU ONLINE   */
*/*   TIME, OR AHLSETEV JUST BEFORE SETTING CONTROL REGISTER 8       */
*/*   THE CLASS MASK REGISTER.  THERE IS ONE MCAWSA PER CPU AND      */
*/*   IT IS POINTED TO BY MCRWSA.  WHEN AHLMCER GIVES CONTROL TO     */
*/*   A FGBR, THE MCAWSA IS POINTED TO BY REGISTER THREE. THE        */
*/*   MCAWSA ALLOWS FGBR ROUTINES TO BE REENTRANT ON A PER CPU BASIS */
*/*   THE MCAWSA IS FREED BY AHLSETEV AT GTF TERMINATION OR          */
*/*   AHLVCOFF AT VARY CPU OFFLINE TIME.                             */
*/*   MCAWSA CURRENTLY HAS A MAXIMUM SIZE OF 800 BYTES.              */
*/*                                                                  */
*/* RESIDENCE                                                        */
*/*   THIS CONTROL IS OBTAINED FROM SQA AND THEREFORE IS FIXED       */
*/*   COMMON.                                                        */
*/*                                                                  */
*/* PHILOSOPHY OF DESIGN                                             */
*/*   THIS CONTROL BLOCK MAPPING ASSUMES THAT THE USER WILL          */
*/*   ESTABLISH ADDRESSABILITY.                                      */
*/*                                                                  */
*/********************************************************************/
*                                                                  0031
*   DECLARE                                                        0031
*     1 MCAWSA BDY(WORD) BASED(AWSAPTR) CHAR(800),                 0031
*      2 MCASBLOK(14) PTR(31),      /* SAVE AREA FOR AHLSBLOK        */
*      2 MCASFEOB(14) PTR(31),      /* SAVE AREA FOR AHLSFEOB        */
*      2 MCAFWORK CHAR(16) BDY(WORD),/* SBLOK/FEOB WORK AREA         */
*      2 MCASETEV CHAR(64),         /* SAVE AREA FOR DISABLED ENTRY
*                                      TO AHLSETEV REGS              */
*      2 MCAMSG CHAR(64),           /* AHLWTASK REG SAVE AREA        */
*      2 MCATRAIL CHAR(8),          /* FGBR AUDIT TRAIL              */
*       3 MCATRL1 PTR(8),           /* AUDIT BYTE ONE                */
*        4 MCASVC BIT(1),           /* SVC FGBR IN CONTROL           */
*        4 MCAEXT BIT(1),           /* EXT FGBR IN CONTROL           */
*        4 MCAIO BIT(1),            /* IO FGBR INCONTROL             */
*        4 MCASIO BIT(1),           /* SIO FGBR IN CONTROL           */
*        4 MCADSP BIT(1),           /* DSP FGBR IN CONTROL           */
*        4 MCASRB BIT(1),           /* SRB FGBR IN CONTROL           */
*        4 MCAPI BIT(1),            /* PI FGBR IN CONTROL            */
*        4 MCAUSR BIT(1),           /* USR FGBR IN CONTROL           */
*       3 MCATRL2 PTR(8),           /* AUDIT BYTE TWO                */
*        4 MCARNIO BIT(1),          /* RNIO FGBR IN CONTROL          */
*        4 MCASRM BIT(1),           /* SRM FGBR IN CONTROL           */
*        4 MCAFRR BIT(1),           /* FRR FGBR IN CONTROL           */
*        4 MCASTA BIT(1),           /* STAE/ESTAE FGBR IN CONTROL    */
*        4 MCAUIO BIT(1),           /* UIO FGBR IN CONTROL           */
*        4 MCAERROR BIT(1),         /* ERROR ROUTINE FOR INDICATED 0031
*                                      FGBR IN CONTROL               */
*        4 MCALSR BIT(1),           /* LSR ROUTINE IN CONTROL        */
*        4 MCATDIR BIT(1),          /* AHLTDIR IN CONTROL            */
*       3 MCATRL3 PTR(8),           /* FILTER BYTE INDICATORS        */
*        4 MCASVCF BIT(1),          /* SVC FILTER IN CONTROL         */
*        4 MCAIOF BIT(1),           /* IO FILTER IN CONTROL          */
*        4 MCASIOF BIT(1),          /* SIO FILTER IN CONTROL         */
*        4 MCAPIF BIT(1),           /* PI FILTER IN CONTROL          */
*        4 MCAFRSA BIT(1),          /* AHLTFOR GATHERING ASCB FOR SRM*/
*        4 MCAFRSJ BIT(1),          /* AHLTFOR GATHERING JOBNAME FOR
*                                      SRM                           */
*        4 MCAFRFA BIT(1),          /* AHLTFOR GATHERING ASCB FOR FRR*/
*        4 MCAFRFRT BIT(1),         /* AHLTFOR GATHERING DATA FROM 0031
*                                      RTCA FOR FRR RECORD           */
*       3 MCATRL4 PTR(8),           /* AUDIT TRAIL BYTE 4            */
*        4 MCAMEXT BIT(1),          /* GATHERING EXTERNAL            */
*        4 MCAMUCB BIT(1),          /* GATHERING FROM UCB            */
*        4 MCAMASCB BIT(1),         /* GATHERING ASCB                */
*        4 MCAMTCB BIT(1),          /* GATHERING TCB                 */
*        4 MCAMIOSB BIT(1),         /* GATHERING FROM IOSB           */
*        4 MCAMBTU BIT(1),          /* GATHERING FROM BTU            */
*        4 MCAMSDWA BIT(1),         /* GATHERING FROM RTCA           */
*        4 MCAMJOBN BIT(1),         /* GATHERING JOBNAME             */
*       3 MCATRL5 PTR(8),           /* AUDIT BYTE FIVE               */
*        4 MCAFREPC BIT(1),         /* AHLTFOR GATHERING PSW AND   0031
*                                      COMPLETION CODE FOR ESTAE     */
*        4 MCAFRERT BIT(1),         /* AHLTFOR GATHERING DATA FROM 0031
*                                      RTCA FOR ESTAE RECORD         */
*        4 MCAFRRA BIT(1),          /* AHLTFOR GATHERING ASCB FOR  0031
*                                      RNIO                          */
*        4 MCAFRRJ BIT(1),          /* AHLTFOR GATHERING JOBNAME FOR
*                                      RNIO RECORD                   */
*        4 MCAFRRB BIT(1),          /* AHLTFOR GATHERING DATA FROM 0031
*                                      BTU FOR RNIO RECORD           */
*        4 MCADREGS BIT(1),         /* GATHERING DSP,SRB REGS        */
*        4 * BIT(2),                /* RESERVED                      */
*       3 MCATRL6 PTR(8),           /* AUDIT TRAIL BYTE SIX          */
*        4 MCAFRPIJ BIT(1),         /* AHLTPID GATHERING PI JOBNAME  */
*        4 MCAFRPIC BIT(1),         /* AHLTPID GATHERING PI CDE NAME */
*        4 MCAFRDPC BIT(1),         /* AHLTPID GATHERING DSP CDE NAME*/
*        4 MCAFRDMJ BIT(1),         /* AHLTPID GATHERING DSP JOBNAME */
*        4 MCAFRSBR BIT(1),         /* AHLTPID GATHERING DSP REGS    */
*       3 MCATRL7 PTR(8),           /* AUDIT TRAIL BYTE SEVEN        */
*        4 MCAFREXJ BIT(1),         /* AHLTEXT GATHERING JOBNAME     */
*        4 MCAFRESP BIT(1),         /* AHLTEXT GATHERING SIG PROC    */
*        4 MCAFRECC BIT(1),         /* AHLTEXT GATHERING CLK COMP    */
*        4 MCAFRECT BIT(1),         /* AHLTEXT GATHERING CPU TIMER   */
*       3 MCATRL8 PTR(8),           /* AUDIT TRAIL BYTE EIGHT        */
*        4 * BIT(2),                /*                       @ZM30190*/
*        4 * BIT(1),                /* AHLTPID GATHERIND CDENAME FROM
*                                      LPDE                  @ZM30190*/
*        4 * BIT(4),                /*                       @ZM30190*/
*        4 * BIT(1),                /* AHLTSVC VALIDATING DEB@ FOR 0031
*                                      SVC1516               @ZM30190*/
*      2 MCAMCR PTR(31),            /* @ MCRWSA                      */
*      2 MCARECPR CHAR(16),         /* RECORD PREFIX BUILD AREA      */
*      2 MCAREC CHAR(300),          /* RECORD BUILD AREA             */
*      2 MCAWORK CHAR(60) BDY(WORD),/* WORK AREA FOR FGBRS           */
*      2 MCASWORK CHAR(32);         /* WORK AREA FOR SDUMPMOD        */
*                                                                  0032
*   /*****************************************************************/
*   /*                                                               */
*   /* DECLARATION AND INITIALIZATION OF MAPPING & CODE BASES        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0032
*   DCL                                                            0032
*    (BASE1 REG(11),                                               0032
*     BASE2 REG(12)) PTR(31);       /* MODULE BASE REGS              */
*   DCL                                                            0033
*     PARAMETR PTR(31) REG(1) RSTD; /* ADDR OF THE GTF MCQE. PASSED
*                                      AS A PARAMETER IN REG 1 BY THE
*                                      MOTHER TASK                   */
*   DCL                                                            0034
*     PCTPTR PTR(31) REG(8) RSTD;   /* BASE FOR THE GTFPCT           */
*   DCL                                                            0035
*     SDWAPTR PTR(31) REG(4);       /* BASE FOR IHASDWA (RTCA) THE 0035
*                                      ADDRESS OF WHICH IS PASSED TO
*                                      THE ESTAE E.P. IN GPR 1       */
*   DCL                                                            0036
*     ASCBPTR PTR(31) DEFINED(PSAAOLD);/* BASE FOR THE ASCB, THE   0036
*                                      ADDRESS OF THE CURRENT ASCB   */
*   DCL                                                            0037
*     SLEPTR PTR(31);               /* BASE FOR ANY SLE, IT IS NOT 0037
*                                      INITIALIZED                   */
*   RFY                                                            0038
*     SLE BASED(SLEPTR);                                           0038
*   DCL                                                            0039
*     SRBPTR PTR(31) INIT(0);       /* THIS WILL CONTAIN THE ADDRESS
*                                      OF THE SRB FOR AHLSBUF OR 0 IF
*                                      THERE IS NO SRB. IT IS USED BY
*                                      THE TRACE WRITER TO REFRESH 0039
*                                      GTFSSRB AFTER AHLSBUF HAS   0039
*                                      DISABLED                      */
*   DCL                                                            0040
*     REG1 REG(1) PTR(31);          /* LENGTH OF RTN AFTER THE LOAD
*                                                            @AZ14120*/
*   DCL                                                            0041
*     CVTPTR PTR(31) LOCATION(16);  /* BASE FOR THE CVT MAPPING      */
*   DCL                                                            0042
*     AWSAPTR PTR(31) BASED;                                       0042
*                                                                  0043
*   /*****************************************************************/
*   /*                                                               */
*   /* DECLARATION OF TRACE WRITER EXTERNAL VARIABLES                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0043
*   DCL                                                            0043
*    (AHL032,                       /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL032I INSUFFICIENT ADDRESS
*                                      SPACE FOR GTF WRITER          */
*     AHL033,                       /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL033I INSUFFICIENT SQA FOR
*                                      GTF WRITER                    */
*     AHL034,                       /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL034I GTF WRITER TERMINATING
*                                      ON ERROR CONDITION            */
*     AHL035,                       /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL035I GTF TRACE WRITER    0043
*                                      UNABLE TO XXXX YYYYYYYY       */
*     AHL036,                       /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL036I GTF WRITER DATA FLOW
*                                      BLOCKED. FIX XXXXXXXXX        */
*     AHL037,                       /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL037I GTF WRITER UNABLE TO
*                                      ESTABLISH ESTAE               */
*     AHL038,                       /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL038I GTF WRITER UNABLE TO
*                                      OPEN XXXXXXXX                 */
*     AHL039                        /* NAME OF LIST FORM WTO FOR MSG
*                                      AHL039I XXXXXXXX DD STATEMENT
*                                      MISSING                       */
*         ) EXTERNAL NONLOCAL CHAR;                                0043
*   DCL                                                            0044
*    (M035NAME CHAR(8),             /* NAME OF THE SECOND VARIABLE 0044
*                                      FIELD IN MSG AHL035I WHICH MAY
*                                      HAVE VALUES OF 'AHLSBCU1',  0044
*                                      'AHLWSMOD', 'AHLSBUF ',     0044
*                                      'AHLSBLOK', 'AHLSFEOB',     0044
*                                      'GTFBCB ', OR 'SLE '          */
*     M036AF CHAR(9),               /* NAME OF THE VARIABLE FIELD IN
*                                      MSG AHL036I WHICH MAY HAVE  0044
*                                      VALUES OF 'ATTEMPTED' OR    0044
*                                      'FAILED '                     */
*     M038DD CHAR(8),               /* NAME OF THE VARIABLE FIELD IN
*                                      MSG AHL038I WHICH WILL HAVE 0044
*                                      THE VALUE FROM THE GTFPCT   0044
*                                      FIELD WRITERDD                */
*     M039DD CHAR(8)                /* NAME OF THE VARIABLE FIELD IN
*                                      MSG AHL039I WHICH WILL HAVE 0044
*                                      THE VALUE FROM THE GTFPCT   0044
*                                      FIELD WRITERDD                */
*         ) EXTERNAL NONLOCAL;                                     0044
*                                                                  0045
*   /*****************************************************************/
*   /*                                                               */
*   /* DECLARATION OF TRACE WRITER REGISTER ASSIGNED VARIABLES OTHER */
*   /* THAN MAPPING BASES                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0045
*   DCL                                                            0045
*     AHLRDPTR PTR(31) REG(5);      /* THIS IS USED BY AHLXWRIT AS 0045
*                                      THE BASE FOR THE AHLRDPL      */
*   DCL                                                            0046
*    (MVCL1 REG(2),                                                0046
*     MVCL2 REG(3),                                                0046
*     MVCL3 REG(14),                                               0046
*     MVCL4 REG(15)) PTR(31);       /* THESE ARE USED TO PREPARE FOR
*                                      THE SO CALLED HIGH LEVEL    0046
*                                      LANGUAGE VERSION OF THE MVCL
*                                      INSTRUCTION                   */
*   DCL                                                            0047
*     MACREG1 PTR(31) REG(3),                                      0047
*     MACREG2 PTR(31) REG(4);       /* WHEN IT IS NECESSARY TO     0047
*                                      GENERATE A MACRO BECAUSE IT IS
*                                      NOT AVAILABLE IN PLS THESE  0047
*                                      VARIABLES ARE USED TO TRANSFER
*                                      FROM A PLS VARIABLE, WHICH MAY
*                                      OR MAY NOT BE IN A REG, TO A
*                                      REG THAT CAN BE CODED ON THE
*                                      MACRO                         */
*   DCL                                                            0048
*     RETCODE PTR(31) REG(15);      /* THIS WILL BE USED TO TEST ALL
*                                      STANDARD REGISTER RETURN CODES*/
*   DCL                                                            0049
*     LOADREG PTR(31) REG(0),       /* THIS IS USED TO OBTAIN THE  0049
*                                      ADDR OF LOADED MODULES        */
*     LOADLEN PTR(24) REG(1);       /* THIS IS USED TO OBTAIN THE  0049
*                                      LENGTH OF LOADED MODULES      */
*   DCL                                                            0050
*     CLOCKREG PTR(31) REG(4);      /* USED AS THE BASE IN A STCK  0050
*                                      INST                          */
*   DCL                                                            0051
*    (COMPREG REG(3),                                              0051
*     SWAPREG REG(4)) PTR(31);      /* USED WITH THE CS INST         */
*   DCL                                                            0052
*    (FEOBPCT REG(2),                                              0052
*     FEOBWSA REG(3),                                              0052
*     FEOBCURR REG(4)) PTR(31);     /* PARAMETERS TO AHLSFEOB        */
*   DCL                                                            0053
*     R11 PTR(31) REG(11),                                         0053
*     R14 PTR(31) REG(14),                                         0053
*     R15 PTR(31) REG(15);                                         0053
*   DCL                                                            0054
*     TTRREG PTR(31) REG(1);        /* THE TTR IS RETURNED FROM NOTE
*                                      IN REG 1                      */
*   DCL                                                            0055
*     SDWAHERE PTR(31) REG(0);      /* WHEN THE ESTAE E.P. AHLWSTAE
*                                      IS ENTERED 12 IN THIS REG   0055
*                                      INDICATES NO SDWA             */
*/* NOTICE THAT REGS ASSIGN5 AND ASSIGN6 ARE DECLARED AND RESTRICTED
*   IN BOTH OF THE EXTERNAL TRACE WRITERS. THEREFORE THEY SHOULD   0056
*   NOT BE USED IN THE INTERNAL TRACE WRITER EXCEPT AS COMPILER    0056
*   ASSIGNED REGISTERS                                               */
*                                                                  0056
*                                                                  0056
*   /*****************************************************************/
*   /*                                                               */
*   /* DECLARATION OF TRACE WRITER LABELS AND CONSTANTS              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0056
*   DCL                                                            0056
*     AHLSFEOB ENTRY BASED(SFEOBRTN) OPTIONS(NOEXIT,NOFLOWS,REFS(  0056
*         FEOBPCT,FEOBWSA,FEOBCURR),SETS(FEOBCURR,CURRBLOK),SEQFLOW);
*   DCL                                                            0057
*     AHLWSTAE LABEL;               /* THIS E.P. WILL BE THE ESTAE 0057
*                                      RECOVERY SEGMENT              */
*   DCL                                                            0058
*     PLACE LABEL BASED;            /* THIS IS USED AS AN ARGUMENT IN
*                                      MACROS WHERE THE ARGUMENT IS
*                                      ACTUALLY IN A PTR VARIABLE    */
*   DCL                                                            0059
*     EP LABEL BASED;               /* ANY ENTRY POINT LOCATED BY A
*                                      PTR                           */
*   DCL                                                            0060
*     KEYZERO CONSTANT('00'X) BIT(8);/* USED TO INDICATE KEY 0       */
*   DCL                                                            0061
*     SYSPRIOR CONSTANT('00'X) BIT(8);/* AHLSBUF SRB PRIORITY        */
*   DCL                                                            0062
*     ON CONSTANT('1'B) BIT(1),     /* THESE ARE USED TO TURN BITS ON*/
*     OFF CONSTANT('0'B) BIT(1);    /* OR OFF OR TO TEST THEM        */
*   DCL                                                            0063
*     PGBYTES CONSTANT(4096) FIXED(31);/* THE NUMBER OF BYTES IN A 0063
*                                      PAGE                          */
*   DCL                                                            0064
*     SMALLRMS CONSTANT('000C0000'X) BIT(32);/* THIS IS THE CRITERION
*                                      FOR A SMALL REAL MAIN STORAGE,
*                                      768K                          */
*   DCL                                                            0065
*     SET CONSTANT('FF'X) BIT(8),                                  0065
*     CLEAR CONSTANT('00'X) BIT(8); /* USED TO SET A BYTE TO ALL ONES
*                                      OR ALL ZEROS                  */
*   DCL                                                            0066
*     SQASP CONSTANT(245) FIXED(31),/* USED IN GETMAINS FOR SQA      */
*     GTFBCBSP CONSTANT(5) FIXED(31),/* USED IN GETMAINS FOR GTFBCB  */
*     GTFBUFSP CONSTANT(6) FIXED(31),/* USED IN GETMAINS FOR GTFBUFR */
*     SLESP CONSTANT(7) FIXED(31);  /* USED IN GETMAINS FOR SLE      */
*   DCL                             /* RETURN CODES FOR AHLXWRIT     */
*    (DATATRAN CONSTANT(0),         /* DATA TRANSFERED               */
*     WSINACT CONSTANT(4),          /* WRITER-STACK SERVICE INACTIVE */
*     NOSLEMAT CONSTANT(8),         /* NO SLE COULD BE FOUND TO MATCH
*                                      AHLRDDID                      */
*     ALLDONE CONSTANT(12),         /* NO DATA LEFT TO BE TRANSFERED */
*     INDETERM CONSTANT(16),        /* INDETERMINENT EID VALUE IN SLE*/
*     NOTDONE CONSTANT(20),         /* SRB SCHEDULED FROM ESTAE    0067
*                                                            @ZA27832*/
*     PROBERR CONSTANT(24)          /* UNABLE TO GET BUFFER  @ZA30485*/
*         ) FIXED(31);              /* INDETERMINENT EID VALUE IN SLE*/
*   DCL                                                            0068
*     COMNASID CONSTANT('FFFF'X) BIT(16);/* ASID USED FOR PAGES OF 0068
*                                      COMMON ADDRESS SPACE WHEN   0068
*                                      AHLXWRIT IS TRANSFERING DATA
*                                      TO SVCDUMP TO BE SENT ON TO 0068
*                                      PRINTDUMP                     */
*   DCL                                                            0069
*     HALFPAGE CONSTANT(2048) PTR(31);/* BYTES IN HALF OF A PAGE     */
*   DCL                                                            0070
*     1 XX1,                        /* USED TO INIT THE GTFBCB       */
*      2 * INIT('GTFBCB  ') CHAR(8),                               0070
*      2 * INIT('80000001'X) BIT(32),/* EQFLAG ON AND USE COUNT=1    */
*      2 *(LENGTH(GTFBCB)) BIT(8) INIT((LENGTH(GTFBCB))'00'X),     0070
*     BCBPROTO CHAR(LENGTH(GTFBCB)) DEFINED(XX1);                  0070
*   DCL                                                            0071
*     1 XX2,                        /* USED TO INIT THE SLE          */
*      2 * INIT('SLE     ') CHAR(8),                               0071
*      2 *(LENGTH(SLE)) BIT(8) INIT((LENGTH(SLE))'00'X),           0071
*     SLEPROTO CHAR(LENGTH(SLE)) DEFINED(XX2);                     0071
*   DCL                                                            0072
*     EQRESERV CONSTANT(9) PTR(31); /* THIS IS THIS MINIMUM NUMBER OF
*                                      GTFBCB NEEDED ON THE EMPTY  0072
*                                      QUEUE TO ASSURE A REASONABLE
*                                      CHANCE OF BEING ABLE TO OBTAIN
*                                      MORE GTFBUFR SPACE BEFORE THE
*                                      CURRENT SPACE RUNS OUT. IT IS
*                                      ONLY A GUESS AND SHOULD BE  0072
*                                      ADJUSTED AS EXPERIENCE      0072
*                                      INDICATES                     */
*   DCL                                                            0073
*     LOSTRMAX CONSTANT(400) PTR(31);/* THIS IS THE MAXIMUM NUMBER OF
*                                      LOST RECORDS THAT THE TRACE 0073
*                                      WRITER WILL ALLOW WITHOUT   0073
*                                      CHECKING THE GTFBLOK CHAIN. IT
*                                      IS ONLY A GUESS AND SHOULD BE
*                                      ADJUSTED AS EXPERIENCE      0073
*                                      INDICATES                     */
*   DCL                                                            0074
*     RECID CHAR(24) CONSTANT('AHLIWRITAHLIWRITAHLWSTAE');/* ID FOR
*                                      RECORDING TO SYS1.LOGREC      */
*   DCL                                                            0075
*     PRESENT PTR(31) CONSTANT(12); /* THIS IS USED TO CHECK FOR THE
*                                      PRESENTS OF AN SDWA WHEN THE
*                                      ESTA E.P. IS ENTERED          */
*   DCL                                                            0076
*     COMMON CONSTANT('00'X) BIT(8),                               0076
*     PRIVATE CONSTANT('FF'X) BIT(8);/* THESE ARE USED AS ARGUMENTS
*                                      TO THE INTERNAL SUBROUTINE  0076
*                                      PGLSTIN TO INDICATE WHETHER 0076
*                                      THE SECOND ARGUMENT IS IN   0076
*                                      COMMON OR PRIVATE ADDRESS   0076
*                                      SPACE                         */
*                                                                  0077
*   /*****************************************************************/
*   /*                                                               */
*   /* DECLARATION OF TRACE WRITER INTERNAL VARIABLES                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0077
*   DCL                                                            0077
*     ESSA(16) PTR(31) GEND;        /* SAVE AREA FOR ESTAE E.P.,   0077
*                                      AHLWSTAE                      */
*   DCL                                                            0078
*    (@PSTART,                                                     0078
*     ESTAESTM,                                                    0078
*     BASES) LABEL GEND;                                           0078
*   DCL                                                            0079
*     RLSEBUF PTR(31);              /* THIS IS USED TO KEEP TRACK OF
*                                      GTFBCB FOR PAGE RELEASES      */
*   DCL                                                            0080
*     BCBHOLDR PTR(31);             /* THIS IS USED TO HOLD THE    0080
*                                      ADDRESS OF A GTFBCB WHILE IT
*                                      IS BEING MOVED OR WORKED ON   */
*   DCL                                                            0081
*     WQLEN PTR(31);                /* # OF GTFBCB'S TO REMOVE FROM
*                                      WRITE QUEUE FOR AHLIWRIT. (FOR
*                                      MP ENVIRONMENT)       @ZA27751*/
*   DCL                                                            0082
*     MCQEPTRR PTR(31);             /* THIS IS USED TO SEARCH THE  0082
*                                      MCQE QUEUE                    */
*   DCL                                                            0083
*    (GQHEAD,                       /* THIS IS USED TO POINT TO A  0083
*                                      STRING OF CONTROL BLOCKS    0083
*                                      RETURNED FROM AN INTERNAL   0083
*                                      SUBROUTINE (SLEGET OR BCBGET).
*                                      IT IS ZERO IF THE CONTROL   0083
*                                      BLOCKS COULDN'T BE GOTTEN     */
*     GQTAIL) PTR(31);              /* THIS POINTS TO THE LAST     0083
*                                      CONTROL BLOCK IN THE STRING 0083
*                                      POINTED TO BY GQHEAD          */
*   DCL                                                            0084
*     CURRSRB PTR(31) INIT(0);      /* CURRENT DUMP SERVICE  @ZA27832*/
*   DCL                                                            0085
*     ECB BIT(32) BASED;            /* ANY ECB LOCATED BY A PTR      */
*   DCL                                                            0086
*     1 AHLRDPL BASED(AHLRDPTR),    /* THIS IS A MAPPING OF THE    0086
*                                      PARAMETER LIST BUILT BY     0086
*                                      AHLREAD AND QUEUED UP BY    0086
*                                      AHLREADR TO REQUEST DATA TO BE
*                                      TRANSFERED TO ANOTHER PROGRAM
*                                      BY AHLXWRIT                   */
*      2 AHLRDPQC PTR(31),          /* THIS IS THE CHAIN FIELD BY  0086
*                                      WHICH THESE ARE QUEUED UP     */
*      2 AHLRDID CHAR(8),           /* THIS IS COMPARED WITH MCQENAME
*                                      TO IDENTIFY WHICH APPLICATION
*                                      IS TO SUPPLY THE DATA         */
*      2 * PTR(16),                                                0086
*      2 AHLRDDID CHAR(6) BDY(WORD,3),/* THIS IS USED TO IDENTIFY  0086
*                                      WHICH SLE IS TO BE USED TO  0086
*                                      SUPPLY THE DATA               */
*       3 AHLRDASI PTR(16),         /* ASID OF THE ADDR SPACE OF THE
*                                      REQUESTOR                     */
*       3 AHLRDTCB PTR(31),         /* TCB ADDR OF THE REQUESTOR OR 0*/
*      2 AHLRDECB PTR(31),          /* ADDR OF ECB TO BE POST WHEN 0086
*                                      REQUEST IS COMPLETED          */
*      2 AHLRDATA PTR(31),          /* ADDR OF WHERE THE DATA IS TO
*                                      BE COPIED                     */
*      2 AHLRDASC PTR(31),          /* REQUESTORS ASCB ADDR NEEDED 0086
*                                      FOR POSTING                   */
*      2 AHLRDPX2 PTR(31),          /* POST CODE FOR REQUESTOR OF  0086
*                                      DATA                          */
*      2 AHLRDSRB PTR(31);          /* ADDR OF THE SRB USED TO SCHE
*                                      AHLREADR                      */
*   DCL                             /* THIS IS A MAPPING OF THE DATA
*                                      AREA TO BE FILLED IN BY     0087
*                                      AHLXWRIT. THERE ARE TWO     0087
*                                      FORMATS SVCDUMP OR ABDUMP     */
*     ABDUMPPG CHAR(4096) BASED(AHLRDATA),/* ADBUMP FORMAT: SIMPLE 0087
*                                      COPY OF THE GTFBUFR           */
*     1 SVCDBUFR BDY(WORD) BASED(AHLRDATA),/* SVCDUMP FORMAT:      0087
*                                      PRINTDUMP STYLE DUMP OF EACH
*                                      PAGE NEEDED TO RECONSTRUCT THE
*                                      PORTION OF THE ADDR SPACE   0087
*                                      NEEDED TO LOCATE AND ACCESS 0087
*                                      THE GTFBUFR                   */
*        4 PROTECT1 CHAR(1),        /* PROTECT KEY OF FIRST 2K       */
*        4 PROTECT2 CHAR(1),        /* PROTECT KEY OF SECOND 2K      */
*        4 PAGEASID PTR(16),        /* ASID OF PAGE                  */
*        4 PAGEADDR PTR(31),        /* ADDR OF FIRST BYTE IN PAGE    */
*        4 SVCDPAGE CHAR(4096);     /* COPY OF THE PAGE ITSELF       */
*   DCL                                                            0088
*     I PTR(31);                    /* MISC LOOP INDEX               */
*   DCL                                                            0089
*    (@MAINENT,                                                    0089
*     @ENDDATA) LABEL GEND,         /* PLS GENERATED LABELS FOR THE
*                                      BEGINNING AND END OF THIS   0089
*                                      MODULE                        */
*/* THE REFERENCE TO SDUMPLST WAS REMOVED FROM SDUMP MACRO  @ZA30540 */
*                                                                  0089
*     1 SDUMPLST(16) STATIC,        /* THIS IS A LIST OF ADDRESS   0089
*                                      RANGES FOR USE WITH THE SDUMP
*                                      MACRO. THE TRACE WRITER WILL
*                                      ENTER ALL NONNUCLEUS & NONSQA
*                                      ADDRESS SPACE THAT SHOULD BE
*                                      DUMPED IN CASE OF AN ERROR IN
*                                      ANY OF THE WRITER-STACK     0089
*                                      SERVICE MODULES INTO THIS LIST
*                                      AS IT IS OBTAINED. THE ADDRESS
*                                      RANGE OF THIS MODULE IS     0089
*                                      ALREADY IN THE LIST           */
*      2 SDBEGAD PTR(32) INIT(ADDR(@MAINENT)),/* BEGINNING OF THE  0089
*                                      ADDRESS RANGE FOR SVCDUMP     */
*      2 SDENDAD PTR(32),           /* END OF THE ADDRESS RANGE FOR
*                                      SVCDUMP                       */
*       3 * CHAR(1) BDY(WORD,1) INIT('80'X),                       0089
*        4 SDENDBIT BIT(1),         /* THIS BIT ON SIGNALS THE LAST
*                                      ENTRY IN THE LIST             */
*       3 * PTR(24) BDY(WORD,2) INIT(ADDR(@ENDDATA)),              0089
*     SDENTRY FIXED(31) INIT(1);    /* THIS IS THE INDEX INTO THE  0089
*                                      SDUMPLST & INDICATES THE LAST
*                                      ENTRY IN THE LIST             */
*   GEN DATA REFS(SDUMPLST) DEFS(SDUMPMAC,SDUMPSA);                0090
*   DCL                                                            0091
*     BLOKLIST(7) PTR(31) STATIC,   /* THIS ARRAY CONTAINS THE     0091
*                                      ADDRESSES OF ALL THE GTFBLOK
*                                      GOTTEN                        */
*     BLOKINDX PTR(31) INIT(0),     /* THIS IS THE INDEX INTO      0091
*                                      BLOKLIST AND SHOULD POINT TO
*                                      THE LAST ENTRY                */
*     BLOKNUM FIXED(31) INIT(DIM(BLOKLIST)-3);/* THIS IS THE NUMBER
*                                      OF GTFBLOK THAT WILL BE GOTTEN
*                                      ORIGINALLY TO FORM THE LOOP OF
*                                      GTFBLOK IN SQA. THREE IS THE
*                                      NUMBER OF REPLACEMENT GTFBLOK
*                                      THAT MAYBE GOTTEN TO REPLACE
*                                      ANY BAD GTFBLOK               */
*   DCL                                                            0092
*     1 BLOKINIT STATIC,            /* THIS STRUCTURE IS USED TO   0092
*                                      INITIALIZE A GTFBLOK, AND WILL
*                                      BE SET UP WITH THE INITIAL  0092
*                                      VALUES                        */
*      2 * CHAR(16),                                               0092
*       3 * CHAR(8) INIT('GTFBLOK '),                              0092
*       3 * PTR(31) INIT(0) BDY(BYTE),                             0092
*       3 * CHAR(4) INIT('001A0001'X),                             0092
*      2 * CHAR(LENGTH(RECMAP)),                                   0092
*       3 * CHAR(6) INIT('001600000001'X);                         0092
*   DCL                                                            0093
*     LOCKSAVE(5) PTR(31);          /* USED TO SAVE REGS DURING A  0093
*                                      SETLOCK                       */
*   DCL                                                            0094
*     FIXWORD(2) PTR(31) STATIC;    /* INPUT PARM FOR THE PGFIX MACRO*/
*   DCL                                                            0095
*     WORD(*) PTR(31) BASED;                                       0095
*   DCL                                                            0096
*     GETWORD PTR(31);              /* THIS IS USED TO RETURN THE  0096
*                                      ADDR OF GOTTEN ADDR SPACE FROM
*                                      A GETMAIN                     */
*   DCL                                                            0097
*     EBUFNOGO BIT(1) INIT('0'B);                                  0097
*   DCL                                                            0098
*     1 PGECB PTR(32) INIT(0) STATIC,/* THIS IS USED TO WAIT FOR THE
*                                      COMPLETION OF A PAGING EVENT  */
*      2 * BIT(1),                                                 0098
*      2 PGECBP BIT(1);                                            0098
*   DCL                                                            0099
*     1 ECBALIST STATIC,            /* THIS IS THE LIST OF ECB     0099
*                                      ADDRESSES THAT THE TRACE    0099
*                                      WRITER WILL WAIT ON WHENEVER
*                                      IT RUNS OUT OF WORK TO DO     */
*      2 TERMECB PTR(31),           /* ADDR(TRMWRIT)                 */
*      2 WRTRECB PTR(31),           /* ADDR(WRTRCOM)                 */
*       3 ECBEND BIT(1);                                           0099
*   DCL                                                            0100
*     BCBPAGEI PTR(31) INIT(0);     /* THIS IS THE INDEX FOR BCBPAGE,
*                                      IN THE GTFPCT, AND SHOULD   0100
*                                      POINT TO THE LAST ENTRY       */
*   DCL                                                            0101
*     RQCOUNT PTR(31);              /* THE IS USED TO KEEP COUNT OF
*                                      THE NUMBER OF GTFBCB REMOVED
*                                      FROM THE RELEASE QUEUE AND PUT
*                                      ON THE EMPTY QUEUE BY THE   0101
*                                      TRACE WRITER IN EACH PASS.  0101
*                                      THESE SUBTOTALS ARE THEN    0101
*                                      COMBINED INTO RQTOTAL         */
*   DCL                                                            0102
*     1 LOSTBLOK,                   /* THIS IS A PROTOTYPE LOST    0102
*                                      GTFBLOK RECORD                */
*      2 * CHAR(6) INIT('001200000003'X),/* AID=00 FID=03            */
*      2 LBTZ CHAR(4),                                             0102
*      2 LBTIME CHAR(8);                                           0102
*   DCL                                                            0103
*     1 PDQASTCB,                   /* PARAMETERS FOR THE PURGEDQ  0103
*                                      MACRO                         */
*      2 * PTR(16) INIT('0'),                                      0103
*      2 PDQASID FIXED(15),                                        0103
*      2 PDQTCB PTR(31),                                           0103
*     PDQRMTR PTR(31);                                             0103
*   DCL                                                            0104
*     WORKAREA CHAR(8) BDY(WORD);   /* THIS IS USED ALONG WITH A   0104
*                                      PORTION OF THE GTFBCB MAPPING
*                                      FOR DOING CS                  */
*   RFY                                                            0105
*     CMPWKA BASED(ADDR(WORKAREA));                                0105
*   DCL                                                            0106
*     SBLOKSAV PTR(31) INIT(0),                                    0106
*     EPCTPTR PTR(31) STATIC;       /* SAVEAREA FOR THE GTFPCT ADDR
*                                      FOR REFRESH OF PCTPTR IN THE
*                                      ESTAE ROUTINE                 */
*   DCL                                                            0107
*     PGADDR PTR(31),               /* USED IN SUBROUTINE PGLSTIN    */
*     ASTYPE BIT(8),                                               0107
*     ITEM CHAR(1),                                                0107
*     ILENGTH PTR(31);                                             0107
*                                                                  0108
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SEGMENT CONTAINS THE CODE FOR INITIALIZATION OF THE TRACE*/
*   /* WRITERS PLUS AHLSBLOK, AHLSFEOB, AHLSBUF, AND AHLREADR        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0108
*/* P GET THE GTFPCT PTR FROM THE MCQE                               */
*/* P EPCTPTR=PCTPTR SAVE THE GTFPCT ADDR FOR AHLWSTAE               */
*/* S MODESET: SUPER STATE                                           */
*                                                                  0108
*   PCTPTR=PARAMETR->MCQEAT;        /* INIT GTFPCT BASE FROM THE MCQE
*                                      PASSED BY THE MOTHER TASK     */
         L     PCTPTR,MCQEAT(,PARAMETR)                            0108
*   RFY                                                            0109
*     PARAMETR UNRSTD;                                             0109
*   RFY                                                            0110
*     MCQE BASED(MCQEPTR);          /* THE MCQE CAN NOW BE LOCATED 0110
*                                      VIA THE GTFPCT                */
*   EPCTPTR=PCTPTR;                 /* SAVE THE GTFPCT ADDRESS FOR 0111
*                                      POSSIBLE USE BY THE ESTAE   0111
*                                      ROUTINE AHLWSTAE              */
         ST    PCTPTR,EPCTPTR                                      0111
*   DO;                             /* MODESET MODE(SUP)             */
*     I10701='00000000'B;           /* OR MASK                       */
         MVI   I10701,B'00000000'                                  0113
*     I10702='00000000'B;           /* AND MASK                      */
         MVI   I10702,B'00000000'                                  0114
*     I10703='00000000'B;           /* RESERVED                      */
         MVI   I10703,B'00000000'                                  0115
*     I10704='00001100'B;                                          0116
         MVI   I10704,B'00001100'                                  0116
*     RESPECIFY                                                    0117
*       GPR01F RESTRICTED;                                         0117
*     GPR01F=I107;                  /* MODESET PARMLIST              */
         L     GPR01F,I107                                         0118
*     SVC(107);                     /* ISSUE MODESET SVC             */
         SVC   107                                                 0119
*     RESPECIFY                                                    0120
*      (GPR01F) UNRESTRICTED;                                      0120
*   END;                            /* MODESET MODE(SUP) CHANGE TO 0121
*                                      SUPER STATE AS WELL AS KEY 0  */
*                                                                  0121
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS ESTABLISHES AN ESTAE ENVIRONMENT WHICH WILL REMAIN IN    */
*   /* EFFECT UNTIL JUST BEFORE TERMINATION OF THE TRACE WRITER      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0122
*/* S ESTAE: ESTABLISH AHLWSTAE AS THE ESTAE E.P.                    */
*/* D (OK,%EQK,BAD,) RC=0 ESTAE OK                                   */
*/* S WTO: MESSAGE AHL037I                                           */
*/* R RETURN                                                         */
*/*%EQK: P (INT,,TAPE,%DL10,D.A.,%DL20) SET AFINIT                   */
*/* P (,%DL30) SET AFIWRIT                                           */
*/*%DL10: P (,%DL30) SET AFCWRIT                                     */
*/*%DL20: P SET AFWWRIT                                              */
*/*%DL30: P DIAGNOSTIC: WTRDLST= ADDR(SDUMPLIST)                     */
*/* N SDUMPLST HAS THE WRITER MODULE CODE & DATA AREAS AS ITS FIRST
*/*ENTRY                                                             */
*                                                                  0122
*   RFY                                                            0122
*    (MACREG1,                                                     0122
*     RETCODE) RSTD;                                               0122
*   MACREG1=ADDR(GTFPCT);           /* THIS IS DONE TO GUARANTEE THAT
*                                      THE ADDRESS OF THE GTFPCT IS
*                                      IN A REG FOR USE IN THE ESTAE
*                                      MACRO                         */
         LR    MACREG1,PCTPTR                                      0123
*   GEN CODE(ESTAE   AHLWSTAE,CT,PARAM=(MACREG1),ASYNCH=YES,RECORD=YES)
*   REFS(PCTPTR,MACREG1) SETS(RETCODE) NOFLOWS NODEFS SEQFLOW;     0124
         ESTAE   AHLWSTAE,CT,PARAM=(MACREG1),ASYNCH=YES,RECORD=YES
*   IF RETCODE^=0 THEN                                             0125
         LTR   RETCODE,RETCODE                                     0125
         BZ    @RF00125                                            0125
*     DO;                           /* CONTINUE ONLY IF THE ESTAE  0126
*                                      RETURN CODE IS 0, TOTALLY   0126
*                                      GOOD. OTHERWISE TERMINATE     */
*       RFY                                                        0127
*        (RETCODE,                                                 0127
*         MACREG1) UNRSTD;                                         0127
*       DO;                         /* WTOP MF(E,AHL037)             */
*         RFY                                                      0129
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL037);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01947                                     0130
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  0131
*         RFY                                                      0132
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL037) WRITE OUT 0133
*                                      THE MESSAGE FOR ESTAE FAILURE */
*       RETURN;                     /* TERMINATE THE TRACE WRITER    */
@EL00001 L     @13,4(,@13)                                         0134
@EF00001 DS    0H                                                  0134
@ER00001 LM    @14,@12,12(@13)                                     0134
         BR    @14                                                 0134
*     END;                                                         0135
*   AFINIT=ON;                      /* SET THE AUDIT FLAG TO SHOW  0136
*                                      INITIALIZATION IN PROGRESS    */
@RF00125 DS    0H                                                  0137
*   AFIWRIT=ON;                     /* SET THE AUDIT FLAG TO INDICATE
*                                      THE INTERNAL TRACE WRITER HAS
*                                      BEEN ATTACHED                 */
         OI    AFINIT(PCTPTR),B'10010000'                          0137
*   WRTDLST=ADDR(SDUMPMAC);         /* DIAGNOSTIC: PUT THE ADDRESS OF
*                                      THE SDUMP MACRO BUILT BY THE
*                                      TRACE WRITER INTO THE GTFPCT
*                                      FOR USE BY AHLSFRR, AHLSBFRR,
*                                      & AHLRDFRR                    */
         LA    @10,SDUMPMAC                                        0138
         ST    @10,WRTDLST(,PCTPTR)                                0138
*                                                                  0139
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SUBROUTINE WILL GETMAIN ONE PAGE OF ADDRESS SPACE SP=7   */
*   /* AND DIVIDE IT INTO AS MANY SLE AS POSSIBLE. THE SLE WILL BE   */
*   /* INITIALIZED AND CHAINED TOGETHER. GQHEAD WILL POINT TO THE    */
*   /* FIRST SLE IN THE CHAIN AND GQTAIL WILL POINT TO THE LAST.     */
*   /* SHOULD THE GETMAIN FAIL AHL032I WILL BE WRITTEN AND GQHEAD    */
*   /* WILL BE 0                                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0139
*/* S SLEGET: GET THE PAGE OF SLE                                    */
*/* D (YES,CLEANUP,NO,) GQHEAD=0                                     */
*/* P SLQHEAD=GQHEAD                                                 */
*                                                                  0139
*   CALL SLEGET;                                                   0139
         BAL   @14,SLEGET                                          0139
*   IF GQHEAD=0 THEN                                               0140
         L     @10,GQHEAD                                          0140
         LTR   @10,@10                                             0140
         BZ    @RT00140                                            0140
*     GO TO CLEANUP;                /* IF GQHEAD IS 0 THE SLE GETMAIN
*                                      FAILED. TERMINATE             */
*   SLQHEAD=GQHEAD;                 /* PUT THE STRING OF SLE ONTO THE
*                                      SLE QUEUE, PREVIOUSLY EMPTY   */
         ST    @10,SLQHEAD(,PCTPTR)                                0142
*                                                                  0143
*   /*****************************************************************/
*   /*                                                               */
*   /* HERE ADDRESS SPACE IS GOTTEN FROM FIXED COMMON SQA FOR USE AS */
*   /* AN SRB TO SCHEDULE AHLSBUF. IT IS COMPLETELY INITIALIZED      */
*   /* EXCEPT FOR SRBEP & SRBRMTR WHICH ARE FILLED IN AFTER AHLSBUF  */
*   /* IS LOADED AN ADDITIONAL 8 BYTES IS GOTTEN FOR AHLSBUF TO USE  */
*   /* AS AS A WORKAREA (SEE THE SRB MAPPING)                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0143
*/* P SET AFGMSRB                                                    */
*/* S GETMAIN: GET FROM SQA AN SRB & WORKAREA FOR AHLSBUF            */
*/* D (BAD,,OK,%CC) RC?                                              */
*/* S (,CLEANUP) WTO: MESSAGE AHL033I                                */
*/*%CC: P SAVE SRB ADDRESS IN INTERNAL SRBPTR WITH AVAIL BIT ON      */
*                                                                  0143
*   AFGMSRB=ON;                     /* TURN ON THE AUDIT FLAG FOR  0143
*                                      THIS SECTION OF CODE          */
         OI    AFGMSRB(PCTPTR),B'00000010'                         0143
*   RFY                                                            0144
*    (RETCODE) RSTD;                                               0144
*   DO;                             /* GETMAIN (EC)                0145
*                                      LV(LENGTH(SRBSECT)) A(GETWORD)
*                                      SP(SQASP)                     */
*     RESPECIFY                                                    0146
*      (GPR01P) RESTRICTED;                                        0146
*     I004=I004&&I004;              /* INIT LIST                     */
         XC    I004(10),I004                                       0147
*     I00404='20'X;                 /* TYPE                          */
         MVI   I00404,X'20'                                        0148
*     I00401=LENGTH(SRBSECT);       /* LENGTH                        */
         MVC   I00401(4),@CF01936                                  0149
*     I00403=ADDR(GETWORD);         /* ADDR OF ADDR LIST             */
         LA    @14,GETWORD                                         0150
         STCM  @14,7,I00403                                        0150
*     I00405=SQASP;                 /* SUBPOOL VALUE                 */
         MVI   I00405,X'F5'                                        0151
*     GPR01P=ADDR(I004);            /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         0152
*     SVC(4);                       /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   0153
*     RESPECIFY                                                    0154
*      (GPR01P) UNRESTRICTED;                                      0154
*   END;                            /* GETMAIN (EC)                0155
*                                      LV(LENGTH(SRBSECT)) A(GETWORD)
*                                      SP(SQASP)                     */
*   IF RETCODE^=0 THEN                                             0156
         LTR   RETCODE,RETCODE                                     0156
         BZ    @RF00156                                            0156
*     DO;                           /* CHECK THE RETURN CODE AND IF
*                                      IT IS NONZERO ISSUE THE     0157
*                                      INSUFFICIENT SQA MSG          */
*       DO;                         /* WTOP MF(E,AHL033)             */
*         RFY                                                      0159
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL033);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01943                                     0160
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  0161
*         RFY                                                      0162
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL033)             */
*       GO TO CLEANUP;              /* TERMINATE THE TRACE WRITER    */
         B     CLEANUP                                             0164
*     END;                                                         0165
*   SRBPTR=GETWORD'80000000'X;     /* SAVE THE ADDR OF THE GOTTEN 0166
*                                      ADDR SPACE WITH THE FIRST BIT
*                                      TURNED ON SO THIS CAN BE USED
*                                      TO REFRESH GTFSSRB            */
@RF00156 L     @14,GETWORD                                         0166
         O     @14,@CF02148                                        0166
         ST    @14,SRBPTR                                          0166
*   RFY                                                            0167
*    (RETCODE) UNRSTD;                                             0167
*                                                                  0168
*   /*****************************************************************/
*   /*                                                               */
*   /* INITIALIZE THE SRB                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0168
*/* P INIT THE SRB FOR AHLSBUF                                       */
*/* P CLEAR AFGMSRB                                                  */
*                                                                  0168
*   SRBID='SRB ';                   /* PRINTABLE ID                  */
         MVC   SRBID(4,@14),@CC02149                               0168
*   SRBASCB=PSAAOLD;                /* AHLSBUF IS TO RUN IN THIS   0169
*                                      ADDRESS SPACE                 */
         L     @10,PSAAOLD                                         0169
         ST    @10,SRBASCB(,@14)                                   0169
*   SRBPKF=KEYZERO;                 /* AHLSBUF IS TO RUN KEY 0       */
         MVI   SRBPKF(@14),X'00'                                   0170
*   SRBSAVE=0;                                                     0171
         SLR   @10,@10                                             0171
         ST    @10,SRBSAVE(,@14)                                   0171
*   SRBPARM=ADDR(GTFPCT);           /* PASS GTFPCT ADDR TO AHLSBUF R1*/
         ST    PCTPTR,SRBPARM(,@14)                                0172
*   SRBCPAFF='0000'X;               /* NO CPU AFFINITY               */
         MVC   SRBCPAFF(2,@14),@CB01516                            0173
*   SRBPRIOR=SYSPRIOR;                                             0174
         MVI   SRBPRIOR(@14),X'00'                                 0174
*   SRBPTCB=0;                      /* AHLSBUF SHOULD NOT BE       0175
*                                      ASSOCIATED WITH THIS TCB    0175
*                                                            @YM01896*/
         ST    @10,SRBPTCB(,@14)                                   0175
*   SRBPASID=ASCBASID;              /* FROM THE CURRENT ASCB         */
         L     @10,ASCBPTR                                         0176
         LH    @10,ASCBASID(,@10)                                  0176
         N     @10,@CF02334                                        0176
         STH   @10,SRBPASID(,@14)                                  0176
*   AFGMSRB=OFF;                    /* THE SRB IS COMPLETE           */
*                                                                  0178
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE OBTAINS FROM FIXED COMMON SQA, ADDRESS   */
*   /* SPACE FOR THE GTFBLOK. SHOULD THE REAL CORE SIZE BE 768K OR   */
*   /* LESS, ONE LESS GTFBLOK IS GOTTEN. THE GTFBLOK ARE INITIALIZED,*/
*   /* CHAINED TOGETHER, AND THE CURRENT ONE IS TIME STAMPED TO MAKE */
*   /* IT READY FOR USE. SHOULD A GETMAIN FAIL THE INSUFFICIENT SQA  */
*   /* MESSAGE IS WRITTEN THEN THE TRACE WRITER IS TERMINATED        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0178
*/* P SET AFGMBLOK                                                   */
*/* D (YES,,NO,%GETBLOK) IS THIS A SMALL REAL STORAGE                */
*/* P CHANGE NUMBER OF GTFBLOK TO BE GOTTEN FROM NORMAL TO 3         */
*/*%GETBLOK: D (NO,,YES,%BLKINIT) HAVE ENOUGH GTFBLOK BEEN GOTTEN    */
*/* P INCREMENT BLOKINDX BY 1                                        */
*/* S GETMAIN: GET ONE GTFBLOK FROM SQA                              */
*/* D (OK,%N,BAD,) RC?                                               */
*/*%Q: S WTO: MESSAGE AHL033I                                        */
*/* P (,CLEANUP) DECREMENT BLOKINDX BY 1                             */
*/*%N: P (,%GETBLOK) ENTER ADDRESS OF NEW GTFBLOK INTO BLOKLIST      */
*                                                                  0178
*   AFGMBLOK=ON;                    /* SET THE AUDIT FLAG FOR THIS 0178
*                                      SECTION OF CODE               */
         OI    AFGMBLOK(PCTPTR),B'00000001'                        0178
         NI    AFGMSRB(PCTPTR),B'11111101'                         0178
*   IF CVTEORM<=SMALLRMS            /* IS THIS A SMALL REAL MAIN   0179
*                                      STORAGE                       */
*     THEN                                                         0179
         L     @10,CVTPTR                                          0179
         CLC   CVTEORM(4,@10),@CF01988                             0179
         BH    @RF00179                                            0179
*     BLOKNUM=3;                    /* YES, SO DECREMENT BLOKNUM BY
*                                      ONE TO REDUCE THE FIXED     0180
*                                      STORAGE REQUIREMENT           */
         MVC   BLOKNUM(4),@CF00075                                 0180
*   DO WHILE(BLOKINDX<BLOKNUM);     /* LOOP TO OBTAIN GTFBLOK        */
@RF00179 B     @DE00181                                            0181
@DL00181 DS    0H                                                  0182
*     BLOKINDX=BLOKINDX+1;                                         0182
         LA    @10,1                                               0182
         AL    @10,BLOKINDX                                        0182
         ST    @10,BLOKINDX                                        0182
*     RFY                                                          0183
*      (RETCODE) RSTD;                                             0183
*     DO;                           /* GETMAIN (EC)                0184
*                                      LV(LENGTH(GTFBLOK)) A(GETWORD)
*                                      SP(SQASP)                     */
*       RESPECIFY                                                  0185
*        (GPR01P) RESTRICTED;                                      0185
*       I004=I004&&I004;            /* INIT LIST                     */
         XC    I004(10),I004                                       0186
*       I00404='20'X;               /* TYPE                          */
         MVI   I00404,X'20'                                        0187
*       I00401=LENGTH(GTFBLOK);     /* LENGTH                        */
         MVC   I00401(4),@CF02311                                  0188
*       I00403=ADDR(GETWORD);       /* ADDR OF ADDR LIST             */
         LA    @14,GETWORD                                         0189
         STCM  @14,7,I00403                                        0189
*       I00405=SQASP;               /* SUBPOOL VALUE                 */
         MVI   I00405,X'F5'                                        0190
*       GPR01P=ADDR(I004);          /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         0191
*       SVC(4);                     /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   0192
*       RESPECIFY                                                  0193
*        (GPR01P) UNRESTRICTED;                                    0193
*     END;                          /* GETMAIN (EC)                0194
*                                      LV(LENGTH(GTFBLOK)) A(GETWORD)
*                                      SP(SQASP)                     */
*     IF RETCODE^=0 THEN                                           0195
         LTR   RETCODE,RETCODE                                     0195
         BZ    @RF00195                                            0195
*       DO;                         /* CHECK THE RETURN CODE AND IF
*                                      IT IS NONZERO ISSUE THE     0196
*                                      INSUFFICIENT SQA MSG          */
*         DO;                       /* WTOP MF(E,AHL033)             */
*           RFY                                                    0198
*             GPR01P RSTD;          /* RESTRICT REG 1                */
*           GPR01P=ADDR(AHL033);    /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01943                                     0199
*           SVC(35);                /* ISSUE WTO SVC                 */
         SVC   35                                                  0200
*           RFY                                                    0201
*             GPR01P UNRSTD;        /* RELEASE REG 1                 */
*         END;                      /* WTOP MF(E,AHL033)             */
*         BLOKINDX=BLOKINDX-1;                                     0203
         L     @14,BLOKINDX                                        0203
         BCTR  @14,0                                               0203
         ST    @14,BLOKINDX                                        0203
*         GO TO CLEANUP;            /* CLEAN UP AND TERMINATE THE  0204
*                                      TRACE WRITER                  */
         B     CLEANUP                                             0204
*       END;                                                       0205
*     BLOKLIST(BLOKINDX)=GETWORD;   /* SAVE THE ADDRESS OF THIS    0206
*                                      GTFBLOK                       */
@RF00195 L     @14,BLOKINDX                                        0206
         SLA   @14,2                                               0206
         L     @10,GETWORD                                         0206
         ST    @10,BLOKLIST-4(@14)                                 0206
*     RFY                                                          0207
*      (RETCODE) UNRSTD;                                           0207
*   END;                                                           0208
*                                                                  0208
@DE00181 L     @10,BLOKINDX                                        0208
         C     @10,BLOKNUM                                         0208
         BL    @DL00181                                            0208
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS LOOP INITIALIZES THE GTFBLOK AND POINTERS TO THEM        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0209
*/*%BLKINIT: N THIS LOOP INITIALIZES THE GTFBLOK                     */
*/* P COPY CVTTZ & GTFOPTS INTO THE PROTOTYPE TIMESTAMP RECORD       */
*/* P CURRBLOK=LAST PTR IN THE BLOKLIST, & I=1                       */
*/*%BSLOOP: D (NO,,YES,%BSEND) I=BLOKINDX                            */
*/* P NEXTBLOK= BLOKLIST(I)                                          */
*/* P COPY NEXTBLOK PTR & PROTOTYPE INTO CURRBLOK-> GTFBLOK          */
*/* P CURRBLOK= NEXTBLOK                                             */
*/* P (,%BSLOOP) INCREMENT I BY 1                                    */
*/*%BSEND:  P STORE TOD CLOCK INTO CURRBLOK-> GTFBLOK & SET BLOKUSE=0
*/*                                                                  */
*/* P CLEAR AFGMBLOK                                                 */
*                                                                  0209
*   ADDR(BLOKINIT)->RECVTTZ=CVTTZ;  /* COMPLETE THE PROTOTYPE FOR THE
*                                      GTFBLOK WITH THE TIMEZONE   0209
*                                      VALUE AND                     */
         LA    @09,BLOKINIT                                        0209
         L     @01,CVTPTR                                          0209
         MVC   RECVTTZ(4,@09),CVTTZ(@01)                           0209
*   ADDR(BLOKINIT)->RECGTFOP=GTFOPTS;/* THE GTF OPTIONS IN EFFECT    */
         MVC   RECGTFOP(4,@09),GTFOPTS(PCTPTR)                     0210
*   CURRBLOK=BLOKLIST(BLOKINDX);                                   0211
         SLA   @10,2                                               0211
         L     @10,BLOKLIST-4(@10)                                 0211
         ST    @10,CURRBLOK(,PCTPTR)                               0211
*   DO I=1 TO BLOKINDX;                                            0212
         LA    @10,1                                               0212
         B     @DE00212                                            0212
@DL00212 DS    0H                                                  0213
*     NEXTBLOK=BLOKLIST(I);                                        0213
         LR    @09,@10                                             0213
         SLA   @09,2                                               0213
         L     @09,BLOKLIST-4(@09)                                 0213
         ST    @09,NEXTBLOK(,PCTPTR)                               0213
*     CURRBLOK->GTFBLOK(1:LENGTH(BLOKINIT))=BLOKINIT;              0214
         L     @15,CURRBLOK(,PCTPTR)                               0214
         MVC   GTFBLOK(38,@15),BLOKINIT                            0214
*     CURRBLOK->BLKCHAIN=NEXTBLOK;                                 0215
         ST    @09,BLKCHAIN(,@15)                                  0215
*     CURRBLOK=NEXTBLOK;                                           0216
         ST    @09,CURRBLOK(,PCTPTR)                               0216
*   END;                                                           0217
         AL    @10,@CF00070                                        0217
@DE00212 ST    @10,I                                               0217
         C     @10,BLOKINDX                                        0217
         BNH   @DL00212                                            0217
*   RFY                                                            0218
*     CLOCKREG RSTD;                                               0218
*   CLOCKREG=ADDR(CURRBLOK->RECTOD);                               0219
         L     CLOCKREG,CURRBLOK(,PCTPTR)                          0219
         LA    CLOCKREG,RECTOD(,CLOCKREG)                          0219
*   GEN CODE(STCK  0(CLOCKREG))                                    0220
*   REFS(CLOCKREG) SETS(RECTOD) NOFLOWS NOEXIT SEQFLOW NODEFS;/*   0220
*                                      TIMESTAMP THE CURRENT GFTBLOK
*                                      TO PREPARE IT FOR USE         */
         STCK  0(CLOCKREG)
*   RFY                                                            0221
*     CLOCKREG UNRSTD;                                             0221
*   CURRBLOK->BLOKUSE=0;            /* SET THE USE COUNT TO 0 TO   0222
*                                      INDICATE THAT ALL THE RESERVED
*                                      SPACE HAS BEEN FILLED         */
         L     @10,CURRBLOK(,PCTPTR)                               0222
         SLR   @09,@09                                             0222
         STH   @09,BLOKUSE(,@10)                                   0222
*   AFGMBLOK=OFF;                   /* TURN OFF AUDIT FLAG FOR THIS
*                                      SECTION                       */
         NI    AFGMBLOK(PCTPTR),B'11111110'                        0223
*                                                                  0224
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE INITIAIZES THE EMPTY AND HISTORY QUEUES  */
*   /* AND THE POINTERS TO THEM                                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0224
*/* S EBUFGET: GET A STRING OF GTFBCB & GTFBUFR                      */
*/* D (YES,,NO,%X1) GQHEAD=0                                         */
*/* S (,CLEANUP) WTO: AHL032I                                        */
*/*%X1: P EQHEAD=GQHEAD                                              */
*/* P DIAGNOSTIC: EQLENGTH=THE NUMBER OF GTFBCB THAT FIT IN 1 PAGE   */
*/* P DIAGNOSTIC: EQMIN=EQLENGTH                                     */
*                                                                  0224
*   ;                                                              0224
*                                                                  0224
*   /*****************************************************************/
*   /*                                                               */
*   /* INTERNAL SUBROUTINE EBUFGET WILL RETURN A STRING OF GTFBCB &  */
*   /* GTFBUFR READY TO BE PLACED ON THE EMPTY QUEUE. THE QUANTITY OF*/
*   /* GTFBCB IN THE STRING IS EQUAL TO 1 PAGE DIVIDED BY THE LENGTH */
*   /* OF A GTFBCB. ALL THE GTFBCB WILL BE ON ONE PAGE. GQHEAD WILL  */
*   /* CONTAIN THE ADDRESS OF THE FIRST GTFBCB, GQTAIL WILL POINT TO */
*   /* THE LAST GTFBCB. IF A GETMAIN FAILS THE INSUFFICIENT ADDRESS  */
*   /* SPACE MSG WILL BE WRITTEN AND GQHEAD WILL BE 0                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0225
*   CALL EBUFGET;                                                  0225
         BAL   @14,EBUFGET                                         0225
*   IF GQHEAD=0 THEN                                               0226
         L     @10,GQHEAD                                          0226
         LTR   @10,@10                                             0226
         BNZ   @RF00226                                            0226
*     DO;                           /* IF GQHEAD IS 0 EBUFGET FAILED
*                                      AND THE TRACE WRITER HAS TO BE
*                                      TERMINATED                    */
*       DO;                         /* WTOP MF(E,AHL032)             */
*         RFY                                                      0229
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL032);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01942                                     0230
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  0231
*         RFY                                                      0232
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL032)             */
*       GO TO CLEANUP;                                             0234
         B     CLEANUP                                             0234
*     END;                                                         0235
*   EQHEAD=GQHEAD;                  /* PUT THE STRING OF GTFBCB ON 0236
*                                      THE EMPTY QUEUE               */
@RF00226 L     @10,GQHEAD                                          0236
         ST    @10,EQHEAD(,PCTPTR)                                 0236
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0237
*   EQLENGTH=PGBYTES/LENGTH(GTFBCB);/* INITIALIZE THE COUNT OF     0237
*                                      AVAILABLE GTFBCB ON THE EMPTY
*                                      QUEUE                         */
         LA    @09,170                                             0237
         ST    @09,EQLENGTH(,PCTPTR)                               0237
*   EQMIN=EQLENGTH;                 /* INIT EQMIN                    */
         ST    @09,EQMIN(,PCTPTR)                                  0238
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0239
*   ;                                                              0239
*                                                                  0240
*   /*****************************************************************/
*   /*                                                               */
*   /* TRANSFER GTFBCB FROM THE EMPTY QUEUE TO THE HISTORY QUEUE AND */
*   /* INITIALIZE THE ASSOCIATED GTFBUFR BY COPYING THE CURRENT      */
*   /* GTFBLOK INTO THEM                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0240
*/* N THIS LOOP SETS UP THE HISTORY QUEUE                            */
*/* P HQHEAD=EQHEAD                                                  */
*/*%CX: D (YES,%CX1,NO,) HAS HQLENGTH BEEN REACHED                   */
*/* P QTAIL=EQHEAD                                                   */
*/* P EQHEAD= EQHEAD-> EQCHAIN                                       */
*/* P DIAGNOSTIC: DECREMENT EQLENGTH BY 1                            */
*/* P DIAGNOSTIC QTAIL-> EQFLAG=OFF & HQFLAG=ON                      */
*/* N EQCHAIN & HQCHAIN BOTH REFER TO THE SAME GTFBCB FIELD          */
*/* P QTAIL-> GBUFRPTR-> GTFBUFR= CURRBLOK-> GTFBLOK                 */
*/* D (YES,,NO,%CX) EQHEAD-> EQCHAIN=0                               */
*/* S EBUFGET: GET A STRING OF GTFBCB & GTFBUFR                      */
*/* D (YES,,NO,%X2) GQHEAD=0                                         */
*/* S (,CLEANUP) WTO: AHL032I                                        */
*/*%X2: P EQHEAD=GQHEAD                                              */
*/* P (,%CX) DIAGNOSTIC: INCR EQLENGTH BY NUMBER OF GTFBCB IN 1 PAGE */
*/*%CX1: P QTAIL-> HQCHAIN=0                                         */
*                                                                  0240
*   HQHEAD=EQHEAD;                  /* REMOVE A GROUP OF GTFBCB FROM
*                                      THE HEAD OF THE EMPTY QUEUE TO
*                                      GO ON THE HISTORY QUEUE       */
         ST    @10,HQHEAD(,PCTPTR)                                 0240
*   DO I=1 TO HQLENGTH;             /* GO THROUGH EACH GTFBCB TO BE
*                                      TRANSFERED                    */
         LA    @10,1                                               0241
         B     @DE00241                                            0241
@DL00241 DS    0H                                                  0242
*     QTAIL=EQHEAD;                 /* QTAIL IS TO POINT TO THE LAST
*                                      GTFBCB ON THE HISTORY QUEUE   */
         L     @10,EQHEAD(,PCTPTR)                                 0242
         ST    @10,QTAIL(,PCTPTR)                                  0242
*     EQHEAD=EQHEAD->EQCHAIN;       /* REMOVE THIS GTFBCB FROM THE 0243
*                                      EMPTY QUEUE                   */
         L     @09,EQCHAIN(,@10)                                   0243
         ST    @09,EQHEAD(,PCTPTR)                                 0243
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0244
*     EQLENGTH=EQLENGTH-1;          /* UPDATE COUNT OF GTFBCB ON THE
*                                      EMPTY QUEUE                   */
         L     @15,EQLENGTH(,PCTPTR)                               0244
         BCTR  @15,0                                               0244
         ST    @15,EQLENGTH(,PCTPTR)                               0244
*     QTAIL->EQFLAG=OFF;                                           0245
*     QTAIL->HQFLAG=ON;                                            0246
*                                                                  0246
         OI    HQFLAG(@10),B'00001000'                             0246
         NI    EQFLAG(@10),B'01111111'                             0246
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0247
*     QTAIL->GBUFRPTR->GTFBUFR(1:LENGTH(RECMAP)+4)=CURRBLOK->BLOKAREA(1
*         :LENGTH(RECMAP)+4);       /* BECAUSE ANY GTFBCB ON THE   0247
*                                      HISTORY QUEUE COULD BE PUT ON
*                                      AN SLE THE ASSOCIATED GTFBUFR
*                                      MUST BE OF VALID GTF FORMAT.
*                                      THE CURRENT GTFBLOK IS OF   0247
*                                      VALID FORMAT SO IT IS COPIED
*                                      INTO EACH GTFBUFR             */
         L     @10,GBUFRPTR(,@10)                                  0247
         L     @01,CURRBLOK(,PCTPTR)                               0247
         MVC   GTFBUFR(26,@10),BLOKAREA(@01)                       0247
*     IF EQHEAD->EQCHAIN=0          /* IF HQLENGTH IS LARGE GET EXTRA
*                                      GTFBCB                        */
*       THEN                                                       0248
         L     @10,EQCHAIN(,@09)                                   0248
         LTR   @10,@10                                             0248
         BNZ   @RF00248                                            0248
*       DO;                                                        0249
*         CALL EBUFGET;             /* GET ANOTHER STRING OF GTFBCB  */
         BAL   @14,EBUFGET                                         0250
*         IF GQHEAD=0 THEN                                         0251
         L     @10,GQHEAD                                          0251
         LTR   @10,@10                                             0251
         BNZ   @RF00251                                            0251
*           DO;                     /* IF GQHEAD IS 0 EBUFGET FAILED
*                                      AND THE TRACE WRITER HAS TO BE
*                                      TERMINATED                    */
*             DO;                   /* WTOP MF(E,AHL032)             */
*               RFY                                                0254
*                 GPR01P RSTD;      /* RESTRICT REG 1                */
*               GPR01P=ADDR(AHL032);/* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01942                                     0255
*               SVC(35);            /* ISSUE WTO SVC                 */
         SVC   35                                                  0256
*               RFY                                                0257
*                 GPR01P UNRSTD;    /* RELEASE REG 1                 */
*             END;                  /* WTOP MF(E,AHL032)             */
*             GO TO CLEANUP;                                       0259
         B     CLEANUP                                             0259
*           END;                                                   0260
*         EQHEAD->EQCHAIN=GQHEAD;   /* PUT THE NEW STRING OF GTFBCB
*                                      ON THE EMPTY QUEUE    @YM03665*/
@RF00251 L     @10,EQHEAD(,PCTPTR)                                 0261
         L     @09,GQHEAD                                          0261
         ST    @09,EQCHAIN(,@10)                                   0261
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0262
*         EQLENGTH=EQLENGTH+PGBYTES/LENGTH(GTFBCB);/* UPDATE THE   0262
*                                      COUNT OF GTFBCB ON THE EMPTY
*                                      QUEUE                         */
         LA    @10,170                                             0262
         AL    @10,EQLENGTH(,PCTPTR)                               0262
         ST    @10,EQLENGTH(,PCTPTR)                               0262
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0263
*       END;                                                       0263
*   END;                                                           0264
@RF00248 LA    @10,1                                               0264
         AL    @10,I                                               0264
@DE00241 ST    @10,I                                               0264
         C     @10,HQLENGTH(,PCTPTR)                               0264
         BNH   @DL00241                                            0264
*   QTAIL->HQCHAIN=0;               /* THE LAST GTFBCB ON THE HISTORY
*                                      QUEUE HAS A CHAIN FIELD OF 0  */
*                                                                  0265
         L     @10,QTAIL(,PCTPTR)                                  0265
         SLR   @09,@09                                             0265
         ST    @09,HQCHAIN(,@10)                                   0265
*   /*****************************************************************/
*   /*                                                               */
*   /* FINISH THE ECBLIST                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0266
*/* P PUT PTRS TO WRTRCOM & TRMWRIT INTO ECBLIST                     */
*/* P TURN ON HIGH ORDER BIT OF LAST PTR IN ECBLIST                  */
*                                                                  0266
*   TERMECB=ADDR(TRMWRIT);                                         0266
         LA    @10,TRMWRIT(,PCTPTR)                                0266
         ST    @10,TERMECB                                         0266
*   WRTRECB=ADDR(WRTRCOM);                                         0267
         LA    @10,WRTRCOM(,PCTPTR)                                0267
         ST    @10,WRTRECB                                         0267
*   ECBEND=ON;                      /* TURN ON END OF LIST INDICATOR */
         OI    ECBEND,B'10000000'                                  0268
*                                                                  0269
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE LOADS AND FIXES OTHER MODULES OF THE     */
*   /* WRITER-STACK SERVICE. EACH E.P. ADDRESS IS OBTAINED BY A      */
*   /* SEPARATE LOAD TO SIMPLIFY THE CODE & ALLOW FOR EASE OF        */
*   /* MODIFICATION                                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0269
*/* P SET AFLDFX                                                     */
*/* P DIAGNOSTIC: PUT THE ADDRESS OF AHLREADR INTO SDUMPLST FROM MCHEAD
*/*                                                                  */
*/* S (OK,,FAIL,RET4) LOAD: AHLWSMOD                                 */
*/* S PGFIX: AHLWSMOD                                                */
*/* S WAIT: FOR PGFIX                                                */
*/*%X3: P SAVE THE ADDR OF AHLWSMOD IN THE GTFPCT (WSMODBEG WSMODEND)
*/*                                                                  */
*/* P DIAGNOSTIC: PUT THE ADDR OF AHLWSMOD INTO SDUMPLST             */
*/* S (OK,,FAIL,RET1) LOAD: AHLSBUF                                  */
*/* P PUT PTR TO AHLSBUF IN THE SRB (SRBEP)                          */
*/* S (OK,,FAIL,RET2) LOAD: AHLSBCU1                                 */
*/* P PUT ADDR OF AHLSBCU1 IN THE SRB (SRBRMTR)                      */
*/* P GTFSSRB=SRBPTR THIS WILL MAKE AHLSBUF ACTIVE                   */
*/* S (OK,,FAIL,RET3) LOAD: AHLSFEOB                                 */
*/* P PUT PTR TO AHLSFEOB INTO THE GTFPCT (SFEOBRTN)                 */
*/* S (OK,,FAIL,RET7) LOAD: AHLSBLOK                                 */
*/*%EE: P (,LDFXDONE) PUT PTR TO AHLSBLOK INTO THE GTFPCT (SBLOKRTN) */
*                                                                  0269
*   AFLDFX=ON;                      /* SET THE AUDIT FLAG FOR THIS 0269
*                                      SECTION OF CODE               */
         OI    AFLDFX(PCTPTR),B'00100000'                          0269
*   RFY                                                            0270
*    (LOADREG,                                                     0270
*     LOADLEN) RSTD;                                               0270
*   SDENTRY=SDENTRY+1;              /* PREPARE TO ADD AHLREADR TO THE
*                                      SDUMPLST                      */
         LA    @10,1                                               0271
         AL    @10,SDENTRY                                         0271
         ST    @10,SDENTRY                                         0271
*   SDBEGAD(SDENTRY)=MCHEADRD;      /* PUT IN THE BEGINNING ADDRESS  */
         SLA   @10,3                                               0272
         L     @09,CVTPTR                                          0272
         L     @09,CVTGTFA-1(,@09)                                 0272
         LA    @09,0(,@09)                                         0272
         L     @15,MCHEADRD(,@09)                                  0272
         ST    @15,SDBEGAD-8(@10)                                  0272
*   SDENDAD(SDENTRY)=MCHEADTR;      /* PUT IN THE END ADDRESS        */
         L     @09,MCHEADTR(,@09)                                  0273
         ST    @09,SDENDAD-8(@10)                                  0273
*   SDENDBIT(SDENTRY)=ON;           /* FLAG THIS AS THE NEW END OF 0274
*                                      THE LIST                      */
         LA    @09,SDENDBIT-8(@10)                                 0274
         OI    0(@09),B'10000000'                                  0274
*   SDENDBIT(SDENTRY-1)=OFF;        /* REMOVE THE OLD END FLAG       */
         LA    @09,SDENDBIT-16(@10)                                0275
         NI    0(@09),B'01111111'                                  0275
*   DO;                             /* LOAD EP('AHLWSMOD')         0276
*                                      ERRET(RET4)                   */
*     RESPECIFY                                                    0277
*      (GPR00P,                                                    0277
*       GPR01P,                                                    0277
*       GPR15F) RESTRICTED;                                        0277
*     GPR00P=ADDR('AHLWSMOD');      /* LOAD ENTRY POINT NAME ADDRESS */
         LA    GPR00P,@CC02153                                     0278
*     GPR01P=0;                     /* JOBLIB OR LINKLIB DCB         */
         SLR   GPR01P,GPR01P                                       0279
*     GPR01P=GPR01P'80000000'X;    /* ERROR RETURN LABEL SPECIFIED  */
         O     GPR01P,@CF02148                                     0280
*     SVC(8);                       /* ISSUE LOAD SVC                */
         SVC   8                                                   0281
*     IF GPR15F^=0 THEN             /* LOAD WAS UNSUCCESSFUL         */
         SLR   @14,@14                                             0282
         CR    GPR15F,@14                                          0282
         BNE   @RT00282                                            0282
*       GOTO RET4;                  /* BRANCH TO ERROR LOCATION      */
*     RESPECIFY                                                    0284
*      (GPR00P,                                                    0284
*       GPR01P,                                                    0284
*       GPR15F) UNRESTRICTED;                                      0284
*   END;                            /* LOAD EP('AHLWSMOD')         0285
*                                      ERRET(RET4) AHLSBUF, AHLSBLOK,
*                                      & AHLSFEOB                    */
*   REG1=REG1&'00FFFFFF'X;          /* ZERO HIGH ORDER BYTE OF LENGTH
*                                      REGISTER              @AZ14120*/
         N     REG1,@CF02155                                       0286
*   FIXWORD(1)=LOADREG;             /* PREPARE THE PGFIX LOW ADDR    */
         ST    LOADREG,FIXWORD                                     0287
*   FIXWORD(2)=LOADREG+LOADLEN*8;   /* PREPARE THE PGFIX HIGH ADDR   */
         LR    @10,LOADLEN                                         0288
         SLA   @10,3                                               0288
         ALR   @10,LOADREG                                         0288
         ST    @10,FIXWORD+4                                       0288
*   PGECB=0;                                                       0289
         ST    @14,PGECB                                           0289
*   DO;                             /* PGFIX (R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)       0290
*                                      ECB(PGECB) LONG(Y)            */
*     RESPECIFY                                                    0291
*      (GPR00P,                                                    0291
*       GPR01P) RESTRICTED;                                        0291
*     GPR00P=ADDR(PGECB);           /* ECB ADDR                      */
         LA    GPR00P,PGECB                                        0292
*     GPR01P=ADDR(FIXWORD(1)->PLACE);/* PAGE ADDR                    */
         L     GPR01P,FIXWORD                                      0293
*     RESPECIFY                                                    0294
*       GPR15P RESTRICTED;                                         0294
*     GPR15P=ADDR(FIXWORD(2)->PLACE);/* VSL ADDR                     */
         LR    GPR15P,@10                                          0295
*     GPR01P=GPR01P'52000000'X;    /* R, PGFIX, RELEASE & LONG FLAGS*/
         O     GPR01P,@CF02157                                     0296
*     SVC(113);                     /* ISSUE PGFIX SVC               */
         SVC   113                                                 0297
*     RESPECIFY                                                    0298
*      (GPR00P,                                                    0298
*       GPR01P) UNRESTRICTED;                                      0298
*     RESPECIFY                                                    0299
*       GPR15P UNRESTRICTED;                                       0299
*   END;                            /* PGFIX (R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)       0300
*                                      ECB(PGECB) LONG(Y) THIS WILL
*                                      FIX THE ENTIRE AHLWSMOD LOAD
*                                      MODULE WHICH CONTAINS AHLSBUF,
*                                      AHLSBLOK, AHLSFEOB, & THE   0300
*                                      ASSOCIATED ERROR RECOVERY RTNS*/
*   RFY                                                            0301
*     LOADLEN UNRSTD;                                              0301
*   DO;                             /* WAIT ECB(PGECB)               */
*     RESPECIFY                                                    0303
*      (GPR00P,                                                    0303
*       GPR01P) RESTRICTED;                                        0303
*     GPR00P=1;                     /* LOAD WAIT COUNT               */
         LA    GPR00P,1                                            0304
*     GPR01P=ADDR(PGECB);           /* ADDRESS OF ECB                */
         LA    GPR01P,PGECB                                        0305
*     SVC(1);                       /* WAIT SVC                      */
         SVC   1                                                   0306
*     RESPECIFY                                                    0307
*      (GPR00P,                                                    0307
*       GPR01P) UNRESTRICTED;                                      0307
*   END;                            /* WAIT ECB(PGECB) WAIT FOR THE
*                                      PGFIX TO COMPLETE             */
*   WSMODBEG=FIXWORD(1);                                           0309
         L     @10,FIXWORD                                         0309
         ST    @10,WSMODBEG(,PCTPTR)                               0309
*   WSMODEND=FIXWORD(2);                                           0310
         L     @09,FIXWORD+4                                       0310
         ST    @09,WSMODEND(,PCTPTR)                               0310
*   SDENTRY=SDENTRY+1;              /* PREPARE TO ADD AHLWSMOD TO THE
*                                      SDUMPLST                      */
         LA    @01,1                                               0311
         AL    @01,SDENTRY                                         0311
         ST    @01,SDENTRY                                         0311
*   SDBEGAD(SDENTRY)=FIXWORD(1);    /* PUT IN THE BEGINNING ADDRESS  */
         SLA   @01,3                                               0312
         ST    @10,SDBEGAD-8(@01)                                  0312
*   SDENDAD(SDENTRY)=FIXWORD(2);    /* PUT IN THE END ADDRESS        */
         ST    @09,SDENDAD-8(@01)                                  0313
*   SDENDBIT(SDENTRY)=ON;           /* FLAG THIS AS THE NEW END OF 0314
*                                      THE LIST                      */
         LA    @10,SDENDBIT-8(@01)                                 0314
         OI    0(@10),B'10000000'                                  0314
*   SDENDBIT(SDENTRY-1)=OFF;        /* REMOVE THE OLD END FLAG       */
         LA    @10,SDENDBIT-16(@01)                                0315
         NI    0(@10),B'01111111'                                  0315
*   DO;                             /* LOAD EP('AHLSBUF') ERRET(RET1)*/
*     RESPECIFY                                                    0317
*      (GPR00P,                                                    0317
*       GPR01P,                                                    0317
*       GPR15F) RESTRICTED;                                        0317
*     GPR00P=ADDR('AHLSBUF ');      /* LOAD ENTRY POINT NAME ADDRESS */
         LA    GPR00P,@CC02159                                     0318
*     GPR01P=0;                     /* JOBLIB OR LINKLIB DCB         */
         SLR   GPR01P,GPR01P                                       0319
*     GPR01P=GPR01P'80000000'X;    /* ERROR RETURN LABEL SPECIFIED  */
         O     GPR01P,@CF02148                                     0320
*     SVC(8);                       /* ISSUE LOAD SVC                */
         SVC   8                                                   0321
*     IF GPR15F^=0 THEN             /* LOAD WAS UNSUCCESSFUL         */
         LTR   GPR15F,GPR15F                                       0322
         BNZ   @RT00322                                            0322
*       GOTO RET1;                  /* BRANCH TO ERROR LOCATION      */
*     RESPECIFY                                                    0324
*      (GPR00P,                                                    0324
*       GPR01P,                                                    0324
*       GPR15F) UNRESTRICTED;                                      0324
*   END;                            /* LOAD EP('AHLSBUF') ERRET(RET1)*/
*   SRBEP=LOADREG;                  /* STORE ADDR OF AHLSBUF EP IN 0326
*                                      THE SRB                       */
         L     @10,SRBPTR                                          0326
         ST    LOADREG,SRBEP(,@10)                                 0326
*   DO;                             /* LOAD EP('AHLSBCU1')         0327
*                                      ERRET(RET2)                   */
*     RESPECIFY                                                    0328
*      (GPR00P,                                                    0328
*       GPR01P,                                                    0328
*       GPR15F) RESTRICTED;                                        0328
*     GPR00P=ADDR('AHLSBCU1');      /* LOAD ENTRY POINT NAME ADDRESS */
         LA    GPR00P,@CC02161                                     0329
*     GPR01P=0;                     /* JOBLIB OR LINKLIB DCB         */
         SLR   GPR01P,GPR01P                                       0330
*     GPR01P=GPR01P'80000000'X;    /* ERROR RETURN LABEL SPECIFIED  */
         O     GPR01P,@CF02148                                     0331
*     SVC(8);                       /* ISSUE LOAD SVC                */
         SVC   8                                                   0332
*     IF GPR15F^=0 THEN             /* LOAD WAS UNSUCCESSFUL         */
         LTR   GPR15F,GPR15F                                       0333
         BNZ   @RT00333                                            0333
*       GOTO RET2;                  /* BRANCH TO ERROR LOCATION      */
*     RESPECIFY                                                    0335
*      (GPR00P,                                                    0335
*       GPR01P,                                                    0335
*       GPR15F) UNRESTRICTED;                                      0335
*   END;                            /* LOAD EP('AHLSBCU1')         0336
*                                      ERRET(RET2)                   */
*   SRBRMTR=LOADREG;                /* PUT ADDR OF THE AHLSBUF RMTR
*                                      EP IN THE SRB.                */
         L     @10,SRBPTR                                          0337
         ST    LOADREG,SRBRMTR(,@10)                               0337
*   GTFSSRB=SRBPTR;                 /* INITIALIZE THE PTR TO THE SRB
*                                      FOR AHLSBUF SO THAT IT CAN NOW
*                                      BE SCHEDULED                  */
         ST    @10,GTFSSRB(,PCTPTR)                                0338
*   DO;                             /* LOAD EP('AHLSFEOB')         0339
*                                      ERRET(RET3)                   */
*     RESPECIFY                                                    0340
*      (GPR00P,                                                    0340
*       GPR01P,                                                    0340
*       GPR15F) RESTRICTED;                                        0340
*     GPR00P=ADDR('AHLSFEOB');      /* LOAD ENTRY POINT NAME ADDRESS */
         LA    GPR00P,@CC02163                                     0341
*     GPR01P=0;                     /* JOBLIB OR LINKLIB DCB         */
         SLR   GPR01P,GPR01P                                       0342
*     GPR01P=GPR01P'80000000'X;    /* ERROR RETURN LABEL SPECIFIED  */
         O     GPR01P,@CF02148                                     0343
*     SVC(8);                       /* ISSUE LOAD SVC                */
         SVC   8                                                   0344
*     IF GPR15F^=0 THEN             /* LOAD WAS UNSUCCESSFUL         */
         LTR   GPR15F,GPR15F                                       0345
         BNZ   @RT00345                                            0345
*       GOTO RET3;                  /* BRANCH TO ERROR LOCATION      */
*     RESPECIFY                                                    0347
*      (GPR00P,                                                    0347
*       GPR01P,                                                    0347
*       GPR15F) UNRESTRICTED;                                      0347
*   END;                            /* LOAD EP('AHLSFEOB')         0348
*                                      ERRET(RET3)                   */
*   SFEOBRTN=LOADREG;               /* SAVE EP ADDR IN THE GTFPCT    */
         ST    LOADREG,SFEOBRTN(,PCTPTR)                           0349
*   DO;                             /* LOAD EP('AHLSBLOK')         0350
*                                      ERRET(RET7)                   */
*     RESPECIFY                                                    0351
*      (GPR00P,                                                    0351
*       GPR01P,                                                    0351
*       GPR15F) RESTRICTED;                                        0351
*     GPR00P=ADDR('AHLSBLOK');      /* LOAD ENTRY POINT NAME ADDRESS */
         LA    GPR00P,@CC02165                                     0352
*     GPR01P=0;                     /* JOBLIB OR LINKLIB DCB         */
         SLR   GPR01P,GPR01P                                       0353
*     GPR01P=GPR01P'80000000'X;    /* ERROR RETURN LABEL SPECIFIED  */
         O     GPR01P,@CF02148                                     0354
*     SVC(8);                       /* ISSUE LOAD SVC                */
         SVC   8                                                   0355
*     IF GPR15F^=0 THEN             /* LOAD WAS UNSUCCESSFUL         */
         LTR   GPR15F,GPR15F                                       0356
         BNZ   @RT00356                                            0356
*       GOTO RET7;                  /* BRANCH TO ERROR LOCATION      */
*     RESPECIFY                                                    0358
*      (GPR00P,                                                    0358
*       GPR01P,                                                    0358
*       GPR15F) UNRESTRICTED;                                      0358
*   END;                            /* LOAD EP('AHLSBLOK')         0359
*                                      ERRET(RET7)                   */
*   SBLOKRTN=LOADREG;               /* THIS IS FOR USE BY THE STACK
*                                      MACRO, AND WHEN IT BECOMES  0360
*                                      NONZERO THE STACK MACRO WILL
*                                      BEGIN FEEDING DATA INTO THE 0360
*                                      WRITER-STACK SERVICE.       0360
*                                      THEREFORE THIS MUST NOT BE  0360
*                                      DONE UNTIL NEAR LAST          */
         ST    LOADREG,SBLOKRTN(,PCTPTR)                           0360
*   SBLOKSAV=LOADREG;                                              0361
         ST    LOADREG,SBLOKSAV                                    0361
*   GO TO LDFXDONE;                 /* BYPASS THE CODE FOR LOAD ERROR
*                                      CONDITIONS                    */
         B     LDFXDONE                                            0362
*                                                                  0363
*   /*****************************************************************/
*   /*                                                               */
*   /* THESE ARE THE ERROR RETURNS FOR THE LOAD MACROS. THE VARIABLE */
*   /* FIELDS OF THE MSG ARE FILLED IN AND THEN IT IS WRITTEN OUT.   */
*   /* AFTER THAT THE TRACE WRITER IS TERMINATED                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0363
*/*RET4: P (,LOADMSG) PUT 'AHLWSMOD' IN MESSAGE AHL035I              */
*/*RET1: P (,LOADMSG) PUT 'AHLSBUF' IN MESSAGE AHL035I               */
*/*RET2: P (,LOADMSG) PUT 'AHLSBCU1' IN MESSAGE AHL035I              */
*/*RET3: P (,LOADMSG) PUT 'AHLSFEOB' IN MESSAGE AHL035I              */
*/*RET7: P (,LOADMSG) PUT 'AHLSBLOK' IN MESSAGE AHL035I              */
*/*LOADMSG: S (,CLEANUP) WTO: PUT 'LOAD' INTO & WRITE MESSAGE AHL035I
*/*                                                                  */
*                                                                  0363
*RET4:                                                             0363
*   M035NAME='AHLWSMOD';                                           0363
RET4     L     @10,@CA01950                                        0363
         MVC   M035NAME-M035NAME(8,@10),@CC02153                   0363
*   GO TO LOADMSG;                                                 0364
         B     LOADMSG                                             0364
*RET1:                                                             0365
*   M035NAME='AHLSBUF ';                                           0365
RET1     L     @10,@CA01950                                        0365
         MVC   M035NAME-M035NAME(8,@10),@CC02159                   0365
*   GO TO LOADMSG;                                                 0366
         B     LOADMSG                                             0366
*RET2:                                                             0367
*   M035NAME='AHLSBCU1';                                           0367
RET2     L     @10,@CA01950                                        0367
         MVC   M035NAME-M035NAME(8,@10),@CC02161                   0367
*   GO TO LOADMSG;                                                 0368
         B     LOADMSG                                             0368
*RET3:                                                             0369
*   M035NAME='AHLSFEOB';                                           0369
RET3     L     @10,@CA01950                                        0369
         MVC   M035NAME-M035NAME(8,@10),@CC02163                   0369
*   GO TO LOADMSG;                                                 0370
         B     LOADMSG                                             0370
*RET7:                                                             0371
*   M035NAME='AHLSBLOK';                                           0371
RET7     L     @10,@CA01950                                        0371
         MVC   M035NAME-M035NAME(8,@10),@CC02165                   0371
*LOADMSG:                                                          0372
*   DO;                             /* WTOP MF(E,AHL035)             */
LOADMSG  DS    0H                                                  0373
*     RFY                                                          0373
*       GPR01P RSTD;                /* RESTRICT REG 1                */
*     GPR01P=ADDR(AHL035);          /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01945                                     0374
*     SVC(35);                      /* ISSUE WTO SVC                 */
         SVC   35                                                  0375
*     RFY                                                          0376
*       GPR01P UNRSTD;              /* RELEASE REG 1                 */
*   END;                            /* WTOP MF(E,AHL035)             */
*   GO TO CLEANUP;                  /* CLEAN UP AND TERMINATE THE  0378
*                                      TRACE WRITER                  */
*                                                                  0378
         B     CLEANUP                                             0378
*   /*****************************************************************/
*   /*                                                               */
*   /* LOADING AND FIXING SUCCESSFUL                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0379
*/*LDFXDONE: N AT THIS POINT STACK BEGINS ACCEPTING DATA             */
*/* P (INT,%WSF15,EXT,) CLEAR AFLDFX                                 */
*                                                                  0379
*LDFXDONE:                                                         0379
*   AFLDFX=OFF;                     /* TURN OFF THE AUDIT FLAG FOR 0379
*                                      THE PREVIOUS SECTION OF CODE  */
LDFXDONE NI    AFLDFX(PCTPTR),B'11011111'                          0379
*                                                                  0380
*   /*****************************************************************/
*   /*                                                               */
*   /* INITIALIZATION OF THE WRITER-STACK SERVICE MODULES, CONTROL   */
*   /* BLOCKS, AND DATA AREAS IS NOW COMPLETE AND FUNCTIONING. THE   */
*   /* GTFCMECB IS NOW POSTED TO INFORM THE MOTHER TASK              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0380
*/*%WSF15: S POST: GTFCMECB TO INDICATE INIT COMPLETE                */
*/* P CLEAR AFINIT                                                   */
*                                                                  0380
*   DO;                             /* POST (GTFCMECB,0)             */
*     RESPECIFY                                                    0381
*      (GPR00F,                                                    0381
*       GPR01P) RESTRICTED;                                        0381
*     GPR00F=0;                     /* POST CODE IN R0               */
         SLR   GPR00F,GPR00F                                       0382
*     GPR01P=ADDR(GTFCMECB);        /* ECB ADDRESS                   */
         LA    GPR01P,GTFCMECB(,PCTPTR)                            0383
*     SVC(2);                       /* ISSUE POST SVC                */
         SVC   2                                                   0384
*     RESPECIFY                                                    0385
*      (GPR00F,                                                    0385
*       GPR01P) UNRESTRICTED;                                      0385
*   END;                            /* POST (GTFCMECB,0)             */
*   AFINIT=OFF;                     /* SHOW INITIALIZATION COMPLETE  */
         NI    AFINIT(PCTPTR),B'11101111'                          0387
*                                                                  0388
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS IS THE BEGINNING OR TOP OF THE LOOP THAT THE WRITER GOES */
*   /* AROUND DURING NORMAL EXECUTION. IT WAITS HERE AT THE TOP FOR  */
*   /* WORK TO BECOME AVAILABLE AND THEN PROGRESSES AROUND THE LOOP  */
*   /* CHECKING EACH TASK IT IS TO DO IN PRIORITY ORDER. FOR EACH    */
*   /* TASK THAT HAS WORK TO DO IT COMPLETES ALL THE WORK POSSIBLE AT*/
*   /* THAT TIME AND THEN GOES ON TO THE NEXT TASK. WHEN ALL TASKS   */
*   /* HAVE COMPLETED IT RETURNS TO THE TOP AND WAITS                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0388
*/*WAIT: P SET AFWAIT                                                */
*/* P IOECBADD= NEXTCHK WAIT ONLY ON ONE ECB                         */
*/* S WAIT: ON ECBLIST                                               */
*/* P CLEAR AFWAIT                                                   */
*                                                                  0388
*WAIT:                                                             0388
*   AFWAIT=ON;                                                     0388
WAIT     OI    AFWAIT(PCTPTR),B'00000100'                          0388
*   IOECBADD=NEXTCHK;               /* BECAUSE THE POSTING OF      0389
*                                      MULTIPLE BSAM WRITES MIGHT NOT
*                                      OCCURR IN THE SAME SEQUENCE AS
*                                      THE WRITES, ONLY ONE IS WAITED
*                                      ON AT A TIME. THIS FORCES THEM
*                                      TO BE NOTICED IN ORDER.       */
         L     @10,NEXTCHK                                         0389
         ST    @10,IOECBADD                                        0389
*   DO;                             /* WAIT ECBLIST(ECBALIST)        */
*     RESPECIFY                                                    0391
*      (GPR00P,                                                    0391
*       GPR01P) RESTRICTED;                                        0391
*     GPR00P=1;                     /* LOAD WAIT COUNT               */
         LA    GPR00P,1                                            0392
*     GPR01P=-ADDR(ECBALIST);       /* ADDRESS OF LIST OF ECB'S      */
         LA    GPR01P,ECBALIST                                     0393
         LCR   GPR01P,GPR01P                                       0393
*     SVC(1);                       /* WAIT SVC                      */
         SVC   1                                                   0394
*     RESPECIFY                                                    0395
*      (GPR00P,                                                    0395
*       GPR01P) UNRESTRICTED;                                      0395
*   END;                            /* WAIT ECBLIST(ECBALIST)        */
*   AFWAIT=OFF;                                                    0397
*                                                                  0397
         NI    AFWAIT(PCTPTR),B'11111011'                          0397
*   /*****************************************************************/
*   /*                                                               */
*   /* SHOULD THE ESTAE ROUTINE BE ENTERED WHILE AFWAIT IS ON IT WILL*/
*   /* RETRY, DISABLE STACK & AHLSBUF, POST THE WRTRERR ECB, AND THEN*/
*   /* BRANCH TO THIS LOCATION TO ALLOW THE WRITER TO TERMINATE      */
*   /* NORMALLY                                                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0398
*/*NOWAIT: P                                                         */
*/*RETRYPT7: P PUT 0 INTO WRTRCOM ECB                                */
*                                                                  0398
*NOWAIT:                            /* THIS LABEL IS USED TO BRANCH
*                                      BACK TO THE BEGINNING OF THE
*                                      TRACE WRITER LOOP BUT AVOIDING
*                                      THE WAIT                      */
*RETRYPT7:                                                         0398
*   WRTRCOM=0;                      /* ZERO OUT THIS ECB NOW SO THAT,
*                                      IF AHLSBUF SHOULD MOVE MORE 0398
*                                      DATA ONTO THE WRITE QUEUE   0398
*                                      AFTER THE TRACE WRITER IS DONE
*                                      CHECKING IT BUT BEFORE IT   0398
*                                      RETURNS TO THE TOP OF THE   0398
*                                      LOOP, THE ECB CAN BE POSTED 0398
*                                      AGAIN                         */
NOWAIT   DS    0H                                                  0398
RETRYPT7 SLR   @10,@10                                             0398
         ST    @10,WRTRCOM(,PCTPTR)                                0398
*                                                                  0399
*   /*****************************************************************/
*   /*                                                               */
*   /* THE FIRST TASK PERFORMED BY THE TRACE WRITER IS TO REMOVE AS  */
*   /* MANY GTFBCB FROM THE WRITE QUEUE AS POSSIBLE.                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0399
*/*%IOLOOP: P SET AFBUFOFF                                           */
*/* D (YES,,NO,%IE34) DIAGNOSTIC: IS EQLENGTH <EQMIN                 */
*/* P DIAGNOSTIC: EQMIN=EQLENGTH                                     */
*/*%IE34: P (INT,%NOCHK,EXT,CHKLOOP)                                 */
*                                                                  0399
*   AFBUFOFF=ON;                    /* TURN ON THE AUDIT FLAG FOR  0399
*                                      THIS SECTION OF CODE          */
         OI    AFBUFOFF(PCTPTR),B'00010000'                        0399
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0400
*   IF EQLENGTH<EQMIN               /* SAVE THE LOWEST NUMBER OF   0400
*                                      AVAILABLE GTFBCB              */
*     THEN                                                         0400
         L     @10,EQLENGTH(,PCTPTR)                               0400
         C     @10,EQMIN(,PCTPTR)                                  0400
         BNL   @RF00400                                            0400
*     EQMIN=EQLENGTH;                                              0401
*                                                                  0401
         ST    @10,EQMIN(,PCTPTR)                                  0401
*/* OPTIONAL DIAGNOSTIC AID                                          */
*/* IN THE CASE OF THE INTERNAL TRACE WRITER ALL GTFBCB WILL BE REMOVED
*   BECAUSE NOTHING HAS TO BE DONE WITH THE DATA                     */
*/*%NOCHK: D (YES,%NOWRT,NO,) WQHEAD=0                               */
*/* D (YES,,NO,%K) DIAGNOSTIC: IS WQLENGTH >WQMAX                    */
*/* P DIAGNOSTIC: WQMAX=WQLENGTH                                     */
*/*%K: S GETQLOCK: OBTAIN THE GTFBCB QUEUE LOCK                      */
*/* P BCBHOLDR=WQHEAD WQHEAD=0                                       */
*/*%C: P DIAGNOSTIC: WQLENGTH=0                                      */
*/* S FREQLOCK: RELEASE THE GTFBCB QUEUE LOCK                        */
*                                                                  0402
*   IF WQHEAD^=0 THEN                                              0402
@RF00400 L     @10,WQHEAD(,PCTPTR)                                 0402
         LTR   @10,@10                                             0402
         BZ    @RF00402                                            0402
*     DO;                           /* IF THE WRITE QUEUE IS NOT   0403
*                                      EMPTY DO THE FOLLOWING TO   0403
*                                      REMOVE GTFBCB FROM IT         */
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0404
*       IF WQLENGTH>WQMAX           /* SAVE THE HIGHEST NUM OF GTFBCB
*                                      EVER ON THE WRITE QUEUE AT ONE
*                                      TIME                          */
*         THEN                                                     0404
         L     @10,WQLENGTH(,PCTPTR)                               0404
         C     @10,WQMAX(,PCTPTR)                                  0404
         BNH   @RF00404                                            0404
*         WQMAX=WQLENGTH;                                          0405
*                                                                  0405
         ST    @10,WQMAX(,PCTPTR)                                  0405
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0406
*       CALL GETQLOCK;              /* INTERNAL SUBROUTINE TO OBTAIN
*                                      QLOCK                         */
@RF00404 BAL   @14,GETQLOCK                                        0406
*       BCBHOLDR=WQHEAD;            /* TAKE ALL THE GTFBCB OFF OF THE
*                                      WRITE QUEUE                   */
         L     @10,WQHEAD(,PCTPTR)                                 0407
         ST    @10,BCBHOLDR                                        0407
*       WQHEAD=0;                                                  0408
*                                                                  0408
         SLR   @10,@10                                             0408
         ST    @10,WQHEAD(,PCTPTR)                                 0408
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0409
*       WQLEN=WQLENGTH;             /* SAVE CURRENT NUMBER OF W-Q  0409
*                                      GTFBCB                @ZA27751*/
         L     @09,WQLENGTH(,PCTPTR)                               0409
         ST    @09,WQLEN                                           0409
*       WQLENGTH=0;                 /* KEEP TRACK OF THE NUM OF    0410
*                                      GTFBCB ON THE WRITE QUEUE     */
         ST    @10,WQLENGTH(,PCTPTR)                               0410
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0411
*       CALL FREQLOCK;              /* AN INTERNAL SUBROUTINE TO   0411
*                                      RELEASE THE QLOCK             */
         BAL   @14,FREQLOCK                                        0411
*                                                                  0412
*       /*************************************************************/
*       /*                                                           */
*       /* THIS LOOP TAKES THE GTFBCB JUST REMOVED FROM THE WRITE    */
*       /* QUEUE AND ALTERS THEM AS IF THEY HAD BEEN WRITTEN OUT TO A*/
*       /* TRACE DATASET SO THAT THEY MAY USED AGAIN                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0412
*/*MOCKIO: D (YES,%NOWRT,NO,) BCBHOLDR=0                             */
*/* P (,%RBX) RLSEBUF= BCBHOLDR BCBHOLDR= BCBHOLDR-> BCBCHAIN        */
*                                                                  0412
*MOCKIO:                                                           0412
*       DO I=1 TO WQLEN;            /* SERIES OF WRITE Q'S   @ZA27751*/
MOCKIO   LA    @10,1                                               0412
         B     @DE00412                                            0412
@DL00412 DS    0H                                                  0413
*         RLSEBUF=BCBHOLDR;         /* TAKE THE NEXT GTFBCB OFF OF 0413
*                                      THE STRING REMOVED FROM THE 0413
*                                      WRITE QUEUE                   */
         L     @10,BCBHOLDR                                        0413
         ST    @10,RLSEBUF                                         0413
*         BCBHOLDR=BCBHOLDR->BCBCHAIN;/* RETAIN THE REST OF THE    0414
*                                      STRING FOR THE NEXT TIME    0414
*                                      THROUGH THE LOOP              */
*                                                                  0414
         L     @09,BCBCHAIN(,@10)                                  0414
         ST    @09,BCBHOLDR                                        0414
*         /***********************************************************/
*         /*                                                         */
*         /* DECIDE IF THIS GTFBCB NEEDS ONLY TO HAVE ITS USE COUNT  */
*         /* DECREMENTED OR IF IT MUST BE PUT ON THE RELEASE QUEUE   */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0415
*/*%RBX: P DIAGNOSTIC: INCREMENT NUMOFBUF & RLSEBUF-> BCBFREQ BY 1   */
*/*IOCS: P SWAPBCB= RLSEBUF-> BCBSWAP FOR CS LOGIC                   */
*/* D (YES,,NO,%A2) SWAPUSE=1                                        */
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0415
*         NUMOFBUF=NUMOFBUF+1;      /* KEEP A TOTAL OF THE NUMBER OF
*                                      GTFBCB PROCESSED              */
         LA    @09,1                                               0415
         L     @01,NUMOFBUF(,PCTPTR)                               0415
         ALR   @01,@09                                             0415
         ST    @01,NUMOFBUF(,PCTPTR)                               0415
*         RLSEBUF->BCBFREQ=RLSEBUF->BCBFREQ+1;                     0416
*                                                                  0416
         AL    @09,BCBFREQ(,@10)                                   0416
         ST    @09,BCBFREQ(,@10)                                   0416
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0417
*IOCS:                                                             0417
*         SWAPBCB=RLSEBUF->BCBSWAP; /* BECAUSE THE PORTIONS OF THE 0417
*                                      GTFBCB CONTAINED IN BCBSWAP 0417
*                                      REQUIRE MP SERIALIZATION VIA
*                                      CS THE VALUES MUST BE SAVED 0417
*                                      BEFORE REFERENCING THEM & THEN
*                                      ONLY THE STABLE COPY MAY BE 0417
*                                      REFERENCED                    */
IOCS     LA    @10,WORKAREA                                        0417
         L     @09,RLSEBUF                                         0417
         L     @01,BCBSWAP(,@09)                                   0417
         ST    @01,SWAPBCB(,@10)                                   0417
*         IF SWAPUSE=1              /* WAS THE GTFBCB ON ONLY 1 QUEUE*/
*           THEN                                                   0418
         CLC   SWAPUSE(2,@10),@CH00070                             0418
         BNE   @RF00418                                            0418
*           DO;                     /* YES                           */
*                                                                  0419
*             /*******************************************************/
*             /*                                                     */
*             /* BECAUSE THE GTFBCB WAS ON ONLY 1 QUEUE IT IS NOW NOT*/
*             /* ON ANY QUEUE. UNDER THESE CONDITIONS ONLY THIS      */
*             /* EXECUTION OF THIS CODE CAN LOCATE IT. THEREFORE     */
*             /* UNTIL IT IS PLACED ONTO ANOTHER QUEUE NO SPECIAL    */
*             /* HANDLING, SERIALIZATION, OR MP LOGIC IS NEEDED TO   */
*             /* MODIFY IT. ALSO IT MUST BE MADE AVAILABLE AGAIN BY  */
*             /* BEING PUT ONTO THE RELEASE QUEUE                    */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0420
*/* N (EXT,,INT,%DGF2) MP LOGIC NOT NEEDED BECAUSE SWAPUSE=1         */
*/* P (,%DGF2A) DIAGNOSTIC: RLSEBUF-> DECBFLAG=OFF & RQFLAG=ON       */
*/*%DGF2: P DIAGNOSTIC: RLSEBUF-> WQFLAG=OFF & RQFLAG=ON             */
*/*%DGF2A: P SAVE A STABLE COPY OF RQHEAD                            */
*/*OFFCS: P RLSEBUF-> RQCHAIN=STABLE COPY RQHEAD                     */
*/* P CS RLSEBUF INTO RQHEAD                                         */
*/* D (FAIL,OFFCS,OK,%EOL) CS?                                       */
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0420
*             RLSEBUF->WQFLAG=OFF;  /* TURN OFF THE GTFBCB FLAG THAT
*                                      SHOWS IT ON THE WRITE QUEUE   */
*             RLSEBUF->RQFLAG=ON;   /* TURN ON THE RELEASE QUEUE FLAG*/
         OI    RQFLAG(@09),B'00000100'                             0421
         NI    WQFLAG(@09),B'10111111'                             0421
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0422
*             RFY                                                  0422
*               COMPREG RSTD;                                      0422
*             COMPREG=RQHEAD;       /* MAKE A STABLE COPY OF RQHEAD  */
         L     COMPREG,RQHEAD(,PCTPTR)                             0423
*OFFCS:                                                            0424
*             RLSEBUF->RQCHAIN=COMPREG;/* PUT RQHEAD INTO CHAIN FIELD
*                                      OF THE GTFBCB TO BE ADDED     */
OFFCS    L     @10,RLSEBUF                                         0424
         ST    COMPREG,RQCHAIN(,@10)                               0424
*             CS(COMPREG,RLSEBUF,RQHEAD);/* VERIFY RQHEAD HASN'T   0425
*                                      CHANGED AND ADD THE GTFBCB TO
*                                      THE HEAD OF THE QUEUE         */
         CS    COMPREG,@10,RQHEAD(PCTPTR)                          0425
*             BC(4,OFFCS);          /* IF IT FAILED TRY AGAIN        */
         BC    4,OFFCS                                             0426
*             RFY                                                  0427
*               COMPREG UNRSTD;                                    0427
*           END;                                                   0428
*                                                                  0429
*         /***********************************************************/
*         /*                                                         */
*         /* IF THE USE COUNT IS NOT 1 THE GTFBCB IS STILL IN USE ON */
*         /* ANOTHER QUEUE SO JUST DECREMENT IT                      */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0429
*/*%A2: P (EXT,,INT,%DGF1)                                           */
*/* P (,%DGF1A) DECREMENT SWAPUSE 1 & DIAGNOSTIC DECBFSWA=OFF        */
*/*%DGF1: P DECREMENT SWAPUSE 1 & DIAGNOSTIC WQFSWAP=OFF             */
*/*%DGF1A: P CS NEW VALUES FROM SWAPBCB INTO RLSEBUF-> BCBSWAP       */
*/* D (OK,,FAIL,IOCS) CS?                                            */
*/*%EOL: P (INT,MOCKIO,EXT,CHKLOOP) END OF LOOP                      */
*                                                                  0429
*         ELSE                                                     0429
*           DO;                     /* NO, THE GTFBCB IS STILL ON AT
*                                      LEAST ONE QUEUE               */
         B     @RC00418                                            0429
@RF00418 DS    0H                                                  0430
*             COMPBCB=SWAPBCB;      /* MAKE ANOTHER COPY FOR THE   0430
*                                      COMPARE BEFORE MODIFYING THE
*                                      ONE FOR THE SWAP              */
         LA    @10,WORKAREA                                        0430
         L     @09,SWAPBCB(,@10)                                   0430
         ST    @09,COMPBCB(,@10)                                   0430
*             SWAPUSE=SWAPUSE-1;    /* PREPARE A DECREMENTED BCBUSE
*                                      FOR THE CS                    */
         LH    @09,SWAPUSE(,@10)                                   0431
         BCTR  @09,0                                               0431
         STH   @09,SWAPUSE(,@10)                                   0431
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0432
*             WQFSWAP=OFF;          /* PREPARE THE NEW QUEUE FLAGS   */
         NI    WQFSWAP(@10),B'10111111'                            0432
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0433
*             CS(COMPBCB,SWAPBCB,RLSEBUF->BCBSWAP);/* THIS WILL    0433
*                                      EITHER PLACE THE UPDATED    0433
*                                      VALUES INTO THE GTFBCB OR NOT,
*                                      IF THEY HAVE BECOME INVALID   */
         L     @09,COMPBCB(,@10)                                   0433
         L     @01,SWAPBCB(,@10)                                   0433
         L     @15,RLSEBUF                                         0433
         CS    @09,@01,BCBSWAP(@15)                                0433
         BZ    @BC00433                                            0433
         ST    @09,COMPBCB(,@10)                                   0433
@BC00433 DS    0H                                                  0434
*             BC(4,IOCS);           /* IF THE DATA WAS INVALIDATED,
*                                      GO BACK AND START OVER AGAIN  */
         BC    4,IOCS                                              0434
*           END;                                                   0435
*       END MOCKIO;                 /* ALL THE GTFBCB REMOVE FROM THE
*                                      WRITE QUEUE HAVE BEEN DISPOSED
*                                      OF                            */
@RC00418 LA    @10,1                                               0436
         AL    @10,I                                               0436
@DE00412 ST    @10,I                                               0436
         C     @10,WQLEN                                           0436
         BNH   @DL00412                                            0436
*                                                                  0437
*/*%NOWRT: P CLEAR AFBUFOFF                                          */
*                                                                  0437
*       /*************************************************************/
*       /*                                                           */
*       /* WHEN EXECUTION REACHES THIS POINT AS MANY GTFBCB AS       */
*       /* POSSIBLE HAVE BEEN REMOVED FROM THE WRITE QUEUE           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0437
*     END;                                                         0437
*   AFBUFOFF=OFF;                   /* TURN OFF THE AUDIT FLAG FOR 0438
*                                      THIS SECTION OF CODE          */
@RF00402 DS    0H                                                  0439
*                                                                  0439
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE REMOVES ALL THE GTFBCB CURRENTLY ON THE  */
*   /* RELEASE QUEUE, DOES A PAGE RELEASE ON EACH ASSOCIATED GTFBUFR,*/
*   /* AND THEN PUTS THE GTFBCB ONTO THE EMPTY QUEUE                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0439
*/* P SET AFPGRLSE                                                   */
*/* D (YES,%NOIOX,NO,) RQHEAD=0                                      */
*/* P BCBHOLDR=RQHEAD                                                */
*/*CSRQHEAD: P CS 0 INTO RQHEAD                                      */
*/* D (FAIL,CSRQHEAD,OK,) CS                                         */
*/* P DIAGNOSTIC: INCREMENT RQPURGE BY 1 & RQCOUNT=0                 */
*/* P RLSEBUF= BCBHOLDR                                              */
*/*RLSELOOP: S PGRLSE: RLSEBUF-> GTFBCB-> GTFBUFR                    */
*/* P DIAGNOSTIC: RLSEBUF-> RQFLAG=OFF & EQFLAG=ON, INCR RQCOUNT BY 1
*/*                                                                  */
*/* D (NO,,YES,%J) RLSEBUF-> RQCHAIN=0                               */
*/* P (,RLSELOOP) RLSEBUF= RLSEBUF-> RQCHAIN                         */
*/*%J: P DIAGNOSTIC: RQTOTAL= RQTOTAL+RQCOUNT                        */
*/* S GETQLOCK: OBTAIN THE GTFBCB QUEUE LOCK                         */
*/* P RLSEBUF-> EQCHAIN= EQHEAD                                      */
*/* N EQCHAIN & RQCHAIN BOTH REFER TO THE SAME GTFBCB FIELD          */
*/* P EQHEAD=BCBHOLDR                                                */
*/* P DIAGNOSTIC: EQLENGTH= EQLENGTH+ RQCOUNT                        */
*/* S FREQLOCK: RELEASE THE GTFBCB QUEUE LOCK                        */
*/*%NOIOX: P CLEAR AFPGRLSE                                          */
*                                                                  0439
*   AFPGRLSE=ON;                    /* SET THE FLAG FOR THIS SECTION
*                                      OF CODE AUDIT                 */
         OI    AFPGRLSE(PCTPTR),B'00000100'                        0439
         NI    AFBUFOFF(PCTPTR),B'11101111'                        0439
*   IF RQHEAD^=0                    /* ARE THERE ANY GTFBCB ON THE 0440
*                                      RELEASE QUEUE? OF NOT SKIP  0440
*                                      THIS SECTION                  */
*     THEN                                                         0440
         L     @10,RQHEAD(,PCTPTR)                                 0440
         LTR   @10,@10                                             0440
         BZ    @RF00440                                            0440
*     DO;                           /* YES, THERE ARE GTFBCB ON THE
*                                      RELEASE QUEUE                 */
*       BCBHOLDR=RQHEAD;            /* GET THE ADDRESS OF THE FIRST
*                                      GTFBCB ON THE RELEASE QUEUE   */
         ST    @10,BCBHOLDR                                        0442
*CSRQHEAD:                                                         0443
*       CS(BCBHOLDR,0,RQHEAD);      /* ATTEMPT TO PUT A 0 IN RQHEAD
*                                      TO REMOVE ALL THE GTFBCB      */
CSRQHEAD L     @10,BCBHOLDR                                        0443
         SLR   @09,@09                                             0443
         CS    @10,@09,RQHEAD(PCTPTR)                              0443
         BZ    @BC00443                                            0443
         ST    @10,BCBHOLDR                                        0443
@BC00443 DS    0H                                                  0444
*       BC(4,CSRQHEAD);             /* IF THE CS FAILS A GTFBCB WAS
*                                      ADDED TO THE RELEASE QUEUE  0444
*                                      WHICH MAKES BCBHOLDR INVALID
*                                      SO GO BACK & START OVER. THE
*                                      CS HAS ALREADY STORED THE   0444
*                                      LATEST RQHEAD INTO BCBHOLDR   */
         BC    4,CSRQHEAD                                          0444
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0445
*       RQPURGE=RQPURGE+1;                                         0445
         LA    @10,1                                               0445
         AL    @10,RQPURGE(,PCTPTR)                                0445
         ST    @10,RQPURGE(,PCTPTR)                                0445
*       RQCOUNT=0;                                                 0446
*                                                                  0446
         SLR   @10,@10                                             0446
         ST    @10,RQCOUNT                                         0446
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0447
*       RLSEBUF=BCBHOLDR;           /* START WITH THE FIRST GTFBCB IN
*                                      THE GROUP                     */
         L     @10,BCBHOLDR                                        0447
         ST    @10,RLSEBUF                                         0447
*RLSELOOP:                                                         0448
*       RFY                                                        0448
*        (MACREG1,                                                 0448
*         MACREG2) RSTD;                                           0448
RLSELOOP DS    0H                                                  0449
*       MACREG1=ADDR(RLSEBUF->GBUFRPTR->GTFBUFR);                  0449
         L     @10,RLSEBUF                                         0449
         L     MACREG1,GBUFRPTR(,@10)                              0449
*       MACREG2=MACREG1+LENGTH(GTFBUFR);                           0450
         LR    MACREG2,MACREG1                                     0450
         AL    MACREG2,@CF01818                                    0450
*       GEN CODE(PGRLSE  LA=(MACREG1),HA=(MACREG2))                0451
*       REFS(MACREG1,MACREG2) SETS(GTFBUFR) NOEXIT NODEFS NOFLOWS  0451
*           SEQFLOW;                /* THIS WILL CAUSE ALL THE REAL
*                                      STORAGE AND AUX STORAGE     0451
*                                      ASSOCIATED WITH THE VIRTUAL 0451
*                                      STORAGE TO THIS GTFBUFR TO BE
*                                      RETURNED TO THE SYSTEM. THE 0451
*                                      CONTENTS ARE DISCARDED. THIS
*                                      IS DONE SO THAT AHLSBUF WILL
*                                      NOT CAUSE A PAGE IN WHEN IT 0451
*                                      MOVES MORE DATA INTO THIS   0451
*                                      GTFBUFR                       */
         PGRLSE  LA=(MACREG1),HA=(MACREG2)
*       RFY                                                        0452
*        (MACREG1,                                                 0452
*         MACREG2) UNRSTD;                                         0452
*                                                                  0452
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0453
*       RLSEBUF->RQFLAG=OFF;                                       0453
*       RLSEBUF->EQFLAG=ON;                                        0454
         L     @10,RLSEBUF                                         0454
         OI    EQFLAG(@10),B'10000000'                             0454
         NI    RQFLAG(@10),B'11111011'                             0454
*       RQCOUNT=RQCOUNT+1;                                         0455
*                                                                  0455
         LA    @09,1                                               0455
         AL    @09,RQCOUNT                                         0455
         ST    @09,RQCOUNT                                         0455
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0456
*       IF RLSEBUF->RQCHAIN^=0      /* HAS THE END OF THE GROUP BEEN
*                                      REACHED                       */
*         THEN                                                     0456
         L     @10,RQCHAIN(,@10)                                   0456
         LTR   @10,@10                                             0456
         BZ    @RF00456                                            0456
*         DO;                       /* YES, GO PUT THE GROUP ONTO THE
*                                      ENPTY QUEUE                   */
*           RLSEBUF=RLSEBUF->RQCHAIN;/* NO, THEN MOVE ON TO PROCESS
*                                      THE NEXT ONE                  */
         ST    @10,RLSEBUF                                         0458
*           GO TO RLSELOOP;                                        0459
         B     RLSELOOP                                            0459
*         END;                      /* ALL PAGE RELEASES HAVE BEEN 0460
*                                      DONE                          */
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0461
*       RQTOTAL=RQTOTAL+RQCOUNT;                                   0461
*                                                                  0461
@RF00456 L     @10,RQTOTAL(,PCTPTR)                                0461
         AL    @10,RQCOUNT                                         0461
         ST    @10,RQTOTAL(,PCTPTR)                                0461
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0462
*       CALL GETQLOCK;              /* OBTAIN CONTROL OF THE QLOCK SO
*                                      THAT EQHEAD MAY BE ALTERED    */
         BAL   @14,GETQLOCK                                        0462
*       RLSEBUF->EQCHAIN=EQHEAD;    /* RLSEBUF NOW POINTS TO THE LAST
*                                      GTFBCB ON THE STRING AND    0463
*                                      BCBHOLDR TO THE FIRST         */
         L     @10,EQHEAD(,PCTPTR)                                 0463
         L     @09,RLSEBUF                                         0463
         ST    @10,EQCHAIN(,@09)                                   0463
*       EQHEAD=BCBHOLDR;            /* INSERT THE GROUP OF GTFBCB AT
*                                      THE HEAD OF THE EMPTY QUEUE   */
         L     @10,BCBHOLDR                                        0464
         ST    @10,EQHEAD(,PCTPTR)                                 0464
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0465
*       EQLENGTH=EQLENGTH+RQCOUNT;  /* INCREMENT THE COUNT OF GTFBCB
*                                      ON THE EMPTY QUEUE BY THE   0465
*                                      NUMBER IN THE GROUP           */
         L     @10,EQLENGTH(,PCTPTR)                               0465
         AL    @10,RQCOUNT                                         0465
         ST    @10,EQLENGTH(,PCTPTR)                               0465
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0466
*       CALL FREQLOCK;              /* RELEASE THE QLOCK             */
         BAL   @14,FREQLOCK                                        0466
*     END;                                                         0467
*   AFPGRLSE=OFF;                   /* TURN OFF THE AUDIT FLAG FOR 0468
*                                      THIS SECTION                  */
@RF00440 DS    0H                                                  0469
*                                                                  0469
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE CHECKS TO SEE IF THE NUMBER OF AVAILABLE */
*   /* GTFBCB (GTFBUFR) ON THE EMPTY QUEUE IS LESS THAN THE DESIRED  */
*   /* MINIMUM RESERVE AND GETS MORE GTFBUFR IF POSSIBLE             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0469
*/* P SET AFEQFIX                                                    */
*/* P BCBHOLDR= EQHEAD, I=1                                          */
*/*%ET: D (YES,,NO,%ELOP) BCBHOLDR=0                                 */
*/* N NO REPAIRS DURING TERMINATION OR IN THE CASE OF AN ERROR       */
*/* D (YES,XWRITEST,NO,) IS WSERFLAG SET                             */
*/* N DIAGNOSTIC MESSAGE: "EQ<MIN", EQLENGTH, & WQLENGTH             */
*/* P DIAGNOSTIC: INCREMENT EQSHORT BY 1                             */
*/* S EBUFGET: GET A STRING OF GTFBCB & GTFBUFR                      */
*/* D (YES,EQAFOFF,NO,) GQHEAD=0                                     */
*/* S GETQLOCK: OBTAIN THE GTFBCB QUEUE LOCK                         */
*/* P GQTAIL-> EQCHAIN=EQHEAD & EQHEAD=GQHEAD                        */
*/* D (YES,,NO,%DAG3) DIAGNOSTIC: EQLENGTH< EQMIN                    */
*/* P DIAGNOSTIC: EQMIN=EQLENGTH                                     */
*/*%DAG3: P DIAGNOSTIC: INCR EQLENGTH BY THE NUM OF GTFBCB IN 1 PAGE */
*/* S (,EQAFOFF) FREQLOCK: RELEASE THE GTFBCB QUEUE LOCK             */
*/*%ELOP: P BCBHOLDR= BCBHOLDR-> EQCHAIN, I=I+1                      */
*/* D (YES,EQAFOFF,NO,%ET) I=EQRESERV                                */
*/*EQAFOFF: P CLEAR AFEQFIX                                          */
*                                                                  0469
*   AFEQFIX=ON;                     /* SET THE AUDIT FLAG FOR THIS 0469
*                                      SECTION OF CODE               */
         OI    AFEQFIX(PCTPTR),B'00000010'                         0469
         NI    AFPGRLSE(PCTPTR),B'11111011'                        0469
*   BCBHOLDR=EQHEAD;                /* THIS LOOP CHECKS TO BE SURE 0470
*                                      THERE IS AT LEAST A MINIMUM 0470
*                                      NUMBER OF GTFBCB ON THE EMPTY
*                                      QUEUE                         */
         L     @10,EQHEAD(,PCTPTR)                                 0470
         ST    @10,BCBHOLDR                                        0470
*   DO I=1 TO EQRESERV;                                            0471
         LA    @10,1                                               0471
         ST    @10,I                                               0471
@DL00471 DS    0H                                                  0472
*     IF BCBHOLDR=0                 /* HAS THE END OF THE QUEUE BEEN
*                                      REACHED YET                   */
*       THEN                                                       0472
         L     @10,BCBHOLDR                                        0472
         LTR   @10,@10                                             0472
         BNZ   @RF00472                                            0472
*       DO;                         /* IF THE NUMBER IS LESS THAN THE
*                                      MINIMUM RESERVE TRY TO GET  0473
*                                      MORE                          */
*         IF WSERFLAG=ON            /* IF ANY OF THE ERROR CONDITION
*                                      INDICATED BY THIS FLAG HAS  0474
*                                      OCCURRED THE TRACE WRITER IS
*                                      GOING THROUGH ERROR         0474
*                                      TERMINATION AND THEREFORE ALL
*                                      UNNECESSARY PROCESSING IS   0474
*                                      BEING BYPASSED TO AVOID     0474
*                                      TROUBLE                       */
*           THEN                                                   0474
         TM    WSERFLAG(PCTPTR),B'00000010'                        0474
         BO    @RT00474                                            0474
*           GO TO XWRITEST;                                        0475
*                                                                  0475
*/* OPTIONAL DIAGNOSTIC AID                                          */
*/* THIS WOULD BE A GOOD PLACE FOR A WTO                             */
*                                                                  0476
*         EQSHORT=EQSHORT+1;                                       0476
*                                                                  0476
         LA    @10,1                                               0476
         AL    @10,EQSHORT(,PCTPTR)                                0476
         ST    @10,EQSHORT(,PCTPTR)                                0476
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0477
*         CALL EBUFGET;             /* THIS SUBROUTINE WILL RETURN A
*                                      STRING OF ONE PAGE FULL OF  0477
*                                      GTFBCB READY TO GO ONTO THE 0477
*                                      EMPTY QUEUE                   */
         BAL   @14,EBUFGET                                         0477
*         IF GQHEAD=0               /* CHECK TO SEE IF EBUFGET FAILED*/
*           THEN                                                   0478
         L     @10,GQHEAD                                          0478
         LTR   @10,@10                                             0478
         BZ    @RT00478                                            0478
*           GO TO EQAFOFF;          /* YES,NO MORE GTFBCB CAN BE   0479
*                                      GOTTEN. EITHER A GETMAIN OR 0479
*                                      PGFIX FAILED OR THE MAX NUMBER
*                                      HAS BEEN REACHED              */
*         CALL GETQLOCK;            /* OBTAIN THE QLOCK SO THE NEW 0480
*                                      GTFBCB MAY BE ADDED TO THE  0480
*                                      EMPTY QUEUE                   */
         BAL   @14,GETQLOCK                                        0480
*         GQTAIL->EQCHAIN=EQHEAD;   /* GQTAIL WILL POINT TO THE LAST
*                                      GTFBCB IN THE STRING          */
         L     @10,EQHEAD(,PCTPTR)                                 0481
         L     @09,GQTAIL                                          0481
         ST    @10,EQCHAIN(,@09)                                   0481
*         EQHEAD=GQHEAD;            /* GQHEAD WILL POINT TO THE FIRST
*                                      GTFBCB IN THE STRING          */
         L     @10,GQHEAD                                          0482
         ST    @10,EQHEAD(,PCTPTR)                                 0482
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0483
*         IF EQLENGTH<EQMIN THEN                                   0483
         L     @10,EQLENGTH(,PCTPTR)                               0483
         C     @10,EQMIN(,PCTPTR)                                  0483
         BNL   @RF00483                                            0483
*           EQMIN=EQLENGTH;                                        0484
         ST    @10,EQMIN(,PCTPTR)                                  0484
*         EQLENGTH=EQLENGTH+(PGBYTES/LENGTH(GTFBCB));/* INCREMENT THE
*                                      COUNT OF GTFBCB ON THE EMPTY
*                                      QUEUE BY THE NUMBER OF GTFBCB
*                                      THAT WILL FIT IN A PAGE WHICH
*                                      IS THE NUMBER RETURNED BY   0485
*                                      EBUFGET                       */
@RF00483 LA    @10,170                                             0485
         AL    @10,EQLENGTH(,PCTPTR)                               0485
         ST    @10,EQLENGTH(,PCTPTR)                               0485
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0486
*         CALL FREQLOCK;            /* RELEASE THE QLOCK             */
         BAL   @14,FREQLOCK                                        0486
*         GO TO EQAFOFF;                                           0487
         B     EQAFOFF                                             0487
*       END;                                                       0488
*     BCBHOLDR=BCBHOLDR->EQCHAIN;                                  0489
@RF00472 L     @10,BCBHOLDR                                        0489
         L     @10,EQCHAIN(,@10)                                   0489
         ST    @10,BCBHOLDR                                        0489
*   END;                                                           0490
         LA    @10,1                                               0490
         AL    @10,I                                               0490
         ST    @10,I                                               0490
         C     @10,@CF01832                                        0490
         BNH   @DL00471                                            0490
*EQAFOFF:                                                          0491
*   AFEQFIX=OFF;                    /* TURN OFF THE AUDIT FLAG FOR 0491
*                                      THIS SECTION OF CODE          */
EQAFOFF  NI    AFEQFIX(PCTPTR),B'11111101'                         0491
*                                                                  0492
*   /*****************************************************************/
*   /*                                                               */
*   /* BECAUSE OF THE POSSIBILITY THAT AHLSBUF MAY HAVE DISABLED ITS */
*   /* SELF IF THERE WHERE NO GTFBCB AVAILABLE TO IT ON THE EMPTY    */
*   /* QUEUE, GTFSSRB MAY NEED TO BE REFRESHED                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0492
*/*%EQOK: D (NO,%MA,YES,) GTFSSRB=0                                  */
*/* N AHLSBUF SHOULD NOT BE REENABLED IF A SERIOUS ERROR HAS OCCURRED
*/*                                                                  */
*/* D (YES,XWRITEST,NO,) IS WSERFLAG SET                             */
*/* S GETLOCK: OBTAIN THE QLOCK                                      */
*/* P REFRESH GTFSSRB FROM SRBPTR                                    */
*/* S FREQLOCK: RELEASE THE QLOCK                                    */
*/* P DIAGNOSTIC: INCREMENT SBUFDISA BY 1                            */
*                                                                  0492
*   IF GTFSSRB=0                    /* IS AHLSBUF DISABLED           */
*     THEN                                                         0492
         L     @10,GTFSSRB(,PCTPTR)                                0492
         LTR   @10,@10                                             0492
         BNZ   @RF00492                                            0492
*     DO;                           /* YES, SO TRY TO ENABLE IT ONCE
*                                      AGAIN                         */
*       IF WSERFLAG=ON              /* IF ANY OF THE ERROR CONDITIONS
*                                      INDICATED BY THIS FLAG HAS  0494
*                                      OCCURRED THE TRACE WRITER IS
*                                      GOING THROUGH ERROR         0494
*                                      TERMINATION AND THEREFORE   0494
*                                      AHLSBUF MUST REMAIN DISABLED
*                                      TO AVOID TROUBLE              */
*         THEN                                                     0494
         TM    WSERFLAG(PCTPTR),B'00000010'                        0494
         BO    @RT00494                                            0494
*         GO TO XWRITEST;                                          0495
*       CALL GETQLOCK;              /* THE GTFSSRB WORD CANNOT BE  0496
*                                      REFRESHED FROM SRBPTR IF THERE
*                                      IS THE POSSIBILITY THAT     0496
*                                      AHLSBUF IS HOLDING THE QLOCK,
*                                      BECAUSE IT IS ASSUMED THAT  0496
*                                      AHLSBUF HAS CONTROL OF GTFSSRB
*                                      AT ALL TIMES WHILE IT IS    0496
*                                      HOLDING QLOCK                 */
         BAL   @14,GETQLOCK                                        0496
*       GTFSSRB=SRBPTR;             /* SRBPTR IS THE ADDRESS OF THE
*                                      SRB FOR AHLSBUF AND HAS     0497
*                                      ALREADY HAD THE '80000000'X 0497
*                                      BIT TURNED ON AT THE END OF 0497
*                                      INITIALIZATION. GTFSSRB IS  0497
*                                      EXPOSED TO MP INVOLVEMENT AND
*                                      IN THIS CASE MUST BE TOTALLY
*                                      UPDATED IN ONE INSTRUCTION    */
         L     @10,SRBPTR                                          0497
         ST    @10,GTFSSRB(,PCTPTR)                                0497
*       CALL FREQLOCK;              /* ONCE IT IS UPDATED RELEASE THE
*                                      QLOCK                         */
         BAL   @14,FREQLOCK                                        0498
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0499
*       SBUFDISA=SBUFDISA+1;                                       0499
*                                                                  0499
         LA    @10,1                                               0499
         AL    @10,SBUFDISA(,PCTPTR)                               0499
         ST    @10,SBUFDISA(,PCTPTR)                               0499
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  0500
*     END;                                                         0500
*                                                                  0501
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE MONITORS THE LOST RECORD COUNT, GTFLOSTR,*/
*   /* AND IF IT PASSES THE PROBLEM LEVEL THE GTFBLOK CHAIN IS       */
*   /* EXAMINED AND POSSIBLY FIXED                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0501
*/*%MA: P SET AFBLKFIX                                               */
*/* P SAVE A STABLE COPY OF NEXTBLOK FOR A POSSIBLE CS               */
*/* D (YES,,NO,XWRITEST) IS GTFLOSTR > PROBLEM LEVEL                 */
*/* D (YES,XWRITEST,NO,) STABLE NEXTBLOK-> BLOKUSE =0                */
*/* N NO REPAIRS DURING TERMINATION OR IN THE CASE OF AN ERROR       */
*/* D (YES,XWRITEST,NO,) IS WSERFLAG SET                             */
*/* D (YES,FINALTRM,NO,) IS TERMFLAG SET                             */
*/* N A PROBLEM EXISTS IN THE GTFBLOK CHAIN, A BLOKUSE WILL NOT GO TO 0
*/*                                                                  */
*                                                                  0501
*   AFBLKFIX=ON;                    /* SET THE AUDIT FLAG FOR THIS 0501
*                                      SECTION OF CODE               */
@RF00492 OI    AFBLKFIX(PCTPTR),B'00000001'                        0501
*   RFY                                                            0502
*     COMPREG RSTD;                                                0502
*   COMPREG=NEXTBLOK;               /* GET A STABLE COPY OF NEXTBLOK */
         L     COMPREG,NEXTBLOK(,PCTPTR)                           0503
*   IF GTFLOSTR>LOSTRMAX            /* CHECK TO SEE IF THE LOST    0504
*                                      EVENTS IS AT AN ABNORMAL LEVEL*/
*     THEN                                                         0504
         CLC   GTFLOSTR(4,PCTPTR),@CF02023                         0504
         BNH   @RF00504                                            0504
*     DO;                           /* IF IT IS TOO HIGH CHECK THE 0505
*                                      GTFBLOK CHAIN                 */
*       IF COMPREG->BLOKUSE=0       /* CHECK THE NEXT TO BE BUFFERED
*                                      GTFBLOK USE COUNT USING THE 0506
*                                      STABLE COPY OF NEXTBLOK TO SEE
*                                      IF IT IS PREVENTING AHLSBUF 0506
*                                      FROM EMPTYING THE GTFBLOK     */
*         THEN                                                     0506
         SLR   @10,@10                                             0506
         CH    @10,BLOKUSE(,COMPREG)                               0506
         BE    @RT00506                                            0506
*         GO TO XWRITEST;           /* IF AHLSBUF CAN EMPTY IT THEN
*                                      THE PROBLEM IS ONE OF RELATIVE
*                                      SPEED. THE GTFBLOK ARE FILLING
*                                      FASTER THAN THEY CAN BE BE  0507
*                                      EMPTIED. THE ONLY FIX IS TIME
*                                      SO IGNORE IT                  */
*       IF WSERFLAG=ON              /* IF ANY OF THE ERROR CONDITIONS
*                                      INDICATED BY THIS FLAG HAS  0508
*                                      OCCURRED THE TRACE WRITER IS
*                                      GOING THROUGH EMERGENCY     0508
*                                      TERMINATION AND THEREFORE NO
*                                      ATTEMPT WILL BE MADE TO FIX 0508
*                                      THE PROBLEM IN ORDER TO AVOID
*                                      POSSIBLE TROUBLE              */
*         THEN                                                     0508
         TM    WSERFLAG(PCTPTR),B'00000010'                        0508
         BO    @RT00508                                            0508
*         GO TO XWRITEST;                                          0509
*       IF TERMFLAG=ON              /* IF THE PROBLEM IS OCCURRING 0510
*                                      DURING NORMAL TERMINATION   0510
*                                      BYPASS FLUSHING THE DATA OUT
*                                      OF THE BUFFERS AND JUST QUIT  */
*         THEN                                                     0510
         TM    TERMFLAG(PCTPTR),B'00000100'                        0510
         BO    @RT00510                                            0510
*         GO TO FINALTRM;                                          0511
*                                                                  0512
*       /*************************************************************/
*       /*                                                           */
*       /* THIS SECTION OF CODE DECIDES IF AN ATTEMPT SHOULD BE MADE */
*       /* TO FIX THE NONZERO BLOKUSE PROBLEM                        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0512
*/* D (YES,,NO,%ZEROENT) TEST BLOKINDX FOR FULL BLOKLIST             */
*/* N (,%F) LOOKS LIKE A CHRONIC ERROR                               */
*/*%F: P SBLOKRTN=0 TO DISABLE STACK                                 */
*/* S WTO: PUT 'FAILED' INTO & WRITE OUT MSG AHL036I                 */
*/* S POST: WRTRERR ECB                                              */
*/* P (,WAIT) SET WSERFLAG & WSERFG04 TO INDICATE ERROR TERMINATION  */
*                                                                  0512
*       IF BLOKINDX=DIM(BLOKLIST)   /* CHECK TO SEE IF THIS FIX HAS
*                                      BEEN TRIED ENOUGH TIMES BEFORE*/
*         THEN                                                     0512
         CLC   BLOKINDX(4),@CF01098                                0512
         BNE   @RF00512                                            0512
*         DO;                       /* YES, IT LOOKS LIKE A CHRONIC
*                                      ERROR SO LET'S PACK IT IN AND
*                                      TERMINATE THE TRACE WRITER    */
*           SBLOKRTN=0;             /* DISABLE STACK TO STOP ENTRIES
*                                      INTO AHLSBLOK                 */
         ST    @10,SBLOKRTN(,PCTPTR)                               0514
*           M036AF='FAILED   ';     /* SET UP THE FIX FAILED MSG     */
         L     @10,@CA01951                                        0515
         MVC   M036AF-M036AF(9,@10),@CC02203                       0515
*           DO;                     /* WTOP MF(E,AHL036)             */
*             RFY                                                  0517
*               GPR01P RSTD;        /* RESTRICT REG 1                */
*             GPR01P=ADDR(AHL036);  /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01946                                     0518
*             SVC(35);              /* ISSUE WTO SVC                 */
         SVC   35                                                  0519
*             RFY                                                  0520
*               GPR01P UNRSTD;      /* RELEASE REG 1                 */
*           END;                    /* WTOP MF(E,AHL036) WRITE OUT 0521
*                                      THE MSG                       */
*           DO;                     /* POST (WRTRERR)                */
*             RESPECIFY                                            0523
*              (GPR00F,                                            0523
*               GPR01P) RESTRICTED;                                0523
*             GPR00F=0;             /* POST CODE IN R0               */
         SLR   GPR00F,GPR00F                                       0524
*             GPR01P=ADDR(WRTRERR); /* ECB ADDRESS                   */
         LA    GPR01P,WRTRERR(,PCTPTR)                             0525
*             SVC(2);               /* ISSUE POST SVC                */
         SVC   2                                                   0526
*             RESPECIFY                                            0527
*              (GPR00F,                                            0527
*               GPR01P) UNRESTRICTED;                              0527
*           END;                    /* POST (WRTRERR) POST THE TRACE
*                                      WRITER ERROR ECB TO REQUEST 0528
*                                      THE MOTHER TASK TO TERMINATE
*                                      THE TRACE WRITER. THIS MUST BE
*                                      DONE BECAUSE MC ROUTINE HAS TO
*                                      BE TERMINATED BEFORE THE TRACE
*                                      WRITER CAN SAFELY TERMINATE 0528
*                                      ITSELF                        */
*           WSERFG04=ON;            /* SET THIS TO INDICATE THAT   0529
*                                      THERE IS A CHRONIC GTFBLOK  0529
*                                      PROBLEM                       */
         OI    WSERFG04(PCTPTR),B'01000000'                        0529
*           WSERFLAG=ON;            /* SET THIS FLAG TO INDICATE THAT
*                                      THE WRITER IS TO BYPASS     0530
*                                      CERTAIN FUNCTIONS DURING THE
*                                      REST OF ITS PROCESSING        */
         OI    WSERFLAG(PCTPTR),B'00000010'                        0530
*           GO TO WAIT;             /* GO BACK TO SEMI-NORMAL      0531
*                                      PROCESSING WHILE WAITING FOR
*                                      THE MOTHER TASK TO POST THE 0531
*                                      TRMWRIT ECB                   */
         B     WAIT                                                0531
*         END;                                                     0532
*                                                                  0533
*       /*************************************************************/
*       /*                                                           */
*       /* THIS CODE PREPARES TO FIX THE NONZERO BLOKUSE PROBLEM BY  */
*       /* REPLACING THE OFFENDING GTFBLOK WITH A FRESH NEW ONE      */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0533
*/*%ZEROENT: S GETMAIN: ONE GTFBLOK FROM SQA                         */
*/* D (OK,%AA,BAD,) RC?                                              */
*/* P SBLOKRTN=0 TO DISABLE STACK                                    */
*/* P WTO: MESSAGE AHLO33I                                           */
*/* P (,WAIT) SET WSERFLAG TO INDICATE ERROR TERMINATION             */
*/*%AA: P INITIALIZE GTFBLOK FROM PROTOTYPE & ADD LOST BLOK RECORD   */
*/* P TIMESTAMP THE LOST GTFBLOK RECORD                              */
*/* P SET THE BLOKUSE TO 0                                           */
*                                                                  0533
*       RFY                                                        0533
*        (RETCODE) RSTD;                                           0533
@RF00512 DS    0H                                                  0534
*       DO;                         /* GETMAIN (EC)                0534
*                                      LV(LENGTH(GTFBLOK)) A(GETWORD)
*                                      SP(SQASP)                     */
*         RESPECIFY                                                0535
*          (GPR01P) RESTRICTED;                                    0535
*         I004=I004&&I004;          /* INIT LIST                     */
         XC    I004(10),I004                                       0536
*         I00404='20'X;             /* TYPE                          */
         MVI   I00404,X'20'                                        0537
*         I00401=LENGTH(GTFBLOK);   /* LENGTH                        */
         MVC   I00401(4),@CF02311                                  0538
*         I00403=ADDR(GETWORD);     /* ADDR OF ADDR LIST             */
         LA    @14,GETWORD                                         0539
         STCM  @14,7,I00403                                        0539
*         I00405=SQASP;             /* SUBPOOL VALUE                 */
         MVI   I00405,X'F5'                                        0540
*         GPR01P=ADDR(I004);        /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         0541
*         SVC(4);                   /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   0542
*         RESPECIFY                                                0543
*          (GPR01P) UNRESTRICTED;                                  0543
*       END;                        /* GETMAIN (EC)                0544
*                                      LV(LENGTH(GTFBLOK)) A(GETWORD)
*                                      SP(SQASP) GET SPACE FOR A NEW
*                                      GTFBLOK FROM FIXED COMMON SQA */
*       IF RETCODE^=0               /* CHECK THE RETURN CODED        */
*         THEN                                                     0545
         SLR   @14,@14                                             0545
         CR    RETCODE,@14                                         0545
         BE    @RF00545                                            0545
*         DO;                       /* IF THE GETMAIN FAILED WRITE 0546
*                                      OUT THE INSUFFICIENT SQA MSG  */
*           SBLOKRTN=0;             /* DISABLE STACK TO STOP ENTRIES
*                                      INTO AHLSBLOK                 */
         ST    @14,SBLOKRTN(,PCTPTR)                               0547
*           DO;                     /* WTOP MF(E,AHL033)             */
*             RFY                                                  0549
*               GPR01P RSTD;        /* RESTRICT REG 1                */
*             GPR01P=ADDR(AHL033);  /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01943                                     0550
*             SVC(35);              /* ISSUE WTO SVC                 */
         SVC   35                                                  0551
*             RFY                                                  0552
*               GPR01P UNRSTD;      /* RELEASE REG 1                 */
*           END;                    /* WTOP MF(E,AHL033)             */
*           DO;                     /* POST (WRTRERR)                */
*             RESPECIFY                                            0555
*              (GPR00F,                                            0555
*               GPR01P) RESTRICTED;                                0555
*             GPR00F=0;             /* POST CODE IN R0               */
         SLR   GPR00F,GPR00F                                       0556
*             GPR01P=ADDR(WRTRERR); /* ECB ADDRESS                   */
         LA    GPR01P,WRTRERR(,PCTPTR)                             0557
*             SVC(2);               /* ISSUE POST SVC                */
         SVC   2                                                   0558
*             RESPECIFY                                            0559
*              (GPR00F,                                            0559
*               GPR01P) UNRESTRICTED;                              0559
*           END;                    /* POST (WRTRERR) POST THE TRACE
*                                      WRITER ERROR ECB TO REQUEST 0560
*                                      THE MOTHER TASK TO TERMINATE
*                                      THE TRACE WRITER. THIS MUST BE
*                                      DONE BECAUSE MC ROUTINE HAS TO
*                                      BE TERMINATED BEFORE THE TRACE
*                                      WRITER CAN SAFELY TERMINATE 0560
*                                      ITSELF                        */
*           WSERFLAG=ON;            /* SET THIS FLAG TO INDICATE THAT
*                                      THE WRITER IS TO BYPASS     0561
*                                      CERTAIN FUNCTIONS DURING THE
*                                      REST OF ITS PROCESSING        */
         OI    WSERFLAG(PCTPTR),B'00000010'                        0561
*           GO TO WAIT;             /* GO BACK TO SEMI-NORMAL      0562
*                                      PROCESSING WHILE WAITING FOR
*                                      THE MOTHER TASK TO POST THE 0562
*                                      TRMWRIT ECB                   */
         B     WAIT                                                0562
*         END;                                                     0563
*       RFY                                                        0564
*         RETCODE UNRSTD;                                          0564
@RF00545 DS    0H                                                  0565
*       GETWORD->GTFBLOK(1:LENGTH(BLOKINIT))=BLOKINIT;/* INITIALIZE
*                                      THE NEW GTFBLOK               */
         L     @10,GETWORD                                         0565
         MVC   GTFBLOK(38,@10),BLOKINIT                            0565
*/*  THE TIME RECORD TOD VALUE FOR THE NEW GTFBLOK IS COPIED OVER  0566
*   FROM THE OLD GTFBLOK BEING REPLACED TO MAINTAIN CHRON ORDER. THIS
*   IS DONE LATER                                                    */
*                                                                  0566
*       RFY                                                        0566
*         CLOCKREG RSTD;                                           0566
*       CLOCKREG=ADDR(LBTIME);                                     0567
         LA    CLOCKREG,LBTIME                                     0567
*       GEN CODE(STCK  0(CLOCKREG))                                0568
*       NOEXIT SEQFLOW REFS(CLOCKREG) SETS(LBTIME) NOFLOWS NODEFS;/*
*                                      TIMESTAMP THE LOST GTFBLOK  0568
*                                      PROTOTYPE                     */
         STCK  0(CLOCKREG)
*       RFY                                                        0569
*         CLOCKREG UNRSTD;                                         0569
*       LBTZ=CVTTZ;                 /* FILL IN THE TIMEZONE ON THE 0570
*                                      LOST GTFBLOK PROTOTYPE        */
         L     @10,CVTPTR                                          0570
         MVC   LBTZ(4),CVTTZ(@10)                                  0570
*       GETWORD->BLOKLEN=GETWORD->BLOKLEN+LENGTH(LOSTBLOK);/*      0571
*                                      INCREMENT THE TOTAL LENGTH OF
*                                      RESERVED SPACE TO INCLUDE   0571
*                                      SPACE FOR THE LOST GTFBLOK  0571
*                                      RECORD                        */
         L     @10,GETWORD                                         0571
         LA    @09,18                                              0571
         AH    @09,BLOKLEN(,@10)                                   0571
         STH   @09,BLOKLEN(,@10)                                   0571
*       GETWORD->BLOKAREA(EVAL(LENGTH(RECMAP)+4+1):EVAL(LENGTH(RECMAP)+
*           4+LENGTH(LOSTBLOK)))=LOSTBLOK;/* COPY A LOST GTFBLOK   0572
*                                      RECORD INTO THE NEW GTFBLOK 0572
*                                      ___ RECMAP IS THE LENGTH OF 0572
*                                      THE TIME RECORD AND 4 IS THE
*                                      LENGTH OF THE BDW             */
         LA    @09,44                                              0572
         SL    @09,@CF02317                                        0572
         EX    @09,@SM02347                                        0572
*       GETWORD->BLOKUSE=0;         /* INDICATE THAT ALL SPACE     0573
*                                      RESERVED IN THIS GTFBLOK HAS
*                                      BEEN FILLED                   */
         SLR   @09,@09                                             0573
         STH   @09,BLOKUSE(,@10)                                   0573
*                                                                  0574
*       /*************************************************************/
*       /*                                                           */
*       /* NOW THAT A NEW GTFBLOK IS READY PREPARE TO SWAP IT FOR THE*/
*       /* BAD ONE IN THE CHAIN                                      */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0574
*/* N LOCK OUT AHLSBUF TO PREVENT NEXTBLOK FROM CHANGING             */
*/* S GETQLOCK: OBTAIN GTFBCB QUEUE LOCK                             */
*/* N DISABLE THE GTFBLOK CHAIN TO PREVENT CURRBLOK FROM CHANGING    */
*/* P CS GBCDS ON USING THE STABLE NEXTBLOK AS THE CONTROL           */
*/* D (FAIL,NOFIX,OK,) CS?                                           */
*/* D (YES,FIXIT,NO,) CURRBLOK-> BLKCHAIN= NEXTBLOK                  */
*/*NOFIX: N STATUS OF THE GTFBLOK CHAIN HAS CHANGED THEREFORE NO   0574
*/*PROBLEM                                                           */
*/* P REENABLE THE GTFBLOK CHAIN, GBCDS=OFF                          */
*/* S FREQLOCK: RELEASE THE GTFBCB QUEUE LOCK                        */
*/* S (,FIXMSG) FREEMAIN: GTFBLOK                                    */
*                                                                  0574
*       CALL GETQLOCK;              /* BY HOLDING QLOCK THE TRACE  0574
*                                      WRITER PREVENTS AHLSBUF FROM
*                                      REFERENCING OR CHANGING     0574
*                                      NEXTBLOK                      */
         BAL   @14,GETQLOCK                                        0574
*       RFY                                                        0575
*         SWAPREG RSTD;             /* ONCE NEXTBLOK IS SECURE THE 0575
*                                      FIRST BIT WHICH IS TESTED BY
*                                      AHLSFEOB CAN BE SET. THIS WILL
*                                      PREVENT AHLSFEOB FROM       0575
*                                      REFERENCING OR CHANGING     0575
*                                      CURRBLOK                      */
*       SWAPREG=COMPREG'80000000'X;/* COMPREG CONTAINS THE STABLE 0576
*                                      COPY OF NEXTBLOK USED       0576
*                                      ORIGINALLY WHEN IT WAS      0576
*                                      DETERMINED THAT THERE WAS A 0576
*                                      PROBLEM                       */
         LR    SWAPREG,COMPREG                                     0576
         O     SWAPREG,@CF02148                                    0576
*       CS(COMPREG,SWAPREG,NEXTBLOK);/* THIS CS WILL VERIFY THAT   0577
*                                      NEXTBLOK IS THE SAME AS WHEN
*                                      THE PROBLEM WAS DETECTED, AND
*                                      WILL SET GBCDS TO STOP      0577
*                                      AHLSBLOK                      */
         CS    COMPREG,@04,NEXTBLOK(PCTPTR)                        0577
*       RFY                                                        0578
*         SWAPREG UNRSTD;                                          0578
*       BC(4,NOFIX);                /* IF THE CS FAILED NEXTBLOK   0579
*                                      CHANGED MEANING THE PROBLEM 0579
*                                      WAS NOT PERMANENT THEREFORE NO
*                                      FIX IS NEEDED OTHERWISE GO  0579
*                                      AHEAD WITH THE FIX            */
         BC    4,NOFIX                                             0579
*       IF CURRBLOK->BLKCHAIN^=COMPREG/* VERIFY ALSO THAT ALL THE  0580
*                                      GTFBLOK ARE INDEED FULL. THIS
*                                      MUST BE DONE BECAUSE IT IS  0580
*                                      ASSUMED TO BE TRUE LATER WHEN
*                                      THE FIX IS BEING APPLIED      */
*         THEN                      /* IF IT IS NOT TRUE THE PROBLEM
*                                      WAS NOT PERMANENT THEREFORE NO
*                                      FIX IS NEEDED                 */
         L     @01,CURRBLOK(,PCTPTR)                               0580
         C     COMPREG,BLKCHAIN(,@01)                              0580
         BE    @RF00580                                            0580
*NOFIX:                                                            0581
*         DO;                       /* ABORT THE FIX                 */
NOFIX    DS    0H                                                  0582
*           GBCDS=OFF;              /* LET AHLSBLOK RUN AGAIN        */
         NI    GBCDS(PCTPTR),B'01111111'                           0582
*           CALL FREQLOCK;          /* RELEASE THE QLOCK AND LET   0583
*                                      AHLSBUF RUN                   */
         BAL   @14,FREQLOCK                                        0583
*           DO;                     /* FREEMAIN(R) LV(LENGTH(GTFBLOK)
*                                      )SP(SQASP)A(GETWORD->GTFBLOK) */
*             RESPECIFY                                            0585
*              (GPR01F,                                            0585
*               GPR00F) RESTRICTED;                                0585
*             GPR00F=LENGTH(GTFBLOK);/* LENGTH REQUESTED             */
         L     GPR00F,@CF02311                                     0586
*             GPR01F=SQASP;         /* SP IN REG 1                   */
         LA    GPR01F,245                                          0587
*             GEN(SLL   GPR01F,24)                                 0588
*             NODEFS NOREFS NOSETS NOEXIT NOFLOWS SEQFLOW;         0588
         SLL   GPR01F,24
*             GPR00F=GPR00FGPR01F; /* SP IN HI BYTE                 */
         OR    GPR00F,GPR01F                                       0589
*             GPR01F=ADDR(GETWORD->GTFBLOK);/* SET REGISTER ONE      */
         L     GPR01F,GETWORD                                      0590
*             SVC(10);              /* R-FORM OF GETMAIN             */
         SVC   10                                                  0591
*             RESPECIFY                                            0592
*              (GPR01F,                                            0592
*               GPR00F) UNRESTRICTED;                              0592
*           END;                    /* FREEMAIN(R) LV(LENGTH(GTFBLOK)
*                                      )SP(SQASP)A(GETWORD->GTFBLOK) */
*/* FREE THE NEW GTFBLOK                                             */
*                                                                  0594
*           GO TO FIXMSG;           /* GO WRITE OUT THE FIX ATTEMPTED
*                                      MSG                           */
         B     FIXMSG                                              0594
*         END;                                                     0595
*                                                                  0596
*       /*************************************************************/
*       /*                                                           */
*       /* NOW THAT ALL IS READY SWAP THE NEW GTFBLOK FOR THE BAD ONE*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0596
*/*FIXIT: P PUT PTR TO NEW GTFBLOK IN CURRBLOK-> BLKCHAIN            */
*/* P PUT NEXTBLOK-> BLKCHAIN INTO NEW GTFBLOK BLKCHAIN              */
*/* P PUT OLD GTFBLOK TOD VALUE INTO NEW GTFBLOK                     */
*/* P PUT PTR TO NEW GTFBLOK IN NEXTBLOK & REENABLE CHAIN            */
*/* S FREQLOCK: RELEASE THE GTFBCB QUEUE LOCK                        */
*/* P INCR BLOKINDX AND SAVE ADDR OF NEW GTFBLOK IN BLOKLIST         */
*/*FIXMSG: S WTO: PUT 'ATTEMPTED' INTO & WRITE MSG AHL036I           */
*/* P CLEAR AFBLKFIX                                                 */
*                                                                  0596
*FIXIT:                                                            0596
*       CURRBLOK->BLKCHAIN=ADDR(GETWORD->GTFBLOK);/* REPLACE THE BAD
*                                      GTFBLOK WITH THE NEW ONE IN 0596
*                                      THE CHAIN                     */
@RF00580 DS    0H                                                  0596
FIXIT    L     @10,GETWORD                                         0596
         L     @01,CURRBLOK(,PCTPTR)                               0596
         ST    @10,BLKCHAIN(,@01)                                  0596
*       GETWORD->RECTOD=COMPREG->RECTOD;/* COPY TS FROM THE OLD    0597
*                                      GTFBLOK INTO THE NEW GTFBLOK  */
         MVC   RECTOD(8,@10),RECTOD(COMPREG)                       0597
*       GETWORD->BLKCHAIN=COMPREG->BLKCHAIN;                       0598
         L     @09,BLKCHAIN(,COMPREG)                              0598
         ST    @09,BLKCHAIN(,@10)                                  0598
*       NEXTBLOK=ADDR(GETWORD->GTFBLOK);/* THIS FINISHES THE       0599
*                                      REPLACEMENT AND ALSO TURNS OFF
*                                      GBCDS (FIRST BIT OF NEXTBLOK) */
         ST    @10,NEXTBLOK(,PCTPTR)                               0599
*       CALL FREQLOCK;              /* THE FIX IS DONE SO LET AHLSBUF
*                                      START EMPTYING THE GTFBLOK  0600
*                                      AGAIN                         */
         BAL   @14,FREQLOCK                                        0600
*       BLOKINDX=BLOKINDX+1;        /* ENTER THE ADDRESS OF THE NEW
*                                      GTFBLOK INTO THE LIST         */
         LA    @10,1                                               0601
         AL    @10,BLOKINDX                                        0601
         ST    @10,BLOKINDX                                        0601
*       BLOKLIST(BLOKINDX)=ADDR(GETWORD->GTFBLOK);                 0602
         SLA   @10,2                                               0602
         L     @09,GETWORD                                         0602
         ST    @09,BLOKLIST-4(@10)                                 0602
*       RFY                                                        0603
*        (COMPREG) UNRSTD;                                         0603
*FIXMSG:                                                           0604
*       M036AF='ATTEMPTED';         /* SET UP THE FIX ATTEMPTED MSG  */
FIXMSG   L     @10,@CA01951                                        0604
         MVC   M036AF-M036AF(9,@10),@CC02212                       0604
*       DO;                         /* WTOP MF(E,AHL036)             */
*         RFY                                                      0606
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL036);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01946                                     0607
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  0608
*         RFY                                                      0609
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL036) WRITE THE 0610
*                                      MSG
*     END;                                                         0611
*   AFBLKFIX=OFF;                   /* TURN OFF THE AUDIT FLAG FOR 0612
*                                      THIS SECTION OF CODE          */
@RF00504 NI    AFBLKFIX(PCTPTR),B'11111110'                        0612
*                                                                  0613
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE TESTS TO SEE IF THE TRACE WRITER HAS MET */
*   /* THE CRITERION FOR TERMINATION AND IF NOT IT BRANCHES BACK TO  */
*   /* THE WAIT TO CONTINUE PROCESSING IF IT HAS PREVIOUSLY BEEN MET */
*   /* IT GOES ON WITH TERMINATION, AND IF IT HAS JUST NOW BEEN MET  */
*   /* (TRMWRIT POSTED) IT INITIALIZES TERMINATION                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0613
*/*XWRITEST: D (YES,,NO,TFTEST) AHLRDPLQ^=0                          */
*/* P AFXWRIT=ON                                                     */
*/* S AHLXWRIT: FILL ONE REQUEST FOR TRACE DATA                      */
*/* P (,NOWAIT) AFXWRIT=OFF                                          */
*/*TFTEST: D (YES,,NO,%TRM1) IS TERMFLAG SET                         */
*/* P (INT,FINALTRM,EXT,%TRM2)                                       */
*/*%TRM1: D (NO,WAIT,YES,) IS TRMWRIT ECB POSTED                     */
*/* P ZERO SBLOKRTN FIELD TO DISABLE STACK                           */
*/* P (INT,FINALTRM,EXT,) SET TERMFLAG                               */
*                                                                  0613
*XWRITEST:                                                         0613
*   IF AHLRDPLQ^=0                  /* ARE THERE REQUESTS FOR TRACE
*                                      DATA TO BE TRANSFERED TO    0613
*                                      ANOTHER PROGRAM               */
*     THEN                                                         0613
XWRITEST L     @10,AHLRDPLQ(,PCTPTR)                               0613
         LTR   @10,@10                                             0613
         BZ    @RF00613                                            0613
*     DO;                           /* YES                           */
*       CALL AHLXWRIT;              /* FILL ONE REQUEST              */
         BAL   @14,AHLXWRIT                                        0615
*       GO TO NOWAIT;               /* BEFORE FILLING ANY MORE     0616
*                                      REQUESTS BE SURE THAT OTHER 0616
*                                      MORE IMPORTANT WORK ISN'T   0616
*                                      WAITING TO BE DONE            */
         B     NOWAIT                                              0616
*     END;                                                         0617
*TFTEST:                                                           0618
*   IF TERMFLAG^=ON                 /* CHECK TO SEE IF THE FIRST   0618
*                                      REQUIREMENT FOR TERMINATION 0618
*                                      (POSTING OF THE TRMWRIT ECB)
*                                      HAS PREVIOUSLY BEEN MET       */
*     THEN                                                         0618
@RF00613 DS    0H                                                  0618
TFTEST   TM    TERMFLAG(PCTPTR),B'00000100'                        0618
         BO    @RF00618                                            0618
*     IF TRMWRITP^=ON               /* IF NOT CHECK TO SEE IF IT IS
*                                      MET NOW, THAT IS CHECK TO SEE
*                                      IF THE TRMWRIT ECB HAS BEEN 0619
*                                      POSTED                        */
*       THEN                                                       0619
         TM    TRMWRITP(PCTPTR),B'01000000'                        0619
         BNO   @RT00619                                            0619
*       GO TO WAIT;                 /* IF NOT GO BACK AND CONTINUE 0620
*                                      PROCESSING                    */
*     ELSE                                                         0621
*       DO;                                                        0621
*         SBLOKRTN=0;               /* THIS DISABLES THE STACK MACRO
*                                      SO THAT NOMORE NEW DATA CAN BE
*                                      ENTERED INTO THE SYSTEM       */
         SLR   @10,@10                                             0622
         ST    @10,SBLOKRTN(,PCTPTR)                               0622
*         TERMFLAG=ON;              /* IF IT HAS BEEN POSTED THEN SET
*                                      THE FLAG TO INDICATE IT TO  0623
*                                      LATER PROCESSING
         OI    TERMFLAG(PCTPTR),B'00000100'                        0623
*       END;                                                       0624
*                                                                  0625
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE GETS CONTROL AFTER ALL THE DATA HAS BEEN */
*   /* FLUSHED OUT OR IT HAS BEEN DECIDED NOT TO FLUSH OUT ANYMORE   */
*   /* DATA. IT DOES THE LAST THINGS NEEDED TO TERMINATE THE TRACE   */
*   /* WRITER                                                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0625
*/*FINALTRM: D (YES,XWRITEST,NO,) AHLRDPLQ^=0                        */
*/* P SET AFTERM                                                     */
*/*%OLOOP: P PUT 0 IN GTFSSRB                                        */
*/* S PURGDQ: SRB USED TO SCHEDULE AHLSBUF                           */
*/*CLEANUP: S (EXT,,INT,%FE) SQAPGFRE: FREE ALL SQA & PGFREE ALL FIXED
*/*A.S.                                                              */
*/* D (YES,,NO,%FE) IS THE DCB OPEN                                  */
*/* P (TAPE,%TC,D.A.,)                                               */
*                                                                  0625
*FINALTRM:                                                         0625
*   IF AHLRDPLQ^=0                  /* ARE THERE ANY REQUESTS THAT 0625
*                                      WERE MISSED                   */
*     THEN                                                         0625
@RF00618 DS    0H                                                  0625
FINALTRM SLR   @10,@10                                             0625
         C     @10,AHLRDPLQ(,PCTPTR)                               0625
         BNE   @RT00625                                            0625
*     GO TO XWRITEST;               /* YES                           */
*   AFTERM=ON;                                                     0627
         OI    AFTERM(PCTPTR),B'00001000'                          0627
*   GTFSSRB=0;                      /* PREVENT FURTHER SCHEDULING OF
*                                      AHLSBUF                       */
         ST    @10,GTFSSRB(,PCTPTR)                                0628
*   SRBPTR=SRBPTR&'7FFFFFFF'X;      /* PURGE THE SRB FOR AHLSBUF OFF
*                                      OF ANY DISPATCHER QUEUES IT 0629
*                                      MAY BE ON                     */
         L     @10,SRBPTR                                          0629
         N     @10,@CF02220                                        0629
         ST    @10,SRBPTR                                          0629
*   PDQASID=SRBPASID;                                              0630
         LH    @09,SRBPASID(,@10)                                  0630
         STH   @09,PDQASID                                         0630
*   PDQTCB=SRBPTCB;                 /* THIS IS DONE SO THAT THE SQA
*                                      FOR THE SRB CAN BE FREED      */
         L     @09,SRBPTCB(,@10)                                   0631
         ST    @09,PDQTCB                                          0631
*   PDQRMTR=SRBRMTR;                                               0632
         L     @10,SRBRMTR(,@10)                                   0632
         ST    @10,PDQRMTR                                         0632
*   GEN CODE REFS(PDQASTCB,PDQRMTR) NODEFS NOFLOWS SEQFLOW NOEXIT  0633
*       NOSETS(PURGEDQ ASIDTCB=PDQASTCB,RMTR=PDQRMTR);             0633
         PURGEDQ ASIDTCB=PDQASTCB,RMTR=PDQRMTR
*CLEANUP:                                                          0634
*   CALL SQAPGFRE;                                                 0634
*                                                                  0634
CLEANUP  BAL   @14,SQAPGFRE                                        0634
*   /*****************************************************************/
*   /*                                                               */
*   /* CANCEL THE ESTAE                                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0635
*/*%FE: S ESTAE: CANCEL                                              */
*/* S MODESET: PROB PROG STATE                                       */
*/* R RETURN                                                         */
*/*AHLWRIT: END                                                      */
*                                                                  0635
*   GEN CODE(ESTAE 0)                                              0635
*   NOREFS NODEFS NOEXIT NOSETS NOFLOWS SEQFLOW;                   0635
         ESTAE 0
*   DO;                             /* MODESET MODE(PROB)            */
*     I10701='00000000'B;           /* OR MASK                       */
         MVI   I10701,B'00000000'                                  0637
*     I10702='00000000'B;           /* AND MASK                      */
         MVI   I10702,B'00000000'                                  0638
*     I10703='00000000'B;           /* RESERVED                      */
         MVI   I10703,B'00000000'                                  0639
*     I10704='00000100'B;                                          0640
         MVI   I10704,B'00000100'                                  0640
*     RESPECIFY                                                    0641
*       GPR01F RESTRICTED;                                         0641
*     GPR01F=I107;                  /* MODESET PARMLIST              */
         L     GPR01F,I107                                         0642
*     SVC(107);                     /* ISSUE MODESET SVC             */
         SVC   107                                                 0643
*     RESPECIFY                                                    0644
*      (GPR01F) UNRESTRICTED;                                      0644
*   END;                            /* MODESET MODE(PROB) RETURN TO
*                                      PROB STATE BEFORE TERMINATING */
*   RETURN;                                                        0646
         B     @EL00001                                            0646
*                                                                  0647
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS CODE IS THE ESTAE ROUTINE FOR THIS TRACE WRITER. ITS     */
*   /* PURPOSE IS NOT ERROR RECOVERY, BUT INSTEAD TO PUT OUT PROBLEM */
*   /* DETERMINATION INFORMATION AND THEN TO END GRACEFULLY          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0647
*/*ESTAE: CHART (AMODE,SEQ)                                          */
*/*ESTAE: HEADER                                                   0647
*/*  ERROR RECOVERY, ESTAE ENTRY POINT FOR THE TRACE WRITER        0647
*/*                                                      PAGE   #    */
*/*AHLWSTAE: E R2->SDWA                                              */
*/* P SAVE GPRS IN INTERNAL SAVEAREA & REESTABLISH ADDRESSABILITY    */
*/* P PCTPTR=EPCTPTR REFRESH GTFPCT PTR, SAVE RET ADDR & SDWA PTR    */
*/* P SET WSERFLAG & WSERFG05                                        */
*/* P DISABLE AHLSBLOK & AHLSBUF                                     */
*/* P GTFSSRB=0 SBLOKRTN=0                                           */
*/* S SDUMP: DUMP SQA, NUCLEUS, & SDUMPLIST                          */
*/* D (YES,,NO,%A) IS AN SDWA PRESENT                                */
*/* D (YES,,NO,%B) ACR TYPE RETRY POSSIBLE                           */
*/* P WSERFG05=OFF WSERFG06=ON                                       */
*/* P ENABLE AHLSBLOK                                                */
*/* S SETRP: RETRY AT POINT OF INTERRUPT                             */
*/* R BR 14                                                          */
*/*%B: N DISABLE AHLSBUF & STACK                                     */
*/* S SETRP: RETRY AT RETRYPT3                                       */
*/*RETRYPT3: S ESTAE: 0                                              */
*/* S POST: WRTRERR ECB                                              */
*/* S WTO: MESSAGE AHL034I                                           */
*/* S (INT,%G,EXT,) SQAPGFRE: ATTEMPT TO FREEMAIN SQA & UNFIX PAGES  */
*/* D (NO,%G,YES,) DCBOFLGS SHOW DCB OPEN                            */
*/* S CLOSE: TRACE DATASET DCB                                       */
*/*%G: R RETURN                                                      */
*/*%A: P SET A RETURN CODE TO PERCOLATE                              */
*/* R BR 14                                                          */
*/*ESTAE: END                                                        */
*                                                                  0647
*   RFY                                                            0647
*     R15 RSTD;                                                    0647
*AHLWSTAE:                                                         0648
*   ;                                                              0648
AHLWSTAE DS    0H                                                  0649
*   GEN CODE SETS(ESSA) REFS(ESTAESTM,BASES,ESSA,@PSTART);         0649
    USING AHLWSTAE,@15
    B ESTAESTM
ESSA DC 16F'0'
BASES DC A(@PSTART)
    DC A(@PSTART+4095)
ESTAESTM STM @00,@15,ESSA
    LM @11,@12,BASES
    DROP @15
*   RFY                                                            0650
*    (SDWAPTR,                                                     0650
*     R14,                                                         0650
*     SDWAHERE) RSTD;                                              0650
*   SDWAPTR=PARAMETR;               /* SAVE SDWA ADDR                */
         LR    SDWAPTR,PARAMETR                                    0651
*   PCTPTR=EPCTPTR;                 /* REFRESH THE GTFPCT ADDRESS    */
         L     PCTPTR,EPCTPTR                                      0652
*   WSERFLAG=ON;                    /* INDICATE ERROR TERMINATION    */
         OI    WSERFLAG(PCTPTR),B'00000010'                        0653
*   WSERFG05=ON;                    /* INDICATE ENTRY TO THIS ROUTINE
*                                      ON AN ERROR                   */
         OI    WSERFG05(PCTPTR),B'00100000'                        0654
*   SBLOKRTN=0;                     /* DISABLE AHLSTACK              */
         SLR   @10,@10                                             0655
         ST    @10,SBLOKRTN(,PCTPTR)                               0655
*   GTFSSRB=0;                      /* DISABLE AHLSBUF               */
         ST    @10,GTFSSRB(,PCTPTR)                                0656
*   GEN CODE REFS(SDUMPMAC) NOEXIT NODEFS SEQFLOW NOFLOWS NOSETS;  0657
    SDUMP MF=(E,SDUMPMAC)                      DUMP CORE     @ZA30540
*   GEN(L SDWAHERE,ESSA);           /* RESTORE REG0 FROM S/A @ZA27503*/
         L SDWAHERE,ESSA
*   IF SDWAHERE^=PRESENT            /* R0 ^= 12 MEANS R1 IS SDWA PTR
*                                                            @ZA27503*/
*     THEN                          /* IF THERE IS ONE               */
         C     SDWAHERE,@CF01848                                   0659
         BE    @RF00659                                            0659
*     DO;                           /*                       @ZM02376*/
*       DO;                         /* SETRP RECPARM(RECID)RETADDR(RE
*                                      TRYPT3)RECORD(YES)RC(SDWARETY)
*                                      WKAREA(SDWAPTR)FRESDWA(YES)   */
*         RESPECIFY                                                0662
*          (GPR00P,                                                0662
*           GPR01P,                                                0662
*           GPR14P,                                                0662
*           GPR15P) RSTD;                                          0662
*         GPR01P=SDWAPTR;                                          0663
         LR    GPR01P,SDWAPTR                                      0663
*         GPR01P->SDWARCDE=SDWARETY;/* STORE RC INTO SDWA            */
         MVI   SDWARCDE(GPR01P),X'04'                              0664
*         GPR01P->SDWARTYA=ADDR(RETRYPT3);/* SAVE RETRY ADDRESS      */
         LA    @10,RETRYPT3                                        0665
         ST    @10,SDWARTYA(,GPR01P)                               0665
*         GPR01P->SDWAFREE='1'B;    /* SET FLAG TO FREE SDWA         */
*         GPR01P->SDWARCRD='1'B;    /* TURN ON RECORD INDICATOR      */
         OI    SDWAFREE(GPR01P),B'10000100'                        0667
*         GPR15P=ADDR(RECID);       /* ACCESS RECORD PARAMETER LIST  */
         LA    GPR15P,@CC02025                                     0668
*         GPR01P->SDWARECP=GPR15P->I256C(1:24);/* COPY RECORD      0669
*                                      PARAMETERS                    */
         MVC   SDWARECP(24,GPR01P),I256C(GPR15P)                   0669
*         RESPECIFY                                                0670
*          (GPR00P,                                                0670
*           GPR01P,                                                0670
*           GPR14P,                                                0670
*           GPR15P) UNRSTD;                                        0670
*       END;                        /*                       @ZA27502*/
*       GEN CODE EXIT REFS(ESSA);                                  0672
*                             /* RETURN TO RTM FOR THE RETRY */
    LM @00,@15,ESSA
    BR @14
*RETRYPT3:                                                         0673
*       GEN CODE(ESTAE  0);         /* AFTER THE RETRY CANCEL THIS 0673
*                                      ESTAE TO PREVENT THIS CODE  0673
*                                      FROM RECURSING                */
RETRYPT3 ESTAE  0
*       DO;                         /* POST (WRTRERR)                */
*         RESPECIFY                                                0675
*          (GPR00F,                                                0675
*           GPR01P) RESTRICTED;                                    0675
*         GPR00F=0;                 /* POST CODE IN R0               */
         SLR   GPR00F,GPR00F                                       0676
*         GPR01P=ADDR(WRTRERR);     /* ECB ADDRESS                   */
         LA    GPR01P,WRTRERR(,PCTPTR)                             0677
*         SVC(2);                   /* ISSUE POST SVC                */
         SVC   2                                                   0678
*         RESPECIFY                                                0679
*          (GPR00F,                                                0679
*           GPR01P) UNRESTRICTED;                                  0679
*       END;                        /* POST (WRTRERR)                */
*       DO;                         /* WTOP MF(E,AHL034)             */
*         RFY                                                      0682
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL034);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01944                                     0683
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  0684
*         RFY                                                      0685
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL034)             */
*       TRMWRIT=TRMWRIT&'7FFFFFFF'X;/* TURN OFF THE WAIT BIT @YM01896*/
         L     @10,TRMWRIT(,PCTPTR)                                0687
         N     @10,@CF02220                                        0687
         ST    @10,TRMWRIT(,PCTPTR)                                0687
*       DO;                         /* WAIT ECB(TRMWRIT)             */
*         RESPECIFY                                                0689
*          (GPR00P,                                                0689
*           GPR01P) RESTRICTED;                                    0689
*         GPR00P=1;                 /* LOAD WAIT COUNT               */
         LA    GPR00P,1                                            0690
*         GPR01P=ADDR(TRMWRIT);     /* ADDRESS OF ECB                */
         LA    GPR01P,TRMWRIT(,PCTPTR)                             0691
*         SVC(1);                   /* WAIT SVC                      */
         SVC   1                                                   0692
*         RESPECIFY                                                0693
*          (GPR00P,                                                0693
*           GPR01P) UNRESTRICTED;                                  0693
*       END;                        /* WAIT ECB(TRMWRIT) WAIT FOR GTF
*                                      TO CEASE FGBR ACTIVITY      0694
*                                                            @YM01896*/
*       CALL CHKSRB;                /* SHOULD SRB BE SCHEDULED?    0695
*                                                            @ZA27832*/
         BAL   @14,CHKSRB                                          0695
*       CALL SQAPGFRE;                                             0696
         BAL   @14,SQAPGFRE                                        0696
*       RETURN;                                                    0697
         B     @EL00001                                            0697
*     END;                                                         0698
*   ELSE                                                           0699
*     DO;                           /*                       @ZM02376*/
@RF00659 DS    0H                                                  0700
*       CALL CHKSRB;                /* SHOULD SRB BE SCHEDULED?    0700
*                                                            @ZA27832*/
         BAL   @14,CHKSRB                                          0700
*       RFY                                                        0701
*         RETCODE RSTD;                                            0701
*       RETCODE=SDWACWT;            /* IF THERE IS NO SDWA JUST    0702
*                                      PERCOLATE                     */
         SLR   RETCODE,RETCODE                                     0702
*       GEN CODE EXIT REFS(R14)(BR @14);/* RETURN                    */
         BR @14
*       RFY                                                        0704
*        (RETCODE,                                                 0704
*         SDWAPTR,                                                 0704
*         R14,                                                     0704
*         R15) UNRSTD;                                             0704
*     END;                          /*                       @ZM02376*/
*CHKSRB:                            /*                       @ZA27832*/
*   PROC OPTIONS(NOSAVE);           /* SEE IF AHLREADR SHOULD GO   0706
*                                                            @ZA27832*/
         B     @PB00002                                            0706
CHKSRB   DS    0H                                                  0707
*   GEN(STM 0,15,CHKSAV);           /* SAVE REGS ON ENTRY    @ZA27832*/
         STM 0,15,CHKSAV
*   IF CURRSRB^=0 THEN              /* IF THE SRB FOR AHLREADR     0708
*                                                            @ZA27832*/
         L     @10,CURRSRB                                         0708
         LTR   @10,@10                                             0708
         BZ    @RF00708                                            0708
*     DO;                           /* NEEDS TO BE SCHEDULED @ZA27832*/
*       RFY                                                        0710
*         AHLRDPTR RSTD;            /* KEEP FROM COMPILER    @ZA27832*/
*       AHLRDPTR=CURRSRB;           /* CURRENT SERVICE LIST  @ZA27832*/
         LR    AHLRDPTR,@10                                        0711
*       AHLRDPX2=NOTDONE;           /* LET SVCDUMP CONTINUE  @ZA27832*/
         MVC   AHLRDPX2(4,AHLRDPTR),@CF02003                       0712
*       AHLRDPTR=AHLRDSRB;          /* GET THE SRB           @ZA27832*/
         L     AHLRDPTR,AHLRDSRB(,AHLRDPTR)                        0713
*       GEN CODE NOEXIT NODEFS NOSETS SEQFLOW NOFLOWS/*      @ZA27832*/
*           REFS(AHLRDPL,AHLRDPTR,CVTPTR,CVTLSMQ,SRBFLNK,SRBSECT,CVTMAP
*           )                       /*                       @ZA27832*/
*           (SCHEDULE SRB=(AHLRDPTR),SCOPE=LOCAL);/*         @ZA27832*/
         SCHEDULE SRB=(AHLRDPTR),SCOPE=LOCAL
*       CURRSRB=0;                  /* REMOVE SERVICE INDICATOR    0715
*                                                            @ZA27832*/
         SLR   @10,@10                                             0715
         ST    @10,CURRSRB                                         0715
*       RFY                                                        0716
*         AHLRDPTR UNRSTD;          /* GIVE IT TO COMPILER   @ZA27832*/
*     END;                          /* IF CURRSRB            @ZA27832*/
*   GEN;                                                           0718
@RF00708 DS    0H                                                  0718
*                              /* SET UP RETURN TO CALL      @ZA27832*/
         LM   0,15,CHKSAV         RESTORE THE REGS           @ZA27832
         BR   14                  RETURN TO CALL             @ZA27832
CHKSAV   DS   16F                 SAVE AREA FOR PROC         @ZA27832
*   END CHKSRB;                     /* END OF PROC           @ZA27832*/
@EL00002 DS    0H                                                  0719
@EF00002 DS    0H                                                  0719
@ER00002 BR    @14                                                 0719
*                                                                  0720
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS INTERNAL SUBROUTINE TO GETS GTFBCB AND GTFBUFR AND QUEUES*/
*   /* THEM UP IN A STRING READY TO BE PUT ONTO THE EMPTY QUEUE      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0720
*/*WIS: CHART (AMODE,SEQ)                                            */
*/* HEADER                                                         0720
*/*INTERNAL SUBROUTINES USED BY THE TRACE WRITER                   0720
*/*                                                      PAGE   #    */
*/*EBUFGET: E GET A STRING OF GTFBCB & GTFBUFR                       */
*/* N NOSAVEAREA                                                     */
*/* P SET AFBUFGET                                                   */
*/* D (YES,,NO,%EB1) MAX GTFBCB GOTTEN OR EBUFNOGO ON                */
*/* P GQHEAD=0 EBUFNOGO=ON                                           */
*/* R GQHEAD                                                         */
*/*%EB1: S GETMAIN: PAGE OF SP=5 FOR GTFBCB                          */
*/* D (OK,%EB2,BAD,) RC?                                             */
*/* S WTO: MESSAGE AHL032I                                           */
*/* P GQHEAD=0 EBUFNOGO=ON                                           */
*/* R GQHEAD                                                         */
*/*%EB2: P DIAGNOSTIC: ENTER THE PAGE OF GTFBCB INTO SDUMPLST        */
*                                                                  0720
*EBUFGET:                                                          0720
*   PROC OPTIONS(NOSAVEAREA);                                      0720
EBUFGET  STM   @14,@12,12(@13)                                     0720
*   AFBUFGET=ON;                                                   0721
         OI    AFBUFGET(PCTPTR),B'01000000'                        0721
*   IF BCBPAGEI=DIM(BCBPAGE)EBUFNOGO=ON THEN                      0722
         CLC   BCBPAGEI(4),@CF00047                                0722
         BE    @RT00722                                            0722
         TM    EBUFNOGO,B'10000000'                                0722
         BNO   @RF00722                                            0722
@RT00722 DS    0H                                                  0723
*     DO;                                                          0723
*       GQHEAD=0;                                                  0724
         SLR   @10,@10                                             0724
         ST    @10,GQHEAD                                          0724
*       EBUFNOGO=ON;                                               0725
         OI    EBUFNOGO,B'10000000'                                0725
*       RETURN;                                                    0726
@EL00003 DS    0H                                                  0726
@EF00003 DS    0H                                                  0726
@ER00003 LM    @14,@12,12(@13)                                     0726
         BR    @14                                                 0726
*     END;                                                         0727
*   RFY                                                            0728
*    (RETCODE) RSTD;                                               0728
@RF00722 DS    0H                                                  0729
*   DO;                             /* GETMAIN (EC) BNDRY LV(PGBYTES)
*                                      A(GETWORD) SP(GTFBCBSP)       */
*     RESPECIFY                                                    0730
*      (GPR01P) RESTRICTED;                                        0730
*     I004=I004&&I004;              /* INIT LIST                     */
         XC    I004(10),I004                                       0731
*     I00404='30'X;                 /* TYPE                          */
         MVI   I00404,X'30'                                        0732
*     I00401=PGBYTES;               /* LENGTH                        */
         MVC   I00401(4),@CF01818                                  0733
*     I00403=ADDR(GETWORD);         /* ADDR OF ADDR LIST             */
         LA    @14,GETWORD                                         0734
         STCM  @14,7,I00403                                        0734
*     I00405=GTFBCBSP;              /* SUBPOOL VALUE                 */
         MVI   I00405,X'05'                                        0735
*     GPR01P=ADDR(I004);            /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         0736
*     SVC(4);                       /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   0737
*     RESPECIFY                                                    0738
*      (GPR01P) UNRESTRICTED;                                      0738
*   END;                            /* GETMAIN (EC) BNDRY LV(PGBYTES)
*                                      A(GETWORD) SP(GTFBCBSP)       */
*   IF RETCODE^=0 THEN                                             0740
         LTR   RETCODE,RETCODE                                     0740
         BZ    @RF00740                                            0740
*     DO;                                                          0741
*       DO;                         /* WTOP MF(E,AHL032)             */
*         RFY                                                      0743
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL032);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01942                                     0744
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  0745
*         RFY                                                      0746
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL032)             */
*       GQHEAD=0;                                                  0748
         SLR   @14,@14                                             0748
         ST    @14,GQHEAD                                          0748
*       EBUFNOGO=ON;                                               0749
         OI    EBUFNOGO,B'10000000'                                0749
*       RETURN;                                                    0750
         B     @EL00003                                            0750
*     END;                                                         0751
*   SDENTRY=SDENTRY+1;                                             0752
@RF00740 LA    @14,1                                               0752
         AL    @14,SDENTRY                                         0752
         ST    @14,SDENTRY                                         0752
*   SDBEGAD(SDENTRY)=GETWORD;                                      0753
         L     @10,GETWORD                                         0753
         SLA   @14,3                                               0753
         ST    @10,SDBEGAD-8(@14)                                  0753
*   SDENDAD(SDENTRY)=GETWORD+PGBYTES;                              0754
         L     @09,@CF01818                                        0754
         ALR   @09,@10                                             0754
         ST    @09,SDENDAD-8(@14)                                  0754
*   SDENDBIT(SDENTRY)=ON;                                          0755
         LA    @09,SDENDBIT-8(@14)                                 0755
         OI    0(@09),B'10000000'                                  0755
*   SDENDBIT(SDENTRY-1)=OFF;                                       0756
         LA    @09,SDENDBIT-16(@14)                                0756
         NI    0(@09),B'01111111'                                  0756
*                                                                  0757
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS LOOP INITIALIZES THE PAGE OF GTFBCB AND GETS THE GTFBUFR */
*   /* FOR EACH                                                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0757
*/* P PUT PTR TO FIRST SP=5 BYTE INTO GQHEAD & GQTAIL                */
*/*BCBINIT: P INITIALIZE GQTAIL-> GTFBCB                             */
*/* S GETMAIN: GET ONE PAGE SP=6 FOR GTFBUFR                         */
*/* D (OK,%P,BAD,) RC?                                               */
*/* P EBUFNOGO=ON GQHEAD=0                                           */
*/* R GQHEAD                                                         */
*/*%P: P PUT PTR TO GTFBUFR INTO GTFBCB                              */
*/* D (NO,,YES,%QEND) HAS THE PAGE OF SP=5 BEEN USED UP              */
*/* P PUT ADDRESS OF NEXT GTFBCB INTO EQCHAIN                        */
*/* P (,BCBINIT) INCREMENT GQTAIL BY THE LENGTH OF A GTFBCB          */
*/*%QEND: P PUT 0 IN EQCHAIN FIELD OF LAST GTFBCB                    */
*                                                                  0757
*   GQHEAD=GETWORD;                                                0757
         ST    @10,GQHEAD                                          0757
*   GQTAIL=GETWORD;                                                0758
         ST    @10,GQTAIL                                          0758
*BCBINIT:                                                          0759
*   GQTAIL->GTFBCB=BCBPROTO;                                       0759
BCBINIT  L     @14,GQTAIL                                          0759
         MVC   GTFBCB(24,@14),BCBPROTO                             0759
*   DO;                             /* GETMAIN (EC) BNDRY          0760
*                                      LV(LENGTH(GTFBUFR)) A(GETWORD)
*                                      SP(GTFBUFSP)                  */
*     RESPECIFY                                                    0761
*      (GPR01P) RESTRICTED;                                        0761
*     I004=I004&&I004;              /* INIT LIST                     */
         XC    I004(10),I004                                       0762
*     I00404='30'X;                 /* TYPE                          */
         MVI   I00404,X'30'                                        0763
*     I00401=LENGTH(GTFBUFR);       /* LENGTH                        */
         MVC   I00401(4),@CF01818                                  0764
*     I00403=ADDR(GETWORD);         /* ADDR OF ADDR LIST             */
         LA    @14,GETWORD                                         0765
         STCM  @14,7,I00403                                        0765
*     I00405=GTFBUFSP;              /* SUBPOOL VALUE                 */
         MVI   I00405,X'06'                                        0766
*     GPR01P=ADDR(I004);            /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         0767
*     SVC(4);                       /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   0768
*     RESPECIFY                                                    0769
*      (GPR01P) UNRESTRICTED;                                      0769
*   END;                            /* GETMAIN (EC) BNDRY          0770
*                                      LV(LENGTH(GTFBUFR)) A(GETWORD)
*                                      SP(GTFBUFSP)                  */
*   IF RETCODE^=0 THEN                                             0771
         SLR   @14,@14                                             0771
         CR    RETCODE,@14                                         0771
         BE    @RF00771                                            0771
*     DO;                                                          0772
*       GQHEAD=0;                                                  0773
         ST    @14,GQHEAD                                          0773
*       EBUFNOGO=ON;                                               0774
         OI    EBUFNOGO,B'10000000'                                0774
*       RETURN;                                                    0775
         B     @EL00003                                            0775
*     END;                                                         0776
*   GQTAIL->GBUFRPTR=GETWORD;                                      0777
@RF00771 L     @14,GQTAIL                                          0777
         L     @10,GETWORD                                         0777
         ST    @10,GBUFRPTR(,@14)                                  0777
*   RFY                                                            0778
*    (RETCODE) UNRSTD;                                             0778
*   IF GQTAIL-GQHEAD+2*LENGTH(GTFBCB)<PGBYTES THEN                 0779
         LR    @10,@14                                             0779
         SL    @10,GQHEAD                                          0779
         AL    @10,@CF02318                                        0779
         C     @10,@CF01818                                        0779
         BNL   @RF00779                                            0779
*     DO;                                                          0780
*       GQTAIL->EQCHAIN=GQTAIL+LENGTH(GTFBCB);                     0781
         LA    @10,24                                              0781
         ALR   @10,@14                                             0781
         ST    @10,EQCHAIN(,@14)                                   0781
*       GQTAIL=GQTAIL+LENGTH(GTFBCB);                              0782
         ST    @10,GQTAIL                                          0782
*       GO TO BCBINIT;                                             0783
         B     BCBINIT                                             0783
*     END;                                                         0784
*   GQTAIL->EQCHAIN=0;                                             0785
@RF00779 SLR   @10,@10                                             0785
         L     @09,GQTAIL                                          0785
         ST    @10,EQCHAIN(,@09)                                   0785
*                                                                  0786
*   /*****************************************************************/
*   /*                                                               */
*   /* ONCE THE GTFBCB ARE ALL INITIALIZED AND THE GTFBUFR ARE ALL   */
*   /* GOTTEN THE PAGE OF GTFBCB MUST BE FIXED IN REAL STORAGE TO    */
*   /* PREVENT PAGE FAULTS IN AHLSBUF                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0786
*/* S PGFIX: THE PAGE OF GTFBCB                                      */
*/* S WAIT: FOR PGFIX                                                */
*/* P INCREMENT BCBPAGEI BY 1                                        */
*/* P BCBPAGE (BCBPAGEI)= GQHEAD                                     */
*/* P CLEAR AFBUFGET                                                 */
*/* R GQHEAD & GQTAIL                                                */
*                                                                  0786
*   FIXWORD(1)=GQHEAD;                                             0786
         L     @09,GQHEAD                                          0786
         ST    @09,FIXWORD                                         0786
*   FIXWORD(2)=GQHEAD+PGBYTES;                                     0787
         AL    @09,@CF01818                                        0787
         ST    @09,FIXWORD+4                                       0787
*   PGECB=0;                                                       0788
         ST    @10,PGECB                                           0788
*   DO;                             /* PGFIX (R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)       0789
*                                      ECB(PGECB) LONG(Y)            */
*     RESPECIFY                                                    0790
*      (GPR00P,                                                    0790
*       GPR01P) RESTRICTED;                                        0790
*     GPR00P=ADDR(PGECB);           /* ECB ADDR                      */
         LA    GPR00P,PGECB                                        0791
*     GPR01P=ADDR(FIXWORD(1)->PLACE);/* PAGE ADDR                    */
         L     GPR01P,FIXWORD                                      0792
*     RESPECIFY                                                    0793
*       GPR15P RESTRICTED;                                         0793
*     GPR15P=ADDR(FIXWORD(2)->PLACE);/* VSL ADDR                     */
         LR    GPR15P,@09                                          0794
*     GPR01P=GPR01P'52000000'X;    /* R, PGFIX, RELEASE & LONG FLAGS*/
         O     GPR01P,@CF02157                                     0795
*     SVC(113);                     /* ISSUE PGFIX SVC               */
         SVC   113                                                 0796
*     RESPECIFY                                                    0797
*      (GPR00P,                                                    0797
*       GPR01P) UNRESTRICTED;                                      0797
*     RESPECIFY                                                    0798
*       GPR15P UNRESTRICTED;                                       0798
*   END;                            /* PGFIX (R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)       0799
*                                      ECB(PGECB) LONG(Y)            */
*   DO;                             /* WAIT ECB(PGECB)               */
*     RESPECIFY                                                    0801
*      (GPR00P,                                                    0801
*       GPR01P) RESTRICTED;                                        0801
*     GPR00P=1;                     /* LOAD WAIT COUNT               */
         LA    GPR00P,1                                            0802
*     GPR01P=ADDR(PGECB);           /* ADDRESS OF ECB                */
         LA    GPR01P,PGECB                                        0803
*     SVC(1);                       /* WAIT SVC                      */
         SVC   1                                                   0804
*     RESPECIFY                                                    0805
*      (GPR00P,                                                    0805
*       GPR01P) UNRESTRICTED;                                      0805
*   END;                            /* WAIT ECB(PGECB)               */
*   BCBPAGEI=BCBPAGEI+1;                                           0807
         LA    @10,1                                               0807
         AL    @10,BCBPAGEI                                        0807
         ST    @10,BCBPAGEI                                        0807
*   BCBPAGE(BCBPAGEI)=GQHEAD;                                      0808
         SLA   @10,2                                               0808
         L     @09,GQHEAD                                          0808
         ST    @09,BCBPAGE-4(@10,PCTPTR)                           0808
*   AFBUFGET=OFF;                                                  0809
         NI    AFBUFGET(PCTPTR),B'10111111'                        0809
*   END EBUFGET;                                                   0810
         B     @EL00003                                            0810
*                                                                  0811
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS INTERNAL SUBROUTINE GETS AND INITIALIZES A STRING OF SLE.*/
*   /* ONE PAGE OF ADDRESS SPACE IS GOTTEN AND DIVIDED UP INTO SLE   */
*   /* AND THE PAGE IS FIXED IN REAL STORAGE TO PREVENT PAGE FAULTS  */
*   /* IN AHLSBUF                                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0811
*/*SLEGET: E GET A PAGE OF SLE                                       */
*/* N NOSAVEAREA                                                     */
*/* P SET AFSLEGET                                                   */
*/* S GETMAIN: A PAGE OF SP=7 FOR SLE                                */
*/* D (OK,%SLEMSG,BAD,) RC?                                          */
*/* P GQHEAD=0                                                       */
*/* S WTO: MESSAGE AHL032I                                           */
*/* R GQHEAD                                                         */
*/*%SLEMSG: P PUT PTR TO FIRST SP=7 BYTE IN GQHEAD                   */
*/* P DIAGNOSTIC: ENTER PAGE OF SLE INTO SDUMPLST                    */
*/* S PGFIX: PAGE OF SLE                                             */
*/* S WAIT: FOR PGFIX                                                */
*                                                                  0811
*SLEGET:                                                           0811
*   PROC OPTIONS(NOSAVEAREA);                                      0811
SLEGET   STM   @14,@12,12(@13)                                     0811
*   AFSLEGET=ON;                                                   0812
         OI    AFSLEGET(PCTPTR),B'00100000'                        0812
*   RFY                                                            0813
*    (RETCODE) RSTD;                                               0813
*   DO;                             /* GETMAIN (EC) BNDRY LV(PGBYTES)
*                                      A(GETWORD) SP(SLESP)          */
*     RESPECIFY                                                    0815
*      (GPR01P) RESTRICTED;                                        0815
*     I004=I004&&I004;              /* INIT LIST                     */
         XC    I004(10),I004                                       0816
*     I00404='30'X;                 /* TYPE                          */
         MVI   I00404,X'30'                                        0817
*     I00401=PGBYTES;               /* LENGTH                        */
         MVC   I00401(4),@CF01818                                  0818
*     I00403=ADDR(GETWORD);         /* ADDR OF ADDR LIST             */
         LA    @14,GETWORD                                         0819
         STCM  @14,7,I00403                                        0819
*     I00405=SLESP;                 /* SUBPOOL VALUE                 */
         MVI   I00405,X'07'                                        0820
*     GPR01P=ADDR(I004);            /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         0821
*     SVC(4);                       /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   0822
*     RESPECIFY                                                    0823
*      (GPR01P) UNRESTRICTED;                                      0823
*   END;                            /* GETMAIN (EC) BNDRY LV(PGBYTES)
*                                      A(GETWORD) SP(SLESP)          */
*   IF RETCODE^=0 THEN                                             0825
         SLR   @14,@14                                             0825
         CR    RETCODE,@14                                         0825
         BE    @RF00825                                            0825
*     DO;                                                          0826
*       GQHEAD=0;                                                  0827
         ST    @14,GQHEAD                                          0827
*       DO;                         /* WTOP MF(E,AHL032)             */
*         RFY                                                      0829
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL032);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01942                                     0830
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  0831
*         RFY                                                      0832
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL032)             */
*       RETURN;                                                    0834
@EL00004 DS    0H                                                  0834
@EF00004 DS    0H                                                  0834
@ER00004 LM    @14,@12,12(@13)                                     0834
         BR    @14                                                 0834
*     END;                                                         0835
*   GQHEAD=GETWORD;                                                0836
@RF00825 L     @14,GETWORD                                         0836
         ST    @14,GQHEAD                                          0836
*   SDENTRY=SDENTRY+1;              /* PUT THE PAGE OF SLE INTO THE
*                                      SVCDUMP LIST                  */
         LA    @10,1                                               0837
         AL    @10,SDENTRY                                         0837
         ST    @10,SDENTRY                                         0837
*   SDBEGAD(SDENTRY)=GETWORD;                                      0838
         SLA   @10,3                                               0838
         ST    @14,SDBEGAD-8(@10)                                  0838
*   SDENDAD(SDENTRY)=GETWORD+PGBYTES;                              0839
         L     @09,@CF01818                                        0839
         ALR   @09,@14                                             0839
         ST    @09,SDENDAD-8(@10)                                  0839
*   SDENDBIT(SDENTRY)=ON;                                          0840
         LA    @01,SDENDBIT-8(@10)                                 0840
         OI    0(@01),B'10000000'                                  0840
*   SDENDBIT(SDENTRY-1)=OFF;                                       0841
         LA    @01,SDENDBIT-16(@10)                                0841
         NI    0(@01),B'01111111'                                  0841
*   FIXWORD(1)=GETWORD;             /* PGFIX THE PAGE OF SLE SO    0842
*                                      AHLSBUF WON'T GET PAGE FAULTS */
         ST    @14,FIXWORD                                         0842
*   FIXWORD(2)=GETWORD+PGBYTES;                                    0843
         ST    @09,FIXWORD+4                                       0843
*   PGECB=0;                                                       0844
         SLR   @14,@14                                             0844
         ST    @14,PGECB                                           0844
*   DO;                             /* PGFIX (R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)       0845
*                                      ECB(PGECB) LONG(Y)            */
*     RESPECIFY                                                    0846
*      (GPR00P,                                                    0846
*       GPR01P) RESTRICTED;                                        0846
*     GPR00P=ADDR(PGECB);           /* ECB ADDR                      */
         LA    GPR00P,PGECB                                        0847
*     GPR01P=ADDR(FIXWORD(1)->PLACE);/* PAGE ADDR                    */
         L     GPR01P,FIXWORD                                      0848
*     RESPECIFY                                                    0849
*       GPR15P RESTRICTED;                                         0849
*     GPR15P=ADDR(FIXWORD(2)->PLACE);/* VSL ADDR                     */
         LR    GPR15P,@09                                          0850
*     GPR01P=GPR01P'52000000'X;    /* R, PGFIX, RELEASE & LONG FLAGS*/
         O     GPR01P,@CF02157                                     0851
*     SVC(113);                     /* ISSUE PGFIX SVC               */
         SVC   113                                                 0852
*     RESPECIFY                                                    0853
*      (GPR00P,                                                    0853
*       GPR01P) UNRESTRICTED;                                      0853
*     RESPECIFY                                                    0854
*       GPR15P UNRESTRICTED;                                       0854
*   END;                            /* PGFIX (R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)       0855
*                                      ECB(PGECB) LONG(Y)            */
*   DO;                             /* WAIT ECB(PGECB)               */
*     RESPECIFY                                                    0857
*      (GPR00P,                                                    0857
*       GPR01P) RESTRICTED;                                        0857
*     GPR00P=1;                     /* LOAD WAIT COUNT               */
         LA    GPR00P,1                                            0858
*     GPR01P=ADDR(PGECB);           /* ADDRESS OF ECB                */
         LA    GPR01P,PGECB                                        0859
*     SVC(1);                       /* WAIT SVC                      */
         SVC   1                                                   0860
*     RESPECIFY                                                    0861
*      (GPR00P,                                                    0861
*       GPR01P) UNRESTRICTED;                                      0861
*   END;                            /* WAIT ECB(PGECB)               */
*                                                                  0863
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS LOOP INITIALIZES THE PAGE OF SP=7 INTO A STRING OF SLE   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0863
*/*%SLEK: P SLEPAGE=GQHEAD GQTAIL=GQHEAD                             */
*/*SLEINIT: P INITIALIZE AN SLE                                      */
*/* D (YES,%SLEO,NO,) HAS THE PAGE BEEN USED UP                      */
*/* P GQTAIL-> SLECHAIN= GQTAIL+ LENGTH(SLE)                         */
*/* P (,SLEINIT) GQTAIL= GQTAIL+ LENGTH(SLE)                         */
*/*%SLEO: P PUT 0 IN GQTAIL-> SLECHAIN FIELD                         */
*/* R GQHEAD GQTAIL                                                  */
*/*WIS: END                                                          */
*                                                                  0863
*   SLEPAGE=GQHEAD;                 /* SAVE THE ADDRESS OF THE PAGE
*                                      PF SLE IN THE GTFPCT SO IT CAN
*                                      BE PGFREE LATER               */
         L     @14,GQHEAD                                          0863
         ST    @14,SLEPAGE(,PCTPTR)                                0863
*   GQTAIL=GQHEAD;                                                 0864
         ST    @14,GQTAIL                                          0864
*   RFY                                                            0865
*    (RETCODE) UNRSTD;                                             0865
*SLEINIT:                                                          0866
*   GQTAIL->SLE=SLEPROTO;           /* INITIALIZE THE PAGE INTO A  0866
*                                      STRING OF SLE ONE AT A TIME   */
SLEINIT  L     @10,GQTAIL                                          0866
         MVC   SLE(36,@10),SLEPROTO                                0866
*   IF GQTAIL-GQHEAD+2*LENGTH(SLE)<PGBYTES THEN                    0867
         LR    @09,@10                                             0867
         SL    @09,GQHEAD                                          0867
         AL    @09,@CF02319                                        0867
         C     @09,@CF01818                                        0867
         BNL   @RF00867                                            0867
*     DO;                                                          0868
*       GQTAIL->SLQCHAIN=GQTAIL+LENGTH(SLE);                       0869
         LA    @09,36                                              0869
         ALR   @09,@10                                             0869
         ST    @09,SLQCHAIN(,@10)                                  0869
*       GQTAIL=GQTAIL+LENGTH(SLE);                                 0870
         ST    @09,GQTAIL                                          0870
*       GO TO SLEINIT;                                             0871
         B     SLEINIT                                             0871
*     END;                                                         0872
*   GQTAIL->SLQCHAIN=0;             /* A 0 CHAIN FIELD FOR THE END OF
*                                      THE QUEUE                     */
@RF00867 L     @10,GQTAIL                                          0873
         SLR   @09,@09                                             0873
         ST    @09,SLQCHAIN(,@10)                                  0873
*   AFSLEGET=OFF;                                                  0874
         NI    AFSLEGET(PCTPTR),B'11011111'                        0874
*   END SLEGET;                                                    0875
         B     @EL00004                                            0875
*                                                                  0876
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS INTERNAL SUBROUTINE OBTAINS CONTROL OF QLOCK             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0876
*/*QLOCK: CHART (AMODE,SEQ)                                          */
*/* HEADER                                                         0876
*/*QLOCK   THE WRITER HALF OF THE COOPERATIVE LOCKING MECHANISM WITH
*/* AHLSBUF                                            PAGE   #      */
*/*GETQLOCK: E INTERNAL SUBROUTINE                                   */
*/* N NOSAVEAREA                                                     */
*/*GQL: P TS ON QLOCK BYTE                                           */
*/* D (OK,GOTQLOCK,FAIL,) TS?                                        */
*/* P CLEAR QLOCKECB                                                 */
*/* P SET POSTWRIT BYTE                                              */
*/* P T&S ON QLOCK BYTE                                              */
*/* D (OK,GOTQLOCK,FAIL,) TS?                                        */
*/* W (,GQL) WAIT ON QLOCKECB                                        */
*/*GOTQLOCK: P CLEAR POSTWRIT BYTE                                   */
*/* R RETURN                                                         */
*                                                                  0876
*GETQLOCK:                                                         0876
*   PROC OPTIONS(NOSAVEAREA);                                      0876
GETQLOCK STM   @14,@12,12(@13)                                     0876
*GQL:                                                              0877
*   TS(QLOCK);                      /* ATTEMPT TO GET THE QLOCK      */
GQL      TS    QLOCK(PCTPTR)                                       0877
*   BC(8,GOTQLOCK);                 /* WAS THE TS SUCCESSFUL BRANCH
*                                      IF YES                        */
         BC    8,GOTQLOCK                                          0878
*   QLOCKECB=0;                     /* IF NOT PREPARE TO WAIT FOR  0879
*                                      QLOCK                         */
         SLR   @10,@10                                             0879
         ST    @10,QLOCKECB(,PCTPTR)                               0879
*   POSTWRIT=SET;                   /* REQUEST AHLSBUF TO POST     0880
*                                      QLOCKECB AFTER IT FREES QLOCK */
         MVI   POSTWRIT(PCTPTR),X'FF'                              0880
*   TS(QLOCK);                      /* TRY ONE MORE TIME TO GET QLOCK
*                                      IN CASE AHLSBUF HAS ALREADY 0881
*                                      RELEASED IT AND THEREFORE   0881
*                                      CANNOT BE COUNTED ON TO POST
*                                      QLOCKECB                      */
         TS    QLOCK(PCTPTR)                                       0881
*   BC(8,GOTQLOCK);                 /* WAS THE TS SUCCESSFUL BRANCH
*                                      IF YES                        */
         BC    8,GOTQLOCK                                          0882
*   AFQLWAIT=ON;                                                   0883
         OI    AFQLWAIT(PCTPTR),B'00010000'                        0883
*   DO;                             /* WAIT ECB(QLOCKECB)            */
*     RESPECIFY                                                    0885
*      (GPR00P,                                                    0885
*       GPR01P) RESTRICTED;                                        0885
*     GPR00P=1;                     /* LOAD WAIT COUNT               */
         LA    GPR00P,1                                            0886
*     GPR01P=ADDR(QLOCKECB);        /* ADDRESS OF ECB                */
         LA    GPR01P,QLOCKECB(,PCTPTR)                            0887
*     SVC(1);                       /* WAIT SVC                      */
         SVC   1                                                   0888
*     RESPECIFY                                                    0889
*      (GPR00P,                                                    0889
*       GPR01P) UNRESTRICTED;                                      0889
*   END;                            /* WAIT ECB(QLOCKECB) IF NOT WAIT
*                                      FOR QLOCK                     */
*   AFQLWAIT=OFF;                                                  0891
         NI    AFQLWAIT(PCTPTR),B'11101111'                        0891
*   GO TO GQL;                      /* QLOCK SHOULD NOW BE AVAILABLE
*                                      GO BACK AND TRY FOR IT        */
         B     GQL                                                 0892
*GOTQLOCK:                                                         0893
*   POSTWRIT=CLEAR;                 /* ONCE QLOCK IS GOTTEN BE SURE
*                                      THIS IS NOT LEFT SET          */
GOTQLOCK MVI   POSTWRIT(PCTPTR),X'00'                              0893
*   END GETQLOCK;                                                  0894
@EL00005 DS    0H                                                  0894
@EF00005 DS    0H                                                  0894
@ER00005 LM    @14,@12,12(@13)                                     0894
         BR    @14                                                 0894
*                                                                  0895
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS INTERNAL SUBROUTINE RELEASES THE QLOCK                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0895
*/*FREQLOCK: E INTERNAL SUBROUTINE                                   */
*/* N NOSAVEAREA                                                     */
*/* P CLEAR QLOCK BYTE                                               */
*/* N THE SCHEDBUF BYTE MUST NOT BE TESTED UNTIL AFTER QLOCK IS FREED
*/*                                                                  */
*/* D (YES,, NO,%X) IS SCHEDBUF BYTE SET                             */
*/* P CLEAR SCHEDBUF BYTE                                            */
*/* P CS TO VERIFY THAT SRBAVAIL IS IN AND TURN IT OFF               */
*/* D (OK,,FAIL,%X) CS?                                              */
*/* S SCHEDULE: GTFSSRB-AHLSBUF                                      */
*/*%X: R RETURN                                                      */
*/*QLOCK: END                                                        */
*                                                                  0895
*FREQLOCK:                                                         0895
*   PROC OPTIONS(NOSAVEAREA);                                      0895
FREQLOCK STM   @14,@12,12(@13)                                     0895
*   QLOCK=CLEAR;                    /* RELEASE THE QLOCK             */
         MVI   QLOCK(PCTPTR),X'00'                                 0896
*   IF SCHEDBUF=SET                 /* CHECK TO SEE IF AHLSBUF WAS 0897
*                                      WANTING THE QLOCK AND SHOULD
*                                      BE SCHEDULED NOW THAT IT IS 0897
*                                      FREE                          */
*     THEN                                                         0897
         CLI   SCHEDBUF(PCTPTR),X'FF'                              0897
         BNE   @RF00897                                            0897
*     DO;                           /* YES AHLSBUF WAS WANTING IT    */
*       SCHEDBUF=CLEAR;             /* CLEAR THE REQUEST NOW THAT IT
*                                      IS GOING TO BE TAKEN CARE OF  */
         MVI   SCHEDBUF(PCTPTR),X'00'                              0899
*       RFY                                                        0900
*        (COMPREG,                                                 0900
*         SWAPREG) RSTD;            /* TRY TO GET CONTROL OF GTFSSRB */
*       COMPREG=GTFSSRB'80000000'X;/* THIS WILL BE THE CONTROL AND
*                                      WILL VERIFY THAT THE SRBAVAIL
*                                      BIT WAS ON AT THE TIME OF THE
*                                      CS                            */
         L     COMPREG,GTFSSRB(,PCTPTR)                            0901
         O     COMPREG,@CF02148                                    0901
*       SWAPREG=COMPREG&'7FFFFFFF'X;/* THIS WILL BE THE UPDATE AND 0902
*                                      WILL TURN OFF THE SRBAVAIL BIT*/
         LR    SWAPREG,COMPREG                                     0902
         N     SWAPREG,@CF02220                                    0902
*       CS(COMPREG,SWAPREG,GTFSSRB);/* TRY IT                        */
         CS    COMPREG,@04,GTFSSRB(PCTPTR)                         0903
*       BC(4,FREED);                /* IF THE CS FAILED AHLSBUF DOES
*                                      NOT NEED TO BE SCHEDULED    0904
*                                      BECAUSE IT WAS ALREADY      0904
*                                      SCHEDULED OR IT HAS BEEN    0904
*                                      DISABLED                      */
         BC    4,FREED                                             0904
*       GEN CODE(SCHEDULE SRB=(SWAPREG),SCOPE=GLOBAL)              0905
*       NODEFS REFS(SWAPREG,SRBFLNK,CVTGSMQ) NOEXIT NOSETS NOFLOWS 0905
*           SEQFLOW;                /* IF THE CS WAS SUCCESSFUL THEN
*                                      ALL IS READY TO SCHEDULE      */
         SCHEDULE SRB=(SWAPREG),SCOPE=GLOBAL
*       RFY                                                        0906
*        (COMPREG,                                                 0906
*         SWAPREG) UNRSTD;                                         0906
*     END;                                                         0907
*FREED:                                                            0908
*   ;                                                              0908
*   END FREQLOCK;                                                  0909
@EL00006 DS    0H                                                  0909
@EF00006 DS    0H                                                  0909
@ER00006 LM    @14,@12,12(@13)                                     0909
         BR    @14                                                 0909
*                                                                  0910
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SUBROUTINE FILLS ONE REQUEST AT A TIME FOR TRACE DATA    */
*   /* FROM THE AHLREAD MACRO AND AHLREADR ROUTINE                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0910
*/*AHLXWRIT: CHART (AMODE,SEQ)                                       */
*/*AHLXWRIT: HEADER                                                0910
*/*AHLXWRIT   WRITER-STACK SERVICE RTN TO TRANSFER DATA            0910
*/*FROM THE SAVELIST QUEUE TO SVC OR SNAPDUMP         PAGE  #        */
*/*AHLXWRIT: E                                                       */
*                                                                  0910
*AHLXWRIT:                                                         0910
*   PROC;                                                          0910
*                                                                  0910
AHLXWRIT STM   @14,@12,@SA00007                                    0910
*   /*****************************************************************/
*   /*                                                               */
*   /* FIRST REMOVE THE FIRST AHLRDPL FROM THE HEAD OF THE QUEUE OF  */
*   /* REQUESTS FOR TRACE DATA BY OTHER PROGRAMS                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0911
*/* P SAVE STABLE COPY AHLRDPLQ (ADDR OF FIRST AHLRDPL ON THE      0911
*/* QUEUE)                                                           */
*/*RDPLQCS: P CS THE CHAIN FIELD OF THE FIRST AHLRDPL INTO AHLRDPLQ  */
*/* D (OK,,FAIL,RDPLQCS) CS?                                         */
*/* P COPY THE REQUEST PARMLIST (AHLRDPL) FOR REFERENCE LATER      0911
*/*                                                                  */
*                                                                  0911
*   RFY                                                            0911
*     AHLRDPTR RSTD;                                               0911
*   AHLRDPTR=AHLRDPLQ;              /* GET THE ADDRESS OF THE FIRST
*                                      AHLRDPL ON THE AHLRDPL QUEUE  */
         L     AHLRDPTR,AHLRDPLQ(,PCTPTR)                          0912
*RDPLQCS:                                                          0913
*   CS(AHLRDPTR,AHLRDPTR->AHLRDPQC,AHLRDPLQ);/* PUT THE ADDRESS FROM
*                                      THE CHAIN FIELD INTO THE    0913
*                                      AHLRDPL QUEUE HEAD TO REMOVE
*                                      THE FIRST ONE FROM THE QUEUE  */
RDPLQCS  L     @10,AHLRDPQC(,AHLRDPTR)                             0913
         CS    AHLRDPTR,@10,AHLRDPLQ(PCTPTR)                       0913
*   BC(4,RDPLQCS);                  /* IF THE CS FAILED THEN THE   0914
*                                      COMPREG VALUE NO LONGER POINTS
*                                      TO THE FIRST ONE BECAUSE    0914
*                                      AHLREADR HAS ADDED ANOTHER. 0914
*                                      TRY AGAIN                     */
         BC    4,RDPLQCS                                           0914
*   CURRSRB=AHLRDPTR;               /* INDICATE SERVING DMP PGM    0915
*                                                            @ZA27832*/
         ST    AHLRDPTR,CURRSRB                                    0915
*                                                                  0916
*   /*****************************************************************/
*   /*                                                               */
*   /* NOW THAT A REQUEST HAS BEEN OBTAINED SEARCH FOR THE SLE THAT  */
*   /* WAS SET UP TO HOLD THE DATA FOR THIS REQUEST BY AHLSBUF       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0916
*/* P SLEPTR=SLQHEAD                                                 */
*/*SLEQUEST: D (YES,,NO,%B) SLEPTR=0                                 */
*/* N NO MATCHING SLE                                                */
*/* P (,POSTEXIT) AHLRDPX2=8                                         */
*/*%B: D (YES,%M,NO,) SLEDUMP MATCH PARMLIST ID                      */
*/* P (,SLEQUEST) SLEPTR=SLEPTR-> SLQCHAIN                           */
*                                                                  0916
*   SLEPTR=SLQHEAD;                 /* START THE SEARCH FOR THE SLE
*                                      WITH THE DATA AT THE BEGINNING
*                                      OF THE QUEUE                  */
         L     @10,SLQHEAD(,PCTPTR)                                0916
         ST    @10,SLEPTR                                          0916
*SLEQUEST:                                                         0917
*   IF SLEPTR=0                     /* IS THIS THE END OF THE SLE  0917
*                                      QUEUE                         */
*     THEN                                                         0917
SLEQUEST L     @10,SLEPTR                                          0917
         LTR   @10,@10                                             0917
         BNZ   @RF00917                                            0917
*     DO;                           /* IF THE END OF THE SLE QUEUE 0918
*                                      HAS BEEN REACHED THEN THERE IS
*                                      NO MATCHING SLE               */
*       AHLRDPX2=NOSLEMAT;          /* SET A RETURN CODE TO INDICATE
*                                      THE FAILURE                   */
         MVC   AHLRDPX2(4,AHLRDPTR),@CF00039                       0919
*       GO TO POSTEXIT;             /* THEN GO POST THE REQUESTOR    */
         B     POSTEXIT                                            0920
*     END;                                                         0921
*   IF SLEDUMP^=AHLRDDID            /* DOES THIS SLE MATCH THE ID  0922
*                                      SENT BY THE REQUESTOR         */
*     THEN                                                         0922
@RF00917 L     @10,SLEPTR                                          0922
         CLC   SLEDUMP(6,@10),AHLRDDID(AHLRDPTR)                   0922
         BE    @RF00922                                            0922
*     DO;                           /* NO                            */
*       SLEPTR=SLEPTR->SLQCHAIN;    /* MOVE ON THO THE NEXT SLE      */
         L     @10,SLQCHAIN(,@10)                                  0924
         ST    @10,SLEPTR                                          0924
*       GO TO SLEQUEST;             /* CONTINUE THE SEARCH           */
         B     SLEQUEST                                            0925
*     END;                                                         0926
*                                                                  0927
*   /*****************************************************************/
*   /*                                                               */
*   /* NOW THAT THE MATCHING SLE HAS BEEN FOUND CHECK TO SEE IF ANY  */
*   /* DATA REMAINS ON IT TO BE TRANSFERED                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0927
*/*%M: D (NO,%C,YES,) SLEPTR-> SLEQCNT=0                             */
*/* N ALL DATA TRANSFERED                                            */
*/*SLEFREE: P 0 ALL OF SLE EXCEPT THE ID & CHAIN FIELDS. SLEINUSE MUST
*/*BE LAST                                                           */
*/* D (YES,,NO,%N) DIAGNOSTIC: SLECNT> SLEMAX                        */
*/* P DIAGNOSTIC: SLEMAX=SLECNT                                      */
*/*%N: P DIAGNOSTIC: CS TO DECREMENT SLECNT BY 1                     */
*/* D (FAIL,%N,OK,) DIAGNOSTIC: CS?                                  */
*/* P (,POSTEXIT) AHLRDPX2=12                                        */
*                                                                  0927
*   IF SLEQCNT=0                    /* IS ALL THE DATA FROM THIS SLE
*                                      ALREADY TRANSFERED            */
*     THEN                                                         0927
@RF00922 L     @10,SLEPTR                                          0927
         L     @10,SLEQCNT(,@10)                                   0927
         LTR   @10,@10                                             0927
         BNZ   @RF00927                                            0927
*     DO;                           /* YES                           */
*       AHLRDPX2=ALLDONE;           /* SET A RETURN CODE TO INDICATE
*                                      THAT ALL THE DATA HAS ALREADY
*                                      BEEN TRANSFERED               */
         MVC   AHLRDPX2(4,AHLRDPTR),@CF01848                       0929
*SLEFREE:                                                          0930
*       SLEEID=0;                                                  0930
SLEFREE  SLR   @10,@10                                             0930
         L     @09,SLEPTR                                          0930
         STH   @10,SLEEID(,@09)                                    0930
*       SLEASID=0;                                                 0931
         STH   @10,SLEASID(,@09)                                   0931
*       SLETCBA=0;                  /* PREPARE THE SLE FOR USE       */
         ST    @10,SLETCBA(,@09)                                   0932
*       SLEBCBQ=0;                                                 0933
         ST    @10,SLEBCBQ(,@09)                                   0933
*       SLEINUSE=OFF;               /* LAST TURN OFF THE IN USE BIT  */
         NI    SLEINUSE(@09),B'01111111'                           0934
*       GO TO POSTEXIT;             /* GO POST THE REQUESTOR         */
         B     POSTEXIT                                            0935
*     END;                                                         0936
*                                                                  0937
*   /*****************************************************************/
*   /*                                                               */
*   /* ONCE IT IS DETERMINED THAT THERE IS STILL DATA TO BE          */
*   /* TRANSFERED THE EID VALUE IN THE SLE IS CHECKED TO SEE WHAT    */
*   /* FORMAT THE DATA IS TO BE TRANSFERED IN. THE FIRST CHECK IS FOR*/
*   /* SVC DUMP                                                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0937
*/*%C: D (YES,%D,NO,%E) DOES SLEEID INDICATE AN SVCDUMP              */
*/*%D: D (YES,PGLSTBLD,NO,PGLSTOK) SLEPGLST=0                        */
*/*PGLSTOK: D (NO,,YES,%J) IS COMMONPG (PLINDEX) ON                  */
*/* P PUT X'FFFF' INTO DATA AREA+2 INSTEAD OF ASID                   */
*/* P (,%H) COMMONPG (PLINDEX) =OFF                                  */
*/*%J: P (,%H) PUT CURRENT ASID INTO DATA AREA+2                     */
*/*%H: P PUT PROTECT KEY OF PAGELIST (PLINDEX)->PAGE INTO DATA AREA
*/* BYTES 1 & 2                                                      */
*/* P PUT PAGELIST (PLINDEX) INTO DATA AREA+4                        */
*/* P MOVE PAGELIST (PLINDEX)->PAGE INTO DATA AREA+8                 */
*/* P DECREMENT PLINDEX BY 1                                         */
*/* P AHLRDPX2=0                                                     */
*                                                                  0937
*   IF SLEEID=IEASVCD               /* IS THIS AN SVC DUMP REQUEST   */
*     THEN                                                         0937
@RF00927 L     @10,SLEPTR                                          0937
         CLC   SLEEID(2,@10),@CB01543                              0937
         BNE   @RF00937                                            0937
*     DO;                           /* YES                           */
*       IF SLEPGLST=0               /* HAS A LIST OF THE PAGES TO BE
*                                      TRANSFERED BEEN BUILT YET     */
*         THEN                                                     0939
         L     @10,SLEPGLST(,@10)                                  0939
         LTR   @10,@10                                             0939
         BZ    @RT00939                                            0939
*         GO TO PGLSTBLD;           /* IF NOT THE GO BUILD ONE       */
*PGLSTOK:                           /* AFTER A LIST OF PAGES TO BE 0941
*                                      TRANSFERED HAS BEEN BUILT THE
*                                      PGLSTBLD ROUTINE BRANCHES BACK
*                                      TO HERE                       */
*       IF COMMONPG(PLINDEX)=ON     /* IS THE NEXT PAGE TO BE      0941
*                                      TRANSFERED A PAGE FROM COMMON
*                                      ADDR SPACE                    */
*         THEN                                                     0941
PGLSTOK  L     @10,SLEPTR                                          0941
         L     @10,SLEPGLST(,@10)                                  0941
         L     @09,PLINDEX(,@10)                                   0941
         SLA   @09,2                                               0941
         ST    @09,@TF00001                                        0941
         ALR   @09,@10                                             0941
         TM    COMMONPG-4(@09),B'10000000'                         0941
         BNO   @RF00941                                            0941
*         DO;                       /* YES                           */
*           PAGEASID=COMNASID;      /* PUT IN THE SPECIAL ASID THAT
*                                      TELLS PRINTDUMP THIS IS A   0943
*                                      COMMON A.S. PAGE              */
         L     @01,AHLRDATA(,AHLRDPTR)                             0943
         MVC   PAGEASID(2,@01),@CH02006                            0943
*           COMMONPG(PLINDEX)=OFF;  /* TURN OFF THE FLAG BECAUSE IT
*                                      IS THE FIRST ONE IN THE ADDR
*                                      OF THE PAGE AND WILL MESS   0944
*                                      THINGS UP IF IT IS LEFT ON    */
         AL    @10,@TF00001                                        0944
         NI    COMMONPG-4(@10),B'01111111'                         0944
*         END;                      /* HANDLE THE REST THE SAME AS A
*                                      PRIVATE PAGE                  */
*       ELSE                                                       0946
*         PAGEASID=ASCBASID;        /* IF IT IS A PRIVATE PAGE THEN
*                                      IT BELONGS TO THIS TRACE    0946
*                                      WRITER IN THIS ADDR SPACE SO
*                                      PUT IN THE CURRENT ASID FOR 0946
*                                      PRINTDUMP                     */
         B     @RC00941                                            0946
@RF00941 L     @01,AHLRDATA(,AHLRDPTR)                             0946
         L     @10,ASCBPTR                                         0946
         LH    @10,ASCBASID(,@10)                                  0946
         N     @10,@CF02334                                        0946
         STH   @10,PAGEASID(,@01)                                  0946
*       PROTECT1='00'X;             /* THIS IS THE PROTECT KEY FOR 0947
*                                      THE FIRST 2K OF THE PAGE      */
@RC00941 L     @10,AHLRDATA(,AHLRDPTR)                             0947
         MVI   PROTECT1(@10),X'00'                                 0947
*       PROTECT2='00'X;             /* THIS IS THE PROTECT KEY FOR 0948
*                                      THE SECOND 2K OF THE PAGE     */
         MVI   PROTECT2(@10),X'00'                                 0948
*       PAGEADDR=PAGELIST(PLINDEX); /* SET UP THE BEGINNING ADDR OF
*                                      THIS PAGE FOR PRINTDUMP       */
         L     @09,SLEPTR                                          0949
         L     @09,SLEPGLST(,@09)                                  0949
         L     @04,PLINDEX(,@09)                                   0949
         SLA   @04,2                                               0949
         L     @09,PAGELIST-4(@04,@09)                             0949
         ST    @09,PAGEADDR(,@10)                                  0949
*       RFY                                                        0950
*        (MVCL1,                                                   0950
*         MVCL2,                                                   0950
*         MVCL3,                                                   0950
*         MVCL4) RSTD;                                             0950
*       MVCL3=PAGEADDR;                                            0951
         LR    MVCL3,@09                                           0951
*       MVCL1=ADDR(SVCDPAGE);                                      0952
         LA    MVCL1,SVCDPAGE(,@10)                                0952
*       MVCL2=PGBYTES;                                             0953
         L     MVCL2,@CF01818                                      0953
*       MVCL4=MVCL2;                                               0954
         LR    MVCL4,MVCL2                                         0954
*       MVCL(MVCL1,MVCL3);          /* COPY THE CONTENTS OF THE PAGE
*                                      OVER INTO THE BUFFER          */
         MVCL  MVCL1,MVCL3                                         0955
*       RFY                                                        0956
*        (MVCL1,                                                   0956
*         MVCL2,                                                   0956
*         MVCL3,                                                   0956
*         MVCL4) UNRSTD;                                           0956
*       PLINDEX=PLINDEX-1;          /* INDICATE THAT THIS PAGE HAS 0957
*                                      BEEN TAKEN CARE OF            */
         L     @10,SLEPTR                                          0957
         L     @10,SLEPGLST(,@10)                                  0957
         L     @09,PLINDEX(,@10)                                   0957
         BCTR  @09,0                                               0957
         ST    @09,PLINDEX(,@10)                                   0957
*       AHLRDPX2=DATATRAN;          /* SET THE COMPLETION CODE TO  0958
*                                      INDICATE DATA HAS BEEN      0958
*                                      TRANSFERED                    */
         SLR   @10,@10                                             0958
         ST    @10,AHLRDPX2(,AHLRDPTR)                             0958
*                                                                  0959
*       /*************************************************************/
*       /*                                                           */
*       /* AFTER A PAGE HAS BEEN REMOVED FROM THE LIST OF PAGES      */
*       /* (SVCPLIST) TEST TO SEE IF ALL HAVE BEEN REMOVED AND IF SO */
*       /* FREE THE LIST AND THE GO TO PURGEBCB TO RELEASE ALL THE   */
*       /* GTFBCB THAT ARE BEING HELD BY THE SLE                     */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0959
*/* D (NO,POSTEXIT,YES,) PLINDEX=0                                   */
*/* S FREEMAIN: SVCPLIST                                             */
*/* P SLEPGLST=0                                                     */
*/*PURGEBCB: S BCBOFF: REMOVE SLEBCBQ->GTFBCB                        */
*/* D (NO,PURGEBCB,YES,POSTEXIT) SLEPTR-> SLEQCNT=0                  */
*                                                                  0959
*       IF PLINDEX^=0               /* ARE THERE STILL PAGES IN    0959
*                                      SVCPLIST                      */
*         THEN                                                     0959
         CR    @09,@10                                             0959
         BNE   @RT00959                                            0959
*         GO TO POSTEXIT;           /* YES SO JUST LET IT BE AND GO
*                                      POST THE REQUESTOR            */
*       DO;                         /* FREEMAIN(R) LV(LENGTH(SVCPLIST
*                                      ))SP(SLESP)A(SLEPGLST->SVCPLIS
*                                      T)                            */
*         RESPECIFY                                                0962
*          (GPR01F,                                                0962
*           GPR00F) RESTRICTED;                                    0962
*         GPR00F=LENGTH(SVCPLIST);  /* LENGTH REQUESTED              */
         LA    GPR00F,1100                                         0963
*         GPR01F=SLESP;             /* SP IN REG 1                   */
         LA    GPR01F,7                                            0964
*         GEN(SLL   GPR01F,24)                                     0965
*         NODEFS NOREFS NOSETS NOEXIT NOFLOWS SEQFLOW;             0965
         SLL   GPR01F,24
*         GPR00F=GPR00FGPR01F;     /* SP IN HI BYTE                 */
         OR    GPR00F,GPR01F                                       0966
*         GPR01F=ADDR(SLEPGLST->SVCPLIST);/* SET REGISTER ONE        */
         L     @10,SLEPTR                                          0967
         L     GPR01F,SLEPGLST(,@10)                               0967
*         SVC(10);                  /* R-FORM OF GETMAIN             */
         SVC   10                                                  0968
*         RESPECIFY                                                0969
*          (GPR01F,                                                0969
*           GPR00F) UNRESTRICTED;                                  0969
*       END;                        /* FREEMAIN(R) LV(LENGTH(SVCPLIST
*                                      ))SP(SLESP)A(SLEPGLST->SVCPLIS
*                                      T) FREE THE SLEPLIST IF ALL 0970
*                                      THE PAGES HAVE BEEN REMOVED   */
*       SLEPGLST=0;                                                0971
         L     @10,SLEPTR                                          0971
         SLR   @09,@09                                             0971
         ST    @09,SLEPGLST(,@10)                                  0971
*PURGEBCB:                                                         0972
*       CALL BCBOFF;                /* REMOVE THE FIRST GTFBCB FROM
*                                      THE SLE                       */
PURGEBCB BAL   @14,BCBOFF                                          0972
*       IF SLEQCNT^=0               /* ARE THERE ANY GTFBCB ON THIS
*                                      SLE                           */
*         THEN                                                     0973
         L     @10,SLEPTR                                          0973
         L     @10,SLEQCNT(,@10)                                   0973
         LTR   @10,@10                                             0973
         BNZ   @RT00973                                            0973
*         GO TO PURGEBCB;           /* YES, KEEP ON TRUCKING         */
*       ELSE                                                       0975
*         GO TO POSTEXIT;           /* NO, SO GO POST THE REQUESTOR.
*                                      THE SLE WILL BE FREED ON THE
*                                      NEXT REQUEST                  */
         B     POSTEXIT                                            0975
*     END;                          /* THIS IS THE END OF PROCESSING
*                                      UNIQUE TO SVCDUMP FORMAT      */
*                                                                  0977
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS REQUEST FROM ABDUMP/SNAPDUMP                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0977
*/*%E: D (YES,,NO,%G) DOES SLEEID INDICATE A SNAPDUMP                */
*/* P MOVE SLEPTR-> SLEBCBQ-> GTFBCB->GTFBUFR INTO PARMLIST->      0977
*/*DATAAREA                                                          */
*/* P AHLRDPX2=0                                                     */
*/* S (,POSTEXIT) BCBOFF: REMOVE SLEBCBQ->GTFBCB                     */
*                                                                  0977
*   IF SLEEID=IEAABOF               /* IS THIS FOR ABDUMP            */
*     THEN                                                         0977
@RF00937 L     @10,SLEPTR                                          0977
         CLC   SLEEID(2,@10),@CB01565                              0977
         BNE   @RF00977                                            0977
*     DO;                           /* YES                           */
*       RFY                                                        0979
*        (MVCL1,                                                   0979
*         MVCL2,                                                   0979
*         MVCL3,                                                   0979
*         MVCL4) RSTD;                                             0979
*       MVCL3=ADDR(SLEBCBQ->GBUFRPTR->GTFBUFR);                    0980
         L     @01,SLEBCBQ(,@10)                                   0980
         L     MVCL3,GBUFRPTR(,@01)                                0980
*       MVCL1=ADDR(ABDUMPPG);                                      0981
         L     MVCL1,AHLRDATA(,AHLRDPTR)                           0981
*       MVCL2=PGBYTES;                                             0982
         L     MVCL2,@CF01818                                      0982
*       MVCL4=MVCL2;                                               0983
         LR    MVCL4,MVCL2                                         0983
*       MVCL(MVCL1,MVCL3);          /* COPY THE NEXT GTFBUFR INTO THE
*                                      DATAAREA                      */
         MVCL  MVCL1,MVCL3                                         0984
*       RFY                                                        0985
*        (MVCL1,                                                   0985
*         MVCL2,                                                   0985
*         MVCL3,                                                   0985
*         MVCL4) UNRSTD;                                           0985
*       AHLRDPX2=DATATRAN;          /* SET THE RETURN CODE TO      0986
*                                      INDICATE THAT THE DATA WAS  0986
*                                      TRANSFERED                    */
         SLR   @10,@10                                             0986
         ST    @10,AHLRDPX2(,AHLRDPTR)                             0986
*       CALL BCBOFF;                /* REMOVE THE GTFBCB JUST      0987
*                                      TRANSFERED FROM THE SLE       */
         BAL   @14,BCBOFF                                          0987
*       GO TO POSTEXIT;             /* GO POST THE REQUESTOR         */
         B     POSTEXIT                                            0988
*     END;                          /* THIS IS THE END OF THE CODE 0989
*                                      UNIQUE TO ABDUMP FORMAT       */
*                                                                  0990
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THE EID DOESN'T MATCH ANY KNOW ONE NO DATA WILL BE         */
*   /* TRANSFERED AND THE SLE WILL BE EMPTIED OF GTFBCB AND RETURNED */
*   /* TO USE                                                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0990
*/*%G: N INDETERMANANT TYPE OF SLE                                   */
*/* P AHLRDPX2=16                                                    */
*/*IPURGE: S BCBOFF:                                                 */
*/* D (YES,IPURGE,NO,SLEFREE) SLEQCNT^=0                             */
*                                                                  0990
*   AHLRDPX2=INDETERM;              /* SET THE RETURN CODE TO      0990
*                                      INDICATE THE EID IS NOT     0990
*                                      RECOGNISED                    */
@RF00977 MVC   AHLRDPX2(4,AHLRDPTR),@CF00130                       0990
*IPURGE:                                                           0991
*   CALL BCBOFF;                    /* REMOVE THE FIRST GTFBCB ON THE
*                                      SLE                           */
IPURGE   BAL   @14,BCBOFF                                          0991
*   IF SLEQCNT^=0                   /* ARE THERE STILL GTFBCB ON THE
*                                      SLE                           */
*     THEN                                                         0992
         L     @10,SLEPTR                                          0992
         L     @10,SLEQCNT(,@10)                                   0992
         LTR   @10,@10                                             0992
         BNZ   @RT00992                                            0992
*     GO TO IPURGE;                 /* YES KEEP ON REMOVING THEM     */
*   ELSE                                                           0994
*     GO TO SLEFREE;                /* NO, THEN GO RETURN THE SLE FOR
*                                      FURTHER USE                   */
         B     SLEFREE                                             0994
*                                                                  0995
*/*POSTEXIT: S SCHEDULE: AHLRDSRB->SRB TO CAUSE POSTING OF REQUESTER */
*/*EXIT: R RETURN                                                    */
*                                                                  0995
*POSTEXIT:                                                         0995
*   AHLRDPTR=AHLRDSRB;              /* PUT SRB ADDR IN A REG         */
POSTEXIT L     AHLRDPTR,AHLRDSRB(,AHLRDPTR)                        0995
*   GEN CODE NOEXIT NODEFS NOSETS SEQFLOW NOFLOWS REFS(AHLRDPL,AHLRDPTR
*       ,CVTPTR,CVTLSMQ,SRBFLNK,SRBSECT,CVTMAP)                    0996
*       (SCHEDULE   SRB=(AHLRDPTR),SCOPE=LOCAL);/* SCHEDULE THE SRB
*                                      POINTED TO BY THE REQUEST   0996
*                                      PLIST. THIS WILL CAUSE THE  0996
*                                      POSTING OF THE REQUESTER'S ECB
*                                      WITH THE CODE IN AHLRDPX2     */
         SCHEDULE   SRB=(AHLRDPTR),SCOPE=LOCAL
*   CURRSRB=0;                      /* REMOVE SERV DMP INDICATOR   0997
*                                                            @ZA27832*/
         SLR   @10,@10                                             0997
         ST    @10,CURRSRB                                         0997
*EXIT:                                                             0998
*   RETURN;                                                        0998
@EL00007 DS    0H                                                  0998
@EF00007 DS    0H                                                  0998
@ER00007 LM    @14,@12,@SA00007                                    0998
         BR    @14                                                 0998
*                                                                  0999
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS SECTION OF CODE BUILDS THE LIST OF PAGES TO BE PASSED TO */
*   /* SVCDUMP SO THAT PRINTDUMP CAN RECONSTRUCT THE NECESSARY       */
*   /* PORTIONS OF THIS ADDRESS SPACE                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0999
*/*PGLSTBLD: S GETMAIN: SP=SLESP FOR SVCPLIST                        */
*/* P PLINDEX=0                                                      */
*/* N PUT PAGES FOR COMMON CONTROL BLOCKS IN IN COMPLIMENT FORM      */
*/* S PGLSTIN: (COMMON, CVTGTFA-> MCHEAD)                            */
*/* S PGLSTIN: (COMMON, MCHCUR->MCCE)                                */
*/* P MCQEPTRR= MCCEQEA-> MCQEMCQE                                   */
*/*%T: D (YES,%S,NO,) MCQEPTRR=0                                     */
*/* S PGLSTIN: (COMMON, MCQEPTRR->MCQE)                              */
*/* P (,%T) MCQEPTR= MCQEPTRR-> MCQEMCQE                             */
*/*%S: S PGLSTIN: (COMMON, PCTPTR->GTFPCT)                           */
*/* N PUT PAGES FOR NONCOMMON CONTROL BLKS IN IN NORMAL FORM         */
*/* S PGLSTIN: (PRIVATE, SLEPAGE->SLE)                               */
*/* P I=1                                                            */
*/* D (YES,%U,NO,) BCBPAGE(I)=0 OR I>4                               */
*/* S PGLSTIN: (PRIVATE, BCBPAGE(I)-> GTFBCB)                        */
*/* P INCREMENT I BY 1                                               */
*/*%U: P BCBHOLDR= SLEPTR->SLEBCBQ I=1                               */
*/*%X: D (YES,,NO,PGLSTOK) I<=SLEPTR-> SLEQCNT                       */
*/* S PGLSTIN: (PRIVATE, GBUFRPTR-> GTFBUFR)                         */
*/* P (,%X) BCBHOLDR= BCBHOLDR-> BCBCHAIN INCREMENT I BY 1           */
*                                                                  0999
*PGLSTBLD:                                                         0999
*   DO;                             /* GETMAIN (EC)                0999
*                                      LV(LENGTH(SVCPLIST))        0999
*                                      A(SLEPGLST) SP(SLESP)         */
PGLSTBLD DS    0H                                                  1000
*     RESPECIFY                                                    1000
*      (GPR01P) RESTRICTED;                                        1000
*     I004=I004&&I004;              /* INIT LIST                     */
         XC    I004(10),I004                                       1001
*     I00404='20'X;                 /* TYPE                          */
         MVI   I00404,X'20'                                        1002
*     I00401=LENGTH(SVCPLIST);      /* LENGTH                        */
         MVC   I00401(4),@CF02320                                  1003
*     I00403=ADDR(SLEPGLST);        /* ADDR OF ADDR LIST             */
         L     @10,SLEPTR                                          1004
         LA    @10,SLEPGLST(,@10)                                  1004
         STCM  @10,7,I00403                                        1004
*     I00405=SLESP;                 /* SUBPOOL VALUE                 */
         MVI   I00405,X'07'                                        1005
*     GPR01P=ADDR(I004);            /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         1006
*     SVC(4);                       /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   1007
*     RESPECIFY                                                    1008
*      (GPR01P) UNRESTRICTED;                                      1008
*   END;                            /* GETMAIN (EC)                1009
*                                      LV(LENGTH(SVCPLIST))        1009
*                                      A(SLEPGLST) SP(SLESP) GET THE
*                                      SPACE FOR THE SVCDUMP PAGE  1009
*                                      LIST                          */
*   IF RETCODE^=0 THEN              /*                       @ZA30485*/
         LTR   RETCODE,RETCODE                                     1010
         BZ    @RF01010                                            1010
*     DO;                                                          1011
*       DO;                         /* WTOP MF(E,AHL032)             */
*         RFY                                                      1013
*           GPR01P RSTD;            /* RESTRICT REG 1                */
*         GPR01P=ADDR(AHL032);      /* ADDRESS CONTROL PROGRAM LIST  */
         L     GPR01P,@CA01942                                     1014
*         SVC(35);                  /* ISSUE WTO SVC                 */
         SVC   35                                                  1015
*         RFY                                                      1016
*           GPR01P UNRSTD;          /* RELEASE REG 1                 */
*       END;                        /* WTOP MF(E,AHL032)     @ZA30485*/
*       AHLRDPX2=PROBERR;           /* SET RET CODE          @ZA30485*/
         MVC   AHLRDPX2(4,AHLRDPTR),@CF00092                       1018
*       GO TO POSTEXIT;             /* POST REQUESTOR        @ZA30485*/
         B     POSTEXIT                                            1019
*     END;                                                         1020
*   PLINDEX=0;                      /* INITIALIZE THE PAGE LIST      */
@RF01010 L     @10,SLEPTR                                          1021
         L     @01,SLEPGLST(,@10)                                  1021
         SLR   @10,@10                                             1021
         ST    @10,PLINDEX(,@01)                                   1021
*   CALL PGLSTIN(COMMON,MCHEAD,LENGTH(MCHEAD));                    1022
         MVC   @AL00001(12),@AL01022                               1022
         L     @10,CVTPTR                                          1022
         L     @01,CVTGTFA-1(,@10)                                 1022
         LA    @01,0(,@01)                                         1022
         ST    @01,@AL00001+4                                      1022
         LA    @01,@AL00001                                        1022
         BAL   @14,PGLSTIN                                         1022
*   CALL PGLSTIN(COMMON,MCHCUR->MCCE,LENGTH(MCCE));                1023
         MVC   @AL00001(12),@AL01023                               1023
         L     @10,CVTPTR                                          1023
         L     @01,CVTGTFA-1(,@10)                                 1023
         L     @01,MCHCUR(,@01)                                    1023
         ST    @01,@AL00001+4                                      1023
         LA    @01,@AL00001                                        1023
         BAL   @14,PGLSTIN                                         1023
*   MCQEPTRR=MCHCUR->MCCEQEA;                                      1024
         L     @10,CVTPTR                                          1024
         L     @01,CVTGTFA-1(,@10)                                 1024
         L     @01,MCHCUR(,@01)                                    1024
         L     @10,MCCEQEA(,@01)                                   1024
         ST    @10,MCQEPTRR                                        1024
*   DO WHILE(MCQEPTRR^=0);                                         1025
         B     @DE01025                                            1025
@DL01025 DS    0H                                                  1026
*     CALL PGLSTIN(COMMON,MCQEPTRR->MCQE,LENGTH(MCQE));            1026
         MVC   @AL00001(12),@AL01026                               1026
         L     @10,MCQEPTRR                                        1026
         ST    @10,@AL00001+4                                      1026
         LA    @01,@AL00001                                        1026
         BAL   @14,PGLSTIN                                         1026
*     MCQEPTRR=MCQEPTRR->MCQEMCQE;                                 1027
         L     @10,MCQEPTRR                                        1027
         L     @10,MCQEMCQE(,@10)                                  1027
         ST    @10,MCQEPTRR                                        1027
*   END;                                                           1028
@DE01025 L     @10,MCQEPTRR                                        1028
         LTR   @10,@10                                             1028
         BNZ   @DL01025                                            1028
*   CALL PGLSTIN(COMMON,GTFPCT,LENGTH(GTFPCT));                    1029
         MVC   @AL00001(12),@AL01029                               1029
         ST    PCTPTR,@AL00001+4                                   1029
         LA    @01,@AL00001                                        1029
         BAL   @14,PGLSTIN                                         1029
*   CALL PGLSTIN(PRIVATE,SLEPAGE->SLE,PGBYTES);                    1030
         MVC   @AL00001(12),@AL01030                               1030
         L     @01,SLEPAGE(,PCTPTR)                                1030
         ST    @01,@AL00001+4                                      1030
         LA    @01,@AL00001                                        1030
         BAL   @14,PGLSTIN                                         1030
*   I=1;                                                           1031
         MVC   I(4),@CF00070                                       1031
*   DO WHILE(I<=4&BCBPAGE(I)^=0);                                  1032
         B     @DE01032                                            1032
@DL01032 DS    0H                                                  1033
*     CALL PGLSTIN(PRIVATE,BCBPAGE(I)->GTFBCB,PGBYTES);            1033
         MVC   @AL00001(12),@AL01033                               1033
         L     @10,I                                               1033
         SLA   @10,2                                               1033
         L     @01,BCBPAGE-4(@10,PCTPTR)                           1033
         ST    @01,@AL00001+4                                      1033
         LA    @01,@AL00001                                        1033
         BAL   @14,PGLSTIN                                         1033
*     I=I+1;                                                       1034
         LA    @10,1                                               1034
         AL    @10,I                                               1034
         ST    @10,I                                               1034
*   END;                                                           1035
@DE01032 L     @10,I                                               1035
         C     @10,@CF00047                                        1035
         BH    @DC01032                                            1035
         SLA   @10,2                                               1035
         L     @10,BCBPAGE-4(@10,PCTPTR)                           1035
         LTR   @10,@10                                             1035
         BNZ   @DL01032                                            1035
@DC01032 DS    0H                                                  1036
*   I=1;                                                           1036
         MVC   I(4),@CF00070                                       1036
*   BCBHOLDR=SLEBCBQ;                                              1037
         L     @10,SLEPTR                                          1037
         L     @10,SLEBCBQ(,@10)                                   1037
         ST    @10,BCBHOLDR                                        1037
*   DO WHILE(I<=SLEQCNT);                                          1038
         B     @DE01038                                            1038
@DL01038 DS    0H                                                  1039
*     CALL PGLSTIN(PRIVATE,BCBHOLDR->GBUFRPTR->GTFBUFR,LENGTH(GTFBUFR))
*         ;                                                        1039
         MVC   @AL00001(12),@AL01039                               1039
         L     @10,BCBHOLDR                                        1039
         L     @01,GBUFRPTR(,@10)                                  1039
         ST    @01,@AL00001+4                                      1039
         LA    @01,@AL00001                                        1039
         BAL   @14,PGLSTIN                                         1039
*     BCBHOLDR=BCBHOLDR->BCBCHAIN;                                 1040
         L     @10,BCBHOLDR                                        1040
         L     @10,BCBCHAIN(,@10)                                  1040
         ST    @10,BCBHOLDR                                        1040
*     I=I+1;                                                       1041
         LA    @10,1                                               1041
         AL    @10,I                                               1041
         ST    @10,I                                               1041
*   END;                                                           1042
@DE01038 L     @10,SLEPTR                                          1042
         CLC   I(4),SLEQCNT(@10)                                   1042
         BNH   @DL01038                                            1042
*   GO TO PGLSTOK;                  /* ONCE THE LIST IS BUILT RETURN
*                                      TO PROCESSING WHERE WE LEFT 1043
*                                      OFF TO COME BUILT THE LIST    */
         B     PGLSTOK                                             1043
*                                                                  1044
*/*AHLXWRIT: END                                                     */
*                                                                  1044
*                                                                  1044
*/*BCBOFF: CHART (AMODE,SEQ)                                         */
*/*BCBOFF: HEADER                                                  1044
*/*AHLXWRIT    INTERNAL SUBROUTINES                                1044
*/*                                                   PAGE   #       */
*/*BCBOFF: E SLEPTR                                                  */
*/*P RLSEBUF= SLEBCBQ SLEBCBQ= RLSEBUF-> SQCHAIN                     */
*/* P DECREMENT SLEPTR->SLEQCNT BY 1                                 */
*/*XWRITCS: P SWAPBCB= RLSEBUF-> BCBSWAP FOR CS LOGIC                */
*/* D (YES,,NO,%A2X) SWAPUSE=1                                       */
*                                                                  1044
*BCBOFF:                                                           1044
*   PROC;                                                          1044
BCBOFF   STM   @14,@12,12(@13)                                     1044
*   RLSEBUF=SLEBCBQ;                                               1045
         L     @10,SLEPTR                                          1045
         L     @09,SLEBCBQ(,@10)                                   1045
         ST    @09,RLSEBUF                                         1045
*   SLEBCBQ=RLSEBUF->SQCHAIN;       /* REMOVE FIRST GTFBCB FROM THIS
*                                      SLE                           */
         L     @09,SQCHAIN(,@09)                                   1046
         ST    @09,SLEBCBQ(,@10)                                   1046
*   SLEQCNT=SLEQCNT-1;              /* DECR THE COUNT OT THE # OF  1047
*                                      GTFBCB ON THIS SLE            */
         L     @09,SLEQCNT(,@10)                                   1047
         BCTR  @09,0                                               1047
         ST    @09,SLEQCNT(,@10)                                   1047
*XWRITCS:                                                          1048
*   SWAPBCB=RLSEBUF->BCBSWAP;       /* BECAUSE THE PORTIONS OF THE 1048
*                                      GTFBCB CONTAINED IN BCBSWAP 1048
*                                      REQUIRE MP SERIALIZATION VIA
*                                      CS THE VALUES MUST BE SAVED 1048
*                                      BEFORE REFERENCING THEM & THEN
*                                      ONLY THE STABLE COPY MAY BE 1048
*                                      REFERENCED                    */
XWRITCS  LA    @10,WORKAREA                                        1048
         L     @09,RLSEBUF                                         1048
         L     @04,BCBSWAP(,@09)                                   1048
         ST    @04,SWAPBCB(,@10)                                   1048
*   IF SWAPUSE=1                    /* WAS THE GTFBCB ON ONLY 1 QUEUE*/
*     THEN                                                         1049
         CLC   SWAPUSE(2,@10),@CH00070                             1049
         BNE   @RF01049                                            1049
*     DO;                           /* YES                           */
*                                                                  1050
*       /*************************************************************/
*       /*                                                           */
*       /* BECAUSE THE GTFBCB WAS ON ONLY 1 QUEUE IT IS NOW NOT ON   */
*       /* ANY QUEUE. UNDER THESE CONDITIONS ONLY THIS EXECUTION OF  */
*       /* THIS CODE CAN LOCATE IT. THEREFORE UNTIL IT IS PLACED ONTO*/
*       /* ANOTHER QUEUE NO SPECIAL HANDLING, SERIALIZATION, OR MP   */
*       /* LOGIC IS NEEDED TO MODIFY IT. ALSO IT MUST BE MADE        */
*       /* AVAILABLE AGAIN BY BEING PUT ONTO THE RELEASE QUEUE       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  1051
*/* N MP LOGIC NOT NEEDED BECAUSE SWAPUSE=1                          */
*/* P DIAGNOSTIC: RLSEBUF-> SLEQFLAG=OFF & RQFLAG=ON                 */
*/* P SAVE A STABLE COPY OF RQHEAD                                   */
*/*ONTORQCS: P RLSEBUF-> RQCHAIN=STABLE COPY RQHEAD                  */
*/* P CS RLSEBUF INTO RQHEAD                                         */
*/* D (FAIL,ONTORQCS,OK,%EOLX) CS?                                   */
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  1051
*       RLSEBUF->SQFLAG=OFF;        /* TURN OFF THE GTFBCB FLAG THAT
*                                      SHOWS IT ON THE SLE           */
*       RLSEBUF->RQFLAG=ON;         /* TURN ON THE RELEASE QUEUE FLAG*/
         OI    RQFLAG(@09),B'00000100'                             1052
         NI    SQFLAG(@09),B'11101111'                             1052
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  1053
*       RFY                                                        1053
*         COMPREG RSTD;                                            1053
*       COMPREG=RQHEAD;             /* MAKE A STABLE COPY OF RQHEAD  */
         L     COMPREG,RQHEAD(,PCTPTR)                             1054
*ONTORQCS:                                                         1055
*       RLSEBUF->RQCHAIN=COMPREG;   /* PUT RQHEAD INTO CHAIN FIELD OF
*                                      THE GTFBCB TO BE ADDED        */
ONTORQCS L     @10,RLSEBUF                                         1055
         ST    COMPREG,RQCHAIN(,@10)                               1055
*       CS(COMPREG,RLSEBUF,RQHEAD); /* VERIFY RQHEAD HASN'T CHANGED
*                                      AND ADD THE GTFBCB TO THE HEAD
*                                      OF THE QUEUE                  */
         CS    COMPREG,@10,RQHEAD(PCTPTR)                          1056
*       BC(4,ONTORQCS);             /* IF IT FAILED TRY AGAIN        */
         BC    4,ONTORQCS                                          1057
*       RFY                                                        1058
*         COMPREG UNRSTD;                                          1058
*     END;                                                         1059
*                                                                  1060
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THE USE COUNT IS NOT 1 THE GTFBCB IS STILL IN USE ON       */
*   /* ANOTHER QUEUE SO JUST DECREMENT IT                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1060
*/*%A2: P DECREMENT SWAPUSE 1 & DIAGNOSTIC SQFSWAP=OFF               */
*/* P CS NEW VALUES FROM SWAPBCB INTO RLSEBUF-> BCBSWAP              */
*/* D (OK,,FAIL,XWRITCS) CS?                                         */
*/*%EOLX: R RETURN                                                   */
*                                                                  1060
*   ELSE                                                           1060
*     DO;                           /* NO, THE GTFBCB IS STILL ON AT
*                                      LEAST ONE QUEUE               */
         B     @RC01049                                            1060
@RF01049 DS    0H                                                  1061
*       COMPBCB=SWAPBCB;            /* MAKE ANOTHER COPY FOR THE   1061
*                                      COMPARE BEFORE MODIFYING THE
*                                      ONE FOR THE SWAP              */
         LA    @10,WORKAREA                                        1061
         L     @09,SWAPBCB(,@10)                                   1061
         ST    @09,COMPBCB(,@10)                                   1061
*       SWAPUSE=SWAPUSE-1;          /* PREPARE A DECREMENTED BCBUSE
*                                      FOR THE CS                    */
         LH    @09,SWAPUSE(,@10)                                   1062
         BCTR  @09,0                                               1062
         STH   @09,SWAPUSE(,@10)                                   1062
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  1063
*       SQFSWAP=OFF;                /* PREPARE THE NEW QUEUE FLAGS   */
         NI    SQFSWAP(@10),B'11101111'                            1063
*/* OPTIONAL DIAGNOSTIC AID                                          */
*                                                                  1064
*       CS(COMPBCB,SWAPBCB,RLSEBUF->BCBSWAP);/* THIS WILL EITHER   1064
*                                      PLACE THE UPDATED VALUES INTO
*                                      THE GTFBCB OR NOT, IF THEY  1064
*                                      HAVE BECOME INVALID           */
         L     @09,COMPBCB(,@10)                                   1064
         L     @04,SWAPBCB(,@10)                                   1064
         L     @01,RLSEBUF                                         1064
         CS    @09,@04,BCBSWAP(@01)                                1064
         BZ    @BC01064                                            1064
         ST    @09,COMPBCB(,@10)                                   1064
@BC01064 DS    0H                                                  1065
*       BC(4,XWRITCS);              /* IF THE DATA WAS INVALIDATED,
*                                      GO BACK AND START OVER AGAIN  */
         BC    4,XWRITCS                                           1065
*     END;                                                         1066
*   END BCBOFF;                                                    1067
@EL00008 DS    0H                                                  1067
@EF00008 DS    0H                                                  1067
@ER00008 LM    @14,@12,12(@13)                                     1067
         BR    @14                                                 1067
*                                                                  1068
*/*PGLSTIN: E ASTYPE ITEM ILENGTH                                    */
*/* D (YES,%EM,NO,) PLINDEX>= DIM(PAGELIST)                          */
*/* P PGADDR= ADDR(ITEM) &'FFFFF000'X                                */
*/*PLENTRY: P INCREMENT PLINDEX BY 1                                 */
*/* P SLEPTR-> SLEPLIST-> PAGELIST (PLINDEX)= PGADDR                 */
*/* D (NO,%CE,YES,) ASTYPE=COMMON                                    */
*/* P SLEPTR-> SLEPLIST-> COMMONPG (PLINDEX)=ON                      */
*/*%CE: P ADD 4096 TO PGADDR                                         */
*/* D (YES,PLENTRY,NO,) ADDR (ITEM) +ILENGTH >PGADDR                 */
*/*%EM: R END OF MACRO GENERATED CODE                                */
*/*BCBOFF: END                                                       */
*                                                                  1068
*PGLSTIN:                                                          1068
*   PROC(ASTYPE,ITEM,ILENGTH);                                     1068
PGLSTIN  STM   @14,@12,12(@13)                                     1068
         MVC   @PC00009(12),0(@01)                                 1068
*   IF PLINDEX<DIM(PAGELIST) THEN                                  1069
         L     @10,SLEPTR                                          1069
         L     @01,SLEPGLST(,@10)                                  1069
         CLC   PLINDEX(4,@01),@CF01795                             1069
         BNL   @RF01069                                            1069
*     DO;                                                          1070
*       PGADDR=ADDR(ITEM)&'FFFFF000'X;                             1071
         L     @10,@PC00009+4                                      1071
         N     @10,@CF02294                                        1071
         ST    @10,PGADDR                                          1071
*PLENTRY:                                                          1072
*       PLINDEX=PLINDEX+1;                                         1072
PLENTRY  L     @10,SLEPTR                                          1072
         L     @10,SLEPGLST(,@10)                                  1072
         LA    @09,1                                               1072
         AL    @09,PLINDEX(,@10)                                   1072
         ST    @09,PLINDEX(,@10)                                   1072
*       PAGELIST(PLINDEX)=PGADDR;                                  1073
         SLA   @09,2                                               1073
         L     @04,PGADDR                                          1073
         ST    @04,PAGELIST-4(@09,@10)                             1073
*       IF ASTYPE=COMMON THEN                                      1074
         L     @04,@PC00009                                        1074
         CLI   ASTYPE(@04),X'00'                                   1074
         BNE   @RF01074                                            1074
*         COMMONPG(PLINDEX)=ON;                                    1075
         ALR   @10,@09                                             1075
         OI    COMMONPG-4(@10),B'10000000'                         1075
*       PGADDR=PGADDR+PGBYTES;                                     1076
@RF01074 L     @10,@CF01818                                        1076
         AL    @10,PGADDR                                          1076
         ST    @10,PGADDR                                          1076
*       IF ADDR(ITEM)+ILENGTH-1>=PGADDR THEN                       1077
         L     @09,@PC00009+4                                      1077
         L     @04,@PC00009+8                                      1077
         AL    @09,ILENGTH(,@04)                                   1077
         BCTR  @09,0                                               1077
         CR    @09,@10                                             1077
         BNL   @RT01077                                            1077
*         GO TO PLENTRY;                                           1078
*     END;                                                         1079
*   END PGLSTIN;                                                   1080
@EL00009 DS    0H                                                  1080
@EF00009 DS    0H                                                  1080
@ER00009 LM    @14,@12,12(@13)                                     1080
         BR    @14                                                 1080
*   RFY                                                            1081
*     AHLRDPTR UNRSTD;                                             1081
*   END AHLXWRIT;                                                  1082
         B     @EL00007                                            1082
*                                                                  1083
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS INTERNAL PROCEDURE CHECKS ALL INDICATORS WHICH SHOW THAT */
*   /* SQA HAS BEEN GOTTEN OR ADDRESS SPACE HAS BEEN FIXED, AND      */
*   /* EITHER FREES IT OR RELEASES IT                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1083
*/*SQAPGFRE: CHART (AMODE,SEQ)                                       */
*/*SQAPGFRE: HEADER                                                1083
*/*INTERNAL SUBROUTINE USED BY THE WRITER AND AHLWSTAE TO UNFIX PAGE
*/*S AND FREEMAIN SQA                                    PAGE   #    */
*/*SQAPGFRE: E FREE SQA & PAGES                                      */
*/* N NOSAVEAREA, GTFSSRB MUST NOT BE IN USE                         */
*/* D (YES,,NO,%SB1) WSMODEND^=0                                     */
*/* P WSMODBEG=0 WSMODEND=0                                          */
*/* S PGFREE: AHLWSMOD                                               */
*                                                                  1083
*SQAPGFRE:                                                         1083
*   PROC OPTIONS(NOSAVEAREA);                                      1083
SQAPGFRE STM   @14,@12,12(@13)                                     1083
*   IF WSMODEND^=0                  /* PGFREE AHLWSMOD IF IT IS FIXED*/
*     THEN                                                         1084
         SLR   @10,@10                                             1084
         L     @09,WSMODEND(,PCTPTR)                               1084
         CR    @09,@10                                             1084
         BE    @RF01084                                            1084
*     DO;                                                          1085
*       FIXWORD(1)=WSMODBEG;                                       1086
         L     @01,WSMODBEG(,PCTPTR)                               1086
         ST    @01,FIXWORD                                         1086
*       FIXWORD(2)=WSMODEND;                                       1087
         ST    @09,FIXWORD+4                                       1087
*       WSMODBEG=0;                                                1088
         ST    @10,WSMODBEG(,PCTPTR)                               1088
*       WSMODEND=0;                                                1089
         ST    @10,WSMODEND(,PCTPTR)                               1089
*       DO;                         /* PGFREE(R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)         */
*         RESPECIFY                                                1091
*          (GPR00P,                                                1091
*           GPR01P) RESTRICTED;                                    1091
*         GPR00P=0;                 /* INDICATE NO PAGE ECB          */
         SLR   GPR00P,GPR00P                                       1092
*         GPR01P=ADDR(FIXWORD(1)->PLACE);/* PAGE ADDR                */
         L     GPR01P,FIXWORD                                      1093
*         RESPECIFY                                                1094
*           GPR15P RESTRICTED;                                     1094
*         GPR15P=ADDR(FIXWORD(2)->PLACE);/* VSL ADDR                 */
         LR    GPR15P,@09                                          1095
*         GPR01P=GPR01P'20000000'X;/* R, PGFREE & RELEASE FLAG      */
         O     GPR01P,@CF02300                                     1096
*         SVC(113);                 /* ISSUE PGFREE SVC              */
         SVC   113                                                 1097
*         RESPECIFY                                                1098
*          (GPR00P,                                                1098
*           GPR01P,                                                1098
*           GPR15P) UNRESTRICTED;                                  1098
*       END;                        /* PGFREE(R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)         */
*     END;                                                         1100
*                                                                  1100
*   /*****************************************************************/
*   /*                                                               */
*   /* FREE ANY PAGES OF GTFBCB THAT HAVE BEEN FIXED IN REAL STORAGE */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1101
*/*%SB1: P LOOP INDEX I=1                                            */
*/*%C: D (YES,%B,NO,) I>BCBPAGEI                                     */
*/* D (YES,%SB2,NO,) BCBPAGE(I)=0                                    */
*/* P BCBPAGE(I)=0                                                   */
*/* S PGFREE: BCBPAGE(I)-> PAGE OF GTFBCB                            */
*/*%SB2: P (,%C) I=I+1                                               */
*/*%B: P BCBPAGEI=0                                                  */
*                                                                  1101
*   DO I=1 TO BCBPAGEI;                                            1101
@RF01084 LA    @10,1                                               1101
         B     @DE01101                                            1101
@DL01101 DS    0H                                                  1102
*     IF BCBPAGE(I)^=0 THEN                                        1102
         SLR   @09,@09                                             1102
         SLA   @10,2                                               1102
         L     @01,BCBPAGE-4(@10,PCTPTR)                           1102
         CR    @01,@09                                             1102
         BE    @RF01102                                            1102
*       DO;                                                        1103
*         FIXWORD(1)=BCBPAGE(I);                                   1104
         ST    @01,FIXWORD                                         1104
*         FIXWORD(2)=FIXWORD(1)+PGBYTES;                           1105
         AL    @01,@CF01818                                        1105
         ST    @01,FIXWORD+4                                       1105
*         BCBPAGE(I)=0;                                            1106
         ST    @09,BCBPAGE-4(@10,PCTPTR)                           1106
*         DO;                       /* PGFREE(R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)         */
*           RESPECIFY                                              1108
*            (GPR00P,                                              1108
*             GPR01P) RESTRICTED;                                  1108
*           GPR00P=0;               /* INDICATE NO PAGE ECB          */
         SLR   GPR00P,GPR00P                                       1109
*           GPR01P=ADDR(FIXWORD(1)->PLACE);/* PAGE ADDR              */
         L     GPR01P,FIXWORD                                      1110
*           RESPECIFY                                              1111
*             GPR15P RESTRICTED;                                   1111
*           GPR15P=ADDR(FIXWORD(2)->PLACE);/* VSL ADDR               */
         L     @10,FIXWORD+4                                       1112
         LR    GPR15P,@10                                          1112
*           GPR01P=GPR01P'20000000'X;/* R, PGFREE & RELEASE FLAG    */
         O     GPR01P,@CF02300                                     1113
*           SVC(113);               /* ISSUE PGFREE SVC              */
         SVC   113                                                 1114
*           RESPECIFY                                              1115
*            (GPR00P,                                              1115
*             GPR01P,                                              1115
*             GPR15P) UNRESTRICTED;                                1115
*         END;                      /* PGFREE(R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)         */
*       END;                                                       1117
*   END;                                                           1118
@RF01102 LA    @10,1                                               1118
         AL    @10,I                                               1118
@DE01101 ST    @10,I                                               1118
         C     @10,BCBPAGEI                                        1118
         BNH   @DL01101                                            1118
*   BCBPAGEI=0;                                                    1119
         SLR   @10,@10                                             1119
         ST    @10,BCBPAGEI                                        1119
*                                                                  1120
*   /*****************************************************************/
*   /*                                                               */
*   /* FREE ANY PAGE OF SLE FIXED IN REAL STORAGE                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1120
*/* D (YES,,NO,%SB3) SLEPAGE^=0                                      */
*/* P SLEPAGE=0                                                      */
*/* S PGFREE: THE PAGE OF SLE                                        */
*                                                                  1120
*   IF SLEPAGE^=0 THEN                                             1120
         L     @09,SLEPAGE(,PCTPTR)                                1120
         CR    @09,@10                                             1120
         BE    @RF01120                                            1120
*     DO;                                                          1121
*       FIXWORD(1)=SLEPAGE;                                        1122
         ST    @09,FIXWORD                                         1122
*       FIXWORD(2)=FIXWORD(1)+PGBYTES;                             1123
         AL    @09,@CF01818                                        1123
         ST    @09,FIXWORD+4                                       1123
*       SLEPAGE=0;                                                 1124
         ST    @10,SLEPAGE(,PCTPTR)                                1124
*       DO;                         /* PGFREE(R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)         */
*         RESPECIFY                                                1126
*          (GPR00P,                                                1126
*           GPR01P) RESTRICTED;                                    1126
*         GPR00P=0;                 /* INDICATE NO PAGE ECB          */
         SLR   GPR00P,GPR00P                                       1127
*         GPR01P=ADDR(FIXWORD(1)->PLACE);/* PAGE ADDR                */
         L     GPR01P,FIXWORD                                      1128
*         RESPECIFY                                                1129
*           GPR15P RESTRICTED;                                     1129
*         GPR15P=ADDR(FIXWORD(2)->PLACE);/* VSL ADDR                 */
         LR    GPR15P,@09                                          1130
*         GPR01P=GPR01P'20000000'X;/* R, PGFREE & RELEASE FLAG      */
         O     GPR01P,@CF02300                                     1131
*         SVC(113);                 /* ISSUE PGFREE SVC              */
         SVC   113                                                 1132
*         RESPECIFY                                                1133
*          (GPR00P,                                                1133
*           GPR01P,                                                1133
*           GPR15P) UNRESTRICTED;                                  1133
*       END;                        /* PGFREE(R) A(FIXWORD(1)->PLACE)
*                                      EA(FIXWORD(2)->PLACE)         */
*     END;                                                         1135
*                                                                  1135
*   /*****************************************************************/
*   /*                                                               */
*   /* FREEMAIN THE SQA FOR THE SRB FOR AHLSBUF IF IT HAS BEEN GOTTEN*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1136
*/*%SB3: D (YES,%IS1,NO,) IS INTERNAL SRBPTR=0                       */
*/* P SRBPTR=0                                                       */
*/* S FREEMAIN: SRB FOR AHLSBUF                                      */
*                                                                  1136
*   IF SRBPTR^=0 THEN                                              1136
@RF01120 L     @10,SRBPTR                                          1136
         SLR   @09,@09                                             1136
         CR    @10,@09                                             1136
         BE    @RF01136                                            1136
*     DO;                                                          1137
*       GETWORD=SRBPTR&'7FFFFFFF'X;                                1138
         N     @10,@CF02220                                        1138
         ST    @10,GETWORD                                         1138
*       SRBPTR=0;                                                  1139
         ST    @09,SRBPTR                                          1139
*       DO;                         /* FREEMAIN(R) LV(LENGTH(SRBSECT)
*                                      )SP(SQASP)A(GETWORD->SRB)     */
*         RESPECIFY                                                1141
*          (GPR01F,                                                1141
*           GPR00F) RESTRICTED;                                    1141
*         GPR00F=LENGTH(SRBSECT);   /* LENGTH REQUESTED              */
         LA    GPR00F,60                                           1142
*         GPR01F=SQASP;             /* SP IN REG 1                   */
         LA    GPR01F,245                                          1143
*         GEN(SLL   GPR01F,24)                                     1144
*         NODEFS NOREFS NOSETS NOEXIT NOFLOWS SEQFLOW;             1144
         SLL   GPR01F,24
*         GPR00F=GPR00FGPR01F;     /* SP IN HI BYTE                 */
         OR    GPR00F,GPR01F                                       1145
*         GPR01F=ADDR(GETWORD->SRB);/* SET REGISTER ONE              */
         L     GPR01F,GETWORD                                      1146
*         SVC(10);                  /* R-FORM OF GETMAIN             */
         SVC   10                                                  1147
*         RESPECIFY                                                1148
*          (GPR01F,                                                1148
*           GPR00F) UNRESTRICTED;                                  1148
*       END;                        /* FREEMAIN(R) LV(LENGTH(SRBSECT)
*                                      )SP(SQASP)A(GETWORD->SRB)     */
*     END;                                                         1150
*                                                                  1151
*   /*****************************************************************/
*   /*                                                               */
*   /* FREEMAIN THE SQA FOR ANY GTFBLOK THAT HAVE BEEN GOTTEN        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1151
*/*%IS1: P START LOOP AT BEGINNING OF BLOKLIST I=0                   */
*/*%FLOOP: D (YES,%BFRET,NO,) IS THIS THE END OF BLOKLIST            */
*/* D (YES,%ADVAN,NO,) IS THIS BLOKLIST ENTRY 0                      */
*/* N WHEN TRMWRIT IS POSTED ALL USE OF GTFBLOK BY FGBR WILL BE    1151
*/*COMPLETE                                                          */
*/* S FREEMAIN: BLOKLIST(I)-> GTFBLOK                                */
*/* P BLOKLIST(I)=0                                                  */
*/*%ADVAN: P (,%FLOOP) ADVANCE TO THE NEXT BLOKLIST ENTRY I=I+1      */
*/*%BFRET: P BLOKINDX=0                                              */
*/* R RETURN                                                         */
*/*SQAPGFRE: END                                                     */
*                                                                  1151
*   DO I=1 TO BLOKINDX;                                            1151
@RF01136 LA    @10,1                                               1151
         B     @DE01151                                            1151
@DL01151 DS    0H                                                  1152
*     IF BLOKLIST(I)^=0 THEN                                       1152
         SLR   @09,@09                                             1152
         SLA   @10,2                                               1152
         L     @01,BLOKLIST-4(@10)                                 1152
         CR    @01,@09                                             1152
         BE    @RF01152                                            1152
*       DO;                                                        1153
*         GETWORD=BLOKLIST(I);                                     1154
         ST    @01,GETWORD                                         1154
*         BLOKLIST(I)=0;                                           1155
         ST    @09,BLOKLIST-4(@10)                                 1155
*         DO;                       /* FREEMAIN(R) LV(LENGTH(GTFBLOK)
*                                      )SP(SQASP)A(GETWORD->GTFBLOK) */
*           RESPECIFY                                              1157
*            (GPR01F,                                              1157
*             GPR00F) RESTRICTED;                                  1157
*           GPR00F=LENGTH(GTFBLOK); /* LENGTH REQUESTED              */
         L     GPR00F,@CF02311                                     1158
*           GPR01F=SQASP;           /* SP IN REG 1                   */
         LA    GPR01F,245                                          1159
*           GEN(SLL   GPR01F,24)                                   1160
*           NODEFS NOREFS NOSETS NOEXIT NOFLOWS SEQFLOW;           1160
         SLL   GPR01F,24
*           GPR00F=GPR00FGPR01F;   /* SP IN HI BYTE                 */
         OR    GPR00F,GPR01F                                       1161
*           GPR01F=ADDR(GETWORD->GTFBLOK);/* SET REGISTER ONE        */
         L     GPR01F,GETWORD                                      1162
*           SVC(10);                /* R-FORM OF GETMAIN             */
         SVC   10                                                  1163
*           RESPECIFY                                              1164
*            (GPR01F,                                              1164
*             GPR00F) UNRESTRICTED;                                1164
*         END;                      /* FREEMAIN(R) LV(LENGTH(GTFBLOK)
*                                      )SP(SQASP)A(GETWORD->GTFBLOK) */
*       END;                                                       1166
*   END;                                                           1167
@RF01152 LA    @10,1                                               1167
         AL    @10,I                                               1167
@DE01151 ST    @10,I                                               1167
         C     @10,BLOKINDX                                        1167
         BNH   @DL01151                                            1167
*   BLOKINDX=0;                                                    1168
         SLR   @10,@10                                             1168
         ST    @10,BLOKINDX                                        1168
*   END SQAPGFRE;                                                  1169
@EL00010 DS    0H                                                  1169
@EF00010 DS    0H                                                  1169
@ER00010 LM    @14,@12,12(@13)                                     1169
         BR    @14                                                 1169
@PB00010 DS    0H                                                  1170
*                                                                  1170
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS MACRO WILL GENERATE A PATCH AREA OF 5% OF THE MODULE     */
*   /* SIZE, AND NAME IT PATCHLOC. THE AREA WILL BE SET TO 0         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1170
*   DCL                                                            1170
*     PATCHLOC FIXED(31) STATIC;                                   1170
*   GEN DATA DEFS(PATCHLOC);                                       1171
*                                                                  1171
*   /*****************************************************************/
*   /*                                                               */
*   /* EPILOG MACRO. THIS MACRO IS REQUIRED IF ANY PLS SYSTEM MACRO  */
*   /* HAS BEEN USED. IT SHOULD COME AFTER ALL OTHER USES OF SYSTEM  */
*   /* MACROS                                                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  1172
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */
*     GPR00F FIXED(31) REG(0),                                     1172
*     GPR01F FIXED(31) REG(1),                                     1172
*     GPR15F FIXED(31) REG(15),                                    1172
*     GPR00P PTR(31) REG(0),                                       1172
*     GPR01P PTR(31) REG(1),                                       1172
*     GPR14P PTR(31) REG(14),                                      1172
*     GPR15P PTR(31) REG(15);                                      1172
*   DCL                                                            1173
*     1 I004 DEF(ILIST) BDY(WORD),  /* LIST FOR GETMAIN              */
*      2 I00401 PTR(31),            /* LENGTH                        */
*      2 I00402 CHAR(1),            /* HIARCHY                       */
*      2 I00403 PTR(24),            /* ADDR OF ADDR LIST             */
*      2 I00404 CHAR(1),            /* TYPE OF REQUEST               */
*      2 I00405 PTR(8);             /* SUBPOOL VALUE                 */
*   DCL                                                            1174
*     1 I107 DEF(ILIST) BDY(WORD),  /* DEFINE LIST                   */
*      2 I10701 BIT(8),             /* OR MASK                       */
*      2 I10702 BIT(8),             /* AND MASK                      */
*      2 I10703 BIT(8),             /* RESERVED                      */
*      2 I10704 BIT(8);                                            1174
*   DECLARE                                                        1175
*     ILIST CHAR(10) BDY(DWORD);    /* STANDARD LIST                 */
*   DECLARE                         /* COMMON VARIABLES              */
*     I256C CHAR(256) BASED,                                       1176
*     I031F FIXED(31) BASED,                                       1176
*     I031P PTR(31) BASED,                                         1176
*     I015F FIXED(15) BASED,                                       1176
*     I015P PTR(15) BASED,                                         1176
*     I008P PTR(8) BASED,                                          1176
*     I001C CHAR(1) BASED;                                         1176
*   END                                                            1177
*                                                                  1177
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (AHLWSEG1)                                       */
*/*%INCLUDE SYSLIB  (AHLWSEG2)                                       */
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */
*/*%INCLUDE SYSLIB  (CVT     )                                       */
*/*%INCLUDE SYSLIB  (IHAASCB )                                       */
*/*%INCLUDE SYSLIB  (IHASDWA )                                       */
*/*%INCLUDE SYSLIB  (IHASRB  )                                       */
*/*%INCLUDE SYSLIB  (MCQE    )                                       */
*/*%INCLUDE SYSLIB  (MCHEAD  )                                       */
*/*%INCLUDE SYSLIB  (MCCE    )                                       */
*/*%INCLUDE SYSLIB  (IMDMEDIT)                                       */
*/*%INCLUDE SYSLIB  (GTFPCT  )                                       */
*/*%INCLUDE SYSLIB  (SLE     )                                       */
*/*%INCLUDE SYSLIB  (GTFBCB  )                                       */
*/*%INCLUDE SYSLIB  (GTFBLOK )                                       */
*/*%INCLUDE SYSLIB  (RECMAP  )                                       */
*/*%INCLUDE SYSLIB  (MCAWSA  )                                       */
*                                                                  1177
*       ;                                                          1177
         B     @EL00001                                            1177
@DATA    DS    0H
@CH02006 DC    XL2'FFFF'
@SM02347 MVC   BLOKAREA+26(0,@10),LOSTBLOK
         DS    0F
@AL01022 DC    A(@CB01980)             LIST WITH   3 ARGUMENT(S)
         DS    F
         DC    A(@CF02321)
@AL01023 EQU   *                       LIST WITH   3 ARGUMENT(S)
@AL01026 DC    A(@CB01980)             LIST WITH   3 ARGUMENT(S)
         DS    F
         DC    A(@CF02322)
@AL01029 DC    A(@CB01980)             LIST WITH   3 ARGUMENT(S)
         DS    F
         DC    A(@CF02323)
@AL01030 EQU   *                       LIST WITH   3 ARGUMENT(S)
@AL01033 EQU   *                       LIST WITH   3 ARGUMENT(S)
@AL01039 DC    A(@CB01990)             LIST WITH   3 ARGUMENT(S)
         DS    F
         DC    A(@CF01818)
         DS    0F
@SA00001 DS    18F
@SA00007 DS    15F
@PC00009 DS    3F
@AL00001 DS    3A
@TF00001 DS    F
         DS    0F
@CF00070 DC    F'1'
@CH00070 EQU   @CF00070+2
@CF00075 DC    F'3'
@CF00047 DC    F'4'
@CF01098 DC    F'7'
@CF00039 DC    F'8'
@CF01832 DC    F'9'
@CF01848 DC    F'12'
@CF00130 DC    F'16'
@CF02003 DC    F'20'
@CF00092 DC    F'24'
@CF02317 DC    F'27'
@CF02318 DC    F'48'
@CF02321 DC    F'52'
@CF01936 DC    F'60'
@CF02319 DC    F'72'
@CF02322 DC    F'88'
@CF01795 DC    F'274'
@CF02323 DC    F'316'
@CF02023 DC    F'400'
@CF02320 DC    F'1100'
@CF01818 DC    F'4096'
@CF02311 DC    F'4108'
@CF01988 DC    XL4'000C0000'
@CF02148 DC    XL4'80000000'
@CF02155 DC    XL4'00FFFFFF'
@CF02157 DC    XL4'52000000'
@CF02220 DC    XL4'7FFFFFFF'
@CF02294 DC    XL4'FFFFF000'
@CF02300 DC    XL4'20000000'
@CF02334 DC    XL4'0000FFFF'
@CA01942 DC    A(AHL032)
@CA01943 DC    A(AHL033)
@CA01944 DC    A(AHL034)
@CA01945 DC    A(AHL035)
@CA01946 DC    A(AHL036)
@CA01947 DC    A(AHL037)
@CA01950 DC    A(M035NAME)
@CA01951 DC    A(M036AF)
@CA01948 DC    A(AHL038)
@CA01949 DC    A(AHL039)
@CA01952 DC    A(M038DD)
@CA01953 DC    A(M039DD)
         DS    0D
SRBPTR   DC    A(0)
SLEPTR   DS    A
RLSEBUF  DS    A
BCBHOLDR DS    A
WQLEN    DS    A
MCQEPTRR DS    A
GQHEAD   DS    A
GQTAIL   DS    A
CURRSRB  DC    A(0)
I        DS    A
SDENTRY  DC    F'1'
BLOKINDX DC    A(0)
BLOKNUM  DC    AL4(7-3)
GETWORD  DS    A
PGECB    DC    A(0)
         ORG   PGECB
@NM00113 DS    BL1
PGECBP   EQU   PGECB+0
         ORG   PGECB+4
BCBPAGEI DC    A(0)
RQCOUNT  DS    A
PDQRMTR  DS    A
SBLOKSAV DC    A(0)
EPCTPTR  DS    A
PGADDR   DS    A
IOECBADD DS    F
NEXTCHK  DS    F
@CC02025 DC    C'AHLIWRITAHLIWRITAHLWSTAE'
@CC02203 DC    C'FAILED   '
@CC02212 DC    C'ATTEMPTED'
@CC02153 DC    C'AHLWSMOD'
@CC02159 DC    C'AHLSBUF '
@CC02161 DC    C'AHLSBCU1'
@CC02163 DC    C'AHLSFEOB'
@CC02165 DC    C'AHLSBLOK'
@CC02149 DC    C'SRB '
@CB01516 DC    X'0000'
@CB01543 DC    X'F100'
@CB01565 DC    X'F200'
@CB01980 EQU   @CB01516
@CB01990 DC    X'FF'
XX1      DS    CL36
         ORG   XX1
@NM00099 DC    CL8'GTFBCB  '
@NM00100 DC    X'80000001'
@NM00101 DC    24X'00'
         ORG   XX1+36
XX2      DS    CL44
         ORG   XX2
@NM00102 DC    CL8'SLE     '
@NM00103 DC    36X'00'
         ORG   XX2+44
BLOKINIT DS    CL38
         ORG   BLOKINIT
@NM00107 DS    CL16
         ORG   @NM00107
@NM00108 DC    CL8'GTFBLOK '
@NM00109 DC    AL4(0)
@NM00110 DC    X'001A0001'
         ORG   BLOKINIT+16
@NM00111 DS    CL22
         ORG   @NM00111
@NM00112 DC    X'001600000001'
         ORG   BLOKINIT+38
EBUFNOGO DC    B'00000000'
ECBALIST DS    CL8
         ORG   ECBALIST
TERMECB  DS    AL4
WRTRECB  DS    AL4
         ORG   WRTRECB
ECBEND   DS    BL1
         ORG   ECBALIST+8
LOSTBLOK DS    CL18
         ORG   LOSTBLOK
@NM00114 DC    X'001200000003'
LBTZ     DS    CL4
LBTIME   DS    CL8
         ORG   LOSTBLOK+18
         DS    CL2
PDQASTCB DS    CL8
         ORG   PDQASTCB
@NM00115 DC    XL1'0'
         DC    C'0'
PDQASID  DS    FL2
PDQTCB   DS    AL4
         ORG   PDQASTCB+8
WORKAREA DS    CL8
         DS    CL4
ILIST    DS    CL10
         DS    CL2
SDUMPLST DS    CL8
         ORG   SDUMPLST+0
SDBEGAD  DC    AL4(@MAINENT)
SDENDAD  DS    AL4
         ORG   SDENDAD+0
@NM00105 DC    X'80'
         ORG   @NM00105+0
SDENDBIT DS    BL1
         ORG   SDENDAD+1
@NM00106 DC    AL3(@ENDDATA)
         ORG   SDUMPLST+128
BLOKLIST DS    7A
FIXWORD  DS    2A
LOCKSAVE DS    5A
AHLIWRIT CSECT
SDUMPSA DC 18F'0'           SAVEAREA FOR AHLSBUF SDUMP MACRO
*                     THIS MUST IMMEDIATELY PRECEDE SDUMPMAC   @YM03678
SDUMPMAC SDUMP MF=L,                                                   X
               SDATA=(NUC,ALLPSA,SQA,RGN,LPA,CSA),                     X
               HDR='DUMP BY AHLWSTAE OF GTF WRITER-STACK SERV'
*                                                              @ZA30540
AHLIWRIT CSECT
         DS   0H
PATCHLOC DC ((@DATA-@PSTART)/20)X'00'
AHLIWRIT CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
BASE1    EQU   @11
BASE2    EQU   @12
SDWAPTR  EQU   @04
PCTPTR   EQU   @08
PARAMETR EQU   @01
REG1     EQU   @01
AHLRDPTR EQU   @05
MVCL1    EQU   @02
MVCL2    EQU   @03
MVCL3    EQU   @14
MVCL4    EQU   @15
MACREG1  EQU   @03
MACREG2  EQU   @04
RETCODE  EQU   @15
LOADREG  EQU   @00
LOADLEN  EQU   @01
CLOCKREG EQU   @04
COMPREG  EQU   @03
SWAPREG  EQU   @04
FEOBPCT  EQU   @02
FEOBWSA  EQU   @03
FEOBCURR EQU   @04
R14      EQU   @14
R15      EQU   @15
SDWAHERE EQU   @00
GPR01F   EQU   @01
GPR01P   EQU   @01
GPR00P   EQU   @00
GPR15F   EQU   @15
GPR15P   EQU   @15
GPR00F   EQU   @00
GPR14P   EQU   @14
R11      EQU   @11
TTRREG   EQU   @01
         EXTRN AHL032
         EXTRN AHL033
         EXTRN AHL034
         EXTRN AHL035
         EXTRN AHL036
         EXTRN AHL037
         EXTRN M035NAME
         EXTRN M036AF
         EXTRN AHL038
         EXTRN AHL039
         EXTRN M038DD
         EXTRN M039DD
PSA      EQU   0
FLCRNPSW EQU   PSA
FLCROPSW EQU   PSA+8
FLCICCW2 EQU   PSA+16
PSAEEPSW EQU   PSA+132
PSAESPSW EQU   PSA+136
FLCSVILC EQU   PSAESPSW+1
PSAEPPSW EQU   PSA+140
FLCPIILC EQU   PSAEPPSW+1
FLCPICOD EQU   PSAEPPSW+2
PSAPICOD EQU   FLCPICOD+1
FLCTEA   EQU   PSAEPPSW+4
FLCPER   EQU   PSA+152
FLCMCLA  EQU   PSA+168
FLCIOEL  EQU   FLCMCLA+4
FLCIOA   EQU   FLCMCLA+16
FLCFSA   EQU   FLCMCLA+80
PSAAOLD  EQU   PSA+548
PSASUPER EQU   PSA+552
PSASUP1  EQU   PSASUPER
PSASUP2  EQU   PSASUPER+1
PSASUP3  EQU   PSASUPER+2
PSASUP4  EQU   PSASUPER+3
PSACLHT  EQU   PSA+640
PSALKSA  EQU   PSA+696
PSAHLHI  EQU   PSA+760
PSADSSFL EQU   PSA+836
PSADSSF1 EQU   PSADSSFL
PSADSSF3 EQU   PSADSSFL+2
PSADSSF4 EQU   PSADSSFL+3
PSARSVT  EQU   PSA+896
CVTPTR   EQU   16
CVTMAP   EQU   0
CVTDAR   EQU   CVTMAP+72
CVTFLGS1 EQU   CVTDAR
CVTDCB   EQU   CVTMAP+116
CVTIOQET EQU   CVTMAP+120
CVTIERLC EQU   CVTMAP+144
CVTHEAD  EQU   CVTMAP+160
CVTSV76C EQU   CVTHEAD
CVTOPTA  EQU   CVTMAP+182
CVTOPTB  EQU   CVTMAP+183
CVTGTF   EQU   CVTMAP+236
CVTGTFST EQU   CVTGTF
CVTGTFS  EQU   CVTGTFST
CVTSTATE EQU   CVTGTFST
CVTTMODE EQU   CVTGTFST
CVTFORM  EQU   CVTGTFST
CVTGTFA  EQU   CVTGTF+1
CVTAQAVT EQU   CVTMAP+240
CVTTCMFG EQU   CVTAQAVT
CVTVOLM2 EQU   CVTMAP+244
CVTTATA  EQU   CVTVOLM2
CVTTSKS  EQU   CVTTATA
CVTVOLF2 EQU   CVTTSKS
CVTTAT   EQU   CVTTATA+1
CVTATER  EQU   CVTMAP+248
CVTEXT1  EQU   CVTMAP+252
CVTPURG  EQU   CVTMAP+260
CVTQMSG  EQU   CVTMAP+268
CVTDMSR  EQU   CVTMAP+272
CVTRSV37 EQU   CVTDMSR
CVTDMSRF EQU   CVTRSV37
CVTTZ    EQU   CVTMAP+304
CVTEORM  EQU   CVTMAP+312
CVTERPV  EQU   CVTMAP+316
CVTINTLA EQU   CVTMAP+320
CVTAPF   EQU   CVTMAP+324
CVTEXT2  EQU   CVTMAP+328
CVTHJES  EQU   CVTMAP+332
CVTPGSIA EQU   CVTMAP+348
CVTA1F1  EQU   CVTMAP+356
CVTSYSK  EQU   CVTMAP+357
CVTVOLM1 EQU   CVTMAP+380
CVTVOLF1 EQU   CVTVOLM1
CVTATMCT EQU   CVTMAP+388
CVTXTNT1 EQU   0
CVTXTNT2 EQU   0
CVTDSSV  EQU   CVTXTNT2
CVTFLGBT EQU   CVTXTNT2+5
CVTQID   EQU   CVTXTNT2+24
CVTRV400 EQU   CVTXTNT2+52
CVTRV409 EQU   CVTXTNT2+53
CVTATCVT EQU   CVTXTNT2+64
CVTRV429 EQU   CVTXTNT2+84
CVTRV438 EQU   CVTXTNT2+85
CVTRV457 EQU   CVTXTNT2+112
CVTRV466 EQU   CVTXTNT2+113
CVTFIX   EQU   0
CVTRELNO EQU   CVTFIX+252
ASCB     EQU   0
ASCBASID EQU   ASCB+36
ASCBFW1  EQU   ASCB+100
ASCBRCTF EQU   ASCBFW1+2
ASCBFLG1 EQU   ASCBFW1+3
ASCBDSP1 EQU   ASCB+114
ASCBFLG2 EQU   ASCB+115
SDWA     EQU   0
SDWAFIOB EQU   SDWA+4
SDWAABCC EQU   SDWAFIOB
SDWACMPF EQU   SDWAABCC
SDWACTL1 EQU   SDWA+8
SDWACMKA EQU   SDWACTL1
SDWAMWPA EQU   SDWACTL1+1
SDWAPMKA EQU   SDWACTL1+4
SDWACTL2 EQU   SDWA+16
SDWACMKP EQU   SDWACTL2
SDWAMWPP EQU   SDWACTL2+1
SDWAPMKP EQU   SDWACTL2+4
SDWAGRSV EQU   SDWA+24
SDWANAME EQU   SDWA+88
SDWAEC1  EQU   SDWA+104
SDWAEMK1 EQU   SDWAEC1
SDWAMWP1 EQU   SDWAEC1+1
SDWAINT1 EQU   SDWAEC1+2
SDWANXT1 EQU   SDWAEC1+4
SDWAAEC1 EQU   SDWA+112
SDWAILC1 EQU   SDWAAEC1+1
SDWAINC1 EQU   SDWAAEC1+2
SDWAICD1 EQU   SDWAINC1+1
SDWAEC2  EQU   SDWA+120
SDWAEMK2 EQU   SDWAEC2
SDWAMWP2 EQU   SDWAEC2+1
SDWAINT2 EQU   SDWAEC2+2
SDWANXT2 EQU   SDWAEC2+4
SDWAAEC2 EQU   SDWA+128
SDWAILC2 EQU   SDWAAEC2+1
SDWAINC2 EQU   SDWAAEC2+2
SDWAICD2 EQU   SDWAINC2+1
SDWASRSV EQU   SDWA+136
SDWAIDNT EQU   SDWA+200
SDWAMCH  EQU   SDWA+204
SDWASTCK EQU   SDWAMCH
SDWAMCHI EQU   SDWAMCH+8
SDWAMCHS EQU   SDWAMCHI
SDWAMCHD EQU   SDWAMCHI+1
SDWARSR1 EQU   SDWAMCH+12
SDWARSR2 EQU   SDWAMCH+13
SDWAFLGS EQU   SDWA+232
SDWAERRA EQU   SDWAFLGS
SDWAERRB EQU   SDWAFLGS+1
SDWAERRC EQU   SDWAFLGS+2
SDWAERRD EQU   SDWAFLGS+3
SDWAIOFS EQU   SDWA+238
SDWARTYA EQU   SDWA+240
SDWACPUA EQU   SDWA+248
SDWAPARQ EQU   SDWA+252
SDWARCDE EQU   SDWAPARQ
SDWAACF2 EQU   SDWAPARQ+1
SDWARCRD EQU   SDWAACF2
SDWAFREE EQU   SDWAACF2
SDWAACF3 EQU   SDWAPARQ+2
SDWAACF4 EQU   SDWAPARQ+3
SDWALKWA EQU   SDWA+256
SDWALKWS EQU   SDWALKWA
SDWARECP EQU   SDWA+292
SDWASNPA EQU   SDWA+320
SDWADUMP EQU   SDWASNPA
SDWADPFS EQU   SDWADUMP+1
SDWADDAT EQU   SDWASNPA+4
SDWASDAT EQU   SDWADDAT
SDWAPDAT EQU   SDWADDAT+2
SDWADPSA EQU   SDWA+328
SDWADPSL EQU   SDWADPSA
SDWARA   EQU   SDWA+400
SDWADPVA EQU   SDWARA+2
SRBSECT  EQU   0
SRB      EQU   SRBSECT
SRBID    EQU   SRB
SRBFLNK  EQU   SRB+4
SRBASCB  EQU   SRB+8
SRBFLC   EQU   SRB+12
SRBCPAFF EQU   SRBFLC
SRBPASID EQU   SRBFLC+2
SRBPTCB  EQU   SRBFLC+4
SRBEP    EQU   SRB+20
SRBRMTR  EQU   SRB+24
SRBPARM  EQU   SRB+28
SRBSAVE  EQU   SRB+32
SRBPKF   EQU   SRB+36
SRBPRIOR EQU   SRB+37
MCQE     EQU   0
MCQEMCQE EQU   MCQE+20
MCQEAT   EQU   MCQE+32
MCQEFLGS EQU   MCQE+41
MCHEAD   EQU   0
MCHCUR   EQU   MCHEAD+8
MCHFLGS  EQU   MCHEAD+24
MCHFLG1  EQU   MCHFLGS
MCHEADRD EQU   MCHEAD+44
MCHEADTR EQU   MCHEAD+48
MCCE     EQU   0
MCCEQEA  EQU   MCCE+16
GTFPCT   EQU   0
GTFSTAT  EQU   GTFPCT+8
GTFOPTS  EQU   GTFPCT+12
GTFOPTS1 EQU   GTFOPTS
GTFOPTS2 EQU   GTFOPTS+1
GTFOPTS3 EQU   GTFOPTS+2
GTFOPTS4 EQU   GTFOPTS+3
PCTCATF  EQU   GTFPCT+16
MCQEPTR  EQU   GTFPCT+56
EQHEAD   EQU   GTFPCT+120
RQHEAD   EQU   GTFPCT+124
WQHEAD   EQU   GTFPCT+128
HQHEAD   EQU   GTFPCT+132
QTAIL    EQU   GTFPCT+136
HQLENGTH EQU   GTFPCT+140
SLQHEAD  EQU   GTFPCT+144
SLEPAGE  EQU   GTFPCT+152
BCBPAGE  EQU   GTFPCT+156
WSMODBEG EQU   GTFPCT+172
WSMODEND EQU   GTFPCT+176
NEXTBLOK EQU   GTFPCT+180
GBCDS    EQU   NEXTBLOK
CURRBLOK EQU   GTFPCT+184
SBLOKRTN EQU   GTFPCT+188
SFEOBRTN EQU   GTFPCT+192
AHLRDPLQ EQU   GTFPCT+196
WRTRCOM  EQU   GTFPCT+204
GTFCMECB EQU   GTFPCT+208
TRMWRIT  EQU   GTFPCT+212
TRMWRITP EQU   TRMWRIT
WRTRERR  EQU   GTFPCT+216
GTFSSRB  EQU   GTFPCT+220
GTFLOSTR EQU   GTFPCT+224
QLOCKWRD EQU   GTFPCT+236
QLOCK    EQU   QLOCKWRD
POSTWRIT EQU   QLOCKWRD+1
SCHEDBUF EQU   QLOCKWRD+2
QLOCKECB EQU   GTFPCT+240
WQLENGTH EQU   GTFPCT+244
WQMAX    EQU   GTFPCT+248
EQLENGTH EQU   GTFPCT+252
EQMIN    EQU   GTFPCT+256
SBUFDISA EQU   GTFPCT+264
NUMOFBUF EQU   GTFPCT+268
WRTDLST  EQU   GTFPCT+272
RQTOTAL  EQU   GTFPCT+276
RQPURGE  EQU   GTFPCT+280
EQSHORT  EQU   GTFPCT+292
AUDITFLG EQU   GTFPCT+296
AFIWRIT  EQU   AUDITFLG
AFINIT   EQU   AUDITFLG
AFTERM   EQU   AUDITFLG
AFWAIT   EQU   AUDITFLG
AFGMSRB  EQU   AUDITFLG
AFGMBLOK EQU   AUDITFLG
AFLDFX   EQU   AUDITFLG+1
AFBUFOFF EQU   AUDITFLG+1
AFPGRLSE EQU   AUDITFLG+1
AFEQFIX  EQU   AUDITFLG+1
AFBLKFIX EQU   AUDITFLG+1
AFBUFGET EQU   AUDITFLG+2
AFSLEGET EQU   AUDITFLG+2
AFQLWAIT EQU   AUDITFLG+2
TERMFLAG EQU   AUDITFLG+2
WSERFLAG EQU   AUDITFLG+2
WSERFG04 EQU   AUDITFLG+3
WSERFG05 EQU   AUDITFLG+3
SLE      EQU   0
SLQCHAIN EQU   SLE+8
SLEHOOK  EQU   SLE+12
SLEEID   EQU   SLEHOOK
SLEDUMP  EQU   SLEHOOK+2
SLEASID  EQU   SLEDUMP
SLETCBA  EQU   SLEDUMP+2
SLEPGLST EQU   SLE+20
SLEBCBQ  EQU   SLE+24
SLEQCNT  EQU   SLE+28
SLEFLAGS EQU   SLE+32
SLEINUSE EQU   SLEFLAGS
SVCPLIST EQU   0
PLINDEX  EQU   SVCPLIST
PAGELIST EQU   SVCPLIST+4
COMMONPG EQU   PAGELIST
GTFBCB   EQU   0
BCBSWAP  EQU   GTFBCB+8
BCBQFLAG EQU   BCBSWAP
EQFLAG   EQU   BCBQFLAG
WQFLAG   EQU   BCBQFLAG
SQFLAG   EQU   BCBQFLAG
HQFLAG   EQU   BCBQFLAG
RQFLAG   EQU   BCBQFLAG
BCBCHAIN EQU   GTFBCB+12
HQCHAIN  EQU   BCBCHAIN
WQCHAIN  EQU   HQCHAIN
EQCHAIN  EQU   WQCHAIN
RQCHAIN  EQU   EQCHAIN
SQCHAIN  EQU   RQCHAIN
GBUFRPTR EQU   GTFBCB+16
BCBFREQ  EQU   GTFBCB+20
GTFBUFR  EQU   0
CMPWKA   EQU   0
COMPBCB  EQU   CMPWKA
SWAPBCB  EQU   CMPWKA+4
@NM00091 EQU   SWAPBCB
WQFSWAP  EQU   @NM00091
SQFSWAP  EQU   @NM00091
SWAPUSE  EQU   SWAPBCB+2
GTFBLOK  EQU   0
BLKCHAIN EQU   GTFBLOK+8
BLOKAREA EQU   GTFBLOK+12
BLOKLEN  EQU   BLOKAREA
BLOKUSE  EQU   BLOKAREA+2
SVHKREC  EQU   0
SVHKDATA EQU   SVHKREC+6
MCAWSA   EQU   0
MCATRAIL EQU   MCAWSA+256
MCATRL1  EQU   MCATRAIL
MCATRL2  EQU   MCATRAIL+1
MCATRL3  EQU   MCATRAIL+2
MCATRL4  EQU   MCATRAIL+3
MCATRL5  EQU   MCATRAIL+4
MCATRL6  EQU   MCATRAIL+5
MCATRL7  EQU   MCATRAIL+6
MCATRL8  EQU   MCATRAIL+7
AWSAPTR  EQU   0
PLACE    EQU   0
AHLRDPL  EQU   0
AHLRDPQC EQU   AHLRDPL
AHLRDDID EQU   AHLRDPL+14
AHLRDATA EQU   AHLRDPL+24
AHLRDPX2 EQU   AHLRDPL+32
AHLRDSRB EQU   AHLRDPL+36
ABDUMPPG EQU   0
SVCDBUFR EQU   0
PROTECT1 EQU   SVCDBUFR
PROTECT2 EQU   SVCDBUFR+1
PAGEASID EQU   SVCDBUFR+2
PAGEADDR EQU   SVCDBUFR+4
SVCDPAGE EQU   SVCDBUFR+8
I256C    EQU   0
AHLSFEOB EQU   0
ECB      EQU   0
EP       EQU   0
I001C    EQU   0
I008P    EQU   0
I015F    EQU   0
I015P    EQU   0
I031F    EQU   0
I031P    EQU   0
WORD     EQU   0
ASTYPE   EQU   0
ITEM     EQU   0
ILENGTH  EQU   0
PSARSVTE EQU   PSARSVT
CVTS01   EQU   CVTPGSIA
CVTLPDIA EQU   CVTS01+12
CVTDIRST EQU   CVTLPDIA
CVTSLIDA EQU   CVTS01+24
CVTCTLFG EQU   CVTS01+50
CVTGSMQ  EQU   CVTS01+264
CVTLSMQ  EQU   CVTS01+268
CVTRV210 EQU   CVTS01+424
CVTRV219 EQU   CVTS01+425
CVTRV228 EQU   CVTS01+426
CVTRV237 EQU   CVTS01+427
CVTMFRTR EQU   CVTS01+452
CVTRV262 EQU   CVTS01+468
CVTRV271 EQU   CVTS01+469
CVTRV280 EQU   CVTS01+470
CVTRV289 EQU   CVTS01+471
CVTGSDA  EQU   CVTS01+600
ASCBPTR  EQU   PSAAOLD
RECMAP   EQU   BLOKAREA+4
RECTIME  EQU   RECMAP+6
RECVTTZ  EQU   RECTIME
RECTOD   EQU   RECTIME+4
RECGTFOP EQU   RECMAP+18
BCBPROTO EQU   XX1
SLEPROTO EQU   XX2
I107     EQU   ILIST
I10701   EQU   I107
I10702   EQU   I107+1
I10703   EQU   I107+2
I10704   EQU   I107+3
I004     EQU   ILIST
I00401   EQU   I004
I00403   EQU   I004+5
I00404   EQU   I004+8
I00405   EQU   I004+9
BLOKSWAP EQU   BLKCHAIN
FLC      EQU   PSA
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
I00402   EQU   I004+4
RECLSTEV EQU   RECGTFOP
RECFID   EQU   RECMAP+5
RECAID   EQU   RECMAP+4
RECRES1  EQU   RECMAP+2
RECLL    EQU   RECMAP
CVTRV628 EQU   CVTS01+728
CVTRV627 EQU   CVTS01+724
CVTRV626 EQU   CVTS01+720
CVTRV625 EQU   CVTS01+716
CVTRV624 EQU   CVTS01+712
CVTRV623 EQU   CVTS01+708
CVTRV622 EQU   CVTS01+704
CVTRV621 EQU   CVTS01+700
CVTIHASU EQU   CVTS01+696
CVTRV619 EQU   CVTS01+692
CVTRV618 EQU   CVTS01+688
CVTRV617 EQU   CVTS01+684
CVTRV616 EQU   CVTS01+680
CVTRV615 EQU   CVTS01+676
CVTRV614 EQU   CVTS01+672
CVTRV613 EQU   CVTS01+668
CVTTCASP EQU   CVTS01+664
CVT0PT03 EQU   CVTS01+660
CVT0PT0E EQU   CVTS01+656
CVTRV609 EQU   CVTS01+652
CVTCGK   EQU   CVTS01+648
CVTRAC   EQU   CVTS01+644
CVTHSM   EQU   CVTS01+640
CVTRV605 EQU   CVTS01+636
CVTRV604 EQU   CVTS01+632
CVTEFF02 EQU   CVTS01+628
CVTCBBR  EQU   CVTS01+624
CVTSSCR  EQU   CVTS01+620
CVTEVENT EQU   CVTS01+616
CVTCRCA  EQU   CVTS01+612
CVTTPIO  EQU   CVTS01+608
CVTADV   EQU   CVTS01+604
CVTGSDAB EQU   CVTGSDA
CVTQV3   EQU   CVTS01+596
CVTQV2   EQU   CVTS01+592
CVTQV1   EQU   CVTS01+588
CVTRPT   EQU   CVTS01+584
CVTSSRB  EQU   CVTS01+580
CVTCSDRL EQU   CVTS01+576
CVTEXP1  EQU   CVTS01+572
CVTRMPMT EQU   CVTS01+568
CVTRMPTT EQU   CVTS01+564
CVTVPSA  EQU   CVTS01+560
CVTVSTOP EQU   CVTS01+556
CVTGTFR8 EQU   CVTS01+552
CVTQUIT  EQU   CVTS01+548
CVTVACR  EQU   CVTS01+544
CVTWTCB  EQU   CVTS01+540
CVTSTPRS EQU   CVTS01+536
CVT0PT02 EQU   CVTS01+532
CVTDARCM EQU   CVTS01+528
CVTIRECM EQU   CVTS01+524
CVTJRECM EQU   CVTS01+520
CVTVEMS0 EQU   CVTS01+516
CVTSPFRR EQU   CVTS01+512
CVTRLSTG EQU   CVTS01+508
CVT0TC0A EQU   CVTS01+504
CVTGMBR  EQU   CVTS01+500
CVTLFRM  EQU   CVTS01+496
CVTRMBR  EQU   CVTS01+492
CVTVIOP  EQU   CVTS01+488
CVTRV307 EQU   CVTS01+486
CVTRV306 EQU   CVTS01+484
CVTRV305 EQU   CVTS01+482
CVTRV304 EQU   CVTS01+480
CVTRV303 EQU   CVTS01+478
CVTRV302 EQU   CVTS01+476
CVTTRCA  EQU   CVTS01+472
CVTRV297 EQU   CVTRV289
CVTRV296 EQU   CVTRV289
CVTRV295 EQU   CVTRV289
CVTRV294 EQU   CVTRV289
CVTRV293 EQU   CVTRV289
CVTRV292 EQU   CVTRV289
CVTRV291 EQU   CVTRV289
CVTRV290 EQU   CVTRV289
CVTRV288 EQU   CVTRV280
CVTRV287 EQU   CVTRV280
CVTRV286 EQU   CVTRV280
CVTRV285 EQU   CVTRV280
CVTRV284 EQU   CVTRV280
CVTRV283 EQU   CVTRV280
CVTRV282 EQU   CVTRV280
CVTRV281 EQU   CVTRV280
CVTRV279 EQU   CVTRV271
CVTRV278 EQU   CVTRV271
CVTRV277 EQU   CVTRV271
CVTRV276 EQU   CVTRV271
CVTRV275 EQU   CVTRV271
CVTRV274 EQU   CVTRV271
CVTRV273 EQU   CVTRV271
CVTRV272 EQU   CVTRV271
CVTRV270 EQU   CVTRV262
CVTRV269 EQU   CVTRV262
CVTRV268 EQU   CVTRV262
CVTRV267 EQU   CVTRV262
CVTRV266 EQU   CVTRV262
CVTRV265 EQU   CVTRV262
CVTRV264 EQU   CVTRV262
CVTRV263 EQU   CVTRV262
CVTVFP   EQU   CVTS01+464
CVTVSI   EQU   CVTS01+460
CVTVPSIB EQU   CVTS01+456
CVTMFACT EQU   CVTMFRTR
CVTMFCTL EQU   CVTS01+448
CVTPVBP  EQU   CVTS01+444
CVTPWI   EQU   CVTS01+440
CVTRV254 EQU   CVTS01+438
CVTRV253 EQU   CVTS01+436
CVTRV252 EQU   CVTS01+434
CVTRV251 EQU   CVTS01+433
CVTRV250 EQU   CVTS01+432
CVTRV249 EQU   CVTS01+431
CVTRV248 EQU   CVTS01+430
CVTRV247 EQU   CVTS01+429
CVTRV246 EQU   CVTS01+428
CVTRV245 EQU   CVTRV237
CVTRV244 EQU   CVTRV237
CVTRV243 EQU   CVTRV237
CVTRV242 EQU   CVTRV237
CVTRV241 EQU   CVTRV237
CVTRV240 EQU   CVTRV237
CVTRV239 EQU   CVTRV237
CVTRV238 EQU   CVTRV237
CVTRV236 EQU   CVTRV228
CVTRV235 EQU   CVTRV228
CVTRV234 EQU   CVTRV228
CVTRV233 EQU   CVTRV228
CVTRV232 EQU   CVTRV228
CVTRV231 EQU   CVTRV228
CVTRV230 EQU   CVTRV228
CVTRV229 EQU   CVTRV228
CVTRV227 EQU   CVTRV219
CVTRV226 EQU   CVTRV219
CVTRV225 EQU   CVTRV219
CVTRV224 EQU   CVTRV219
CVTRV223 EQU   CVTRV219
CVTRV222 EQU   CVTRV219
CVTRV221 EQU   CVTRV219
CVTRV220 EQU   CVTRV219
CVTRV218 EQU   CVTRV210
CVTRV217 EQU   CVTRV210
CVTRV216 EQU   CVTRV210
CVTRV215 EQU   CVTRV210
CVTRV214 EQU   CVTRV210
CVTRV213 EQU   CVTRV210
CVTRV212 EQU   CVTRV210
CVTRV211 EQU   CVTRV210
CVTLCCAT EQU   CVTS01+420
CVTPCCAT EQU   CVTS01+416
CVTIPCRP EQU   CVTS01+412
CVTIPCRI EQU   CVTS01+408
CVTIPCDS EQU   CVTS01+404
CVTAIDVT EQU   CVTS01+400
CVTSSAP  EQU   CVTS01+396
CVTEHCIR EQU   CVTS01+392
CVTEHDEF EQU   CVTS01+388
CVTDAIR  EQU   CVTS01+384
CVTPERFM EQU   CVTS01+380
CVT044R2 EQU   CVTS01+376
CVTFETCH EQU   CVTS01+372
CVTRSTWD EQU   CVTS01+368
CVTSPOST EQU   CVTS01+364
CVTIOBP  EQU   CVTS01+360
CVTASMVT EQU   CVTS01+356
CVTRECRQ EQU   CVTS01+352
CVTWSAC  EQU   CVTS01+348
CVTRV149 EQU   CVTS01+344
CVTWSAL  EQU   CVTS01+340
CVTSPSA  EQU   CVTS01+336
CVTGLMN  EQU   CVTS01+332
CVTVEAC0 EQU   CVTS01+328
CVT062R1 EQU   CVTS01+324
CVTRPOST EQU   CVTS01+320
CVTDQIQE EQU   CVTS01+316
CVTCSD   EQU   CVTS01+312
CVTLKRMA EQU   CVTS01+308
CVTRSPIE EQU   CVTS01+304
CVTRENQ  EQU   CVTS01+300
CVTLQCB  EQU   CVTS01+296
CVTFQCB  EQU   CVTS01+292
CVTQCS01 EQU   CVTS01+288
CVTAPFT  EQU   CVTS01+284
CVTPARRL EQU   CVTS01+280
CVTVWAIT EQU   CVTS01+276
CVTGSPL  EQU   CVTS01+272
CVTEXPRO EQU   CVTS01+260
CVTOPCTP EQU   CVTS01+256
CVTSIC   EQU   CVTS01+252
CVTTPIOS EQU   CVTS01+248
CVTRTMS  EQU   CVTS01+244
CVTSDBF  EQU   CVTS01+240
CVTSCBP  EQU   CVTS01+236
CVTSDMP  EQU   CVTS01+232
CVTSV60  EQU   CVTS01+228
CVTRTMCT EQU   CVTS01+224
CVTASCBL EQU   CVTS01+220
CVTASCBH EQU   CVTS01+216
CVTGDA   EQU   CVTS01+212
CVTASVT  EQU   CVTS01+208
CVTVVMDI EQU   CVTS01+204
CVTAQTOP EQU   CVTS01+200
CVTIOSCS EQU   CVTS01+196
CVTSDRM  EQU   CVTS01+192
CVTOPTE  EQU   CVTS01+188
CVTSTXU  EQU   CVTS01+184
CVTQUIS  EQU   CVTS01+180
CVTPARS  EQU   CVTS01+176
CVTS1EE  EQU   CVTS01+172
CVTFRAS  EQU   CVTS01+168
CVTQSAS  EQU   CVTS01+164
CVTCRAS  EQU   CVTS01+160
CVTCRMN  EQU   CVTS01+156
CVTDELCP EQU   CVTS01+152
CVTFRECL EQU   CVTS01+148
CVTGETCL EQU   CVTS01+144
CVTBLDCP EQU   CVTS01+140
CVTAUTHL EQU   CVTS01+136
CVTSCAN  EQU   CVTS01+132
CVTRV144 EQU   CVTS01+130
CVTMAXMP EQU   CVTS01+128
CVTSTCK  EQU   CVTS01+124
CVTRV139 EQU   CVTS01+123
CVTDSSAC EQU   CVTS01+122
CVTRV513 EQU   CVTS01+121
CVTIOSPL EQU   CVTS01+120
CVTPTGT  EQU   CVTS01+116
CVTCSPIE EQU   CVTS01+112
CVTSMFEX EQU   CVTS01+108
CVTOLT0A EQU   CVTS01+104
CVTSRBRT EQU   CVTS01+100
CVTPUTL  EQU   CVTS01+96
CVTASCRL EQU   CVTS01+92
CVTASCRF EQU   CVTS01+88
CVTRV326 EQU   CVTS01+84
CVTRV325 EQU   CVTS01+80
CVTRV324 EQU   CVTS01+76
CVT0VL01 EQU   CVTS01+72
CVTSHRVM EQU   CVTS01+68
CVTRV332 EQU   CVTS01+64
CVTTAS   EQU   CVTS01+60
CVTRSCN  EQU   CVTS01+56
CVTTRAC2 EQU   CVTS01+54
CVTTRACE EQU   CVTS01+52
CVTAPG   EQU   CVTS01+51
CVTSDTRC EQU   CVTCTLFG
CVTGTRCE EQU   CVTCTLFG
CVTNOMP  EQU   CVTCTLFG
CVTRSV79 EQU   CVTCTLFG
CVTDSTAT EQU   CVTCTLFG
CVTRSV78 EQU   CVTCTLFG
CVTRV333 EQU   CVTCTLFG
CVTRV323 EQU   CVTCTLFG
CVTSPVLK EQU   CVTS01+49
CVTRSV77 EQU   CVTS01+48
CVTRV331 EQU   CVTS01+44
CVTRV330 EQU   CVTS01+40
CVTRV329 EQU   CVTS01+36
CVTRV328 EQU   CVTS01+32
CVTRV322 EQU   CVTS01+28
CVTSLID  EQU   CVTSLIDA+1
CVTSYLK  EQU   CVTSLIDA
CVTRV321 EQU   CVTS01+20
CVTRV320 EQU   CVTS01+16
CVTLPDIR EQU   CVTLPDIA+1
CVTRSV69 EQU   CVTDIRST
CVTRSV68 EQU   CVTDIRST
CVTRSV67 EQU   CVTDIRST
CVTRSV66 EQU   CVTDIRST
CVTRSV65 EQU   CVTDIRST
CVTRSV64 EQU   CVTDIRST
CVTRSV63 EQU   CVTDIRST
CVTDICOM EQU   CVTDIRST
CVTPVTP  EQU   CVTS01+8
CVTLPDSR EQU   CVTS01+4
CVTGETL  EQU   CVTS01
PSARSAV  EQU   PSARSVTE+60
PSARSTK  EQU   PSARSVTE+56
PSAESAV3 EQU   PSARSVTE+52
PSAESTK3 EQU   PSARSVTE+48
PSAESAV2 EQU   PSARSVTE+44
PSAESTK2 EQU   PSARSVTE+40
PSAESAV1 EQU   PSARSVTE+36
PSAESTK1 EQU   PSARSVTE+32
PSAPSAV  EQU   PSARSVTE+28
PSAPSTK  EQU   PSARSVTE+24
PSAMSAV  EQU   PSARSVTE+20
PSAMSTK  EQU   PSARSVTE+16
PSASSAV  EQU   PSARSVTE+12
PSASSTK  EQU   PSARSVTE+8
PSANSTK  EQU   PSARSVTE+4
PSACSTK  EQU   PSARSVTE
AHLRDASC EQU   AHLRDPL+28
AHLRDECB EQU   AHLRDPL+20
AHLRDTCB EQU   AHLRDDID+2
AHLRDASI EQU   AHLRDDID
@NM00104 EQU   AHLRDPL+12
AHLRDID  EQU   AHLRDPL+4
MCASWORK EQU   MCAWSA+644
MCAWORK  EQU   MCAWSA+584
MCAREC   EQU   MCAWSA+284
MCARECPR EQU   MCAWSA+268
MCAMCR   EQU   MCAWSA+264
@NM00098 EQU   MCATRL8
@NM00097 EQU   MCATRL8
@NM00096 EQU   MCATRL8
@NM00095 EQU   MCATRL8
MCAFRECT EQU   MCATRL7
MCAFRECC EQU   MCATRL7
MCAFRESP EQU   MCATRL7
MCAFREXJ EQU   MCATRL7
MCAFRSBR EQU   MCATRL6
MCAFRDMJ EQU   MCATRL6
MCAFRDPC EQU   MCATRL6
MCAFRPIC EQU   MCATRL6
MCAFRPIJ EQU   MCATRL6
@NM00094 EQU   MCATRL5
MCADREGS EQU   MCATRL5
MCAFRRB  EQU   MCATRL5
MCAFRRJ  EQU   MCATRL5
MCAFRRA  EQU   MCATRL5
MCAFRERT EQU   MCATRL5
MCAFREPC EQU   MCATRL5
MCAMJOBN EQU   MCATRL4
MCAMSDWA EQU   MCATRL4
MCAMBTU  EQU   MCATRL4
MCAMIOSB EQU   MCATRL4
MCAMTCB  EQU   MCATRL4
MCAMASCB EQU   MCATRL4
MCAMUCB  EQU   MCATRL4
MCAMEXT  EQU   MCATRL4
MCAFRFRT EQU   MCATRL3
MCAFRFA  EQU   MCATRL3
MCAFRSJ  EQU   MCATRL3
MCAFRSA  EQU   MCATRL3
MCAPIF   EQU   MCATRL3
MCASIOF  EQU   MCATRL3
MCAIOF   EQU   MCATRL3
MCASVCF  EQU   MCATRL3
MCATDIR  EQU   MCATRL2
MCALSR   EQU   MCATRL2
MCAERROR EQU   MCATRL2
MCAUIO   EQU   MCATRL2
MCASTA   EQU   MCATRL2
MCAFRR   EQU   MCATRL2
MCASRM   EQU   MCATRL2
MCARNIO  EQU   MCATRL2
MCAUSR   EQU   MCATRL1
MCAPI    EQU   MCATRL1
MCASRB   EQU   MCATRL1
MCADSP   EQU   MCATRL1
MCASIO   EQU   MCATRL1
MCAIO    EQU   MCATRL1
MCAEXT   EQU   MCATRL1
MCASVC   EQU   MCATRL1
MCAMSG   EQU   MCAWSA+192
MCASETEV EQU   MCAWSA+128
MCAFWORK EQU   MCAWSA+112
MCASFEOB EQU   MCAWSA+56
MCASBLOK EQU   MCAWSA
SVHKTCB  EQU   SVHKDATA+4
SVHKASID EQU   SVHKDATA+2
SVHKEID  EQU   SVHKDATA
SVHKAFID EQU   SVHKREC+4
@NM00093 EQU   SVHKREC+2
SVHKLEN  EQU   SVHKREC
BLKINUSE EQU   BLKCHAIN
BLOKID   EQU   GTFBLOK
@NM00092 EQU   @NM00091
DECBFSWA EQU   @NM00091
RQFSWAP  EQU   @NM00091
HQFSWAP  EQU   @NM00091
CQFSWAP  EQU   @NM00091
EQFSWAP  EQU   @NM00091
BIGLL    EQU   GTFBUFR
BCBUSE   EQU   BCBSWAP+2
DECBFLAG EQU   BCBQFLAG
CQFLAG   EQU   BCBQFLAG
GTFBCBID EQU   GTFBCB
@NM00090 EQU   SLEFLAGS
SLEID    EQU   SLE
PCTWTOMD EQU   GTFPCT+312
PCTDMPMD EQU   GTFPCT+308
TRANSMAX EQU   GTFPCT+304
GTFASCB  EQU   GTFPCT+300
@NM00089 EQU   AUDITFLG+3
AFSLEBLD EQU   AUDITFLG+3
WSERFG06 EQU   AUDITFLG+3
WSERFG03 EQU   AUDITFLG+3
WSERFG02 EQU   AUDITFLG+2
AFXWRIT  EQU   AUDITFLG+2
AFFEOB   EQU   AUDITFLG+2
AFWRAP   EQU   AUDITFLG+1
AFCLOSE  EQU   AUDITFLG+1
AFOPEN   EQU   AUDITFLG+1
AFWWRIT  EQU   AUDITFLG
AFCWRIT  EQU   AUDITFLG
SLEMAX   EQU   GTFPCT+288
SLECNT   EQU   GTFPCT+284
SLESUSED EQU   GTFPCT+260
QLECBP   EQU   QLOCKECB
@NM00088 EQU   QLOCKECB
@NM00087 EQU   QLOCKWRD+3
WRITERDD EQU   GTFPCT+228
SRBAVAIL EQU   GTFSSRB
WRTRERRP EQU   WRTRERR
@NM00086 EQU   WRTRERR
@NM00085 EQU   TRMWRIT
WRTRCOMP EQU   WRTRCOM
@NM00084 EQU   WRTRCOM
TRANSCNT EQU   GTFPCT+200
SAVECNT  EQU   GTFPCT+148
WPOSTSRB EQU   GTFPCT+116
WTSKTCBA EQU   GTFPCT+112
WRTRTCBA EQU   GTFPCT+108
TRMWTASK EQU   GTFPCT+104
WTSKATTH EQU   GTFPCT+100
WTSKINIT EQU   GTFPCT+96
WTASKECB EQU   GTFPCT+92
WMTABPTR EQU   GTFPCT+88
ATTCHECB EQU   GTFPCT+84
AHLECB   EQU   GTFPCT+80
STOPECBA EQU   GTFPCT+76
ECBADRLT EQU   GTFPCT+72
FIXLEN   EQU   GTFPCT+68
FIXPTR   EQU   GTFPCT+64
INITPTR  EQU   GTFPCT+60
GTFEIDL  EQU   GTFPCT+52
GTFPIBL  EQU   GTFPCT+48
GTFPIFT  EQU   GTFPCT+44
GTFSVCBL EQU   GTFPCT+40
GTFSVCFT EQU   GTFPCT+36
GTFIOBL  EQU   GTFPCT+32
GTFIOFT  EQU   GTFPCT+28
GTFSIOBL EQU   GTFPCT+24
GTFSIOFT EQU   GTFPCT+20
@NM00083 EQU   PCTCATF+1
PCTPIF   EQU   PCTCATF+1
PCTSIOF  EQU   PCTCATF+1
PCTIOF   EQU   PCTCATF+1
PCTSVCF  EQU   PCTCATF+1
PCTRR    EQU   PCTCATF+1
PCTSRM   EQU   PCTCATF+1
PCTRNIO  EQU   PCTCATF+1
PCTUSR   EQU   PCTCATF
PCTPI    EQU   PCTCATF
@NM00082 EQU   PCTCATF
PCTDSP   EQU   PCTCATF
PCTSIO   EQU   PCTCATF
PCTIO    EQU   PCTCATF
PCTEXT   EQU   PCTCATF
PCTSVC   EQU   PCTCATF
OPTTIME  EQU   GTFOPTS4
OPTRES3  EQU   GTFOPTS4
OPTIOSIO EQU   GTFOPTS3
OPTRES2  EQU   GTFOPTS3
OPTRR    EQU   GTFOPTS3
OPTSRM   EQU   GTFOPTS3
OPTRNIO  EQU   GTFOPTS3
OPTEXT   EQU   GTFOPTS3
OPTIOP   EQU   GTFOPTS2
OPTIO    EQU   GTFOPTS2
OPTPIP   EQU   GTFOPTS2
OPTPI    EQU   GTFOPTS2
OPTSIOP  EQU   GTFOPTS2
OPTSIO   EQU   GTFOPTS2
OPTSVCP  EQU   GTFOPTS2
OPTSVC   EQU   GTFOPTS2
OPTPCI   EQU   GTFOPTS1
OPTRES1  EQU   GTFOPTS1
OPTDSP   EQU   GTFOPTS1
OPTTRC   EQU   GTFOPTS1
OPTUSR   EQU   GTFOPTS1
OPTSYS   EQU   GTFOPTS1
OPTSYSP  EQU   GTFOPTS1
OPTSYSM  EQU   GTFOPTS1
GTFRESV  EQU   GTFSTAT
GTFDEBUG EQU   GTFSTAT
GTFMODE  EQU   GTFSTAT
GTFPCTID EQU   GTFPCT
MCCESRB  EQU   MCCE+44
MCCEECB  EQU   MCCE+40
MCCEMCCE EQU   MCCE+36
MCCECNT  EQU   MCCE+32
MCCEOMCQ EQU   MCCE+28
MCCEOCDA EQU   MCCE+24
MCCEOEDA EQU   MCCE+20
MCCECDA  EQU   MCCE+12
MCCEEDA  EQU   MCCE+8
MCCEIDEN EQU   MCCE
MCHFRRAD EQU   MCHEAD+40
MCHMCER  EQU   MCHEAD+36
MCHSETD  EQU   MCHEAD+32
MCHSETE  EQU   MCHEAD+28
@NM00081 EQU   MCHFLGS+1
@NM00080 EQU   MCHFLG1
MCHTERM  EQU   MCHFLG1
MCHACT   EQU   MCHFLG1
MCHDIS   EQU   MCHEAD+20
MCHCTL   EQU   MCHEAD+16
MCHCNT   EQU   MCHEAD+12
MCHIDEN  EQU   MCHEAD
MCQESRB  EQU   MCQE+44
@NM00079 EQU   MCQE+42
@NM00078 EQU   MCQEFLGS
MCQEACT  EQU   MCQEFLGS
MCQESCHE EQU   MCQE+40
MCQETECB EQU   MCQE+36
MCQEMCCL EQU   MCQE+28
MCQEMCEE EQU   MCQE+24
MCQEASCB EQU   MCQE+16
MCQENAME EQU   MCQE+8
MCQEIDEN EQU   MCQE
@NM00077 EQU   SRBSECT+44
@NM00076 EQU   SRB+40
@NM00075 EQU   SRB+38
@NM00074 EQU   SDWA+512
SDWAVRA  EQU   SDWARA+4
SDWAURAL EQU   SDWARA+3
@NM00073 EQU   SDWADPVA
SDWAEBC  EQU   SDWADPVA
SDWAHEX  EQU   SDWADPVA
SDWAVRAL EQU   SDWARA
@NM00072 EQU   SDWA+396
SDWACOMP EQU   SDWA+392
SDWARCPL EQU   SDWA+364
@NM00071 EQU   SDWADPSA+32
SDWATO4  EQU   SDWADPSL+28
SDWAFRM4 EQU   SDWADPSL+24
SDWATO3  EQU   SDWADPSL+20
SDWAFRM3 EQU   SDWADPSL+16
SDWATO2  EQU   SDWADPSL+12
SDWAFRM2 EQU   SDWADPSL+8
SDWATO1  EQU   SDWADPSL+4
SDWAFRM1 EQU   SDWADPSL
@NM00070 EQU   SDWADDAT+3
@NM00069 EQU   SDWAPDAT
SDWAUSPL EQU   SDWAPDAT
SDWADPSW EQU   SDWAPDAT
SDWATJPA EQU   SDWAPDAT
SDWATLPA EQU   SDWAPDAT
SDWADREG EQU   SDWAPDAT
SDWADSAH EQU   SDWAPDAT
SDWADSAS EQU   SDWAPDAT
@NM00068 EQU   SDWADDAT+1
@NM00067 EQU   SDWASDAT
SDWAQQS  EQU   SDWASDAT
SDWACBS  EQU   SDWASDAT
SDWAGTF  EQU   SDWASDAT
SDWASWA  EQU   SDWASDAT
SDWALSQA EQU   SDWASDAT
SDWASQA  EQU   SDWASDAT
SDWANUC  EQU   SDWASDAT
@NM00066 EQU   SDWADUMP+2
@NM00065 EQU   SDWADPFS
SDWASLST EQU   SDWADPFS
@NM00064 EQU   SDWADPFS
SDWADLST EQU   SDWADPFS
SDWADPT  EQU   SDWADPFS
SDWADPID EQU   SDWADUMP
SDWADPLA EQU   SDWA+316
SDWAREXN EQU   SDWARECP+16
SDWACSCT EQU   SDWARECP+8
SDWAMODN EQU   SDWARECP
@NM00063 EQU   SDWALKWA+32
SDWATALW EQU   SDWALKWS+28
SDWATDLW EQU   SDWALKWS+24
SDWATNLW EQU   SDWALKWS+20
SDWAAPLW EQU   SDWALKWS+16
SDWAIPLW EQU   SDWALKWS+12
SDWAILLW EQU   SDWALKWS+8
SDWAIULW EQU   SDWALKWS+4
SDWAICLW EQU   SDWALKWS
SDWAFLLK EQU   SDWAACF4
SDWACMS  EQU   SDWAACF4
SDWAOPTM EQU   SDWAACF4
SDWATADB EQU   SDWAACF4
SDWATDNB EQU   SDWAACF4
SDWATNCB EQU   SDWAACF4
SDWAILCH EQU   SDWAACF4
SDWAIUCB EQU   SDWAACF4
SDWAICAT EQU   SDWAACF3
SDWAIPRG EQU   SDWAACF3
SDWASALL EQU   SDWAACF3
SDWAASMP EQU   SDWAACF3
SDWADISP EQU   SDWAACF3
@NM00062 EQU   SDWAACF3
@NM00061 EQU   SDWAACF2
SDWAUPRG EQU   SDWAACF2
@NM00060 EQU   SDWAACF2
SDWASPIN EQU   SDWAACF2
@NM00059 EQU   SDWAACF2
SDWALCPU EQU   SDWACPUA+2
@NM00058 EQU   SDWACPUA
SDWARECA EQU   SDWA+244
@NM00057 EQU   SDWA+239
@NM00056 EQU   SDWAIOFS
SDWANIOP EQU   SDWAIOFS
SDWANOIO EQU   SDWAIOFS
SDWAIOHT EQU   SDWAIOFS
SDWAIOQR EQU   SDWAIOFS
SDWAFMID EQU   SDWA+236
@NM00055 EQU   SDWAERRD
SDWAMCIV EQU   SDWAERRD
SDWARPIV EQU   SDWAERRD
SDWAMABD EQU   SDWAERRD
SDWACTS  EQU   SDWAERRD
SDWASTAE EQU   SDWAERRD
SDWANRBE EQU   SDWAERRD
SDWACLUP EQU   SDWAERRD
@NM00054 EQU   SDWAERRC
SDWAEAS  EQU   SDWAERRC
SDWAPERC EQU   SDWAERRC
SDWAIRB  EQU   SDWAERRC
SDWASTAI EQU   SDWAERRC
SDWASTAF EQU   SDWAERRC
SDWASRBM EQU   SDWAERRB
SDWALDIS EQU   SDWAERRB
SDWAENRB EQU   SDWAERRB
SDWATYP1 EQU   SDWAERRB
@NM00053 EQU   SDWAERRB
SDWAPGIO EQU   SDWAERRA
SDWATEXC EQU   SDWAERRA
SDWASVCE EQU   SDWAERRA
SDWAABTM EQU   SDWAERRA
SDWASVCD EQU   SDWAERRA
SDWARKEY EQU   SDWAERRA
SDWAPCHK EQU   SDWAERRA
SDWAMCHK EQU   SDWAERRA
SDWATIME EQU   SDWAMCH+20
SDWARFSA EQU   SDWAMCH+16
@NM00052 EQU   SDWAMCH+14
SDWAVEQR EQU   SDWARSR2
SDWAPGFX EQU   SDWARSR2
SDWAFLSQ EQU   SDWARSR2
SDWAFSQA EQU   SDWARSR2
SDWANUCL EQU   SDWARSR2
SDWASPER EQU   SDWARSR2
SDWAINTC EQU   SDWARSR2
SDWAOFLN EQU   SDWARSR2
SDWACHNG EQU   SDWARSR1
SDWAMSER EQU   SDWARSR1
@NM00051 EQU   SDWARSR1
SDWACPID EQU   SDWAMCH+10
SDWATERR EQU   SDWAMCHD
SDWAFPRX EQU   SDWAMCHD
SDWAINSF EQU   SDWAMCHD
SDWAACR  EQU   SDWAMCHD
SDWASCK  EQU   SDWAMCHD
SDWAPSWU EQU   SDWAMCHD
SDWAREGU EQU   SDWAMCHD
SDWASKYF EQU   SDWAMCHD
@NM00050 EQU   SDWAMCHS
SDWARSRF EQU   SDWAMCHS
SDWARSRC EQU   SDWAMCHS
SDWAINVP EQU   SDWAMCHS
SDWATSVL EQU   SDWAMCHS
SDWARCDF EQU   SDWAMCHS
SDWASRVL EQU   SDWAMCHS
SDWASCKE EQU   SDWASTCK+4
SDWASCKB EQU   SDWASTCK
SDWALNTH EQU   SDWAIDNT+1
SDWASPID EQU   SDWAIDNT
SDWASR15 EQU   SDWASRSV+60
SDWASR14 EQU   SDWASRSV+56
SDWASR13 EQU   SDWASRSV+52
SDWASR12 EQU   SDWASRSV+48
SDWASR11 EQU   SDWASRSV+44
SDWASR10 EQU   SDWASRSV+40
SDWASR09 EQU   SDWASRSV+36
SDWASR08 EQU   SDWASRSV+32
SDWASR07 EQU   SDWASRSV+28
SDWASR06 EQU   SDWASRSV+24
SDWASR05 EQU   SDWASRSV+20
SDWASR04 EQU   SDWASRSV+16
SDWASR03 EQU   SDWASRSV+12
SDWASR02 EQU   SDWASRSV+8
SDWASR01 EQU   SDWASRSV+4
SDWASR00 EQU   SDWASRSV
SDWATRN2 EQU   SDWAAEC2+4
SDWAIPC2 EQU   SDWAICD2
SDWAIMC2 EQU   SDWAICD2
SDWAIPR2 EQU   SDWAICD2
@NM00049 EQU   SDWAINC2
@NM00048 EQU   SDWAILC2
SDWAIL2  EQU   SDWAILC2
@NM00047 EQU   SDWAILC2
@NM00046 EQU   SDWAAEC2
SDWAADD2 EQU   SDWANXT2+1
@NM00045 EQU   SDWANXT2
@NM00044 EQU   SDWAEC2+3
SDWASGN2 EQU   SDWAINT2
SDWAEXP2 EQU   SDWAINT2
SDWADEC2 EQU   SDWAINT2
SDWAFPO2 EQU   SDWAINT2
SDWACC2  EQU   SDWAINT2
@NM00043 EQU   SDWAINT2
SDWAPGM2 EQU   SDWAMWP2
SDWAWAT2 EQU   SDWAMWP2
SDWAMCK2 EQU   SDWAMWP2
SDWAECT2 EQU   SDWAMWP2
SDWAKEY2 EQU   SDWAMWP2
SDWAEXT2 EQU   SDWAEMK2
SDWAIO2  EQU   SDWAEMK2
SDWATRM2 EQU   SDWAEMK2
@NM00042 EQU   SDWAEMK2
SDWAPER2 EQU   SDWAEMK2
@NM00041 EQU   SDWAEMK2
SDWATRAN EQU   SDWAAEC1+4
SDWAIPC1 EQU   SDWAICD1
SDWAIMC1 EQU   SDWAICD1
SDWAIPR1 EQU   SDWAICD1
@NM00040 EQU   SDWAINC1
@NM00039 EQU   SDWAILC1
SDWAIL1  EQU   SDWAILC1
@NM00038 EQU   SDWAILC1
@NM00037 EQU   SDWAAEC1
SDWAADD1 EQU   SDWANXT1+1
@NM00036 EQU   SDWANXT1
@NM00035 EQU   SDWAEC1+3
SDWASGN1 EQU   SDWAINT1
SDWAEXP1 EQU   SDWAINT1
SDWADEC1 EQU   SDWAINT1
SDWAFPO1 EQU   SDWAINT1
SDWACC1  EQU   SDWAINT1
@NM00034 EQU   SDWAINT1
SDWAPGM1 EQU   SDWAMWP1
SDWAWAT1 EQU   SDWAMWP1
SDWAMCK1 EQU   SDWAMWP1
SDWAECT1 EQU   SDWAMWP1
SDWAKEY1 EQU   SDWAMWP1
SDWAEXT1 EQU   SDWAEMK1
SDWAIO1  EQU   SDWAEMK1
SDWATRM1 EQU   SDWAEMK1
@NM00033 EQU   SDWAEMK1
SDWAPER1 EQU   SDWAEMK1
@NM00032 EQU   SDWAEMK1
SDWAIOBR EQU   SDWA+100
SDWAEPA  EQU   SDWA+96
@NM00031 EQU   SDWANAME+4
SDWARBAD EQU   SDWANAME
SDWAGR15 EQU   SDWAGRSV+60
SDWAGR14 EQU   SDWAGRSV+56
SDWAGR13 EQU   SDWAGRSV+52
SDWAGR12 EQU   SDWAGRSV+48
SDWAGR11 EQU   SDWAGRSV+44
SDWAGR10 EQU   SDWAGRSV+40
SDWAGR09 EQU   SDWAGRSV+36
SDWAGR08 EQU   SDWAGRSV+32
SDWAGR07 EQU   SDWAGRSV+28
SDWAGR06 EQU   SDWAGRSV+24
SDWAGR05 EQU   SDWAGRSV+20
SDWAGR04 EQU   SDWAGRSV+16
SDWAGR03 EQU   SDWAGRSV+12
SDWAGR02 EQU   SDWAGRSV+8
SDWAGR01 EQU   SDWAGRSV+4
SDWAGR00 EQU   SDWAGRSV
SDWANXTP EQU   SDWACTL2+5
SDWASGP  EQU   SDWAPMKP
SDWAEUP  EQU   SDWAPMKP
SDWADOP  EQU   SDWAPMKP
SDWAFPP  EQU   SDWAPMKP
SDWACCP  EQU   SDWAPMKP
SDWAILP  EQU   SDWAPMKP
SDWAINTP EQU   SDWACTL2+2
SDWASPVP EQU   SDWAMWPP
SDWAWATP EQU   SDWAMWPP
SDWAMCKP EQU   SDWAMWPP
@NM00030 EQU   SDWAMWPP
SDWAKEYP EQU   SDWAMWPP
SDWAEXTP EQU   SDWACMKP
SDWAIOP  EQU   SDWACMKP
SDWANXTA EQU   SDWACTL1+5
SDWASGA  EQU   SDWAPMKA
SDWAEUA  EQU   SDWAPMKA
SDWADOA  EQU   SDWAPMKA
SDWAFPA  EQU   SDWAPMKA
SDWACCA  EQU   SDWAPMKA
SDWAILA  EQU   SDWAPMKA
SDWAINTA EQU   SDWACTL1+2
SDWASPVA EQU   SDWAMWPA
SDWAWATA EQU   SDWAMWPA
SDWAMCKA EQU   SDWAMWPA
@NM00029 EQU   SDWAMWPA
SDWAKEYA EQU   SDWAMWPA
SDWAEXTA EQU   SDWACMKA
SDWAIOA  EQU   SDWACMKA
SDWACMPC EQU   SDWAABCC+1
@NM00028 EQU   SDWACMPF
SDWASTCC EQU   SDWACMPF
@NM00027 EQU   SDWACMPF
SDWASTEP EQU   SDWACMPF
SDWAREQ  EQU   SDWACMPF
SDWAPARM EQU   SDWA
ASCBEND  EQU   ASCB+208
ASCBSRBT EQU   ASCB+200
ASCBSWTL EQU   ASCB+196
ASCBRS14 EQU   ASCB+195
ASCBSMCT EQU   ASCB+194
ASCBRS12 EQU   ASCB+192
ASCBPCTT EQU   ASCB+188
ASCBVGTT EQU   ASCB+184
ASCBLGCB EQU   ASCB+180
ASCBJBNS EQU   ASCB+176
ASCBJBNI EQU   ASCB+172
ASCBMCC  EQU   ASCB+168
ASCBRTWA EQU   ASCB+164
ASCBIQEA EQU   ASCB+160
ASCBXMPQ EQU   ASCB+156
ASCBRS01 EQU   ASCB+154
ASCBFMCT EQU   ASCB+152
ASCBOUXB EQU   ASCB+148
ASCBOUCB EQU   ASCB+144
ASCBMECB EQU   ASCB+140
ASCBQECB EQU   ASCB+136
ASCBCMSB EQU   ASCB+132
ASCBCMSF EQU   ASCB+128
ASCBTCBS EQU   ASCB+124
ASCBNVSC EQU   ASCB+122
ASCBVSC  EQU   ASCB+120
ASCBSRBS EQU   ASCB+118
ASCBSSRB EQU   ASCB+116
ASCBRV06 EQU   ASCBFLG2
ASCBRV05 EQU   ASCBFLG2
ASCBRV04 EQU   ASCBFLG2
ASCBSNQS EQU   ASCBFLG2
ASCBS2S  EQU   ASCBFLG2
ASCBCEXT EQU   ASCBFLG2
ASCBPXMT EQU   ASCBFLG2
ASCBXMPT EQU   ASCBFLG2
ASCBRF07 EQU   ASCBDSP1
ASCBRF06 EQU   ASCBDSP1
ASCBRF05 EQU   ASCBDSP1
ASCBRF04 EQU   ASCBDSP1
ASCBRF03 EQU   ASCBDSP1
ASCBRF02 EQU   ASCBDSP1
ASCBFAIL EQU   ASCBDSP1
ASCBNOQ  EQU   ASCBDSP1
ASCBSWCT EQU   ASCB+112
ASCBASXB EQU   ASCB+108
ASCBTMCH EQU   ASCB+104
ASCBNSWP EQU   ASCBFLG1
ASCBTYP1 EQU   ASCBFLG1
ASCBSTND EQU   ASCBFLG1
ASCBABNT EQU   ASCBFLG1
ASCBTERM EQU   ASCBFLG1
ASCBS3S  EQU   ASCBFLG1
ASCBCMSH EQU   ASCBFLG1
ASCBTOFF EQU   ASCBFLG1
ASCBRF01 EQU   ASCBRCTF
ASCBTMLW EQU   ASCBRCTF
ASCBOUT  EQU   ASCBRCTF
ASCBWAIT EQU   ASCBRCTF
ASCBRV08 EQU   ASCBRCTF
ASCBFQU  EQU   ASCBRCTF
ASCBFRS  EQU   ASCBRCTF
ASCBTMNO EQU   ASCBRCTF
ASCBAFFN EQU   ASCBFW1
ASCBDUMP EQU   ASCB+96
ASCBQSVC EQU   ASCB+92
ASCBUBET EQU   ASCB+88
ASCBECB  EQU   ASCB+84
ASCBJSTL EQU   ASCB+80
ASCBEWST EQU   ASCB+72
ASCBEJST EQU   ASCB+64
ASCBTSB  EQU   ASCB+60
ASCBCSCB EQU   ASCB+56
ASCBRSM  EQU   ASCB+52
ASCBLDA  EQU   ASCB+48
ASCBSTOR EQU   ASCB+44
ASCBDP   EQU   ASCB+43
ASCBRV07 EQU   ASCB+42
ASCBIOSM EQU   ASCB+40
ASCBSEQN EQU   ASCB+38
ASCBCPUS EQU   ASCB+32
ASCBSPL  EQU   ASCB+28
ASCBLSLQ EQU   ASCB+24
ASCBFSLQ EQU   ASCB+20
ASCBIOSP EQU   ASCB+16
ASCBLOCK EQU   ASCB+12
ASCBBWDP EQU   ASCB+8
ASCBFWDP EQU   ASCB+4
ASCBASCB EQU   ASCB
ASCBEGIN EQU   ASCB
CVTLEVL  EQU   CVTRELNO+2
CVTNUMB  EQU   CVTRELNO
CVTMDL   EQU   CVTFIX+250
@NM00026 EQU   CVTFIX+248
@NM00025 EQU   CVTFIX
CVTRV482 EQU   CVTXTNT2+128
CVTRV481 EQU   CVTXTNT2+124
CVTRV480 EQU   CVTXTNT2+120
CVTRV479 EQU   CVTXTNT2+118
CVTRV478 EQU   CVTXTNT2+117
CVTRV477 EQU   CVTXTNT2+116
CVTRV476 EQU   CVTXTNT2+115
CVTRV475 EQU   CVTXTNT2+114
CVTRV474 EQU   CVTRV466
CVTRV473 EQU   CVTRV466
CVTRV472 EQU   CVTRV466
CVTRV471 EQU   CVTRV466
CVTRV470 EQU   CVTRV466
CVTRV469 EQU   CVTRV466
CVTRV468 EQU   CVTRV466
CVTRV467 EQU   CVTRV466
CVTRV465 EQU   CVTRV457
CVTRV464 EQU   CVTRV457
CVTRV463 EQU   CVTRV457
CVTRV462 EQU   CVTRV457
CVTRV461 EQU   CVTRV457
CVTRV460 EQU   CVTRV457
CVTRV459 EQU   CVTRV457
CVTRV458 EQU   CVTRV457
CVTRV456 EQU   CVTXTNT2+108
CVTRV455 EQU   CVTXTNT2+104
CVTRV454 EQU   CVTXTNT2+100
CVTRV453 EQU   CVTXTNT2+96
CVTRV452 EQU   CVTXTNT2+94
CVTRV451 EQU   CVTXTNT2+92
CVTRV450 EQU   CVTXTNT2+90
CVTRV449 EQU   CVTXTNT2+88
CVTRV448 EQU   CVTXTNT2+87
CVTRV447 EQU   CVTXTNT2+86
CVTRV446 EQU   CVTRV438
CVTRV445 EQU   CVTRV438
CVTRV444 EQU   CVTRV438
CVTRV443 EQU   CVTRV438
CVTRV442 EQU   CVTRV438
CVTRV441 EQU   CVTRV438
CVTRV440 EQU   CVTRV438
CVTRV439 EQU   CVTRV438
CVTRV437 EQU   CVTRV429
CVTRV436 EQU   CVTRV429
CVTRV435 EQU   CVTRV429
CVTRV434 EQU   CVTRV429
CVTRV433 EQU   CVTRV429
CVTRV432 EQU   CVTRV429
CVTRV431 EQU   CVTRV429
CVTRV430 EQU   CVTRV429
CVTRV428 EQU   CVTXTNT2+80
CVTRV427 EQU   CVTXTNT2+76
CVTRV426 EQU   CVTXTNT2+72
CVTRV425 EQU   CVTXTNT2+68
CVTATACT EQU   CVTATCVT
CVTRV423 EQU   CVTXTNT2+62
CVTRV422 EQU   CVTXTNT2+60
CVTRV421 EQU   CVTXTNT2+58
CVTRV420 EQU   CVTXTNT2+56
CVTRV419 EQU   CVTXTNT2+55
CVTRV418 EQU   CVTXTNT2+54
CVTRV417 EQU   CVTRV409
CVTRV416 EQU   CVTRV409
CVTRV415 EQU   CVTRV409
CVTRV414 EQU   CVTRV409
CVTRV413 EQU   CVTRV409
CVTRV412 EQU   CVTRV409
CVTRV411 EQU   CVTRV409
CVTRV410 EQU   CVTRV409
CVTRV408 EQU   CVTRV400
CVTRV407 EQU   CVTRV400
CVTRV406 EQU   CVTRV400
CVTRV405 EQU   CVTRV400
CVTRV404 EQU   CVTRV400
CVTRV403 EQU   CVTRV400
CVTRV402 EQU   CVTRV400
CVTRV401 EQU   CVTRV400
CVTICB   EQU   CVTXTNT2+48
CVTSKTA  EQU   CVTXTNT2+44
CVTCCVT  EQU   CVTXTNT2+40
CVTRSV98 EQU   CVTXTNT2+36
CVTRSV97 EQU   CVTXTNT2+34
CVTRSV96 EQU   CVTXTNT2+32
CVTOLTEP EQU   CVTXTNT2+28
CVTQIDA  EQU   CVTQID+1
CVTRSV95 EQU   CVTQID
CVTRSV94 EQU   CVTXTNT2+20
CVTRSV93 EQU   CVTXTNT2+16
CVTRSV92 EQU   CVTXTNT2+12
CVTDEBVR EQU   CVTXTNT2+8
CVTRSV91 EQU   CVTXTNT2+6
CVTRSV9H EQU   CVTFLGBT
CVTRSV9G EQU   CVTFLGBT
CVTRSV9F EQU   CVTFLGBT
CVTRSV9E EQU   CVTFLGBT
CVTRSV9D EQU   CVTFLGBT
CVTRSV9C EQU   CVTFLGBT
CVTVME   EQU   CVTFLGBT
CVTNPE   EQU   CVTFLGBT
CVTNUCLS EQU   CVTXTNT2+4
CVTDSSVA EQU   CVTDSSV+1
CVTRSV89 EQU   CVTDSSV
CVTRSV88 EQU   CVTXTNT1+8
CVTRSV87 EQU   CVTXTNT1+4
CVTFACHN EQU   CVTXTNT1
CVTRV488 EQU   CVTMAP+412
CVTRV487 EQU   CVTMAP+408
CVTRV486 EQU   CVTMAP+404
CVTRV485 EQU   CVTMAP+400
CVTACTAP EQU   CVTMAP+396
CVTAUTH  EQU   CVTMAP+392
CVTATMCA EQU   CVTATMCT+1
CVTATMST EQU   CVTATMCT
CVTRSV61 EQU   CVTMAP+384
CVTVOLT1 EQU   CVTVOLM1+1
CVTVOLI1 EQU   CVTVOLF1
CVTSTOA  EQU   CVTMAP+376
CVTRSV58 EQU   CVTMAP+374
CVTRSV57 EQU   CVTMAP+372
CVTDDCE  EQU   CVTMAP+368
CVTPNWFR EQU   CVTMAP+364
CVTSMF   EQU   CVTMAP+360
CVTSULK  EQU   CVTMAP+358
CVTSLKO  EQU   CVTSYSK
CVTSLKP  EQU   CVTSYSK
CVTSLKQ  EQU   CVTSYSK
CVTSLKR  EQU   CVTSYSK
CVTRSV56 EQU   CVTSYSK
CVTRSV55 EQU   CVTSYSK
CVTRSV54 EQU   CVTSYSK
CVTRSV53 EQU   CVTSYSK
CVTRSV52 EQU   CVTA1F1
CVTRSV51 EQU   CVTA1F1
CVTRSV50 EQU   CVTA1F1
CVTRSV49 EQU   CVTA1F1
CVTRSV48 EQU   CVTA1F1
CVTRSV47 EQU   CVTA1F1
CVTSRSW  EQU   CVTA1F1
CVTPFSW  EQU   CVTA1F1
CVTPCVT  EQU   CVTMAP+352
CVTRSV46 EQU   CVTMAP+344
CVTRSV45 EQU   CVTMAP+340
CVTRSV44 EQU   CVTMAP+338
CVTRSV43 EQU   CVTMAP+336
CVTHJESA EQU   CVTHJES+1
CVTRSV42 EQU   CVTHJES
CVTEXT2A EQU   CVTEXT2+1
CVTRSV41 EQU   CVTEXT2
CVTAPFA  EQU   CVTAPF+1
CVTRSV40 EQU   CVTAPF
CVTRV518 EQU   CVTINTLA
CVTRV517 EQU   CVTERPV
CVTMCHPR EQU   CVTMAP+308
CVTJEPS  EQU   CVTMAP+300
CVTJESCT EQU   CVTMAP+296
CVTMODE  EQU   CVTMAP+292
CVTPTRV  EQU   CVTMAP+288
CVTREAL  EQU   CVTMAP+284
CVTRSV39 EQU   CVTMAP+280
CVTRSV38 EQU   CVTMAP+276
CVTDMSRA EQU   CVTDMSR+1
CVTRV634 EQU   CVTDMSRF
CVTRV633 EQU   CVTDMSRF
CVTRV632 EQU   CVTDMSRF
CVTRV631 EQU   CVTDMSRF
CVTRV630 EQU   CVTDMSRF
CVTRV629 EQU   CVTDMSRF
CVTUDUMP EQU   CVTDMSRF
CVTSDUMP EQU   CVTDMSRF
CVTQMSGA EQU   CVTQMSG+1
CVTRSV36 EQU   CVTQMSG
CVTAMFF  EQU   CVTMAP+264
CVTPURGA EQU   CVTPURG+1
CVTRSV35 EQU   CVTPURG
CVTCBSP  EQU   CVTMAP+256
CVTATERA EQU   CVTATER+1
CVTSYST  EQU   CVTATER
CVTVOLT2 EQU   CVTTAT
CVTVOLI2 EQU   CVTVOLF2
CVTAQAVB EQU   CVTAQAVT+1
CVTRSV34 EQU   CVTTCMFG
CVTRSV33 EQU   CVTTCMFG
CVTRSV32 EQU   CVTTCMFG
CVTRSV31 EQU   CVTTCMFG
CVTRSV30 EQU   CVTTCMFG
CVTRSV29 EQU   CVTTCMFG
CVTRSV28 EQU   CVTTCMFG
CVTTCRDY EQU   CVTTCMFG
CVTRSV27 EQU   CVTGTFST
CVTRNIO  EQU   CVTGTFST
CVTUSR   EQU   CVTGTFST
CVTRV318 EQU   CVTFORM
CVTRV317 EQU   CVTTMODE
CVTRV316 EQU   CVTSTATE
CVTRV315 EQU   CVTGTFS
CVTGTFAV EQU   CVTGTFS
CVT0SCR1 EQU   CVTMAP+232
CVTRV515 EQU   CVTMAP+228
CVTRMS   EQU   CVTMAP+224
CVTPATCH EQU   CVTMAP+220
CVTTSCE  EQU   CVTMAP+216
CVTLNKSC EQU   CVTMAP+214
CVTQABST EQU   CVTMAP+212
CVTMDLDS EQU   CVTMAP+208
CVTUSER  EQU   CVTMAP+204
CVTABEND EQU   CVTMAP+200
CVTSMCA  EQU   CVTMAP+196
CVTRSV18 EQU   CVTMAP+192
CVTQLPAQ EQU   CVTMAP+188
CVTQCDSR EQU   CVTMAP+184
CVTRSV17 EQU   CVTOPTB
CVTRSV16 EQU   CVTOPTB
CVTFP    EQU   CVTOPTB
CVTAPTHR EQU   CVTOPTB
CVTNLOG  EQU   CVTOPTB
CVTTOD   EQU   CVTOPTB
CVTCTIMS EQU   CVTOPTB
CVTPROT  EQU   CVTOPTB
CVTXPFP  EQU   CVTOPTA
CVTASCII EQU   CVTOPTA
CVTRSV13 EQU   CVTOPTA
CVTRSV12 EQU   CVTOPTA
CVTNIP   EQU   CVTOPTA
CVTDDR   EQU   CVTOPTA
CVTAPR   EQU   CVTOPTA
CVTCCH   EQU   CVTOPTA
CVTSNCTR EQU   CVTMAP+180
CVTQMWR  EQU   CVTMAP+176
CVTQOCR  EQU   CVTMAP+172
CVT1EF00 EQU   CVTMAP+168
CVTMZ00  EQU   CVTMAP+164
CVTSV76Q EQU   CVTSV76C
CVTRSV11 EQU   CVTMAP+156
CVT0PT01 EQU   CVTMAP+152
CVTMSER  EQU   CVTMAP+148
CVTRV516 EQU   CVTIERLC
CVTILCH  EQU   CVTMAP+140
CVT0DS   EQU   CVTMAP+136
CVTFBOSV EQU   CVTMAP+132
CVTNUCB  EQU   CVTMAP+128
CVTIXAVL EQU   CVTMAP+124
CVTSV76M EQU   CVTIOQET
CVTDCBA  EQU   CVTMAP+117
CVTMVS2  EQU   CVTDCB
CVT6DAT  EQU   CVTDCB
CVT4MPS  EQU   CVTDCB
CVTRSV09 EQU   CVTDCB
CVT4MS1  EQU   CVTDCB
CVT2SPS  EQU   CVTDCB
CVT1SSS  EQU   CVTDCB
CVTRSV08 EQU   CVTDCB
CVTSTB   EQU   CVTMAP+112
CVTQTD00 EQU   CVTMAP+108
CVTQTE00 EQU   CVTMAP+104
CVTCUCB  EQU   CVTMAP+100
CVTSJQ   EQU   CVTMAP+96
CVTPBLDL EQU   CVTMAP+92
CVTTPC   EQU   CVTMAP+88
CVTSVDCB EQU   CVTMAP+84
CVTBRET  EQU   CVTMAP+82
CVTEXIT  EQU   CVTMAP+80
CVT0FN00 EQU   CVTMAP+76
CVTDARA  EQU   CVTDAR+1
CVTRSV07 EQU   CVTFLGS1
CVTRSV06 EQU   CVTFLGS1
CVTRSV05 EQU   CVTFLGS1
CVTRSV04 EQU   CVTFLGS1
CVTRSV03 EQU   CVTFLGS1
CVTRSV02 EQU   CVTFLGS1
CVTRSV01 EQU   CVTFLGS1
CVTDMPLK EQU   CVTFLGS1
CVTXITP  EQU   CVTMAP+68
CVTZDTAB EQU   CVTMAP+64
CVTMSLT  EQU   CVTMAP+60
CVTDATE  EQU   CVTMAP+56
CVTBTERM EQU   CVTMAP+52
CVTSYSAD EQU   CVTMAP+48
CVTXTLER EQU   CVTMAP+44
CVTILK2  EQU   CVTMAP+40
CVTILK1  EQU   CVTMAP+36
CVTPRLTV EQU   CVTMAP+32
CVTPCNVT EQU   CVTMAP+28
CVT0VL00 EQU   CVTMAP+24
CVTXAPG  EQU   CVTMAP+20
CVTBUF   EQU   CVTMAP+16
CVTJOB   EQU   CVTMAP+12
CVTLINK  EQU   CVTMAP+8
CVT0EF00 EQU   CVTMAP+4
CVTTCBP  EQU   CVTMAP
CVT      EQU   CVTMAP
@NM00024 EQU   PSA+3668
PSASTAK  EQU   PSA+3072
@NM00023 EQU   PSA+1048
PSAUSEND EQU   PSA+1048
PSARV062 EQU   PSA+1044
PSACDAL  EQU   PSA+1040
PSAWTCOD EQU   PSA+1036
PSAATCVT EQU   PSA+1032
PSAPCPSW EQU   PSA+1024
PSAPIR2  EQU   PSA+1020
PSARV059 EQU   PSA+1018
PSASVC13 EQU   PSA+1016
PSALSFCC EQU   PSA+1012
PSASFACC EQU   PSA+1008
PSASTOP  EQU   PSA+992
PSASTART EQU   PSA+976
PSARSPSW EQU   PSA+968
PSASRPSW EQU   PSA+960
PSARV045 EQU   PSA+892
PSARV044 EQU   PSA+888
PSARV043 EQU   PSA+884
PSARV042 EQU   PSA+880
PSARV041 EQU   PSA+876
PSARV040 EQU   PSA+872
PSARV025 EQU   PSA+868
PSADSSED EQU   PSA+868
PSADSSPR EQU   PSA+864
PSADSSFW EQU   PSA+860
PSADSS14 EQU   PSA+856
PSADSSPP EQU   PSA+848
PSADSSRP EQU   PSA+840
PSADSS05 EQU   PSADSSF4
PSADSS10 EQU   PSADSSF4
PSADSSVE EQU   PSADSSF4
PSADSSDE EQU   PSADSSF4
PSADSSC0 EQU   PSADSSF4
PSADSSIE EQU   PSADSSF4
PSADSS12 EQU   PSADSSF4
PSADSSRC EQU   PSADSSF4
PSARV057 EQU   PSADSSF3
PSARV056 EQU   PSADSSF3
PSARV055 EQU   PSADSSF3
PSADSSMC EQU   PSADSSF3
PSADSSRW EQU   PSADSSF3
PSADSSNM EQU   PSADSSF3
PSADSSES EQU   PSADSSF3
PSADSSGP EQU   PSADSSF3
PSADSSF2 EQU   PSADSSFL+1
PSADSSPI EQU   PSADSSF1
PSADSSOI EQU   PSADSSF1
PSADSSSP EQU   PSADSSF1
PSADSSTP EQU   PSADSSF1
PSADSSDW EQU   PSADSSF1
PSADSSDD EQU   PSADSSF1
PSADSSDM EQU   PSADSSF1
PSADSSMV EQU   PSADSSF1
PSADSSTS EQU   PSA+816
PSADSSWK EQU   PSA+812
PSADSSR3 EQU   PSA+808
PSADSSR2 EQU   PSA+804
PSADSSRS EQU   PSA+800
PSASTOR  EQU   PSA+796
PSACPUSA EQU   PSA+794
PSAVSTAP EQU   PSA+792
PSAWKVAP EQU   PSA+788
PSAWKRAP EQU   PSA+784
PSAMCHIC EQU   PSA+783
PSARV061 EQU   PSA+782
PSASYMSK EQU   PSA+781
PSAMCHFL EQU   PSA+780
PSACR0   EQU   PSA+776
PSAPSWSV EQU   PSA+768
PSALITA  EQU   PSA+764
PSACLHS  EQU   PSAHLHI
PSALKR15 EQU   PSALKSA+60
PSALKR14 EQU   PSALKSA+56
PSALKR13 EQU   PSALKSA+52
PSALKR12 EQU   PSALKSA+48
PSALKR11 EQU   PSALKSA+44
PSALKR10 EQU   PSALKSA+40
PSALKR9  EQU   PSALKSA+36
PSALKR8  EQU   PSALKSA+32
PSALKR7  EQU   PSALKSA+28
PSALKR6  EQU   PSALKSA+24
PSALKR5  EQU   PSALKSA+20
PSALKR4  EQU   PSALKSA+16
PSALKR3  EQU   PSALKSA+12
PSALKR2  EQU   PSALKSA+8
PSALKR1  EQU   PSALKSA+4
PSALKR0  EQU   PSALKSA
PSARV023 EQU   PSACLHT+52
PSALOCAL EQU   PSACLHT+48
PSACMSL  EQU   PSACLHT+44
PSAOPTL  EQU   PSACLHT+40
PSATPACL EQU   PSACLHT+36
PSATPDNL EQU   PSACLHT+32
PSATPNCL EQU   PSACLHT+28
PSAIOSLL EQU   PSACLHT+24
PSAIOSUL EQU   PSACLHT+20
PSAIOSCL EQU   PSACLHT+16
PSAIOSSL EQU   PSACLHT+12
PSASALCL EQU   PSACLHT+8
PSAASML  EQU   PSACLHT+4
PSADISPL EQU   PSACLHT
PSASRSA  EQU   PSA+636
PSARV050 EQU   PSA+634
PSADSSGO EQU   PSA+633
PSARECUR EQU   PSA+632
PSAHLHIS EQU   PSA+628
PSAIPCSA EQU   PSA+624
@NM00022 EQU   PSA+621
PSAIPCDM EQU   PSA+620
PSAIPCD  EQU   PSA+616
@NM00021 EQU   PSA+613
PSAIPCRM EQU   PSA+612
PSAIPCR  EQU   PSA+608
PSAMCHEX EQU   PSA+600
PSAMPSW  EQU   PSA+592
PSAEXPS2 EQU   PSA+584
PSAEXPS1 EQU   PSA+576
PSAPIREG EQU   PSA+572
PSARSREG EQU   PSA+568
PSAGPREG EQU   PSA+556
PSARV022 EQU   PSASUP4
PSARV021 EQU   PSASUP4
PSARV020 EQU   PSASUP4
PSARV019 EQU   PSASUP4
PSARV018 EQU   PSASUP4
PSARV017 EQU   PSASUP4
PSARV016 EQU   PSASUP4
PSARV015 EQU   PSASUP4
PSARV014 EQU   PSASUP3
PSARV013 EQU   PSASUP3
PSARV012 EQU   PSASUP3
PSAESTA  EQU   PSASUP3
PSASPR   EQU   PSASUP3
PSAPSREG EQU   PSASUP3
PSAPI2   EQU   PSASUP3
PSAIOSUP EQU   PSASUP3
PSALCR   EQU   PSASUP2
PSARTM   EQU   PSASUP2
PSAACR   EQU   PSASUP2
PSAIPCE2 EQU   PSASUP2
PSAIPCES EQU   PSASUP2
PSAIPCEC EQU   PSASUP2
PSAGTF   EQU   PSASUP2
PSAIPCRI EQU   PSASUP2
PSATYPE6 EQU   PSASUP1
PSATCTL  EQU   PSASUP1
PSADISP  EQU   PSASUP1
PSALOCK  EQU   PSASUP1
PSAPI    EQU   PSASUP1
PSAEXT   EQU   PSASUP1
PSASVC   EQU   PSASUP1
PSAIO    EQU   PSASUP1
PSAANEW  EQU   PSA+544
PSATOLD  EQU   PSA+540
PSATNEW  EQU   PSA+536
PSALCCAR EQU   PSA+532
PSALCCAV EQU   PSA+528
PSAPCCAR EQU   PSA+524
PSAPCCAV EQU   PSA+520
PSACPULA EQU   PSA+518
PSACPUPA EQU   PSA+516
PSAPSA   EQU   PSA+512
FLCHDEND EQU   PSA+512
FLCCRSAV EQU   FLCMCLA+280
FLCGRSAV EQU   FLCMCLA+216
FLCFPSAV EQU   FLCMCLA+184
FLCFLA   EQU   FLCMCLA+88
FLCRGNCD EQU   FLCMCLA+84
FLCFSAA  EQU   FLCFSA+1
@NM00020 EQU   FLCFSA
@NM00019 EQU   FLCMCLA+72
FLCMCIC  EQU   FLCMCLA+64
@NM00018 EQU   FLCMCLA+20
FLCIOAA  EQU   FLCIOA+1
@NM00017 EQU   FLCIOA
@NM00016 EQU   FLCMCLA+15
@NM00015 EQU   FLCMCLA+14
@NM00014 EQU   FLCMCLA+12
FLCLCL   EQU   FLCMCLA+8
FLCIOELA EQU   FLCIOEL+1
@NM00013 EQU   FLCIOEL
FLCCHNID EQU   FLCMCLA
@NM00012 EQU   PSA+160
FLCMTRCD EQU   PSA+157
@NM00011 EQU   PSA+156
FLCPERA  EQU   FLCPER+1
@NM00010 EQU   FLCPER
@NM00009 EQU   PSA+151
FLCPERCD EQU   PSA+150
FLCMCNUM EQU   PSA+149
@NM00008 EQU   PSA+148
FLCTEAA  EQU   FLCTEA+1
@NM00007 EQU   FLCTEA
PSAPIPC  EQU   PSAPICOD
PSAPIMC  EQU   PSAPICOD
PSAPIPER EQU   PSAPICOD
PSARV049 EQU   FLCPICOD
FLCPILCB EQU   FLCPIILC
@NM00006 EQU   FLCPIILC
@NM00005 EQU   PSAEPPSW
FLCSVCN  EQU   PSAESPSW+2
FLCSILCB EQU   FLCSVILC
@NM00004 EQU   FLCSVILC
@NM00003 EQU   PSAESPSW
FLCEICOD EQU   PSAEEPSW+2
PSASPAD  EQU   PSAEEPSW
@NM00002 EQU   PSA+128
FLCINPSW EQU   PSA+120
FLCMNPSW EQU   PSA+112
FLCPNPSW EQU   PSA+104
FLCSNPSW EQU   PSA+96
FLCENPSW EQU   PSA+88
FLCTRACE EQU   PSA+84
FLCTIMER EQU   PSA+80
FLCCVT2  EQU   PSA+76
FLCCAW   EQU   PSA+72
FLCCSW   EQU   PSA+64
FLCIOPSW EQU   PSA+56
FLCMOPSW EQU   PSA+48
FLCPOPSW EQU   PSA+40
FLCSOPSW EQU   PSA+32
FLCEOPSW EQU   PSA+24
@NM00001 EQU   FLCICCW2+4
FLCCVT   EQU   FLCICCW2
FLCICCW1 EQU   FLCROPSW
FLCIPPSW EQU   FLCRNPSW
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RT00140 EQU   CLEANUP
@RT00282 EQU   RET4
@RT00322 EQU   RET1
@RT00333 EQU   RET2
@RT00345 EQU   RET3
@RT00356 EQU   RET7
@RT00474 EQU   XWRITEST
@RT00478 EQU   EQAFOFF
@RT00494 EQU   XWRITEST
@RT00506 EQU   XWRITEST
@RT00508 EQU   XWRITEST
@RT00510 EQU   FINALTRM
@RT00619 EQU   WAIT
@RT00625 EQU   XWRITEST
@RF00897 EQU   @EL00006
FREED    EQU   @EL00006
@RT00939 EQU   PGLSTBLD
@RT00959 EQU   POSTEXIT
@RT00973 EQU   PURGEBCB
@RF00973 EQU   POSTEXIT
@RT00992 EQU   IPURGE
@RF00992 EQU   SLEFREE
EXIT     EQU   @EL00007
@RC01049 EQU   @EL00008
@RT01077 EQU   PLENTRY
@RF01069 EQU   @EL00009
@PB00007 EQU   @PB00010
@PB00006 EQU   @PB00007
@PB00005 EQU   @PB00006
@PB00004 EQU   @PB00005
@PB00003 EQU   @PB00004
@PB00002 EQU   @PB00003
@ENDDATA EQU   *
         END   AHLIWRIT,(C'PLS0041',0701,78166)

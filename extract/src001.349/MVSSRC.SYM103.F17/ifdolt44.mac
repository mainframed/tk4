         TITLE 'IFDOLT44 DIO (HIO) HANDLER'
         TITLE 'IFDOLT44 DIO (HALTIO) HANDLER'
         LCLA  &T,&SPN                                            0002
.@001    ANOP                                                     0002
IFDOLT44 CSECT ,                                                  0002
         BC    15,24(0,@F)
         DC    C'IFDOLT44 23 JAN 74'                             0002
         ST    @E,12(0,@D)                                        0002
         STM   @0,@C,20(@D)                                       0002
         BALR  @B,0                                               0002
@PSTART  DS    0H                                                 0002
         USING @PSTART+00000,@B                                   0002
*         PURGE: GEN(EQU X'3B');         /* SVC59               YM5411*
PURGE    EQU X'3B'
         DS    0H
*         /* CONSTANT USED TO MAKE BINARY CHECKS                      *
*         DECLARE ON CHAR(1) INIT('01'X);
*         /* CONSTANT  USED  TO  TEST  FOR  NO  OPERAND GIVEN         *
*         DCL ZERO FIXED(31) INIT('00000000'X);
*         /* CONSTANT USED FOR ERROR RETURN CODE                      *
*         DCL FOUR FIXED(31) INIT('00000004'X);
*         /* SVC 33 PARM                                        Y02008*
*         DCL XFF CHAR(1) INIT('FF'X);   /*                     Y02008*
*         /* SVC 16 PARM                                              *
*         DCL X00 CHAR(1) INIT('00'X);   /*                     Y02008*
*         DCL ONER FIXED(31) INIT('00000001'X);
*    GENERATE DATA;                  /* PATCH AREA                    *
*         /* GET DSECT FOR COMMON  AREA                               *
*         GEN(EJECT);
         EJECT
         DS    0H
**
**/********************************************************************
**/*      COMMON AREA MAP                                             *
**/********************************************************************
** DECLARE
**  1 COMMAP BASED(COMMAPT) BDY(WORD),
**    3 CHASCT CHAR(92),                 /* SECTION CONTROL TABLE     *
**    3 DOLT00PT PTR(31),                /* INITIALIZATION MODULE     *
**    3 LGWRTCT CHAR(40),                /* LAST SCT WORDS            *
**    3 INBUFPTR PTR(31),                /* ADDR OF ITEM IN BUFFER    *
**    3 INBUFR CHAR(72),                 /* INPUT BUFFER              *
**    3 PRTBUFR CHAR(124),               /* PRINTING BUFFER           *
**    3 SECPTR PTR(31),                  /* ACTIVE SECTION ENTRY POINT*
**    3 UTENT PTR(31),                   /* 1ST UT INSTRUCTION        *
**    3 DATPTR PTR(31),                  /* PTR TO DP ROOT MODULE     *
**    3 DATIND CHAR(2),                  /* OLTEP DATA INDICATOR      *
**    3 PGMTAB CHAR(8),                  /* ACTIVE PGM ID             *
**    3 SECLST CHAR(138),                /* SECTION LIST              *
**    3 PCIEXIT PTR(31),                 /* PTR TO PCI EXIT           *
**    3 NORMEXIT PTR(31),                /* PTR TO NORMAL EXIT        *
**    3 ABNMEXIT PTR(31),                /* PTR TO ABNORMAL EXIT      *
**    3 DIEPTR PTR(31),                  /* PTR TO DISABLED INT HNDLR *
**    3 IOSCB CHAR(136),                 /* CTRL BLK SET FOR IOS      *
**      5 MODIOSB CHAR(108),             /* MODEL IOSB                *
**      5 MODUSECB CHAR(24),             /* MODEL USE CONTROL BLOCK   *
**      5 OECBWRD1 CHAR(4),              /* 1ST WORD OF OECB          *
**        7 OECBSNSC CHAR(1),            /* SENSE COUNT FOR THIS REQ  *
**        7 OECBINCT CHAR(1),            /* INTERRUPT COUNT FLD       *
**        7 OECBX CHAR(2),               /* NOT USED                  *
**    3 EFCTRCB CHAR(20) BDY(WORD),      /* IOEFFECTOR CNTRL BLOCK    *
**      5 CCWPTR PTR(31),                /* PTR TO CCW LIST           *
**      5 DVTPTR PTR(31),                /* PTR TO DEVTBLE ENTRY      *
**      5 FLGA CHAR(1),                  /* FLAGS:                    *
**        7 BYPASPFX BIT(1),             /*   BYPASS PREFIX           *
**        7 CEDEPOST BIT(1),             /*   CE DE SEPERATION        *
**        7 GDP BIT(1),                  /*   GUARANTEED DEV PATH     *
**        7 SPEXPOS BIT(1),              /*   SPECIFIC EXPOSURE       *
**        7 * BIT(1),                    /*   NOT USED                *
**        7 * BIT(1),                    /*   NOT USED                *
**        7 * BIT(1),                    /*   NOT USED                *
**        7 * BIT(1),                    /*   NOT USED                *
**      5 FLGB CHAR(1),                  /* FLAGS:                    *
**        7 INTIRNAL BIT(1),             /*   INTERNAL CALL BY DP ETC.*
**        7 ATTNIN BIT(1),               /*   ATTENTION FUNCTION      *
**        7 VIRTCCWS BIT(1),             /*   CCWS ARE VIRTUAL        *
**        7 OLDTECBX BIT(1),             /*   P3116 TECB              *
**        7 * BIT(1),                    /*   NOT USED                *
**        7 * BIT(1),                    /*   NOT USED                *
**        7 * BIT(1),                    /*   NOT USED                *
**        7 * BIT(1),                    /*   NOT USED                *
**      5 FILEMSK CHAR(1),               /*   FILEMASK OR MODE SET    *
**      5 SNSCNT CHAR(1),                /*   SENSE BYTE COUNT        *
**      5 TECBPTRX PTR(31),              /*   PTR TO TECB             *
**      5 SEEKPTR PTR(31),               /*   PTR TO SEEK ADDR        *
**    3 IOEFTRAD PTR(31),                /*   PTR TO IO EFFECTOR      *
**    3 IODEVTAB(3) CHAR(12) BDY(WORD),  /* IO DEVICE TABLES          *
**      5 IODEV1 PTR(31),                /*      PTR TO DEV TBLE NTRY *
**      5 IOSBPTR1 PTR(31),              /*      PTR TO IOSB          *
**      5 IOECB1 CHAR(4),                /*      ECB                  *
**        7 CMPLT CHAR(1),               /*                           *
**          9 WAITBIT BIT(1),            /* ECB WAITED ON             *
**          9 POSTBIT BIT(1),            /* ECB POSTED                *
**          9 CMPLCODE BIT(6),           /* SYSTEM COMPLETION CODE    *
**        7 * CHAR(1),                   /* NOT USED                  *
**        7 * CHAR(2),                   /*                           *
**          9 PSUDPOST BIT(1),           /* SET BY NAPA               *
**          9 * BIT(3),                  /* NOT USED                  *
**          9 WTCMPCD BIT(12),           /* SET BY WAITIO ON TMOUT    *
**    3 SELAFFN CHAR(2),                 /* SELECTED AFFN             *
**    3 CHARAFFN CHAR(2),                /* CHAR REP OF SEL AFFN      *
**    3 XXXXXXXX CHAR(144),              /* NOT USED                  *
**    3 DEVTBPTR PTR(31),                /* PTR TO DEVICE TABLES      *
**    3 TABLNGTH FIXED(15),              /* LENGTH OF EACH TABLE      *
**    3 CESWT9 CHAR(1),                  /* SWITCHES:                 *
**      5 CDSEQU BIT(1),                 /*   CDS EQUATE REQ          *
**      5 RESTBENT BIT(1),               /*   RESIDENT TBL ENTRY      *
**      5 VRCAP BIT(1),                  /*   VIRTUAL OR REAL OLT     *
**      5 *  BIT(4),                     /*   NOT USED                *
**    3 CESWT10 CHAR(1),                 /* SWITCHES OR FLAGS         *
**      5 MPSYS BIT(1),                  /* MP SYSTEM                 *
**      5 AFFNSET BIT(1),                /* AFFN SET                  *
**      5 VERBCALL BIT(1),               /* VERB SELECTED             *
**    3 OPEN2 PTR(31),                   /* NOT USED                  *
**    3 OPEN3 PTR(31),                   /* NOT USED                  *
**    3 PSCT PTR(31),                    /* PTR TO SCT                *
**    3 DEVDEPAD PTR(31),                /* ACTIVE SCT ENTRY PTR      *
**    3 TABAD PTR(31),                   /* UNIT TESTING TBLE PTR     *
**    3 UTCOMAD PTR(31),                 /* POINTER TO PASSON AREA    *
**    3 MCT CHAR(208) BDY(WORD),         /* MODULE CONTROL TABLE      *
**      5 * CHAR(164),                   /*                           *
**      5 PARPRADR PTR(31),              /* DPRINT MODULE ADDR        *
**      5 * CHAR(40),                    /*                           *
**    3 MCT1ADR PTR(31),                 /* PTR TO MCT                *
**    3 WKSVC CHAR(16) BDY(WORD),        /* SVC WORK AREA             *
**      5 * CHAR(4),                     /*                           *
**      5 ROPT PTR(31),                  /* SVC PARM LIST             *
**      5 * CHAR(8),                     /*                           *
**    3 OLTTAB CHAR(40) BDY(WORD),       /* LINK TABLE                *
**      5 * CHAR(28),                    /*                           *
**      5 TAB28 PTR(31),                 /* NEW MACRO ENTRY POINT     *
**      5 * CHAR(8),                     /*                           *
**    3 LOGADR PTR(31),                  /* PTR TO LOGSCAN MODULE     *
**    3 SCHEDSA PTR(31),                 /* PTR TO SCHEDULER SVAREA   *
**    3 SATAB CHAR(12),                  /* SYSTEM ASSIGNMENT TABLE   *
**    3 PLKMOR CHAR(16),                 /* PLINK AND MORECORE MNGMT  *
**    3 REGX PTR(31),                    /* ACTIVE UCB ADDR PTR       *
**    3 TUCBAD1 PTR(31),                 /* 1ST ACTIVE UCB ADDR       *
**    3 TUCBAD2 PTR(31),                 /* 2ND ACTIVE UCB ADDR       *
**    3 TSTDEBAD PTR(31),                /* TEST DEB ADDR             *
**    3 ECB3 CHAR(4),                    /* DYNAMIC COMMUNICATION ECB *
**    3 UTCOM CHAR(64),                  /* PASSON AREA               *
**    3 EXTBUF CHAR(56),                 /* EXTERNAL BUFFER           *
**    3 DPRDEBAD PTR(31),                /* PTR TO DPRINT DEB         *
**    3 PRIDVPTR PTR(31),                /* PTR TO ACTIVE PRIME DEVTAB*
**    3 SECDVPTR PTR(31),                /* PTR TO LAST GRAB DEVICE   *
**    3 REDEFINE PTR(31),                /* CE COMM ENTRY IN    Y02906*
**                                       /* IFDOLT30            Y02906*
**    3 COMMINT PTR(31),                 /* DYN COMM ENTRY IN   Y02906*
**                                       /* IFDOLT30            Y02906*
**    3 NEXTREC PTR(31),                 /* NEXT INPUT RECORD   Y02906*
**                                       /* ENTRY IN IFDOLT30   Y02906*
**    3 ADSVAREA PTR(31),                /* IFDOLT30 1ST SVAREA ADDR  *
**    3 ECB37 CHAR(4),                   /* CECOM ECB                 *
**    3 REPLY37 CHAR(72),                /* CECOM INPUT BUFFER        *
**    3 MSGAD37 PTR(31),                 /* OLTS BUFFER ADDR          *
**    3 TPSAVE CHAR(4),                  /* TEST ID                   *
**    3 TLCOUNT FIXED(15),               /* TEST LOOP COUNT           *
**    3 HRTSEL FIXED(15),                /* HIGHEST ROUTINE SELECTED  *
**    3 SAVECNT CHAR(2),                 /* COUNTER FOR DEVICE DELODE *
**    3 * CHAR(2),                       /* TEST LOOP RUN             *
**    3 SAVENT CHAR(4),                  /* LAST INCLUSIVE SERIES     *
**    3 CESWITCH CHAR(9),                /* OLTEP SWITCHES            *
**      5 CESWT CHAR(1),                 /* CE SWITCH                 *
**        7 LEGALTST BIT(1),             /* LEGAL TEST ENTRY          *
**        7 SECDEV BIT(1),               /* DO DP FOR SEC DEV         *
**        7 OUTS BIT(1),                 /* OLD OLT LOADED            *
**        7 NUTS BIT(1),                 /* NEW OLT LOADED            *
**        7 LEGALDEV BIT(1),             /* LEGAL DEVICE ENTRY        *
**        7 REINT BIT(1),                /* NEW D/T/O/ ENTRY          *
**        7 FERINT BIT(1),               /* COMMUNICATION INTERVAL    *
**        7 * BIT(1),                    /*                           *
**      5 CESWT1 CHAR(1),                /* SWITCH 1:                 *
**        7 RTNFLD BIT(1),               /* ROUTINES SELECTED         *
**        7 SKTST BIT(1),                /*                           *
**        7 * BIT(1),                    /*                           *
**        7 WAITFG BIT(1),               /* WAITIO NEEDED             *
**        7 FILMSK BIT(1),               /* ALLOW MODESET CHANGE      *
**        7 * BIT(1),                    /*                           *
**        7 ONLINEOK BIT(1),             /* ONLINE TESTING OK         *
**        7 TPFLAG BIT(1),               /* UNITS COUNTER GTR THEN 1  *
**      5 CESWT2 CHAR(1),                /* SWITCH 2:                 *
**        7 NDCFO BIT(1),                /* NO DYN COMM FOR OLTEP     *
**        7 * BIT(1),                    /*                           *
**        7 FECOND BIT(1),               /* FIRST ERROR CONDITION     *
**        7 * BIT(1),                    /*                           *
**        7 INITENT BIT(1),              /* OPTION ENTRY DECODED      *
**        7 NDR BIT(1),                  /* NDR ENTRY                 *
**        7 TAPEHDR BIT(1),              /* TAPE LABEL TO RESTORE     *
**        7 * BIT(1),                    /*                           *
**      5 CESWT3 CHAR(1),                /* SWITCH 3:                 *
**        7 TALKVERB BIT(1),             /* TALK REQUESTED            *
**        7 BYPALDEV BIT(1),             /* STOP SCHEDULING DEVICES   *
**        7 BYPDEV BIT(1),               /* STOP TESTING CURRENT DEV  *
**        7 GRBCNTL BIT(1),              /* GRAB MACRO ISSUED         *
**        7 SUSDEL BIT(1),               /* MODULE CAN BE DELETED     *
**        7 TP1419 BIT(1),               /* TP DEVICES IN SYSTEM      *
**        7 CDEXIST BIT(1),              /* CDS LIBRARY EXISTS        *
**        7 NODP BIT(1),                 /* CANT DO DATA PROJECT      *
**      5 CESWT4 CHAR(1),                /* SWITCH 4:                 *
**        7 RSTRFLG BIT(1),              /* PAGE RESTORE -BYPASS WTO  *
**        7 DPRFLG BIT(1),               /* USE DPRINT 2ND SVAREA     *
**        7 WAITFLG BIT(1),              /* BYPASS DPRINT INTRNL WAIT *
**        7 WRTFLG BIT(1),               /* DPRINT WRITE REQUEST      *
**        7 * BIT(1),                    /* NOT USED                  *
**        7 WTORFLG BIT(1),              /* DPRINT WTOR REQUEST       *
**        7 RPLYFLG BIT(1),              /* REPLY EXPECTED            *
**        7 WTOFLG BIT(1),               /* DPRINT WTO REQUEST        *
**      5 CESWT5 CHAR(1),                /* SWITCH 5:                 *
**        7 HDRFLG BIT(1),               /* PRINT HEADER LINE         *
**        7 RSLTFLG BIT(1),              /* PRINT RESULTS             *
**        7 FFEFLG BIT(1),               /* 1ST ERROR HAS OCCURRED    *
**        7 FCEFLG BIT(1),               /* 1ST CAT ERROR HAS OCCURRED*
**        7 PFEMSG BIT(1),               /* PRINT 1ST ERROR MSG       *
**        7 PCEMSG BIT(1),               /* PRINT CAT ERROR MSG       *
**        7 SYMBFLG BIT(1),              /* SYMBOLIC NAME IN HEADER   *
**        7 PRNTOPTN BIT(1),             /* PRINT PRIOR OPTIONS MSG   *
**      5 CESWT6 CHAR(1),                /* SWITCH 6:                 *
**        7 UTSCAL BIT(1),               /* UNIT TEST MACRO CALL      *
**        7 ATM BIT(1),                  /* PRINT * ON TERM MSG       *
**        7 EOFBIT BIT(1),               /* RESET INTERNAL SWITCHES   *
**        7 PFPMSG BIT(1),               /* PRINT FP MSG-CANCEL OLT   *
**        7 CODE5 BIT(1),                /* REPEAT TESTS              *
**        7 NORUN BIT(1),                /* DONT RUN SCHEDULED TEST   *
**        7 SECRUN BIT(1),               /* SCHEDULED TEST DONE       *
**        7 RTSTAE BIT(1),               /* ENTRY TO STAE             *
**      5 CESWT7 CHAR(1),                /* SWITCH 7:                 *
**        7 INCLST BIT(1),               /* INCLUSIVE DEVICE ENTRY    *
**        7 RETTO31 BIT(1),              /* NOT ALL DEVICES VALID     *
**       7 REMOTE BIT(1),                /* REMOTE TERM IN DEV ENTRY  *
**        7 * BIT(1),                    /* NOT USED                  *
**        7 * BIT(1),                    /* NOT USED                  *
**        7 * BIT(1),                    /* NOT USED                  *
**        7 VIRTUAL BIT(1),              /* RUNNING IN VIRTUAL        *
**        7 GOTINPUT BIT(1),             /* ENTRY TO D/T/O            *
**      5 CESWT8 CHAR(1),                /* SWITCH 8:                 *
**        7 LISTFIX BIT(1),              /* PARMLIST FIXED            *
**        7 * BIT(1),                    /* NOT USED                  *
**        7 * BIT(1),                    /* NOT USED                  *
**        7 READDCHK BIT(1),             /* READD ENTERED             *
**        7 OLTINVV BIT(1),              /* OLT IN VIRTUAL            *
**        7 SUTMSG BIT(1),               /* MSG 158I ISSUED           *
**        7 SNEWRUN BIT(1),              /* NEW TEST RUN              *
**        7 TALKHERE BIT(1),             /* TALK VERB ENTERED         *
**    3 DYNCOM CHAR(1),                  /* RESPONSE BUFFER DYN MSG   *
**    3 SECTUSE  CHAR(1),                /* NO. OF SECTIONS RUNYM03331*
**    3 UNICTR  CHAR(1),                 /* NO. OF UNITS TO RUNYM03331*
**    3 UNITUSE  CHAR(1),                /* NO.   OF UNITS RUN YM03331*
**    3 DPLEVEL CHAR(1),                 /* MSG PRINTING LEVEL        *
**    3 CNT37  CHAR(1),                  /* CECOM REPLY LENGTH YM03331*
**    3 READDSV CHAR(6),                 /* READD SVAREA              *
**    3 * CHAR(3),                       /* NOT USED                  *
**    3 READDMOD PTR(31),                /* PTR TO READD MODULE       *
**    3 RDCBPTR PTR(31),                 /* READD DCB PTRPTR -  Y02906*
**                                       /* DCB IN IFDOLT51     Y02906*
**    3 MSGMOD PTR(31),                  /* PTR TO RESIDENT MSG MODULE*
**    3 ENDJOB PTR(31),                  /* PTR TO INIT SVAREA        *
**    3 MHRPTR PTR(31),                  /*                           *
**    3 RTALKBUF PTR(31),                /* PTR TO TALK BUFFER- Y02906*
**                                       /* BUFFER IN IFDOLT55  Y02906*
**    3 RINBUF PTR(31),                  /* PTR TO REMOTE INBUFRY02906*
**                                       /* BUFR IN IFDOLT55    Y02906*
**    3 REIDCBPT PTR(31),                /* PTR TO REI DCB-     Y02906*
**                                       /* DCB IN IFDOLT55     Y02906*
**    3 REIOBPTR PTR(31),                /* PTR TO REI IOB-     Y02906*
**                                       /* IOB IN IFDOLT55     Y02906*
**    3 REIECB CHAR(4),                  /* REMOTE COMM ECB           *
**    3 TALKECB CHAR(4),                 /* ONSITE COMM ECB           *
**    3 RESPBUF PTR(31),                 /* PTR TO REPLY BUFR         *
**    3 REIUCB PTR(31),                  /* 2955 UCB ADDR             *
**    3 CESWTR CHAR(1),                  /* RETAIN SWITCHES:          *
**      5 RETAINAC BIT(1),               /* RETAIN ACTIVE             *
**      5 REMERR BIT(1),                 /* REMOTE ERROR              *
**      5 REMONMSG BIT(1),               /* DONT SEND TO REMOTE       *
**      5 CENOMSG BIT(1),                /* DONT SEND TO CONSOLE      *
**      5 TRANSMSG BIT(1),               /* TRANSLATE MSG             *
**      5 IMRESP BIT(1),                 /*  ATTACH 04 REPLY CODE     *
**      5 EXECOUT BIT(1),                /*  SCCEPT 00 REPLY CODE     *
**      5 * BIT(1),                      /*  NOT USED                 *
**    3 CESWTR1 CHAR(1),                 /*  REMOTE SWITCH1:          *
**      5 ILLRESP BIT(1),                /*  INVALID RESP BY REMOTE   *
**      5 EXECANS BIT(1),                /*  REMOTE REPLIED TO 104E   *
**      5 CECOMANS BIT(1),               /*  REMOTE REPLIED TO OUTSMSG*
**      5 INFOMSG BIT(1),                /*   3 MSG RCVD FROM REMOTE  *
**      5 RETRIEVE BIT(1),               /*  REIECB POSTED            *
**      5 REMANS BIT(1),                 /*  REMOTE CAN REPLY         *
**      5 EDOTMSG BIT(1),                /*  ATTACH 01 REPLY CODE     *
**      5 REIENTRY BIT(1),               /*  ENTRY FROM REI           *
**    3 CESWTR2 CHAR(1),                 /*  REMOTE SWITCH2:          *
**      5 REPLY00 BIT(1),                /*  ATTACH 00 REPLY CODE     *
**      5 * BIT(1),                      /*  NOT USED                 *
**      5 ONCOMM BIT(1),                 /*  ONSITE REPLIED           *
**      5 COMLOOP BIT(1),                /*  105D ISSUED - TALK REPLY *
**      5 WAIT BIT(1),                   /*  ISSUE WTOR               *
**      5 OPTERR BIT(1),                 /*  RE AND MI OPTIONS SELECT *
**      5 * BIT(1),                      /*  NOT USED                 *
**      5 DPMSGREI BIT(1),               /* REI REPLY NOT ALLOWED     *
**    3 CESWTR3 CHAR(1),                 /*  REMOTE SWITCH3           *
**    3 ZUESUCB FIXED(15),               /*  SPEC EXP BASE UCB ADDR   *
**    3 * CHAR(2),                       /*  NOT USED                 *
**    3 EXPAND1 CHAR(4),                 /* EXPANSION BYTES           *
**    3 SYMPTR PTR(31),                  /* SYMBOLIC LIB DCB PTRY02906*
**                                       /* DCB IN IFDOLT30     Y02906*
**    3 PGFXLIST CHAR(16),               /* PAGEFIX LIST              *
**    3 PARTITEM CHAR(12),               /* PARTITION ITEMS           *
**    3 PGFXOLT CHAR(8),                 /* OLT PAGEFIX LIST          *
**    3 CORERSLT CHAR(8),                /* GETMAIN CORE RESULTS      *
**    3 VRSIZE FIXED(31),                /* REAL CORE AREA SIZE       *
**    3 * CHAR(8),                       /* NOT USED                  *
**    3 NEXTMCT CHAR(208),               /* NEXT MCT                  *
**    3 THIRDMCT CHAR(208),              /* THIRD MCT                 *
**    3 DEVTAB CHAR(896);                /* START OF DEVICE TABLES    *
**
**/*************************************************************Y02906*
**/*                 DEVTAB                                     Y02906*
**/*      DEVICE TABLE ENTRY MAP FOR OLTEP                      Y02906*
**/*                                                            Y02906*
**/* OLTEP/VS2 RELEASE 2                                        Y02906*
**/*                                                            Y02906*
**/* METHOD OF ACCESS                                           Y02906*
**/*    BAL - DSECT NAMED 'DEVTAB' IS PRODUCED                  Y02906*
**/*          A 'USING' ON SYMBOL 'DEVTAB' GIVES ADDRESSABILITY Y02906*
**/*           FOR ALL SYMBOLS.                                 Y02906*
**/*                                                            Y02906*
**/*    PL/S -   DECLARE DEVTABPT PTR,  IS NECESSARY FOR ADDRESSY02906*
**/*              ABILITY                                       Y02906*
**/*                                                            Y02906*
**/*************************************************************Y02906*
**
** DECLARE
**   1 DEVTABMP CHAR(56) BASED(DEVTABPT) BDY(WORD),
**     3 DEVEBCAD CHAR(8),         /* EBCDIC DEVICE ADDRESS           *
**     3 DEVUCBAD PTR(31),         /* UCB POINTER FOR THIS DEVICE     *
**     3 DEVFLAG1 CHAR(1),         /* DEVICE FLAG BYTE 1              *
**       5 ONLINE BIT(1),          /* IF 1- DEVICE IS ONLINE          *
**       5 PRIMARY BIT(1),         /* IF 1- DEVICE IS PRIMARY         *
**       5 DPDONE BIT(1),          /* IF 1- DEVICE IS DATA PROTECTED  *
**       5 ACTIVE BIT(1),          /* IF 1- DEVICE IS ACTIVE          *
**       5 ALOCATED BIT(1),        /* IF 1- DEVICE IS ALOCATED        *
**       5 GRABED BIT(1),          /* IF 1- DEVICE IS GRABBED 2NDARY  *
**       5 FILEPRT BIT(1),         /* IF 1- DEVICE IS FILE PROTECTED  *
**       5 *        BIT(1),        /* UNUSED BIT                      *
**     3 DEVFLAG2 CHAR(1),         /* DEVICE FLAG BYTE 2              *
**       5 DSNAME BIT(1),          /* IF 0 AND ALOCATED=1-DATA SET    *
**                                 /*  NAME IS OSOLTEP1.              *
**                                 /* IF 1 AND ALOCATED=1-DATA SET    *
**                                 /*  NAME IS OSOLTEP2.              *
**       5 SHARED BIT(1),          /* IF 1-DEVICE IS SHARED           *
**       5 CEVOLUMN BIT(1),        /* IF 1-DASD   HAS A CE VOLUME ON  *
**       5 STANDLBL BIT(1),        /* IF 1-TAPE   HAS A STANDARD LABLE*
**       5 HIODONE BIT(1),         /* IF 1-HALT I/O DONE TO THIS DEV  *
**       5 EXIOLVL3 BIT(1),        /* IF 1-EXIO MACRO WAS A LEVEL 3   *
**       5 PCIIND BIT(1),          /* IF 1-A PCI INTERRUPT OCCURRED   *
**       5 *        BIT(1),        /* UNUSED                          *
**     3 DEVFLAG3 CHAR(1),         /* DEVICE FLAG BYTE 3              *
**       5 ANRNOTST BIT(1),        /*                                 *
**       5 *        BIT(1),        /* UNUSED                          *
**       5 *        BIT(1),        /* UNUSED                          *
**       5 TAPEBIT  BIT(1),        /* UNUSED                          *
**       5 NOTEST   BIT(1),        /* NOT TESTABLE                    *
**       5 DEVALC   BIT(1),        /* ALLOCATED                       *
**       5 WAITPOST BIT(1),        /* WAITIO IS POSTING               *
**       5 REISPEUD BIT(1),        /* REI PSEUDO DEV TAB              *
**     3 DEVFLAG4 CHAR(1),         /* DEVICE FLAG BYTE 4              *
**       5 DEVREMDA BIT(1),        /*                                 *
**       5 DEVREMEA BIT(1),        /*                                 *
**       5 RESERVD1 BIT(1),        /*                                 *
**       5 RESERVD2 BIT(1),        /* UNUSED                          *
**       5 *        BIT(1),        /* UNUSED                          *
**       5 *        BIT(1),        /* UNUSED                          *
**       5 *        BIT(1),        /* UNUSED                          *
**       5 *        BIT(1),        /* UNUSED                          *
**     3 DEVLOEXT CHAR(6),         /* LOW EXTENT FOR THIS DEVICE      *
**       5 LOEXTBB CHAR(2),        /* LOW EXTENT BB                   *
**       5 LOEXTCC CHAR(2),        /* LOW EXTENT CC                   *
**       5 LOEXTHH CHAR(2),        /* LOW EXTENT HH                   *
**     3 DEVHIEXT CHAR(6),         /* HIGH EXTENT FOR THIS DEVICE     *
**       5 HIEXTBB CHAR(2),        /* HIGH EXTENT BB                  *
**       5 HIEXTCC CHAR(2),        /* HIGH EXTENT CC                  *
**       5 HIEXTHH CHAR(2),        /* HIGH EXTENT BB                  *
**     3 TAPELABL CHAR(1),         /* DATA BYTE FOR TAPE LABEL SAVE   *
**     3 *        CHAR(1),         /* UNUSED                          *
**     3 DEVMODE CHAR(1),          /* MODE SET SAVE AREA FOR TAPE     *
**     3 DEVEXPOS CHAR(1),         /* EXPOSURE NUMBER FOR MULTI-EXPO- *
**                                 /*  SURE TYPE DEVICE-2305.         *
**     3 DEVHEXAD CHAR(4),         /* DEVICE ADDRESS IN HEX           *
**       5 DEVADPAD CHAR(2),       /* 2 BYTES PADDING                 *
**       5 DEVAD    CHAR(2),       /* 2 BYTE HEX DEVICE ADDRESS       *
**         7 *        BIT(4),      /* NOT APPLICABLE                  *
**         7 DEVCHANL BIT(4),      /* DEVICE CHANNEL ADDRESS          *
**         7 DEVCTRLU BIT(4),      /* DEVICE CONTROL UNIT ADDRESS     *
**         7 DEVADDR  BIT(4),      /* DEVICE ADDRESS                  *
**     3 DEVDESCR CHAR(4),         /* DEVICE DESCRIPTORS              *
**       5 DEVMODEL CHAR(1),       /* DEVICE MODEL NUMBER             *
**       5 DEVFEATR CHAR(1),       /* DEVICE FEATURES                 *
**       5 DEVCLASS CHAR(1),       /* DEVICE CLASS                    *
**       5 DEVUNTYP CHAR(1),       /* DEVICE UNIT TYPE                *
**     3 DEVCDSCT CHAR(1),         /* ACTUAL CDS INFORMATION BYTE CNT *
**     3 DEVCDSFG CHAR(2),         /* FLAG BYTES FROM CDS             *
**       5 CDSFLAG1 CHAR(1),       /* CDS FLAG BYTE 1                 *
**         7 CDSFILPT BIT(1),      /* RUN FILE PROTECT MODE IF 1      *
**         7 CDSSHRED BIT(1),      /* DEVICE IS SHARED IF 1           *
**         7 CDSCEMNT BIT(1),      /* CE VOLUME IS MOUNTED IF 1       *
**         7 CDSEXMSK BIT(1),      /* EXTERNAL SIGNAL MASK IN CDS BYTE*
**                                 /*  11 IF 1                        *
**         7 CDSYMBLC BIT(1),      /* SYMBOLIC NAME IN CDS BYTES 12-19*
**                                 /*  IF 1                           *
**         7 CDS2CHSW BIT(1),      /* 2 CHANNEL SWITCH ON THIS DEVICE *
**                                 /*  IF 1                           *
**         7 CDSREMDV BIT(1),      /* THIS CDS FOR A REMOTE DEVICE    *
**                                 /*  IF 1                           *
**         7 CDSLNCON BIT(1),      /* LINE CONNECTION REQUIRED FOR    *
**                                 /*  THIS DEVICE IF 1               *
**       5 CDSFLAG2 CHAR(1),       /* CDS FLAG BYTE 2                 *
**         7 CDSNOPRI BIT(1),      /* DON'T ASSIGN THIS DEVICE AS     *
**                                 /*  PRIMARY IF 1                   *
**         7 *        BIT(1),      /* UNDEFINED                       *
**         7 *        BIT(1),      /* UNDEFINED                       *
**         7 *        BIT(1),      /* UNDEFINED                       *
**         7 *        BIT(1),      /* UNDEFINED                       *
**         7 *        BIT(1),      /* UNDEFINED                       *
**         7 *        BIT(1),      /* UNDEFINED                       *
**         7 *        BIT(1),      /* UNDEFINED                       *
**     3 CDSEXTSG CHAR(1),         /* CDS EXTERNAL SIGNAL MASK IF FLAG*
**                                 /*  1 BIT 3 IS 1                   *
**     3 CDSYMNAM CHAR(8),         /* SYMBOLIC NAME FOR THIS DEVICE   *
**                                 /*  IF FLAG 1 BIT 4 IS ON          *
**     3 SAVMDMSK CHAR(1),         /* SAVED MODESET/FILEMASK          *
**     3 DEVINTPT CHAR(1),         /* COUNT OF INTERRUPTS POSTED IN   *
**                                 /*  OECB TO THIS POINT. USED TO    *
**                                 /*  SYNCHRONIZE WAITIO-POLL POSTING*
**                                 /*  AND NAPA-IFDOLT58              *
**     3 DEVEXPAN CHAR(2);         /* 3 CHAR FOR EXPANSION            *
*         /* GO TO NEXT PAGE                                          *
*         GEN (EJECT);
         EJECT
         DS    0H
*         /* PARAMETER LISTING MAP                                    *
*         DECLARE 1 * BASED(LSTPTR),    /* PARM LIST FOLLOWS          *
*                  3 * CHAR(1),         /* FILL                       *
*                  3 DIOLVL CHAR(1),    /* MACRO LEVEL                *
*                  3 * CHAR(2),         /* MORE FILL                  *
*                  3 CDSADR PTR(31),    /* CDS POINTER                *
*                  3 TECBADR PTR(31),   /* EVENT BLOCK POINTER        *
*                  3 OPERANDS CHAR(1);  /* OPERATION REQUESTED        *
*    DCL 1 IOSB BASED(ROPT),            /* MAP FOR                    *
*          3 * CHAR(112),               /*   TECB ADDRESS             *
*          3 TECBPTR;                   /*     CHECK                  *
*    DCL 1 * BASED(DVADPTR),         /* CALLERS DEVICE        @YM03331*
*          3 HEXADCDS CHAR(4);       /* HEX ADDRESS           @YM03331*
*         /* GO TO NEXT PAGE                                          *
*         GEN (EJECT);
         EJECT
         DS    0H
*         /*     SECTION CONTROL TABLE MAP                            *
*         DCL 1 * BASED(COMMAPT),        /* SCT MAP             Y02008*
*              3 * CHAR(12),             /* FILL                Y02008*
*              3 PDEVADR CHAR(4);        /* HEX PRIMARY DEV ADDRY02008*
*         GEN (EJECT);
         EJECT
         DS    0H
*         /* GO AHEAD BIG BOY                                         *
*         DEVTABPT=DEVTBPTR;             /* GET DEV TAB PTR     Y02906*
         L     @6,856(0,@2)                                       0034
*         /* CHECK MACRO LEVEL                                        *
*         IF DIOLVL  =  MACLVL THEN     /* IS MACRO LEVEL LEGIT       *
         CLC   1(1,@1),MACLVL                                     0035
*         GO TO  OPTIONCK;              /*IF SO ,GO                   *
         BC    08,OPTIONCK                                        0036
*         /*  SET ERROR RETURN CODE                                   *
*         ERROUT:                       /* LEAVE  DIO  MODULE         *
*         R15  =  FOUR;                 /* TO CALLER                  *
ERROUT   L     @F,FOUR                                            0037
*         RETURN;                       /* EXIT                       *
         BC    15,@EL01                                           0038
*         /* CHECK OUT OPTIONS SUPPLIED BY CALLER                     *
*         OPTIONCK:                     /* LOOK AT OPTIONS            *
*         IF OPERANDS ^= ON THEN        /* IF ANYTHING OTHER THAN     *
OPTIONCK CLC   12(1,@1),ON                                        0039
*           GO TO ERROUT;               /* HIO SPECIFIED GO CAN REQST *
         BC    07,ERROUT                                          0040
*         /* INSURE TECB ADDRESS IS SUPPLIED                          *
*         TECBCHK:                      /* CHECK TECB ADDRESS         *
*         IF TECBADR  =  ZERO THEN      /* IF TECB ADDRESS WAS NOT    *
TECBCHK  L     @F,ZERO                                            0041
         C     @F,8(0,@1)                                         0041
*           GO TO ERROUT;               /* PACK HIM IN                *
         BC    08,ERROUT                                          0042
*            IF CDSADR = 0               /* IF NO CDS ADDRESS GIVEN,  *
*               THEN DO;                 /*   SEARCH            Y02008*
         SR    @F,@F                                              0043
         C     @F,4(0,@1)                                         0043
         BC    07,@9FF                                            0043
*                 DVADPTR = ADDR(PDEVADR);  /*  FOR             Y02008*
         LA    @4,12(0,@2)                                        0045
*                 GOTO DVTBSRCH;         /*  PRIMARY DEVICE     Y02008*
         BC    15,DVTBSRCH                                        0046
*              END;                      /*                     Y02008*
*              DVADPTR = CDSADR;         /* SEARCH FOR REQ'D DEVY02008*
@9FF     L     @4,4(0,@1)                                         0048
* DVTBSRCH:                              /*                     Y02008*
*         /* SEARCH DEVICE TABLE FOR A DEVICE MATCH                   *
*         DO WKREG1 = UNICTR TO ONE  BY -ONE;
DVTBSRCH SR    @F,@F                                              0049
         IC    @F,1467(0,@2)                                      0049
         LR    @7,@F                                              0049
         BC    15,@DO9FD                                          0049
*         IF HEXADCDS=DEVHEXAD       /* IF MATCH              @YM03331*
*            THEN GOTO IOSBCK;           /*   GET IOSB PTR      Y02008*
@DO9FE   CLC   0(4,@4),32(@6)                                     0050
         BC    08,IOSBCK                                          0051
*         DEVTABPT=DEVTABPT+TABLNGTH;    /* GET NEXT DEV ENTRY  Y02906*
         AH    @6,860(0,@2)                                       0052
*         END;                          /* CONTINUE SCAN              *
*         /* GO TO ERROR EXITOR                                       *
*         GO TO ERROUT;                 /* PACK HIM IN                *
         SR    @0,@0                                              0053
         IC    @0,ONE                                             0053
         SR    @7,@0                                              0053
@DO9FD   SR    @0,@0                                              0053
         IC    @0,ONE                                             0053
         CR    @7,@0                                              0053
         BC    10,@DO9FE                                          0053
         BC    15,ERROUT                                          0054
* IOSBCK:                                /*                     Y02008*
*         /*     GET IOSB POINTER                               Y02008*
*         IF DEVTABPT=IODEV1(1)          /* SEARCH IO DEV TAB   Y02008*
*            THEN DO;                    /*   FOR IOSB PTR      Y02008*
IOSBCK   C     @6,672(0,@2)                                       0055
         BC    07,@9FA                                            0055
*               ROPT=IOSBPTR1(1);        /*     OF REQUESTED DEVY02008*
         MVC   1104(4,@2),676(@2)                                 0057
*               IF TECBADR=TECBPTR THEN  /* MAY NOT BE DP CALL        *
         L     @3,1104(0,@2)       
         L     @F,112(0,@3)                                       0058
         C     @F,8(0,@1)                                         0058
*                  GOTO CLASSCK;         /* IF DP, CHECK CLASS  Y02008*
         BC    08,CLASSCK                                         0059
*            END;                        /*                     Y02008*
*         IF DEVTABPT=IODEV1(2)          /*                     Y02008*
*            THEN DO;                    /*                     Y02008*
@9FA     C     @6,684(0,@2)                                       0061
         BC    07,@9F9                                            0061
*               ROPT=IOSBPTR1(2);        /*                     Y02008*
         MVC   1104(4,@2),688(@2)                                 0063
*               GOTO CLASSCK;            /*                     Y02008*
         BC    15,CLASSCK                                         0064
*            END;                        /*                     Y02008*
*         IF DEVTABPT=IODEV1(3)          /*                     Y02008*
*            THEN DO;                    /*                     Y02008*
@9F9     C     @6,696(0,@2)                                       0066
         BC    07,@9F8                                            0066
*               ROPT=IOSBPTR1(3);        /*                     Y02008*
         MVC   1104(4,@2),700(@2)                                 0068
*               GOTO CLASSCK;            /*                     Y02008*
*            END;                        /*                     Y02008*
*         GOTO ERROUT;                   /* ERROR               Y02008*
*         /* CHECK  CLASS OF REQUESTED  DEVICE                        *
*         CLASSCK:                      /* CK CLASS OF THIS DEVICE    *
*         IF ACTIVE='0'B THEN            /* IF NOTHING ACTIVE,  Y02906*
CLASSCK  TM    12(@6),B'00010000'                                 0072
*            GOTO CKOUT;                 /*  EXIT               Y02906*
         BC    08,CKOUT                                           0073
*         /*        ISSUE PURGE REQUEST                         Y02008*
*         R0=ADDR(ROPT);                 /* PARAMETER LIST PTR  Y02008*
         LA    @0,1104(0,@2)                                      0074
*         WKSVC(9) = XFF;                /* SVC33               Y02008*
         MVC   1108(1,@2),XFF                                     0075
*         IF DEVCLASS=TELCOMM ×          /* IF                  Y02906*
*            DEVCLASS=TELCOMN ×          /*  TP                 Y02906*
*            DEVCLASS=TELCONM  THEN      /*  DEVICE,            Y02906*
         CLC   38(1,@6),TELCOMM                                   0076
         BC    08,@9F7                                            0076
         CLC   38(1,@6),TELCOMN                                   0076
         BC    08,@9F6                                            0076
         CLC   38(1,@6),TELCONM                                   0076
         BC    07,@9F5                                            0076
*           GO TO SVC33;                /* GO ISSUE SVC33 FOR PURGE   *
         BC    08,SVC33                                           0077
*               WKSVC(9) = X00;          /* SVC 16              Y02008*
@9F5     MVC   1108(1,@2),X00                                     0078
* SVC33:                            /*                          Y02008*
*         LSTPTR=80;                     /* CALL CODE = X'50'   Y02008*
SVC33    LA    @1,80                                              0079
*         GEN(SVC PURGE);                /* SVC 59              Y02008*
         SVC PURGE
         DS    0H
*         CKOUT:                        /* EXIT THIS MODULE           *
*         ACTIVE='0'B;                   /* TURN OFF ACTIVE FLAGY02906*
CKOUT    NI    12(@6),B'11101111'                                 0081
*         HIODONE='1'B;                  /* TURN ON HIO DONE FLGY02906*
         OI    13(@6),B'00001000'                                 0082
*         R15  =  R15  &&  R15;         /* SET RETURN CODE            *
         XR    @F,@F                                              0083
*         END IFDOLT44                  /* EXIT THIS MODULE           *
* /* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.
* /*%INCLUDE SYSLIB  (IFDPF1  )
* /*%INCLUDE SYSLIB  (IFDEVTAB)
* ;
@EL01    L     @E,12(0,@D)                                        0084
         LM    @0,@C,20(@D)                                       0084
         BCR   15,@E                                              0084
@DATA1   EQU   *
@0       EQU   00                  EQUATES FOR REGISTERS 0-15
@1       EQU   01
@2       EQU   02
@3       EQU   03
@4       EQU   04
@5       EQU   05
@6       EQU   06
@7       EQU   07
@8       EQU   08
@9       EQU   09
@A       EQU   10
@B       EQU   11
@C       EQU   12
@D       EQU   13
@E       EQU   14
@F       EQU   15
         DS    0F
         DS    0D
@DATA    EQU   *
LSTPTR   EQU   00000001            FULLWORD POINTER REGISTER
COMMAPT  EQU   00000002            FULLWORD POINTER REGISTER
DVADPTR  EQU   00000004            FULLWORD POINTER REGISTER
DEVTABPT EQU   00000006            FULLWORD POINTER REGISTER
WKREG1   EQU   00000007            FULLWORD POINTER REGISTER
R0       EQU   00000000            FULLWORD POINTER REGISTER
R15      EQU   00000015            FULLWORD POINTER REGISTER
MACLVL   EQU   *                   1 BYTE(S)
         DC    X'02'
ONE      EQU   *                   1 BYTE(S)
         DC    X'01'
TELCOMM  EQU   *                   1 BYTE(S)
         DC    X'40'
TELCONM  EQU   *                   1 BYTE(S)
         DC    X'42'
TELCOMN  EQU   *                   1 BYTE(S)
         DC    X'10'
ON       EQU   *                   1 BYTE(S)
         DC    X'01'
         ORG   @DATA+00000008
ZERO     EQU   *                   FULLWORD INTEGER
         DC    XL4'00000000'
FOUR     EQU   *                   FULLWORD INTEGER
         DC    XL4'00000004'
XFF      EQU   *                   1 BYTE(S)
         DC    X'FF'
X00      EQU   *                   1 BYTE(S)
         DC    X'00'
         ORG   @DATA+00000020
ONER     EQU   *                   FULLWORD INTEGER
         DC    XL4'00000001'
COMMAP   EQU   00000000            2916 BYTE(S) ON WORD
CHASCT   EQU   COMMAP+00000000     92 BYTE(S)
DOLT00PT EQU   COMMAP+00000092     FULLWORD POINTER
LGWRTCT  EQU   COMMAP+00000096     40 BYTE(S)
INBUFPTR EQU   COMMAP+00000136     FULLWORD POINTER
INBUFR   EQU   COMMAP+00000140     72 BYTE(S)
PRTBUFR  EQU   COMMAP+00000212     124 BYTE(S)
SECPTR   EQU   COMMAP+00000336     FULLWORD POINTER
UTENT    EQU   COMMAP+00000340     FULLWORD POINTER
DATPTR   EQU   COMMAP+00000344     FULLWORD POINTER
DATIND   EQU   COMMAP+00000348     2 BYTE(S)
PGMTAB   EQU   COMMAP+00000350     8 BYTE(S)
SECLST   EQU   COMMAP+00000358     138 BYTE(S)
PCIEXIT  EQU   COMMAP+00000496     FULLWORD POINTER
NORMEXIT EQU   COMMAP+00000500     FULLWORD POINTER
ABNMEXIT EQU   COMMAP+00000504     FULLWORD POINTER
DIEPTR   EQU   COMMAP+00000508     FULLWORD POINTER
IOSCB    EQU   COMMAP+00000512     136 BYTE(S)
MODIOSB  EQU   COMMAP+00000512     108 BYTE(S)
MODUSECB EQU   COMMAP+00000620     24 BYTE(S)
OECBWRD1 EQU   COMMAP+00000644     4 BYTE(S)
OECBSNSC EQU   COMMAP+00000644     1 BYTE(S)
OECBINCT EQU   COMMAP+00000645     1 BYTE(S)
OECBX    EQU   COMMAP+00000646     2 BYTE(S)
EFCTRCB  EQU   COMMAP+00000648     20 BYTE(S) ON WORD
CCWPTR   EQU   COMMAP+00000648     FULLWORD POINTER
DVTPTR   EQU   COMMAP+00000652     FULLWORD POINTER
FLGA     EQU   COMMAP+00000656     1 BYTE(S)
BYPASPFX EQU   COMMAP+00000656     1 BIT(S)
CEDEPOST EQU   COMMAP+00000656     1 BIT(S)
GDP      EQU   COMMAP+00000656     1 BIT(S)
SPEXPOS  EQU   COMMAP+00000656     1 BIT(S)
A00000   EQU   COMMAP+00000656     1 BIT(S)
A00001   EQU   COMMAP+00000656     1 BIT(S)
A00002   EQU   COMMAP+00000656     1 BIT(S)
A00003   EQU   COMMAP+00000656     1 BIT(S)
FLGB     EQU   COMMAP+00000657     1 BYTE(S)
INTIRNAL EQU   COMMAP+00000657     1 BIT(S)
ATTNIN   EQU   COMMAP+00000657     1 BIT(S)
VIRTCCWS EQU   COMMAP+00000657     1 BIT(S)
OLDTECBX EQU   COMMAP+00000657     1 BIT(S)
A00004   EQU   COMMAP+00000657     1 BIT(S)
A00005   EQU   COMMAP+00000657     1 BIT(S)
A00006   EQU   COMMAP+00000657     1 BIT(S)
A00007   EQU   COMMAP+00000657     1 BIT(S)
FILEMSK  EQU   COMMAP+00000658     1 BYTE(S)
SNSCNT   EQU   COMMAP+00000659     1 BYTE(S)
TECBPTRX EQU   COMMAP+00000660     FULLWORD POINTER
SEEKPTR  EQU   COMMAP+00000664     FULLWORD POINTER
IOEFTRAD EQU   COMMAP+00000668     FULLWORD POINTER
IODEVTAB EQU   COMMAP+00000672     3*12 BYTE(S) ON WORD
IODEV1   EQU   COMMAP+00000672     FULLWORD POINTER
IOSBPTR1 EQU   COMMAP+00000676     FULLWORD POINTER
IOECB1   EQU   COMMAP+00000680     4 BYTE(S)
CMPLT    EQU   COMMAP+00000680     1 BYTE(S)
WAITBIT  EQU   COMMAP+00000680     1 BIT(S)
POSTBIT  EQU   COMMAP+00000680     1 BIT(S)
CMPLCODE EQU   COMMAP+00000680     6 BIT(S)
A00008   EQU   COMMAP+00000681     1 BYTE(S)
A00009   EQU   COMMAP+00000682     2 BYTE(S)
PSUDPOST EQU   COMMAP+00000682     1 BIT(S)
A00010   EQU   COMMAP+00000682     3 BIT(S)
WTCMPCD  EQU   COMMAP+00000682     12 BIT(S)
SELAFFN  EQU   COMMAP+00000708     2 BYTE(S)
CHARAFFN EQU   COMMAP+00000710     2 BYTE(S)
XXXXXXXX EQU   COMMAP+00000712     144 BYTE(S)
DEVTBPTR EQU   COMMAP+00000856     FULLWORD POINTER
TABLNGTH EQU   COMMAP+00000860     HALFWORD INTEGER
CESWT9   EQU   COMMAP+00000862     1 BYTE(S)
CDSEQU   EQU   COMMAP+00000862     1 BIT(S)
RESTBENT EQU   COMMAP+00000862     1 BIT(S)
VRCAP    EQU   COMMAP+00000862     1 BIT(S)
A00011   EQU   COMMAP+00000862     4 BIT(S)
CESWT10  EQU   COMMAP+00000863     1 BYTE(S)
MPSYS    EQU   COMMAP+00000863     1 BIT(S)
AFFNSET  EQU   COMMAP+00000863     1 BIT(S)
VERBCALL EQU   COMMAP+00000863     1 BIT(S)
OPEN2    EQU   COMMAP+00000864     FULLWORD POINTER
OPEN3    EQU   COMMAP+00000868     FULLWORD POINTER
PSCT     EQU   COMMAP+00000872     FULLWORD POINTER
DEVDEPAD EQU   COMMAP+00000876     FULLWORD POINTER
TABAD    EQU   COMMAP+00000880     FULLWORD POINTER
UTCOMAD  EQU   COMMAP+00000884     FULLWORD POINTER
MCT      EQU   COMMAP+00000888     208 BYTE(S) ON WORD
A00012   EQU   COMMAP+00000888     164 BYTE(S)
PARPRADR EQU   COMMAP+00001052     FULLWORD POINTER
A00013   EQU   COMMAP+00001056     40 BYTE(S)
MCT1ADR  EQU   COMMAP+00001096     FULLWORD POINTER
WKSVC    EQU   COMMAP+00001100     16 BYTE(S) ON WORD
A00014   EQU   COMMAP+00001100     4 BYTE(S)
ROPT     EQU   COMMAP+00001104     FULLWORD POINTER
A00015   EQU   COMMAP+00001108     8 BYTE(S)
OLTTAB   EQU   COMMAP+00001116     40 BYTE(S) ON WORD
A00016   EQU   COMMAP+00001116     28 BYTE(S)
TAB28    EQU   COMMAP+00001144     FULLWORD POINTER
A00017   EQU   COMMAP+00001148     8 BYTE(S)
LOGADR   EQU   COMMAP+00001156     FULLWORD POINTER
SCHEDSA  EQU   COMMAP+00001160     FULLWORD POINTER
SATAB    EQU   COMMAP+00001164     12 BYTE(S)
PLKMOR   EQU   COMMAP+00001176     16 BYTE(S)
REGX     EQU   COMMAP+00001192     FULLWORD POINTER
TUCBAD1  EQU   COMMAP+00001196     FULLWORD POINTER
TUCBAD2  EQU   COMMAP+00001200     FULLWORD POINTER
TSTDEBAD EQU   COMMAP+00001204     FULLWORD POINTER
ECB3     EQU   COMMAP+00001208     4 BYTE(S)
UTCOM    EQU   COMMAP+00001212     64 BYTE(S)
EXTBUF   EQU   COMMAP+00001276     56 BYTE(S)
DPRDEBAD EQU   COMMAP+00001332     FULLWORD POINTER
PRIDVPTR EQU   COMMAP+00001336     FULLWORD POINTER
SECDVPTR EQU   COMMAP+00001340     FULLWORD POINTER
REDEFINE EQU   COMMAP+00001344     FULLWORD POINTER
COMMINT  EQU   COMMAP+00001348     FULLWORD POINTER
NEXTREC  EQU   COMMAP+00001352     FULLWORD POINTER
ADSVAREA EQU   COMMAP+00001356     FULLWORD POINTER
ECB37    EQU   COMMAP+00001360     4 BYTE(S)
REPLY37  EQU   COMMAP+00001364     72 BYTE(S)
MSGAD37  EQU   COMMAP+00001436     FULLWORD POINTER
TPSAVE   EQU   COMMAP+00001440     4 BYTE(S)
TLCOUNT  EQU   COMMAP+00001444     HALFWORD INTEGER
HRTSEL   EQU   COMMAP+00001446     HALFWORD INTEGER
SAVECNT  EQU   COMMAP+00001448     2 BYTE(S)
A00018   EQU   COMMAP+00001450     2 BYTE(S)
SAVENT   EQU   COMMAP+00001452     4 BYTE(S)
CESWITCH EQU   COMMAP+00001456     9 BYTE(S)
CESWT    EQU   COMMAP+00001456     1 BYTE(S)
LEGALTST EQU   COMMAP+00001456     1 BIT(S)
SECDEV   EQU   COMMAP+00001456     1 BIT(S)
OUTS     EQU   COMMAP+00001456     1 BIT(S)
NUTS     EQU   COMMAP+00001456     1 BIT(S)
LEGALDEV EQU   COMMAP+00001456     1 BIT(S)
REINT    EQU   COMMAP+00001456     1 BIT(S)
FERINT   EQU   COMMAP+00001456     1 BIT(S)
A00019   EQU   COMMAP+00001456     1 BIT(S)
CESWT1   EQU   COMMAP+00001457     1 BYTE(S)
RTNFLD   EQU   COMMAP+00001457     1 BIT(S)
SKTST    EQU   COMMAP+00001457     1 BIT(S)
A00020   EQU   COMMAP+00001457     1 BIT(S)
WAITFG   EQU   COMMAP+00001457     1 BIT(S)
FILMSK   EQU   COMMAP+00001457     1 BIT(S)
A00021   EQU   COMMAP+00001457     1 BIT(S)
ONLINEOK EQU   COMMAP+00001457     1 BIT(S)
TPFLAG   EQU   COMMAP+00001457     1 BIT(S)
CESWT2   EQU   COMMAP+00001458     1 BYTE(S)
NDCFO    EQU   COMMAP+00001458     1 BIT(S)
A00022   EQU   COMMAP+00001458     1 BIT(S)
FECOND   EQU   COMMAP+00001458     1 BIT(S)
A00023   EQU   COMMAP+00001458     1 BIT(S)
INITENT  EQU   COMMAP+00001458     1 BIT(S)
NDR      EQU   COMMAP+00001458     1 BIT(S)
TAPEHDR  EQU   COMMAP+00001458     1 BIT(S)
A00024   EQU   COMMAP+00001458     1 BIT(S)
CESWT3   EQU   COMMAP+00001459     1 BYTE(S)
TALKVERB EQU   COMMAP+00001459     1 BIT(S)
BYPALDEV EQU   COMMAP+00001459     1 BIT(S)
BYPDEV   EQU   COMMAP+00001459     1 BIT(S)
GRBCNTL  EQU   COMMAP+00001459     1 BIT(S)
SUSDEL   EQU   COMMAP+00001459     1 BIT(S)
TP1419   EQU   COMMAP+00001459     1 BIT(S)
CDEXIST  EQU   COMMAP+00001459     1 BIT(S)
NODP     EQU   COMMAP+00001459     1 BIT(S)
CESWT4   EQU   COMMAP+00001460     1 BYTE(S)
RSTRFLG  EQU   COMMAP+00001460     1 BIT(S)
DPRFLG   EQU   COMMAP+00001460     1 BIT(S)
WAITFLG  EQU   COMMAP+00001460     1 BIT(S)
WRTFLG   EQU   COMMAP+00001460     1 BIT(S)
A00025   EQU   COMMAP+00001460     1 BIT(S)
WTORFLG  EQU   COMMAP+00001460     1 BIT(S)
RPLYFLG  EQU   COMMAP+00001460     1 BIT(S)
WTOFLG   EQU   COMMAP+00001460     1 BIT(S)
CESWT5   EQU   COMMAP+00001461     1 BYTE(S)
HDRFLG   EQU   COMMAP+00001461     1 BIT(S)
RSLTFLG  EQU   COMMAP+00001461     1 BIT(S)
FFEFLG   EQU   COMMAP+00001461     1 BIT(S)
FCEFLG   EQU   COMMAP+00001461     1 BIT(S)
PFEMSG   EQU   COMMAP+00001461     1 BIT(S)
PCEMSG   EQU   COMMAP+00001461     1 BIT(S)
SYMBFLG  EQU   COMMAP+00001461     1 BIT(S)
PRNTOPTN EQU   COMMAP+00001461     1 BIT(S)
CESWT6   EQU   COMMAP+00001462     1 BYTE(S)
UTSCAL   EQU   COMMAP+00001462     1 BIT(S)
ATM      EQU   COMMAP+00001462     1 BIT(S)
EOFBIT   EQU   COMMAP+00001462     1 BIT(S)
PFPMSG   EQU   COMMAP+00001462     1 BIT(S)
CODE5    EQU   COMMAP+00001462     1 BIT(S)
NORUN    EQU   COMMAP+00001462     1 BIT(S)
SECRUN   EQU   COMMAP+00001462     1 BIT(S)
RTSTAE   EQU   COMMAP+00001462     1 BIT(S)
CESWT7   EQU   COMMAP+00001463     1 BYTE(S)
INCLST   EQU   COMMAP+00001463     1 BIT(S)
RETTO31  EQU   COMMAP+00001463     1 BIT(S)
REMOTE   EQU   COMMAP+00001463     1 BIT(S)
A00026   EQU   COMMAP+00001463     1 BIT(S)
A00027   EQU   COMMAP+00001463     1 BIT(S)
A00028   EQU   COMMAP+00001463     1 BIT(S)
VIRTUAL  EQU   COMMAP+00001463     1 BIT(S)
GOTINPUT EQU   COMMAP+00001463     1 BIT(S)
CESWT8   EQU   COMMAP+00001464     1 BYTE(S)
LISTFIX  EQU   COMMAP+00001464     1 BIT(S)
A00029   EQU   COMMAP+00001464     1 BIT(S)
A00030   EQU   COMMAP+00001464     1 BIT(S)
READDCHK EQU   COMMAP+00001464     1 BIT(S)
OLTINVV  EQU   COMMAP+00001464     1 BIT(S)
SUTMSG   EQU   COMMAP+00001464     1 BIT(S)
SNEWRUN  EQU   COMMAP+00001464     1 BIT(S)
TALKHERE EQU   COMMAP+00001464     1 BIT(S)
DYNCOM   EQU   COMMAP+00001465     1 BYTE(S)
SECTUSE  EQU   COMMAP+00001466     1 BYTE(S)
UNICTR   EQU   COMMAP+00001467     1 BYTE(S)
UNITUSE  EQU   COMMAP+00001468     1 BYTE(S)
DPLEVEL  EQU   COMMAP+00001469     1 BYTE(S)
CNT37    EQU   COMMAP+00001470     1 BYTE(S)
READDSV  EQU   COMMAP+00001471     6 BYTE(S)
A00031   EQU   COMMAP+00001477     3 BYTE(S)
READDMOD EQU   COMMAP+00001480     FULLWORD POINTER
RDCBPTR  EQU   COMMAP+00001484     FULLWORD POINTER
MSGMOD   EQU   COMMAP+00001488     FULLWORD POINTER
ENDJOB   EQU   COMMAP+00001492     FULLWORD POINTER
MHRPTR   EQU   COMMAP+00001496     FULLWORD POINTER
RTALKBUF EQU   COMMAP+00001500     FULLWORD POINTER
RINBUF   EQU   COMMAP+00001504     FULLWORD POINTER
REIDCBPT EQU   COMMAP+00001508     FULLWORD POINTER
REIOBPTR EQU   COMMAP+00001512     FULLWORD POINTER
REIECB   EQU   COMMAP+00001516     4 BYTE(S)
TALKECB  EQU   COMMAP+00001520     4 BYTE(S)
RESPBUF  EQU   COMMAP+00001524     FULLWORD POINTER
REIUCB   EQU   COMMAP+00001528     FULLWORD POINTER
CESWTR   EQU   COMMAP+00001532     1 BYTE(S)
RETAINAC EQU   COMMAP+00001532     1 BIT(S)
REMERR   EQU   COMMAP+00001532     1 BIT(S)
REMONMSG EQU   COMMAP+00001532     1 BIT(S)
CENOMSG  EQU   COMMAP+00001532     1 BIT(S)
TRANSMSG EQU   COMMAP+00001532     1 BIT(S)
IMRESP   EQU   COMMAP+00001532     1 BIT(S)
EXECOUT  EQU   COMMAP+00001532     1 BIT(S)
A00032   EQU   COMMAP+00001532     1 BIT(S)
CESWTR1  EQU   COMMAP+00001533     1 BYTE(S)
ILLRESP  EQU   COMMAP+00001533     1 BIT(S)
EXECANS  EQU   COMMAP+00001533     1 BIT(S)
CECOMANS EQU   COMMAP+00001533     1 BIT(S)
INFOMSG  EQU   COMMAP+00001533     1 BIT(S)
RETRIEVE EQU   COMMAP+00001533     1 BIT(S)
REMANS   EQU   COMMAP+00001533     1 BIT(S)
EDOTMSG  EQU   COMMAP+00001533     1 BIT(S)
REIENTRY EQU   COMMAP+00001533     1 BIT(S)
CESWTR2  EQU   COMMAP+00001534     1 BYTE(S)
REPLY00  EQU   COMMAP+00001534     1 BIT(S)
A00033   EQU   COMMAP+00001534     1 BIT(S)
ONCOMM   EQU   COMMAP+00001534     1 BIT(S)
COMLOOP  EQU   COMMAP+00001534     1 BIT(S)
WAIT     EQU   COMMAP+00001534     1 BIT(S)
OPTERR   EQU   COMMAP+00001534     1 BIT(S)
A00034   EQU   COMMAP+00001534     1 BIT(S)
DPMSGREI EQU   COMMAP+00001534     1 BIT(S)
CESWTR3  EQU   COMMAP+00001535     1 BYTE(S)
ZUESUCB  EQU   COMMAP+00001536     HALFWORD INTEGER
A00035   EQU   COMMAP+00001538     2 BYTE(S)
EXPAND1  EQU   COMMAP+00001540     4 BYTE(S)
SYMPTR   EQU   COMMAP+00001544     FULLWORD POINTER
PGFXLIST EQU   COMMAP+00001548     16 BYTE(S)
PARTITEM EQU   COMMAP+00001564     12 BYTE(S)
PGFXOLT  EQU   COMMAP+00001576     8 BYTE(S)
CORERSLT EQU   COMMAP+00001584     8 BYTE(S)
VRSIZE   EQU   COMMAP+00001592     FULLWORD INTEGER
A00036   EQU   COMMAP+00001596     8 BYTE(S)
NEXTMCT  EQU   COMMAP+00001604     208 BYTE(S)
THIRDMCT EQU   COMMAP+00001812     208 BYTE(S)
DEVTAB   EQU   COMMAP+00002020     896 BYTE(S)
DEVTABMP EQU   00000000            56 BYTE(S) ON WORD
DEVEBCAD EQU   DEVTABMP+00000000   8 BYTE(S)
DEVUCBAD EQU   DEVTABMP+00000008   FULLWORD POINTER
DEVFLAG1 EQU   DEVTABMP+00000012   1 BYTE(S)
ONLINE   EQU   DEVTABMP+00000012   1 BIT(S)
PRIMARY  EQU   DEVTABMP+00000012   1 BIT(S)
DPDONE   EQU   DEVTABMP+00000012   1 BIT(S)
ACTIVE   EQU   DEVTABMP+00000012   1 BIT(S)
ALOCATED EQU   DEVTABMP+00000012   1 BIT(S)
GRABED   EQU   DEVTABMP+00000012   1 BIT(S)
FILEPRT  EQU   DEVTABMP+00000012   1 BIT(S)
A00037   EQU   DEVTABMP+00000012   1 BIT(S)
DEVFLAG2 EQU   DEVTABMP+00000013   1 BYTE(S)
DSNAME   EQU   DEVTABMP+00000013   1 BIT(S)
SHARED   EQU   DEVTABMP+00000013   1 BIT(S)
CEVOLUMN EQU   DEVTABMP+00000013   1 BIT(S)
STANDLBL EQU   DEVTABMP+00000013   1 BIT(S)
HIODONE  EQU   DEVTABMP+00000013   1 BIT(S)
EXIOLVL3 EQU   DEVTABMP+00000013   1 BIT(S)
PCIIND   EQU   DEVTABMP+00000013   1 BIT(S)
A00038   EQU   DEVTABMP+00000013   1 BIT(S)
DEVFLAG3 EQU   DEVTABMP+00000014   1 BYTE(S)
ANRNOTST EQU   DEVTABMP+00000014   1 BIT(S)
A00039   EQU   DEVTABMP+00000014   1 BIT(S)
A00040   EQU   DEVTABMP+00000014   1 BIT(S)
TAPEBIT  EQU   DEVTABMP+00000014   1 BIT(S)
NOTEST   EQU   DEVTABMP+00000014   1 BIT(S)
DEVALC   EQU   DEVTABMP+00000014   1 BIT(S)
WAITPOST EQU   DEVTABMP+00000014   1 BIT(S)
REISPEUD EQU   DEVTABMP+00000014   1 BIT(S)
DEVFLAG4 EQU   DEVTABMP+00000015   1 BYTE(S)
DEVREMDA EQU   DEVTABMP+00000015   1 BIT(S)
DEVREMEA EQU   DEVTABMP+00000015   1 BIT(S)
RESERVD1 EQU   DEVTABMP+00000015   1 BIT(S)
RESERVD2 EQU   DEVTABMP+00000015   1 BIT(S)
A00041   EQU   DEVTABMP+00000015   1 BIT(S)
A00042   EQU   DEVTABMP+00000015   1 BIT(S)
A00043   EQU   DEVTABMP+00000015   1 BIT(S)
A00044   EQU   DEVTABMP+00000015   1 BIT(S)
DEVLOEXT EQU   DEVTABMP+00000016   6 BYTE(S)
LOEXTBB  EQU   DEVTABMP+00000016   2 BYTE(S)
LOEXTCC  EQU   DEVTABMP+00000018   2 BYTE(S)
LOEXTHH  EQU   DEVTABMP+00000020   2 BYTE(S)
DEVHIEXT EQU   DEVTABMP+00000022   6 BYTE(S)
HIEXTBB  EQU   DEVTABMP+00000022   2 BYTE(S)
HIEXTCC  EQU   DEVTABMP+00000024   2 BYTE(S)
HIEXTHH  EQU   DEVTABMP+00000026   2 BYTE(S)
TAPELABL EQU   DEVTABMP+00000028   1 BYTE(S)
A00045   EQU   DEVTABMP+00000029   1 BYTE(S)
DEVMODE  EQU   DEVTABMP+00000030   1 BYTE(S)
DEVEXPOS EQU   DEVTABMP+00000031   1 BYTE(S)
DEVHEXAD EQU   DEVTABMP+00000032   4 BYTE(S)
DEVADPAD EQU   DEVTABMP+00000032   2 BYTE(S)
DEVAD    EQU   DEVTABMP+00000034   2 BYTE(S)
A00046   EQU   DEVTABMP+00000034   4 BIT(S)
DEVCHANL EQU   DEVTABMP+00000034   4 BIT(S)
DEVCTRLU EQU   DEVTABMP+00000035   4 BIT(S)
DEVADDR  EQU   DEVTABMP+00000035   4 BIT(S)
DEVDESCR EQU   DEVTABMP+00000036   4 BYTE(S)
DEVMODEL EQU   DEVTABMP+00000036   1 BYTE(S)
DEVFEATR EQU   DEVTABMP+00000037   1 BYTE(S)
DEVCLASS EQU   DEVTABMP+00000038   1 BYTE(S)
DEVUNTYP EQU   DEVTABMP+00000039   1 BYTE(S)
DEVCDSCT EQU   DEVTABMP+00000040   1 BYTE(S)
DEVCDSFG EQU   DEVTABMP+00000041   2 BYTE(S)
CDSFLAG1 EQU   DEVTABMP+00000041   1 BYTE(S)
CDSFILPT EQU   DEVTABMP+00000041   1 BIT(S)
CDSSHRED EQU   DEVTABMP+00000041   1 BIT(S)
CDSCEMNT EQU   DEVTABMP+00000041   1 BIT(S)
CDSEXMSK EQU   DEVTABMP+00000041   1 BIT(S)
CDSYMBLC EQU   DEVTABMP+00000041   1 BIT(S)
CDS2CHSW EQU   DEVTABMP+00000041   1 BIT(S)
CDSREMDV EQU   DEVTABMP+00000041   1 BIT(S)
CDSLNCON EQU   DEVTABMP+00000041   1 BIT(S)
CDSFLAG2 EQU   DEVTABMP+00000042   1 BYTE(S)
CDSNOPRI EQU   DEVTABMP+00000042   1 BIT(S)
A00047   EQU   DEVTABMP+00000042   1 BIT(S)
A00048   EQU   DEVTABMP+00000042   1 BIT(S)
A00049   EQU   DEVTABMP+00000042   1 BIT(S)
A00050   EQU   DEVTABMP+00000042   1 BIT(S)
A00051   EQU   DEVTABMP+00000042   1 BIT(S)
A00052   EQU   DEVTABMP+00000042   1 BIT(S)
A00053   EQU   DEVTABMP+00000042   1 BIT(S)
CDSEXTSG EQU   DEVTABMP+00000043   1 BYTE(S)
CDSYMNAM EQU   DEVTABMP+00000044   8 BYTE(S)
SAVMDMSK EQU   DEVTABMP+00000052   1 BYTE(S)
DEVINTPT EQU   DEVTABMP+00000053   1 BYTE(S)
DEVEXPAN EQU   DEVTABMP+00000054   2 BYTE(S)
A00054   EQU   00000000            13 BYTE(S) ON WORD
A00055   EQU   A00054+00000000     1 BYTE(S)
DIOLVL   EQU   A00054+00000001     1 BYTE(S)
A00056   EQU   A00054+00000002     2 BYTE(S)
CDSADR   EQU   A00054+00000004     FULLWORD POINTER
TECBADR  EQU   A00054+00000008     FULLWORD POINTER
OPERANDS EQU   A00054+00000012     1 BYTE(S)
IOSB     EQU   00000000            116 BYTE(S) ON WORD
A00057   EQU   IOSB+00000000       112 BYTE(S)
TECBPTR  EQU   IOSB+00000112       FULLWORD INTEGER
A00058   EQU   00000000            4 BYTE(S) ON WORD
HEXADCDS EQU   A00058+00000000     4 BYTE(S)
A00059   EQU   00000000            16 BYTE(S) ON WORD
A00060   EQU   A00059+00000000     12 BYTE(S)
PDEVADR  EQU   A00059+00000012     4 BYTE(S)
         ORG   @DATA
         DS    00000024C
@TEMPS   DS    0F
         IFDPATCH
@DATEND  EQU   *
@9F8     EQU   ERROUT
@9F7     EQU   SVC33
@9F6     EQU   SVC33
         END   IFDOLT44

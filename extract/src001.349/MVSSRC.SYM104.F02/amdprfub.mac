         TITLE 'AMDPRFUB - USER BOUNDARY FIND ROUTINE                  *
                        '
AMDPRFUB CSECT ,                                                01S0001
@MAINENT DS    0H                                               01S0001
         USING *,@15                                            01S0001
         B     @PROLOG                                          01S0001
         DC    AL2(@EP00001-@MAINENT)
         DC    AL1(16)                                          01S0001
         DC    C'AMDPRFUB  74.330'                              01S0001
MAINENT  DS    0H                                               01S0001
         USING *,@15                                            01S0001
         B     @PROLOG                                          01S0001
         DC    AL2(@EP00030-MAINENT)
         ENTRY MAINENT
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                  01S0001
         BALR  @11,0                                            01S0001
@PSTART  DS    0H                                               01S0001
         USING @PSTART,@11                                      01S0001
         ST    @13,@SA00001+4                                   01S0001
         LA    @14,@SA00001                                     01S0001
         ST    @14,8(,@13)                                      01S0001
         LR    @13,@14                                          01S0001
         AH    @15,4(,@15)                                      01S0001
         BR    @15                                              01S0001
@EP00001 MVC   @PC00001(12),0(@01)                              01S0001
*/*------------------------------------------------------------------*/
*/* THE FOLLOWING INSTRUCTIONS ONLY GET EXECUTED ONCE WHEN FUB IS    */
*/* CALLED BY AMDPRSEG FOR INITIALIZATION                            */
*/*------------------------------------------------------------------*/
*  ARGNBND = ADDR(MAINENT);       /* SUPPLY ENTRY ADDR IN COMMON     */
         L     @10,@CA00543                                     01S0028
         ST    @10,ARGNBND(,COMBASE)                            01S0028
*  RETURN;                                                      01S0029
@EL00001 L     @13,4(,@13)                                      01S0029
@EF00001 DS    0H                                               01S0029
@ER00001 LM    @14,@12,12(@13)                                  01S0029
         BR    @14                                              01S0029
*/*------------------------------------------------------------------*/
*/* THE FOLLOWING IS THE MAIN LINE CODE WHICH DETERMINES USER        */
*/* BOUNDARIES                                                       */
*/*------------------------------------------------------------------*/
*MAINENT: ENTRY (INPASCB,INPASID,PCBPL);                        01S0030
@EP00030 MVC   @PC00001(12),0(@01)                              01S0030
*/*------------------------------------------------------------------*/
*/* INITIALIZE SWITCHES AND DATA AREAS                               */
*/*------------------------------------------------------------------*/
*DO;                                                            02S0031
*  RESPECIFY R1 RESTRICTED;       /* RESTRICT R1 THROUGHOUT          */
*  READSAVE = ERRADDR;            /* PREVIOUS ERROR ROUTINE          */
         L     READSAVE,ERRADDR(,COMBASE)                       02S0033
*  ERRADDR = ADDR(FUBERROR);      /* PUT FUB ERROR RTN ADDR IN COMMON *
         LA    @10,FUBERROR                                     02S0034
         ST    @10,ERRADDR(,COMBASE)                            02S0034
*  FBQEEND = NO;                  /* INITIALIZE SWITCH               */
         NI    FBQEEND,B'01111111'                              02S0035
*  RESPECIFY R13 RESTRICTED;                                    02S0036
*  FUBSAVE = R13;                 /* PRESERVE SAVE AREA ADDRESS FOR
*                                    ERROR ROUTINE ENTRY CODE        */
         ST    R13,FUBSAVE                                      02S0037
*  RESPECIFY R13 UNRESTRICTED;                                  02S0038
*  ASCBPTR = INPASCB;             /* ADDRESS OF ASCB PASSED AS INPUT */
         L     @10,@PC00001                                     02S0039
         L     ASCBPTR,INPASCB(,@10)                            02S0039
*  FUBFAIL = ON;                  /* WILL BE TURNED OFF IF SUCCESSFUL*/
         OI    FUBFAIL,B'01000000'                              02S0040
*END;                                                           02S0041
*  RESPECIFY R2ASID RESTRICTED;                                 01S0042
*  R2ASID = INPASID;              /* USE INPUT ASID FOR BRREADS      */
         L     @10,@PC00001+4                                   01S0043
         SLR   R2ASID,R2ASID                                    01S0043
         ICM   R2ASID,3,INPASID(@10)                            01S0043
*  /*      READ FOR ASCBLDA FIELD                                    */
*                                                               01S0044
*  DO;                                                          01S0044
*    PREG = ADDR(ASCBLDA);                                      01S0045
         LA    PREG,ASCBLDA(,ASCBPTR)                           01S0045
*    RETCODE = 0;                                               01S0046
         SLR   @10,@10                                          01S0046
         ST    @10,RETCODE                                      01S0046
*    GEN(BRREAD (PREG),DATA,ASID=(R2ASID))                      01S0047
*       REFS(BRRDDATA)                                          01S0047
*       SETS(PREG,RETCODE)                                      01S0047
*       FLOWS(FUBERROR);                                        01S0047
         BRREAD (PREG),DATA,ASID=(R2ASID)
*  END;                                                         01S0048
*  IF RETCODE=0 &DATAP24^=0 THEN  /* ADDR OF LDA IS OK               */
         SLR   @10,@10                                          01S0049
         C     @10,RETCODE                                      01S0049
         BNE   @RF00049                                         01S0049
         ICM   @07,7,DATAP24(R1)                                01S0049
         BZ    @RF00049                                         01S0049
*    DO;                                                        01S0050
*      LDAPTR = DATAWORD;                                       01S0051
         L     LDAPTR,DATAWORD(,R1)                             01S0051
*      /*     READ FOR ADDRESS OF ADDRESS SPACE PQE IN LDA           */
*                                                               01S0052
*      DO;                                                      01S0052
*        PREG = ADDR(ASDPQE);                                   01S0053
         LA    PREG,ASDPQE(,LDAPTR)                             01S0053
*        RETCODE = 0;                                           01S0054
         ST    @10,RETCODE                                      01S0054
*        GEN(BRREAD (PREG))                                     01S0055
*           REFS(BRRDDATA)                                      01S0055
*           SETS(PREG,RETCODE)                                  01S0055
*           FLOWS(FUBERROR);                                    01S0055
         BRREAD (PREG)
*      END;                                                     01S0056
*      IF RETCODE=0 & DATAP24^=0 THEN /* PQE POINTER OBTAINED        */
         SLR   @10,@10                                          01S0057
         C     @10,RETCODE                                      01S0057
         BNE   @RF00057                                         01S0057
         ICM   @07,7,DATAP24(R1)                                01S0057
         BZ    @RF00057                                         01S0057
*        DO;                                                    01S0058
*          RESPECIFY R2ASID UNRESTRICTED;                       01S0059
*          PQESEPTR = DATAWORD;   /* ADDRESS OF ADDRESS SPACE PQE    */
         L     PQESEPTR,DATAWORD(,R1)                           01S0060
*/*------------------------------------------------------------------*/
*/* GET FBQE CHAIN AND REGION BOUNDARIES FROM ADDRESS SPACE PQE      */
*/*------------------------------------------------------------------*/
*DO;                                                            02S0061
*  FUBFAIL = ON;                                                02S0062
         OI    FUBFAIL,B'01000000'                              02S0062
*  /*      GET POINTER TO FIRST FBQE                                 */
*                                                               02S0063
*   DO;                                                         02S0063
*     PREG = ADDR(PQEFFBQE);                                    02S0064
         LR    PREG,PQESEPTR                                    02S0064
*     RETCODE = 0;                                              02S0065
         ST    @10,RETCODE                                      02S0065
*     GEN(BRREAD (PREG))                                        02S0066
*        REFS(BRRDDATA)                                         02S0066
*        SETS(PREG,RETCODE)                                     02S0066
*        FLOWS(FUBERROR);                                       02S0066
         BRREAD (PREG)
*   END;                                                        02S0067
*  IF RETCODE=0 & DATAP24^=0 THEN /* FBQE ADDRESS IS OK              */
         SLR   @10,@10                                          02S0068
         C     @10,RETCODE                                      02S0068
         BNE   @RF00068                                         02S0068
         ICM   @07,7,DATAP24(R1)                                02S0068
         BZ    @RF00068                                         02S0068
*    DO;                                                        02S0069
*      FIRSTFBQ = DATAWORD;       /* ADDRESS OF FIRST FBQE           */
         MVC   FIRSTFBQ(4),DATAWORD(R1)                         02S0070
*      /*      GET SIZE OF REGION                                    */
*                                                               02S0071
*      DO;                                                      02S0071
*        PREG = ADDR(PQESIZE);                                  02S0072
         LA    PREG,PQESIZE(,PQESEPTR)                          02S0072
*        RETCODE = 0;                                           02S0073
         ST    @10,RETCODE                                      02S0073
*        GEN(BRREAD (PREG))                                     02S0074
*           REFS(BRRDDATA)                                      02S0074
*           SETS(PREG,RETCODE)                                  02S0074
*           FLOWS(FUBERROR);                                    02S0074
         BRREAD (PREG)
*      END;                                                     02S0075
*      IF RETCODE=0 & DATAWORD<TOTSIZE & DATAWORD>0 THEN /* SIZE OK  */
         SLR   @10,@10                                          02S0076
         C     @10,RETCODE                                      02S0076
         BNE   @RF00076                                         02S0076
         L     @07,DATAWORD(,R1)                                02S0076
         C     @07,TOTSIZE                                      02S0076
         BNL   @RF00076                                         02S0076
         CR    @07,@10                                          02S0076
         BNH   @RF00076                                         02S0076
*        DO;                                                    02S0077
*          REGNSIZE = DATAWORD;   /* REGION SIZE                     */
         LR    REGNSIZE,@07                                     02S0078
*          /*      GET ADDRESS OF REGION                             */
*                                                               02S0079
*          DO;                                                  02S0079
*            PREG = ADDR(PQEREGN);                              02S0080
         LA    PREG,PQEREGN(,PQESEPTR)                          02S0080
*            RETCODE = 0;                                       02S0081
         ST    @10,RETCODE                                      02S0081
*            GEN(BRREAD (PREG))                                 02S0082
*               REFS(BRRDDATA)                                  02S0082
*               SETS(PREG,RETCODE)                              02S0082
*               FLOWS(FUBERROR);                                02S0082
         BRREAD (PREG)
*          END;                                                 02S0083
*          IF RETCODE=0 & DATAP24^=0 THEN /* REGION ADDR OK          */
         ICM   @10,15,RETCODE                                   02S0084
         BNZ   @RF00084                                         02S0084
         ICM   @10,7,DATAP24(R1)                                02S0084
         BZ    @RF00084                                         02S0084
*            DO;                                                02S0085
*              REGNADDR = DATAWORD; /* REGION ADDRESS                */
         L     @10,DATAWORD(,R1)                                02S0086
         ST    @10,REGNADDR                                     02S0086
*              FUBFAIL = OFF;     /* ASPQE COPY WAS SUCCESSFUL       */
         NI    FUBFAIL,B'10111111'                              02S0087
*              REGNTOP = REGNADDR + REGNSIZE;                   02S0088
         ALR   @10,REGNSIZE                                     02S0088
         ST    @10,REGNTOP                                      02S0088
*            END;                                               02S0089
*        END;                                                   02S0090
@RF00084 DS    0H                                               02S0091
*    END;                                                       02S0091
@RF00076 DS    0H                                               02S0092
*    IF FUBFAIL=OFF THEN          /* PRIVATE AREA HAS BEEN DETERMINED*/
@RF00068 TM    FUBFAIL,B'01000000'                              02S0092
         BNZ   @RF00092                                         02S0092
*/*------------------------------------------------------------------*/
*/* ALL MEMORIES EXCEPT THE MASTER SCHEDULER MEMORY HAVE A 4K        */
*/* SYSTEM REGION JUST BELOW THE NORMAL REGION -- THE MASTER         */
*/* SCHEDULER HAS A BIGGER SYSTEM REGION. THE FOLLOWING CODE         */
*/* ADDS THIS SYSTEM REGION TO THE ALREADY OBTAINED REGION ADDR.     */
*/*------------------------------------------------------------------*/
*DO;                                                            03S0093
*  /*     READ FOR THE POINTER TO THE SYSTEM REGION PQE              */
*                                                               03S0094
*  DO;                                                          03S0094
*    PREG = ADDR(LDASRPQE);                                     03S0095
         LA    PREG,LDASRPQE(,LDAPTR)                           03S0095
*    RETCODE = 0;                                               03S0096
         SLR   @10,@10                                          03S0096
         ST    @10,RETCODE                                      03S0096
*    GEN(BRREAD (PREG))                                         03S0097
*       REFS(BRRDDATA)                                          03S0097
*       SETS(PREG,RETCODE)                                      03S0097
*       FLOWS(FUBERROR);                                        03S0097
         BRREAD (PREG)
*  END;                                                         03S0098
*  IF RETCODE=0 & DATAP24^=0 THEN /* THERE IS A PQE PTR              */
         SLR   @10,@10                                          03S0099
         C     @10,RETCODE                                      03S0099
         BNE   @RF00099                                         03S0099
         ICM   @07,7,DATAP24(R1)                                03S0099
         BZ    @RF00099                                         03S0099
*    DO;                                                        03S0100
*      PQESEPTR = DATAWORD;                                     03S0101
         L     PQESEPTR,DATAWORD(,R1)                           03S0101
*      /*     READ FOR THE SIZE OF THE SYSTEM REGION                 */
*                                                               03S0102
*      DO;                                                      03S0102
*        PREG = ADDR(PQESIZE);                                  03S0103
         LA    PREG,PQESIZE(,PQESEPTR)                          03S0103
*        RETCODE = 0;                                           03S0104
         ST    @10,RETCODE                                      03S0104
*        GEN(BRREAD (PREG))                                     03S0105
*           REFS(BRRDDATA)                                      03S0105
*           SETS(PREG,RETCODE)                                  03S0105
*           FLOWS(FUBERROR);                                    03S0105
         BRREAD (PREG)
*      END;                                                     03S0106
*      IF RETCODE=0 & DATAWORD^=0 THEN /* SIZE WAS READ              */
         SLR   @10,@10                                          03S0107
         C     @10,RETCODE                                      03S0107
         BNE   @RF00107                                         03S0107
         L     @07,DATAWORD(,R1)                                03S0107
         CR    @07,@10                                          03S0107
         BE    @RF00107                                         03S0107
*        DO;                                                    03S0108
*          SYSSIZE = DATAWORD;                                  03S0109
         LR    SYSSIZE,@07                                      03S0109
*          /* READ FOR THE STARTING ADDR OF THE SYSTEM REGION        */
*                                                               03S0110
*          DO;                                                  03S0110
*            PREG = ADDR(PQEREGN);                              03S0111
         LA    PREG,PQEREGN(,PQESEPTR)                          03S0111
*            RETCODE = 0;                                       03S0112
         ST    @10,RETCODE                                      03S0112
*            GEN(BRREAD (PREG))                                 03S0113
*               REFS(BRRDDATA)                                  03S0113
*               SETS(PREG,RETCODE)                              03S0113
*               FLOWS(FUBERROR);                                03S0113
         BRREAD (PREG)
*          END;                                                 03S0114
*          IF RETCODE=0 & DATAP24^=0 THEN /* REGION ADDR IS GOOD     */
         ICM   @10,15,RETCODE                                   03S0115
         BNZ   @RF00115                                         03S0115
         ICM   @10,7,DATAP24(R1)                                03S0115
         BZ    @RF00115                                         03S0115
*            DO;                                                03S0116
*              SYSREGN = DATAWORD;                              03S0117
         L     SYSREGN,DATAWORD(,R1)                            03S0117
*              IF SYSREGN+SYSSIZE=REGNADDR THEN /* DATA LOOKS GOOD   */
         LR    @10,SYSREGN                                      03S0118
         ALR   @10,SYSSIZE                                      03S0118
         C     @10,REGNADDR                                     03S0118
         BNE   @RF00118                                         03S0118
*                REGNADDR = SYSREGN; /* LOWER THE STARTING ADDR      */
         ST    SYSREGN,REGNADDR                                 03S0119
*            END;                                               03S0120
@RF00118 DS    0H                                               03S0121
*        END;                                                   03S0121
@RF00115 DS    0H                                               03S0122
*    END;                                                       03S0122
@RF00107 DS    0H                                               03S0123
*END;                                                           03S0123
@RF00099 DS    0H                                               03S0124
*END;                                                           02S0124
@RF00092 DS    0H                                               02S0125
*          IF FUBFAIL=OFF THEN    /* ASDPQE WAS PROCESSED OK         */
         TM    FUBFAIL,B'01000000'                              01S0125
         BNZ   @RF00125                                         01S0125
*/*------------------------------------------------------------------*/
*/* LOOP THRU FBQES ELIMINATING FREE BLOCKS FROM PCBS                */
*/*------------------------------------------------------------------*/
*DO;                                                            02S0126
*  FBQEFAIL = OFF;                /* INIT TO GOOD                    */
         NI    FBQEFAIL,B'11011111'                             02S0127
*  FROMPTR = FIRSTFBQ;                                          02S0128
         L     FROMPTR,FIRSTFBQ                                 02S0128
*  CALL COPYFBQE;                                               02S0129
         BAL   @14,COPYFBQE                                     02S0129
*  IF FBQEFAIL=OFF THEN           /* COPY WAS SUCCESSFUL             */
         TM    FBQEFAIL,B'00100000'                             02S0130
         BNZ   @RF00130                                         02S0130
*    DO;                                                        02S0131
*      IF FBQAREA=REGNADDR THEN   /* FIRST PART OF REGION IS FREE    */
         LA    @10,FBQECOPY                                     02S0132
         L     @07,FBQAREA(,@10)                                02S0132
         C     @07,REGNADDR                                     02S0132
         BNE   @RF00132                                         02S0132
*        DO;                                                    02S0133
*          IF SIZE<TOTSIZE THEN   /* VALID SIZE VALUE                */
         L     @05,SIZE(,@10)                                   02S0134
         C     @05,TOTSIZE                                      02S0134
         BNL   @RF00134                                         02S0134
*            DO;                                                02S0135
*              PCBPBGN = FBQAREA+SIZE; /* SKIP OVER FREE SPACE       */
         L     @02,@PC00001+8                                   02S0136
         ALR   @07,@05                                          02S0136
         ST    @07,PCBPBGN(,@02)                                02S0136
*              FROMPTR = FWDPTR;                                02S0137
         L     FROMPTR,FWDPTR(,@10)                             02S0137
*              CALL COPYFBQE;     /* GET NEXT FBQE                   */
         BAL   @14,COPYFBQE                                     02S0138
*            END;                                               02S0139
*          ELSE                                                 02S0140
*            FBQEFAIL = ON;       /* CANT USE FBQES                  */
         B     @RC00134                                         02S0140
@RF00134 OI    FBQEFAIL,B'00100000'                             02S0140
*        END;                                                   02S0141
*      ELSE                       /* V=V REGION                      */
*        PCBPBGN = REGNADDR;                                    02S0142
         B     @RC00132                                         02S0142
@RF00132 L     @10,@PC00001+8                                   02S0142
         MVC   PCBPBGN(4,@10),REGNADDR                          02S0142
*      DO I=1 TO FBQEMAX WHILE FBQEEND=NO & FBQEFAIL=OFF;       02S0143
@RC00132 LA    I,1                                              02S0143
@DL00143 TM    FBQEEND,B'10100000'                              02S0143
         BNZ   @DC00143                                         02S0143
*        PCBPEND = FBQAREA;                                     02S0144
         L     @10,@PC00001+8                                   02S0144
         LA    @07,FBQECOPY                                     02S0144
         L     @07,FBQAREA(,@07)                                02S0144
         ST    @07,PCBPEND(,@10)                                02S0144
*        R1 = ADDR(PCBPL);                                      02S0145
         LR    R1,@10                                           02S0145
*        PCBPFUNC = PCBPENQ;                                    02S0146
         NI    PCBPFUNC(@10),B'01111111'                        02S0146
*        IF PCBPBGN<PCBPEND THEN  /* RANGE IS VALID                  */
         C     @07,PCBPBGN(,@10)                                02S0147
         BNH   @RF00147                                         02S0147
*          CALL PCBENQ;           /* ENQ A PCB                       */
         L     @15,APCBENQ(,COMBASE)                            02S0148
         BALR  @14,@15                                          02S0148
*        ELSE                                                   02S0149
*          FBQEFAIL = ON;         /* TERMINATE FBQE LOOP             */
         B     @RC00147                                         02S0149
@RF00147 OI    FBQEFAIL,B'00100000'                             02S0149
*        IF FBQEFAIL=OFF THEN     /* STILL OK                        */
@RC00147 TM    FBQEFAIL,B'00100000'                             02S0150
         BNZ   @RF00150                                         02S0150
*          DO;                                                  02S0151
*            IF SIZE<TOTSIZE THEN /* VALID SIZE                      */
         LA    @10,FBQECOPY                                     02S0152
         L     @07,SIZE(,@10)                                   02S0152
         C     @07,TOTSIZE                                      02S0152
         BNL   @RF00152                                         02S0152
*              DO;                                              02S0153
*                PCBPBGN = FBQAREA+SIZE;                        02S0154
         L     @15,@PC00001+8                                   02S0154
         AL    @07,FBQAREA(,@10)                                02S0154
         ST    @07,PCBPBGN(,@15)                                02S0154
*                IF FWDPTR=PQESEPTR THEN /* LOOP IS ALL DONE         */
         C     PQESEPTR,FWDPTR(,@10)                            02S0155
         BNE   @RF00155                                         02S0155
*                  DO;                                          02S0156
*                    FBQEEND = YES; /* STOP LOOP                     */
         OI    FBQEEND,B'10000000'                              02S0157
*                    PCBPEND = REGNTOP;                         02S0158
         L     @10,REGNTOP                                      02S0158
         ST    @10,PCBPEND(,@15)                                02S0158
*                    R1 = ADDR(PCBPL);                          02S0159
         LR    R1,@15                                           02S0159
*                    IF PCBPBGN<PCBPEND THEN /* VALID RANGE          */
         CR    @07,@10                                          02S0160
         BNL   @RF00160                                         02S0160
*                      CALL PCBENQ; /* ENQ LAST PCB                  */
         L     @15,APCBENQ(,COMBASE)                            02S0161
         BALR  @14,@15                                          02S0161
*                    ELSE                                       02S0162
*                      FBQEFAIL = ON; /* USE PQE DATA                */
         B     @RC00160                                         02S0162
@RF00160 OI    FBQEFAIL,B'00100000'                             02S0162
*                  END;                                         02S0163
*                ELSE             /* MORE FBQES TO COME              */
*                  DO;                                          02S0164
         B     @RC00155                                         02S0164
@RF00155 DS    0H                                               02S0165
*                    FROMPTR = FWDPTR;                          02S0165
         LA    @10,FBQECOPY                                     02S0165
         L     FROMPTR,FWDPTR(,@10)                             02S0165
*                    CALL COPYFBQE; /* GET NEXT FBQE                 */
         BAL   @14,COPYFBQE                                     02S0166
*                  END;                                         02S0167
*              END;                                             02S0168
*            ELSE                 /* INVALID SIZE                    */
*              FBQEFAIL = ON;     /* STOP FBQE LOOP - USE PQE DATA   */
         B     @RC00152                                         02S0169
@RF00152 OI    FBQEFAIL,B'00100000'                             02S0169
*          END;                                                 02S0170
@RC00152 DS    0H                                               02S0171
*      END;                                                     02S0171
@RF00150 AH    I,@CH00047                                       02S0171
         CH    I,@CH00521                                       02S0171
         BNH   @DL00143                                         02S0171
@DC00143 DS    0H                                               02S0172
*    END;                                                       02S0172
*    IF FBQEFAIL=ON × FBQEEND=OFF THEN /* MUST USE PQE DATA          */
@RF00130 TM    FBQEFAIL,B'00100000'                             02S0173
         BNZ   @RT00173                                         02S0173
         TM    FBQEEND,B'10000000'                              02S0173
         BO    @RF00173                                         02S0173
@RT00173 DS    0H                                               02S0174
*/*------------------------------------------------------------------*/
*/* DEQUEUE ANY PCBS ENQUEUED THUS FAR AND ENQUEUE ONE PCB FOR THE   */
*/* ENTIRE PRIVATE AREA AS DESCRIBED BY THE ASPQE                    */
*/*------------------------------------------------------------------*/
*DO;                                                            03S0174
*  DO WHILE PCBPTR^=0;            /* DEQUEUE ALL PCBS                */
         B     @DE00175                                         03S0175
@DL00175 DS    0H                                               03S0176
*    PCBPFUNC = PCBPDEQ;                                        03S0176
         L     @10,@PC00001+8                                   03S0176
         OI    PCBPFUNC(@10),B'10000000'                        03S0176
*    R1 = ADDR(PCBPL);                                          03S0177
         LR    R1,@10                                           03S0177
*    CALL PCBENQ;                                               03S0178
         L     @15,APCBENQ(,COMBASE)                            03S0178
         BALR  @14,@15                                          03S0178
*  END;                                                         03S0179
@DE00175 ICM   @10,15,PCBPTR(COMBASE)                           03S0179
         BNZ   @DL00175                                         03S0179
*  PCBPFUNC = PCBPENQ;                                          03S0180
         L     @10,@PC00001+8                                   03S0180
         NI    PCBPFUNC(@10),B'01111111'                        03S0180
*  PCBPBGN = REGNADDR;                                          03S0181
         MVC   PCBPBGN(4,@10),REGNADDR                          03S0181
*  PCBPEND = REGNTOP;                                           03S0182
         MVC   PCBPEND(4,@10),REGNTOP                           03S0182
*  R1 = ADDR(PCBPL);                                            03S0183
         LR    R1,@10                                           03S0183
*  CALL PCBENQ;                   /* ENQ ONE PCB FOR ENTIRE REGION   */
         L     @15,APCBENQ(,COMBASE)                            03S0184
         BALR  @14,@15                                          03S0184
*END;                                                           03S0185
*END;                                                           02S0186
@RF00173 DS    0H                                               02S0187
*        END;                                                   01S0187
@RF00125 DS    0H                                               01S0188
*    END;                                                       01S0188
@RF00057 DS    0H                                               01S0189
*  IF FUBFAIL=ON THEN             /* REGION BOUNDS ARE UNOBTAINABLE  */
@RF00049 TM    FUBFAIL,B'01000000'                              01S0189
         BNO   @RF00189                                         01S0189
*    DO;                                                        01S0190
*      MESSAGE = UNABLMSG;                                      01S0191
         L     @10,CURBUF(,COMBASE)                             01S0191
         MVC   MESSAGE+1(64,@10),UNABLMSG                       01S0191
*      GEN REFS(AWRITE) (BRWRITE 2); /* ISSUE MESSAGE                */
         BRWRITE 2
*      PCBPBGN = NUCTOP;          /* USE DEFAULT FROM COMMON         */
         L     @10,@PC00001+8                                   01S0193
         MVC   PCBPBGN(4,@10),NUCTOP(COMBASE)                   01S0193
*      PCBPEND = DFLTCSA;         /* USE DEFAULT FROM COMMON         */
         MVC   PCBPEND(4,@10),DFLTCSA(COMBASE)                  01S0194
*      PCBPFUNC = PCBPENQ;                                      01S0195
         NI    PCBPFUNC(@10),B'01111111'                        01S0195
*      R1 = ADDR(PCBPL);                                        01S0196
         LR    R1,@10                                           01S0196
*      CALL PCBENQ;               /* ENQ A PCB                       */
         L     @15,APCBENQ(,COMBASE)                            01S0197
         BALR  @14,@15                                          01S0197
*    END;                                                       01S0198
*  ERRADDR = READSAVE;            /* RESTORE PREVIOUS ERROR RTN      */
@RF00189 ST    READSAVE,ERRADDR(,COMBASE)                       01S0199
*  RETURN;                                                      01S0200
         B     @EL00001                                         01S0200
*/*------------------------------------------------------------------*/
*/* FUBERROR IS THE ROUTINE THAT GETS CONTROL IF A BRREAD FAILS      */
*/* RETCODE IS SET TO INDICATE A READ FAILURE AND CONTROL IS         */
*/* RETURN TO THE MAINLINE FOLLOWING THE READ                        */
*/*------------------------------------------------------------------*/
*FUBERROR:                                                      02S0201
*  RESPECIFY R14 RESTRICTED;                                    02S0201
FUBERROR DS    0H                                               02S0202
*  GENERATE REFS(FUBSAVE);                                      02S0202
              USING *,R15         SET UP ADDRESSABILITY
              L     R13,FUBSAVE
              LM    R14,R12,12(R13)
              DROP  R15
*  RETCODE = 4;                   /* INDICATE READ FAILURE           */
         MVC   RETCODE(4),@CF00107                              02S0203
*  GO TO MAINLINE;                /* BRANCH TO APPROPRIATE ROUTINE   */
         BR    R14                                              02S0204
*  RESPECIFY R14 UNRESTRICTED;                                  02S0205
*/*------------------------------------------------------------------*/
*/* MAKE A COPY OF THE FBQE                                          */
*/*------------------------------------------------------------------*/
*COPYFBQE: PROCEDURE;                                           02S0206
COPYFBQE STM   @14,@12,@SA00002                                 02S0206
*  DO TOPTR = ADDR(FBQECOPY) TO ADDR(FBQECOPY)+LENGTH(FBQESECT)-1
*        BY WORDLGT;                                            02S0207
         LA    TOPTR,FBQECOPY                                   02S0207
         B     @DE00207                                         02S0207
@DL00207 DS    0H                                               02S0208
*    /*     GET ONE WORD OF DATA FORM DUMP                           */
*                                                               02S0208
*    DO;                                                        02S0208
*      PREG = ADDR(COPYFROM);                                   02S0209
         LR    PREG,FROMPTR                                     02S0209
*      RETCODE = 0;                                             02S0210
         SLR   @10,@10                                          02S0210
         ST    @10,RETCODE                                      02S0210
*      GEN(BRREAD (PREG))                                       02S0211
*         REFS(BRRDDATA)                                        02S0211
*         SETS(PREG,RETCODE)                                    02S0211
*         FLOWS(FUBERROR);                                      02S0211
         BRREAD (PREG)
*    END;                                                       02S0212
*    IF RETCODE=0 & DATAP24^=0 THEN /* DATA IS OK                    */
         ICM   @10,15,RETCODE                                   02S0213
         BNZ   @RF00213                                         02S0213
         ICM   @10,7,DATAP24(R1)                                02S0213
         BZ    @RF00213                                         02S0213
*      DO;                                                      02S0214
*        COPYW = DATAWORD;                                      02S0215
         MVC   COPYW(4,TOPTR),DATAWORD(R1)                      02S0215
*        FROMPTR = FROMPTR + WORDLGT; /* INCREMENT TO GET NEXT WORD  */
         AH    FROMPTR,@CH00107                                 02S0216
*      END;                                                     02S0217
*    ELSE                         /* DATA IS NOT IN THE DUMP         */
*      FBQEFAIL = ON;             /* INDICATE FAILURE                */
         B     @RC00213                                         02S0218
@RF00213 OI    FBQEFAIL,B'00100000'                             02S0218
*  END;                                                         02S0219
@RC00213 AH    TOPTR,@CH00107                                   02S0219
@DE00207 LA    @10,FBQECOPY                                     02S0219
         SH    @10,@CH00556                                     02S0219
         CR    TOPTR,@10                                        02S0219
         BNH   @DL00207                                         02S0219
*END COPYFBQE;                                                  02S0220
@EL00002 DS    0H                                               02S0220
@EF00002 DS    0H                                               02S0220
@ER00002 LM    @14,@12,@SA00002                                 02S0220
         BR    @14                                              02S0220
*END AMDPRFUB                                                   01S0221
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      *
*/*%INCLUDE SYSUT5  (PROLOGUE)                                        *
*/*%INCLUDE SYSUT5  (FUBFL1  )                                        *
*/*%INCLUDE SYSUT5  (DECLARES)                                        *
*/*%INCLUDE SYSLIB  (IHALDA  )                                        *
*/*%INCLUDE SYSLIB  (IHAPQE  )                                        *
*/*%INCLUDE SYSLIB  (IHAFBQE )                                        *
*/*%INCLUDE SYSLIB  (IHAASCB )                                        *
*/*%INCLUDE SYSLIB  (COMMON  )                                        *
*/*%INCLUDE SYSLIB  (AMDPCBPL)                                        *
*/*%INCLUDE SYSUT5  (INIT    )                                        *
*/*%INCLUDE SYSUT5  (COPYAPQE)                                        *
*/*%INCLUDE SYSUT5  (SYSRGN  )                                        *
*/*%INCLUDE SYSUT5  (FBQELOOP)                                        *
*/*%INCLUDE SYSUT5  (ENQALL  )                                        *
*/*%INCLUDE SYSUT5  (FUBERROR)                                        *
*/*%INCLUDE SYSUT5  (COPYFBQE)                                        *
*;                                                              01S0221
@DATA    DS    0H
@CH00047 DC    H'1'
@CH00521 DC    H'50'
@CH00556 DC    H'-15'
         DS    0F
@SA00001 DS    18F
@PC00001 DS    3F
@SA00002 DS    15F
         DS    0F
@CF00107 DC    F'4'
@CH00107 EQU   @CF00107+2
@CA00543 DC    A(MAINENT)
         DS    0D
FBQESPTR DS    A
FUBSAVE  DS    A
FIRSTFBQ DS    A
REGNADDR DS    A
REGNTOP  DS    A
RETCODE  DS    F
TOTSIZE  DC    F'16777216'
FBQECOPY DS    CL16
SWITCHES DS    CL1
         ORG   SWITCHES
FBQEEND  DS    BL1
FUBFAIL  EQU   SWITCHES+0
FBQEFAIL EQU   SWITCHES+0
@NM00054 EQU   SWITCHES+0
         ORG   SWITCHES+1
UNABLMSG DC    CL64'UNABLE TO DETERMINE BOUNDS OF PRIVATE AREA - DEFAULC
               T VALUES USED'
         DS    CL3
PQECOPY  DS    CL32
PATCH    DC    20F'0'
AMDPRFUB CSECT
DTAE     EQU   32                  DATA EBCDIC BIT
DTAC     EQU   16                  DATA IN CORE BIT
DTAP     EQU   8                   DATA PTR BIT
DTA      EQU   4                   DATA INCLUDED BIT
LBLP     EQU   2                   LABEL PTR BIT
LBL      EQU   1                   LABEL INCLUDED BIT
AMDPRFUB CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
SYSSIZE  EQU   @05
SYSREGN  EQU   @03
REGNSIZE EQU   @05
I        EQU   @05
READSAVE EQU   @06
FROMPTR  EQU   @03
TOPTR    EQU   @04
ASCBPTR  EQU   @03
PQESEPTR EQU   @04
LDAPTR   EQU   @03
R1       EQU   @01
R13      EQU   @13
R14      EQU   @14
COMBASE  EQU   @12
PREG     EQU   @01
R2ASID   EQU   @02
BASE1    EQU   @11
BASE2    EQU   @10
BASE3    EQU   @09
BUFREG   EQU   @06
CNTREG   EQU   @03
LINEREG  EQU   @08
R0       EQU   @00
R10      EQU   @10
R11      EQU   @11
R12      EQU   @12
R15      EQU   @15
R2       EQU   @02
R3       EQU   @03
R4       EQU   @04
R5       EQU   @05
R6       EQU   @06
R7       EQU   @07
R8       EQU   @08
R9       EQU   @09
STOPBASE EQU   @05
LDA      EQU   0
LVSMFLAG EQU   LDA
ASDPQE   EQU   LDA+8
LDASRPQE EQU   LDA+1476
PQESECT  EQU   0
PQEFFBQE EQU   PQESECT
PQESIZE  EQU   PQESECT+20
PQEREGN  EQU   PQESECT+24
VMMFLGS  EQU   PQESECT+30
FBQESECT EQU   0
FWDPTR   EQU   FBQESECT
SIZE     EQU   FBQESECT+8
FBQAREA  EQU   FBQESECT+12
ASCB     EQU   0
ASCBLDA  EQU   ASCB+48
ASCBFW1  EQU   ASCB+100
ASCBRCTF EQU   ASCBFW1+2
ASCBFLG1 EQU   ASCBFW1+3
ASCBDSP1 EQU   ASCB+114
ASCBFLG2 EQU   ASCB+115
COMMON   EQU   0
ERRADDR  EQU   COMMON
NUCTOP   EQU   COMMON+32
CURBUF   EQU   COMMON+48
PCBPTR   EQU   COMMON+60
SWA      EQU   COMMON+122
SWB      EQU   COMMON+123
SWC      EQU   COMMON+124
SWD      EQU   COMMON+125
SWE      EQU   COMMON+126
SWF      EQU   COMMON+127
BUFSW    EQU   COMMON+128
PRSW     EQU   COMMON+129
TABLE    EQU   COMMON+659
HEXTABL  EQU   TABLE+63
AWRITE   EQU   COMMON+1500
ARGNBND  EQU   COMMON+1524
APCBENQ  EQU   COMMON+1560
DCBADDRS EQU   COMMON+1608
@NM00044 EQU   DCBADDRS+16
@NM00045 EQU   @NM00044
BRRDDATA EQU   COMMON+1984
DFLTCSA  EQU   COMMON+2056
COPYW    EQU   0
COPYFROM EQU   0
MAINLINE EQU   0
DATAWORD EQU   0
DATAP24  EQU   DATAWORD+1
PCBENQ   EQU   0
MESSAGE  EQU   0
INPASCB  EQU   0
INPASID  EQU   0
PCBPL    EQU   0
PCBPBGN  EQU   PCBPL
PCBPEND  EQU   PCBPL+4
PCBPFLG1 EQU   PCBPL+10
PCBPFLG2 EQU   PCBPL+11
PCBPFUNC EQU   PCBPFLG2
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
@NM00052 EQU   PCBPFLG2
@NM00051 EQU   PCBPFLG1
PCBPTOPC EQU   PCBPFLG1
PCBPLOWC EQU   PCBPFLG1
PCBPREAL EQU   PCBPFLG1
PCBPVIRT EQU   PCBPFLG1
PCBPASID EQU   PCBPL+8
@NM00053 EQU   DATAWORD
CSADDR   EQU   COMMON+2072
@NM00050 EQU   COMMON+2070
TOPICHDR EQU   COMMON+2060
LPAMAX   EQU   COMMON+2052
DNUCTOP  EQU   COMMON+2048
XLMAX    EQU   COMMON+2044
DQEMAX   EQU   COMMON+2042
ASCBMAX  EQU   COMMON+2040
TCBMAX   EQU   COMMON+2038
SRBMAX   EQU   COMMON+2036
DDMAX    EQU   COMMON+2034
DEBMAX   EQU   COMMON+2032
JPQMAX   EQU   COMMON+2030
LLEMAX   EQU   COMMON+2028
PQEMAX   EQU   COMMON+2026
RBMAX    EQU   COMMON+2024
@NM00049 EQU   COMMON+2023
EXITFLAG EQU   COMMON+2022
AUSRASID EQU   COMMON+2020
AUSRTCBA EQU   COMMON+2016
AUSRDEL  EQU   COMMON+2012
AUSREXIT EQU   COMMON+2008
AUSRINIT EQU   COMMON+2004
ASRBFMT  EQU   COMMON+2000
AASCBFMT EQU   COMMON+1996
BRRDADJ  EQU   COMMON+1992
BRRDINIT EQU   COMMON+1988
BUFERMAP EQU   COMMON+1980
ASCBMAP  EQU   COMMON+1976
CPUMAP   EQU   COMMON+1972
ASIDNDX  EQU   COMMON+1968
@NM00048 EQU   COMMON+1964
HDRTITLE EQU   COMMON+1864
HDRREGS  EQU   COMMON+1696
SACSWCAW EQU   COMMON+1684
ASVTADDR EQU   COMMON+1680
PREFXRGV EQU   COMMON+1676
PREFXRGR EQU   COMMON+1672
CURASCB  EQU   COMMON+1668
IPLCPU   EQU   COMMON+1666
QASID    EQU   COMMON+1664
QAPFT    EQU   COMMON+1660
@NM00047 EQU   COMMON+1656
REALMAX  EQU   COMMON+1652
SEGTABOR EQU   COMMON+1648
REALMAP  EQU   COMMON+1644
@NM00046 EQU   COMMON+1641
EDITER   EQU   COMMON+1640
AROOT    EQU   COMMON+1636
AEDITCB  EQU   COMMON+1632
TRCCOUNT EQU   COMMON+1628
ASYSUDCB EQU   @NM00044+1
ENDLIST  EQU   @NM00045
AINDCB   EQU   DCBADDRS+12
ARDRDCB  EQU   DCBADDRS+8
APTRDCB  EQU   DCBADDRS+4
AOUTDCB  EQU   DCBADDRS
ATCBSMRY EQU   COMMON+1604
ATCBSMFR EQU   COMMON+1600
ONGOPTR  EQU   COMMON+1596
AEND     EQU   COMMON+1592
AERRMSGA EQU   COMMON+1584
BUFREINT EQU   COMMON+1580
BUFSUM   EQU   COMMON+1576
APRTSTG  EQU   COMMON+1572
AFORMAT  EQU   COMMON+1568
ASTPROUT EQU   COMMON+1564
ATCBRTRV EQU   COMMON+1556
ATCBREMV EQU   COMMON+1552
ATCBSAVE EQU   COMMON+1548
QATMERTN EQU   COMMON+1544
ALOADER  EQU   COMMON+1540
AEREXIT  EQU   COMMON+1536
SYNMSGA  EQU   COMMON+1532
STOPEXIT EQU   COMMON+1528
AWRDCNVT EQU   COMMON+1520
AADRCNVT EQU   COMMON+1516
AFMTLINE EQU   COMMON+1512
ASYNTAX  EQU   COMMON+1508
APRTMSG  EQU   COMMON+1504
NONBLNK  EQU   COMMON+1244
BLNK     EQU   COMMON+988
@NM00043 EQU   COMMON+972
@NM00042 EQU   COMMON+915
EBCTABL  EQU   HEXTABL+10
@NM00041 EQU   HEXTABL
@NM00040 EQU   TABLE
CAPTABL  EQU   COMMON+403
TITLEPGE EQU   COMMON+394
@NM00039 EQU   COMMON+392
TITLETME EQU   COMMON+379
@NM00038 EQU   COMMON+377
TITLEDTE EQU   COMMON+364
@NM00037 EQU   COMMON+362
TITLEMOD EQU   COMMON+347
TITLEMSG EQU   COMMON+283
MSG2     EQU   COMMON+257
MSG1     EQU   COMMON+231
STOP     EQU   COMMON+227
TITLE    EQU   COMMON+222
BLANKS   EQU   COMMON+214
WTORMSG  EQU   COMMON+133
@NM00036 EQU   COMMON+130
@NM00035 EQU   PRSW
@NM00034 EQU   PRSW
PRNTREAL EQU   PRSW
PRNTRL   EQU   PRSW
TTLSW    EQU   PRSW
@NM00033 EQU   PRSW
QSEGTBSW EQU   PRSW
@NM00032 EQU   PRSW
@NM00031 EQU   BUFSW
PREFM    EQU   BUFSW
@NM00030 EQU   BUFSW
@NM00029 EQU   BUFSW
@NM00028 EQU   BUFSW
@NM00027 EQU   BUFSW
@NM00026 EQU   BUFSW
@NM00025 EQU   BUFSW
@NM00024 EQU   SWF
QUT1LOD  EQU   SWF
@NM00023 EQU   SWF
PAGEOK   EQU   SWF
DMPIC    EQU   SWF
QSADMP   EQU   SWF
NUCTFRMC EQU   SWF
QPRDINIT EQU   SWF
@NM00022 EQU   SWE
@NM00021 EQU   SWE
@NM00020 EQU   SWE
BUILDMAP EQU   SWE
TITLESW  EQU   SWE
RESPC    EQU   SWE
@NM00019 EQU   SWE
STOPSW   EQU   SWE
@NM00018 EQU   SWD
GPRSFND  EQU   SWD
CONTSW   EQU   SWD
NOLOADSW EQU   SWD
NOSTDMG  EQU   SWD
@NM00017 EQU   SWD
@NM00016 EQU   SWD
FLSHMODE EQU   SWD
@NM00015 EQU   SWC
@NM00014 EQU   SWC
@NM00013 EQU   SWC
EDITSW   EQU   SWC
TREADIN  EQU   SWC
POSITSW  EQU   SWC
SETFLSH  EQU   SWC
MSTRSW   EQU   SWC
@NM00012 EQU   SWB
@NM00011 EQU   SWB
QSYSUT2  EQU   SWB
ENDSW    EQU   SWB
@NM00010 EQU   SWB
@NM00009 EQU   SWB
FMTERR   EQU   SWB
IOERR    EQU   SWB
RDRSW    EQU   SWA
SETCVTSW EQU   SWA
@NM00008 EQU   SWA
GOSW     EQU   SWA
@NM00007 EQU   SWA
@NM00006 EQU   SWA
@NM00005 EQU   SWA
@NM00004 EQU   SWA
LINENUM  EQU   COMMON+120
LINENUMB EQU   COMMON+118
SIXTEEN  EQU   COMMON+116
TWELVE   EQU   COMMON+114
ELEVEN   EQU   COMMON+112
HTEN     EQU   COMMON+110
EIGHT    EQU   COMMON+108
SEVEN    EQU   COMMON+106
FIVE     EQU   COMMON+104
FOUR     EQU   COMMON+102
THREE    EQU   COMMON+100
TWO      EQU   COMMON+98
ONEA     EQU   COMMON+96
READTM   EQU   COMMON+92
RDERCNT  EQU   COMMON+88
READNO   EQU   COMMON+84
RDENTRY  EQU   COMMON+80
@NM00003 EQU   COMMON+78
FILESEQ  EQU   COMMON+76
INDD     EQU   COMMON+68
STORSIZE EQU   COMMON+64
CVTADDR  EQU   COMMON+56
TCBLIST  EQU   COMMON+52
PAGENUMB EQU   COMMON+44
LINECNT  EQU   COMMON+40
SIX      EQU   COMMON+36
WORK1    EQU   COMMON+24
DELIMCD  EQU   COMMON+20
KYWDEND  EQU   COMMON+16
KYWDBGN  EQU   COMMON+12
VERBEND  EQU   COMMON+8
VERBGN   EQU   COMMON+4
ASCBEND  EQU   ASCB+208
ASCBSRBT EQU   ASCB+200
ASCBSWTL EQU   ASCB+196
ASCBRS14 EQU   ASCB+195
ASCBSMCT EQU   ASCB+194
ASCBRS12 EQU   ASCB+192
ASCBPCTT EQU   ASCB+188
ASCBVGTT EQU   ASCB+184
ASCBLGCB EQU   ASCB+180
ASCBJBNS EQU   ASCB+176
ASCBJBNI EQU   ASCB+172
ASCBMCC  EQU   ASCB+168
ASCBRTWA EQU   ASCB+164
ASCBIQEA EQU   ASCB+160
ASCBXMPQ EQU   ASCB+156
ASCBRS01 EQU   ASCB+154
ASCBFMCT EQU   ASCB+152
ASCBOUXB EQU   ASCB+148
ASCBOUCB EQU   ASCB+144
ASCBMECB EQU   ASCB+140
ASCBQECB EQU   ASCB+136
ASCBCMSB EQU   ASCB+132
ASCBCMSF EQU   ASCB+128
ASCBTCBS EQU   ASCB+124
ASCBNVSC EQU   ASCB+122
ASCBVSC  EQU   ASCB+120
ASCBSRBS EQU   ASCB+118
ASCBSSRB EQU   ASCB+116
ASCBRV06 EQU   ASCBFLG2
ASCBRV05 EQU   ASCBFLG2
ASCBRV04 EQU   ASCBFLG2
ASCBSNQS EQU   ASCBFLG2
ASCBS2S  EQU   ASCBFLG2
ASCBCEXT EQU   ASCBFLG2
ASCBPXMT EQU   ASCBFLG2
ASCBXMPT EQU   ASCBFLG2
ASCBRF07 EQU   ASCBDSP1
ASCBRF06 EQU   ASCBDSP1
ASCBRF05 EQU   ASCBDSP1
ASCBRF04 EQU   ASCBDSP1
ASCBRF03 EQU   ASCBDSP1
ASCBRF02 EQU   ASCBDSP1
ASCBFAIL EQU   ASCBDSP1
ASCBNOQ  EQU   ASCBDSP1
ASCBSWCT EQU   ASCB+112
ASCBASXB EQU   ASCB+108
ASCBTMCH EQU   ASCB+104
ASCBNSWP EQU   ASCBFLG1
ASCBTYP1 EQU   ASCBFLG1
ASCBSTND EQU   ASCBFLG1
ASCBABNT EQU   ASCBFLG1
ASCBTERM EQU   ASCBFLG1
ASCBS3S  EQU   ASCBFLG1
ASCBCMSH EQU   ASCBFLG1
ASCBTOFF EQU   ASCBFLG1
ASCBRF01 EQU   ASCBRCTF
ASCBTMLW EQU   ASCBRCTF
ASCBOUT  EQU   ASCBRCTF
ASCBWAIT EQU   ASCBRCTF
ASCBRV08 EQU   ASCBRCTF
ASCBFQU  EQU   ASCBRCTF
ASCBFRS  EQU   ASCBRCTF
ASCBTMNO EQU   ASCBRCTF
ASCBAFFN EQU   ASCBFW1
ASCBDUMP EQU   ASCB+96
ASCBQSVC EQU   ASCB+92
ASCBUBET EQU   ASCB+88
ASCBECB  EQU   ASCB+84
ASCBJSTL EQU   ASCB+80
ASCBEWST EQU   ASCB+72
ASCBEJST EQU   ASCB+64
ASCBTSB  EQU   ASCB+60
ASCBCSCB EQU   ASCB+56
ASCBRSM  EQU   ASCB+52
ASCBSTOR EQU   ASCB+44
ASCBDP   EQU   ASCB+43
ASCBRV07 EQU   ASCB+42
ASCBIOSM EQU   ASCB+40
ASCBSEQN EQU   ASCB+38
ASCBASID EQU   ASCB+36
ASCBCPUS EQU   ASCB+32
ASCBSPL  EQU   ASCB+28
ASCBLSLQ EQU   ASCB+24
ASCBFSLQ EQU   ASCB+20
ASCBIOSP EQU   ASCB+16
ASCBLOCK EQU   ASCB+12
ASCBBWDP EQU   ASCB+8
ASCBFWDP EQU   ASCB+4
ASCBASCB EQU   ASCB
ASCBEGIN EQU   ASCB
BCKPTR   EQU   FBQESECT+4
PQERSVD  EQU   PQESECT+31
VVVRFLG  EQU   VMMFLGS
@NM00002 EQU   VMMFLGS
PQEHRID  EQU   PQESECT+29
PQERFLGS EQU   PQESECT+28
PQETCB   EQU   PQESECT+16
PQEBPQE  EQU   PQESECT+12
PQEFPQE  EQU   PQESECT+8
PQEBFBQE EQU   PQESECT+4
LDAEND   EQU   LDA+1496
LCLCELCT EQU   LDA+1492
LCLCELL  EQU   LDA+1488
LDALIMIT EQU   LDA+1484
LDARSVPT EQU   LDA+1480
CURRGNTP EQU   LDA+1472
VVREGSZ  EQU   LDA+1468
LSQAPTR  EQU   LDA+1464
CFAPWKAR EQU   LDA+1164
CSAVE    EQU   LDA+1100
OBFRSAVE EQU   LDA+1036
GFRESAVE EQU   LDA+972
GMREPSAV EQU   LDA+908
FBQSAVE  EQU   LDA+844
G4KSAVE  EQU   LDA+780
FSAVE    EQU   LDA+716
BSAVE    EQU   LDA+652
SAVEREG2 EQU   LDA+588
BRANCHSV EQU   LDA+524
GMFMWKAR EQU   LDA+24
LDARES2  EQU   LDA+21
LDACBSP  EQU   LDA+20
LDARQSTA EQU   LDA+16
LDATCB   EQU   LDA+12
PASCBSV  EQU   LDA+4
@NM00001 EQU   LVSMFLAG+1
LDABRSW  EQU   LVSMFLAG
LDAFLAGS EQU   LVSMFLAG
LDASTART EQU   LDA
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00134 EQU   @RC00132
@RC00155 EQU   @RC00152
@RC00160 EQU   @RC00155
@ENDDATA EQU   *
         END   AMDPRFUB,(C'PLS1239',0603,74330)

         TITLE 'MSGI/O - ISTCC011                                      *
                        '
ISTCC011 CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(16)                                             0001
         DC    C'ISTCC011  77.200'                                 0001
         DROP  @15
@PROLOG  ST    @14,12(,@13)                                        0001
         STM   @00,@12,20(@13)                                     0001
         BALR  @12,0                                               0001
@PSTART  LA    @11,4095(,@12)                                      0001
         USING @PSTART,@12                                         0001
         USING @PSTART+4095,@11                                    0001
*                                                                  0281
*   /*****************************************************************/
*   /*                                                               */
*   /* END OF DCLS                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0282
*   SVECC011(2)=R13;                /* SAVE ADDRESS OF CALLERS SAVE
*                                      AREA                          */
         ST    R13,SVECC011+4(,WAPTR)                              0282
*   BACKSAVE(3)=ADDR(SVECC011);     /* LAST SAVE AREA MUST POINT TO
*                                      THIS                          */
         LA    @14,SVECC011(,WAPTR)                                0283
         ST    @14,BACKSAVE+8(,R13)                                0283
*   R13=ADDR(SVECC011);             /* POINT TO MY OWN SAVE AREA     */
*                                                                  0284
         LR    R13,@14                                             0284
*   /*****************************************************************/
*   /*                                                               */
*   /* ARE WE WAITING TO RECALLED                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0285
*   IF $RECAL11=ON                  /* ARE WE BEING RECALLED         */
*     THEN                                                         0285
         TM    $RECAL11(WAPTR),B'10000000'                         0285
         BNO   @RF00285                                            0285
*     DO;                           /* IF YES,DECIDE WHY             */
*       $RECAL11=OFF;               /* STOP RECALL                   */
         NI    $RECAL11(WAPTR),B'01111111'                         0287
*       IF $DISCISS=ON              /* DISCONNECT ISSUED             */
*         THEN                                                     0288
         TM    $DISCISS(WAPTR),B'00010000'                         0288
         BNO   @RF00288                                            0288
*         DO;                                                      0289
*           $DISCISS=OFF;           /* TURN OFF                      */
         NI    $DISCISS(WAPTR),B'11101111'                         0290
*           GOTO C11C0000;          /* SEND MESSAGE                  */
         B     C11C0000                                            0291
*         END;                                                     0292
*       I=$CTINDX(1);               /* SET UP INDX                   */
@RF00288 LH    @14,$CTINDX(,WAPTR)                                 0293
         STH   @14,I                                               0293
*       IF $CATASTR(I)=ON           /* WAS THERE A CATASTROPHIC ERROR*/
*         THEN                                                     0294
         MH    @14,@CH00374                                        0294
         ST    @14,@TF00001                                        0294
         ALR   @14,WAPTR                                           0294
         TM    $CATASTR-68(@14),B'01000000'                        0294
         BNO   @RF00294                                            0294
*         DO;                                                      0295
*           $CATASTR(I)=OFF;        /* RESET ERROR BIT               */
         LR    @14,WAPTR                                           0296
         AL    @14,@TF00001                                        0296
         NI    $CATASTR-68(@14),B'10111111'                        0296
*           GOTO C11C0920;                                         0297
         B     C11C0920                                            0297
*         END;                                                     0298
*       $SRTEST(I)=OFF;             /* RESET TEST BIT                */
@RF00294 DS    0H                                                  0300
*       $OLTERR(I)=ON;              /* SET OLTERR ON NEXT SEND OR  0300
*                                      RECEIVE                       */
         LH    @14,I                                               0300
         MH    @14,@CH00374                                        0300
         ALR   @14,WAPTR                                           0300
         OI    $OLTERR-68(@14),B'00000100'                         0300
         NI    $SRTEST-68(@14),B'11110111'                         0300
*       GOTO C11C0000;              /* SEND MESSAGE                  */
         B     C11C0000                                            0301
*     END;                                                         0302
*                                                                  0302
*   /*****************************************************************/
*   /*                                                               */
*   /* SPECIAL CHECKS FOR CONTROL TERMINAL BEING A TEST TERMINAL     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0303
*   IF $CTEQTT=ON                   /* IF CT=TT              @D32JPGH*/
*     THEN                                                         0303
@RF00285 TM    $CTEQTT(WAPTR),B'00010000'                          0303
         BNO   @RF00303                                            0303
*     DO;                                                          0304
*       IF $SRTEST($CTINDX(1))=ON   /* IF DEV WAS USED AS TEST       */
*         THEN                                                     0305
         LH    @14,$CTINDX(,WAPTR)                                 0305
         MH    @14,@CH00374                                        0305
         ST    @14,@TF00001                                        0305
         ALR   @14,WAPTR                                           0305
         TM    $SRTEST-68(@14),B'00001000'                         0305
         BNO   @RF00305                                            0305
*         DO;                       /* YES                           */
*           $SRTEST($CTINDX(1))=OFF;/* TURN OFF TEST BIT             */
         LR    @14,WAPTR                                           0307
         AL    @14,@TF00001                                        0307
         NI    $SRTEST-68(@14),B'11110111'                         0307
*           $RECAL11=ON;            /* CAUSE ISTCC014 TO RECALL    0308
*                                      ISTCC011                      */
         OI    $RECAL11(WAPTR),B'10000000'                         0308
*           $CTLINE=0;              /* START ON NEW SCREEN           */
         MVI   $CTLINE(WAPTR),X'00'                                0309
*           $DVBRKST(1)=0;          /* RESET BRACKET STATE   @ZD10867*/
         MVI   $DVBRKST(WAPTR),X'00'                               0310
*           $DVBRKSN(1)=0;          /* BRACKET STATE SENT    @ZD10867*/
         MVI   $DVBRKSN(WAPTR),X'00'                               0311
*           $DVSEQNO(1)=1;          /* RESET SEQUENCE NUMBER @ZD10867*/
         MVC   $DVSEQNO(2,WAPTR),@CH00074                          0312
*           R1=ADDR($TLTRPL1);      /* POINT TO RPL TO USE   @ZD10867*/
         LA    R1,$TLTRPL1(,WAPTR)                                 0313
*           CALL S25C2000;          /* ISSUE CLEAR START DATA TRAFFIC*/
         L     @15,@CV02009                                        0314
         BALR  @14,@15                                             0314
*           GOTO C11C9998;          /* RETURN TO CALLER      @D32JPGH*/
         B     C11C9998                                            0315
*         END;                                                     0316
*                                                                  0316
*       /*************************************************************/
*       /*                                                           */
*       /* IS DISCONNECT REQUIRED                                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0317
*       IF $DISCREQ=ON              /* WAS DISCONNECT REQUIRED       */
*         THEN                                                     0317
@RF00305 TM    $DISCREQ(WAPTR),B'00001000'                         0317
         BNO   @RF00317                                            0317
*         DO;                                                      0318
*           $DISCISS=ON;            /* TURN ON DISC ISSUED           */
         OI    $DISCISS(WAPTR),B'00010000'                         0319
*           $POSTFLG=ON;            /* TURN ON POST FLAG             */
         OI    $POSTFLG(WAPTR),B'01000000'                         0320
*           $RECAL11=ON;                                           0321
*           $DISCREQ=OFF;           /* TURN OFF DISK REQUIRED        */
         OI    $RECAL11(WAPTR),B'10000000'                         0322
         NI    $DISCREQ(WAPTR),B'11110111'                         0322
*           R1=1;                   /* PARAMETERLIST WILL INDICATE CT
*                                      ENTRY                         */
         LA    R1,1                                                0323
*           $RQSTSZE=LENGTH(ISTLCCW);/* CALCULATE LENGTH OF THE    0324
*                                      BUFFER REQUIRED               */
         MVC   $RQSTSZE(2,WAPTR),@CH00057                          0324
*           CALL S27C1000;          /* GET THE STORAGE FOR THE     0325
*                                      DISCONNECT LCCW               */
         L     @15,@CV02011                                        0325
         BALR  @14,@15                                             0325
*           R5=R15;                 /* SAVE THE POINTER TO THE THING
*                                      TO BE TPQUED                  */
         LR    R5,R15                                              0326
*           RESPECIFY                                              0327
*             ISTNCSPL BASED(R5);   /* BASE STRUCTURE ON BUFFER    0327
*                                      PASSED BACK                   */
*           RESPECIFY                                              0328
*             ISTLCCW BASED(NCSPLRUO);/* LCCW IS WHERE RU POINTER  0328
*                                      POINTS                        */
*                                                                  0328
*           /*********************************************************/
*           /*                                                       */
*           /* INITILIZE LCCW TO DO DISCONNECT                       */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0329
*           LCCWOP=LD;              /* PUT IN DISCONNECT OP CODE     */
         L     @14,NCSPLRUO(,R5)                                   0329
         MVI   LCCWOP(@14),X'23'                                   0329
*           RFY                                                    0330
*             ISTDYPAB BASED($VARYPAB($CTINDX(1)));/* DEVTAB PTS TO
*                                      PAB                   @D32JPPW*/
*           R0=R5;                  /* POINT TO THE ELEMENT TO QUE 0331
*                                                            @D32JPPW*/
         LR    R0,R5                                               0331
*           R1=ADDR(DYPPAB);        /* POINT TO THE PAB TO QUE TO  0332
*                                                            @D32JPPW*/
         LH    @14,$CTINDX(,WAPTR)                                 0332
         MH    @14,@CH00374                                        0332
         L     R1,$VARYPAB-68(@14,WAPTR)                           0332
         LA    R1,DYPPAB(,R1)                                      0332
*           CALL I00C1000;          /* TPQUE                 @D32JPPW*/
         L     @15,@CV02016                                        0333
         BALR  @14,@15                                             0333
*           GO TO C11C9998;         /* RETURN TO RESOURCE MANAGER    */
         B     C11C9998                                            0334
*         END;                                                     0335
*     END;                                                         0336
*                                                                  0336
@RF00317 DS    0H                                                  0337
*/********************************************************************/
*/*      STRIP OFF TRAILING BLANKS ON OUTBOUND DATA                  */
*/********************************************************************/
*                                                                  0337
*C11C0000:                                                         0337
*   R5=$COUTAD;                     /* FIND PTR TO OUTBOUND DATA     */
@RF00303 DS    0H                                                  0337
C11C0000 L     R5,$COUTAD(,WAPTR)                                  0337
*   DO I=$COUTCT TO 1 BY-1;         /* SCAN BACKWARDS                */
         L     @14,$COUTCT(,WAPTR)                                 0338
         STH   @14,I                                               0338
         B     @DE00338                                            0338
@DL00338 DS    0H                                                  0339
*     IF CHARACT(I)>' '             /* TO 1ST NON-BLANK              */
*       THEN                        /* WHEN FOUND I WILL BE EQUAL    */
         ALR   @14,R5                                              0339
         BCTR  @14,0                                               0339
         CLI   CHARACT(@14),C' '                                   0339
         BH    @RT00339                                            0339
*       GOTO C11C0001;              /* TO THE TRUE COUNT OF DATA     */
*   END;                            /*                               */
         LH    @10,I                                               0341
         BCTR  @10,0                                               0341
         LR    @14,@10                                             0341
         STH   @14,I                                               0341
@DE00338 LTR   @14,@14                                             0341
         BP    @DL00338                                            0341
*   I=1;                            /* SET I FOR BLANK LINE OF 1     */
         MVC   I(2),@CH00074                                       0342
*C11C0001:                                                         0343
*   ;                               /*                               */
C11C0001 DS    0H                                                  0344
*   IF $CINADR^=0 THEN                                             0344
         SLR   @14,@14                                             0344
         C     @14,$CINADR(,WAPTR)                                 0344
         BE    @RF00344                                            0344
*     IF $CINCT=0 THEN                                             0345
         CL    @14,$CINCT(,WAPTR)                                  0345
         BNE   @RF00345                                            0345
*       $CINCT=1;                                                  0346
         MVC   $CINCT(4,WAPTR),@CF00074                            0346
*   INPUT=0;                        /* DEFAULT TO NO INPUT           */
@RF00345 DS    0H                                                  0347
@RF00344 SLR   @14,@14                                             0347
         ST    @14,INPUT                                           0347
*   INPUTCT=0;                                                     0348
         ST    @14,INPUTCT                                         0348
*   IF $TESTMDE(1)=ON               /* FOR CT=TT                     */
*     THEN                                                         0349
         TM    $TESTMDE(WAPTR),B'00000010'                         0349
         BNO   @RF00349                                            0349
*     $PRTONLY=ON;                                                 0350
         OI    $PRTONLY(WAPTR),B'00001000'                         0350
*   MSGSW=0;                        /* FOR ALL STANDARD DEVICES      */
@RF00349 SLR   MSGSW,MSGSW                                         0351
*/********************************************************************/
*/* ALTERNATE PRINTER                                                */
*/********************************************************************/
*                                                                  0352
*   IF $ALTPRTR=OFF×$CNSLFG=ON      /* NO AP OR MSG TO OPERATOR    0352
*                                                            @ZD10863*/
*     THEN                                                         0352
         TM    $ALTPRTR(WAPTR),B'00000010'                         0352
         BZ    @RT00352                                            0352
         TM    $CNSLFG(WAPTR),B'01000000'                          0352
         BO    @RT00352                                            0352
*     GOTO C11C0110;                /* GO DO WRITE TO CT             */
*/********************************************************************/
*/* WRITE TO ALTERNATE PRINTER                                       */
*/********************************************************************/
*                                                                  0354
*   INDX=2;                         /* SET UP FOR AP                 */
         MVC   INDX(4),@CF00138                                    0354
*   TRNDAT(1:I)=MESSAGE(1:I);       /* MOVE IN THE MSG               */
         LH    @14,I                                               0355
         LR    @10,@14                                             0355
         BCTR  @10,0                                               0355
         EX    @10,@SM02130                                        0355
*   N=I;                            /* SET UP COUNT                  */
         ST    @14,N                                               0356
*   IF $DEVFRRS(2)='01'X×           /* IF THE DEVICE IS A 2740       */
*       $DEVFRRS(2)='02'X×          /* OR A 2741                     */
*       $DEVFRRS(2)='03'X×$DEVFRRS(2)='64'X/* OR A 1050              */
*     THEN                                                         0357
         CLI   $DEVFRRS+68(WAPTR),X'01'                            0357
         BE    @RT00357                                            0357
         CLI   $DEVFRRS+68(WAPTR),X'02'                            0357
         BE    @RT00357                                            0357
         CLI   $DEVFRRS+68(WAPTR),X'03'                            0357
         BE    @RT00357                                            0357
         CLI   $DEVFRRS+68(WAPTR),X'64'                            0357
         BNE   @RF00357                                            0357
@RT00357 DS    0H                                                  0358
*     DO;                                                          0358
*       N=I+1;                      /* ADD THE CARRIAGE RETURN       */
         LA    @14,1                                               0359
         LH    @10,I                                               0359
         ALR   @10,@14                                             0359
         ST    @10,N                                               0359
*       TRNDAT(N)='15'X;            /* CODE                          */
         LA    @04,TRNDAT-1(@10)                                   0360
         MVI   0(@04),X'15'                                        0360
*       MSGSW=1;                    /* SET UP SWITCH                 */
         LR    MSGSW,@14                                           0361
*       GOTO C11C0075;                                             0362
         B     C11C0075                                            0362
*     END;                                                         0363
*   IF $DEVFRRS(2)='7D'X            /* IS AP A 2265                  */
*     THEN                                                         0364
@RF00357 CLI   $DEVFRRS+68(WAPTR),X'7D'                            0364
         BE    @RT00364                                            0364
*     GOTO C11C0A00;                /* GOTO 2265 AP ROUTINE          */
*   IF $DEVFRRS(2)>='19'X&          /* IS AP A 3270                  */
*       $DEVFRRS(2)<='1C'X THEN                                    0366
         CLI   $DEVFRRS+68(WAPTR),X'19'                            0366
         BL    @RF00366                                            0366
         CLI   $DEVFRRS+68(WAPTR),X'1C'                            0366
         BH    @RF00366                                            0366
*     IF $DEVCLAS(2)='00'X          /* IF A MOD1 - (480 CHARS)       */
*       THEN                                                       0367
         CLI   $DEVCLAS+68(WAPTR),X'00'                            0367
         BE    @RT00367                                            0367
*       GOTO C11C1000;              /* GOTO MOD1 HANDLER             */
*     ELSE                                                         0369
*       GOTO C11C1250;              /* GOTO MOD2 HANDLER             */
*                                                                  0369
         B     C11C1250                                            0369
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR THE 2780 NON-STANDARD PRINTER THE PRINTER HAS 80    */
*   /* CHARACTER CARRIAGE                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0370
*   IF $DEVFRRS(2)='0A'X&           /* CK FOR 2780                   */
*       I>80 THEN                                                  0370
@RF00366 CLI   $DEVFRRS+68(WAPTR),X'0A'                            0370
         BNE   @RF00370                                            0370
         LA    @14,80                                              0370
         CH    @14,I                                               0370
         BNL   @RF00370                                            0370
*     N=80;                         /* SET FOR PRINTER SIZE          */
         ST    @14,N                                               0371
*C11C0075:                                                         0372
*   ;                                                              0372
@RF00370 DS    0H                                                  0372
C11C0075 DS    0H                                                  0373
*   R6=ADDR(TRNDAT);                /* POINT TO MSG TO BE SENT       */
         LA    R6,TRNDAT                                           0373
*   R7=N;                           /* SIZE OF MSG                   */
         L     R7,N                                                0374
*   CALL C11C0570;                                                 0375
         BAL   @14,C11C0570                                        0375
*C11C0080:                                                         0376
*   IF $PRTONLY=ON                  /* IF WRITE WAS ONLY TO GO       */
*     THEN                                                         0376
C11C0080 TM    $PRTONLY(WAPTR),B'00001000'                         0376
         BNO   @RF00376                                            0376
*     DO;                                                          0377
*       $PRINTAP=ON;                /* PRINT TO AP ONLY              */
         OI    $PRINTAP(WAPTR),B'00000100'                         0378
*       GOTO C11C0930;              /* BYPASS WRITE TO CT            */
         B     C11C0930                                            0379
*     END;                                                         0380
*                                                                  0381
*   /*****************************************************************/
*   /*                                                               */
*   /* THE MESSAGE IS FOR CT                                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0381
*C11C0110:                                                         0381
*   ;                                                              0381
@RF00376 DS    0H                                                  0381
C11C0110 DS    0H                                                  0382
*   INDX=1;                         /* SET UP FOR CT                 */
         MVC   INDX(4),@CF00074                                    0382
*   TRNDAT(1:I)=MESSAGE(1:I);       /* MOVE IN THE MSG               */
         LH    @14,I                                               0383
         LR    @10,@14                                             0383
         BCTR  @10,0                                               0383
         EX    @10,@SM02130                                        0383
*   N=I;                            /* SET UP COUNT                  */
         ST    @14,N                                               0384
*   IF $TESTMDE(1)=ON               /* IF CT=TT                      */
*     THEN                          /* IGNORE WRITE                  */
         TM    $TESTMDE(WAPTR),B'00000010'                         0385
         BNO   @RF00385                                            0385
*     IF $CINADR=0                  /* ON CT DO NOT                  */
*       THEN                        /* IGNORE WRITE CONV             */
         L     @14,$CINADR(,WAPTR)                                 0386
         LTR   @14,@14                                             0386
         BZ    @RT00386                                            0386
*       GOTO C11C0930;              /* CLASSED AS AN ERR             */
*     ELSE                                                         0388
*       GOTO C11C0920;                                             0388
         B     C11C0920                                            0388
*   IF $$SYMNME(1)='SYS CON '×$CNSLFG=ON×/* WRITE TO SYS CON?      0389
*                                                            @ZD10863*/
*       $OPCOM=ON THEN                                             0389
@RF00385 CLC   $$SYMNME(8,WAPTR),@CC02037                          0389
         BE    @RT00389                                            0389
         TM    $CNSLFG(WAPTR),B'01000000'                          0389
         BO    @RT00389                                            0389
         TM    $OPCOM(WAPTR),B'10000000'                           0389
         BO    @RT00389                                            0389
*     GOTO C11C0130;                                               0390
*   IF $CTERROR=ON                  /* SKIP MSG IF ERROR FLAG ON     */
*     THEN                                                         0391
         TM    $CTERROR(WAPTR),B'01000000'                         0391
         BO    @RT00391                                            0391
*     GOTO C11C0920;                                               0392
*   $DCONTCT='0'B;                  /* INDICATE TO EXIO ANOTHER    0393
*                                      DISCONTACT IS REQUIRED        */
         NI    $DCONTCT(WAPTR),B'11101111'                         0393
*   IF $DEVFRRS(1)='01'X×           /* IF THE DEVICE IS A 2740       */
*       $DEVFRRS(1)='02'X×          /* OR A 2741                     */
*       $DEVFRRS(1)='03'X×$DEVFRRS(1)='64'X/* OR A 1050              */
*     THEN                                                         0394
         CLI   $DEVFRRS(WAPTR),X'01'                               0394
         BE    @RT00394                                            0394
         CLI   $DEVFRRS(WAPTR),X'02'                               0394
         BE    @RT00394                                            0394
         CLI   $DEVFRRS(WAPTR),X'03'                               0394
         BE    @RT00394                                            0394
         CLI   $DEVFRRS(WAPTR),X'64'                               0394
         BNE   @RF00394                                            0394
@RT00394 DS    0H                                                  0395
*     DO;                                                          0395
*       N=I+1;                                                     0396
         LA    @14,1                                               0396
         AH    @14,I                                               0396
         ST    @14,N                                               0396
*       TRNDAT(N)='15'X;            /* ADD CARRIAGE RETURN CODE    0397
*                                                            @DA00896*/
         LA    @10,TRNDAT-1(@14)                                   0397
         MVI   0(@10),X'15'                                        0397
*     END;                                                         0398
*   IF $DEVFRRS(1)='7D'X            /* IS CT A 2265                  */
*     THEN                                                         0399
@RF00394 CLI   $DEVFRRS(WAPTR),X'7D'                               0399
         BE    @RT00399                                            0399
*     GOTO C11C0C00;                                               0400
*   IF $DEVFRRS(1)='19'X×$DEVFRRS(1)='1C'X THEN                    0401
         CLI   $DEVFRRS(WAPTR),X'19'                               0401
         BE    @RT00401                                            0401
         CLI   $DEVFRRS(WAPTR),X'1C'                               0401
         BNE   @RF00401                                            0401
@RT00401 DS    0H                                                  0402
*     IF $DEVCLAS(1)='00'X          /* MOD1 3270                     */
*       THEN                                                       0402
         CLI   $DEVCLAS(WAPTR),X'00'                               0402
         BE    @RT00402                                            0402
*       GOTO C11C1500;              /* GOTO MOD1 HANDLER             */
*     ELSE                                                         0404
*       GOTO C11C1750;              /* GOTO MOD2 HANDLER             */
         B     C11C1750                                            0404
*   R6=ADDR(TRNDAT);                                               0405
@RF00401 LA    R6,TRNDAT                                           0405
*   R7=N;                                                          0406
         L     R7,N                                                0406
*   IF $CINADR^=0 THEN              /* CHECK TO SEE IF 1 OR 2 WAY    */
         L     @14,$CINADR(,WAPTR)                                 0407
         LTR   @14,@14                                             0407
         BZ    @RF00407                                            0407
*     DO;                           /* THIS IS A ONE WAY MESSAGE     */
*                                                                  0408
*       /*************************************************************/
*       /*                                                           */
*       /* CONVERSATIONAL WRITE TO CONTROL TERMINAL                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0409
*       INPUT=$CINADR;                                             0409
         ST    @14,INPUT                                           0409
*       INPUTCT=$CINCT;                                            0410
         L     @14,$CINCT(,WAPTR)                                  0410
         ST    @14,INPUTCT                                         0410
*       $POSTFLG=ON;                /* WAIT UNTIL DATA IS IN FOR THIS
*                                      CT                    @D32JPPW*/
         OI    $POSTFLG(WAPTR),B'01000000'                         0411
*     END;                                                         0412
*   CALL C11C0570;                  /* ADD ELEMENT TO THE QUEUE      */
@RF00407 BAL   @14,C11C0570                                        0413
*   GOTO C11C0930;                                                 0414
         B     C11C0930                                            0414
*                                                                  0415
*/********************************************************************/
*/*     WRITE TO SYSTEM CONSOLE                                      */
*/****************************************************************** */
*                                                                  0415
*C11C0130:                                                         0415
*   ;                                                              0415
C11C0130 DS    0H                                                  0416
*   $CNSLFG=OFF;                                                   0416
         NI    $CNSLFG(WAPTR),B'10111111'                          0416
*   OUTSIZE=N+4;                    /* STORE INTO PARM(WTOBLK)       */
         L     @14,N                                               0417
         LA    @10,4(,@14)                                         0417
         STH   @10,OUTSIZE                                         0417
*   TEXT(1:N)=TRNDAT(1:N);          /* MOVE MSG                      */
         LR    @10,@14                                             0418
         BCTR  @10,0                                               0418
         EX    @10,@SM02133                                        0418
*   TEXT(N+1:N+4)=MCSCODE;          /* MOVE MCSCODES TO TEXT @AZ18463*/
         LA    @10,TEXT(@14)                                       0419
         MVC   0(4,@10),MCSCODE                                    0419
*   IF $CINADR=0 THEN                                              0420
         L     @14,$CINADR(,WAPTR)                                 0420
         LTR   @14,@14                                             0420
         BNZ   @RF00420                                            0420
*     DO;                           /* TP MSG                        */
*       R1=ADDR(OUTSIZE);           /* SAVE REG1                     */
         LA    R1,OUTSIZE                                          0422
*/***** IWTO ****                                                    */
*                                                                  0423
*       DO;                                                        0423
*         GEN;                                                     0424
         WTO   MF=(E,(1))
*       END;                        /* IWTO                          */
*       GO TO C11C9998;             /* RETURN WITH A ZERO RETURN CODE*/
         B     C11C9998                                            0426
*     END;                                                         0427
*   R6=$CINCT;                                                     0428
@RF00420 L     R6,$CINCT(,WAPTR)                                   0428
*   INLNGTH=R6;                     /* STORE IT INTO PARM            */
         STC   R6,INLNGTH                                          0429
*   INBUFF=$CINADR;                                                0430
         MVC   INBUFF(3),$CINADR+1(WAPTR)                          0430
*   MYECB=0;                        /* SET ECB TO 0                  */
         SLR   @14,@14                                             0431
         ST    @14,MYECB                                           0431
*   R1=ADDR(INLNGTH);               /* SET PTR FOR IWTOR             */
         LA    R1,INLNGTH                                          0432
*/***** IWTOR ****                                                   */
*                                                                  0433
*   DO;                                                            0433
*     GEN;                                                         0434
         WTOR  MF=(E,(1))
*     DCL                                                          0435
*       REGF0016 REGISTER(15) FIXED;                               0435
*     REGF0016=0;                                                  0436
         SLR   REGF0016,REGF0016                                   0436
*   END;                            /* IWTOR                         */
*/*VWAIT  ECB(MYECB)TASK(APPL)                                       */
*                                                                  0438
*   DO;                                                            0438
*     DCL                                                          0439
*       GPR01F FIXED(31) REG(01);                                  0439
*     DCL                                                          0440
*       GPR01P PTR(31) REG(01);     /* DECLARE AND RESTRICT REG 1    */
*     RESPECIFY                                                    0441
*       GPR01F RSTD;                /* INVOKE XREGSET MACRO TO TEST
*                                      ECB PARM VALIDITY             */
*/*XREGSET  PPARM(MYECB)RREG(1,GPR01F)PID('ECB')                     */
*                                                                  0442
*     DO;                                                          0442
*       GPR01F=ADDR(MYECB);         /* SET RREG SYMBOL TO ADDRESS OF
*                                      PPARM OPERAND                 */
         LA    GPR01F,MYECB                                        0443
*     END;                          /* XREGSET                       */
*     GEN;                                                         0445
         WAIT 1,ECB=(1)
*     RESPECIFY                                                    0446
*       GPR01F UNRSTD;              /* UNRESTRICT REG 1              */
*   END;                            /* VWAIT                         */
*   R5=$CINADR;                     /* SET PTR TO ANSWER             */
         L     R5,$CINADR(,WAPTR)                                  0448
*   IF $CINCT=0                     /* ZERO LENGTH REPLY?            */
*     THEN                                                         0449
         SLR   @14,@14                                             0449
         CL    @14,$CINCT(,WAPTR)                                  0449
         BNE   @RF00449                                            0449
*     DO;                                                          0450
*       I=0;                        /* SET ANSWER SIZE               */
         STH   @14,I                                               0451
*       GOTO C11C0132;                                             0452
         B     C11C0132                                            0452
*     END;                                                         0453
*   DO I=$CINCT TO 1 BY-1;          /* FIND LENGTH OF ANSWER         */
@RF00449 L     @14,$CINCT(,WAPTR)                                  0454
         STH   @14,I                                               0454
         B     @DE00454                                            0454
@DL00454 DS    0H                                                  0455
*     IF CHARACT(I)^='00'X          /* BY COMPILING BACKWARD         */
*       THEN                        /* FROM END OF BUFFER            */
         ALR   @14,R5                                              0455
         BCTR  @14,0                                               0455
         CLI   CHARACT(@14),X'00'                                  0455
         BNE   @RT00455                                            0455
*       GOTO C11C0131;              /* TILL NON-BLANK FOUND          */
*   END;                                                           0457
         LH    @10,I                                               0457
         BCTR  @10,0                                               0457
         LR    @14,@10                                             0457
         STH   @14,I                                               0457
@DE00454 LTR   @14,@14                                             0457
         BP    @DL00454                                            0457
*C11C0131:                                                         0458
*   IF I=0 THEN                                                    0458
C11C0131 LH    @14,I                                               0458
         LTR   @14,@14                                             0458
         BZ    @RT00458                                            0458
*     GOTO C11C0132;                                               0459
*   R5=$CINADR;                                                    0460
         L     R5,$CINADR(,WAPTR)                                  0460
*   DO J=1 TO I BY 1;                                              0461
         LA    J,1                                                 0461
         B     @DE00461                                            0461
@DL00461 DS    0H                                                  0462
*     MSGIN(J)=(MSGIN(J)×'40'X);    /* UPPER CASE REPLY              */
         LR    @14,R5                                              0462
         ALR   @14,J                                               0462
         BCTR  @14,0                                               0462
         OI    MSGIN(@14),X'40'                                    0462
*   END;                                                           0463
         AL    J,@CF00074                                          0463
@DE00461 CH    J,I                                                 0463
         BNH   @DL00461                                            0463
*   IF I>61                         /* CHECK ANSWER SIZE             */
*     THEN                          /* FOR MAX IF GTR                */
         LH    @14,I                                               0464
         C     @14,@CF02050                                        0464
         BH    @RT00464                                            0464
*     GOTO C11C0920;                /* ERROR EXIT                    */
*   IF I>$CINCT                     /* CHECK ANSWER FOR              */
*     THEN                          /* GTR THAN EXPECTED             */
         CL    @14,$CINCT(,WAPTR)                                  0466
         BH    @RT00466                                            0466
*     GOTO C11C0920;                /* IF GTR ERROR EXIT             */
*C11C0132:                                                         0468
*   R5=R5-1;                        /* POINT TO LENGTH FOUND         */
C11C0132 BCTR  R5,0                                                0468
*   R6=I;                           /* STORE ANSWER SIZE             */
         LH    R6,I                                                0469
*   MSGIN(1)=R6;                    /* RETURN                        */
         STC   R6,MSGIN(,R5)                                       0470
*   IF $ALTPRTR=ON                  /* IS RESPONSE NEEDED ON AP      */
*     THEN                          /* IF YES SET IND.               */
         TM    $ALTPRTR(WAPTR),B'00000010'                         0471
         BNO   @RF00471                                            0471
*     $TWOWAY=ON;                                                  0472
*                                                                  0472
         OI    $TWOWAY(WAPTR),B'01000000'                          0472
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS POINT WILL GIVE A ZERO RETURN CODE AND RETURN TO USER    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0473
*C11C9998:                                                         0473
*   R15=0;                          /* SET UP GENERAL REGISTER FOR 0473
*                                      RETURN                        */
*                                                                  0473
@RF00471 DS    0H                                                  0473
C11C9998 SLR   R15,R15                                             0473
*   /*****************************************************************/
*   /*                                                               */
*   /* CODE HERE FOR RETURN TO CALLER                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0474
*C11C9999:                                                         0474
*   R13=SVECC011(2);                /* RESTORE CALLERS REGISTERS     */
C11C9999 L     R13,SVECC011+4(,WAPTR)                              0474
*   RETURN;                         /* GO BACK TO CALLER             */
@EL00001 DS    0H                                                  0475
@EF00001 DS    0H                                                  0475
@ER00001 L     @14,12(,@13)                                        0475
         LM    @00,@12,20(@13)                                     0475
         BR    @14                                                 0475
*/********************************************************************/
*/* CONTROL TERMINAL CONTROL BLOCK ERROR                             */
*/********************************************************************/
*                                                                  0476
*C11C0920:                                                         0476
*   $RPLERR=R0;                     /* SET ERROR FDBK INTO TWA       */
C11C0920 STCM  R0,7,$RPLERR(WAPTR)                                 0476
*   $CANCEL=ON;                     /* CANCEL THIS LOGON             */
         OI    $CANCEL(WAPTR),B'00000010'                          0477
*   $CTERROR=ON;                    /* BECAUSE OF CT ERROR           */
         OI    $CTERROR(WAPTR),B'01000000'                         0478
*   $POSTFLG=OFF;                   /* LOGON CANCELLED               */
         NI    $POSTFLG(WAPTR),B'10111111'                         0479
*   GO TO C11C9999;                 /* RETURN TO CALLER WITHOUT    0480
*                                      SETTING R15                   */
         B     C11C9999                                            0480
*C11C0930:                                                         0481
*   $PRTONLY=OFF;                                                  0481
C11C0930 NI    $PRTONLY(WAPTR),B'11110111'                         0481
*   GO TO C11C9998;                 /* RETURN TO CALLER WITH A ZERO
*                                      RETURN CODE                   */
         B     C11C9998                                            0482
*                                                                  0483
*/********************************************************************/
*/*   THE AP IS A 2265                                               */
*/********************************************************************/
*                                                                  0483
*C11C0A00:                                                         0483
*   IF $APLINE=0                    /* IS MESSAGE FIRST ONE          */
*     THEN                                                         0483
C11C0A00 CLI   $APLINE(WAPTR),0                                    0483
         BNE   @RF00483                                            0483
*     DO;                                                          0484
*       WID=80;                     /* MOD 2                         */
         LA    WID,80                                              0485
*       $DVCTBYT(2)=ON;             /* CONTROL BYTE PRESENT IN MSG   */
         OI    $DVCTBYT+68(WAPTR),B'00000010'                      0486
*       CALL C11C0540;              /* RESTORE THE SCREEN            */
         BAL   @14,C11C0540                                        0487
*       N=(I+WID-1)/WID;            /* HOW MANY LINES DOES MSG TAKE  */
         LR    @08,WID                                             0488
         AH    @08,I                                               0488
         BCTR  @08,0                                               0488
         SRDA  @08,32                                              0488
         DR    @08,WID                                             0488
         ST    @09,N                                               0488
*       $APWIDTH=12;                /* SCREEN WIDTH                  */
         MVI   $APWIDTH(WAPTR),X'0C'                               0489
*       $APLINE=1;                  /* RE-INIT LINE COUNT            */
         MVI   $APLINE(WAPTR),X'01'                                0490
*       GOTO C11C0A10;              /* MOVE IN DATA                  */
         B     C11C0A10                                            0491
*     END;                                                         0492
*                                                                  0492
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR RESTORE OF SCREEN                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0493
*   CALL C11C0540;                  /* RESTORE THE SCREEN            */
@RF00483 BAL   @14,C11C0540                                        0493
*/********************************************************************/
*/*  SEE HOW MANY LINES WILL BE NEEDED ON SCREEN  - RESULT IS N      */
*/********************************************************************/
*                                                                  0494
*   WID=80;                         /* MOD 2                         */
         LA    WID,80                                              0494
*   N=(I+WID-1)/WID;                /* HOW MANY LINES DOES MSG TAKE  */
*                                                                  0495
         LR    @08,WID                                             0495
         AH    @08,I                                               0495
         BCTR  @08,0                                               0495
         SRDA  @08,32                                              0495
         DR    @08,WID                                             0495
         ST    @09,N                                               0495
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE IF SCREEN NEEDS TO BE RESET                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0496
*   IF $APLINE+N                    /* NUMBER OF BYTES USED          */
*       >$APWIDTH THEN                                             0496
         SLR   @14,@14                                             0496
         IC    @14,$APLINE(,WAPTR)                                 0496
         ALR   @09,@14                                             0496
         SLR   @14,@14                                             0496
         IC    @14,$APWIDTH(,WAPTR)                                0496
         CR    @09,@14                                             0496
         BNH   @RF00496                                            0496
*     $APLINE=1;                    /* RE-INIT LINE COUNT            */
         MVI   $APLINE(WAPTR),X'01'                                0497
*   ELSE                                                           0498
*     $APLINE=$APLINE+1;            /* NEW LINE                      */
         B     @RC00496                                            0498
@RF00496 LA    @14,1                                               0498
         SLR   @10,@10                                             0498
         IC    @10,$APLINE(,WAPTR)                                 0498
         ALR   @14,@10                                             0498
         STC   @14,$APLINE(,WAPTR)                                 0498
*C11C0A10:                                                         0499
*   MYCHAR=T2265($APLINE);                                         0499
*                                                                  0499
@RC00496 DS    0H                                                  0499
C11C0A10 LA    @14,MSGDAT                                          0499
         SLR   @10,@10                                             0499
         IC    @10,$APLINE(,WAPTR)                                 0499
         LA    @04,T2265-1(@10)                                    0499
         MVC   MYCHAR(1,@14),0(@04)                                0499
*   /*****************************************************************/
*   /*                                                               */
*   /* MOVE DATA TO SCREEN                                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0500
*   NEWDAT(1:I)=TRNDAT(1:I);        /* MOVE DATA FROM STOR TO  SCREEN*/
         LH    @10,I                                               0500
         LR    @04,@10                                             0500
         BCTR  @04,0                                               0500
         EX    @04,@SM02136                                        0500
*   R7=I+2;                         /* NUMBER OF BYTES IN MSG        */
         AL    @10,@CF00138                                        0501
         LR    R7,@10                                              0501
*                                                                  0502
*/********************************************************************/
*/*  WRITE  TO APSCREEN - 2265                                       */
*/********************************************************************/
*                                                                  0502
*C11C0A20:                                                         0502
*   R6=ADDR(MSGDAT);                                               0502
C11C0A20 LA    R6,MSGDAT                                           0502
*   IF $APLINE=1 THEN                                              0503
         CLI   $APLINE(WAPTR),1                                    0503
         BNE   @RF00503                                            0503
*     MSGFUNC='5';                  /* WRITE,NCONV,ERASE             */
         MVI   MSGFUNC,C'5'                                        0504
*   ELSE                                                           0505
*     MSGFUNC='1';                  /* WRITE,NCONV,NERASE            */
         B     @RC00503                                            0505
@RF00503 MVI   MSGFUNC,C'1'                                        0505
*   CALL C11C0570;                  /* ADD TO QUEUE                  */
@RC00503 BAL   @14,C11C0570                                        0506
*   $APLINE=$APLINE+N-1;            /* MOVE IN N LINES OF DATA       */
         SLR   @14,@14                                             0507
         IC    @14,$APLINE(,WAPTR)                                 0507
         AL    @14,N                                               0507
         BCTR  @14,0                                               0507
         STC   @14,$APLINE(,WAPTR)                                 0507
*   GOTO C11C0080;                  /* TEST FOR CT DEVICE            */
         B     C11C0080                                            0508
*                                                                  0509
*/********************************************************************/
*/*  WRITE MSG TO CT (2265)                                          */
*/********************************************************************/
*                                                                  0509
*C11C0C00:                                                         0509
*   IF $CTLINE=0                    /* IS MESSAGE FIRST ONE          */
*     THEN                                                         0509
C11C0C00 CLI   $CTLINE(WAPTR),0                                    0509
         BNE   @RF00509                                            0509
*     DO;                                                          0510
*       WID=65;                                                    0511
         LA    WID,65                                              0511
*       $DVCTBYT(1)=ON;             /* CONTROL BYTE PRESENT IN MSG   */
*                                                                  0512
         OI    $DVCTBYT(WAPTR),B'00000010'                         0512
*       /*************************************************************/
*       /*                                                           */
*       /* RESTORE SCREEN                                            */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0513
*       N=(I+WID-1)/WID;            /* HOW MANY LINES DOES MSG TAKE  */
         LR    @08,WID                                             0513
         AH    @08,I                                               0513
         BCTR  @08,0                                               0513
         SRDA  @08,32                                              0513
         DR    @08,WID                                             0513
         ST    @09,N                                               0513
*       CALL C11C0540;              /* RESTORE THE SCREEN            */
         BAL   @14,C11C0540                                        0514
*       $CTWIDTH=12;                /* SCREEN WIDTH - 2265           */
         MVI   $CTWIDTH(WAPTR),X'0C'                               0515
*       $CTLINE=1;                  /* RESET SCREEN                  */
         MVI   $CTLINE(WAPTR),X'01'                                0516
*       GOTO C11C0C10;              /* GOTO MOVE IN MESSAGE          */
         B     C11C0C10                                            0517
*     END;                                                         0518
*                                                                  0518
*   /*****************************************************************/
*   /*                                                               */
*   /* SCREEN IS IN USE CHECK FOR RESTORE OF SCREEN                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0519
*   CALL C11C0540;                                                 0519
*                                                                  0519
@RF00509 BAL   @14,C11C0540                                        0519
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE IF SCREEN NEEDS TO BE RESET                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0520
*   WID=80;                         /* PASS TO SUBROUTINE            */
         LA    WID,80                                              0520
*   N=(I+WID-1)/WID;                /* HOW MANY LINES DOES MSG TAKE  */
*                                                                  0521
         LR    @08,WID                                             0521
         AH    @08,I                                               0521
         BCTR  @08,0                                               0521
         SRDA  @08,32                                              0521
         DR    @08,WID                                             0521
         ST    @09,N                                               0521
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK TO SEE IF SCREEN WAS FULL                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0522
*   IF $CTLINE+N>$CTWIDTH           /* CHECK FOR END OF SCREEN       */
*     THEN                                                         0522
         SLR   @14,@14                                             0522
         IC    @14,$CTLINE(,WAPTR)                                 0522
         ALR   @09,@14                                             0522
         SLR   @14,@14                                             0522
         IC    @14,$CTWIDTH(,WAPTR)                                0522
         CR    @09,@14                                             0522
         BNH   @RF00522                                            0522
*     DO;                                                          0523
*       $CTLINE=1;                  /* RESET SCREEN                  */
         MVI   $CTLINE(WAPTR),X'01'                                0524
*       CALL C11C0560;                                             0525
         BAL   @14,C11C0560                                        0525
*     END;                                                         0526
*   ELSE                                                           0527
*     $CTLINE=$CTLINE+1;                                           0527
*                                                                  0527
         B     @RC00522                                            0527
@RF00522 LA    @14,1                                               0527
         SLR   @10,@10                                             0527
         IC    @10,$CTLINE(,WAPTR)                                 0527
         ALR   @14,@10                                             0527
         STC   @14,$CTLINE(,WAPTR)                                 0527
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP POINTER TO SCREEN AND MOVE IN DATA                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0528
*C11C0C10:                                                         0528
*   MYCHAR=T2265($CTLINE);                                         0528
*                                                                  0528
@RC00522 DS    0H                                                  0528
C11C0C10 LA    @14,MSGDAT                                          0528
         SLR   @10,@10                                             0528
         IC    @10,$CTLINE(,WAPTR)                                 0528
         LA    @04,T2265-1(@10)                                    0528
         MVC   MYCHAR(1,@14),0(@04)                                0528
*   /*****************************************************************/
*   /*                                                               */
*   /* MOVE DATA FROM STORAGE TO SCREEN                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0529
*   NEWDAT(1:I)=TRNDAT(1:I);        /* MOVE DATA FROM STORAGE        */
         LH    @10,I                                               0529
         LR    @04,@10                                             0529
         BCTR  @04,0                                               0529
         EX    @04,@SM02136                                        0529
*/********************************************************************/
*/*  WRITE TO CTSCREEN - 2265                                        */
*/********************************************************************/
*                                                                  0530
*   R7=I+2;                         /* NUMBER OF BYTES IN MSG        */
         AL    @10,@CF00138                                        0530
         LR    R7,@10                                              0530
*   GOTO C11C1900;                                                 0531
         B     C11C1900                                            0531
*                                                                  0532
*/********************************************************************/
*/* (THE AP DEVICE IS A 3270 WITH A 480 CHAR SCREEN                  */
*/********************************************************************/
*                                                                  0532
*C11C1000:                                                         0532
*   IF $APLINE=0                    /* 3270 GTMAIN?                  */
*     THEN                                                         0532
C11C1000 CLI   $APLINE(WAPTR),0                                    0532
         BNE   @RF00532                                            0532
*     DO;                                                          0533
*       $APWIDTH=12;                /* SCREEN WIDTH + CONTROL        */
         MVI   $APWIDTH(WAPTR),X'0C'                               0534
*       WID=40;                     /* MOD 1                         */
         LA    WID,40                                              0535
*       GOTO C11C1375;              /* GOTO MOD2 PROCESSING          */
         B     C11C1375                                            0536
*     END;                                                         0537
*   GOTO C11C1390;                                                 0538
*                                                                  0538
         B     C11C1390                                            0538
*/********************************************************************/
*/*   THE AP DEVICE IS A 3270 WITH A 2044 CHAR SCREEN                */
*/********************************************************************/
*                                                                  0539
*C11C1250:                                                         0539
*   IF $APLINE=0                    /* 3270 GTMAIN?                  */
*     THEN                                                         0539
C11C1250 CLI   $APLINE(WAPTR),0                                    0539
         BNE   @RF00539                                            0539
*     DO;                                                          0540
*       $APWIDTH=24;                /* SCREEN + CONTROL CHARS        */
         MVI   $APWIDTH(WAPTR),X'18'                               0541
*       WID=80;                     /* MOD 2                         */
         LA    WID,80                                              0542
*C11C1375:                                                         0543
*       $APLINE=1;                  /* RE-INIT LINE COUNT            */
C11C1375 MVI   $APLINE(WAPTR),X'01'                                0543
*       $DVCTBYT(2)=ON;             /* CONTROL BYTE PRESENT IN MSG   */
         OI    $DVCTBYT+68(WAPTR),B'00000010'                      0544
*       CALL C11C0540;              /* RESTORE THE SCREEN            */
         BAL   @14,C11C0540                                        0545
*       N=(I+WID-1)/WID;            /* HOW MANY LINES DOES MSG TAKE  */
         LR    @08,WID                                             0546
         AH    @08,I                                               0546
         BCTR  @08,0                                               0546
         SRDA  @08,32                                              0546
         DR    @08,WID                                             0546
         ST    @09,N                                               0546
*       GOTO C11C1400;                                             0547
         B     C11C1400                                            0547
*     END;                          /* SET KEYBOARD LOCKED           */
*C11C1390:                                                         0549
*   IF $DEVCLAS(2)='00'X THEN                                      0549
@RF00539 DS    0H                                                  0549
C11C1390 CLI   $DEVCLAS+68(WAPTR),X'00'                            0549
         BNE   @RF00549                                            0549
*     WID=40;                       /* MOD 1                         */
*                                                                  0550
         LA    WID,40                                              0550
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO DETERMINE NUMBER OF LINES TO BE ADDED      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0551
*   ELSE                                                           0551
*     WID=80;                       /* MOD 2                         */
         B     @RC00549                                            0551
@RF00549 LA    WID,80                                              0551
*   CALL C11C0540;                  /* RESTORE THE SCREEN            */
@RC00549 BAL   @14,C11C0540                                        0552
*   N=(I+WID-1)/WID;                /* HOW MANY LINES DOES MSG TAKE  */
*                                                                  0553
         LR    @08,WID                                             0553
         AH    @08,I                                               0553
         BCTR  @08,0                                               0553
         SRDA  @08,32                                              0553
         DR    @08,WID                                             0553
         ST    @09,N                                               0553
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE IF SCREEN NEEDS TO BE RESET                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0554
*   IF $APLINE+N>$APWIDTH THEN                                     0554
         SLR   @14,@14                                             0554
         IC    @14,$APLINE(,WAPTR)                                 0554
         ALR   @09,@14                                             0554
         SLR   @14,@14                                             0554
         IC    @14,$APWIDTH(,WAPTR)                                0554
         CR    @09,@14                                             0554
         BNH   @RF00554                                            0554
*     $APLINE=1;                    /* RE-INIT LINE COUNT            */
         MVI   $APLINE(WAPTR),X'01'                                0555
*   ELSE                                                           0556
*     $APLINE=$APLINE+1;            /* NEW LINE                      */
*                                                                  0556
         B     @RC00554                                            0556
@RF00554 LA    @14,1                                               0556
         SLR   @10,@10                                             0556
         IC    @10,$APLINE(,WAPTR)                                 0556
         ALR   @14,@10                                             0556
         STC   @14,$APLINE(,WAPTR)                                 0556
*   /*****************************************************************/
*   /*                                                               */
*   /* MOVE IN MESSAGE TO SCREEN                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0557
*C11C1400:                                                         0557
*   WCM2='C9'X;                     /* SET WCC                       */
@RC00554 DS    0H                                                  0557
C11C1400 MVI   WCM2,X'C9'                                          0557
*   USCORE='1D4013'X;               /* PUT IN UNDRESCORE             */
         MVC   USCORE(3),@CB02080                                  0558
*   R7=I+15;                        /* NUMBER OF BYTES IN MSG        */
         LA    R7,15                                               0559
         AH    R7,I                                                0559
*   IF $DEVFRRS(2)='1A'X×$DEVFRRS(2)='1B'X THEN/* PRINTER?           */
         CLI   $DEVFRRS+68(WAPTR),X'1A'                            0560
         BE    @RT00560                                            0560
         CLI   $DEVFRRS+68(WAPTR),X'1B'                            0560
         BNE   @RF00560                                            0560
@RT00560 DS    0H                                                  0561
*     DO;                           /* YES, ALWAYS POINT TO LINE 1   */
*       $APLINE=1;                  /* LINE IS 1                     */
         MVI   $APLINE(WAPTR),X'01'                                0562
*       R7=R7+1;                    /* ADD 1 TO MSG LENGTH           */
         AL    R7,@CF00074                                         0563
*       TRNDAT(I+1)='19'X;          /* PUT IN STOP PRINT CHARACTER   */
         LH    @14,I                                               0564
         LA    @10,TRNDAT(@14)                                     0564
         MVI   0(@10),X'19'                                        0564
*     END;                                                         0565
*   IF $DEVCLAS(2)='00'X            /* IS SCREEN A MOD 1             */
*     THEN                                                         0566
@RF00560 CLI   $DEVCLAS+68(WAPTR),X'00'                            0566
         BNE   @RF00566                                            0566
*     DO;                           /* YES                           */
*       MYDAT=T3270M1($APLINE);     /* PUT IN SBA FOR MSG            */
         LA    @14,5                                               0568
         SLR   @10,@10                                             0568
         IC    @10,$APLINE(,WAPTR)                                 0568
         LR    @09,@10                                             0568
         MR    @08,@14                                             0568
         LA    @04,T3270M1-5(@09)                                  0568
         MVC   MYDAT(5),0(@04)                                     0568
*       USDAT=T3270M1($APLINE+N);   /* PUT IN SBA FOR CURSOR         */
         LR    @09,@10                                             0569
         AL    @09,N                                               0569
         MR    @08,@14                                             0569
         LA    @14,T3270M1-5(@09)                                  0569
         MVC   USDAT(5),0(@14)                                     0569
*     END;                                                         0570
*   ELSE                                                           0571
*     DO;                           /* SCREEN IS A MOD 2             */
         B     @RC00566                                            0571
@RF00566 DS    0H                                                  0572
*       MYDAT=T3270M2($APLINE);     /* PUT IN SBA FOR MSG            */
         LA    @14,5                                               0572
         SLR   @10,@10                                             0572
         IC    @10,$APLINE(,WAPTR)                                 0572
         LR    @09,@10                                             0572
         MR    @08,@14                                             0572
         LA    @04,T3270M2-5(@09)                                  0572
         MVC   MYDAT(5),0(@04)                                     0572
*       USDAT=T3270M2($APLINE+N);   /* PUT IN SBA FOR CURSOR         */
         LR    @09,@10                                             0573
         AL    @09,N                                               0573
         MR    @08,@14                                             0573
         LA    @14,T3270M2-5(@09)                                  0573
         MVC   USDAT(5),0(@14)                                     0573
*     END;                                                         0574
*   GOTO C11C0A20;                  /* DO WRITE TO AP                */
         B     C11C0A20                                            0575
*                                                                  0576
*/********************************************************************/
*/*  THE CT DEIVCE IS A 3270 WITH A 480 CHAR SCREEN                  */
*/********************************************************************/
*                                                                  0576
*C11C1500:                                                         0576
*   IF $CTLINE=0                    /* FIRST MSG TO SCREEN           */
*     THEN                                                         0576
C11C1500 CLI   $CTLINE(WAPTR),0                                    0576
         BNE   @RF00576                                            0576
*     DO;                                                          0577
*       $CTWIDTH=12;                /* SCREEN WIDTH 3270-MOD 1       */
         MVI   $CTWIDTH(WAPTR),X'0C'                               0578
*       WID=40;                                                    0579
         LA    WID,40                                              0579
*       GOTO C11C1800;                                             0580
         B     C11C1800                                            0580
*     END;                                                         0581
*   GOTO C11C1850;                                                 0582
*                                                                  0582
         B     C11C1850                                            0582
*/********************************************************************/
*/*    THE CT DEVICE IS A 3270 WITH A 2044 CHAR SCREEN               */
*/********************************************************************/
*                                                                  0583
*C11C1750:                                                         0583
*   IF $CTLINE=0                    /* FIRST MSG TO SCREEN           */
*     THEN                                                         0583
C11C1750 CLI   $CTLINE(WAPTR),0                                    0583
         BNE   @RF00583                                            0583
*     DO;                                                          0584
*       $CTWIDTH=24;                                               0585
         MVI   $CTWIDTH(WAPTR),X'18'                               0585
*       WID=80;                     /* MOD 2                         */
         LA    WID,80                                              0586
*C11C1800:                                                         0587
*       $CTLINE=1;                  /* FIRST LINE                    */
C11C1800 MVI   $CTLINE(WAPTR),X'01'                                0587
*       $DVCTBYT(1)=ON;             /* CONTROL BYTE PRESENT IN MSG   */
         OI    $DVCTBYT(WAPTR),B'00000010'                         0588
*       CALL C11C0540;              /* RESTORE THE SCREEN            */
         BAL   @14,C11C0540                                        0589
*       N=(I+WID-1)/WID;            /* HOW MANY LINES DOES MSG TAKE  */
         LR    @08,WID                                             0590
         AH    @08,I                                               0590
         BCTR  @08,0                                               0590
         SRDA  @08,32                                              0590
         DR    @08,WID                                             0590
         ST    @09,N                                               0590
*       GOTO C11C1875;                                             0591
         B     C11C1875                                            0591
*     END;                                                         0592
*                                                                  0592
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK MODEL TYPE                                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0593
*C11C1850:                                                         0593
*   IF $DEVCLAS(1)='00'X THEN                                      0593
@RF00583 DS    0H                                                  0593
C11C1850 CLI   $DEVCLAS(WAPTR),X'00'                               0593
         BNE   @RF00593                                            0593
*     WID=40;                       /* MOD 1                         */
         LA    WID,40                                              0594
*   ELSE                                                           0595
*     WID=80;                       /* MOD 2                         */
         B     @RC00593                                            0595
@RF00593 LA    WID,80                                              0595
*   $IGRES=ON;                      /* TURN ON RESTORE SCREEN BIT    */
*                                                                  0596
@RC00593 OI    $IGRES(WAPTR),B'10000000'                           0596
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO DETERMINE NUMBER OF LINES TO BE ADDED      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0597
*   N=(I+WID-1)/WID;                /* HOW MANY LINES DOES MSG TAKE  */
         LR    @08,WID                                             0597
         AH    @08,I                                               0597
         BCTR  @08,0                                               0597
         SRDA  @08,32                                              0597
         DR    @08,WID                                             0597
         ST    @09,N                                               0597
*   CALL C11C0540;                  /* RESTORE THE SCREEN            */
         BAL   @14,C11C0540                                        0598
*   J=N;                                                           0599
         L     J,N                                                 0599
*   IF $CINADR^=0 THEN                                             0600
         L     @08,$CINADR(,WAPTR)                                 0600
         LTR   @08,@08                                             0600
         BZ    @RF00600                                            0600
*     J=J+1;                                                       0601
         AL    J,@CF00074                                          0601
*   IF $CTLINE+J>$CTWIDTH THEN                                     0602
@RF00600 SLR   @14,@14                                             0602
         IC    @14,$CTLINE(,WAPTR)                                 0602
         ALR   @14,J                                               0602
         SLR   @10,@10                                             0602
         IC    @10,$CTWIDTH(,WAPTR)                                0602
         CR    @14,@10                                             0602
         BNH   @RF00602                                            0602
*     DO;                                                          0603
*       $CTLINE=1;                  /* RESET SCREEN                  */
         MVI   $CTLINE(WAPTR),X'01'                                0604
*       CALL C11C0560;                                             0605
         BAL   @14,C11C0560                                        0605
*     END;                                                         0606
*   ELSE                                                           0607
*     $CTLINE=$CTLINE+1;                                           0607
*                                                                  0607
         B     @RC00602                                            0607
@RF00602 LA    @14,1                                               0607
         SLR   @10,@10                                             0607
         IC    @10,$CTLINE(,WAPTR)                                 0607
         ALR   @14,@10                                             0607
         STC   @14,$CTLINE(,WAPTR)                                 0607
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP POINTER TO SCREEN AND MOVE IN DATA                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0608
*C11C1875:                                                         0608
*                                                                  0608
*   /*****************************************************************/
*   /*                                                               */
*   /* MOVE DATA FROM STORAGE TO SCREEN FOR 3270 CT                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0608
*   WCM2='C7'X;                     /* SET UP WCC                    */
@RC00602 DS    0H                                                  0608
C11C1875 MVI   WCM2,X'C7'                                          0608
*   IF $DEVCLAS(1)='00'X            /* IS SCREEN A MOD 1             */
*     THEN                                                         0609
         CLI   $DEVCLAS(WAPTR),X'00'                               0609
         BNE   @RF00609                                            0609
*     DO;                                                          0610
*       USDAT=T3270M1($CTLINE+N);   /* PUT IN SBA FOR CURSOR         */
         LA    @14,5                                               0611
         SLR   @10,@10                                             0611
         IC    @10,$CTLINE(,WAPTR)                                 0611
         LR    @09,@10                                             0611
         AL    @09,N                                               0611
         MR    @08,@14                                             0611
         LA    @04,T3270M1-5(@09)                                  0611
         MVC   USDAT(5),0(@04)                                     0611
*       MYDAT=T3270M1($CTLINE);     /* PUT IN SBA FOR MSG            */
         LR    @09,@10                                             0612
         MR    @08,@14                                             0612
         LA    @14,T3270M1-5(@09)                                  0612
         MVC   MYDAT(5),0(@14)                                     0612
*     END;                                                         0613
*   ELSE                                                           0614
*     DO;                                                          0614
         B     @RC00609                                            0614
@RF00609 DS    0H                                                  0615
*       USDAT=T3270M2($CTLINE+N);   /* PUT IN SBA FOR CURSOR         */
         LA    @14,5                                               0615
         SLR   @10,@10                                             0615
         IC    @10,$CTLINE(,WAPTR)                                 0615
         LR    @09,@10                                             0615
         AL    @09,N                                               0615
         MR    @08,@14                                             0615
         LA    @04,T3270M2-5(@09)                                  0615
         MVC   USDAT(5),0(@04)                                     0615
*       MYDAT=T3270M2($CTLINE);     /* PUT IN SBA FOR MSG            */
         LR    @09,@10                                             0616
         MR    @08,@14                                             0616
         LA    @14,T3270M2-5(@09)                                  0616
         MVC   MYDAT(5),0(@14)                                     0616
*     END;                                                         0617
*   IF $CINADR^=0 THEN                                             0618
@RC00609 L     @09,$CINADR(,WAPTR)                                 0618
         LTR   @09,@09                                             0618
         BZ    @RF00618                                            0618
*     USCORE='1D4013'X;             /* PUT IN CURSOR                 */
         MVC   USCORE(3),@CB02080                                  0619
*   ELSE                                                           0620
*     DO;                                                          0620
         B     @RC00618                                            0620
@RF00618 DS    0H                                                  0621
*       USCORE='1D4013'X;           /* INSERT CURSOR         @ZA20802*/
         MVC   USCORE(3),@CB02080                                  0621
*       USDAT='1140401D60'X;        /* SET BUF ADDR TO ZERO  @ZA20802*/
         MVC   USDAT(5),@CB01855                                   0622
*       WCM2='C1'X;                                                0623
         MVI   WCM2,X'C1'                                          0623
*     END;                                                         0624
*   R7=I+15;                        /* NUMBER OF BYTES IN MSG        */
@RC00618 LA    R7,15                                               0625
         AH    R7,I                                                0625
*C11C1900:                                                         0626
*   ;                                                              0626
C11C1900 DS    0H                                                  0627
*   R6=ADDR(MSGDAT);                                               0627
         LA    R6,MSGDAT                                           0627
*   IF $CTLINE=1 THEN                                              0628
         CLI   $CTLINE(WAPTR),1                                    0628
         BNE   @RF00628                                            0628
*     MSGFUNC='5';                  /* WRITE,NCONV,ERASE             */
         MVI   MSGFUNC,C'5'                                        0629
*   ELSE                                                           0630
*     MSGFUNC='1';                  /* WRITE,NCONV.NERASE            */
         B     @RC00628                                            0630
@RF00628 MVI   MSGFUNC,C'1'                                        0630
*   IF $CINADR^=0 THEN                                             0631
@RC00628 L     @14,$CINADR(,WAPTR)                                 0631
         LTR   @14,@14                                             0631
         BZ    @RF00631                                            0631
*     DO;                                                          0632
*       $POSTFLG=ON;                                               0633
         OI    $POSTFLG(WAPTR),B'01000000'                         0633
*       INPUT=$CINADR;                                             0634
         ST    @14,INPUT                                           0634
*       INPUTCT=$CINCT;                                            0635
         L     @14,$CINCT(,WAPTR)                                  0635
         ST    @14,INPUTCT                                         0635
*     END;                                                         0636
*   CALL C11C0570;                                                 0637
@RF00631 BAL   @14,C11C0570                                        0637
*   $CTLINE=$CTLINE+N;                                             0638
         SLR   @14,@14                                             0638
         IC    @14,$CTLINE(,WAPTR)                                 0638
         AL    @14,N                                               0638
         STC   @14,$CTLINE(,WAPTR)                                 0638
*   IF $CINADR=0 THEN                                              0639
         L     @10,$CINADR(,WAPTR)                                 0639
         LTR   @10,@10                                             0639
         BNZ   @RF00639                                            0639
*     $CTLINE=$CTLINE-1;                                           0640
         BCTR  @14,0                                               0640
         STC   @14,$CTLINE(,WAPTR)                                 0640
*   GOTO C11C0930;                                                 0641
*                                                                  0641
         B     C11C0930                                            0641
*/********************************************************************/
*/*  THIS SUBROUTINE WILL RESTORE A SCREEN                           */
*/********************************************************************/
*                                                                  0642
*C11C0540:                                                         0642
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0642
C11C0540 DS    0H                                                  0643
*   SAVE1=R14;                      /* SAVE THE RETURN PTR           */
         LR    SAVE1,R14                                           0643
*   IF $PRTFORM=4×$PRTFORM=5        /* RESTORE IS NEEDED             */
*     THEN                                                         0644
         CLI   $PRTFORM(WAPTR),4                                   0644
         BE    @RT00644                                            0644
         CLI   $PRTFORM(WAPTR),5                                   0644
         BNE   @RF00644                                            0644
@RT00644 DS    0H                                                  0645
*     DO;                                                          0645
*       IF INDX=1 THEN                                             0646
         CLC   INDX(4),@CF00074                                    0646
         BNE   @RF00646                                            0646
*         CALL C11C0560;                                           0647
         BAL   @14,C11C0560                                        0647
*       R6=ADDR(MSGDAT);                                           0648
@RF00646 LA    R6,MSGDAT                                           0648
*       R7=2;                                                      0649
         LA    R7,2                                                0649
*       MSGFUNC='5';                /* WRITE,NCONV,ERASE             */
         MVI   MSGFUNC,C'5'                                        0650
*       IF $DEVFRRS(INDX)='C7'X THEN                               0651
         L     @14,INDX                                            0651
         MH    @14,@CH00374                                        0651
         ALR   @14,WAPTR                                           0651
         CLI   $DEVFRRS-68(@14),X'C7'                              0651
         BNE   @RF00651                                            0651
*         WCM2=T2265(1);                                           0652
         MVC   WCM2(1),T2265                                       0652
*       ELSE                                                       0653
*         WCM2='C7'X;                                              0653
         B     @RC00651                                            0653
@RF00651 MVI   WCM2,X'C7'                                          0653
*       $PRTFORM=0;                 /* RESTORE COMPLETE              */
@RC00651 MVI   $PRTFORM(WAPTR),X'00'                               0654
*       IF INDX=1 THEN                                             0655
         CLC   INDX(4),@CF00074                                    0655
         BNE   @RF00655                                            0655
*         $CTLINE=1;                                               0656
         MVI   $CTLINE(WAPTR),X'01'                                0656
*       ELSE                                                       0657
*         $APLINE=0;                /* RESET APLINE                  */
         B     @RC00655                                            0657
@RF00655 MVI   $APLINE(WAPTR),X'00'                                0657
*       GOTO C11C0930;                                             0658
         B     C11C0930                                            0658
*     END;                                                         0659
*   R14=SAVE1;                      /* RESTORE THE RETURN PTR        */
@RF00644 LR    R14,SAVE1                                           0660
*   END C11C0540;                                                  0661
@EL00002 DS    0H                                                  0661
@EF00002 DS    0H                                                  0661
@ER00002 BR    @14                                                 0661
*C11C0560:                                                         0662
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0662
C11C0560 DS    0H                                                  0663
*   SAVE2=R14;                      /* SAVE THE RETURN PTR           */
         ST    R14,SAVE2                                           0663
*   R6=ADDR(MSGDAT);                                               0664
         LA    R6,MSGDAT                                           0664
*   MSGFUNC='1';                    /* WRITE,NCONV,NERASE            */
         MVI   MSGFUNC,C'1'                                        0665
*   IF $DEVFRRS(1)^='C7'X THEN                                     0666
         CLI   $DEVFRRS(WAPTR),X'C7'                               0666
         BE    @RF00666                                            0666
*     DO;                                                          0667
*       R7=LENGTH(UPLEFT)+1;                                       0668
         LA    R7,6                                                0668
*       USDAT=UPLEFT;                                              0669
         MVC   USDAT(5),UPLEFT                                     0669
*       WCM2='C7'X;                                                0670
         MVI   WCM2,X'C7'                                          0670
*     END;                                                         0671
*   ELSE                                                           0672
*     DO;                                                          0672
         B     @RC00666                                            0672
@RF00666 DS    0H                                                  0673
*       R7=2;                                                      0673
         LA    R7,2                                                0673
*       WCM2=T2265(1);                                             0674
         MVC   WCM2(1),T2265                                       0674
*     END;                                                         0675
*   INPUT=0;                        /* NO PLACE TO PUT DATA          */
@RC00666 SLR   @14,@14                                             0676
         ST    @14,INPUT                                           0676
*   INPUTCT=1;                      /* BUT GET SOMETHING FROM THE  0677
*                                      SCREEN                        */
         MVC   INPUTCT(4),@CF00074                                 0677
*   CALL C11C0570;                  /* ADD TO THE QUEUE              */
         BAL   @14,C11C0570                                        0678
*   R14=SAVE2;                                                     0679
         L     R14,SAVE2                                           0679
*   END C11C0560;                                                  0680
@EL00003 DS    0H                                                  0680
@EF00003 DS    0H                                                  0680
@ER00003 BR    @14                                                 0680
*C11C0570:                                                         0681
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0681
C11C0570 DS    0H                                                  0682
*   SAVE5=R14;                      /* SAVE THE RETURN PTR   @D32JPGH*/
         ST    R14,SAVE5                                           0682
*   AREASIZE=R7+10;                 /* GETMAIN SIZE          @D32JPGH*/
         LA    @14,10                                              0683
         ALR   @14,R7                                              0683
         ST    @14,AREASIZE                                        0683
*   R2SAVE=R2;                                                     0684
         ST    R2,R2SAVE                                           0684
*   R3SAVE=R3;                                                     0685
         ST    R3,R3SAVE                                           0685
*   R4SAVE=R4;                                                     0686
*                                                                  0686
         ST    R4,R4SAVE                                           0686
*/*VGTMAIN SIZE(AREASIZE)STORAGE(GETMPTR)SUBPOOL(0)                  */
*                                                                  0687
*   DO;                             /* DECLARE AND RESTRICT REGISTERS
*                                      2,3, AND 4                    */
*     DCL                                                          0688
*       GPR02F FIXED(31) REG(02);                                  0688
*     DCL                                                          0689
*       GPR02P PTR(31) REG(02);                                    0689
*     DCL                                                          0690
*       GPR03F FIXED(31) REG(03);                                  0690
*     DCL                                                          0691
*       GPR03P PTR(31) REG(03);                                    0691
*     DCL                                                          0692
*       GPR04F FIXED(31) REG(04);                                  0692
*     DCL                                                          0693
*       GPR04P PTR(31) REG(04);                                    0693
*     RFY                                                          0694
*      (GPR02P,                                                    0694
*       GPR03P,                                                    0694
*       GPR04P) RSTD;                                              0694
*     DCL                                                          0695
*       GPR15F FIXED(31) REG(15);                                  0695
*     DCL                                                          0696
*       GPR15P PTR(31) REG(15);     /* INVOKE XREGSET MACRO TO CHECK
*                                      SIZE PARM AND PUT VALUE IN  0696
*                                      REGISTER 2                    */
*/*XREGSET  PID('SIZE')PPARM(AREASIZE)RREG(,GPR02F)OUTPUT(PARM)      */
*                                                                  0697
*     DO;                                                          0697
*       GPR02F=AREASIZE;            /* SET RREG SYMBOL TO VALUE OF 0698
*                                      PPARM OPERAND                 */
         LR    GPR02F,@14                                          0698
*     END;                          /* XREGSET INVOKE XREGSET MACRO
*                                      TO CHECK STORAGE PARM AND PUT
*                                      VALUE IN REGISTER 3           */
*/*XREGSET  PID('STORAGE')PPARM(GETMPTR)RREG(,GPR03F)                */
*                                                                  0700
*     DO;                                                          0700
*       GPR03F=ADDR(GETMPTR);       /* SET RREG SYMBOL TO ADDRESS OF
*                                      PPARM OPERAND                 */
         LA    GPR03F,GETMPTR                                      0701
*     END;                          /* XREGSET INVOKE XREGSET MACRO
*                                      TO CHECK SUBPOOL PARM AND PUT
*                                      VALUE IN REGISTER 4           */
*/*XREGSET  PID('SUBPOOL')PPARM(0)RREG(,GPR04F)OUTPUT(PARM)          */
*                                                                  0703
*     DO;                                                          0703
*       GPR04F=0;                   /* SET RREG SYMBOL TO VALUE OF 0704
*                                      PPARM OPERAND                 */
         SLR   GPR04F,GPR04F                                       0704
*     END;                          /* XREGSET INVOKE GETMAIN MACRO  */
*     GEN REFS(GPR02F,GPR03P,GPR04F) SETS(GPR03P,GPR15F);          0706
         GETMAIN EC,LV=(2),A=(3),SP=(4)
*                                   /* UNRESTRICT REGS 2,3, AND 4    */
*     RFY                                                          0707
*      (GPR02P,                                                    0707
*       GPR03P,                                                    0707
*       GPR04P) UNRSTD;                                            0707
*   END;                            /* VGTMAIN                       */
*   R2=R2SAVE;                                                     0709
         L     R2,R2SAVE                                           0709
*   R3=R3SAVE;                                                     0710
         L     R3,R3SAVE                                           0710
*   R4=R4SAVE;                                                     0711
         L     R4,R4SAVE                                           0711
*   IF R15^=0                       /* CHECK RETURN CODE     @D32JPGH*/
*     THEN                          /* BAD RETURN CODE       @D32JPGH*/
         LTR   R15,R15                                             0712
         BZ    @RF00712                                            0712
*     DO;                                                          0713
*       R15=4;                      /* SET RETURN CODE TO 4  @D32JPGH*/
         LA    R15,4                                               0714
*       GO TO C11C0920;                                            0715
         B     C11C0920                                            0715
*     END;                          /* END OF BAD RETURN CODE      0716
*                                      PROCESSING            @D32JPGH*/
*   INADR=INPUT;                                                   0717
@RF00712 L     @14,GETMPTR                                         0717
         L     @10,INPUT                                           0717
         ST    @10,INADR(,@14)                                     0717
*   OUTCT=R7;                                                      0718
         STC   R7,OUTCT(,@14)                                      0718
*   INCT=INPUTCT;                                                  0719
         L     @10,INPUTCT                                         0719
         STC   @10,INCT(,@14)                                      0719
*   MSG(1:R7)=MSGOUT(1:R7);                                        0720
         LR    @10,R7                                              0720
         BCTR  @10,0                                               0720
         EX    @10,@SM02138                                        0720
*   INPUT=0;                        /* DEFAULT TO NO INPUT           */
         SLR   @14,@14                                             0721
         ST    @14,INPUT                                           0721
*   INPUTCT=0;                                                     0722
         ST    @14,INPUTCT                                         0722
*   IF INDX=1 THEN                                                 0723
         CLC   INDX(4),@CF00074                                    0723
         BNE   @RF00723                                            0723
*     DO;                                                          0724
*       R0=$CID(1);                                                0725
         ICM   R0,15,$CID(WAPTR)                                   0725
*       IF $ASCII(1)=ON THEN                                       0726
         TM    $ASCII(WAPTR),B'00000100'                           0726
         BNO   @RF00726                                            0726
*C11C0580:                                                         0727
*         TR(MSG(1:R7),$TRASCII);   /* TRANSLATE MSG TO ASCII        */
C11C0580 L     @14,GETMPTR                                         0727
         LR    @10,R7                                              0727
         BCTR  @10,0                                               0727
         L     @04,RCAPTR(,WAPTR)                                  0727
         EX    @10,@SB02140                                        0727
*     END;                                                         0728
*   ELSE                                                           0729
*     DO;                                                          0729
         B     @RC00723                                            0729
@RF00723 DS    0H                                                  0730
*       R0=$CID(2);                                                0730
         ICM   R0,15,$CID+68(WAPTR)                                0730
*       IF $ASCII(2)=ON THEN                                       0731
         TM    $ASCII+68(WAPTR),B'00000100'                        0731
         BO    @RT00731                                            0731
*         GO TO C11C0580;                                          0732
*     END;                                                         0733
*C11C0590:                                                         0734
*   R7=$MSGOTSD(INDX);                                             0734
@RC00723 DS    0H                                                  0734
C11C0590 L     @14,INDX                                            0734
         MH    @14,@CH00374                                        0734
         L     R7,$MSGOTSD-68(@14,WAPTR)                           0734
*   IF R7=0&$DEVLU(INDX)=ON THEN                                   0735
         LTR   R7,R7                                               0735
         BNZ   @RF00735                                            0735
         ALR   @14,WAPTR                                           0735
         TM    $DEVLU-68(@14),B'00001000'                          0735
         BNO   @RF00735                                            0735
*     CALL S33C3000;                                               0736
         L     @15,@CV02116                                        0736
         BALR  @14,@15                                             0736
*   CHAIN=R7;                                                      0737
@RF00735 L     @14,GETMPTR                                         0737
         ST    R7,CHAIN(,@14)                                      0737
*   CS(R7,GETMPTR,$MSGOTSD(INDX));                                 0738
         L     @10,INDX                                            0738
         MH    @10,@CH00374                                        0738
         ALR   @10,WAPTR                                           0738
         CS    R7,@14,$MSGOTSD-68(@10)                             0738
*   BC(4,C11C0590);                                                0739
         BC    4,C11C0590                                          0739
*   IF R7=0 THEN                                                   0740
         LTR   R7,R7                                               0740
         BNZ   @RF00740                                            0740
*     DO;                                                          0741
*       R0=0;                                                      0742
         SLR   R0,R0                                               0742
*       R1=INDX;                                                   0743
         L     R1,INDX                                             0743
*       CALL C16C1000;                                             0744
         L     @15,@CV02119                                        0744
         BALR  @14,@15                                             0744
*     END;                                                         0745
*   R14=SAVE5;                      /* RESTORE THE RETURN POINTER  0746
*                                                            @D32JPGH*/
@RF00740 L     R14,SAVE5                                           0746
*   END C11C0570;                   /* END OF ROUTINE TO ADD TO QUEUE
*                                                            @D32JPGH*/
@EL00004 DS    0H                                                  0747
@EF00004 DS    0H                                                  0747
@ER00004 BR    @14                                                 0747
*/* TPEPILOG                                                         */
*                                                                  0748
*   GEN(PRINT OFF);                                                0748
         PRINT OFF
*   GEN(PRINT ON);                                                 0749
*                                                                  0749
         PRINT ON
*/* END OF TPEPILOG                                                  */
*/* ATDSPLY   INVOKED.                                               */
*/********************************************************************/
*/* THE FOLLOWING ATBUILD INCLUSIONS HAVE BEEN MADE IN THIS          */
*/* COMPILATION:                                                     */
*/*             ISTLCCW                                              */
*/*             ISTAVT                                               */
*/*             ISTPAB                                               */
*/*             ISTLOK                                               */
*/*             ISTDYPAB                                             */
*/*             ISTRPH                                               */
*/*             ISTATCVT                                             */
*/*             ISTPOHD                                              */
*/*             ISTPFX                                               */
*/*             ISTNCSPL                                             */
*/*             ISTWPL                                               */
*/*             ISTRWPL                                              */
*/********************************************************************/
*/* END OF ATDSPLY.                                                  */
*                                                                  0750
*   END ISTCC011;                                                  0750
         B     @EL00001                                            0750
@DATA    DS    0H
@CH00057 DC    H'8'
@CH00374 DC    H'68'
@SM02130 MVC   TRNDAT(0),MESSAGE(R5)
@SM02133 MVC   TEXT(0),TRNDAT
@SM02136 MVC   NEWDAT(0,@14),TRNDAT
@SM02138 MVC   MSG(0,@14),MSGOUT(R6)
@SB02140 TR    MSG(0,@14),$TRASCII(@04)
         DS    0F
@TF00001 DS    F
         DS    0F
@CF00074 DC    F'1'
@CH00074 EQU   @CF00074+2
@CF00138 DC    F'2'
@CF02050 DC    F'61'
@CV02009 DC    V(S25C2000)
@CV02011 DC    V(S27C1000)
@CV02016 DC    V(I00C1000)
@CV02116 DC    V(S33C3000)
@CV02119 DC    V(C16C1000)
@CV01969 DC    V(ISTCC016)
         DS    0D
N        DS    F
GETMPTR  DS    A
R2SAVE   DS    F
R3SAVE   DS    F
R4SAVE   DS    F
AREASIZE DS    F
SAVE2    DS    F
SAVE5    DS    F
INPUT    DC    A(0)
INPUTCT  DC    F'0'
INDX     DS    F
I        DC    H'0'
@CC02037 DC    C'SYS CON '
@CB01855 DC    X'1140401D60'
@CB02080 DC    X'1D4013'
MSGDAT   DS    CL135
         ORG   MSGDAT
MSGFUNC  DS    CL1
WCM2     DS    CL1
USDAT    DS    CL5
USCORE   DS    CL3
MYDAT    DS    CL5
TRNDAT   DS    CL120
         ORG   MSGDAT+135
         DS    CL3
WTOBLK   DS    CL152
         ORG   WTOBLK
INLNGTH  DS    BL1
INBUFF   DS    AL3
@NM00076 DC    AL4(MYECB)
OUTSIZE  DS    FL2
MCSFLAG  DC    XL2'8000'
TEXT     DS    CL132
MCSCODE  DC    X'02000040'
MYECB    DC    A(0)
         ORG   WTOBLK+152
UPLEFT   DC    X'1140401313'
T3270M1  DC    X'1140401D60'
         DC    X'1140E81D60'
         DC    X'11C1501D60'
         DC    X'11C1F81D60'
         DC    X'11C2601D60'
         DC    X'11C3C81D60'
         DC    X'11C3F01D60'
         DC    X'11C4D81D60'
         DC    X'11C5401D60'
         DC    X'11C5E81D60'
         DC    X'11C6501D60'
         DC    X'11C6F81D60'
T3270M2  DC    X'1140401D60'
         DC    X'11C1501D60'
         DC    X'11C2601D60'
         DC    X'11C3F01D60'
         DC    X'11C5401D60'
         DC    X'11C6501D60'
         DC    X'11C7601D60'
         DC    X'11C8F01D60'
         DC    X'114A401D60'
         DC    X'114B501D60'
         DC    X'114C601D60'
         DC    X'114DF01D60'
         DC    X'114F401D60'
         DC    X'1150501D60'
         DC    X'11D1601D60'
         DC    X'11D2F01D60'
         DC    X'11D4401D60'
         DC    X'11D5501D60'
         DC    X'11D6601D60'
         DC    X'11D7F01D60'
         DC    X'11D9401D60'
         DC    X'115A501D60'
         DC    X'115B601D60'
         DC    X'115CF01D60'
T2265    DC    X'01'
         DC    X'02'
         DC    X'03'
         DC    X'04'
         DC    X'05'
         DC    X'06'
         DC    X'07'
         DC    X'08'
         DC    X'09'
         DC    X'0A'
         DC    X'0B'
         DC    X'0C'
         DS    CL3
PTCHAREA DC    40F'0'
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
SAVE1    EQU   @04
MSGSW    EQU   @03
WID      EQU   @03
J        EQU   @03
WAPTR    EQU   @02
RPHPTR   EQU   @01
R0       EQU   @00
R2       EQU   @02
R3       EQU   @03
R4       EQU   @04
R7       EQU   @07
R13      EQU   @13
R14      EQU   @14
R5       EQU   @05
R6       EQU   @06
R15      EQU   @15
R1       EQU   @01
REGF0016 EQU   @15
GPR01F   EQU   @01
GPR02F   EQU   @02
GPR02P   EQU   @02
GPR03F   EQU   @03
GPR03P   EQU   @03
GPR04F   EQU   @04
GPR04P   EQU   @04
GPR15F   EQU   @15
GPR01P   EQU   @01
GPR15P   EQU   @15
R8       EQU   @08
R9       EQU   @09
ATCLCPTR EQU   1032
$RCAAREA EQU   0
$POINTER EQU   $RCAAREA+100
$TRTBLA  EQU   $POINTER+124
$CONSTNT EQU   $RCAAREA+244
$RCAFLG  EQU   $RCAAREA+604
$TRASCII EQU   $RCAAREA+608
TOLTEPWA EQU   0
$SCTTBLE EQU   TOLTEPWA
$TESTOPT EQU   $SCTTBLE+2
$ERROPT  EQU   $SCTTBLE+3
$PDEVFLG EQU   $SCTTBLE+10
$CDSFLGS EQU   $SCTTBLE+11
$CDS8T19 EQU   $SCTTBLE+20
$EXECFLG EQU   $SCTTBLE+33
$OLTFLGS EQU   $SCTTBLE+36
$OLTFLG2 EQU   $SCTTBLE+37
$TOTFLG1 EQU   $SCTTBLE+38
$CTEQTT  EQU   $TOTFLG1
$ROUTMSK EQU   $SCTTBLE+40
$CDA     EQU   TOLTEPWA+100
$RCA     EQU   $CDA+44
$OLTPTR  EQU   $CDA+52
$HIMOREC EQU   $CDA+60
$PRTFORM EQU   $CDA+116
$COMMFLG EQU   TOLTEPWA+224
$FLAG1   EQU   $COMMFLG
$CNSLFG  EQU   $FLAG1
$FLAG2   EQU   $COMMFLG+1
$FLAG3   EQU   $COMMFLG+2
$PRTONLY EQU   $FLAG3
$ALTPRTR EQU   $FLAG3
$FLAG4   EQU   $COMMFLG+3
$OPCOM   EQU   $FLAG4
$FLAG5   EQU   $COMMFLG+4
$PRINTAP EQU   $FLAG5
$EOJ     EQU   $FLAG5
$CANCEL  EQU   $EOJ
$FLAG6   EQU   $COMMFLG+5
$RECAL11 EQU   $FLAG6
$CTERROR EQU   $FLAG6
$DISCISS EQU   $FLAG6
$DISCREQ EQU   $FLAG6
$ABNDBIT EQU   $FLAG6
$FLAG7   EQU   $COMMFLG+6
$DCONTCT EQU   $FLAG7
$FLAG8   EQU   $COMMFLG+7
$TWOWAY  EQU   $FLAG8
$FLAG9   EQU   $COMMFLG+8
$IGRES   EQU   $FLAG9
$FLAG10  EQU   $COMMFLG+9
$FLAG11  EQU   $COMMFLG+10
$FLAG12  EQU   $COMMFLG+11
$POSTFLG EQU   $FLAG12
$FLAG13  EQU   $COMMFLG+12
$DEVTBLE EQU   TOLTEPWA+240
$DEVCDS  EQU   $DEVTBLE
$DEVUNAD EQU   $DEVCDS
$CTINDX  EQU   $DEVUNAD
@NM00039 EQU   $DEVUNAD+2
$DEVFEAT EQU   $DEVCDS+4
$DEVFRRS EQU   $DEVFEAT+1
$DEVCLAS EQU   $DEVFEAT+2
$DEVCDSF EQU   $DEVCDS+9
$DEVSDCF EQU   $DEVCDS+10
$$SYMNME EQU   $DEVCDS+12
$MSGOTSD EQU   $$SYMNME
$DEVFLG1 EQU   $DEVTBLE+20
$CATASTR EQU   $DEVFLG1
$EVNCPLT EQU   $DEVFLG1
$ATTNEXP EQU   $DEVFLG1
$INTOCC  EQU   $DEVFLG1
$DVCTBYT EQU   $INTOCC
$DEVFLG2 EQU   $DEVTBLE+21
$TESTMDE EQU   $DEVFLG2
$DEVTECB EQU   $DEVTBLE+22
$OPIS    EQU   $DEVTECB
$DVSEQNO EQU   $OPIS
$OPND    EQU   $DEVTECB+2
$DVBRKSN EQU   $OPND
$DVBRKST EQU   $OPND+1
$DEVFLG3 EQU   $DEVTBLE+27
$SIOFLG  EQU   $DEVFLG3
$SRTEST  EQU   $DEVFLG3
$OLTERR  EQU   $DEVFLG3
$IFTOUT  EQU   $DEVTBLE+36
$DEVSESP EQU   $IFTOUT
$VARYPAB EQU   $DEVSESP
$SSCPDAF EQU   $IFTOUT+6
$LDNCBPT EQU   $DEVTBLE+48
$CID     EQU   $DEVTBLE+52
$RNINFO  EQU   $DEVTBLE+56
$DEVFLG5 EQU   $RNINFO+8
$DEVLU   EQU   $DEVFLG5
$ASCII   EQU   $DEVFLG5
$DEVFLG4 EQU   $DEVTBLE+65
$SLTBL   EQU   TOLTEPWA+1468
$RUNTEST EQU   $SLTBL+13
$TESTFLG EQU   $SLTBL+21
$SECLST  EQU   $SLTBL+22
$TLTRPL1 EQU   TOLTEPWA+1616
#EXITA   EQU   TOLTEPWA+2632
$CCOMDAT EQU   TOLTEPWA+2644
$COUTAD  EQU   $CCOMDAT
$COUTCT  EQU   $CCOMDAT+4
$CINADR  EQU   $CCOMDAT+8
$CINCT   EQU   $CCOMDAT+12
$CFLGS   EQU   $CCOMDAT+16
$24FEMSG EQU   TOLTEPWA+2681
$24CATMG EQU   $24FEMSG+11
@NM00048 EQU   TOLTEPWA+2776
$OUNTPTR EQU   @NM00048+4
$NSPTR   EQU   $OUNTPTR
$NSCNT   EQU   @NM00048+10
$ENXX    EQU   @NM00048+15
$IMITX   EQU   $ENXX
$APLINE  EQU   TOLTEPWA+2792
$APWIDTH EQU   TOLTEPWA+2793
$CTLINE  EQU   TOLTEPWA+2794
$CTWIDTH EQU   TOLTEPWA+2795
$RQSTSZE EQU   TOLTEPWA+2812
$RPLERR  EQU   TOLTEPWA+2977
SVESC033 EQU   TOLTEPWA+3160
SVECC013 EQU   TOLTEPWA+3232
SVEIC003 EQU   TOLTEPWA+3592
SVESC022 EQU   TOLTEPWA+3736
SVECC011 EQU   TOLTEPWA+4024
ISTLCCW  EQU   0
LCCWOP   EQU   ISTLCCW
LCCWRWOP EQU   LCCWOP
LCCWCTL  EQU   LCCWRWOP
LCCWFLAG EQU   ISTLCCW+1
LCCWLSI  EQU   LCCWFLAG
ISTAVT   EQU   0
ISTAS49  EQU   ISTAVT+4
ISTPAB   EQU   0
PABWQCHN EQU   ISTPAB
PABWEQA  EQU   PABWQCHN
PABCHAIN EQU   PABWQCHN+4
PABRPHFG EQU   ISTPAB+12
PABFLAGS EQU   PABRPHFG
PABERLCK EQU   PABFLAGS
PABERRLK EQU   PABERLCK
ISTLOK   EQU   0
LOKCHN   EQU   ISTLOK+1
LOKCHNG  EQU   LOKCHN
@NM00053 EQU   LOKCHNG+2
ISTDYPAB EQU   0
DYPPAB   EQU   ISTDYPAB+16
ISTRPH   EQU   0
RPHCNTL  EQU   ISTRPH
RPHFLAGS EQU   RPHCNTL+2
RPHAPTYP EQU   RPHFLAGS
RPHFSTLC EQU   RPHFLAGS
RPHFLGB  EQU   RPHCNTL+3
RPHRPHA  EQU   ISTRPH+4
RPHTSKID EQU   ISTRPH+8
RPHRESMA EQU   ISTRPH+16
RPHWPFLG EQU   RPHRESMA
RPHWEA   EQU   ISTRPH+24
RPHCSPA  EQU   RPHWEA
RPHSRPRM EQU   ISTRPH+28
RPHPABQA EQU   ISTRPH+36
RPHWORK  EQU   ISTRPH+40
RPHSAVE1 EQU   RPHWORK
RPHSBITS EQU   RPHSAVE1+1
ISTATCVT EQU   0
ATCCOM   EQU   ISTATCVT
ATCSTAT  EQU   ATCCOM
ATCSTAT1 EQU   ATCSTAT
ATCSTFLG EQU   ATCSTAT+1
ATCPOFLG EQU   ATCSTAT+2
ATCSTAT4 EQU   ATCSTAT+3
ATCIOTRC EQU   ATCCOM+140
ATCTHTRC EQU   ATCIOTRC
ATCCSMR  EQU   ISTATCVT+296
ATCSHRFG EQU   ISTATCVT+316
ATCHPGM  EQU   ISTATCVT+384
ATCVLCNT EQU   ISTATCVT+772
ATCRNO   EQU   ISTATCVT+788
ATCSOPD  EQU   ISTATCVT+792
ATCSIPD  EQU   ISTATCVT+800
ATCSECST EQU   ISTATCVT+812
ATCSTAT2 EQU   ISTATCVT+818
ATCVTBAM EQU   ISTATCVT+908
@NM00064 EQU   ATCVTBAM+3
ATCAOSM  EQU   ISTATCVT+912
ATCGSRBQ EQU   ATCAOSM+4
ATCGSRBG EQU   ATCGSRBQ
ATCICAPP EQU   ATCAOSM+100
ATCLDAPP EQU   ATCAOSM+120
ATCDAPVT EQU   ATCAOSM+140
ATCCRA   EQU   ATCAOSM+280
ATCCRACN EQU   ATCCRA+4
ATCSRB   EQU   ATCAOSM+288
ATCSRBCN EQU   ATCSRB+4
ATCCRPL  EQU   ATCAOSM+296
ATCRPLCN EQU   ATCCRPL+4
ATCSQAFR EQU   ATCAOSM+304
ATCORTBC EQU   ATCSQAFR+4
ATCORSRB EQU   ATCORTBC
@NM00066 EQU   ATCAOSM+332
ATCVTFLG EQU   ATCAOSM+392
ATCZFLAG EQU   ATCAOSM+588
ISTPOHD  EQU   0
POHSTAT  EQU   ISTPOHD+1
ISTPFX   EQU   0
PFXID    EQU   ISTPFX
ISTNCSPL EQU   0
@NM00070 EQU   ISTNCSPL
NCSPFX   EQU   @NM00070
NCSPLVBF EQU   ISTNCSPL+18
NCSPLVFL EQU   ISTNCSPL+20
NCSPLVF1 EQU   ISTNCSPL+21
NCSPLCMD EQU   ISTNCSPL+60
NCSCMDA  EQU   NCSPLCMD
NCSCRFLG EQU   ISTNCSPL+67
NCSPLRAD EQU   ISTNCSPL+144
NCSIOCID EQU   ISTNCSPL+148
NCSPLCID EQU   NCSIOCID
NCSPLFSB EQU   ISTNCSPL+168
NCSPLFL1 EQU   ISTNCSPL+176
NCSPLFL2 EQU   ISTNCSPL+177
NCSPLFL3 EQU   ISTNCSPL+178
NCSPLFL4 EQU   ISTNCSPL+179
NCSPLFL5 EQU   ISTNCSPL+181
NCSPLRUO EQU   ISTNCSPL+208
NCSPLAPP EQU   ISTNCSPL+216
NCSSENSE EQU   ISTNCSPL+244
NCSCRMSK EQU   ISTNCSPL+268
NCSCHKPT EQU   NCSCRMSK
NCSCRMOD EQU   NCSCRMSK+2
NCSPLSID EQU   ISTNCSPL+271
NCSPLSTA EQU   NCSPLSID
NCSPLPHD EQU   NCSPLSID+1
NCSAPP   EQU   0
NCSAPBUE EQU   NCSAPP+88
NCSUSSRU EQU   0
ISTWPL   EQU   0
WPLMCSF  EQU   ISTWPL+2
WPLMCSF1 EQU   WPLMCSF
WPLMCSF2 EQU   WPLMCSF+1
ISTRWPL  EQU   0
RWPPRTR  EQU   ISTRWPL
RWPRECB  EQU   ISTRWPL+4
MSGDAT1  EQU   0
MYCHAR   EQU   MSGDAT1+1
NEWDAT   EQU   MSGDAT1+2
MSGIN    EQU   0
MESSAGE  EQU   0
CHARACT  EQU   0
BACKSAVE EQU   0
BUFSTRC  EQU   0
ELEMENT  EQU   0
CHAIN    EQU   ELEMENT
INADR    EQU   ELEMENT+4
OUTCT    EQU   ELEMENT+8
INCT     EQU   ELEMENT+9
MSG      EQU   ELEMENT+10
MSGOUT   EQU   0
$TRTBL   EQU   0
#EXIT    EQU   0
QUEPTR   EQU   0
SWTORCON EQU   0
SWTORIN  EQU   0
RCAPTR   EQU   $RCA
SVECC012 EQU   SVESC022
SVEIC00A EQU   SVEIC003
SVEIC004 EQU   SVEIC003
SVEIC005 EQU   SVEIC003
SVESC02A EQU   SVESC022
SVESC02B EQU   SVESC022
SVESC02D EQU   SVESC022
SVESC02E EQU   SVESC022
SVESC02F EQU   SVECC013
SVESC024 EQU   SVESC022
SVESC027 EQU   SVESC022
SVESC029 EQU   SVESC033
SVESC031 EQU   SVECC013
SVESC032 EQU   SVECC011
SVETC037 EQU   SVEIC003
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
COVMSG   EQU   BUFSTRC+5
COVTYPE  EQU   BUFSTRC+4
COVCHAIN EQU   BUFSTRC
@NM00075 EQU   MSGDAT1
RWPWPL   EQU   ISTRWPL+8
RWPSSECB EQU   RWPRECB
RWPRPTRA EQU   RWPPRTR+1
RWPLRLN  EQU   RWPPRTR
WPLTXT   EQU   ISTWPL+4
WPLRSV02 EQU   WPLMCSF2
WPLMCSFN EQU   WPLMCSF2
WPLRSV01 EQU   WPLMCSF2
WPLSTGFL EQU   WPLMCSF2
WPLMCSFJ EQU   WPLMCSF2
WPLMCSFI EQU   WPLMCSF2
WPLMCSFH EQU   WPLMCSF1
WPLMCSFG EQU   WPLMCSF1
WPLMCSFF EQU   WPLMCSF1
WPLMCSFE EQU   WPLMCSF1
WPLMCSFD EQU   WPLMCSF1
WPLMCSFC EQU   WPLMCSF1
WPLMCSFB EQU   WPLMCSF1
WPLMCSFA EQU   WPLMCSF1
WPLLGH   EQU   ISTWPL
NCSRUITS EQU   NCSUSSRU+2
NCSRULEN EQU   NCSUSSRU
NCSAPPAB EQU   NCSAPP+608
NCSAPDAT EQU   NCSAPBUE+8
NCSAPRU  EQU   NCSAPBUE+3
NCSRSV04 EQU   NCSAPBUE
NCSAPEND EQU   NCSAPP+84
NCSAPTXT EQU   NCSAPP+76
NCSAPECB EQU   NCSAPP+72
NCSAPSA  EQU   NCSAPP
NCSPLPDB EQU   NCSPLSID+5
NCSPLNID EQU   NCSPLPHD
NCSPLPO  EQU   NCSPLSTA
NCSRSVD4 EQU   NCSPLSTA
NCSRSVD2 EQU   NCSCRMOD
NCSPTMOD EQU   NCSCRMOD
NCSAIMOD EQU   NCSCRMOD
NCSRSVD1 EQU   NCSCHKPT+1
NCSPTUSE EQU   NCSCHKPT+1
NCSRNME  EQU   NCSCHKPT+1
NCSCUA   EQU   NCSCHKPT+1
NCSANSMD EQU   NCSCHKPT+1
NCSLGMOD EQU   NCSCHKPT
NCSLGAPL EQU   NCSCHKPT
NCSDTRLM EQU   NCSCHKPT
NCSESLM  EQU   NCSCHKPT
NCSNRPL  EQU   NCSCHKPT
NCSPOLD  EQU   NCSCHKPT
NCSPACTV EQU   NCSCHKPT
NCSACTV  EQU   NCSCHKPT
NCSCRDTE EQU   ISTNCSPL+264
NCSPLRTY EQU   ISTNCSPL+263
NCSPLRH  EQU   ISTNCSPL+260
NCSUFMCB EQU   ISTNCSPL+256
NCSMGLPT EQU   ISTNCSPL+252
NCSCPWPT EQU   ISTNCSPL+248
NCSSENS2 EQU   NCSSENSE+2
NCSSNS2  EQU   NCSSENSE+1
NCSSNS1  EQU   NCSSENSE
NCSPLNSN EQU   ISTNCSPL+240
NCSPLMID EQU   ISTNCSPL+232
NCSPLPID EQU   ISTNCSPL+231
NCSPLGID EQU   ISTNCSPL+230
NCSPLSQN EQU   ISTNCSPL+228
NCSRNAME EQU   ISTNCSPL+220
NCSPLRUI EQU   ISTNCSPL+212
NCSPLRRP EQU   ISTNCSPL+204
NCSPLWEL EQU   ISTNCSPL+200
NCSPLSPL EQU   ISTNCSPL+196
NCSPLP3  EQU   ISTNCSPL+192
NCSPLP2  EQU   ISTNCSPL+188
NCSPLP1  EQU   ISTNCSPL+184
NCSPLOLN EQU   ISTNCSPL+182
@NM00074 EQU   NCSPLFL5
NCSFORCE EQU   NCSPLFL5
NCSSDLK  EQU   NCSPLFL5
NCSSCPPS EQU   NCSPLFL5
NCSDLRSN EQU   ISTNCSPL+180
NCSPL2AP EQU   NCSPLFL4
NCSDSPN  EQU   NCSPLFL4
NCSDSPI  EQU   NCSPLFL4
NCSDSPA  EQU   NCSPLFL4
NCSDSPE  EQU   NCSPLFL4
NCSPLVID EQU   NCSPLFL4
NCSPLRSO EQU   NCSPLFL4
NCSDLNID EQU   NCSPLFL4
NCSEND   EQU   NCSPLFL3
NCSFINAL EQU   NCSPLFL3
NCSANS   EQU   NCSPLFL3
NCSPID   EQU   NCSPLFL3
NCSGID   EQU   NCSPLFL3
NCSPLANS EQU   NCSPLFL3
NCSEPP   EQU   NCSPLFL3
NCSPLMOM EQU   NCSPLFL3
NCSPLVIT EQU   NCSPLFL2
NCSPLVIS EQU   NCSPLFL2
NCSREMPO EQU   NCSPLFL2
NCSPLDS  EQU   NCSPLFL2
NCSOUFMC EQU   NCSPLFL2
NCSPLRIO EQU   NCSPLFL2
NCSPLRSF EQU   NCSPLFL2
NCSPLVDP EQU   NCSPLFL2
NCSPLPOS EQU   NCSPLFL1
NCSPL2CN EQU   NCSPLFL1
NCSPLAPU EQU   NCSPLFL1
NCSPLNON EQU   NCSPLFL1
NCSPLREQ EQU   NCSPLFL1
NCSPLEBN EQU   NCSPLFL1
NCSPLSOM EQU   NCSPLFL1
NCSPL2IN EQU   NCSPLFL1
NCSPLRCR EQU   ISTNCSPL+172
NCSPLECB EQU   ISTNCSPL+164
NCSPLRPH EQU   ISTNCSPL+160
NCSPLCVT EQU   ISTNCSPL+156
NCSPLWKA EQU   ISTNCSPL+152
NCSPLDAF EQU   NCSPLCID+2
NCSPLSAF EQU   NCSPLCID
NCSPLRCD EQU   NCSPLRAD+1
NCSLSCMD EQU   NCSPLRAD
NCSPLWRF EQU   ISTNCSPL+72
NCSPLWRE EQU   ISTNCSPL+68
NCSSTCMD EQU   NCSCRFLG
NCSUSRNF EQU   NCSCRFLG
NCSOPRQU EQU   NCSCRFLG
NCSCRDSE EQU   NCSCRFLG
NCSFMERP EQU   NCSCRFLG
NCSFMCLD EQU   NCSCRFLG
NCSPLCLD EQU   NCSCRFLG
NCSPLWRM EQU   NCSCRFLG
NCSPLUAD EQU   ISTNCSPL+64
NCSMSGSP EQU   ISTNCSPL+63
NCSNCPEP EQU   ISTNCSPL+62
NCSCMDB  EQU   NCSPLCMD+1
@NM00073 EQU   NCSCMDA
NCSPLUFM EQU   NCSCMDA
NCSPLFLO EQU   NCSCMDA
NCSPLSYN EQU   NCSCMDA
NCSPLCTL EQU   NCSCMDA
NCSPLSYS EQU   NCSCMDA
NCSPLLPT EQU   ISTNCSPL+56
NCSPLRPT EQU   ISTNCSPL+52
NCSCRPID EQU   ISTNCSPL+51
NCSCRCMD EQU   ISTNCSPL+50
NCSDLID  EQU   ISTNCSPL+44
NCSPLLID EQU   ISTNCSPL+36
NCSPLRID EQU   ISTNCSPL+28
NCSRRNPT EQU   ISTNCSPL+24
NCSIORC  EQU   ISTNCSPL+23
NCSPRMRC EQU   ISTNCSPL+22
NCSOVFMC EQU   NCSPLVF1
NCSRSV02 EQU   NCSPLVFL
NCSDACLK EQU   NCSPLVFL
NCSABCON EQU   NCSPLVFL
NCSDCONT EQU   NCSPLVFL
NCSVSTAT EQU   NCSPLVFL
NCSVDEL  EQU   NCSPLVFL
NCSVNCSA EQU   NCSPLVFL
NCSVBF16 EQU   NCSPLVBF+1
NCSVBF15 EQU   NCSPLVBF+1
NCSVBF14 EQU   NCSPLVBF+1
NCSVBF13 EQU   NCSPLVBF+1
NCSVBF12 EQU   NCSPLVBF+1
NCSVBF11 EQU   NCSPLVBF+1
NCSVBF10 EQU   NCSPLVBF+1
NCSVBF09 EQU   NCSPLVBF+1
NCSVBF08 EQU   NCSPLVBF
NCSVBF07 EQU   NCSPLVBF
NCSVBF06 EQU   NCSPLVBF
NCSVBF05 EQU   NCSPLVBF
NCSVBF04 EQU   NCSPLVBF
NCSVBF03 EQU   NCSPLVBF
NCSVBF02 EQU   NCSPLVBF
NCSVBF01 EQU   NCSPLVBF
NCSPLVCD EQU   ISTNCSPL+17
@NM00072 EQU   ISTNCSPL+16
NCSCRWKA EQU   NCSPFX+12
@NM00071 EQU   NCSPFX
PFXBCK   EQU   ISTPFX+12
PFXFWD   EQU   ISTPFX+8
PFXLNG   EQU   ISTPFX+5
PFXPRTY  EQU   ISTPFX+4
PFXCBID  EQU   PFXID
POHID    EQU   ISTPOHD+2
POHGEN   EQU   POHSTAT
POHRREQ  EQU   POHSTAT
POHRSVD2 EQU   POHSTAT
POHCNTRL EQU   POHSTAT
POHLBL   EQU   POHSTAT
POHDATA  EQU   POHSTAT
POHEND   EQU   POHSTAT
POHRSVD1 EQU   ISTPOHD
ATCAOS   EQU   ISTATCVT+1584
ATCPOPAB EQU   ATCAOSM+640
ATCVIOPM EQU   ATCAOSM+636
ATCTPMMI EQU   ATCAOSM+632
ATCTPMPB EQU   ATCAOSM+600
ATCRSV88 EQU   ATCAOSM+596
ATCRPLCT EQU   ATCAOSM+594
ATCCRACT EQU   ATCAOSM+592
ATCSRBCT EQU   ATCAOSM+590
ATCRSV75 EQU   ATCAOSM+589
ATCRSV66 EQU   ATCZFLAG
ATCZF001 EQU   ATCZFLAG
ATCTPCP1 EQU   ATCAOSM+584
ATCTPCP0 EQU   ATCAOSM+580
ATCAICTN EQU   ATCAOSM+576
ATCZR01  EQU   ATCAOSM+572
ATCMPLTA EQU   ATCAOSM+568
ATCASCB  EQU   ATCAOSM+564
ATCAP86  EQU   ATCAOSM+560
ATCAP85  EQU   ATCAOSM+556
ATCAP84  EQU   ATCAOSM+552
ATCAP83  EQU   ATCAOSM+548
ATCAP82  EQU   ATCAOSM+544
ATCAP69  EQU   ATCAOSM+540
ATCAP66  EQU   ATCAOSM+536
ATCAP62  EQU   ATCAOSM+532
ATCAPC59 EQU   ATCAOSM+528
ATCAP56  EQU   ATCAOSM+524
ATCAP55  EQU   ATCAOSM+520
ATCRCFY0 EQU   ATCAOSM+516
ATCAP41  EQU   ATCAOSM+512
ATCAPC25 EQU   ATCAOSM+508
ATCAP23  EQU   ATCAOSM+504
ATCTPSPB EQU   ATCAOSM+472
ATCTRMPB EQU   ATCAOSM+440
ATCAPBE  EQU   ATCAOSM+436
ATCPSTA  EQU   ATCAOSM+432
ATCSMABF EQU   ATCAOSM+428
ATCSMAPR EQU   ATCAOSM+424
ATCTPWQA EQU   ATCAOSM+420
ATCSMAID EQU   ATCAOSM+416
ATCSMARA EQU   ATCAOSM+412
ATCCACXA EQU   ATCAOSM+408
ATCZLAAB EQU   ATCAOSM+404
ATCATA10 EQU   ATCAOSM+400
ATCHLTCB EQU   ATCAOSM+396
@NM00069 EQU   ATCVTFLG
ATCVTACT EQU   ATCVTFLG
ATCRPT40 EQU   ATCAOSM+388
ATCRPT39 EQU   ATCAOSM+384
ATCRPT38 EQU   ATCAOSM+380
ATCRPT37 EQU   ATCAOSM+376
ATCRPT36 EQU   ATCAOSM+372
ATCRPT35 EQU   ATCAOSM+368
ATCRPT34 EQU   ATCAOSM+364
ATCRPT33 EQU   ATCAOSM+360
ATCRPT32 EQU   ATCAOSM+356
ATCRPT31 EQU   ATCAOSM+352
ATCRPT30 EQU   ATCAOSM+348
ATCRPT29 EQU   ATCAOSM+344
ATCRPT28 EQU   ATCAOSM+340
ATCRPT27 EQU   ATCAOSM+336
@NM00068 EQU   ATCAOSM+333
@NM00067 EQU   @NM00066
ATCSNUF  EQU   @NM00066
ATCOPKL  EQU   @NM00066
ATCABEN  EQU   @NM00066
ATCAIWT  EQU   ATCAOSM+328
ATCINFDD EQU   ATCAOSM+324
ATCORFMG EQU   ATCAOSM+320
ATCORFRL EQU   ATCAOSM+316
ATCOROBT EQU   ATCAOSM+312
ATCORQG  EQU   ATCORSRB
ATCORTBF EQU   ATCSQAFR
ATCRPLAC EQU   ATCRPLCN+2
ATCRPLRC EQU   ATCRPLCN
ATCCRPLQ EQU   ATCCRPL
ATCSRBAC EQU   ATCSRBCN+2
ATCSRBRC EQU   ATCSRBCN
ATCSRBQ  EQU   ATCSRB
ATCCRAAC EQU   ATCCRACN+2
ATCCRARC EQU   ATCCRACN
ATCCRAQ  EQU   ATCCRA
ATCRPT12 EQU   ATCAOSM+276
ATCDMAPP EQU   ATCAOSM+272
ATCAP38  EQU   ATCAOSM+268
ATCAP37  EQU   ATCAOSM+264
ATCZDFJ0 EQU   ATCAOSM+260
ATCAP51  EQU   ATCAOSM+256
ATCZPAB2 EQU   ATCAOSM+224
ATCZPAB1 EQU   ATCAOSM+192
ATCZLFVT EQU   ATCAOSM+188
ATCZLPVT EQU   ATCAOSM+184
ATCZDVTX EQU   ATCAOSM+180
ATCZDVTA EQU   ATCAOSM+176
ATCZDVT9 EQU   ATCAOSM+172
ATCZDVT8 EQU   ATCAOSM+168
ATCZDVT7 EQU   ATCAOSM+164
ATCRSV56 EQU   ATCDAPVT+22
ATCDAPDG EQU   ATCDAPVT+20
ATCDXCEA EQU   ATCDAPVT+16
ATCDCEA  EQU   ATCDAPVT+12
ATCDPCIA EQU   ATCDAPVT+8
ATCDSIOA EQU   ATCDAPVT+4
ATCDEOEA EQU   ATCDAPVT
ATCZLAEA EQU   ATCLDAPP+16
ATCZLCEA EQU   ATCLDAPP+12
ATCRSV17 EQU   ATCLDAPP+8
ATCSMFRR EQU   ATCLDAPP+4
ATCCDTID EQU   ATCLDAPP
ATCZAEA  EQU   ATCICAPP+16
ATCZCEA  EQU   ATCICAPP+12
ATCCDTCB EQU   ATCICAPP+8
ATCZSIOA EQU   ATCICAPP+4
ATCCDRPH EQU   ATCICAPP
ATCAP65  EQU   ATCAOSM+96
ATCZDVT6 EQU   ATCAOSM+92
ATCZDVT4 EQU   ATCAOSM+88
ATCZDVT3 EQU   ATCAOSM+84
ATCZDVT1 EQU   ATCAOSM+80
ATCICNCB EQU   ATCAOSM+76
ATCZPSVT EQU   ATCAOSM+72
ATCZFSVT EQU   ATCAOSM+68
ATCAP64  EQU   ATCAOSM+64
ATCAP63  EQU   ATCAOSM+60
ATCAP61  EQU   ATCAOSM+56
ATCAP58  EQU   ATCAOSM+52
ATCAP57  EQU   ATCAOSM+48
ATCAP54  EQU   ATCAOSM+44
ATCAP53  EQU   ATCAOSM+40
ATCAP52  EQU   ATCAOSM+36
ATCAP34  EQU   ATCAOSM+32
ATCAP32  EQU   ATCAOSM+28
ATCAP31  EQU   ATCAOSM+24
ATCAP12  EQU   ATCAOSM+20
ATCAP11  EQU   ATCAOSM+16
ATCCMTCB EQU   ATCAOSM+12
ATCPRPH  EQU   ATCAOSM+8
ATCGSRBF EQU   ATCGSRBG
ATCSRBRT EQU   ATCAOSM
@NM00065 EQU   @NM00064
ATCVTMAB EQU   @NM00064
@NM00063 EQU   ATCVTBAM
ATCVDLOK EQU   ISTATCVT+904
ATCVFPAB EQU   ISTATCVT+872
ATCVDPAB EQU   ISTATCVT+840
ATCIOECB EQU   ISTATCVT+836
ATCINCW3 EQU   ISTATCVT+832
ATCMODTB EQU   ISTATCVT+828
ATCUSSPT EQU   ISTATCVT+824
ATCSRTAB EQU   ISTATCVT+820
@NM00062 EQU   ISTATCVT+819
@NM00061 EQU   ATCSTAT2
ATCTRSMS EQU   ATCSTAT2
ATCTRLOK EQU   ATCSTAT2
ATCTRPSS EQU   ATCSTAT2
ATCTRESC EQU   ATCSTAT2
ATCTRAPI EQU   ATCSTAT2
ATCNMCTR EQU   ISTATCVT+816
ATCSEC51 EQU   ATCSECST
ATCSEC40 EQU   ATCSIPD+8
ATCSEC30 EQU   ATCSIPD+4
ATCSEC21 EQU   ATCSIPD
ATCSEC10 EQU   ATCSOPD+4
ATCSEC01 EQU   ATCSOPD
ATCPOIA  EQU   ATCRNO+1
@NM00060 EQU   ATCRNO
ATCPODVT EQU   ISTATCVT+784
ATCS49XL EQU   ISTATCVT+780
ATCS49XI EQU   ISTATCVT+776
ATCLCLCT EQU   ATCVLCNT+2
ATCRNCNT EQU   ATCVLCNT
ATCCFEAD EQU   ISTATCVT+768
ATCPTR00 EQU   ISTATCVT+736
ATCRSV10 EQU   ISTATCVT+704
ATCTACB  EQU   ISTATCVT+700
ATCVTINM EQU   ISTATCVT+696
ATCTCLIM EQU   ISTATCVT+692
ATCTCLOM EQU   ISTATCVT+688
ATCVTIPB EQU   ISTATCVT+656
ATCTCIPB EQU   ISTATCVT+624
ATCTIPAB EQU   ISTATCVT+592
ATCOCCCB EQU   ISTATCVT+588
ATCOCCOB EQU   ISTATCVT+584
ATCCDLAD EQU   ISTATCVT+580
ATCCCLAD EQU   ISTATCVT+576
ATCDLRPB EQU   ISTATCVT+544
ATCPGPAB EQU   ISTATCVT+512
ATCVPAB1 EQU   ISTATCVT+480
ATCRSV97 EQU   ISTATCVT+476
ATCRDTLK EQU   ISTATCVT+472
ATCVOCLK EQU   ISTATCVT+468
ATCCDFDN EQU   ISTATCVT+464
ATCCDFIN EQU   ISTATCVT+460
ATCDVTLK EQU   ISTATCVT+456
ATCAP36  EQU   ISTATCVT+452
ATCAP35  EQU   ISTATCVT+448
ATCAP33  EQU   ISTATCVT+444
ATCRSV99 EQU   ISTATCVT+440
ATCONFIG EQU   ISTATCVT+432
ATCNODDS EQU   ISTATCVT+428
ATCNODEL EQU   ISTATCVT+420
ATCRSV69 EQU   ISTATCVT+416
ATCAPCR5 EQU   ISTATCVT+412
ATCLDECB EQU   ISTATCVT+408
ATCLDNCS EQU   ISTATCVT+404
ATCCDPTR EQU   ISTATCVT+400
ATCADEL  EQU   ISTATCVT+396
ATCTODVT EQU   ISTATCVT+392
ATCDEBCH EQU   ISTATCVT+388
ATCHBSIZ EQU   ATCHPGM+2
ATCHBFNO EQU   ATCHPGM
ATCCRME  EQU   ISTATCVT+380
ATCRVCHS EQU   ISTATCVT+372
ATCECTLP EQU   ISTATCVT+368
ATCZDVTB EQU   ISTATCVT+364
ATCECPRT EQU   ISTATCVT+360
ATCVTLOD EQU   ISTATCVT+356
ATCTRPAB EQU   ISTATCVT+352
ATCMSGM  EQU   ISTATCVT+348
ATCMSGP  EQU   ISTATCVT+344
ATCEPT   EQU   ISTATCVT+340
ATCDVT   EQU   ISTATCVT+336
ATCTRCPT EQU   ISTATCVT+332
ATCDVLOD EQU   ISTATCVT+328
ATCALERT EQU   ISTATCVT+324
ATCEPA   EQU   ISTATCVT+320
ATCSAF   EQU   ISTATCVT+318
ATCXRANG EQU   ISTATCVT+317
ATCLAST  EQU   ATCSHRFG
ATCSHRTN EQU   ISTATCVT+308
ATCUEP   EQU   ISTATCVT+304
ATCOCRT  EQU   ISTATCVT+300
ATCCSMA  EQU   ATCCSMR
ATCESC02 EQU   ISTATCVT+292
ATCESC01 EQU   ISTATCVT+288
ATCCDFND EQU   ISTATCVT+284
ATCCDDEL EQU   ISTATCVT+280
ATCCDADD EQU   ISTATCVT+276
ATCMNT   EQU   ISTATCVT+272
ATCRSV16 EQU   ISTATCVT+270
ATCMAXID EQU   ISTATCVT+269
ATCMSGSP EQU   ATCCOM+268
ATCCIDM  EQU   ATCCOM+266
ATCACTRM EQU   ATCCOM+264
ATCNERAP EQU   ATCCOM+260
ATCNESAL EQU   ATCCOM+256
ATCRCC65 EQU   ATCCOM+252
ATCRCC26 EQU   ATCCOM+248
ATCRCC63 EQU   ATCCOM+244
ATCRSV11 EQU   ATCCOM+242
ATCVTMID EQU   ATCCOM+240
ATCAPOST EQU   ATCCOM+236
ATCNERFN EQU   ATCCOM+232
ATCNERNE EQU   ATCCOM+228
ATCNERCV EQU   ATCCOM+224
ATCNERST EQU   ATCCOM+220
ATCDCC61 EQU   ATCCOM+216
ATCDCC60 EQU   ATCCOM+212
ATCSRTDF EQU   ATCCOM+208
ATCSRTAD EQU   ATCCOM+204
ATCFIRA  EQU   ATCCOM+200
ATCSMBQ  EQU   ATCCOM+196
ATCSMRC  EQU   ATCCOM+192
ATCSMRS  EQU   ATCCOM+188
ATCSMQU  EQU   ATCCOM+184
ATCSMRQ  EQU   ATCCOM+180
ATCACDA  EQU   ATCCOM+176
ATCSTMA  EQU   ATCCOM+172
ATCFRSTR EQU   ATCCOM+168
ATCGTSTR EQU   ATCCOM+164
ATCREADA EQU   ATCCOM+160
ATCALOAD EQU   ATCCOM+156
ATCBLDLA EQU   ATCCOM+152
ATCFBRPH EQU   ATCCOM+148
ATCBFTRC EQU   ATCCOM+144
ATCTPBUF EQU   ATCTHTRC
ATCREMOV EQU   ATCCOM+136
ATCADD   EQU   ATCCOM+132
ATCBPDA  EQU   ATCCOM+128
ATCDVTPT EQU   ATCCOM+124
ATCFEPT  EQU   ATCCOM+120
ATCFDVT  EQU   ATCCOM+116
ATCCONFT EQU   ATCCOM+112
ATCPTCHA EQU   ATCCOM+108
ATCAUTHA EQU   ATCCOM+104
ATCACCTA EQU   ATCCOM+100
ATCRDTH  EQU   ATCCOM+96
ATCFRSCH EQU   ATCCOM+92
ATCFSB   EQU   ATCCOM+88
ATCHLTMS EQU   ATCCOM+84
ATCECPRM EQU   ATCCOM+80
ATCECNET EQU   ATCCOM+76
ATCECOPC EQU   ATCCOM+72
ATCVPARM EQU   ATCCOM+68
ATCECVRQ EQU   ATCCOM+64
ATCECSES EQU   ATCCOM+60
ATCOCHA  EQU   ATCCOM+56
ATCDSPLQ EQU   ATCCOM+52
ATCECDSP EQU   ATCCOM+48
ATCVARYQ EQU   ATCCOM+44
ATCECVRY EQU   ATCCOM+40
ATCHALTQ EQU   ATCCOM+36
ATCECHLT EQU   ATCCOM+32
ATCMODQ  EQU   ATCCOM+28
ATCECMOD EQU   ATCCOM+24
ATCASCHD EQU   ATCCOM+20
ATCSRT   EQU   ATCCOM+16
ATCRDT   EQU   ATCCOM+12
ATCDCFRR EQU   ATCCOM+8
ATCAPI   EQU   ATCCOM+4
ATCRSV04 EQU   ATCSTAT4
ATCVTTRC EQU   ATCSTAT4
ATCNCSD  EQU   ATCSTAT4
ATCMTST  EQU   ATCSTAT4
ATCTPRT  EQU   ATCSTAT4
ATCPRTAT EQU   ATCSTAT4
@NM00059 EQU   ATCPOFLG
ATCPOUNS EQU   ATCPOFLG
ATCHSDMF EQU   ATCSTFLG
@NM00058 EQU   ATCSTAT1
ATCMDHLT EQU   ATCSTAT1
ATCINHLT EQU   ATCSTAT1
ATCNETSL EQU   ATCSTAT1
ATCQKHLT EQU   ATCSTAT1
ATCSNHLT EQU   ATCSTAT1
ATCACTIV EQU   ATCSTAT1
ATCSTART EQU   ATCSTAT1
RPHNEXPO EQU   ISTRPH+104
RPHSAV16 EQU   RPHWORK+60
RPHSAV15 EQU   RPHWORK+56
RPHSAV14 EQU   RPHWORK+52
RPHSAV13 EQU   RPHWORK+48
RPHSAV12 EQU   RPHWORK+44
RPHSAV11 EQU   RPHWORK+40
RPHSAV10 EQU   RPHWORK+36
RPHSAVE9 EQU   RPHWORK+32
RPHSAVE8 EQU   RPHWORK+28
RPHSAVE7 EQU   RPHWORK+24
RPHSAVE6 EQU   RPHWORK+20
RPHSAVE5 EQU   RPHWORK+16
RPHSAVE4 EQU   RPHWORK+12
RPHSAVE3 EQU   RPHWORK+8
RPHSAVE2 EQU   RPHWORK+4
RPHSHALF EQU   RPHSAVE1+2
RPHSBIT8 EQU   RPHSBITS
RPHSBIT7 EQU   RPHSBITS
RPHSBIT6 EQU   RPHSBITS
RPHSBIT5 EQU   RPHSBITS
RPHSBIT4 EQU   RPHSBITS
RPHSBIT3 EQU   RPHSBITS
RPHSBIT2 EQU   RPHSBITS
RPHSBIT1 EQU   RPHSBITS
RPHSBYTE EQU   RPHSAVE1
RPHPABQP EQU   RPHPABQA+1
RPHPABFG EQU   RPHPABQA
RPHCRR   EQU   ISTRPH+32
RPHSRP34 EQU   RPHSRPRM+2
RPHSRP12 EQU   RPHSRPRM
RPHWEGT  EQU   RPHCSPA
RPHMAJCB EQU   ISTRPH+21
RPHPABOF EQU   ISTRPH+20
RPHRESUM EQU   RPHRESMA+1
RPHRSV01 EQU   RPHWPFLG
RPHPURGE EQU   RPHWPFLG
RPHPT    EQU   RPHWPFLG
RPHWT    EQU   RPHWPFLG
RPHRSKEY EQU   RPHWPFLG
RPHDVTA  EQU   ISTRPH+12
RPHTIK   EQU   RPHTSKID+3
@NM00057 EQU   RPHTSKID
RPHRPHAP EQU   RPHRPHA+1
@NM00056 EQU   RPHRPHA
RPHGATE  EQU   RPHRPHA
@NM00055 EQU   RPHFLGB
RPHRLCRA EQU   RPHFLGB
RPHNRSAV EQU   RPHFLGB
RPHPGCMP EQU   RPHFLGB
RPHFBAPS EQU   RPHFLGB
RPHBSSP  EQU   RPHFLGB
RPHLOCK  EQU   RPHFLGB
RPHFNFLG EQU   RPHFSTLC
RPHMLTCP EQU   RPHFLAGS
RPHSMCLR EQU   RPHFLAGS
RPHSMTYP EQU   RPHFLAGS
RPHSMQ   EQU   RPHFLAGS
RPHAUTEX EQU   RPHAPTYP
RPHSPGIN EQU   RPHFLAGS
RPHOGIND EQU   RPHFLAGS
RPHLNGTH EQU   RPHCNTL+1
RPHTYPE  EQU   RPHCNTL
DYPRSV01 EQU   ISTDYPAB+12
DYPTSKID EQU   ISTDYPAB+8
DYPCHAIN EQU   ISTDYPAB+4
DYPFLGS  EQU   ISTDYPAB+2
DYPLNGTH EQU   ISTDYPAB+1
DYPTYPE  EQU   ISTDYPAB
LOKXCL   EQU   @NM00053
LOKPRY   EQU   @NM00053
@NM00054 EQU   @NM00053
@NM00052 EQU   LOKCHNG
LOKCT    EQU   ISTLOK
PABRPHA  EQU   PABRPHFG+1
PABNODQ  EQU   PABFLAGS
PABINHBT EQU   PABFLAGS
PABERLOK EQU   PABERRLK
PABSSN   EQU   PABFLAGS
PABDYNAM EQU   PABFLAGS
PABNORPR EQU   PABFLAGS
PABPRIOR EQU   PABFLAGS
PABAPYP  EQU   PABFLAGS
PABDVTA  EQU   ISTPAB+9
PABOFFST EQU   ISTPAB+8
PABCHNGP EQU   PABCHAIN+1
PABRSV02 EQU   PABCHAIN
PABDELAY EQU   PABCHAIN
PABRUNNG EQU   PABCHAIN
PABRESET EQU   PABCHAIN
PABUNCON EQU   PABCHAIN
PABCDP   EQU   PABCHAIN
PABRESCH EQU   PABCHAIN
PABCHNG  EQU   PABCHAIN
PABWEQP  EQU   PABWEQA+1
PABRSV01 EQU   PABWEQA
PABWEQG  EQU   PABWEQA
ISTPDAVP EQU   ISTAVT+40
ISTAVR01 EQU   ISTAVT+38
ISTVTTP  EQU   ISTAVT+36
ISTAGTWT EQU   ISTAVT+34
ISTATRT  EQU   ISTAVT+32
ISTARID  EQU   ISTAVT+30
ISTX1    EQU   ISTAVT+29
ISTPHNM  EQU   ISTAVT+24
ISTAPSEX EQU   ISTAVT+20
ISTVTTIK EQU   ISTAVT+18
AVTASID  EQU   ISTAVT+16
ISTAPSTA EQU   ISTAVT+12
ISTAS53  EQU   ISTAVT+8
ISTAHIP  EQU   ISTAS49
ISTACVT  EQU   ISTAVT
LCCWDATA EQU   ISTLCCW+4
LCCWCNT  EQU   ISTLCCW+2
LCCWACI  EQU   LCCWFLAG
LCCWRFI  EQU   LCCWFLAG
LCCWPER  EQU   LCCWLSI
LCCWIDAT EQU   LCCWFLAG
LCCWNTVC EQU   LCCWFLAG
LCCWCKPT EQU   LCCWFLAG
LCCWCC   EQU   LCCWFLAG
LCCWCD   EQU   LCCWFLAG
LCCWTYPE EQU   LCCWCTL
LCCWMODE EQU   LCCWCTL
LCCWSOP  EQU   LCCWRWOP
@NM00051 EQU   LCCWRWOP
LCCWSD   EQU   LCCWOP
LCCWSI   EQU   LCCWOP
SVECC010 EQU   TOLTEPWA+3952
SVETC035 EQU   TOLTEPWA+3880
SVESC030 EQU   TOLTEPWA+3808
SVESC020 EQU   TOLTEPWA+3664
SVEIC002 EQU   TOLTEPWA+3520
SVECC014 EQU   TOLTEPWA+3376
SVESC120 EQU   TOLTEPWA+3304
SVESC025 EQU   TOLTEPWA+3088
@NM00050 EQU   TOLTEPWA+2980
@NM00049 EQU   TOLTEPWA+2976
$R13PR3  EQU   TOLTEPWA+2972
$CEINT2  EQU   TOLTEPWA+2968
$CEINT1  EQU   TOLTEPWA+2964
$MSGGET  EQU   TOLTEPWA+2960
$ACQLIST EQU   TOLTEPWA+2956
$R4SAVE1 EQU   TOLTEPWA+2952
$CLSISS  EQU   TOLTEPWA+2950
$CLSCNT  EQU   TOLTEPWA+2948
$CUTABLE EQU   TOLTEPWA+2868
$BUFSZ2  EQU   TOLTEPWA+2864
$RESID2  EQU   TOLTEPWA+2860
$OLTCCW2 EQU   TOLTEPWA+2856
$ENDBFR2 EQU   TOLTEPWA+2852
$1STBFR2 EQU   TOLTEPWA+2848
$TECB2   EQU   TOLTEPWA+2844
$BUFSZ1  EQU   TOLTEPWA+2840
$RESID1  EQU   TOLTEPWA+2836
$OLTCCW1 EQU   TOLTEPWA+2832
$ENDBFR1 EQU   TOLTEPWA+2828
$1STBFR1 EQU   TOLTEPWA+2824
$TECB1   EQU   TOLTEPWA+2820
$WAITIME EQU   TOLTEPWA+2816
$TRTN#   EQU   TOLTEPWA+2815
$WIODEV  EQU   TOLTEPWA+2814
$RQSTPTR EQU   TOLTEPWA+2808
$R4SAVE  EQU   TOLTEPWA+2804
$PARTADR EQU   TOLTEPWA+2800
$TBSDATA EQU   TOLTEPWA+2796
$INDEX   EQU   $IMITX
$UMXX    EQU   @NM00048+14
$NSXX    EQU   @NM00048+12
$ATACNT  EQU   $NSCNT
$CTR     EQU   @NM00048+8
$ATAPTR  EQU   $NSPTR
$DDRPTR  EQU   @NM00048
$DTORESP EQU   TOLTEPWA+2712
$APNAME  EQU   TOLTEPWA+2704
$24SYMNE EQU   $24CATMG+4
$24DEVAD EQU   $24CATMG
$24RTN#  EQU   $24FEMSG+8
$ESECTID EQU   $24FEMSG
$24FLGS  EQU   TOLTEPWA+2680
$24SAVE2 EQU   TOLTEPWA+2676
$24SAVE1 EQU   TOLTEPWA+2672
$24UNADR EQU   TOLTEPWA+2668
$24SAV13 EQU   TOLTEPWA+2664
$24RETCD EQU   TOLTEPWA+2663
$MACID   EQU   TOLTEPWA+2661
$CSPARE  EQU   $CFLGS
$C2WAY   EQU   $CFLGS
ROOTLOC  EQU   TOLTEPWA+2640
$RETREG  EQU   TOLTEPWA+2636
$WORK    EQU   TOLTEPWA+2376
$EXTA    EQU   TOLTEPWA+2320
$PASSONA EQU   TOLTEPWA+2264
$TRMINPT EQU   TOLTEPWA+2184
$INBUFR  EQU   TOLTEPWA+2104
$BUFFER  EQU   TOLTEPWA+1976
$TLTRPL3 EQU   TOLTEPWA+1856
$TLTRPL2 EQU   TOLTEPWA+1736
@NM00047 EQU   $SLTBL+135
$HIGHRTN EQU   $SLTBL+134
$PRIMADR EQU   $SLTBL+130
$CTSTPT  EQU   $SLTBL+128
$TSTCNT  EQU   $SLTBL+126
$SECFLGS EQU   $SECLST+3
$SECTION EQU   $SECLST
$SECACT  EQU   $TESTFLG
$CANTRUN EQU   $TESTFLG
$FINAL   EQU   $TESTFLG
$TESTSUF EQU   $RUNTEST+5
$TESTNUM EQU   $RUNTEST+1
$LETPRF  EQU   $RUNTEST
$SYMBOLC EQU   $SLTBL+5
$FAMILY  EQU   $SLTBL
$CDEVPT  EQU   TOLTEPWA+1466
$DEVCNTS EQU   TOLTEPWA+1464
$FEEDBCK EQU   $DEVTBLE+66
$WTISUED EQU   $DEVFLG4
$EXIOISD EQU   $DEVFLG4
$REMWRIT EQU   $DEVFLG4
$REMDONE EQU   $DEVFLG4
$2NDUSED EQU   $DEVFLG4
$1STUSED EQU   $DEVFLG4
$IGLXIFB EQU   $DEVFLG4
$EXIOLV3 EQU   $DEVFLG4
@NM00046 EQU   $DEVFLG5
$OPNDFAL EQU   $DEVFLG5
$ACQNCB  EQU   $DEVFLG5
$REMOTE  EQU   $DEVFLG5
$ENDNODE EQU   $DEVFLG5
$LINENME EQU   $RNINFO
$DVCOL   EQU   $LDNCBPT+2
$DVROW   EQU   $LDNCBPT
$NCSPLP  EQU   $DEVTBLE+44
$DVLN    EQU   $SSCPDAF
$DAF     EQU   $DEVSESP+4
$SYSMN   EQU   $DEVTBLE+28
@NM00045 EQU   $DEVFLG3
$CLRSNT  EQU   $DEVFLG3
$DVSNDOK EQU   $SIOFLG
$POLLREQ EQU   $DEVFLG3
$ACQRED  EQU   $DEVFLG3
$NOTDEV  EQU   $DEVFLG3
$DVINCT  EQU   $DEVTBLE+26
$CEINTRP EQU   $DEVFLG2
$DEVALOC EQU   $DEVFLG2
$ALLDATA EQU   $DEVFLG2
$ENDCNTL EQU   $DEVFLG2
$CTLDEV  EQU   $DEVFLG2
$NOCDS   EQU   $DEVFLG2
$DATAIN  EQU   $DEVFLG2
$PRIMARY EQU   $DEVFLG1
$DEVACT  EQU   $DEVFLG1
$DVLGMDE EQU   $ATTNEXP
$DVSPRM  EQU   $EVNCPLT
$GRABBED EQU   $DEVFLG1
$LETGO   EQU   $DEVFLG1
$CURELEM EQU   $$SYMNME+4
$EXTDEV  EQU   $DEVCDS+11
@NM00044 EQU   $DEVSDCF
$NOTPRIM EQU   $DEVSDCF
@NM00043 EQU   $DEVCDSF
@NM00042 EQU   $DEVCDSF
@NM00041 EQU   $DEVCDSF
$CDSNAME EQU   $DEVCDSF
$EXTRN   EQU   $DEVCDSF
$CEVOLUM EQU   $DEVCDSF
$SHARD   EQU   $DEVCDSF
$DEVFPM  EQU   $DEVCDSF
$DEVCNT  EQU   $DEVCDS+8
$DEVTYPE EQU   $DEVFEAT+3
$DEVMOD  EQU   $DEVFEAT
$DEVRDGT EQU   @NM00039+1
$DEVCTLU EQU   @NM00039+1
$DEVCHAN EQU   @NM00039
@NM00040 EQU   @NM00039
$FLAG16  EQU   $COMMFLG+15
$FLAG15  EQU   $COMMFLG+14
$FLAG14  EQU   $COMMFLG+13
$TEP2ND  EQU   $FLAG13
$TEP1ST  EQU   $FLAG13
$CATMSG  EQU   $FLAG13
$PRMPTSW EQU   $FLAG13
$DEVENT  EQU   $FLAG13
$OLTMACC EQU   $FLAG13
$LGON    EQU   $FLAG13
$CTLOGON EQU   $FLAG13
@NM00038 EQU   $FLAG12
$VARYINP EQU   $FLAG12
$ENDTEST EQU   $FLAG12
$VRYHRD  EQU   $FLAG12
$VRYSFT  EQU   $FLAG12
$OPTMSG  EQU   $FLAG12
$FEORCAT EQU   $FLAG11
@NM00037 EQU   $FLAG11
@NM00036 EQU   $FLAG10
$INBND   EQU   $FLAG10
$WAITFLG EQU   $FLAG10
$DPRINT  EQU   $FLAG10
$HOLD    EQU   $FLAG9
$NOTRRCH EQU   $FLAG9
@NM00035 EQU   $FLAG9
$COPY    EQU   $FLAG9
$LSTLNSW EQU   $FLAG9
$MULLNSW EQU   $FLAG9
$REMSW   EQU   $FLAG9
$TCECM   EQU   $FLAG8
$VS2     EQU   $FLAG8
$VS1     EQU   $FLAG8
$EDOS    EQU   $FLAG8
@NM00034 EQU   $FLAG8
@NM00033 EQU   $FLAG8
$RCVMSG  EQU   $FLAG7
$RCVRFLG EQU   $FLAG7
$SNDRFLG EQU   $FLAG7
$LDOIS   EQU   $FLAG7
$EXIOWAT EQU   $FLAG7
$2NDDATA EQU   $FLAG7
$1STDATA EQU   $FLAG7
$CIREQ   EQU   $FLAG6
$ABTERM  EQU   $ABNDBIT
$FSTMCIS EQU   $FLAG6
$CHANGE  EQU   $FLAG6
@NM00032 EQU   $FLAG5
$PROGCK  EQU   $CANCEL
@NM00031 EQU   $FLAG5
$MSG922  EQU   $FLAG5
$CT924   EQU   $FLAG5
$FSTCAT  EQU   $FLAG5
$FSTFE   EQU   $FLAG5
$ACTOPND EQU   $FLAG4
$ACQCUTT EQU   $FLAG4
$CLSSACT EQU   $FLAG4
$BACKINT EQU   $FLAG4
$DMSGSW  EQU   $FLAG4
$TSTDEVP EQU   $FLAG4
$APRQPER EQU   $FLAG4
$NEWAP   EQU   $FLAG3
$OPTERR  EQU   $FLAG3
$REQSTOR EQU   $FLAG3
$LOGOFFE EQU   $FLAG3
$TSTERR  EQU   $FLAG3
$DEVERR  EQU   $FLAG3
$PARTIAL EQU   $FLAG2
$NRMTERM EQU   $FLAG2
$VALDTST EQU   $FLAG2
$VALDDEV EQU   $FLAG2
$DBLSLSH EQU   $FLAG2
$NDR     EQU   $FLAG2
@NM00030 EQU   $FLAG2
$OLTACT  EQU   $FLAG1
$NORELDV EQU   $FLAG1
@NM00029 EQU   $FLAG1
$OPTCHNG EQU   $FLAG1
$DEVCHNG EQU   $FLAG1
$TESTCNG EQU   $FLAG1
$TEP3RD  EQU   $FLAG1
@NM00028 EQU   $CDA+120
$CUCNT   EQU   $CDA+118
@NM00027 EQU   $CDA+117
$OPISCNT EQU   $CDA+114
$OPNDCNT EQU   $CDA+112
$GETMSZE EQU   $CDA+110
$GRCNTS  EQU   $CDA+108
$CTLCNT  EQU   $CDA+106
$ACTLVL  EQU   $CDA+105
$PRNTLVL EQU   $CDA+104
$ERRCNTA EQU   $CDA+102
$TLCNT   EQU   $CDA+100
$TIMEALW EQU   $CDA+96
$PTRAREA EQU   $CDA+92
$GETMPTR EQU   $CDA+88
$R13PTRT EQU   $CDA+84
$R13PTR  EQU   $CDA+80
$TEPEND  EQU   $CDA+76
$PLINKDL EQU   $CDA+72
$TEPBEGN EQU   $CDA+68
$FRELPTR EQU   $CDA+64
$HIGHADR EQU   $HIMOREC
$LOMOREC EQU   $CDA+56
$LOWADDR EQU   $OLTPTR
$ENDCOMM EQU   $CDA+48
$COMMON  EQU   $RCA
$SLASHAD EQU   $CDA+32
$PASSON  EQU   $CDA+28
$TOLBRTB EQU   $CDA+24
$SCTPTR8 EQU   $CDA+20
$SCTPTR  EQU   $CDA+16
$TBWDPTR EQU   $CDA+12
$TFWDPTR EQU   $CDA+8
@NM00026 EQU   $CDA
@NM00025 EQU   $SCTTBLE+98
$SCTLWTC EQU   $SCTTBLE+96
$SCTLWTA EQU   $SCTTBLE+92
#EXT     EQU   $SCTTBLE+88
#PASS    EQU   $SCTTBLE+84
#TABLE   EQU   $SCTTBLE+80
#MSGIDAC EQU   $SCTTBLE+78
@NM00024 EQU   $SCTTBLE+71
$RETMASK EQU   $SCTTBLE+70
$R249255 EQU   $ROUTMSK+29
$R241248 EQU   $ROUTMSK+28
$R233240 EQU   $ROUTMSK+27
$R225232 EQU   $ROUTMSK+26
$R217224 EQU   $ROUTMSK+25
$R209216 EQU   $ROUTMSK+24
$R201208 EQU   $ROUTMSK+23
$R193200 EQU   $ROUTMSK+22
$R185192 EQU   $ROUTMSK+21
$R177184 EQU   $ROUTMSK+20
$R169176 EQU   $ROUTMSK+19
$R161168 EQU   $ROUTMSK+18
$R153160 EQU   $ROUTMSK+17
$R145152 EQU   $ROUTMSK+16
$R137144 EQU   $ROUTMSK+15
$R129136 EQU   $ROUTMSK+14
$R121128 EQU   $ROUTMSK+13
$R113120 EQU   $ROUTMSK+12
$R105112 EQU   $ROUTMSK+11
$R097104 EQU   $ROUTMSK+10
$R089096 EQU   $ROUTMSK+9
$R081088 EQU   $ROUTMSK+8
$R073080 EQU   $ROUTMSK+7
$R065072 EQU   $ROUTMSK+6
$R057064 EQU   $ROUTMSK+5
$R049056 EQU   $ROUTMSK+4
$R041048 EQU   $ROUTMSK+3
$R033040 EQU   $ROUTMSK+2
$R025032 EQU   $ROUTMSK+1
$R017024 EQU   $ROUTMSK
$TOTFLG2 EQU   $SCTTBLE+39
@NM00023 EQU   $TOTFLG1
@NM00022 EQU   $TOTFLG1
@NM00021 EQU   $TOTFLG1
$CURELOD EQU   $TOTFLG1
@NM00020 EQU   $TOTFLG1
@NM00019 EQU   $TOTFLG1
$LINESHR EQU   $TOTFLG1
@NM00018 EQU   $OLTFLG2
@NM00017 EQU   $OLTFLG2
@NM00016 EQU   $OLTFLG2
@NM00015 EQU   $OLTFLG2
@NM00014 EQU   $OLTFLG2
@NM00013 EQU   $OLTFLG2
@NM00012 EQU   $OLTFLG2
$TALK    EQU   $OLTFLG2
$DYCOM   EQU   $OLTFLGS
@NM00011 EQU   $OLTFLGS
$TRACE   EQU   $OLTFLGS
$RETCODE EQU   $OLTFLGS
$CONTCB  EQU   $OLTFLGS
$RETAIN  EQU   $OLTFLGS
$CLEANRT EQU   $OLTFLGS
$MANINTV EQU   $OLTFLGS
$OLTSIZE EQU   $SCTTBLE+34
$QSCTMOD EQU   $EXECFLG
$CTRLMOD EQU   $EXECFLG
$CLEANUP EQU   $EXECFLG
$LSTPDEV EQU   $EXECFLG
$ERRCNT  EQU   $EXECFLG
$RTNSLCT EQU   $EXECFLG
$MULTDEV EQU   $EXECFLG
@NM00010 EQU   $EXECFLG
$RMSKCNT EQU   $SCTTBLE+32
$SYNAME  EQU   $CDS8T19+4
$EXTSIG  EQU   $CDS8T19+3
$CDFLGS  EQU   $CDS8T19+1
$CDSCNT  EQU   $CDS8T19
$PDEVDSC EQU   $SCTTBLE+16
$PDEVADR EQU   $SCTTBLE+12
$COMMCN  EQU   $CDSFLGS
$CUSTSYM EQU   $CDSFLGS
$TWOCHSW EQU   $CDSFLGS
$SYMNAME EQU   $CDSFLGS
$EXTINTC EQU   $CDSFLGS
$CEVOL   EQU   $CDSFLGS
$SHARED  EQU   $CDSFLGS
$FPM     EQU   $CDSFLGS
$LASTSUB EQU   $PDEVFLG
@NM00009 EQU   $PDEVFLG
@NM00008 EQU   $PDEVFLG
@NM00007 EQU   $PDEVFLG
$LASTDEV EQU   $PDEVFLG
@NM00006 EQU   $PDEVFLG
$EXFILPT EQU   $PDEVFLG
$FPMOLD  EQU   $PDEVFLG
$TSSSYM  EQU   $SCTTBLE+8
$SCTLEVL EQU   $SCTTBLE+7
$DRIVER  EQU   $SCTTBLE+6
$RT0916  EQU   $SCTTBLE+5
$RT0108  EQU   $SCTTBLE+4
$LOOPTST EQU   $ERROPT
$LOOPERR EQU   $ERROPT
$NERRPRT EQU   $ERROPT
$NOCNTRL EQU   $ERROPT
$ALTPRNT EQU   $ERROPT
$CATERR  EQU   $ERROPT
$ASTERIK EQU   $ERROPT
$TESTERR EQU   $ERROPT
$FSTCOMM EQU   $TESTOPT
$INDEFLP EQU   $TESTOPT
$NOPRT   EQU   $TESTOPT
$PARAPRT EQU   $TESTOPT
@NM00005 EQU   $TESTOPT
$ERRLPCT EQU   $SCTTBLE
$TLTEND  EQU   $RCAAREA+936
$EXITSAV EQU   $RCAAREA+864
@NM00004 EQU   $RCAAREA+605
$VTAMEND EQU   $RCAFLG
$TPPOSTD EQU   $RCAFLG
$NEWCT   EQU   $RCAFLG
$ABNDALL EQU   $RCAFLG
$CUTESTB EQU   $RCAFLG
$CONSOLE EQU   $RCAFLG
$TPLOGON EQU   $RCAFLG
$UPDATE  EQU   $RCAFLG
$DEVAREA EQU   $RCAAREA+600
$CTDVAR  EQU   $RCAAREA+596
$BUFFS   EQU   $RCAAREA+464
$TLTNIB  EQU   $CONSTNT+140
$TLTPRPL EQU   $CONSTNT+20
@NM00003 EQU   $CONSTNT+4
@NM00002 EQU   $CONSTNT+2
$USECNT  EQU   $CONSTNT
$CURRTWA EQU   $POINTER+140
$CTNAME  EQU   $POINTER+132
$CTARGX  EQU   $POINTER+128
$COMINT  EQU   $POINTER+120
$QUEHNDL EQU   $POINTER+116
@NM00001 EQU   $POINTER+36
$RTNPTR  EQU   $POINTER+32
$TLTECB2 EQU   $POINTER+28
$TLTECB1 EQU   $POINTER+24
$CLEANP  EQU   $POINTER+20
$ABEND   EQU   $POINTER+16
$LSTAREA EQU   $POINTER+12
$FSTAREA EQU   $POINTER+8
$CVTSAVE EQU   $POINTER+4
$TOLTEP  EQU   $POINTER
$TLTACB  EQU   $RCAAREA
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RT00339 EQU   C11C0001
@RT00352 EQU   C11C0110
@RT00364 EQU   C11C0A00
@RT00367 EQU   C11C1000
@RF00367 EQU   C11C1250
@RT00386 EQU   C11C0930
@RF00386 EQU   C11C0920
@RT00389 EQU   C11C0130
@RT00391 EQU   C11C0920
@RT00399 EQU   C11C0C00
@RT00402 EQU   C11C1500
@RF00402 EQU   C11C1750
@RT00455 EQU   C11C0131
@RT00458 EQU   C11C0132
@RT00464 EQU   C11C0920
@RT00466 EQU   C11C0920
@RF00532 EQU   C11C1390
@RC00566 EQU   C11C0A20
@RF00576 EQU   C11C1850
@RF00639 EQU   C11C0930
@RC00655 EQU   C11C0930
@RF00726 EQU   @RC00723
@RT00731 EQU   C11C0580
@ENDDATA EQU   *
         END   ISTCC011,(C'PLS1330',0701,77200)

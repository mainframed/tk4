         TITLE 'ISTCC010,OLT SCHEDULER'
ISTCC010 CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(16)                                             0001
         DC    C'ISTCC010  80.232'                                 0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                     0001
         BALR  @12,0                                               0001
@PSTART  DS    0H                                                  0001
         USING @PSTART,@12                                         0001
*   SVECC010(2)=R13;                /* POINT TO PREVIOUS SAVEAREA    */
         ST    R13,SVECC010+4(,WAPTR)                              0043
*   BACKSAVE(3)=ADDR(SVECC010);     /* PUT IN FORWARD SAVE LINK      */
         LA    @03,SVECC010(,WAPTR)                                0044
         ST    @03,BACKSAVE+8(,R13)                                0044
*   R13=ADDR(SVECC010);             /* POINT TO INTERNALLY USED      */
*                                                                  0045
         LR    R13,@03                                             0045
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE THE TYPE OF SCHEDULING THAT IS TO BE PERFORMED FOR  */
*   /* THIS CALL. NORMAL PROCESSING WILL CONTINUE THROUGH THIS IF    */
*   /* TEST. TRANSFER IS TAKEN TO TERMINATE THE ACTIVE OLT.          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0046
*   IF R0^=0 THEN                                                  0046
         LTR   R0,R0                                               0046
         BNZ   @RT00046                                            0046
*     GO TO C10C0005;               /* IS REQUEST TO TERM OLT?       */
*   $RUNTEST(1:LENGTH($FAMILY))=$FAMILY;/* SET BEGINNING OF SEC      */
*                                                                  0048
         MVC   $RUNTEST(5,WAPTR),$FAMILY(WAPTR)                    0048
*   /*****************************************************************/
*   /*                                                               */
*   /* BEGINNING OF THE TEST LOOP. THE VALUES OF THE TEST LOOP THAT  */
*   /* CAN BE ENTERED ARE, NTL ($TLCNT=1), TL ($TLCNT=500), TL(N)    */
*   /* WHERE N MUST BE GREATER THAN ZERO AND LESS THAN 36768         */
*   /* ($TLCNT=N)                                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0049
*   DO $CTLCNT=1 TO $TLCNT;         /* LOOP FOR NUMBER OF TIME       */
*                                                                  0049
         LA    @03,1                                               0049
         B     @DE00049                                            0049
@DL00049 DS    0H                                                  0050
*     /***************************************************************/
*     /*                                                             */
*     /* STEP THROUGH THE TEST TABLE, RESETING ALL SEC. FLAGS EXCEPT */
*     /* THE FLAG THAT SAYS THERE IS NO WAY THAT THIS SECTION WOULD  */
*     /* EVER RUN                                                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0050
*     DO I=1 TO $TSTCNT;            /* CLEAR SECTION FLAGS           */
         LA    I,1                                                 0050
         B     @DE00050                                            0050
@DL00050 DS    0H                                                  0051
*       $SECFLGS(I)=$SECFLGS(I)&'40'X;/* LEAVE ON $CANTRUN           */
         LR    @15,I                                               0051
         SLA   @15,2                                               0051
         ALR   @15,WAPTR                                           0051
         NI    $SECFLGS-4(@15),X'40'                               0051
*     END;                          /* END OF SECTION TBL CLEAR      */
*                                                                  0052
         AL    I,@CF00072                                          0052
@DE00050 CH    I,$TSTCNT(,WAPTR)                                   0052
         BNH   @DL00050                                            0052
*     /***************************************************************/
*     /*                                                             */
*     /* BEGINNING OF THE DEVICE LOOP. THE VALUES OF THE DEVICE COUNT*/
*     /* ARE FOR .NDR ($DEVCNTS=3), AND FOR N DEVICES ENTERED IN THE */
*     /* DEVICE FIELD ($DEVCNTS=N+2). THE FIRST TWO POSITIONS ARE    */
*     /* ALWAYS RESERVED FOR THE CONTROL TERMINAL AND THE ALTERNATE  */
*     /* PRINTER, RESPECTIVELY. THE MAP OF THE CDS IS EQUATED TO THE */
*     /* CURRENT ENTRY IN THE DEVICE FIELD, SINCE DEVICE DECODE PUT  */
*     /* THE FIRST 20 BYTES THERE.                                   */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0053
*     RESPECIFY                                                    0053
*       CDSMAP BASED(ADDR($DEVTBLE($CDEVPT)));                     0053
*     DO $CDEVPT=3 TO $DEVCNTS;     /* BEGINNING OF DEVICE LOOP      */
         LA    @03,3                                               0054
         B     @DE00054                                            0054
@DL00054 DS    0H                                                  0055
*       $PASSONA=$PASSONA&&$PASSONA;/* ZERO PASS ON AREA             */
         XC    $PASSONA(56,WAPTR),$PASSONA(WAPTR)                  0055
*       SCTCDS=CDSMAP;              /* FILL IN SCT WITH PRIMARY DATA */
         LH    @03,$CDEVPT(,WAPTR)                                 0056
         MH    @03,@CH00330                                        0056
         LA    @03,$DEVTBLE-68(@03,WAPTR)                          0056
         MVC   SCTCDS(20,WAPTR),CDSMAP(@03)                        0056
*       $SYMBOLC='';                /* BLANK OUT SYMBOLIC NAME       */
         MVI   $SYMBOLC(WAPTR),C' '                                0057
         MVC   $SYMBOLC+1(7,WAPTR),$SYMBOLC(WAPTR)                 0057
*       $PRIMADR=NDRNME;            /* ASSUME .NDR ENTRY             */
*                                                                  0058
         MVC   $PRIMADR(4,WAPTR),@CC00675                          0058
*       /*************************************************************/
*       /*                                                           */
*       /* IF .NDR WAS ENTERED, THE FIRST SECTION IS NOW READY TO    */
*       /* RECEIVE CONTROL.                                          */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0059
*       IF $NDR='1'B THEN                                          0059
         TM    $NDR(WAPTR),B'00100000'                             0059
         BO    @RT00059                                            0059
*         GO TO C10C0004;           /* IF NDR,ALL SET                */
*                                                                  0060
*       /*************************************************************/
*       /*                                                           */
*       /* CONVERT UNIT ADDRESS FROM HEX (FIRST 4 BYTES OF CDS) TO   */
*       /* EBCDIC (4 BYTES). ITACONV FROM(CDSUA)TO($PRIMADR) INVOKED */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0061
*       DCL                                                        0061
*        (ITATCF,                                                  0061
*         ITATCT) CHAR(*) BASED;    /* GENERATE WORK VARABLES        */
         ST    @03,@TF00001                                        0061
*       DCL                                                        0062
*         ITATCTS FIXED;            /* TEMP SPOT FOR ALTERED BYTE    */
*       RFY                                                        0063
*         ITATCF BASED(ADDR(CDSUA));/* MAP VARIABLE OVER FROM        */
*       RFY                                                        0064
*         ITATCT BASED(ADDR($PRIMADR));/* MAP VARIBABLE OVER TO      */
*       ITATCTS=ITATCT(LENGTH($PRIMADR)+1:LENGTH($PRIMADR)+1);/* SAVE
*                                      BYTE PAST TO FIELD            */
         LA    @15,1598                                            0065
         ALR   @15,WAPTR                                           0065
         SLR   ITATCTS,ITATCTS                                     0065
         IC    ITATCTS,ITATCT+4(,@15)                              0065
*       UNPK(ITATCT(1:LENGTH($PRIMADR)+1),ITATCF(1:LENGTH(CDSUA)+1));
         L     @14,@TF00001                                        0066
         UNPK  ITATCT(5,@15),ITATCF(5,@14)                         0066
*                                   /* EXPAND HEX TO EBCDIC          */
*       TR(ITATCT(1:LENGTH($PRIMADR)),$TRTBL);/* CONVERT FA-FF TO  0067
*                                      C1-C6                         */
         L     @14,RCAPTR(,WAPTR)                                  0067
         L     @14,$TRTBLA(,@14)                                   0067
         TR    ITATCT(4,@15),$TRTBL(@14)                           0067
*       ITATCT(LENGTH($PRIMADR)+1:LENGTH($PRIMADR)+1)=ITATCTS;/*   0068
*                                      RESTORE BYTE PAST TO FIELD    */
         STC   ITATCTS,ITATCT+4(,@15)                              0068
*       IF CDSREMSY='1'B THEN                                      0069
         L     @03,@TF00001                                        0069
         TM    CDSREMSY(@03),B'00000010'                           0069
         BNO   @RF00069                                            0069
*         $SYMBOLC=CDSSYMBN;        /* SET SYMB. NAME                */
*                                                                  0070
         L     @03,@TF00001                                        0070
         MVC   $SYMBOLC(8,WAPTR),CDSSYMBN(@03)                     0070
*       /*************************************************************/
*       /*                                                           */
*       /* DETERMINE IF THE DEVICE CANNOT BE USED. IF IT WAS         */
*       /* PREVIOUSLY LETGO, OR THE BIT IN THE CDS INDICATES IT      */
*       /* CANNOT BE A PRIMARY DEVICE, GO TO THE NEXT DEVICE.        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0071
*       IF CDSNTPRI='1'B×$LETGO($CDEVPT)='1'B×$ACQRED($CDEVPT)='0'B×
*           $NOTDEV($CDEVPT)='1'B THEN                             0071
@RF00069 LA    @03,68                                              0071
         LR    @15,@03                                             0071
         MH    @15,$CDEVPT(,WAPTR)                                 0071
         LA    @14,$DEVTBLE-68(@15,WAPTR)                          0071
         TM    CDSNTPRI(@14),B'10000000'                           0071
         BO    @RT00071                                            0071
         ST    @15,@TF00001                                        0071
         ALR   @15,WAPTR                                           0071
         TM    $LETGO-68(@15),B'10000000'                          0071
         BO    @RT00071                                            0071
         LR    @01,WAPTR                                           0071
         AL    @01,@TF00001                                        0071
         TM    $NOTDEV-68(@01),B'10000000'                         0071
         BNZ   @RT00071                                            0071
         TM    $ACQRED-68(@01),B'01000000'                         0071
         BNO   @RT00071                                            0071
*         GO TO C10C0008;           /* SKIP IF IT CANNOT BE USED AS
*                                      PRIMARY DEV                   */
*       $PRIMARY($CDEVPT)='1'B;     /* MARK DEVICE PRIMARY           */
         LR    @01,WAPTR                                           0073
         AL    @01,@TF00001                                        0073
         OI    $PRIMARY-68(@01),B'00000001'                        0073
*       $CDSFLGS=CDSFLAG;           /* PUT CDS FLAGS IN SCT          */
*                                                                  0074
         MH    @03,$CDEVPT(,WAPTR)                                 0074
         LA    @03,$DEVTBLE-68(@03,WAPTR)                          0074
         MVC   $CDSFLGS(1,WAPTR),CDSFLAG(@03)                      0074
*       /*************************************************************/
*       /*                                                           */
*       /* BEGINNING OF THE SECTION LOOP. THE VALUES OF THE SECTION  */
*       /* COUNT ARE THE EXACT NUMBER OF SECTIONS ENTERED. IF A RANGE*/
*       /* WAS ENTERED, ONE ENTRY FOR EACH SECTION WILL APPEAR IN THE*/
*       /* TABLE. THE FLAG BYTE IS MOVED FROM THE SECTION TABLE SO   */
*       /* ALL TOLTEP MODULES CAN ACCESS IT EASIER. AT THE END OF THE*/
*       /* SECTION THE FLAGS ARE MOVED BACK INTO THE TABLE.          */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0075
*C10C0004:                                                         0075
*       DO $CTSTPT=1 TO $TSTCNT;    /* SCHED. TESTS                  */
C10C0004 LA    @03,1                                               0075
         B     @DE00075                                            0075
@DL00075 DS    0H                                                  0076
*         $TESTSUF=$SECLST($CTSTPT);/* BUILD NAME                    */
         LH    @03,$CTSTPT(,WAPTR)                                 0076
         SLA   @03,2                                               0076
         ST    @03,@TF00001                                        0076
         ALR   @03,WAPTR                                           0076
         MVC   $TESTSUF(3,WAPTR),$SECLST-4(@03)                    0076
*         $TESTFLG=$SECFLGS($CTSTPT);/* COPY FLAGS                   */
*                                                                  0077
         LR    @03,WAPTR                                           0077
         AL    @03,@TF00001                                        0077
         MVC   $TESTFLG(1,WAPTR),$SECFLGS-4(@03)                   0077
*         /***********************************************************/
*         /*                                                         */
*         /* IF THIS SECTION HAS BEEN MARKED AS NOT USEABLE (DUE TO  */
*         /* NOT BEING FOUND, OR WRITTEN FOR THE WRONG ARCHITECTURE) */
*         /* OR IF IT HAS SET THE $FINAL FIT IN THE SECTION CONTROL  */
*         /* TABLE ON A PREVIOUS EXECUTION, THE SECTION IS SKIPPED.  */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0078
*         IF $FINAL='1'B×$CANTRUN='1'B THEN                        0078
         TM    $FINAL(WAPTR),B'11000000'                           0078
         BNZ   @RT00078                                            0078
*           GO TO C10C0007;         /* SKIP SECTION IF SHOULD'T RUN  */
*         LDRNAME=$RUNTEST;         /* PUT IN MODULE NAME            */
         MVC   LDRNAME(8),$RUNTEST(WAPTR)                          0080
*         LDRADR=$LOWADDR;          /* PUT IN LOAD ADDRESS           */
         L     @03,$LOWADDR(,WAPTR)                                0081
         ST    @03,LDRADR                                          0081
*         LDRCOMP='1'B;             /* SETUP FOR COMPUTE             */
         OI    LDRCOMP,B'01000000'                                 0082
*         R1=ADDR(LDRPARM);         /* POINT TO PARAMETER LIST       */
*                                                                  0083
         LA    R1,LDRPARM                                          0083
*         /***********************************************************/
*         /*                                                         */
*         /* DETERMINE IF THE SECTION IN QUESTION EXISTS AND HOW BIG */
*         /* IT REALLY IS. THE SIZE IS THEN USED TO DETERMINE IF THE */
*         /* SECTION FIT INTO THE CORE AVAILABLE FOR IT.             */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0084
*         CALL ISTCC013;            /* FIND OUT ABOUT MODULE         */
         L     @15,@CV00698                                        0084
         BALR  @14,@15                                             0084
*         IF R15='0C'X THEN                                        0085
         C     R15,@CF00699                                        0085
         BE    @RT00085                                            0085
*           GO TO C10C0021;         /* IF NO MODULE, PUT OUT MESSAGE */
*         IF R15^=0 THEN                                           0087
         LTR   R15,R15                                             0087
         BNZ   @RT00087                                            0087
*           GO TO C10C0026;         /* IF I/O ERR, MARK SECTION NOT
*                                      ACCESSABLE                    */
*         R1=R1+R0;                 /* GET HIGH CORE ADDRESS         */
         ALR   R1,R0                                               0089
*         IF R1>$HIGHADR THEN                                      0090
         C     R1,$HIGHADR(,WAPTR)                                 0090
         BH    @RT00090                                            0090
*           GO TO C10C0022;         /* IF MODULE IS TO BIG, PRINT  0091
*                                      ERROR MESSAGE                 */
*         LDRCOMP='0'B;             /* SETUP FOR LOAD REQUEST        */
         NI    LDRCOMP,B'10111111'                                 0092
*         R1=ADDR(LDRPARM);         /* POINT TO PARM LIST            */
*                                                                  0093
         LA    R1,LDRPARM                                          0093
*         /***********************************************************/
*         /*                                                         */
*         /* THE SECTION EXISTS AND WILL FIT, NOW BRING IT INTO CORE */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0094
*         CALL ISTCC013;            /* BRING IN MODULE               */
         L     @15,@CV00698                                        0094
         BALR  @14,@15                                             0094
*         IF R15^=0 THEN                                           0095
         SLR   @14,@14                                             0095
         CR    R15,@14                                             0095
         BNE   @RT00095                                            0095
*           GO TO C10C0026;         /* SKIP IF ERR                   */
*                                                                  0096
*         /***********************************************************/
*         /*                                                         */
*         /* SECTIONS WRITTEN TO THE PROPER ARCHITECTURE WILL HAVE   */
*         /* THE ACTUAL SECTION ID IN THE FIRST 8 BYTES.             */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0097
*         IF $RUNTEST^=SECTID THEN  /* EXIT ON OLD OLT               */
         L     @03,$LOWADDR(,WAPTR)                                0097
         CLC   $RUNTEST(8,WAPTR),SECTID(@03)                       0097
         BNE   @RT00097                                            0097
*           GO TO C10C0020;         /* NOT SUPPORTED                 */
*                                                                  0098
*         /***********************************************************/
*         /*                                                         */
*         /* TOLTEP CURRENTLY SUPPORTS ON VIRTUAL OLTS. OLTS         */
*         /* REQUIRING REAL CORE TO RUN ARE NOT EXECUTED.            */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0099
*         IF $VIRTUAL^='1'B THEN                                   0099
         LH    @15,RTNDISP(,@03)                                   0099
         ALR   @15,@03                                             0099
         TM    $VIRTUAL(@15),B'10000000'                           0099
         BNO   @RT00099                                            0099
*           GO TO C10C0024;         /* IF THE OLT WOUN'T RUN VIRTUAL
*                                      PUT OUT MESSAGE               */
*                                                                  0100
*         /***********************************************************/
*         /*                                                         */
*         /* IF THE OLT REQUIRES AN SCT LEVEL THAT IS NOT SUPPORTED, */
*         /* DO NOT INITIALIZE IT                                    */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0101
*         IF $SCTREQ>$SCTLEVL THEN                                 0101
         CLC   $SCTREQ(1,@15),$SCTLEVL(WAPTR)                      0101
         BH    @RT00101                                            0101
*           GO TO C10C0023;                                        0102
*                                                                  0102
*         /***********************************************************/
*         /*                                                         */
*         /* MATCH THE 4 BYTE FIELD IN THE SECTION WITH THE 4 BYTE   */
*         /* FIELD IN THE CDS TO SEE IF THE OLT IS COMPATABLE WITH   */
*         /* THE DEVICE.                                             */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0103
*         IF(CDSMFCT&OLTMFCT&&OLTMFCT)^=0×(CDSMFCT&OLTCMFCT)^=0 THEN
         LH    @03,$CDEVPT(,WAPTR)                                 0103
         MH    @03,@CH00330                                        0103
         LA    @03,$DEVTBLE-68(@03,WAPTR)                          0103
         L     @03,CDSMFCT(,@03)                                   0103
         ICM   @11,15,OLTMFCT(@15)                                 0103
         LR    @10,@03                                             0103
         NR    @10,@11                                             0103
         XR    @10,@11                                             0103
         CLR   @10,@14                                             0103
         BNE   @RT00103                                            0103
         ICM   @11,15,OLTCMFCT(@15)                                0103
         NR    @03,@11                                             0103
         CLR   @03,@14                                             0103
         BNE   @RT00103                                            0103
*           GO TO C10C0027;                                        0104
*         $ERRLPCT=$COUNT;          /* PUT IN ERROR LOOP COUNT       */
         LH    @03,$COUNT(,@15)                                    0105
         N     @03,@CF00785                                        0105
         STH   @03,$ERRLPCT(,WAPTR)                                0105
*         IF $LOOPERR='1'B&$ERRCNT='1'B THEN                       0106
         TM    $LOOPERR(WAPTR),B'00000010'                         0106
         BNO   @RF00106                                            0106
         TM    $ERRCNT(WAPTR),B'00010000'                          0106
         BNO   @RF00106                                            0106
*           $ERRLPCT=$ERRCNTA;      /* IF THE OPERATOR SPECIFIED   0107
*                                      COUNT ON ERROR LOOP         0107
*                                      OPTION,FILL IN                */
         LH    @03,$ERRCNTA(,WAPTR)                                0107
         STH   @03,$ERRLPCT(,WAPTR)                                0107
*         #MSGIDAC=#MSGIDAC&&#MSGIDAC;/* ZERO OUT THE ACTIVE MESSAGE
*                                      ID                            */
@RF00106 XC    #MSGIDAC(2,WAPTR),#MSGIDAC(WAPTR)                   0108
*         IF #MSGIDRQ='1'B THEN     /* DET. IF MESSAGE ID FIELD IS 0109
*                                      PRESENT                       */
         L     @03,$LOWADDR(,WAPTR)                                0109
         LH    @15,RTNDISP(,@03)                                   0109
         ALR   @15,@03                                             0109
         TM    #MSGIDRQ(@15),B'00010000'                           0109
         BNO   @RF00109                                            0109
*           #MSGIDAC=#MSGID;        /* STORE FOR CECOM FUNCTIONS     */
*                                                                  0110
         MVC   #MSGIDAC(2,WAPTR),#MSGID(@03)                       0110
*         /***********************************************************/
*         /*                                                         */
*         /* IF THE NO CONTROL OPTION IS ON, DO NOT PRINT THE START  */
*         /* MESSAGE FOR THIS SECTION, OTHERWISE PRINT THE MESSAGE   */
*         /* WITH THE SECTION NAME, DEVICE UNIT ADDRESS AND          */
*         /* OPTIONALLY THE DEVICE SYMBOLLIC NAME.                   */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0111
*         IF $NOCNTRL='1'B THEN                                    0111
@RF00109 TM    $NOCNTRL(WAPTR),B'00001000'                         0111
         BNO   @RF00111                                            0111
*           DO;                     /* MESSAGE 158                   */
*             $INBUFR(1:2)=SMSG;    /* FORMAT FOR START MSG          */
         MVC   $INBUFR(2,WAPTR),@CC00669                           0113
*             $INBUFR(3:10)=$RUNTEST;/* PUT IN SECTION NAME          */
         MVC   $INBUFR+2(8,WAPTR),$RUNTEST(WAPTR)                  0114
*             $INBUFR(11:14)=$PRIMADR;/* PUT IN UNIT ADDR            */
         MVC   $INBUFR+10(4,WAPTR),$PRIMADR(WAPTR)                 0115
*             $INBUFR(15:22)=$SYMBOLC;/* PUT IN SYMB. NAME           */
*                                                                  0116
         MVC   $INBUFR+14(8,WAPTR),$SYMBOLC(WAPTR)                 0116
*             /*******************************************************/
*             /*                                                     */
*             /* TCEC MSGN(158)SUB(YES) INVOKED                      */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0117
*             $TCECM='1'B;          /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0117
*             R1=ADDR($TCA10);      /* SET UP PARM LIST $TR          */
         LA    R1,$TCA10                                           0118
*             CALL #EXIT;           /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0119
         BALR  @14,@15                                             0119
*             DCL                                                  0120
*               1 $TCA10,           /* TCEC PARM LIST                */
*                2 $TCB10 FIXED(32) INIT(158),/* MSG NUMBER          */
*                2 $TCC10 FIXED(32) INIT(0),/* INCT LEN              */
*                2 $TCD10 BIT(8) INIT('10000000'B),/* FLAG           */
*                2 $TCE10 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK   */
*           END;                    /* DONE WITH MESSAGE 158         */
*                                                                  0121
*         /***********************************************************/
*         /*                                                         */
*         /* CLEAN UP OLT INDICATORS                                 */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0122
*         $TESTERR='0'B;            /* TEST ERROR                    */
@RF00111 DS    0H                                                  0123
*         $CATERR='0'B;             /* CATASTROPHIC ERROR            */
*         $ASTERIK='0'B;            /* PUT ASTERISK ON TERMINATE     */
         NI    $TESTERR(WAPTR),B'00011111'                         0124
*         $CLEANUP='0'B;            /* CLEAN UP CALL                 */
*         $LSTPDEV='0'B;            /* LAST PRIMARY DEVICE FOR SEC   */
         NI    $CLEANUP(WAPTR),B'11110011'                         0126
*         $FSTFE='0'B;              /* FIRST ERROR ALREADY OCCURED   */
*         $FSTCAT='0'B;             /* CATASTROPHIC ERROR OCCURED    */
         NI    $FSTFE(WAPTR),B'00111111'                           0128
*         $FSTMCIS='0'B;            /* FREE ALL MORECORES            */
         NI    $FSTMCIS(WAPTR),B'11111011'                         0129
*         $CLEANRT='0'B;            /* CLEAN UP ROUTINE EXISTS       */
*         $DYCOM='0'B;              /* OLT SUPPORTS DYNAMIC COMMON   */
         NI    $CLEANRT(WAPTR),B'10111110'                         0131
*         $TALK='0'B;               /* OPERATOR WISHES TO COMMON     */
         NI    $TALK(WAPTR),B'01111111'                            0132
*         $RETMASK=0;               /* RETURN MASK FOR FUNCTIONS     */
         MVI   $RETMASK(WAPTR),X'00'                               0133
*         $CATMSG='0'B;             /* CATASTROPHIC ERROR MESSAGE    */
         NI    $CATMSG(WAPTR),B'11111011'                          0134
*         $TRTN#=0;                 /* CURRENT TRACE ROUTINE NUMBER  */
         MVI   $TRTN#(WAPTR),X'00'                                 0135
*         $GRCNTS=0;                /* SET GRABBED COUNTER TO ZERO   */
*                                                                  0136
         SLR   @03,@03                                             0136
         STH   @03,$GRCNTS(,WAPTR)                                 0136
*         /***********************************************************/
*         /*                                                         */
*         /* RESET ALL DEVICE BITS FOR NEW SECTION           @ZD10859*/
*         /*                                                         */
*         /***********************************************************/
*                                                                  0137
*         DO I=3 TO $DEVCNTS;       /* DO ONLY ACTIVE ENTRIES        */
         LA    I,3                                                 0137
         B     @DE00137                                            0137
@DL00137 DS    0H                                                  0138
*           $GRABBED(I)='0'B;       /* INDICATE NOT GRABBED          */
         LR    @15,I                                               0138
         MH    @15,@CH00330                                        0138
         ST    @15,@TF00001                                        0138
         ALR   @15,WAPTR                                           0138
         NI    $GRABBED-68(@15),B'11011111'                        0138
*           $SRTEST(I)='0'B;        /* REMOVE FROM TEST      @ZD10859*/
*           $OLTERR(I)='0'B;        /* DONT GIVE ERROR RET CODE    0140
*                                                            @ZD10859*/
         LR    @01,WAPTR                                           0140
         AL    @01,@TF00001                                        0140
         NI    $SRTEST-68(@01),B'11110011'                         0140
*         END;                      /* DO NEXT IF APPROPRIATE        */
         AL    I,@CF00072                                          0141
@DE00137 CH    I,$DEVCNTS(,WAPTR)                                  0141
         BNH   @DL00137                                            0141
*         $OLTACT='1'B;             /* SHOW OLT NOW RUNNING.         */
         OI    $OLTACT(WAPTR),B'00000001'                          0142
*         R1=ADDR($SCTPTR);         /* POINT TO PARAMETER LST        */
*                                                                  0143
         LA    R1,$SCTPTR(,WAPTR)                                  0143
*         /***********************************************************/
*         /*                                                         */
*         /* CALL THE OLT AS A SUBROUTINE TO TEST THE PRIMARY DEVICE */
*         /* NORMALLY, CONTROL RETURNS TO THE NEXT SEQUENTIAL        */
*         /* INSTRUCTION, BUT CONTROL COULD COME BACK THROUGH        */
*         /* ISTCC010 ENTRYPOINT IF THE OLT MUST BE TERMINATED       */
*         /* ABNORMALLY.                                             */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0144
*         CALL OLTENTRY;            /* EXECUTE THE OLT SECTION       */
         L     @03,$LOWADDR(,WAPTR)                                0144
         L     @15,INST(,@03)                                      0144
         BALR  @14,@15                                             0144
*         $NRMTERM='1'B;            /* NORMAL TERMINATION BY OLT     */
*                                                                  0145
         OI    $NRMTERM(WAPTR),B'00000010'                         0145
*         /***********************************************************/
*         /*                                                         */
*         /* CONTROL IS RECIEVED HERE WHEN AN OLT IS BEING           */
*         /* TERMINATED, NORMALLY OR ABNORMALLY.                     */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0146
*C10C0005:                                                         0146
*         $NORELDV='1'B;            /* DONT RELEASE DEVICES          */
C10C0005 OI    $NORELDV(WAPTR),B'00000010'                         0146
*         CALL ISTTC035;            /* CLEAN UP AND TERMINATE        */
         L     @15,@CV00721                                        0147
         BALR  @14,@15                                             0147
*C10C0007:                                                         0148
*         $SECFLGS($CTSTPT)=$TESTFLG;/* RESTORE FLAGS                */
*                                                                  0148
C10C0007 LH    @03,$CTSTPT(,WAPTR)                                 0148
         SLA   @03,2                                               0148
         ALR   @03,WAPTR                                           0148
         MVC   $SECFLGS-4(1,@03),$TESTFLG(WAPTR)                   0148
*         /***********************************************************/
*         /*                                                         */
*         /* IF IT WAS A CATASTROPHIC TERMINATION, RETURN TO THE     */
*         /* COMMUNICATION INTERVAL TO CONTINUE PROCESSING THE D/T/O */
*         /* REPLY                                                   */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0149
*         IF $CATERR='1'B THEN      /* CATASTROPHIC RETURN           */
         TM    $CATERR(WAPTR),B'00100000'                          0149
         BNO   @RF00149                                            0149
*           CALL ISTIC002;          /* CALL COMMUNICATION INT        */
*                                                                  0150
         L     @15,@CV00723                                        0150
         BALR  @14,@15                                             0150
*         /***********************************************************/
*         /*                                                         */
*         /* END OF THE SECTION LOOP                                 */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0151
*       END;                        /* END OF SECTION                */
@RF00149 LA    @03,1                                               0151
         AH    @03,$CTSTPT(,WAPTR)                                 0151
@DE00075 STH   @03,$CTSTPT(,WAPTR)                                 0151
         CH    @03,$TSTCNT(,WAPTR)                                 0151
         BNH   @DL00075                                            0151
*       $PRIMARY($CDEVPT)='0'B;     /* RELEASE DEVICE AS PRIM        */
*                                                                  0152
         LH    @03,$CDEVPT(,WAPTR)                                 0152
         MH    @03,@CH00330                                        0152
         ALR   @03,WAPTR                                           0152
         NI    $PRIMARY-68(@03),B'11111110'                        0152
*       /*************************************************************/
*       /*                                                           */
*       /* END OF THE DEVICE LOOP                                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0153
*C10C0008:                                                         0153
*     END;                          /* END OF DEV TESTING            */
*                                                                  0153
C10C0008 LA    @03,1                                               0153
         AH    @03,$CDEVPT(,WAPTR)                                 0153
@DE00054 STH   @03,$CDEVPT(,WAPTR)                                 0153
         CH    @03,$DEVCNTS(,WAPTR)                                0153
         BNH   @DL00054                                            0153
*     /***************************************************************/
*     /*                                                             */
*     /* END OF THE TEST LOOP                                        */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0154
*   END;                            /* END OF TEST LOOP              */
*                                                                  0154
         LA    @03,1                                               0154
         AH    @03,$CTLCNT(,WAPTR)                                 0154
@DE00049 STH   @03,$CTLCNT(,WAPTR)                                 0154
         CH    @03,$TLCNT(,WAPTR)                                  0154
         BNH   @DL00049                                            0154
*   /*****************************************************************/
*   /*                                                               */
*   /* THE FOLLOWING CALL IS ACTUALLY AN EXIT AND CONTROL CANNOT BE  */
*   /* RETURNED FROM THE COMMUNICATION INTERVAL.                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0155
*   CALL ISTIC002;                  /* EXIT TO COMM INTERVAL         */
         L     @15,@CV00723                                        0155
         BALR  @14,@15                                             0155
*                                                                  0156
*   /*****************************************************************/
*   /*                                                               */
*   /* THE FOLLOWING ROUTINES WILL RECEIVE CONTROL ONLY DUE TO AN    */
*   /* ERROR FOR EITHER THE TEST DEVICE OR THE TEST SECTION. IN ALL  */
*   /* CASES AN ERROR MESSAGE WILL BE ISSUED TELLING THE OPERATOR WHY*/
*   /* HIS REQUEST FAILED. SOME OF THE PROBLEMS CAN BE CORRECTED     */
*   /* OTHERS CANNOT AND SHOULD NOT BE TRIED AGAIN. THE MESSAGE      */
*   /* DOCUMENTATION DESECRIBES WHICH THESE ARE.                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0156
*   ;                                                              0156
*                                                                  0156
*   /*****************************************************************/
*   /*                                                               */
*   /* THE OLT WAS WRITTEN TO THE WRONG ARCHITECTURE                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0157
*C10C0020:                                                         0157
*   $INBUFR(1:8)=$RUNTEST;          /* FILL IN MODULE ID             */
C10C0020 MVC   $INBUFR(8,WAPTR),$RUNTEST(WAPTR)                    0157
*   $INBUFR(9:10)=OLDOLT;           /* FILL IN REASON CODE           */
*                                                                  0158
         MVC   $INBUFR+8(2,WAPTR),@CC00671                         0158
*   /*****************************************************************/
*   /*                                                               */
*   /* TCEC MSGN(227)SUB(YES) INVOKED                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0159
*   $TCECM='1'B;                    /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0159
*   R1=ADDR($TCA11);                /* SET UP PARM LIST $TR          */
         LA    R1,$TCA11                                           0160
*   CALL #EXIT;                     /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0161
         BALR  @14,@15                                             0161
*   DCL                                                            0162
*     1 $TCA11,                     /* TCEC PARM LIST                */
*      2 $TCB11 FIXED(32) INIT(227),/* MSG NUMBER                    */
*      2 $TCC11 FIXED(32) INIT(0),  /* INCT LEN                      */
*      2 $TCD11 BIT(8) INIT('10000000'B),/* FLAG                     */
*      2 $TCE11 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK             */
*   GO TO C10C0026;                 /* MAKE UNUSABLE                 */
*                                                                  0163
         B     C10C0026                                            0163
*   /*****************************************************************/
*   /*                                                               */
*   /* THE SECTION WAS NOT FOUND IN THE LIBRARY                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0164
*C10C0021:                                                         0164
*   $INBUFR(1:8)=$RUNTEST;          /* SET UP FOR MESSGAE            */
*                                                                  0164
C10C0021 MVC   $INBUFR(8,WAPTR),$RUNTEST(WAPTR)                    0164
*   /*****************************************************************/
*   /*                                                               */
*   /* TCEC MSGN(117)SUB(YES) INVOKED                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0165
*   $TCECM='1'B;                    /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0165
*   R1=ADDR($TCA12);                /* SET UP PARM LIST $TR          */
         LA    R1,$TCA12                                           0166
*   CALL #EXIT;                     /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0167
         BALR  @14,@15                                             0167
*   DCL                                                            0168
*     1 $TCA12,                     /* TCEC PARM LIST                */
*      2 $TCB12 FIXED(32) INIT(117),/* MSG NUMBER                    */
*      2 $TCC12 FIXED(32) INIT(0),  /* INCT LEN                      */
*      2 $TCD12 BIT(8) INIT('10000000'B),/* FLAG                     */
*      2 $TCE12 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK             */
*   GO TO C10C0026;                 /* MARK NOT TO USE AGAIN         */
*                                                                  0169
         B     C10C0026                                            0169
*   /*****************************************************************/
*   /*                                                               */
*   /* THE SECTION IS TO BIG TO FIT IN THE CORE AVAILABLE            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0170
*C10C0022:                                                         0170
*   $INBUFR(1:8)=$RUNTEST;          /* SECTION TO BIG TO FIT         */
*                                                                  0170
C10C0022 MVC   $INBUFR(8,WAPTR),$RUNTEST(WAPTR)                    0170
*   /*****************************************************************/
*   /*                                                               */
*   /* TCEC MSGN(200)SUB(YES) INVOKED                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0171
*   $TCECM='1'B;                    /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0171
*   R1=ADDR($TCA13);                /* SET UP PARM LIST $TR          */
         LA    R1,$TCA13                                           0172
*   CALL #EXIT;                     /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0173
         BALR  @14,@15                                             0173
*   DCL                                                            0174
*     1 $TCA13,                     /* TCEC PARM LIST                */
*      2 $TCB13 FIXED(32) INIT(200),/* MSG NUMBER                    */
*      2 $TCC13 FIXED(32) INIT(0),  /* INCT LEN                      */
*      2 $TCD13 BIT(8) INIT('10000000'B),/* FLAG                     */
*      2 $TCE13 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK             */
*   GOTO C10C0026;                  /* MARK NOT TO USE AGAIN         */
*                                                                  0175
         B     C10C0026                                            0175
*   /*****************************************************************/
*   /*                                                               */
*   /* THE SECTION REQUIRED AN SCT THAT WAS HIGHER THAN TOLTEP       */
*   /* SUPPORTS                                                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0176
*C10C0023:                                                         0176
*   $INBUFR(1:8)=$RUNTEST;          /* WRONG LEVEL SCT FOR OLT       */
C10C0023 MVC   $INBUFR(8,WAPTR),$RUNTEST(WAPTR)                    0176
*   $INBUFR(9:10)=BDSLEV;           /* FILL IN REASON CODE           */
*                                                                  0177
         MVC   $INBUFR+8(2,WAPTR),@CC00673                         0177
*   /*****************************************************************/
*   /*                                                               */
*   /* TCEC MSGN(227)SUB(YES) INVOKED                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0178
*   $TCECM='1'B;                    /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0178
*   R1=ADDR($TCA14);                /* SET UP PARM LIST $TR          */
         LA    R1,$TCA14                                           0179
*   CALL #EXIT;                     /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0180
         BALR  @14,@15                                             0180
*   DCL                                                            0181
*     1 $TCA14,                     /* TCEC PARM LIST                */
*      2 $TCB14 FIXED(32) INIT(227),/* MSG NUMBER                    */
*      2 $TCC14 FIXED(32) INIT(0),  /* INCT LEN                      */
*      2 $TCD14 BIT(8) INIT('10000000'B),/* FLAG                     */
*      2 $TCE14 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK             */
*   GOTO C10C0026;                  /* MARK NOT TO USE AGAIN         */
*                                                                  0182
         B     C10C0026                                            0182
*   /*****************************************************************/
*   /*                                                               */
*   /* THE OLT REQUIRES REAL CORE TO EXECUTE, AND IT IS UNAVAILABLE  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0183
*C10C0024:                                                         0183
*   $INBUFR(1:8)=$RUNTEST;          /* SECTION DOES NOT RUN VIRT     */
*                                                                  0183
C10C0024 MVC   $INBUFR(8,WAPTR),$RUNTEST(WAPTR)                    0183
*   /*****************************************************************/
*   /*                                                               */
*   /* TCEC MSGN(246)SUB(YES) INVOKED                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0184
*   $TCECM='1'B;                    /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0184
*   R1=ADDR($TCA15);                /* SET UP PARM LIST $TR          */
         LA    R1,$TCA15                                           0185
*   CALL #EXIT;                     /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0186
         BALR  @14,@15                                             0186
*   DCL                                                            0187
*     1 $TCA15,                     /* TCEC PARM LIST                */
*      2 $TCB15 FIXED(32) INIT(246),/* MSG NUMBER                    */
*      2 $TCC15 FIXED(32) INIT(0),  /* INCT LEN                      */
*      2 $TCD15 BIT(8) INIT('10000000'B),/* FLAG                     */
*      2 $TCE15 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK             */
*                                                                  0187
*   /*****************************************************************/
*   /*                                                               */
*   /* MARK THE SECTION AS NEVER TO BE SCHEDULED AGAIN               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0188
*C10C0026:                                                         0188
*   $CANTRUN='1'B;                  /* SECTION CANNOT BE USED        */
C10C0026 OI    $CANTRUN(WAPTR),B'01000000'                         0188
*   GO TO C10C0007;                 /* GO TO NEXT SECTION            */
*                                                                  0189
         B     C10C0007                                            0189
*   /*****************************************************************/
*   /*                                                               */
*   /* THE SECTION IS NOT COMPATABLE WITH THE DEVICE CORRENTLY BEING */
*   /* SCHEDULED. THE SECTION IS BYPASSED, BUT IS AVAILABLE FOR      */
*   /* SCHEDULING THE NEXT TIME AROUND                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0190
*C10C0027:                                                         0190
*   $INBUFR(1:8)=$RUNTEST;          /* SECTION CAN'TRUN ON DEV       */
*                                                                  0190
C10C0027 MVC   $INBUFR(8,WAPTR),$RUNTEST(WAPTR)                    0190
*   /*****************************************************************/
*   /*                                                               */
*   /* TCEC MSGN(201)SUB(YES) INVOKED                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0191
*   $TCECM='1'B;                    /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0191
*   R1=ADDR($TCA16);                /* SET UP PARM LIST $TR          */
         LA    R1,$TCA16                                           0192
*   CALL #EXIT;                     /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0193
         BALR  @14,@15                                             0193
*   DCL                                                            0194
*     1 $TCA16,                     /* TCEC PARM LIST                */
*      2 $TCB16 FIXED(32) INIT(201),/* MSG NUMBER                    */
*      2 $TCC16 FIXED(32) INIT(0),  /* INCT LEN                      */
*      2 $TCD16 BIT(8) INIT('10000000'B),/* FLAG                     */
*      2 $TCE16 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK             */
*   $INBUFR(1:8)=$RUNTEST;          /* SE T UP THE MESSGAE           */
         MVC   $INBUFR(8,WAPTR),$RUNTEST(WAPTR)                    0195
*   $INBUFR(9:12)=$PRIMADR;         /* GENERATE FILL IN AREA         */
*                                                                  0196
         MVC   $INBUFR+8(4,WAPTR),$PRIMADR(WAPTR)                  0196
*   /*****************************************************************/
*   /*                                                               */
*   /* TCEC MSGN(231)SUB(YES) INVOKED                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0197
*   $TCECM='1'B;                    /* SET TCEC SW IN RCA            */
         OI    $TCECM(WAPTR),B'00000001'                           0197
*   R1=ADDR($TCA17);                /* SET UP PARM LIST $TR          */
         LA    R1,$TCA17                                           0198
*   CALL #EXIT;                     /* CALL CECOM                    */
         L     @15,#EXITA(,WAPTR)                                  0199
         BALR  @14,@15                                             0199
*   DCL                                                            0200
*     1 $TCA17,                     /* TCEC PARM LIST                */
*      2 $TCB17 FIXED(32) INIT(231),/* MSG NUMBER                    */
*      2 $TCC17 FIXED(32) INIT(0),  /* INCT LEN                      */
*      2 $TCD17 BIT(8) INIT('10000000'B),/* FLAG                     */
*      2 $TCE17 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK             */
*   GO TO C10C0007;                 /* GO TO NEXT SECTION            */
         B     C10C0007                                            0201
*   DO;                             /* ATDSPLY                       */
*   END;                            /* ATDSPLY                       */
*   END ISTCC010;                   /* END OF SCHEDULER              */
@DATA    DS    0H
@CH00330 DC    H'68'
         DS    0F
@TF00001 DS    F
         DS    0F
@CF00072 DC    F'1'
@CF00785 DC    XL4'0000FFFF'
@CF00699 DC    XL4'0C'
@CV00698 DC    V(ISTCC013)
@CV00721 DC    V(ISTTC035)
@CV00723 DC    V(ISTIC002)
         DS    0D
@CC00675 DC    C'NONE'
@CC00669 DC    C' S'
@CC00671 DC    C'02'
@CC00673 DC    C'01'
         DS    CL2
LDRPARM  DS    CL8
         ORG   LDRPARM
@NM00063 DS    FL4
@NM00064 DC    AL4(LDRPARME)
         ORG   LDRPARM+8
LDRPARME DS    CL16
         ORG   LDRPARME
LDRNAME  DS    CL8
LDRADR   DS    AL4
@NM00065 DC    X'00'
         ORG   @NM00065
@NM00066 DS    BL1
LDRCOMP  EQU   @NM00065+0
@NM00067 EQU   @NM00065+0
         ORG   LDRPARME+13
@NM00068 DS    CL1
@NM00069 DC    H'0'
         ORG   LDRPARME+16
$TCA10   DS    CL13
         ORG   $TCA10
$TCB10   DC    A(158)
$TCC10   DC    A(0)
$TCD10   DC    B'10000000'
$TCE10   DC    X'FFFFFFFF'
         ORG   $TCA10+13
         DS    CL3
$TCA11   DS    CL13
         ORG   $TCA11
$TCB11   DC    A(227)
$TCC11   DC    A(0)
$TCD11   DC    B'10000000'
$TCE11   DC    X'FFFFFFFF'
         ORG   $TCA11+13
         DS    CL3
$TCA12   DS    CL13
         ORG   $TCA12
$TCB12   DC    A(117)
$TCC12   DC    A(0)
$TCD12   DC    B'10000000'
$TCE12   DC    X'FFFFFFFF'
         ORG   $TCA12+13
         DS    CL3
$TCA13   DS    CL13
         ORG   $TCA13
$TCB13   DC    A(200)
$TCC13   DC    A(0)
$TCD13   DC    B'10000000'
$TCE13   DC    X'FFFFFFFF'
         ORG   $TCA13+13
         DS    CL3
$TCA14   DS    CL13
         ORG   $TCA14
$TCB14   DC    A(227)
$TCC14   DC    A(0)
$TCD14   DC    B'10000000'
$TCE14   DC    X'FFFFFFFF'
         ORG   $TCA14+13
         DS    CL3
$TCA15   DS    CL13
         ORG   $TCA15
$TCB15   DC    A(246)
$TCC15   DC    A(0)
$TCD15   DC    B'10000000'
$TCE15   DC    X'FFFFFFFF'
         ORG   $TCA15+13
         DS    CL3
$TCA16   DS    CL13
         ORG   $TCA16
$TCB16   DC    A(201)
$TCC16   DC    A(0)
$TCD16   DC    B'10000000'
$TCE16   DC    X'FFFFFFFF'
         ORG   $TCA16+13
         DS    CL3
$TCA17   DS    CL13
         ORG   $TCA17
$TCB17   DC    A(231)
$TCC17   DC    A(0)
$TCD17   DC    B'10000000'
$TCE17   DC    X'FFFFFFFF'
         ORG   $TCA17+13
         DS    CL3
PATCH    DC    40F'0'
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
ITATCTS  EQU   @03
I        EQU   @03
WAPTR    EQU   @02
R0       EQU   @00
R1       EQU   @01
R13      EQU   @13
R15      EQU   @15
$RCAAREA EQU   0
$POINTER EQU   $RCAAREA+100
$TRTBLA  EQU   $POINTER+124
$CONSTNT EQU   $RCAAREA+244
$RCAFLG  EQU   $RCAAREA+604
$TRTBL   EQU   0
TOLTEPWA EQU   0
$SCTTBLE EQU   TOLTEPWA
$ERRLPCT EQU   $SCTTBLE
$TESTOPT EQU   $SCTTBLE+2
$ERROPT  EQU   $SCTTBLE+3
$TESTERR EQU   $ERROPT
$ASTERIK EQU   $ERROPT
$CATERR  EQU   $ERROPT
$NOCNTRL EQU   $ERROPT
$LOOPERR EQU   $ERROPT
$SCTLEVL EQU   $SCTTBLE+7
$PDEVFLG EQU   $SCTTBLE+10
$CDSFLGS EQU   $SCTTBLE+11
$PDEVADR EQU   $SCTTBLE+12
$CDS8T19 EQU   $SCTTBLE+20
$EXECFLG EQU   $SCTTBLE+33
$ERRCNT  EQU   $EXECFLG
$LSTPDEV EQU   $EXECFLG
$CLEANUP EQU   $EXECFLG
$OLTFLGS EQU   $SCTTBLE+36
$CLEANRT EQU   $OLTFLGS
$DYCOM   EQU   $OLTFLGS
$OLTFLG2 EQU   $SCTTBLE+37
$TALK    EQU   $OLTFLG2
$TOTFLG1 EQU   $SCTTBLE+38
$ROUTMSK EQU   $SCTTBLE+40
$RETMASK EQU   $SCTTBLE+70
#MSGIDAC EQU   $SCTTBLE+78
$CDA     EQU   TOLTEPWA+100
$SCTPTR  EQU   $CDA+16
$RCA     EQU   $CDA+44
$OLTPTR  EQU   $CDA+52
$LOWADDR EQU   $OLTPTR
$HIMOREC EQU   $CDA+60
$HIGHADR EQU   $HIMOREC
$TLCNT   EQU   $CDA+100
$ERRCNTA EQU   $CDA+102
$CTLCNT  EQU   $CDA+106
$GRCNTS  EQU   $CDA+108
$COMMFLG EQU   TOLTEPWA+224
$FLAG1   EQU   $COMMFLG
$NORELDV EQU   $FLAG1
$OLTACT  EQU   $FLAG1
$FLAG2   EQU   $COMMFLG+1
$NDR     EQU   $FLAG2
$NRMTERM EQU   $FLAG2
$FLAG5   EQU   $COMMFLG+4
$FSTFE   EQU   $FLAG5
$FSTCAT  EQU   $FLAG5
$EOJ     EQU   $FLAG5
$CANCEL  EQU   $EOJ
$FLAG6   EQU   $COMMFLG+5
$FSTMCIS EQU   $FLAG6
$ABNDBIT EQU   $FLAG6
$FLAG8   EQU   $COMMFLG+7
$TCECM   EQU   $FLAG8
$FLAG13  EQU   $COMMFLG+12
$CATMSG  EQU   $FLAG13
$DEVTBLE EQU   TOLTEPWA+240
$DEVCDS  EQU   $DEVTBLE
$DEVUNAD EQU   $DEVCDS
@NM00045 EQU   $DEVUNAD+2
$DEVFEAT EQU   $DEVCDS+4
$DEVCDSF EQU   $DEVCDS+9
$DEVSDCF EQU   $DEVCDS+10
$$SYMNME EQU   $DEVCDS+12
$DEVFLG1 EQU   $DEVTBLE+20
$LETGO   EQU   $DEVFLG1
$GRABBED EQU   $DEVFLG1
$EVNCPLT EQU   $DEVFLG1
$ATTNEXP EQU   $DEVFLG1
$INTOCC  EQU   $DEVFLG1
$PRIMARY EQU   $DEVFLG1
$DEVFLG2 EQU   $DEVTBLE+21
$DEVTECB EQU   $DEVTBLE+22
$OPIS    EQU   $DEVTECB
$OPND    EQU   $DEVTECB+2
$DEVFLG3 EQU   $DEVTBLE+27
$NOTDEV  EQU   $DEVFLG3
$ACQRED  EQU   $DEVFLG3
$SIOFLG  EQU   $DEVFLG3
$SRTEST  EQU   $DEVFLG3
$OLTERR  EQU   $DEVFLG3
$IFTOUT  EQU   $DEVTBLE+36
$DEVSESP EQU   $IFTOUT
$SSCPDAF EQU   $IFTOUT+6
$LDNCBPT EQU   $DEVTBLE+48
$RNINFO  EQU   $DEVTBLE+56
$DEVFLG5 EQU   $RNINFO+8
$DEVFLG4 EQU   $DEVTBLE+65
$DEVCNTS EQU   TOLTEPWA+1464
$CDEVPT  EQU   TOLTEPWA+1466
$SLTBL   EQU   TOLTEPWA+1468
$FAMILY  EQU   $SLTBL
$SYMBOLC EQU   $SLTBL+5
$RUNTEST EQU   $SLTBL+13
$TESTSUF EQU   $RUNTEST+5
$TESTFLG EQU   $SLTBL+21
$FINAL   EQU   $TESTFLG
$CANTRUN EQU   $TESTFLG
$SECLST  EQU   $SLTBL+22
$SECFLGS EQU   $SECLST+3
$TSTCNT  EQU   $SLTBL+126
$CTSTPT  EQU   $SLTBL+128
$PRIMADR EQU   $SLTBL+130
$INBUFR  EQU   TOLTEPWA+2104
$PASSONA EQU   TOLTEPWA+2264
#EXITA   EQU   TOLTEPWA+2632
$CCOMDAT EQU   TOLTEPWA+2644
$CFLGS   EQU   $CCOMDAT+16
$24FEMSG EQU   TOLTEPWA+2681
$24CATMG EQU   $24FEMSG+11
@NM00054 EQU   TOLTEPWA+2776
$OUNTPTR EQU   @NM00054+4
$NSPTR   EQU   $OUNTPTR
$NSCNT   EQU   @NM00054+10
$ENXX    EQU   @NM00054+15
$IMITX   EQU   $ENXX
$TRTN#   EQU   TOLTEPWA+2815
SVESC033 EQU   TOLTEPWA+3160
SVECC013 EQU   TOLTEPWA+3232
SVEIC003 EQU   TOLTEPWA+3592
SVESC022 EQU   TOLTEPWA+3736
SVECC010 EQU   TOLTEPWA+3952
SVECC011 EQU   TOLTEPWA+4024
#EXIT    EQU   0
@NM00057 EQU   0
SECTID   EQU   @NM00057
RTNDISP  EQU   @NM00057+10
INST     EQU   @NM00057+12
#MSGID   EQU   @NM00057+16
$NEWSPRF EQU   0
$MODEL   EQU   $NEWSPRF+1
$CMODEL  EQU   $NEWSPRF+5
$SCTREQ  EQU   $NEWSPRF+11
#FLAGS   EQU   $NEWSPRF+16
$VIRTUAL EQU   #FLAGS
#MSGIDRQ EQU   #FLAGS
$COUNT   EQU   $NEWSPRF+18
OLTENTRY EQU   0
CDSMAP   EQU   0
CDSUA    EQU   CDSMAP
CDSMFCT  EQU   CDSMAP+4
CDSFEAT  EQU   CDSMFCT+1
CDSFLAG  EQU   CDSMAP+9
CDSREMSY EQU   CDSFLAG
CDSNTPRI EQU   CDSFLAG+1
CDSSYMBN EQU   CDSMAP+12
BACKSAVE EQU   0
ITATCF   EQU   0
ITATCT   EQU   0
RCAPTR   EQU   $RCA
OLTMFCT  EQU   $MODEL
OLTCMFCT EQU   $CMODEL
SCTCDS   EQU   $PDEVADR
SVECC012 EQU   SVESC022
SVEIC00A EQU   SVEIC003
SVEIC004 EQU   SVEIC003
SVEIC005 EQU   SVEIC003
SVESC02A EQU   SVESC022
SVESC02B EQU   SVESC022
SVESC02D EQU   SVESC022
SVESC02E EQU   SVESC022
SVESC02F EQU   SVECC013
SVESC024 EQU   SVESC022
SVESC027 EQU   SVESC022
SVESC029 EQU   SVESC033
SVESC031 EQU   SVECC013
SVESC032 EQU   SVECC011
SVETC037 EQU   SVEIC003
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
CDSEXARA EQU   CDSMAP+20
CDSEXTM  EQU   CDSFLAG+2
CDSEXTB  EQU   CDSFLAG+2
CDSTMERB EQU   CDSFLAG+2
@NM00062 EQU   CDSFLAG+1
CDSDVPRO EQU   CDSFLAG+1
CDSLINCN EQU   CDSFLAG
CDS2CHAN EQU   CDSFLAG
CDSSYMB  EQU   CDSFLAG
CDSEXTPR EQU   CDSFLAG
CDSFEVOL EQU   CDSFLAG
CDSSHAR  EQU   CDSFLAG
CDSFPMD  EQU   CDSFLAG
CDSBYTCT EQU   CDSMAP+8
CDSTYPE  EQU   CDSMFCT+3
CDSCLASS EQU   CDSMFCT+2
@NM00061 EQU   CDSFEAT
CDSDEVM  EQU   CDSFEAT
CDSDEVT  EQU   CDSFEAT
CDSASCII EQU   CDSFEAT
CDSMODEL EQU   CDSMFCT
$RME     EQU   $NEWSPRF+36
@NM00060 EQU   $NEWSPRF+35
$ECA     EQU   $NEWSPRF+32
$DCHB    EQU   $NEWSPRF+28
$MOSIZE  EQU   $NEWSPRF+24
$RTSIZE  EQU   $NEWSPRF+20
$REFNUM  EQU   $NEWSPRF+17
@NM00059 EQU   #FLAGS
#PLKMCOR EQU   #FLAGS
@NM00058 EQU   #FLAGS
$PLINK$  EQU   $NEWSPRF+12
$RM      EQU   $NEWSPRF+9
$CTYPE   EQU   $NEWSPRF+8
$CCLASS  EQU   $NEWSPRF+7
$CFEAT   EQU   $NEWSPRF+6
$TYPE    EQU   $NEWSPRF+4
$CLASS   EQU   $NEWSPRF+3
$FEAT    EQU   $NEWSPRF+2
$RTN#    EQU   $NEWSPRF
LEVEL    EQU   @NM00057+8
SVETC035 EQU   TOLTEPWA+3880
SVESC030 EQU   TOLTEPWA+3808
SVESC020 EQU   TOLTEPWA+3664
SVEIC002 EQU   TOLTEPWA+3520
SVECC014 EQU   TOLTEPWA+3376
SVESC120 EQU   TOLTEPWA+3304
SVESC025 EQU   TOLTEPWA+3088
@NM00056 EQU   TOLTEPWA+2980
$RPLERR  EQU   TOLTEPWA+2977
@NM00055 EQU   TOLTEPWA+2976
$R13PR3  EQU   TOLTEPWA+2972
$CEINT2  EQU   TOLTEPWA+2968
$CEINT1  EQU   TOLTEPWA+2964
$MSGGET  EQU   TOLTEPWA+2960
$ACQLIST EQU   TOLTEPWA+2956
$R4SAVE1 EQU   TOLTEPWA+2952
$CLSISS  EQU   TOLTEPWA+2950
$CLSCNT  EQU   TOLTEPWA+2948
$CUTABLE EQU   TOLTEPWA+2868
$BUFSZ2  EQU   TOLTEPWA+2864
$RESID2  EQU   TOLTEPWA+2860
$OLTCCW2 EQU   TOLTEPWA+2856
$ENDBFR2 EQU   TOLTEPWA+2852
$1STBFR2 EQU   TOLTEPWA+2848
$TECB2   EQU   TOLTEPWA+2844
$BUFSZ1  EQU   TOLTEPWA+2840
$RESID1  EQU   TOLTEPWA+2836
$OLTCCW1 EQU   TOLTEPWA+2832
$ENDBFR1 EQU   TOLTEPWA+2828
$1STBFR1 EQU   TOLTEPWA+2824
$TECB1   EQU   TOLTEPWA+2820
$WAITIME EQU   TOLTEPWA+2816
$WIODEV  EQU   TOLTEPWA+2814
$RQSTSZE EQU   TOLTEPWA+2812
$RQSTPTR EQU   TOLTEPWA+2808
$R4SAVE  EQU   TOLTEPWA+2804
$PARTADR EQU   TOLTEPWA+2800
$TBSDATA EQU   TOLTEPWA+2796
$CTWIDTH EQU   TOLTEPWA+2795
$CTLINE  EQU   TOLTEPWA+2794
$APWIDTH EQU   TOLTEPWA+2793
$APLINE  EQU   TOLTEPWA+2792
$INDEX   EQU   $IMITX
$UMXX    EQU   @NM00054+14
$NSXX    EQU   @NM00054+12
$ATACNT  EQU   $NSCNT
$CTR     EQU   @NM00054+8
$ATAPTR  EQU   $NSPTR
$DDRPTR  EQU   @NM00054
$DTORESP EQU   TOLTEPWA+2712
$APNAME  EQU   TOLTEPWA+2704
$24SYMNE EQU   $24CATMG+4
$24DEVAD EQU   $24CATMG
$24RTN#  EQU   $24FEMSG+8
$ESECTID EQU   $24FEMSG
$24FLGS  EQU   TOLTEPWA+2680
$24SAVE2 EQU   TOLTEPWA+2676
$24SAVE1 EQU   TOLTEPWA+2672
$24UNADR EQU   TOLTEPWA+2668
$24SAV13 EQU   TOLTEPWA+2664
$24RETCD EQU   TOLTEPWA+2663
$MACID   EQU   TOLTEPWA+2661
$CSPARE  EQU   $CFLGS
$C2WAY   EQU   $CFLGS
$CINCT   EQU   $CCOMDAT+12
$CINADR  EQU   $CCOMDAT+8
$COUTCT  EQU   $CCOMDAT+4
$COUTAD  EQU   $CCOMDAT
ROOTLOC  EQU   TOLTEPWA+2640
$RETREG  EQU   TOLTEPWA+2636
$WORK    EQU   TOLTEPWA+2376
$EXTA    EQU   TOLTEPWA+2320
$TRMINPT EQU   TOLTEPWA+2184
$BUFFER  EQU   TOLTEPWA+1976
$TLTRPL3 EQU   TOLTEPWA+1856
$TLTRPL2 EQU   TOLTEPWA+1736
$TLTRPL1 EQU   TOLTEPWA+1616
@NM00053 EQU   $SLTBL+135
$HIGHRTN EQU   $SLTBL+134
$SECTION EQU   $SECLST
$SECACT  EQU   $TESTFLG
$TESTNUM EQU   $RUNTEST+1
$LETPRF  EQU   $RUNTEST
$FEEDBCK EQU   $DEVTBLE+66
$WTISUED EQU   $DEVFLG4
$EXIOISD EQU   $DEVFLG4
$REMWRIT EQU   $DEVFLG4
$REMDONE EQU   $DEVFLG4
$2NDUSED EQU   $DEVFLG4
$1STUSED EQU   $DEVFLG4
$IGLXIFB EQU   $DEVFLG4
$EXIOLV3 EQU   $DEVFLG4
@NM00052 EQU   $DEVFLG5
$DVBASIC EQU   $DEVFLG5
$ASCII   EQU   $DEVFLG5
$DEVLU   EQU   $DEVFLG5
$OPNDFAL EQU   $DEVFLG5
$ACQNCB  EQU   $DEVFLG5
$REMOTE  EQU   $DEVFLG5
$ENDNODE EQU   $DEVFLG5
$LINENME EQU   $RNINFO
$CID     EQU   $DEVTBLE+52
$DVCOL   EQU   $LDNCBPT+2
$DVROW   EQU   $LDNCBPT
$NCSPLP  EQU   $DEVTBLE+44
$DVLN    EQU   $SSCPDAF
$DAF     EQU   $DEVSESP+4
$VARYPAB EQU   $DEVSESP
$SYSMN   EQU   $DEVTBLE+28
@NM00051 EQU   $DEVFLG3
$CLRSNT  EQU   $DEVFLG3
$DVSNDOK EQU   $SIOFLG
$POLLREQ EQU   $DEVFLG3
$DVINCT  EQU   $DEVTBLE+26
$DVBRKST EQU   $OPND+1
$DVBRKSN EQU   $OPND
$DVSEQNO EQU   $OPIS
$CEINTRP EQU   $DEVFLG2
$TESTMDE EQU   $DEVFLG2
$DEVALOC EQU   $DEVFLG2
$ALLDATA EQU   $DEVFLG2
$ENDCNTL EQU   $DEVFLG2
$CTLDEV  EQU   $DEVFLG2
$NOCDS   EQU   $DEVFLG2
$DATAIN  EQU   $DEVFLG2
$DVCTBYT EQU   $INTOCC
$DEVACT  EQU   $DEVFLG1
$DVLGMDE EQU   $ATTNEXP
$DVSPRM  EQU   $EVNCPLT
$CATASTR EQU   $DEVFLG1
$CURELEM EQU   $$SYMNME+4
$MSGOTSD EQU   $$SYMNME
$EXTDEV  EQU   $DEVCDS+11
@NM00050 EQU   $DEVSDCF
$NOTPRIM EQU   $DEVSDCF
@NM00049 EQU   $DEVCDSF
@NM00048 EQU   $DEVCDSF
@NM00047 EQU   $DEVCDSF
$CDSNAME EQU   $DEVCDSF
$EXTRN   EQU   $DEVCDSF
$CEVOLUM EQU   $DEVCDSF
$SHARD   EQU   $DEVCDSF
$DEVFPM  EQU   $DEVCDSF
$DEVCNT  EQU   $DEVCDS+8
$DEVTYPE EQU   $DEVFEAT+3
$DEVCLAS EQU   $DEVFEAT+2
$DEVFRRS EQU   $DEVFEAT+1
$DEVMOD  EQU   $DEVFEAT
$DEVRDGT EQU   @NM00045+1
$DEVCTLU EQU   @NM00045+1
$DEVCHAN EQU   @NM00045
@NM00046 EQU   @NM00045
$CTINDX  EQU   $DEVUNAD
@NM00044 EQU   $COMMFLG+15
@NM00043 EQU   $COMMFLG+14
@NM00042 EQU   $COMMFLG+13
$TEP2ND  EQU   $FLAG13
$TEP1ST  EQU   $FLAG13
$PRMPTSW EQU   $FLAG13
$DEVENT  EQU   $FLAG13
$OLTMACC EQU   $FLAG13
$LGON    EQU   $FLAG13
$CTLOGON EQU   $FLAG13
@NM00041 EQU   $COMMFLG+11
@NM00040 EQU   $COMMFLG+10
@NM00039 EQU   $COMMFLG+9
@NM00038 EQU   $COMMFLG+8
$VS2     EQU   $FLAG8
$VS1     EQU   $FLAG8
$EDOS    EQU   $FLAG8
@NM00037 EQU   $FLAG8
$TWOWAY  EQU   $FLAG8
@NM00036 EQU   $FLAG8
@NM00035 EQU   $COMMFLG+6
$CIREQ   EQU   $FLAG6
$ABTERM  EQU   $ABNDBIT
$DISCREQ EQU   $FLAG6
$DISCISS EQU   $FLAG6
$CHANGE  EQU   $FLAG6
$CTERROR EQU   $FLAG6
$RECAL11 EQU   $FLAG6
@NM00034 EQU   $FLAG5
$PROGCK  EQU   $CANCEL
$PRINTAP EQU   $FLAG5
@NM00033 EQU   $FLAG5
$MSG922  EQU   $FLAG5
$CT924   EQU   $FLAG5
@NM00032 EQU   $COMMFLG+3
@NM00031 EQU   $COMMFLG+2
$PARTIAL EQU   $FLAG2
$VALDTST EQU   $FLAG2
$VALDDEV EQU   $FLAG2
$DBLSLSH EQU   $FLAG2
@NM00030 EQU   $FLAG2
$FTTHR   EQU   $FLAG2
@NM00029 EQU   $FLAG1
$OPTCHNG EQU   $FLAG1
$DEVCHNG EQU   $FLAG1
$TESTCNG EQU   $FLAG1
$CNSLFG  EQU   $FLAG1
$TEP3RD  EQU   $FLAG1
@NM00028 EQU   $CDA+120
$CUCNT   EQU   $CDA+118
@NM00027 EQU   $CDA+117
$PRTFORM EQU   $CDA+116
$OPISCNT EQU   $CDA+114
$OPNDCNT EQU   $CDA+112
$GETMSZE EQU   $CDA+110
$ACTLVL  EQU   $CDA+105
$PRNTLVL EQU   $CDA+104
$TIMEALW EQU   $CDA+96
$PTRAREA EQU   $CDA+92
$GETMPTR EQU   $CDA+88
$R13PTRT EQU   $CDA+84
$R13PTR  EQU   $CDA+80
$TEPEND  EQU   $CDA+76
$PLINKDL EQU   $CDA+72
$TEPBEGN EQU   $CDA+68
$FRELPTR EQU   $CDA+64
$LOMOREC EQU   $CDA+56
$ENDCOMM EQU   $CDA+48
$COMMON  EQU   $RCA
$SLASHAD EQU   $CDA+32
$PASSON  EQU   $CDA+28
$TOLBRTB EQU   $CDA+24
$SCTPTR8 EQU   $CDA+20
$TBWDPTR EQU   $CDA+12
$TFWDPTR EQU   $CDA+8
@NM00026 EQU   $CDA
@NM00025 EQU   $SCTTBLE+98
$SCTLWTC EQU   $SCTTBLE+96
$SCTLWTA EQU   $SCTTBLE+92
#EXT     EQU   $SCTTBLE+88
#PASS    EQU   $SCTTBLE+84
#TABLE   EQU   $SCTTBLE+80
@NM00024 EQU   $SCTTBLE+71
$R249255 EQU   $ROUTMSK+29
$R241248 EQU   $ROUTMSK+28
$R233240 EQU   $ROUTMSK+27
$R225232 EQU   $ROUTMSK+26
$R217224 EQU   $ROUTMSK+25
$R209216 EQU   $ROUTMSK+24
$R201208 EQU   $ROUTMSK+23
$R193200 EQU   $ROUTMSK+22
$R185192 EQU   $ROUTMSK+21
$R177184 EQU   $ROUTMSK+20
$R169176 EQU   $ROUTMSK+19
$R161168 EQU   $ROUTMSK+18
$R153160 EQU   $ROUTMSK+17
$R145152 EQU   $ROUTMSK+16
$R137144 EQU   $ROUTMSK+15
$R129136 EQU   $ROUTMSK+14
$R121128 EQU   $ROUTMSK+13
$R113120 EQU   $ROUTMSK+12
$R105112 EQU   $ROUTMSK+11
$R097104 EQU   $ROUTMSK+10
$R089096 EQU   $ROUTMSK+9
$R081088 EQU   $ROUTMSK+8
$R073080 EQU   $ROUTMSK+7
$R065072 EQU   $ROUTMSK+6
$R057064 EQU   $ROUTMSK+5
$R049056 EQU   $ROUTMSK+4
$R041048 EQU   $ROUTMSK+3
$R033040 EQU   $ROUTMSK+2
$R025032 EQU   $ROUTMSK+1
$R017024 EQU   $ROUTMSK
$TOTFLG2 EQU   $SCTTBLE+39
@NM00023 EQU   $TOTFLG1
@NM00022 EQU   $TOTFLG1
@NM00021 EQU   $TOTFLG1
$CURELOD EQU   $TOTFLG1
$CTEQTT  EQU   $TOTFLG1
@NM00020 EQU   $TOTFLG1
@NM00019 EQU   $TOTFLG1
$LINESHR EQU   $TOTFLG1
@NM00018 EQU   $OLTFLG2
@NM00017 EQU   $OLTFLG2
@NM00016 EQU   $OLTFLG2
@NM00015 EQU   $OLTFLG2
@NM00014 EQU   $OLTFLG2
@NM00013 EQU   $OLTFLG2
@NM00012 EQU   $OLTFLG2
@NM00011 EQU   $OLTFLGS
$TRACE   EQU   $OLTFLGS
$RETCODE EQU   $OLTFLGS
$CONTCB  EQU   $OLTFLGS
$RETAIN  EQU   $OLTFLGS
$MANINTV EQU   $OLTFLGS
$OLTSIZE EQU   $SCTTBLE+34
$QSCTMOD EQU   $EXECFLG
$CTRLMOD EQU   $EXECFLG
$RTNSLCT EQU   $EXECFLG
$MULTDEV EQU   $EXECFLG
@NM00010 EQU   $EXECFLG
$RMSKCNT EQU   $SCTTBLE+32
$SYNAME  EQU   $CDS8T19+4
$EXTSIG  EQU   $CDS8T19+3
$CDFLGS  EQU   $CDS8T19+1
$CDSCNT  EQU   $CDS8T19
$PDEVDSC EQU   $SCTTBLE+16
$COMMCN  EQU   $CDSFLGS
$CUSTSYM EQU   $CDSFLGS
$TWOCHSW EQU   $CDSFLGS
$SYMNAME EQU   $CDSFLGS
$EXTINTC EQU   $CDSFLGS
$CEVOL   EQU   $CDSFLGS
$SHARED  EQU   $CDSFLGS
$FPM     EQU   $CDSFLGS
$LASTSUB EQU   $PDEVFLG
@NM00009 EQU   $PDEVFLG
@NM00008 EQU   $PDEVFLG
@NM00007 EQU   $PDEVFLG
$LASTDEV EQU   $PDEVFLG
@NM00006 EQU   $PDEVFLG
$EXFILPT EQU   $PDEVFLG
$FPMOLD  EQU   $PDEVFLG
$TSSSYM  EQU   $SCTTBLE+8
$DRIVER  EQU   $SCTTBLE+6
$RT0916  EQU   $SCTTBLE+5
$RT0108  EQU   $SCTTBLE+4
$LOOPTST EQU   $ERROPT
$NERRPRT EQU   $ERROPT
$ALTPRNT EQU   $ERROPT
$FSTCOMM EQU   $TESTOPT
$INDEFLP EQU   $TESTOPT
$NOPRT   EQU   $TESTOPT
$PARAPRT EQU   $TESTOPT
@NM00005 EQU   $TESTOPT
$TLTEND  EQU   $RCAAREA+945
$CNSLID  EQU   $RCAAREA+936
$EXITSAV EQU   $RCAAREA+864
$TRASCII EQU   $RCAAREA+608
@NM00004 EQU   $RCAAREA+605
$VTAMEND EQU   $RCAFLG
$TPPOSTD EQU   $RCAFLG
$NEWCT   EQU   $RCAFLG
$ABNDALL EQU   $RCAFLG
$CUTESTB EQU   $RCAFLG
$CONSOLE EQU   $RCAFLG
$TPLOGON EQU   $RCAFLG
$UPDATE  EQU   $RCAFLG
$DEVAREA EQU   $RCAAREA+600
$CTDVAR  EQU   $RCAAREA+596
$BUFFS   EQU   $RCAAREA+464
$TLTNIB  EQU   $CONSTNT+140
$TLTPRPL EQU   $CONSTNT+20
@NM00003 EQU   $CONSTNT+4
@NM00002 EQU   $CONSTNT+2
$USECNT  EQU   $CONSTNT
$CURRTWA EQU   $POINTER+140
$CTNAME  EQU   $POINTER+132
$CTARGX  EQU   $POINTER+128
$COMINT  EQU   $POINTER+120
$QUEHNDL EQU   $POINTER+116
@NM00001 EQU   $POINTER+36
$RTNPTR  EQU   $POINTER+32
$TLTECB2 EQU   $POINTER+28
$TLTECB1 EQU   $POINTER+24
$CLEANP  EQU   $POINTER+20
$ABEND   EQU   $POINTER+16
$LSTAREA EQU   $POINTER+12
$FSTAREA EQU   $POINTER+8
$CVTSAVE EQU   $POINTER+4
$TOLTEP  EQU   $POINTER
$TLTACB  EQU   $RCAAREA
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RT00046 EQU   C10C0005
@RT00059 EQU   C10C0004
@RT00071 EQU   C10C0008
@RT00078 EQU   C10C0007
@RT00085 EQU   C10C0021
@RT00087 EQU   C10C0026
@RT00090 EQU   C10C0022
@RT00095 EQU   C10C0026
@RT00097 EQU   C10C0020
@RT00099 EQU   C10C0024
@RT00101 EQU   C10C0023
@RT00103 EQU   C10C0027
@ENDDATA EQU   *
         END   ISTCC010,(C'PLS2027',0702,80232)

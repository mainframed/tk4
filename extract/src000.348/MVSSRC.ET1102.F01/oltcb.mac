*%GOTO OLTCBPLS;                       /*                        S21903
         MACRO
         OLTCB &DSECT=YES,&EQUATES=NO,&POINTER=NO,&CONFG=NO
.* CHANGE ACTIVITY
.* A000000-999999                                              @G36XRXV
.* C165500,626000,626500,634000                                @G36XRXV
*
*        ON-LINE TEST CONTROL BLOCK
*
*        STATUS = VERSION 10.0                                 @Y17XAXU
*
*CHANGE ACTIVITY AS FOLLOWS:
TOTODISP EQU   8
         AIF   ('&POINTER' NE 'YES').BYP001
TOTOBPTR DSECT
*
TOTELKEY DS    C .           OLTCB QUEUE ELEMENT KEY
TOTELQCB DS    AL3 .         ADDRESS OF OLTCB QCB
         DS    C .
TOTELLNK DS    AL3 .         OLTCB QUEUE ELEMENT LINK FIELD
*
         AGO   .BYPASS
.BYP001  ANOP
         AIF   ('&DSECT' EQ 'NO').BYPASS
TOTOLTCB DSECT
         AGO   .BYPASS1
.BYPASS  ANOP
TOTOLTCB DS    0F
.BYPASS1 ANOP
*
*              SECTION CONTROL TABLE MAPPING
*
$SCTTBLE DS    0F
$ERRLPCT DS    H .           LOOP ON ERROR COUNT
*
$TESTOPT DS    C .           TEST OPTION FIELD
*
$NOPRT   EQU   X'04' .            NO PRINT OPTION FLAG
$INDEFLP EQU   X'02' .            INDEFINITE ERROR LOOP FLAG
$FSTCOMM EQU   X'01' .            FIRST ERROR COMMUNICATION FLAG
*
$ERROPT  DS    C .           ERROR AND OPTION FIELD
*
$TESTERR EQU   X'80' .            TEST ERROR FLAG
$ASTERIK EQU   X'40' .            PRINT ASTERIK ON TERMINATE MSG FLAG
$CATERR  EQU   X'20' .            CATASTROPHIC ERROR FLAG
$ALTPRNT EQU   X'10' .            ALTERNATE PRINTER OPTION FLAG
$NOCNTRL EQU   X'08' .            NO CONTROL PRINT OPTION FLAG
$NERRPRT EQU   X'04' .            NO ERROR PRINT OPTION FLAG
$LOOPERR EQU   X'02' .            LOOP ON ERROR OPTION FLAG
$LOOPTST EQU   X'01' .            LOOP ON TEST ENTRY OPTION FLAG
*
$RT0108  DS    C .           ROUTINE MASK 1 THRU 8
$RT0916  DS    C .           ROUTINE MASK 9 THRU 16
$DRIVER  DS    C .           DRIVER IDENTIFICATION
*
$TOTE    EQU   X'8A' .            TOTE ID                      @Y17XAXU
*
$SPARE1  DS    C .           UNUSED
$TSSSYM  DS    H .           RESERVED FOR TSS
$PDEVFLG DS    C .           PRIMARY DEVICE FLAGS
*
$FPMOLD  EQU   X'80' .            FILE PROTECT FLAG
$EXFILPT EQU   X'40' .            ADDITIONAL FILE PROTECT FLAG
$TSSSYS1 EQU   X'20' .            RESERVED FOR TSS
$LASTDEV EQU   X'10' .            LAST DEVICE OF SUBSYSTEM FLAG
*        EQU   X'08' .            SPARE
$TERMNDX EQU   X'04' .            RESERVED FOR TSS
$PATHDEF EQU   X'02' .            RESERVED FOR TSS
$LASTSUB EQU   X'01' .            LAST DEVICE OF LAST SUBSYSTEM FLAG
*
$CDSFLGS DS    C .           DEVICE FLAGS FROM CDS FLAG BYTE
*
$FPM     EQU   X'80' .            FILE PROTECT FLAG
$SHARED  EQU   X'40' .            SHARED DEVICE FLAG
$CEVOL   EQU   X'20' .            CE VOLUME FLAG
$EXTINTC EQU   X'10' .            DEV ADDR ASSOCIATED WITH EXT FLAG
$SYMNAME EQU   X'08' .            SYMBOLIC NAME FLAG
$TWOCHSW EQU   X'04' .            TWO CHANNEL SWITCH FLAG
$CUSTSYM EQU   X'02' .            CUSTOMER ASSIGNED SYMBOLIC
*                                   NAME FLAG
$COMMCN  EQU   X'01' .            LINE CONNECTION REQUIRED FLAG
*
$PDEVADR DS    F .           PRIMARY DEVICE ADDRESS
$PDEVDSC DS    F .           PRIMARY DEVICE DESCRIPTORS
$CDS8T19 DS    3F .          PRIMARY DEVICE CDS BYTES 8 THRU 19
$RMSKCNT DS    C .           ROUTINE MASK COUNT LENGTH
$EXECFLG DS    C .           EXECUTIVE PROGRAM FLAGS
*
$CECCMIN EQU   X'80' .            REPLY IN TO OUTSTANDING CECOM FLAG
$MULTDEV EQU   X'40' .            MORE THAN ONE DEVICE ENTRY FLAG
$RTNSLCT EQU   X'20' .            OPERATOR MADE ROUTINE SELECTION FLAG
$ERRCNT  EQU   X'10' .            OPERATOR SPECIFIED ERROR LOOP COUNT
$LSTPDEV EQU   X'08' .            DON'T ASSIGN MORE PRIMARY DEVICES FLG
$CLEANUP EQU   X'04' .            SECTION ENTERED FOR CLEANUP FLAG
$CTRLMOD EQU   X'02' .            CONTROL MODE AVAILABLE FLAG
$QSCTMOD EQU   X'01' .            QUIESCENT MODE AVAILABLE FLAG
*
$OLTSIZE DS    H .           OLT REGION SIZE
$OLTFLGS DS    C .           OLT FUNCTIONAL FLAGS
*
$MANINTV EQU   X'80' .            MANUAL INTERVENTION ROUTINE FLAG
$CLEANRT EQU   X'40' .            OLT HAS CLEANUP ROUTINE FLAG
$RETAIN  EQU   X'20' .            RETAIN IS ACTIVE FLAG
$CONTCB  EQU   X'10' .            CONTINGENT CONNECTION BROKEN FLAG
$RETCODE EQU   X'08' .
$TRACE   EQU   X'04' .
$LASTSEC EQU   X'02' .            LAST SECTION SCHEDULED FLAG
*
         DS    C .           UNUSED
$TOTFLG1 DS    C .           TOTE 1ST FLAG BYTE
*
$LINESHR EQU   X'80' .            LINE CAN BE SHARED FLAG
$TDATBLK EQU   X'40' .            TOTE MESSAGE BLOCKING FLAG
$TERMSEC EQU   X'20'              TRM REQUESTS TEST IN BACKUP    S22024
*                                   MODE                         S22024
$CTEQTT  EQU   X'10'              CONTROL TERMINAL AND TEST      S22024
*                                   TERMINAL ARE ON THE SAME LINES22024
*
$TOTFLG2 DS    C .           TOTE 2ND FLAG BYTE
$R017024 DS    C .           ROUTINE MASK 017 THRU 024
$R025032 DS    C .           ROUTINE MASK 025 THRU 032
$R033040 DS    C .           ROUTINE MASK 033 THRU 040
$R041048 DS    C .           ROUTINE MASK 041 THRU 048
$R049056 DS    C .           ROUTINE MASK 049 THRU 056
$R057064 DS    C .           ROUTINE MASK 057 THRU 064
$R065072 DS    C .           ROUTINE MASK 065 THRU 072
$R073080 DS    C .           ROUTINE MASK 073 THRU 080
$R081088 DS    C .           ROUTINE MASK 081 THRU 088
$R089096 DS    C .           ROUTINE MASK 089 THRU 096
$R097104 DS    C .           ROUTINE MASK 097 THRU 104
$R105112 DS    C .           ROUTINE MASK 105  THRU 112
$R113120 DS    C .           ROUTINE MASK 113  THRU 120
$R121128 DS    C .           ROUTINE MASK 121  THRU 128
$R129136 DS    C .           ROUTINE MASK 129  THRU 136
$R137144 DS    C .           ROUTINE MASK 137  THRU 144
$R145152 DS    C .           ROUTINE MASK 145  THRU 152
$R153160 DS    C .           ROUTINE MASK 153  THRU 160
$R161168 DS    C .           ROUTINE MASK 161  THRU 168
$R169176 DS    C .           ROUTINE MASK 169  THRU 176
$R177184 DS    C .           ROUTINE MASK 177  THRU 184
$R185192 DS    C .           ROUTINE MASK 185  THRU 192
$R193200 DS    C .           ROUTINE MASK 193  THRU 200
$R201208 DS    C .           ROUTINE MASK 201  THRU 208
$R209216 DS    C .           ROUTINE MASK 209  THRU 216
$R217224 DS    C .           ROUTINE MASK 217  THRU 224
$R225232 DS    C .           ROUTINE MASK 225  THRU 232
$R233240 DS    C .           ROUTINE MASK 233  THRU 240
$R241248 DS    C .           ROUTINE MASK 241  THRU 248
$R249255 DS    C .           ROUTINE MASK 249  THRU 255
$RETMASK DS    C .           RETURN CODE MASK
         DS    C .           SPARE
         DS    CL6           SPARE                               S05331
$MSGIDAC DS    CL2           ACTIVE OLT ID                       S05331
$TABLE   DS    F .           ADDR OF BRANCH TABLE
$PASS    DS    F .           ADDR OF PASSON AREA
$EXT     DS    F .           ADDRESS OF EXTERNAL DATA
         DS    6F .          SCT EXPANSION AREA
*
*
TOTSMGRT DS    A .           SERVICE MANAGER RETURN SAVE
TOTSAVE1 DS    18F .         OLT SUBTASK 1ST SAVE AREA
TOTSAVE2 DS    18F .         OLT SUBTASK 2ND SAVE AREA
TOTSAVE3 DS    18F .         OLT SUBTASK 3RD SAVE AREA
TOTSAVE4 DS    18F .         OLT SUBTASK 4TH SAVE AREA
TOTSAVE5 DS    18F .         OLT SUBTASK 5TH SAVE AREA
TOTSAVE6 DS    18F .         OLT SUBTASK 6TH SAVE AREA         @Y17XAXU
TOTWOSV1 DS    F .           IEDQWO LEV 1 SAVE AREA            @Y17XAXU
TOTWOSV2 DS    F             IEDQWO LEV 2 SAVE AREA            @Y17XAXU
TOTWOSV3 DS    F .           IEDQWO LEV 3 SAVE AREA            @Y17XAXU
TOTWOSV4 DS    F .           IEDQWO LEV 4 SAVE AREA            @Y17XAXU
TOTOLTPT EQU   TOTSAVE5+44
TOTOLTEP EQU   TOTSAVE5+64
TOTSVEND DS    0C .               END OF TOTE SAVE AREAS
*
TOTBKASN DS    H .           MAIN STORAGE BLOCKS ASSIGNED TO THIS OLT
TOTBKRQD DS    H .           MAIN STORAGE BLOCKS REQUIRED BY THIS OLT
*
TOTMMSPC DS    F .           OLT UNUSED MAIN STORAGE SPACE
*                                                              @Y17XAXU
*              SOURCE TERMINAL ENTRY                           @Y17XAXU
*                                                              @Y17XAXU
TOTSRENT DS    0F .          SOURCE TERMINAL ENTRY             @Y17XAXU
TOTSROFF DS    H .                OFFSET TO SOURCE TNT ENTRY   @Y17XAXU
         DS    H .                RESERVED                     @Y17XAXU
TOTSRLCB DS    F .                SOURCE LCB ADDRESS           @Y17XAXU
*
*              CONTROL TERMINAL ENTRY
*
TOTCTENT DS    0F .          CONTROL TERMINAL ENTRY
TOTCTUCB DS    AL2 .              C.T. UCB ADDRESS
TOTCTOFF DS    H .                OFFSET TO C.T. TNT ENTRY     @Y17XAXU
*                                 (DUMMY)                      @Y17XAXU
TOTCROFF DS    H .                OFFSET TO C.T. TNT ENTRY
*                                 (REAL)                       @Y17XAXU
TOTCRSID DS    H .                NETWORK ADDRESS OF C.T.      @Y17XAXU
TOTCTRLN DS    C .                C.T. RELATIVE LINE NUMBER
TOTCTLCB DS    CL3 .              C.T. LCB ADDRESS
TOTCTTNT DS    F .                C.T. TERMINAL NAME TABLE ENTRY
*                                   ADDRESS (DUMMY ENTRY)
TOTCRTNT DS    F .                C.T. TERMINAL NAME TABLE ENTRY
*                                   ADDRESS (REAL ENTRY)
TOTCTTLN DS    H                  LENGTH OF CT TTE AREA
TOTCTFLG DS    C                  CONTROL TERMINAL FLAGS
TOTCTASN EQU   X'80'              DUMMY ENTRY ASSIGNED           S22024
TOTCTORN EQU   X'40'              CONTROL TERMINAL ON 3705       S22024
TOTCTSWD EQU   X'01'              DIAL CONTROL TERMINAL          S22024
TOTCTEND DS    0C .               END OF BASIC C.T. AREA       @Y17XAXU
TOTCTRNL DS    CL8                GROUP NAME FOR CT LINE         S22024
TOTCTNAM DS    CL9                CONTROL TERM NAME IN EBCDIC    S22024
TOTCTDFL DS    C                  CONTROL TERMINAL INITIAL CONDITIONS
TOTCTTRM EQU   X'80'                   TERMINAL DEVICE FLAG
TOTCTLIN EQU   X'40'                   LINE ADDRESS FLAG
TOTCTGP  EQU   X'10'                   GENERAL POLL INITIALLY ACTIVE
*                                        ON TEST LINE
TOTCTLST EQU   X'08'                   CT INITIALLY STOPPED
TOTCTHD  EQU   X'04'                   CT INITIALLY HELD
TOTCTIAC EQU   X'02'                   CT INVITATION LIST ENTRY
*                                        INITIALLY INACTIVE
*
         DS    CL3           RESERVED                          @Y17XAXU
TOTCUTST DS    0F            CONTROL INFO FOR $CUTEST MACRO
TOTCUFLG DS    1C            $CUTEST FLAGS
*
TOTCUDON EQU   X'80'              CUTEST ISSUED
TOTCUCUP EQU   X'40'              CUTEST CLEAN UP REQUIRED
*
TOTCU#AD DS    1C            $CUTEST NUMBER OF CONTIGUOUS ADDRESSES
TOTCUCUU DS    2C            $CUTEST STARTING ADDRESS
*
TOTCUSAV DS    1F            $CUTEST SAVE AREA
*
TOTCURS1 DS    1C            $CUTEST CODE PARAMETER
TOTCURS2 DS    1C            $CUTEST HEX CHANNEL ID
TOTCURS3 DS    1C            $CUTEST RESERVED BYTE 3 CODE PARAMETER
TOTCURS4 DS    1C            $CUTEST RESERVED BYTE 4 CODE PARAMETER
*
TOTWOOPC DS    6F            IEDQWO OPERATOR CONTROL PARM LIST  SA41602
TOTPLIST DS    0F            OPERATOR CONTROL PARAMETER LIST     S22024
TOTOKEY  DS    C                  KEY                            S22024
TOTOQCBA DS    CL3                OP CONTROL QCB ADDRESS         S22024
TOTOPRI  DS    C                  PRIORITY                       S22024
TOTOLINK DS    CL3                LINK FIELD                     S22024
TOTOVBCD DS    C                  VERB CODE                      S22024
TOTOELNG DS    C                  LENGTH OF ELEMENT              S22024
TOTORLN  DS    C                  RELATIVE LINE NUMBER           S22024
TOTORTCD DS    C                  RETURN CODE                    S22024
TOTOFLG  DS    0FL1               FLAG BYTE                    @YM08136
TOTOATC  EQU   X'80'              USE ALTERATE TTCIN           @YM08136
TOTOECBA DS    F                  ECB ADDRESS                    S22024
TOTOLADR DS    CL8                TERMINAL NAME OR LINE ADDRESS  S22024
TOTOALTT DS    H                  ALTERNATE TTCIN
         DS    CL38               UNUSED                       @YM08136
TOTOPCLN DS    A             OP CONTROL ECB ADDRESS FOR CLEANUP  S22024
TOTUSCOR DS    F             CORE CURRENTLY IN USE BY OLT        S22024
*              ALTERNATE PRINTER ENTRY
*
TOTAPENT DS    0F .          ALTERNATE PRINTER ENTRY
TOTAPUCB DS    AL2 .              A.P. UCB ADDRESS
TOTAPOFF DS    H .                OFFSET TO A.P. TNT ENTRY     @Y17XAXU
*                                 (DUMMY ENTRY)                @Y17XAXU
TOTAROFF DS    H .                OFFSET TO A.P. TNT ENTRY
*                                 (REAL ENTRY)                 @Y17XAXU
TOTARSID DS    H .                NETWORK ADDRESS OF A.P.      @Y17XAXU
TOTAPRLN DS    C .                A.P. RELATIVE LINE NUMBER
TOTAPLCB DS    CL3 .              A.P. LCB ADDRESS
TOTAPTNT DS    F .                A.P. TERMINAL NAME TABLE ENTRY
*                                   ADDRESS (DUMMY ENTRY)
TOTARTNT DS    F                  A.P. TERMINAL NAME TABLE ENTRY
*                                   ADDRESS ( REAL ENTRY)
TOTAPTLN DS    H                  LENGTH OF AP TTE AREA
TOTAPFLG DS    C                  ALTERNATE PRINTER FLAGS
TOTAPASN EQU   X'80'              DUMMY ENTRY ASSIGNED           S22024
TOTAPORN EQU   X'40'              AP ON 3705                     S22024
TOTAPSWD EQU   X'01'              DIAL ALTERNATE PRINTER         S22024
TOTAPEND DS    0C .               END OF BASIC AP AREA         @Y17XAXU
TOTAPRNL DS    CL8                GROUP NAME FOR AP LINE         S22024
TOTAPDFL DS    C                  ALTERNATE PRINTER INITIAL CONDITIONS
*
TOTAPTER EQU   X'80'                   TERMINAL DEVICE FLAG
TOTAPLIN EQU   X'40'                   LINE ADDRESS FLAG
TOTAPGP  EQU   X'10'                   GENERAL POLL INITIALLY ACTIVE
*                                        ON TEST LINE
TOTAPLST EQU   X'08'                   A.P. INITIALLY STOPPED
TOTAPHD  EQU   X'04'                   A.P. INITIALLY HELD
TOTAPIAC EQU   X'02'                   A.P. INVITATION LIST ENTRY
*                                        INITIALLY INACTIVE
         DS    F             UNUSED                            @ZM47554
*
TOTAPDCB DS    F             LOCAL PRINTER DCB ADDRESS           S22024
TOTPDECB DS    5F .          LOCAL PRINTER DECB
*
TOTPARML DS    F             ADDRESS OF PARAMETER LIST FOR      SA41612
*                              MACRO SERVICE CALL               SA41612
*
TOTOLTMQ DS    A .           SUBTASK MESSAGE QUEUE
TOTOTECB DS    F .           TOTE SUBTASK ECB
*
TOTRESSV DS    F .           POINTER TO MOTHER TASK SAVE AREA
TOTTCBAD DS    F .           SUBTASK TCB ADDRESS
TOTCMPCD DS    F .           SUBTASK COMPLETION CODE
*
TOTOLTPL DS    3F .          OLT INPUT PARAMETER LIST
TOT#TBLE EQU   TOTOLTPL+8 .  BRANCH TABLE ADDRESS
*
TOTWTORP DS    0F .          WTOR PARM LIST FOR OPERATOR COMMUNICATION
TOTINCNT DS    C .                REPLY BYTE COUNT
TOTINADR DS    3C .               REPLY BUFFER ADDRESS
TOTINECB DS    F .                REPLY ECB ADDRESS
*
TOTWTOPL DS    0F .          WTO & WTOR PL FOR OPERATOR COMMUNICATION
         DS    C .
TOTOTCNT DS    C .                OUT MESSAGE COUNT
         DS    H .
TOTOTBUF DS    CL84          OUTPUT AREA
TOTINBUF DS    CL80          REPLY BUFFER
*
TOTOLTID DS    H .           TOTE OLT IDENTIFICATION
TOTRTCOD DS    C .           SERVICE MODULE RETURN CODE
         DS    C .           UNUSED
*
TOTPLNKQ DS    0F .          PLINK MODULE QUEUE
TOTPLFWD DS    F .                QUEUE FORWARD POINTER
TOTPLBKW DS    F .                QUEUE BACKWARD POINTER
         DS    F .           RESERVED                          @Y17XAX6
TOTWKSPC DS    16D .         TOTE WORK AREA
TOTWKEND DS    0C .               END OF TOTE WORK AREA
TOTWKLNT EQU   TOTWKEND-TOTWKSPC .     LENGTH OF TOTE WORKAREA
         DS    5F .          UNUSED
TOTAVTPT DS    F .           ADDRESS OF AVT
TOTSTAE  DS    F             ADDRESS OF STAE EXIT ROUTINE        S22024
TOTRESPL DS    F .           ADDRESS OF TOTE RESIDENT PARAMETER LIST
TOTFLG01 DS    C .           TOTE 1ST FLAG BYTE  (ABNORMAL)    @G36XRXV
TOTCLNST EQU   X'02'         CLEANUP STARTED                   @YM08158
TOTCLNED EQU   X'01'         CLEANUP ENDED                     @YM08158
*
TOTFINAL EQU   X'80'              FINAL MESSAGE INDICATOR        S05331
TOTCONFG EQU   X'40'              CONFIGURATOR RUN
TOTIPLCU EQU   X'20'              FORCED CLEANUP FROM IPL        S05331
TOTEXIT  EQU   X'10'              IEDQWO CONTROL FLOW FLAG     @Y17XAXU
TOTAPTST EQU   X'08'              AP ON TEST LINE              @Y17XAUU
TOTPRMPT EQU   X'04'              PROMPTER RUN                   S22024
*
TOTFLG02 DS    C .           TOTE 2ND FLAG BYTE
*
TOTTTSPE EQU   X'80' .            TEST SESSION PENDING END     @Y17XAXU
TOTTSST  EQU   X'40' .            CT/AP LINE IN TEST MODE      @Y17XAUU
TOTDEV0X EQU   X'20'              TEST DEVICE ON 270X            S22024
TOTOLTRQ EQU   X'10'              ONLINE TEST REQUEST FLAG       S22024
TOTCHKSZ EQU   X'08'              UPDATE SUBTASK STORAGE         S22024
*                                   ALLOCATION FLAG              S22024
TOTCONMD EQU   X'04'              CALL TOTE CONCENTRATOR MODULE SA41597
*                                   FOR INITIAL STATUS SET UP   SA41597
TOTCONCU EQU   X'02'              CONCENTRATOR CLEAN UP REQUIREDSA41597
TOTDEVRN EQU   X'01'              TEST DEVICE ON 3704/3705       S22024
*
TOTFLG03 DS    C .           TOTE 3RD FLAG BYTE
*
TOTAPOER EQU   X'80' .            ALTERNATE PRINTER OPTION ERROR FLAG
TOTTDFER EQU   X'40' .            TEST DEVICE FIELD ERROR FLAG
TOTTSTER EQU   X'20' .            TEST ID FIELD ERROR FLAG
TOTOPTER EQU   X'10' .            OPTION FIELD ERROR FLAG
TOTIMNCP EQU   X'08' .            TEMPORARY NO CONT PRINT FLAG
TOTTSINC EQU   X'04' .            INCLUSIVE TEST ID ENTRY FLAG
TOTREPEX EQU   X'02'              REPLY EXPECTED FLAG           SA41613
*
TOTFLG04 DS    C .           TOTE 4TH FLAG BYTE
TOTPRCTF EQU   X'08'         COUNTERFEIT PRIMARY TEST DEVICE   @YM08407
TOTSCCTF EQU   X'04'         COUNTERFEIT SECONDARY TEST DEVICE @YM08407
*
TOTNUMDV EQU   X'80' .            NUMERIC TRM ENTRY FLAG
TOTDTCHD EQU   X'40' .            SUBTASK ALREADY DETACHED FLAG
TOTCLOSE EQU   X'20' .            TCAM CLOSEDOWN IN PROGRESS FLAG
TOTTTSWT EQU   X'01' .            TEST TERMINAL LINE SWITCHED FLAG
*
TOTFLG05 DS    C .           TOTE 5TH FLAG BYTE
*
TOTPRINT EQU   X'80' .            ACCESS METHOD PRINT FLAG
TOTCECOM EQU   X'40' .            ACCESS METHOD CECOM FLAG
TOTREPLY EQU   X'20' .            ACCESS METHOD CECOM WITH REPLY FLAG
TOTSRCE  EQU   X'10' .            SEND MSG TO SOURCE TERMINAL  @Y17XAXU
TOTSRCON EQU   X'08' .            TRM ENTERED FROM SYSCON      @Y17XAXU
TOTTMOUT EQU   X'04' .            WAIT TIMEOUT FLAG
TOTEXIOF EQU   X'02' .            ACCESS METHOD EXIO FLAG
TOTNDMSG EQU   X'01' .            SEND CANCEL OR TERMINATE MESSAGE FLAG
*
TOTFLG06 DS    C .           TOTE 6TH FLAG BYTE
*
TOTOTERM EQU   X'80' .            SECTION TERMINATE FLAG
TOTCBOPN EQU   X'40'              CANCEL BEFORE OPEN
TOTWACAN EQU   X'20' .            CANCEL REQUEST PENDING
TOTNCMFG EQU   X'10' .            NON-CONCURRENT MODE FLAG
TOTABEND EQU   X'08' .            OLT HAS ABENDED FLAG
TOTCANCL EQU   X'04' .            CANCEL TESTING FLAG
TOTOTACT EQU   X'02' .            OLT ACTIVE FLAG
TOTNPERR EQU   X'01' .            NO PERMANENT ERROR FLAG
*
TOTFLG07 DS    C .           TOTE 7TH FLAG BYTE
*
TOTPRIEX EQU   X'80' .            PRIMARY DEVICE FOR EXIO/WAITIO FLAG
TOTSECEX EQU   X'40' .            SECONDARY DEV  FOR EXIO/WAITIO FLAG
TOTMSCEC EQU   X'08' .            TOTE MESSAGE SOURCE FLAG - CECOM
TOTMSREP EQU   X'04' .            TOTE MESSAGE SOURCE FLAG - CECOM
TOTMSPRT EQU   X'02' .            TOTE MESSAGE SOURCE FLAG - CECOM
TOTMSSRC EQU   X'01' .            TOTE MESSAGE SOURCE FLAG     @Y17XAXU
*
TOTFLG08 DS    C .           TOTE 8TH FLAG BYTE
*
*                                 BITS 0-3 ARE DPRINT FORMS CNTRL FLAGS
*                                 BITS 4-7 ARE DPRINT LEVEL CNTRL FLAGS
*
*
TOTFLG09 DS    C .           TOTE 9TH FLAG BYTE
*
TOTAPCON EQU   X'80' .            PRINTER = SYSTEM CONSOLE FLAG
TOTAPOUT EQU   X'40' .            PRINTER = SYSTEM PRINTER FLAG
TOTCTCON EQU   X'20' .            CONTROL TERMINAL = SYS CONSOLE FLAG
TOTAPTRM EQU   X'10' .            PRINTER = TERMINAL FLAG
TOTNOBRK EQU   X'08'              NO BREAK OPTION SPECIFIED      S22024
TOTLNCON EQU   X'04'              LINE CONNECTION ALREADY DONE   S22024
TOTPRECT EQU   X'02' .            NO ALTERNATE PRINTER FLAG
*                                   (OR CT = AP)                 S05331
TOTMACFT EQU   X'01'              UNSUPPORTED MACRO FUNCTION FLAG
*
TOTFLG10 DS    C .           TOTE 10TH FLAG BYTE
*
TOTTERMS EQU   X'80' .            TEST DEVICES = TERMINALS FLAG
TOTTNTRQ EQU   X'08' .            DUMMY TNT ENTRY REQUEST FLAG
TOTOLTED EQU   X'04' .            ON-LINE TEST ENDED FLAG
TOTOLTWT EQU   X'02' .            ON-LINE TEST WAITING FLAG
TOTOLTRS EQU   X'01' .            ON-LINE TEST RESTART FLAG
*
TOTTTBEL DS    CL1           TERMINAL NAME TABLE ENTRY
*                              NAME LENGTH
         DS    CL1           UNUSED
         AIF   ('&CONFG' EQ 'YES').CNFBYP
TOTEXT   DS    14F .         EXTERNAL DATA BUFFER
TOTPASS  DS    16F .         PASSON DATA BUFFER
TOTTRMBF DS    0C .          TRM BUFFER FOR TRM ANALYSIS
TOTPRIBK DS    0F .          PRIMARY TEST DEVICE I/O CONTROL BLOCKS
TOTPRECB DS    F .           PRIMARY ECB
*
*              PRIMARY TEST DEVICE ENTRY
*
TOTPRENT DS    0F .          TOTE PRIMARY TEST DEVICE ENTRY
*
TOTPRUCB DS    AL2 .              PRIMARY DEVICE UCB ADDRESS
TOTPCOFF DS    H .                OFFSET TO PRIMARY DEVICE     @Y17XAXU
*                                 (DUMMY ENTRY)                @Y17XAXU
TOTPROFF DS    H .                OFFSET TO PRIMARY TNT ENTRY
*                                 (REAL ENTRY)                 @Y17XAXU
TOTPRSID DS    H .                NETWORK ADDRESS OF PRIMARY   @Y17XAXU
TOTPRRLN DS    C .                PRIMARY DEVICE RELATIVE
*                                   LINE NUMBER
TOTPRLCB DS    AL3 .              ADDRESS OF 3705 LCB          @Y17XAXU
TOTPDTNT DS    F .                PRIMARY TNT ENTRY ADDRESS    @Y17XAXU
*                                 (DUMMY ENTRY)                @Y17XAXU
TOTTNTPR DS    F                  PRIMARY TNT ENTRY ADDRESS    @Y17XAXU
*                                 (REAL ENTRY)                 @Y17XAXU
TOTPRLEN DS    H .                LENGTH OF PRIMARY TTE AREA   @Y17XAXU
TOTPRFLG DS    C .                PRIMARY FLAGS                @Y17XAXU
TOTPRTAS EQU   X'80' .            PRIMARY TNT ENTRY ASSIGNED   @Y17XAXU
TOTPRLU  EQU   X'40' .            LU TERMINAL                  @Y17XAXU
TOTPPRSC EQU   X'20' .            ON=PRIMARY                   @Y17XAX6
*                                 OFF=SECONDARY                @Y17XAX6
TOTPUNRD EQU   X'10' .            ON=UNREAD DATA               @Y17XAX6
*                                 OFF=NO UNREAD DATA           @Y17XAX6
TOTPREX  EQU   X'08' .            EXCEPTION RESPONSE           @Y17XAX6
TOTPRFME EQU   X'04' .            DEFINITE RESPONSE            @Y17XAX6
TOTPEXNM EQU   X'02' .            ON=EXPEDITED                 @Y17XAX6
*                                 OFF=NORMAL                   @Y17XAX6
         DS    C .                RESERVED                     @Y17XAXU
TOTPRQCB DS    F                  PRIMARY QCB ADDRESS            S22024
TOTPRCCW DS    F                  ADDRESS OF READ CCW FOR PRIMARYS22024
TOTPRBUF DS    F                  ADDRESS OF BUFFER CONTAINING   S22024
*                                   READ DATA FOR PRIMARY        S22024
*
*        PRIMARY DEVICE DATA BLOCKING FIELD
*
TOTPDTBF DS    A .           RESPONSE BUFFER ADDRESS
TOTPDTCT DS    H .           RESPONSE BUFFER SIZE
TOTPFLGS DS    BL1 .         FLAGS
         DS    CL1           UNUSED                            @ZM47554
TOTPRSN  DS    0F            PRIMARY SEQ NUMBER FIELD          @ZM47554
         DS    CL2           FLAGS                             @ZM47554
TOTPRSEQ DS    H             SEQUENCE NUMBER (FROM SNA TH)     @ZM47554
*                                                              @ZM47554
TOTPTECB DS    F .           PRIMARY TECB ADDRESS
TOTPRIOB DS    11F           PRIMARY IOB
TOTPRDCB DS    18F .         PRIMARY DCB
TOTPRDEB EQU   TOTPRDCB+44        PRIMARY DEB ADDRESS
*
TOTSCIBK DS    0F .          SECONDARY TEST DEVICE I/O CONTROL BLOCKS
TOTSCECB DS    F .           SECONDARY ECB
*
*              SECONDARY TEST DEVICE ENTRY
*
TOTSCENT DS    0F .          TOTE SECONDARY TEST DEVICE ENTRY
*
TOTSCUCB DS    AL2 .              SECONDARY DEVICE UCB ADDRESS
TOTNCOFF DS    H .                OFFSET TO SECONDARY TNT ENTRY@Y17XAXU
*                                 (DUMMY ENTRY)                @Y17XAXU
TOTSCOFF DS    H .                OFFSET TO SECONDARY TNT ENTRY
*                                 (REAL ENTRY)                 @Y17XAXU
TOTSRSID DS    H .                NETWORK ADDRESS OF SECONDARY @Y17XAXU
TOTSCRLN DS    C .                SECONDARY DEVICE RELATIVE
*                                   LINE NUMBER
TOTSCLCB DS    AL3 .              ADDRESS OF 3705 LCB          @Y17XAXU
TOTSDTNT DS    F .                SECONDARY TNT ENTRY ADDRESS  @Y17XAXU
*                                 (DUMMY ENTRY)                @Y17XAXU
TOTSRTNT DS    F .                SECONDARY TNT ENTRY ADDRESS  @Y17XAXU
*                                 (REAL ENTRY)                 @Y17XAXU
TOTSCLEN DS    H .                LENGTH OF SECONDARY TTE AREA @Y17XAXU
TOTSCFLG DS    C .                SECONDARY FLAGS              @Y17XAXU
TOTSCTAS EQU   X'80' .            SECONDARY TNT ENTRY ASSIGNED @Y17XAXU
TOTSCLU  EQU   X'40' .            LU DEVICE                    @Y17XAXU
TOTSPRSC EQU   X'20' .            ON=PRIMARY                   @Y17XAX6
*                                 OFF=SECONDARY                @Y17XAX6
TOTSUNRD EQU   X'10' .            ON=UNREAD DATA               @Y17XAX6
*                                 OFF=NO UNREAD DATA           @Y17XAX6
TOTSCEX  EQU   X'08' .            EXCEPTION RESPONSE           @Y17XAX6
TOTSCFME EQU   X'04' .            DEFINITE RESPONSE            @Y17XAX6
TOTSEXNM EQU   X'02' .            ON=EXPEDITED                 @Y17XAX6
*                                 OFF=NORMAL                   @Y17XAX6
         DS    C .                RESERVED                     @Y17XAXU
TOTSCQCB DS    F                  SECONDARY QCB ADDRESS          S22024
TOTSCCCW DS    F                  ADDRESS OF READ CCW FOR        S22024
*                                   SECONDARY TEST DEVICE        S22024
TOTSCBUF DS    F                  ADDRESS OF BUFFER CONTAINING   S22024
*                                   READ DATA FOR SECONDARY      S22024
*
*        SECONDARY DEVICE DATA BLOCKING FIELD
*
TOTSDTBF DS    A .           RESPONSE BUFFER ADDRESS
TOTSDTCT DS    H .           RESPONSE BUFFER SIZE
TOTSFLGS DS    BL1 .         FLAGS
         DS    CL1           UNUSED                            @ZM47554
TOTSCSN  DS    0F            SECONDARY SEQ NUMBER FIELD        @ZM47554
         DS    CL2           FLAGS                             @ZM47554
TOTSCSEQ DS    H             SEQUENCE NUMBER (FROM SNA TH)     @ZM47554
*                                                              @ZM47554
TOTSTECB DS    F .           SECONDARY TECB ADDRESS
TOTSCIOB DS    11F           SECONDARY IOB
TOTSCDCB DS    18F .         SECONDARY DCB ADDRESS
TOTSCDEB EQU   TOTSCDCB+44        SECONDARY DEB ADDRESS
*
TOTTRMND DS    0C .          END OF TRM BUFFER
*
TOTCROLT DS    CL8 .         CURRENT OLT I.D.
*  THE FOLLOWING EQUATES ARE USED BY THE 'INCLUSIVE' ROUTINE IN IEDQWE
TOTCRALP EQU   TOTCROLT+5
TOTCRTOO EQU   TOTCROLT+6
TOTONELT EQU   TOTCROLT+7
TOTCRFST EQU   TOTCROLT+8
TOTSECBL EQU   TOTCROLT+9
TOTONECU EQU   TOTCROLT+10
TOTCRSEC EQU   TOTCROLT+11
TOTSECBK EQU   TOTCROLT+12
TOTONEND EQU   TOTCROLT+13
TOTCRFLG EQU   TOTCROLT+15
TOTFTTIM EQU   X'80'              FIRST TIME SWITCH
TOTCLRFG EQU   X'00'              USED TO CLEAR FIRST  TIME SWITCH
TOTSAADR EQU   TOTCROLT+16
TOTOLTTB DS    10CL3 .       OLT I.D. TABLE
TOTOLTTE DS    0C .               END OF TABLE
*
TOTCONTB DS    10CL1         CONCENTRATOR INITIAL STATUS TABLE  SA41597
*                              FOR TEST DEVICES                 SA41597
TOTCONCT DS    CL1           CONCENTRATOR STATUS FOR CONTROL    SA41597
*                              TERMINAL                         SA41597
TOTCONAP DS    CL1           CONCENTRATOR STATUS FOR ALTERNATE  SA41597
*                              PRINTER                          SA41597
TOTCONND DS    0C            END OF TABLE                       SA41597
*                                                               SA41597
*        CONCENTRATOR INITIAL STATUS CONDITIONS                 SA41597
*                                                               SA41597
TOTCSTOP EQU   X'80'              CONCENTRATOR INITIALLY STOPPEDSA41597
TOTCHELD EQU   X'40'              CONCENTRATOR INITIALLY HELD   SA41597
TOTCINAC EQU   X'20'              CONCENTRATOR INITIALLY        SA41597
*                                   INACTIVE                    SA41597
TOTCSTRT EQU   X'E0'              NONE SET IF ORIGINALLY STARTEDSA41597
         DS    CL38          SPARE                              SA41597
TOTTDTBL DS    10F .         TOTE TEST DEVICE TABLE
TOTLETGO EQU   TOTTDTBL+36        LAST ENTRY POINTER
TOTTDEND DS    0F .               END OF TABLE
*
*              TEST DEVICE INITIAL CONDITIONS
*
TOTTDTRM EQU   X'80' .            TERMINAL DEVICE FLAG
TOTTDLIN EQU   X'40' .            LINE ADDRESS FLAG
TOTTDGRB EQU   X'20' .            TEST DEVICE GRABBED FLAG
TOTTDORN EQU   X'10'              TEST DEVICE ON A 3705          S22024
TOTTDLST EQU   X'08' .            TEST DEVICE INITIALLY STOPPED
TOTTDTHD EQU   X'04' .            TEST DEVICE INITIALLY HELD
TOTTDIAC EQU   X'02' .            TEST DEVICE INVITATION LIST
*                                   ENTRY INITIALLY INACTIVE
TOTTSWPM EQU   X'01'              A SWITCH HAS BEEN PERFORMED    Y06330
TOTTNIPL EQU   X'06'              NO IPL REQUIRED FOR 3705       S05331
*
*
*        WAITIO ECB LIST
*
TOTWECBA DS    A .           POINTER TO ECB FOR TEST DEVICE
TOTECBPT DS    A             POINTER TO SUBTASK ECB
*
TOTTLCNT DS    H .           TEST LOOP COUNT
         DS    CL2 .         RESERVED                          @Y17XAX6
         AGO   .EQUATES
.CNFBYP  ANOP
         DS    CL4 .         RESERVED                          @Y17XAX6
CDSWORK  DS    0D            CONFIGURATOR WORK AREA
CDSREC   DS    0CL256 .      CDS RECORD CREATION AREA
CDSUNIT  DS    CL4 .              UNIT ADDRESS
CDSMODEL DS    CL1 .              MODEL
CDSFEAT  DS    CL1 .              FEATURES
CDSCLASS DS    CL1 .              CLASS
CDSTYPE  DS    CL1 .              TYPE DEVICE
CDSBYTES DS    CL1 .              BYTE COUNT
CDSFLAGS DS    CL1 .              FLAGS
*
CDSFPMOD EQU   X'80' .                 FILE PROTECT MODE FLAG
CDSDVSHR EQU   X'40' .                 DEVICE SHARED WITH ANOTHER SYS
CDSFEVOL EQU   X'20' .                 F.E. VOLUME MOUNTED FLAG
CDSEXINT EQU   X'10' .                 EXTERNAL INTERRUPT POSSIBLE FLAG
CDSSYMNM EQU   X'08' .                 SYMBOLIC ADDRESSING FLAG
CDSTWOCH EQU   X'04' .                 TWO CHANNEL SWITCH FLAG
CDSCUSYM EQU   X'02' .                 CUSTOMER ASSIGNED SYMBOLIC NAME
CDSLCNCT EQU   X'01' .                 LINE CONNECTION REQUIRED
*
CDSSIGNL DS    CL2 .              EXTERNAL SIGNAL MASK
CDSNAME  DS    0CL8 .             SYMBOLIC (ALTERNATE MEMBER) NAME
CDSTCU   DS    CL2 .              OR      TCU FEATURES
CDSMISC  DS    CL3 .                      MISC
CDSRMASK DS    CL3 .                      SECTION RUN MASK
CDSFXARA DS    0CL4 .             EXTENDED FIXED AREA
CDSFXLEN DS    CL1 .                   LENGTH
CDSFXFLG DS    CL2 .                   FLAGS
*                                           TWO BYTE SET MODE
CDSSETMD EQU   X'80' .                      AUTOCALL FEATURE
CDSAUTCL EQU   X'40' .                      SWITCHED LINE
CDSMPNT  EQU   X'20' .                      NON-SWITCHED MULTIDROP LINE
CDSMDROP EQU   X'10' .                      BSC WORLD TRADE DATA SET
CDSWTBSC EQU   X'08' .
*
CDSLNCON DS    CL1                     LINE CONNECTION CMD SEQ CODE
CDSVAR   DS    0C    .            CDS VARIABLE FIELD
         ORG   CDSWORK+256
CDSINPUT DS    0CL80         INPUT TO UNIT CONFIGURATOR AREA
CDSTCUTY DS    CL4 .              TCU TYPE (EBCDIC)
CDSSYMBL DS    CL8 .              SYMBOLIC TERMINAL NAME (EBCDIC)
CDSTERM  DS    CL4 .              TERMINAL TYPE (EBCDIC)
CDSADAP  DS    CL1 .              ADAPTER TYPE
*
CDSIBM1  EQU   X'10' .                 IBM I
CDSIBM2  EQU   X'20' .                 IBM II
CDSIBMTY EQU   X'30'                   IBM TTY
CDSTTY1  EQU   X'40' .                 TTY I
CDSTTY2  EQU   X'50' .                 TTY II
CDSWTTY  EQU   X'60' .                 WTC TTY
CDSSDA1  EQU   X'70' .                 SDA I
CDSIBM3  EQU   X'80' .                 IBM III
CDSSDA2  EQU   X'90' .                 SDA II
*
CDSLINE  DS    CL1 .              LINE TYPE
*
CDSPTP   EQU   X'01' .                 LEASED POINT TO POINT
CDSMP    EQU   X'02' .                 LEASED MULTIPOINT
CDSSWTCH EQU   X'03' .                 SWITCHED WITHOUT AUTODIAL
CDSSWAUT EQU   X'04' .                 SWITCHED WITH AUTODIAL
CDSLOCAL EQU   X'05' .                 LOCAL
*
CDSCONN  DS    CL1 .              LINE CONNECTION CODE
*
CDSBYP   EQU   X'00' .                 BYPASS
CDSDISEN EQU   X'01' .                 DISABLE, ENABLE OR DIAL
CDSDSMI  EQU   X'02' .                 DISABLE, SETMODE, ENABLE OR DIAL
* .                                         FOR SDA I
CDSDSMIT EQU   X'03' .                 DISABLE, SETMODE, ENABLE OR DIAL
* .                                         FOR SDA II
CDSDSAD0 EQU   X'04' .                 DISABLE, SADZERO, ENABLE OR DIAL
CDSDSAD1 EQU   X'05' .                 DISABLE, SADONE,  ENABLE OR DIAL
CDSDSAD2 EQU   X'06' .                 DISABLE, SADTWO,  ENABLE OR DIAL
CDSDSAD3 EQU   X'07' .                 DISABLE, SADFOUR, ENABLE OR DIAL
*
CDS#POLL DS    CL1 .              NUMBER OF POLLING CHARACTERS (HEX)
CDSPOLL  DS    CL7 .              POLLING CHARACTERS
CDS#ADDR DS    CL1 .              NUMBER OF ADDRESSING CHARACTERS (HEX)
CDSADDR  DS    CL10 .             ADDRESSING CHARACTERS
         DS    CL1 .              UNUSED
CDS#DIAL DS    CL1 .              NUMBER OF DIAL DIGITS
CDSDIAL  DS    CL20 .             DIAL DIGITS
CDS#ID   DS    C .                CPU ID LENGTH
CDSCPUID DS    15C .              CPU ID
CDSCODE  DS    C .           ADAPTER LINE CODE
CDSCFLGS DS    CL1           RESERVED
CDSFNFLG DS    CL1 .              FUNCTION FLAGS
*
CDSADD   EQU   X'02' .                 ADD
CDSDEL   EQU   X'04' .                 DELETE
CDSCHNG  EQU   X'06' .                 CHANGE
CDSEXIBT EQU   X'08' .                 EXHIBIT
*
CDSRETFL DS    CL1 .              RETURN CODE
*
CDSNRML  EQU   X'00' .                 NORMAL RETURN
CDSINVLD EQU   X'01' .                 INVALID
*
CDSBLDL  DS    0CL40 .       BLDL LIST FOR CONFIG DIRECTORY
CDSMEMBR DS    CL8 .              MEMBER NAME
CDSTTRC  DS    CL3 .              CESD RELATIVE TTR
CDSTTRC4 DS    CL1 .              CESD RELATIVE TTR 4TH BYTE
CDSTTRD  DS    CL3 .              DATA RELATIVE TTR
CDSTTRD4 DS    CL1 .              DATA RELATIVE TTR 4TH BYTE
CDSTTRNS DS    CL4 .              RESERVED
CDSATTRB DS    CL2 .              ATTRIBUTES
CDSMAIN  DS    CL3 .              MAIN STORAGE REQUIREMENTS
CDSBLK1  DS    CL2 .              LENGTH OF FIRST BLOCK
CDSEPADR DS    CL3 .              ENTRY POINT ADDRESS
CDSTXBLK DS    CL3 .              FIRST TEXT BLOCK ORIGIN
CDSSSI   DS    CL7 .              CDS SSI
*
         DS    0D .
CDSCESD  DS    0CL56 .       CESD RECORD FOR CONFIG PDS
CDSCESID DS    CL1 .              CESD IDENTIFICATION
CDSCESPR DS    CL3 .              UNUSED
CDSESD01 DS    CL2 .              ESDID OF FIRST ESD
CDSCESCT DS    CL2 .              COUNT
CDSCESNM DS    CL8 .              MEMBER NAME
CDSCESTY DS    CL1 .              TYPE
CDSCESAD DS    CL3 .              ADDRESS
CDSCESGM DS    CL1 .              SEGMENT
CDSCESLN DS    CL3 .              ID AND LENGTH
CDSESD02 DS    CL16 .             SECOND ESD RECORD
CDSESD03 DS    CL16 .             THIRD ESD RECORD
*
CDSCNTL  DS    0CL20 .       CONTROL RECORD FOR CONFIG PDS
CDSCTLID DS    CL1 .              CNTROL IDENTIFICATION
CDSCTLSP DS    CL3 .              UNUSED
CDSCNT01 DS    CL2 .              # BYTES FOLLOWING CCW
CDSCNT02 DS    CL2 .              COUNT
CDSCCW   DS    CL8 .              CHANNEL CONTROL WORD
CDSCESDI DS    CL2 .              CESD ENTRY
CDSRECLN DS    CL2 .              LENGTH OF TEXT RECORD
CDSTTBLE DS    A .           TERMINAL TABLE ENTRY ADDRESS
CDSTINDX DS    H .           TERMNAME TABLE INDEX
         DS    CL142 .       RESERVED                          @Y17XAX6
.EQUATES ANOP
TOTWAITI DS    D             WAITIO TIME INTERVAL
TOTGRABP DS    F             CURRENT SECONDARY DEVICE POINTER
TOTAPNAM DS    CL8           ALTERNATE PRINTER NAME IN EBCDIC
TOTOLTEN DS    F             ENTRY POINT ADDRESS OF OLT
TOTWAWRK DS    20F .         IEDQWA WORK AREA                  @Y17XAXU
TOTWOWRK DS    35F           IEDQWO WORK SPACE                  SA41602
         DS    CL52          RESERVED FOR MAINTENANCE          @Y17XAXU
TOTSERV  DS    0CL454 .           START OF SERVICE ROUTINES    @Y17XAXU
*                                 WORK AREA                    @Y17XAXU
************************************************************** @Y17XAXU
*                                                            * @Y17XAXU
*        THE LABEL 'TOTSERV' DEFINES THE START OF THE SERVICE* @Y17XAXU
*        ROUTINE WORK AREA. IT'S PURPOSE IS TO PROVIDE       * @Y17XAXU
*        PRE TCAM 10.0 SERVICE ROUTINES A MEANS OF BEING     * @Y17XAXU
*        REENTRANT . MODIFIABLE DATA AREAS ARE MOVED TO THIS * @Y17XAXU
*        WORK SPACE. SERVICE MODULES WHICH USE THIS AREA     * @Y17XAXU
*        SHOULD DEFINE IN A DSECT FASHION (DO NOT INCLUDE A  * @Y17XAXU
*        DSECT STATEMENT) THEIR MODIFIABLE DATA AREAS. THE   * @Y17XAXU
*        MODIFIABLE AREA WILL BECOME A CONTINUATION OF THIS  * @Y17XAXU
*        DSECT (OLTCB) AND SHOULD BE PLACED IMMEDIATELY      * @Y17XAXU
*        BEHIND THE OLTCB MACRO STATEMENT.                   * @Y17XAXU
*                                                            * @Y17XAXU
************************************************************** @Y17XAXU
.MEND    ANOP
TOTOBEND DS    0F .          END OF OLTCB                    @Y17XAX6
         MEND   ,             */
 %OLTCBPLS:   ;
 /*                                                                   */
 /*      ON-LINE TEST CONTROL BLOCK FOR PLS MODULES                   */
 /*                                                                   */
 /*      STATUS = VERSION 10.0                                @Y17XAXU*/
 /*                                                                   */
         DECLARE
           1 TOTOLTCB BASED (OLTCBPTR) BDY(DWORD), /*     @Y17XAX6*/
 %IF PONTER^='YES' %THEN
   %GOTO BYP001;
             2 TOTOBPTR,
               3 TOTELKEY CHAR(1),                /* OLTCB QUEUE      */
                                                  /* ELEMENT KEY      */
               3 TOTELQCB PTR(24),                /* ADDRESS OF OLTCB */
                                                  /* QCB              */
               3 * CHAR(1),                       /* UNUSED           */
               3 TOTELLNK PTR(24),                /* OLTCB QUEUE      */
                                                  /*ELEMENT LINK FIELD*/
 /*                                                                   */
 /*            SECTION CONTROL TABLE MAPPING                          */
 /*                                                                   */
 %BYP001:   ;
             2 $SCTTBLE BDY(WORD),                /* SECTION CONTROL
                                                      TABLE   @Y17XAX6*/
               3 $ERRLPCT FIXED(15) BDY(HWORD),   /* LOOP ON ERROR
                                                      COUNT   @Y17XAX6*/
               3 $TESTOPT CHAR(1),      /* TEST OPTION FIELD @Y17XAX6*/
                 4 * BIT(5),                      /* UNUSED           */
                 4 $NOPRT BIT(1),                 /* X'04'- NO PRINT
                                            OPTION FLAG  @Y17XAX6*/
                 4 $INDEFLP BIT(1),               /* X'02'- INDEFINITE
                                           ERROR LOOP FLAG @Y17XAX6*/
                 4 $FSTCOMM BIT(1),               /* X'01'-FIRST ERROR
                                           COMMUNICATION FLAG @Y17XAX6*/
               3 $ERROPT CHAR(1),                 /* ERROR AND OPTION
                                                      FIELD  @Y17XAX6 */
                 4 $TESTERR BIT(1),      /* X'80'- TEST ERROR @Y17XAX6*/
                 4 $ASTERIK BIT(1),      /* X'40'- PRINT ASTERIK ON
                                          TERMINATE MSG FLAG @Y17XAX6 */
                 4 $CATERR BIT(1),       /* X'20'-CATASTROPHIC ERROR
                                          FLAG @Y17XAX6*/
                 4 $ALTPRNT BIT(1),       /* X'10'- ALTERNATE PRINTER
                                          OPTION FLAG   @Y17XAX6*/
                 4 $NOCNTRL BIT(1),       /* X'08'- NO CONTROL PRINT
                                           OPTION  @Y17XAX6*/
                 4 $NERRPRT BIT(1),       /* X'04'- NO ERROR PRINT
                                           OPTION FLAG @Y17XAX6*/
                 4 $LOOPERR BIT(1),       /* X'02'- LOOP ON ERROR
                                           OPTION FLAG @Y17XAX6*/
                 4 $LOOPTST BIT(1),       /* X'01'- LOOP ON TEST
                                          ENTRY OPTION FLAG @Y17XAX6*/
               3 $RT0108 CHAR(1) BDY(BYTE),       /* ROUTINE MASK 1
                                               THROUGH 8 @Y17XAX6     */
               3 $RT0916 CHAR(1),                 /* ROUTINE MASK 9
                                               THROUGH 16 @Y17XAX6*/
               3 $DRIVER CHAR(1),            /* DRIVER   @Y17XAX6*/
               3 $SPARE1 CHAR(1) BDY(BYTE),       /* UNUSED   @Y17XAX6*/
       3 $TSSSYM CHAR(2) BDY(HWORD),      /* RESERVED FOR TSS @Y17XAX6*/
               3 $PDEVFLG CHAR(1),                /* PRIMARY DEVICE
                                                      FLAGS   @Y17XAX6*/
                 4 $FPMOLD BIT(1),                /* X'80'- FILE
                                           PROTECT FLAG  @Y17XAX6*/
                 4 $EXFILPT BIT(1),               /* X'40'- ADDITIONAL
                                           FILE PROTECT FLAG @Y17XAX6*/
                 4 $TSSSYS1 BIT(1),               /* X'20'- RESERVED
                                                FOR TSS @Y17XAX6*/
                 4 $LASTDEV BIT(1),               /* X'10'- LAST
                                 DEVICE OF SUBSYSTEM FLAG  @Y17XAX6*/
                 4 * BIT(1),                      /* X'08'- SPARE     */
                 4 $TERMNDX BIT(1),               /* X'04'- RESERVED
                                                    FOR TSS  @Y17XAX6*/
                 4 $PATHDEF BIT(1),               /* X'02'- RESERVED
                                                    FOR TSS  @Y17XAX6*/
                 4 $LASTSUB BIT(1),               /* X'01'- LAST
                               DEVICE OF LAST SUBSYSTEM FLAG @Y17XAX6*/
               3 $CDSFLGS CHAR(1),                /* DEVICE FLAGS FROM
                                      CDS FLAG BYTE @Y17XAX6*/
                 4 $FPM BIT(1),                   /* X'80'- FILE
                                      PROTECT FLAG @Y17XAX6*/
                 4 $SHARED BIT(1),                /* X'40'- SHARED
                                      DEVICE FLAG  @Y1XAX6*/
                 4 $CEVOL BIT(1),                 /* X'20'- CE VOLUME
                                                      FLAG  @Y17XAX6  */
                 4 $EXTINTC BIT(1),               /* X'10'- DEV ADDR
                                     ASSOCIATED WITH EXT FLAG @Y17XAX6*/
                 4 $SYMNAME BIT(1),               /* X'08'- SYMBOLIC
                                                 NAME FLAG @Y17XAX6*/
                 4 $TWOCHSW BIT(1),               /* X'04'-TWO CHANNEL
                                              SWITCH FLAG @Y17XAX6*/
                 4 $CUSTSYM BIT(1),               /* X'02'- CUSTOMER
                        ASSIGNED SYMBOLIC NAME FLAG  @Y17XAX5*/
                 4 $COMMCN  BIT(1),               /* X'01'- LINE
                        CONNECTION REQUIRED FLAG @Y17XAX6*/
               3 $PDEVADR PTR(31) BDY(WORD),      /* PRIMARY DEVICE
                                                ADDRESS  @Y17XAX6*/
               3 $PDEVDSC CHAR(4),                /* PRIMARY DEVICE
                                          DESCRIPTORS @Y17XAX6*/
               3 $CDS8T19 CHAR(12) BDY(WORD),     /* PRIMARY DEVICE
                                  CDS BYTE8 8 THROUGH 19 @Y17XAX6*/
               3 $RMSKCNT CHAR(1),                /* ROUTINE MASK
                                       COUNT LENGTH @Y17XAX6*/
               3 $EXECFLG CHAR(1),                /* EXECUTIVE PROGRAM
                                                    FLAGS  @Y17XAX6 */
                 4 $CECCMIN BIT(1),               /* X'80'- REPLY IN
                                 TO OUTSTANDING CECOM FLAG @Y17XAX6*/
                 4 $MULTDEV BIT(1),               /* X'40'- MORE THAN
                                    ONE DEVICE ENTRY FLAG  @Y17XAX6*/
                 4 $RTNSLCT BIT(1),               /* X'20'- OPERATOR
                           MADE ROUTINE SELECTION FLAG  @Y17XAX6*/
                 4 $ERRCNT  BIT(1),               /* X'10'- OPERATOR
                           SPECIFIED ERROR LOOP COUNT  @Y17XAX6*/
                 4 $LSTPDEV BIT(1),               /* X'08'- DON'T
                           ASSIGN MORE PRIMARY DEVICES FLAG  @Y17XAX6*/
                 4 $CLEANUP BIT(1),               /* X'04'- SECTION
                            ENTERED FOR CLEANUP FLAG  @Y17XAX6*/
                 4 $CTRLMOD BIT(1),               /* X'02'- CONTROL
                                 MODE AVAILABLE FLAG  @Y17XAX6 */
                 4 $QSCTMOD BIT(1),               /* X'01'- QUIESCENT
                                MODE AVAILABLE FLAG  @Y17XAX6*/
        3 $OLTSIZE FIXED(15) BDY(HWORD),   /* OLT REGION SIZE @Y17XAX6*/
         3 $OLTFLGS CHAR(1),     /* OLT FUNCTIONAL FLAGS @Y17XAX6*/
                 4 $MANINTV BIT(1),               /* X'80'- MANUAL
                              INTERVENTION ROUTINE FLAG  @Y17XAX6*/
                 4 $CLEANRT BIT(1),               /* X'40'-OLT HAS
                                     CLEANUP ROUTINE FLAG  @Y17XAX6*/
                 4 $RETAIN BIT(1),                /* X'20'- RETAIN
                                           IS ACTIVE FLAG @Y17XAX6*/
                 4 $CONTCB BIT(1),                /* X'10'-CONTINGENT
                              CONNECTION BROKEN FLAG  @Y17XAX6*/
                 4 $RETCODE BIT(1),               /* X'08'   @Y17XAX6 */
                 4 $TRACE  BIT(1),                /* X'04'   @Y17XAX6 */
                 4 $LASTSEC BIT(1),               /* X'02'- LAST
                              SECTION SCHEDULED FLAG  @Y17XAX6*/
                 4 * BIT(1),            /* X'01'- UNUSED          */
               3 * CHAR(1),                       /* UNUSED           */
               3 $TOTFLG1 CHAR(1),      /* TOTE 1ST FLAG BYTE @Y17XAX6*/
                 4 $LINESHR BIT(1),               /* X'80'- LINE CAN
                                          BE SHARED FLAG @Y17XAX6*/
                 4 $TDATBLK BIT(1),               /* X'40'- TOTE
                                       MESSAGE BLOCKING FLAG @Y17XAX6*/
                 4 $TERMSEC BIT(1),          /* X'20'- TRM REQUESTS
                          TEST IN BACKUP MODE @Y17XAX6*/
                 4 $CTEQTT BIT (1),       /* X'10'-CONTROL TERMINAL
                      AND TEST TERMINAL ARE ON SAME LINE  @Y17XAX6*/
                 4 * BIT(4),                      /* UNUSED     S22024*/
               3 $TOTFLG2 CHAR(1) BDY(BYTE),      /* TOTE 2ND FLAG
                                                 BYTE  @Y17XAX6  */
               3 $R017024 CHAR(1),                /* ROUTINE MASK 017
                                                 THRU 024 @Y17XAX6*/
               3 $R025032 CHAR(1),                /* ROUTINE MASK 025
                                                 THRU 032 @Y17XAX6*/
               3 $R033040 CHAR(1),                /* ROUTINE MASK 033
                                                 THRU 040 @Y17XAX6*/
               3 $R041048 CHAR(1),                /* ROUTINE MASK 041
                                                 THRU 048 @Y17XAX6*/
               3 $R049056 CHAR(1),                /* ROUTINE MASK 049
                                                 THRU 056 @Y17XAX6*/
               3 $R057064 CHAR(1),                /* ROUTINE MASK 057
                                                 THRU 064 @Y17XAX6*/
               3 $R065072 CHAR(1),                /* ROUTINE MASK 065
                                                 THRU 072 @Y17XAX6*/
               3 $R073080 CHAR(1),                /* ROUTINE MASK 073
                                                 THRU 080 @Y17XAX6*/
               3 $R081088 CHAR(1),                /* ROUTINE MASK 081
                                                 THRU 088 @Y17XAX6*/
               3 $R089096 CHAR(1),                /* ROUTINE MASK 089
                                                 THRU 096 @Y17XAX6*/
               3 $R097104 CHAR(1),                /* ROUTINE MASK 097
                                                 THRU 104 @Y17XAX6*/
               3 $R105112 CHAR(1),                /* ROUTINE MASK 105
                                                 THRU 112 @Y17XAX6*/
               3 $R113120 CHAR(1),                /* ROUTINE MASK 113
                                                 THRU 120 @Y17XAX6*/
               3 $R121128 CHAR(1),                /* ROUTINE MASK 121
                                                 THRU 128  @Y17XAX6*/
               3 $R129136 CHAR(1),                /* ROUTINE MASK 129
                                                 THRU 136 @Y17XAX6*/
               3 $R137144 CHAR(1),                /* ROUTINE MASK 137
                                                 THRU 144 @Y17XAX6*/
               3 $R145152 CHAR(1),                /* ROUTINE MASK 145
                                                 THRU 152 @Y17XAX6*/
               3 $R153160 CHAR(1),                /* ROUTINE MASK 153
                                                 THRU 160 @Y17XAX6*/
               3 $R161168 CHAR(1),                /* ROUTINE MASK 161
                                                 THRU 168 @Y17XAX6*/
               3 $R169176 CHAR(1),                /* ROUTINE MASK 169
                                                 THRU 176  @Y17XAX6*/
               3 $R177184 CHAR(1),                /* ROUTINE MASK 177
                                                 THRU 184  @Y17XAX6*/
               3 $R185192 CHAR(1),                /* ROUTINE MASK 185
                                                 THRU 192 @Y17XAX6*/
               3 $R193200 CHAR(1),                /* ROUTINE MASK 193
                                                 THRU 200 @Y17XAX6*/
               3 $R201208 CHAR(1),                /* ROUTINE MASK 201
                                                 THRU 208 @Y17XAX6*/
               3 $R209216 CHAR(1),                /* ROUTINE MASK 209
                                                 THRU 216 @Y17XAX6*/
               3 $R217224 CHAR(1),                /* ROUTINE MASK 217
                                                 THRU 224 @Y17XAX6*/
               3 $R225232 CHAR(1),                /* ROUTINE MASK 225
                                                 THRU 232  @Y17XAX6*/
               3 $R233240 CHAR(1),                /* ROUTINE MASK 233
                                                 THRU 240 @Y17XAX6*/
               3 $R241248 CHAR(1),                /* ROUTINE MASK 241
                                                 THRU 248 @Y17XAX6*/
               3 $R249255 CHAR(1),                /* ROUTINE MASK 249
                                                 THRU 255 @Y17XAX6*/
               3 $RETMASK CHAR(1),       /* RETURN CODE MASK @Y17XAX6*/
               3 * CHAR(1),                       /* SPARE            */
               3 * CHAR (6),                   /* SPARE      S05331*/
               3 $MSGIDAC CHAR (2),       /* ACTIVE OLT ID @Y17XAX6*/
               3 $TABLE PTR(31) BDY(WORD),        /* ADDRESS OF BRANCH
                                                      TABLE  @Y17XAX6 */
               3 $PASS PTR(31) BDY(WORD),         /* ADDRESS OF PASSON
                                                      AREA  @Y17XAX6  */
               3 $EXT  PTR(31) BDY(WORD),         /* ADDRESS OF
                                            EXTERNAL DATA @Y17XAX6*/
               3 * CHAR(24) BDY(WORD),            /* SCT EXPANSION
                                                      AREA   @Y17XAX6 */
             2 TOTSMGRT PTR(31),                  /* SERVICE MANAGER  */
                                                  /*  RETURN SAVE     */
             2 TOTSAVE1 CHAR(72) BDY(WORD),       /* OLT SUBTASK 1ST  */
                                                  /*  SAVE AREA       */
             2 TOTSAVE2 CHAR(72) BDY(WORD),       /* OLT SUBTASK 2ND  */
                                                  /*  SAVE AREA       */
             2 TOTSAVE3 CHAR(72) BDY(WORD),       /* OLT SUBTASK 3RD  */
                                                  /*  SAVE AREA       */
             2 TOTSAVE4 CHAR(72) BDY(WORD),       /* OLT SUBTASK 4TH  */
                                                  /*  SAVE AREA       */
             2 TOTSAVE5 BDY(WORD),                /* OLT SUBTASK 5TH  */
               3 * CHAR(44),                      /*  SAVE AREA       */
               3 TOTOLTPT PTR(31),
               3 * CHAR(16),
               3 TOTOLTEP PTR(31),
               3 * CHAR(4),
             2 TOTSAVE6 CHAR(72) BDY(WORD),       /* OLT SUBTASK 6TH  */
                                                  /* SAVE AREA@Y17XAXU*/
             2 TOTWOSV1 PTR(31),                  /* IEDQWO LEV 1     */
                                                  /* SAVE AREA@Y17XAXU*/
             2 TOTWOSV2 PTR(31),                  /* IEDQWO LEV 2     */
                                                  /* SAVE AREA@Y17XAXU*/
             2 TOTWOSV3 PTR(31),                  /* IEDQWO LEV 3     */
                                                  /* SAVE AREA@Y17XAXU*/
             2 TOTWOSV4 PTR(31),                  /* IEDQWO LEV 4     */
                                                  /* SAVE AREA@Y17XAXU*/
  2 TOTSVEND CHAR(0),  /* END OF TOTE SAVE AREAS  @Y17XAX6*/
             2 TOTBKASN FIXED(15) BDY(HWORD),     /* MAIN STORAGE     */
                                                  /*  BLOCKS ASSIGNED */
                                                  /*  TO THIS OLT     */
             2 TOTBKRQD FIXED(15) BDY(HWORD),     /* MAIN STORAGE     */
                                                  /*  BLOCKS REQUIRED */
                                                  /*  BY THIS OLT     */
             2 TOTMMSPC CHAR(4) BDY(WORD),        /* OLT UNUSED MAIN  */
                                                  /*  STORAGE SPACE   */
 /*                                                          @Y17XAXU*/
 /*            SOURCE TERMINAL ENTRY                         @Y17XAXU*/
 /*                                                          @Y17XAXU*/
             2 TOTSRENT BDY(WORD),   /* SRC TERMINAL ENTRY   @Y17XAXU*/
               3 TOTSROFF FIXED(16), /* TTCIN OF SOURCE      @Y17XAXU*/
               3 * CHAR(2),          /* RESERVED             @Y17XAXU*/
               3 TOTSRLCB PTR(31),   /* SOURCE LCB ADDRESS   @Y17XAXU*/
 /*                                                                   */
 /*            CONTROL TERMINAL ENTRY                                 */
 /*                                                                   */
             2 TOTCTENT BDY(WORD),                /* CONTROL TERMINAL */
                                                  /*  ENTRY           */
               3 TOTCTUCB FIXED(16),              /* C.T. UCB ADDRESS */
               3 TOTCTOFF FIXED(16),              /* OFFSET TO C.T.   */
                                                  /*  TNT ENTRY       */
                                                  /* (DUMMY)  @Y17XAXU*/
               3 TOTCROFF FIXED(16),              /* OFFSET TO C.T.   */
                                                  /* TNT ENTRY        */
                                                  /* (REAL)   @Y17XAXU*/
               3 TOTCRSID FIXED(16),              /* C.T. NETWORK    */
                                                  /* ADDRESS @Y17XAXU*/
               3 TOTCTRLN CHAR (1),               /* C.T. RELATIVE    */
                                                  /*  LINE NUMBER     */
               3 TOTCTLCB PTR(24),                /* C.T. LCB ADDRESS */
               3 TOTCTTNT PTR(31),                /* C.T. TERMINAL    */
                                                  /*  NAME TABLE ENTRY*/
                                                  /* ADDRESS (DUMMY)  */
               3 TOTCRTNT PTR(31),                /* CT TNT ADDRESS   */
                                                  /* (REAL ENTRY)     */
               3 TOTCTTLN FIXED(15),              /* LENGTH OF CT TTE */
                                                  /*  AREA            */
               3 TOTCTFLG CHAR(1),                /* CONTROL TERMINAL */
                                                  /* FLAGS            */
                 4 TOTCTASN BIT(1),               /* X'80'-   S22024*/
                                                  /* DUMMY EN-S22024*/
                                                  /* TRY ASGN.S22024*/
                 4 TOTCTORN BIT (1),              /* X'40'- CTS22024*/
                                                  /* ON 3705  S22024*/
                 4 * BIT(5),                     /* RESERVED @Y17XAXU*/
                   4 TOTCTSWD BIT(1),            /* X'01' DIAL S22024*/
        3 TOTCTEND CHAR(0),    /* END OF BASIC C.T. AREA  @Y17XAX6*/
                 3 TOTCTRNL CHAR (8),            /* GROUP NAME S22024*/
                                                 /* OF CT LINE S22024*/
               3 TOTCTNAM CHAR (9),               /* CONTROL TERMINAL */
                                                  /* NAME IN EBCDIC   */
             2 TOTCTDFL CHAR (1),                /* CONTROL TERMINAL  */
                                                 /* INITIAL CONDITIONS*/
               3 TOTCTTRM BIT(1),                /* X'80'-TERMINAL    */
                                                 /* DEVICE FLAG       */
               3 TOTCTLIN BIT (1),               /* X'40'-LINE ADDRESS*/
                                                 /* FLAG              */
               3 * BIT(1),                       /* UNUSED            */
               3 TOTCTGP BIT(1),                 /* X'10'-GENERAL POLL*/
                                                 /* INITIALLY ACTIVE  */
                                                 /* ON TEST LINE      */
               3 TOTCTLST BIT (1),               /* X'08'-CT INITIALLY*/
                                                 /* STOPPED           */
               3 TOTCTHD BIT (1),                /* X'04'-CT INITIALLY*/
                                                 /* HELD              */
               3 TOTCTIAC BIT (1),               /* X'02'-CT INVITA-  */
                                                 /* TION LIST ENTRY   */
                                                 /* INITIALLY INACTIVE*/
               3 * BIT (1),                      /* UNUSED            */
             2 * CHAR(3),                        /* RESERVED  @Y17XAXU*/
             2 TOTCUTST,                         /* CONTROL INFO FOR  */
                                                 /* $CUTEST MACRO     */
               3 TOTCUFLG CHAR(1),               /* $CUTEST FLAGS     */
                 4 TOTCUDON BIT (1),             /* X'80-CUTEST ISSUED*/
                 4 TOTCUCUP BIT (1),             /* X'40'-CUTEST CLEAN*/
                                                 /* UP REQUIRED       */
                 4 * BIT (6),                    /* UNUSED            */
               3 TOTCU#AD CHAR (1),              /* $CUTEST NUMBER OF
                                      CONTIGUOUS ADDRESS @Y16XAX6*/
               3 TOTCUCUU CHAR (2),              /* $CUTEST STARTING  */
                                                 /* ADDRESS           */
               3 TOTCUSAV    CHAR (4),           /* $CUTEST SAVE AREA */
               3 TOTCURS1 CHAR (1),              /* $CUTEST CODE      */
                                                 /* PARAMETER         */
               3 TOTCURS2 CHAR (1),              /* $CUTEST HEX       */
                                                 /* CHANNEL ADDRESS   */
               3 TOTCURS3 CHAR (1),              /* $CUTEST RESERVED  */
                                                 /* BYTE 3 CODE       */
                                                 /* PARAMETER         */
               3 TOTCURS4 CHAR (1),              /* $CUTEST RESERVED  */
                                                 /* BYTE 4 CODE       */
                                                 /* PARAMETER         */
             2 TOTWOOPC CHAR(24),                 /* IEDQWO   SA41602*/
                                                  /* OP CNTRL SA41602*/
                                                  /* PARM LISTSA41602*/
             2 TOTPLIST CHAR (24),               /* OP CONTROL S22024*/
                                                 /* PARM LIST  S22024*/
               3 TOTOKEY CHAR(1),                /* KEY        S22024*/
               3 TOTOQCBA CHAR(3),               /* QCB ADDR   S22024*/
               3 TOTOPRI CHAR(1),                /* PRIORITY   S22024*/
               3 TOTOLINK CHAR(3),               /* LINK FIELD S22024*/
               3 TOTOVBCD CHAR(1),               /* VERB CODE  S22024*/
               3 TOTOELNG CHAR(1),               /* LENGTH     S22024*/
               3 TOTORLN CHAR(1),                /* RELATIVE   S22024*/
                                                 /* LINE NO    S22024*/
               3 TOTORTCD CHAR(1),               /* RETURN CODES22024*/
               3 TOTOECBA CHAR(4),               /* ECB ADDR   S22024*/
                 4 TOTOFLG CHAR(1),              /* FLAG BYTE
                                                             @YM08136*/
                   5 TOTOATTC BIT(1),            /* USE ALTERNATE TTCIN
                                                             @YM08136*/
                   5 *        BIT(7),            /* UNUSED   @YM08136*/
                 4 *       CHAR(3),              /* UNUSED   @YM08136*/
               3 TOTOLADR CHAR(8),               /* TERM NAME  S22024*/
                                                 /* OR LINE    S22024*/
                                                 /* ADDRESS    S22024*/
             2 TOTOALTT FIXED(16),               /* ALTERNATE TTCIN
                                                             @YM08136*/
             2 * CHAR (38),                      /* UNUSED   @YM08136*/
             2 TOTOPCLN PTR(31),                 /* OP CONTROL S22024*/
                                                 /* ECB ADDRESSS22024*/
                                                 /* FOR CLEANUPS22024*/
             2 TOTUSCOR PTR (31),                /* CORE IN USES22024*/
 /*                                                                   */
 /*            ALTERNATE PRINTER ENTRY                                */
 /*                                                                   */
             2 TOTAPENT BDY(WORD),                /* ALTERNATE PRINTER*/
                                                  /*  ENTRY           */
               3 TOTAPUCB FIXED(16),              /* A.P. UCB ADDRESS */
               3 TOTAPOFF FIXED(16),              /* OFFSET TO A.P.   */
                                                  /*  TNT ENTRY       */
                                                  /* (DUMMY)  @Y17XAXU*/
               3 TOTAROFF FIXED(16),              /* OFFSET TO A.P.   */
                                                  /* TNT ENTRY        */
                                                  /* (REAL)   @Y17XAXU*/
               3 TOTARSID FIXED(16),              /* NETWORK ADDRESS  */
                                                  /* OF A.P.  @Y17XAXU*/
               3 TOTAPRLN CHAR(1),                /* A.P. RELATIVE    */
                                                  /*  LINE NUMBER     */
               3 TOTAPLCB PTR(24),                /* A.P. LCB ADDRESS */
               3 TOTAPTNT PTR(31),                /* A.P. TERMINAL    */
                                                  /*  NAME TABLE ENTRY*/
                                                  /* ADDRESS (DUMMY)  */
               3 TOTARTNT PTR(31),                /* AP TNT ADDRESS   */
                                                  /* (REAL ENTRY)     */
               3 TOTAPTLN FIXED(15),              /* LENGTH OF AP TTE */
                                                  /* AREA             */
               3 TOTAPFLG CHAR (1),               /* A.P FLAGS S22024*/
                 4 TOTAPASN BIT(1),               /* X'80'-   S22024*/
                                                  /* DUMMY EN-S22024*/
                                                  /* TRY ASGN.S22024*/
                 4 TOTAPORN BIT (1),              /* X'40'- APS22024*/
                                                  /* ON 3705  S22024*/
                 4 * BIT(5),                     /* RESERVED @Y17XAXU*/
                 4 TOTAPSWD BIT(1),              /* X'01' DIAL S22024*/
       3 TOTAPEND CHAR(0),     /* END OF BASIC A.P. AREA  @Y17XAX6*/
                 3 TOTAPRNL CHAR (8),            /*GROUP NAME S05331*/
                                                 /* OF AP LINE S05331*/
               2 TOTAPDFL CHAR (1),              /* ALTERNATE PRINTER*/
                                                 /* INITIAL CONDITIONS*/
               3 TOTAPTER BIT (1),               /* X'80'-TERMINAL    */
                                                 /* DEVICE FLAG       */
               3 TOTAPLIN BIT (1),               /* X'40'-LINE ADDRESS*/
                                                 /* FLAG              */
               3 * BIT (1),                      /* UNUSED            */
               3 TOTAPGP BIT (1),                /* X'10'-GENERAL POLL*/
                                                 /* INITIALLY ACTIVE  */
                                                 /* ON TEST LINE      */
               3 TOTAPLST BIT (1),               /* X'08'-AP INITIALLY*/
                                                 /* STOPPED           */
               3 TOTAPHD BIT (1),                /* X'04'-AP INITIALLY*/
                                                 /* HELD              */
               3 TOTAPIAC BIT (1),               /* X'02'-AP INVITA-  */
                                                 /* TION LIST ENTRY   */
                                                 /* INITIALLY INACTIVE*/
               3 * BIT (1),                      /* UNUSED            */
             2 * FIXED(31),                      /* UNUSED    @ZM47554*/
             2 TOTAPDCB PTR (31),                 /* LOCAL      S22024*/
                                                  /* PRINTER    S22024*/
                                                  /* DCB ADDRESSS22024*/
             2 TOTPDECB CHAR(20) BDY(WORD),       /* LOCAL PRINTER    */
                                                  /*  DECB            */
             2 TOTPARML PTR (31),                /* ADDR OF   SA41612*/
                                                 /* PARM LIST SA41612*/
                                                 /* FOR MACRO SA41612*/
                                                 /* CALL      SA41612*/
             2 TOTOLTMQ PTR(31),                  /* SUBTASK MESSAGE  */
                                                  /*  QUEVE           */
             2 TOTOTECB CHAR(4) BDY(WORD),        /* TOTE SUBTASK ECB */
             2 TOTRESSV PTR(31),                  /* POINTER TO MOTHER*/
                                                  /*  TASK SAVE AREA  */
             2 TOTTCBAD PTR(31),                  /* SUBTASK TCB ADDR */
             2 TOTCMPCD CHAR(4),                  /* SUBTASK          */
                                                  /*  COMPLETION CODE */
             2 TOTOLTPL BDY(WORD),                /* OLT INPUT        */
                                                  /*  PARAMETER LIST  */
               3 * CHAR (8),                     /* UNUSED            */
               3 TOT#TBLE PTR(31),     /* BRANCH TABLE ADDR  @Y17XAX6*/
             2 TOTWTORP BDY(WORD),                /* WTOR PARAMETER   */
                                                  /*  LIST FOR        */
                                                  /*  OPERATOR        */
                                                  /*  COMMUNICATION   */
               3 TOTINCNT PTR(8),                 /* REPLY BYTE COUNT */
               3 TOTINADR PTR(24),                /* REPLY BUFFER ADDR*/
               3 TOTINECB PTR(31),                /* REPLY ECB ADDRESS*/
             2 TOTWTOPL BDY(WORD),                /* WTO & WTOR PARM  */
                                                  /*  LIST FOR        */
                                                  /*  OPERATOR        */
                                                  /*  COMMUNICATION   */
               3 * CHAR (1),                     /* UNUSED            */
               3 TOTOTCNT PTR(8),                 /* OUT MESSAGE COUNT*/
               3 * CHAR (2),                     /* UNUSED            */
               3 TOTOTBUF CHAR (84),             /* OUTPUT AREA       */
                                                  /*  BUFFER          */
               3 TOTINBUF CHAR(80),               /* REPLY BUFFER     */
             2 TOTOLTID CHAR(2) BDY(HWORD),       /* TOTE OLT         */
                                                  /*  IDENTIFICATION  */
             2 TOTRTCOD CHAR(1),                  /* SERVICE MODULE   */
                                                  /*  RETURN CODE     */
             2 * CHAR(1),                         /* UNUSED           */
             2 TOTPLNKQ BDY(WORD),                /* PLINK MODULE     */
                                                  /*  QUEUE           */
               3 TOTPLFWD PTR(31),                /* QUEUE FORWARD    */
                                                  /*  POINTER         */
               3 TOTPLBKW PTR(31),                /* QUEUE BACKWARD   */
                                                  /*  POINTER         */
      2 * CHAR(4),      /* RESERVED    @Y17XAX6*/
             2 TOTWKSPC CHAR(128) BDY(DWORD),     /* TOTE WORK AREA   */
     2 TOTWKEND CHAR(0),  /* WORK SPACE END  @Y17XAX6*/
             2 * CHAR (20),                       /* UNUSED           */
             2 TOTAVTPT PTR (31),                 /* ADDRESS OF AVT   */
             2 TOTSTAE PTR (31),                  /* ADDRESS OF S22024*/
                                                  /* STAE EXIT  S22024*/
                                                  /* ROUTINE    S22024*/
             2 TOTRESPL PTR(31),                  /* ADDRESS OF TOTE  */
                                                  /*  RESIDENT        */
                                                  /*  PARAMETER LIST  */
             2 TOTFLG01 CHAR(1) ABNL,             /* TOTE 1ST FLAG    */
                                                  /*  BYTE   @G36XRXV */
               3 TOTFINAL BIT (1),               /* FINAL MSG  S05331*/
                                                 /* INDICATOR  S05331*/
               3 TOTCONFG BIT (1),                /* X'40'-CONFIGURA-*/
                                                  /* RUN             */
               3 TOTIPLCU BIT (1),               /* X'20'-FORCES05331*/
                                                 /* CLEANUP    S05331*/
                                                 /* FROM IPL   S05331*/
               3 TOTEXIT BIT(1),                 /*X'10'- IEDQWO     */
                                                 /* CONTROL FLOW      */
                                                 /* FLAG      @Y17XAXU*/
               3 TOTAPTST BIT(1),        /* AP ON TEST LINE   @Y17XAXU*/
               3 TOTPRMPT BIT (1),                /* X'04'-     S22024*/
                                                  /* PROMPTER   S22024*/
                                                  /* RUN        S22024*/
               3 TOTCLNST BIT(1) ABNL, /*CLEANUP STARTED      @G36XRXV*/
               3 TOTCLNED BIT(1),   /* CLEANUP ENDED          @YM08158*/
             2 TOTFLG02 CHAR(1),                  /* TOTE 2ND FLAG    */
                                                  /*  BYTE            */
                 3 TOTTTSPE BIT(1),      /* TEST SESSION      @Y17XAXU*/
                                         /* PEND END          @Y17XAXU*/
                 3 TOTTSST BIT(1),       /* CT/AP IN TEST MODE@Y17XAXU*/
                 3 TOTDEV0X BIT(1),               /* X'20'-TESTS22024*/
                                                  /* DEVICE ON S22024*/
                                                  /* 270X      S22024*/
               3 TOTOLTRQ BIT(1),                 /* X'10'-ON- S22024*/
                                                  /* LINE TEST S22024*/
                                                  /* REQUEST   S22024*/
                                                  /* FLAG      S22024*/
               3 TOTCHKSZ BIT(1),                 /* X'08'- UPDATE    */
                                                  /*  SUBTASK STORAGE */
                                                  /*  ALLOCATION FLAG */
               3 TOTCONMD BIT (1),                /* X'04'-GETSA41597*/
                                                  /* CONC MOD SA41597*/
                                                  /* FOR INIT SA41597*/
                                                  /* STATUS   SA41597*/
                                                  /* SET UP   SA41597*/
               3 TOTCONCU BIT(1),                 /* X'02'CONCSA41597*/
                                                  /* CLEANUP  SA41597*/
                                                  /* REQUIRED SA41597*/
               3 TOTDEVRN BIT(1),                 /* X'01-TEST S22024*/
                                                  /* DEVICE ON S22024*/
                                                  /* 3705      S22024*/
             2 TOTFLG03 CHAR(1),                  /* TOTE 3RD FLAG    */
                                                  /*  BYTE            */
               3 TOTAPOER BIT(1),                 /* X'80'- ALTERNATE */
                                                  /*  PRINTER OPTION  */
                                                  /*  ERROR FLAG      */
               3 TOTTDFER BIT(1),                 /* X'40'- TEST      */
                                                  /*  DEVICE FIELD    */
                                                  /*  ERROR FLAG      */
               3 TOTTSTER BIT(1),                 /* X'20'- TEST ID   */
                                                  /*  FIELD ERROR FLAG*/
               3 TOTOPTER BIT(1),                 /* X'10'- OPTION    */
                                                  /*  FIELD ERROR FLAG*/
               3 TOTIMNCP BIT(1),                 /* X'08'- TEMPORARY */
                                                  /*  NO CONTROL PRINT*/
                                                  /*  FLAG            */
               3 TOTTSINC BIT(1),                 /* X'04'- INCLUSIVE */
                                                  /*  TEST ID ENTRY   */
                                                  /*  FLAG            */
               3 TOTREPEX BIT(1),                /* X'02'-    SA41613*/
                                                 /* REPLY     SA41613*/
                                                 /* EXPECTED  SA41613*/
                                                 /* FLAG      SA41613*/
               3 * BIT (1),                      /* UNUSED     S22024*/
             2 TOTFLG04 CHAR(1),                  /* TOTE 4TH FLAG    */
                                                  /*  BYTE            */
               3 TOTNUMDV BIT(1),                 /* X'80'- NUMERIC   */
                                                  /*  TRM ENTRY FLAG  */
               3 TOTDTCHD BIT(1),                 /* X'40'- SUBTASK   */
                                                  /*  ALREADY DETACHED*/
                                                  /*  FLAG            */
               3 TOTCLOSE BIT(1),                 /* X'20'- TCAM      */
                                                  /*  CLOSEDOWN IN    */
                                                  /*  PROGRESS FLAG   */
               3 TOTPRCTF BIT (1),/*PRIMARY TEST DEVICE COUNTERFEIT
                                                            @YM08407*/
               3 TOTSCCTF BIT (1),/* SECONDARY TEST DEVICE COUNTERFEIT
                                                            @YM08407*/
               3 * BIT (1),                      /* UNUSED     S22024*/
               3 * BIT (1),                      /* UNUSED     S22024*/
               3 TOTTTSWT BIT(1),                 /* X'01'- TEST      */
                                                  /*  TERMINAL LINE   */
                                                  /*  SWITCHED FLAG   */
             2 TOTFLG05 CHAR(1),                  /* TOTE 5TH FLAG    */
                                                  /*  BYTE            */
               3 TOTPRINT BIT(1),                 /* X'80'- ACCESS    */
                                                  /*  METHOD PRINT    */
                                                  /*  FLAG            */
               3 TOTCECOM BIT(1),                 /* X'40'- ACCESS    */
                                                  /*  METHOD CECOM    */
                                                  /*  FLAG            */
               3 TOTREPLY BIT(1),                 /* X'20'- ACCESS    */
                                                  /*  METHOD CECOM    */
                                                  /*  WITH REPLY FLAG */
               3 TOTSRCE BIT(1),     /* SEND MSG TO SOURCE   @Y17XAXU*/
               3 TOTSRCON BIT(1),    /* TRM ENTERED FROM SRC @Y17XAXU*/
               3 TOTTMOUT BIT(1),                 /* X'04'- WAIT      */
                                                  /*  TIMEOUT FLAG    */
               3 TOTEXIOF BIT(1),                 /* X'02'- ACCESS    */
                                                  /*  METHOD EXIO FLAG*/
               3 TOTNDMSG BIT(1),                 /* X'01'- SEND      */
                                                  /*  CANCEL OR       */
                                                  /*  TERMINATE       */
                                                  /*  MESSAGE FLAG    */
             2 TOTFLG06 CHAR(1),                  /* TOTE 6TH FLAG    */
                                                  /*  BYTE            */
               3 TOTOTERM BIT(1),                 /* X'80'-SECTION    */
                                                  /*  TERMINATE FLAG  */
               3 TOTCBOPN BIT(1),                 /* X'40'-CANCEL     */
                                                  /* BEFORE OPEN      */
               3 TOTWACAN BIT(1),                 /* X'20'-CANCEL     */
                                                  /* REQUEST PENDING  */
               3 TOTNCMFG BIT(1),                 /* X'10'-NON-CONCUR-*/
                                                  /*  RENT MODE FLAG  */
               3 TOTABEND BIT(1),                 /* X'08'- OLT HAS   */
                                                  /*  ABENDED FLAG    */
               3 TOTCANCL BIT(1),                 /* X'04'- CANCEL    */
                                                  /*  TESTING FLAG    */
               3 TOTOTACT BIT(1),                 /* X'02'- OLT ACTIVE*/
                                                  /*  FLAG            */
               3 TOTNPERR BIT(1),                 /* X'01'- NO PERMA- */
                                                  /*  NENT ERROR FLAG */
             2 TOTFLG07 CHAR(1),                  /* TOTE 7TH FLAG    */
                                                  /*  BYTE            */
               3 TOTPRIEX BIT(1),                 /* X'80'- PRIMARY   */
                                                  /*  DEVICE FOR      */
                                                  /*  EXIO/WAITIO FLAG*/
               3 TOTSECEX BIT(1),                 /* X'40'- SECONDARY */
                                                  /*  DEVICE FOR      */
                                                  /*  EXIO/WAITIO FLAG*/
               3 * BIT (1),                      /* UNUSED     S22024*/
               3 * BIT (1),                      /* UNUSED            */
               3 TOTMSCEC BIT(1),                 /* X'08'- TOTE      */
                                                  /*  MESSAGE SOURCE  */
                                                  /*  FLAG - CECOM    */
               3 TOTMSREP BIT(1),                 /* X'04'- TOTE      */
                                                  /*  MESSAGE SOURCE  */
                                                  /* 'FLAG - CECOM    */
               3 TOTMSPRT BIT(1),                 /* X'02'- TOTE      */
                                                  /*  MESSAGE SOURCE  */
                                                  /*  FLAG - CECOM    */
               3 TOTMSSRC BIT(1), /* TOTE MESSAGE SOURCE FLAG @Y17XAX6*/
             2 TOTFLG08 CHAR(1),                  /* TOTE 8TH FLAG    */
                                                  /*  BYTE            */
               3 TOTFMCTL BIT(4),                 /* BITS 0-3 ARE     */
                                                  /*  DPRINT FORMS    */
                                                  /*  CONTROL FLAGS   */
               3 * BIT(4),                        /* BITS 4-7 ARE     */
                                                  /*  DPRINT LEVEL    */
                                                  /*  CONTROL FLAGS   */
             2 TOTFLG09 CHAR(1),                  /* TOTE 9TH FLAG    */
                                                  /*  BYTE            */
               3 TOTAPCON BIT(1),                 /* X'80'- PRINTER = */
                                                  /*  SYSTEM CONSOLE  */
                                                  /*  FLAG            */
               3 TOTAPOUT BIT(1),                 /* X'40'- PRINTER = */
                                                  /*  SYSTEM PRINTER  */
                                                  /*  FLAG            */
               3 TOTCTCON BIT(1),                 /* X'20'- CONTROL   */
                                                  /*  TERMINAL = SYS  */
                                                  /*  CONSOLE FLAG    */
               3 TOTAPTRM BIT(1),                 /* X'10'- PRINTER = */
                                                  /*  TERMINAL FLAG   */
               3 TOTNOBRK BIT (1),               /* X'08' - NO S22024*/
                                                 /* BREAK OPT  S22024*/
               3 TOTLNCON BIT (1),               /* X'04'-LINE S22024*/
                                                 /* CONN DONE  S22024*/
               3 TOTPRECT BIT(1),                 /* X'02'- NO        */
                                                  /*  ALTERNATE       */
                                                  /*  PRINTER FLAG    */
               3 TOTMACFT BIT(1),                 /* X'01'-UN- S22024*/
                                                  /* SUPPORTED S22024*/
                                                  /* MACRO     S22024*/
                                                  /* FUNCTION  S22024*/
             2 TOTFLG10 CHAR(1),                  /* TOTE 10TH FLAG   */
                                                  /*  BYTE            */
               3 TOTTERMS BIT(1),                 /* X'80'- TEST      */
                                                  /*  DEVICES=TERMINAL*/
                                                  /*  FLAG            */
               3 * BIT (1),                      /* UNUSED     S22024*/
               3 * BIT (1),                      /* UNUSED     S22024*/
               3 * BIT (1),                      /* UNUSED    S22024*/
               3 TOTTNTRQ BIT(1),                 /* X'08'- DUMMY TNT */
                                                  /*  ENTRY REQUEST   */
                                                  /*  FLAG            */
               3 TOTOLTED BIT(1),                 /* X'04'- ON-LINE   */
                                                  /*  TEST ENDED FLAG */
               3 TOTOLTWT BIT(1),                 /* X'02'- ON-LINE   */
                                                  /*  TEST WAITING    */
                                                  /*  FLAG            */
               3 TOTOLTRS BIT(1),                 /* X'01'- ON-LINE   */
                                                  /*  TEST RESTART    */
                                                  /*  FLAG            */
             2 TOTTTBEL PTR(8),                  /* TERMINAL NAME     */
                                                  /*  TABLE ENTRY NAME*/
                                                  /*  LENGTH          */
             2 * CHAR (1),                       /* RESERVED          */
 %IF CONFG='YES'  %THEN
    %GOTO CNFBYP;
             2 TOTEXT CHAR(56) BDY(WORD),         /* EXTERNAL DATA    */
                                                  /*  BUFFER          */
             2 TOTPASS CHAR(64) BDY (WORD),       /* PASSON DATA      */
                                                  /*  BUFFER          */
             2 TOTPRECB CHAR(4),                  /* PRIMARY ECB      */
               3 TOTPRIBK CHAR(4),                /* PRIMARY TEST     */
                                                  /* DEVICE I/O       */
                                                  /*  CONTROL BLOCKS  */
                 4 TOTTRMBF CHAR(4),              /* TRM BUFFER FOR   */
                                         /*  TRM ANALYSIS  @Y17XAX6*/
 /*                                                                   */
 /*            PRIMARY TEST DEVICE ENTRY                              */
 /*                                                                   */
             2 TOTPRENT BDY(WORD),                /* TOTE PRIMARY TEST*/
                                                  /*  DEVICE ENTRY    */
               3 TOTPRUCB FIXED(16),              /* PRIMARY DEVICE   */
                                                  /*  UCB ADDRESS     */
               3 TOTPCOFF FIXED(16),              /* OFFSET TO SECOND */
                                                  /* TNT ENTRY        */
                                                  /* (DUMMY)  @Y17XAXU*/
               3 TOTPROFF FIXED(16),              /* OFFSET TO PRIMARY*/
                                                  /*  TNT ENTRY       */
                                                  /* (REAL)   @Y17XAXU*/
               3 TOTPRSID FIXED(16),              /* NETWORK ADDRESS  */
                                                  /* OF PRI   @Y17XAXU*/
               3 TOTPRRLN CHAR(1),                /* PRIMARY DEVICE   */
                                                  /*  RELATIVE LINE   */
                                                  /*  NUMBER          */
               3 TOTPRLCB PTR(24),                /* 3705 LCB @Y17XAX6*/
                                                  /* ADDRESS  @Y17XAXU*/
               3 TOTPDTNT PTR(31),                /* PRIMARY TNT      */
                                                  /* ADDRESS          */
                                                  /* (DUMMY)  @Y17XAXU*/
               3 TOTTNTPR PTR(31),                /* PRIMARY TERMINAL */
                                                  /* TNT ADDRESS -REAL*/
               3 TOTPRLEN FIXED(15),              /* PRIMARY TTE AREA */
                                                  /* LENGTH   @Y17XAXU*/
               3 TOTPRFLG CHAR(1),                /* PRIMARY          */
                                                  /* FLAGS    @Y17XAXU*/
                4 TOTPRTAS BIT(1),                /* PRIMARY TNT      */
                                                  /* ASSIGNED @Y17XAXU*/
                4 TOTPRLU BIT(1),                 /* LU TERM  @Y17XAXU*/
       4 TOTPPRSC BIT(1),  /* ON=PRIMARY, OFF=SECONDARY @Y17XAX6*/
    4 TOTPUNRD BIT(1),  /* ON=UNREAD DATA, OFF=NO UNREAD DATA @Y17XAX6*/
   4 TOTPREX BIT(1),  /* EXCEPTION RESPONSE  @Y17XAX6*/
   4 TOTPRFME BIT(1),  /* DEFINITE RESPONSE  @Y17XAX6*/
   4 TOTPEXNM BIT(1), /* ON=EXPEDITED, OFF=NORMAL  @Y17XAX6*/
                4 * BIT(1),                       /* RESERVED @Y17XAX6*/
               3 * CHAR(1),                       /* RESERVED @Y17XAXU*/
               3 TOTPRQCB PTR (31),               /* PRIMARY QCBS22024*/
                                                  /* ADDRESS    S22024*/
               3 TOTPRCCW PTR (31),               /* ADDRESS OF S22024*/
                                                  /* READ CCW   S22024*/
                                                  /* FOR PRIMARYS22024*/
                                                  /* TEST DEVICES22024*/
               3 TOTPRBUF PTR (31),               /* ADDRESS OF S22024*/
                                                  /* BUFFER CON-S22024*/
                                                  /* TAINING    S22024*/
                                                  /* READ DATA  S22024*/
                                                  /* FOR PRIMARYS22024*/
                                                  /* TTE AREA         */
 /*                                                                   */
     /* PRIMARY DEVICE DATA BLOCKING FIELD                            */
 /*                                                                   */
             2 TOTPDTBF POINTER (31),             /* RESPONSE BUFFER  */
                                                  /*  ADDRESS         */
             2 TOTPDTCT FIXED (15),               /* RESPONSE BUFFER  */
                                                  /*  SIZE            */
             2 TOTPFLGS CHAR (1),                 /* FLAGS            */
             2 * CHAR (1),                        /* UNUSED  @ZM47554 */
             2 TOTPRSN CHAR(4) BDY(WORD),         /* PRIMARY SEQ      */
                                                  /* NUMBER FIELD     */
                                                  /*         @ZM47554 */
               3 * CHAR(2),                       /* FLAGS   @ZM47554 */
               3 TOTPRSEQ FIXED(16),              /* SEQUENCE NUMBER  */
                                                  /* (IN SNA TH )     */
                                                  /*         @ZM47554 */
             2 TOTPTECB PTR(31),                  /* PRIMARY TECB ADDR*/
             2 TOTPRIOB CHAR (44),                /* PRIMARY   S22024*/
                                                  /* IOB       S22024*/
             2 TOTPRDCB CHAR (72) BDY(WORD), /* PRIMARY DCB @Y17XAX6*/
               3 * CHAR (44),                     /* UNUSED    S22024*/
               3 TOTPRDEB PTR (31),               /* PRIMARY   S22024*/
                                                  /* DEB ADDR  S22024*/
             2 TOTSCECB CHAR(4),                  /* SECONDARY ECB    */
               3 TOTSCIBK CHAR(4),                /* SECONDARY TEST   */
                                                  /* DEVICE I/O       */
                                                  /*  CONTROL BLOCKS  */
 /*                                                                   */
 /*            SECONDARY TEST DEVICE ENTRY                            */
 /*                                                                   */
             2 TOTSCENT BDY(WORD),                /* TOTE SECONDARY   */
                                                  /*  TEST DEVICE     */
                                                  /*  ENTRY           */
               3 TOTSCUCB FIXED(16),              /* SECONDARY DEVICE */
                                                  /*  UCB ADDRESS     */
               3 TOTNCOFF FIXED(16),              /* OFFSET TO        */
                                                  /* SECONDARY TNT    */
                                                  /* ENTRY            */
                                                  /* (DUMMY)  @Y17XAXU*/
               3 TOTSCOFF FIXED(16),              /* OFFSET TO        */
                                                  /*  SECONDARY TNT   */
                                                  /*  ENTRY           */
                                                  /* (REAL)   @Y17XAXU*/
               3 TOTSRSID FIXED(16),              /* NETWORK ADDRESS  */
                                                  /* OF SEC   @Y17XAXU*/
               3 TOTSCRLN CHAR(1),                /* SECONDARY DEVICE */
                                                  /*  RELATIVE LINE   */
                                                  /*  NUMBER          */
               3 TOTSCLCB PTR(24),                /* 3705 LCB @Y17XAX6*/
                                                  /* ADDRESS  @Y17XAXU*/
               3 TOTSDTNT PTR(31),                /* SECONDARY        */
                                                  /* TNT ENTRY        */
                                                  /* ADDRESS  @Y17XAXU*/
                                                  /* (DUMMY)  @Y17XAXU*/
               3 TOTSRTNT PTR(31),                /* SECONDARY        */
                                                  /* TERMINAL TNT ADDR*/
                                                  /* (REAL ENTRY)     */
               3 TOTSCLEN FIXED(15),              /* SECONDARY TTE    */
                                                  /* AREA LEN @Y17XAXU*/
               3 TOTSCFLG CHAR(1),                /* SECONDARY        */
                                                  /* FLAGS    @Y17XAXU*/
                4 TOTSCTAS BIT(1),                /* SECONDARY TNT    */
                                                  /* ASSIGNED @Y17XAXU*/
                4 TOTSCLU BIT(1),                 /* LU TERM  @Y17XAXU*/
  4 TOTSPRSC BIT(1),  /* ON=PRIMARY, OFF=SECONDARY  @Y17XAX6*/
  4 TOTSUNRD BIT(1),  /* ON=UNREAD DATA, OFF=NO UNREAD DATA @Y17XAX6*/
  4 TOTSCEX BIT(1), /* EXCEPTION RESPONSE @Y17XAX6*/
  4 TOTSCFME BIT(1), /* DEFINITE RESPONSE  @Y17XAX6*/
  4 TOTSEXNM BIT(1), /* ON=EXPEDITED, OFF=NORMAL  @Y17XAX6*/
                4 * BIT(1),                       /* RESERVED @Y17XAX6*/
               3 * CHAR(1),                       /* RESERVED @Y17XAXU*/
               3 TOTSCQCB PTR (31),               /* SECONDARY  S22024*/
                                                  /* QCB ADDRESSS22024*/
               3 TOTSCCCW PTR (31),               /* ADDRESS OF S22024*/
                                                  /* READ CCW   S22024*/
                                                  /* FOR SECON- S22024*/
                                                  /* DARY TEST  S22024*/
                                                  /* DEVICE     S22024*/
               3 TOTSCBUF PTR(31),                /* ADDRESS OF S22024*/
                                                  /* BUFFER CON-S22024*/
                                                  /* TAINING    S22024*/
                                                  /* READ DATA  S22024*/
                                                  /* FOR SECON- S22024*/
                                                  /* DARY TEST  S22024*/
                                                  /* DEVICE     S22024*/
 /*                                                                   */
     /* SECONDARY DEVICE DATA BLOCKING FIELD                          */
 /*                                                                   */
             2 TOTSDTBF POINTER (31),             /* RESPONSE BUFFER  */
                                                  /* ADDRESS          */
             2 TOTSDTCT FIXED (15),               /* RESPONSE BUFFER  */
                                                  /*  SIZE            */
             2 TOTSFLGS CHAR (1),                 /* FLAGS            */
             2 * CHAR (1),                        /* UNUSED  @ZM47554 */
             2 TOTSCSN CHAR(4) BDY(WORD),         /* SECONDARY SEQ    */
                                                  /* NUMBER FIELD     */
                                                  /*         @ZM47554 */
               3 * CHAR(2),                       /* FLAGS   @ZM47554 */
               3 TOTSCSEQ FIXED(16),              /* SEQUENCE NUMBER  */
                                                  /* (IN SNA TH )     */
                                                  /*         @ZM47554 */
             2 TOTSTECB CHAR(4),                  /* SECONDARY TECB   */
                                                  /*  ADDRESS         */
             2 TOTSCIOB CHAR (44),                /* SECONDARY S22024*/
                                                  /* IOB       S22024*/
        2 TOTSCDCB CHAR (72) BDY(WORD), /* SECONDARY DCB   @Y17XAX6*/
                                                  /* DCB       S22024*/
               3 * CHAR (44),                     /* UNUSED    S22024*/
               3 TOTSCDEB PTR (31),               /* SECONDARY S22024*/
                                                  /* DEB ADDR  S22024*/
             2 TOTCROLT CHAR (8),                 /* CURRENT   S22024*/
                                                  /* OLT ID    S22024*/
               3 TOTTRMND CHAR (1),               /* END OF    S22024*/
                                                  /* TRM BUFFERS22024*/
             2 TOTOLTTB (10) CHAR(3),             /* OLT ID    S22024*/
                                                  /* TABLE     S22024*/
             2 TOTOLTTE CHAR (0),        /* END OF TABLE @Y17XAX6*/
           2 TOTCONTB (10) CHAR (1),              /* CONC INITSA41597*/
                                                  /* STAT TBL SA41597*/
           2 TOTCONCT CHAR (1),                   /* CONC STATSA41597*/
                                                  /* FOR CT   SA41597*/
           2 TOTCONAP CHAR (1),                   /* CONC STATSA41597*/
                                                  /* FOR AP   SA41597*/
           2 TOTCONND CHAR (0),        /* END OF TABLE  @Y17XAX6*/
             2 * CHAR (38),                       /* UNUSED   SA41597*/
             2 TOTTDTBL (10) CHAR(4),             /* TOTE TEST DEVICE */
                                                  /*  TABLE           */
               3 * CHAR(1),
                 4 TOTTDTRM BIT(1),               /* X'80'- TERMINAL  */
                                                  /*  DEVICE FLAG     */
                 4 TOTTDLIN BIT(1),               /* X'40' - LINE ADDR*/
                                                  /*  FLAG            */
                 4 TOTTDGRB BIT(1),               /* X'20'-TEST DEVICE*/
                                                  /* GRABBED FLAG     */
                 4 TOTTDORN BIT(1),               /* X'10'-TEST S22024*/
                                                  /* DEVICE ON  S22024*/
                                                  /* A 3705     S22024*/
                 4 TOTTDLST BIT(1),               /* X'08' - TEST     */
                                                  /*  DEVICE INITIALLY*/
                                                  /*  STOPPED         */
                 4 TOTTDTHD BIT(1),               /* X'04' - TEST     */
                                                  /*  DEVICE INITIALLY*/
                                                  /*  HELD            */
                 4 TOTTDIAC BIT(1),               /* X'02' - TEST     */
                                                  /*  DEVICE INVITA-  */
                                                  /*  TION LIST ENTRY */
                                                  /*  INITIALLY       */
                                                  /*  INACTIVE        */
                 4 TOTTSWPM BIT(1),              /*X'01'-SWITCHY06330*/
                                                 /* HAS BEEN   Y06330*/
                                                 /* PERFORMED  Y06330*/
               3 * CHAR (3),                     /* SKIP   @Y17XAX6 */
               2 TOTTDEND CHAR(0),        /* END OF TABLE  @Y17XAX6*/
 /*                                                                   */
     /* WAITIO ECB LIST                                               */
 /*                                                                   */
             2 TOTWECBA POINTER(31),              /* POINTER TO ECB   */
                                                  /* FOR TEST DEVICE  */
             2 TOTECBPT POINTER (31),             /* POINTER TO       */
                                                  /* SUBTASK ECB      */
             2 TOTTLCNT FIXED(15),                /* TEST LOOP COUNT  */
            2 * CHAR(2),  /*RESERVED  @Y17XAX6*/
 %GOTO MEND;
 %CNFBYP:   ;
             2 * CHAR(4),             /* RESERVED   @Y17XAX6*/
             2 CDSREC CHAR(256) BDY(DWORD),       /* CONFIGURATOR WORK*/
                                                  /*  AREA            */
               3 CDSUNIT PTR(31),                 /* UNIT ADDRESS     */
                 4 CDSWORK CHAR (1),
               3 CDSMODEL CHAR(1),                /* MODEL            */
               3 CDSFEAT CHAR(1),                 /* FEATURES         */
               3 CDSCLASS CHAR(1),                /* CLASS            */
               3 CDSTYPE CHAR(1),                 /* TYPE DEVICE      */
               3 CDSBYTES CHAR(1),                /* BYTE COUNT       */
               3 CDSFLAGS CHAR(1),                /* FLAGS            */
                 4 CDSFPMOD BIT(1),               /* X'80'- FILE      */
                                                  /*  PROTECT MODE    */
                                                  /*  FLAG            */
                 4 CDSDVSHR BIT(1),               /* X'40'- DEVICE    */
                                                  /*  SHARED WITH     */
                                                  /*  ANOTHER SYSTEM  */
                 4 CDSFEVOL BIT(1),               /* X'20'- F.E.      */
                                                  /*  VOLUME MOUNTED  */
                                                  /*  FLAG            */
                 4 CDSEXINT BIT(1),               /* X'10'- EXTERNAL  */
                                                  /*  INTERRUPT       */
                                                  /*  POSSIBLE FLAG   */
                 4 CDSSYMNM BIT(1),               /* X'08'- SYMBOLIC  */
                                                  /*  ADDRESSING FLAG */
                 4 CDSTWOCH BIT(1),               /* X'04'- TWO       */
                                                  /*  CHANNEL SWITCH  */
                                                  /*  FLAG            */
                 4 CDSCUSYM BIT(1),               /* X'02'- CUSTOMER  */
                                                  /*  ASSIGNED        */
                                                  /*  SYMBOLIC NAME   */
                 4 CDSLCNCT BIT(1),               /* X'01'- LINE      */
                                                  /*  CONNECTION      */
                                                  /*  REQUIRED        */
               3 CDSSIGNL CHAR(2),                /* EXTERNAL SIGNAL  */
                                                  /*  MASK            */
               3 CDSNAME CHAR(8),                 /* SYMBOLIC         */
                                                  /*  (ALTERNATE      */
                                                  /*  MEMBER) NAME    */
                 4 CDSTCU CHAR(2),                /* OR TCU FEATURES  */
                 4 CDSMISC CHAR(3),               /* MISC             */
                 4 CDSRMASK CHAR(3),              /* SECTION RUN MASK */
               3 CDSFXARA CHAR(4),                /* EXTENDED FIXED   */
                                                  /*  AREA            */
                 4 CDSFXLEN CHAR(1),              /*   LENGTH         */
                 4 CDSFXFLG CHAR(2),              /*   FLAGS          */
                   5 CDSSETMD BIT(1),             /* X'80'- TWO BYTE  */
                                                  /*  SET MODE        */
                   5 CDSAUTCL BIT(1),             /* X'40'- AUTOCALL  */
                                                  /*  FEATURE         */
                   5 CDSMPNT BIT(1),              /* X'20'- SWITCHED  */
                                                  /*  LINE            */
                   5 CDSMDROP BIT(1),             /* X'10'- NON-      */
                                                  /*  SWITCHED MULTI- */
                                                  /*  DROP LINE       */
                   5 CDSWTBSC BIT(1),             /* X'08'- BSC WORLD */
                                                  /*  TRADE DATA SET  */
                   5 * BIT(11),                   /* UNUSED           */
                 4 CDSLNCON CHAR(1),              /* LINE CONNECTION  */
                                                  /*  CMD SEQ CODE    */
             2 CDSINPUT CHAR(80),                 /* INPUT TO UNIT    */
                                                  /*  CONFIGURATOR    */
                                                  /*  AREA            */
               3 CDSTCUTY CHAR(4),                /* TCU TYPE (EBCDIC)*/
                 4 CDSVAR CHAR (1),               /* CDS VARIABLE     */
                                                  /*  FIELD           */
               3 CDSSYMBL CHAR(8),                /* SYMBOLIC TERMINAL*/
                                                  /*  NAME (EBCDIC)   */
               3 CDSTERM CHAR(4),                 /* TERMINAL TYPE    */
                                                  /*  (EBCDIC)        */
               3 CDSADAP CHAR(1),                 /* ADAPTER TYPE     */
                 4 CDSIBM3 BIT(1),                /* X'80'- IBM III   */
                 4 CDSTTY1 BIT(1),                /* X'40'- TTY I     */
                 4 CDSIBM2 BIT(1),                /* X'20'- IBM II    */
                 4 CDSIBM1 BIT(1),                /* X'10'- IBM I     */
                 4 * BIT(4),                      /* UNUSED           */
               3 CDSLINE CHAR(1),                 /* LINE TYPE        */
                 4 * BIT(5),                      /* UNUSED           */
                 4 CDSSWAUT BIT(1),               /* X'04'- SWITCHED  */
                                                  /*  WITH AUTODIAL   */
                 4 CDSMP BIT(1),                  /* X'02'- LEASED    */
                                                  /*  MULTIPOINT      */
                 4 CDSPTP BIT(1),                 /* X'01'- LEASED    */
                                                  /*  POINT TO POINT  */
               3 CDSCONN CHAR(1),                 /* LINE CONNECTION  */
                                                  /*  CODE            */
                 4 * BIT(5),                      /* UNUSED           */
                 4 CDSDSAD0 BIT(1),               /* X'04'- DISABLE,  */
                                                  /*  SADZERO,ENABLE  */
                                                  /*  OR DIAL         */
                 4 CDSDSMI BIT(1),                /* X'02'- DISABLE,  */
                                                  /*  SETMODE,ENABLE  */
                                                  /*  OR DIAL FOR SDAI*/
                 4 CDSDISEN BIT(1),               /* X'01'-DISABLE,   */
                                                  /*  ENABLE OR DIAL  */
               3 CDSNPOLL CHAR(1),                /* NUMBER OF POLLING*/
                                                  /*  CHARACTERS (AEX)*/
               3 CDSPOLL CHAR(7),                 /* POLLING CHARACTER*/
               3 CDSNADDR CHAR(1),                /* NUMBER OF ADDRES-*/
                                                  /*  SING CHARACTERS */
                                                  /*  (HEX)           */
               3 CDSADDR CHAR(10),                /* ADDRESSING       */
                                                  /*  CHARACTERS      */
               3 * CHAR(1),                       /* UNUSED           */
               3 CDSNDIAL CHAR(1),                /* NUMBER OF DIAL   */
                                                  /*  DIGITS          */
               3 CDSDIAL CHAR(20),                /* DIAL DIGITS      */
               3 CDSNID CHAR(1),                  /* CPU ID LENGTH    */
               3 CDSCPUID CHAR(15),               /* CPU ID           */
               3 CDSCODE CHAR (1),                /* ADAPTER LINE CODE*/
               3 CDSCFLGS CHAR (1),              /* RESERVED          */
               3 CDSFNFLG CHAR(1),                /* FUNCTION FLAGS   */
                 4 * BIT(4),                      /* UNUSED           */
                 4 CDSEXIBT BIT(1),               /* X'08'-EXHIBIT    */
                 4 CDSDEL BIT(1),                 /* X'04'-DELETE     */
                 4 CDSADD BIT(1),                 /* X'02'-ADD        */
                 4 * BIT(1),                      /* UNUSED           */
               3 CDSRETFL CHAR (1),               /* RETURN CODE      */
                 4 * BIT(7),                      /* UNUSED           */
                 4 CDSINVLD BIT (1),              /* X'01'- INVALID   */
             2 CDSBLDL CHAR(40),                  /* BLDL LIST FOR    */
                                                  /*  CONFIG DIRECTORY*/
               3 CDSMEMBR CHAR(8),                /*  MEMBER NAME     */
               3 CDSTTRC CHAR(3),                 /* CESD RELATIVE TTR*/
               3 CDSTTRC4 CHAR(1),                /* CESD RELATIVE TTR*/
                                                  /*  4TH BYTE        */
               3 CDSTTRD CHAR(3),                 /* DATA RELATIVE TTR*/
               3 CDSTTRD4 CHAR(1),                /* DATA RELATIVE TTR*/
                                                  /*  4TH BYTE        */
               3 CDSTTRNS CHAR(4),                /* RESERVED         */
               3 CDSATTRB CHAR(2),                /* ATTRIBUTES       */
               3 CDSMAIN CHAR(3),                 /* MAIN STORAGE     */
                                                  /*  REQUIREMENTS    */
               3 CDSBLK1 CHAR(2),                 /* LENGTH OF FIRST  */
                                                  /*  BLOCK           */
               3 CDSEPADR CHAR(3),      /* ENTRY POINT ADDR @Y17XAX6*/
               3 CDSTXBLK CHAR(3),      /* FIRST TEXT BLOCK @Y17XAX6*/
                                                  /*  ORIGIN          */
               3 CDSSSI CHAR(7),                  /* CDS SSI          */
             2 CDSCESD CHAR(56) BDY(DWORD),       /* CESD RECORD FOR  */
                                                  /*  CONFIG PDS      */
               3 CDSCESID CHAR(1),                /* CESD ID          */
               3 CDSCESPR CHAR(3),                /* UNUSED           */
               3 CDSESD01 CHAR(2),                /* ESDID OF FIRST   */
                                                  /*  ESD             */
               3 CDSCESCT FIXED(15),              /* COUNT            */
               3 CDSCESNM CHAR(8),                /* MEMBER NAME      */
               3 CDSCESTY CHAR(1),                /* TYPE             */
               3 CDSCESAD PTR(24),                /* ADDRESS          */
               3 CDSCESGM CHAR(1),                /* SEGMENT          */
               3 CDSCESLN CHAR(3),                /* ID AND LENGTH    */
               3 CDSESD02 CHAR(16),               /* SECOND ESD RECORD*/
               3 CDSESD03 CHAR(16),               /* THIRD ESD RECORD */
             2 CDSCNTL CHAR(20),                  /* CONTROL RECORD   */
                                                  /* FOR CONFIG PDS   */
               3 CDSCTLID CHAR(1),                /* CONTROL ID       */
               3 CDSCTLSP CHAR(3),                /* UNUSED           */
               3 CDSCNT01 CHAR(2),   /* # BYTES FOLLOWING CCW @Y17XAX6*/
               3 CDSCNT02 CHAR(2),              /* COUNT   @Y17XAX6 */
               3 CDSCCW CHAR(8),                  /* CHANNEL CONTROL  */
                                                  /*  WORD            */
               3 CDSCESDI CHAR(2),                /* CESD ENTRY       */
               3 CDSRECLN CHAR (2),               /* LENGTH OF TEXT   */
                                                  /* RECORD           */
             2 CDSTTBLE PTR (31),                 /* TERMINAL TABLE   */
                                                  /* ENTRY ADDRESS    */
             2 CDSTINDX FIXED(15),                /* TERMNAME TABLE   */
                                                  /* INDEX            */
             2 * CHAR (142),               /* RESERVED  @Y17XAX6*/
 %MEND:    ;
           2 TOTWAITI CHAR (8) BDY(DWORD),       /* WAITIO TIME      */
                                                 /* INTERVAL         */
           2 TOTGRABP PTR (31),                  /* CURRENT SECONDARY*/
                                                 /* DEVICE POINTER   */
           2 TOTAPNAM CHAR (8),                  /* ALTERNATE PRINTER*/
                                                 /* NAME IN EBCDIC   */
           2 TOTOLTEN PTR (31),                  /* ENTRY POINT      */
                                                 /* ADDRESS OF OLT   */
           2 TOTWAWRK CHAR(80),      /* IEDQWA WORK AREA     @Y17XAUU*/
           2 TOTWOWRK CHAR (140),                /* IEDQWO    SA41602*/
                                                 /* WORKAREA  SA41602*/
           2 * CHAR (52),                        /* PATCH    @Y17XAXU*/
             2 TOTSERV BDY(DWORD),   /* START OF SERVICE     @Y17XAXU*/
                                     /* ROUTINE WORK AREA    @Y17XAXU*/
             2 TOTOBEND CHAR (0);            /* @Y17XAX6*/
 DCL $TOTE BIT(8) CONSTANT('8A'X);      /* TOTE ID @Y17XAX6 */
 %IF CONFG^='YES' %THEN %GOTO MEND1;
 DCL CDSIBMTY BIT(8) CONSTANT('30'X); /* IBM TTY @Y17XAX6*/
 DCL CDSTTY2 BIT(8) CONSTANT('50'X); /* TTY II  @Y17XAX6*/
 DCL CDSWTTY BIT(8) CONSTANT('60'X); /* WTC TTY  @Y17XAX6*/
 DCL CDSSDA1 BIT(8) CONSTANT('70'X); /* SDA 1 @Y17XAX6*/
 DCL CDSSDA2 BIT(8) CONSTANT('90'X);  /* SDA II @Y17XAX6*/
 DCL CDSSWTCH BIT(8) CONSTANT('03'X);      /* SWITCHED WITHOUT
                                                    AUTODIAL  @Y17XAX6*/
 DCL CDSLOCAL BIT(8) CONSTANT('05'X); /* LOCAL  @Y17XAX6*/
 DCL CDSBYP BIT(8) CONSTANT('00'X);  /* BYPASS  @Y17XAX6*/
 DCL CDSDSMIT BIT(8) CONSTANT('03'X);           /* DISABLE,SETMODE
                             ENABLE OR DIAL FOR SDA II  @Y17XAX6*/
 DCL CDSDSAD1 BIT(8) CONSTANT('05'X);           /* DISABLE, SADONE
                                  ENABLE OR DIAL  @Y17XAX6*/
 DCL CDSDSAD2 BIT(8) CONSTANT('06'X);           /* DISABLE, SADTWO
                                 ENABLE OR DIAL  @Y17XAX6*/
 DCL CDSDSAD3 BIT(8) CONSTANT('07'X);           /* DISABLE, SADFOUR
                                   ENABLE OR DIAL  @Y17XAX6*/
 DCL CDSCHNG BIT(8) CONSTANT('06'X);  /* CHANGE  @Y17XAX6*/
 DCL CDSNRML BIT(8) CONSTANT('00'X);  /* NORMAL RETURN  @Y17XAX6 */
 %MEND1:   ;

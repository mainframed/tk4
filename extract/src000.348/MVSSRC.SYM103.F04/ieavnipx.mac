         TITLE 'IEAVNIPX, NIP CLEANUP AND EXIT ROUTINE                 *
                        '
IEAVNIPX CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(24)                                             0001
         DC    C'IEAVNIPX 78107  UZ18094 '                         0001
         DROP  @15
@PROLOG  BALR  @10,0                                               0001
@PSTART  LA    @06,4095(,@10)                                      0001
         USING @PSTART,@10                                         0001
         USING @PSTART+4095,@06                                    0001
         ST    @13,@SA00001+4                                      0001
         LA    @14,@SA00001                                        0001
         LR    @13,@14                                             0001
*
** REFS ARE GENERATED FOR NVT FIELDS THAT CONTAIN ADDRESSES OF
** NIP SERVICE ROUTINES, SO IEAPMNIP MACRO CALLS TO THESE ROUTINES
** WILL ASSEMBLE PROPERLY.
*                                                                  0282
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO GET ADDR OF RESIDENT ROUTINES              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0283
*   CALL NPXOTEST;                                                 0283
*                                                                  0283
         BAL   @14,NPXOTEST                                        0283
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO SCAN RSU SYSTEM PARAMETER                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0284
*   CALL RSUKEYWD;                  /*                       @YD03005*/
*                                                                  0284
         BAL   @14,RSUKEYWD                                        0284
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO DEFINE MASTER SCHEDULER REGION             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0285
*   CALL NPXMPA;                                                   0285
*                                                                  0285
         BAL   @14,NPXMPA                                          0285
*   /*****************************************************************/
*   /*                                                               */
*   /* WARNING: NO INTERRUPTS EXCEPT TYPE 1 SVC'S MAY OCCUR BEYOND   */
*   /* THIS POINT CALL SUBROUTINE TO MOVE TRACE TABLE TO SQA         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0286
*   CALL NPXTRACE;                                                 0286
*                                                                  0286
         BAL   @14,NPXTRACE                                        0286
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO FREE NIP'S BUFFERS AND SPE QUEUE           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0287
*   CALL NPXFBUF;                                                  0287
*                                                                  0287
         BAL   @14,NPXFBUF                                         0287
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO FREE CONTROL BLOCKS ASSOCIATED WITH NIP'S  */
*   /* JOB PACK QUEUE                                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0288
*   CALL NPXFJPQ;                                                  0288
*                                                                  0288
         BAL   @14,NPXFJPQ                                         0288
*   /*****************************************************************/
*   /*                                                               */
*   /* INITALIZE CONTROL BLOCK'S FOR VIRTUAL EQUAL VIRTUAL AND       */
*   /* VIRTUAL EQUAL REAL CORE                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0289
*   CALL NPXFAREA;                                                 0289
*                                                                  0289
         BAL   @14,NPXFAREA                                        0289
*   /*****************************************************************/
*   /*                                                               */
*   /* REDEFINE THE PAGE FRAME TABLE AVAILABLE QUEUE                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0290
*   CALL NPXPFTAQ;                                                 0290
*                                                                  0290
         BAL   @14,NPXPFTAQ                                        0290
*   /*****************************************************************/
*   /*                                                               */
*   /* RESET TEMPORARY HOOKS USED DURING NIP PROCESSING              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0291
*   CALL NPXRTRAP;                                                 0291
*                                                                  0291
         BAL   @14,NPXRTRAP                                        0291
*   /*****************************************************************/
*   /*                                                               */
*   /* WARNING: DYNAMIC ADDRESS TRANSLATION FEATURE IS DISABLED      */
*   /* DURING NPXRDAT RESET DYNAMIC ADDRESS TRANSLATION TABLES SET UP*/
*   /* PARAMETERS FOR THE MASTER SCHEDULER LINK TO IEEVIPL           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0292
*   CALL NPXRDAT;                                                  0292
*                                                                  0292
         BAL   @14,NPXRDAT                                         0292
*   /*****************************************************************/
*   /*                                                               */
*   /* END OF MAIN LINE CODE FOR IEAVNIPX                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0293
*   RESPECIFY                                                      0293
*    (RNVT,                                                        0293
*     RCVT) UNRESTRICTED;                                          0293
*                                                                  0294
*/********************************************************************/
*/*                                                                  */
*/*          NPXOTEST - TEST FOR THE FOLLOWING ROUTINES IN THE       */
*/*            LINK PACK AREA AND STORE ITS ADDRESS IN THE CVT       */
*/*                                                                  */
*/*            IFG019RA     SVC OPEN RESIDENT ROUTER                 */
*/*            IDDWI        VAM WINDOW INTERCEPT ROUTINE             */
*/*            IFG0TC0A     DM RESOURCE TERM ROUTINE                 */
*/*            IDAVBPP1      VIRTUAL BLOCK PROCESSOR   @Z40WPXA      */
*/*                                                                  */
*/********************************************************************/
*                                                                  0294
*NPXOTEST:                          /* NPXOTEST ENTRY POINT          */
*   PROCEDURE;                                                     0294
@EL00001 L     @13,4(,@13)                                         0294
@EF00001 DS    0H                                                  0294
@ER00001 BR    @14                                                 0294
NPXOTEST STM   @14,@12,@SA00002                                    0294
*   RESPECIFY                                                      0295
*    (RNVT,                                                        0295
*     RCVT) RESTRICTED;                                            0295
*                                                                  0295
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL NPXLPAFN TO SEARCH FOR MODULE IN LPA                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0296
*   MODNAME=SVCORTR;                /* LOAD OPEN ROUTER ROUTINE NAME */
         MVC   MODNAME(8),@CC00073                                 0296
*   CALL NPXLPAFN;                  /* SEARCH FOR MODULE IN LPA      */
         BAL   @14,NPXLPAFN                                        0297
*   IF MODADDR=ZERO                 /* WAS MODULE FOUND              */
*     THEN                          /* NO, MODULE WAS NOT FOUND      */
         L     @12,MODADDR                                         0298
         LTR   @12,@12                                             0298
         BZ    @RT00298                                            0298
*     GO TO NPXMODNF;               /* GO WRITE ERROR MESSAGE        */
*   ELSE                                                           0300
*     ;                             /* YES, MODULE FOUND             */
*   CVTDMSR=MODADDR;                /* PUT MODULE ADDR INTO CVT      */
         ST    @12,CVTDMSR(,RCVT)                                  0301
*   MODNAME=VAMWINR;                /* GET VAM WINDOW INTERCEPT    0302
*                                      ROUTINE NAME                  */
         MVC   MODNAME(8),@CC00075                                 0302
*   CALL NPXLPAFN;                  /* SEARCH FOR MODULE IN LPA      */
         BAL   @14,NPXLPAFN                                        0303
*   IF MODADDR=ZERO THEN            /* WAS MODULE FOUND              */
         L     @12,MODADDR                                         0304
         LTR   @12,@12                                             0304
         BZ    @RT00304                                            0304
*     GO TO NPXMODNF;               /* NO, GO WRITE ERROR MESSAGE    */
*   CVTPWI=MODADDR;                 /* PUT MODULE ADDR INTO CVT      */
         ST    @12,CVTPWI(,RCVT)                                   0306
*   MODNAME=VIRTBLKP;               /* GET VIRTUAL BLOCK PROCESSOR 0307
*                                      ROUTINE NAME                  */
         MVC   MODNAME(8),@CC00079                                 0307
*   CALL NPXLPAFN;                  /* SEARCH FOR MODULE IN LPA      */
         BAL   @14,NPXLPAFN                                        0308
*   IF MODADDR=ZERO THEN            /* WAS MODULE FOUND              */
         L     @12,MODADDR                                         0309
         LTR   @12,@12                                             0309
         BZ    @RT00309                                            0309
*     GO TO NPXMODNF;               /* NO, GO WRITE ERROR MESSAGE    */
*   CVTPVBP=MODADDR;                /* PUT MODULE ADDR INTO CVT      */
         ST    @12,CVTPVBP(,RCVT)                                  0311
*   MODNAME=DMTERM;                 /* GET DATA MGT RESOURCE       0312
*                                      TERMINATION ROUTINE NAME      */
         MVC   MODNAME(8),@CC00077                                 0312
*   CALL NPXLPAFN;                  /* SEARCH FOR MODULE IN LPA      */
         BAL   @14,NPXLPAFN                                        0313
*   IF MODADDR=ZERO THEN            /* WAS MODULE FOUND              */
         L     @12,MODADDR                                         0314
         LTR   @12,@12                                             0314
         BZ    @RT00314                                            0314
*     GO TO NPXMODNF;               /* NO, GO WRITE ERROR MESSAGE    */
*   CVT0TC0A=MODADDR;               /* PUT MODULE ADDR INTO CVT      */
         ST    @12,CVT0TC0A(,RCVT)                                 0316
*   MODNAME=RPTROUT;                /* GET RPT ROUTINE NAME          */
         MVC   MODNAME(8),@CC00081                                 0317
*   CALL NPXLPAFN;                  /* SEARCH FOR MODULE IN LPA      */
         BAL   @14,NPXLPAFN                                        0318
*   IF MODADDR=ZERO THEN            /* WAS MODULE FOUND              */
         L     @12,MODADDR                                         0319
         LTR   @12,@12                                             0319
         BZ    @RT00319                                            0319
*     GO TO NPXMODNF;               /* NO, GO WRITE ERROR MESSAGE    */
*   CVTRPT=MODADDR;                 /* PUT MODULE ADDR INTO CVT      */
         ST    @12,CVTRPT(,RCVT)                                   0321
*   RETURN;                         /* RETURN TO CALLER              */
*                                                                  0322
@EL00002 DS    0H                                                  0322
@EF00002 DS    0H                                                  0322
@ER00002 LM    @14,@12,@SA00002                                    0322
         BR    @14                                                 0322
*   /*****************************************************************/
*   /*                                                               */
*   /* IEA363I MODULE NOT FOUND IN LPA                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0323
*NPXMODNF:                                                         0323
*   MSGMODNM=MODNAME;                                              0323
NPXMODNF MVC   MSGMODNM(8),MODNAME                                 0323
*   GENERATE REFS(RNVT,NVTWTO,IEA363I) SETS(RPARM,REXIT,RENTRY)    0324
*       (IEAPMNIP TYPE=WTO,PARAM=IEA363I);                         0324
         IEAPMNIP TYPE=WTO,PARAM=IEA363I
*   NVTFLWSC=WSC3B;                 /* SET WAIT STATE CODE           */
*                                                                  0325
         MVI   NVTFLWSC(RNVT),X'3B'                                0325
*   /*****************************************************************/
*   /*                                                               */
*   /* LINK TO NIPSWAIT TO TERMINATE INITIALIZATION                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0326
*   GENERATE REFS(RNVT,NVTSWAIT,NVTFLWSC) SETS(REXIT,RENTRY)       0326
*       (IEAPMNIP TYPE=SWAIT);                                     0326
         IEAPMNIP TYPE=SWAIT
*   RESPECIFY                                                      0327
*    (RNVT,                                                        0327
*     RCVT) UNRESTRICTED;                                          0327
*                                                                  0327
*/************************************************************       */
*/* THIS ROUTINE DEFINES THE MASTER SCHEDULER'S REGION               */
*/*                                                                  */
*/*    INPUT                                                         */
*/*       FIELD     CONTROL BLOCK                                    */
*/*       CVTSHRVM  CVT                                              */
*/*       NVTVVPG1  NVT                                              */
*/*                                                                  */
*/*    OUTPUT                                                        */
*/*       FIELD     CONTROL BLOCK                                    */
*/*       MPASIZE   NONE                                             */
*/*       MPADDR    NONE                                             */
*/*                 MASTER SCHEDULER PQE                             */
*/*                 MASTER SCHEDULER FBQE                            */
*/************************************************************       */
*                                                                  0328
*NPXMPA:                                                           0328
*   ENTRY;                          /* INTERNAL ROUTINE              */
         B     @EC00328                                            0328
NPXMPA   STM   @14,@12,@SA00002                                    0328
@EC00328 DS    0H                                                  0329
*   RESPECIFY                                                      0329
*    (RNVT,                                                        0329
*     RCVT,                                                        0329
*     RPQE,                                                        0329
*     SPQESPTR,                                                    0329
*     RTCB,                                                        0329
*     RSCAN,                                                       0329
*     RSIZE) RESTRICTED;                                           0329
*                                                                  0329
*   /*****************************************************************/
*   /*                                                               */
*   /* WARNING THE REMAINDER OF THIS MODULE MUST STAY DISABLED       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0330
*DISABLE:                                                          0330
*   RESPECIFY                                                      0330
*    (R11,                                                         0330
*     R12,                                                         0330
*     R13,                                                         0330
*     RENTRY,                                                      0330
*     R4,                                                          0330
*     R8) RESTRICTED;                                              0330
DISABLE  DS    0H                                                  0331
*   R4=R12;                         /* SAVE R12 ACROSS GETLOCK       */
         LR    R4,R12                                              0331
*   R8=R13;                         /* SAVE R13 ACROSS GETLOCK       */
         LR    R8,R13                                              0332
*   GENERATE REFS(PSALITA) SETS(REXIT,R11,R12,RENTRY,R13);         0333
*                                                                  0333
   SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,RELATED=(PGT,IEAVNIPX.FREEL)
  SETLOCK OBTAIN,TYPE=SALLOC,MODE=UNCOND,RELATED=(PFTE,IEAVNIPX,FREEL)
*   /*****************************************************************/
*   /*                                                               */
*   /* DISABLE I/O AND EXTERNAL INTERUPTS                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0334
*   GENERATE REFS(NPXSMASK) SETS(NPXSMASK)                         0334
*       (STNSM   NPXSMASK,B'11111100');/*                    @ZA28037*/
*                                                                  0334
         STNSM   NPXSMASK,B'11111100'
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0335
*   R12=R4;                         /* RESTORE R12                   */
         LR    R12,R4                                              0335
*   R13=R8;                         /* RESTORE R13                   */
         LR    R13,R8                                              0336
*   RESPECIFY                                                      0337
*    (R11,                                                         0337
*     R12,                                                         0337
*     R13,                                                         0337
*     RENTRY,                                                      0337
*     R4,                                                          0337
*     R8) UNRESTRICTED;                                            0337
*   NVTMASCB->ASCBLDA->CURRGNTP=CVTGDA->PASTRT+SYSREGSZ;/* SET ADDR
*                                      OF BEGINNING OF REGION PLUS 0338
*                                      SIZE OF MASTER SYSTEM REGION
*                                                            @Z30ENXA*/
*                                                                  0338
         L     @12,NVTMASCB(,RNVT)                                 0338
         L     @12,ASCBLDA(,@12)                                   0338
         L     @11,CVTGDA(,RCVT)                                   0338
         L     @08,@CF00059                                        0338
         AL    @08,PASTRT(,@11)                                    0338
         ST    @08,CURRGNTP(,@12)                                  0338
*   /*****************************************************************/
*   /*                                                               */
*   /* FREE TEMPORY ASVT USED DURING NIP                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0339
*   RPARM0=24;                      /* LENGTH OF TEMP ASVT           */
         LA    RPARM0,24                                           0339
*   RPARM=CVTASVT+512;              /* ADDR OF TEMP ASVT             */
         LA    RPARM,512                                           0340
         AL    RPARM,CVTASVT(,RCVT)                                0340
*   CALL NPXFMAIN;                  /* FREE OLD ASVT                 */
         BAL   @14,NPXFMAIN                                        0341
*   CVTASVT=NVTFASVT;               /* HOOK UP REAL ASVT             */
         MVC   CVTASVT(4,RCVT),NVTFASVT(RNVT)                      0342
*   CVTREAL=NVTREALR;               /* SET V=R BEGINNING ADDR        */
         MVC   CVTREAL(4,RCVT),NVTREALR(RNVT)                      0343
*   RTCB=NVTMSTCB;                  /* ADDR. OF MASTER SCHEDULER TCB */
         L     RTCB,NVTMSTCB(,RNVT)                                0344
*   RPQE=TCBPQE;                    /* GET DUMMY PQE ADDR.           */
         L     RPQE,TCBPQE(,RTCB)                                  0345
*   CALL NPXFPQE;                   /* CALL ROUTINE TO FREE DUMMY  0346
*                                      PQE, PQE, AND ALL FBQES FOR 0346
*                                      NIP V=R REGION                */
         BAL   @14,NPXFPQE                                         0346
*   RPQE=NVTVPQE;                   /* GET DUMMY PQE ADDR OF NIP V=V
*                                      REGION                        */
         L     RPQE,NVTVPQE(,RNVT)                                 0347
*   CALL NPXFPQE;                   /* CALL ROUTINE TO FREE DUMMY  0348
*                                      PQE, PQE AND ALL FBQES FOR NIP
*                                      V=V REGION                    */
         BAL   @14,NPXFPQE                                         0348
*   RTCB=NVTMSTCB;                  /* ADDR OF MASTER SCHED TCB      */
         L     RTCB,NVTMSTCB(,RNVT)                                0349
*   SPQESPTR=TCBMSS;                /* GET ADDR OF SPQE CHAIN OF NIP
*                                      V=R REGION                    */
         L     SPQESPTR,TCBMSS(,RTCB)                              0350
*   CALL NPXFSPQE;                  /* CALL ROUTINE TO FREE SPQE,  0351
*                                      DQE, AND FQE FOR NIP V=R    0351
*                                      REGION                        */
         BAL   @14,NPXFSPQE                                        0351
*   TCBMSS=ZERO;                    /* ZERO START OF SPQE CHAIN      */
         SLR   @12,@12                                             0352
         ST    @12,TCBMSS(,RTCB)                                   0352
*   SPQESPTR=NVTVMSS;               /* GET ADDR OF SPQE CHAIN OF NIP
*                                      V=V REGION                    */
         L     SPQESPTR,NVTVMSS(,RNVT)                             0353
*   CALL NPXFSPQE;                  /* CALL ROUTINE TO FREE SPQE,  0354
*                                      DQE, AND FQE FOR NIP V=V    0354
*                                      REGION                        */
         BAL   @14,NPXFSPQE                                        0354
*   RETURN;                         /* RETURN TO MAINLINE            */
         B     @EL00002                                            0355
*   RESPECIFY                                                      0356
*    (RNVT,                                                        0356
*     RCVT,                                                        0356
*     RPQE,                                                        0356
*     SPQESPTR,                                                    0356
*     RTCB,                                                        0356
*     RSCAN,                                                       0356
*     RSIZE) UNRESTRICTED;                                         0356
*                                                                  0357
*/************************************************************       */
*/*   SUBROUTINE TO MOVE TRACE TABLE TO SQA                          */
*/************************************************************       */
*/*    INPUT                                                         */
*/*       RNVT      ADDRESS OF NVT                                   */
*/*       RCVT      ADDRESS OF CVT                                   */
*/************************************************************       */
*                                                                  0357
*NPXTRACE:                                                         0357
*   ENTRY;                                                         0357
NPXTRACE STM   @14,@12,@SA00002                                    0357
*   RESPECIFY                                                      0358
*    (RNVT,                                                        0358
*     RCVT,                                                        0358
*     RSIZE,                                                       0358
*     RPARM,                                                       0358
*     RSCAN,                                                       0358
*     RCURR) RESTRICTED;                                           0358
*   RESPECIFY                                                      0359
*     TRHDR BASED(RPARM);                                          0359
*   IF NVTTRACE=ZERO THEN                                          0360
         LH    @12,NVTTRACE(,RNVT)                                 0360
         LTR   @12,@12                                             0360
         BZ    @RT00360                                            0360
*     RETURN;                       /* RETURN IF NO TRACE TABLE    0361
*                                      SPECIFIED                     */
*   CVTTRACE=CVTTRACE&TRACEOFF;     /* NO-OP TRACE FUNCTION  @YM08212*/
         NC    CVTTRACE(2,RCVT),@CB00099                           0362
*   RSIZE=(NVTTRACE+2)*LENGTH(OLDTRACE);/* GET SIZE OF TRACE TABLE 0363
*                                      FROM NVT, ADD 2 ENTRIES FOR 0363
*                                      HEADER AND ROUNDING           */
         AH    @12,@CH00241                                        0363
         SLA   @12,5                                               0363
         LR    RSIZE,@12                                           0363
*   R5=RSIZE;                       /* SIZE FOR GETMAIN              */
         LR    R5,RSIZE                                            0364
*   R4=NVTMSTCB;                    /* SET UP TCB ADDR FOR BRANCH  0365
*                                      ENTERED GETMAIN               */
         L     R4,NVTMSTCB(,RNVT)                                  0365
*   R7=NVTMASCB;                    /* SET UP ASCB ADDR FOR BRANCH 0366
*                                      ENTERED GETMAIN               */
         L     R7,NVTMASCB(,RNVT)                                  0366
*/*  GETMAIN MAY RESULT IN THE TRACE TABLE EXTENDING INTO ASM'S CSA,
*  AND THIS IS THE REASON WHY TRACE MUST BE OFF WHEN THE TRACE HDR IS
*  UPDATED                                                   @YM08212*/
*                                                                  0367
*   GENERATE REFS(R5) SETS(RPARM0,RPARM)                           0367
*       (GETMAIN  R,LV=(R5),SP=245,BRANCH=YES);                    0367
         GETMAIN  R,LV=(R5),SP=245,BRANCH=YES
*   RSIZE=R5;                       /* RESTORE SIZE OF REQUEST       */
         LR    RSIZE,R5                                            0368
*   RPARM=RPARM+LENGTH(OLDTRACE);   /* SKIP FIRST 32 BYTES FOR HEADER*/
         LA    @12,32                                              0369
         ALR   RPARM,@12                                           0369
*   RSCAN=(((RPARM+31)×31)&&31);    /* ROUND UP TO 32 BYTE BOUNDARY  */
         LA    @11,31                                              0370
         LR    RSCAN,RPARM                                         0370
         ALR   RSCAN,@11                                           0370
         OR    RSCAN,@11                                           0370
         XR    RSCAN,@11                                           0370
*   RPARM=RPARM-LENGTH(OLDTRACE);   /* GET BACK TO BEGINNING FOR   0371
*                                      HEADER                        */
         SLR   RPARM,@12                                           0371
*   RCURR=FLCTRACE;                 /* GET OLD PTR TO TRACE HEADER   */
         SLR   @12,@12                                             0372
         L     RCURR,FLCTRACE(,@12)                                0372
*   TRLEN=RSIZE;                    /* PUT SIZE IN TRACE HEADER      */
         STCM  RSIZE,7,TRLEN(RPARM)                                0373
*   TRSBPOOL=SP245;                 /* PUT SUBPOOL ID IN TRACE HEADER*/
         MVI   TRSBPOOL(RPARM),X'F5'                               0374
*   TRBEG=RSCAN;                    /* SET FIRST ENTRY IN NEW HEADER
*                                      TO ROUNDED UP VALUE           */
         ST    RSCAN,TRBEG(,RPARM)                                 0375
*   TREND=TRBEG+(RCURR->TREND-RCURR->TRBEG);/* SET LAST ENTRY IN NEW
*                                      HEADER BASED ON OFFSETS FROM
*                                      OLD HEADER                    */
         L     @12,TRBEG(,RPARM)                                   0376
         L     @11,TRBEG(,RCURR)                                   0376
         L     @00,TREND(,RCURR)                                   0376
         SLR   @00,@11                                             0376
         ALR   @00,@12                                             0376
         ST    @00,TREND(,RPARM)                                   0376
*   TRPTR=TRBEG+(RCURR->TRPTR-RCURR->TRBEG);/* SET CURRENT ENTRY IN
*                                      NEW HEADER BASED ON OFFSETS 0377
*                                      FROM OLD HEADER               */
         L     @00,TRPTR(,RCURR)                                   0377
         SLR   @00,@11                                             0377
         ALR   @12,@00                                             0377
         ST    @12,TRPTR(,RPARM)                                   0377
*   RCURR=RCURR->TRBEG;             /* GET BEGINNING OF OLD TRACE  0378
*                                      TABLE                         */
*                                                                  0378
         LR    RCURR,@11                                           0378
*   /*****************************************************************/
*   /*                                                               */
*   /* COPY OLD TRACE TABLE ENTRIES TO NEW TRACE TABLE               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0379
*   DO RSIZE=1 TO NVTTRACE;                                        0379
         LA    RSIZE,1                                             0379
         B     @DE00379                                            0379
@DL00379 DS    0H                                                  0380
*     NEWTRACE=OLDTRACE;                                           0380
         MVC   NEWTRACE(32,RSCAN),OLDTRACE(RCURR)                  0380
*     RCURR=RCURR+LENGTH(OLDTRACE);                                0381
         LA    @12,32                                              0381
         ALR   RCURR,@12                                           0381
*     RSCAN=RSCAN+LENGTH(OLDTRACE);                                0382
         ALR   RSCAN,@12                                           0382
*   END;                                                           0383
         AH    RSIZE,@CH00041                                      0383
@DE00379 CH    RSIZE,NVTTRACE(,RNVT)                               0383
         BNH   @DL00379                                            0383
*   CVTABEND->SCVTRPTR=RPARM;       /* SET PTR TO TRACE HEADER IN CVT*/
         L     @12,CVTABEND(,RCVT)                                 0384
         ST    RPARM,SCVTRPTR(,@12)                                0384
*   RSCAN=CVTPCCAT;                 /* GET PTR TO PCCA VECTOR TABLE
*                                                              Y02751*/
*                                                                  0385
         L     RSCAN,CVTPCCAT(,RCVT)                               0385
*   /*****************************************************************/
*   /*                                                               */
*   /* SET PTR TO TRACE HEADER IN EACH PSA                     Y02751*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0386
*   DO RSIZE=1 TO 16;               /* DO THIS LOOP FOR EACH   Y02751*/
         LA    RSIZE,1                                             0386
@DL00386 DS    0H                                                  0387
*     IF PCCAVT=ZERO THEN                                          0387
         L     @12,PCCAVT(,RSCAN)                                  0387
         LTR   @12,@12                                             0387
         BZ    @RT00387                                            0387
*       GO TO LOOP;                 /* PCCA IN VECTOR TABLE    Y02751*/
*     PCCAVT->PCCAPSAV->FLCTRACE=RPARM;/* RESET PTR TO         Y02751
*                                      TRACE TABLE HEADER      Y02751*/
         L     @12,PCCAPSAV(,@12)                                  0389
         ST    RPARM,FLCTRACE(,@12)                                0389
*LOOP:                              /* GET ADDRESS             Y02751*/
*     RSCAN=RSCAN+4;                /* OF NEXT PCCA            Y02751*/
LOOP     AH    RSCAN,@CH00093                                      0390
*   END;                            /* ALL PCCA'S DONE         Y02751*/
         AH    RSIZE,@CH00041                                      0391
         CH    RSIZE,@CH00057                                      0391
         BNH   @DL00386                                            0391
*   FLCTRACE=RPARM;                                                0392
*                                                                  0392
         SLR   @12,@12                                             0392
         ST    RPARM,FLCTRACE(,@12)                                0392
*   /*****************************************************************/
*   /*                                                               */
*   /* SAVE TRACE TABLE PTR IN CVT FOR REFRESH                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0393
*   CVTTRCA=RPARM;                  /* SAVE TRACE HEADER ADDR      0393
*                                                            @ZA02352*/
         ST    RPARM,CVTTRCA(,RCVT)                                0393
*   RETURN;                                                        0394
*                                                                  0394
         B     @EL00002                                            0394
*/************************************************************       */
*/*      THIS ROUTINE FREES NIP'S BUFFERS AND SPE'S                  */
*/************************************************************       */
*                                                                  0395
*NPXFBUF:                                                          0395
*   ENTRY;                          /* INTERNAL ROUTINE              */
*                                                                  0395
NPXFBUF  STM   @14,@12,@SA00002                                    0395
*   /*****************************************************************/
*   /*                                                               */
*   /* RESTRICT REGISTERS FOR THIS ENTRY POINT                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0396
*   RESPECIFY                                                      0396
*    (RPARM,                                                       0396
*     RNVT,                                                        0396
*     RCVT,                                                        0396
*     RSPE,                                                        0396
*     RNSPE) RESTRICTED;                                           0396
*   RSPE=ADDR(NVTSPE(SPEONE));      /* ADDR OF SPE FROM NVT          */
         LA    RSPE,NVTSPE(,RNVT)                                  0397
*NPXFBSPE:                          /* FREE SPE LOOP                 */
*   RPARM=RSPE->NIPSPEA;            /* BUFFER ADDR FROM SPE          */
NPXFBSPE L     RPARM,NIPSPEA(,RSPE)                                0398
*   IF RPARM=ZERO THEN              /* IF NO BUFFERS, DONT FREE      */
         LTR   RPARM,RPARM                                         0399
         BZ    @RT00399                                            0399
*     GO TO NPXNOBUF;                                              0400
*                                                                  0400
*   /*****************************************************************/
*   /*                                                               */
*   /* GENERATE CALL TO WTOR2 TO FREE BUFFER                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0401
*   GENERATE REFS(RNVT,NVTWTOR2,RPARM) SETS(RPARM,REXIT,RENTRY)    0401
*       (IEAPMNIP TYPE=WTOR2,PARAM=RPARM,BUFREL=YES  );            0401
*                                                                  0401
         IEAPMNIP TYPE=WTOR2,PARAM=RPARM,BUFREL=YES
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0402
*NPXNOBUF:                                                         0402
*   RNSPE=RSPE->NIPSPEQ;            /* ADDR NEXT SPE                 */
*                                                                  0402
NPXNOBUF L     RNSPE,NIPSPEQ(,RSPE)                                0402
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THIS IS NOT THE SPE LOCATED IN THE NVT IT SHOULD BE FREED  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0403
*   IF RSPE^=ADDR(NVTSPE(SPEONE)) THEN                             0403
         LA    @12,NVTSPE(,RNVT)                                   0403
         CR    RSPE,@12                                            0403
         BE    @RF00403                                            0403
*     DO;                           /* NOT IN NVT                    */
*       RPARM=RSPE;                 /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,RSPE                                          0405
*       RPARM0=LENGTH(NVTSPE);      /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,4                                            0406
*       CALL NPXFMAIN;              /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0407
*     END;                                                         0408
*                                                                  0408
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THIS IS NOT THE END OF THE SPE CHAIN LOOP TO FREE NEXT SPE */
*   /* AND BUFFER                                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0409
*   IF RNSPE^=NOSPE THEN            /* MORE SPE'S                    */
@RF00403 LTR   RNSPE,RNSPE                                         0409
         BZ    @RF00409                                            0409
*     DO;                                                          0410
*       RSPE=RNSPE;                 /* ADDR OF NEXT SPE              */
         LR    RSPE,RNSPE                                          0411
*       GO TO NPXFBSPE;             /* LOOP TO FREE NEXT             */
         B     NPXFBSPE                                            0412
*     END;                                                         0413
*   ELSE                                                           0414
*     ;                             /* LAST SPQE DONE                */
@RF00409 DS    0H                                                  0415
*   RETURN;                         /* RETURN TO MAINLINE            */
         B     @EL00002                                            0415
*   RESPECIFY                                                      0416
*    (RPARM,                                                       0416
*     RNVT,                                                        0416
*     RCVT,                                                        0416
*     RSPE,                                                        0416
*     RNSPE) UNRESTRICTED;                                         0416
*                                                                  0417
*/************************************************************       */
*/*      THIS ROUTINE FREES CONTENT SUPERVISOR CONTROL BLOCKS        */
*/*      FOR PROGRAMS LOADED BY NIP                                  */
*/************************************************************       */
*                                                                  0417
*NPXFJPQ:                                                          0417
*   ENTRY;                          /* INTERNAL ROUTINE              */
NPXFJPQ  STM   @14,@12,@SA00002                                    0417
*   RESPECIFY                                                      0418
*    (RNVT,                                                        0418
*     RCVT,                                                        0418
*     RTCB,                                                        0418
*     LLEPTR,                                                      0418
*     RSIZE,                                                       0418
*     CDENTPTR) RESTRICTED;                                        0418
*   RTCB=NVTMSTCB;                  /* GET ADDR OF MASTER SCHEDULER
*                                      TCB FROM NVT                  */
         L     RTCB,NVTMSTCB(,RNVT)                                0419
*NPXFJLLE:                          /* FREE LLE'S                    */
*                                                                  0420
*   /*****************************************************************/
*   /*                                                               */
*   /* WHEN LLE QUEUE IS EMPTY GO TO JOB PACK QUEUE                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0420
*   IF TCBLLS=NOLLE THEN            /* QUEUE EMPTY                   */
NPXFJLLE L     @12,TCBLLS(,RTCB)                                   0420
         LTR   @12,@12                                             0420
         BZ    @RT00420                                            0420
*     GO TO NPXFJCDE;               /* CHECK JPQ                     */
*   LLEPTR=TCBLLS;                  /* GET FIRST LLE                 */
         LR    LLEPTR,@12                                          0422
*   TCBLLS=LLECHN;                  /* TAKE OFF TCB QUEUE            */
         MVC   TCBLLS(4,RTCB),LLECHN(LLEPTR)                       0423
*   RPARM=LLEPTR;                   /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,LLEPTR                                        0424
*   RPARM0=LENGTH(LLE);             /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,12                                           0425
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0426
*   GO TO NPXFJLLE;                 /* LOOP TILL QUEUE IS EMPTY      */
         B     NPXFJLLE                                            0427
*NPXFJCDE:                          /* FREE CDE'S                    */
*   CDENTPTR=TCBJPQB;               /* GET BASE FOR CDE              */
*                                                                  0428
NPXFJCDE SLR   CDENTPTR,CDENTPTR                                   0428
         ICM   CDENTPTR,7,TCBJPQB(RTCB)                            0428
*   /*****************************************************************/
*   /*                                                               */
*   /* WHEN JOB PACK QUEUE IS EMPTY RETURN TO MAIN LINE              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0429
*   IF CDENTPTR=NOJPQ THEN          /* QUEUE EMPTY                   */
         LTR   CDENTPTR,CDENTPTR                                   0429
         BZ    @RT00429                                            0429
*     GO TO NPXFJXIT;               /* RETURN TO CALLER              */
*                                                                  0430
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE IF THERE IS AN EXTENT LIST                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0431
*   IF CDXLE=EXTL THEN              /* EXTENT LIST EXISTS            */
         TM    CDXLE(CDENTPTR),B'00100000'                         0431
         BNO   @RF00431                                            0431
*     DO;                                                          0432
*       XTLSTPTR=CDXLMJP;           /* GET ITS ADDRESS               */
         L     @12,CDXLMJP(,CDENTPTR)                              0433
         ST    @12,XTLSTPTR                                        0433
*       RPARM=XTLSTPTR;             /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,@12                                           0434
*       RPARM0=XTLLNTH;             /* SET UP LENGTH FOR FREEMAIN    */
         L     RPARM0,XTLLNTH(,@12)                                0435
*       CALL NPXFMAIN;              /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0436
*     END;                                                         0437
*   TCBJPQB=CDCHAIN;                /* TAKE THIS CDE OFF TCB QUEUE   */
@RF00431 MVC   TCBJPQB(3,RTCB),CDCHAIN+1(CDENTPTR)                 0438
*   RPARM=CDENTPTR;                 /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,CDENTPTR                                      0439
*   RPARM0=LENGTH(CDENTRY);         /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,32                                           0440
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0441
*   GO TO NPXFJCDE;                 /* LOOP TILL QUEUE IS EMPTY      */
         B     NPXFJCDE                                            0442
*NPXFJXIT:                          /* RETURN TO MAINLINE            */
*   RETURN;                         /* RETURN TO MAINLINE            */
*   RESPECIFY                                                      0444
*    (RNVT,                                                        0444
*     RCVT,                                                        0444
*     RTCB,                                                        0444
*     LLEPTR,                                                      0444
*     RSIZE,                                                       0444
*     CDENTPTR) UNRESTRICTED;                                      0444
*                                                                  0445
*/************************************************************       */
*/*     THIS ROUTINE RELOCATES LSQA AND RESETS                       */
*/*      THOSE ADDRESSES POINTING INTO LSQA                          */
*/************************************************************       */
*                                                                  0445
*NPXFAREA:                                                         0445
*   ENTRY;                          /* INTERNAL ROUTINE              */
NPXFAREA STM   @14,@12,@SA00002                                    0445
*   RESPECIFY                                                      0446
*    (RNVT,                                                        0446
*     RCVT,                                                        0446
*     RSMHDPTR,                                                    0446
*     DQESEPTR,                                                    0446
*     RSIZE,                                                       0446
*     SPQESPTR,                                                    0446
*     RTCB,                                                        0446
*     RPVT,                                                        0446
*     RPQE) RESTRICTED;                                            0446
*   GDAPTR=CVTGDA;                  /* GET GDA BASE                  */
*                                                                  0447
         L     @04,CVTGDA(,RCVT)                                   0447
         ST    @04,GDAPTR                                          0447
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE NEW LSQA ADDRESS                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0448
*   NEWLSQA=PASTRT+PASIZE-(PAGEL*NVTLSQNO);/* NEW-OLD=OFFSET @Z30ENXA*/
         L     @15,PASTRT(,@04)                                    0448
         AL    @15,PASIZE(,@04)                                    0448
         SLR   @04,@04                                             0448
         ICM   @04,3,PAGEL                                         0448
         MH    @04,NVTLSQNO(,RNVT)                                 0448
         SLR   @15,@04                                             0448
         ST    @15,NEWLSQA                                         0448
*   OFFSET=NEWLSQA-NVTALSQA;        /* GET OFFSET TO NEW LSQA ADDR   */
         SL    @15,NVTALSQA(,RNVT)                                 0449
         LR    OFFSET,@15                                          0449
*   ASCBPTR=NVTMASCB;               /* GET ASCB ADDR                 */
         L     @04,NVTMASCB(,RNVT)                                 0450
         ST    @04,ASCBPTR                                         0450
*   LDAPTR=ASCBLDA;                 /* GET LDA ADDRESS               */
         L     @04,ASCBLDA(,@04)                                   0451
         ST    @04,LDAPTR                                          0451
*   CELLPTR=LCLCELL;                /* ADDRESS OF GM CELLS   @Z30ENXA*/
         L     @15,LCLCELL(,@04)                                   0452
         LR    CELLPTR,@15                                         0452
*   IF LCLCELL^=0 THEN              /* IF CHAIN NOT ZERO THEN ADJ  0453
*                                                            @Z30ENXA*/
         LTR   @15,@15                                             0453
         BZ    @RF00453                                            0453
*     LCLCELL=LCLCELL+OFFSET;       /* ADJUST CHAIN PTR      @Z30ENXA*/
*                                                                  0454
         ALR   @15,OFFSET                                          0454
         ST    @15,LCLCELL(,@04)                                   0454
*   /*****************************************************************/
*   /*                                                               */
*   /* LOOP THROUGH ALL CELLS AND ADJUST OFFSET FOR NEW LSQA         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0455
*   DO WHILE(CELLPTR^=0);           /* LOOP CONTROL          @Z30ENXA*/
@RF00453 B     @DE00455                                            0455
@DL00455 DS    0H                                                  0456
*     TEMPTR=CELLPTR;               /* BASE FOR CHAIN PTR    @Z30ENXA*/
         LR    TEMPTR,CELLPTR                                      0456
*     CELLPTR=CHAINPTR;             /* ADDRESS OF NEXT CELL  @Z30ENXA*/
         L     @15,CHAINPTR(,TEMPTR)                               0457
         LR    CELLPTR,@15                                         0457
*     IF CHAINPTR^=0 THEN           /* UPDATE IF NOT END OF QUE    0458
*                                                            @Z30ENXA*/
         LTR   @15,@15                                             0458
         BZ    @RF00458                                            0458
*       CHAINPTR=CHAINPTR+OFFSET;   /* UPDATE FIELD          @Z30ENXA*/
         ALR   @15,OFFSET                                          0459
         ST    @15,CHAINPTR(,TEMPTR)                               0459
*   END;                                                           0460
@RF00458 DS    0H                                                  0460
@DE00455 LTR   CELLPTR,CELLPTR                                     0460
         BNZ   @DL00455                                            0460
*   RPQE=ASDPQE;                    /* ADDR OF ADDRESS SPACE PQE     */
         L     @11,LDAPTR                                          0461
         L     @15,ASDPQE(,@11)                                    0461
         LR    RPQE,@15                                            0461
*   FBQESPTR=PQEFFBQE;              /* ADDR OF FBQE                  */
         L     @04,PQEFFBQE(,RPQE)                                 0462
         ST    @04,FBQESPTR                                        0462
*   FWDPTR=FWDPTR+OFFSET;           /* RESET THE FORWARD             */
         LR    @14,OFFSET                                          0463
         AL    @14,FWDPTR(,@04)                                    0463
         ST    @14,FWDPTR(,@04)                                    0463
*   BCKPTR=BCKPTR+OFFSET;           /* AND BACKWARD POINTERS         */
         LR    @14,OFFSET                                          0464
         AL    @14,BCKPTR(,@04)                                    0464
         ST    @14,BCKPTR(,@04)                                    0464
*   SIZE=PASIZE-(PAGEL*NVTLSQNO)-SYSREGSZ;/* SET SIZE TO SIZE OF   0465
*                                      PRIVATE AREA LESS LSQA PAGES
*                                      LESS SIZE OF SYSTEM REG IN  0465
*                                      MASTER ADDRESS SPACE  @Z30ENXA*/
         L     @14,@CF00059                                        0465
         L     @01,GDAPTR                                          0465
         L     @00,PASIZE(,@01)                                    0465
         SLR   @11,@11                                             0465
         ICM   @11,3,PAGEL                                         0465
         MH    @11,NVTLSQNO(,RNVT)                                 0465
         LCR   @11,@11                                             0465
         ALR   @11,@00                                             0465
         SLR   @11,@14                                             0465
         ST    @11,SIZE(,@04)                                      0465
*   FBQAREA=PASTRT+SYSREGSZ;        /* SET START ADDRESS TO BEGINNING
*                                      OF PRIVATE AREA PLUS SIZE OF
*                                      MASTER SYSTEM REGION          */
         L     @11,PASTRT(,@01)                                    0466
         ALR   @11,@14                                             0466
         ST    @11,FBQAREA(,@04)                                   0466
*   CURRGNTP=PASTRT+SYSREGSZ;       /* SET ADDR OF BEGINNING OF    0467
*                                      REGION PLUS SIZE OF MASTER  0467
*                                      SYSTEM REGION                 */
         L     @01,LDAPTR                                          0467
         ST    @11,CURRGNTP(,@01)                                  0467
*   PQEFFBQE=PQEFFBQE+OFFSET;       /* RESET THE FORWARD             */
         ALR   @04,OFFSET                                          0468
         ST    @04,PQEFFBQE(,RPQE)                                 0468
*   PQEBFBQE=PQEBFBQE+OFFSET;       /* AND BACKWARD POINTERS         */
         LR    @04,OFFSET                                          0469
         AL    @04,PQEBFBQE(,RPQE)                                 0469
         ST    @04,PQEBFBQE(,RPQE)                                 0469
*   PQESIZE=PASIZE-SYSREGSZ;        /* SET SIZE TO SIZE OF PRIVATE 0470
*                                      AREA LESS SIZE OF MASTER    0470
*                                      SYSTEM REGION                 */
         SLR   @00,@14                                             0470
         ST    @00,PQESIZE(,RPQE)                                  0470
*   PQEREGN=PASTRT+SYSREGSZ;        /* SET START ADDRESS OF PRIVATE
*                                      AREA PLUS SIZE OF MASTER    0471
*                                      SYSTEM REGION                 */
         ST    @11,PQEREGN(,RPQE)                                  0471
*   PQETCB=NVTMSTCB;                /* SET ADDR OF JOBSTEP TCB       */
         L     @11,NVTMSTCB(,RNVT)                                 0472
         ST    @11,PQETCB(,RPQE)                                   0472
*   ASDPQE=ASDPQE+OFFSET;           /* RESET THE ADDRESS SPACE PQE 0473
*                                      ADDRESS                       */
         ALR   @15,OFFSET                                          0473
         ST    @15,ASDPQE(,@01)                                    0473
*   SPQESPTR=NVTLSPQE;              /* GET LSQA SPQE ADDR            */
         L     @04,NVTLSPQE(,RNVT)                                 0474
         LR    SPQESPTR,@04                                        0474
*   DQESEPTR=SPDQEAD;               /* GET DQE ADDR                  */
         L     DQESEPTR,SPDQEAD(,SPQESPTR)                         0475
*   DQFQEPTR=DQFQEPTR+OFFSET;       /* RESET THE FQE ADDRESS         */
         LR    @00,OFFSET                                          0476
         AL    @00,DQFQEPTR(,DQESEPTR)                             0476
         ST    @00,DQFQEPTR(,DQESEPTR)                             0476
*   DQEBLKAD=DQEBLKAD+OFFSET;       /* RESET BLOCK ADDRESS           */
         LR    @00,OFFSET                                          0477
         AL    @00,DQEBLKAD(,DQESEPTR)                             0477
         ST    @00,DQEBLKAD(,DQESEPTR)                             0477
*   SPQESPTR=NVTLSPQE;              /* GET LSQA SPQE ADDR AGAIN      */
         LR    SPQESPTR,@04                                        0478
*   SPDQEAD=SPDQEAD+OFFSET;         /* RESET DQE ADDR                */
         LR    @00,OFFSET                                          0479
         AL    @00,SPDQEAD(,SPQESPTR)                              0479
         ST    @00,SPDQEAD(,SPQESPTR)                              0479
*   LSQAPTR=NVTLSPQE+OFFSET;        /* RESET SPQE ADDR AND STORE IN
*                                      LDA                           */
         ALR   @04,OFFSET                                          0480
         ST    @04,LSQAPTR(,@01)                                   0480
*   LDARSVPT=LDARSVPT+OFFSET;       /* RESET FOR MOVED LSQA  @YM3640P*/
         LR    @04,OFFSET                                          0481
         AL    @04,LDARSVPT(,@01)                                  0481
         ST    @04,LDARSVPT(,@01)                                  0481
*   RSMHDPTR=ASCBRSM;               /* GET RSM HEADER ADDR           */
         L     @04,ASCBPTR                                         0482
         L     RSMHDPTR,ASCBRSM(,@04)                              0482
*   RTCB=NVTMSTCB;                  /* MASTER SCHEDULER TCB BASE     */
         LR    RTCB,@11                                            0483
*   TCBPQE=ADDR(LDASRPQE)+OFFSET-EIGHT;/* SET MASTER SCHEDULER PQE TO
*                                      NEW PQE ADDR                  */
         LA    @11,LDASRPQE(,@01)                                  0484
         ALR   @11,OFFSET                                          0484
         SH    @11,@CH00067                                        0484
         ST    @11,TCBPQE(,RTCB)                                   0484
*   RTCB=NVTCMTCB;                  /* COMM TASK TCB BASE            */
         L     RTCB,NVTCMTCB(,RNVT)                                0485
*   TCBPQE=ADDR(LDASRPQE)+OFFSET-EIGHT;/* SET COMM TASK PQE TO NEW 0486
*                                      PQE ADDR                      */
         ST    @11,TCBPQE(,RTCB)                                   0486
*   RTCB=CVTDSSVA->DSVDSTCB;        /* GET DSS TCB ADDRESS           */
         L     @15,CVTEXT2(,RCVT)                                  0487
         ICM   @14,7,CVTDSSVA(@15)                                 0487
         L     RTCB,DSVDSTCB(,@14)                                 0487
*   TCBPQE=ADDR(LDASRPQE)+OFFSET-EIGHT;/* SET DSS PQE                */
         ST    @11,TCBPQE(,RTCB)                                   0488
*   ASCBLDA=ASCBLDA+OFFSET;         /* RESET LDA ADDR IN ASCB        */
         LR    @11,OFFSET                                          0489
         AL    @11,ASCBLDA(,@04)                                   0489
         ST    @11,ASCBLDA(,@04)                                   0489
*   LDAPTR=LDAPTR+OFFSET;           /* RESET LDA ADDR                */
*                                                                  0490
         ALR   @01,OFFSET                                          0490
         ST    @01,LDAPTR                                          0490
*   /*****************************************************************/
*   /*                                                               */
*   /* RESET PFTE AND SEGMENT TABLE                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0491
*   RESPECIFY                                                      0491
*    (RPARM) RESTRICTED;                                           0491
*   RPARM=NVTALSQA;                 /* GET OLD LSQA START ADDR       */
         L     RPARM,NVTALSQA(,RNVT)                               0492
*   GENERATE REFS(RPARM) SETS(RPARM)(LRA   RPARM,0(0,RPARM) );/* GET
*                                      REAL ADDR OF LSQA PAGE        */
         LRA   RPARM,0(0,RPARM)
*   RPARM=(RPARM/PAGEL)*LENGTH(PFTE);/* GET PFT INDEX OF THIS PAGE   */
         SLR   @11,@11                                             0494
         ICM   @11,3,PAGEL                                         0494
         LR    @15,RPARM                                           0494
         SLR   @14,@14                                             0494
         DR    @14,@11                                             0494
         SLA   @15,4                                               0494
         LR    RPARM,@15                                           0494
*   RPVT=CVTPVTP;                   /* GET PVT BASE                  */
         L     RPVT,CVTPVTP(,RCVT)                                 0495
*   PFTEPTR=RPARM+PVTPFTP;          /* GET PFTE BASE                 */
         LR    @04,RPARM                                           0496
         AL    @04,PVTPFTP(,RPVT)                                  0496
         ST    @04,PFTEPTR                                         0496
*   RPARM=NEWLSQA;                  /* GET NEW LSQA START ADDR       */
         L     RPARM,NEWLSQA                                       0497
*   RPARM=(RPARM/PAGEL)*LENGTH(PFTE);/* GET NEW VBN OF THIS PAGE     */
         LR    @15,RPARM                                           0498
         SLR   @14,@14                                             0498
         DR    @14,@11                                             0498
         SLA   @15,4                                               0498
         LR    RPARM,@15                                           0498
*   PFTVBN=RPARM;                   /* STORE VBN IN PFTE             */
         STH   RPARM,PFTVBN(,@04)                                  0499
*   PFTEPTR=PFTEPTR+(LENGTH(PFTE)); /* POINT TO NEXT PFTE    @Z30ENXA*/
         LA    @11,16                                              0500
         ALR   @04,@11                                             0500
         ST    @04,PFTEPTR                                         0500
*   PFTVBN=RPARM+(LENGTH(PFTE));    /* UPDATE NEXT VBN       @Z30ENXA*/
         ALR   @11,RPARM                                           0501
         STH   @11,PFTVBN(,@04)                                    0501
*   VIRTADDR=NVTALSQA;              /* GET OLD LSQA START ADDR       */
         MVC   VIRTADDR(4),NVTALSQA(RNVT)                          0502
*   STEPTR=LENGTH(SGTSTE)*VIRTA1+RSMVSTO;/* GET VIRT ADDR OF SEG TAB
*                                      ENTRY FOR THIS PAGE           */
         SLR   @11,@11                                             0503
         IC    @11,VIRTA1                                          0503
         SLA   @11,2                                               0503
         AL    @11,RSMVSTO(,RSMHDPTR)                              0503
         ST    @11,STEPTR                                          0503
*   RESPECIFY                                                      0504
*    (R7,                                                          0504
*     R4,                                                          0504
*     R11) RESTRICTED;              /* WORK REGS                     */
*   GENERATE SETS(R4) REFS(STEPTR)(L   R4,STEPTR);/* OBTAIN SGTE   0505
*                                      ADDRESS               @YM06985*/
         L   R4,STEPTR
*   GENERATE(LRA R4,0(R4));         /* CONVERT TO REAL       @YM06985*/
         LRA R4,0(R4)
*   RPARM=SGTSTE;                   /* SAVE THE ENTRY FOR LATER      */
         L     @15,STEPTR                                          0507
         L     RPARM,SGTSTE(,@15)                                  0507
*   PGTADR=RPARM;                   /* SAVE PTR TO LSQA PAGE TABLE 0508
*                                      ENTRY                         */
         ST    RPARM,PGTADR                                        0508
*   VIRTADDR=NEWLSQA;               /* GET NEW LSQA START ADDR       */
         MVC   VIRTADDR(4),NEWLSQA                                 0509
*   STEPTR=LENGTH(SGTSTE)*VIRTA1+RSMVSTO;/* GET VIRT ADDR OF SEG TAB
*                                      ENTRY FOR NEW LSQA PAGE       */
         SLR   @00,@00                                             0510
         IC    @00,VIRTA1                                          0510
         SLA   @00,2                                               0510
         AL    @00,RSMVSTO(,RSMHDPTR)                              0510
         ST    @00,STEPTR                                          0510
*   R11=STEPTR;                     /* LOAD NEW SGTE ADDR    @YM06985*/
         LR    R11,@00                                             0511
*   R7=RSMHDPTR;                    /* LOAD RSM HEADER ADDR  @YM06985*/
         LR    R7,RSMHDPTR                                         0512
*   GENERATE SETS(R7,R11,NPXMASK);                                 0513
*                                            /*              @YM06985*/
       LRA   R11,0(R11)  CONVERT TO REAL ADDR                  @YM06985
       LRA  R7,0(R7)    CONVERT TO REAL ADDR                   @YM06985
      STNSM NPXMASK,B'11111011'  DAT OFF                       @YM06985
*   R4->SGTPAM=SGTNASN;             /* INVALIDATE SGTE       @YM06985*/
         OI    SGTPAM(R4),B'00000001'                              0514
*   R11->SGTSTE=RPARM;              /* SET NEW SGTE          @YM06985*/
         ST    RPARM,SGTSTE(,R11)                                  0515
*   R7->RSMVSTO=R7->RSMVSTO+OFFSET; /* RESET NEW SGTE        @YM06985*/
         LR    @00,OFFSET                                          0516
         AL    @00,RSMVSTO(,R7)                                    0516
         ST    @00,RSMVSTO(,R7)                                    0516
*   GENERATE SETS(NPXMASK)(STOSM NPXMASK,B'00000100');/* DAT ON    0517
*                                                            @YM06985*/
         STOSM NPXMASK,B'00000100'
*   RESPECIFY                                                      0518
*    (R13,                                                         0518
*     RENTRY) RESTRICTED;                                          0518
*   R11=RNVT;                       /* SAVE NVT ADDRESS              */
         LR    R11,RNVT                                            0519
*   R4=RCVT;                        /* SAVE CVT ADDRESS              */
         LR    R4,RCVT                                             0520
*   RPARM=ZERO;                     /* SPECIFY PTLB                  */
         SLR   RPARM,RPARM                                         0521
*   R2=ASCBRSM;                     /* SET UP RSM HEADER ADDRESS     */
         L     @14,ASCBPTR                                         0522
         L     R2,ASCBRSM(,@14)                                    0522
*   R3=RPVT;                        /* SET UP PVT ADDRESS            */
         LR    R3,RPVT                                             0523
*   RENTRY=PVTPINV;                 /* GET ADDRESS OF PTLB ROUTINE   */
         L     RENTRY,PVTPINV(,RPVT)                               0524
*   GENERATE REFS(RENTRY,REXIT) NOSETS( BALR REXIT,RENTRY );/* GO TO
*                                      PTLB ROUTINE                  */
          BALR REXIT,RENTRY
*   RNVT=R11;                       /* RESTORE NVT REGISTER          */
         LR    RNVT,R11                                            0526
*   RCVT=R4;                        /* RESTORE CVT REGISTER          */
         LR    RCVT,R4                                             0527
*   RESPECIFY                                                      0528
*    (R7,                                                          0528
*     R11,                                                         0528
*     R4,                                                          0528
*     R13,                                                         0528
*     RENTRY) UNRESTRICTED;                                        0528
*                                                                  0528
*   /*****************************************************************/
*   /*                                                               */
*   /* FREE SAVE AREA IN SUBPOOL 245 AND GET ONE FROM 239            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0529
*   RPARM=PVTPCIWA;                 /* LOAD ADDRESS OF SAVE AREA TO
*                                      BE FREED                      */
         L     RPARM,PVTPCIWA(,RPVT)                               0529
*   RESPECIFY                                                      0530
*    (R4,                                                          0530
*     R7,                                                          0530
*     R8) RESTRICTED;                                              0530
*                                                                  0530
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP REG 4 AND REG 7 FOR BRANCH ENTERED GETMAIN             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0531
*   R4=NVTMSTCB;                    /* SET UP MASTER TCB ADDRESS     */
         L     R4,NVTMSTCB(,RNVT)                                  0531
*   R7=NVTMASCB;                    /* SET UP MASTER ASCB ADDRESS    */
         L     R7,NVTMASCB(,RNVT)                                  0532
*   GENERATE REFS(RPARM,SCVTRMBR,CVTRMBR) SETS(RPARM0,RPARM);      0533
         FREEMAIN R,LV=SAVAREAS,A=(1),SP=SP245,BRANCH=YES  FREE AREA
         GETMAIN R,LV=SAVAREAS,SP=239,BRANCH=YES  GET SAVEAREA
*   PVTPCIWA=RPARM;                 /* SET NEW SAVE AREA ADDRESS     */
         ST    RPARM,PVTPCIWA(,RPVT)                               0534
*   R8=LENGTH(PQESECT)+LENGTH(FBQESECT);/* GET LENGTH OF PQE AND FBQE
*                                      FOR SYSTEM REGION             */
         LA    R8,48                                               0535
*   GENERATE REFS(R8,CVTRMBR) SETS(RPARM0,RPARM)                   0536
*       (GETMAIN R,LV=(R8),SP=255,BRANCH=YES);/* GET CORE FOR PQE AND
*                                      FBQE                          */
         GETMAIN R,LV=(R8),SP=255,BRANCH=YES
*   RESPECIFY                                                      0537
*    (R4,                                                          0537
*     R7,                                                          0537
*     R8) UNRESTRICTED;                                            0537
*   LDASRPQE=RPARM;                 /* SET SYSTEM REGION PQE POINTER */
         L     @12,LDAPTR                                          0538
         ST    RPARM,LDASRPQE(,@12)                                0538
*   RPQE=RPARM;                     /* SET PQE BASE                  */
         LR    RPQE,RPARM                                          0539
*   PQESECT=PQESECT&&PQESECT;       /* INITIALIZE PQE TO ZERO        */
         XC    PQESECT(32,RPQE),PQESECT(RPQE)                      0540
*   PQEFFBQE=RPARM+LENGTH(PQESECT); /* SET POINTER TO FBQE           */
         LA    @12,32                                              0541
         ALR   @12,RPARM                                           0541
         ST    @12,PQEFFBQE(,RPQE)                                 0541
*   PQEBFBQE=PQEFFBQE;              /* SET BACK POINTER              */
         ST    @12,PQEBFBQE(,RPQE)                                 0542
*   PQESIZE=SYSREGSZ;               /* SET SIZE OF SYSTEM REGION PLUS
*                                      4K NORMALLY ALLOCATED TO    0543
*                                      SYSTEM REGION                 */
         L     @11,@CF00059                                        0543
         ST    @11,PQESIZE(,RPQE)                                  0543
*   PQEREGN=PASTRT;                 /* SET BEGINNING ADDR            */
         L     @04,GDAPTR                                          0544
         L     @04,PASTRT(,@04)                                    0544
         ST    @04,PQEREGN(,RPQE)                                  0544
*   FBQESPTR=PQEFFBQE;              /* SET FBQE BASE                 */
         ST    @12,FBQESPTR                                        0545
*   FWDPTR=RPQE;                    /* SET FORWARD POINTER           */
         ST    RPQE,FWDPTR(,@12)                                   0546
*   BCKPTR=RPQE;                    /* SET BACK POINTER              */
         ST    RPQE,BCKPTR(,@12)                                   0547
*   SIZE=SYSREGSZ;                  /* SET SIZE OF SYSTEM REGION     */
         ST    @11,SIZE(,@12)                                      0548
*   FBQAREA=PQEREGN;                /* SET BEGINNING ADDR            */
         ST    @04,FBQAREA(,@12)                                   0549
*   RETURN;                         /* RETURN TO MAINLINE            */
         B     @EL00002                                            0550
*   RESPECIFY                                                      0551
*    (RNVT,                                                        0551
*     RCVT,                                                        0551
*     RSMHDPTR,                                                    0551
*     DQESEPTR,                                                    0551
*     RSIZE,                                                       0551
*     SPQESPTR,                                                    0551
*     RTCB,                                                        0551
*     RPVT,                                                        0551
*     RPQE,                                                        0551
*     RPARM) UNRESTRICTED;                                         0551
*                                                                  0552
*/************************************************************       */
*/* THIS ROUTINE ADDS PFTES WHICH ARE FOR VIRTUAL EQUAL REAL         */
*/* CORE TO THE AVAILABLE PAGE FRAME QUEUE.  THE ROUTINE             */
*/* STARTS WITH THE LAST PFTE AND WORKS DOWN TO THE NUCLEUS.         */
*/************************************************************       */
*                                                                  0552
*NPXPFTAQ:                                                         0552
*   ENTRY;                          /* INTERNAL ROUTINE              */
NPXPFTAQ STM   @14,@12,@SA00002                                    0552
*   RESPECIFY                                                      0553
*    (RNVT,                                                        0553
*     RCVT,                                                        0553
*     RPVT,                                                        0553
*     RINEXT,                                                      0553
*     PTEPTR) RESTRICTED;                                          0553
*   RPVT=CVTPVTP;                   /* PAGE VECTOR TABLE BASE        */
         L     RPVT,CVTPVTP(,RCVT)                                 0554
*   RINEXT=(((NVTNUCND+4095)×4095)&&4095);/* ROUND UP TOP OF NUCLEUS
*                                      TO PAGE BOUNDARY              */
*                                                                  0555
         LA    @11,4095                                            0555
         L     @15,NVTNUCND(,RNVT)                                 0555
         LR    RINEXT,@15                                          0555
         ALR   RINEXT,@11                                          0555
         OR    RINEXT,@11                                          0555
         XR    RINEXT,@11                                          0555
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE AMOUNT OF FREE STORAGE ABOVE TOP OF NUC TO END OF   */
*   /* PAGE                                                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0556
*   FREESTOR=NVTNUCND-RINEXT;       /* AMOUNT OF FREE STORAGE      0556
*                                                            @Z30ENXA*/
         LR    FREESTOR,@15                                        0556
         SLR   FREESTOR,RINEXT                                     0556
*   NUCTOP=RINEXT;                  /* TOP OF NUCLEUS AFTER ROUND  0557
*                                                            @Z30ENXA*/
*                                                                  0557
         LR    NUCTOP,RINEXT                                       0557
*   /*****************************************************************/
*   /*                                                               */
*   /* FORMAT FREE STORAGE WITH SCB'S FOR MASTER MEMORY              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0558
*   SCBPTR=NVTNUCND;                /* FIRST AVAILABLE STORAGE LOC 0558
*                                                            @Z30ENXA*/
         LR    SCBPTR,@15                                          0558
*   DO WHILE((SCBPTR+LENGTH(SCB))<NUCTOP);/* LOOP TO END     @Z30ENXA*/
         B     @DE00559                                            0559
@DL00559 DS    0H                                                  0560
*     SCBCHAIN=SCBFREEQ;            /* ADD TO TOP OF CHAIN   @Z30BNXA*/
         L     @11,ASCBPTR                                         0560
         L     @11,ASXBPTR(,@11)                                   0560
         L     @11,ASXBSPSA(,@11)                                  0560
         L     @11,ESTAEWRK(,@11)                                  0560
         MVC   SCBCHAIN(4,SCBPTR),SCBFREEQ(@11)                    0560
*     SCBFREEQ=SCBPTR;              /* UPDATE HEAD OF CHAIN  @Z30BNXA*/
         ST    SCBPTR,SCBFREEQ(,@11)                               0561
*     SCBPTR=SCBPTR+LENGTH(SCB);    /* INCREMENT SCB PTR     @Z30BNXA*/
         AH    SCBPTR,@CH03352                                     0562
*   END;                                                           0563
@DE00559 LA    @11,20                                              0563
         ALR   @11,SCBPTR                                          0563
         CR    @11,NUCTOP                                          0563
         BL    @DL00559                                            0563
*   RESPECIFY                                                      0564
*    (BLKADDR,                                                     0564
*     NEWKEY) RESTRICTED;                                          0564
*   BLKADDR=ZERO;                   /* START SETTING KEY AT LOCATION
*                                      ZERO                          */
         SLR   BLKADDR,BLKADDR                                     0565
*   NEWKEY=ZERO;                    /* SET KEY TO ZERO NON-FETCH   0566
*                                      PROTECTED                     */
         SLR   NEWKEY,NEWKEY                                       0566
*SETNEXTK:                          /* SET KEY FOR THIS 2K BLOCK     */
*   GENERATE REFS(BLKADDR,NEWKEY) NOSETS(SSK   NEWKEY,BLKADDR);    0567
SETNEXTK SSK   NEWKEY,BLKADDR
*   BLKADDR=BLKADDR+2048;           /* BUMP TO NEXT 2K MULTIPLE TO 0568
*                                      SET KEY                       */
         AH    BLKADDR,@CH03262                                    0568
*   GENERATE REFS(BLKADDR,NEWKEY) NOSETS(SSK   NEWKEY,BLKADDR);    0569
         SSK   NEWKEY,BLKADDR
*   BLKADDR=BLKADDR+2048;           /* BUMP TO NEXT 2K MULTIPLE TO 0570
*                                      SET KEY                       */
         AH    BLKADDR,@CH03262                                    0570
*   IF BLKADDR<RINEXT THEN                                         0571
         CR    BLKADDR,RINEXT                                      0571
         BL    @RT00571                                            0571
*     GO TO SETNEXTK;                                              0572
*                                                                  0572
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE PFT INDEX VALUE                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0573
*   RFY                                                            0573
*    (BLKADDR,                                                     0573
*     NEWKEY) UNRSTD;                                              0573
*   RINEXT=(RINEXT/PAGEL)*LENGTH(PFTE);                            0574
         SLR   @04,@04                                             0574
         ICM   @04,3,PAGEL                                         0574
         LR    @01,RINEXT                                          0574
         SLR   @00,@00                                             0574
         DR    @00,@04                                             0574
         SLA   @01,4                                               0574
         LR    RINEXT,@01                                          0574
*   PVTPOOL=PVTPOOL-(RINEXT-PVTFPFN)/LENGTH(PFTE);/* CALCULATE NUMBER
*                                      OF PAGES REMOVED FOR NUCLUES
*                                      BUFFER AND ADJUST PVTPOOL   0575
*                                      COUNT                         */
         LR    @00,RINEXT                                          0575
         SLR   @15,@15                                             0575
         ICM   @15,3,PVTFPFN(RPVT)                                 0575
         SLR   @00,@15                                             0575
         SRDA  @00,32                                              0575
         D     @00,@CF00057                                        0575
         LCR   @01,@01                                             0575
         AH    @01,PVTPOOL(,RPVT)                                  0575
         STH   @01,PVTPOOL(,RPVT)                                  0575
*   PVTFPFN=RINEXT;                 /* FIRST PAGE INDEX              */
         STH   RINEXT,PVTFPFN(,RPVT)                               0576
*   PREVPFTE=PVTAFQL;               /* INITIALIZE PREVIOUS PFTE INDEX*/
         SLR   PREVPFTE,PREVPFTE                                   0577
         ICM   PREVPFTE,3,PVTAFQL(RPVT)                            0577
*   RINEXT=NVTVVPG1-PAGEL;          /* GET TOP PAGE OF NIP REGION    */
         L     RINEXT,NVTVVPG1(,RNVT)                              0578
         SLR   RINEXT,@04                                          0578
*   RINEXT=(RINEXT/PAGEL)*LENGTH(PFTE);/* CALCULATE PFT INDEX FOR  0579
*                                      THIS PAGE                     */
         LR    @01,RINEXT                                          0579
         SLR   @00,@00                                             0579
         DR    @00,@04                                             0579
         SLA   @01,4                                               0579
         LR    RINEXT,@01                                          0579
*   NIPTOP=RINEXT;                  /* SAVE THIS INDEX               */
         LR    NIPTOP,RINEXT                                       0580
*   IF RINEXT>PVTLVR THEN           /* IF V=R AREA ENDS BELOW NIP    */
         SLR   @04,@04                                             0581
         ICM   @04,3,PVTLVR(RPVT)                                  0581
         CR    RINEXT,@04                                          0581
         BH    @RT00581                                            0581
*     GO TO NPXPFCUR;               /* GO START LOOP FROM TOP NIP    */
*   RINEXT=PVTLVR;                  /* START LOOP FROM TOP OF V=R    */
         LR    RINEXT,@04                                          0583
*/* PAGES DEDICATED TO NIPS VIRTUAL EQUAL REAL REGION                */
*/* ARE RETURNED TO THE AVAILABLE QUEUE FOR SYSTEM USE               */
*                                                                  0584
*NPXPFCUR:                          /* LOOP TO Q PFTE'S              */
*   PFTEPTR=RINEXT+PVTPFTP;         /* PFTE ADDRESS                  */
NPXPFCUR LR    @04,RINEXT                                          0584
         AL    @04,PVTPFTP(,RPVT)                                  0584
         ST    @04,PFTEPTR                                         0584
*   IF RINEXT>NIPTOP THEN           /* IF V=R AREA ABOVE NIP         */
         CR    RINEXT,NIPTOP                                       0585
         BH    @RT00585                                            0585
*     GO TO NPXSETVR;               /* SET V=R BIT BUT DONT QUEUE    */
*   IF PFTOFFLN=PAGEOFLN THEN       /* IF PAGE OFFLINE               */
         TM    PFTOFFLN(@04),B'01000000'                           0587
         BO    @RT00587                                            0587
*     GO TO NPXSETVR;               /* SET V=R BIT BUT DONT QUEUE    */
*   PFTE=''B;                       /* PFTE NOT QUEUED               */
*                                                                  0589
         XC    PFTE(16,@04),PFTE(@04)                              0589
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO PUT PFTE ON AVAILABLE QUEUE                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0590
*   CALL NPXQPFTE;                                                 0590
*                                                                  0590
         BAL   @14,NPXQPFTE                                        0590
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0591
*NPXSETVR:                          /* LOOP CONTROL                  */
*   IF RINEXT>PVTLVR THEN           /* IS THIS RBN BELOW HIGH V=R  0591
*                                      ADDR                          */
NPXSETVR SLR   @04,@04                                             0591
         ICM   @04,3,PVTLVR(RPVT)                                  0591
         CR    RINEXT,@04                                          0591
         BH    @RT00591                                            0591
*     GO TO NPXNPFTE;               /* NO, GO PROCESS NEXT PFTE      */
*   IF RINEXT<PVTFVR THEN           /* IS THIS RBN ABOVE LOW V=R ADDR*/
         SLR   @04,@04                                             0593
         ICM   @04,3,PVTFVR(RPVT)                                  0593
         CR    RINEXT,@04                                          0593
         BL    @RT00593                                            0593
*     GO TO NPXNPFTE;               /* NO, GO PROCESS NEXT PFTE      */
*   PFTVR='1'B;                     /* SET V=R CANDIDATE BIT         */
*                                                                  0595
         L     @04,PFTEPTR                                         0595
         OI    PFTVR(@04),B'00100000'                              0595
*   /*****************************************************************/
*   /*                                                               */
*   /* LOOP TILL END OF QUEUE IS REACHED                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0596
*NPXNPFTE:                                                         0596
*   RINEXT=RINEXT-LENGTH(PFTE);     /* GET INDEX TO NEXT PFTE        */
NPXNPFTE SL    RINEXT,@CF00057                                     0596
*   IF RINEXT^<PVTFPFN THEN         /* MORE PFTE'S TO QUEUE          */
         SLR   @04,@04                                             0597
         ICM   @04,3,PVTFPFN(RPVT)                                 0597
         CR    RINEXT,@04                                          0597
         BNL   @RT00597                                            0597
*     GO TO NPXPFCUR;               /* CONTINUE LOOP                 */
*                                                                  0598
*   /*****************************************************************/
*   /*                                                               */
*   /* SCAN THROUGH PFTE'S AND MARK PREFERRED AREA AS INDICATED BY   */
*   /* RSU PARAMETER                                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0599
*   PFTEPTR=PVTPFTP+PVTLPFN;        /* POINT TO TOP PFTE IN MEMORY 0599
*                                                            @YD03005*/
*                                                                  0599
         SLR   @12,@12                                             0599
         ICM   @12,3,PVTLPFN(RPVT)                                 0599
         AL    @12,PVTPFTP(,RPVT)                                  0599
         ST    @12,PFTEPTR                                         0599
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP TO LOOP UNTIL THE NUCLEUS OR V=R AREA IS REACHED       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0600
*   DO WHILE(PFTEPTR=>(PVTPFTP+PVTFPFN));/*                  @YD03005*/
*                                                                  0600
         B     @DE00600                                            0600
@DL00600 DS    0H                                                  0601
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF THIS STORAGE UNIT EXTENDS INTO THE NUC             */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0601
*     IF(PFTEPTR-(LENGTH(PFTE)*PVTRSUS))<(PVTPFTP+PVTFPFN)×RSUVALUE=0
*       THEN                        /* IF UNI-PROC           @0Z03229*/
         L     @12,PFTEPTR                                         0601
         SLR   @11,@11                                             0601
         ICM   @11,3,PVTRSUS(RPVT)                                 0601
         SLA   @11,4                                               0601
         LCR   @11,@11                                             0601
         ALR   @11,@12                                             0601
         SLR   @04,@04                                             0601
         ICM   @04,3,PVTFPFN(RPVT)                                 0601
         AL    @04,PVTPFTP(,RPVT)                                  0601
         CR    @11,@04                                             0601
         BL    @RT00601                                            0601
         ICM   @04,15,RSUVALUE                                     0601
         BZ    @RT00601                                            0601
*       GOTO PFTEMARK;              /* GO SET ENTIRE BOX PREFERED  0602
*                                                            @ZM30583*/
*                                                                  0602
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF THIS STORAGE UNIT IS OFFLINE OR HAS BEEN MARKED    */
*     /* PREFERED BY NIPM                                            */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0603
*     IF PFTOFFLN='1'B×PFTPREF='1'B THEN/* SKIP THIS UNIT?   @YD03005*/
         TM    PFTOFFLN(@12),B'01000100'                           0603
         BZ    @RF00603                                            0603
*       PFTEPTR=PFTEPTR-(LENGTH(PFTE)*PVTRSUS);/* SKIP TO NEXT BOX   */
         ST    @11,PFTEPTR                                         0604
*     ELSE                                                         0605
*       DO;                                                        0605
*                                                                  0605
         B     @RC00603                                            0605
@RF00603 DS    0H                                                  0606
*         /***********************************************************/
*         /*                                                         */
*         /* THIS IS A ONLINE STORAGE UNIT WHICH HAS NOT BEEN MARKED */
*         /* CHECK IF ADDITIONAL STORAGE UNITS NEED PROTECTING       */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0606
*         IF RSUVALUE^=0&           /* USER SPECIFIED COUNT NOT EQUAL
*                                      TO ZERO YET                   */
*                                                                  0606
*         /***********************************************************/
*         /*                                                         */
*         /* IF ANY NUCLEUS OR V=R PAGES EXIST IN BOX TO BE MARKED   */
*         /* THEN MARK ENTIRE BOX PREFERED                           */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0606
*             ((PFTEPTR-((PVTRSUS-1)*LENGTH(PFTE))>=(PVTPFTP+PVTFPFN))&
*             ((PFTEPTR-((PVTRSUS-1)*LENGTH(PFTE))-PVTPFTP)=>PVTLVR))
*           THEN                                                   0606
         L     @12,RSUVALUE                                        0606
         LTR   @12,@12                                             0606
         BZ    @RF00606                                            0606
         L     @11,PFTEPTR                                         0606
         SLR   @04,@04                                             0606
         ICM   @04,3,PVTRSUS(RPVT)                                 0606
         LR    @15,@04                                             0606
         BCTR  @15,0                                               0606
         SLA   @15,4                                               0606
         LCR   @15,@15                                             0606
         ALR   @15,@11                                             0606
         L     @14,PVTPFTP(,RPVT)                                  0606
         SLR   @01,@01                                             0606
         ICM   @01,3,PVTFPFN(RPVT)                                 0606
         ALR   @01,@14                                             0606
         CR    @15,@01                                             0606
         BL    @RF00606                                            0606
         SLR   @15,@14                                             0606
         SLR   @14,@14                                             0606
         ICM   @14,3,PVTLVR(RPVT)                                  0606
         CR    @15,@14                                             0606
         BL    @RF00606                                            0606
*           DO;                                                    0607
*             RSUVALUE=RSUVALUE-1;  /* DECREMENT RSU COUNT   @YD03005*/
         BCTR  @12,0                                               0608
         ST    @12,RSUVALUE                                        0608
*             PFTEPTR=PFTEPTR-(LENGTH(PFTE)*PVTRSUS);/* NEXT BOX   0609
*                                                            @YD03005*/
         SLA   @04,4                                               0609
         SLR   @11,@04                                             0609
         ST    @11,PFTEPTR                                         0609
*           END;                                                   0610
*         ELSE                                                     0611
*                                                                  0611
*           /*********************************************************/
*           /*                                                       */
*           /* IF THIS BOX CONTAINS THE NUCLEUS OR ANY V=R PAGES THEN*/
*           /* ANY PAGES ABOVE IT TO THE BOX BOUNDRY WILL BE MARKED  */
*           /* AS PREFERED AREA PAGES                                */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0611
*PFTEMARK:                                                         0611
*           DO LOOPCNT=PVTRSUS TO 1 BY-1 WHILE(PFTEPTR>=(PVTPFTP+  0611
*                 PVTFPFN));        /* MARK PAGES UNTIL V=R OR NUC IS
*                                      REACHED               @YD03005*/
         B     @RC00606                                            0611
@RF00606 DS    0H                                                  0611
PFTEMARK SLR   LOOPCNT,LOOPCNT                                     0611
         ICM   LOOPCNT,3,PVTRSUS(RPVT)                             0611
         B     @DE00611                                            0611
@DL00611 L     @12,PFTEPTR                                         0611
         SLR   @11,@11                                             0611
         ICM   @11,3,PVTFPFN(RPVT)                                 0611
         AL    @11,PVTPFTP(,RPVT)                                  0611
         CR    @12,@11                                             0611
         BL    @DC00611                                            0611
*             IF PFTVR='0'B THEN    /* DO NOT MARK V=R PAGES PREFERED
*                                                            @YD03005*/
         TM    PFTVR(@12),B'00100000'                              0612
         BNZ   @RF00612                                            0612
*               PFTPREF='1'B;       /* SET PREFERED AREA FLAG      0613
*                                                            @YD03005*/
         OI    PFTPREF(@12),B'00000100'                            0613
*             ELSE                                                 0614
*               PFTPREF='0'B;       /* RESET BIT OFF         @0Z03229*/
         B     @RC00612                                            0614
@RF00612 L     @12,PFTEPTR                                         0614
         NI    PFTPREF(@12),B'11111011'                            0614
*             PFTEPTR=PFTEPTR-(LENGTH(PFTE));/* NEXT PFTE    @YD03005*/
@RC00612 L     @12,PFTEPTR                                         0615
         SL    @12,@CF00057                                        0615
         ST    @12,PFTEPTR                                         0615
*           END;                                                   0616
         BCTR  LOOPCNT,0                                           0616
@DE00611 LTR   LOOPCNT,LOOPCNT                                     0616
         BP    @DL00611                                            0616
@DC00611 DS    0H                                                  0617
*       END;                                                       0617
@RC00606 DS    0H                                                  0618
*   END;                                                           0618
*                                                                  0618
@RC00603 DS    0H                                                  0618
@DE00600 L     @12,PVTPFTP(,RPVT)                                  0618
         SLR   @11,@11                                             0618
         ICM   @11,3,PVTFPFN(RPVT)                                 0618
         ALR   @11,@12                                             0618
         C     @11,PFTEPTR                                         0618
         BNH   @DL00600                                            0618
*   /*****************************************************************/
*   /*                                                               */
*   /* LOOP THROUGH ALL FRAMES TO OBTAIN GLOBAL AND LOCAL FIXED FRAME*/
*   /* COUNTS AND STORE IN PVTCNTFX AND RSMCNTFX RESPECTIVELY. LOCAL */
*   /* FIXED COUNT INCLUDES LSQA, PGFIXED, AND V=R ALLOCATED FRAMES. */
*   /* GLOBAL FIXED COUNT INCLUDES SQA, FIXED CSA, PLUS SUM OF LOCAL */
*   /* FIXED COUNTS                                          @OZ01572*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0619
*   RFY                                                            0619
*    (RSMHDPTR) RSTD;                                              0619
*   ASCBPTR=NVTMASCB;               /* GET MASTERS ASCB ADDRESS    0620
*                                                            @OZ01572*/
         L     @11,NVTMASCB(,RNVT)                                 0620
         ST    @11,ASCBPTR                                         0620
*   RSMHDPTR=ASCBRSM;               /* GET RSM HDR ADDR      @OZ01572*/
         L     RSMHDPTR,ASCBRSM(,@11)                              0621
*   PFTEPTR=PVTPFTP+PVTLPFN;        /* GET TOP PFTE IN MEMORY      0622
*                                                            @OZ01572*/
         SLR   @11,@11                                             0622
         ICM   @11,3,PVTLPFN(RPVT)                                 0622
         ALR   @12,@11                                             0622
         ST    @12,PFTEPTR                                         0622
*   PVTCNTFX=0;                     /* ZERO OUT FIXED FRAME COUNTS IN
*                                      CASE THEY MAY HAVE BEEN USED
*                                      BEFORE THIS POINT     @OZ01572*/
         SLR   @12,@12                                             0623
         STH   @12,PVTCNTFX(,RPVT)                                 0623
*   PVTSQAFX=0;                                                    0624
         STH   @12,PVTSQAFX(,RPVT)                                 0624
*   PVTCOMFX=0;                                                    0625
         STH   @12,PVTCOMFX(,RPVT)                                 0625
*   RSMCNTFX=0;                                                    0626
         STH   @12,RSMCNTFX(,RSMHDPTR)                             0626
*   DO WHILE PFTEPTR>=(PVTPFTP+PVTFVR);/* LOOP FROM TOP OF STORAGE TO
*                                      FIRST PAGE IN USERS PRIVATE 0627
*                                      AREA. ONLY ONE MEMORY       0627
*                                      (MASTERS) EXISTS AT THIS    0627
*                                      POINT.                @OZ01572*/
         B     @DE00627                                            0627
@DL00627 DS    0H                                                  0628
*     IF PFTQNDX=PFTSQAN×PFTQNDX=PFTSRQN THEN/* IF FRAME IS SQA OR ON
*                                      SQA RESERVED QUEUE    @OZ01572*/
         L     @12,PFTEPTR                                         0628
         CLI   PFTQNDX(@12),X'0C'                                  0628
         BE    @RT00628                                            0628
         CLI   PFTQNDX(@12),X'04'                                  0628
         BNE   @RF00628                                            0628
@RT00628 DS    0H                                                  0629
*       PVTSQAFX=PVTSQAFX+1;        /* INCREMENT SQA COUNT   @OZ01572*/
         LA    @12,1                                               0629
         AH    @12,PVTSQAFX(,RPVT)                                 0629
         STH   @12,PVTSQAFX(,RPVT)                                 0629
*     ELSE                          /* IF FRAME IS NOT SQA   @OZ01572*/
*       IF PFTQNDX=PFTCFQN&PFTFXCT>0 THEN/* FRAME IS COMMON AND FIXED
*                                                            @OZ01572*/
         B     @RC00628                                            0630
@RF00628 L     @12,PFTEPTR                                         0630
         CLI   PFTQNDX(@12),X'08'                                  0630
         BNE   @RF00630                                            0630
         ICM   @11,3,PFTFXCT(@12)                                  0630
         BNP   @RF00630                                            0630
*         PVTCOMFX=PVTCOMFX+1;      /* INCREMENT COMMON FIXED COUNT
*                                                            @OZ01572*/
         LA    @12,1                                               0631
         AH    @12,PVTCOMFX(,RPVT)                                 0631
         STH   @12,PVTCOMFX(,RPVT)                                 0631
*       ELSE                        /* IF FRAME IS NOT COMMON AND  0632
*                                      FIXED                 @OZ01572*/
*         IF PFTQNDX=PFTLSQAN×(PFTQNDX=PFTLFQN&(PFTFXCT>0×PFTVRALC='1'B
*             )) THEN               /* IF FRAME IS LSQA OR FIXED OR
*                                      V=R ALLOCATED         @OZ01572*/
         B     @RC00630                                            0632
@RF00630 L     @12,PFTEPTR                                         0632
         CLI   PFTQNDX(@12),X'84'                                  0632
         BE    @RT00632                                            0632
         CLI   PFTQNDX(@12),X'80'                                  0632
         BNE   @RF00632                                            0632
         ICM   @11,3,PFTFXCT(@12)                                  0632
         BP    @RT00632                                            0632
         TM    PFTVRALC(@12),B'00000010'                           0632
         BNO   @RF00632                                            0632
@RT00632 DS    0H                                                  0633
*           RSMCNTFX=RSMCNTFX+1;    /* INCREMENT LOCAL FIXED COUNT 0633
*                                                            @OZ01572*/
         LA    @12,1                                               0633
         AH    @12,RSMCNTFX(,RSMHDPTR)                             0633
         STH   @12,RSMCNTFX(,RSMHDPTR)                             0633
*         ELSE                                                     0634
*           ;                       /* ELSE CONTINUE LOOP THRU PFTES
*                                                            @OZ01572*/
@RF00632 DS    0H                                                  0635
*     PFTEPTR=PFTEPTR-LENGTH(PFTE); /* PROCESS NEXT LOWER FRAME    0635
*                                                            @OZ01572*/
@RC00630 DS    0H                                                  0635
@RC00628 L     @12,PFTEPTR                                         0635
         SL    @12,@CF00057                                        0635
         ST    @12,PFTEPTR                                         0635
*   END;                            /* END OF DO WHILE LOOP THRU   0636
*                                      STORAGE               @OZ01572*/
@DE00627 SLR   @12,@12                                             0636
         ICM   @12,3,PVTFVR(RPVT)                                  0636
         AL    @12,PVTPFTP(,RPVT)                                  0636
         C     @12,PFTEPTR                                         0636
         BNH   @DL00627                                            0636
*   PVTCNTFX=PVTSQAFX+PVTCOMFX+RSMCNTFX;/* GLOBAL FIXED FRAME COUNT
*                                                            @OZ01572*/
         LH    @12,PVTSQAFX(,RPVT)                                 0637
         AH    @12,PVTCOMFX(,RPVT)                                 0637
         AH    @12,RSMCNTFX(,RSMHDPTR)                             0637
         STH   @12,PVTCNTFX(,RPVT)                                 0637
*   RFY                                                            0638
*    (RSMHDPTR) UNRSTD;                                            0638
*                                                                  0638
*   /*****************************************************************/
*   /*                                                               */
*   /* COMPUTE FIXED FRAME THRESHHOLD VALUE BY MULTIPLYING PVTPOOL   */
*   /* COUNT BY PERCENTAGE VALUE IN PVTPERAF AND DIVIDING BY 100     */
*   /*                                                       @OZ01572*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0639
*   PVTMAXFX=(PVTPOOL*PVTPERFX)/PERCENT;/*                   @OZ01572*/
*                                                                  0639
         LA    @12,100                                             0639
         LH    @11,PVTPOOL(,RPVT)                                  0639
         LH    @01,PVTPERFX(,RPVT)                                 0639
         MR    @00,@11                                             0639
         DR    @00,@12                                             0639
         STH   @01,PVTMAXFX(,RPVT)                                 0639
*   /*****************************************************************/
*   /*                                                               */
*   /* COMPUTE OK FIXED THRESHHOLD BY MULTIPLYING PVTPOOL COUNT BY   */
*   /* PERCENTAGE VALUE IN PVTPEROK AND DIVIDING BY 100      @OZ01572*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0640
*   PVTFIXOK=(PVTPOOL*PVTPEROK)/PERCENT;/*                   @OZ01572*/
*                                                                  0640
         LH    @01,PVTPEROK(,RPVT)                                 0640
         MR    @00,@11                                             0640
         DR    @00,@12                                             0640
         STH   @01,PVTFIXOK(,RPVT)                                 0640
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP TOTAL FRAME COUNT AND AVAILABLE COUNT FOR CALL TO      */
*   /* SYSEVENT                                                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0641
*   POOLCNT=PVTPOOL;                /* SET UP TOTAL FRAME COUNT      */
         STH   @11,POOLCNT                                         0641
*   AFCCNT=PVTAFCOK;                /* SET UP AVAILABLE FRAME COUNT
*                                                            @YM05617*/
         MVC   AFCCNT(2),PVTAFCOK(RPVT)                            0642
*   RESPECIFY                                                      0643
*    (RPARM) RESTRICTED;                                           0643
*   RPARM=SYSEPARM;                 /* LOAD SYSEVENT INPUT           */
         L     RPARM,SYSEPARM                                      0644
*   GENERATE REFS(CVT,CVTOPTE) SETS(RPARM0,RPARM,RENTRY,REXIT)     0645
*       (SYSEVENT RSMCNSTS,ENTRY=BRANCH);                          0645
         SYSEVENT RSMCNSTS,ENTRY=BRANCH
*   RETURN;                         /* RETURN TO MAINLINE            */
         B     @EL00002                                            0646
*   RESPECIFY                                                      0647
*    (RNVT,                                                        0647
*     RCVT,                                                        0647
*     RPVT,                                                        0647
*     RINEXT,                                                      0647
*     RPARM,                                                       0647
*     PTEPTR) UNRESTRICTED;                                        0647
*                                                                  0648
*/************************************************************       */
*/* THIS ROUTINE RESETS TEMPORARY TRAPS IN THE SYSTEM                */
*/************************************************************       */
*                                                                  0648
*NPXRTRAP:                                                         0648
*   ENTRY;                          /* INTERNAL ROUTINE              */
NPXRTRAP STM   @14,@12,@SA00002                                    0648
*   RESPECIFY                                                      0649
*    (RNVT,                                                        0649
*     RCVT,                                                        0649
*     SCVTSPTR) RESTRICTED;                                        0649
*   SCVTSPTR=CVTABEND;              /* BASE FOR 2NDARY SVC           */
         L     SCVTSPTR,CVTABEND(,RCVT)                            0650
*   RSVCTAB=SCVTSVCT;               /* BASE FOR SVC TABLE            */
         L     RSVCTAB,SCVTSVCT(,SCVTSPTR)                         0651
*   SVCABD=NVTABSAV;                /* RESTORE ABEND ENTRY FROM NVT  */
         MVC   SVCABD(8,RSVCTAB),NVTABSAV(RNVT)                    0652
*   SVCLOCAT=NVTLOCAT;              /* RESTORE LOCATE ENTRY FROM NVT */
         MVC   SVCLOCAT(8,RSVCTAB),NVTLOCAT(RNVT)                  0653
*   NPXMFA=NVTMFASA;                /* RESTORE ORIGINAL MFA ROUTINE
*                                      ADDRESS                       */
         L     @12,NVTMFA(,RNVT)                                   0654
         MVC   NPXMFA(4,@12),NVTMFASA(RNVT)                        0654
*   CVTBTERM=NVTRTMSA;              /* RESTORE ORIGINAL RTM BRANCH 0655
*                                      TABLE ADDRESS                 */
         MVC   CVTBTERM(4,RCVT),NVTRTMSA(RNVT)                     0655
*   RETURN;                         /* RETURN TO MAINLINE            */
         B     @EL00002                                            0656
*   RESPECIFY                                                      0657
*    (RNVT,                                                        0657
*     RCVT,                                                        0657
*     SCVTSPTR) UNRESTRICTED;                                      0657
*                                                                  0658
*/*************************************************************      */
*/* THIS ROUTINE RESETS THE DYNAMIC ADDRESS TABLES AND               */
*/* LINKS TO THE MASTER SCHEDULER ROUTINE IEEVIPL                    */
*/************************************************************       */
*                                                                  0658
*NPXRDAT:                                                          0658
*   ENTRY;                          /* INTERNAL ROUTINE              */
NPXRDAT  STM   @14,@12,@SA00002                                    0658
*   RESPECIFY                                                      0659
*    (RPARM,                                                       0659
*     RNVT,                                                        0659
*     RCVT,                                                        0659
*     RTCB,                                                        0659
*     RPVT,                                                        0659
*     RINEXT,                                                      0659
*     RPGT,                                                        0659
*     RMODEBR,                                                     0659
*     PTEPTR,                                                      0659
*     RMODEC) RESTRICTED;                                          0659
*                                                                  0659
*   /*****************************************************************/
*   /*                                                               */
*   /* INFORMATION FROM THE NVT MUST BE SAVED WITHIN THE RESTRICTED  */
*   /* ADDRESS RANGE BEFORE PAGES CONTAINING THE NVT ARE INVALIDATED */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0660
*   REGSIZE=CVTGDA->PASIZE;         /* SAVE SIZE OF PRIVATE AREA     */
         L     @12,CVTGDA(,RCVT)                                   0660
         MVC   REGSIZE(4),PASIZE(@12)                              0660
*   REGSTART=CVTGDA->PASTRT;        /* SAVE START OF PRIVATE AREA    */
         MVC   REGSTART(4),PASTRT(@12)                             0661
*   RTCB=NVTMSTCB;                  /* GET M.S. TCB ADDR.            */
         L     RTCB,NVTMSTCB(,RNVT)                                0662
*   TCBRV=VEQVT;                    /* SET V EQ V STATUS             */
         NI    TCBRV(RTCB),B'01111111'                             0663
*   RPVT=CVTPVTP;                   /* PAGE VECTOR TABLE BASE        */
         L     RPVT,CVTPVTP(,RCVT)                                 0664
*   LINKSAVE=NVTMSLNK;              /* LINK PARM LIST ADDR           */
         MVC   LINKSAVE(4),NVTMSLNK(RNVT)                          0665
*   RESLOW=RESLOW&MASKIPFN;         /* ROUND DOWN TO PAGE BOUNDARY   */
         L     @12,RESLOW                                          0666
         N     @12,MASKIPFN                                        0666
         ST    @12,RESLOW                                          0666
*   ASCBPTR=NVTMASCB;               /* GET ASCB BASE                 */
         L     @12,NVTMASCB(,RNVT)                                 0667
         ST    @12,ASCBPTR                                         0667
*   ASCB2LPU='1'B;                  /* MASTERS = 2ND LEVEL PREFERRED
*                                      USER.                 @ZA17807*/
         L     @11,ASCB2LPU(,@12)                                  0668
@GL00009 LR    @04,@11                                             0668
         O     @04,@CF03361                                        0668
         CS    @11,@04,ASCB2LPU(@12)                               0668
         BNE   @GL00009                                            0668
*   STEPTR=ASCBRSM->RSMVSTO;        /* GET VIRT ADDR OF SEG TABLE    */
         L     @12,ASCBPTR                                         0669
         L     @12,ASCBRSM(,@12)                                   0669
         MVC   STEPTR(4),RSMVSTO(@12)                              0669
*   RINEXT=(((NVTNUCND+4095)×4095)&&4095);/* ROUND UP TOP OF NUCLEUS
*                                      TO PAGE BOUNDARY              */
         LA    @12,4095                                            0670
         L     RINEXT,NVTNUCND(,RNVT)                              0670
         ALR   RINEXT,@12                                          0670
         OR    RINEXT,@12                                          0670
         XR    RINEXT,@12                                          0670
*   RFVV=NVTVVPG1;                  /* FIRST V EQUAL V PAGE          */
*                                                                  0671
         MVC   RFVV(4),NVTVVPG1(RNVT)                              0671
*   /*****************************************************************/
*   /*                                                               */
*   /* VIRTUAL ADDRESS PARMAETER FOR NPXFPGT                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0672
*   VIRTADDR=RINEXT;                                               0672
*                                                                  0672
         ST    RINEXT,VIRTADDR                                     0672
*/************************************************************       */
*/************* WARNING *****                                        */
*/************************************************************       */
*/*         LABEL NPXRDPGT AND ADCON NPXFPQE DELINEATE               */
*/*         THE LOCATION OF THE ONLY CODE IN THIS MODULE             */
*/*         AND ITS CALLED SUBROUTINE THAT MAY BE EXECUTED           */
*/*         BEYOND THIS POINT DUE TO THE INVALIDATION OF THE         */
*/*         PAGE AND SEGMENT TABLES BY THIS ROUTINE.                 */
*/*         ALL CONSTANTS REFERENCED FROM THIS POINT ON MUST         */
*/*         BE DEFINED WITHIN THE RANGE OF THESE TWO LABELS          */
*/*         OR AS PART OF THE NUCLEUS                                */
*/************************************************************       */
*/************************************************************       */
*                                                                  0673
*NPXRDPGT:                                                         0673
*                                                                  0673
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL SUBROUTINE TO GET ADDRESS OF SEGMENT TABLE ENTRY,PAGE    */
*   /* TABLE, AND PAGE TABLE ENTRY                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0673
*   CALL NPXFPGT;                                                  0673
*                                                                  0673
NPXRDPGT BAL   @14,NPXFPGT                                         0673
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0674
*   GENERATE                        /* BRANCH TABLE                  */
*       REFS(RCODE) FLOWS(NPXRDCT,NPXRDNXT);                       0674
         B     NPXRDRC(RCODE)          /* INDEX THRU BRANCHES */
NPXRDRC  EQU   *                       /* BEGINNING OF BRANCH TABLE */
         B     NPXRDCT                 /* CODE 0 UNRESTRICTED */
         B     NPXRDNXT                /* CODE 4 RESTRICTED   */
         B     NPXRDNXT                /* CODE 8 INVALID SEG  */
*NPXRDCT:                           /* UNRESTRICTED ADDRESS          */
*   PTEPTR=ADDRPGTE;                /* BASE FOR PAGE TABLE           */
*                                                                  0675
NPXRDCT  L     PTEPTR,ADDRPGTE                                     0675
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS A VIRTUAL EQUAL VIRTUAL PAGE                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0676
*   IF RINEXT^<RFVV THEN            /* YES                           */
         C     RINEXT,RFVV                                         0676
         BNL   @RT00676                                            0676
*     GO TO NPXRDNXT;               /* DO NOT INVALIDATE             */
*   PGTPAM=PGTNASN;                 /* PAGE NOT ASSIGNED             */
*   PGTPVM=PGTNVA;                  /* SET PAGE NOT VALID            */
         OI    PGTPVM(PTEPTR),B'00001000'                          0679
         NI    PGTPAM(PTEPTR),B'11111110'                          0679
*NPXRDNXT:                          /* RESTRICTED OR VIRTUAL PAGE    */
*   RINEXT=RINEXT+PAGEL;            /* ADDRESS OF NEXT PAGE          */
*                                                                  0680
NPXRDNXT SLR   @12,@12                                             0680
         ICM   @12,3,PAGEL                                         0680
         ALR   RINEXT,@12                                          0680
*   /*****************************************************************/
*   /*                                                               */
*   /* WAS THIS THE LAST PAGE IN THIS SEGMENT                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0681
*   IF VIRTA2^=L16K THEN            /* NOT LAST                      */
         CLI   VIRTA2,240                                          0681
         BNE   @RT00681                                            0681
*     GO TO NPXRDPGX;               /* DO NEXT PAGE                  */
*   IF ADDRPGT=ZERO THEN            /* IF NO PAGE TABLE SEG IS       */
         L     @12,ADDRPGT                                         0683
         LTR   @12,@12                                             0683
         BZ    @RT00683                                            0683
*     GO TO NPXRDPGX;               /* INVALID GO GET NEXT PAGE      */
*   PTEPTR=ADDRPGT;                 /* BASE FOR IST PGTE             */
         LR    PTEPTR,@12                                          0685
*NPXRDPGL:                          /* SCAN ALL PAGE TABLE ENTRIES 0686
*                                      FOR THIS SEGMENT              */
*                                                                  0686
*   /*****************************************************************/
*   /*                                                               */
*   /* IF PAGE IS ASSIGNED OR VALID THE SEGMENT IS VALID             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0686
*   IF PGTPAM=PGTASN×PGTPVM=PGTVA THEN/* SEGMENT IS VALID            */
NPXRDPGL TM    PGTPAM(PTEPTR),B'00000001'                          0686
         BNZ   @RT00686                                            0686
         TM    PGTPVM(PTEPTR),B'00001000'                          0686
         BNO   @RT00686                                            0686
*     GO TO NPXRDPGX;               /* LEAVE LOOP                    */
*                                                                  0687
*   /*****************************************************************/
*   /*                                                               */
*   /* GET BASE FOR NEXT PAGE TABLE ENTRY                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0688
*   PTEPTR=PTEPTR+PTELNGTH;         /*                       @YM06985*/
*                                                                  0688
         SLR   @12,@12                                             0688
         ICM   @12,3,PTELNGTH                                      0688
         ALR   PTEPTR,@12                                          0688
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK ALL PAGES FOR THIS SEGMENT                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0689
*   IF PTEPTR^>ADDRPGTE THEN        /* SEGMENT NOT ENDED             */
         C     PTEPTR,ADDRPGTE                                     0689
         BNH   @RT00689                                            0689
*     GO TO NPXRDPGL;               /* CONTINUE LOOP                 */
*   STEPTR=ADDRSEG;                 /* BASE FOR SEG TABLE            */
         L     @12,ADDRSEG                                         0691
         ST    @12,STEPTR                                          0691
*   SGTPAM=SGTNASN;                 /* SET SEGMENT UNAVAILABLE       */
*                                                                  0692
         OI    SGTPAM(@12),B'00000001'                             0692
*   /*****************************************************************/
*   /*                                                               */
*   /* FREE ASSOCIATED PAGE TABLE AND XPTE TABLE             @ZA20383*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0693
*   RESPECIFY                                                      0693
*    (R4,                                                          0693
*     R9) RESTRICTED;                                              0693
*   R4=ZERO;                        /* ZERO TCB ADDR REGISTER        */
         SLR   R4,R4                                               0694
*   R9=R7;                          /* SAVE ADDR OF NEXT PAGE ACROSS
*                                      FREEMAIN                      */
         LR    R9,R7                                               0695
*   R7=ASCBPTR;                     /* GET ADDR OF ASCB              */
         L     R7,ASCBPTR                                          0696
*   GENERATE REFS(ADDRPGT,SCVTRMBR) SETS(RPARM0,RPARM)             0697
*       (FREEMAIN R,LV=LPGTXPT,A=ADDRPGT,SP=SP255,BRANCH=YES );/*  0697
*                                      FREE PGTE AND XPTE (CONTIGUOUS
*                                      IN CORE)              @ZA20383*/
         FREEMAIN R,LV=LPGTXPT,A=ADDRPGT,SP=SP255,BRANCH=YES
*   R7=R9;                          /* GET ADDR OF NEXT PAGE BACK    */
         LR    R7,R9                                               0698
*NPXRDPGX:                          /* LOOP CONTROL                  */
*   VIRTADDR=RINEXT;                /* PARAM FOR NPXFPGT             */
*                                                                  0699
NPXRDPGX ST    RINEXT,VIRTADDR                                     0699
*   /*****************************************************************/
*   /*                                                               */
*   /* END OF LOOP AFTER LAST PAGE                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0700
*   IF RINEXT<CVTGDA->CSAPQEP->PQEREGN/*                     @YM04951*/
*     THEN                          /* MORE REAL PAGES               */
         L     @12,CVTGDA(,RCVT)                                   0700
         L     @12,CSAPQEP(,@12)                                   0700
         C     RINEXT,PQEREGN(,@12)                                0700
         BL    @RT00700                                            0700
*     GO TO NPXRDPGT;               /* CONTINUE LOOP                 */
*   SYSTSEGP=ASCBSTOR;              /* REAL ADDR. OF SYSTEM SEGMENT
*                                      TABLE                         */
         L     @12,ASCBPTR                                         0702
         MVC   SYSTSEGP(4),ASCBSTOR(@12)                           0702
*   VIRTADDR=RESLOW;                /* FIRST RESTRICTED PAGE ADDR.   */
         MVC   VIRTADDR(4),RESLOW                                  0703
*/************************************************************       */
*/***** WARNING *****                                                */
*/************************************************************       */
*/* THE REMAINDER OF THIS MODULE USES ONLY REAL ADDRESSES            */
*/************************************************************       */
*                                                                  0704
*DATOFF:                                                           0704
*                                                                  0704
*   /*****************************************************************/
*   /*                                                               */
*   /* DISABLE ADDRESS TRANSLATION                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0704
*   GENERATE REFS(NPXSMASK) SETS(NPXSMASK)(STNSM  NPXSMASK,B'11111011')
*       ;                                                          0704
DATOFF   STNSM  NPXSMASK,B'11111011'
*   RESPECIFY                                                      0705
*    (R4,                                                          0705
*     R9) UNRESTRICTED;                                            0705
*NPXRDXRS:                                                         0706
*                                                                  0706
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE REAL ADDRESS OF SEGMENT TABLE SEGTAB ENTRY EQ       */
*   /* VIRTUAL ADDRESS DIVIDED BY 64K TIMES THE LENGTH OF ONE SEGMENT*/
*   /* TABLE ENTRY PLUS THE ADDRESS OF THE START OF THE SEGMENT TABLE*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0706
*   STEPTR=(LENGTH(SGTSTE)*VIRTA1)+SYSTSEGP;                       0706
NPXRDXRS SLR   @12,@12                                             0706
         IC    @12,VIRTA1                                          0706
         SLA   @12,2                                               0706
         AL    @12,SYSTSEGP                                        0706
         ST    @12,STEPTR                                          0706
*   RPGT=SGTSTE&MASKIPGA;           /* ADDR OF PAGE TABLE            */
         L     RPGT,SGTSTE(,@12)                                   0707
         N     RPGT,MASKIPGA                                       0707
*NPXRDPGZ:                          /* LOOP THRU PGTE'S              */
*   PTEPTR=((VIRTA2/NPG)*LENGTH(PGTPTE))+RPGT;/* PGTE POINTER        */
NPXRDPGZ SLR   PTEPTR,PTEPTR                                       0708
         IC    PTEPTR,VIRTA2                                       0708
         SRL   PTEPTR,4                                            0708
         ALR   PTEPTR,PTEPTR                                       0708
         ALR   PTEPTR,RPGT                                         0708
*   PGTPAM=PGTNASN;                 /* PAGE NOT ASSIGNED             */
*   PGTPVM=PGTNVA;                  /* SET PAGE NOT VALID            */
         OI    PGTPVM(PTEPTR),B'00001000'                          0710
         NI    PGTPAM(PTEPTR),B'11111110'                          0710
*   VIRTADDR=VIRTADDR+PAGEL;        /* ADDR. OF START OF NEXT PAGE   */
*                                                                  0711
         SLR   @12,@12                                             0711
         ICM   @12,3,PAGEL                                         0711
         AL    @12,VIRTADDR                                        0711
         ST    @12,VIRTADDR                                        0711
*   /*****************************************************************/
*   /*                                                               */
*   /* LOOP TILL LAST RESTRICTED ADDRESS PASSED OR A SEGMENT BOUNDARY*/
*   /* IS REACHED                                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0712
*   IF VIRTADDR^>RESHI&VIRTA2^=B64K THEN/* STILL RESTRICTED          */
         C     @12,RESHI                                           0712
         BH    @RF00712                                            0712
         CLI   VIRTA2,0                                            0712
         BNE   @RT00712                                            0712
*     GO TO NPXRDPGZ;               /* CONTINUE LOOP                 */
*   PGCTR=NEWSEG;                   /* USE PAGE COUNTER AS AN INDEX  */
*                                                                  0714
@RF00712 SLR   @12,@12                                             0714
         ST    @12,PGCTR                                           0714
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE ADDRESS OF SEGMENT START                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0715
*   RESLOW=VIRTADDR&MASKISEG;                                      0715
         L     @12,VIRTADDR                                        0715
         N     @12,MASKISEG                                        0715
         ST    @12,RESLOW                                          0715
*NPXRDCKP:                          /* CHECK SEGMENT                 */
*   PTEPTR=(LENGTH(PGTPTE)*PGCTR)+RPGT;/* PGTE BASE                  */
*                                                                  0716
NPXRDCKP L     @12,PGCTR                                           0716
         LR    PTEPTR,@12                                          0716
         ALR   PTEPTR,PTEPTR                                       0716
         ALR   PTEPTR,RPGT                                         0716
*   /*****************************************************************/
*   /*                                                               */
*   /* IF PAGE IS ASSIGNED OR VALID THE SEGMENT IS VALID             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0717
*   IF PGTPAM=PGTASN×PGTPVM=PGTVA THEN/* SEGMENT IS VALID            */
         TM    PGTPAM(PTEPTR),B'00000001'                          0717
         BNZ   @RT00717                                            0717
         TM    PGTPVM(PTEPTR),B'00001000'                          0717
         BNO   @RT00717                                            0717
*     GO TO NPXRDCL;                /* DO NEXT SEGMENT               */
*                                                                  0718
*   /*****************************************************************/
*   /*                                                               */
*   /* IF ALL PAGES ARE INVALID AND UNASSIGNED SET SEGMENT IS        */
*   /* UNAVAILABLE                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0719
*   IF PGCTR=LSTPG THEN             /* ALL PAGES INVALID             */
         CH    @12,@CH00089                                        0719
         BNE   @RF00719                                            0719
*     DO;                                                          0720
*       SGTPAM=SGTNASN;             /* SEGMENT UNAVAILABLE           */
         L     @12,STEPTR                                          0721
         OI    SGTPAM(@12),B'00000001'                             0721
*       GO TO NPXRDCL;              /* CHECK FOR END OF OF RESTRICTED
*                                      ADDR                          */
         B     NPXRDCL                                             0722
*     END;                                                         0723
*   ELSE                                                           0724
*     DO;                           /* CHECK NEXT SEGMENT            */
@RF00719 DS    0H                                                  0725
*       PGCTR=PGCTR+NXTPG;          /* ADDR NEXT SEGMENT             */
         LA    @12,1                                               0725
         AL    @12,PGCTR                                           0725
         ST    @12,PGCTR                                           0725
*       GO TO NPXRDCKP;             /* LOOP TO PROCESS               */
         B     NPXRDCKP                                            0726
*     END;                                                         0727
*                                                                  0727
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR LAST RESTRICTED ADDRESS                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0728
*NPXRDCL:                                                          0728
*                                                                  0728
*   /*****************************************************************/
*   /*                                                               */
*   /* IF VARIABLE IS GREATER THAN RESHI THEN ALL RESTRICTED         */
*   /* ADDRESSES HAVE BEEN PROCESSED                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0728
*   IF VIRTADDR<RESHI THEN          /* MORE RESTRICTED               */
NPXRDCL  CLC   VIRTADDR(4),RESHI                                   0728
         BL    @RT00728                                            0728
*     GO TO NPXRDXRS;               /* CONTINUE LOOP                 */
*   RESPECIFY                                                      0730
*    (RTCB,                                                        0730
*     RINEXT,                                                      0730
*     RPGT,                                                        0730
*     PTEPTR) UNRESTRICTED;                                        0730
*   RESPECIFY                                                      0731
*    (RINEXT,                                                      0731
*     RSCAN,                                                       0731
*     RCURR) RESTRICTED;                                           0731
*                                                                  0731
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE WHETHER TRACE WAS DYNAMICALLY TURNED OFF    @YM08212*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0732
*   IF CVTTRACE=TRCEDOFF THEN                                      0732
         CLC   CVTTRACE(2,RCVT),@CB00103                           0732
         BNE   @RF00732                                            0732
*     CVTTRACE=CVTTRACE×TRACEON;    /* ACTIVATE TRACE        @YM08212*/
*                                                                  0733
         OC    CVTTRACE(2,RCVT),@CB00101                           0733
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP REGISTERS FOR RETURN VIA LINK SVC PARAMETER REGISTERS  */
*   /* ARE FOR LINK TO IEEVIPL                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0734
*NPXMODST:                                                         0734
*   RESPECIFY                                                      0734
*    (RLINKA) RESTRICTED;                                          0734
@RF00732 DS    0H                                                  0734
NPXMODST DS    0H                                                  0735
*   RESPECIFY                                                      0735
*    (RENTRY,                                                      0735
*     REXIT,                                                       0735
*     R2,                                                          0735
*     R3,                                                          0735
*     R5,                                                          0735
*     R9) RESTRICTED;                                              0735
*   REXIT=NVTNXPTR;                                                0736
         L     REXIT,NVTNXPTR(,RNVT)                               0736
*   R9=LINKSAVE;                    /* ADDR OF LINK PARM LIST        */
         L     R9,LINKSAVE                                         0737
*   RPARM=ZERO;                     /* SPECIFY PTLB                  */
         SLR   RPARM,RPARM                                         0738
*   R2=ASCBRSM;                     /* PROVIDE RSMHEADER ADDRESS     */
         L     @12,ASCBPTR                                         0739
         L     R2,ASCBRSM(,@12)                                    0739
*   R3=RPVT;                        /* PROVIDE PVT ADDRESS           */
         LR    R3,RPVT                                             0740
*   RENTRY=PVTPINV;                 /* GET ADDR OF PTLB ROUTINE      */
*                                                                  0741
         L     RENTRY,PVTPINV(,RPVT)                               0741
*   /*****************************************************************/
*   /*                                                               */
*   /* TURN DAT ON                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0742
*   GENERATE REFS(RMODEBR,RMODEC,R5,R9,PSALITA,NVTNXPTR,RCODE) SETS(
*       RCODE,RLINKA);                                             0742
ZEROFF   EQU   0                           OFFSET FOR MOVE
LINK     EQU   6                           LINK SVC
         MVC   ZEROFF(NPXEND-NPXSSM,REXIT),NPXSSM  RELOCATE INSTR
         USING NPXSSM,REXIT
         B     NPXSSM                      GO EXECUTE RELOCATED INSTR
NPXSSM   STOSM  NPXMASK,B'00000100'
         BALR  REXIT,RENTRY                GO TO PTLB ROUTINE
*    RELEASE LOCAL AND SALLOC LOCKS
         SETLOCK RELEASE,TYPE=SALLOC,RELATED=(PFTE,IEAVNIPX,GETLOCK)
         SETLOCK RELEASE,TYPE=LOCAL,RELATED=(PGT,IEAVNIPX,GETL)
         LR    RCODE,R9                  PICK UP LINK PARM LIST
*****************************************************************
*        LINK TO THE MASTER SCHEDULER ROUTINE -- IEEVIPL
         SVC  LINK
NPXMASK  DS    H                        TEMP FOR STOSM INSTRUCTION
         DROP  REXIT
NPXEND   EQU   *                        END OF NIPX PROCESSING
*****************************************************************
***************************************************************/
*********** GENERATE CONSTANTS AND                            */
***********  WORK AREAS WHICH MUST FALL IN THE RESTRICTED     */
*********** ADDRESS RANGE                                     */
***************************************************************/
PGCTR    DS    F                       PAGES PER SEGMENT
ADDRPGTE DS    F                       OUTPUT FROM NPXFPGT
ADDRPGT  DS    F                       OUTPUT FROM NPXFPGT
ADDRSEG  DS    F                       OUTPUT FROM NPXFPGT
USERSEGP DS    F                       ADDRESS OF USER
*                                      SEGMENT TABLE
SYSTSEGP DS    F                       ADDRESS OF SYSTEM
*                                      SEGMENT TABLE
VIRTADDR DC    F'0'                    INPUT FOR NPXFPGT
         DS    0F
MASKOPFN DC    X'00000FFF'             AND OUT PAGE FRAME NO.
         DS    0F
MASKIPFN DC    X'00FFF000'             AND IN PAGE FRAME NO.
         DS    0F
MASKIPGA DC    X'00FFFFF8'             AND IN PGA ADDRESS
         DS    0F
MASKISEG DC    X'00FF0000'             AND IN SEGMENT NUMBER
LINKSAVE DS    F                       ADDR LINK PARM LIST
FBQESPTR DS    F                       ADDR OF FBQE
PFTEPTR  DS    F                       ADDR OF PFT
RFVV     DS    F                       ADDR OF FIRST V=V PAGE
XTLSTPTR DS    F                       ADDR OF EXTENT LIST
ASCBPTR  DS    F                       ADDR OF MS ASCB
STEPTR   DS    F                       ADDR OF SEG TABLE ENTRY
REGSIZE  DS    F                       SIZE OF PRIVATE AREA
REGSTART DS    F                       START OF PRIVATE AREA
SAVER4   DS    F                       SAVE AREA FOR FREEMAIN
SUBP255  DC    X'FF000000'             SUBPOOL FOR FREEMAIN
PGTADR   DS    F                       POINTER TO PAGE TABLE
MSTRLPID DS    2F                      RESERVED                @Z40WPXA
SAVER7   DS    F                       SAVE AREA FOR FREEMAIN
SAVER14  DS    F                       SAVE AREA FOR R 14
SEGENTRY DC    F'256'                  ENTRIES IN SEG TABLE
NPXSMASK DS    CL1                     WORKBYTE FOR STNSM      @YM06985
PTELNGTH DC    H'2'                    LENGTH PAGE TABLE ENTRY @YM06985
PAGEL    DC    H'4096'                 PAGE SIZE               @YM06985
****************************************************************
*THIS LABEL MUST BE FOLLOWED BY ADCONS FOR NPXRDPFT AND NPXFPQE
         DS    0F                                              @YM06985
RESTABLE EQU   *                       RESTRICTED ADDRESSES
         DC    A(NPXRDPGT)             LOW BOUNDARY
         DC    A(NPXFPQE)              HIGH BOUNDARY
****************************************************************
*   RESPECIFY                                                      0743
*    (RPARM,                                                       0743
*     RNVT,                                                        0743
*     RCVT,                                                        0743
*     RTCB,                                                        0743
*     RPVT,                                                        0743
*     RINEXT,                                                      0743
*     RPGT,                                                        0743
*     RMODEBR,                                                     0743
*     PTEPTR,                                                      0743
*     RMODEC,                                                      0743
*     RENTRY,                                                      0743
*     REXIT,                                                       0743
*     R2,                                                          0743
*     R3,                                                          0743
*     R5,                                                          0743
*     R9) UNRESTRICTED;                                            0743
*   END NPXOTEST;                   /* END OF INNER ROUTINES         */
         B     @EL00002                                            0744
*/************************************************************       */
*/************************************************************       */
*/* INPUT   VIRTADDR   A VIRTUAL ADDRESS                             */
*/*         RCVT       ADDRESS OF CVT                                */
*/*         RPVT       ADDRESS OF PVT                                */
*/* OUTPUT                                                           */
*/*         OUTPUT VALUES ARE THE VIRTUAL ADDRESSES OF               */
*/*         OF CONTROL BLOCKS FOR THE VIRTUAL ADDRESS                */
*/*         SPECIFIED BY VIRTADDR                                    */
*/*         ADDRSEG          SEGMENT TABLE ENTRY                     */
*/*         ADDRPGT          PAGE TABLE                              */
*/*         ADDRPGTE         PAGE TABLE ENTRY                        */
*/* RETURN CODES                                                     */
*/*         ZERO             NOT IN RESTRICTED RANGE                 */
*/*         FOUR             IN RESTRICTED RANGE                     */
*/*         EIGHT            SEGMENT NOT VALID                       */
*/************************************************************       */
*                                                                  0745
*NPXFPGT:                                                          0745
*   PROC OPTIONS(NOSAVEAREA);                                      0745
NPXFPGT  STM   @14,@12,12(@13)                                     0745
*   RESPECIFY                                                      0746
*    (RCVT,                                                        0746
*     RPVT,                                                        0746
*     PTEPTR,                                                      0746
*     RNVT,                                                        0746
*     RINEXT,                                                      0746
*     RPGT) RESTRICTED;                                            0746
*                                                                  0746
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE VIRTUAL ADDRESS OF SEGMENT TABLE SEGTAB ENTRY EQ    */
*   /* VIRTUAL ADDRESS DIVIDED BY 64K TIMES THE LENGTH OF ONE SEGMENT*/
*   /* TABLE ENTRY PLUS THE ADDRESS OF THE START OF THE SEGMENT TABLE*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0747
*   STEPTR=ASCBRSM->RSMVSTO;        /* GET VIRTUAL ADDRESS OF SEGMENT
*                                      TABLE                         */
         L     @12,ASCBPTR                                         0747
         L     @12,ASCBRSM(,@12)                                   0747
         L     @12,RSMVSTO(,@12)                                   0747
         ST    @12,STEPTR                                          0747
*   STEPTR=LENGTH(SGTSTE)*VIRTA1+STEPTR;                           0748
         SLR   @11,@11                                             0748
         IC    @11,VIRTA1                                          0748
         SLA   @11,2                                               0748
         ALR   @11,@12                                             0748
         ST    @11,STEPTR                                          0748
*   ADDRSEG=STEPTR;                 /* SAVE ADDRESS                  */
*                                                                  0749
         ST    @11,ADDRSEG                                         0749
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THIS SEGMENT IS INVALID GIVE APPROPRIATE RETURN CODE       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0750
*   IF SGTPAM=SGTNASN THEN          /* INVALID SEGMENT               */
         TM    SGTPAM(@11),B'00000001'                             0750
         BNO   @RF00750                                            0750
*     DO;                                                          0751
*       ADDRPGT=''B;                                               0752
         SLR   @12,@12                                             0752
         ST    @12,ADDRPGT                                         0752
*       ADDRPGTE=''B;                                              0753
         ST    @12,ADDRPGTE                                        0753
*       RETURN CODE(EIGHT);         /* RETURN CODE 8                 */
         LA    @15,8                                               0754
         L     @14,12(,@13)                                        0754
         LM    @00,@12,20(@13)                                     0754
         BR    @14                                                 0754
*     END;                                                         0755
*                                                                  0755
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE VIRTUAL ADDRESS OF PAGE TABLE GET REAL ADDRESS OF   */
*   /* THE PAGE TABLE FROM THE SEGMENT TABLE AND REPLACE THE PFN     */
*   /* PORTION OF THIS ADDRESS WITH THE VIRTUAL BLOCK NUMBER         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0756
*   ADDRPGT=SGTSTE&MASKIPGA;                                       0756
*                                                                  0756
@RF00750 L     @12,STEPTR                                          0756
         L     @12,SGTSTE(,@12)                                    0756
         N     @12,MASKIPGA                                        0756
         ST    @12,ADDRPGT                                         0756
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE PFTE INDEX OF PAGE TABLE BEFORE MASKING OUT PFN OF  */
*   /* ADDRESS                                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0757
*   PFTEPTR=((ADDRPGT/PAGEL)*LENGTH(PFTE))+PVTPFTP;                0757
         LR    @01,@12                                             0757
         SLR   @00,@00                                             0757
         SLR   @11,@11                                             0757
         ICM   @11,3,PAGEL                                         0757
         DR    @00,@11                                             0757
         SLA   @01,4                                               0757
         AL    @01,PVTPFTP(,RPVT)                                  0757
         ST    @01,PFTEPTR                                         0757
*   ADDRPGT=ADDRPGT&MASKOPFN;       /* MASK OUT PFN                  */
         N     @12,MASKOPFN                                        0758
         ST    @12,ADDRPGT                                         0758
*   ADDRPGT=(VBNTV*PFTVBN)×ADDRPGT; /* OR IN PFN                     */
*                                                                  0759
         SLR   @11,@11                                             0759
         ICM   @11,3,PFTVBN(@01)                                   0759
         SLA   @11,8                                               0759
         OR    @11,@12                                             0759
         ST    @11,ADDRPGT                                         0759
*   /*****************************************************************/
*   /*                                                               */
*   /* CALCULATE VIRTUAL ADDRESS OF PAGE TABLE ENTRY THE VIRTUAL     */
*   /* ADDRESS OF THE PAGE TABLE ENTRY IS THE PAGE NUMBER TIMES THE  */
*   /* LENGTH ON ONE PAGE TABLE ENTRY PLUS THE VIRTUAL ADDRESS OF THE*/
*   /* PAGE TABLE.                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0760
*   ADDRPGTE=((VIRTA2/NPG)*LENGTH(PGTPTE))+ADDRPGT;                0760
*                                                                  0760
         SLR   @12,@12                                             0760
         IC    @12,VIRTA2                                          0760
         SRL   @12,4                                               0760
         ALR   @12,@12                                             0760
         ALR   @12,@11                                             0760
         ST    @12,ADDRPGTE                                        0760
*   /*****************************************************************/
*   /*                                                               */
*   /* IF ANY ADDRESS ON THIS PAGE IS IN THE RANGE OF THE RESTRICTED */
*   /* ADDRESSES (RESTABLE) THE RETURN CODE IS FOUR                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0761
*   IF RINEXT<RESHI&RINEXT^<RESLOW THEN/* RESTRICTED ADDRESS         */
         C     RINEXT,RESHI                                        0761
         BNL   @RF00761                                            0761
         C     RINEXT,RESLOW                                       0761
         BL    @RF00761                                            0761
*     RETURN CODE(FOURRC);          /* RETURN TO CALLER              */
         LA    @15,4                                               0762
         L     @14,12(,@13)                                        0762
         LM    @00,@12,20(@13)                                     0762
         BR    @14                                                 0762
*   ELSE                            /* UNRESTRICTED ADDRESS          */
*     RETURN CODE(ZERORC);          /* RETURN TO CALLER              */
@RF00761 SLR   @15,@15                                             0763
         L     @14,12(,@13)                                        0763
         LM    @00,@12,20(@13)                                     0763
         BR    @14                                                 0763
*   RETURN;                         /* RETURN TO CALLER              */
*   RESPECIFY                                                      0765
*    (RCVT,                                                        0765
*     RPVT,                                                        0765
*     PTEPTR,                                                      0765
*     RNVT,                                                        0765
*     RINEXT,                                                      0765
*     RPGT) UNRESTRICTED;                                          0765
*   END NPXFPGT;                    /* END SUBROUTINE                */
*                                                                  0767
*/********************************************************************/
*/*     SUBROUTINE FOR BRANCH ENTERED FREEMAINS OF SUBPOOL 255       */
*/********************************************************************/
*/*       INPUT                                                      */
*/*         RPARM0 (REG 0) - SIZE TO BE FREED                        */
*/*         RPARM  (REG 1) - ADDRESS OF AREA TO BE FREED             */
*/********************************************************************/
*                                                                  0767
*NPXFMAIN:                                                         0767
*   PROC OPTIONS(NOSAVEAREA,NOSAVE);                               0767
NPXFMAIN DS    0H                                                  0768
*   RESPECIFY                                                      0768
*    (RNVT,                                                        0768
*     RCVT,                                                        0768
*     R4,                                                          0768
*     R7,                                                          0768
*     RPARM,                                                       0768
*     RPARM0) RESTRICTED;                                          0768
*   SAVER14=R14;                    /* SAVE RETURN ADDRESS           */
         ST    R14,SAVER14                                         0769
*   SAVER4=R4;                      /* SAVE R4 FOR FREEMAIN INTERFACE*/
         ST    R4,SAVER4                                           0770
*   SAVER7=R7;                      /* SAVE R7 FOR FREEMAIN INTERFACE*/
*                                                                  0771
         ST    R7,SAVER7                                           0771
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF STORAGE BEING FREED IS A GETMAIN CELL. IF IT IS THE  */
*   /* SIZE OF A CELL THEN RETURN IT TO GETMAINS CELLPOOL QUEUE      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0772
*   IF RPARM0=16 THEN               /* CELL SIZE?            @Z30ENXA*/
         CH    RPARM0,@CH00057                                     0772
         BNE   @RF00772                                            0772
*     DO;                                                          0773
*       R7=NVTMASCB;                /* MASTERS ASCB ADDR     @Z30ENXA*/
         L     R7,NVTMASCB(,RNVT)                                  0774
*       R15=CVTCBBR;                /* CELL RETURN ADDRESS   @Z30ENXA*/
         L     R15,CVTCBBR(,RCVT)                                  0775
*       GEN(LA  1,0(1));            /* CLEAR HIGH BYTE       @Z30ENXA*/
         LA  1,0(1)
*       GEN(BALR  R14,R15);         /* GO FREE CELL          @Z30ENXA*/
         BALR  R14,R15
*     END;                                                         0778
*   ELSE                                                           0779
*                                                                  0779
*     /***************************************************************/
*     /*                                                             */
*     /* WAS NOT SIZE OF CELL. DO NORMAL FREEMAIN                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0779
*     DO;                                                          0779
         B     @RC00772                                            0779
@RF00772 DS    0H                                                  0780
*       RPARM0=RPARM0×SUBP255;      /* OR IN SUBPOOL NUMBER FOR    0780
*                                      FREEMAIN                      */
         O     RPARM0,SUBP255                                      0780
*       R4=NVTMSTCB;                /* SET UP MASTER TCB ADDRESS     */
         L     R4,NVTMSTCB(,RNVT)                                  0781
*       R7=NVTMASCB;                /* SET UP MASTER ASCB ADDRESS    */
         L     R7,NVTMASCB(,RNVT)                                  0782
*       GENERATE REFS(RPARM,RPARM0,SCVTRMBR,CVTRMBR) SETS(RPARM0)  0783
*           (FREEMAIN R,LV=(0),A=(1),BRANCH=YES);/* FREE AREA        */
         FREEMAIN R,LV=(0),A=(1),BRANCH=YES
*     END;                                                         0784
*   R4=SAVER4;                      /* RESTORE R4                    */
@RC00772 L     R4,SAVER4                                           0785
*   R7=SAVER7;                      /* RESTORE R7                    */
         L     R7,SAVER7                                           0786
*   R14=SAVER14;                    /* RESTORE RETURN ADDRESS        */
         L     R14,SAVER14                                         0787
*   RETURN;                         /* RETURN TO CALLER              */
@EL00004 DS    0H                                                  0788
@EF00004 DS    0H                                                  0788
@ER00004 BR    @14                                                 0788
*   END NPXFMAIN;                                                  0789
*                                                                  0790
*/************************************************************       */
*/*      SUBROUTINE TO FREE DUMMY PQE, PQE, FBQE                     */
*/************************************************************       */
*/*    INPUT                                                         */
*/*       RPQE      ADDRESS OF DUMMY PQE                             */
*/*    OUTPUT                                                        */
*/*       ZERO PQE CHAIN                                             */
*/************************************************************       */
*                                                                  0790
*NPXFPQE:                                                          0790
*   PROC OPTIONS(NOSAVEAREA);                                      0790
NPXFPQE  STM   @14,@12,12(@13)                                     0790
*   RESPECIFY                                                      0791
*    (RPARM,                                                       0791
*     RPARM0,                                                      0791
*     RNVT,                                                        0791
*     RCVT,                                                        0791
*     RPQE,                                                        0791
*     RSIZE,                                                       0791
*     RTCB) RESTRICTED;                                            0791
*   IF RPQE=ZERO THEN               /* IF NO PQES DONT FREE          */
         LTR   RPQE,RPQE                                           0792
         BZ    @RT00792                                            0792
*     RETURN;                                                      0793
*   NPXSNEXT=PQEFPQE;               /* SAVE REAL PQE ADDRESS         */
         L     NPXSNEXT,PQEFPQE(,RPQE)                             0794
*   RPQE=RPQE+EIGHT;                /* GET TO BEGINNING OF D-PQE     */
         LA    @12,8                                               0795
         ALR   RPQE,@12                                            0795
*   RPARM=RPQE;                     /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,RPQE                                          0796
*   RPARM0=DPQELEN;                 /* SET UP SIZE FOR FREEMAIN      */
         LR    RPARM0,@12                                          0797
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0798
*   RPQE=NPXSNEXT;                  /* ADDRESS OF REAL PQE           */
         LR    RPQE,NPXSNEXT                                       0799
*   FBQESPTR=PQEFFBQE;              /* ADDRESS OF FIRST FBQE         */
         MVC   FBQESPTR(4),PQEFFBQE(RPQE)                          0800
*   RPARM=RPQE;                     /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,RPQE                                          0801
*   RPARM0=LENGTH(PQESECT);         /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,32                                           0802
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0803
*   IF RPQE=FBQESPTR THEN                                          0804
         C     RPQE,FBQESPTR                                       0804
         BE    @RT00804                                            0804
*     RETURN;                       /* IF NO FBQE RETURN             */
*NPXFFBQE:                                                         0806
*   NPXSNEXT=FWDPTR;                /* SAVE ADDRESS OF NEXT FBQE     */
NPXFFBQE L     @12,FBQESPTR                                        0806
         L     NPXSNEXT,FWDPTR(,@12)                               0806
*   RPARM=FBQESPTR;                 /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,@12                                           0807
*   RPARM0=LENGTH(FBQESECT);        /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,16                                           0808
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0809
*   FBQESPTR=NPXSNEXT;              /* GET ADDRESS OF NEXT FBQE      */
         ST    NPXSNEXT,FBQESPTR                                   0810
*   IF RPQE^=FBQESPTR THEN          /* IF NEXT FBQE NOT = PQE ADDR   */
         L     @12,FBQESPTR                                        0811
         CR    RPQE,@12                                            0811
         BNE   @RT00811                                            0811
*     GO TO NPXFFBQE;               /* GO PROCESS NEXT FBQE          */
*   RETURN;                         /* ELSE ALL FBQE'S FREED         */
@EL00005 DS    0H                                                  0813
@EF00005 DS    0H                                                  0813
@ER00005 LM    @14,@12,12(@13)                                     0813
         BR    @14                                                 0813
*   RESPECIFY                                                      0814
*    (RPARM,                                                       0814
*     RPARM0,                                                      0814
*     RNVT,                                                        0814
*     RCVT,                                                        0814
*     RPQE,                                                        0814
*     RSIZE,                                                       0814
*     RTCB) UNRESTRICTED;                                          0814
*   END NPXFPQE;                                                   0815
         B     @EL00005                                            0815
*                                                                  0816
*/************************************************************       */
*/*      SUBROUTINE TO FREE SPQE, DQE, AND FQE                       */
*/************************************************************       */
*/*    INPUT                                                         */
*/*       SPQESPTR  ADDRESS OF FIRST SPQE ON CHAIN                   */
*/*    OUTPUT                                                        */
*/*       ZERO SPQE CHAIN                                            */
*/************************************************************       */
*                                                                  0816
*NPXFSPQE:                                                         0816
*   PROC OPTIONS(NOSAVEAREA);                                      0816
NPXFSPQE STM   @14,@12,12(@13)                                     0816
*   RESPECIFY                                                      0817
*    (RNVT,                                                        0817
*     RCVT,                                                        0817
*     RTCB,                                                        0817
*     RSCAN,                                                       0817
*     SPQESPTR,                                                    0817
*     DQESEPTR,                                                    0817
*     FQESEPTR,                                                    0817
*     RPARM,                                                       0817
*     RPARM0) RESTRICTED;                                          0817
*   NPXSNEXT=SPQESPTR;              /* INITIALIZE NEXT SPQE          */
         LR    NPXSNEXT,SPQESPTR                                   0818
*NPXNSPQE:                                                         0819
*   SPQESPTR=NPXSNEXT;              /* GET NEXT SPQE ADDRESS         */
NPXNSPQE LR    SPQESPTR,NPXSNEXT                                   0819
*   IF SPQESPTR=ZERO THEN           /* IF THIS SPQE ADDR IS ZERO     */
         LTR   SPQESPTR,SPQESPTR                                   0820
         BZ    @RT00820                                            0820
*     RETURN;                       /* ALL SPQE, DQE, FQE CHAIN FREED*/
*   NPXSNEXT=SPQEAD;                /* SAVE NEXT SPQE ADDRESS THAT IS
*                                      TO BE PROCESSED               */
         L     NPXSNEXT,SPQEAD(,SPQESPTR)                          0822
*   NPXSNXT1=SPDQEAD;               /* SAVE PTR TO NEXT DQE          */
         MVC   NPXSNXT1(4),SPDQEAD(SPQESPTR)                       0823
*   RPARM=SPQESPTR;                 /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,SPQESPTR                                      0824
*   RPARM0=LENGTH(SPQESECT);        /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,16                                           0825
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0826
*NPXDQE:                                                           0827
*   DQESEPTR=NPXSNXT1;              /* GET DQE ADDRESS               */
NPXDQE   L     DQESEPTR,NPXSNXT1                                   0827
*   IF DQESEPTR=ZERO THEN           /* IF NO MORE DQE'S              */
         LTR   DQESEPTR,DQESEPTR                                   0828
         BZ    @RT00828                                            0828
*     GO TO NPXNSPQE;               /* GO GET NEXT SPQE              */
*   NPXSNXT1=DQEPTR;                /* SAVE NEXT DQE ADDRESS         */
         MVC   NPXSNXT1(4),DQEPTR(DQESEPTR)                        0830
*   NPXSNXT2=DQFQEPTR;              /* GET PTR TO FQE                */
         MVC   NPXSNXT2(4),DQFQEPTR(DQESEPTR)                      0831
*   RPARM=DQESEPTR;                 /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,DQESEPTR                                      0832
*   RPARM0=LENGTH(DQESECT);         /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,16                                           0833
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0834
*NPXFQE:                                                           0835
*   FQESEPTR=NPXSNXT2;              /* GET NEXT FQE                  */
NPXFQE   L     FQESEPTR,NPXSNXT2                                   0835
*   IF FQESEPTR=ZERO THEN           /* IF NO MORE FQE'S              */
         LTR   FQESEPTR,FQESEPTR                                   0836
         BZ    @RT00836                                            0836
*     GO TO NPXDQE;                 /* GO GET NEXT DQE               */
*   NPXSNXT2=FQEPTRA;               /* SAVE NEXT FQE                 */
         SLR   @12,@12                                             0838
         ICM   @12,7,FQEPTRA(FQESEPTR)                             0838
         ST    @12,NPXSNXT2                                        0838
*   RPARM=FQESEPTR;                 /* SET UP ADDRESS FOR FREEMAIN   */
         LR    RPARM,FQESEPTR                                      0839
*   RPARM0=LENGTH(FQESECT);         /* SET UP SIZE FOR FREEMAIN      */
         LA    RPARM0,16                                           0840
*   CALL NPXFMAIN;                  /* CALL FREEMAIN SUBROUTINE      */
         BAL   @14,NPXFMAIN                                        0841
*   GO TO NPXFQE;                   /* GO GET NEXT FQE               */
         B     NPXFQE                                              0842
*   RESPECIFY                                                      0843
*    (RNVT,                                                        0843
*     RCVT,                                                        0843
*     RTCB,                                                        0843
*     RSCAN,                                                       0843
*     SPQESPTR,                                                    0843
*     DQESEPTR,                                                    0843
*     FQESEPTR,                                                    0843
*     RPARM,                                                       0843
*     RPARM0) UNRESTRICTED;                                        0843
*   END NPXFSPQE;                                                  0844
@EL00006 DS    0H                                                  0844
@EF00006 DS    0H                                                  0844
@ER00006 LM    @14,@12,12(@13)                                     0844
         BR    @14                                                 0844
*                                                                  0845
*/************************************************************       */
*/*    SUBROUTINE NPXLPAFN                                           */
*/*       SEARCHES THE ACTIVE AND INACTIVE LINK PACK AREA            */
*/*       FOR A SPECIFIED MODULE                                     */
*/************************************************************       */
*/*    INPUT                                                         */
*/*       MODNAME   MODULE NAME                                      */
*/*    OUTPUT                                                        */
*/*       MODADDR     ENTRY POINT ADDRESS IF MODULE IS FOUND         */
*/*       MODADDR     ZERO IF MODULE IS NOT FOUND                    */
*/*    EXTERNAL INTERFACES                                           */
*/*       IEAQCDSR                                                   */
*/*       IEAVVMSR                                                   */
*/************************************************************       */
*                                                                  0845
*NPXLPAFN:                                                         0845
*   PROC OPTIONS(NOSAVEAREA);                                      0845
NPXLPAFN STM   @14,@12,12(@13)                                     0845
*   RESPECIFY                                                      0846
*    (RPARM0,                                                      0846
*     RPARM,                                                       0846
*     RNVT,                                                        0846
*     RCVT,                                                        0846
*     REXIT,                                                       0846
*     RENTRY,                                                      0846
*     RTCB,                                                        0846
*     RQADR,                                                       0846
*     RNAME,                                                       0846
*     CDENTPTR,                                                    0846
*     LPDEPTR) RESTRICTED;                                         0846
*   RENTRY=CVTQCDSR;                /* PICK UP ADDRESS OF ROUTINE TO
*                                      SEARCH THE ACTIVE LPA QUEUE   */
         L     RENTRY,CVTQCDSR(,RCVT)                              0847
*   RNAME=ADDR(MODNAME);            /* ADDRESS OF MODULE NAME TO   0848
*                                      SEARCH FOR                    */
         LA    RNAME,MODNAME                                       0848
*   RTCB=NVTMSTCB;                  /* ADDR OF MS TCB                */
         L     RTCB,NVTMSTCB(,RNVT)                                0849
*   RQADR=CVTQLPAQ;                 /* ADDR OF QUEUE TO BE SEARCHED  */
*                                                                  0850
         L     RQADR,CVTQLPAQ(,RCVT)                               0850
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL IEAQCDSR TO SEARCH THE ACTIVE LINK PACK AREA             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0851
*   GENERATE                        /* GEN CALL AND BR TAB           */
*       REFS(RQADR,RNAME,RENTRY,RTCB) SETS(RPARM0,RPARM,CDENTPTR,REXIT,
*       RENTRY) FLOWS(NPXLPACQ);                                   0851
         BALR  REXIT,RENTRY            /* IEAQCDSR                   */
         B     NPXLPACQ                /* CODE 0 CDE FOUND           */
*NPXLPNAC:                          /* NOT ON ACTIVE Q               */
*   RENTRY=CVTLPDSR;                /* ADDR OF LPDE SEARCH ROUTINE   */
NPXLPNAC L     RENTRY,CVTLPDSR(,RCVT)                              0852
*   R7=B2;                          /* SAVE BASE REG OVER INTERFACE  */
*                                                                  0853
         LR    R7,B2                                               0853
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL IEAVVMSR TO SEARCH THE LINK PACK AREA                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0854
*   GENERATE                        /* GEN CALL AND BR TAB           */
*       REFS(MODNAME,RCVT,RENTRY) SETS(RPARM0,RPARM,R7,R8,R9,REXIT)
*       FLOWS(NPXLPDIR);                                           0854
         LM    RPARM0,RPARM,MODNAME    /* NAME IN PARM REGS          */
         BALR  REXIT,RENTRY            /* IEAVVMSR                   */
         B     NPXLPDIR                /* CODE 0 LPDE FOUND          */
*NPXLPNFN:                          /* LPDE NOT FOUND                */
*   B2=R7;                          /* RESTORE BASE REG              */
NPXLPNFN LR    B2,R7                                               0855
*   MODADDR=ZERO;                   /* SET RETURN PARM               */
         SLR   @12,@12                                             0856
         ST    @12,MODADDR                                         0856
*   RETURN;                         /* RETURN TO CALLER              */
@EL00007 DS    0H                                                  0857
@EF00007 DS    0H                                                  0857
@ER00007 LM    @14,@12,12(@13)                                     0857
         BR    @14                                                 0857
*NPXLPACQ:                          /* CDE ON ACTIVE Q               */
*   CDENTPTR=RETCDE;                /* SET UP CDE BASE               */
NPXLPACQ LR    CDENTPTR,RETCDE                                     0858
*   MODADDR=CDENTPT;                /* ENTRY PT ADDR                 */
         MVC   MODADDR(4),CDENTPT(CDENTPTR)                        0859
*   RETURN;                         /* RETURN TO CALLER              */
         B     @EL00007                                            0860
*NPXLPDIR:                          /* CDE IN LPA DIRECTORY          */
*   B2=R7;                          /* RESTORE BASE REG              */
NPXLPDIR LR    B2,R7                                               0861
*   LPDEPTR=RPARM0;                 /* BASE FOR LPDE                 */
         LR    LPDEPTR,RPARM0                                      0862
*   MODADDR=LPDENTP;                /* ENTRY PT ADDR                 */
         MVC   MODADDR(4),LPDENTP(LPDEPTR)                         0863
*   RETURN;                         /* RETURN TO CALLER              */
         B     @EL00007                                            0864
*   RESPECIFY                                                      0865
*    (RPARM0,                                                      0865
*     RPARM,                                                       0865
*     RNVT,                                                        0865
*     RCVT,                                                        0865
*     REXIT,                                                       0865
*     RENTRY,                                                      0865
*     RTCB,                                                        0865
*     RQADR,                                                       0865
*     RNAME,                                                       0865
*     CDENTPTR,                                                    0865
*     LPDEPTR,                                                     0865
*     R12) UNRESTRICTED;                                           0865
*   END NPXLPAFN;                                                  0866
*                                                                  0867
*/************************************************************       */
*/*      SUBROUTINE TO ADD A PAGE TO THE AVAILABLE                   */
*/*      PAGE FRAME QUEUE                                            */
*/************************************************************       */
*/*    INPUT                                                         */
*/*       PREVPFTE                                                   */
*/*       RINEXT                                                     */
*/*    OUTPUT                                                        */
*/*       PFTBQPTR                                                   */
*/*       PFTFQPTR                                                   */
*/*       PFTONAVQ                                                   */
*/*       PFTQNDX                                                    */
*/*       PFTVBN                                                     */
*/*       PREVPFTE                                                   */
*/*       PVTAFC                                                     */
*/*       PVTAFQF                                                    */
*/*       PVTAFQL                                                    */
*/************************************************************       */
*                                                                  0867
*NPXQPFTE:                                                         0867
*   PROC OPTIONS(NOSAVEAREA);                                      0867
NPXQPFTE STM   @14,@11,12(@13)                                     0867
*   RESPECIFY                                                      0868
*    (RNVT,                                                        0868
*     RCVT,                                                        0868
*     RPVT,                                                        0868
*     RINEXT) RESTRICTED;                                          0868
*                                                                  0868
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS THE FIRST PAGE ON THE AVAILABLE QUEUE                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0869
*   IF PREVPFTE^=NOPREV THEN        /* NOT FIRST PAGE                */
         LTR   PREVPFTE,PREVPFTE                                   0869
         BZ    @RF00869                                            0869
*     DO;                                                          0870
*                                                                  0870
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP PREVIOUS PFTE TO POINT TO NEW PFT                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0871
*       PFTEPTR=PVTPFTP+PREVPFTE;                                  0871
         LR    @11,PREVPFTE                                        0871
         AL    @11,PVTPFTP(,RPVT)                                  0871
         ST    @11,PFTEPTR                                         0871
*       PFTFQPTR=RINEXT;            /* FORWARD CHAIN                 */
         STH   RINEXT,PFTFQPTR(,@11)                               0872
*     END;                                                         0873
*   ELSE                            /* FIRST PAGE                    */
*     PVTAFQF=RINEXT;               /* FIRST PFTE                    */
         B     @RC00869                                            0874
@RF00869 STH   RINEXT,PVTAFQF(,RPVT)                               0874
*   PFTEPTR=PVTPFTP+RINEXT;         /* ADDR. OF NEXT PFTE            */
@RC00869 LR    @11,RINEXT                                          0875
         AL    @11,PVTPFTP(,RPVT)                                  0875
         ST    @11,PFTEPTR                                         0875
*   PFTONAVQ=AVLPG;                 /* FLAG PAGE AS AVAILABLE        */
         OI    PFTONAVQ(@11),B'10000000'                           0876
*   PFTQNDX=PFTAFQN;                /* FLAG PAGE AS AVAILABLE        */
         MVI   PFTQNDX(@11),X'00'                                  0877
*   PFTBQPTR=PREVPFTE;              /* CHAIN PREVIOUS                */
         STH   PREVPFTE,PFTBQPTR(,@11)                             0878
*   PREVPFTE=RINEXT;                /* SAVE INDEX TO NEW PFTE        */
         LR    PREVPFTE,RINEXT                                     0879
*   PFTFQPTR=NOBPFT;                /* ZERO FORWARD PTR              */
         SLR   @09,@09                                             0880
         STH   @09,PFTFQPTR(,@11)                                  0880
*   PVTAFQL=RINEXT;                 /* PUT PFTE ON TOP OF AVAILABLE
*                                      QUEUE                         */
         STH   RINEXT,PVTAFQL(,RPVT)                               0881
*   PVTAFC=PVTAFC+ONEAV;            /* NUMBER OF AVAILABLE PAGES IN
*                                      PVT                           */
         LA    @11,1                                               0882
         AH    @11,PVTAFC(,RPVT)                                   0882
         STH   @11,PVTAFC(,RPVT)                                   0882
*   RETURN;                         /* TO CALLING ROUTINE            */
@EL00008 DS    0H                                                  0883
@EF00008 DS    0H                                                  0883
@ER00008 LM    @14,@11,12(@13)                                     0883
         BR    @14                                                 0883
*   RESPECIFY                                                      0884
*    (RNVT,                                                        0884
*     RCVT,                                                        0884
*     RPVT,                                                        0884
*     RINEXT) UNRESTRICTED;                                        0884
*   END NPXQPFTE;                   /* END SUBROUTINE                */
*RSUKEYWD:                                                         0886
*   PROC;                                                          0886
*                                                                  0886
RSUKEYWD STM   @14,@12,@SA00009                                    0886
*   /*****************************************************************/
*   /*                                                               */
*   /* ROUTINE WILL SCAN RSU SYSTEM PARAMETER AND SAVE VALUE FOR     */
*   /* PROCESSING WHEN PFTE'S ARE MARKED. IF AN ERROR IS DETECTED THE*/
*   /* OPERATOR WILL BE PROMPTED TO REENTER THE VALUE. IF RSU IS NOT */
*   /* SPECIFIED, A DEFAULT VALUE OF ZERO WILL BE ASSUMED            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0887
*   RFY                                                            0887
*    (RCVT,                                                        0887
*     RNVT) RSTD;                                                  0887
*RSUSCAN:                                                          0888
*   RSUPTR=NVTPTAB->RSU;            /* INPUT VALUE ADDR FROM PARMTAB
*                                                            @YD03005*/
*                                                                  0888
RSUSCAN  L     @12,NVTPTAB(,RNVT)                                  0888
         L     RSUPTR,RSU(,@12)                                    0888
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE IF RSU KEYWORD WAS SPECIFIED VALUE IS DEFAULTED TO  */
*   /* ZERO IF MP FEATURE IS NOT PRESENT OR RSU KEYWORD NOT          */
*   /* SPECIFIED.                                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0889
*   IF RSUPTR=0×NVTMP='0'B THEN     /* VALUE NOT SPEC OR UP  @YD03005*/
         LTR   RSUPTR,RSUPTR                                       0889
         BZ    @RT00889                                            0889
         TM    NVTMP(RNVT),B'00100000'                             0889
         BNZ   @RF00889                                            0889
@RT00889 DS    0H                                                  0890
*     RSUVALUE=0;                   /* DEFAULT RSU VALUE TO ZERO   0890
*                                                            @YD03005*/
         SLR   @12,@12                                             0890
         ST    @12,RSUVALUE                                        0890
*   ELSE                                                           0891
*     DO;                                                          0891
*                                                                  0891
         B     @RC00889                                            0891
@RF00889 DS    0H                                                  0892
*       /*************************************************************/
*       /*                                                           */
*       /* RSU VALUE WAS SPECIFIED, SCAN INPUT VALUE FOR PROPER      */
*       /* SYNTAX                                                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0892
*       IF RSUPARM='(' THEN         /* VALUE IN PARENS?      @YD03005*/
         CLI   RSUPARM(RSUPTR),C'('                                0892
         BNE   @RF00892                                            0892
*         RSUPTR=RSUPTR+1;          /* INCREMENT TO NEXT CHARACTER 0893
*                                                            @YD03005*/
         AH    RSUPTR,@CH00041                                     0893
*       IF(RSUPARM<'0'×RSUPARM>'9') THEN/* VALID CHAR?       @YD03005*/
@RF00892 CLI   RSUPARM(RSUPTR),C'0'                                0894
         BL    @RT00894                                            0894
         CLI   RSUPARM(RSUPTR),C'9'                                0894
         BH    @RT00894                                            0894
*         GOTO REPROMPT;            /* NO.. RESPECIFY.       @YD03005*/
*       RSUVALUE=RSUPARM-240;       /* SAVE FIRST CHARACHTER @YD03005*/
         SLR   @12,@12                                             0896
         IC    @12,RSUPARM(,RSUPTR)                                0896
         SH    @12,@CH03345                                        0896
         ST    @12,RSUVALUE                                        0896
*       RSUPTR=RSUPTR+1;            /* INCREMENT TO NEXT CHAR      0897
*                                                            @YD03005*/
*                                                                  0897
         LA    @12,1                                               0897
         ALR   RSUPTR,@12                                          0897
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR NEXT CHARACTER                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0898
*       IF RSUPARM^=')'&RSUPARM^='''' THEN/* LAST CHARACTER? @YD03005*/
*                                                                  0898
         CLI   RSUPARM(RSUPTR),C')'                                0898
         BE    @RF00898                                            0898
         CLI   RSUPARM(RSUPTR),C''''                               0898
         BE    @RF00898                                            0898
*         /***********************************************************/
*         /*                                                         */
*         /* CHECK SECOND CHARACTER                                  */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0899
*         DO;                                                      0899
*           IF(RSUPARM<'0'×RSUPARM>'9')×/* VALID CHARACTER?  @YD03005*/
*               (((RSUPTR+1)->RSUPARM^=')')&((RSUPTR+1)->RSUPARM^='''')
*               ) THEN                                             0900
         CLI   RSUPARM(RSUPTR),C'0'                                0900
         BL    @RT00900                                            0900
         CLI   RSUPARM(RSUPTR),C'9'                                0900
         BH    @RT00900                                            0900
         ALR   @12,RSUPTR                                          0900
         CLI   RSUPARM(@12),C')'                                   0900
         BE    @RF00900                                            0900
         CLI   RSUPARM(@12),C''''                                  0900
         BNE   @RT00900                                            0900
*             GOTO REPROMPT;        /* INVALID INPUT CHARACTERS    0901
*                                                            @YD03005*/
*           RSUVALUE=(RSUVALUE*10)+(RSUPARM-240);/* ADD SECOND CHAR
*                                                            @YD03005*/
@RF00900 L     @12,RSUVALUE                                        0902
         MH    @12,@CH03348                                        0902
         SLR   @11,@11                                             0902
         IC    @11,RSUPARM(,RSUPTR)                                0902
         SH    @11,@CH03345                                        0902
         ALR   @12,@11                                             0902
         ST    @12,RSUVALUE                                        0902
*         END;                                                     0903
*     END;                                                         0904
*   GOTO RSUEND;                    /*                       @YD03005*/
         B     RSUEND                                              0905
*REPROMPT:                                                         0906
*                                                                  0906
*   /*****************************************************************/
*   /*                                                               */
*   /* REPROMPT THE OPERATOR FOR A VALID RSU VALUE                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0906
*   GEN REFS(RSUCHAR,NVTPRMPT)                                     0906
*       (IEAPMNIP TYPE=PRMPT,PARAM=RSUCHAR,OPT=ERROR);/*     @YD03005*/
REPROMPT IEAPMNIP TYPE=PRMPT,PARAM=RSUCHAR,OPT=ERROR
*   GOTO RSUSCAN;                   /* GO RESCAN INPUT       @YD03005*/
         B     RSUSCAN                                             0907
*RSUEND:                                                           0908
*   END;                                                           0908
@EL00009 DS    0H                                                  0908
@EF00009 DS    0H                                                  0908
@ER00009 LM    @14,@12,@SA00009                                    0908
         BR    @14                                                 0908
*   END IEAVNIPX                    /* END OF PROCEEDURE             */
*                                                                  0909
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (IHAPIE  )                                       */
*/*%INCLUDE SYSLIB  (IHALDA  )                                       */
*/*%INCLUDE SYSLIB  (IHACDE  )                                       */
*/*%INCLUDE SYSLIB  (IHAFQE  )                                       */
*/*%INCLUDE SYSLIB  (IHADQE  )                                       */
*/*%INCLUDE SYSLIB  (IHAFBQE )                                       */
*/*%INCLUDE SYSLIB  (IHAGDA  )                                       */
*/*%INCLUDE SYSLIB  (IHALLE  )                                       */
*/*%INCLUDE SYSLIB  (IHAASXB )                                       */
*/*%INCLUDE SYSLIB  (IHAWSAVT)                                       */
*/*%INCLUDE SYSLIB  (IHASCB  )                                       */
*/*%INCLUDE SYSLIB  (IHANVT  )                                       */
*/*%INCLUDE SYSLIB  (IEAPPNIP)                                       */
*/*%INCLUDE SYSLIB  (IHAPFTE )                                       */
*/*%INCLUDE SYSLIB  (IHAPGTE )                                       */
*/*%INCLUDE SYSLIB  (IHAPQE  )                                       */
*/*%INCLUDE SYSLIB  (IHAASCB )                                       */
*/*%INCLUDE SYSLIB  (IHAPVT  )                                       */
*/*%INCLUDE SYSLIB  (IHARSMHD)                                       */
*/*%INCLUDE SYSLIB  (IHAPCCA )                                       */
*/*%INCLUDE SYSLIB  (IQADSV  )                                       */
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */
*/*%INCLUDE SYSLIB  (IHASCVT )                                       */
*/*%INCLUDE SYSLIB  (IHASGTE )                                       */
*/*%INCLUDE SYSLIB  (IHASPQE )                                       */
*/*%INCLUDE SYSLIB  (IKJTCB  )                                       */
*/*%INCLUDE SYSLIB  (IHALPDE )                                       */
*/*%INCLUDE SYSLIB  (IHAXTLST)                                       */
*/*%INCLUDE SYSLIB  (IEAPMNIP)                                       */
*/*%INCLUDE SYSLIB  (IHAXPTE )                                       */
*/*%INCLUDE SYSLIB  (CVT     )                                       */
*/*%INCLUDE SYSLIB  (IEAPXNIP)                                       */
*                                                                  0909
*       ;                                                          0909
@DATA    DS    0H
@CH00041 DC    H'1'
@CH00241 DC    H'2'
@CH00093 DC    H'4'
@CH00067 DC    H'8'
@CH03348 DC    H'10'
@CH00089 DC    H'15'
@CH03352 DC    H'20'
@CH03345 DC    H'240'
@CH03262 DC    H'2048'
         DS    0F
@SA00001 DS    18F
@SA00002 DS    15F
@SA00009 DS    15F
         DS    0F
@CF00057 DC    F'16'
@CH00057 EQU   @CF00057+2
@CF00059 DC    F'204800'
@CF03361 DC    BL4'10000000000000000000000000000000'
         DS    0D
LDAPTR   DS    A
GDAPTR   DS    A
LCCACPUS DS    A
DSVPTR   DS    A
TCBPTR   DS    A
XPTEPTR  DS    A
SYSEPARM DS    FL4
         ORG   SYSEPARM
POOLCNT  DS    FL2
AFCCNT   DS    FL2
         ORG   SYSEPARM+4
NPXSNXT1 DS    A
NPXSNXT2 DS    A
NEWLSQA  DS    A
RSUVALUE DS    F
MODADDR  DS    A
LOWCSA   DS    A
OSGTEP   DS    A
@CC00073 DC    C'IFG019RA'
@CC00075 DC    C'IDDWI   '
@CC00077 DC    C'IFG0TC0A'
@CC00079 DC    C'IDAVBPP1'
@CC00081 DC    C'IGARPT01'
@CB00099 DC    X'FF0F'
@CB00101 DC    X'00F0'
@CB00103 DC    X'070A'
         DS    CL2
MODNAME  DS    CL8
RSUCHAR  DC    CL8'RSU     '
IEAVNIPX CSECT
****************************************************************
*                PARAMETER LISTS FOR WTO AND WTOR              *
****************************************************************
IEA363I  DS   0H
         IEAPMNIP   TYPE=HEADER,MSGST=IEA363I,MSGEND=MSG63E
         DC     C'IEA363I '
MSGMODNM DS     8C
         DC     C' NOT FOUND IN LPA'  MESSAGE TEXT
MSG63E   EQU    *
*
*************  PARAMETER LISTS FOR NIP WTORS *******
*
SPESIZE  EQU   8                       SIZE OF NIP SPE
SPQSIZE  EQU   16                      SIZE OF SPQE
SPQSIZE2 EQU   32                      SIZE OF TWO SPQES
LLESIZE  EQU   12                      SIZE OF LLE
CDESIZE  EQU   32                      SIZE OF CDE
LPGT     EQU   32                      SIZE OF PAGE TABLE
LXPTE    EQU   192                     SIZE OF XPTE TABLE     @ZA20383
LPGTXPT  EQU   LPGT+LXPTE              SIZE OF PAGE AND XPTE TABLES
*                                                             @ZA20383
SAVAREAS EQU   72                      SAVE AREA SIZE
SP239    EQU   239                     SUBPOOL 239
SP245    EQU   245                     SUBPOOL 245
SP251    EQU   251                     SUBPOOL 251
SP252    EQU   252                     SUBPOOL 252
SP255    EQU   255                     SUBPOOL 255
MAXM     EQU   256                     MAX BYTES PER MVC
REGMAIN  EQU   10                      SVC 10
ZERO     EQU   0                       FOR EXECUTABLE MVC
EDITL    EQU   6                       LENGTH FOR EDIT INSTR.
CVDOFF   EQU   5                       OFFSET FOR EDIT INSTR.
MAXPCT   EQU   4                       MAX BYTES IN
*                                      SYSTEM PARAMETER
NPXBSEDL EQU   4095                    DIFFERENCE BETWEEN BASE REGS
CVTPTR EQU   16                        CVT BASE FOR FREEMAIN MACRO
IEAVNIPX CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
LOOPCNT  EQU   @04
NUCTOP   EQU   @12
FREESTOR EQU   @04
TEMPTR   EQU   @04
CELLPTR  EQU   @11
RSUPTR   EQU   @05
PREVPFTE EQU   @12
NIPTOP   EQU   @11
OFFSET   EQU   @12
NPXSNEXT EQU   @11
SCBPTR   EQU   @04
RSVCTAB  EQU   @04
B1       EQU   @10
B2       EQU   @06
RPARM0   EQU   @00
RPARM    EQU   @01
PIEPTR   EQU   @01
RNVT     EQU   @02
R2       EQU   @02
RCVT     EQU   @03
R3       EQU   @03
R4       EQU   @04
BLKADDR  EQU   @04
PQESEPTR EQU   @05
PVTPTR   EQU   @05
RPQE     EQU   @05
RPVT     EQU   @05
RSPE     EQU   @05
RTCB     EQU   @05
R5       EQU   @05
DQESEPTR EQU   @07
FQESEPTR EQU   @07
RINEXT   EQU   @07
RMODEBR  EQU   @07
R7       EQU   @07
RPGT     EQU   @07
RSIZE    EQU   @07
SCVTSPTR EQU   @07
SPQESPTR EQU   @07
CDENTPTR EQU   @08
LLEPTR   EQU   @08
R8       EQU   @08
PTEPTR   EQU   @08
RMODEC   EQU   @08
RQADR    EQU   @08
RCURR    EQU   @08
R9       EQU   @09
RNSPE    EQU   @09
RSCAN    EQU   @09
RNAME    EQU   @09
NEWKEY   EQU   @09
RSMHDPTR EQU   @09
RLINKA   EQU   @10
LPDEPTR  EQU   @11
RETCDE   EQU   @11
R11      EQU   @11
R12      EQU   @12
R13      EQU   @13
R14      EQU   @14
RCODE    EQU   @15
R15      EQU   @15
REXIT    EQU   @14
RENTRY   EQU   @15
PIE      EQU   0
PIEPICA  EQU   PIE
PIEFLGS  EQU   PIEPICA
LDA      EQU   0
LVSMFLAG EQU   LDA
ASDPQE   EQU   LDA+8
LSQAPTR  EQU   LDA+1464
CURRGNTP EQU   LDA+1472
LDASRPQE EQU   LDA+1476
LDARSVPT EQU   LDA+1480
LCLCELL  EQU   LDA+1488
CDENTRY  EQU   0
CDCHAIN  EQU   CDENTRY
CDENTPT  EQU   CDENTRY+16
CDXLMJP  EQU   CDENTRY+20
CDATTR   EQU   CDENTRY+28
CDATTR2  EQU   CDENTRY+29
CDXLE    EQU   CDATTR2
FQESECT  EQU   0
FQEPTR   EQU   FQESECT
FQTYPE   EQU   FQEPTR
FQEPTRA  EQU   FQEPTR+1
DQESECT  EQU   0
DQFQEPTR EQU   DQESECT
DQEPTR   EQU   DQESECT+4
DQEBLKAD EQU   DQESECT+8
FBQESECT EQU   0
FWDPTR   EQU   FBQESECT
BCKPTR   EQU   FBQESECT+4
SIZE     EQU   FBQESECT+8
FBQAREA  EQU   FBQESECT+12
GDA      EQU   0
GVSMFLAG EQU   GDA
GDAFLAGS EQU   GVSMFLAG
CSAPQEP  EQU   GDA+8
PASTRT   EQU   GDA+16
PASIZE   EQU   GDA+20
VRPOSTQ  EQU   GDA+32
VRWAITQ  EQU   GDA+40
LLE      EQU   0
LLECHN   EQU   LLE
ASXB     EQU   0
ASXBSPSA EQU   ASXB+112
ASXBAEQ  EQU   ASXB+168
ASXBSECR EQU   ASXB+199
ASCBSFLG EQU   ASXBSECR
ASXBCASW EQU   ASXB+216
ASXBCRB1 EQU   ASXBCASW
WSAL     EQU   0
WSALSTAE EQU   WSAL+44
WSAG     EQU   0
WSAC     EQU   0
SCB      EQU   0
SCBCHAIN EQU   SCB
SCBPARM  EQU   SCB+8
SCBFLGS1 EQU   SCBPARM
SCBIOPRC EQU   SCBFLGS1
SCBOWNR  EQU   SCB+12
SCBFLGS2 EQU   SCBOWNR
SCBDATA  EQU   SCB+16
SCBFLGS3 EQU   SCBDATA
NVT      EQU   0
NVTNPATR EQU   NVT+54
NVTNPREN EQU   NVTNPATR
NVTFLLB  EQU   NVT+55
NVTMSTCB EQU   NVT+56
NVTCMTCB EQU   NVT+60
NVTMASCB EQU   NVT+64
NVTMSLNK EQU   NVT+92
NVTMFA   EQU   NVT+100
NVTLSQNO EQU   NVT+130
NVTABSAV EQU   NVT+140
NVTALSQA EQU   NVT+160
NVTLSPQE EQU   NVT+164
NVTMFASA EQU   NVT+168
NVTRTMSA EQU   NVT+172
NVTNUCND EQU   NVT+180
NVTVVPG1 EQU   NVT+188
NVTNXPTR EQU   NVT+204
NVTTRACE EQU   NVT+208
NVTFLCN  EQU   NVT+211
NVTMP    EQU   NVTFLCN
NVTWTPSW EQU   NVT+224
NVTWPSW2 EQU   NVTWTPSW+4
NVTFLWSC EQU   NVTWPSW2+3
NVTLOAD  EQU   NVT+232
NVTSENSE EQU   NVT+236
NVTSWAIT EQU   NVT+240
NVTTIME  EQU   NVT+244
NVTUCBFN EQU   NVT+248
NVTWTO   EQU   NVT+252
NVTWTOR  EQU   NVT+256
NVTWTOR2 EQU   NVT+260
NVTOPEN  EQU   NVT+264
NVTMOUNT EQU   NVT+268
NVTPRMPT EQU   NVT+272
NVTVIRT  EQU   NVT+276
NVTREAL  EQU   NVT+280
NVTSCHED EQU   NVT+284
NVTOPIO  EQU   NVT+288
NVTSPE   EQU   NVT+344
NVTPTAB  EQU   NVT+372
NVTXCTL  EQU   NVT+428
NVTLOCAT EQU   NVT+436
NVTVPQE  EQU   NVT+452
NVTVMSS  EQU   NVT+456
NVTFASVT EQU   NVT+504
NVTREALR EQU   NVT+508
NVTFLPO  EQU   NVT+528
NIPPAHDR EQU   0
NIPPAREA EQU   0
NIPPABDL EQU   NIPPAREA+12
NIPPABDH EQU   NIPPABDL
NIPPAIOD EQU   NIPPAREA+32
NIPPAECB EQU   NIPPAIOD+84
PARMTAB  EQU   0
@NM00069 EQU   PARMTAB+272
NIPPAFLG EQU   @NM00069
RSU      EQU   PARMTAB+280
NIPPTE   EQU   0
NIPPTOPF EQU   NIPPTE+4
NIPPTATF EQU   NIPPTE+5
PFTE     EQU   0
PFTPGID  EQU   PFTE
PFTVBN   EQU   PFTPGID+2
PFTQPTRS EQU   PFTE+4
PFTFQPTR EQU   PFTQPTRS
PFTBQPTR EQU   PFTQPTRS+2
PFTFXCT  EQU   PFTE+8
PFTFLAG1 EQU   PFTE+12
PFTONAVQ EQU   PFTFLAG1
PFTVRALC EQU   PFTFLAG1
PFTFLAG2 EQU   PFTE+13
PFTOFFLN EQU   PFTFLAG2
PFTVR    EQU   PFTFLAG2
PFTPREF  EQU   PFTFLAG2
PFTQNDX  EQU   PFTE+14
PGTPTE   EQU   0
PGTRSA   EQU   PGTPTE
PGTBITS  EQU   PGTRSA+1
PGTPVM   EQU   PGTBITS
PGTPAM   EQU   PGTBITS
PQESECT  EQU   0
PQEFFBQE EQU   PQESECT
PQEBFBQE EQU   PQESECT+4
PQEFPQE  EQU   PQESECT+8
PQETCB   EQU   PQESECT+16
PQESIZE  EQU   PQESECT+20
PQEREGN  EQU   PQESECT+24
VMMFLGS  EQU   PQESECT+30
ASCB     EQU   0
ASCBSUPC EQU   ASCB+16
ASCBSTOR EQU   ASCB+44
ASCBLDA  EQU   ASCB+48
ASCBRSM  EQU   ASCB+52
ASCBRSMF EQU   ASCBRSM
ASCB2LPU EQU   ASCBRSMF
ASCBFW1  EQU   ASCB+100
ASCBRCTF EQU   ASCBFW1+2
ASCBFLG1 EQU   ASCBFW1+3
ASCBASXB EQU   ASCB+108
ASCBDSP1 EQU   ASCB+114
ASCBFLG2 EQU   ASCB+115
ASCBLKGP EQU   ASCB+128
ASCBSRQ  EQU   ASCB+180
ASCBSRQ1 EQU   ASCBSRQ
ASCBSRQ2 EQU   ASCBSRQ+1
ASCBSRQ3 EQU   ASCBSRQ+2
ASCBSRQ4 EQU   ASCBSRQ+3
PVT      EQU   0
PVTFLAG1 EQU   PVT
PVTAFC   EQU   PVT+2
PVTAFCOK EQU   PVT+6
PVTPOOL  EQU   PVT+8
PVTPFTP  EQU   PVT+12
PVTFPFN  EQU   PVT+16
PVTLPFN  EQU   PVT+18
PVTFVR   EQU   PVT+20
PVTLVR   EQU   PVT+22
PVTRSUS  EQU   PVT+44
PVTPCIWA EQU   PVT+64
PVTPINV  EQU   PVT+172
PVTQS    EQU   PVT+304
PVTAFQF  EQU   PVTQS
PVTAFQL  EQU   PVTQS+2
PVTWSAX  EQU   PVT+344
PVTPERFX EQU   PVT+1820
PVTMAXFX EQU   PVT+1822
PVTPEROK EQU   PVT+1824
PVTFIXOK EQU   PVT+1826
PVTCNTFX EQU   PVT+1830
PVTSQAFX EQU   PVT+1832
PVTCOMFX EQU   PVT+1834
RSMHD    EQU   0
RSMVSTO  EQU   RSMHD
RSMFLG1  EQU   RSMHD+12
RSMCNTFX EQU   RSMHD+14
RSMQS    EQU   RSMHD+20
RSMLFQ   EQU   RSMQS
RSMLSQA  EQU   RSMQS+4
RSMLIOQ  EQU   RSMQS+8
PCCA     EQU   0
PCCAPSAV EQU   PCCA+24
PCCATMST EQU   PCCA+128
PCCATMFL EQU   PCCATMST
PCCATODE EQU   PCCATMST+1
PCCACCE  EQU   PCCATMST+2
PCCAINTE EQU   PCCATMST+3
PCCAEMSB EQU   PCCA+136
PCCAEMSI EQU   PCCAEMSB
PCCARISP EQU   PCCAEMSI
PCCAEMS2 EQU   PCCAEMSI+1
PCCAEMS3 EQU   PCCAEMSI+2
PCCARMSB EQU   PCCAEMSI+3
PCCAWERP EQU   PCCA+280
PCCACHPF EQU   PCCAWERP+4
PCCACHBL EQU   PCCAWERP+5
PCCACHVA EQU   PCCAWERP+6
PCCACHTS EQU   PCCAWERP+7
PCCACHS1 EQU   PCCA+288
PCCACHS2 EQU   PCCA+289
PCCACHRB EQU   PCCA+290
PCCACHF1 EQU   PCCA+308
PCCACHF2 EQU   PCCA+309
PCCACHF3 EQU   PCCA+310
PCCACHF4 EQU   PCCA+311
PCCAATTR EQU   PCCA+376
DSV      EQU   0
DSVFLG1  EQU   DSV+3
DSVLOCK  EQU   DSV+52
DSVICCCW EQU   DSV+56
DSVNUIOC EQU   DSV+92
DSVDSTCB EQU   DSV+104
DSVCATST EQU   DSV+164
DSVCATEN EQU   DSV+196
DSVNONM  EQU   DSV+204
DSVNONME EQU   DSV+268
DSVRONM  EQU   DSV+276
DSVRONME EQU   DSV+292
DSVDONE  EQU   DSV+320
DSVREST  EQU   DSV+321
DSVERROR EQU   DSV+322
PSA      EQU   0
FLCRNPSW EQU   PSA
FLCROPSW EQU   PSA+8
FLCICCW2 EQU   PSA+16
FLCTRACE EQU   PSA+84
PSAEEPSW EQU   PSA+132
PSAESPSW EQU   PSA+136
FLCSVILC EQU   PSAESPSW+1
PSAEPPSW EQU   PSA+140
FLCPIILC EQU   PSAEPPSW+1
FLCPICOD EQU   PSAEPPSW+2
PSAPICOD EQU   FLCPICOD+1
FLCTEA   EQU   PSAEPPSW+4
FLCPER   EQU   PSA+152
FLCMCLA  EQU   PSA+168
FLCIOEL  EQU   FLCMCLA+4
FLCIOA   EQU   FLCMCLA+16
FLCFSA   EQU   FLCMCLA+80
PSAPCCAV EQU   PSA+520
PSASUPER EQU   PSA+552
PSASUP1  EQU   PSASUPER
PSASUP2  EQU   PSASUPER+1
PSASUP3  EQU   PSASUPER+2
PSASUP4  EQU   PSASUPER+3
PSACLHT  EQU   PSA+640
PSALKSA  EQU   PSA+696
PSAHLHI  EQU   PSA+760
PSALITA  EQU   PSA+764
PSADSSFL EQU   PSA+836
PSADSSF1 EQU   PSADSSFL
PSADSSF3 EQU   PSADSSFL+2
PSADSSF4 EQU   PSADSSFL+3
PSARSVT  EQU   PSA+896
SCVTSECT EQU   0
SCVTRMBR EQU   SCVTSECT+28
SCVTRPTR EQU   SCVTSECT+64
SCVTSVCT EQU   SCVTSECT+132
SGTSTE   EQU   0
SGTLK    EQU   SGTSTE
SGTPTO   EQU   SGTSTE+1
SGTBYTE  EQU   SGTPTO+2
SGTPAM   EQU   SGTBYTE
SPQESECT EQU   0
SPQEAD   EQU   SPQESECT
SPDQEPTR EQU   SPQESECT+4
SPDQEAD  EQU   SPDQEPTR
SPQEFLGS EQU   SPQESECT+8
TCBFIX   EQU   0
TCBFRS   EQU   TCBFIX
TCB      EQU   0
TCBPIE   EQU   TCB+4
TCBPMASK EQU   TCBPIE
TCBCMP   EQU   TCB+16
TCBCMPF  EQU   TCBCMP
TCBCPP   EQU   TCBCMPF
TCBSTCC  EQU   TCBCMPF
TCBCDBL  EQU   TCBCMPF
TCBCWTO  EQU   TCBCMPF
TCBCIND  EQU   TCBCMPF
TCBCMSG  EQU   TCBCMPF
TCBTRN   EQU   TCB+20
TCBABF   EQU   TCBTRN
TCBMSS   EQU   TCB+24
TCBPKF   EQU   TCB+28
TCBFLGS  EQU   TCB+29
TCBFLGS1 EQU   TCBFLGS
TCBFLGS2 EQU   TCBFLGS+1
TCBFLGS3 EQU   TCBFLGS+2
TCBFLGS4 EQU   TCBFLGS+3
TCBFLGS5 EQU   TCBFLGS+4
TCBABWF  EQU   TCBFLGS5
TCBLLS   EQU   TCB+36
TCBJPQ   EQU   TCB+44
TCBPURGE EQU   TCBJPQ
TCBJPQB  EQU   TCBJPQ+1
TCBGRS   EQU   TCB+48
TCBFSA   EQU   TCB+112
TCBTME   EQU   TCB+120
TCBJSTCB EQU   TCB+124
TCBTSFLG EQU   TCB+148
TCBTSTSK EQU   TCBTSFLG
TCBPQE   EQU   TCB+152
TCBSTAB  EQU   TCB+160
TCBNSTAE EQU   TCBSTAB
TCBTCT   EQU   TCB+164
TCBTCTGF EQU   TCBTCT
TCBSCNDY EQU   TCB+172
TCBNDSP  EQU   TCBSCNDY
TCBNDSP1 EQU   TCBNDSP+1
TCBNDSP2 EQU   TCBNDSP+2
TCBNDSP3 EQU   TCBNDSP+3
TCBJSCB  EQU   TCB+180
TCBRECDE EQU   TCBJSCB
TCBEXT1  EQU   TCB+196
TCBBITS  EQU   TCB+200
TCBNDSP4 EQU   TCBBITS
TCBNDSP5 EQU   TCBBITS+1
TCBFLGS6 EQU   TCBBITS+2
TCBRV    EQU   TCBFLGS6
TCBFLGS7 EQU   TCBBITS+3
TCBDAR   EQU   TCB+204
TCBDARC  EQU   TCBDAR
TCBEXT2  EQU   TCB+208
TCBXSCT  EQU   TCB+240
TCBXSCT1 EQU   TCBXSCT
TCBFOE   EQU   TCB+244
TCBESTAE EQU   TCB+264
TCBESTRM EQU   TCBESTAE+1
TCBFBYT1 EQU   TCB+276
TCBFBYT2 EQU   TCB+277
TCBRV124 EQU   TCB+278
TCBRV133 EQU   TCB+279
TCBXTNT2 EQU   0
TCBGTF   EQU   TCBXTNT2
TCBTFLG  EQU   TCBGTF
TCBRV146 EQU   TCBXTNT2+28
TCBRV155 EQU   TCBXTNT2+29
TCBRV164 EQU   TCBXTNT2+30
TCBRV173 EQU   TCBXTNT2+31
LPDE     EQU   0
LPDENTP  EQU   LPDE+16
LPDEATTR EQU   LPDE+28
LPDEATT2 EQU   LPDE+29
LPDEMJNM EQU   LPDE+32
XTLST    EQU   0
XTLLNTH  EQU   XTLST
XTLMSBLA EQU   XTLST+8
XTLMSBAA EQU   XTLST+12
NWTOHDR  EQU   0
NWTOFL   EQU   NWTOHDR+2
NWTORLST EQU   0
NWTORFL  EQU   NWTORLST+10
NIPSPE   EQU   0
NIPSPEQ  EQU   NIPSPE
NIPSPEA  EQU   NIPSPE+4
NIPMNTPL EQU   0
NMNTDS   EQU   NIPMNTPL
NMNTVS   EQU   NIPMNTPL+12
NMNTFL   EQU   NIPMNTPL+20
NIPOPNPL EQU   0
NOPNDS   EQU   NIPOPNPL
NOPNFL   EQU   NIPOPNPL+20
NIPSCHDL EQU   0
XPTE     EQU   0
XPTFLAGS EQU   XPTE+2
XPTFLAG2 EQU   XPTE+3
XPTLPID  EQU   XPTE+4
XPTLGN   EQU   XPTLPID
XPTLPN   EQU   XPTLPID+4
CVTMAP   EQU   0
CVT      EQU   CVTMAP
CVTBTERM EQU   CVTMAP+52
CVTDAR   EQU   CVTMAP+72
CVTFLGS1 EQU   CVTDAR
CVTDCB   EQU   CVTMAP+116
CVTIOQET EQU   CVTMAP+120
CVTIERLC EQU   CVTMAP+144
CVTHEAD  EQU   CVTMAP+160
CVTSV76C EQU   CVTHEAD
CVTOPTA  EQU   CVTMAP+182
CVTOPTB  EQU   CVTMAP+183
CVTQCDSR EQU   CVTMAP+184
CVTQLPAQ EQU   CVTMAP+188
CVTABEND EQU   CVTMAP+200
CVTGTF   EQU   CVTMAP+236
CVTGTFST EQU   CVTGTF
CVTGTFS  EQU   CVTGTFST
CVTSTATE EQU   CVTGTFST
CVTTMODE EQU   CVTGTFST
CVTFORM  EQU   CVTGTFST
CVTAQAVT EQU   CVTMAP+240
CVTTCMFG EQU   CVTAQAVT
CVTVOLM2 EQU   CVTMAP+244
CVTTATA  EQU   CVTVOLM2
CVTTSKS  EQU   CVTTATA
CVTVOLF2 EQU   CVTTSKS
CVTTAT   EQU   CVTTATA+1
CVTATER  EQU   CVTMAP+248
CVTEXT1  EQU   CVTMAP+252
CVTPURG  EQU   CVTMAP+260
CVTQMSG  EQU   CVTMAP+268
CVTDMSR  EQU   CVTMAP+272
CVTRSV37 EQU   CVTDMSR
CVTDMSRF EQU   CVTRSV37
CVTREAL  EQU   CVTMAP+284
CVTERPV  EQU   CVTMAP+316
CVTINTLA EQU   CVTMAP+320
CVTAPF   EQU   CVTMAP+324
CVTEXT2  EQU   CVTMAP+328
CVTHJES  EQU   CVTMAP+332
CVTPGSIA EQU   CVTMAP+348
CVTA1F1  EQU   CVTMAP+356
CVTSYSK  EQU   CVTMAP+357
CVTVOLM1 EQU   CVTMAP+380
CVTVOLF1 EQU   CVTVOLM1
CVTXTNT1 EQU   0
CVTXTNT2 EQU   0
CVTDSSV  EQU   CVTXTNT2
CVTDSSVA EQU   CVTDSSV+1
CVTFLGBT EQU   CVTXTNT2+5
CVTQID   EQU   CVTXTNT2+24
CVTRV400 EQU   CVTXTNT2+52
CVTRV409 EQU   CVTXTNT2+53
CVTATCVT EQU   CVTXTNT2+64
CVTRV429 EQU   CVTXTNT2+84
CVTRV438 EQU   CVTXTNT2+85
CVTRV457 EQU   CVTXTNT2+112
CVTRV466 EQU   CVTXTNT2+113
CVTFIX   EQU   0
CVTRELNO EQU   CVTFIX+252
NPXMFA   EQU   0
RSUPARM  EQU   0
CHAINPTR EQU   0
@NM00169 EQU   0
SCBFREEQ EQU   @NM00169+108
TRHDR    EQU   0
TRPTR    EQU   TRHDR
TRBEG    EQU   TRHDR+4
TREND    EQU   TRHDR+8
TRSIZE   EQU   TRHDR+12
TRSBPOOL EQU   TRSIZE
TRLEN    EQU   TRSIZE+1
IPLDATA  EQU   0
GENLIST  EQU   0
OLDTRACE EQU   0
NEWTRACE EQU   0
PCCAVT   EQU   0
SVCABD   EQU   104
SVCLOCAT EQU   208
PGTEND   EQU   0
SGTEND   EQU   0
VIRTPFN  EQU   VIRTADDR+1
VIRTA1   EQU   VIRTPFN
VIRTA2   EQU   VIRTPFN+1
RESLOW   EQU   RESTABLE
RESHI    EQU   RESTABLE+4
ASXBPTR  EQU   ASCBASXB
PCCAPTR  EQU   PSAPCCAV
PSARSVTE EQU   PSARSVT
CVTS01   EQU   CVTPGSIA
CVTLPDSR EQU   CVTS01+4
CVTPVTP  EQU   CVTS01+8
CVTLPDIA EQU   CVTS01+12
CVTDIRST EQU   CVTLPDIA
CVTSLIDA EQU   CVTS01+24
CVTCTLFG EQU   CVTS01+50
CVTTRACE EQU   CVTS01+52
CVTOPTE  EQU   CVTS01+188
CVTASVT  EQU   CVTS01+208
CVTGDA   EQU   CVTS01+212
CVTSPSA  EQU   CVTS01+336
CVTPCCAT EQU   CVTS01+416
CVTRV210 EQU   CVTS01+424
CVTRV219 EQU   CVTS01+425
CVTRV228 EQU   CVTS01+426
CVTRV237 EQU   CVTS01+427
CVTPWI   EQU   CVTS01+440
CVTPVBP  EQU   CVTS01+444
CVTMFRTR EQU   CVTS01+452
CVTRV262 EQU   CVTS01+468
CVTRV271 EQU   CVTS01+469
CVTRV280 EQU   CVTS01+470
CVTRV289 EQU   CVTS01+471
CVTTRCA  EQU   CVTS01+472
CVTRMBR  EQU   CVTS01+492
CVT0TC0A EQU   CVTS01+504
CVTRPT   EQU   CVTS01+584
CVTGSDA  EQU   CVTS01+600
CVTCBBR  EQU   CVTS01+624
ESTAEWRK EQU   WSALSTAE
FLC      EQU   PSA
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
CVTRV628 EQU   CVTS01+728
CVTRV627 EQU   CVTS01+724
CVTRV626 EQU   CVTS01+720
CVTRV625 EQU   CVTS01+716
CVTRV624 EQU   CVTS01+712
CVTRV623 EQU   CVTS01+708
CVTRV622 EQU   CVTS01+704
CVTRV621 EQU   CVTS01+700
CVTIHASU EQU   CVTS01+696
CVTSUSP  EQU   CVTS01+692
CVTT6SVC EQU   CVTS01+688
CVTCDAL  EQU   CVTS01+684
CVTTCTL  EQU   CVTS01+680
CVTRSUME EQU   CVTS01+676
CVTJTERM EQU   CVTS01+672
CVTASMRM EQU   CVTS01+668
CVTTCASP EQU   CVTS01+664
CVT0PT03 EQU   CVTS01+660
CVT0PT0E EQU   CVTS01+656
CVTRV609 EQU   CVTS01+652
CVTCGK   EQU   CVTS01+648
CVTRAC   EQU   CVTS01+644
CVTHSM   EQU   CVTS01+640
CVTRV605 EQU   CVTS01+636
CVTRV604 EQU   CVTS01+632
CVTEFF02 EQU   CVTS01+628
CVTSSCR  EQU   CVTS01+620
CVTEVENT EQU   CVTS01+616
CVTCRCA  EQU   CVTS01+612
CVTTPIO  EQU   CVTS01+608
CVTADV   EQU   CVTS01+604
CVTGSDAB EQU   CVTGSDA
CVTQV3   EQU   CVTS01+596
CVTQV2   EQU   CVTS01+592
CVTQV1   EQU   CVTS01+588
CVTSSRB  EQU   CVTS01+580
CVTCSDRL EQU   CVTS01+576
CVTEXP1  EQU   CVTS01+572
CVTRMPMT EQU   CVTS01+568
CVTRMPTT EQU   CVTS01+564
CVTVPSA  EQU   CVTS01+560
CVTVSTOP EQU   CVTS01+556
CVTGTFR8 EQU   CVTS01+552
CVTQUIT  EQU   CVTS01+548
CVTVACR  EQU   CVTS01+544
CVTWTCB  EQU   CVTS01+540
CVTSTPRS EQU   CVTS01+536
CVT0PT02 EQU   CVTS01+532
CVTDARCM EQU   CVTS01+528
CVTIRECM EQU   CVTS01+524
CVTJRECM EQU   CVTS01+520
CVTVEMS0 EQU   CVTS01+516
CVTSPFRR EQU   CVTS01+512
CVTRLSTG EQU   CVTS01+508
CVTGMBR  EQU   CVTS01+500
CVTLFRM  EQU   CVTS01+496
CVTVIOP  EQU   CVTS01+488
CVTRV307 EQU   CVTS01+486
CVTRV306 EQU   CVTS01+484
CVTRV305 EQU   CVTS01+482
CVTRV304 EQU   CVTS01+480
CVTRV303 EQU   CVTS01+478
CVTRV302 EQU   CVTS01+476
CVTRV297 EQU   CVTRV289
CVTRV296 EQU   CVTRV289
CVTRV295 EQU   CVTRV289
CVTRV294 EQU   CVTRV289
CVTRV293 EQU   CVTRV289
CVTRV292 EQU   CVTRV289
CVTRV291 EQU   CVTRV289
CVTRV290 EQU   CVTRV289
CVTRV288 EQU   CVTRV280
CVTRV287 EQU   CVTRV280
CVTRV286 EQU   CVTRV280
CVTRV285 EQU   CVTRV280
CVTRV284 EQU   CVTRV280
CVTRV283 EQU   CVTRV280
CVTRV282 EQU   CVTRV280
CVTRV281 EQU   CVTRV280
CVTRV279 EQU   CVTRV271
CVTRV278 EQU   CVTRV271
CVTRV277 EQU   CVTRV271
CVTRV276 EQU   CVTRV271
CVTRV275 EQU   CVTRV271
CVTRV274 EQU   CVTRV271
CVTRV273 EQU   CVTRV271
CVTRV272 EQU   CVTRV271
CVTRV270 EQU   CVTRV262
CVTRV269 EQU   CVTRV262
CVTRV268 EQU   CVTRV262
CVTRV267 EQU   CVTRV262
CVTRV266 EQU   CVTRV262
CVTRV265 EQU   CVTRV262
CVTRV264 EQU   CVTRV262
CVTRV263 EQU   CVTRV262
CVTVFP   EQU   CVTS01+464
CVTVSI   EQU   CVTS01+460
CVTVPSIB EQU   CVTS01+456
CVTMFACT EQU   CVTMFRTR
CVTMFCTL EQU   CVTS01+448
CVTRV254 EQU   CVTS01+438
CVTRV253 EQU   CVTS01+436
CVTRV252 EQU   CVTS01+434
CVTRV251 EQU   CVTS01+433
CVTRV250 EQU   CVTS01+432
CVTRV249 EQU   CVTS01+431
CVTRV248 EQU   CVTS01+430
CVTRV247 EQU   CVTS01+429
CVTRV246 EQU   CVTS01+428
CVTRV245 EQU   CVTRV237
CVTRV244 EQU   CVTRV237
CVTRV243 EQU   CVTRV237
CVTRV242 EQU   CVTRV237
CVTRV241 EQU   CVTRV237
CVTRV240 EQU   CVTRV237
CVTRV239 EQU   CVTRV237
CVTRV238 EQU   CVTRV237
CVTRV236 EQU   CVTRV228
CVTRV235 EQU   CVTRV228
CVTRV234 EQU   CVTRV228
CVTRV233 EQU   CVTRV228
CVTRV232 EQU   CVTRV228
CVTRV231 EQU   CVTRV228
CVTRV230 EQU   CVTRV228
CVTRV229 EQU   CVTRV228
CVTRV227 EQU   CVTRV219
CVTRV226 EQU   CVTRV219
CVTRV225 EQU   CVTRV219
CVTRV224 EQU   CVTRV219
CVTRV223 EQU   CVTRV219
CVTRV222 EQU   CVTRV219
CVTRV221 EQU   CVTRV219
CVTRV220 EQU   CVTRV219
CVTRV218 EQU   CVTRV210
CVTRV217 EQU   CVTRV210
CVTRV216 EQU   CVTRV210
CVTRV215 EQU   CVTRV210
CVTRV214 EQU   CVTRV210
CVTRV213 EQU   CVTRV210
CVTRV212 EQU   CVTRV210
CVTRV211 EQU   CVTRV210
CVTLCCAT EQU   CVTS01+420
CVTIPCRP EQU   CVTS01+412
CVTIPCRI EQU   CVTS01+408
CVTIPCDS EQU   CVTS01+404
CVTAIDVT EQU   CVTS01+400
CVTSSAP  EQU   CVTS01+396
CVTEHCIR EQU   CVTS01+392
CVTEHDEF EQU   CVTS01+388
CVTDAIR  EQU   CVTS01+384
CVTPERFM EQU   CVTS01+380
CVT044R2 EQU   CVTS01+376
CVTFETCH EQU   CVTS01+372
CVTRSTWD EQU   CVTS01+368
CVTSPOST EQU   CVTS01+364
CVTIOBP  EQU   CVTS01+360
CVTASMVT EQU   CVTS01+356
CVTRECRQ EQU   CVTS01+352
CVTWSAC  EQU   CVTS01+348
CVTRV149 EQU   CVTS01+344
CVTWSAL  EQU   CVTS01+340
CVTGLMN  EQU   CVTS01+332
CVTVEAC0 EQU   CVTS01+328
CVT062R1 EQU   CVTS01+324
CVTRPOST EQU   CVTS01+320
CVTDQIQE EQU   CVTS01+316
CVTCSD   EQU   CVTS01+312
CVTLKRMA EQU   CVTS01+308
CVTRSPIE EQU   CVTS01+304
CVTRENQ  EQU   CVTS01+300
CVTLQCB  EQU   CVTS01+296
CVTFQCB  EQU   CVTS01+292
CVTQCS01 EQU   CVTS01+288
CVTAPFT  EQU   CVTS01+284
CVTPARRL EQU   CVTS01+280
CVTVWAIT EQU   CVTS01+276
CVTGSPL  EQU   CVTS01+272
CVTLSMQ  EQU   CVTS01+268
CVTGSMQ  EQU   CVTS01+264
CVTEXPRO EQU   CVTS01+260
CVTOPCTP EQU   CVTS01+256
CVTSIC   EQU   CVTS01+252
CVTTPIOS EQU   CVTS01+248
CVTRTMS  EQU   CVTS01+244
CVTSDBF  EQU   CVTS01+240
CVTSCBP  EQU   CVTS01+236
CVTSDMP  EQU   CVTS01+232
CVTSV60  EQU   CVTS01+228
CVTRTMCT EQU   CVTS01+224
CVTASCBL EQU   CVTS01+220
CVTASCBH EQU   CVTS01+216
CVTVVMDI EQU   CVTS01+204
CVTAQTOP EQU   CVTS01+200
CVTIOSCS EQU   CVTS01+196
CVTSDRM  EQU   CVTS01+192
CVTSTXU  EQU   CVTS01+184
CVTQUIS  EQU   CVTS01+180
CVTPARS  EQU   CVTS01+176
CVTS1EE  EQU   CVTS01+172
CVTFRAS  EQU   CVTS01+168
CVTQSAS  EQU   CVTS01+164
CVTCRAS  EQU   CVTS01+160
CVTCRMN  EQU   CVTS01+156
CVTDELCP EQU   CVTS01+152
CVTFRECL EQU   CVTS01+148
CVTGETCL EQU   CVTS01+144
CVTBLDCP EQU   CVTS01+140
CVTAUTHL EQU   CVTS01+136
CVTSCAN  EQU   CVTS01+132
CVTRV144 EQU   CVTS01+130
CVTMAXMP EQU   CVTS01+128
CVTSTCK  EQU   CVTS01+124
CVTRV139 EQU   CVTS01+123
CVTDSSAC EQU   CVTS01+122
CVTRV513 EQU   CVTS01+121
CVTIOSPL EQU   CVTS01+120
CVTPTGT  EQU   CVTS01+116
CVTCSPIE EQU   CVTS01+112
CVTSMFEX EQU   CVTS01+108
CVTOLT0A EQU   CVTS01+104
CVTSRBRT EQU   CVTS01+100
CVTPUTL  EQU   CVTS01+96
CVTASCRL EQU   CVTS01+92
CVTASCRF EQU   CVTS01+88
CVTRV326 EQU   CVTS01+84
CVTRV325 EQU   CVTS01+80
CVTRV324 EQU   CVTS01+76
CVT0VL01 EQU   CVTS01+72
CVTSHRVM EQU   CVTS01+68
CVTRV332 EQU   CVTS01+64
CVTTAS   EQU   CVTS01+60
CVTRSCN  EQU   CVTS01+56
CVTTRAC2 EQU   CVTS01+54
CVTAPG   EQU   CVTS01+51
CVTSDTRC EQU   CVTCTLFG
CVTGTRCE EQU   CVTCTLFG
CVTNOMP  EQU   CVTCTLFG
CVTRSV79 EQU   CVTCTLFG
CVTDSTAT EQU   CVTCTLFG
CVTRSV78 EQU   CVTCTLFG
CVTRV333 EQU   CVTCTLFG
CVTRV323 EQU   CVTCTLFG
CVTSPVLK EQU   CVTS01+49
CVTRSV77 EQU   CVTS01+48
CVTRV331 EQU   CVTS01+44
CVTRV330 EQU   CVTS01+40
CVTRV329 EQU   CVTS01+36
CVTRV328 EQU   CVTS01+32
CVTRV322 EQU   CVTS01+28
CVTSLID  EQU   CVTSLIDA+1
CVTSYLK  EQU   CVTSLIDA
CVTRV321 EQU   CVTS01+20
CVTRV320 EQU   CVTS01+16
CVTLPDIR EQU   CVTLPDIA+1
CVTRSV69 EQU   CVTDIRST
CVTRSV68 EQU   CVTDIRST
CVTRSV67 EQU   CVTDIRST
CVTRSV66 EQU   CVTDIRST
CVTRSV65 EQU   CVTDIRST
CVTRSV64 EQU   CVTDIRST
CVTRSV63 EQU   CVTDIRST
CVTDICOM EQU   CVTDIRST
CVTGETL  EQU   CVTS01
PSARSAV  EQU   PSARSVTE+60
PSARSTK  EQU   PSARSVTE+56
PSAESAV3 EQU   PSARSVTE+52
PSAESTK3 EQU   PSARSVTE+48
PSAESAV2 EQU   PSARSVTE+44
PSAESTK2 EQU   PSARSVTE+40
PSAESAV1 EQU   PSARSVTE+36
PSAESTK1 EQU   PSARSVTE+32
PSAPSAV  EQU   PSARSVTE+28
PSAPSTK  EQU   PSARSVTE+24
PSAMSAV  EQU   PSARSVTE+20
PSAMSTK  EQU   PSARSVTE+16
PSASSAV  EQU   PSARSVTE+12
PSASSTK  EQU   PSARSVTE+8
PSANSTK  EQU   PSARSVTE+4
PSACSTK  EQU   PSARSVTE
VIRTA3   EQU   VIRTADDR+3
VIRTA0   EQU   VIRTADDR
@NM00173 EQU   NEWTRACE
@NM00172 EQU   OLDTRACE
NIPTRACE EQU   GENLIST+2
@NM00171 EQU   GENLIST
IPLDNUCE EQU   IPLDATA+16
IPLDNUCS EQU   IPLDATA+12
IPLDNUCM EQU   IPLDATA+11
IPLDVTOC EQU   IPLDATA+6
IPLDVSER EQU   IPLDATA
@NM00170 EQU   @NM00169
CVTLEVL  EQU   CVTRELNO+2
CVTNUMB  EQU   CVTRELNO
CVTMDL   EQU   CVTFIX+250
@NM00168 EQU   CVTFIX+248
@NM00167 EQU   CVTFIX
CVTRV482 EQU   CVTXTNT2+128
CVTRV481 EQU   CVTXTNT2+124
CVTRV480 EQU   CVTXTNT2+120
CVTRV479 EQU   CVTXTNT2+118
CVTRV478 EQU   CVTXTNT2+117
CVTRV477 EQU   CVTXTNT2+116
CVTRV476 EQU   CVTXTNT2+115
CVTRV475 EQU   CVTXTNT2+114
CVTRV474 EQU   CVTRV466
CVTRV473 EQU   CVTRV466
CVTRV472 EQU   CVTRV466
CVTRV471 EQU   CVTRV466
CVTRV470 EQU   CVTRV466
CVTRV469 EQU   CVTRV466
CVTRV468 EQU   CVTRV466
CVTRV467 EQU   CVTRV466
CVTRV465 EQU   CVTRV457
CVTRV464 EQU   CVTRV457
CVTRV463 EQU   CVTRV457
CVTRV462 EQU   CVTRV457
CVTRV461 EQU   CVTRV457
CVTRV460 EQU   CVTRV457
CVTRV459 EQU   CVTRV457
CVTRV458 EQU   CVTRV457
CVTRV456 EQU   CVTXTNT2+108
CVTRV455 EQU   CVTXTNT2+104
CVTRV454 EQU   CVTXTNT2+100
CVTRV453 EQU   CVTXTNT2+96
CVTRV452 EQU   CVTXTNT2+94
CVTRV451 EQU   CVTXTNT2+92
CVTRV450 EQU   CVTXTNT2+90
CVTRV449 EQU   CVTXTNT2+88
CVTRV448 EQU   CVTXTNT2+87
CVTRV447 EQU   CVTXTNT2+86
CVTRV446 EQU   CVTRV438
CVTRV445 EQU   CVTRV438
CVTRV444 EQU   CVTRV438
CVTRV443 EQU   CVTRV438
CVTRV442 EQU   CVTRV438
CVTRV441 EQU   CVTRV438
CVTRV440 EQU   CVTRV438
CVTRV439 EQU   CVTRV438
CVTRV437 EQU   CVTRV429
CVTRV436 EQU   CVTRV429
CVTRV435 EQU   CVTRV429
CVTRV434 EQU   CVTRV429
CVTRV433 EQU   CVTRV429
CVTRV432 EQU   CVTRV429
CVTRV431 EQU   CVTRV429
CVTRV430 EQU   CVTRV429
CVTRV428 EQU   CVTXTNT2+80
CVTRV427 EQU   CVTXTNT2+76
CVTRV426 EQU   CVTXTNT2+72
CVTRV425 EQU   CVTXTNT2+68
CVTATACT EQU   CVTATCVT
CVTRV423 EQU   CVTXTNT2+62
CVTRV422 EQU   CVTXTNT2+60
CVTRV421 EQU   CVTXTNT2+58
CVTRV420 EQU   CVTXTNT2+56
CVTRV419 EQU   CVTXTNT2+55
CVTRV418 EQU   CVTXTNT2+54
CVTRV417 EQU   CVTRV409
CVTRV416 EQU   CVTRV409
CVTRV415 EQU   CVTRV409
CVTRV414 EQU   CVTRV409
CVTRV413 EQU   CVTRV409
CVTRV412 EQU   CVTRV409
CVTRV411 EQU   CVTRV409
CVTRV410 EQU   CVTRV409
CVTRV408 EQU   CVTRV400
CVTRV407 EQU   CVTRV400
CVTRV406 EQU   CVTRV400
CVTRV405 EQU   CVTRV400
CVTRV404 EQU   CVTRV400
CVTRV403 EQU   CVTRV400
CVTRV402 EQU   CVTRV400
CVTRV401 EQU   CVTRV400
CVTICB   EQU   CVTXTNT2+48
CVTSKTA  EQU   CVTXTNT2+44
CVTCCVT  EQU   CVTXTNT2+40
CVTRSV98 EQU   CVTXTNT2+36
CVTRSV97 EQU   CVTXTNT2+34
CVTRSV96 EQU   CVTXTNT2+32
CVTOLTEP EQU   CVTXTNT2+28
CVTQIDA  EQU   CVTQID+1
CVTRSV95 EQU   CVTQID
CVTRSV94 EQU   CVTXTNT2+20
CVTRSV93 EQU   CVTXTNT2+16
CVTRSV92 EQU   CVTXTNT2+12
CVTDEBVR EQU   CVTXTNT2+8
CVTRSV91 EQU   CVTXTNT2+6
CVTRSV9H EQU   CVTFLGBT
CVTRSV9G EQU   CVTFLGBT
CVTRSV9F EQU   CVTFLGBT
CVTRSV9E EQU   CVTFLGBT
CVTRSV9D EQU   CVTFLGBT
CVTBAH   EQU   CVTFLGBT
CVTVME   EQU   CVTFLGBT
CVTNPE   EQU   CVTFLGBT
CVTNUCLS EQU   CVTXTNT2+4
CVTRSV89 EQU   CVTDSSV
CVTRSV88 EQU   CVTXTNT1+8
CVTRSV87 EQU   CVTXTNT1+4
CVTFACHN EQU   CVTXTNT1
CVTRV488 EQU   CVTMAP+412
CVTRV487 EQU   CVTMAP+408
CVTRV486 EQU   CVTMAP+404
CVTRV485 EQU   CVTMAP+400
CVTACTAP EQU   CVTMAP+396
CVTAUTH  EQU   CVTMAP+392
CVTRV490 EQU   CVTMAP+388
CVTSU    EQU   CVTMAP+384
CVTVOLT1 EQU   CVTVOLM1+1
CVTVOLI1 EQU   CVTVOLF1
CVTSTOA  EQU   CVTMAP+376
CVTRSV58 EQU   CVTMAP+374
CVTRSV57 EQU   CVTMAP+372
CVTDDCE  EQU   CVTMAP+368
CVTPNWFR EQU   CVTMAP+364
CVTSMF   EQU   CVTMAP+360
CVTSULK  EQU   CVTMAP+358
CVTSLKO  EQU   CVTSYSK
CVTSLKP  EQU   CVTSYSK
CVTSLKQ  EQU   CVTSYSK
CVTSLKR  EQU   CVTSYSK
CVTRSV56 EQU   CVTSYSK
CVTRSV55 EQU   CVTSYSK
CVTRSV54 EQU   CVTSYSK
CVTRSV53 EQU   CVTSYSK
CVTRSV52 EQU   CVTA1F1
CVTRSV51 EQU   CVTA1F1
CVTRSV50 EQU   CVTA1F1
CVTRSV49 EQU   CVTA1F1
CVTRSV48 EQU   CVTA1F1
CVTRSV47 EQU   CVTA1F1
CVTSRSW  EQU   CVTA1F1
CVTPFSW  EQU   CVTA1F1
CVTPCVT  EQU   CVTMAP+352
CVTRSV46 EQU   CVTMAP+344
CVTRSV45 EQU   CVTMAP+340
CVTRSV44 EQU   CVTMAP+338
CVTRSV43 EQU   CVTMAP+336
CVTHJESA EQU   CVTHJES+1
CVTRSV42 EQU   CVTHJES
CVTEXT2A EQU   CVTEXT2+1
CVTRSV41 EQU   CVTEXT2
CVTAPFA  EQU   CVTAPF+1
CVTRSV40 EQU   CVTAPF
CVTRV518 EQU   CVTINTLA
CVTRV517 EQU   CVTERPV
CVTEORM  EQU   CVTMAP+312
CVTMCHPR EQU   CVTMAP+308
CVTTZ    EQU   CVTMAP+304
CVTJEPS  EQU   CVTMAP+300
CVTJESCT EQU   CVTMAP+296
CVTMODE  EQU   CVTMAP+292
CVTPTRV  EQU   CVTMAP+288
CVTRSV39 EQU   CVTMAP+280
CVTRSV38 EQU   CVTMAP+276
CVTDMSRA EQU   CVTDMSR+1
CVTRV634 EQU   CVTDMSRF
CVTRV633 EQU   CVTDMSRF
CVTRV632 EQU   CVTDMSRF
CVTRV631 EQU   CVTDMSRF
CVTRV630 EQU   CVTDMSRF
CVTRV629 EQU   CVTDMSRF
CVTUDUMP EQU   CVTDMSRF
CVTSDUMP EQU   CVTDMSRF
CVTQMSGA EQU   CVTQMSG+1
CVTRSV36 EQU   CVTQMSG
CVTAMFF  EQU   CVTMAP+264
CVTPURGA EQU   CVTPURG+1
CVTRSV35 EQU   CVTPURG
CVTCBSP  EQU   CVTMAP+256
CVTATERA EQU   CVTATER+1
CVTSYST  EQU   CVTATER
CVTVOLT2 EQU   CVTTAT
CVTVOLI2 EQU   CVTVOLF2
CVTAQAVB EQU   CVTAQAVT+1
CVTRSV34 EQU   CVTTCMFG
CVTRSV33 EQU   CVTTCMFG
CVTRSV32 EQU   CVTTCMFG
CVTRSV31 EQU   CVTTCMFG
CVTRSV30 EQU   CVTTCMFG
CVTRSV29 EQU   CVTTCMFG
CVTLDEV  EQU   CVTTCMFG
CVTTCRDY EQU   CVTTCMFG
CVTGTFA  EQU   CVTGTF+1
CVTRSV27 EQU   CVTGTFST
CVTRNIO  EQU   CVTGTFST
CVTUSR   EQU   CVTGTFST
CVTRV318 EQU   CVTFORM
CVTRV317 EQU   CVTTMODE
CVTRV316 EQU   CVTSTATE
CVTRV315 EQU   CVTGTFS
CVTGTFAV EQU   CVTGTFS
CVT0SCR1 EQU   CVTMAP+232
CVTRV515 EQU   CVTMAP+228
CVTRMS   EQU   CVTMAP+224
CVTPATCH EQU   CVTMAP+220
CVTTSCE  EQU   CVTMAP+216
CVTLNKSC EQU   CVTMAP+214
CVTQABST EQU   CVTMAP+212
CVTMDLDS EQU   CVTMAP+208
CVTUSER  EQU   CVTMAP+204
CVTSMCA  EQU   CVTMAP+196
CVTRSV18 EQU   CVTMAP+192
CVTVS1B  EQU   CVTOPTB
CVTVS1A  EQU   CVTOPTB
CVTFP    EQU   CVTOPTB
CVTAPTHR EQU   CVTOPTB
CVTNLOG  EQU   CVTOPTB
CVTTOD   EQU   CVTOPTB
CVTCTIMS EQU   CVTOPTB
CVTPROT  EQU   CVTOPTB
CVTXPFP  EQU   CVTOPTA
CVTASCII EQU   CVTOPTA
CVTRSV13 EQU   CVTOPTA
CVTRSV12 EQU   CVTOPTA
CVTNIP   EQU   CVTOPTA
CVTDDR   EQU   CVTOPTA
CVTAPR   EQU   CVTOPTA
CVTCCH   EQU   CVTOPTA
CVTSNCTR EQU   CVTMAP+180
CVTQMWR  EQU   CVTMAP+176
CVTQOCR  EQU   CVTMAP+172
CVT1EF00 EQU   CVTMAP+168
CVTMZ00  EQU   CVTMAP+164
CVTSV76Q EQU   CVTSV76C
CVTRSV11 EQU   CVTMAP+156
CVT0PT01 EQU   CVTMAP+152
CVTMSER  EQU   CVTMAP+148
CVTRV516 EQU   CVTIERLC
CVTILCH  EQU   CVTMAP+140
CVT0DS   EQU   CVTMAP+136
CVTFBOSV EQU   CVTMAP+132
CVTNUCB  EQU   CVTMAP+128
CVTIXAVL EQU   CVTMAP+124
CVTSV76M EQU   CVTIOQET
CVTDCBA  EQU   CVTMAP+117
CVTMVS2  EQU   CVTDCB
CVT6DAT  EQU   CVTDCB
CVT4MPS  EQU   CVTDCB
CVTRSV09 EQU   CVTDCB
CVT4MS1  EQU   CVTDCB
CVT2SPS  EQU   CVTDCB
CVT1SSS  EQU   CVTDCB
CVTRSV08 EQU   CVTDCB
CVTSTB   EQU   CVTMAP+112
CVTQTD00 EQU   CVTMAP+108
CVTQTE00 EQU   CVTMAP+104
CVTCUCB  EQU   CVTMAP+100
CVTSJQ   EQU   CVTMAP+96
CVTPBLDL EQU   CVTMAP+92
CVTTPC   EQU   CVTMAP+88
CVTSVDCB EQU   CVTMAP+84
CVTBRET  EQU   CVTMAP+82
CVTEXIT  EQU   CVTMAP+80
CVT0FN00 EQU   CVTMAP+76
CVTDARA  EQU   CVTDAR+1
CVTRSV07 EQU   CVTFLGS1
CVTRSV06 EQU   CVTFLGS1
CVTRSV05 EQU   CVTFLGS1
CVTRSV04 EQU   CVTFLGS1
CVTRSV03 EQU   CVTFLGS1
CVTRSV02 EQU   CVTFLGS1
CVTRSV01 EQU   CVTFLGS1
CVTDMPLK EQU   CVTFLGS1
CVTXITP  EQU   CVTMAP+68
CVTZDTAB EQU   CVTMAP+64
CVTMSLT  EQU   CVTMAP+60
CVTDATE  EQU   CVTMAP+56
CVTSYSAD EQU   CVTMAP+48
CVTXTLER EQU   CVTMAP+44
CVTILK2  EQU   CVTMAP+40
CVTILK1  EQU   CVTMAP+36
CVTPRLTV EQU   CVTMAP+32
CVTPCNVT EQU   CVTMAP+28
CVT0VL00 EQU   CVTMAP+24
CVTXAPG  EQU   CVTMAP+20
CVTBUF   EQU   CVTMAP+16
CVTJOB   EQU   CVTMAP+12
CVTLINK  EQU   CVTMAP+8
CVT0EF00 EQU   CVTMAP+4
CVTTCBP  EQU   CVTMAP
XPTLSID2 EQU   XPTLPN
XPTLSID  EQU   XPTLGN
@NM00166 EQU   XPTFLAG2
XPTIOERR EQU   XPTFLAG2
XPTPOINP EQU   XPTFLAG2
XPTRES1  EQU   XPTFLAG2
XPTVALID EQU   XPTFLAG2
XPTRSV4  EQU   XPTFLAGS
XPTDEFER EQU   XPTFLAGS
XPTRES2  EQU   XPTFLAGS
XPTVIO   EQU   XPTFLAGS
@NM00165 EQU   XPTFLAGS
XPTCKF   EQU   XPTFLAGS
XPTXAV   EQU   XPTFLAGS
XPTVIOLP EQU   XPTFLAGS
XPTRSV1  EQU   XPTE+1
XPTPROT  EQU   XPTE
NSCHDCPU EQU   NIPSCHDL+8
NSCHDPRM EQU   NIPSCHDL+4
NSCHDPTR EQU   NIPSCHDL
@NM00164 EQU   NIPOPNPL+22
NOPNRC   EQU   NIPOPNPL+21
NOPNFLSX EQU   NOPNFL
NOPNFLLC EQU   NOPNFL
NOPNFLLB EQU   NOPNFL
NOPNFLNB EQU   NOPNFL
NOPNFLI  EQU   NOPNFL
NOPNFLM  EQU   NOPNFL
NOPNFAU  EQU   NOPNFL
NOPNFRS  EQU   NOPNFL
NOPNUCB  EQU   NIPOPNPL+16
NOPNDCB  EQU   NIPOPNPL+12
NOPNDSA  EQU   NOPNDS
@NM00163 EQU   NIPMNTPL+21
NMNTFLB  EQU   NMNTFL
NMNTFLC  EQU   NMNTFL
NMNTFLI  EQU   NMNTFL
NMNTFUS  EQU   NMNTFL
@NM00162 EQU   NMNTFL
NMNTDT   EQU   NIPMNTPL+18
NMNTUCB  EQU   NMNTVS
NMNTDSA  EQU   NMNTDS
NWTORMSG EQU   NWTORLST+12
@NM00161 EQU   NWTORLST+11
@NM00160 EQU   NWTORFL
NWTORFLB EQU   NWTORFL
@NM00159 EQU   NWTORFL
NWTORFLA EQU   NWTORFL
NMTORRDL EQU   NWTORLST+8
NWTORECB EQU   NWTORLST+4
NWTORRPA EQU   NWTORLST
@NM00158 EQU   NWTOFL
NWTOFLNC EQU   NWTOFL
NWTOFLNH EQU   NWTOFL
NWTOLNG  EQU   NWTOHDR
XTLMSBAD EQU   XTLMSBAA+1
@NM00157 EQU   XTLMSBAA
XTLMSBLN EQU   XTLMSBLA+1
@NM00156 EQU   XTLMSBLA
XTLNRFAC EQU   XTLST+4
LPDEXTAD EQU   LPDEMJNM+4
LPDEXTLN EQU   LPDEMJNM
LPDEATT3 EQU   LPDE+30
LPDEAUTH EQU   LPDEATT2
LPDESYSL EQU   LPDEATT2
@NM00155 EQU   LPDEATT2
@NM00154 EQU   LPDEATT2
LPDERLC  EQU   LPDEATT2
LPDEXLE  EQU   LPDEATT2
@NM00153 EQU   LPDEATT2
LPDENLR  EQU   LPDEATTR
@NM00152 EQU   LPDEATTR
LPDEMIN  EQU   LPDEATTR
@NM00151 EQU   LPDEATTR
LPDESER  EQU   LPDEATTR
LPDEREN  EQU   LPDEATTR
@NM00150 EQU   LPDEATTR
LPDENIP  EQU   LPDEATTR
@NM00149 EQU   LPDE+26
LPDEUSE  EQU   LPDE+24
LPDEXLP  EQU   LPDE+20
LPDENAME EQU   LPDE+8
LPDERBP  EQU   LPDE+4
LPDECHN  EQU   LPDE
@NM00148 EQU   TCBXTNT2+32
TCBRV181 EQU   TCBRV173
TCBRV180 EQU   TCBRV173
TCBRV179 EQU   TCBRV173
TCBRV178 EQU   TCBRV173
TCBRV177 EQU   TCBRV173
TCBRV176 EQU   TCBRV173
TCBRV175 EQU   TCBRV173
TCBRV174 EQU   TCBRV173
TCBRV172 EQU   TCBRV164
TCBRV171 EQU   TCBRV164
TCBRV170 EQU   TCBRV164
TCBRV169 EQU   TCBRV164
TCBRV168 EQU   TCBRV164
TCBRV167 EQU   TCBRV164
TCBRV166 EQU   TCBRV164
TCBRV165 EQU   TCBRV164
TCBRV163 EQU   TCBRV155
TCBRV162 EQU   TCBRV155
TCBRV161 EQU   TCBRV155
TCBRV160 EQU   TCBRV155
TCBRV159 EQU   TCBRV155
TCBRV158 EQU   TCBRV155
TCBRV157 EQU   TCBRV155
TCBRV156 EQU   TCBRV155
TCBRV154 EQU   TCBRV146
TCBRV153 EQU   TCBRV146
TCBRV152 EQU   TCBRV146
TCBRV151 EQU   TCBRV146
TCBRV150 EQU   TCBRV146
TCBRV149 EQU   TCBRV146
TCBRV148 EQU   TCBRV146
TCBRV147 EQU   TCBRV146
TCBRV145 EQU   TCBXTNT2+26
TCBRV144 EQU   TCBXTNT2+24
TCBRV143 EQU   TCBXTNT2+20
TCBRV142 EQU   TCBXTNT2+16
TCBRSV49 EQU   TCBXTNT2+12
TCBEVENT EQU   TCBXTNT2+8
TCBRCMP  EQU   TCBXTNT2+5
TCBRSVAB EQU   TCBXTNT2+4
TCBGTFA  EQU   TCBGTF+1
TCBRSV47 EQU   TCBTFLG
TCBRSV46 EQU   TCBTFLG
TCBRSV45 EQU   TCBTFLG
TCBRSV44 EQU   TCBTFLG
TCBRSV43 EQU   TCBTFLG
TCBDSPIT EQU   TCBTFLG
TCBERRTN EQU   TCBTFLG
TCBASYNC EQU   TCBTFLG
@NM00147 EQU   TCB+296
TCBSVCA2 EQU   TCB+292
TCBSWASA EQU   TCB+288
TCBDBTB  EQU   TCB+284
TCBRPT   EQU   TCB+280
TCBRV141 EQU   TCBRV133
TCBRV140 EQU   TCBRV133
TCBRV139 EQU   TCBRV133
TCBRV138 EQU   TCBRV133
TCBRV137 EQU   TCBRV133
TCBRV136 EQU   TCBRV133
TCBRV135 EQU   TCBRV133
TCBRV134 EQU   TCBRV133
TCBRV132 EQU   TCBRV124
TCBRV131 EQU   TCBRV124
TCBRV130 EQU   TCBRV124
TCBRV129 EQU   TCBRV124
TCBRV128 EQU   TCBRV124
TCBRV127 EQU   TCBRV124
TCBRV126 EQU   TCBRV124
TCBRV125 EQU   TCBRV124
TCBRV123 EQU   TCBFBYT2
TCBRV122 EQU   TCBFBYT2
TCBECBNV EQU   TCBFBYT2
TCBSSSYN EQU   TCBFBYT2
TCBFPRAP EQU   TCBFBYT2
TCBFDW   EQU   TCBFBYT2
TCBFMW   EQU   TCBFBYT2
TCBCNCB  EQU   TCBFBYT2
TCBLLH   EQU   TCBFBYT1
TCBRV113 EQU   TCBFBYT1
TCBEOT   EQU   TCBFBYT1
TCBRTM2  EQU   TCBFBYT1
TCBPGNLY EQU   TCBFBYT1
TCBNDIOS EQU   TCBFBYT1
TCBRV327 EQU   TCBFBYT1
TCBEOTFM EQU   TCBFBYT1
TCBAFFN  EQU   TCB+274
TCBRV326 EQU   TCB+272
TCBUKYSP EQU   TCB+268
TCBMODE  EQU   TCBESTAE+3
TCBERTYP EQU   TCBESTAE+2
TCBRV314 EQU   TCBESTRM
TCBRV313 EQU   TCBESTRM
TCBRV312 EQU   TCBESTRM
TCBRV311 EQU   TCBESTRM
TCBRV310 EQU   TCBESTRM
TCBRV309 EQU   TCBESTRM
TCBRV308 EQU   TCBESTRM
TCBETERM EQU   TCBESTRM
TCBSCBKY EQU   TCBESTAE
TCBRTM12 EQU   TCB+260
TCBTCBID EQU   TCB+256
TCBSTAWA EQU   TCB+252
TCBSWA   EQU   TCB+248
TCBFOEA  EQU   TCBFOE+1
TCBRSV42 EQU   TCBFOE
TCBCCPVI EQU   TCBXSCT+2
TCBRV325 EQU   TCBXSCT+1
TCBRV324 EQU   TCBXSCT1
TCBRV323 EQU   TCBXSCT1
TCBRV322 EQU   TCBXSCT1
TCBRV321 EQU   TCBXSCT1
TCBRV320 EQU   TCBXSCT1
TCBRV319 EQU   TCBXSCT1
TCBS3A   EQU   TCBXSCT1
TCBACTIV EQU   TCBXSCT1
TCBRSV41 EQU   TCB+239
TCBTID   EQU   TCB+238
TCBRSVAA EQU   TCB+237
TCBABCUR EQU   TCB+236
TCBTMSAV EQU   TCB+232
TCBIOTIM EQU   TCB+228
TCBRTWA  EQU   TCB+224
TCBBACK  EQU   TCB+220
TCBTIRB  EQU   TCB+216
TCBAECB  EQU   TCB+212
TCBEXT2A EQU   TCBEXT2+1
TCBRSV39 EQU   TCBEXT2
TCBSTMCT EQU   TCB+207
TCBSYSCT EQU   TCB+206
TCBRSV37 EQU   TCB+205
TCBEXSVC EQU   TCBDAR
TCBDARMS EQU   TCBDAR
TCBDARWT EQU   TCBDAR
TCBDARO  EQU   TCBDAR
TCBDARMC EQU   TCBDARC
TCBDARD  EQU   TCBDAR
TCBDARS  EQU   TCBDAR
TCBDARP  EQU   TCBDAR
TCBGTOFM EQU   TCBFLGS7
TCBADMP  EQU   TCBFLGS7
TCBRSTSK EQU   TCBFLGS7
TCBSVCS  EQU   TCBFLGS7
TCBSTACK EQU   TCBFLGS7
TCBRSV34 EQU   TCBFLGS7
TCBRSV33 EQU   TCBFLGS7
TCBGPECB EQU   TCBFLGS7
TCBNTJS  EQU   TCBFLGS6
TCBAPG   EQU   TCBFLGS6
TCBMIGR  EQU   TCBFLGS6
TCBRV303 EQU   TCBFLGS6
TCBSPVLK EQU   TCBFLGS6
TCBCPU   EQU   TCBFLGS6
TCBPIE17 EQU   TCBFLGS6
TCBRSV79 EQU   TCBNDSP5
TCBRSV78 EQU   TCBNDSP5
TCBRSV77 EQU   TCBNDSP5
TCBRSV76 EQU   TCBNDSP5
TCBRSV75 EQU   TCBNDSP5
TCBRSV74 EQU   TCBNDSP5
TCBRSV95 EQU   TCBNDSP5
TCBRSV94 EQU   TCBNDSP5
TCBRSV93 EQU   TCBNDSP4
TCBRSV92 EQU   TCBNDSP4
TCBRSV91 EQU   TCBNDSP4
TCBRSV90 EQU   TCBNDSP4
TCBRSV89 EQU   TCBNDSP4
TCBRSV88 EQU   TCBNDSP4
TCBRSV87 EQU   TCBNDSP4
TCBRSV86 EQU   TCBNDSP4
TCBEXT1A EQU   TCBEXT1+1
TCBRSV32 EQU   TCBEXT1
TCBEXCPD EQU   TCB+192
TCBIOBRC EQU   TCB+188
TCBDDWTC EQU   TCB+186
TCBDDEXC EQU   TCB+184
TCBJSCBB EQU   TCBJSCB+1
@NM00146 EQU   TCBRECDE
TCBREC   EQU   TCBRECDE
TCBMDIDS EQU   TCB+176
TCBNDINT EQU   TCBNDSP3
TCBRSV27 EQU   TCBNDSP3
TCBRSV26 EQU   TCBNDSP3
TCBRSV25 EQU   TCBNDSP3
TCBRSV24 EQU   TCBNDSP3
TCBSRBND EQU   TCBNDSP3
TCBRV302 EQU   TCBNDSP3
TCBLJSND EQU   TCBNDSP3
TCBABE   EQU   TCBNDSP2
TCBDSS   EQU   TCBNDSP2
TCBOWAIT EQU   TCBNDSP2
TCBIWAIT EQU   TCBNDSP2
TCBNDTS  EQU   TCBNDSP2
TCBNDSVC EQU   TCBNDSP2
TCBSTPP  EQU   TCBNDSP2
TCBABD   EQU   TCBNDSP2
TCBRSV22 EQU   TCBNDSP1
TCBPIEND EQU   TCBNDSP1
TCBTPSP  EQU   TCBNDSP1
TCBDDRND EQU   TCBNDSP1
TCBRSPND EQU   TCBNDSP1
TCBRSTND EQU   TCBNDSP1
TCBDARPN EQU   TCBNDSP1
TCBDARTN EQU   TCBNDSP1
TCBNDSP0 EQU   TCBNDSP
TCBUSER  EQU   TCB+168
TCBTCTB  EQU   TCBTCT+1
TCBRSV9C EQU   TCBTCTGF
TCBRSV9B EQU   TCBTCTGF
TCBRSV9A EQU   TCBTCTGF
TCBRSV99 EQU   TCBTCTGF
TCBRSV98 EQU   TCBTCTGF
TCBRSV97 EQU   TCBTCTGF
TCBRSV20 EQU   TCBTCTGF
TCBSMFGF EQU   TCBTCTGF
TCBSTABB EQU   TCBSTAB+1
TCBSTCUR EQU   TCBNSTAE
TCBRV301 EQU   TCBNSTAE
TCBSYNCH EQU   TCBNSTAE
TCBHALT  EQU   TCBNSTAE
TCBPPSUP EQU   TCBNSTAE
TCB33E   EQU   TCBNSTAE
TCBQUIES EQU   TCBNSTAE
TCBSTABE EQU   TCBNSTAE
TCBAQE   EQU   TCB+156
TCBTSDP  EQU   TCB+151
TCBTSLP  EQU   TCB+150
TCBSTPCT EQU   TCB+149
TCBCPUBN EQU   TCBTSFLG
TCBDYDSP EQU   TCBTSFLG
TCBRSV18 EQU   TCBTSFLG
TCBRSV17 EQU   TCBTSFLG
TCBTIOTG EQU   TCBTSFLG
TCBATT   EQU   TCBTSFLG
TCBSTPPR EQU   TCBTSFLG
TCBRV300 EQU   TCBTSTSK
TCBECB   EQU   TCB+144
TCBIQE   EQU   TCB+140
TCBLTC   EQU   TCB+136
TCBOTC   EQU   TCB+132
TCBNTC   EQU   TCB+128
TCBJSTCA EQU   TCBJSTCB+1
TCBRSV16 EQU   TCBJSTCB
TCBTQET  EQU   TCBTME
TCBTCB   EQU   TCB+116
TCBFSAB  EQU   TCBFSA+1
TCBQEL   EQU   TCBFSA
TCBGRS15 EQU   TCBGRS+60
TCBGRS14 EQU   TCBGRS+56
TCBGRS13 EQU   TCBGRS+52
TCBGRS12 EQU   TCBGRS+48
TCBGRS11 EQU   TCBGRS+44
TCBGRS10 EQU   TCBGRS+40
TCBGRS9  EQU   TCBGRS+36
TCBGRS8  EQU   TCBGRS+32
TCBGRS7  EQU   TCBGRS+28
TCBGRS6  EQU   TCBGRS+24
TCBGRS5  EQU   TCBGRS+20
TCBGRS4  EQU   TCBGRS+16
TCBGRS3  EQU   TCBGRS+12
TCBGRS2  EQU   TCBGRS+8
TCBGRS1  EQU   TCBGRS+4
TCBGRS0  EQU   TCBGRS
TCBRSV15 EQU   TCBPURGE
TCBRSV14 EQU   TCBPURGE
TCBRSV13 EQU   TCBPURGE
TCBRSV12 EQU   TCBPURGE
TCBRSV11 EQU   TCBPURGE
TCBRSV10 EQU   TCBPURGE
TCBRSV09 EQU   TCBPURGE
TCBJPQF  EQU   TCBPURGE
TCBJLB   EQU   TCB+40
TCBDSP   EQU   TCB+35
TCBLMP   EQU   TCB+34
TCBPNDSP EQU   TCBFLGS5
TCBFCD1  EQU   TCBFLGS5
TCBSTP   EQU   TCBFLGS5
TCBSYS   EQU   TCBFLGS5
TCBANDSP EQU   TCBFLGS5
TCBPAGE  EQU   TCBFLGS5
TCBUXNDF EQU   TCBABWF
TCBFC    EQU   TCBFLGS5
TCBONDSP EQU   TCBFLGS4
TCBMPCND EQU   TCBFLGS4
TCBMPCVQ EQU   TCBFLGS4
TCBUXNDV EQU   TCBFLGS4
TCBHNDSP EQU   TCBFLGS4
TCBRQENA EQU   TCBFLGS4
TCBSER   EQU   TCBFLGS4
TCBNDUMP EQU   TCBFLGS4
TCBDWSTA EQU   TCBFLGS3
TCBRSV08 EQU   TCBFLGS3
TCBRSV07 EQU   TCBFLGS3
TCBRSV06 EQU   TCBFLGS3
TCBABGM  EQU   TCBFLGS3
TCBABTRM EQU   TCBFLGS3
TCBADINP EQU   TCBFLGS3
TCBFSM   EQU   TCBFLGS3
TCBFTS   EQU   TCBFLGS2
TCBFETXR EQU   TCBFLGS2
TCBFDSOP EQU   TCBFLGS2
TCBFJMC  EQU   TCBFLGS2
TCBFSMC  EQU   TCBFLGS2
TCBFABOP EQU   TCBFLGS2
TCBFSTI  EQU   TCBFLGS2
TCBFOINP EQU   TCBFLGS2
TCBFX    EQU   TCBFLGS1
TCBFS    EQU   TCBFLGS1
TCBFT    EQU   TCBFLGS1
TCBPDUMP EQU   TCBFLGS1
TCBNONPR EQU   TCBFLGS1
TCBFERA  EQU   TCBFLGS1
TCBFE    EQU   TCBFLGS1
TCBFA    EQU   TCBFLGS1
TCBZERO  EQU   TCBPKF
TCBFLAG  EQU   TCBPKF
TCBMSSB  EQU   TCBMSS+1
TCBRSV03 EQU   TCBMSS
TCBTRNB  EQU   TCBTRN+1
TCBRSV02 EQU   TCBABF
TCBOLTEP EQU   TCBABF
TCBTCP   EQU   TCBABF
TCBTCPP  EQU   TCBABF
TCBRSV01 EQU   TCBABF
TCBGRPH  EQU   TCBABF
TCBNOCHK EQU   TCBABF
TCBMOD91 EQU   TCBABF
TCBCMPC  EQU   TCBCMP+1
TCBRV318 EQU   TCBCMSG
TCBRV317 EQU   TCBCIND
TCBRV316 EQU   TCBCWTO
TCBCASID EQU   TCBCDBL
TCBNOCC  EQU   TCBSTCC
TCBDMPO  EQU   TCBCPP
TCBCSTEP EQU   TCBCMPF
TCBCREQ  EQU   TCBCMPF
TCBTIO   EQU   TCB+12
TCBDEB   EQU   TCB+8
TCBPIEA  EQU   TCBPIE+1
TCBPM    EQU   TCBPMASK
@NM00145 EQU   TCBPMASK
TCBRBP   EQU   TCB
TCBFRS6  EQU   TCBFRS+24
TCBFRS4  EQU   TCBFRS+16
TCBFRS2  EQU   TCBFRS+8
TCBFRS0  EQU   TCBFRS
SPQERES2 EQU   SPQESECT+12
SPQEKEY  EQU   SPQESECT+11
SPQEID   EQU   SPQESECT+10
SPQERES1 EQU   SPQESECT+9
SPQEOWN  EQU   SPQEFLGS
LASTSPQE EQU   SPQEFLGS
SPSHARE  EQU   SPQEFLGS
SPQEPTR  EQU   SPQEAD
SGTEAC   EQU   SGTBYTE
@NM00144 EQU   SGTBYTE
@NM00143 EQU   SGTBYTE
@NM00142 EQU   SGTBYTE
@NM00141 EQU   SGTBYTE
@NM00140 EQU   SGTBYTE
SGTORG   EQU   SGTPTO
SGTKEY   EQU   SGTLK
SGTPTL   EQU   SGTLK
@NM00139 EQU   SCVTSECT+180
@NM00138 EQU   SCVTSECT+176
SCVTPIQE EQU   SCVTSECT+172
@NM00137 EQU   SCVTSECT+168
SCVTPTRM EQU   SCVTSECT+164
@NM00136 EQU   SCVTSECT+160
@NM00135 EQU   SCVTSECT+156
SCVTQCBR EQU   SCVTSECT+152
SCVTSTAT EQU   SCVTSECT+148
@NM00134 EQU   SCVTSECT+144
SCVTTQE  EQU   SCVTSECT+140
@NM00133 EQU   SCVTSECT+136
@NM00132 EQU   SCVTSECT+128
@NM00131 EQU   SCVTSECT+124
SCVTRXLQ EQU   SCVTSECT+120
@NM00130 EQU   SCVTSECT+116
SCVTCTCB EQU   SCVTSECT+112
@NM00129 EQU   SCVTSECT+108
@NM00128 EQU   SCVTSECT+104
@NM00127 EQU   SCVTSECT+100
@NM00126 EQU   SCVTSECT+96
SCVTCOMM EQU   SCVTSECT+92
@NM00125 EQU   SCVTSECT+88
@NM00124 EQU   SCVTSECT+84
@NM00123 EQU   SCVTSECT+80
@NM00122 EQU   SCVTSECT+76
@NM00121 EQU   SCVTSECT+72
SCVTGMBR EQU   SCVTSECT+68
SCVTHSKP EQU   SCVTSECT+60
@NM00120 EQU   SCVTSECT+56
@NM00119 EQU   SCVTSECT+52
SCVTLFRM EQU   SCVTSECT+48
SCVTCDCL EQU   SCVTSECT+44
@NM00118 EQU   SCVTSECT+40
SCVTRACE EQU   SCVTSECT+36
@NM00117 EQU   SCVTSECT+32
@NM00116 EQU   SCVTSECT+24
@NM00115 EQU   SCVTSECT+20
@NM00114 EQU   SCVTSECT+16
@NM00113 EQU   SCVTSECT+14
SCVTBR14 EQU   SCVTSECT+12
SCVTSPET EQU   SCVTSECT+8
SCVTPGWR EQU   SCVTSECT+4
SCVTPGTM EQU   SCVTSECT
@NM00112 EQU   PSA+3668
PSASTAK  EQU   PSA+3072
@NM00111 EQU   PSA+1048
PSAUSEND EQU   PSA+1048
PSARV062 EQU   PSA+1044
PSACDAL  EQU   PSA+1040
PSAWTCOD EQU   PSA+1036
PSAATCVT EQU   PSA+1032
PSAPCPSW EQU   PSA+1024
PSAPIR2  EQU   PSA+1020
PSARV059 EQU   PSA+1018
PSASVC13 EQU   PSA+1016
PSALSFCC EQU   PSA+1012
PSASFACC EQU   PSA+1008
PSASTOP  EQU   PSA+992
PSASTART EQU   PSA+976
PSARSPSW EQU   PSA+968
PSASRPSW EQU   PSA+960
PSARV045 EQU   PSA+892
PSARV044 EQU   PSA+888
PSARV043 EQU   PSA+884
PSARV042 EQU   PSA+880
PSARV041 EQU   PSA+876
PSARV040 EQU   PSA+872
PSARV025 EQU   PSA+868
PSADSSED EQU   PSA+868
PSADSSPR EQU   PSA+864
PSADSSFW EQU   PSA+860
PSADSS14 EQU   PSA+856
PSADSSPP EQU   PSA+848
PSADSSRP EQU   PSA+840
PSADSS05 EQU   PSADSSF4
PSADSS10 EQU   PSADSSF4
PSADSSVE EQU   PSADSSF4
PSADSSDE EQU   PSADSSF4
PSADSSC0 EQU   PSADSSF4
PSADSSIE EQU   PSADSSF4
PSADSS12 EQU   PSADSSF4
PSADSSRC EQU   PSADSSF4
PSARV057 EQU   PSADSSF3
PSARV056 EQU   PSADSSF3
PSARV055 EQU   PSADSSF3
PSADSSMC EQU   PSADSSF3
PSADSSRW EQU   PSADSSF3
PSADSSNM EQU   PSADSSF3
PSADSSES EQU   PSADSSF3
PSADSSGP EQU   PSADSSF3
PSADSSF2 EQU   PSADSSFL+1
PSADSSPI EQU   PSADSSF1
PSADSSOI EQU   PSADSSF1
PSADSSSP EQU   PSADSSF1
PSADSSTP EQU   PSADSSF1
PSADSSDW EQU   PSADSSF1
PSADSSDD EQU   PSADSSF1
PSADSSDM EQU   PSADSSF1
PSADSSMV EQU   PSADSSF1
PSADSSTS EQU   PSA+816
PSADSSWK EQU   PSA+812
PSADSSR3 EQU   PSA+808
PSADSSR2 EQU   PSA+804
PSADSSRS EQU   PSA+800
PSASTOR  EQU   PSA+796
PSACPUSA EQU   PSA+794
PSAVSTAP EQU   PSA+792
PSAWKVAP EQU   PSA+788
PSAWKRAP EQU   PSA+784
PSAMCHIC EQU   PSA+783
PSARV061 EQU   PSA+782
PSASYMSK EQU   PSA+781
PSAMCHFL EQU   PSA+780
PSACR0   EQU   PSA+776
PSAPSWSV EQU   PSA+768
PSACLHS  EQU   PSAHLHI
PSALKR15 EQU   PSALKSA+60
PSALKR14 EQU   PSALKSA+56
PSALKR13 EQU   PSALKSA+52
PSALKR12 EQU   PSALKSA+48
PSALKR11 EQU   PSALKSA+44
PSALKR10 EQU   PSALKSA+40
PSALKR9  EQU   PSALKSA+36
PSALKR8  EQU   PSALKSA+32
PSALKR7  EQU   PSALKSA+28
PSALKR6  EQU   PSALKSA+24
PSALKR5  EQU   PSALKSA+20
PSALKR4  EQU   PSALKSA+16
PSALKR3  EQU   PSALKSA+12
PSALKR2  EQU   PSALKSA+8
PSALKR1  EQU   PSALKSA+4
PSALKR0  EQU   PSALKSA
PSARV023 EQU   PSACLHT+52
PSALOCAL EQU   PSACLHT+48
PSACMSL  EQU   PSACLHT+44
PSAOPTL  EQU   PSACLHT+40
PSATPACL EQU   PSACLHT+36
PSATPDNL EQU   PSACLHT+32
PSATPNCL EQU   PSACLHT+28
PSAIOSLL EQU   PSACLHT+24
PSAIOSUL EQU   PSACLHT+20
PSAIOSCL EQU   PSACLHT+16
PSAIOSSL EQU   PSACLHT+12
PSASALCL EQU   PSACLHT+8
PSAASML  EQU   PSACLHT+4
PSADISPL EQU   PSACLHT
PSASRSA  EQU   PSA+636
PSARV050 EQU   PSA+634
PSADSSGO EQU   PSA+633
PSARECUR EQU   PSA+632
PSAHLHIS EQU   PSA+628
PSAIPCSA EQU   PSA+624
@NM00110 EQU   PSA+621
PSAIPCDM EQU   PSA+620
PSAIPCD  EQU   PSA+616
@NM00109 EQU   PSA+613
PSAIPCRM EQU   PSA+612
PSAIPCR  EQU   PSA+608
PSAMCHEX EQU   PSA+600
PSAMPSW  EQU   PSA+592
PSAEXPS2 EQU   PSA+584
PSAEXPS1 EQU   PSA+576
PSAPIREG EQU   PSA+572
PSARSREG EQU   PSA+568
PSAGPREG EQU   PSA+556
PSARV022 EQU   PSASUP4
PSARV021 EQU   PSASUP4
PSARV020 EQU   PSASUP4
PSARV019 EQU   PSASUP4
PSARV018 EQU   PSASUP4
PSARV017 EQU   PSASUP4
PSARV016 EQU   PSASUP4
PSARV015 EQU   PSASUP4
PSARV014 EQU   PSASUP3
PSAULCMS EQU   PSASUP3
PSARV012 EQU   PSASUP3
PSAESTA  EQU   PSASUP3
PSASPR   EQU   PSASUP3
PSAPSREG EQU   PSASUP3
PSAPI2   EQU   PSASUP3
PSAIOSUP EQU   PSASUP3
PSALCR   EQU   PSASUP2
PSARTM   EQU   PSASUP2
PSAACR   EQU   PSASUP2
PSAIPCE2 EQU   PSASUP2
PSAIPCES EQU   PSASUP2
PSAIPCEC EQU   PSASUP2
PSAGTF   EQU   PSASUP2
PSAIPCRI EQU   PSASUP2
PSATYPE6 EQU   PSASUP1
PSATCTL  EQU   PSASUP1
PSADISP  EQU   PSASUP1
PSALOCK  EQU   PSASUP1
PSAPI    EQU   PSASUP1
PSAEXT   EQU   PSASUP1
PSASVC   EQU   PSASUP1
PSAIO    EQU   PSASUP1
PSAAOLD  EQU   PSA+548
PSAANEW  EQU   PSA+544
PSATOLD  EQU   PSA+540
PSATNEW  EQU   PSA+536
PSALCCAR EQU   PSA+532
PSALCCAV EQU   PSA+528
PSAPCCAR EQU   PSA+524
PSACPULA EQU   PSA+518
PSACPUPA EQU   PSA+516
PSAPSA   EQU   PSA+512
FLCHDEND EQU   PSA+512
FLCCRSAV EQU   FLCMCLA+280
FLCGRSAV EQU   FLCMCLA+216
FLCFPSAV EQU   FLCMCLA+184
FLCFLA   EQU   FLCMCLA+88
FLCRGNCD EQU   FLCMCLA+84
FLCFSAA  EQU   FLCFSA+1
@NM00108 EQU   FLCFSA
@NM00107 EQU   FLCMCLA+72
FLCMCIC  EQU   FLCMCLA+64
@NM00106 EQU   FLCMCLA+20
FLCIOAA  EQU   FLCIOA+1
@NM00105 EQU   FLCIOA
@NM00104 EQU   FLCMCLA+15
@NM00103 EQU   FLCMCLA+14
@NM00102 EQU   FLCMCLA+12
FLCLCL   EQU   FLCMCLA+8
FLCIOELA EQU   FLCIOEL+1
@NM00101 EQU   FLCIOEL
FLCCHNID EQU   FLCMCLA
@NM00100 EQU   PSA+160
FLCMTRCD EQU   PSA+157
@NM00099 EQU   PSA+156
FLCPERA  EQU   FLCPER+1
@NM00098 EQU   FLCPER
@NM00097 EQU   PSA+151
FLCPERCD EQU   PSA+150
FLCMCNUM EQU   PSA+149
@NM00096 EQU   PSA+148
FLCTEAA  EQU   FLCTEA+1
@NM00095 EQU   FLCTEA
PSAPIPC  EQU   PSAPICOD
PSAPIMC  EQU   PSAPICOD
PSAPIPER EQU   PSAPICOD
PSARV049 EQU   FLCPICOD
FLCPILCB EQU   FLCPIILC
@NM00094 EQU   FLCPIILC
@NM00093 EQU   PSAEPPSW
FLCSVCN  EQU   PSAESPSW+2
FLCSILCB EQU   FLCSVILC
@NM00092 EQU   FLCSVILC
@NM00091 EQU   PSAESPSW
FLCEICOD EQU   PSAEEPSW+2
PSASPAD  EQU   PSAEEPSW
@NM00090 EQU   PSA+128
FLCINPSW EQU   PSA+120
FLCMNPSW EQU   PSA+112
FLCPNPSW EQU   PSA+104
FLCSNPSW EQU   PSA+96
FLCENPSW EQU   PSA+88
FLCTIMER EQU   PSA+80
FLCCVT2  EQU   PSA+76
FLCCAW   EQU   PSA+72
FLCCSW   EQU   PSA+64
FLCIOPSW EQU   PSA+56
FLCMOPSW EQU   PSA+48
FLCPOPSW EQU   PSA+40
FLCSOPSW EQU   PSA+32
FLCEOPSW EQU   PSA+24
@NM00089 EQU   FLCICCW2+4
FLCCVT   EQU   FLCICCW2
FLCICCW1 EQU   FLCROPSW
FLCIPPSW EQU   FLCRNPSW
DSVEND   EQU   DSV+340
DSVWORK5 EQU   DSV+336
DSVWORK4 EQU   DSV+332
DSVWORK3 EQU   DSV+328
DSVWORK2 EQU   DSV+324
DSVWORK1 EQU   DSV+323
DSVPFER  EQU   DSVERROR
DSVPDER  EQU   DSVERROR
DSVRSVF  EQU   DSVERROR
DSVZAOS  EQU   DSVERROR
DSVIOC2  EQU   DSVERROR
DSVIOC1  EQU   DSVERROR
DSVERR1  EQU   DSVERROR
DSVDIC   EQU   DSVREST
DSVERR2  EQU   DSVREST
DSVREFR  EQU   DSVREST
DSVEXT   EQU   DSVDONE
DSVMISC  EQU   DSVDONE
DSVSEGT  EQU   DSVDONE
DSVPFXD  EQU   DSVDONE
DSVPFXE  EQU   DSVDONE
DSVPD    EQU   DSVDONE
DSVIOC   EQU   DSVDONE
DSVHK    EQU   DSVDONE
DSVRORSV EQU   DSVRONME
DSVRO1E  EQU   DSVRONM+12
DSVRO1B  EQU   DSVRONM+8
DSVPSAE  EQU   DSVRONM+4
DSVPSAB  EQU   DSVRONM
DSVRSV5  EQU   DSVNONME
DSVNM8E  EQU   DSVNONM+60
DSVNM8B  EQU   DSVNONM+56
DSVNM7E  EQU   DSVNONM+52
DSVNM7B  EQU   DSVNONM+48
DSVNM6E  EQU   DSVNONM+44
DSVNM6B  EQU   DSVNONM+40
DSVNM5E  EQU   DSVNONM+36
DSVNM5B  EQU   DSVNONM+32
DSVNM4E  EQU   DSVNONM+28
DSVNM4B  EQU   DSVNONM+24
DSVNM3E  EQU   DSVNONM+20
DSVNM3B  EQU   DSVNONM+16
DSVNM2E  EQU   DSVNONM+12
DSVNM2B  EQU   DSVNONM+8
DSVNM1E  EQU   DSVNONM+4
DSVNM1B  EQU   DSVNONM
DSVRSV4  EQU   DSVCATEN
DSVDSSNO EQU   DSVCATST+28
DSVMCHK1 EQU   DSVCATST+24
DVSDSSRS EQU   DSVCATST+20
DSVDSSST EQU   DSVCATST+16
DSVIOHK7 EQU   DSVCATST+12
DSVIOHK6 EQU   DSVCATST+8
DSVIOHK5 EQU   DSVCATST+4
DSVIOHK4 EQU   DSVCATST
DSVVDSS  EQU   DSV+160
DSVEXIT  EQU   DSV+156
DSVLOAD  EQU   DSV+152
DSVIOHK8 EQU   DSV+148
DSVIOHK3 EQU   DSV+144
DSVIOHK2 EQU   DSV+140
DSVIOHK1 EQU   DSV+136
DSVRSV3  EQU   DSV+116
DSVVEDS2 EQU   DSV+112
DSVVEDS1 EQU   DSV+108
DSVRSV2  EQU   DSV+100
DSVINCPU EQU   DSV+98
DSVEVCPU EQU   DSV+96
DSVRSCPU EQU   DSVNUIOC+2
DSVUNUS1 EQU   DSVNUIOC
DSVRSV1  EQU   DSV+68
DSVICPAD EQU   DSV+64
DSVICTAD EQU   DSV+60
DSVICCID EQU   DSVICCCW+2
DSVICCCD EQU   DSVICCCW+1
DSVICCWT EQU   DSVICCCW
DSVLCKID EQU   DSVLOCK+2
DSVLKTYP EQU   DSVLOCK+1
DSVLCK   EQU   DSVLOCK
DSVRSV0  EQU   DSV+48
DSVRIHAD EQU   DSV+44
DSVACTAD EQU   DSV+40
DSVINIAD EQU   DSV+36
DSVLANHI EQU   DSV+32
DSVLANLO EQU   DSV+28
DSVAVT   EQU   DSV+24
DSVINTOC EQU   DSV+20
DSVDVE   EQU   DSV+16
DSVPDSST EQU   DSV+12
DSVPDSUC EQU   DSV+8
DSVFLGS  EQU   DSV+4
DSVSPIN  EQU   DSVFLG1
DSVTERM  EQU   DSVFLG1
DSVREFS  EQU   DSVFLG1
DSVATTN  EQU   DSVFLG1
DSVINIT  EQU   DSVFLG1
DSVRIM   EQU   DSVFLG1
DSVID    EQU   DSV
@NM00088 EQU   PCCA+512
PCCACAT  EQU   PCCA+384
PCCARV36 EQU   PCCA+380
PCCARV35 EQU   PCCA+378
PCCARV01 EQU   PCCA+377
PCCAR105 EQU   PCCAATTR
PCCAR104 EQU   PCCAATTR
PCCAR103 EQU   PCCAATTR
PCCAR102 EQU   PCCAATTR
PCCAR101 EQU   PCCAATTR
PCCAR100 EQU   PCCAATTR
PCCAIO   EQU   PCCAATTR
PCCACPUM EQU   PCCAATTR
PCCARV63 EQU   PCCA+372
PCCARV62 EQU   PCCA+368
PCCARV61 EQU   PCCA+364
PCCARV60 EQU   PCCA+360
PCCARV59 EQU   PCCA+356
PCCARV58 EQU   PCCA+352
PCCARV57 EQU   PCCA+348
PCCARV56 EQU   PCCA+344
PCCARV55 EQU   PCCA+340
PCCARV54 EQU   PCCA+336
PCCALOGA EQU   PCCA+332
PCCACHID EQU   PCCA+324
PCCACHSV EQU   PCCA+312
PCCARV79 EQU   PCCACHF4
PCCARV78 EQU   PCCACHF4
PCCARV77 EQU   PCCACHF4
PCCARV76 EQU   PCCACHF4
PCCARV75 EQU   PCCACHF4
PCCARV74 EQU   PCCACHF4
PCCARV73 EQU   PCCACHF4
PCCARV72 EQU   PCCACHF4
PCCARV71 EQU   PCCACHF3
PCCARV70 EQU   PCCACHF3
PCCARV69 EQU   PCCACHF3
PCCARV68 EQU   PCCACHF3
PCCARV67 EQU   PCCACHF3
PCCARV66 EQU   PCCACHF3
PCCARV65 EQU   PCCACHF3
PCCARV64 EQU   PCCACHF3
PCCACF28 EQU   PCCACHF2
PCCACF27 EQU   PCCACHF2
PCCACF26 EQU   PCCACHF2
PCCACF25 EQU   PCCACHF2
PCCACF24 EQU   PCCACHF2
PCCACF23 EQU   PCCACHF2
PCCACF22 EQU   PCCACHF2
PCCACF21 EQU   PCCACHF2
PCCACF18 EQU   PCCACHF1
PCCACF17 EQU   PCCACHF1
PCCACF16 EQU   PCCACHF1
PCCACF15 EQU   PCCACHF1
PCCACF14 EQU   PCCACHF1
PCCACF13 EQU   PCCACHF1
PCCACF12 EQU   PCCACHF1
PCCACF11 EQU   PCCACHF1
PCCARV05 EQU   PCCA+306
PCCACHPB EQU   PCCA+305
PCCALGP2 EQU   PCCA+304
PCCALGP1 EQU   PCCA+303
PCCALOGL EQU   PCCA+302
PCCARV80 EQU   PCCA+300
PCCACHW2 EQU   PCCA+296
PCCACHW1 EQU   PCCA+292
PCCAIOSI EQU   PCCA+291
PCCACNRB EQU   PCCACHRB
PCCACCVB EQU   PCCACHRB
PCCACSNB EQU   PCCACHRB
PCCARV52 EQU   PCCACHRB
PCCACHIB EQU   PCCACHRB
PCCACTIB EQU   PCCACHRB
PCCACINB EQU   PCCACHRB
PCCACSIB EQU   PCCACHRB
PCCARV51 EQU   PCCACHS2
PCCARV50 EQU   PCCACHS2
PCCACCRA EQU   PCCACHS2
PCCACURC EQU   PCCACHS2
PCCACNLG EQU   PCCACHS2
PCCACMOD EQU   PCCACHS2
PCCACALT EQU   PCCACHS2
PCCACIOR EQU   PCCACHS2
PCCARV47 EQU   PCCACHS1
PCCACUCB EQU   PCCACHS1
PCCACIBC EQU   PCCACHS1
PCCACAND EQU   PCCACHS1
PCCACNLS EQU   PCCACHS1
PCCACFRR EQU   PCCACHS1
PCCACNRE EQU   PCCACHS1
PCCACCMP EQU   PCCACHS1
PCCACSEQ EQU   PCCACHTS
PCCACDIN EQU   PCCACHTS
PCCARV44 EQU   PCCACHTS
PCCARV43 EQU   PCCACHTS
PCCACTEC EQU   PCCACHTS
PCCACDAV EQU   PCCACHVA
PCCACCHV EQU   PCCACHVA
PCCACCMD EQU   PCCACHVA
PCCACUNS EQU   PCCACHVA
PCCACSQV EQU   PCCACHVA
PCCARV42 EQU   PCCACHVA
PCCARV41 EQU   PCCACHVA
PCCACITF EQU   PCCACHVA
PCCARV40 EQU   PCCACHBL
PCCARV39 EQU   PCCACHBL
PCCARV38 EQU   PCCACHBL
PCCACCUE EQU   PCCACHBL
PCCACSTG EQU   PCCACHBL
PCCACSCU EQU   PCCACHBL
PCCACCHA EQU   PCCACHBL
PCCACCPU EQU   PCCACHBL
PCCACNOR EQU   PCCACHPF
PCCACCNT EQU   PCCACHPF
PCCACSNS EQU   PCCACHPF
PCCARV37 EQU   PCCACHPF
PCCACHIO EQU   PCCACHPF
PCCACTIO EQU   PCCACHPF
PCCACINT EQU   PCCACHPF
PCCACSIO EQU   PCCACHPF
PCCACHUB EQU   PCCAWERP
PCCACHEL EQU   PCCA+168
PCCALRBR EQU   PCCA+164
PCCALRBV EQU   PCCA+160
PCCAPWAR EQU   PCCA+156
PCCAPWAV EQU   PCCA+152
PCCAEMSA EQU   PCCAEMSB+12
PCCAEMSE EQU   PCCAEMSB+8
PCCAEMSP EQU   PCCAEMSB+4
PCCARMS  EQU   PCCARMSB
PCCARV34 EQU   PCCARMSB
PCCARV33 EQU   PCCARMSB
PCCARV32 EQU   PCCARMSB
PCCARV31 EQU   PCCARMSB
PCCARV30 EQU   PCCARMSB
PCCARV29 EQU   PCCARMSB
PCCARV28 EQU   PCCARMSB
PCCARV27 EQU   PCCAEMS3
PCCARV26 EQU   PCCAEMS3
PCCARV25 EQU   PCCAEMS3
PCCARV24 EQU   PCCAEMS3
PCCARV23 EQU   PCCAEMS3
PCCARV22 EQU   PCCAEMS3
PCCARV21 EQU   PCCAEMS3
PCCARV20 EQU   PCCAEMS3
PCCARV19 EQU   PCCAEMS2
PCCARV18 EQU   PCCAEMS2
PCCARV17 EQU   PCCAEMS2
PCCARV16 EQU   PCCAEMS2
PCCARV15 EQU   PCCAEMS2
PCCARV14 EQU   PCCAEMS2
PCCARV13 EQU   PCCAEMS2
PCCARV12 EQU   PCCAEMS2
PCCARV11 EQU   PCCARISP
PCCARV10 EQU   PCCARISP
PCCARV09 EQU   PCCARISP
PCCARV08 EQU   PCCARISP
PCCARV07 EQU   PCCARISP
PCCARV06 EQU   PCCARISP
PCCASERL EQU   PCCARISP
PCCAPARL EQU   PCCARISP
PCCARPB  EQU   PCCA+132
PCCACTIN EQU   PCCAINTE
PCCANFIN EQU   PCCAINTE
PCCANUIN EQU   PCCAINTE
PCCACTCC EQU   PCCACCE
PCCANFCC EQU   PCCACCE
PCCANUCC EQU   PCCACCE
PCCACTTD EQU   PCCATODE
PCCANFTD EQU   PCCATODE
PCCANUTD EQU   PCCATODE
PCCARV04 EQU   PCCATMFL
PCCARV03 EQU   PCCATMFL
PCCARV02 EQU   PCCATMFL
PCCAMINT EQU   PCCATMFL
PCCAMCC  EQU   PCCATMFL
PCCAVKIL EQU   PCCATMFL
PCCASYNC EQU   PCCATMFL
PCCAINIT EQU   PCCATMFL
PCCARV9E EQU   PCCA+124
PCCARV9D EQU   PCCA+120
PCCARV9C EQU   PCCA+116
PCCARV9B EQU   PCCA+112
PCCARV9A EQU   PCCA+108
PCCARV99 EQU   PCCA+104
PCCARV98 EQU   PCCA+100
PCCARV97 EQU   PCCA+96
PCCARV96 EQU   PCCA+92
PCCARV95 EQU   PCCA+88
PCCARV94 EQU   PCCA+84
PCCARV93 EQU   PCCA+80
PCCARV92 EQU   PCCA+76
PCCARV91 EQU   PCCA+72
PCCARV90 EQU   PCCA+68
PCCARV89 EQU   PCCA+64
PCCARV88 EQU   PCCA+60
PCCARV87 EQU   PCCA+56
PCCARV86 EQU   PCCA+52
PCCARV85 EQU   PCCA+48
PCCARV84 EQU   PCCA+44
PCCARV83 EQU   PCCA+40
PCCARV82 EQU   PCCA+36
PCCARV81 EQU   PCCA+32
PCCAPSAR EQU   PCCA+28
PCCATQEP EQU   PCCA+20
PCCACAFM EQU   PCCA+18
PCCACPUA EQU   PCCA+16
PCCACPID EQU   PCCA+4
PCCAPCCA EQU   PCCA
RSMASMHD EQU   RSMHD+40
RSMFOEQ  EQU   RSMHD+36
RSMLIOQL EQU   RSMLIOQ+4
RSMLIOQF EQU   RSMLIOQ
RSMLSQAL EQU   RSMLSQA+2
RSMLSQAF EQU   RSMLSQA
RSMLFQL  EQU   RSMLFQ+2
RSMLFQF  EQU   RSMLFQ
RSMRSV2  EQU   RSMHD+16
RSMRSV1  EQU   RSMHD+13
@NM00087 EQU   RSMFLG1
RSMFAIL  EQU   RSMFLG1
RSMGFADD EQU   RSMFLG1
RSMCPNC  EQU   RSMFLG1
RSMCPNU  EQU   RSMFLG1
RSMGFAD  EQU   RSMFLG1
RSMIOCPC EQU   RSMFLG1
RSMIOCPU EQU   RSMFLG1
RSMASCB  EQU   RSMHD+8
RSMSPCT  EQU   RSMHD+4
PVTEND   EQU   PVT+1840
PVTSPARE EQU   PVT+1838
PVTCHUIC EQU   PVT+1836
PVTDEFFX EQU   PVT+1828
PVTRSRB  EQU   PVT+1776
PVTRESV5 EQU   PVT+1773
PVTSRBS  EQU   PVT+1772
PVTSSRB  EQU   PVT+1768
PVTACA   EQU   PVTWSAX+1400
PVTSAVE  EQU   PVTWSAX+1328
PVTWSA18 EQU   PVTWSAX+1256
PVTWSA17 EQU   PVTWSAX+1184
PVTWSA16 EQU   PVTWSAX+1112
PVTWSA15 EQU   PVTWSAX+1040
PVTWSA14 EQU   PVTWSAX+968
PVTWSA13 EQU   PVTWSAX+896
PVTWSA12 EQU   PVTWSAX+824
PVTWSA11 EQU   PVTWSAX+752
PVTWSA10 EQU   PVTWSAX+672
PVTWSA9  EQU   PVTWSAX+592
PVTWSA8  EQU   PVTWSAX+504
PVTWSA7  EQU   PVTWSAX+432
PVTWSA6  EQU   PVTWSAX+360
PVTWSA5  EQU   PVTWSAX+288
PVTWSA4  EQU   PVTWSAX+216
PVTWSA3  EQU   PVTWSAX+144
PVTWSA2  EQU   PVTWSAX+72
PVTWSA1  EQU   PVTWSAX
PVTCIOQL EQU   PVTQS+36
PVTCIOQF EQU   PVTQS+32
PVTGFADL EQU   PVTQS+28
PVTGFADF EQU   PVTQS+24
PVTFPCBL EQU   PVTQS+20
PVTFPCBF EQU   PVTQS+16
PVTSQAQL EQU   PVTQS+14
PVTSQAQF EQU   PVTQS+12
PVTCFQL  EQU   PVTQS+10
PVTCFQF  EQU   PVTQS+8
PVTRSRVL EQU   PVTQS+6
PVTRSRVF EQU   PVTQS+4
PVTSPFR  EQU   PVT+302
PVTCFMCT EQU   PVT+300
PVTSPREC EQU   PVT+296
PVTCAREC EQU   PVT+292
PVTCAOUT EQU   PVT+288
PVTCAIN  EQU   PVT+284
PVTNSWPS EQU   PVT+280
PVTNPREC EQU   PVT+276
PVTSPOUT EQU   PVT+272
PVTSPIN  EQU   PVT+268
PVTVAMR  EQU   PVT+264
PVTVAMO  EQU   PVT+260
PVTVAMI  EQU   PVT+256
PVTNPOUT EQU   PVT+252
PVTNPIN  EQU   PVT+248
PVTPRSET EQU   PVT+244
PVTFRSLT EQU   PVT+240
PVTPAGIO EQU   PVT+236
PVTSWPIO EQU   PVT+232
PVTPSWPP EQU   PVT+228
PVTPPREF EQU   PVT+224
PVTPOPBR EQU   PVT+220
PVTPRELF EQU   PVT+216
PVTPRELV EQU   PVT+212
PVTPFREE EQU   PVT+208
PVTPRELS EQU   PVT+204
PVTPOUT  EQU   PVT+200
PVTPFXLD EQU   PVT+196
PVTPITAS EQU   PVT+192
PVTPSRBP EQU   PVT+188
PVTPDSEG EQU   PVT+184
PVTPCSGB EQU   PVT+180
PVTPCSEG EQU   PVT+176
PVTPSWPC EQU   PVT+168
PVTPSOUT EQU   PVT+164
PVTPSWIN EQU   PVT+160
PVTPRCV  EQU   PVT+156
PVTPRCFI EQU   PVT+152
PVTPRCF  EQU   PVT+148
PVTPVRC  EQU   PVT+144
PVTPVRIN EQU   PVT+140
PVTPVRLS EQU   PVT+136
PVTPVEQR EQU   PVT+132
PVTPPIOI EQU   PVT+128
PVTPVRPO EQU   PVT+124
PVTPRFR  EQU   PVT+120
PVTPFP2  EQU   PVT+116
PVTPFP   EQU   PVT+112
PVTPFTE  EQU   PVT+108
PVTPCB   EQU   PVT+104
PVTREP2  EQU   PVT+100
PVTPIOCP EQU   PVT+96
PVTPIOP  EQU   PVT+92
PVTPGFAD EQU   PVT+88
PVTPGFA  EQU   PVT+84
PVTPSQA  EQU   PVT+80
PVTPSINT EQU   PVT+76
PVTPSIB  EQU   PVT+72
PVTSRBID EQU   PVT+68
PVTHQSA  EQU   PVT+62
PVTLQSA  EQU   PVT+60
PVTOROOT EQU   PVT+56
PVTPRCA  EQU   PVT+52
PVTREUS  EQU   PVT+48
PVTRESV4 EQU   PVT+46
PVTVROOT EQU   PVT+40
PVTPCBLO EQU   PVT+38
PVTPCBCT EQU   PVT+36
PVTDFRS  EQU   PVT+34
PVTRSQA  EQU   PVT+32
PVTPTLB  EQU   PVT+31
PVTPCBNO EQU   PVT+30
PVTSRBNO EQU   PVT+29
PVTSQDC  EQU   PVT+28
PVTLCSA  EQU   PVT+26
PVTLPRIV EQU   PVT+24
PVTSSPIN EQU   PVT+11
PVTPCBS  EQU   PVT+10
PVTAFCLO EQU   PVT+4
PVTFLAG2 EQU   PVT+1
PVTDUMP  EQU   PVTFLAG1
PVTSIT   EQU   PVTFLAG1
PVTLSI   EQU   PVTFLAG1
PVTRESV1 EQU   PVTFLAG1
PVTPCBLT EQU   PVTFLAG1
PVTSRBIU EQU   PVTFLAG1
PVTBGMS  EQU   PVTFLAG1
PVTPMSG  EQU   PVTFLAG1
ASCBEND  EQU   ASCB+208
ASCBSRBT EQU   ASCB+200
ASCBSWTL EQU   ASCB+196
ASCBRS14 EQU   ASCB+195
ASCBSMCT EQU   ASCB+194
ASCBRS12 EQU   ASCB+192
ASCBPCTT EQU   ASCB+188
ASCBVGTT EQU   ASCB+184
ASCBRV43 EQU   ASCBSRQ4
ASCBRV42 EQU   ASCBSRQ4
ASCBRV41 EQU   ASCBSRQ4
ASCBRV40 EQU   ASCBSRQ4
ASCBRV39 EQU   ASCBSRQ4
ASCBRV38 EQU   ASCBSRQ4
ASCBRV37 EQU   ASCBSRQ4
ASCBRV36 EQU   ASCBSRQ4
ASCBRV35 EQU   ASCBSRQ3
ASCBRV34 EQU   ASCBSRQ3
ASCBRV33 EQU   ASCBSRQ3
ASCBRV32 EQU   ASCBSRQ3
ASCBRV31 EQU   ASCBSRQ3
ASCBRV30 EQU   ASCBSRQ3
ASCBRV29 EQU   ASCBSRQ3
ASCBRV28 EQU   ASCBSRQ3
ASCBRV27 EQU   ASCBSRQ2
ASCBRV26 EQU   ASCBSRQ2
ASCBRV25 EQU   ASCBSRQ2
ASCBRV24 EQU   ASCBSRQ2
ASCBRV23 EQU   ASCBSRQ2
ASCBRV22 EQU   ASCBSRQ2
ASCBRV21 EQU   ASCBSRQ2
ASCBRV20 EQU   ASCBSRQ2
ASCBRV19 EQU   ASCBSRQ1
ASCBRV18 EQU   ASCBSRQ1
ASCBRV17 EQU   ASCBSRQ1
ASCBRV16 EQU   ASCBSRQ1
ASCBRV15 EQU   ASCBSRQ1
ASCBRV14 EQU   ASCBSRQ1
ASCBRV13 EQU   ASCBSRQ1
ASCBSTA  EQU   ASCBSRQ1
ASCBJBNS EQU   ASCB+176
ASCBJBNI EQU   ASCB+172
ASCBMCC  EQU   ASCB+168
ASCBRTWA EQU   ASCB+164
ASCBIQEA EQU   ASCB+160
ASCBXMPQ EQU   ASCB+156
ASCBRS01 EQU   ASCB+154
ASCBFMCT EQU   ASCB+152
ASCBOUXB EQU   ASCB+148
ASCBOUCB EQU   ASCB+144
ASCBMECB EQU   ASCB+140
ASCBQECB EQU   ASCB+136
ASCBLSQH EQU   ASCBLKGP+4
ASCBLOCK EQU   ASCBLKGP
ASCBTCBS EQU   ASCB+124
ASCBNVSC EQU   ASCB+122
ASCBVSC  EQU   ASCB+120
ASCBSRBS EQU   ASCB+118
ASCBSSRB EQU   ASCB+116
ASCBRV06 EQU   ASCBFLG2
ASCBRV05 EQU   ASCBFLG2
ASCBRV04 EQU   ASCBFLG2
ASCBSNQS EQU   ASCBFLG2
ASCBS2S  EQU   ASCBFLG2
ASCBCEXT EQU   ASCBFLG2
ASCBPXMT EQU   ASCBFLG2
ASCBXMPT EQU   ASCBFLG2
ASCBRF07 EQU   ASCBDSP1
ASCBRF06 EQU   ASCBDSP1
ASCBRF05 EQU   ASCBDSP1
ASCBRF04 EQU   ASCBDSP1
ASCBRF03 EQU   ASCBDSP1
ASCBRF02 EQU   ASCBDSP1
ASCBFAIL EQU   ASCBDSP1
ASCBNOQ  EQU   ASCBDSP1
ASCBSWCT EQU   ASCB+112
ASCBTMCH EQU   ASCB+104
ASCBNSWP EQU   ASCBFLG1
ASCBTYP1 EQU   ASCBFLG1
ASCBSTND EQU   ASCBFLG1
ASCBABNT EQU   ASCBFLG1
ASCBTERM EQU   ASCBFLG1
ASCBS3S  EQU   ASCBFLG1
ASCBCMSH EQU   ASCBFLG1
ASCBTOFF EQU   ASCBFLG1
ASCBRF01 EQU   ASCBRCTF
ASCBTMLW EQU   ASCBRCTF
ASCBOUT  EQU   ASCBRCTF
ASCBWAIT EQU   ASCBRCTF
ASCBRV08 EQU   ASCBRCTF
ASCBFQU  EQU   ASCBRCTF
ASCBFRS  EQU   ASCBRCTF
ASCBTMNO EQU   ASCBRCTF
ASCBAFFN EQU   ASCBFW1
ASCBDUMP EQU   ASCB+96
ASCBRV44 EQU   ASCB+92
ASCBUBET EQU   ASCB+88
ASCBECB  EQU   ASCB+84
ASCBJSTL EQU   ASCB+80
ASCBEWST EQU   ASCB+72
ASCBEJST EQU   ASCB+64
ASCBTSB  EQU   ASCB+60
ASCBCSCB EQU   ASCB+56
ASCBRSMA EQU   ASCBRSM+1
ASCBRV54 EQU   ASCBRSMF
ASCBRV53 EQU   ASCBRSMF
ASCBRV52 EQU   ASCBRSMF
ASCBRV51 EQU   ASCBRSMF
ASCBVEQR EQU   ASCBRSMF
ASCBN2LP EQU   ASCBRSMF
ASCB1LPU EQU   ASCBRSMF
ASCBDP   EQU   ASCB+43
ASCBRV07 EQU   ASCB+42
ASCBIOSM EQU   ASCB+40
ASCBSEQN EQU   ASCB+38
ASCBASID EQU   ASCB+36
ASCBCPUS EQU   ASCB+32
ASCBSPL  EQU   ASCB+28
ASCBIOSP EQU   ASCB+24
ASCBSYNC EQU   ASCBSUPC+4
ASCBSVRB EQU   ASCBSUPC
ASCBCMSF EQU   ASCB+12
ASCBBWDP EQU   ASCB+8
ASCBFWDP EQU   ASCB+4
ASCBASCB EQU   ASCB
ASCBEGIN EQU   ASCB
PQERSVD  EQU   PQESECT+31
VVVRFLG  EQU   VMMFLGS
@NM00086 EQU   VMMFLGS
PQEHRID  EQU   PQESECT+29
PQERFLGS EQU   PQESECT+28
PQEBPQE  EQU   PQESECT+12
@NM00085 EQU   PGTBITS
@NM00084 EQU   PGTBITS
@NM00083 EQU   PGTBITS
@NM00082 EQU   PGTBITS
@NM00081 EQU   PGTBITS
@NM00080 EQU   PGTBITS
PGTREAL  EQU   PGTRSA
PFTUIC   EQU   PFTE+15
@NM00079 EQU   PFTFLAG2
@NM00078 EQU   PFTFLAG2
PFTSTEAL EQU   PFTFLAG2
PFTIRRG  EQU   PFTFLAG2
PFTDFRLS EQU   PFTFLAG2
PFTOFINT EQU   PFTFLAG1
PFTBADPG EQU   PFTFLAG1
PFTPCBSI EQU   PFTFLAG1
PFTLNGFX EQU   PFTFLAG1
PFTLSQA  EQU   PFTFLAG1
PFTVRINT EQU   PFTFLAG1
PFTRSV1  EQU   PFTE+10
PFTASID  EQU   PFTPGID
NIPPTSID EQU   NIPPTE+6
@NM00077 EQU   NIPPTATF
NIPPTMRG EQU   NIPPTATF
@NM00076 EQU   NIPPTOPF
NIPPTCAN EQU   NIPPTOPF
NIPPTLST EQU   NIPPTOPF
NIPPTOPI EQU   NIPPTOPF
NIPPTADR EQU   NIPPTE
PTABEND  EQU   PARMTAB+312
@NM00075 EQU   PARMTAB+308
DUPLEX   EQU   PARMTAB+304
@NM00074 EQU   PARMTAB+300
PAGNUM   EQU   PARMTAB+296
@NM00073 EQU   PARMTAB+292
SWAP     EQU   PARMTAB+288
@NM00072 EQU   PARMTAB+284
@NM00071 EQU   @NM00069+1
@NM00070 EQU   NIPPAFLG
NIPPAFL1 EQU   NIPPAFLG
@NM00068 EQU   PARMTAB+268
PURGE    EQU   PARMTAB+264
@NM00067 EQU   PARMTAB+260
WTORPLY  EQU   PARMTAB+256
@NM00066 EQU   PARMTAB+252
WTOBFRS  EQU   PARMTAB+248
@NM00065 EQU   PARMTAB+244
VRREGN   EQU   PARMTAB+240
@NM00064 EQU   PARMTAB+236
VAL      EQU   PARMTAB+232
@NM00063 EQU   PARMTAB+228
SYSP     EQU   PARMTAB+224
@NM00062 EQU   PARMTAB+220
SQA      EQU   PARMTAB+216
@NM00061 EQU   PARMTAB+212
SMF      EQU   PARMTAB+208
@NM00060 EQU   PARMTAB+204
REAL     EQU   PARMTAB+200
@NM00059 EQU   PARMTAB+196
PAGEO    EQU   PARMTAB+192
@NM00058 EQU   PARMTAB+188
PAGEP    EQU   PARMTAB+184
@NM00057 EQU   PARMTAB+180
OPT      EQU   PARMTAB+176
@NM00056 EQU   PARMTAB+172
OPI      EQU   PARMTAB+168
@NM00055 EQU   PARMTAB+164
NUCMAP   EQU   PARMTAB+160
@NM00054 EQU   PARMTAB+156
MLPA     EQU   PARMTAB+152
@NM00053 EQU   PARMTAB+148
MAXUSER  EQU   PARMTAB+144
@NM00052 EQU   PARMTAB+140
LOGLMT   EQU   PARMTAB+136
@NM00051 EQU   PARMTAB+132
LOGCLS   EQU   PARMTAB+128
@NM00050 EQU   PARMTAB+124
LNK      EQU   PARMTAB+120
@NM00049 EQU   PARMTAB+116
IPS      EQU   PARMTAB+112
@NM00048 EQU   PARMTAB+108
HARDCPY  EQU   PARMTAB+104
@NM00047 EQU   PARMTAB+100
FIX      EQU   PARMTAB+96
@NM00046 EQU   PARMTAB+92
DUMP     EQU   PARMTAB+88
@NM00045 EQU   PARMTAB+84
CVIO     EQU   PARMTAB+80
@NM00044 EQU   PARMTAB+76
CSA      EQU   PARMTAB+72
@NM00043 EQU   PARMTAB+68
CPQE     EQU   PARMTAB+64
@NM00042 EQU   PARMTAB+60
CONT     EQU   PARMTAB+56
@NM00041 EQU   PARMTAB+52
CMD      EQU   PARMTAB+48
@NM00040 EQU   PARMTAB+44
CLPA     EQU   PARMTAB+40
@NM00039 EQU   PARMTAB+36
BLDLF    EQU   PARMTAB+32
@NM00038 EQU   PARMTAB+28
BLDL     EQU   PARMTAB+24
@NM00037 EQU   PARMTAB+20
APG      EQU   PARMTAB+16
@NM00036 EQU   PARMTAB+12
APF      EQU   PARMTAB+8
PTABSTRT EQU   PARMTAB
NIPPABUF EQU   NIPPAREA+572
NIPPAPTB EQU   NIPPAREA+252
@NM00035 EQU   NIPPAREA+248
NIPPARCD EQU   NIPPAIOD+136
NIPPADEB EQU   NIPPAIOD+88
@NM00034 EQU   NIPPAECB+1
NIPPAECC EQU   NIPPAECB
NIPPADCB EQU   NIPPAIOD+80
NIPPAIOB EQU   NIPPAIOD+40
@NM00033 EQU   NIPPAIOD+37
NIPPASID EQU   NIPPAIOD+32
NIPPATXT EQU   NIPPAIOD
@NM00032 EQU   NIPPAREA+30
@NM00031 EQU   NIPPABDL+15
NIPPATTR EQU   NIPPABDL+12
NIPPANAM EQU   NIPPABDL+4
NIPPA2BF EQU   NIPPABDH
NIPPARC  EQU   NIPPAREA+8
@NM00030 EQU   NIPPAREA
NIPPABYT EQU   NIPPAHDR+4
NIPPAQ   EQU   NIPPAHDR
NVTLPAHA EQU   NVT+548
NVTLPALO EQU   NVT+544
NVTRMSG  EQU   NVT+540
NVTRLOCK EQU   NVT+536
NVTRCODE EQU   NVT+532
@NM00029 EQU   NVT+529
@NM00028 EQU   NVTFLPO
NVTFLWS  EQU   NVTFLPO
NVTFLQS  EQU   NVTFLPO
@NM00027 EQU   NVTFLPO
NVTSYSP  EQU   NVTFLPO
NVTFLLST EQU   NVTFLPO
NVTRSV48 EQU   NVT+524
NVTRSV47 EQU   NVT+520
NVTRSV46 EQU   NVT+516
@NM00026 EQU   NVT+512
NVTRSV45 EQU   NVT+496
NVTVRLNG EQU   NVT+492
NVTVRREG EQU   NVT+488
NVTLVIRT EQU   NVT+484
NVTRSV4A EQU   NVT+480
NVTLPAND EQU   NVT+476
NVTRMSS  EQU   NVT+472
NVTRPQE  EQU   NVT+468
NVTRLLE  EQU   NVT+464
NVTRJPQ  EQU   NVT+460
NVTVLLE  EQU   NVT+448
NVTVJPQ  EQU   NVT+444
NVTLSEC  EQU   NVTLOCAT+4
NVTLFST  EQU   NVTLOCAT
NVTXSEC  EQU   NVTXCTL+4
NVTXFST  EQU   NVTXCTL
@NM00025 EQU   NVT+425
NVTLPACT EQU   NVT+424
NVTCSLPG EQU   NVT+420
NVTCSIOB EQU   NVT+416
NVTCSLNM EQU   NVT+412
NVTCSLIB EQU   NVT+408
NVTBLDL  EQU   NVT+404
NVTVRBLD EQU   NVT+400
@NM00024 EQU   NVT+392
NVTVRTCB EQU   NVT+388
NVTVVTCB EQU   NVT+384
NVTSPUCB EQU   NVT+382
NVTRSV44 EQU   NVT+380
NVTQSBUF EQU   NVT+376
NVTPAREA EQU   NVT+368
NVTRSV43 EQU   NVT+364
@NM00023 EQU   NVT+363
NVTABWS1 EQU   NVT+362
NVTABCD1 EQU   NVT+360
@NM00022 EQU   NVT+358
NVTCPUAD EQU   NVT+356
NVTTOD   EQU   NVT+352
NVTMBEND EQU   NVT+340
NVTMBUF  EQU   NVT+336
NVTDCBSN EQU   NVT+332
NVTDCBOC EQU   NVT+328
NVTDCBIC EQU   NVT+324
@NM00021 EQU   NVT+308
NVTNMBLD EQU   NVT+304
NVTNIPM  EQU   NVT+292
NVTIX    EQU   NVTFLWSC
NVTFLWS1 EQU   NVTWPSW2+2
NVTIDPSW EQU   NVTWPSW2
NVTWPSW1 EQU   NVTWTPSW
NVTMCPSW EQU   NVT+216
@NM00020 EQU   NVT+212
@NM00019 EQU   NVTFLCN
NVTFLRAC EQU   NVTFLCN
NVTFLNCK EQU   NVTFLCN
NVTFLNHC EQU   NVTFLCN
NVTFLASM EQU   NVTFLCN
NVTFLIOC EQU   NVTFLCN
NVTFLAC  EQU   NVTFLCN
NVTFLSG  EQU   NVT+210
NVTNXSIZ EQU   NVT+202
@NM00018 EQU   NVT+200
NVTSGPSA EQU   NVT+196
NVTN0MSG EQU   NVT+192
NVTNBFND EQU   NVT+184
NVTSTMAP EQU   NVT+176
NVTPQSAV EQU   NVT+156
NVTSVC60 EQU   NVT+148
NVTABSEC EQU   NVTABSAV+4
NVTABFST EQU   NVTABSAV
NVTNVSQA EQU   NVT+138
NVTRSVMN EQU   NVT+136
NVTNBMIN EQU   NVT+134
NVTRGNAV EQU   NVT+132
NVTSQANO EQU   NVT+128
NVTLSQAS EQU   NVT+124
NVTLNGFX EQU   NVT+120
NVTIGXER EQU   NVT+116
@NM00017 EQU   NVT+112
NVTRSV49 EQU   NVT+108
NVTNVRSZ EQU   NVT+104
NVTDSSNG EQU   NVT+96
NVTVVMDI EQU   NVT+88
NVTIGCER EQU   NVT+84
NVTVBLDL EQU   NVT+80
NVTSVCTB EQU   NVT+76
NVTRSV42 EQU   NVT+72
NVTRSV41 EQU   NVT+68
@NM00016 EQU   NVTFLLB
NVTFLSLB EQU   NVTFLLB
@NM00015 EQU   NVTNPATR
NVTNPREU EQU   NVTNPREN
@NM00014 EQU   NVTNPREN
NVTNPSFX EQU   NVT+53
@NM00013 EQU   NVT+52
NVTNPSUF EQU   NVT
SCBRSVRE EQU   SCBDATA+3
SCBID    EQU   SCBDATA+2
SCBPKEY  EQU   SCBDATA+1
@NM00012 EQU   SCBFLGS3
SCBTERMO EQU   SCBFLGS3
SCBBRNTR EQU   SCBFLGS3
SCBPRNTR EQU   SCBFLGS3
SCBCNCEL EQU   SCBFLGS3
SCBRECRD EQU   SCBFLGS3
SCBTERMI EQU   SCBFLGS3
@NM00011 EQU   SCBFLGS3
SCBOWNRA EQU   SCBOWNR+1
SCBSUPER EQU   SCBFLGS2
SCBKEY0  EQU   SCBFLGS2
@NM00010 EQU   SCBFLGS2
@NM00009 EQU   SCBFLGS2
SCBINUSE EQU   SCBFLGS2
@NM00008 EQU   SCBFLGS2
SCBXCTL2 EQU   SCBFLGS2
@NM00007 EQU   SCBFLGS2
SCBPARMA EQU   SCBPARM+1
SCBHALT  EQU   SCBIOPRC
SCBNOIOP EQU   SCBIOPRC
SCBASYNC EQU   SCBFLGS1
@NM00006 EQU   SCBFLGS1
SCBESTAE EQU   SCBFLGS1
SCBDUMMY EQU   SCBFLGS1
SCBSTAR  EQU   SCBFLGS1
SCBSTAI  EQU   SCBFLGS1
SCBEXIT  EQU   SCB+4
WSACASMS EQU   WSAC+60
WSACASMD EQU   WSAC+56
WSACCCH  EQU   WSAC+52
WSACRRSA EQU   WSAC+48
WSACREST EQU   WSAC+44
WSACRSTI EQU   WSAC+40
WSACABTM EQU   WSAC+36
WSACMF1  EQU   WSAC+32
WSACEDS0 EQU   WSAC+28
WSACIOS  EQU   WSAC+24
WSACRTMK EQU   WSAC+20
WSACACR  EQU   WSAC+16
WSACTIME EQU   WSAC+12
WSACOPTM EQU   WSAC+8
WSACGTF  EQU   WSAC+4
WSACCWSA EQU   WSAC
WSAGSCHE EQU   WSAG+40
WSAGREST EQU   WSAG+36
WSAGNQDQ EQU   WSAG+32
WSAGMEMT EQU   WSAG+28
WSAGOPTM EQU   WSAG+24
WSAGSTAT EQU   WSAG+20
WSAGEMS0 EQU   WSAG+16
WSAGSSRS EQU   WSAG+12
WSAGRSM  EQU   WSAG+8
WSAGGMFM EQU   WSAG+4
WSAGPGIO EQU   WSAG
WSALACHP EQU   WSAL+56
WSALRSM  EQU   WSAL+52
WSALEVNT EQU   WSAL+48
WSALSTAT EQU   WSAL+40
WSALWAIT EQU   WSAL+36
WSALPOST EQU   WSAL+32
WSALEXIT EQU   WSAL+28
WSALS2EE EQU   WSAL+24
WSALCIRB EQU   WSAL+20
WSALABTM EQU   WSAL+16
WSALSDMP EQU   WSAL+12
WSALRTM2 EQU   WSAL+8
WSALVALC EQU   WSAL+4
WSALCWSA EQU   WSAL
ASXBEND  EQU   ASXB+232
ASXBRV25 EQU   ASXB+228
ASXBRV24 EQU   ASXB+224
ASXBPT0E EQU   ASXB+220
ASXBCRB4 EQU   ASXBCASW+3
ASXBCRB3 EQU   ASXBCASW+2
ASXBCRB2 EQU   ASXBCASW+1
ASXBCR06 EQU   ASXBCRB1
ASXBCR05 EQU   ASXBCRB1
ASXBCR04 EQU   ASXBCRB1
ASXBCR03 EQU   ASXBCRB1
ASXBCR02 EQU   ASXBCRB1
ASXBCR01 EQU   ASXBCRB1
ASXBTFD  EQU   ASXBCRB1
ASXBPIP  EQU   ASXBCRB1
ASXBCTDC EQU   ASXB+212
ASXBTDCB EQU   ASXB+208
ASXBRV19 EQU   ASXB+204
ASXBSENV EQU   ASXBSECR+1
ASXBRV34 EQU   ASCBSFLG
ASXBRV33 EQU   ASCBSFLG
ASXBRV32 EQU   ASCBSFLG
ASXBRV31 EQU   ASCBSFLG
ASXBRV30 EQU   ASCBSFLG
ASXBRV29 EQU   ASCBSFLG
ASXBRV28 EQU   ASCBSFLG
ASXBRV27 EQU   ASCBSFLG
ASXBUSER EQU   ASXB+192
ASXBLSRB EQU   ASXBAEQ+20
ASXBFSRB EQU   ASXBAEQ+16
ASXBLRQE EQU   ASXBAEQ+12
ASXBFRQE EQU   ASXBAEQ+8
ASXBLIQE EQU   ASXBAEQ+4
ASXBFIQE EQU   ASXBAEQ
ASXBETSK EQU   ASXB+164
ASXBSIRB EQU   ASXB+160
ASXBPSWD EQU   ASXB+152
ASXBPRG  EQU   ASXB+136
ASXBRV26 EQU   ASXB+132
ASXBOUSB EQU   ASXB+128
ASXBDDR  EQU   ASXB+124
ASXBRCTD EQU   ASXB+120
ASXBRSMD EQU   ASXB+116
ASXBFRWA EQU   ASXB+108
ASXBFLSA EQU   ASXB+36
ASXBIHSA EQU   ASXB+32
ASXBRV15 EQU   ASXB+28
ASXBRV14 EQU   ASXB+24
ASXBLWA  EQU   ASXB+20
ASXBMPST EQU   ASXB+16
ASXBRS00 EQU   ASXB+14
ASXBTCBS EQU   ASXB+12
ASXBLTCB EQU   ASXB+8
ASXBFTCB EQU   ASXB+4
ASXBASXB EQU   ASXB
ASXBEGIN EQU   ASXB
LLESYSCT EQU   LLE+10
LLECOUNT EQU   LLE+8
LLECDPT  EQU   LLE+4
GBLCELCT EQU   GDA+60
GLBLCELL EQU   GDA+56
CSASPQEP EQU   GDA+52
PFSTCPAB EQU   GDA+48
VRWLEL   EQU   VRWAITQ+4
VRWFEL   EQU   VRWAITQ
VRPLEL   EQU   VRPOSTQ+4
VRPFEL   EQU   VRPOSTQ
SQASPLFT EQU   GDA+28
SQASPQEP EQU   GDA+24
VRPQEP   EQU   GDA+12
VRDREG   EQU   GDA+4
RESV     EQU   GVSMFLAG+1
@NM00005 EQU   GDAFLAGS
WAITQUE  EQU   GDAFLAGS
SQATHRS2 EQU   GDAFLAGS
SQATHRS1 EQU   GDAFLAGS
GDAFLAG2 EQU   GDAFLAGS
NIPFOURK EQU   GDAFLAGS
GDAFLAG1 EQU   GDAFLAGS
DQELNTH  EQU   DQESECT+12
DQEHRID  EQU   DQEBLKAD
FQERSVD  EQU   FQESECT+12
FQAREA   EQU   FQESECT+8
FQELNTH  EQU   FQESECT+4
FQECPB   EQU   FQTYPE
FQERGNFL EQU   FQTYPE
CDATTR3  EQU   CDENTRY+30
CDAUTH   EQU   CDATTR2
CDSYSLIB EQU   CDATTR2
CDOLY    EQU   CDATTR2
@NM00004 EQU   CDATTR2
CDRLC    EQU   CDATTR2
CDREL    EQU   CDATTR2
CDSPZ    EQU   CDATTR2
CDNLR    EQU   CDATTR
CDJPA    EQU   CDATTR
CDMIN    EQU   CDATTR
CDNFN    EQU   CDATTR
CDSER    EQU   CDATTR
CDREN    EQU   CDATTR
CDNIC    EQU   CDATTR
CDNIP    EQU   CDATTR
@NM00003 EQU   CDENTRY+26
CDUSE    EQU   CDENTRY+24
CDNAME   EQU   CDENTRY+8
CDRRBP   EQU   CDENTRY+4
LDAEND   EQU   LDA+1496
LCLCELCT EQU   LDA+1492
LDALIMIT EQU   LDA+1484
VVREGSZ  EQU   LDA+1468
CFAPWKAR EQU   LDA+1164
CSAVE    EQU   LDA+1100
OBFRSAVE EQU   LDA+1036
GFRESAVE EQU   LDA+972
GMREPSAV EQU   LDA+908
FBQSAVE  EQU   LDA+844
G4KSAVE  EQU   LDA+780
FSAVE    EQU   LDA+716
BSAVE    EQU   LDA+652
SAVEREG2 EQU   LDA+588
BRANCHSV EQU   LDA+524
GMFMWKAR EQU   LDA+24
LDARES2  EQU   LDA+21
LDACBSP  EQU   LDA+20
LDARQSTA EQU   LDA+16
LDATCB   EQU   LDA+12
PASCBSV  EQU   LDA+4
@NM00002 EQU   LVSMFLAG+1
LDABRSW  EQU   LVSMFLAG
LDAFPFM  EQU   LVSMFLAG
LDAFLAGS EQU   LVSMFLAG
LDASTART EQU   LDA
PIEGR2   EQU   PIE+28
PIEGR1   EQU   PIE+24
PIEGR0   EQU   PIE+20
PIEGR15  EQU   PIE+16
PIEGR14  EQU   PIE+12
PIEPSW   EQU   PIE+4
PIEPICAA EQU   PIEPICA+1
@NM00001 EQU   PIEFLGS
PIENOPI  EQU   PIEFLGS
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RT00298 EQU   NPXMODNF
@RT00304 EQU   NPXMODNF
@RT00309 EQU   NPXMODNF
@RT00314 EQU   NPXMODNF
@RT00319 EQU   NPXMODNF
@RT00360 EQU   @EL00002
@RT00387 EQU   LOOP
@RT00399 EQU   NPXNOBUF
@RT00420 EQU   NPXFJCDE
NPXFJXIT EQU   @EL00002
@RT00571 EQU   SETNEXTK
@RT00581 EQU   NPXPFCUR
@RT00585 EQU   NPXSETVR
@RT00587 EQU   NPXSETVR
@RT00591 EQU   NPXNPFTE
@RT00593 EQU   NPXNPFTE
@RT00597 EQU   NPXPFCUR
@RT00601 EQU   PFTEMARK
@RT00676 EQU   NPXRDNXT
@RT00681 EQU   NPXRDPGX
@RT00683 EQU   NPXRDPGX
@RT00686 EQU   NPXRDPGX
@RT00689 EQU   NPXRDPGL
@RT00700 EQU   NPXRDPGT
@RT00712 EQU   NPXRDPGZ
@RT00717 EQU   NPXRDCL
@RT00728 EQU   NPXRDXRS
@RT00792 EQU   @EL00005
@RT00804 EQU   @EL00005
@RT00811 EQU   NPXFFBQE
@RT00820 EQU   @EL00006
@RT00828 EQU   NPXNSPQE
@RT00836 EQU   NPXDQE
@RT00894 EQU   REPROMPT
@RT00900 EQU   REPROMPT
RSUEND   EQU   @EL00009
@PB00009 EQU   @EL00001
@RT00429 EQU   NPXFJXIT
@PB00008 EQU   @PB00009
@RC00889 EQU   RSUEND
@RF00898 EQU   RSUEND
@PB00007 EQU   @PB00008
@PB00006 EQU   @PB00007
@PB00005 EQU   @PB00006
@PB00004 EQU   @PB00005
@PB00003 EQU   @PB00004
@PB00002 EQU   @PB00003
@ENDDATA EQU   *
         END   IEAVNIPX,(C'PLS1221',0701,78107)

         TITLE 'IEAVNPM3, NIP OPEN/MOUNT ROUTINE                       *
                        '
IEAVNPM3 CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(16)                                             0001
         DC    C'IEAVNPM3  74.354'                                 0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                     0001
         BALR  @11,0                                               0001
@PSTART  LA    @12,4095(,@11)                                      0001
         USING @PSTART,@11                                         0001
         USING @PSTART+4095,@12                                    0001
         ST    @13,@SA00001+4                                      0001
         LA    @14,@SA00001                                        0001
         ST    @14,8(,@13)                                         0001
         LR    @13,@14                                             0001
*
** REFS ARE GENERATED FOR NVT FIELDS THAT CONTAIN ADDRESSES OF
** NIP SERVICE ROUTINES, SO IEAPMNIP MACRO CALLS TO THESE ROUTINES
** WILL ASSEMBLE PROPERLY.
NP2ABNOR BR  14
         EJECT
         EJECT
*                                                                  0281
         B     @PB00002                                            0281
NP2BDEB  STM   @14,@12,@SA00002                                    0281
*   /*****************************************************************/
*   /*                                                               */
*   /* ROUND BUILD AREA ADDR TO DOUBLEWORD BOUNDARY                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0282
*   DEBPTR=(DEBPTR+7)&ROUNDDWD;                                    0282
*                                                                  0282
         LA    @10,7                                               0282
         AL    @10,DEBPTR                                          0282
         N     @10,@CF00078                                        0282
         ST    @10,DEBPTR                                          0282
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS A TAPE DEVICE                                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0283
*   IF UCB3TAPE^='1'B THEN          /* NOT A TAPE                    */
         L     @15,UCBPTR                                          0283
         TM    UCB3TAPE(@15),B'10000000'                           0283
         BNO   @RT00283                                            0283
*     GO TO NP2BDASD;               /* PROCESS DASD                  */
*   DEBBASIC=DEBBASIC&&DEBBASIC;    /* CLEAR DEB                     */
*                                                                  0285
         XC    DEBBASIC(32,@10),DEBBASIC(@10)                      0285
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF NUCLEUS BUFFER REQUEST                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0286
*   IF NOPNFLLB='1'B THEN           /* NUCLEUS BUFFER REQUEST        */
*                                                                  0286
         L     @10,NPB2PPTR                                        0286
         TM    NOPNFLLB(@10),B'00000100'                           0286
         BNO   @RF00286                                            0286
*     /***************************************************************/
*     /*                                                             */
*     /* UPDATE BUILD AREA ADDRESS                                   */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0287
*     NVTNUCND=DEBPTR+LENGTH(DEBBASIC)+LENGTH(DEBBAS02);/*   @YM05571*/
*                                                                  0287
         L     @10,DEBPTR                                          0287
         AH    @10,@CH00962                                        0287
         ST    @10,NVTNUCND(,RNVT)                                 0287
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP DEB TAPE PORTION                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0288
*   DEBEXSCL=NDASD;                 /* SET EXTENT SCALE FOR TAPE     */
@RF00286 L     @10,DEBPTR                                          0288
         MVI   DEBEXSCL(@10),X'02'                                 0288
*   DEBSUCBB=UCBPTR;                /* PUT UCB ADDR IN DEB           */
*                                                                  0289
         L     @15,UCBPTR                                          0289
         STCM  @15,7,DEBSUCBB(@10)                                 0289
*   /*****************************************************************/
*   /*                                                               */
*   /* 7 OR 9 TRACK TAPE                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0290
*   IF UCB2OPT0='1'B THEN           /* 7 TRACK TAPE                  */
*                                                                  0290
         TM    UCB2OPT0(@15),B'10000000'                           0290
         BNO   @RF00290                                            0290
*     /***************************************************************/
*     /*                                                             */
*     /* SET DEVICE MODIFIER TO 7 TRACK TAPE MODE                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0291
*     DEBSDVM=TAPE7;                                               0291
         MVI   DEBSDVM(@10),X'93'                                  0291
*   ELSE                            /* 9 TRACK TAPE                  */
*                                                                  0292
*     /***************************************************************/
*     /*                                                             */
*     /* SET DEVICE MODIFIER TO 9 TRACK TAPE MODE                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0292
*     DEBSDVM=TAPE9;                                               0292
         B     @RC00290                                            0292
@RF00290 L     @10,DEBPTR                                          0292
         MVI   DEBSDVM(@10),X'C3'                                  0292
*   GO TO NP2BDCOM;                 /* DO COMMON DEB BUILD           */
         B     NP2BDCOM                                            0293
*NP2BDASD:                          /* BUILD DASD DEB                */
*                                                                  0294
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF NUCLEUS BUFFER REQUEST                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0294
*   IF NOPNFLLB='1'B THEN                                          0294
NP2BDASD L     @10,NPB2PPTR                                        0294
         TM    NOPNFLLB(@10),B'00000100'                           0294
         BNO   @RF00294                                            0294
*     DO;                                                          0295
*       DEBPTR=DEBPTR+LENGTH(DEBPRE);/* INCR PAST PREFIX             */
         LA    @10,8                                               0296
         L     @00,DEBPTR                                          0296
         ALR   @00,@10                                             0296
         ST    @00,DEBPTR                                          0296
*       DEBPRE=DEBPRE&&DEBPRE;      /* CLEAR PREFIX                  */
         SLR   @00,@10                                             0297
         LR    @10,@00                                             0297
         XC    DEBPRE(8,@10),DEBPRE(@10)                           0297
*     END;                                                         0298
*   ELSE                                                           0299
*     ;                                                            0299
@RF00294 DS    0H                                                  0300
*   DEBBASIC=DEBBASIC&&DEBBASIC;    /* CLEAR BASIC SECTION OF DEB AND
*                                      ONE EXTENT                    */
*                                                                  0300
         L     @10,DEBPTR                                          0300
         XC    DEBBASIC(32,@10),DEBBASIC(@10)                      0300
*   /*****************************************************************/
*   /*                                                               */
*   /* INITIALIZE BASIC SECTION OF DEB                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0301
*   DEBEXSCL=DASDEX;                /* DASD EXTENT SCALE             */
*                                                                  0301
         MVI   DEBEXSCL(@10),X'04'                                 0301
*   /*****************************************************************/
*   /*                                                               */
*   /* INITIALIZE COMMON BASIC SECTION OF DEB                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0302
*NP2BDCOM:                                                         0302
*   DCBDEBAD=DEBPTR;                /* PUT DEB ADDR IN DCB           */
NP2BDCOM L     @10,DEBPTR                                          0302
         L     @15,DCBPTR                                          0302
         STCM  @10,7,DCBDEBAD(@15)                                 0302
*   DEBDCBB=DCBPTR;                 /* PUT DCB ADDR IN DEB           */
         STCM  @15,7,DEBDCBB(@10)                                  0303
*   DEBPROTG=IDPRIOR;               /* DEB IDENTIFIER & PRIORITY     */
         MVI   DEBPROTG(@10),X'0F'                                 0304
*   DEBAPPB=CVTXAPG;                /* APPENDAGE TABLE ADDRESS       */
         MVC   DEBAPPB(3,@10),CVTXAPG+1(RCVT)                      0305
*   RETURN;                         /* RETURN TO CALLER              */
@EL00002 DS    0H                                                  0306
@EF00002 DS    0H                                                  0306
@ER00002 LM    @14,@12,@SA00002                                    0306
         BR    @14                                                 0306
*   GENERATE NOREFS NOSETS(EJECT);                                 0307
*                                                                  0307
         EJECT
*   /*****************************************************************/
*   /*                                                               */
*   /* DEB INITIALIZATION EXTENT PORTION INITIALIZES THE EXTENT      */
*   /* DESCRIPTION FORTION OF THE DEB FOR ONE OR MORE EXTENTS IN A   */
*   /* SINGLE VOLUME DATASET INTERNAL INTERFACES NP2RDSCB EXTERNAL   */
*   /* INTERFACES TTR CONVERT IN IGC018                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0308
*NP2BXTNT:                                                         0308
*   ENTRY;                          /* NP2BXTNT ENTRY POINT          */
         B     @EC00308                                            0308
NP2BXTNT STM   @14,@12,@SA00002                                    0308
@EC00308 DS    0H                                                  0309
*/* READ IN FORMAT 1 DSCB                                            */
*                                                                  0309
*   FORMAT='1';                     /* FORMAT 1 DSCB                 */
*                                                                  0309
         MVI   FORMAT,C'1'                                         0309
*   /*****************************************************************/
*   /*                                                               */
*   /* READ IN FORMAT 1 DSCB                                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0310
*   CALL NP2RDSCB;                  /* DSCB READ                     */
*                                                                  0310
         BAL   @14,NP2RDSCB                                        0310
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0311
*/* CHECK FOR SUCCESSFUL RETURN                                      */
*                                                                  0311
*   GENERATE REFS(RCODE) NOSETS FLOWS(NP2RSUC,NP2NSUC);            0311
*                                                                  0311
            B *+4(RCODE)
            B NP2RSUC
            B NP2NSUC
*/* FIND OUT HOW MANY EXTENTS                                        */
*                                                                  0312
*NP2RSUC:                                                          0312
*   IF NOPNFLSX='1'B THEN                                          0312
NP2RSUC  L     @10,NPB2PPTR                                        0312
         TM    NOPNFLSX(@10),B'00000001'                           0312
         BNO   @RF00312                                            0312
*     EXTCTR=1;                     /* SINGLE EXTENT WANTED          */
         MVI   EXTCTR,X'01'                                        0313
*   ELSE                                                           0314
*     DO;                                                          0314
         B     @RC00312                                            0314
@RF00312 DS    0H                                                  0315
*       NOEXT=DS1NOEPV;             /* SAVE NUMBER OF EXTENTS        */
         LA    @10,NP2F1BUF                                        0315
         SLR   @00,@00                                             0315
         IC    @00,DS1NOEPV-44(,@10)                               0315
         STC   @00,NOEXT                                           0315
*       EXTCTR=MIN(NOEXT,3);        /* SET UP TO PROCESS UP TO THREE
*                                      EXTENTS                       */
         LA    @10,3                                               0316
         CR    @00,@10                                             0316
         BNH   *+6
         LR    @00,@10                                             0316
         STC   @00,EXTCTR                                          0316
*     END;                                                         0317
*                                                                  0317
*/* INITALIZE DEB EXTENT FIELDS                                      */
*                                                                  0318
*   EXTPTR=ADDR(DS1EXT1);           /* PTR TO FIRST EXTENT FIELD     */
@RC00312 LA    @10,NP2F1BUF                                        0318
         LA    @10,DS1EXT1-44(,@10)                                0318
         ST    @10,EXTPTR                                          0318
*   DEBPTR=DCBDEBAD;                /* PICK UP DEB ADDR FROM DCB     */
         L     @10,DCBPTR                                          0319
         SLR   @00,@00                                             0319
         ICM   @00,7,DCBDEBAD(@10)                                 0319
         ST    @00,DEBPTR                                          0319
*   DEBDAPTR=ADDR(DEBBASND);        /* ADDR OF DEB EXTENSION         */
         LR    @10,@00                                             0320
         LA    @10,DEBBASND(,@10)                                  0320
         ST    @10,DEBDAPTR                                        0320
*/* CHECK FOR CONCATENATION                                          */
*                                                                  0321
*   IF DEBRERR='1'B THEN                                           0321
         LR    @15,@00                                             0321
         TM    DEBRERR(@15),B'00000001'                            0321
         BNO   @RF00321                                            0321
*     DEBDAPTR=DEBDAPTR+DEBNMEXT*LENGTH(DEBDASD);                  0322
         LR    @15,@00                                             0322
         SLR   @00,@00                                             0322
         IC    @00,DEBNMEXT(,@15)                                  0322
         SLA   @00,4                                               0322
         ALR   @10,@00                                             0322
         ST    @10,DEBDAPTR                                        0322
*   ELSE                                                           0323
*     ;                                                            0323
*                                                                  0323
@RF00321 DS    0H                                                  0324
*/* IF SINGLE EXTENT DS SET CYLINDER FINLE MASK                      */
*                                                                  0324
*   IF NOPNFLSX='1'B THEN                                          0324
         L     @10,NPB2PPTR                                        0324
         TM    NOPNFLSX(@10),B'00000001'                           0324
         BNO   @RF00324                                            0324
*     DO;                                                          0325
*       DEBDVMOD=CFMSK;             /* SET CYLINDER FILE MASK        */
         L     @10,DEBDAPTR                                        0326
         MVI   DEBDVMOD(@10),X'00'                                 0326
*       GO TO NP2CCHH;              /* GET CCHH FROM DSCB            */
         B     NP2CCHH                                             0327
*     END;                                                         0328
*   ELSE                                                           0329
*     ;                                                            0329
@RF00324 DS    0H                                                  0330
*NP2EXTEN:                                                         0330
*                                                                  0330
*/* PUT IN EITHER TRACK OR CYLINDER FILE MASK                        */
*                                                                  0330
*   IF EXTENT(1)=CYLNDR             /* IS EXTENT CYLINDER BOUND      */
*     THEN                                                         0330
NP2EXTEN L     @10,EXTPTR                                          0330
         CLI   EXTENT(@10),X'81'                                   0330
         BNE   @RF00330                                            0330
*     DEBDVMOD=CFMSK;               /* CYLINDER FILE MASK            */
         L     @10,DEBDAPTR                                        0331
         MVI   DEBDVMOD(@10),X'00'                                 0331
*   ELSE                                                           0332
*     DEBDVMOD=TFMSK;               /* TRACK FILE MASK               */
         B     @RC00330                                            0332
@RF00330 L     @10,DEBDAPTR                                        0332
         MVI   DEBDVMOD(@10),X'18'                                 0332
*/* MOVE START & END CCHH FROM DSCB TO DEB EXTENT                    */
*                                                                  0333
*NP2CCHH:                           /* SET UP DEB EXTENT             */
*   DEBUCBA=UCBPTR;                 /* SET UCB ADDR IN DEB EXTENT    */
@RC00330 DS    0H                                                  0333
NP2CCHH  L     @10,DEBDAPTR                                        0333
         MVC   DEBUCBA(3,@10),UCBPTR+1                             0333
*   DEBBINUM=0;                     /* ZERO OUT BIN NO               */
         SLR   @15,@15                                             0334
         STH   @15,DEBBINUM(,@10)                                  0334
*   DEBSTRCC=EXTENT(3:4);           /* START CCHH                    */
         L     @14,EXTPTR                                          0335
         MVC   DEBSTRCC(2,@10),EXTENT+2(@14)                       0335
*   DEBSTRHH=EXTENT(5:6);                                          0336
         MVC   DEBSTRHH(2,@10),EXTENT+4(@14)                       0336
*   DEBENDCC=EXTENT(7:8);           /* END CCHH                      */
         MVC   DEBENDCC(2,@10),EXTENT+6(@14)                       0337
*   DEBENDHH=EXTENT(9:10);                                         0338
*                                                                  0338
         MVC   DEBENDHH(2,@10),EXTENT+8(@14)                       0338
*/* DETERMINE RELATIVE TRACK ADDRESSES                               */
*                                                                  0339
*   NVTSAVE=RNVT;                   /* SAVE POINTER TO NVT           */
         ST    RNVT,NVTSAVE                                        0339
*   MBB=0;                          /* SET BIN TO 0'S                */
         STCM  @15,7,MBB                                           0340
*   M=DEBNMEXT;                     /* SET UP NUMBER OF EXTENT TO USE
*                                      IN CONVERSION           YM2720*/
         L     @10,DEBPTR                                          0341
         MVC   M(1),DEBNMEXT(@10)                                  0341
*   CCHH=EXTENT(3:6);               /* START CCHHR                   */
         MVC   CCHH(4),EXTENT+2(@14)                               0342
*   R=0;                            /* ZERO OUT RECORD               */
         MVI   R,X'00'                                             0343
*   A=1;                            /* FIRST CALL TO IGC018          */
         MVC   A(4),@CF00121                                       0344
*NP2CONVT:                                                         0345
*   RPARM=DEBPTR;                   /* ADDR OF DEB                   */
NP2CONVT L     RPARM,DEBPTR                                        0345
*   RCCHH=ADDR(MBBCCHHR);                                          0346
         LA    RCCHH,MBBCCHHR                                      0346
*   RESPECIFY                                                      0347
*    (RENTRY,                                                      0347
*     RBASE1,                                                      0347
*     RSAVE,                                                       0347
*     RTTR,                                                        0347
*     RBASE6) RESTRICTED;                                          0347
*   RENTRY=CVTPRLTV;                /* ADDR OF IGC018                */
         L     RENTRY,CVTPRLTV(,RCVT)                              0348
*   RBASE6=RBASE1;                  /* SAVE BASE REG IN NON-VOLATILE
*                                      REG                           */
         LR    RBASE6,RBASE1                                       0349
*   R13SAVE=RSAVE;                  /* SAVE REG 13 OVER CALL         */
*                                                                  0350
         ST    RSAVE,R13SAVE                                       0350
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0351
*   GENERATE REFS(RPARM,RCCHH,RENTRY,RBASE6,MBBCCHHR) SETS(REXIT,RBASE1
*       ,RBASE2,RTTR,RNVT,RSAVE);                                  0351
*                                                                  0351
          BALR REXIT,RENTRY
          LR    RBASE1,RBASE6
          LA    RBASE2,4095(0,RBASE1)
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0352
*   RSAVE=R13SAVE;                  /* RESTORE REG 13                */
         L     RSAVE,R13SAVE                                       0352
*   TRACK(A)=RTTR;                  /* SAVE TTR                      */
         L     @14,A                                               0353
         LR    @10,@14                                             0353
         SLA   @10,2                                               0353
         ST    RTTR,TRACK-4(@10)                                   0353
*   RESPECIFY                                                      0354
*    (RBASE6,                                                      0354
*     RSAVE,                                                       0354
*     RENTRY,                                                      0354
*     RTTR) UNRESTRICTED;                                          0354
*   RNVT=NVTSAVE;                   /* RESTORE NVT ADDR              */
         L     RNVT,NVTSAVE                                        0355
*/* HAVE BOTH START & END CCHH BEEN CONVERTED                        */
*                                                                  0356
*   IF A=2 THEN                                                    0356
         LA    @10,2                                               0356
         CR    @14,@10                                             0356
         BE    @RT00356                                            0356
*     GO TO NP2CALC;                /* CALCULATE THE NO OF TRACKS    */
*   ELSE                                                           0358
*     DO;                                                          0358
*       A=2;                        /* CONVERT END ADDR              */
         ST    @10,A                                               0359
*       CCHH=EXTENT(7:10);          /* END CCHHR                     */
         L     @10,EXTPTR                                          0360
         MVC   CCHH(4),EXTENT+6(@10)                               0360
*       GO TO NP2CONVT;             /* GO TO IGC018                  */
         B     NP2CONVT                                            0361
*     END;                                                         0362
*NP2CALC:                                                          0363
*   NMTRK=TRACK(2)-TRACK(1);        /* NO OF TRACKS                  */
NP2CALC  L     @10,TRACK+4                                         0363
         SL    @10,TRACK                                           0363
         ST    @10,NMTRK                                           0363
*   DEBNMTRK=NMTRK1+1;              /* PUT NUMBER OF TRACKS IN DEB   */
         LA    @10,1                                               0364
         SLR   @00,@00                                             0364
         ICM   @00,3,NMTRK1                                        0364
         ALR   @00,@10                                             0364
         L     @15,DEBDAPTR                                        0364
         STH   @00,DEBNMTRK(,@15)                                  0364
*   EXTCTR=EXTCTR-1;                /* DECREMENT COUNTER             */
         SLR   @00,@00                                             0365
         IC    @00,EXTCTR                                          0365
         BCTR  @00,0                                               0365
         STC   @00,EXTCTR                                          0365
*/* SEE IF THERE ARE ANY MORE EXTENTS TO PROCESS                     */
*                                                                  0366
*   IF EXTCTR=0 THEN                                               0366
         CLI   EXTCTR,0                                            0366
         BE    @RT00366                                            0366
*     GO TO NP2SEXT;                /* SEE IF SINGLE EXTENT SPECIFIED*/
*   ELSE                                                           0368
*     ;                                                            0368
*   EXTPTR=EXTPTR+LENGTH(EXTENT);   /* INCR PTR TO NXT EXTNT         */
         LA    @00,10                                              0369
         AL    @00,EXTPTR                                          0369
         ST    @00,EXTPTR                                          0369
*/* SEE IF POINTING TO FORMAT ID IN FORMAT 3 DSCB                    */
*                                                                  0370
*   IF EXTPTR=ADDR(DS3FMTID) THEN                                  0370
         LA    @15,DS3FMTID                                        0370
         CR    @00,@15                                             0370
         BNE   @RF00370                                            0370
*     EXTPTR=EXTPTR+LENGTH(DS3FMTID);/* INCR PAST FORMAT ID FIELD    */
         ALR   @00,@10                                             0371
         ST    @00,EXTPTR                                          0371
*   ELSE                                                           0372
*     ;                                                            0372
@RF00370 DS    0H                                                  0373
*   DEBDAPTR=DEBDAPTR+LENGTH(DEBDASD);/* POINT TO NEXT DEB EXTENT  0373
*                                      FIELD                         */
         LA    @10,16                                              0373
         AL    @10,DEBDAPTR                                        0373
         ST    @10,DEBDAPTR                                        0373
*   GO TO NP2EXTEN;                 /* INITIALIZE EXTNENT FIELD      */
         B     NP2EXTEN                                            0374
*/* WAS SINGLE EXTENT SPECIFIED                                      */
*                                                                  0375
*NP2SEXT:                                                          0375
*   IF NOPNFLSX='1'B THEN                                          0375
NP2SEXT  L     @10,NPB2PPTR                                        0375
         TM    NOPNFLSX(@10),B'00000001'                           0375
         BNO   @RF00375                                            0375
*     DO;                                                          0376
*       DEBNMEXT=1;                 /* SPECIFIES 1 EXTENT            */
         L     @10,DEBPTR                                          0377
         MVI   DEBNMEXT(@10),X'01'                                 0377
*       GO TO NP2BUFF;              /* CHECK TO SEE IF BUILT IN    0378
*                                      NUCLEUS BUFFER                */
         B     NP2BUFF                                             0378
*     END;                                                         0379
*   ELSE                                                           0380
*     ;                                                            0380
*                                                                  0380
@RF00375 DS    0H                                                  0381
*/* IF THERE ARE MORE THAN 3 EXTENTS SEE IF FORMAT 3 DSCB MUST BE  0381
*   READ IN                                                          */
*                                                                  0381
*   IF NOEXT>3 THEN                                                0381
*                                                                  0381
         CLI   NOEXT,3                                             0381
         BNH   @RF00381                                            0381
*     /***************************************************************/
*     /*                                                             */
*     /* WAS FORMAT 3 ALREADY READ IN                                */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0382
*     IF FORMAT^='3' THEN                                          0382
         CLI   FORMAT,C'3'                                         0382
         BE    @RF00382                                            0382
*       DO;                                                        0383
*         FORMAT='3';               /* FORMAT 3 DSCB                 */
         MVI   FORMAT,C'3'                                         0384
*         DEBSAVE=DEBDAPTR;         /* SAVE EXTENT PTR               */
*                                                                  0385
         MVC   DEBSAVE(4),DEBDAPTR                                 0385
*         /***********************************************************/
*         /*                                                         */
*         /* READ FORMAT 3 DSCB                                      */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0386
*         CALL NP2RDSCB;            /* READ DSCB                     */
*                                                                  0386
         BAL   @14,NP2RDSCB                                        0386
*         /***********************************************************/
*         /*                                                         */
*         /* CHECK FOR SUCCESSFUL RETURN                             */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0387
*         GENERATE REFS(RCODE) NOSETS FLOWS(NP2R3SUC,NP2NSUC);     0387
                        B *+4(RCODE)
                        B NP2R3SUC
                        B NP2NSUC
*NP2R3SUC:                                                         0388
*         EXTCTR=NOEXT-3;           /* NO OF EXTS TO PROC            */
NP2R3SUC SLR   @10,@10                                             0388
         IC    @10,NOEXT                                           0388
         SH    @10,@CH00272                                        0388
         STC   @10,EXTCTR                                          0388
*         EXTPTR=ADDR(DS3EXTNT);    /* PTR TO FIRST EXTENT           */
         LA    @10,DS3EXTNT                                        0389
         ST    @10,EXTPTR                                          0389
*         DEBPTR=DCBDEBAD;          /* UPDATE DEB BASE               */
         L     @10,DCBPTR                                          0390
         SLR   @00,@00                                             0390
         ICM   @00,7,DCBDEBAD(@10)                                 0390
         ST    @00,DEBPTR                                          0390
*         DEBDAPTR=DEBSAVE+LENGTH(DEBDASD);/* INCR TO NEXT DEB EXTENT*/
         LA    @10,16                                              0391
         AL    @10,DEBSAVE                                         0391
         ST    @10,DEBDAPTR                                        0391
*         GO TO NP2EXTEN;           /* INITIALIZE EXTENT             */
         B     NP2EXTEN                                            0392
*       END;                                                       0393
*     ELSE                                                         0394
*       ;                                                          0394
@RF00382 DS    0H                                                  0395
*   ELSE                                                           0395
*     ;                                                            0395
*                                                                  0395
@RF00381 DS    0H                                                  0396
*/* CHECK FOR CONCATENATION                                          */
*                                                                  0396
*   IF DEBRERR='1'B THEN                                           0396
         L     @10,DEBPTR                                          0396
         TM    DEBRERR(@10),B'00000001'                            0396
         BNO   @RF00396                                            0396
*     DEBNMEXT=DEBNMEXT+NOEXT;      /* UPDATE NO OF EXTNTS IN DEB    */
         SLR   @00,@00                                             0397
         IC    @00,DEBNMEXT(,@10)                                  0397
         SLR   @15,@15                                             0397
         IC    @15,NOEXT                                           0397
         ALR   @00,@15                                             0397
         STC   @00,DEBNMEXT(,@10)                                  0397
*   ELSE                                                           0398
*     DEBNMEXT=NOEXT;               /* MOVE NO OF EXTENTS TO DCB     */
         B     @RC00396                                            0398
@RF00396 L     @10,DEBPTR                                          0398
         MVC   DEBNMEXT(1,@10),NOEXT                               0398
*NP2BUFF:                                                          0399
*                                                                  0399
*/* WAS THIS A NUCLEUS BUFFER REQUEST                                */
*                                                                  0399
*   IF NOPNFLLB='1'B THEN                                          0399
@RC00396 DS    0H                                                  0399
NP2BUFF  L     @10,NPB2PPTR                                        0399
         TM    NOPNFLLB(@10),B'00000100'                           0399
         BNO   @RF00399                                            0399
*     DO;                                                          0400
*       NVTNUCND=DEBDAPTR+LENGTH(DEBDASD);/* UPDATE CURRENT NUCLEUS
*                                      BUFFER ADDRESS                */
         LA    @10,16                                              0401
         AL    @10,DEBDAPTR                                        0401
         ST    @10,NVTNUCND(,RNVT)                                 0401
*     END;                                                         0402
*   ELSE                                                           0403
*     ;                                                            0403
@RF00399 DS    0H                                                  0404
*   RETURN CODE(0);                 /* RETURN TO CALLER - OK         */
         SLR   @15,@15                                             0404
         L     @14,@SA00002                                        0404
         LM    @00,@12,@SA00002+8                                  0404
         BR    @14                                                 0404
*NP2NSUC:                                                          0405
*   RETURN CODE(4);                 /* RETURN TO CALLER - ERROR      */
NP2NSUC  LA    @15,4                                               0405
         L     @14,@SA00002                                        0405
         LM    @00,@12,@SA00002+8                                  0405
         BR    @14                                                 0405
*   END NP2BDEB;                    /* END OF SUBROUTINES            */
@PB00002 DS    0H                                                  0407
*   GENERATE NOREFS NOSETS(EJECT);                                 0407
*                                                                  0407
         EJECT
*   /*****************************************************************/
*   /*                                                               */
*   /* I/O REQUEST SCHEDULING SYSTEM INTERFACES EXCP WAIT REGISTER   */
*   /* RESTRICTIONS FOR THIS ROUTINE                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0408
*   RESPECIFY                                                      0408
*    (RUCB) RESTRICTED;                                            0408
*                                                                  0408
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0409
*NP2EXCPU:                                                         0409
*   PROCEDURE OPTIONS(NOSAVEAREA);  /* NP2EXCPU ENTRY POINT          */
         B     @PB00003                                            0409
NP2EXCPU STM   @14,@12,12(@13)                                     0409
*/* INITIALIZE UNIT TEST IOB                                         */
*                                                                  0410
*   IOBSTART=RPARM;                 /* CCW ADDRESS                   */
         L     @10,IOBSTPTR                                        0410
         ST    RPARM,IOBSTART(,@10)                                0410
*   IOBFLAG1='42'X;                 /* SET CHAINING AND UNRELATED  0411
*                                      REQUEST FLAGS                 */
         MVI   IOBFLAG1(@10),X'42'                                 0411
*   IOBFLAG2=0;                     /* ZERO FLAGS                    */
         MVI   IOBFLAG2(@10),X'00'                                 0412
*   IOBFLAG3=0;                     /* ZERO FLAGS                    */
         MVI   IOBFLAG3(@10),X'00'                                 0413
*   IOBERRCT=0;                     /* SET ERROR CT TO ZERO          */
         SLR   @09,@09                                             0414
         STH   @09,IOBERRCT(,@10)                                  0414
*   IOBCSW='00000000000000'X;       /* ZERO CSW FIELD                */
         MVC   IOBCSW(7,@10),@CB02147                              0415
*   IOBSENS0=0;                     /* ZERO SENSE BYTE               */
         MVI   IOBSENS0(@10),X'00'                                 0416
*   IOBSENS1=0;                     /* ZERO SENSE BYTE               */
         MVI   IOBSENS1(@10),X'00'                                 0417
*   NPBNIFB3=0;                     /* CLEAR NIP FLAGS               */
         MVI   NPBNIFB3,X'00'                                      0418
*   DEBAPPB=ADDR(NP2AVT);           /* APPENDAGE VECTOR TABLE        */
*                                                                  0419
         L     @10,DEBPTR                                          0419
         LA    @09,NP2AVT                                          0419
         STCM  @09,7,DEBAPPB(@10)                                  0419
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS A TAPE DEVICE                                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0420
*   IF UCB3TAPE^='1'B THEN          /* THIS IS NOT A TAPE            */
         L     @09,UCBPTR                                          0420
         TM    UCB3TAPE(@09),B'10000000'                           0420
         BNO   @RT00420                                            0420
*     GO TO NP2EXDSD;                                              0421
*   DEBSUCBB=UCBPTR;                /* UCB ADDR                      */
         STCM  @09,7,DEBSUCBB(@10)                                 0422
*   DEBEXSCL=NDASD;                 /* SET EXTENT SCALE FOR TAPE     */
*                                                                  0423
         MVI   DEBEXSCL(@10),X'02'                                 0423
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS A TRACK DEPENDENT DEVICE MODE                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0424
*   IF NIPDMOD='0'B THEN            /* REGULAR DEVICE MODE           */
         TM    NIPDMOD,B'00001000'                                 0424
         BNZ   @RF00424                                            0424
*     DO;                                                          0425
*                                                                  0425
*       /*************************************************************/
*       /*                                                           */
*       /* SET DEVICE MODIFIER TO NON-DASD NO-OP MODE                */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0426
*       DEBSDVM=TAPEMK;                                            0426
         MVI   DEBSDVM(@10),X'03'                                  0426
*       GO TO NP2EXCOM;             /* COMMON CODE                   */
         B     NP2EXCOM                                            0427
*     END;                                                         0428
*                                                                  0428
*   /*****************************************************************/
*   /*                                                               */
*   /* 7 OR 9 TRACK TAPE                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0429
*   IF UCB2OPT0='1'B THEN           /* 7 TRACK TAPE                  */
*                                                                  0429
@RF00424 L     @10,UCBPTR                                          0429
         TM    UCB2OPT0(@10),B'10000000'                           0429
         BNO   @RF00429                                            0429
*     /***************************************************************/
*     /*                                                             */
*     /* SET DEVICE MODIFIER TO 7 TRACK TAPE MODE                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0430
*     DEBSDVM=TAPE7;                                               0430
         L     @10,DEBPTR                                          0430
         MVI   DEBSDVM(@10),X'93'                                  0430
*   ELSE                            /* 9 TRACK TAPE                  */
*                                                                  0431
*     /***************************************************************/
*     /*                                                             */
*     /* SET DEVICE MODIFIER TO 9 TRACK TAPE MODE                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0431
*     DEBSDVM=TAPE9;                                               0431
         B     @RC00429                                            0431
@RF00429 L     @10,DEBPTR                                          0431
         MVI   DEBSDVM(@10),X'C3'                                  0431
*   GO TO NP2EXCOM;                 /* DO COMMON CODE                */
         B     NP2EXCOM                                            0432
*NP2EXDSD:                          /* THIS IS NOT A TAPE            */
*   DEBUCBA=UCBPTR;                 /* UCB ADDR                      */
NP2EXDSD L     @10,DEBDAPTR                                        0433
         MVC   DEBUCBA(3,@10),UCBPTR+1                             0433
*   DEBEXSCL=DASDEX;                /* DASD EXTENT SCALE             */
         L     @09,DEBPTR                                          0434
         MVI   DEBEXSCL(@09),X'04'                                 0434
*   DEBDVMOD=CFMSK;                 /* PUT CYL FILE MASK IN DEB      */
         MVI   DEBDVMOD(@10),X'00'                                 0435
*NP2EXCOM:                          /* CLEAR ECB                     */
*   ECBPTR=IOBECBPB;                /* ADDR OF ECB                   */
NP2EXCOM L     @10,IOBSTPTR                                        0436
         SLR   @09,@09                                             0436
         ICM   @09,7,IOBECBPB(@10)                                 0436
         ST    @09,ECBPTR                                          0436
*   ECB=0;                          /* CLEAR ECB                     */
         SLR   @00,@00                                             0437
         ST    @00,ECB(,@09)                                       0437
*   RPARM=IOBSTPTR;                 /* ADDR OF UNIT TEST IOB         */
*                                                                  0438
         LR    RPARM,@10                                           0438
*   /*****************************************************************/
*   /*                                                               */
*   /* ISSUE I/O REQUEST                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0439
*   GENERATE REFS(RPARM) SETS(RPARM)(EXCP (RPARM));                0439
*                                                                  0439
         EXCP (RPARM)
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0440
*/* SEE IF IMMEDIATE RETURN IS REQUESTED                             */
*                                                                  0440
*   IF NP2NWAIT='1'B THEN                                          0440
         TM    NP2NWAIT,B'00100000'                                0440
         BNO   @RF00440                                            0440
*     NP2NWAIT='0'B;                /* IMMEDIATE RETURN NO WAIT      */
         NI    NP2NWAIT,B'11011111'                                0441
*   ELSE                                                           0442
*     DO;                                                          0442
         B     @RC00440                                            0442
@RF00440 DS    0H                                                  0443
*       RPARM=ECBPTR;               /* UNIT TEST ECB ADDR            */
*                                                                  0443
         L     RPARM,ECBPTR                                        0443
*       /*************************************************************/
*       /*                                                           */
*       /* AWAIT I/O COMPLETION                                      */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0444
*       GENERATE REFS(RPARM) SETS(RPARM0,RPARM)(WAIT ECB=(RPARM));/*
*                                      AWAIT I/O COMPLETION          */
*                                                                  0444
         WAIT ECB=(RPARM)
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0445
*     END;                                                         0445
*   RETURN;                         /* RETURN TO CALLER              */
*                                                                  0446
@EL00003 DS    0H                                                  0446
@EF00003 DS    0H                                                  0446
@ER00003 LM    @14,@12,12(@13)                                     0446
         BR    @14                                                 0446
*   /*****************************************************************/
*   /*                                                               */
*   /* RELEASE REGISTERS FOR THIS ROUTINE                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0447
*   RESPECIFY                                                      0447
*    (RUCB) UNRESTRICTED;                                          0447
*                                                                  0447
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0448
*   END NP2EXCPU;                   /* END OF SUBROUTINE             */
         B     @EL00003                                            0448
@PB00003 DS    0H                                                  0449
*   GENERATE NOREFS NOSETS(EJECT);                                 0449
*                                                                  0449
         EJECT
*   /*****************************************************************/
*   /*                                                               */
*   /* DSCB OBTAIN PROCESSING CHECK TO SEE WHETHER CALLED FOR FORMAT */
*   /* 1 OR 3 DSCB INTERNAL INTERFACES NP2EXCPU EXTERNAL INTERFACES  */
*   /* NIP WTOR NIP SYSTEM WAIT TTR CONVERT IN IGC018                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0450
*NP2RDSCB:                                                         0450
*   PROCEDURE;                      /* NP2RDSCB ENTRY POINT          */
         B     @PB00004                                            0450
NP2RDSCB STM   @14,@12,@SA00004                                    0450
*   DEBPTR=ADDR(NIPDEBTC);                                         0451
*                                                                  0451
         LA    @10,NIPDEBTC                                        0451
         ST    @10,DEBPTR                                          0451
*/*                                                            YM2437*/
*                                                                  0452
*   DEBDAPTR=ADDR(DEBBASND);        /* ADDR OF DEB EXTENSION         */
         LA    @00,DEBBASND(,@10)                                  0452
         ST    @00,DEBDAPTR                                        0452
*   IF FORMAT='1' THEN                                             0453
         CLI   FORMAT,C'1'                                         0453
         BNE   @RF00453                                            0453
*     DO;                                                          0454
*                                                                  0454
*       /*************************************************************/
*       /*                                                           */
*       /* READ FORMAT 1 DSCB CONVERT RELATIVE TTR TO ABSOLUTE CCHHR */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0455
*       DEBUCBA=UCBPTR;             /* UCB ADDR                      */
         L     @15,UCBPTR                                          0455
         LR    @14,@00                                             0455
         STCM  @15,7,DEBUCBA(@14)                                  0455
*       RPARM=DEBPTR;               /* DEB PTR                       */
         LR    RPARM,@10                                           0456
*       NVTSAVE=RNVT;               /* SAVE NVT ADDR                 */
         ST    RNVT,NVTSAVE                                        0457
*       RCCHH=ADDR(MBBCCHHR);       /* ADDR OF AREA FOR MBBCCHHR     */
         LA    RCCHH,MBBCCHHR                                      0458
*       RESPECIFY                                                  0459
*        (RENTRY,                                                  0459
*         RTTR,                                                    0459
*         RBASE1,                                                  0459
*         RSAVE,                                                   0459
*         RBASE6) RESTRICTED;                                      0459
*       RENTRY=CVTPCNVT;            /* ADDR OF CONVERT RTN           */
         L     RENTRY,CVTPCNVT(,RCVT)                              0460
*       RTTR=UCBVTOC;               /* TTR FOUND IN UCB              */
         L     @14,UCBPTR                                          0461
         L     RTTR,UCBVTOC(,@14)                                  0461
*       RBASE6=RBASE1;              /* SAVE REG OVER CNVRT           */
         LR    RBASE6,RBASE1                                       0462
*       R13SAVE=RSAVE;              /* SAVE REG 13 OVER CALL         */
*                                                                  0463
         ST    RSAVE,R13SAVE                                       0463
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0464
*       GENERATE;                                                  0464
*                                                                  0464
*                          /* CONVERT TTR->CCHHR */
          BALR  REXIT,RENTRY
          LR     RBASE1,RBASE6
          LA     RBASE2,4095(0,RBASE1)
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0465
*       RSAVE=R13SAVE;              /* RESTORE REG 13                */
         L     RSAVE,R13SAVE                                       0465
*       RESPECIFY                                                  0466
*        (RBASE6,                                                  0466
*         RENTRY,                                                  0466
*         RTTR,                                                    0466
*         RBASE1,                                                  0466
*         RSAVE) UNRESTRICTED;                                     0466
*       RNVT=NVTSAVE;               /* RESTORE NVT PTR               */
         L     RNVT,NVTSAVE                                        0467
*       IOBSEEK=MBBCCHHR;           /* START ADDR OF VTOC SEARCH     */
         L     @10,IOBSTPTR                                        0468
         MVC   IOBSEEK(8,@10),MBBCCHHR                             0468
*       NP2VSRCH=MBBCCHHR(4:8);     /* PUT CCHHR INTO SRCH           */
*                                                                  0469
         MVC   NP2VSRCH(5),MBBCCHHR+3                              0469
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF A 44 CHARACTER NAME                                */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0470
*       IF NOPNFLI='1'B THEN                                       0470
         L     @10,NPB2PPTR                                        0470
         TM    NOPNFLI(@10),B'00010000'                            0470
         BNO   @RF00470                                            0470
*         NP2DSKEY=DSNAME;          /* PUT NAME IN KEY               */
         L     @10,NAMPARM                                         0471
         MVC   NP2DSKEY(44),DSNAME(@10)                            0471
*       ELSE                                                       0472
*         NP2DSKEY=DSNAME(1:12);    /* PUT NAME IN KEY               */
*                                                                  0472
         B     @RC00470                                            0472
@RF00470 MVI   NP2DSKEY+12,C' '                                    0472
         MVC   NP2DSKEY+13(31),NP2DSKEY+12                         0472
         L     @10,NAMPARM                                         0472
         MVC   NP2DSKEY(12),DSNAME(@10)                            0472
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP CCW'S                                              */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0473
*       SADDR1=ADDR(NP2VSRCH);      /* SEARCH ID EQUAL               */
@RC00470 LA    @10,NP2VSRCH                                        0473
         STCM  @10,7,SADDR1                                        0473
*       SADDR2=ADDR(CCW1);          /* SEARCH ARGUMENT               */
         LA    @10,CCW1                                            0474
         STCM  @10,7,SADDR2                                        0474
*       SADDR3=ADDR(NP2F4BUF);      /* BUFFER FOR READ               */
         LA    @15,NP2F4BUF                                        0475
         STCM  @15,7,SADDR3                                        0475
*       FLAGS3='60'X;               /* CHAINING & SILI               */
         MVI   FLAGS3,X'60'                                        0476
*       COUNT3=LENGTH(NP2F4BUF);    /* FORMAT 4 DSCB                 */
         MVC   COUNT3(2),@CH00202                                  0477
*       SADDR4=ADDR(NP2F4BUF)+1;    /* SRCH ARGUMENTS                */
         AH    @15,@CH00121                                        0478
         STCM  @15,7,SADDR4                                        0478
*       RPARM=ADDR(CCW1);           /* ADDR OF CCW SEQUENCE          */
         LR    RPARM,@10                                           0479
*     END;                                                         0480
*   ELSE                                                           0481
*     DO;                                                          0481
         B     @RC00453                                            0481
@RF00453 DS    0H                                                  0482
*       NP2SRCH3=DS1PTRDS;          /* CCHHR FROM FORMAT 1           */
         LA    @10,NP2F1BUF                                        0482
         LR    @15,@10                                             0482
         SH    @15,@CH02180                                        0482
         MVC   NP2SRCH3(5),DS1PTRDS(@15)                           0482
*       IOBSEEK(4:8)=DS1PTRDS;      /* PUT CCHHR IN SEARCH           */
*                                                                  0483
         L     @14,IOBSTPTR                                        0483
         MVC   IOBSEEK+3(5,@14),DS1PTRDS(@15)                      0483
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP CCW SEQUENCE                                       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0484
*       SADDR1=ADDR(NP2SRCH3);      /* FORMAT 3 DSCB                 */
         LA    @00,NP2SRCH3                                        0484
         STCM  @00,7,SADDR1                                        0484
*       SADDR2=ADDR(CCW1);          /* BRANCH TO FIRST CCW           */
         LA    @15,CCW1                                            0485
         STCM  @15,7,SADDR2                                        0485
*       SADDR3=ADDR(NP2F1BUF);      /* BUFFER FOR READ               */
         STCM  @10,7,SADDR3                                        0486
*       CODE3='0E'X;                /* READ KEY & DATA               */
         MVI   CODE3,X'0E'                                         0487
*       COUNT3=LENGTH(DSCB3);       /* LENGTH OF DSCB          YM2436*/
         MVC   COUNT3(2),@CH02184                                  0488
*       RPARM=ADDR(CCW1);           /* ADDR OF CCW SEQUENCE          */
         LR    RPARM,@15                                           0489
*     END;                                                         0490
*   DS1FMTID='00'X;                 /* SET DSCB ID TO 0              */
@RC00453 LA    @10,NP2F1BUF                                        0491
         MVI   DS1FMTID-44(@10),X'00'                              0491
*   DS3FMTID='00'X;                 /* SET DSCB ID TO 0              */
*                                                                  0492
         MVI   DS3FMTID,X'00'                                      0492
*   /*****************************************************************/
*   /*                                                               */
*   /* DO EXCP I/O                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0493
*   CALL NP2EXCPU;                  /* READ DSCB                     */
*                                                                  0493
         BAL   @14,NP2EXCPU                                        0493
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0494
*   FLAGS3='20'X;                   /* RESET FLAG FIELD              */
         MVI   FLAGS3,X'20'                                        0494
*   CODE3='06'X;                    /* SET BACK TO READ DATA         */
*                                                                  0495
         MVI   CODE3,X'06'                                         0495
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR SUCCESSFUL I/O COMPLETION                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0496
*   IF ECBCC='7F'X&(DS1FMTID=FORMATDS3FMTID=FORMAT)/*        @YM8137*/
*     THEN                                                         0496
*                                                                  0496
         L     @10,ECBPTR                                          0496
         CLI   ECBCC(@10),X'7F'                                    0496
         BNE   @RF00496                                            0496
         LA    @10,NP2F1BUF                                        0496
         CLC   DS1FMTID-44(1,@10),FORMAT                           0496
         BE    @RT00496                                            0496
         CLC   DS3FMTID(1),FORMAT                                  0496
         BNE   @RF00496                                            0496
@RT00496 DS    0H                                                  0497
*     /***************************************************************/
*     /*                                                             */
*     /* SUCCESSFUL I/O COMPLETION                                   */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0497
*     DO;                                                          0497
*       NOPNRC=OK;                  /* NO ERRORS IN READ             */
         L     @10,NPB2PPTR                                        0498
         MVI   NOPNRC(@10),X'00'                                   0498
*       RETURN CODE(0);             /* RETURN TO CALLER - OK         */
         SLR   @15,@15                                             0499
         L     @14,@SA00004                                        0499
         LM    @00,@12,@SA00004+8                                  0499
         BR    @14                                                 0499
*     END;                                                         0500
*   ELSE                                                           0501
*     ;                                                            0501
*                                                                  0501
@RF00496 DS    0H                                                  0502
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF I/O ERROR WAS CAUSE OF FAILURE                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0502
*   IF ECBBIT2='1'B THEN                                           0502
         L     @10,ECBPTR                                          0502
         TM    ECBBIT2(@10),B'00100000'                            0502
         BNO   @RF00502                                            0502
*     DO;                                                          0503
*                                                                  0503
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF CONDITIONAL REQUEST AND SUPPRESS MSG               */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0504
*       IF NOPNFLLC^='1'BNOPNFLM^='1'B THEN                       0504
         L     @10,NPB2PPTR                                        0504
         TM    NOPNFLLC(@10),B'00100010'                           0504
         BO    @RF00504                                            0504
*         DO;                                                      0505
*           INSERT6A=NP2DSKEY;      /* PUT DSNAME IN MSG             */
         MVC   INSERT6A(44),NP2DSKEY                               0506
*           INSERT6B=UCBVOLI;       /* PUT VOL SER IN MSG            */
*                                                                  0507
         L     @10,UCBPTR                                          0507
         MVC   INSERT6B(6),UCBVOLI(@10)                            0507
*           /*********************************************************/
*           /*                                                       */
*           /* IEAN02I DSN NOT FOUND ON DDD                          */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0508
*           GENERATE REFS(RNVT,NVTWTO,MSG6,INSERT6A,INSERT6B) SETS(
*               RPARM,REXIT,RENTRY)(IEAPMNIP TYPE=WTO,PARAM=MSG6); 0508
*                                                                  0508
         IEAPMNIP TYPE=WTO,PARAM=MSG6
*           /*********************************************************/
*           /*                                                       */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0509
*         END;                                                     0509
*       ELSE                                                       0510
*         ;                                                        0510
@RF00504 DS    0H                                                  0511
*       NOPNRC=NODSRD;              /* SET RC TO NO DS READ IN       */
         L     @10,NPB2PPTR                                        0511
         MVI   NOPNRC(@10),X'04'                                   0511
*     END;                                                         0512
*   ELSE                                                           0513
*     DO;                                                          0513
         B     @RC00502                                            0513
@RF00502 DS    0H                                                  0514
*       INSERT5A=NP2DSKEY;          /* PUT DSNAME IN MESSAGE         */
*                                                                  0514
         MVC   INSERT5A(44),NP2DSKEY                               0514
*       /*************************************************************/
*       /*                                                           */
*       /* IEA211I OBTAIN FAILED FOR DSN DATA SET                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0515
*       GENERATE REFS(RNVT,NVTWTO,MSG5,INSERT5A) SETS(RPARM,REXIT, 0515
*           RENTRY)(IEAPMNIP TYPE=WTO,PARAM=MSG5);                 0515
*                                                                  0515
         IEAPMNIP TYPE=WTO,PARAM=MSG5
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0516
*       RPARM=IOBSTPTR;             /* ADDR OF UNIT TEST IOB         */
*                                                                  0516
         L     RPARM,IOBSTPTR                                      0516
*       /*************************************************************/
*       /*                                                           */
*       /* SEND NIPSENSE ERROR MESSAGE                               */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0517
*       GENERATE REFS(RNVT,NVTSENSE,RPARM) SETS(REXIT,RENTRY)      0517
*           (IEAPMNIP TYPE=SENSE,PARAM=RPARM);                     0517
*                                                                  0517
         IEAPMNIP TYPE=SENSE,PARAM=RPARM
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0518
*       NOPNRC=IORDERR;             /* SET RC TO I/O ERROR ON READ   */
         L     @10,NPB2PPTR                                        0518
         MVI   NOPNRC(@10),X'08'                                   0518
*     END;                                                         0519
*                                                                  0519
*/* CHECK FOR CONDITIONAL REQUEST                                    */
*                                                                  0520
*   IF NOPNFLLC='1'B THEN           /* CONDITIONAL REQUEST           */
@RC00502 L     @10,NPB2PPTR                                        0520
         TM    NOPNFLLC(@10),B'00000010'                           0520
         BNO   @RF00520                                            0520
*     RETURN CODE(4);               /* RETURN TO CALLER - ERROR      */
         LA    @15,4                                               0521
         L     @14,@SA00004                                        0521
         LM    @00,@12,@SA00004+8                                  0521
         BR    @14                                                 0521
*   ELSE                                                           0522
*     ;                                                            0522
*                                                                  0522
@RF00520 DS    0H                                                  0523
*/* PUT SYSTEM INTO WAIT STATE                                       */
*                                                                  0523
*   NVTFLWSC=NVTFLWNL;              /* PUT WAIT STATE CODE IN NVT    */
         MVI   NVTFLWSC(RNVT),X'37'                                0523
*   RPARM=IOBSTPTR;                 /* ADDR OF IOB                   */
*                                                                  0524
         L     RPARM,IOBSTPTR                                      0524
*   /*****************************************************************/
*   /*                                                               */
*   /* PUT SYSTEM INTO WAIT STATE                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0525
*   GENERATE REFS(RNVT,NVTSWAIT,NVTFLWSC) SETS(REXIT,RENTRY)       0525
*       (IEAPMNIP TYPE=SWAIT,PARAM=RPARM);                         0525
         IEAPMNIP TYPE=SWAIT,PARAM=RPARM
*   GENERATE NOREFS NOSETS(EJECT);                                 0526
*                                                                  0526
         EJECT
*   /*****************************************************************/
*   /*                                                               */
*   /* READ RECORD 3 DASD ROUTINE INTERNAL INTERFACES NP2EXCPU       */
*   /* NP2TERR EXTERNAL INTERFACES NIP WTO SYSTEM INTERFACES TTR     */
*   /* CONVERT IN IGC018                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0527
*NP2RRCD3:                                                         0527
*   ENTRY;                          /* NP2RRCD3 ENTRY POINT          */
         B     @EC00527                                            0527
NP2RRCD3 STM   @14,@12,@SA00004                                    0527
@EC00527 DS    0H                                                  0528
*/* INITIALIZE UNIT TEST DEB                                         */
*                                                                  0528
*   DEBPTR=ADDR(NIPDEBTC);          /* ADDR OF UNIT TEST DEB         */
         LA    @10,NIPDEBTC                                        0528
         ST    @10,DEBPTR                                          0528
*   DEBDAPTR=ADDR(DEBBASND);        /* ADDR OF DEB EXTENSION         */
         LA    @10,DEBBASND(,@10)                                  0529
         ST    @10,DEBDAPTR                                        0529
*/* SET UP CCW'S                                                     */
*                                                                  0530
*   SADDR1=ADDR(NP2SRCH);           /* CYL.0,TRK.0,RCD.3             */
         LA    @10,NP2SRCH                                         0530
         STCM  @10,7,SADDR1                                        0530
*   SADDR2=ADDR(CCW1);              /* BRANCH BACK TO FIRST CCW      */
         LA    @10,CCW1                                            0531
         STCM  @10,7,SADDR2                                        0531
*   SADDR3=ADDR(NP2DABUF);          /* BUFFER FOR READ               */
         LA    @00,NP2DABUF                                        0532
         STCM  @00,7,SADDR3                                        0532
*   COUNT3=LENGTH(NP2DABUF);        /* NO OF BYTES TO BE READ        */
         MVC   COUNT3(2),@CH00076                                  0533
*/* SET UP CALL TO NP2EXCPU                                          */
*/* READ VOLUME LABEL                                                */
*                                                                  0534
*   IOBSEEK='0000000000000000'X;    /* SEEK ADDR                     */
         L     @15,IOBSTPTR                                        0534
         MVC   IOBSEEK(8,@15),@CB02127                             0534
*   RPARM=ADDR(CCW1);               /* ADDR OF CCW CHAIN             */
*                                                                  0535
         LR    RPARM,@10                                           0535
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0536
*   CALL NP2EXCPU;                  /* SCHEDULE I/O REQUEST          */
*                                                                  0536
         BAL   @14,NP2EXCPU                                        0536
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0537
*/* CHECK FOR SUCCESSFUL I/O COMPLETION                              */
*                                                                  0537
*   IF IOBECBCC='7F'X THEN                                         0537
*                                                                  0537
         L     @10,IOBSTPTR                                        0537
         CLI   IOBECBCC(@10),X'7F'                                 0537
         BNE   @RF00537                                            0537
*     /***************************************************************/
*     /*                                                             */
*     /* SUCCESSFUL I/O COMPLETION                                   */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0538
*     DO;                                                          0538
*       NVTSAVE=RNVT;               /* SAVE NVT PTR                  */
         ST    RNVT,NVTSAVE                                        0539
*       RPARM=DEBPTR;               /* ADDR OF DEB                   */
         L     RPARM,DEBPTR                                        0540
*/* CONVERT VTOC CCHHR TO TTR                                        */
*                                                                  0541
*       MBB=0;                      /* CLEAR BIN ADDR                */
         SLR   @10,@10                                             0541
         STCM  @10,7,MBB                                           0541
*       CCHHR=VOLVTOC;              /* VTOC CCHHR                    */
         MVC   CCHHR(5),VOLVTOC                                    0542
*       RCCHH=ADDR(MBBCCHHR);       /* ADDR OF CCHHR                 */
         LA    RCCHH,MBBCCHHR                                      0543
*       RESPECIFY                                                  0544
*        (RENTRY,                                                  0544
*         RBASE1,                                                  0544
*         RSAVE,                                                   0544
*         RTTR,                                                    0544
*         RBASE6) RESTRICTED;                                      0544
*       RENTRY=CVTPRLTV;            /* ADDR OF CONVERT ROUTINE       */
         L     RENTRY,CVTPRLTV(,RCVT)                              0545
*       RBASE6=RBASE1;              /* SAVE VOLATILE REG             */
         LR    RBASE6,RBASE1                                       0546
*       R13SAVE=RSAVE;              /* SAVE REG 13 OVER CALL         */
*                                                                  0547
         ST    RSAVE,R13SAVE                                       0547
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0548
*       GENERATE REFS(RCCHH,RENTRY,RBASE6,RPARM,MBBCCHHR) SETS(REXIT,
*           RBASE1,RBASE2,RSAVE,RNVT,RTTR);                        0548
*                                                                  0548
          BALR  REXIT,RENTRY
          LR    RBASE1,RBASE6
          LA    RBASE2,4095(0,RBASE1)
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0549
*       RSAVE=R13SAVE;              /* RESTORE REG 13                */
         L     RSAVE,R13SAVE                                       0549
*       UCBVTOC=RTTR;               /* PUT VTOC TTR IN UCB           */
         L     @14,UCBPTR                                          0550
         ST    RTTR,UCBVTOC(,@14)                                  0550
*       RESPECIFY                                                  0551
*        (RENTRY,                                                  0551
*         RBASE1,                                                  0551
*         RSAVE,                                                   0551
*         RTTR,                                                    0551
*         RBASE6) UNRESTRICTED;                                    0551
*       UCBVOLI=VOLSERNO;           /* PUT VOLUME SERIAL IN UCB      */
         MVC   UCBVOLI(6,@14),VOLSERNO                             0552
*       RNVT=NVTSAVE;               /* RESTORE NVT PTR               */
         L     RNVT,NVTSAVE                                        0553
*       RETURN;                     /* RETURN TO CALLER              */
@EL00004 DS    0H                                                  0554
@EF00004 DS    0H                                                  0554
@ER00004 LM    @14,@12,@SA00004                                    0554
         BR    @14                                                 0554
*     END;                                                         0555
*   ELSE                                                           0556
*     ;                                                            0556
*                                                                  0556
@RF00537 DS    0H                                                  0557
*/* SEE IF RECORD WAS FOUND                                          */
*                                                                  0557
*   IF IOBS1B4^='1'B THEN                                          0557
         L     @10,IOBSTPTR                                        0557
         TM    IOBS1B4(@10),B'00001000'                            0557
         BNO   @RT00557                                            0557
*     GO TO NP2RNCD;                /* RECORD FOUND                  */
*   ELSE                                                           0559
*     ;                                                            0559
*   INSERTCA=UCBNAME;               /* MOVE UNIT NAME INTO MSG       */
*                                                                  0560
         L     @10,UCBPTR                                          0560
         MVC   INSERTCA(3),UCBNAME(@10)                            0560
*   /*****************************************************************/
*   /*                                                               */
*   /* IEAN02I UNLABELED DASD ON DDD                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0561
*   GENERATE REFS(RNVT,NVTWTO,MSGC,INSERTCA) SETS(RPARM,REXIT,RENTRY)
*       (IEAPMNIP TYPE=WTO,PARAM=MSGC);                            0561
*                                                                  0561
         IEAPMNIP TYPE=WTO,PARAM=MSGC
*   /*****************************************************************/
*   /*                                                               */
*   /* SET ERROR MESSAGE WRITTEN FLAG                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0562
*   NP2NERR='1'B;                                                  0562
         OI    NP2NERR,B'01000000'                                 0562
*NP2RNCD:                                                          0563
*                                                                  0563
*   /*****************************************************************/
*   /*                                                               */
*   /* WRITE OFFLINE MSG.& SET UCB STATUS                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0563
*   CALL NP2TERR;                                                  0563
*                                                                  0563
NP2RNCD  BAL   @14,NP2TERR                                         0563
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0564
*   NP2NERR='0'B;                   /* RESET MSG WRITTEN FLAG        */
         NI    NP2NERR,B'10111111'                                 0564
*   RETURN;                         /* RETURN TO CALLER              */
         B     @EL00004                                            0565
*   END NP2RDSCB;                   /* END OF SUBROUTINE             */
@PB00004 DS    0H                                                  0567
*   GENERATE NOREFS NOSETS(EJECT);                                 0567
*                                                                  0567
         EJECT
*   /*****************************************************************/
*   /*                                                               */
*   /* TEST I/O STATUS COMPLETION CALLED BY MAINLINE DEVICE TESTING  */
*   /* NP2SDASD SHARED DASD NP2LDUP DUPLICATE VOLUME TESTING NP2RRCD3*/
*   /* READ RECORD 3 IEAVNPA2 NIP MOUNT EXTERNAL INTERFACES NIP WTO  */
*   /* NIP SENSE REGISTER RESTRICTIONS FOR THIS ROUTINE              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0568
*   RESPECIFY                                                      0568
*    (RUCB) RESTRICTED;                                            0568
*   RESPECIFY                                                      0569
*    (C) RESTRICTED;                                               0569
*   RESPECIFY                                                      0570
*    (RSCAN) RESTRICTED;                                           0570
*                                                                  0570
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0571
*NP2TERR:                                                          0571
*   PROCEDURE OPTIONS(NOSAVEAREA);  /* NP2TERR ENTRY POINT           */
         B     @PB00005                                            0571
NP2TERR  STM   @14,@12,12(@13)                                     0571
*/* CHECK ECB COMPLETION CODE                                        */
*                                                                  0572
*   IF ECBCC='7F'X THEN             /* NORMAL I/O COMPLETION         */
         L     @10,ECBPTR                                          0572
         CLI   ECBCC(@10),X'7F'                                    0572
         BE    @RT00572                                            0572
*     RETURN;                       /* RETURN TO CALLER              */
*   ELSE                                                           0574
*     ;                                                            0574
*                                                                  0574
*/* IS DEVICE OFFLINE OR UNAVAILABLE                                 */
*                                                                  0575
*   IF NIPDOFFL='1'BNIPDUNAV='1'B THEN                            0575
*                                                                  0575
         TM    NIPDOFFL,B'10100000'                                0575
         BZ    @RF00575                                            0575
*     /***************************************************************/
*     /*                                                             */
*     /* IS DEVICE TESTING ACTIVE                                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0576
*     IF NP2DTEST='1'B THEN                                        0576
         TM    NP2DTEST,B'10000000'                                0576
         BO    @RT00576                                            0576
*       GO TO NP2OFF;               /* YES-SEE IF OFFLINE            */
*     ELSE                                                         0578
*       ;                                                          0578
*   ELSE                                                           0579
*     ;                                                            0579
*                                                                  0579
@RF00575 DS    0H                                                  0580
*/* IS ERROR MESSAGE TO BE WRITTEN                                   */
*                                                                  0580
*   IF NP2NERR='0'B THEN                                           0580
         TM    NP2NERR,B'01000000'                                 0580
         BNZ   @RF00580                                            0580
*     DO;                                                          0581
*       RPARM=IOBSTPTR;             /* PTR TO UNIT TEST IOB          */
*                                                                  0582
         L     RPARM,IOBSTPTR                                      0582
*       /*************************************************************/
*       /*                                                           */
*       /* WRITE I/O ERROR MESSAGE CALL NIP SENSE                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0583
*       GENERATE REFS(RNVT,NVTSENSE,RPARM) SETS(REXIT,RENTRY)      0583
*           (IEAPMNIP TYPE=SENSE,PARAM=RPARM);                     0583
*                                                                  0583
         IEAPMNIP TYPE=SENSE,PARAM=RPARM
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0584
*       GO TO NP2OFF;                                              0584
         B     NP2OFF                                              0584
*     END;                                                         0585
*   ELSE                                                           0586
*     ;                                                            0586
@RF00580 DS    0H                                                  0587
*   INSERTDA=UCBNAME;               /* MOVE UNIT NAME INTO MSG       */
*                                                                  0587
         L     @10,UCBPTR                                          0587
         MVC   INSERTDA(3),UCBNAME(@10)                            0587
*   /*****************************************************************/
*   /*                                                               */
*   /* IEAN02I DDD OFFLINE                                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0588
*   GENERATE REFS(RNVT,NVTWTO,MSGD,INSERTDA) SETS(RPARM,REXIT,RENTRY)
*       (IEAPMNIP TYPE=WTO,PARAM=MSGD);                            0588
*                                                                  0588
         IEAPMNIP TYPE=WTO,PARAM=MSGD
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0589
*   GO TO NP2YOFF;                  /* GO TO SET UCB OFFLINE         */
         B     NP2YOFF                                             0589
*NP2OFF:                            /* IS DEVICE OFFLINE             */
*   IF NIPDOFFL='1'B THEN           /* DEVICE OFFLINE                */
NP2OFF   TM    NIPDOFFL,B'00100000'                                0590
         BNO   @RF00590                                            0590
*     DO;                                                          0591
*NP2YOFF:                           /* SET STATUS OFFLINE            */
*       UCBONLI='0'B;               /* SET UCB OFFLINE               */
*                                                                  0592
NP2YOFF  L     @10,UCBPTR                                          0592
         NI    UCBONLI(@10),B'01111111'                            0592
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF DEVICE IS DIRECT ACCESS                            */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0593
*       IF UCB3DACC^='1'B THEN                                     0593
         TM    UCB3DACC(@10),B'00100000'                           0593
         BNO   @RT00593                                            0593
*         RETURN;                   /* NO - RETURN TO CALLER         */
*       ELSE                                                       0595
*         ;                                                        0595
*     END;                                                         0596
*   ELSE                                                           0597
*     ;                                                            0597
@RF00590 DS    0H                                                  0598
*   UCBNOTRD='1'B;                  /* SET UCB TO NOT-READY          */
*                                                                  0598
         L     @10,UCBPTR                                          0598
         OI    UCBNOTRD(@10),B'01000000'                           0598
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF DEVICE IS DIRECT ACCESS                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0599
*   IF UCB3DACC='1'B THEN                                          0599
         TM    UCB3DACC(@10),B'00100000'                           0599
         BNO   @RF00599                                            0599
*     DO;                                                          0600
*                                                                  0600
*       /*************************************************************/
*       /*                                                           */
*       /* ZERO VOLUME SERIAL                                        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0601
*       UCBVOLI='000000000000'X;                                   0601
         MVC   UCBVOLI(6,@10),@CB02579                             0601
*       UCBVTOC=0;                  /* ZERO VTOC TTR                 */
*                                                                  0602
         SLR   @06,@06                                             0602
         ST    @06,UCBVTOC(,@10)                                   0602
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF DEVICE IS 2305 A OR C                              */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0603
*       IF UCBTBYT4=A2305UCBTBYT4=C2305 THEN                      0603
         CLI   UCBTBYT4(@10),X'06'                                 0603
         BE    @RT00603                                            0603
         CLI   UCBTBYT4(@10),X'07'                                 0603
         BNE   @RF00603                                            0603
@RT00603 DS    0H                                                  0604
*         DO;                                                      0604
*           I3=1;                   /* INITIALIZE TABLE PTR          */
*                                                                  0605
         MVC   I3(4),@CF00121                                      0605
*           /*********************************************************/
*           /*                                                       */
*           /* IS THIS THE TABLE ENTRY FOR CURRENT UCB               */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0606
*NP2SUCB:                                                          0606
*           IF IECILK2(I3)=UCBPTR THEN                             0606
*                                                                  0606
NP2SUCB  L     @10,I3                                              0606
         ALR   @10,@10                                             0606
         L     @06,CVTILK2(,RCVT)                                  0606
         ALR   @06,@10                                             0606
         AL    @06,@CF02667                                        0606
         SLR   @10,@10                                             0606
         ICM   @10,3,IECILK2(@06)                                  0606
         CL    @10,UCBPTR                                          0606
         BNE   @RF00606                                            0606
*             /*******************************************************/
*             /*                                                     */
*             /* SET UCB'S FOR 2305 NOT READY                        */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0607
*             DO C=1 TO 7;                                         0607
         LA    C,1                                                 0607
@DL00607 DS    0H                                                  0608
*               I3=I3+1;            /* INCREMENT INDEX               */
         LA    @10,1                                               0608
         AL    @10,I3                                              0608
         ST    @10,I3                                              0608
*               RSCAN=IECILK2(I3);  /* PTR TO UCB                    */
         ALR   @10,@10                                             0609
         L     @06,CVTILK2(,RCVT)                                  0609
         ALR   @06,@10                                             0609
         AL    @06,@CF02667                                        0609
         SLR   RSCAN,RSCAN                                         0609
         ICM   RSCAN,3,IECILK2(@06)                                0609
*               RSCAN->UCBNOTRD='1'B;/* NOT RDY                      */
         OI    UCBNOTRD(RSCAN),B'01000000'                         0610
*             END;                                                 0611
         AH    C,@CH00121                                          0611
         CH    C,@CH00367                                          0611
         BNH   @DL00607                                            0611
*           ELSE                                                   0612
*             DO;                                                  0612
         B     @RC00606                                            0612
@RF00606 DS    0H                                                  0613
*               I3=I3+1;            /* INCREMENT INDEX               */
         LA    @10,1                                               0613
         AL    @10,I3                                              0613
         ST    @10,I3                                              0613
*               GO TO NP2SUCB;      /* LOOK AGAIN FOR UCB            */
         B     NP2SUCB                                             0614
*             END;                                                 0615
*         END;                                                     0616
*       ELSE                                                       0617
*         ;                                                        0617
@RF00603 DS    0H                                                  0618
*     END;                                                         0618
*   ELSE                                                           0619
*     ;                                                            0619
@RF00599 DS    0H                                                  0620
*   RETURN;                         /* RETURN TO CALLER              */
@EL00005 DS    0H                                                  0620
@EF00005 DS    0H                                                  0620
@ER00005 LM    @14,@12,12(@13)                                     0620
         BR    @14                                                 0620
*   RESPECIFY                                                      0621
*    (RSCAN,                                                       0621
*     RUCB) UNRESTRICTED;                                          0621
*   RESPECIFY                                                      0622
*    (C) UNRESTRICTED;                                             0622
*   END NP2TERR;                    /* END OF SUBROUTINE             */
         B     @EL00005                                            0623
@PB00005 DS    0H                                                  0624
*   GENERATE NOREFS NOSETS(EJECT);                                 0624
*                                                                  0624
         EJECT
*   /*****************************************************************/
*   /*                                                               */
*   /* VOLUME SERIAL SCAN ROUTINE DOES NOT CALL OTHER ROUTINES       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0625
*   RESPECIFY                                                      0625
*    (RSCAN) RESTRICTED;                                           0625
*   RESPECIFY                                                      0626
*    (RUCB) RESTRICTED;                                            0626
*   RESPECIFY                                                      0627
*     UCBOB BASED(RSCAN);                                          0627
*NP2VSCAN:                                                         0628
*   PROCEDURE OPTIONS(NOSAVEAREA,NOSAVE(RUCB));                    0628
         B     @PB00006                                            0628
NP2VSCAN STM   @14,@07,12(@13)                                     0628
         STM   @09,@12,56(@13)                                     0628
*   I2=1;                           /* INITIALIZE INDEX              */
         MVC   I2(4),@CF00121                                      0629
*NP2VSER:                                                          0630
*   RSCAN=IECILK2(I2);              /* UCB ADDR TABLE                */
NP2VSER  L     @10,I2                                              0630
         ALR   @10,@10                                             0630
         L     @15,CVTILK2(,RCVT)                                  0630
         ALR   @15,@10                                             0630
         AL    @15,@CF02667                                        0630
         SLR   RSCAN,RSCAN                                         0630
         ICM   RSCAN,3,IECILK2(@15)                                0630
*/* SEE IF END OF TABLE                                              */
*                                                                  0631
*   IF RSCAN=TABEND                                                0631
*                                                                  0631
*   /*****************************************************************/
*   /*                                                               */
*   /* END OF TABLE                                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0631
*     THEN                                                         0631
         SLR   @10,@10                                             0631
         ICM   @10,3,TABEND                                        0631
         CR    RSCAN,@10                                           0631
         BNE   @RF00631                                            0631
*     DO;                                                          0632
*       RUCB=0;                     /* INDICATE NO UCB FOUND         */
         SLR   RUCB,RUCB                                           0633
*       RETURN;                     /* RETURN TO CALLER              */
@EL00006 DS    0H                                                  0634
@EF00006 DS    0H                                                  0634
@ER00006 LM    @14,@07,12(@13)                                     0634
         LM    @09,@12,56(@13)                                     0634
         BR    @14                                                 0634
*     END;                                                         0635
*   ELSE                                                           0636
*     ;                                                            0636
*                                                                  0636
@RF00631 DS    0H                                                  0637
*/* SEE IF UCB ADDRESS IS 0 OR UCB IS NON-DASD OR SAME ADDR AS INPUT
*   UCB OR NOT SAME VOLUME SERIAL                                    */
*                                                                  0637
*   IF RSCAN=0UCB3DACC^='1'BRUCB=RSCANVOLUME^=UCBVOLI THEN      0637
         LTR   RSCAN,RSCAN                                         0637
         BZ    @RT00637                                            0637
         TM    UCB3DACC(RSCAN),B'00100000'                         0637
         BNO   @RT00637                                            0637
         CR    RUCB,RSCAN                                          0637
         BE    @RT00637                                            0637
         L     @10,VOLPTR                                          0637
         CLC   VOLUME(6,@10),UCBVOLI(RSCAN)                        0637
         BE    @RF00637                                            0637
@RT00637 DS    0H                                                  0638
*     DO;                                                          0638
*       I2=I2+1;                    /* INCREMENT PTR                 */
         LA    @10,1                                               0639
         AL    @10,I2                                              0639
         ST    @10,I2                                              0639
*       GO TO NP2VSER;              /* SEARCH AGAIN                  */
         B     NP2VSER                                             0640
*     END;                                                         0641
*   ELSE                                                           0642
*     ;                                                            0642
*                                                                  0642
@RF00637 DS    0H                                                  0643
*   /*****************************************************************/
*   /*                                                               */
*   /* INPUT UCB IS A DUPLICATE OF A PREVIOUSLY DEFINED UCB          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0643
*   RUCB=RSCAN;                     /* SET UCB PTR TO FOUND UCB ADDR */
         LR    RUCB,RSCAN                                          0643
*   RESPECIFY                                                      0644
*    (RSCAN) UNRESTRICTED;                                         0644
*   RETURN;                         /* RETURN TO CALLER              */
         B     @EL00006                                            0645
*   RESPECIFY                                                      0646
*    (RUCB) UNRESTRICTED;                                          0646
*   RESPECIFY                                                      0647
*    (RSCAN) UNRESTRICTED;                                         0647
*   RESPECIFY                                                      0648
*     UCBOB BASED(UCBPTR);                                         0648
*   END NP2VSCAN;                   /* END OF SUBROUTINE             */
@PB00006 DS    0H                                                  0650
*   GENERATE NOREFS NOSETS(EJECT);                                 0650
*                                                                  0650
         EJECT
*/********************************************************************/
*/********************************************************************/
*/*       NIP MOUNT SUBROUTINE                                       */
*/*                                                                  */
*/* INTERNAL INTERFACES                                              */
*/*   NP2RRCD3                                                       */
*/*   NP2TERR                                                        */
*/*   NP2VSCAN                                                       */
*/*                                                                  */
*/* EXTERNAL INTERFACES                                              */
*/*   NIP WTO                                                        */
*/*   NIP WTOR                                                       */
*/*   NIP UCB FIND                                                   */
*/*   NIP SYSTEM WAIT                                                */
*/********************************************************************/
*/********************************************************************/
*                                                                  0651
*NIPMOUNT:                                                         0651
*   PROC OPTIONS(NOSAVEAREA,NOSAVE);                               0651
*                                                                  0651
         B     @PB00007                                            0651
NIPMOUNT DS    0H                                                  0652
*   /*****************************************************************/
*   /*                                                               */
*   /* RESPECIFICATIONS FOR THIS ENTRY POINT                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0652
*   RESPECIFY                                                      0652
*     NIPMNTPL BASED(NPA2PPTR);                                    0652
*                                                                  0652
*   /*****************************************************************/
*   /*                                                               */
*   /* RETRICTIONS FOR THIS PROCEEDURE                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0653
*   RESPECIFY                                                      0653
*    (RCVT) RESTRICTED;             /* CVT ADDRESS                   */
*   RESPECIFY                                                      0654
*    (RNVT) RESTRICTED;             /* NVT ADDRESS                   */
*   RESPECIFY                                                      0655
*    (RPARM) RESTRICTED;            /* PARAMETER LIST ADDRESS        */
*   RESPECIFY                                                      0656
*    (RUCB) RESTRICTED;             /* UCB ADDRESS                   */
*                                                                  0656
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0657
*   GENERATE REFS(R0,R2) SETS(RBASE1,RBASE2,RSAVE,RENTRY);         0657
*                                                                  0657
         ENTRY NIPMOUNT                DECLARE NIPMOUNT AS AN ENTRY
         DROP  RBASE1,RBASE2           DROP EXISTING (INVALID) BASES
         BALR  RENTRY,0                SET UP TEMPORARY BASE REG
         USING *,RENTRY                ESTABLISH ADDRESSABILITY
         STM   R2,R0,NPABSAVE          SAVE CALLERS REGISTERS
         L     RBASE1,ADPSTART         SET UP FIRST BASE REG
         LA    RBASE2,4095(0,RBASE1)   SET UP SECOND BASE REG
         DROP  RENTRY                  DROP TEMPORARY BASE
         USING @PSTART,RBASE1          ESTABLISH
         USING @PSTART+4095,RBASE2       ADDRESSABILITY
         LA    RSAVE,COMNSAVE          SET UP SAVE AREA POINTER
*   /*****************************************************************/
*   /*                                                               */
*   /* END OF ENTRY LINKAGE FOR NIPMOUNT                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0658
*   NPA2PPTR=RPARM;                 /* PAREMETER FIELD ADDR          */
*                                                                  0658
         ST    RPARM,NPA2PPTR                                      0658
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF UCB ADDRESS REQUEST WAS SPECIFIED                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0659
*   IF NMNTFLB^='1'B THEN                                          0659
         L     @10,NPA2PPTR                                        0659
         TM    NMNTFLB(@10),B'00000001'                            0659
         BNO   @RT00659                                            0659
*     GO TO NPA2VOL;                /* VOLUME REQUEST                */
*   UCBPTR=NMNTUCB;                 /* UCB ADDR FROM PARM LIST       */
*                                                                  0661
         L     @10,NMNTUCB(,@10)                                   0661
         ST    @10,UCBPTR                                          0661
*   /*****************************************************************/
*   /*                                                               */
*   /* REJECT VIRTUAL DIRECT ACCESS DEVICES                  @Y30LPXD*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0662
*   IF UCB3DACC='1'B&               /* DIRECT ACCESS?        @Y30LPXD*/
*       UCBTBYT4='09'X&             /* MSS TYPE?             @Y30LPXD*/
*       UCBRVDEV='1'B               /* VIRTUAL DEVICE?       @Y30LPXD*/
*     THEN                                                         0662
         TM    UCB3DACC(@10),B'00100000'                           0662
         BNO   @RF00662                                            0662
         CLI   UCBTBYT4(@10),X'09'                                 0662
         BNE   @RF00662                                            0662
         TM    UCBRVDEV(@10),B'00001000'                           0662
         BO    @RT00662                                            0662
*     GOTO MSSEXT;                  /* TERMINATE MOUNT REQUEST     0663
*                                                            @Y30LPXD*/
*                                                                  0663
*   /*****************************************************************/
*   /*                                                               */
*   /* TAPE OR DASD DEVICE                                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0664
*   IF UCB3TAPE='1'B THEN           /* THIS IS A TAPE UNIT           */
@RF00662 L     @10,UCBPTR                                          0664
         TM    UCB3TAPE(@10),B'10000000'                           0664
         BO    @RT00664                                            0664
*     GO TO NPA2TAPE;               /* TAPE MOUNT PROCESSING         */
*NPA2UNIT:                          /* UCB ADDRESS REQUEST           */
*                                                                  0666
*   /*****************************************************************/
*   /*                                                               */
*   /* IEAN02I M DDD,,DSN                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0666
*   INSERTAA=UCBNAME;               /* PUT UNIT IN MESSAGE           */
NPA2UNIT L     @10,UCBPTR                                          0666
         MVC   INSERTAA(3),UCBNAME(@10)                            0666
*   INSERTAC='  ';                  /* OVERLAY NL IN MESSAGE         */
*                                                                  0667
         MVC   INSERTAC(2),@CC02601                                0667
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF DSNAME IS >12 CHARS                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0668
*   IF NMNTFLI='1'B THEN                                           0668
         L     @10,NPA2PPTR                                        0668
         TM    NMNTFLI(@10),B'00000100'                            0668
         BNO   @RF00668                                            0668
*     INSERTAB=NMNTDSA->DSNAME;     /* @ OF DS IN PARM LIST          */
         L     @10,NMNTDSA(,@10)                                   0669
         MVC   INSERTAB(44),DSNAME(@10)                            0669
*   ELSE                                                           0670
*     INSERTAB=NMNTDS;              /* DSNAME IN PARM LIST           */
         B     @RC00668                                            0670
@RF00668 MVI   INSERTAB+12,C' '                                    0670
         MVC   INSERTAB+13(31),INSERTAB+12                         0670
         L     @10,NPA2PPTR                                        0670
         MVC   INSERTAB(12),NMNTDS(@10)                            0670
*   GO TO NPA2MNT;                  /* GO SEE IF VOL IS MOUNTED      */
         B     NPA2MNT                                             0671
*NPA2VOL:                                                          0672
*   VOLPTR=ADDR(NMNTVS);            /* PTR TO INPUT VOL. SERIAL      */
NPA2VOL  L     @10,NPA2PPTR                                        0672
         LA    @10,NMNTVS(,@10)                                    0672
         ST    @10,VOLPTR                                          0672
*   RUCB=0;                         /* SET UCB ADDR TO ZERO          */
*                                                                  0673
         SLR   RUCB,RUCB                                           0673
*   /*****************************************************************/
*   /*                                                               */
*   /* FIND VOLUME IF MOUNTED SEARCH UCB TABLE                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0674
*   CALL NP2VSCAN;                  /* SEARCH UCB TABLE              */
*                                                                  0674
         BAL   @14,NP2VSCAN                                        0674
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0675
*   UCBPTR=RUCB;                    /* SAVE THE UCB ADDR             */
         ST    RUCB,UCBPTR                                         0675
*   IF NMNTFUS='1'B THEN            /* SEE IF UCB SCAN ONLY WAS    0676
*                                      REQSTD                        */
         L     @10,NPA2PPTR                                        0676
         TM    NMNTFUS(@10),B'00001000'                            0676
         BNO   @RF00676                                            0676
*     DO;                                                          0677
*       IF UCB3DACC='1'B&           /* DIRECT ACCESS?        @Y30LPXD*/
*           UCBTBYT4='09'X&         /* MSS TYPE?             @Y30LPXD*/
*           UCBRVDEV='1'B&          /* VIRTUAL DEVICE?       @Y30LPXD*/
*           CVTICB=0&               /* MSS NOT INITIALIZED?  @Y30LPXD*/
*           NVTPTAB->PURGE^=0       /* PURGE REQUESTED?      @ZMAAAAA*/
*         THEN                                                     0678
         L     @10,UCBPTR                                          0678
         TM    UCB3DACC(@10),B'00100000'                           0678
         BNO   @RF00678                                            0678
         CLI   UCBTBYT4(@10),X'09'                                 0678
         BNE   @RF00678                                            0678
         TM    UCBRVDEV(@10),B'00001000'                           0678
         BNO   @RF00678                                            0678
         SLR   @10,@10                                             0678
         L     @09,CVTEXT2(,RCVT)                                  0678
         C     @10,CVTICB(,@09)                                    0678
         BNE   @RF00678                                            0678
         L     @09,NVTPTAB(,RNVT)                                  0678
         C     @10,PURGE(,@09)                                     0678
         BNE   @RT00678                                            0678
*         GOTO MSSEXT;              /* TERMINATE MOUNT REQUEST     0679
*                                                            @Y30LPXD*/
*       ELSE                                                       0680
*         GO TO NPA2RTN;                                           0680
         B     NPA2RTN                                             0680
*     END;                                                         0681
*                                                                  0681
*   /*****************************************************************/
*   /*                                                               */
*   /* WAS VOLUME FOUND                                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0682
*   IF RUCB^=0 THEN                                                0682
*                                                                  0682
@RF00676 LTR   RUCB,RUCB                                           0682
         BZ    @RF00682                                            0682
*     /***************************************************************/
*     /*                                                             */
*     /* VOLUME WAS FOUND IN UCB TABLE                               */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0683
*     DO;                                                          0683
*       IF UCB3DACC='1'B&           /* DIRECT ACCESS?        @Y30LPXD*/
*           UCBTBYT4='09'X&         /* MSS TYPE?             @Y30LPXD*/
*           UCBRVDEV='1'B           /* VIRTUAL DEVICE?       @Y30LPXD*/
*         THEN                                                     0684
         L     @10,UCBPTR                                          0684
         TM    UCB3DACC(@10),B'00100000'                           0684
         BNO   @RF00684                                            0684
         CLI   UCBTBYT4(@10),X'09'                                 0684
         BNE   @RF00684                                            0684
         TM    UCBRVDEV(@10),B'00001000'                           0684
         BNO   @RF00684                                            0684
*         DO;                                                      0685
*           INSERT7=UCBNAME;        /* PLACE UNB NAME IN MSG @Y30LPXD*/
         MVC   INSERT7(3),UCBNAME(@10)                             0686
*           GENERATE REFS(RNVT,NVTWTO,MSG7,INSERT7)                0687
*               (IEAPMNIP TYPE=WTO,PARAM=MSG7);/* ISSUE CONFLICTING
*                                      VOL MSG               @Y30LPXD*/
         IEAPMNIP TYPE=WTO,PARAM=MSG7
*           GOTO MSSEXT;            /* EXIT                  @Y30LPXD*/
         B     MSSEXT                                              0688
*         END;                                                     0689
*                                                                  0689
*       /*************************************************************/
*       /*                                                           */
*       /* IS DEVICE TYPE ACCEPTABLE                                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0690
*       IF NMNTDT=0 THEN                                           0690
@RF00684 L     @10,NPA2PPTR                                        0690
         ICM   @09,3,NMNTDT(@10)                                   0690
         BZ    @RT00690                                            0690
*         GO TO NPA2MXIT;           /* NO DEVICE TYPE SPECIFIED      */
*       ELSE                                                       0692
*         ;                                                        0692
*       IF NMNTDT=UCBTYP(3:4) THEN                                 0693
         L     @09,UCBPTR                                          0693
         CLC   NMNTDT(2,@10),UCBTYP+2(@09)                         0693
         BE    @RT00693                                            0693
*         GO TO NPA2MXIT;           /* DEVICE TYPE MATCH             */
*       ELSE                                                       0695
*         INSERT7=UCBNAME;          /* MOVE UNIT NAME FROM UCB TO  0695
*                                      CONFLICTING VOL MSG           */
         MVC   INSERT7(3),UCBNAME(@09)                             0695
*     END;                                                         0696
*   ELSE                                                           0697
*     ;                                                            0697
*                                                                  0697
@RF00682 DS    0H                                                  0698
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF OPERATOR HAS OPTION TO CANCEL MOUNT                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0698
*   IF NMNTFLC='1'B                 /* OPERATOR CANCEL OPTION        */
*     THEN                                                         0698
         L     @10,NPA2PPTR                                        0698
         TM    NMNTFLC(@10),B'00000010'                            0698
         BNO   @RF00698                                            0698
*     PART8C='OR CANCEL';           /* SPECIFY CANCEL OPT.           */
         MVC   PART8C(9),@CC02606                                  0699
*   ELSE                                                           0700
*     PART8C='         ';           /* CANNOT CANCEL                 */
         B     @RC00698                                            0700
@RF00698 MVC   PART8C(9),@CC02608                                  0700
*   IF NMNTFLI='1'B THEN            /* DS ADDRESS GIVEN              */
@RC00698 L     @10,NPA2PPTR                                        0701
         TM    NMNTFLI(@10),B'00000100'                            0701
         BNO   @RF00701                                            0701
*     INSERT8A=NMNTDSA->DSNAME;     /* PUT DSNAME INTO MSG           */
         L     @10,NMNTDSA(,@10)                                   0702
         MVC   INSERT8A(44),DSNAME(@10)                            0702
*   ELSE                            /* 12 CHAR DS GIVEN              */
*     INSERT8A=NMNTDS;              /* PUT DSNAME INTO MESSAGE       */
         B     @RC00701                                            0703
@RF00701 MVI   INSERT8A+12,C' '                                    0703
         MVC   INSERT8A+13(31),INSERT8A+12                         0703
         L     @10,NPA2PPTR                                        0703
         MVC   INSERT8A(12),NMNTDS(@10)                            0703
*   INSERT8B=NMNTVS;                /* PUT VOLUME SERIAL IN MSG      */
*                                                                  0704
@RC00701 L     @10,NPA2PPTR                                        0704
         MVC   INSERT8B(6),NMNTVS(@10)                             0704
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF DEVICE STATUS OPTION IS SPECIFIED                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0705
*   IF CVTDSTAT='1'B THEN                                          0705
         TM    CVTDSTAT(RCVT),B'00010000'                          0705
         BNO   @RF00705                                            0705
*     NIPDSTAT='1'B;                /* DEVICE STATUS OPTION          */
         OI    NIPDSTAT,B'10000000'                                0706
*   ELSE                                                           0707
*     NIPDSTAT='0'B;                /* NO DEVICE STATUS OPTION       */
         B     @RC00705                                            0707
@RF00705 NI    NIPDSTAT,B'01111111'                                0707
*NPA2SPEC:                          /* SEND MESSAGE                  */
*                                                                  0708
*   /*****************************************************************/
*   /*                                                               */
*   /* IEAN02A SPECIFY UNIT FOR DSN ON VSN OR CANCEL                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0708
*   GENERATE REFS(RNVT,NVTWTOR,MSG8L,INSERT8A,INSERT8B) SETS(RPARM,
*       REXIT,RENTRY,NP2WTOBF)(IEAPMNIP TYPE=WTOR,PARAM=MSG8L);    0708
*                                                                  0708
@RC00705 DS    0H                                                  0708
NPA2SPEC IEAPMNIP TYPE=WTOR,PARAM=MSG8L
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0709
*NPA2EOB:                                                          0709
*                                                                  0709
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR OPERATOR CANCEL (EOB)                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0709
*   IF NP2WTOBF(1:2)=' ''' THEN                                    0709
*                                                                  0709
NPA2EOB  CLC   NP2WTOBF(2),@CC02613                                0709
         BNE   @RF00709                                            0709
*     /***************************************************************/
*     /*                                                             */
*     /* OPERATOR CANCELLED                                          */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0710
*     DO;                                                          0710
*                                                                  0710
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR CANCEL OPTION                                   */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0711
*       IF NMNTFLC='1'B THEN                                       0711
         L     @10,NPA2PPTR                                        0711
         TM    NMNTFLC(@10),B'00000010'                            0711
         BNO   @RF00711                                            0711
*NPA2RXIT:                                                         0712
*         DO;                                                      0712
NPA2RXIT DS    0H                                                  0713
*           RPARM=0;                /* INDICATE OPERATOR CNCLD       */
         SLR   RPARM,RPARM                                         0713
*           GO TO NPA2EXIT;         /* RESTORE REGS AND RET          */
         B     NPA2EXIT                                            0714
*         END;                                                     0715
*       ELSE                                                       0716
*         DO;                                                      0716
@RF00711 DS    0H                                                  0717
*NPA2INV:                                                          0717
*                                                                  0717
*           /*********************************************************/
*           /*                                                       */
*           /* IEAN02A INVALID REPLY - RESPECIFY                     */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0717
*           GENERATE REFS(RNVT,NVTWTOR,MSG2L) SETS(RPARM,REXIT,RENTRY,
*               NP2WTOBF)(IEAPMNIP TYPE=WTOR,PARAM=MSG2L);         0717
*                                                                  0717
NPA2INV  IEAPMNIP TYPE=WTOR,PARAM=MSG2L
*           /*********************************************************/
*           /*                                                       */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0718
*           GO TO NPA2EOB;          /* CHECK REPLY                   */
         B     NPA2EOB                                             0718
*         END;                                                     0719
*     END;                                                         0720
*   ELSE                                                           0721
*     ;                                                            0721
*                                                                  0721
@RF00709 DS    0H                                                  0722
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR 3 CHARACTER REPLY                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0722
*   IF NP2WTOBF(4)^='''' THEN                                      0722
         CLI   NP2WTOBF+3,C''''                                    0722
         BNE   @RT00722                                            0722
*     GO TO NPA2INV;                /* INVALID PARAMETER             */
*   ELSE                                                           0724
*     ;                                                            0724
*                                                                  0724
*   /*****************************************************************/
*   /*                                                               */
*   /* FIND UCB FOR EBCDIC CUA NAME                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0725
*   RPARM=NP2WTOBF(1:4);            /* UNIT SPECIFIED BY OPERATOR    */
*                                                                  0725
         L     RPARM,NP2WTOBF                                      0725
*   /*****************************************************************/
*   /*                                                               */
*   /* CALL TO NIPUCBFN                                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0726
*   GENERATE REFS(RNVT,NVTUCBFN,RPARM) SETS(RPARM,REXIT,RENTRY)    0726
*       (IEAPMNIP TYPE=UCBFN,PARAM=RPARM);                         0726
*                                                                  0726
         IEAPMNIP TYPE=UCBFN,PARAM=RPARM
*   /*****************************************************************/
*   /*                                                               */
*   /* WAS UNIT FOUND                                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0727
*   IF RPARM=0 THEN                                                0727
         SLR   @10,@10                                             0727
         CR    RPARM,@10                                           0727
         BE    @RT00727                                            0727
*     GO TO NPA2UNAC;               /* UNIT UNACCEPTABLE             */
*   ELSE                                                           0729
*     ;                                                            0729
*   UCBPTR=RPARM;                   /* GET UCB ADDR FROM UCBFN       */
*                                                                  0730
         ST    RPARM,UCBPTR                                        0730
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK DEVICE                                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0731
*   IF NMNTDT^=0 THEN                                              0731
         L     @09,NPA2PPTR                                        0731
         SLR   @00,@00                                             0731
         ICM   @00,3,NMNTDT(@09)                                   0731
         CR    @10,@00                                             0731
         BE    @RF00731                                            0731
*     IF UCBTYP(3:4)^=NMNTDT        /* SAME AS INPUT TYPE            */
*       THEN                                                       0732
         L     @10,UCBPTR                                          0732
         CLC   UCBTYP+2(2,@10),NMNTDT(@09)                         0732
         BNE   @RT00732                                            0732
*       GO TO NPA2UNAC;             /* UNIT UNACCEPTABLE             */
*     ELSE                                                         0734
*       ;                                                          0734
*   ELSE                                                           0735
*     ;                                                            0735
*                                                                  0735
@RF00731 DS    0H                                                  0736
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF PERMANENT RESIDENCE DEVICE                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0736
*   IF UCBPRES='1'B THEN                                           0736
         L     @10,UCBPTR                                          0736
         TM    UCBPRES(@10),B'00000100'                            0736
         BNO   @RF00736                                            0736
*     DO;                                                          0737
*NPA2UNAC:                                                         0738
*                                                                  0738
*       /*************************************************************/
*       /*                                                           */
*       /* IEAN02I UNIT UNACCEPTABLE                                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0738
*       GENERATE REFS(RNVT,NVTWTO,MSG9) SETS(RPARM,REXIT,RENTRY)   0738
*           (IEAPMNIP TYPE=WTO,PARAM=MSG9);                        0738
*                                                                  0738
NPA2UNAC IEAPMNIP TYPE=WTO,PARAM=MSG9
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0739
*       GO TO NPA2SPEC;             /* SPECIFY UNIT                  */
         B     NPA2SPEC                                            0739
*     END;                                                         0740
*   ELSE                                                           0741
*     ;                                                            0741
*                                                                  0741
@RF00736 DS    0H                                                  0742
*   /*****************************************************************/
*   /*                                                               */
*   /* IS VOLUME MOUNTED                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0742
*   IF RUCB^=0 THEN                                                0742
         LTR   RUCB,RUCB                                           0742
         BZ    @RF00742                                            0742
*     DO;                                                          0743
*                                                                  0743
*       /*************************************************************/
*       /*                                                           */
*       /* VOLUME WITH THAT VOL SERIAL IS ALREADY MOUNTED            */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0744
*       UCBSAVE=UCBPTR;             /* SAVE UCB FOUND BY UCBFN       */
         MVC   UCBSAVE(4),UCBPTR                                   0744
*       UCBPTR=RUCB;                /* DEMOUNT FIRST VOLUME          */
*                                                                  0745
         ST    RUCB,UCBPTR                                         0745
*       /*************************************************************/
*       /*                                                           */
*       /* IEAN02I CONFLICTING VOLUME ON DDD                         */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0746
*       GENERATE REFS(RNVT,NVTWTO,MSG7,INSERT7) SETS(RPARM,REXIT,RENTRY
*           )(IEAPMNIP TYPE=WTO,PARAM=MSG7);                       0746
*                                                                  0746
         IEAPMNIP TYPE=WTO,PARAM=MSG7
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF DEVICE CAN BE DEMOUNTED IS VOLUME PERMANENTLY      */
*       /* RESIDENT                                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0747
*       IF RUCB->UCBPRES='1'B THEN                                 0747
         TM    UCBPRES(RUCB),B'00000100'                           0747
         BNO   @RF00747                                            0747
*         DO;                                                      0748
*                                                                  0748
*           /*********************************************************/
*           /*                                                       */
*           /* VOLUME IS PERMANENTLY RESIDENT,CAN'T BE DEMOUNTED SEE */
*           /* IF OPERATOR CAN CANCEL                                */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0749
*           IF NMNTFLC='1'B THEN                                   0749
         L     @10,NPA2PPTR                                        0749
         TM    NMNTFLC(@10),B'00000010'                            0749
         BO    @RT00749                                            0749
*             GO TO NPA2SPEC;       /* CANCEL MNT                    */
*           ELSE                                                   0751
*             DO;                                                  0751
*                                                                  0751
*               /*****************************************************/
*               /*                                                   */
*               /* CAN'T CANCEL PUT IN WAIT STATE                    */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0752
*               NVTFLWSC=NVTFLWPR;  /* PERM RES VOL                  */
*                                                                  0752
         MVI   NVTFLWSC(RNVT),X'39'                                0752
*               /*****************************************************/
*               /*                                                   */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0753
*               GENERATE REFS(RNVT,NVTSWAIT,NVTFLWSC) SETS(REXIT,RENTRY
*                   )(IEAPMNIP TYPE=SWAIT);                        0753
*                                                                  0753
         IEAPMNIP TYPE=SWAIT
*               /*****************************************************/
*               /*                                                   */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0754
*             END;                                                 0754
*         END;                                                     0755
*       ELSE                                                       0756
*         ;                                                        0756
@RF00747 DS    0H                                                  0757
*       NIPDUNAV='1'B;              /* SET UCB UNAVAILABLE           */
         OI    NIPDUNAV,B'10000000'                                0757
*       NP2NERR='1'B;               /* SET NO ERROR MSG              */
*                                                                  0758
         OI    NP2NERR,B'01000000'                                 0758
*       /*************************************************************/
*       /*                                                           */
*       /* NP2TERR SETS DEVICE OFFLINE BY ZEROING UCBVOLI & UCBVTOC  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0759
*       CALL NP2TERR;               /* SET CONFLICTING VOL NOT READY */
*                                                                  0759
         BAL   @14,NP2TERR                                         0759
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0760
*       NP2NERR='0'B;               /* RESET ERROR MSG FLAG          */
         NI    NP2NERR,B'10111111'                                 0760
*       UCBPTR=UCBSAVE;             /* USE UCB FOUND BY UCBFN        */
         MVC   UCBPTR(4),UCBSAVE                                   0761
*     END;                                                         0762
*   ELSE                                                           0763
*     ;                                                            0763
*                                                                  0763
@RF00742 DS    0H                                                  0764
*   /*****************************************************************/
*   /*                                                               */
*   /* PUT DEVICE TYPE INTO MESSAGE                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0764
*   INSERTAA=NP2WTOBF;                                             0764
         MVC   INSERTAA(3),NP2WTOBF                                0764
*   INSERTAC='  ';                  /* OVERLAY NL IN MESSAGE         */
*                                                                  0765
         MVC   INSERTAC(2),@CC02601                                0765
*   /*****************************************************************/
*   /*                                                               */
*   /* PUT VOLUME SERIAL INTO MESSAGE                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0766
*   INSERTAB=NMNTVS;                                               0766
         MVI   INSERTAB+6,C' '                                     0766
         MVC   INSERTAB+7(37),INSERTAB+6                           0766
         L     @10,NPA2PPTR                                        0766
         MVC   INSERTAB(6),NMNTVS(@10)                             0766
*NPA2MNT:                                                          0767
*   UCBONLI='1'B;                   /* SET UCB STATUS ONLINE         */
NPA2MNT  L     @10,UCBPTR                                          0767
         OI    UCBONLI(@10),B'10000000'                            0767
*   UCBNOTRD='1'B;                  /* SET UCB STATUS NOT READY      */
         OI    UCBNOTRD(@10),B'01000000'                           0768
*   UCBVOLI='000000000000'X;        /* ZERO VOLUME SERIAL            */
         MVC   UCBVOLI(6,@10),@CB02579                             0769
*   UCBVTOC=0;                      /* ZERO VTOC TTR                 */
*                                                                  0770
         SLR   @09,@09                                             0770
         ST    @09,UCBVTOC(,@10)                                   0770
*   /*****************************************************************/
*   /*                                                               */
*   /* IEAN02I M DDD,,DSN                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0771
*   GENERATE REFS(RNVT,NVTWTO,MSGA,INSERTAA,INSERTAB,INSERTAC) SETS(
*       RPARM,REXIT,RENTRY)(IEAPMNIP TYPE=WTO,PARAM=MSGA);         0771
*                                                                  0771
         IEAPMNIP TYPE=WTO,PARAM=MSGA
*   /*****************************************************************/
*   /*                                                               */
*   /* READ RECORD 3 ON DEVICE                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0772
*   CALL NP2RRCD3;                                                 0772
*                                                                  0772
         BAL   @14,NP2RRCD3                                        0772
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF DEVICE IS READY                                        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0773
*   IF UCBNOTRD^='1'B THEN                                         0773
*                                                                  0773
         L     @10,UCBPTR                                          0773
         TM    UCBNOTRD(@10),B'01000000'                           0773
         BO    @RF00773                                            0773
*     /***************************************************************/
*     /*                                                             */
*     /* DEVICE IS READY                                             */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0774
*     DO;                                                          0774
*                                                                  0774
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF REQUEST BY UCB                                     */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0775
*       IF NMNTFLB^='1'B THEN                                      0775
         L     @09,NPA2PPTR                                        0775
         TM    NMNTFLB(@09),B'00000001'                            0775
         BO    @RF00775                                            0775
*         DO;                                                      0776
*                                                                  0776
*           /*********************************************************/
*           /*                                                       */
*           /* SEE IF VOLUME SERIALS MATCH                           */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0777
*           IF UCBVOLI=NMNTVS THEN                                 0777
         CLC   UCBVOLI(6,@10),NMNTVS(@09)                          0777
         BE    @RT00777                                            0777
*             GO TO NPA2MXIT;       /* PUT UCB @ IN RPARM & RET      */
*           ELSE                                                   0779
*             DO;                                                  0779
*                                                                  0779
*               /*****************************************************/
*               /*                                                   */
*               /* VOL SERIALS DO NOT MATCH DEMOUNT & GET RIGHT VOL  */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0780
*               INSERTBA=UCBNAME;   /* PUT UNIT NAME IN MSG          */
         MVC   INSERTBA(3),UCBNAME(@10)                            0780
*               INSERTBB=UCBVOLI;   /* PUT VOL SERIAL IN MSG         */
         MVC   INSERTBB(6),UCBVOLI(@10)                            0781
*               UCBVOLI='000000000000'X;/* ZERO VOL SER              */
         MVC   UCBVOLI(6,@10),@CB02579                             0782
*               UCBVTOC=0;          /* ZERO VTOC CCHHR               */
*                                                                  0783
         SLR   @09,@09                                             0783
         ST    @09,UCBVTOC(,@10)                                   0783
*               /*****************************************************/
*               /*                                                   */
*               /* IEAN02A D DDD,VSN                                 */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0784
*               GENERATE REFS(RNVT,NVTWTO,MSGB,INSERTBA,INSERTBB) SETS(
*                   RPARM,REXIT,RENTRY)(IEAPMNIP TYPE=WTO,PARAM=MSGB);
*                                                                  0784
         IEAPMNIP TYPE=WTO,PARAM=MSGB
*               /*****************************************************/
*               /*                                                   */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0785
*               GO TO NPA2MNT;      /* GO BACK TO MNT RIGHT VOL      */
         B     NPA2MNT                                             0785
*             END;                                                 0786
*         END;                                                     0787
*       ELSE                                                       0788
*         GO TO NPA2MXIT;           /* VOL SERIALS MATCH, RETURN     */
*     END;                                                         0789
*   ELSE                                                           0790
*                                                                  0790
*     /***************************************************************/
*     /*                                                             */
*     /* DEVICE NOT READY, SEND MSG AND READ AGAIN                   */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0790
*     GO TO NPA2MNT;                /* GO CHECK REPLY                */
*NPA2TAPE:                          /* TAPE MOUNT                    */
*                                                                  0791
*   /*****************************************************************/
*   /*                                                               */
*   /* DETERMINE WHETHER TAPE IS OFFLINE OR ALLOCATED                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0791
*   IF UCBALOC='1'B THEN            /*                       @YM08137*/
NPA2TAPE L     @10,UCBPTR                                          0791
         TM    UCBALOC(@10),B'00001000'                            0791
         BO    @RT00791                                            0791
*     GOTO NPA2RXIT;                /* REJECT REQUEST                */
*   DEBPTR=ADDR(NIPDEBTC);          /* @ OF UNIT TEST DEB            */
*                                                                  0793
         LA    @09,NIPDEBTC                                        0793
         ST    @09,DEBPTR                                          0793
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THE UNIT READY                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0794
*   IF UCBNOTRD='1'BUCBONLI='0'B   /*                       @YM08137*/
*     THEN                          /* UCB NOT READY                 */
         TM    UCBNOTRD(@10),B'01000000'                           0794
         BO    @RT00794                                            0794
         TM    UCBONLI(@10),B'10000000'                            0794
         BNZ   @RF00794                                            0794
@RT00794 DS    0H                                                  0795
*NPA2TMSG:                          /* ASK FOR UNLABELED TAPE        */
*     DO;                                                          0795
*                                                                  0795
NPA2TMSG DS    0H                                                  0796
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP MOUNT MESSAGE                                      */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0796
*       INSERTAA=UCBNAME;           /* INSERT UNIT INTO MESSAGE      */
         L     @10,UCBPTR                                          0796
         MVC   INSERTAA(3),UCBNAME(@10)                            0796
*       INSERTAC='NL';              /* PUT NL IN MESSAGE             */
*                                                                  0797
         MVC   INSERTAC(2),@CC02627                                0797
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF DSNAME IS > 12 CHARS                               */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0798
*       IF NMNTFLI='1'B THEN                                       0798
*                                                                  0798
         L     @10,NPA2PPTR                                        0798
         TM    NMNTFLI(@10),B'00000100'                            0798
         BNO   @RF00798                                            0798
*         /***********************************************************/
*         /*                                                         */
*         /* @ OF DS IN PARM LIST                                    */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0799
*         INSERTAB=NMNTDSA->DSNAME;                                0799
         L     @10,NMNTDSA(,@10)                                   0799
         MVC   INSERTAB(44),DSNAME(@10)                            0799
*       ELSE                                                       0800
*         INSERTAB=NMNTDS;          /* DSNAME IN PARM LIST           */
*                                                                  0800
         B     @RC00798                                            0800
@RF00798 MVI   INSERTAB+12,C' '                                    0800
         MVC   INSERTAB+13(31),INSERTAB+12                         0800
         L     @10,NPA2PPTR                                        0800
         MVC   INSERTAB(12),NMNTDS(@10)                            0800
*       /*************************************************************/
*       /*                                                           */
*       /* IEAN02I M DDD,NL,DSN                                      */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0801
*       GENERATE REFS(RNVT,NVTWTO,MSGA,INSERTAA,INSERTAB,INSERTAC) SETS
*           (RPARM,REXIT,RENTRY)(IEAPMNIP TYPE=WTO,PARAM=MSGA);    0801
*                                                                  0801
@RC00798 DS    0H                                                  0801
         IEAPMNIP TYPE=WTO,PARAM=MSGA
*       /*************************************************************/
*       /*                                                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0802
*     END;                                                         0802
*                                                                  0802
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP IOB PREFIX FOR TAPE                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0803
*   NIPDERR='1'B;                   /* REPORT ERROR OPTION           */
@RF00794 DS    0H                                                  0804
*   NIPDRTY='1'B;                   /* RETRY OPTION                  */
*   NIPDMOD='1'B;                   /* TRACK DEPENDENT DEVICE MOD    */
         OI    NIPDERR,B'00111000'                                 0805
*   NPBNIFB0=RETRYT;                /* NUMBER OF RETRIES             */
         MVI   NPBNIFB0,X'14'                                      0806
*   NP2SNBUF=NP2SNBUF&&NP2SNBUF;    /* CLEAR SENSE BUFFER            */
         XC    NP2SNBUF(2),NP2SNBUF                                0807
*   NP2RDBUF=NP2RDBUF&&NP2RDBUF;    /* CLEAR READ BUFFER             */
         XC    NP2RDBUF(81),NP2RDBUF                               0808
*   RPARM=ADDR(CCWA);               /* NP2EXCPU PARM                 */
*                                                                  0809
         LA    RPARM,CCWA                                          0809
*   /*****************************************************************/
*   /*                                                               */
*   /* REWIND SENSE AND READ TAPE                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0810
*   CALL NP2EXCPU;                                                 0810
*                                                                  0810
         BAL   @14,NP2EXCPU                                        0810
*   /*****************************************************************/
*   /*                                                               */
*   /* WAS THERE A UNIT EXCEPTION                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0811
*   IF IOBCSWUE='1'B THEN           /* UNIT EXCEPTION                */
         L     @10,IOBSTPTR                                        0811
         TM    IOBCSWUE(@10),B'00000001'                           0811
         BNO   @RF00811                                            0811
*NPA2TSET:                          /* RESET IOB PREFIX              */
*     DO;                                                          0812
NPA2TSET DS    0H                                                  0813
*       NIPDERR='0'B;               /* REPORT ERROR OPTION           */
*       NIPDRTY='0'B;               /* RETRY OPTION                  */
         NI    NIPDERR,B'11001111'                                 0814
*       NPBNIFB0=0;                 /* NUMBER OF RETRIES             */
         MVI   NPBNIFB0,X'00'                                      0815
*       NIPDMOD='0'B;               /* INDEPENDENT DEVICE MOD        */
         NI    NIPDMOD,B'11110111'                                 0816
*       GO TO NPA2MXIT;             /* RETURN UCB ADDR               */
         B     NPA2MXIT                                            0817
*     END;                                                         0818
*                                                                  0818
*   /*****************************************************************/
*   /*                                                               */
*   /* NO UNIT EXCEPTION TEST I/O COMPLETION STATUS                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0819
*   CALL NP2TERR;                                                  0819
*                                                                  0819
@RF00811 BAL   @14,NP2TERR                                         0819
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THE DEVICE READY                                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0820
*   IF UCBNOTRD='1'B THEN                                          0820
         L     @10,UCBPTR                                          0820
         TM    UCBNOTRD(@10),B'01000000'                           0820
         BO    @RT00820                                            0820
*     GO TO NPA2RXIT;               /* CANCEL REQUEST                */
*                                                                  0821
*   /*****************************************************************/
*   /*                                                               */
*   /* UNIT IS READY IS THE TAPE FILE PROTECTED                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0822
*   IF NP2TSFP='1'B THEN            /* FILE PROTECTED                */
         TM    NP2TSFP,B'00000010'                                 0822
         BO    @RT00822                                            0822
*     GO TO NPA2TUNL;               /* TREAT AS UNLABELED            */
*                                                                  0823
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THE RESIDUAL COUNT EQUAL ONE                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0824
*   IF IOBCSWCT^=1 THEN                                            0824
         L     @10,IOBSTPTR                                        0824
         CLC   IOBCSWCT(2,@10),@CH00121                            0824
         BNE   @RT00824                                            0824
*     GO TO NPA2TSET;               /* RESET IOB PREFIX              */
*                                                                  0825
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS VOL1                                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0826
*   IF NP2RDCH^=NP2VOL1 THEN        /* NOT VOLUME 1                  */
         CLC   NP2RDCH(4),NP2VOL1                                  0826
         BNE   @RT00826                                            0826
*     GO TO NPA2TSET;               /* RESET IOB PREFIX              */
*NPA2TUNL:                                                         0828
*   RPARM=ADDR(CCWD);                                              0828
*                                                                  0828
NPA2TUNL LA    RPARM,CCWD                                          0828
*   /*****************************************************************/
*   /*                                                               */
*   /* UNLOAD TAPE                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0829
*   CALL NP2EXCPU;                                                 0829
*                                                                  0829
         BAL   @14,NP2EXCPU                                        0829
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0830
*   INSERTE=UCBNAME;                /* UNIT NAME IN MSG              */
*                                                                  0830
         L     @10,UCBPTR                                          0830
         MVC   INSERTE(3),UCBNAME(@10)                             0830
*   /*****************************************************************/
*   /*                                                               */
*   /* IEAN02A D DDD                                                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0831
*   GENERATE REFS(RNVT,NVTWTO,MSGE,INSERTE) SETS(RPARM,REXIT,RENTRY)
*       (IEAPMNIP TYPE=WTO,PARAM=MSGE);                            0831
*                                                                  0831
         IEAPMNIP TYPE=WTO,PARAM=MSGE
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0832
*NPA2TMNT:                                                         0832
*   UCBNOTRD='1'B;                  /* SET UCB NOT READY             */
NPA2TMNT L     @10,UCBPTR                                          0832
         OI    UCBNOTRD(@10),B'01000000'                           0832
*   GO TO NPA2TMSG;                                                0833
         B     NPA2TMSG                                            0833
*NPA2MXIT:                                                         0834
*   UCBONLI='1'B;                   /* DEVICE ONLINE         @YM08137*/
NPA2MXIT L     @10,UCBPTR                                          0834
         OI    UCBONLI(@10),B'10000000'                            0834
*   UCBNOTRD='0'B;                  /* DEVICE READY          @YM08137*/
         NI    UCBNOTRD(@10),B'10111111'                           0835
*   UCBVORSN='0'B;                  /* NOT OFFLINE FOR OPERATIONAL 0836
*                                      REASON                @YM08137*/
         NI    UCBVORSN(@10),B'11111011'                           0836
*NPA2RTN:                           /* EXIT FOR UCB LOOK UP ONLY   0837
*                                      REQUESTS              @YM08137*/
*   RPARM=UCBPTR;                   /* SEND CALLER ADDR OF UCB       */
NPA2RTN  L     RPARM,UCBPTR                                        0837
*NPA2EXIT:                                                         0838
*   GENERATE NOREFS SETS(R0,R2);                                   0838
*                                                                  0838
NPA2EXIT DS    0H                                                  0838
*                                     /* EXIT LINKAGE               */
         LM    R2,R0,NPABSAVE          RESTORE CALLERS REGISTERS
         BR    REXIT                   RETURN TO CALLER
*   /*****************************************************************/
*   /*                                                               */
*   /* EXIT WHEN REQUESTS FOR VIRTUAL DEVISES CAN'T BE SATISFIED     */
*   /*                                                       @Y30LPXD*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0839
*MSSEXT:                                                           0839
*   IF NMNTFLC='1'B                 /* CONDITIONAL REQUEST?  @Y30LPXD*/
*     THEN                                                         0839
MSSEXT   L     @10,NPA2PPTR                                        0839
         TM    NMNTFLC(@10),B'00000010'                            0839
         BNO   @RF00839                                            0839
*     DO;                                                          0840
*                                                                  0840
*       /*************************************************************/
*       /*                                                           */
*       /* CONDITIONAL REQUEST CA'N BE SATISFIED             @Y30LPXD*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0841
*MSSEXT2:                                                          0841
*       RPARM=0;                    /* INDICATE UNSUCCESSFUL @Y30LPXD*/
MSSEXT2  SLR   RPARM,RPARM                                         0841
*       GOTO NPA2EXIT;              /* EXIT                  @Y30LPXD*/
         B     NPA2EXIT                                            0842
*     END;                                                         0843
*   NVTFLWSC=NVTVDASD;              /* SET WAIT STATE CODE   @Y30LPXD*/
@RF00839 MVI   NVTFLWSC(RNVT),X'2D'                                0844
*   GENERATE REFS(RNVT,NVTSWAIT,NVTFLWSC)(IEAPMNIP TYPE=SWAIT);/*  0845
*                                      INITIATE WAIT         @Y30LPXD*/
         IEAPMNIP TYPE=SWAIT
*   RESPECIFY                                                      0846
*    (RPARM,                                                       0846
*     RUCB) UNRESTRICTED;                                          0846
*   END NIPMOUNT;                   /* END OF NIPMOUNT               */
@EL00007 DS    0H                                                  0847
@EF00007 DS    0H                                                  0847
@ER00007 BR    @14                                                 0847
@PB00007 DS    0H                                                  0848
*   GENERATE NOREFS NOSETS(EJECT);                                 0848
*                                                                  0848
         EJECT
*/********************************************************************/
*/********************************************************************/
*/*       NIP OPEN SUBROUTINE                                        */
*/*                                                                  */
*/* INTERNAL INTERFACES                                              */
*/*   NP2BDEB                                                        */
*/*   NP2BXTNT                                                       */
*/********************************************************************/
*/********************************************************************/
*                                                                  0849
*NIPOPEN:                                                          0849
*   PROC OPTIONS(NOSAVEAREA,NOSAVE);                               0849
*                                                                  0849
         B     @PB00008                                            0849
NIPOPEN  DS    0H                                                  0850
*   /*****************************************************************/
*   /*                                                               */
*   /* RESPECIFICATIONS FOR THIS ENTRY POINT                         */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0850
*   RESPECIFY                                                      0850
*     NIPOPNPL BASED(NPB2PPTR);                                    0850
*                                                                  0850
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0851
*   RESPECIFY                                                      0851
*    (RCVT) RESTRICTED;             /* CVT ADDR                      */
*   RESPECIFY                                                      0852
*    (RNVT) RESTRICTED;             /* NVT ADDR                      */
*   RESPECIFY                                                      0853
*    (RPARM) RESTRICTED;            /* PARAMETER LIST ADDR           */
*   GENERATE REFS(R0,R2) SETS(RBASE1,RBASE2,RSAVE,RENTRY);         0854
*                                                                  0854
         ENTRY NIPOPEN                DECLARE NIPOPEN AS AN ENTRY
         DROP  RBASE1,RBASE2           DROP EXISTING (INVALID) BASES
         BALR  RENTRY,0                SET UP TEMPORARY BASE REG
         USING *,RENTRY                ESTABLISH ADDRESSABILITY
         STM   R2,R0,NPABSAVE          SAVE CALLERS REGISTERS
         L     RBASE1,ADPSTART         SET UP FIRST BASE REG
         LA    RBASE2,4095(0,RBASE1)   SET UP SECOND BASE REG
         DROP  RENTRY                  DROP TEMPORARY BASE
         USING @PSTART,RBASE1          ESTABLISH
         USING @PSTART+4095,RBASE2       ADDRESSABILITY
         LA    RSAVE,COMNSAVE          SET UP SAVE AREA POINTER
*   /*****************************************************************/
*   /*                                                               */
*   /* END OF ENTRY LINKAGE FOR NIPOPEN                              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0855
*   NPB2PPTR=RPARM;                 /* PARAMETER FIELD ADDR          */
         ST    RPARM,NPB2PPTR                                      0855
*   DCBPTR=NOPNDCB;                 /* GET DCB ADDR                  */
         L     @10,NPB2PPTR                                        0856
         MVC   DCBPTR(4),NOPNDCB(@10)                              0856
*   UCBPTR=NOPNUCB;                 /* SAVE USER UCB ADDR            */
*                                                                  0857
         MVC   UCBPTR(4),NOPNUCB(@10)                              0857
*   /*****************************************************************/
*   /*                                                               */
*   /* IS DEB BASE TO BE BUILT                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0858
*   IF NOPNFLNB^='1'B THEN                                         0858
         TM    NOPNFLNB(@10),B'00001000'                           0858
         BNO   @RT00858                                            0858
*     GO TO NPB2DEB;                                               0859
*                                                                  0859
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF NUCLEUS BUFFER IS TO BE USED                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0860
*   IF NOPNFLLB='1'B THEN                                          0860
         TM    NOPNFLLB(@10),B'00000100'                           0860
         BNO   @RF00860                                            0860
*     DEBPTR=NVTNUCND;              /* BUILD DEB BASE IN NUCLEUS   0861
*                                      BUFFER                        */
         MVC   DEBPTR(4),NVTNUCND(RNVT)                            0861
*   ELSE                                                           0862
*     DEBPTR=DCBDEBAD;              /* USE DEB ADDR SPECIFIED IN DCB */
*                                                                  0862
         B     @RC00860                                            0862
@RF00860 L     @10,DCBPTR                                          0862
         SLR   @00,@00                                             0862
         ICM   @00,7,DCBDEBAD(@10)                                 0862
         ST    @00,DEBPTR                                          0862
*   /*****************************************************************/
*   /*                                                               */
*   /* BUILD DEB                                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0863
*   CALL NP2BDEB;                   /* BUILD DEB BASE                */
@RC00860 BAL   @14,NP2BDEB                                         0863
*   IF NOPNDS=NULLNAME              /* SEE IF DSNAME IS ZEROES       */
*     THEN                          /* IF SO, RETURN TO CALLER       */
         L     @10,NPB2PPTR                                        0864
         CLC   NOPNDS(12,@10),NULLNAME                             0864
         BE    @RT00864                                            0864
*     GO TO NPB2RTRN;               /* WITH ONLY BASIC DEB BUILT.    */
*                                                                  0865
*   /*****************************************************************/
*   /*                                                               */
*   /* IS THIS A TAPE OR A DIRECT ACCESS DEVIC                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0866
*   IF UCB3TAPE='1'B THEN           /* TAPE                          */
         L     @10,UCBPTR                                          0866
         TM    UCB3TAPE(@10),B'10000000'                           0866
         BO    @RT00866                                            0866
*     GO TO NPB2EXIT;               /* NO DEB EXTENT PROCESSING      */
*   ELSE                            /* DASD                          */
*     GO TO NPB2XT;                 /* FILL IN EXTENT DESCRIPTION    */
         B     NPB2XT                                              0868
*NPB2DEB:                                                          0869
*   DEBPTR=DCBDEBAD;                /* GET DEB ADDR FROM DCB         */
NPB2DEB  L     @10,DCBPTR                                          0869
         SLR   @00,@00                                             0869
         ICM   @00,7,DCBDEBAD(@10)                                 0869
         ST    @00,DEBPTR                                          0869
*/* CHECK FOR DATASET CONCATENATION                                  */
*                                                                  0870
*   IF DEBRERR='1'B THEN                                           0870
*                                                                  0870
         LR    @10,@00                                             0870
         TM    DEBRERR(@10),B'00000001'                            0870
         BNO   @RF00870                                            0870
*     /***************************************************************/
*     /*                                                             */
*     /* FIND END OF CURRENT DEB & SAVE CONCAT. INDICES              */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0871
*     DO;                                                          0871
*       DEBEND=DEBPTR+(DEBNMEXT*LENGTH(DEBDASD))+DEBSIZE;/* ADDRESS
*                                      OF END OF DEB                 */
         LR    @10,@00                                             0872
         SLR   @15,@15                                             0872
         IC    @15,DEBNMEXT(,@10)                                  0872
         SLA   @15,4                                               0872
         ALR   @00,@15                                             0872
         AH    @00,@CH00054                                        0872
         ST    @00,DEBEND                                          0872
*       DO A=1 TO DEBAMLNG;                                        0873
         LA    @10,1                                               0873
         B     @DE00873                                            0873
@DL00873 DS    0H                                                  0874
*         CONINDX(A)=DEBINDX(A);    /* SAVE CONCAT. INDICES          */
         LA    @15,CONINDX-1(@10)                                  0874
         L     @14,DEBEND                                          0874
         ALR   @14,@10                                             0874
         AL    @14,@CF02671                                        0874
         MVC   0(1,@15),DEBINDX(@14)                               0874
*       END;                                                       0875
         AH    @10,@CH00121                                        0875
@DE00873 ST    @10,A                                               0875
         L     @15,DEBPTR                                          0875
         SLR   @00,@00                                             0875
         IC    @00,DEBAMLNG(,@15)                                  0875
         CR    @10,@00                                             0875
         BNH   @DL00873                                            0875
*       CONINDX(A)=DEBNMEXT;        /* PUT IN CURRENT EXTENT NO.     */
         LA    @15,CONINDX-1(@10)                                  0876
         L     @10,DEBPTR                                          0876
         MVC   0(1,@15),DEBNMEXT(@10)                              0876
*       GO TO NPB2XT;               /* GO TO FILL IN EXTENT FIELDS   */
         B     NPB2XT                                              0877
*     END;                                                         0878
*   ELSE                                                           0879
*     ;                                                            0879
*                                                                  0879
@RF00870 DS    0H                                                  0880
*/* SEE IF DATASET IS CURRENTLY DESCRIBED BY THIS DEB                */
*                                                                  0880
*   DEBDAPTR=ADDR(DEBBASND);        /* GET ADDR OF EXTENSION         */
         L     @10,DEBPTR                                          0880
         LA    @00,DEBBASND(,@10)                                  0880
         ST    @00,DEBDAPTR                                        0880
*   IF DEBNMEXT^=0 THEN                                            0881
         CLI   DEBNMEXT(@10),0                                     0881
         BE    @RF00881                                            0881
*     DO;                                                          0882
*       CONINDX(1)=DEBNMEXT;        /* PUT IN EXTENT NO.             */
         MVC   CONINDX(1),DEBNMEXT(@10)                            0883
*       DEBRERR='1'B;               /* SET ON CONCAT. FLAG           */
         OI    DEBRERR(@10),B'00000001'                            0884
*     END;                                                         0885
*   ELSE                                                           0886
*     ;                                                            0886
*                                                                  0886
@RF00881 DS    0H                                                  0887
*/* GO TO NP2BXTNT TO FILL IN DATASET EXTENT DESCRIPTION             */
*                                                                  0887
*NPB2XT:                                                           0887
*                                                                  0887
*   /*****************************************************************/
*   /*                                                               */
*   /* SEE IF DSNAME IS GIVEN BY INDIRECT ADDRESSING                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0887
*   IF NOPNFLI='1'B THEN                                           0887
NPB2XT   L     @10,NPB2PPTR                                        0887
         TM    NOPNFLI(@10),B'00010000'                            0887
         BNO   @RF00887                                            0887
*     NAMPARM=NOPNDSA;              /* PUT ADRRESS IN FOR NP2RDSCB   */
         MVC   NAMPARM(4),NOPNDSA(@10)                             0888
*   ELSE                                                           0889
*     NAMPARM=ADDR(NOPNDS);         /* SAVE ADDR OF DSNAME FOR     0889
*                                      NP2RDSCB                      */
         B     @RC00887                                            0889
@RF00887 MVC   NAMPARM(4),NPB2PPTR                                 0889
*   UCBPTR=NOPNUCB;                 /* GET UCB ADDR                  */
*                                                                  0890
@RC00887 L     @10,NPB2PPTR                                        0890
         MVC   UCBPTR(4),NOPNUCB(@10)                              0890
*   /*****************************************************************/
*   /*                                                               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0891
*   CALL NP2BXTNT;                  /* FILL IN EXTENT DESCRIPTION    */
*                                                                  0891
         BAL   @14,NP2BXTNT                                        0891
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR SUCCESSFUL RETURN                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0892
*   GENERATE REFS(RCODE) NOSETS FLOWS(NPB2SUC,NPB2NSUC);           0892
*                                                                  0892
          B     *+4(RCODE)
          B     NPB2SUC
          B     NPB2NSUC
*/* CHECK FOR CONCATENATION                                          */
*                                                                  0893
*NPB2SUC:                                                          0893
*   IF DEBRERR='1'B THEN                                           0893
NPB2SUC  L     @10,DEBPTR                                          0893
         TM    DEBRERR(@10),B'00000001'                            0893
         BNO   @RF00893                                            0893
*     DO;                                                          0894
*       DEBAMLNG=1+DEBAMLNG;        /* INCREMENT NO OF CONCAT.       */
         LA    @15,1                                               0895
         SLR   @00,@00                                             0895
         IC    @00,DEBAMLNG(,@10)                                  0895
         ALR   @00,@15                                             0895
         STC   @00,DEBAMLNG(,@10)                                  0895
*       DEBEND=DEBPTR+(DEBNMEXT*LENGTH(DEBDASD))+DEBSIZE;/* ADDRESS
*                                      OF END OF DEB                 */
         SLR   @00,@00                                             0896
         IC    @00,DEBNMEXT(,@10)                                  0896
         SLA   @00,4                                               0896
         ALR   @10,@00                                             0896
         AH    @10,@CH00054                                        0896
         ST    @10,DEBEND                                          0896
*       DO A=1 TO DEBAMLNG;                                        0897
*                                                                  0897
         B     @DE00897                                            0897
@DL00897 DS    0H                                                  0898
*         /***********************************************************/
*         /*                                                         */
*         /* UPDATE CONCATENATION STRING                             */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0898
*         DEBINDX(A)=CONINDX(A);                                   0898
         L     @10,DEBEND                                          0898
         ALR   @10,@15                                             0898
         AL    @10,@CF02671                                        0898
         LA    @14,CONINDX-1(@15)                                  0898
         MVC   DEBINDX(1,@10),0(@14)                               0898
*       END;                                                       0899
*                                                                  0899
         AH    @15,@CH00121                                        0899
@DE00897 ST    @15,A                                               0899
         L     @10,DEBPTR                                          0899
         SLR   @00,@00                                             0899
         IC    @00,DEBAMLNG(,@10)                                  0899
         CR    @15,@00                                             0899
         BNH   @DL00897                                            0899
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF NUCLEUS BUFFER REQUEST                             */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0900
*       IF NOPNFLLB='1'B THEN                                      0900
         L     @10,NPB2PPTR                                        0900
         TM    NOPNFLLB(@10),B'00000100'                           0900
         BNO   @RF00900                                            0900
*         NVTNUCND=NVTNUCND+DEBAMLNG;/* ADD SIZE OF CONCAT. TO BUFFER
*                                      ADDR                          */
         L     @10,DEBPTR                                          0901
         SLR   @00,@00                                             0901
         IC    @00,DEBAMLNG(,@10)                                  0901
         AL    @00,NVTNUCND(,RNVT)                                 0901
         ST    @00,NVTNUCND(,RNVT)                                 0901
*       ELSE                                                       0902
*         ;                                                        0902
@RF00900 DS    0H                                                  0903
*     END;                                                         0903
*   ELSE                                                           0904
*     ;                                                            0904
@RF00893 DS    0H                                                  0905
*NPB2EXIT:                                                         0905
*   RPARM=NPB2PPTR;                 /* ADDR OF PARAMETER FIELD       */
NPB2EXIT L     RPARM,NPB2PPTR                                      0905
*   GOTO NPB2RTRN;                  /* GO TO EXIT CODE               */
         B     NPB2RTRN                                            0906
*NPB2NSUC:                          /* IS DEB BASE TO BE BUILT       */
*   IF NOPNFLNB='1'B THEN                                          0907
NPB2NSUC L     @10,NPB2PPTR                                        0907
         TM    NOPNFLNB(@10),B'00001000'                           0907
         BNO   @RF00907                                            0907
*     DCBDEBAD=0;                   /* ZERO DEB PTR IN DCB           */
         L     @10,DCBPTR                                          0908
         SLR   @00,@00                                             0908
         STCM  @00,7,DCBDEBAD(@10)                                 0908
*   ELSE                                                           0909
*                                                                  0909
*     /***************************************************************/
*     /*                                                             */
*     /* SEE IF CONCATENATION INDICATED                              */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0909
*     IF DEBRERR='1'B THEN                                         0909
*                                                                  0909
         B     @RC00907                                            0909
@RF00907 L     @10,DEBPTR                                          0909
         TM    DEBRERR(@10),B'00000001'                            0909
         BNO   @RF00909                                            0909
*       /*************************************************************/
*       /*                                                           */
*       /* SEE IF NO OF CONCAT IS ZERO                               */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0910
*       IF DEBAMLNG=0 THEN                                         0910
         CLI   DEBAMLNG(@10),0                                     0910
         BNE   @RF00910                                            0910
*         DEBRERR='0'B;             /* RESET CONCAT.INDICATOR        */
         NI    DEBRERR(@10),B'11111110'                            0911
*       ELSE                                                       0912
*         DO;                                                      0912
         B     @RC00910                                            0912
@RF00910 DS    0H                                                  0913
*           DEBEND=DEBPTR+(DEBNMEXT*LENGTH(DEBDASD))+DEBSIZE;/*    0913
*                                      ADDRESS OF END OF DEB         */
*                                                                  0913
         L     @10,DEBPTR                                          0913
         SLR   @00,@00                                             0913
         IC    @00,DEBNMEXT(,@10)                                  0913
         SLA   @00,4                                               0913
         ALR   @10,@00                                             0913
         AH    @10,@CH00054                                        0913
         ST    @10,DEBEND                                          0913
*           /*********************************************************/
*           /*                                                       */
*           /* REPLACE ORIGINAL CONCAT. STRING                       */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0914
*           DO A=1 TO DEBAMLNG;                                    0914
         LA    @10,1                                               0914
         B     @DE00914                                            0914
@DL00914 DS    0H                                                  0915
*             DEBINDX(A)=CONINDX(A);                               0915
         L     @15,DEBEND                                          0915
         ALR   @15,@10                                             0915
         AL    @15,@CF02671                                        0915
         LA    @14,CONINDX-1(@10)                                  0915
         MVC   DEBINDX(1,@15),0(@14)                               0915
*           END;                                                   0916
         AH    @10,@CH00121                                        0916
@DE00914 ST    @10,A                                               0916
         L     @15,DEBPTR                                          0916
         SLR   @00,@00                                             0916
         IC    @00,DEBAMLNG(,@15)                                  0916
         CR    @10,@00                                             0916
         BNH   @DL00914                                            0916
*         END;                                                     0917
*     ELSE                                                         0918
*       ;                                                          0918
@RF00909 DS    0H                                                  0919
*   RPARM=NPB2PPTR;                 /* ADDR OF PARAMETER FIELD       */
@RC00909 DS    0H                                                  0919
@RC00907 L     RPARM,NPB2PPTR                                      0919
*   RPARM=-RPARM;                   /* COMPLEMENT RPARM              */
         LCR   RPARM,RPARM                                         0920
*NPB2RTRN:                          /* EXIT FROM NIPOPEN             */
*   IF RPARM0^<0                   /* IF DASD OPEN SUCCESSFUL OR A  */
*       UCB3TAPE='1'B THEN          /* TAPE DEVICE                   */
NPB2RTRN LTR   RPARM0,RPARM0                                       0921
         BNM   @RT00921                                            0921
         L     @10,UCBPTR                                          0921
         TM    UCB3TAPE(@10),B'10000000'                           0921
         BNO   @RF00921                                            0921
@RT00921 DS    0H                                                  0922
*     DO;                           /* CHECK FOR SPECIAL CONDITIONS. */
*       IF NOPNFRS='1'B THEN        /* IS RESIDENT D. S. FLAG ON?    */
         L     @10,NPB2PPTR                                        0923
         TM    NOPNFRS(@10),B'10000000'                            0923
         BNO   @RF00923                                            0923
*         DO;                       /* YES, SETUP UCB                */
*           UCBALOC='1'B;           /* SET UCB ALLOCATED FLAG        */
*           UCBPRES='1'B;           /* SET UCB PERM RESIDENT FLAG    */
         L     @10,UCBPTR                                          0926
         OI    UCBALOC(@10),B'00001100'                            0926
*           UCBDMCT='01'X;          /* SET USE COUNT TO ONE          */
         MVI   UCBDMCT(@10),X'01'                                  0927
*         END;                                                     0928
*       IF NOPNFAU='1'B THEN        /* IS AUTHORIZED FLAG ON?        */
@RF00923 L     @10,NPB2PPTR                                        0929
         TM    NOPNFAU(@10),B'01000000'                            0929
         BNO   @RF00929                                            0929
*         DEBAPFIN='1'B;            /* YES, SET FLAG IN DEB FOR APF  */
         L     @10,DEBPTR                                          0930
         OI    DEBAPFIN(@10),B'00000010'                           0930
*     END;                                                         0931
@RF00929 DS    0H                                                  0932
*   GENERATE NOREFS NOSETS;                                        0932
@RF00921 DS    0H                                                  0932
*                                   /* EXIT LINKAGE                  */
         LM    R2,R0,NPABSAVE          RESTORE CALLERS REGISTERS
         BR    REXIT                   RETURN TO CALLER
NPABSAVE DS    15F                     NIPMOUNT/NIPOPEN SAVE AREA
COMNSAVE DS    18F                     COMMON SAVE AREA
ADPSTART DC    A(@PSTART)              VALUE FOR FIRST BASE REG
*   RESPECIFY                                                      0933
*    (RPARM) UNRESTRICTED;                                         0933
*   END NIPOPEN;                    /* END OF NIPOPEN                */
@EL00008 DS    0H                                                  0934
@EF00008 DS    0H                                                  0934
@ER00008 BR    @14                                                 0934
*   END IEAVNPM3                    /* END OF MODULE                 */
*                                                                  0935
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (IEZDEB  )                                       */
*/*%INCLUDE SYSLIB  (IHAECB  )                                       */
*/*%INCLUDE SYSLIB  (IEZIOB  )                                       */
*/*%INCLUDE SYSLIB  (IHANVT  )                                       */
*/*%INCLUDE SYSLIB  (IEAPPNIP)                                       */
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                       */
*/*%INCLUDE SYSLIB  (IEAPMNIP)                                       */
*/*%INCLUDE SYSLIB  (CVT     )                                       */
*/*%INCLUDE SYSLIB  (IEAPNPB )                                       */
*                                                                  0935
*       ;                                                          0935
@EL00001 L     @13,4(,@13)                                         0935
@EF00001 DS    0H                                                  0935
@ER00001 LM    @14,@12,12(@13)                                     0935
         BR    @14                                                 0935
@DATA    DS    0H
@CH00272 DC    H'3'
@CH00202 DC    H'6'
@CH00367 DC    H'7'
@CH00054 DC    H'32'
@CH02180 DC    H'44'
@CH00962 DC    H'48'
@CH00076 DC    H'50'
@CH02184 DC    H'135'
         DS    0F
@SA00001 DS    18F
@SA00002 DS    15F
@SA00004 DS    15F
         DS    0F
@CF00121 DC    F'1'
@CH00121 EQU   @CF00121+2
@CF02667 DC    F'-2'
@CF02671 DC    F'-1'
@CF00078 DC    XL4'FFFFFFF8'
         DS    0D
DCBPTR   DS    A
DEBPTR   DS    A
DEBDAPTR DS    A
DEBSAVE  DS    A
EXTPTR   DS    A
UCBPTR   DS    A
CVTPTR   DS    A
ECBPTR   DS    A
VOLPTR   DS    A
IOBSTPTR DC    AL4(NIPIOBSN)
NVTSAVE  DS    A
UCBSAVE  DS    A
R13SAVE  DS    A
NAMPARM  DS    A
NPA2PPTR DS    A
NPB2PPTR DS    A
DEBEND   DS    A
NMTRK    DS    FL4
         ORG   NMTRK
NMTRK1   DS    CL2
NMTRK2   DS    CL2
         ORG   NMTRK+4
A        DS    F
I2       DS    F
I3       DS    F
I        DS    F
R13SAV   DS    A
TIME     DS    F
VALUE    DS    F
TABEND   DC    XL2'FFFF'
P        DS    H
EXTCTR   DS    AL1
NOEXT    DS    AL1
@CC02606 DC    C'OR CANCEL'
@CC02608 DC    C'         '
@CC02601 EQU   @CC02608
@CC02613 DC    C' '''
@CC02627 DC    C'NL'
@CB02127 DC    X'0000000000000000'
@CB02147 EQU   @CB02127
@CB02579 EQU   @CB02127
@NM00083 DS    CL44
         ORG   @NM00083
NPBNIOBF DS    CL4
         ORG   NPBNIOBF
NPBNIFB0 DC    AL1(0)
NPBNIFB1 DC    X'00'
         ORG   NPBNIFB1
NIPDSTAT DS    BL1
NIPDFEST EQU   NPBNIFB1+0
NIPDRTY  EQU   NPBNIFB1+0
NIPDERR  EQU   NPBNIFB1+0
NIPDMOD  EQU   NPBNIFB1+0
@NM00084 EQU   NPBNIFB1+0
         ORG   NPBNIOBF+2
NPBNIFB2 DC    X'00'
NPBNIFB3 DC    X'00'
         ORG   NPBNIFB3
NIPDUNAV DS    BL1
NIPDCREJ EQU   NPBNIFB3+0
NIPDOFFL EQU   NPBNIFB3+0
@NM00085 EQU   NPBNIFB3+0
         ORG   @NM00083+4
NIPIOBSN DS    CL40
         ORG   NIPIOBSN
NPBNIOB  DS    CL40
         ORG   NPBNIOB
NPBNFGSN DC    X'42000000'
NPBNECBA DC    AL4(NPBNECB)
NPBNIOB1 DC    X'0000000000000000'
NPBNCPAD DC    A(0)
NPBNDCBP DC    AL4(NPBNDCB1-40)
NPBNREST DC    X'0000000000000000'
NPBNSEEK DC    X'0000000000000000'
         ORG   @NM00083+44
NIPECBSN DS    CL4
         ORG   NIPECBSN
NPBNECB  DS    CL4
         ORG   NPBNECB
NPBNCPCD DC    X'00'
NPBNRBAD DC    AL3(0)
         ORG   NIPECBSN+4
         DS    CL4
@NM00086 DS    CL64
         ORG   @NM00086
NPBNLNTH DC    X'06'
NPBNRSVD DC    AL3(0)
NIPDEBSN DS    CL60
         ORG   NIPDEBSN
NPBNDEB  DS    CL60
         ORG   NPBNDEB
NPBNDEB1 DC    A(0)
NPBNAMLN DC    X'00'
NPBNDEB2 DC    AL3(0)
NPBNOFLG DC    X'00'
NPBNDEB3 DC    X'00000000000000'
NPBNNMXT DC    X'01'
NPBNDEB4 DC    AL3(0)
NPBNPRTY DC    X'00'
NPBNDEB5 DC    AL3(0)
NPBNKYID DC    X'0F'
NPBNDCBA DC    AL3(NPBNDCB1-40)
NPBNXSCL DC    X'00'
NPBNAPAD DC    AL3(0)
NPBNDVMD DC    X'18'
NPBNUCBA DC    AL3(0)
NPBNBINM DC    X'0000'
NPBNSTCC DC    X'0000'
NPBNSTHH DC    X'0000'
NPBNNDCC DC    X'FFFF'
NPBNNDHH DC    X'FFFF'
NPBNNTRK DC    XL2'7FFF'
NPBNDCB1 DS    CL12
         ORG   NPBNDCB1
NPBNMACR DC    X'00008000'
NPBNIFGS DC    X'00'
NPBNDEBA DC    AL3(NPBNDEB)
NPBNOFGS DC    X'12000000'
         ORG   @NM00086+64
NP2VSRCH DS    CL5
NP2DSKEY DS    CL44
NP2SRCH3 DS    CL5
NP2F4BUF DS    CL6
NP2F1BUF DS    CL135
NP2DABUF DS    CL50
NP2SRCH  DC    X'0000000003'
NP2SNBUF DS    CL2
NP2RDBUF DS    CL81
NP2VOL1  DC    CL4'VOL1'
         DS    CL3
@NM00090 DS    CL24
         ORG   @NM00090
CCWA     DS    CL8
         ORG   CCWA
CODEA    DC    X'07'
ADDRA    DC    AL3(0)
FLAGSA   DC    X'60'
@NM00091 DC    X'00'
COUNTA   DC    H'1'
         ORG   @NM00090+8
CCWB     DS    CL8
         ORG   CCWB
CODEB    DC    X'04'
ADDRB    DC    AL3(NP2SNBUF)
FLAGSB   DC    X'60'
@NM00092 DC    X'00'
COUNTB   DC    AL2(2)
         ORG   @NM00090+16
CCWC     DS    CL8
         ORG   CCWC
CODEC    DC    X'02'
ADDRC    DC    AL3(NP2RDBUF)
FLAGSC   DC    X'20'
@NM00093 DC    X'00'
COUNTC   DC    AL2(81)
         ORG   @NM00090+24
@NM00094 DS    CL16
         ORG   @NM00094
CCWD     DS    CL8
         ORG   CCWD
CODED    DC    X'0F'
ADDRD    DC    AL3(0)
FLAGSD   DC    X'60'
@NM00095 DC    X'00'
COUNTD   DC    H'1'
         ORG   @NM00094+8
CCWE     DS    CL8
         ORG   CCWE
CODEE    DC    X'03'
ADDRE    DC    AL3(0)
FLAGSE   DC    X'20'
@NM00096 DC    X'00'
COUNTE   DC    H'1'
         ORG   @NM00094+16
@NM00097 DS    CL72
         ORG   @NM00097
CCW1     DS    CL8
         ORG   CCW1
CODE1    DC    X'31'
SADDR1   DS    AL3
FLAGS1   DC    X'40'
@NM00098 DC    X'00'
COUNT1   DC    X'0005'
         ORG   @NM00097+8
CCW2     DS    CL8
         ORG   CCW2
CODE2    DC    X'08'
SADDR2   DS    AL3
FLAGS2   DC    X'40'
@NM00099 DC    X'00'
COUNT2   DC    X'0000'
         ORG   @NM00097+16
CCW3     DS    CL8
         ORG   CCW3
CODE3    DC    X'06'
SADDR3   DS    AL3
FLAGS3   DC    X'20'
@NM00100 DC    X'00'
COUNT3   DC    X'0000'
         ORG   @NM00097+24
CCW4     DS    CL8
         ORG   CCW4
CODE4    DC    X'D1'
SADDR4   DS    AL3
FLAGS4   DC    X'40'
@NM00101 DC    X'00'
COUNT4   DC    X'0005'
         ORG   @NM00097+32
CCW5     DS    CL8
         ORG   CCW5
CODE5    DC    X'08'
SADDR5   DC    AL3(CCW7)
FLAGS5   DC    X'40'
@NM00102 DC    X'00'
COUNT5   DC    X'0000'
         ORG   @NM00097+40
CCW6     DS    CL8
         ORG   CCW6
CODE6    DC    X'03'
SADDR6   DC    XL3'000000'
FLAGS6   DC    X'20'
@NM00103 DC    X'00'
COUNT6   DC    H'1'
         ORG   @NM00097+48
CCW7     DS    CL8
         ORG   CCW7
CODE7    DC    X'29'
SADDR7   DC    AL3(NP2DSKEY)
FLAGS7   DC    X'60'
@NM00104 DC    X'00'
COUNT7   DC    X'002C'
         ORG   @NM00097+56
CCW8     DS    CL8
         ORG   CCW8
CODE8    DC    X'08'
SADDR8   DC    AL3(CCW4)
FLAGS8   DC    X'40'
@NM00105 DC    X'00'
COUNT8   DS    CL2
         ORG   @NM00097+64
CCW9     DS    CL8
         ORG   CCW9
CODE9    DC    X'06'
SADDR9   DC    AL3(NP2F1BUF)
FLAGS9   DC    X'20'
@NM00106 DC    X'00'
COUNT9   DC    X'0060'
         ORG   @NM00097+72
FORMAT   DS    CL1
         DS    CL3
PURGLIST DS    CL12
         ORG   PURGLIST
PARM1    DS    CL4
         ORG   PARM1
POPTIONS DS    CL1
DEBADDR  DS    AL3
         ORG   PURGLIST+4
PARM2    DS    CL4
PARM3    DS    CL4
         ORG   PARM3
@NM00118 DS    CL1
PURIOB   DS    AL3
         ORG   PURGLIST+12
MBBCCHHR DS    CL8
         ORG   MBBCCHHR
MBB      DS    CL3
         ORG   MBB
M        DS    FL1
         ORG   MBBCCHHR+3
CCHHR    DS    CL5
         ORG   CCHHR
CCHH     DS    CL4
R        DC    XL1'00'
         ORG   MBBCCHHR+8
NP2CHAN  DS    CL2
         ORG   NP2CHAN
NP2CHA   DS    CL1
NP2UA    DS    CL1
         ORG   NP2CHAN+2
NIPCONT  DC    CL8'CONTINUE'
NIPWAIT  DC    CL4'WAIT'
         DS    CL2
NP2WTOBF DS    CL10
LOGREC   DC    CL12'SYS1.LOGREC'
SVCLIB   DC    CL12'SYS1.SVCLIB'
NULLNAME DC    X'000000000000000000000000'
NP2SW    DC    X'00'
         ORG   NP2SW
NP2DTEST DS    BL1
NP2NERR  EQU   NP2SW+0
NP2NWAIT EQU   NP2SW+0
         ORG   NP2SW+1
         DS    CL1
NP2AVT   DS    CL20
         ORG   NP2AVT
AVTEOE   DC    AL4(NP2ABNOR)
AVTSIO   DC    AL4(NP2ABNOR)
AVTPCI   DC    AL4(NP2ABNOR)
AVTCE    DC    AL4(NP2ABNOR)
AVTXCE   DC    AL4(NP2ABNOR)
         ORG   NP2AVT+20
NP2VMAP  DS    CL8
PATH     DS    CL1
BITTBL   DC    X'08'
         DC    X'04'
         DC    X'02'
         DC    X'01'
CONINDX  DS    15CL1
TRACK    DS    2F
IEAVNPM3 CSECT
******************************************************************
*         MESSAGE TEXT FOR WTO AND WTOR                            */
******************************************************************
MSG1 DS 0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG1,MSGEND=MSG1E
         DC    C'IEA120A DEVICE '
INSERT1  DC    CL3' '
         DC    C' SHARED. REPLY ''CONTINUE'''
         DC    C' OR ''WAIT'''
MSG1E    EQU   *
*
MSG2     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG2,MSGEND=MSG2E
         DC    C'IEA310A INVALID REPLY - RESPECIFY'
MSG2E    EQU   *
*
MSG3     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG3,MSGEND=MSG3E
         DC    C' IEA212A D, '
INSERT3A DC    CL3' '
         DC    C' OR '
INSERT3B DC    CL3' '
MSG3E    EQU   *
*
MSG4     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG4,MSGEND=MSG4E
         DC    C'IEA313I DEVICE '
INSERT4  DC    CL3' '
         DC    C' DEMOUNTED'
MSG4E    EQU   *
*
MSG5     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG5,MSGEND=MSG5E
         DC    C'IEA211I OBTAIN FAILED FOR '
INSERT5A DC    CL44' '
         DC    C' DATA SET'
MSG5E    EQU   *
*
MSG6     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG6,MSGEND=MSG6E
         DC    C'IEA319I '
INSERT6A DC    CL44' '
         DC    C'NOT FOUND ON '
INSERT6B DC    CL6' '
MSG6E    EQU   *
*
MSG7     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG7,MSGEND=MSG7E
         DC    C'IEA314I CONFLICTING VOLUME ON '
INSERT7  DC    CL3' '
MSG7E    EQU   *
*
MSG8     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG8,MSGEND=MSG8E
         DC    C'IEA317A SPECIFY UNIT FOR '
INSERT8A DC    CL44' '
         DC    C' ON '
INSERT8B DC    CL7' '
PART8C   DC    CL9' '
MSG8E    EQU   *
*
MSG9     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSG9,MSGEND=MSG9E
         DC    C'IEA318I UNIT UNACCEPTABLE'
MSG9E    EQU   *
*
MSGA     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSGA,MSGEND=MSGAE
         DC    C'IEA315A M '
INSERTAA DC    CL3' '
         DC    C','
INSERTAC DC    CL2' '
         DC    C','
INSERTAB DC    CL44' '
MSGAE    EQU   *
*
MSGB     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSGB,MSGEND=MSGBE
         DC    C'IEA316A D '
INSERTBA DC    CL3' '
         DC    C', '
INSERTBB DC    CL6' '
MSGBE    EQU   *
*
MSGC     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSGC,MSGEND=MSGCE
         DC    C'IEA311I UNLABELED DASD ON '
INSERTCA DC    CL3' '
MSGCE    EQU   *
*
MSGD     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSGD,MSGEND=MSGDE
         DC    C'IEA312I '
INSERTDA DC    CL3' '
         DC    C' OFFLINE'
MSGDE    EQU   *
*
MSGE     DS    0H
         IEAPMNIP TYPE=HEADER,MSGST=MSGE,MSGEND=MSGEE
         DC    C'IEA316A D '
INSERTE  DC    CL3' '
MSGEE    EQU   *
*
MSG1L    DS  0F
         IEAPMNIP TYPE=PLIST,RMSGST=NP2WTOBF,                          *
               ASYNCH=NO,MSGST=MSG1,                                   *
               RMSGL=10
*
MSG2L    DS  0F
         IEAPMNIP TYPE=PLIST,RMSGST=NP2WTOBF,                          *
               ASYNCH=NO,MSGST=MSG2,                                   *
               RMSGL=10
*
MSG8L    DS  0F
         IEAPMNIP TYPE=PLIST,RMSGST=NP2WTOBF,                          *
               ASYNCH=NO,MSGST=MSG8,                                   *
               RMSGL=10
IEAVNPM3 CSECT
OPL       DS   0F
          IEAPMNIP TYPE=OPENPL
IEAVNPM3 CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
RBASE1   EQU   @11
RBASE2   EQU   @12
RTTR     EQU   @00
RPARM0   EQU   @00
R0       EQU   @00
RPARM    EQU   @01
RCCHH    EQU   @02
R2       EQU   @02
IOBPRPTR EQU   @05
DEBEXPTR EQU   @05
DEBSBPTR EQU   @05
RBASE6   EQU   @06
C        EQU   @07
RUCB     EQU   @08
RSCAN    EQU   @09
RMAP     EQU   @09
RSAVE    EQU   @13
RCODE    EQU   @15
RNVT     EQU   @02
RCVT     EQU   @03
REXIT    EQU   @14
RENTRY   EQU   @15
IOSWRK1  EQU   @01
IOSWRK2  EQU   @02
IOSWRK3  EQU   @03
IOSWRK4  EQU   @04
IOSWRK5  EQU   @05
IOSWRK6  EQU   @06
RDCB     EQU   @05
R15      EQU   @15
UCBDCPTR EQU   @05
DEBBASIC EQU   0
DEBTCBAD EQU   DEBBASIC
DEBDEBAD EQU   DEBBASIC+4
DEBAMLNG EQU   DEBDEBAD
DEBIRBAD EQU   DEBBASIC+8
DEBOFLGS EQU   DEBIRBAD
DEBRERR  EQU   DEBOFLGS
DEBOPATB EQU   DEBBASIC+12
DEBFLGS1 EQU   DEBBASIC+14
DEBAPFIN EQU   DEBFLGS1
DEBUSRPG EQU   DEBBASIC+16
DEBNMEXT EQU   DEBUSRPG
DEBRRQ   EQU   DEBBASIC+20
DEBECBAD EQU   DEBRRQ
DEBDCBAD EQU   DEBBASIC+24
DEBPROTG EQU   DEBDCBAD
DEBDCBB  EQU   DEBDCBAD+1
DEBAPPAD EQU   DEBBASIC+28
DEBEXSCL EQU   DEBAPPAD
DEBAPPB  EQU   DEBAPPAD+1
DEBBASND EQU   DEBBASIC+32
DEBDASD  EQU   0
DEBUCBAD EQU   DEBDASD
DEBDVMOD EQU   DEBUCBAD
DEBUCBA  EQU   DEBUCBAD+1
DEBBINUM EQU   DEBDASD+4
DEBSTRCC EQU   DEBDASD+6
DEBSTRHH EQU   DEBDASD+8
DEBENDCC EQU   DEBDASD+10
DEBENDHH EQU   DEBDASD+12
DEBNMTRK EQU   DEBDASD+14
DEBACSMD EQU   0
DEBVOLSQ EQU   DEBACSMD
DEBVOLBT EQU   DEBVOLSQ
DEBDSNM  EQU   DEBACSMD+4
DEBUTSAA EQU   DEBDSNM
DEBACS01 EQU   0
DEBDSNAM EQU   DEBACS01
DEBACS02 EQU   0
DEBDBLK  EQU   DEBACS02
DEBACS03 EQU   0
DEBACS04 EQU   0
DEBTBFRA EQU   DEBACS04
DEBTCCWA EQU   DEBACS04+4
DEBACS05 EQU   0
DEBFUCBA EQU   DEBACS05
DEBLUCBA EQU   DEBACS05+4
DEBACS06 EQU   0
DEBACS07 EQU   0
DEBACS08 EQU   0
DEBSUBNM EQU   0
DEB      EQU   0
DEBAVT   EQU   DEB
DEBEOEA  EQU   DEBAVT
DEBEOEAB EQU   DEBEOEA
DEBSIOA  EQU   DEBAVT+4
DEBSIOAB EQU   DEBSIOA
DEBPCIA  EQU   DEBAVT+8
DEBPCIAB EQU   DEBPCIA
DEBCEA   EQU   DEBAVT+12
DEBCEAB  EQU   DEBCEA
DEBXCEA  EQU   DEBAVT+16
DEBXCEAB EQU   DEBXCEA
DEBPREFX EQU   DEB+20
DEBXTNP  EQU   DEBPREFX+8
DEBXTN   EQU   0
DEBXFLG1 EQU   DEBXTN+2
ECB      EQU   0
ECBRB    EQU   ECB
ECBEVTB  EQU   ECBRB
ECBCC    EQU   ECBEVTB
ECBCCCNT EQU   ECBEVTB+1
ECBRBA   EQU   ECBCCCNT
ECBEVTBA EQU   ECBRBA
ECBBYTE3 EQU   ECBEVTBA+2
IOBPREFX EQU   0
IOBCFLG1 EQU   IOBPREFX
IOBSTDRD EQU   0
IOBFLAG1 EQU   IOBSTDRD
IOBCYCCK EQU   IOBFLAG1
IOBRSTRT EQU   IOBFLAG1
IOBFLAG2 EQU   IOBSTDRD+1
IOBPURGE EQU   IOBFLAG2
IOBRDHA0 EQU   IOBFLAG2
IOBSENS0 EQU   IOBSTDRD+2
IOBS0B7  EQU   IOBSENS0
IOBSENS1 EQU   IOBSTDRD+3
IOBS1B4  EQU   IOBSENS1
IOBECBPT EQU   IOBSTDRD+4
IOBECBCC EQU   IOBECBPT
IOBECBPB EQU   IOBECBPT+1
IOBFLAG3 EQU   IOBSTDRD+8
IOBFL3   EQU   IOBFLAG3
IOBCSW   EQU   IOBSTDRD+9
IOBIOCSW EQU   IOBCSW
IOBSTART EQU   IOBSTDRD+16
IOBSIOCC EQU   IOBSTART
IOBDCBPT EQU   IOBSTDRD+20
IOBFLAG4 EQU   IOBDCBPT
IOBRESTR EQU   IOBSTDRD+24
IOBINCAM EQU   IOBSTDRD+28
IOBBTAMF EQU   IOBINCAM
IOBERRCT EQU   IOBSTDRD+30
NVT      EQU   0
NVTNPATR EQU   NVT+54
NVTNPREN EQU   NVTNPATR
NVTFLLB  EQU   NVT+55
NVTABSAV EQU   NVT+140
NVTNUCND EQU   NVT+180
NVTFLCN  EQU   NVT+211
NVTWTPSW EQU   NVT+224
NVTWPSW2 EQU   NVTWTPSW+4
NVTFLWSC EQU   NVTWPSW2+3
NVTLOAD  EQU   NVT+232
NVTSENSE EQU   NVT+236
NVTSWAIT EQU   NVT+240
NVTTIME  EQU   NVT+244
NVTUCBFN EQU   NVT+248
NVTWTO   EQU   NVT+252
NVTWTOR  EQU   NVT+256
NVTWTOR2 EQU   NVT+260
NVTOPEN  EQU   NVT+264
NVTMOUNT EQU   NVT+268
NVTVIRT  EQU   NVT+276
NVTREAL  EQU   NVT+280
NVTSCHED EQU   NVT+284
NVTOPIO  EQU   NVT+288
NVTPTAB  EQU   NVT+372
NVTXCTL  EQU   NVT+428
NVTLOCAT EQU   NVT+436
NVTFLPO  EQU   NVT+528
NIPPAHDR EQU   0
NIPPAREA EQU   0
NIPPABDL EQU   NIPPAREA+12
NIPPABDH EQU   NIPPABDL
NIPPAIOD EQU   NIPPAREA+32
NIPPAECB EQU   NIPPAIOD+84
PARMTAB  EQU   0
PURGE    EQU   PARMTAB+264
@NM00064 EQU   PARMTAB+272
NIPPAFLG EQU   @NM00064
NIPPTE   EQU   0
NIPPTOPF EQU   NIPPTE+4
NIPPTATF EQU   NIPPTE+5
UCB      EQU   0
UCBOB    EQU   0
UCBJBNR  EQU   UCBOB
UCBFL5   EQU   UCBOB+1
UCBAF    EQU   UCBFL5
UCBSTAT  EQU   UCBOB+3
UCBONLI  EQU   UCBSTAT
UCBALOC  EQU   UCBSTAT
UCBPRES  EQU   UCBSTAT
UCBCHAN  EQU   UCBOB+4
UCBCHA   EQU   UCBCHAN
UCBSFLS  EQU   UCBOB+6
UCBFLA   EQU   UCBSFLS
UCBFL1   EQU   UCBFLA
UCBBSY   EQU   UCBFL1
UCBNRY   EQU   UCBFL1
UCBNOTRD EQU   UCBNRY
UCBPST   EQU   UCBFL1
UCBCUB   EQU   UCBFL1
UCBFLB   EQU   UCBSFLS+1
UCBCHM   EQU   UCBOB+8
UCBCHM1  EQU   UCBCHM
UCBPTH0  EQU   UCBCHM1
UCBPTH1  EQU   UCBCHM1
UCBWGT   EQU   UCBOB+12
UCBVORSN EQU   UCBWGT
UCBNAME  EQU   UCBOB+13
UCBTYP   EQU   UCBOB+16
UCBTBYT1 EQU   UCBTYP
UCB1FEA5 EQU   UCBTBYT1
UCB1FEA6 EQU   UCBTBYT1
UCBTBYT2 EQU   UCBTYP+1
UCB2OPT0 EQU   UCBTBYT2
UCB2OPT2 EQU   UCBTBYT2
UCBDUDN1 EQU   UCB2OPT2
UCB2OPT3 EQU   UCBTBYT2
UCBDUDN2 EQU   UCB2OPT3
UCB2OPT4 EQU   UCBTBYT2
UCBRWTAU EQU   UCB2OPT4
UCBRVDEV EQU   UCBRWTAU
UCB2OPT6 EQU   UCBTBYT2
UCB2OPT7 EQU   UCBTBYT2
UCBTBYT3 EQU   UCBTYP+2
UCBDVCLS EQU   UCBTBYT3
UCB3TAPE EQU   UCBDVCLS
UCB3DACC EQU   UCBDVCLS
UCBTBYT4 EQU   UCBTYP+3
UCBEXTPT EQU   UCBOB+20
UCBFLC   EQU   UCBEXTPT
UCBDEV   EQU   UCBOB+24
UCBCMEXT EQU   0
UCBATI   EQU   UCBCMEXT+3
@NM00073 EQU   UCBATI
UCBFLP1  EQU   UCBCMEXT+5
UCBMT    EQU   0
UCBOCR   EQU   0
UCB3540X EQU   0
UCBDKBYT EQU   UCB3540X+6
UCBUCS   EQU   0
UCBUCSOP EQU   UCBUCS+4
UCBFCBOP EQU   UCBUCS+5
NWTOHDR  EQU   0
NWTOFL   EQU   NWTOHDR+2
NWTORLST EQU   0
NWTORFL  EQU   NWTORLST+10
NIPSPE   EQU   0
NIPMNTPL EQU   0
NMNTDS   EQU   NIPMNTPL
NMNTDSA  EQU   NMNTDS
NMNTVS   EQU   NIPMNTPL+12
NMNTUCB  EQU   NMNTVS
NMNTDT   EQU   NIPMNTPL+18
NMNTFL   EQU   NIPMNTPL+20
NMNTFUS  EQU   NMNTFL
NMNTFLI  EQU   NMNTFL
NMNTFLC  EQU   NMNTFL
NMNTFLB  EQU   NMNTFL
NIPOPNPL EQU   0
NOPNDS   EQU   NIPOPNPL
NOPNDSA  EQU   NOPNDS
NOPNDCB  EQU   NIPOPNPL+12
NOPNUCB  EQU   NIPOPNPL+16
NOPNFL   EQU   NIPOPNPL+20
NOPNFRS  EQU   NOPNFL
NOPNFAU  EQU   NOPNFL
NOPNFLM  EQU   NOPNFL
NOPNFLI  EQU   NOPNFL
NOPNFLNB EQU   NOPNFL
NOPNFLLB EQU   NOPNFL
NOPNFLLC EQU   NOPNFL
NOPNFLSX EQU   NOPNFL
NOPNRC   EQU   NIPOPNPL+21
NIPSCHDL EQU   0
CVTMAP   EQU   0
CVTXAPG  EQU   CVTMAP+20
CVTPCNVT EQU   CVTMAP+28
CVTPRLTV EQU   CVTMAP+32
CVTILK2  EQU   CVTMAP+40
CVTDAR   EQU   CVTMAP+72
CVTFLGS1 EQU   CVTDAR
CVTDCB   EQU   CVTMAP+116
CVTIERLC EQU   CVTMAP+144
CVTOPTA  EQU   CVTMAP+182
CVTOPTB  EQU   CVTMAP+183
CVTGTF   EQU   CVTMAP+236
CVTGTFST EQU   CVTGTF
CVTGTFS  EQU   CVTGTFST
CVTSTATE EQU   CVTGTFST
CVTTMODE EQU   CVTGTFST
CVTFORM  EQU   CVTGTFST
CVTAQAVT EQU   CVTMAP+240
CVTTCMFG EQU   CVTAQAVT
CVTVOLM2 EQU   CVTMAP+244
CVTTATA  EQU   CVTVOLM2
CVTTSKS  EQU   CVTTATA
CVTVOLF2 EQU   CVTTSKS
CVTTAT   EQU   CVTTATA+1
CVTATER  EQU   CVTMAP+248
CVTEXT1  EQU   CVTMAP+252
CVTPURG  EQU   CVTMAP+260
CVTQMSG  EQU   CVTMAP+268
CVTDMSR  EQU   CVTMAP+272
CVTERPV  EQU   CVTMAP+316
CVTINTLA EQU   CVTMAP+320
CVTAPF   EQU   CVTMAP+324
CVTEXT2  EQU   CVTMAP+328
CVTHJES  EQU   CVTMAP+332
CVTPGSIA EQU   CVTMAP+348
CVTA1F1  EQU   CVTMAP+356
CVTSYSK  EQU   CVTMAP+357
CVTVOLM1 EQU   CVTMAP+380
CVTVOLF1 EQU   CVTVOLM1
CVTATMCT EQU   CVTMAP+388
CVTXTNT1 EQU   0
CVTXTNT2 EQU   0
CVTDSSV  EQU   CVTXTNT2
CVTFLGBT EQU   CVTXTNT2+5
CVTQID   EQU   CVTXTNT2+24
CVTICB   EQU   CVTXTNT2+48
CVTRV400 EQU   CVTXTNT2+52
CVTRV409 EQU   CVTXTNT2+53
CVTATCVT EQU   CVTXTNT2+64
CVTRV429 EQU   CVTXTNT2+84
CVTRV438 EQU   CVTXTNT2+85
CVTRV457 EQU   CVTXTNT2+112
CVTRV466 EQU   CVTXTNT2+113
CVTFIX   EQU   0
CVTRELNO EQU   CVTFIX+252
DSCB1    EQU   0
DS1FMTID EQU   DSCB1+44
DS1NOEPV EQU   DSCB1+59
DS1EXT1  EQU   DSCB1+105
DS1PTRDS EQU   DSCB1+135
DSCB4    EQU   0
DCB      EQU   0
DCBDEBAD EQU   DCB+45
ECB2     EQU   0
ECBCC2   EQU   ECB2
ECBBIT2  EQU   ECBCC2
DEBPRE   EQU   0
VOLUME   EQU   0
DEBINDX  EQU   0
DSNAME   EQU   0
IECILK2  EQU   0
EXTENT   EQU   0
MAP      EQU   0
UCBBGN   EQU   0
DEBBAS02 EQU   DEBBASND
DEBDDS1  EQU   DEBBAS02
DEBSUCBA EQU   DEBDDS1
DEBSDVM  EQU   DEBSUCBA
DEBSUCBB EQU   DEBSUCBA+1
DEBDEVED EQU   DEBDDS1+4
DEBRDCB  EQU   DEBDDS1+4
DEBPDCB  EQU   DEBDDS1+8
DEBWDCB  EQU   DEBDDS1+12
DEBACS09 EQU   DEBDEVED
DEBASC09 EQU   DEBACS09
DEBEAMFG EQU   DEBASC09+3
DEBDSID  EQU   DEBASC09+4
DEBEOD   EQU   DEBASC09+12
DEBBOE   EQU   DEBEOD
DEBEODRV EQU   DEBBOE
DEBEODTT EQU   DEBBOE+1
DEBEOD0  EQU   DEBBOE+2
DEBEODSS EQU   DEBBOE+3
DEBBAS01 EQU   DEBBASND
DEBISAM  EQU   DEBBAS01
DEBFIEAD EQU   DEBISAM
DEBFPEAD EQU   DEBISAM+4
DEBFOEAD EQU   DEBISAM+8
DEBEXPT  EQU   DEBISAM+12
DEBRPSID EQU   DEBEXPT
IOBORG01 EQU   IOBPREFX+8
IOBNIOBA EQU   IOBORG01
IOBNFLG1 EQU   IOBNIOBA
IOBORG02 EQU   IOBPREFX+8
IOBDQADA EQU   IOBORG02
IOBDEQIN EQU   IOBDQADA
IOBORG03 EQU   IOBPREFX+12
IOBORG04 EQU   IOBINCAM
IOBORG12 EQU   IOBINCAM
IOBFL4   EQU   IOBORG12
IOBEXTEN EQU   IOBSTDRD+32
IOBSEEK  EQU   IOBEXTEN
IOBBB    EQU   IOBSEEK+1
IOBCC    EQU   IOBSEEK+3
IOBHH    EQU   IOBSEEK+5
IOBORG05 EQU   IOBEXTEN
IOBORG06 EQU   IOBEXTEN
IOBNXTPT EQU   IOBORG06+4
IOBSTATA EQU   IOBNXTPT
IOBORG07 EQU   IOBEXTEN+8
W1IEXTEN EQU   IOBORG07
IOBORG08 EQU   IOBEXTEN+8
IOBINDCT EQU   IOBORG08+4
IOBUNSQR EQU   IOBORG08+5
IOBFCHAD EQU   IOBORG08+8
IOBORG09 EQU   IOBEXTEN+8
IOBDPLAD EQU   IOBORG09+4
IOBDTYPE EQU   IOBORG09+8
IOBDTYP2 EQU   IOBORG09+9
IOBDSTAT EQU   IOBORG09+10
IOBSTAT1 EQU   IOBDSTAT
IOBORG10 EQU   IOBEXTEN+8
IOBSEEK2 EQU   IOBORG10
IOBORG11 EQU   IOBEXTEN
IOBERCT  EQU   IOBORG11
IOBUCBXV EQU   IOBERCT
IOBNAME  EQU   IOBORG11+4
IOBORG13 EQU   IOBEXTEN
IOBSKADR EQU   IOBORG13
UCBOBS01 EQU   UCBDEV
UCBVTOC  EQU   UCBOBS01
UCBVOLI  EQU   UCBOBS01+4
UCBSTAB  EQU   UCBOBS01+10
UCBBSVL  EQU   UCBSTAB
UCBPRSRS EQU   UCBSTAB
UCBDMCT  EQU   UCBOBS01+11
UCBFL4   EQU   UCBOBS01+13
UCBOBS02 EQU   UCBDEV
UCBTFL1  EQU   UCBOBS02+19
UCBXTN   EQU   UCBOBS02+20
UCBVOPT  EQU   UCBXTN
UCBOBS03 EQU   UCBDEV
UCBXTADR EQU   UCBOBS03
UCBOBS04 EQU   UCBDEV
UCBBTA   EQU   UCBOBS04+12
UCBOBS06 EQU   UCBDEV
UCBAOF   EQU   UCBOBS06
UCBAOF1  EQU   UCBAOF
UCBAOF2  EQU   UCBAOF+1
@NM00072 EQU   UCBOBS06+3
UCBIRB   EQU   UCBOBS06+4
UCBGRAF  EQU   UCBIRB
UCBLDNCA EQU   UCBOBS06+8
UCBRDYQ  EQU   UCBLDNCA
UCBIRLN  EQU   UCBRDYQ
UCBLDNCB EQU   UCBRDYQ+1
UCBCTLNK EQU   UCBOBS06+12
UCBOBS07 EQU   UCBDEV
UCBOBS08 EQU   UCBDEV
UCBOBS09 EQU   UCBDEV
CVTS01   EQU   CVTPGSIA
CVTLPDIA EQU   CVTS01+12
CVTDIRST EQU   CVTLPDIA
CVTSLIDA EQU   CVTS01+24
CVTCTLFG EQU   CVTS01+50
CVTDSTAT EQU   CVTCTLFG
CVTRV210 EQU   CVTS01+424
CVTRV219 EQU   CVTS01+425
CVTRV228 EQU   CVTS01+426
CVTRV237 EQU   CVTS01+427
CVTMFRTR EQU   CVTS01+452
CVTRV262 EQU   CVTS01+468
CVTRV271 EQU   CVTS01+469
CVTRV280 EQU   CVTS01+470
CVTRV289 EQU   CVTS01+471
CVTGSDA  EQU   CVTS01+600
NIPDCBSN EQU   NPBNOFLG
NIPDEBTC EQU   NIPDEBSN
NP2TSNS  EQU   NP2SNBUF
NP2TS0   EQU   NP2TSNS
NP2TS1   EQU   NP2TSNS+1
NP2TSFP  EQU   NP2TS1
NP2RDCH  EQU   NP2RDBUF
@NM00107 EQU   NP2DABUF
VOLSERNO EQU   @NM00107+4
VOLVTOC  EQU   @NM00107+11
DSCB3    EQU   NP2F1BUF
DS3EXTNT EQU   DSCB3+4
DS3FMTID EQU   DSCB3+44
CHANNEL  EQU   UCBCHA
CSWCC    EQU   IOBCSW
IOBCSWST EQU   CSWCC+3
IOBCSWUE EQU   IOBCSWST
IOBCSWCT EQU   CSWCC+5
SIOCC    EQU   IOBSIOCC
NP2WTOB1 EQU   NP2WTOBF
NP2WTOB2 EQU   NP2WTOBF
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
@NM00122 EQU   SIOCC
SIOCC3   EQU   SIOCC
@NM00121 EQU   SIOCC
@NM00120 EQU   IOBCSWST+1
IOBCSWUC EQU   IOBCSWST
IOBCSWDE EQU   IOBCSWST
IOBCSWCE EQU   IOBCSWST
@NM00119 EQU   IOBCSWST
IOBCSWA  EQU   CSWCC
CHAN2    EQU   CHANNEL+1
CHAN1    EQU   CHANNEL
DS3ADEXT EQU   DSCB3+45
@NM00112 EQU   DSCB3
VOLOWNER EQU   @NM00107+41
@NM00109 EQU   @NM00107+16
@NM00108 EQU   @NM00107+10
VOLNO    EQU   @NM00107+3
VOLLABI  EQU   @NM00107
@NM00089 EQU   NP2TS1
@NM00088 EQU   NP2TS1
@NM00087 EQU   NP2TS0
NP2TSIR  EQU   NP2TS0
NP2TSCR  EQU   NP2TS0
NPBNDCB  EQU   NIPDCBSN
CVTRV628 EQU   CVTS01+728
CVTRV627 EQU   CVTS01+724
CVTRV626 EQU   CVTS01+720
CVTRV625 EQU   CVTS01+716
CVTRV624 EQU   CVTS01+712
CVTRV623 EQU   CVTS01+708
CVTRV622 EQU   CVTS01+704
CVTRV621 EQU   CVTS01+700
CVTRV620 EQU   CVTS01+696
CVTRV619 EQU   CVTS01+692
CVTRV618 EQU   CVTS01+688
CVTRV617 EQU   CVTS01+684
CVTRV616 EQU   CVTS01+680
CVTRV615 EQU   CVTS01+676
CVTRV614 EQU   CVTS01+672
CVTRV613 EQU   CVTS01+668
CVTRV612 EQU   CVTS01+664
CVTRV611 EQU   CVTS01+660
CVTRV610 EQU   CVTS01+656
CVTRV609 EQU   CVTS01+652
CVTRV608 EQU   CVTS01+648
CVTRV607 EQU   CVTS01+644
CVTRV606 EQU   CVTS01+640
CVTRV605 EQU   CVTS01+636
CVTRV604 EQU   CVTS01+632
CVTEFF02 EQU   CVTS01+628
CVTCBBR  EQU   CVTS01+624
CVTSSCR  EQU   CVTS01+620
CVTEVENT EQU   CVTS01+616
CVTCRCA  EQU   CVTS01+612
CVTTPIO  EQU   CVTS01+608
CVTADV   EQU   CVTS01+604
CVTGSDAB EQU   CVTGSDA
CVTQV3   EQU   CVTS01+596
CVTQV2   EQU   CVTS01+592
CVTQV1   EQU   CVTS01+588
CVTRPT   EQU   CVTS01+584
CVTSSRB  EQU   CVTS01+580
CVTCSDRL EQU   CVTS01+576
CVTEXP1  EQU   CVTS01+572
CVTRMPMT EQU   CVTS01+568
CVTRMPTT EQU   CVTS01+564
CVTVPSA  EQU   CVTS01+560
CVTVSTOP EQU   CVTS01+556
CVTGTFR8 EQU   CVTS01+552
CVTQUIT  EQU   CVTS01+548
CVTVACR  EQU   CVTS01+544
CVTWTCB  EQU   CVTS01+540
CVTSTPRS EQU   CVTS01+536
CVT0PT02 EQU   CVTS01+532
CVTDARCM EQU   CVTS01+528
CVTIRECM EQU   CVTS01+524
CVTJRECM EQU   CVTS01+520
CVTVEMS0 EQU   CVTS01+516
CVTSPFRR EQU   CVTS01+512
CVTRLSTG EQU   CVTS01+508
CVT0TC0A EQU   CVTS01+504
CVTGMBR  EQU   CVTS01+500
CVTLFRM  EQU   CVTS01+496
CVTRMBR  EQU   CVTS01+492
CVTVIOP  EQU   CVTS01+488
CVTRV307 EQU   CVTS01+486
CVTRV306 EQU   CVTS01+484
CVTRV305 EQU   CVTS01+482
CVTRV304 EQU   CVTS01+480
CVTRV303 EQU   CVTS01+478
CVTRV302 EQU   CVTS01+476
CVTTRCA  EQU   CVTS01+472
CVTRV297 EQU   CVTRV289
CVTRV296 EQU   CVTRV289
CVTRV295 EQU   CVTRV289
CVTRV294 EQU   CVTRV289
CVTRV293 EQU   CVTRV289
CVTRV292 EQU   CVTRV289
CVTRV291 EQU   CVTRV289
CVTRV290 EQU   CVTRV289
CVTRV288 EQU   CVTRV280
CVTRV287 EQU   CVTRV280
CVTRV286 EQU   CVTRV280
CVTRV285 EQU   CVTRV280
CVTRV284 EQU   CVTRV280
CVTRV283 EQU   CVTRV280
CVTRV282 EQU   CVTRV280
CVTRV281 EQU   CVTRV280
CVTRV279 EQU   CVTRV271
CVTRV278 EQU   CVTRV271
CVTRV277 EQU   CVTRV271
CVTRV276 EQU   CVTRV271
CVTRV275 EQU   CVTRV271
CVTRV274 EQU   CVTRV271
CVTRV273 EQU   CVTRV271
CVTRV272 EQU   CVTRV271
CVTRV270 EQU   CVTRV262
CVTRV269 EQU   CVTRV262
CVTRV268 EQU   CVTRV262
CVTRV267 EQU   CVTRV262
CVTRV266 EQU   CVTRV262
CVTRV265 EQU   CVTRV262
CVTRV264 EQU   CVTRV262
CVTRV263 EQU   CVTRV262
CVTVFP   EQU   CVTS01+464
CVTVSI   EQU   CVTS01+460
CVTVPSIB EQU   CVTS01+456
CVTMFACT EQU   CVTMFRTR
CVTMFCTL EQU   CVTS01+448
CVTPVBP  EQU   CVTS01+444
CVTPWI   EQU   CVTS01+440
CVTRV254 EQU   CVTS01+438
CVTRV253 EQU   CVTS01+436
CVTRV252 EQU   CVTS01+434
CVTRV251 EQU   CVTS01+433
CVTRV250 EQU   CVTS01+432
CVTRV249 EQU   CVTS01+431
CVTRV248 EQU   CVTS01+430
CVTRV247 EQU   CVTS01+429
CVTRV246 EQU   CVTS01+428
CVTRV245 EQU   CVTRV237
CVTRV244 EQU   CVTRV237
CVTRV243 EQU   CVTRV237
CVTRV242 EQU   CVTRV237
CVTRV241 EQU   CVTRV237
CVTRV240 EQU   CVTRV237
CVTRV239 EQU   CVTRV237
CVTRV238 EQU   CVTRV237
CVTRV236 EQU   CVTRV228
CVTRV235 EQU   CVTRV228
CVTRV234 EQU   CVTRV228
CVTRV233 EQU   CVTRV228
CVTRV232 EQU   CVTRV228
CVTRV231 EQU   CVTRV228
CVTRV230 EQU   CVTRV228
CVTRV229 EQU   CVTRV228
CVTRV227 EQU   CVTRV219
CVTRV226 EQU   CVTRV219
CVTRV225 EQU   CVTRV219
CVTRV224 EQU   CVTRV219
CVTRV223 EQU   CVTRV219
CVTRV222 EQU   CVTRV219
CVTRV221 EQU   CVTRV219
CVTRV220 EQU   CVTRV219
CVTRV218 EQU   CVTRV210
CVTRV217 EQU   CVTRV210
CVTRV216 EQU   CVTRV210
CVTRV215 EQU   CVTRV210
CVTRV214 EQU   CVTRV210
CVTRV213 EQU   CVTRV210
CVTRV212 EQU   CVTRV210
CVTRV211 EQU   CVTRV210
CVTLCCAT EQU   CVTS01+420
CVTPCCAT EQU   CVTS01+416
CVTIPCRP EQU   CVTS01+412
CVTIPCRI EQU   CVTS01+408
CVTIPCDS EQU   CVTS01+404
CVTAIDVT EQU   CVTS01+400
CVTSSAP  EQU   CVTS01+396
CVTEHCIR EQU   CVTS01+392
CVTEHDEF EQU   CVTS01+388
CVTDAIR  EQU   CVTS01+384
CVTPERFM EQU   CVTS01+380
CVT044R2 EQU   CVTS01+376
CVTFETCH EQU   CVTS01+372
CVTRSTWD EQU   CVTS01+368
CVTSPOST EQU   CVTS01+364
CVTIOBP  EQU   CVTS01+360
CVTASMVT EQU   CVTS01+356
CVTRECRQ EQU   CVTS01+352
CVTWSAC  EQU   CVTS01+348
CVTRV149 EQU   CVTS01+344
CVTWSAL  EQU   CVTS01+340
CVTSPSA  EQU   CVTS01+336
CVTGLMN  EQU   CVTS01+332
CVTVEAC0 EQU   CVTS01+328
CVT062R1 EQU   CVTS01+324
CVTRPOST EQU   CVTS01+320
CVTDQIQE EQU   CVTS01+316
CVTCSD   EQU   CVTS01+312
CVTLKRMA EQU   CVTS01+308
CVTRSPIE EQU   CVTS01+304
CVTRENQ  EQU   CVTS01+300
CVTLQCB  EQU   CVTS01+296
CVTFQCB  EQU   CVTS01+292
CVTQCS01 EQU   CVTS01+288
CVTAPFT  EQU   CVTS01+284
CVTPARRL EQU   CVTS01+280
CVTVWAIT EQU   CVTS01+276
CVTGSPL  EQU   CVTS01+272
CVTLSMQ  EQU   CVTS01+268
CVTGSMQ  EQU   CVTS01+264
CVTEXPRO EQU   CVTS01+260
CVTOPCTP EQU   CVTS01+256
CVTSIC   EQU   CVTS01+252
CVTTPIOS EQU   CVTS01+248
CVTRTMS  EQU   CVTS01+244
CVTSDBF  EQU   CVTS01+240
CVTSCBP  EQU   CVTS01+236
CVTSDMP  EQU   CVTS01+232
CVTSV60  EQU   CVTS01+228
CVTRTMCT EQU   CVTS01+224
CVTASCBL EQU   CVTS01+220
CVTASCBH EQU   CVTS01+216
CVTGDA   EQU   CVTS01+212
CVTASVT  EQU   CVTS01+208
CVTVVMDI EQU   CVTS01+204
CVTAQTOP EQU   CVTS01+200
CVTIOSCS EQU   CVTS01+196
CVTSDRM  EQU   CVTS01+192
CVTOPTE  EQU   CVTS01+188
CVTSTXU  EQU   CVTS01+184
CVTQUIS  EQU   CVTS01+180
CVTPARS  EQU   CVTS01+176
CVTS1EE  EQU   CVTS01+172
CVTFRAS  EQU   CVTS01+168
CVTQSAS  EQU   CVTS01+164
CVTCRAS  EQU   CVTS01+160
CVTCRMN  EQU   CVTS01+156
CVTDELCP EQU   CVTS01+152
CVTFRECL EQU   CVTS01+148
CVTGETCL EQU   CVTS01+144
CVTBLDCP EQU   CVTS01+140
CVTAUTHL EQU   CVTS01+136
CVTSCAN  EQU   CVTS01+132
CVTRV144 EQU   CVTS01+130
CVTMAXMP EQU   CVTS01+128
CVTSTCK  EQU   CVTS01+124
CVTRV139 EQU   CVTS01+123
CVTDSSAC EQU   CVTS01+122
CVTRV513 EQU   CVTS01+121
CVTIOSPL EQU   CVTS01+120
CVTPTGT  EQU   CVTS01+116
CVTCSPIE EQU   CVTS01+112
CVTSMFEX EQU   CVTS01+108
CVTOLT0A EQU   CVTS01+104
CVTSRBRT EQU   CVTS01+100
CVTPUTL  EQU   CVTS01+96
CVTRV519 EQU   CVTS01+92
CVTRV327 EQU   CVTS01+88
CVTRV326 EQU   CVTS01+84
CVTRV325 EQU   CVTS01+80
CVTRV324 EQU   CVTS01+76
CVT0VL01 EQU   CVTS01+72
CVTSHRVM EQU   CVTS01+68
CVTRV332 EQU   CVTS01+64
CVTTAS   EQU   CVTS01+60
CVTRSCN  EQU   CVTS01+56
CVTTRAC2 EQU   CVTS01+54
CVTTRACE EQU   CVTS01+52
CVTAPG   EQU   CVTS01+51
CVTSDTRC EQU   CVTCTLFG
CVTGTRCE EQU   CVTCTLFG
CVTNOMP  EQU   CVTCTLFG
CVTRSV79 EQU   CVTCTLFG
CVTRSV78 EQU   CVTCTLFG
CVTRV333 EQU   CVTCTLFG
CVTRV323 EQU   CVTCTLFG
CVTSPVLK EQU   CVTS01+49
CVTRSV77 EQU   CVTS01+48
CVTRV331 EQU   CVTS01+44
CVTRV330 EQU   CVTS01+40
CVTRV329 EQU   CVTS01+36
CVTRV328 EQU   CVTS01+32
CVTRV322 EQU   CVTS01+28
CVTSLID  EQU   CVTSLIDA+1
CVTSYLK  EQU   CVTSLIDA
CVTRV321 EQU   CVTS01+20
CVTRV320 EQU   CVTS01+16
CVTLPDIR EQU   CVTLPDIA+1
CVTRSV69 EQU   CVTDIRST
CVTRSV68 EQU   CVTDIRST
CVTRSV67 EQU   CVTDIRST
CVTRSV66 EQU   CVTDIRST
CVTRSV65 EQU   CVTDIRST
CVTRSV64 EQU   CVTDIRST
CVTRSV63 EQU   CVTDIRST
CVTDICOM EQU   CVTDIRST
CVTPVTP  EQU   CVTS01+8
CVTLPDSR EQU   CVTS01+4
CVTGETL  EQU   CVTS01
UCBRV066 EQU   UCBOBS09+4
UCBIOSBA EQU   UCBOBS09
UCBRV042 EQU   UCBOBS08+5
UCBCTCF1 EQU   UCBOBS08+4
UCBCTCAD EQU   UCBOBS08
UCBICNCB EQU   UCBOBS07+4
UCBRV040 EQU   UCBOBS07
UCBCTLNA EQU   UCBCTLNK+1
UCBRLN   EQU   UCBCTLNK
UCBRDYQA EQU   UCBLDNCB
UCBINRLN EQU   UCBIRLN
UCBIRBA  EQU   UCBIRB+1
UCBRV039 EQU   UCBGRAF
UCBDWNR  EQU   UCBGRAF
UCBRPND  EQU   UCBGRAF
UCBUPM   EQU   UCBGRAF
UCBBTAM  EQU   UCBGRAF
UCBDRNO  EQU   UCBGRAF
UCBDRO   EQU   UCBGRAF
UCBOIP   EQU   UCBGRAF
UCBATRCD EQU   @NM00072
UCBSKPFG EQU   @NM00072
UCBRIPND EQU   @NM00072
UCBRTIAC EQU   @NM00072
UCBRSV79 EQU   @NM00072
UCBRSV78 EQU   @NM00072
UCBRSV77 EQU   @NM00072
UCBOLTEP EQU   @NM00072
UCBATNCT EQU   UCBOBS06+2
UCBRSV76 EQU   UCBAOF2
UCBRSV75 EQU   UCBAOF2
UCBRSV74 EQU   UCBAOF2
UCBRSV73 EQU   UCBAOF2
UCBRSV72 EQU   UCBAOF2
UCBRSV71 EQU   UCBAOF2
UCBRSV70 EQU   UCBAOF2
UCBRSV69 EQU   UCBAOF2
UCBRSV68 EQU   UCBAOF1
UCBRSV67 EQU   UCBAOF1
UCBRSV66 EQU   UCBAOF1
UCBRSV65 EQU   UCBAOF1
UCBRSV64 EQU   UCBAOF1
UCBOFNL  EQU   UCBAOF1
UCBOFSP  EQU   UCBAOF1
UCBOFMCR EQU   UCBAOF1
UCBBTB   EQU   UCBBTA+1
UCBDI    EQU   UCBBTA
UCBSNS   EQU   UCBOBS04+8
UCBTEB   EQU   UCBOBS04+4
UCBGCB   EQU   UCBOBS04+3
UCBOPEN  EQU   UCBOBS04+2
UCBSTART EQU   UCBOBS04
UCBXTNB  EQU   UCBXTN+1
UCBRSV22 EQU   UCBVOPT
UCBRSV21 EQU   UCBVOPT
UCBRSV20 EQU   UCBVOPT
UCBESVE  EQU   UCBVOPT
UCBERPC  EQU   UCBVOPT
UCBESVC  EQU   UCBVOPT
UCBEVA   EQU   UCBVOPT
UCBESV   EQU   UCBVOPT
UCBRV009 EQU   UCBTFL1
UCBRV008 EQU   UCBTFL1
UCBRV007 EQU   UCBTFL1
UCBRV006 EQU   UCBTFL1
UCBRV005 EQU   UCBTFL1
UCBRV038 EQU   UCBTFL1
UCBNSLTP EQU   UCBTFL1
UCBNLTP  EQU   UCBTFL1
UCBRES1B EQU   UCBOBS02+18
UCBFSER  EQU   UCBOBS02+12
@NM00071 EQU   UCBOBS02+4
UCBFSEQ  EQU   UCBOBS02+2
UCBFSCT  EQU   UCBOBS02
UCBNEXP  EQU   UCBOBS01+20
UCBBASE  EQU   UCBOBS01+16
UCBRES1A EQU   UCBOBS01+15
UCBUSER  EQU   UCBOBS01+14
UCBFL47  EQU   UCBFL4
UCBFL46  EQU   UCBFL4
UCBFL45  EQU   UCBFL4
UCBRV065 EQU   UCBFL4
UCBDSS   EQU   UCBFL4
UCBRV028 EQU   UCBFL4
UCBWDAV  EQU   UCBFL4
UCBDAVV  EQU   UCBFL4
UCBSQC   EQU   UCBOBS01+12
UCBDATP  EQU   UCBOBS01+12
UCBDMC   EQU   UCBDMCT
UCBMOUNT EQU   UCBDMCT
UCBBNUL  EQU   UCBSTAB
UCBSHAR  EQU   UCBSTAB
UCBBSTR  EQU   UCBSTAB
UCBBPUB  EQU   UCBSTAB
UCBBPRV  EQU   UCBSTAB
UCBBALB  EQU   UCBPRSRS
UCBPGFL  EQU   UCBSTAB
UCBDVSHR EQU   UCBBSVL
IOBSKSS  EQU   IOBSKADR+3
IOBSK0   EQU   IOBSKADR+2
IOBSKTT  EQU   IOBSKADR+1
IOBSKRV  EQU   IOBSKADR
IOBCSWSV EQU   IOBORG11+17
IOBSENSV EQU   IOBORG11+16
IOBRCD   EQU   IOBORG11+12
IOBMDREC EQU   IOBORG11+8
IOBNAMEA EQU   IOBNAME+1
IOBNAMSZ EQU   IOBNAME
IOBERCTA EQU   IOBERCT+1
IOBRTYPE EQU   IOBUCBXV
IOBRDCHP EQU   IOBORG10+20
IOBNEXTA EQU   IOBORG10+16
IOBREADA EQU   IOBORG10+12
IOBBUFC  EQU   IOBORG10+8
IOBSK2R  EQU   IOBSEEK2+7
IOBSK2HH EQU   IOBSEEK2+5
IOBSK2CC EQU   IOBSEEK2+3
IOBSK2BB EQU   IOBSEEK2+1
IOBSK2M  EQU   IOBSEEK2
IOBCHNPR EQU   IOBORG09+40
IOBDNCRF EQU   IOBORG09+32
IOBRSV35 EQU   IOBORG09+24
IOBDQPTR EQU   IOBORG09+20
IOBRSV34 EQU   IOBORG09+18
IOBDBYTN EQU   IOBORG09+16
IOBDCPND EQU   IOBORG09+12
IOBSTAT2 EQU   IOBDSTAT+1
IOBSIORT EQU   IOBSTAT1
IOBADDVU EQU   IOBSTAT1
IOBBUFF  EQU   IOBSTAT1
IOBENQUE EQU   IOBSTAT1
IOBPASS2 EQU   IOBSTAT1
IOBSYNCH EQU   IOBSTAT1
IOBNEWVL EQU   IOBSTAT1
IOBABNRM EQU   IOBSTAT1
IOBRELEX EQU   IOBDTYP2
IOBADDTY EQU   IOBDTYP2
IOBTYPE  EQU   IOBDTYP2
IOBRQUST EQU   IOBDTYP2
IOBSUFFX EQU   IOBDTYP2
IOBSBLKL EQU   IOBDTYP2
IOBSKEY  EQU   IOBDTYP2
IOBRELBL EQU   IOBDTYPE
IOBRDEXC EQU   IOBDTYPE
IOBDYNBF EQU   IOBDTYPE
IOBACTAD EQU   IOBDTYPE
IOBFDBCK EQU   IOBDTYPE
IOBEXTSC EQU   IOBDTYPE
IOBOVFLO EQU   IOBDTYPE
IOBVERFY EQU   IOBDTYPE
IOBDPLB  EQU   IOBDPLAD+1
IOBDAYLI EQU   IOBDPLAD
IOBDIOBS EQU   IOBORG09+2
IOBDBYTR EQU   IOBORG09
IOBBCHAD EQU   IOBORG08+12
IOBFCHNB EQU   IOBFCHAD+1
IOBCOUNT EQU   IOBFCHAD
IOBASYN  EQU   IOBORG08+7
IOBAPP   EQU   IOBORG08+6
IOBRSV32 EQU   IOBUNSQR
IOBRSV31 EQU   IOBUNSQR
IOBRSV30 EQU   IOBUNSQR
IOBKNRWR EQU   IOBUNSQR
IOBKNWR  EQU   IOBUNSQR
IOBNTAV2 EQU   IOBUNSQR
IOBNTAV1 EQU   IOBUNSQR
IOBCPBSY EQU   IOBUNSQR
IOBCHNNL EQU   IOBINDCT
IOBRSV29 EQU   IOBINDCT
IOBRSV28 EQU   IOBINDCT
IOBRSV27 EQU   IOBINDCT
IOBKEYAD EQU   IOBINDCT
IOBOVPTR EQU   IOBINDCT
IOBUNSCH EQU   IOBINDCT
IOBDEQCP EQU   IOBINDCT
IOBCCWAD EQU   IOBORG08
W1OEXTEN EQU   W1IEXTEN
IOBCCW   EQU   IOBORG06+8
IOBNXTPB EQU   IOBNXTPT+1
IOBRSV26 EQU   IOBSTATA
IOBRSV25 EQU   IOBSTATA
IOBRSV24 EQU   IOBSTATA
IOBRSV23 EQU   IOBSTATA
IOBRSV22 EQU   IOBSTATA
IOBRSV21 EQU   IOBSTATA
IOBRSV20 EQU   IOBSTATA
IOBAVLFL EQU   IOBSTATA
IOBRSV37 EQU   IOBORG06+1
IOBUCBXG EQU   IOBORG06
IOBCPA   EQU   IOBORG05+32
IOBERINF EQU   IOBORG05+16
IOBERCCW EQU   IOBORG05+8
IOBSNDPT EQU   IOBORG05+7
IOBRCVPT EQU   IOBORG05+6
IOBWORK  EQU   IOBORG05+1
IOBUCBX  EQU   IOBORG05
IOBR     EQU   IOBSEEK+7
IOBHH2   EQU   IOBHH+1
IOBHH1   EQU   IOBHH
IOBCC2   EQU   IOBCC+1
IOBCC1   EQU   IOBCC
IOBBB2   EQU   IOBBB+1
IOBBB1   EQU   IOBBB
IOBM     EQU   IOBSEEK
IOBRSV46 EQU   IOBFL4
IOBRSV47 EQU   IOBFL4
IOBENT   EQU   IOBFL4
IOBEQP   EQU   IOBFL4
IOBBUS   EQU   IOBFL4
IOBDCK   EQU   IOBFL4
IOBREJ   EQU   IOBFL4
IOBOVR   EQU   IOBFL4
IOBCRILC EQU   IOBORG04+1
IOBCRDCC EQU   IOBORG04
IOBGQECB EQU   IOBORG03
IOBSWAP  EQU   IOBORG02+4
IOBDQADB EQU   IOBDQADA+1
IOBRSV13 EQU   IOBDEQIN
IOBRSV12 EQU   IOBDEQIN
IOBRSV11 EQU   IOBDEQIN
IOBRSV10 EQU   IOBDEQIN
IOBRSV09 EQU   IOBDEQIN
IOBRSV08 EQU   IOBDEQIN
IOBRSV07 EQU   IOBDEQIN
IOBDEQ   EQU   IOBDEQIN
IOBNECB  EQU   IOBORG01+4
IOBNIOBB EQU   IOBNIOBA+1
IOBFIRST EQU   IOBNFLG1
IOBUPERR EQU   IOBNFLG1
IOBSPAN  EQU   IOBNFLG1
IOBBKSPC EQU   IOBNFLG1
IOBUPDAT EQU   IOBNFLG1
IOBREAD  EQU   IOBNFLG1
IOBWRITE EQU   IOBNFLG1
IOBPRTOV EQU   IOBNFLG1
DEBEXPTA EQU   DEBEXPT+1
DEBRSV12 EQU   DEBRPSID
DEBRSV11 EQU   DEBRPSID
DEBRSV10 EQU   DEBRPSID
DEBRSV09 EQU   DEBRPSID
DEBRPSAP EQU   DEBRPSID
DEBRPSO  EQU   DEBRPSID
DEBRPSI  EQU   DEBRPSID
DEBRPSP  EQU   DEBRPSID
DEBFOEB  EQU   DEBFOEAD+1
DEBNOEE  EQU   DEBFOEAD
DEBFPEB  EQU   DEBFPEAD+1
DEBNPEE  EQU   DEBFPEAD
DEBFIEB  EQU   DEBFIEAD+1
DEBNIEE  EQU   DEBFIEAD
DEBBOESS EQU   DEBEODSS
DEBBOE0  EQU   DEBEOD0
DEBBOETT EQU   DEBEODTT
DEBBOERV EQU   DEBEODRV
DEBRV008 EQU   DEBDSID+7
DEBWTPTI EQU   DEBDSID+6
DEBEXDTE EQU   DEBDSID
DEBRV007 EQU   DEBEAMFG
DEBRV006 EQU   DEBEAMFG
DEBRV005 EQU   DEBEAMFG
DEBRV004 EQU   DEBEAMFG
DEBSECVL EQU   DEBEAMFG
DEBVAMSG EQU   DEBEAMFG
DEBDSOPN EQU   DEBEAMFG
DEBMULTI EQU   DEBEAMFG
DEBVSEQU EQU   DEBASC09+2
DEBDSSQL EQU   DEBASC09+1
DEBVOLAC EQU   DEBASC09
DEBWDCBA EQU   DEBWDCB+1
DEBRSV08 EQU   DEBWDCB
DEBPDCBA EQU   DEBPDCB+1
DEBRSV07 EQU   DEBPDCB
DEBRDCBA EQU   DEBRDCB+1
DEBRSV06 EQU   DEBRDCB
@NM00117 EQU   DEBPRE+5
DEBL     EQU   DEBPRE+4
@NM00116 EQU   DEBPRE
@NM00115 EQU   ECBCC2
@NM00114 EQU   DCB
DS4HPCHR EQU   DSCB4+44
@NM00113 EQU   DSCB4
DS1EXT3  EQU   DSCB1+125
DS1EXT2  EQU   DSCB1+115
@NM00111 EQU   DSCB1+60
@NM00110 EQU   DSCB1+45
DS1DSNAM EQU   DSCB1
CVTLEVL  EQU   CVTRELNO+2
CVTNUMB  EQU   CVTRELNO
CVTMDL   EQU   CVTFIX+250
@NM00082 EQU   CVTFIX+248
@NM00081 EQU   CVTFIX
CVTRV482 EQU   CVTXTNT2+128
CVTRV481 EQU   CVTXTNT2+124
CVTRV480 EQU   CVTXTNT2+120
CVTRV479 EQU   CVTXTNT2+118
CVTRV478 EQU   CVTXTNT2+117
CVTRV477 EQU   CVTXTNT2+116
CVTRV476 EQU   CVTXTNT2+115
CVTRV475 EQU   CVTXTNT2+114
CVTRV474 EQU   CVTRV466
CVTRV473 EQU   CVTRV466
CVTRV472 EQU   CVTRV466
CVTRV471 EQU   CVTRV466
CVTRV470 EQU   CVTRV466
CVTRV469 EQU   CVTRV466
CVTRV468 EQU   CVTRV466
CVTRV467 EQU   CVTRV466
CVTRV465 EQU   CVTRV457
CVTRV464 EQU   CVTRV457
CVTRV463 EQU   CVTRV457
CVTRV462 EQU   CVTRV457
CVTRV461 EQU   CVTRV457
CVTRV460 EQU   CVTRV457
CVTRV459 EQU   CVTRV457
CVTRV458 EQU   CVTRV457
CVTRV456 EQU   CVTXTNT2+108
CVTRV455 EQU   CVTXTNT2+104
CVTRV454 EQU   CVTXTNT2+100
CVTRV453 EQU   CVTXTNT2+96
CVTRV452 EQU   CVTXTNT2+94
CVTRV451 EQU   CVTXTNT2+92
CVTRV450 EQU   CVTXTNT2+90
CVTRV449 EQU   CVTXTNT2+88
CVTRV448 EQU   CVTXTNT2+87
CVTRV447 EQU   CVTXTNT2+86
CVTRV446 EQU   CVTRV438
CVTRV445 EQU   CVTRV438
CVTRV444 EQU   CVTRV438
CVTRV443 EQU   CVTRV438
CVTRV442 EQU   CVTRV438
CVTRV441 EQU   CVTRV438
CVTRV440 EQU   CVTRV438
CVTRV439 EQU   CVTRV438
CVTRV437 EQU   CVTRV429
CVTRV436 EQU   CVTRV429
CVTRV435 EQU   CVTRV429
CVTRV434 EQU   CVTRV429
CVTRV433 EQU   CVTRV429
CVTRV432 EQU   CVTRV429
CVTRV431 EQU   CVTRV429
CVTRV430 EQU   CVTRV429
CVTRV428 EQU   CVTXTNT2+80
CVTRV427 EQU   CVTXTNT2+76
CVTRV426 EQU   CVTXTNT2+72
CVTRV425 EQU   CVTXTNT2+68
CVTATACT EQU   CVTATCVT
CVTRV423 EQU   CVTXTNT2+62
CVTRV422 EQU   CVTXTNT2+60
CVTRV421 EQU   CVTXTNT2+58
CVTRV420 EQU   CVTXTNT2+56
CVTRV419 EQU   CVTXTNT2+55
CVTRV418 EQU   CVTXTNT2+54
CVTRV417 EQU   CVTRV409
CVTRV416 EQU   CVTRV409
CVTRV415 EQU   CVTRV409
CVTRV414 EQU   CVTRV409
CVTRV413 EQU   CVTRV409
CVTRV412 EQU   CVTRV409
CVTRV411 EQU   CVTRV409
CVTRV410 EQU   CVTRV409
CVTRV408 EQU   CVTRV400
CVTRV407 EQU   CVTRV400
CVTRV406 EQU   CVTRV400
CVTRV405 EQU   CVTRV400
CVTRV404 EQU   CVTRV400
CVTRV403 EQU   CVTRV400
CVTRV402 EQU   CVTRV400
CVTRV401 EQU   CVTRV400
CVTSKTA  EQU   CVTXTNT2+44
CVTRSV99 EQU   CVTXTNT2+40
CVTRSV98 EQU   CVTXTNT2+36
CVTRSV97 EQU   CVTXTNT2+34
CVTRSV96 EQU   CVTXTNT2+32
CVTOLTEP EQU   CVTXTNT2+28
CVTQIDA  EQU   CVTQID+1
CVTRSV95 EQU   CVTQID
CVTRSV94 EQU   CVTXTNT2+20
CVTRSV93 EQU   CVTXTNT2+16
CVTRSV92 EQU   CVTXTNT2+12
CVTDEBVR EQU   CVTXTNT2+8
CVTRSV91 EQU   CVTXTNT2+6
CVTRSV9H EQU   CVTFLGBT
CVTRSV9G EQU   CVTFLGBT
CVTRSV9F EQU   CVTFLGBT
CVTRSV9E EQU   CVTFLGBT
CVTRSV9D EQU   CVTFLGBT
CVTRSV9C EQU   CVTFLGBT
CVTVME   EQU   CVTFLGBT
CVTNPE   EQU   CVTFLGBT
CVTNUCLS EQU   CVTXTNT2+4
CVTDSSVA EQU   CVTDSSV+1
CVTRSV89 EQU   CVTDSSV
CVTRSV88 EQU   CVTXTNT1+8
CVTRSV87 EQU   CVTXTNT1+4
CVTFACHN EQU   CVTXTNT1
CVTRV488 EQU   CVTMAP+412
CVTRV487 EQU   CVTMAP+408
CVTRV486 EQU   CVTMAP+404
CVTRV485 EQU   CVTMAP+400
CVTACTAP EQU   CVTMAP+396
CVTAUTH  EQU   CVTMAP+392
CVTATMCA EQU   CVTATMCT+1
CVTATMST EQU   CVTATMCT
CVTRSV61 EQU   CVTMAP+384
CVTVOLT1 EQU   CVTVOLM1+1
CVTVOLI1 EQU   CVTVOLF1
CVTSTOA  EQU   CVTMAP+376
CVTRSV58 EQU   CVTMAP+374
CVTRSV57 EQU   CVTMAP+372
CVTDDCE  EQU   CVTMAP+368
CVTPNWFR EQU   CVTMAP+364
CVTSMF   EQU   CVTMAP+360
CVTSULK  EQU   CVTMAP+358
CVTSLKO  EQU   CVTSYSK
CVTSLKP  EQU   CVTSYSK
CVTSLKQ  EQU   CVTSYSK
CVTSLKR  EQU   CVTSYSK
CVTRSV56 EQU   CVTSYSK
CVTRSV55 EQU   CVTSYSK
CVTRSV54 EQU   CVTSYSK
CVTRSV53 EQU   CVTSYSK
CVTRSV52 EQU   CVTA1F1
CVTRSV51 EQU   CVTA1F1
CVTRSV50 EQU   CVTA1F1
CVTRSV49 EQU   CVTA1F1
CVTRSV48 EQU   CVTA1F1
CVTRSV47 EQU   CVTA1F1
CVTSRSW  EQU   CVTA1F1
CVTPFSW  EQU   CVTA1F1
CVTPCVT  EQU   CVTMAP+352
CVTRSV46 EQU   CVTMAP+344
CVTRSV45 EQU   CVTMAP+340
CVTRSV44 EQU   CVTMAP+338
CVTRSV43 EQU   CVTMAP+336
CVTHJESA EQU   CVTHJES+1
CVTRSV42 EQU   CVTHJES
CVTEXT2A EQU   CVTEXT2+1
CVTRSV41 EQU   CVTEXT2
CVTAPFA  EQU   CVTAPF+1
CVTRSV40 EQU   CVTAPF
CVTRV518 EQU   CVTINTLA
CVTRV517 EQU   CVTERPV
CVTEORM  EQU   CVTMAP+312
CVTMCHPR EQU   CVTMAP+308
CVTTZ    EQU   CVTMAP+304
CVTJEPS  EQU   CVTMAP+300
CVTJESCT EQU   CVTMAP+296
CVTMODE  EQU   CVTMAP+292
CVTPTRV  EQU   CVTMAP+288
CVTREAL  EQU   CVTMAP+284
CVTRSV39 EQU   CVTMAP+280
CVTRSV38 EQU   CVTMAP+276
CVTDMSRA EQU   CVTDMSR+1
CVTRSV37 EQU   CVTDMSR
CVTQMSGA EQU   CVTQMSG+1
CVTRSV36 EQU   CVTQMSG
CVTAMFF  EQU   CVTMAP+264
CVTPURGA EQU   CVTPURG+1
CVTRSV35 EQU   CVTPURG
CVTCBSP  EQU   CVTMAP+256
CVTATERA EQU   CVTATER+1
CVTSYST  EQU   CVTATER
CVTVOLT2 EQU   CVTTAT
CVTVOLI2 EQU   CVTVOLF2
CVTAQAVB EQU   CVTAQAVT+1
CVTRSV34 EQU   CVTTCMFG
CVTRSV33 EQU   CVTTCMFG
CVTRSV32 EQU   CVTTCMFG
CVTRSV31 EQU   CVTTCMFG
CVTRSV30 EQU   CVTTCMFG
CVTRSV29 EQU   CVTTCMFG
CVTRSV28 EQU   CVTTCMFG
CVTTCRDY EQU   CVTTCMFG
CVTGTFA  EQU   CVTGTF+1
CVTRSV27 EQU   CVTGTFST
CVTRNIO  EQU   CVTGTFST
CVTUSR   EQU   CVTGTFST
CVTRV318 EQU   CVTFORM
CVTRV317 EQU   CVTTMODE
CVTRV316 EQU   CVTSTATE
CVTRV315 EQU   CVTGTFS
CVTGTFAV EQU   CVTGTFS
CVT0SCR1 EQU   CVTMAP+232
CVTRV515 EQU   CVTMAP+228
CVTRMS   EQU   CVTMAP+224
CVTPATCH EQU   CVTMAP+220
CVTTSCE  EQU   CVTMAP+216
CVTLNKSC EQU   CVTMAP+214
CVTQABST EQU   CVTMAP+212
CVTMDLDS EQU   CVTMAP+208
CVTUSER  EQU   CVTMAP+204
CVTABEND EQU   CVTMAP+200
CVTSMCA  EQU   CVTMAP+196
CVTRSV18 EQU   CVTMAP+192
CVTQLPAQ EQU   CVTMAP+188
CVTQCDSR EQU   CVTMAP+184
CVTRSV17 EQU   CVTOPTB
CVTRSV16 EQU   CVTOPTB
CVTFP    EQU   CVTOPTB
CVTAPTHR EQU   CVTOPTB
CVTNLOG  EQU   CVTOPTB
CVTTOD   EQU   CVTOPTB
CVTCTIMS EQU   CVTOPTB
CVTPROT  EQU   CVTOPTB
CVTXPFP  EQU   CVTOPTA
CVTASCII EQU   CVTOPTA
CVTRSV13 EQU   CVTOPTA
CVTRSV12 EQU   CVTOPTA
CVTNIP   EQU   CVTOPTA
CVTDDR   EQU   CVTOPTA
CVTAPR   EQU   CVTOPTA
CVTCCH   EQU   CVTOPTA
CVTSNCTR EQU   CVTMAP+180
CVTQMWR  EQU   CVTMAP+176
CVTQOCR  EQU   CVTMAP+172
CVT1EF00 EQU   CVTMAP+168
CVTMZ00  EQU   CVTMAP+164
CVTHEAD  EQU   CVTMAP+160
CVTRSV11 EQU   CVTMAP+156
CVT0PT01 EQU   CVTMAP+152
CVTMSER  EQU   CVTMAP+148
CVTRV516 EQU   CVTIERLC
CVTILCH  EQU   CVTMAP+140
CVT0DS   EQU   CVTMAP+136
CVTFBOSV EQU   CVTMAP+132
CVTNUCB  EQU   CVTMAP+128
CVTIXAVL EQU   CVTMAP+124
CVTIOQET EQU   CVTMAP+120
CVTDCBA  EQU   CVTMAP+117
CVTMVS2  EQU   CVTDCB
CVT6DAT  EQU   CVTDCB
CVT4MPS  EQU   CVTDCB
CVTRSV09 EQU   CVTDCB
CVT4MS1  EQU   CVTDCB
CVT2SPS  EQU   CVTDCB
CVT1SSS  EQU   CVTDCB
CVTRSV08 EQU   CVTDCB
CVTSTB   EQU   CVTMAP+112
CVTQTD00 EQU   CVTMAP+108
CVTQTE00 EQU   CVTMAP+104
CVTCUCB  EQU   CVTMAP+100
CVTSJQ   EQU   CVTMAP+96
CVTPBLDL EQU   CVTMAP+92
CVTTPC   EQU   CVTMAP+88
CVTSVDCB EQU   CVTMAP+84
CVTBRET  EQU   CVTMAP+82
CVTEXIT  EQU   CVTMAP+80
CVT0FN00 EQU   CVTMAP+76
CVTDARA  EQU   CVTDAR+1
CVTRSV07 EQU   CVTFLGS1
CVTRSV06 EQU   CVTFLGS1
CVTRSV05 EQU   CVTFLGS1
CVTRSV04 EQU   CVTFLGS1
CVTRSV03 EQU   CVTFLGS1
CVTRSV02 EQU   CVTFLGS1
CVTRSV01 EQU   CVTFLGS1
CVTDMPLK EQU   CVTFLGS1
CVTXITP  EQU   CVTMAP+68
CVTZDTAB EQU   CVTMAP+64
CVTMSLT  EQU   CVTMAP+60
CVTDATE  EQU   CVTMAP+56
CVTBTERM EQU   CVTMAP+52
CVTSYSAD EQU   CVTMAP+48
CVTXTLER EQU   CVTMAP+44
CVTILK1  EQU   CVTMAP+36
CVT0VL00 EQU   CVTMAP+24
CVTBUF   EQU   CVTMAP+16
CVTJOB   EQU   CVTMAP+12
CVTLINK  EQU   CVTMAP+8
CVT0EF00 EQU   CVTMAP+4
CVTTCBP  EQU   CVTMAP
CVT      EQU   CVTMAP
NSCHDCPU EQU   NIPSCHDL+8
NSCHDPRM EQU   NIPSCHDL+4
NSCHDPTR EQU   NIPSCHDL
@NM00080 EQU   NIPOPNPL+22
@NM00079 EQU   NIPMNTPL+21
@NM00078 EQU   NMNTFL
NIPSPEA  EQU   NIPSPE+4
NIPSPEQ  EQU   NIPSPE
NWTORMSG EQU   NWTORLST+12
@NM00077 EQU   NWTORLST+11
@NM00076 EQU   NWTORFL
NWTORFLB EQU   NWTORFL
@NM00075 EQU   NWTORFL
NWTORFLA EQU   NWTORFL
NMTORRDL EQU   NWTORLST+8
NWTORECB EQU   NWTORLST+4
NWTORRPA EQU   NWTORLST
@NM00074 EQU   NWTOFL
NWTOFLNC EQU   NWTOFL
NWTOFLNH EQU   NWTOFL
NWTOLNG  EQU   NWTOHDR
UCBERADR EQU   UCBUCS+12
UCBFCBID EQU   UCBUCS+8
UCBERCNT EQU   UCBUCS+7
UCBRSV51 EQU   UCBUCS+6
UCBRSV50 EQU   UCBFCBOP
UCBRSV49 EQU   UCBFCBOP
UCBRSV48 EQU   UCBFCBOP
UCBRSV47 EQU   UCBFCBOP
UCBRSV46 EQU   UCBFCBOP
UCBRSV45 EQU   UCBFCBOP
UCBRSV44 EQU   UCBFCBOP
UCBFCBO1 EQU   UCBFCBOP
UCBUCSPE EQU   UCBUCSOP
UCBRSV43 EQU   UCBUCSOP
UCBRSV42 EQU   UCBUCSOP
UCBRSV41 EQU   UCBUCSOP
UCBRSV40 EQU   UCBUCSOP
UCBRSV39 EQU   UCBUCSOP
UCBUCSO2 EQU   UCBUCSOP
UCBUCSO1 EQU   UCBUCSOP
UCBUCSID EQU   UCBUCS
UCBRV073 EQU   UCB3540X+7
UCBRV072 EQU   UCBDKBYT
UCBRV071 EQU   UCBDKBYT
UCBRV070 EQU   UCBDKBYT
UCBRV069 EQU   UCBDKBYT
UCBRV068 EQU   UCBDKBYT
UCBRV067 EQU   UCBDKBYT
UCBVLVER EQU   UCBDKBYT
UCBDKAMX EQU   UCBDKBYT
UCBVLSER EQU   UCB3540X
UCBRDATA EQU   UCBOCR+4
UCBFRID  EQU   UCBOCR
UCBCLN   EQU   UCBMT+14
UCBERG   EQU   UCBMT+12
UCBMS    EQU   UCBMT+11
UCBNB    EQU   UCBMT+10
UCBPW    EQU   UCBMT+9
UCBPR    EQU   UCBMT+8
UCBSIO   EQU   UCBMT+6
UCBTW    EQU   UCBMT+5
UCBTR    EQU   UCBMT+4
UCBTWT   EQU   UCBMT+3
UCBTRT   EQU   UCBMT+2
UCBCTD   EQU   UCBMT
UCBWTOID EQU   UCBCMEXT+17
UCBRV043 EQU   UCBCMEXT+16
UCBASID  EQU   UCBCMEXT+14
UCBMFCNT EQU   UCBCMEXT+12
UCBPMSK  EQU   UCBCMEXT+10
UCBCCWOF EQU   UCBCMEXT+8
UCBRV041 EQU   UCBCMEXT+6
UCBRV036 EQU   UCBFLP1
UCBRV035 EQU   UCBFLP1
UCBRV034 EQU   UCBFLP1
UCBRV033 EQU   UCBFLP1
UCBRV032 EQU   UCBFLP1
UCBRV031 EQU   UCBFLP1
UCBSHRUP EQU   UCBFLP1
UCBNSRCH EQU   UCBFLP1
UCBSNSCT EQU   UCBCMEXT+4
UCBHPDV  EQU   @NM00073
UCBHALI  EQU   @NM00073
UCBRSV09 EQU   @NM00073
UCBRSV08 EQU   @NM00073
UCBRSV07 EQU   @NM00073
UCBRSV06 EQU   @NM00073
UCBRSV05 EQU   @NM00073
UCBRSV04 EQU   @NM00073
UCBDTI   EQU   UCBCMEXT+2
UCBSTI   EQU   UCBCMEXT+1
UCBETI   EQU   UCBCMEXT
UCBEXTP  EQU   UCBEXTPT+1
UCBDDRSW EQU   UCBFLC
UCBTICBT EQU   UCBFLC
UCBIVRR  EQU   UCBFLC
UCBIVRS  EQU   UCBFLC
UCBITF   EQU   UCBFLC
UCBUDE   EQU   UCBFLC
UCBWAA   EQU   UCBFLC
UCBATTP  EQU   UCBFLC
UCBUNTYP EQU   UCBTBYT4
UCBRSV11 EQU   UCBDVCLS
UCBRSV10 EQU   UCBDVCLS
UCB3CHAR EQU   UCBDVCLS
UCB3UREC EQU   UCBDVCLS
UCB3DISP EQU   UCBDVCLS
UCB3COMM EQU   UCBDVCLS
UCBDVPWR EQU   UCB2OPT7
UCBVLPWR EQU   UCB2OPT6
UCB2OPT5 EQU   UCBTBYT2
UCBRPS   EQU   UCBDUDN2
UCBRR    EQU   UCBDUDN1
UCB2OPT1 EQU   UCBTBYT2
UCB1FEA7 EQU   UCBTBYT1
UCBD6250 EQU   UCB1FEA6
UCBD1600 EQU   UCB1FEA5
UCB1FEA4 EQU   UCBTBYT1
UCB1FEA3 EQU   UCBTBYT1
UCB1FEA2 EQU   UCBTBYT1
UCB1FEA1 EQU   UCBTBYT1
UCB1FEA0 EQU   UCBTBYT1
UCBRV029 EQU   UCBWGT
UCBVHRSN EQU   UCBWGT
UCBMTPXP EQU   UCBWGT
UCBREW   EQU   UCBWGT
UCBPUB   EQU   UCBWGT
UCBOUT   EQU   UCBWGT
UCBIN    EQU   UCBWGT
UCBCPU   EQU   UCBOB+11
UCBLCI   EQU   UCBOB+10
UCBCNT   EQU   UCBOB+9
UCBRV017 EQU   UCBCHM1
UCBRV016 EQU   UCBCHM1
UCBRV015 EQU   UCBCHM1
UCBRV014 EQU   UCBCHM1
UCBSPB   EQU   UCBPTH1
UCBPPB   EQU   UCBPTH1
UCBSPA   EQU   UCBPTH0
UCBPPA   EQU   UCBPTH0
UCBFLB7  EQU   UCBFLB
UCBVALPH EQU   UCBFLB
UCBCRHSN EQU   UCBFLB
UCBCRHRV EQU   UCBFLB
UCBRESVH EQU   UCBFLB
UCBSPST  EQU   UCBFLB
UCBASNS  EQU   UCBFLB
UCBIORST EQU   UCBFLB
UCBQISCE EQU   UCBFL1
UCBACTV  EQU   UCBFL1
UCBSAP   EQU   UCBFL1
UCBNOTRC EQU   UCBCUB
UCBPSNS  EQU   UCBFL1
UCBUSING EQU   UCBPST
UCBBUSYD EQU   UCBBSY
UCBUA    EQU   UCBCHAN+1
UCBDADI  EQU   UCBSTAT
UCBSYSR  EQU   UCBSTAT
UCBUNLD  EQU   UCBSTAT
UCBRESV  EQU   UCBSTAT
UCBCHGS  EQU   UCBSTAT
UCBID    EQU   UCBOB+2
UCBALTPH EQU   UCBFL5
UCBALTCU EQU   UCBFL5
UCBNALOC EQU   UCBFL5
UCBENVRD EQU   UCBFL5
UCBVSDR  EQU   UCBFL5
UCBSASK  EQU   UCBFL5
UCBAMV   EQU   UCBAF
UCBDCC   EQU   UCBFL5
UCBMONT  EQU   UCBJBNR
UCBRV011 EQU   UCBJBNR
UCBRSV02 EQU   UCBJBNR
UCBOLDSM EQU   UCBJBNR
UCBRV003 EQU   UCBJBNR
UCBRV002 EQU   UCBJBNR
UCBJES3  EQU   UCBJBNR
UCBVRDEV EQU   UCBJBNR
UCBCMSEG EQU   UCBOB
UCBPFXND EQU   UCB+512
UCBIOQ   EQU   UCB+508
UCBLOCK  EQU   UCB+504
UCBPXST  EQU   UCB+504
@NM00070 EQU   UCB
NIPPTSID EQU   NIPPTE+6
@NM00069 EQU   NIPPTATF
NIPPTMRG EQU   NIPPTATF
@NM00068 EQU   NIPPTOPF
NIPPTCAN EQU   NIPPTOPF
NIPPTLST EQU   NIPPTOPF
NIPPTOPI EQU   NIPPTOPF
NIPPTADR EQU   NIPPTE
PTABEND  EQU   PARMTAB+288
@NM00067 EQU   PARMTAB+284
RSU      EQU   PARMTAB+280
@NM00066 EQU   @NM00064+1
@NM00065 EQU   NIPPAFLG
NIPPAFL1 EQU   NIPPAFLG
@NM00063 EQU   PARMTAB+268
@NM00062 EQU   PARMTAB+260
WTORPLY  EQU   PARMTAB+256
@NM00061 EQU   PARMTAB+252
WTOBFRS  EQU   PARMTAB+248
@NM00060 EQU   PARMTAB+244
VRREGN   EQU   PARMTAB+240
@NM00059 EQU   PARMTAB+236
VAL      EQU   PARMTAB+232
@NM00058 EQU   PARMTAB+228
SYSP     EQU   PARMTAB+224
@NM00057 EQU   PARMTAB+220
SQA      EQU   PARMTAB+216
@NM00056 EQU   PARMTAB+212
SMF      EQU   PARMTAB+208
@NM00055 EQU   PARMTAB+204
REAL     EQU   PARMTAB+200
@NM00054 EQU   PARMTAB+196
PAGEO    EQU   PARMTAB+192
@NM00053 EQU   PARMTAB+188
PAGEP    EQU   PARMTAB+184
@NM00052 EQU   PARMTAB+180
OPT      EQU   PARMTAB+176
@NM00051 EQU   PARMTAB+172
OPI      EQU   PARMTAB+168
@NM00050 EQU   PARMTAB+164
NUCMAP   EQU   PARMTAB+160
@NM00049 EQU   PARMTAB+156
MLPA     EQU   PARMTAB+152
@NM00048 EQU   PARMTAB+148
MAXUSER  EQU   PARMTAB+144
@NM00047 EQU   PARMTAB+140
LOGLMT   EQU   PARMTAB+136
@NM00046 EQU   PARMTAB+132
LOGCLS   EQU   PARMTAB+128
@NM00045 EQU   PARMTAB+124
LNK      EQU   PARMTAB+120
@NM00044 EQU   PARMTAB+116
IPS      EQU   PARMTAB+112
@NM00043 EQU   PARMTAB+108
HARDCPY  EQU   PARMTAB+104
@NM00042 EQU   PARMTAB+100
FIX      EQU   PARMTAB+96
@NM00041 EQU   PARMTAB+92
DUMP     EQU   PARMTAB+88
@NM00040 EQU   PARMTAB+84
CVIO     EQU   PARMTAB+80
@NM00039 EQU   PARMTAB+76
CSA      EQU   PARMTAB+72
@NM00038 EQU   PARMTAB+68
CPQE     EQU   PARMTAB+64
@NM00037 EQU   PARMTAB+60
CONT     EQU   PARMTAB+56
@NM00036 EQU   PARMTAB+52
CMD      EQU   PARMTAB+48
@NM00035 EQU   PARMTAB+44
CLPA     EQU   PARMTAB+40
@NM00034 EQU   PARMTAB+36
BLDLF    EQU   PARMTAB+32
@NM00033 EQU   PARMTAB+28
BLDL     EQU   PARMTAB+24
@NM00032 EQU   PARMTAB+20
APG      EQU   PARMTAB+16
@NM00031 EQU   PARMTAB+12
APF      EQU   PARMTAB+8
PTABSTRT EQU   PARMTAB
NIPPABUF EQU   NIPPAREA+548
NIPPAPTB EQU   NIPPAREA+252
@NM00030 EQU   NIPPAREA+248
NIPPARCD EQU   NIPPAIOD+136
NIPPADEB EQU   NIPPAIOD+88
@NM00029 EQU   NIPPAECB+1
NIPPAECC EQU   NIPPAECB
NIPPADCB EQU   NIPPAIOD+80
NIPPAIOB EQU   NIPPAIOD+40
@NM00028 EQU   NIPPAIOD+37
NIPPASID EQU   NIPPAIOD+32
NIPPATXT EQU   NIPPAIOD
@NM00027 EQU   NIPPAREA+30
@NM00026 EQU   NIPPABDL+15
NIPPATTR EQU   NIPPABDL+12
NIPPANAM EQU   NIPPABDL+4
NIPPA2BF EQU   NIPPABDH
NIPPARC  EQU   NIPPAREA+8
@NM00025 EQU   NIPPAREA
NIPPABYT EQU   NIPPAHDR+4
NIPPAQ   EQU   NIPPAHDR
NVTRMSG  EQU   NVT+540
NVTRLOCK EQU   NVT+536
NVTRCODE EQU   NVT+532
@NM00024 EQU   NVT+529
@NM00023 EQU   NVTFLPO
NVTFLWS  EQU   NVTFLPO
NVTFLQS  EQU   NVTFLPO
@NM00022 EQU   NVTFLPO
NVTSYSP  EQU   NVTFLPO
NVTFLLST EQU   NVTFLPO
NVTAPQE  EQU   NVT+524
NVTFBQE2 EQU   NVT+520
NVTFBQE1 EQU   NVT+516
@NM00021 EQU   NVT+512
NVTREALR EQU   NVT+508
NVTFASVT EQU   NVT+504
NVTLPALG EQU   NVT+496
NVTVRLNG EQU   NVT+492
NVTVRREG EQU   NVT+488
NVTLVIRT EQU   NVT+484
NVTDIRA  EQU   NVT+480
NVTLPAND EQU   NVT+476
NVTRMSS  EQU   NVT+472
NVTRPQE  EQU   NVT+468
NVTRLLE  EQU   NVT+464
NVTRJPQ  EQU   NVT+460
NVTVMSS  EQU   NVT+456
NVTVPQE  EQU   NVT+452
NVTVLLE  EQU   NVT+448
NVTVJPQ  EQU   NVT+444
NVTLSEC  EQU   NVTLOCAT+4
NVTLFST  EQU   NVTLOCAT
NVTXSEC  EQU   NVTXCTL+4
NVTXFST  EQU   NVTXCTL
@NM00020 EQU   NVT+425
NVTLPACT EQU   NVT+424
NVTCSLPG EQU   NVT+420
NVTCSIOB EQU   NVT+416
NVTCSLNM EQU   NVT+412
NVTCSLIB EQU   NVT+408
NVTBLDL  EQU   NVT+404
NVTVRBLD EQU   NVT+400
@NM00019 EQU   NVT+392
NVTVRTCB EQU   NVT+388
NVTVVTCB EQU   NVT+384
NVTSPUCB EQU   NVT+382
NVTQSCNT EQU   NVT+380
NVTQSBUF EQU   NVT+376
NVTPAREA EQU   NVT+368
NVTRPAGE EQU   NVT+364
@NM00018 EQU   NVT+363
NVTABWS1 EQU   NVT+362
NVTABCD1 EQU   NVT+360
@NM00017 EQU   NVT+358
NVTCPUAD EQU   NVT+356
NVTTOD   EQU   NVT+352
NVTSPE   EQU   NVT+344
NVTMBEND EQU   NVT+340
NVTMBUF  EQU   NVT+336
NVTDCBSN EQU   NVT+332
NVTDCBOC EQU   NVT+328
NVTDCBIC EQU   NVT+324
@NM00016 EQU   NVT+308
NVTNMBLD EQU   NVT+304
NVTNIPM  EQU   NVT+292
NVTPRMPT EQU   NVT+272
NVTIX    EQU   NVTFLWSC
NVTFLWS1 EQU   NVTWPSW2+2
NVTIDPSW EQU   NVTWPSW2
NVTWPSW1 EQU   NVTWTPSW
NVTMCPSW EQU   NVT+216
@NM00015 EQU   NVT+212
@NM00014 EQU   NVTFLCN
NVTFLRAC EQU   NVTFLCN
NVTFLNCK EQU   NVTFLCN
NVTFLNHC EQU   NVTFLCN
NVTFLASM EQU   NVTFLCN
NVTMP    EQU   NVTFLCN
NVTFLIOC EQU   NVTFLCN
NVTFLAC  EQU   NVTFLCN
NVTFLSG  EQU   NVT+210
NVTTRACE EQU   NVT+208
NVTNXPTR EQU   NVT+204
NVTNXSIZ EQU   NVT+202
@NM00013 EQU   NVT+200
NVTSGPSA EQU   NVT+196
NVTN0MSG EQU   NVT+192
NVTVVPG1 EQU   NVT+188
NVTNBFND EQU   NVT+184
NVTSTMAP EQU   NVT+176
NVTRTMSA EQU   NVT+172
NVTMFASA EQU   NVT+168
NVTLSPQE EQU   NVT+164
NVTALSQA EQU   NVT+160
NVTPQSAV EQU   NVT+156
NVTSVC60 EQU   NVT+148
NVTABSEC EQU   NVTABSAV+4
NVTABFST EQU   NVTABSAV
NVTNVSQA EQU   NVT+138
NVTRSVMN EQU   NVT+136
NVTNBMIN EQU   NVT+134
NVTRGNAV EQU   NVT+132
NVTLSQNO EQU   NVT+130
NVTSQANO EQU   NVT+128
NVTLSQAS EQU   NVT+124
NVTLNGFX EQU   NVT+120
NVTIGXER EQU   NVT+116
@NM00012 EQU   NVT+112
NVTASMAD EQU   NVT+108
NVTNVRSZ EQU   NVT+104
NVTMFA   EQU   NVT+100
NVTDSSNG EQU   NVT+96
NVTMSLNK EQU   NVT+92
NVTVVMDI EQU   NVT+88
NVTIGCER EQU   NVT+84
NVTVBLDL EQU   NVT+80
NVTSVCTB EQU   NVT+76
NVTASTCB EQU   NVT+72
NVTAASCB EQU   NVT+68
NVTMASCB EQU   NVT+64
NVTCMTCB EQU   NVT+60
NVTMSTCB EQU   NVT+56
@NM00011 EQU   NVTFLLB
NVTFLSLB EQU   NVTFLLB
@NM00010 EQU   NVTNPATR
NVTNPREU EQU   NVTNPREN
@NM00009 EQU   NVTNPREN
NVTNPSFX EQU   NVT+53
@NM00008 EQU   NVT+50
NVTNPSUF EQU   NVT
IOBRSV19 EQU   IOBINCAM+1
IOBOLTST EQU   IOBBTAMF
IOBRFTMG EQU   IOBBTAMF
IOBRSV17 EQU   IOBBTAMF
IOBRSV16 EQU   IOBBTAMF
IOBRSV15 EQU   IOBBTAMF
IOBRSV14 EQU   IOBBTAMF
IOBINUSE EQU   IOBBTAMF
IOBPRMER EQU   IOBBTAMF
IOBRSTRB EQU   IOBRESTR+1
IOBREPOS EQU   IOBRESTR
IOBDCBPB EQU   IOBDCBPT+1
IOBRSV44 EQU   IOBFLAG4
IOBJES3I EQU   IOBFLAG4
IOBRSV42 EQU   IOBFLAG4
IOBRSV41 EQU   IOBFLAG4
IOBRSV40 EQU   IOBFLAG4
IOBPMERR EQU   IOBFLAG4
IOBCC3WE EQU   IOBFLAG4
IOBGDPOL EQU   IOBFLAG4
IOBSTRTB EQU   IOBSTART+1
IOBSTBYT EQU   IOBIOCSW+3
IOBCMDA  EQU   IOBIOCSW
IOBLOG   EQU   IOBFL3
IOBICL   EQU   IOBFL3
IOBMSG   EQU   IOBFL3
IOBCNC   EQU   IOBFL3
IOBACU   EQU   IOBFL3
IOBCDC   EQU   IOBFL3
IOBICC   EQU   IOBFL3
IOBCCC   EQU   IOBFL3
IOBS1B7  EQU   IOBSENS1
IOBS1B6  EQU   IOBSENS1
IOBS1B5  EQU   IOBSENS1
IOBS1B3  EQU   IOBSENS1
IOBS1B2  EQU   IOBSENS1
IOBS1B1  EQU   IOBSENS1
IOBS1B0  EQU   IOBSENS1
IOBSNSC9 EQU   IOBS0B7
IOBS0B6  EQU   IOBSENS0
IOBS0B5  EQU   IOBSENS0
IOBS0B4  EQU   IOBSENS0
IOBS0B3  EQU   IOBSENS0
IOBS0B2  EQU   IOBSENS0
IOBS0B1  EQU   IOBSENS0
IOBS0B0  EQU   IOBSENS0
IOBPNCH  EQU   IOBFLAG2
IOBSTATO EQU   IOBFLAG2
IOBSKUPD EQU   IOBFLAG2
IOBALTTR EQU   IOBFLAG2
IOBRRT2  EQU   IOBRDHA0
IOBRRT3  EQU   IOBPURGE
IOBSENSE EQU   IOBFLAG2
IOBHALT  EQU   IOBFLAG2
IOBSPSVC EQU   IOBRSTRT
IOBUNREL EQU   IOBFLAG1
IOBIOERR EQU   IOBFLAG1
IOBFCREX EQU   IOBCYCCK
IOBRPSTN EQU   IOBFLAG1
IOBERRTN EQU   IOBFLAG1
IOBCMDCH EQU   IOBFLAG1
IOBDATCH EQU   IOBFLAG1
IOBCNOPA EQU   IOBPREFX+12
IOBCICB  EQU   IOBPREFX+8
IOBCECB  EQU   IOBPREFX+4
IOBCONOP EQU   IOBPREFX+3
IOBCINOP EQU   IOBPREFX+2
IOBRSV05 EQU   IOBPREFX+1
IOBPCI   EQU   IOBCFLG1
IOBRSTCH EQU   IOBCFLG1
IOBABAPP EQU   IOBCFLG1
IOBPTST  EQU   IOBCFLG1
IOBRSV04 EQU   IOBCFLG1
IOBRSV03 EQU   IOBCFLG1
IOBRSV02 EQU   IOBCFLG1
IOBRSV01 EQU   IOBCFLG1
ECBEVNT  EQU   ECBBYTE3
@NM00007 EQU   ECBBYTE3
@NM00006 EQU   ECBEVTBA
@NM00005 EQU   ECBCC
ECBPOSTB EQU   ECBCC
ECBWAITB EQU   ECBCC
DEBXRV40 EQU   DEBXTN+28
DEBXRV39 EQU   DEBXTN+24
DEBXXARG EQU   DEBXTN+20
DEBXMCF2 EQU   DEBXTN+19
DEBXMCF1 EQU   DEBXTN+18
DEBXDSO2 EQU   DEBXTN+17
DEBXDSO1 EQU   DEBXTN+16
DEBXDBPR EQU   DEBXTN+12
DEBXDCBM EQU   DEBXTN+8
DEBXDSAB EQU   DEBXTN+4
DEBXRV48 EQU   DEBXTN+3
DEBXRV47 EQU   DEBXFLG1
DEBXRV46 EQU   DEBXFLG1
DEBXRV45 EQU   DEBXFLG1
DEBXRV44 EQU   DEBXFLG1
DEBXRV43 EQU   DEBXFLG1
DEBXRV42 EQU   DEBXFLG1
DEBXTSKC EQU   DEBXFLG1
DEBXCDCB EQU   DEBXFLG1
DEBXLNGH EQU   DEBXTN
DEBTBLOF EQU   DEBPREFX+14
DEBAMTYP EQU   DEBPREFX+13
DEBLNGTH EQU   DEBPREFX+12
DEBDCBMK EQU   DEBXTNP
DEBDSCBA EQU   DEBPREFX+1
DEBWKARA EQU   DEBPREFX
DEBXCEAD EQU   DEBXCEA+1
DEBXCENP EQU   DEBXCEAB
DEBRSV35 EQU   DEBXCEAB
DEBRSV34 EQU   DEBXCEAB
DEBRSV33 EQU   DEBXCEAB
DEBRSV32 EQU   DEBXCEAB
DEBCEAD  EQU   DEBCEA+1
DEBCENP  EQU   DEBCEAB
DEBRSV31 EQU   DEBCEAB
DEBRSV30 EQU   DEBCEAB
DEBRSV29 EQU   DEBCEAB
DEBRSV28 EQU   DEBCEAB
DEBPCIAD EQU   DEBPCIA+1
DEBPCINP EQU   DEBPCIAB
DEBRSV27 EQU   DEBPCIAB
DEBRSV26 EQU   DEBPCIAB
DEBRSV25 EQU   DEBPCIAB
DEBRSV24 EQU   DEBPCIAB
DEBSIOAD EQU   DEBSIOA+1
DEBSIONP EQU   DEBSIOAB
DEBFIX   EQU   DEBSIOAB
DEBIOVR  EQU   DEBSIOAB
DEBSIOX  EQU   DEBSIOAB
DEBPGFX  EQU   DEBSIOAB
DEBEOEAD EQU   DEBEOEA+1
DEBEOENP EQU   DEBEOEAB
DEBRSV22 EQU   DEBEOEAB
DEBRSV21 EQU   DEBEOEAB
DEBRSV20 EQU   DEBEOEAB
DEBRSV19 EQU   DEBEOEAB
DEBSUBID EQU   DEBSUBNM
DEBSIOA2 EQU   DEBACS08+24
DEBRPSIO EQU   DEBACS08+20
DEBFREED EQU   DEBACS08+16
@NM00004 EQU   DEBACS08+12
@NM00003 EQU   DEBACS08+8
DEBDISAD EQU   DEBACS08+4
@NM00002 EQU   DEBACS08
DEBRPSST EQU   DEBACS07+64
DEBARECK EQU   DEBACS07+60
DEBAREWT EQU   DEBACS07+56
DEBACHK  EQU   DEBACS07+52
DEBAWRIT EQU   DEBACS07+48
DEBASETL EQU   DEBACS07+44
DEBAREAD EQU   DEBACS07+40
DEBCRECK EQU   DEBACS07+36
DEBCREWT EQU   DEBACS07+32
DEBCCHK  EQU   DEBACS07+28
DEBCWRIT EQU   DEBACS07+24
DEBCSETL EQU   DEBACS07+20
DEBCREAD EQU   DEBACS07+16
DEBWKPT5 EQU   DEBACS07+12
DEBWKPT4 EQU   DEBACS07+8
DEBGET   EQU   DEBACS07+4
@NM00001 EQU   DEBACS07
DEBPUT   EQU   DEBACS06+4
DEBDCBFA EQU   DEBACS06
DEBLUCBB EQU   DEBLUCBA+1
DEBRSV18 EQU   DEBLUCBA
DEBFUCBB EQU   DEBFUCBA+1
DEBRSV17 EQU   DEBFUCBA
DEBTCCWB EQU   DEBTCCWA+1
DEBRSV16 EQU   DEBTCCWA
DEBTBFRB EQU   DEBTBFRA+1
DEBRSV15 EQU   DEBTBFRA
DEBDBPEF EQU   DEBACS03+8
DEBDBPP  EQU   DEBACS03+4
DEBDTPP  EQU   DEBACS03
DEBDBPE  EQU   DEBDBLK+1
DEBDBPT  EQU   DEBDBLK
DEBEXTNM EQU   DEBDSNAM
DEBRSV14 EQU   DEBDSNM+4
DEBUTSAB EQU   DEBUTSAA+1
DEBRSV13 EQU   DEBUTSAA
DEBVOLNM EQU   DEBACSMD+2
DEBVLSEQ EQU   DEBVOLSQ+1
DEBRSV42 EQU   DEBVOLBT
DEBRSV41 EQU   DEBVOLBT
DEBRSV40 EQU   DEBVOLBT
DEBRSV39 EQU   DEBVOLBT
DEBRSV38 EQU   DEBVOLBT
DEBRSV37 EQU   DEBVOLBT
DEBRSV36 EQU   DEBVOLBT
DEBEXFUL EQU   DEBVOLBT
DEBDEBID EQU   DEBPROTG
DEBECBB  EQU   DEBECBAD+1
DEBPRIOR EQU   DEBECBAD
DEBUSRPB EQU   DEBUSRPG+1
DEBRSV05 EQU   DEBBASIC+15
DEBXTNIN EQU   DEBFLGS1
DEBF1CEV EQU   DEBFLGS1
DEBCINDI EQU   DEBFLGS1
DEBRSV02 EQU   DEBFLGS1
DEBRSIOA EQU   DEBFLGS1
DEBEOFDF EQU   DEBFLGS1
DEBPWCKD EQU   DEBFLGS1
DEBQSCNT EQU   DEBBASIC+13
DEBACCS  EQU   DEBOPATB
DEBPOSIT EQU   DEBOPATB
DEBZERO  EQU   DEBOPATB
DEBABEND EQU   DEBOPATB
DEBIRBB  EQU   DEBIRBAD+1
DEBLABEL EQU   DEBOFLGS
DEBSPLIT EQU   DEBOFLGS
DEBDCB   EQU   DEBOFLGS
DEBRLSE  EQU   DEBOFLGS
DEBEOF   EQU   DEBOFLGS
DEBDISP  EQU   DEBOFLGS
DEBDEBB  EQU   DEBDEBAD+1
DEBTCBB  EQU   DEBTCBAD+1
DEBNMSUB EQU   DEBTCBAD
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RT00283 EQU   NP2BDASD
@RC00290 EQU   NP2BDCOM
@RT00356 EQU   NP2CALC
@RT00366 EQU   NP2SEXT
@RT00420 EQU   NP2EXDSD
@RC00429 EQU   NP2EXCOM
@RC00440 EQU   @EL00003
@RT00557 EQU   NP2RNCD
@RT00572 EQU   @EL00005
@RT00576 EQU   NP2OFF
@RT00593 EQU   @EL00005
@RC00599 EQU   @EL00005
@RT00659 EQU   NPA2VOL
@RT00662 EQU   MSSEXT
@RT00664 EQU   NPA2TAPE
@RC00668 EQU   NPA2MNT
@RT00678 EQU   MSSEXT
@RF00678 EQU   NPA2RTN
@RT00690 EQU   NPA2MXIT
@RT00693 EQU   NPA2MXIT
@RT00722 EQU   NPA2INV
@RT00727 EQU   NPA2UNAC
@RT00732 EQU   NPA2UNAC
@RT00749 EQU   NPA2SPEC
@RT00777 EQU   NPA2MXIT
@RF00775 EQU   NPA2MXIT
@RF00773 EQU   NPA2MNT
@RT00791 EQU   NPA2RXIT
@RT00820 EQU   NPA2RXIT
@RT00822 EQU   NPA2TUNL
@RT00824 EQU   NPA2TSET
@RT00826 EQU   NPA2TSET
@RT00858 EQU   NPB2DEB
@RT00864 EQU   NPB2RTRN
@RT00866 EQU   NPB2EXIT
@RF00866 EQU   NPB2XT
@RC00910 EQU   @RC00909
@PB00008 EQU   @EL00001
@RC00603 EQU   @RC00599
@RC00606 EQU   @RC00603
@ENDDATA EQU   *
         END   IEAVNPM3,(C'PLS0355',0603,74354)

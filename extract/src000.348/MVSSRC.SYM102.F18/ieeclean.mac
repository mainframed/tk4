         TITLE 'IEECLEAN CPU/CHANNEL CLEANUP AND ESTAE ROUTINE         *
                        '
IEECLEAN CSECT ,                                                   0001
@MAINENT DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL2(@EP00001-@MAINENT)
         DC    AL1(19)                                             0001
         DC    C'IEECLEANR0300077125'                              0001
WTORT    DS    0H                                                  0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL2(@EP00954-WTORT)
         ENTRY WTORT
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                     0001
         BALR  @08,0                                               0001
@PSTART  LA    @09,4095(,@08)                                      0001
         USING @PSTART,@08                                         0001
         USING @PSTART+4095,@09                                    0001
         L     @00,@SIZDATD                                        0001
         GETMAIN  R,LV=(0)
         LR    @07,@01                                             0001
         USING @DATD,@07                                           0001
         ST    @13,@SA00001+4                                      0001
         LM    @15,@01,16(@13)                                     0001
         ST    @07,8(,@13)                                         0001
         LR    @13,@07                                             0001
         AH    @15,4(,@15)                                         0001
         BR    @15                                                 0001
@EP00001 MVC   @PC00001(4),0(@01)                                  0001
*                                      (MAX 126 CHARS)               */
*/* ************************* END OF WPL *****************************/
*                                                                  0086
*                                                                  0086
*/****************************************************************** */
*/* MAINLINE ROUTINE WILL CHECK FOR AND ISSUE ANY MESSAGES THAT MAY  */
*/* NEED TO BE WRITTEN. A CHECK WILL BE MADE FOR SUCCESSFUL COMPLE-  */
*/* TION AND IF NECESSARY PERFORM A BACKOUT OPERATION TO RESTORE THE */
*/* SYSTEM TO IT'S ORGINAL CONDITION.                                */
*/****************************************************************** */
*                                                                  0086
*   DO;                                                            0086
*                                                                  0086
*     /***************************************************************/
*     /*                                                             */
*     /* SET UP ADDRESSABILITY TO COMMON WORK AREA SHARED BETWEEN    */
*     /* VARY CPU MAINLINE AND CLEAN UP ROUTINE                      */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0087
*     WORKPTR=WORKREG;              /* LOAD ADDRESS                  */
*                                                                  0087
         L     @12,@PC00001                                        0087
         L     WORKPTR,WORKREG(,@12)                               0087
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK FOR ERROR MESSAGES THAT HAVE BEEN SET UP PREVIOUS TO  */
*     /* PERFORMING ANY PROCESSING                                   */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0088
*     IF UNAUTH='1'B THEN           /* UNAUTHORIZED ?                */
         TM    UNAUTH(WORKPTR),B'10000000'                         0088
         BNO   @RF00088                                            0088
*       DO;                                                        0089
*         CALL WTORTN(11);          /* ISSUE MESSAGE                 */
         LA    @01,@AL00090                                        0090
         BAL   @14,WTORTN                                          0090
*         GOTO MAINTERM;            /* GO TO TERMINATION             */
         B     MAINTERM                                            0091
*       END;                                                       0092
*                                                                  0092
*     /***************************************************************/
*     /*                                                             */
*     /* SYNTAX ERROR ?                                              */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0093
*     IF INVLDSTX='1'B THEN         /* ERROR ?                       */
@RF00088 TM    INVLDSTX(WORKPTR),B'01000000'                       0093
         BNO   @RF00093                                            0093
*       DO;                                                        0094
*         CALL WTORTN(12);          /* ISSUE MESSAGE                 */
         LA    @01,@AL00095                                        0095
         BAL   @14,WTORTN                                          0095
*         GOTO MAINTERM;            /* GO TO TERMINATION             */
         B     MAINTERM                                            0096
*       END;                                                       0097
*                                                                  0097
*     /***************************************************************/
*     /*                                                             */
*     /* V/CPU ON A UNIPROCESSOR?                                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0098
*     IF UNIPROC='1'B THEN          /* ERROR ?                       */
@RF00093 TM    UNIPROC(WORKPTR),B'01000000'                        0098
         BNO   @RF00098                                            0098
*       DO;                                                        0099
*         CALL WTORTN(26);          /* INVALID COMMAND FOR         0100
*                                      UNIPROCESSOR                  */
         LA    @01,@AL00100                                        0100
         BAL   @14,WTORTN                                          0100
*         GOTO MAINTERM;            /* GOTO TERMINATION              */
         B     MAINTERM                                            0101
*       END;                                                       0102
*                                                                  0102
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK FOR A VARY CHANNEL COMMAND WITH THE SUBJECT CPU       */
*     /* OFFLINE                                                     */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0103
*     IF CHCPUOFF='1'B THEN         /* CPU FOR THIS CHANNEL OFFLINE  */
@RF00098 TM    CHCPUOFF(WORKPTR),B'00001000'                       0103
         BNO   @RF00103                                            0103
*       DO;                                                        0104
*         CALL WTORTN(15);          /* CPU FOR CHANNEL IS OFFLINE    */
         LA    @01,@AL00105                                        0105
         BAL   @14,WTORTN                                          0105
*         GOTO MAINTERM;            /* PROCESSING IS COMPLETE        */
         B     MAINTERM                                            0106
*       END;                                                       0107
*                                                                  0107
*     /***************************************************************/
*     /*                                                             */
*     /* WAS A INVALID CHANNEL NUMBER SPECIFIED?                     */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0108
*     IF CHINV='1'B THEN            /* INVALID CHANNEL ERROR?        */
@RF00103 TM    CHINV(WORKPTR),B'00000001'                          0108
         BNO   @RF00108                                            0108
*       DO;                                                        0109
*         CALL WTORTN(28);          /* INVALID CHANNEL MSG.          */
         LA    @01,@AL00110                                        0110
         BAL   @14,WTORTN                                          0110
*         GOTO MAINTERM;            /* EXIT, FINISHED.               */
         B     MAINTERM                                            0111
*       END;                                                       0112
*                                                                  0112
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK FOR CPU UNRESPONSIVE ERROR FLAG                       */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0113
*     IF CRHNCPU='1'B THEN          /* CPU UNRESPONSIVE?     @Y30CQXA*/
@RF00108 TM    CRHNCPU(WORKPTR),B'01000000'                        0113
         BNO   @RF00113                                            0113
*       DO;                         /*                       @Y30CQXA*/
*         CALL WTORTN(22);          /* CPU DID NOT RESPOND   @Y30CQXA*/
         LA    @01,@AL00115                                        0115
         BAL   @14,WTORTN                                          0115
*         GOTO MAINTERM;            /* END OF PROCESSING     @Y30CQXA*/
         B     MAINTERM                                            0116
*       END;                        /*                       @Y30CQXA*/
*                                                                  0117
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF CHANNEL IS ALREADY OFFLINE. ISSUE OFFLINE MESSAGE  */
*     /* IF SO.                                                      */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0118
*     IF CRHNCHN='1'B THEN          /* CHANNEL OFFLINE ALREADY?    0118
*                                                            @Y30CQXA*/
@RF00113 TM    CRHNCHN(WORKPTR),B'00100000'                        0118
         BNO   @RF00118                                            0118
*       DO;                         /*                       @Y30CQXA*/
*         CALL WTORTN(5);           /* OFFLINE MESSAGE       @Y30CQXA*/
         LA    @01,@AL00120                                        0120
         BAL   @14,WTORTN                                          0120
*         GOTO MAINTERM;            /* EXIT                  @Y30CQXA*/
         B     MAINTERM                                            0121
*       END;                        /*                       @Y30CQXA*/
*/*  CHECK FOR KEEPCHAN NOT SUPPORTED.          @G557P2L             */
*                                                                  0123
*     IF NOKPCHAN='1'B THEN                                        0123
@RF00118 TM    NOKPCHAN(WORKPTR),B'00010000'                       0123
         BNO   @RF00123                                            0123
*       DO;                         /* KEEPCHAN NOT SUPPORTED?     0124
*                                                            @G557P2L*/
*         CALL WTORTN(32);          /* KEEPCHAN NOT SUPPORTED      0125
*                                      MESSAGE.              @G557P2L*/
         LA    @01,@AL00125                                        0125
         BAL   @14,WTORTN                                          0125
*         GOTO MAINTERM;            /* EXIT                  @G557P2L*/
         B     MAINTERM                                            0126
*       END;                        /*                       @G557P2L*/
*                                                                  0127
*     /***************************************************************/
*     /*                                                             */
*     /* DID PROCESSING GET AS FAR AS ENQING ON SYSZVARY             */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0128
*     IF RECONENQ^='1'B THEN        /* DID WE START PROCESSING?      */
@RF00123 TM    RECONENQ(WORKPTR),B'01000000'                       0128
         BO    @RF00128                                            0128
*       DO;                                                        0129
*         CALL WTORTN(13);          /* COMMAND PROCESSOR FAILED      */
         LA    @01,@AL00130                                        0130
         BAL   @14,WTORTN                                          0130
*         GOTO MAINTERM;            /* GO TO TERMINATION             */
         B     MAINTERM                                            0131
*       END;                                                       0132
*                                                                  0132
*     /***************************************************************/
*     /*                                                             */
*     /* DETERMINE IF A VARY CPU OR CHANNEL COMMAND WAS ISSUED       */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0133
*     IF CHNIND^='1'B THEN          /* CPU COMMAND?                  */
@RF00128 TM    CHNIND(WORKPTR),B'10000000'                         0133
         BO    @RF00133                                            0133
*       DO;                                                        0134
*                                                                  0134
*         /***********************************************************/
*         /*                                                         */
*         /* WAS A VARY CPU COMMAND. DETERMINE IF A ONLINE OR OFFLINE*/
*         /* COMMAND                                                 */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0135
*         IF ONLINE='1'B THEN       /* ONLINE COMMAND ?              */
         TM    ONLINE(WORKPTR),B'00100000'                         0135
         BNO   @RF00135                                            0135
*           CALL CPUONLIN;          /* CALL ONLINE PROCESSOR         */
         BAL   @14,CPUONLIN                                        0136
*         ELSE                                                     0137
*           CALL CPUOFFLN;          /* CALL OFFLINE PROCESSOR        */
*                                                                  0137
         B     @RC00135                                            0137
@RF00135 BAL   @14,CPUOFFLN                                        0137
*         /***********************************************************/
*         /*                                                         */
*         /* SET UP DO LOOP TO DETECT SHARED DEVICES         @ZA00805*/
*         /*                                                         */
*         /***********************************************************/
*                                                                  0138
*         DO UCBLKPTR=CVTILK2 BY 2 WHILE(UCBTAB^='FFFF'X);/* @ZA00805*/
@RC00135 L     @12,CVTPTR                                          0138
         L     UCBLKPTR,CVTILK2(,@12)                              0138
         B     @DE00138                                            0138
@DL00138 DS    0H                                                  0139
*           IF UCBTAB^='0000'X THEN /* CHECK FOR DUMMY ENTRY @ZA00805*/
         SLR   @12,@12                                             0139
         ICM   @12,3,UCBTAB(UCBLKPTR)                              0139
         LTR   @12,@12                                             0139
         BZ    @RF00139                                            0139
*             DO;                   /* CONTINUE PROCESSING IF NOT  0140
*                                      DUMMY                 @ZA00805*/
*               RFY                                                0141
*                (R10,                                             0141
*                 R11,                                             0141
*                 R12) RSTD;        /* RESTRICT REGISTERS    @ZA00805*/
*               R10=UCBTAB;         /* PICK UP UCB ADDRESS   @ZA00805*/
         SLR   @03,@03                                             0142
         ICM   @03,3,UCBTAB(UCBLKPTR)                              0142
         LR    R10,@03                                             0142
*               GEN REFS(UCBOB,UCBTBYT2,UCBTBYT3,UCBSTAT,UCBSQC,UCBFLP1
*                   ,CSDCPUOL)                                     0143
*                   (IOSGEN DETECTOR,UCB=(10),REG=(11,12),VAR=2);/*
*                                                            @ZA00805*/
         IOSGEN DETECTOR,UCB=(10),REG=(11,12),VAR=2
*               RFY                                                0144
*                (R10,                                             0144
*                 R11,                                             0144
*                 R12) UNRSTD;      /* RELEASE REGISTERS     @ZA00805*/
*             END;                  /* END OF PROCESSING TO DETECT 0145
*                                      SHARED DEVICES        @ZA00805*/
*         END;                      /* END OF UCB SCAN       @ZA00805*/
@RF00139 AH    UCBLKPTR,@CH00047                                   0146
@DE00138 CLC   UCBTAB(2,UCBLKPTR),@CH02819                         0146
         BNE   @DL00138                                            0146
*       END;                                                       0147
*                                                                  0147
*     /***************************************************************/
*     /*                                                             */
*     /* COMMAND WAS A VARY CHANNEL. DETERMINE IF CPU WAS OFFLINE    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0148
*     ELSE                                                         0148
*       DO;                                                        0148
*                                                                  0148
         B     @RC00133                                            0148
@RF00133 DS    0H                                                  0149
*         /***********************************************************/
*         /*                                                         */
*         /* DETERMINE IF COMMAND WAS ONLINE OR OFFLINE AND BACKOUT  */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0149
*         IF ONLINE='1'B THEN       /* ONLINE COMMAND                */
         TM    ONLINE(WORKPTR),B'00100000'                         0149
         BNO   @RF00149                                            0149
*           CALL CHONLIN;           /* CALL CHANNEL ONLINE PROCESSOR */
         BAL   @14,CHONLIN                                         0150
*         ELSE                                                     0151
*           CALL CHOFFLIN;          /* CALL CHANNEL OFFLINE PROCESSOR*/
         B     @RC00149                                            0151
@RF00149 BAL   @14,CHOFFLIN                                        0151
*       END;                                                       0152
*                                                                  0152
@RC00149 DS    0H                                                  0153
*     /***************************************************************/
*     /*                                                             */
*     /* RELEASE SYSZVARY RESOURCE AND FREE ANY STORAGE OBTAINED     */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0153
*RECONEXT:                                                         0153
*     GEN(DEQ  (RCNENQQ,RCNENQR,3,SYSTEM));/* RELEASE RESOURCE       */
@RC00133 DS    0H                                                  0153
RECONEXT DEQ  (RCNENQQ,RCNENQR,3,SYSTEM)
*     RFY                                                          0154
*      (R1,                                                        0154
*       R10,                                                       0154
*       R11,                                                       0154
*       R12) RSTD;                  /* RESTRICT REGISTERS            */
*                                                                  0154
*     /***************************************************************/
*     /*                                                             */
*     /* RELEASE FRAMES FIXED IN MAINLINE PROCESSOR                  */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0155
*     R10=ADDR(IEEVWKUP);           /* MAIN ENTRY ADDRESS            */
         L     R10,@CV00085                                        0155
*     R11=ADDR(IEECLEAN);           /* END ADDRESS FOR FREE          */
         L     R11,@CA00028                                        0156
*     R12=ADDR(PGFXECB);            /* ECB ADDRESS FOR FREE          */
         LA    R12,PGFXECB(,WORKPTR)                               0157
*     GEN(PGFREE R,A=(10),EA=(11),ECB=(12));/* FREE FRAMES           */
         PGFREE R,A=(10),EA=(11),ECB=(12)
*     R10=DATAREG1;                 /* ADDRESS OF MAINLINE WORKAREA  */
         L     R10,DATAREG1(,WORKPTR)                              0159
*     R11=DATAEND;                  /* LOAD DATA AREA END ADDRESS    */
         L     R11,DATAEND(,WORKPTR)                               0160
*     R12=ADDR(PGFXECB);            /* ADDRESS OF ECB                */
*                                                                  0161
         LA    R12,PGFXECB(,WORKPTR)                               0161
*     /***************************************************************/
*     /*                                                             */
*     /* FREE WORK AREA PAGES FIXED                                  */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0162
*     GEN(PGFREE R,A=(10),EA=(11),ECB=(12));/* FREE FRAMES           */
*                                                                  0162
         PGFREE R,A=(10),EA=(11),ECB=(12)
*     /***************************************************************/
*     /*                                                             */
*     /* DELETE USE COUNT FOR MODULE IEEVDEV & IECVIOPM IF LOAD WAS  */
*     /* NOT ISSUED WILL RECEIVE A ERROR RETURN CODE. IGNORE         */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0163
*     GEN(DELETE  EP=IEEVDEV);      /* DELETE IEEVDEV                */
         DELETE  EP=IEEVDEV
*     GEN(DELETE  EP=IECVIOPM);     /* DELETE IECVIOPM       @YM05433*/
*                                                                  0164
         DELETE  EP=IECVIOPM
*     /***************************************************************/
*     /*                                                             */
*     /* CALL FREECORE ROUTINE TO FREE ANY STORAGE CHAINED OFF OF THE*/
*     /* WORK AREA POINTERS                                          */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0165
*     CALL FREECORE;                /* LINK TO FREE CORE ROUTINE     */
         BAL   @14,FREECORE                                        0165
*MAINTERM:                                                         0166
*     R1=CSCBPTR;                   /* GET CSCB ADDRESS              */
MAINTERM L     @15,CSCBPTR(,WORKPTR)                               0166
         LR    R1,@15                                              0166
*     CHFC='1'B;                    /* SET RELEASE BIT               */
         OI    CHFC(@15),B'00000010'                               0167
*     GEN(MGCR  (1),CHAIN);         /* FREE CSCB                     */
         MGCR  (1),CHAIN
*     RETURN;                       /* RETURN TO MAINLINE            */
@EL00001 L     @13,4(,@13)                                         0169
@EF00001 L     @00,@SIZDATD                                        0169
         LR    @01,@07                                             0169
         FREEMAIN R,LV=(0),A=(1)
@ER00001 LM    @14,@12,12(@13)                                     0169
         BR    @14                                                 0169
*     RFY                                                          0170
*      (R1,                                                        0170
*       R10,                                                       0170
*       R11,                                                       0170
*       R12) UNRSTD;                /* RELEASE REGISTERS             */
*   END;                                                           0171
*CHONLIN:                                                          0172
*   PROC;                                                          0172
*                                                                  0172
CHONLIN  STM   @14,@12,@SA00002                                    0172
*/*****************************************************************  */
*/* CHONLINE ROUTINE WILL MONITOR THE CLEANUP OPERATION OF A VARY    */
*/* CHANNEL ONLINE OPERATION. ANY NECESSARY MESSAGES WILL BE WRITTEN */
*/* AND IF NECESSARY WILL BACK OUT OF THE VARY OPERATION             */
*/*****************************************************************  */
*                                                                  0173
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF OPERATION WENT TO SUCESSFUL COMPLETION               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0173
*   IF CHONLINE^='1'B&CHNTOPER='1'B THEN/* SUCCESSFUL?               */
         TM    CHONLINE(WORKPTR),B'00000010'                       0173
         BO    @RF00173                                            0173
         TM    CHNTOPER(WORKPTR),B'00000001'                       0173
         BNO   @RF00173                                            0173
*     CALL WTORTN(17);              /* ISSUE NOT OPERATIONAL MESSAGE */
         LA    @01,@AL00174                                        0174
         BAL   @14,WTORTN                                          0174
*   ELSE                                                           0175
*     DO;                                                          0175
*                                                                  0175
         B     @RC00173                                            0175
@RF00173 DS    0H                                                  0176
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF CHANNEL WAS ONLINE WHEN ENTERED. IF SO WRITE     */
*       /* CHANNEL ONLINE MESSAGE AND EXIT                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0176
*       IF CHISON='1'B THEN         /* WAS CHANNEL ON?               */
         TM    CHISON(WORKPTR),B'00001000'                         0176
         BNO   @RF00176                                            0176
*         DO;                                                      0177
*           CALL WTORTN(3);         /* ISSUE ONLINE MESSAGE          */
         LA    @01,@AL00178                                        0178
         BAL   @14,WTORTN                                          0178
*           GOTO CHONEXIT;          /* COMPLETE. EXIT                */
         B     CHONEXIT                                            0179
*         END;                                                     0180
*                                                                  0181
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR ERROR TRYING TO ACTIVATE CRH HARDWARE           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0181
*       IF CRHFAIL='1'B THEN        /* ERROR?                @Y30CQXA*/
@RF00176 TM    CRHFAIL(WORKPTR),B'10000000'                        0181
         BNO   @RF00181                                            0181
*         DO;                       /*                       @Y30CQXA*/
*           CALL WTORTN(29);        /* ISSUE CRH NOT ACTIVATED     0183
*                                                            @Y30CQXA*/
*                                                                  0183
         LA    @01,@AL00183                                        0183
         BAL   @14,WTORTN                                          0183
*           /*********************************************************/
*           /*                                                       */
*           /* ACTIVATION HAS FAILED, INSURE CHANNEL IS MARKED       */
*           /* OFFLINE.                                              */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0184
*           PCCAPTR=PCCAT00P(HEXCPUAD+1);/* PCCA ADDRESS     @Y30CQXA*/
         SLR   @12,@12                                             0184
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0184
         SLA   @12,2                                               0184
         L     @02,CVTPTR                                          0184
         L     @02,CVTPCCAT(,@02)                                  0184
         L     PCCAPTR,PCCAT00P(@12,@02)                           0184
*           CATPTR=ADDR(PCCACAT)+(HEXCHNAD*8);/* CAT TABLE ADDRESS 0185
*                                                            @Y30CQXA*/
         LA    CATPTR,PCCACAT(,PCCAPTR)                            0185
         SLR   @12,@12                                             0185
         ICM   @12,3,HEXCHNAD(WORKPTR)                             0185
         SLA   @12,3                                               0185
         ALR   CATPTR,@12                                          0185
*           CATNOP='1'B;            /* MARK CHANNEL OFFLINE  @Y30CQXA*/
         OI    CATNOP(CATPTR),B'01000000'                          0186
*           GO TO CHONEXIT;         /* RETURN TO CALLER      @G47AN2O*/
         B     CHONEXIT                                            0187
*         END;                                                     0188
*                                                                  0188
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF SS/1 ASSOCIATION FAILED AND IF SO INFORM OPERATOR*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0189
*       IF SS1FAIL='1'B THEN        /* ASSOCIATE FAIL?       @Y30LPXA*/
@RF00181 TM    SS1FAIL(WORKPTR),B'00010000'                        0189
         BNO   @RF00189                                            0189
*         CALL WTORTN(30);          /* ISSUE FAILED MESSAGE  @Y30LPXA*/
*                                                                  0190
         LA    @01,@AL00190                                        0190
         BAL   @14,WTORTN                                          0190
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF CHANNEL IS ONLINE AND ISSUE SMF RECORDS IF NEEDED*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0191
*       CALL BACKOFF;               /* GO TO BACKOFF ROUTINE         */
*                                                                  0191
@RF00189 BAL   @14,BACKOFF                                         0191
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR ANY ERRORS DURING PROCESSING                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0192
*       IF ERRORIND^=0 THEN         /* ANY ERRORS ?                  */
         ICM   @12,15,ERRORIND(WORKPTR)                            0192
         BZ    @RF00192                                            0192
*         CALL WTORTN(13);          /* ISSUE PROCESSOR FAILED MESSAGE*/
         LA    @01,@AL00193                                        0193
         BAL   @14,WTORTN                                          0193
*       ELSE                                                       0194
*                                                                  0194
*         /***********************************************************/
*         /*                                                         */
*         /* GO ISSUE SMF RECORDS AND COMPLETION MESSAGES            */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0194
*         CALL SPCLTEST;            /* GO TO SPC. PROCESSING ROUTINE */
         B     @RC00192                                            0194
@RF00192 BAL   @14,SPCLTEST                                        0194
*     END;                                                         0195
*CHONEXIT:                                                         0196
*   END;                            /* END OF CHONLINE CLEANUP     0196
*                                      ROUTINE                       */
@EL00002 DS    0H                                                  0196
@EF00002 DS    0H                                                  0196
@ER00002 LM    @14,@12,@SA00002                                    0196
         BR    @14                                                 0196
*SPCLTEST:                                                         0197
*   PROC;                                                          0197
*                                                                  0197
SPCLTEST STM   @14,@12,@SA00003                                    0197
*/****************************************************************** */
*/* SPCLTEST ROUTINE WILL ISSUE COMPLETION MESSAGES FOR ALL CLEANUP  */
*/* ROUTINES AND ISSUE OPTIMIZER EVENT IF NEEDED                     */
*/****************************************************************** */
*                                                                  0198
*   DO;                                                            0198
*                                                                  0198
*     /***************************************************************/
*     /*                                                             */
*     /* VERIFY THAT ALL DEVICES POSSIBLE WERE BROUGHT ONLINE AND IF */
*     /* NOT ISSUE MESSAGE TO OPERATIOR INFORMING HIM OF FAILURE     */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0199
*     IF DEVNOTON='1'B THEN         /* FAILURE ?                     */
         TM    DEVNOTON(WORKPTR),B'01000000'                       0199
         BNO   @RF00199                                            0199
*       CALL WTORTN(18);            /* CALL WTORTN                   */
*                                                                  0200
         LA    @01,@AL00200                                        0200
         BAL   @14,WTORTN                                          0200
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK FOR ANY ERRORS WRITING SMF RECORDS AND ISSUE MESSAGE  */
*     /* IF ERROR WAS ENCOUNTERED                                    */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0201
*     IF SMFRCER='1'B THEN          /* SMF RECORD ERROR ?            */
@RF00199 TM    SMFRCER(WORKPTR),B'00000100'                        0201
         BNO   @RF00201                                            0201
*       CALL WTORTN(19);            /* ISSUE ERROR MESSAGE           */
*                                                                  0202
         LA    @01,@AL00202                                        0202
         BAL   @14,WTORTN                                          0202
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK FOR CHANNEL/CPU ONLINE/OFFLINE COMMAND AND ISSUE      */
*     /* MESSAGES FOR SUCCESSFUL COMPLETION                          */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0203
*     IF ONLINE^='1'B THEN          /* OFFLINE COMMAND ?             */
@RF00201 TM    ONLINE(WORKPTR),B'00100000'                         0203
         BO    @RF00203                                            0203
*       DO;                                                        0204
*                                                                  0204
*         /***********************************************************/
*         /*                                                         */
*         /* CHANNEL OR CPU ?                                        */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0205
*         IF CHNIND='1'B THEN       /* CHANNEL ?                     */
         TM    CHNIND(WORKPTR),B'10000000'                         0205
         BNO   @RF00205                                            0205
*           CALL WTORTN(5);         /* CHANNEL OFFLINE MESSAGE       */
         LA    @01,@AL00206                                        0206
         BAL   @14,WTORTN                                          0206
*         ELSE                                                     0207
*                                                                  0207
*           /*********************************************************/
*           /*                                                       */
*           /* CPU COMMAND                                           */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0207
*           CALL WTORTN(6);         /* CPU OFFLINE MESSAGE           */
         B     @RC00205                                            0207
@RF00205 LA    @01,@AL00207                                        0207
         BAL   @14,WTORTN                                          0207
*       END;                        /* END OF OFFLINE PROCESSING     */
*     ELSE                                                         0209
*                                                                  0209
*       /*************************************************************/
*       /*                                                           */
*       /* WAS NOT OFFLINE COMMAND MUST THEN BE ONLINE CHECK IF CPU  */
*       /* OR CHANNEL COMMAND                                        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0209
*       IF CHNIND='1'B THEN         /* CHANNEL COMMAND ?             */
         B     @RC00203                                            0209
@RF00203 TM    CHNIND(WORKPTR),B'10000000'                         0209
         BNO   @RF00209                                            0209
*         CALL WTORTN(3);           /* CHANNEL ONLINE MESSAGE        */
         LA    @01,@AL00210                                        0210
         BAL   @14,WTORTN                                          0210
*       ELSE                                                       0211
*         DO;                                                      0211
*                                                                  0211
         B     @RC00209                                            0211
@RF00209 DS    0H                                                  0212
*           /*********************************************************/
*           /*                                                       */
*           /* WAS CPU ONLINE COMMAND CHECK IF CPU WAS ALREADY ONLINE*/
*           /*                                                       */
*           /*********************************************************/
*                                                                  0212
*           IF CPUONOK='1'B THEN    /* WAS CPU NOT ALREADY ONLINE    */
         TM    CPUONOK(WORKPTR),B'01000000'                        0212
         BNO   @RF00212                                            0212
*             CALL WTORTN(4);       /* CPU ONLINE MESSAGE            */
         LA    @01,@AL00213                                        0213
         BAL   @14,WTORTN                                          0213
*           ELSE                                                   0214
*                                                                  0214
*             /*******************************************************/
*             /*                                                     */
*             /* CPU WAS ALREADY ONLINE DO NOT ISSUE OPTIMIZER EVENT */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0214
*             GOTO SPCLEXIT;        /* EXIT                          */
*         END;                      /* END OF CPU ONLINE PROCESSING  */
*                                                                  0215
*     /***************************************************************/
*     /*                                                             */
*     /* ISSUE OPTIMIZER EVENT FOR CHANNEL OR PROCESSOR REPRESENTED  */
*     /* BY SMF RECORD                                               */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0216
*     RFY                                                          0216
*      (R1) RSTD;                   /* RESTRICT REGISTER ONE         */
@RC00209 DS    0H                                                  0216
@RC00203 DS    0H                                                  0217
*     R1=SMF22PTR;                  /* LOAD ADDRESS OF SMF RECORD    */
         LR    R1,SMF22PTR                                         0217
*     GEN(SYSEVENT CONFIGCH );                                     0218
         SYSEVENT CONFIGCH
*     RFY                                                          0219
*      (R1) UNRSTD;                 /* RELEASE REGISTER ONE          */
*SPCLEXIT:                                                         0220
*   END;                            /* END OF SPECIAL TEST           */
*   END;                            /* END OF PROC                   */
@EL00003 DS    0H                                                  0221
@EF00003 DS    0H                                                  0221
@ER00003 LM    @14,@12,@SA00003                                    0221
         BR    @14                                                 0221
*CHOFFLIN:                                                         0222
*   PROC;                                                          0222
*                                                                  0222
CHOFFLIN STM   @14,@12,@SA00004                                    0222
*/*****************************************************************  */
*/* CHOFFLINE ROUTINE WILL MONITOR THE VARY CHANNEL OFFLINE FUNCTION */
*/* AND ISSUE ANY REQUIRED MESSAGES. IF NECESSARY BACKOUT PROCESSING */
*/* WILL BE PERFORMED                                                */
*/****************************************************************** */
*                                                                  0223
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR SUCESSFUL OFFLINE PROCESSING AND ISSUE SMF RECORDS  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0223
*   IF CHOFFOK='1'B THEN            /* SUCESSFUL ?                   */
         TM    CHOFFOK(WORKPTR),B'00000100'                        0223
         BNO   @RF00223                                            0223
*     DO;                                                          0224
*       CALL DEVSMFRC;              /* ISSUE DEVICE SMF RECORDS      */
         BAL   @14,DEVSMFRC                                        0225
*       CALL CHCPUSMF;              /* ISSUE CHANNEL/CPU SMF RECORDS */
         BAL   @14,CHCPUSMF                                        0226
*       CALL SPCLTEST;              /* WRITE OFFLINE MESSAGES        */
         BAL   @14,SPCLTEST                                        0227
*     END;                                                         0228
*   ELSE                                                           0229
*                                                                  0229
*     /***************************************************************/
*     /*                                                             */
*     /* WAS NOT SUCCESSFUL CHECK FOR ERRORS AND BACK OUT            */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0229
*     DO;                                                          0229
*                                                                  0229
         B     @RC00223                                            0229
@RF00223 DS    0H                                                  0230
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF OPERATOR CANCELED COMMAND                        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0230
*       IF OPERCNCL='1'B THEN       /* OPERATOR CANCEL COMMAND       */
         TM    OPERCNCL(WORKPTR),B'00100000'                       0230
         BNO   @RF00230                                            0230
*         DO;                                                      0231
*           CALL WTORTN(20);        /* OPERATOR CANCEL MESSAGE       */
         LA    @01,@AL00232                                        0232
         BAL   @14,WTORTN                                          0232
*           GOTO CHOFBACK;          /* GO BACK OUT                   */
         B     CHOFBACK                                            0233
*         END;                                                     0234
*                                                                  0234
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF A NOCONSOLE CONDITION WAS FORCED                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0235
*       IF NOCNSOLE='1'B THEN       /* NO CONSOLE ?                  */
@RF00230 TM    NOCNSOLE(WORKPTR),B'01000000'                       0235
         BNO   @RF00235                                            0235
*         DO;                                                      0236
*           CALL WTORTN(21);        /* NO CONSOLE MESSAGE            */
         LA    @01,@AL00237                                        0237
         BAL   @14,WTORTN                                          0237
*           GOTO CHOFBACK;          /* GO BACK OUT                   */
         B     CHOFBACK                                            0238
*         END;                                                     0239
*                                                                  0239
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR LAST PATH CONDITION                             */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0240
*       IF LASTPATH='1'B THEN       /* LAST PATH?                    */
@RF00235 TM    LASTPATH(WORKPTR),B'00000010'                       0240
         BNO   @RF00240                                            0240
*         DO;                                                      0241
*           CALL WTORTN(7);         /* LAST PATH MESSAGE             */
         LA    @01,@AL00242                                        0242
         BAL   @14,WTORTN                                          0242
*           GOTO CHOFBACK;          /* GO BACK OUT                   */
         B     CHOFBACK                                            0243
*         END;                                                     0244
*                                                                  0244
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR RESERVE OUTSTANDING CONDITION                   */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0245
*       IF PATHRSVD='1'B THEN       /* RESERVE OUTSTANDING?          */
@RF00240 TM    PATHRSVD(WORKPTR),B'00001000'                       0245
         BNO   @RF00245                                            0245
*         DO;                                                      0246
*           CALL WTORTN(10);        /* RESERVE OUTSTANDING           */
         LA    @01,@AL00247                                        0247
         BAL   @14,WTORTN                                          0247
*           GOTO CHOFBACK;          /* GO BACK OUT                   */
         B     CHOFBACK                                            0248
*         END;                                                     0249
*                                                                  0249
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR SYSTEM FAILURE WHILE WAITING FOR CONSOLES TO BE */
*       /* SWITCHED                                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0250
*       IF SYSFAIL='1'B THEN        /* ACR REMOVE A CPU?             */
@RF00245 TM    SYSFAIL(WORKPTR),B'00000100'                        0250
         BNO   @RF00250                                            0250
*         DO;                                                      0251
*           CALL WTORTN(27);        /* ISSUE SYSTEM FAILURE MESSAGE  */
         LA    @01,@AL00252                                        0252
         BAL   @14,WTORTN                                          0252
*           GOTO CHOFBACK;          /* GO BACK OUT                   */
         B     CHOFBACK                                            0253
*         END;                                                     0254
*                                                                  0254
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR ANY POSSIBLE CONDITION THAT WILL CAUSE CP FAILED*/
*       /* POSSIBLE CONDITIONS ARE: CPFAILED, DEVSUBGO, NOCORE       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0255
*       IF NOCORE='1'BCPFAILED='1'BDEVSUBGO='1'B THEN/* ANY ERROR
*                                      FLAGS?                        */
@RF00250 TM    NOCORE(WORKPTR),B'00000101'                         0255
         BNZ   @RT00255                                            0255
         TM    DEVSUBGO(WORKPTR),B'00010000'                       0255
         BNO   @RF00255                                            0255
@RT00255 DS    0H                                                  0256
*         DO;                                                      0256
*           CALL WTORTN(13);        /* COMMAND PROCESSOR FAILED      */
         LA    @01,@AL00257                                        0257
         BAL   @14,WTORTN                                          0257
*           GOTO CHOFBACK;          /* GO BACK OUT                   */
         B     CHOFBACK                                            0258
*         END;                                                     0259
*                                                                  0259
*       /*************************************************************/
*       /*                                                           */
*       /* ALL POSSIBLE ERROR FLAGS HAVE BEEN CHECKED IF OFFALRDY IS */
*       /* NOT SET AT THIS POINT THEN THE COMMAND PROCESSOR HAS      */
*       /* FAILED. WRITE ERROR MESSAGE AND BACK OUT                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0260
*       IF OFFALRDY^='1'B THEN      /* OFFLINE ALREADY ?             */
@RF00255 TM    OFFALRDY(WORKPTR),B'00100000'                       0260
         BO    @RF00260                                            0260
*         DO;                                                      0261
*           CALL WTORTN(13);        /* COMMAND PROCESSOR FAILED      */
         LA    @01,@AL00262                                        0262
         BAL   @14,WTORTN                                          0262
*           GOTO CHOFBACK;          /* BACK OUT                      */
         B     CHOFBACK                                            0263
*         END;                                                     0264
*       ELSE                                                       0265
*         DO;                                                      0265
@RF00260 DS    0H                                                  0266
*           CALL SPCLTEST;          /* WRITE OFFLINE MESSAGE         */
         BAL   @14,SPCLTEST                                        0266
*           GOTO CHOFEXIT;          /* RETURN TO NEXT LEVEL          */
         B     CHOFEXIT                                            0267
*         END;                                                     0268
*CHOFBACK:                                                         0269
*       CALL BACKOUT;               /* BACK OUT FROM VARY            */
CHOFBACK BAL   @14,BACKOUT                                         0269
*CHOFEXIT:                                                         0270
*     END;                          /* END OF DO ROUTINE             */
*   END;                            /* * END OF CHOFFLIN PROC        */
@EL00004 DS    0H                                                  0271
@EF00004 DS    0H                                                  0271
@ER00004 LM    @14,@12,@SA00004                                    0271
         BR    @14                                                 0271
*BACKOUT:                                                          0272
*   PROC;                                                          0272
*                                                                  0272
BACKOUT  STM   @14,@12,@SA00005                                    0272
*/****************************************************************** */
*/* BACKOUT ROUTINE WILL BACK OUT OF A VARY CPU OR VARY CHANNEL      */
*/* OFFLINE COMMAND. CHANNELS WILL BE RETURNED TO THERE FORMER STATUS*/
*/* AND ANY DEVICES THAT HAVE BEEN TAKEN OFFLINE WILL BE BROUGHT BACK*/
*/* ONLINE.                                                          */
*/****************************************************************** */
*                                                                  0273
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF ANY RECORDER BLOCKS WERE BUILT. THIS WILL INDICATE IF*/
*   /* ANY DEVICES WERE TAKEN OFFLINE                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0273
*   IF ENTRYPTR=0 THEN              /* ANY RECORDER BLOCKS?          */
         ICM   @12,15,ENTRYPTR(WORKPTR)                            0273
         BZ    @RT00273                                            0273
*     GOTO BACKSKIP;                /* SKIP DEVICE PROCESSING        */
*                                                                  0274
*   /*****************************************************************/
*   /*                                                               */
*   /* RECORDER BLOCKS EXIST BRING DEVICES BACK ONLINE IF NECESSARY  */
*   /* CHECK IF UCB ENQ IS HELD AND IF NOT ENQ AGAIN                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0275
*   IF UCBENQ^='1'B THEN            /* DO WE HAVE UCB RESOURCE ?     */
         TM    UCBENQ(WORKPTR),B'00000010'                         0275
         BO    @RF00275                                            0275
*     GEN(ENQ  (UCBENQQ,UCBENQR,S,2,SYSTEM));/* ENQ                  */
         ENQ  (UCBENQQ,UCBENQR,S,2,SYSTEM)
*   UCBENQ='1'B;                    /* SET FOOTPRINT                 */
@RF00275 OI    UCBENQ(WORKPTR),B'00000010'                         0277
*   CALL CNSLBACK;                  /* BACK OUT CONSOLES IF NECESSARY*/
*                                                                  0278
         BAL   @14,CNSLBACK                                        0278
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF ANY UCB'S HAVE BEEN ALTERED AND IF SO BRING DEVICES  */
*   /* BACK ONLINE                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0279
*   IF UCBALTER='1'B THEN           /* UCB'S BEEN ALTERED?           */
         TM    UCBALTER(WORKPTR),B'10000000'                       0279
         BNO   @RF00279                                            0279
*     DO;                                                          0280
*                                                                  0280
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP DO LOOP TO SCAN ALL RECORDER BLOCKS AND MARK       */
*       /* DEVICES BACK ONLINE                                       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0281
*       RCRDRPTR=ENTRYPTR;          /* ADDRESSABILITY TO FIRST     0281
*                                      RECORDER BLOCK                */
         L     RCRDRPTR,ENTRYPTR(,WORKPTR)                         0281
*       DO WHILE(RCRDRPTR^=0);      /* SCAN ALL RECORDER BLOCKS      */
*                                                                  0282
         B     @DE00282                                            0282
@DL00282 DS    0H                                                  0283
*         /***********************************************************/
*         /*                                                         */
*         /* RESET HIER REASON INDICATOR IN UCB IF NOT A CONSOLE     */
*         /* ENTRY AND MARK UCB ONLINE FOR DEVOFF ENTRIES            */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0283
*         UCBPTR=UCBADDR;           /* ADDRESSABILITY FOR UCB        */
         SLR   UCBPTR,UCBPTR                                       0283
         ICM   UCBPTR,7,UCBADDR(RCRDRPTR)                          0283
*         IF HIERONLY='1'BMKDEVOFF='1'B THEN/* HIER ONLY ENTRY?     */
         TM    HIERONLY(RCRDRPTR),B'10010000'                      0284
         BZ    @RF00284                                            0284
*           UCBVHRSN='0'B;          /* RESET HIERARCHY REASON      0285
*                                      INDICATOR                     */
*                                                                  0285
         NI    UCBVHRSN(UCBPTR),B'11111101'                        0285
*         /***********************************************************/
*         /*                                                         */
*         /* CHECK FOR DEVOFF ENTRY AND IF SO MARK DEVICE BACK ONLINE*/
*         /*                                                         */
*         /***********************************************************/
*                                                                  0286
*         IF MKDEVOFF='1'B THEN     /* DEVICE TAKEN OFFLINE?         */
@RF00284 TM    MKDEVOFF(RCRDRPTR),B'00010000'                      0286
         BNO   @RF00286                                            0286
*           UCBONLI='1'B;           /* MARK DEVICE BACK ONLINE       */
         OI    UCBONLI(UCBPTR),B'10000000'                         0287
*         RCRDRPTR=NEXTPTR;         /* ADDRESSABILITY FOR NEXT BLOCK */
@RF00286 L     RCRDRPTR,NEXTPTR(,RCRDRPTR)                         0288
*       END;                        /* END OF DO LOOP                */
@DE00282 LTR   RCRDRPTR,RCRDRPTR                                   0289
         BNZ   @DL00282                                            0289
*     END;                          /* END OF RECORDER BLOCK       0290
*                                      PROCESSING                    */
*                                                                  0290
*   /*****************************************************************/
*   /*                                                               */
*   /* ALL DEVICES HAVE BEEN BROUGHT BACK ONLINE. NOW CHECK IF       */
*   /* CHANNELS HAVE BEEN MARKED OFFLINE                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0291
*BACKSKIP:                                                         0291
*   IF CHNLSMRK='1'B THEN           /* HAVE CHANNELS BEEN MARKED?    */
@RF00279 DS    0H                                                  0291
BACKSKIP TM    CHNLSMRK(WORKPTR),B'00100000'                       0291
         BNO   @RF00291                                            0291
*     DO;                                                          0292
*       PCCAPTR=PCCAT00P(HEXCPUAD+1);/* SET UP PCCA POINTER          */
*                                                                  0293
         SLR   @12,@12                                             0293
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0293
         SLA   @12,2                                               0293
         L     @01,CVTPTR                                          0293
         L     @01,CVTPCCAT(,@01)                                  0293
         L     PCCAPTR,PCCAT00P(@12,@01)                           0293
*       /*************************************************************/
*       /*                                                           */
*       /* CHANNELS HAVE BEEN MARKED OFFLINE. IF THIS IS A VARY CPU  */
*       /* COMMAND THEN MARK CHANNELS BACK ONLINE FROM COPY OF CAT   */
*       /* TABLE IN WORK AREA. ELSE JUST MARK THE SINGLE CHANNEL ON  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0294
*       IF CHNIND='1'B THEN         /* CHANNEL COMMAND?              */
         TM    CHNIND(WORKPTR),B'10000000'                         0294
         BNO   @RF00294                                            0294
*         DO;                                                      0295
*                                                                  0295
*           /*********************************************************/
*           /*                                                       */
*           /* INDEX INTO CAT TABLE AND MARK ONLY ONE CHANNEL ONLINE */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0296
*           CATPTR=ADDR(PCCACAT)+(8*HEXCHNAD);/* SET UP CAT POINTER  */
         LA    CATPTR,PCCACAT(,PCCAPTR)                            0296
         SLR   @12,@12                                             0296
         ICM   @12,3,HEXCHNAD(WORKPTR)                             0296
         SLA   @12,3                                               0296
         ALR   CATPTR,@12                                          0296
*           CATNOP='0'B;            /* RESET OFFLINE INDICATOR       */
         NI    CATNOP(CATPTR),B'10111111'                          0297
*           PCCAIO=HASIO;           /* CPU STILL HAS         @G47AN2O
*                                      I/O ABILITY           @G47AN2O*/
         OI    PCCAIO(PCCAPTR),B'01000000'                         0298
*         END;                                                     0299
*       ELSE                                                       0300
*                                                                  0300
*         /***********************************************************/
*         /*                                                         */
*         /* VARY CPU COMMAND. CHECK IF A COPY OF THE CAT IS         */
*         /* AVAILABLE AND IF SO SET ALL CHANNELS TO THERE ORIGINAL  */
*         /* CONDITION                                               */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0300
*         IF COPYCAT='1'B THEN      /* CAT AVAILABLE?                */
         B     @RC00294                                            0300
@RF00294 TM    COPYCAT(WORKPTR),B'00000010'                        0300
         BNO   @RF00300                                            0300
*           DO;                                                    0301
*             CATPTR=ADDR(PCCACAT); /* ADDRESSABILITY TO CAT TABLE   */
         LA    CATPTR,PCCACAT(,PCCAPTR)                            0302
*             PCCAIO=NOIO;          /* CPU TENTATIVELY       @G47AN2O
*                                      HAS NO IO ABILITY     @G47AN2O*/
         NI    PCCAIO(PCCAPTR),B'10111111'                         0303
*             DO LOOPCNT=1 TO 16;   /* SCAN ALL CHANNEL ENTRIES      */
*                                                                  0304
         LA    LOOPCNT,1                                           0304
@DL00304 DS    0H                                                  0305
*               /*****************************************************/
*               /*                                                   */
*               /* CHECK IF THIS CHANNEL WAS ORIGINALLY OFFLINE OR   */
*               /* NOT                                               */
*               /*                                                   */
*               /*****************************************************/
*                                                                  0305
*               IF CHANBIT(LOOPCNT)='0'B/* WAS CHANNEL OFFLINE?      */
*                 THEN                                             0305
         LR    @12,WORKPTR                                         0305
         ALR   @12,LOOPCNT                                         0305
         TM    CHANBIT-1(@12),B'01000000'                          0305
         BNZ   @RF00305                                            0305
*                 DO;               /*                       @G47AN2O*/
*                   CATNOP='0'B;    /* RESET OFFLINE BIT             */
         NI    CATNOP(CATPTR),B'10111111'                          0307
*                   PCCAIO=HASIO;   /* CPU STILL HAS         @G47AN2O
*                                      I/O CAPABILITY        @G47AN2O*/
         OI    PCCAIO(PCCAPTR),B'01000000'                         0308
*                 END;              /*                       @G47AN2O*/
*               CATPTR=CATPTR+8;    /* STEP TO NEXT CAT ENTRY        */
@RF00305 AH    CATPTR,@CH00035                                     0310
*             END;                  /* END OF CHANNEL RESTORE LOOP   */
         AH    LOOPCNT,@CH00049                                    0311
         CH    LOOPCNT,@CH00114                                    0311
         BNH   @DL00304                                            0311
*           END;                    /* END OF VARY CPU CHANNEL     0312
*                                      PROCESSING                    */
*     END;                          /* END OF CHANNEL MARK PROCESSING*/
*                                                                  0313
@RF00300 DS    0H                                                  0313
@RC00294 DS    0H                                                  0314
*   /*****************************************************************/
*   /*                                                               */
*   /* ALL CHANNELS ARE NOW ONLINE. RESET ACR INDICATOR IN LCCA OF   */
*   /* SUBJECT CPU                                                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0314
*   LCCAPTR=LCCAT00P(HEXCPUAD+1);   /* ADDRESSIBILITY FOR SUBJECT CPU*/
@RF00291 SLR   @12,@12                                             0314
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0314
         SLA   @12,2                                               0314
         L     @01,CVTPTR                                          0314
         L     @01,CVTLCCAT(,@01)                                  0314
         L     LCCAPTR,LCCAT00P(@12,@01)                           0314
*   LCCAVARY='0'B;                  /* RESET ACR FLAG BIT            */
*                                                                  0315
         NI    LCCAVARY(LCCAPTR),B'11111110'                       0315
*   /*****************************************************************/
*   /*                                                               */
*   /* RELEASE UCB RESOURCE IF HELD                                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0316
*   IF UCBENQ='1'B THEN             /* DO WE HAVE UCB RESOURCE?      */
         TM    UCBENQ(WORKPTR),B'00000010'                         0316
         BNO   @RF00316                                            0316
*     GEN(DEQ  (UCBENQQ,UCBENQR,2,SYSTEM));/* DEQ UCB'S              */
         DEQ  (UCBENQQ,UCBENQR,2,SYSTEM)
*   UCBENQ='0'B;                    /* RESET FOOTPRINT               */
*                                                                  0318
@RF00316 NI    UCBENQ(WORKPTR),B'11111101'                         0318
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF TIMER SUPERVISOR HAS BEEN NOTIFIED THAT A CPU IS     */
*   /* BEING REMOVED AND IF SO CANCEL THE REQUEST                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0319
*   IF CLOCKSW='1'B THEN            /* HAS TIMER EXIT BEEN TAKEN?    */
         TM    CLOCKSW(WORKPTR),B'00000100'                        0319
         BNO   @RF00319                                            0319
*     DO;                                                          0320
*       RFY                                                        0321
*        (R1) RSTD;                 /* RESTRICT INTERFACE REG        */
*       R1=ADDR(PCCAT00P(HEXCPUAD+1));/* ADDRESS OF PCCA POINTER     */
         SLR   @12,@12                                             0322
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0322
         SLA   @12,2                                               0322
         L     @15,CVTPTR                                          0322
         L     R1,CVTPCCAT(,@15)                                   0322
         LA    R1,PCCAT00P(@12,R1)                                 0322
*       GEN(LINK  EP=IEAVRCAN);     /* CANCEL TIMER SWITCH           */
         LINK  EP=IEAVRCAN
*       RFY                                                        0324
*        (R1) UNRSTD;               /* RELEASE REG ONE               */
*     END;                          /* *** END OF BACKOUT PROCESSING */
*   END;                            /* ** END OF PROC                */
@EL00005 DS    0H                                                  0326
@EF00005 DS    0H                                                  0326
@ER00005 LM    @14,@12,@SA00005                                    0326
         BR    @14                                                 0326
*CNSLBACK:                                                         0327
*   PROC;                                                          0327
*                                                                  0327
CNSLBACK STM   @14,@12,12(@13)                                     0327
*/*****************************************************************  */
*/* CNSLBACK ROUTINE WILL DETERMINE IF A EXIT HAS BEEN TAKEN TO      */
*/* CONSOLE SWITCH AND IF SO ISSUE INTERNAL VARY COMMANDS TO         */
*/* RESTORE ALL CONSOLES TO CONSOLE STATUS. THE ROUT AND DESCRIPTOR  */
*/* FLAGS, AS WELL AS CONSOLE AUTHORITY SHOULD REMAIN AS IT WAS      */
*/* BEFORE THE VARY CPU/CHANNEL COMMAND.                             */
*/*****************************************************************  */
*                                                                  0328
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF ANY CONSOLES REQUIRED SWITCHING                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0328
*   IF CNSLSW='1'B THEN             /* ANY CONSOLES FOUND?           */
         TM    CNSLSW(WORKPTR),B'00000001'                         0328
         BNO   @RF00328                                            0328
*     DO;                                                          0329
*                                                                  0329
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP DO LOOP TO SCAN ALL DEVICES THAT HAVE BEEN RECORDED*/
*       /* BY UCBRCRDR ROUTINE BRING BACK ONLINE AS CONSOLES ALL     */
*       /* CONSOLES THAT HAVE BEEN MARKED OFFLINE BECAUSE OF THE     */
*       /* VARY.                                                     */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0330
*       RCRDRPTR=ENTRYPTR;          /* POINTER TO FIRST RECORDER   0330
*                                      BLOCK                 @ZA01563*/
         L     RCRDRPTR,ENTRYPTR(,WORKPTR)                         0330
*       DO WHILE(RCRDRPTR^=0);      /* LOOP TO END OF CHAIN          */
*                                                                  0331
         B     @DE00331                                            0331
@DL00331 DS    0H                                                  0332
*         /***********************************************************/
*         /*                                                         */
*         /* CHECK IF THIS ENTRY REPRESENTS A CONSOLE                */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0332
*         IF CONSLFLG='1'B THEN     /* CONSOLE?                      */
         TM    CONSLFLG(RCRDRPTR),B'01000000'                      0332
         BNO   @RF00332                                            0332
*           DO;                                                    0333
*             UCBPTR=UCBADDR;       /* UCB ADDRESS                   */
         SLR   UCBPTR,UCBPTR                                       0334
         ICM   UCBPTR,7,UCBADDR(RCRDRPTR)                          0334
*             UCBVHRSN='0'B;        /* RESET CONSOLE SWITCH FLAG     */
*                                                                  0335
         NI    UCBVHRSN(UCBPTR),B'11111101'                        0335
*             /*******************************************************/
*             /*                                                     */
*             /* IF CONSOLE EXIT HAS BEEN TAKEN, THEN ISSUE INTERNAL */
*             /* VARY                                                */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0336
*             IF CNSLEXIT='1'B THEN /* CONSOLE EXIT TAKEN?           */
         TM    CNSLEXIT(WORKPTR),B'00000001'                       0336
         BNO   @RF00336                                            0336
*               DO;                                                0337
*                                                                  0337
*                 /***************************************************/
*                 /*                                                 */
*                 /* SET UP PARAMETER TO ISSUE AN INTERNAL VARY      */
*                 /* CONSOLE COMMAND                                 */
*                 /*                                                 */
*                 /***************************************************/
*                                                                  0338
*                 VCONCMD=VARYCON;  /* MOVE COMMAND TO BUFFER        */
         MVC   VCONCMD(38),VARYCON                                 0338
*                 VCONDEV=UCBNAME;  /* MOVE CONSOLE ADDRESS TO TEXT  */
         MVC   VCONDEV(3),UCBNAME(UCBPTR)                          0339
*                 RFY                                              0340
*                  (R0,                                            0340
*                   R1) RSTD;       /* RESTRICT REGS FOR INTERFACE   */
*                 R0=0;             /* ZERO OUT REGISTER             */
         SLR   R0,R0                                               0341
*                 R1=ADDR(VCONCMD); /* POINT TO COMMAND              */
         LA    R1,VCONCMD                                          0342
*                 SVC(34);          /* ISSUE COMMAND                 */
         SVC   34                                                  0343
*                 RFY                                              0344
*                  (R0,                                            0344
*                   R1) UNRSTD;     /* RELEASE REGS                  */
*               END;                /* END OF RESTORE                */
*           END;                                                   0346
@RF00336 DS    0H                                                  0347
*         RCRDRPTR=NEXTPTR;         /* ADDRESSABILITY TO NEXT BLOCK  */
@RF00332 L     RCRDRPTR,NEXTPTR(,RCRDRPTR)                         0347
*       END;                        /* END OF DO LOOP                */
@DE00331 LTR   RCRDRPTR,RCRDRPTR                                   0348
         BNZ   @DL00331                                            0348
*     END;                          /* END OF CONSOLE SWITCH       0349
*                                      PROCESSING                    */
*CONSEXIT:                                                         0350
*   END;                            /* END OF PROC                   */
@EL00006 DS    0H                                                  0350
@EF00006 DS    0H                                                  0350
@ER00006 LM    @14,@12,12(@13)                                     0350
         BR    @14                                                 0350
*CPUONLIN:                                                         0351
*   PROC;                                                          0351
*                                                                  0351
CPUONLIN STM   @14,@12,@SA00007                                    0351
*/*****************************************************************  */
*/* CPUONLIN ROUTINE WILL MONITOR THE VARY CPU ONLINE PROCESSOR AND  */
*/* ISSUE ANY MESSAGES THAT MAY BE NEEDED. IF NECESSARY BACKOUT      */
*/* PROCESSING WILL BE PERFORMED.                                    */
*/*****************************************************************  */
*                                                                  0352
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF CPU WAS ONLINE WHEN VARY ONLINE COMMAND WAS ISSUED IF*/
*   /* SO. CPU MAY HAVE PREVIOUSLY BEEN MARKED UNAVAILABLE FOR JOB   */
*   /* SCHEDULING. SET CPU AVAILABLE FOR JOB SCHED. IN CSD AND ISSUE */
*   /* CPU ONLINE MESSAGE                                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0352
*   IF CPUISON='1'B THEN            /* WAS CPU ALREADY ONLINE?       */
         TM    CPUISON(WORKPTR),B'00010000'                        0352
         BNO   @RF00352                                            0352
*     DO;                                                          0353
*       JOBSHED='1'B;               /* SET BIT FOR JOBSCHED ROUTINE  */
         OI    JOBSHED(WORKPTR),B'00000001'                        0354
*       CALL JOBSCHED;              /* GO MARK CPU AVAILABLE         */
         BAL   @14,JOBSCHED                                        0355
*       IF SKIPWTO='1'B THEN        /* UNEXPECTED CPU STATUS CHANGE?
*                                                            @ZA10796*/
         TM    SKIPWTO(WORKPTR),B'00000100'                        0356
         BO    @RT00356                                            0356
*         GOTO CPUONXT;             /* YES, BR TO EXIT ROUTINE     0357
*                                                            @ZA10796*/
*       CALL WTORTN(4);             /* ISSUE CPU ONLINE MESSAGE      */
         LA    @01,@AL00358                                        0358
         BAL   @14,WTORTN                                          0358
*       GOTO CPUONXT;               /* PROCESSING IS COMPLETE LEAVE  */
         B     CPUONXT                                             0359
*     END;                                                         0360
*                                                                  0360
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF CPU IS ONLINE SUCCESSFUL AND WRITE SMF RECORDS       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0361
*   IF CPUONOK='1'B THEN            /* CPU ONLINE SUCCESSFUL ?       */
@RF00352 TM    CPUONOK(WORKPTR),B'01000000'                        0361
         BNO   @RF00361                                            0361
*     DO;                                                          0362
*       JOBSHED='1'B;               /* SET JOB SCHEDULING FOOTPRINT  */
         OI    JOBSHED(WORKPTR),B'00000001'                        0363
*       CALL JOBSCHED;              /* RESET JOB SCHEDULING BIT IN 0364
*                                      CSD                           */
*                                                                  0364
         BAL   @14,JOBSCHED                                        0364
*       /*************************************************************/
*       /*                                                           */
*       /* INSURE THAT CPU HAS BEEN RELEASED FROM TIMER SYNC LOOP    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0365
*       LCCAPTR=LCCAT00P(HEXCPUAD+1);/* POINT TO LCCA OF CPU @Y30CQXA*/
         SLR   @12,@12                                             0365
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0365
         SLA   @12,2                                               0365
         L     @01,CVTPTR                                          0365
         L     @01,CVTLCCAT(,@01)                                  0365
         L     LCCAPTR,LCCAT00P(@12,@01)                           0365
*       LCCATIMR='0'B;              /* RESET TIMER SPIN      @Y30CQXA*/
*                                                                  0366
         NI    LCCATIMR(LCCAPTR),B'11101111'                       0366
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF CPU ONLINE PROCESSING IS COMPLETE AND IF SO ISSUE*/
*       /* SMF RECORDS                                               */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0367
*       IF ONLINMSG='1'B THEN       /* ONLINE PROCESSING COMPLETE?   */
         TM    ONLINMSG(WORKPTR),B'00100000'                       0367
         BNO   @RF00367                                            0367
*         CALL BACKOFF;             /* GO ISSUE SMF RECORDS          */
*                                                                  0368
         BAL   @14,BACKOFF                                         0368
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF SS/1 ASSOCIATION WAS SUCESSFUL, IF NOT THEN      */
*       /* INFORM OPERATOR OF FAILURE                                */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0369
*       IF SS1FAIL='1'B THEN        /* SS/1 ASSOC FAIL?      @Y30LPXA*/
@RF00367 TM    SS1FAIL(WORKPTR),B'00010000'                        0369
         BNO   @RF00369                                            0369
*         CALL WTORTN(30);          /* ISSUE ERROR MESSAGE   @Y30LPXA*/
         LA    @01,@AL00370                                        0370
         BAL   @14,WTORTN                                          0370
*       CALL SPCLTEST;              /* GO ISSUE MESSAGES             */
@RF00369 BAL   @14,SPCLTEST                                        0371
*     END;                                                         0372
*   ELSE                                                           0373
*     DO;                                                          0373
*                                                                  0373
         B     @RC00361                                            0373
@RF00361 DS    0H                                                  0374
*       /*************************************************************/
*       /*                                                           */
*       /* CPU WAS NOT BROUGHT ONLINE SUCCESSFUL THEN CHECK FOR      */
*       /* UNRESPONSIVE ERROR                                        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0374
*       IF CPUNRESP='1'B THEN       /* CPU UNRESPONSIVE?             */
         TM    CPUNRESP(WORKPTR),B'00010000'                       0374
         BNO   @RF00374                                            0374
*         DO;                                                      0375
*           CALL WTORTN(22);        /* WRITE ERROR MESSAGE           */
         LA    @01,@AL00376                                        0376
         BAL   @14,WTORTN                                          0376
*           GOTO CPUREST;           /* RETURN TO CALLER              */
         B     CPUREST                                             0377
*         END;                                                     0378
*                                                                  0378
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR NO CORE ERROR                                   */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0379
*       IF NOCORE='1'B THEN         /* NO CORE ERROR                 */
@RF00374 TM    NOCORE(WORKPTR),B'00000001'                         0379
         BNO   @RF00379                                            0379
*         DO;                                                      0380
*           CALL WTORTN(14);        /* NO CORE ERROR                 */
         LA    @01,@AL00381                                        0381
         BAL   @14,WTORTN                                          0381
*           GOTO CPUONXT;           /* RETURN TO CALLER              */
         B     CPUONXT                                             0382
*         END;                                                     0383
*                                                                  0383
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR SYSTEM FAILURE                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0384
*       IF SYSFAIL='1'B THEN        /* SYSTEM FAILURE                */
@RF00379 TM    SYSFAIL(WORKPTR),B'00000100'                        0384
         BNO   @RF00384                                            0384
*         DO;                                                      0385
*           CALL WTORTN(27);        /* SYSTEM FAILUE MESSAGE         */
         LA    @01,@AL00386                                        0386
         BAL   @14,WTORTN                                          0386
*           GOTO CPUONXT;           /* RETURN TO CALLER              */
         B     CPUONXT                                             0387
*         END;                                                     0388
*                                                                  0388
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR NO CLOCK ERROR                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0389
*       IF NOCLOCK='1'B THEN        /* NO CLOCK ERROR?               */
@RF00384 TM    NOCLOCK(WORKPTR),B'10000000'                        0389
         BNO   @RF00389                                            0389
*         DO;                                                      0390
*           CALL WTORTN(23);        /* NO CLOCK MESSAGE              */
         LA    @01,@AL00391                                        0391
         BAL   @14,WTORTN                                          0391
*           GOTO CPUREST;           /* RETURN TO CALLER              */
         B     CPUREST                                             0392
*         END;                                                     0393
*                                                                  0393
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MACHINE CHECK ON NEW PROCESSOR                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0394
*       IF MCHECK='1'B THEN         /* ERROR?                        */
@RF00389 TM    MCHECK(WORKPTR),B'00000010'                         0394
         BNO   @RF00394                                            0394
*         DO;                                                      0395
*           CALL WTORTN(24);        /* MACHINE CHECK MESSAGE         */
         LA    @01,@AL00396                                        0396
         BAL   @14,WTORTN                                          0396
*           GOTO CPUREST;           /* RETURN TO CALLER              */
         B     CPUREST                                             0397
*         END;                                                     0398
*                                                                  0398
*       /*************************************************************/
*       /*                                                           */
*       /* CALL BACKOFF PROCESSOR TO VERIFY DEVICE STATUS            */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0399
*       CALL BACKOFF;               /* PROCESS DEVICES               */
*                                                                  0399
@RF00394 BAL   @14,BACKOFF                                         0399
*       /*************************************************************/
*       /*                                                           */
*       /* DETERMINE IF UNRECOVERABLE ERROR HAS OCCURED              */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0400
*       IF ERRORFLG='1'B THEN       /* UNRECOVERABLE ERROR ?         */
         TM    ERRORFLG(WORKPTR),B'00000010'                       0400
         BNO   @RF00400                                            0400
*         DO;                                                      0401
*                                                                  0401
*           /*********************************************************/
*           /*                                                       */
*           /* CHECK FOR CSD ENQ                                     */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0402
*           IF CSDENQ='1'B THEN     /* ENQ ON CSD?                   */
         TM    CSDENQ(WORKPTR),B'00001000'                         0402
         BNO   @RF00402                                            0402
*             DO;                                                  0403
*               GEN(DEQ  (JOBSCDQ,JOBSCDR,8,SYSTEM));/* RELEASE CSD
*                                      ENQ                           */
         DEQ  (JOBSCDQ,JOBSCDR,8,SYSTEM)
*               CSDENQ='0'B;        /* RESET FLAG                    */
         NI    CSDENQ(WORKPTR),B'11110111'                         0405
*             END;                                                 0406
*           CALL WTORTN(13);        /* ISSUE COMMAND PROCESSOR FAILED*/
@RF00402 LA    @01,@AL00407                                        0407
         BAL   @14,WTORTN                                          0407
*           GOTO CPUREST;           /* RETURN TO CALLER              */
         B     CPUREST                                             0408
*         END;                                                     0409
*       ELSE                                                       0410
*                                                                  0410
*         /***********************************************************/
*         /*                                                         */
*         /* ERROR HAS NOT OCCURED SET JOB SCHEDULING FOOTPRINT AND  */
*         /* WRITE MESSAGES                                          */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0410
*         JOBSHED='1'B;             /* SET JOBSCHEDULER FOOTPRINT    */
@RF00400 OI    JOBSHED(WORKPTR),B'00000001'                        0410
*       CALL JOBSCHED;              /* CALL ROUTINE                  */
         BAL   @14,JOBSCHED                                        0411
*       IF SKIPWTO='1'B THEN        /* UNEXPECTED CPU STATUS CHANGE?
*                                                            @ZA10796*/
         TM    SKIPWTO(WORKPTR),B'00000100'                        0412
         BO    @RT00412                                            0412
*         GOTO CPUONXT;             /* YES, BR TO EXIT ROUTINE     0413
*                                                            @ZA10796*/
*       CALL SPCLTEST;              /* WRITE MESSAGES                */
         BAL   @14,SPCLTEST                                        0414
*     END;                                                         0415
*   GOTO CPUONXT;                   /* EXIT                          */
         B     CPUONXT                                             0416
*CPUREST:                           /* IF CPU HAS FAILED AFTER     0417
*                                      UPDATING THE CSD FIELDS THEN  */
*                                                                  0417
*   /*****************************************************************/
*   /*                                                               */
*   /* THE CPU MUST BE RESET TO INSURE IT'S OFFLINE STATUS, AND THE  */
*   /* CSD UPDATED TO REFELECT IT'S OFFLINE STATUS.                  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0417
*   IF(CSDCPUAL&CPUMSK)^=0          /* THE CSD HAS BEEN      @ZA10796*/
*     THEN                                                         0417
CPUREST  L     @12,CVTPTR                                          0417
         L     @12,CVTCSD(,@12)                                    0417
         SLR   @15,@15                                             0417
         ICM   @15,3,CPUMSK(WORKPTR)                               0417
         SLR   @14,@14                                             0417
         ICM   @14,3,CSDCPUAL(@12)                                 0417
         NR    @15,@14                                             0417
         LTR   @15,@15                                             0417
         BZ    @RF00417                                            0417
*     DO;                           /* UPDATED               @ZA10796*/
*       CSDCNTL=CSDAL;              /* CSDCPUALCSDCPUOL    @G47AN2O*/
         L     CSDCNTL,CSDAL(,@12)                                 0419
*       WORKMASK=CSDMASK(HEXCPUAD+1);/* = 0000MASK           @G47AN2O*/
         SLR   @15,@15                                             0420
         ICM   @15,3,HEXCPUAD(WORKPTR)                             0420
         ALR   @15,@15                                             0420
         ALR   @12,@15                                             0420
         SLR   WORKMASK,WORKMASK                                   0420
         ICM   WORKMASK,3,CSDMASK(@12)                             0420
*       SLL(WORKMASK,16);           /* = MASK0000            @G47AN2O*/
         SLL   WORKMASK,16                                         0421
*       WORKMASK=WORKMASK&&FLIP;    /* INVERT 0'S AND 1'S    @G47AN20*/
         X     WORKMASK,@CF00072                                   0422
*CSLOOP1:                           /*                       @G47AN2O*/
*       CSDWORK=CSDCNTL-1;          /* DECR CSDCPUOL         @G47AN2O*/
CSLOOP1  LR    CSDWORK,CSDCNTL                                     0423
         BCTR  CSDWORK,0                                           0423
*       CSDWORK=CSDWORK&WORKMASK;   /* CSDCPUAL(I) = 0       @G47AN2O*/
         NR    CSDWORK,WORKMASK                                    0424
*       CS(CSDCNTL,CSDWORK,CSDAL);  /* SET CPUAL  CPUOL    @G47AN2O*/
         L     @05,CVTPTR                                          0425
         L     @05,CVTCSD(,@05)                                    0425
         CS    CSDCNTL,@04,CSDAL(@05)                              0425
*       BC(NOTSET,CSLOOP1);         /* LOOP, IF NOT SET      @G57AN2O*/
         BC    7,CSLOOP1                                           0426
*     END;                          /*                       @ZA10796*/
*                                                                  0428
*   /*****************************************************************/
*   /*                                                               */
*   /* ISSUE RESET TO SUBJECT CPU                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0428
*   RFY                                                            0428
*    (R1) RSTD;                     /* RESTRICT REG                  */
@RF00417 DS    0H                                                  0429
*RETRY1:                                                           0429
*   R1=PCCAT00P(HEXCPUAD+1);        /* SET UP PARMS          @ZA10795*/
*                                                                  0429
RETRY1   SLR   @12,@12                                             0429
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0429
         SLA   @12,2                                               0429
         L     @15,CVTPTR                                          0429
         L     @14,CVTPCCAT(,@15)                                  0429
         L     R1,PCCAT00P(@12,@14)                                0429
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF CRH IS ACTIVE AND IF SO ISSUE CPU RESET              */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0430
*   IF CVTCRCA^=0 THEN              /* CRH ACTIVE?           @Y30CQXA*/
         ICM   @12,15,CVTCRCA(@15)                                 0430
         BZ    @RF00430                                            0430
*     DO;                           /* YES, MUST FIRST LOOK FOR CHK
*                                      STOP STAT             @ZA10795*/
*       GEN(DSGNL SENSE,CPU=(1));   /* DO SENSE TO SUBJECT CPU     0432
*                                                            @ZA10795*/
         DSGNL SENSE,CPU=(1)
*       IF RETCODE=8 THEN           /* CPU STATUS RETURNED?  @ZA10795*/
         CH    RETCODE,@CH00035                                    0433
         BNE   @RF00433                                            0433
*         DO;                       /* YES,                  @ZA10795*/
*           TEMPWORK=R0;            /* SAVE SUBJECT CPU STATUS     0435
*                                                            @ZA10795*/
         ST    R0,TEMPWORK                                         0435
*           IF CKSTOP='1'B THEN     /* CPU IN CHECK STOPPED STATE? 0436
*                                                            @ZA10796*/
         TM    CKSTOP,B'00010000'                                  0436
         BO    @RT00436                                            0436
*             GOTO CPUONXT;         /* YES, BRANCH SKIP CPU RESET  0437
*                                                            @ZA10796*/
*           ELSE                                                   0438
*             ;                     /* NO, OK TO DO CPU RESET      0438
*                                                            @ZA10796*/
*         END;                      /* END CPU STATUS CHECKING     0439
*                                                            @ZA10796*/
*       R1=PCCAT00P(HEXCPUAD+1);    /* SETUPT PARAMETER      @ZA10796*/
@RF00433 SLR   @12,@12                                             0440
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0440
         SLA   @12,2                                               0440
         L     @15,CVTPTR                                          0440
         L     @15,CVTPCCAT(,@15)                                  0440
         L     R1,PCCAT00P(@12,@15)                                0440
*       GEN(DSGNL ICPUR,CPU=(1));   /* ISSUE CPU RESET       @ZA10796*/
         DSGNL ICPUR,CPU=(1)
*     END;                          /* END OF CRH PROCESSING @ZA10796*/
*   ELSE                            /*                       @Y30CQXA*/
*     GEN REFS(CVT,CVTIPCDS)(DSGNL IPR,CPU=(1));/* RESET CPU         */
         B     @RC00430                                            0443
@RF00430 DS    0H                                                  0443
         DSGNL IPR,CPU=(1)
*   RFY                                                            0444
*    (R1) UNRSTD;                   /* RELEASE REG                   */
*CPUONXT:                                                          0445
*   END;                            /* END OF PROC                   */
@EL00007 DS    0H                                                  0445
@EF00007 DS    0H                                                  0445
@ER00007 LM    @14,@12,@SA00007                                    0445
         BR    @14                                                 0445
*BACKOFF:                                                          0446
*   PROC;                                                          0446
*                                                                  0446
BACKOFF  STM   @14,@01,@SA00008                                    0446
         STM   @03,@12,@SA00008+16                                 0446
*/****************************************************************** */
*/* BACKOFF ROUTINE WILL VERIFY STATUS OF DEVICES ON REFERENCED CPU  */
*/* OR CHANNEL. UCB RESOURCE IF OWNED WILL BE RELEASED AND FOOTPRINT */
*/* RESET                                                            */
*/********************************************************************/
*                                                                  0447
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF UCB RESOURCE IS OWNED AND FREE IF SO                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0447
*   IF UCBENQ='1'B THEN             /* DO WE HAVE RESOURCE           */
         TM    UCBENQ(WORKPTR),B'00000010'                         0447
         BNO   @RF00447                                            0447
*     DO;                                                          0448
*       GEN(DEQ (UCBENQQ,UCBENQR,2,SYSTEM));/* RELEASE RESOURCE      */
         DEQ (UCBENQQ,UCBENQR,2,SYSTEM)
*       UCBENQ='0'B;                /* RESET FOOTPRINT               */
         NI    UCBENQ(WORKPTR),B'11111101'                         0450
*     END;                                                         0451
*                                                                  0451
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR CHANNEL OR CPU COMMAND AND CHECK IF SPECIFIED       */
*   /* ELEMENT IS ONLINE                                             */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0452
*   IF CHNIND='1'B THEN             /* CHANNEL COMMAND ?             */
*                                                                  0452
@RF00447 TM    CHNIND(WORKPTR),B'10000000'                         0452
         BNO   @RF00452                                            0452
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF CHANNEL WAS BROUGHT ONLINE OK.                     */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0453
*     DO;                                                          0453
*       IF CHONOK^='1'B THEN        /* CHANNEL ONLINE OK?            */
         TM    CHONOK(WORKPTR),B'00100000'                         0454
         BO    @RF00454                                            0454
*         DO;                                                      0455
*           ERRORFLG='1'B;          /* SET ERROR FLAG                */
         OI    ERRORFLG(WORKPTR),B'00000010'                       0456
*           GOTO SETER;             /* RETURN TO MAINLINE            */
         B     SETER                                               0457
*         END;                                                     0458
*     END;                                                         0459
*                                                                  0459
*   /*****************************************************************/
*   /*                                                               */
*   /* WAS NOT CHANNEL COMMAND CHECK FOR CPU COMMAND                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0460
*   ELSE                                                           0460
*     DO;                                                          0460
         B     @RC00452                                            0460
@RF00452 DS    0H                                                  0461
*       IF CPUONOK^='1'B THEN       /* CPU BROUGHT ONLINE OK         */
         TM    CPUONOK(WORKPTR),B'01000000'                        0461
         BO    @RF00461                                            0461
*         DO;                                                      0462
*           ERRORFLG='1'B;          /* SET ERROR FLAG                */
         OI    ERRORFLG(WORKPTR),B'00000010'                       0463
*           GOTO SETER;             /* RETURN TO NEXT LEVEL          */
         B     SETER                                               0464
*         END;                                                     0465
*     END;                                                         0466
*                                                                  0466
@RF00461 DS    0H                                                  0467
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF ALL UCB'S HAVE BEEN MARKED                           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0467
*   IF UCBDONE='1'B THEN            /* ALL UCB'S MARKED?             */
@RC00452 TM    UCBDONE(WORKPTR),B'01000000'                        0467
         BNO   @RF00467                                            0467
*     CALL DEVSMFRC;                /* WRITE SMF RECORDS             */
         BAL   @14,DEVSMFRC                                        0468
*   ELSE                                                           0469
*                                                                  0469
*     /***************************************************************/
*     /*                                                             */
*     /* ALL UCB'S HAVE NOT BEEN MARKED. ISSUE WARNING MESSAGE       */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0469
*     DO;                                                          0469
         B     @RC00467                                            0469
@RF00467 DS    0H                                                  0470
*       DEVNOTON='1'B;              /* SET WARNING FOOTPRINT         */
*                                                                  0470
         OI    DEVNOTON(WORKPTR),B'01000000'                       0470
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK TO SEE IF ANY DEVICES HAVE BEEN MARKED              */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0471
*       IF UCBALTER='1'B THEN       /* ANY UCB'S MARKED YET?         */
         TM    UCBALTER(WORKPTR),B'10000000'                       0471
         BNO   @RF00471                                            0471
*         SMFRCER='1'B;             /* SET SMF RECORD ERROR FLAG     */
         OI    SMFRCER(WORKPTR),B'00000100'                        0472
*     END;                                                         0473
*                                                                  0473
@RF00471 DS    0H                                                  0474
*   /*****************************************************************/
*   /*                                                               */
*   /* BUILD AND WRITE SMF RECORD FOR CPU AND CHANNEL                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0474
*   CALL CHCPUSMF;                  /* WRITE CPU RECORDS             */
@RC00467 BAL   @14,CHCPUSMF                                        0474
*SETER:                                                            0475
*   END;                                                           0475
@EL00008 DS    0H                                                  0475
@EF00008 DS    0H                                                  0475
@ER00008 LM    @14,@01,@SA00008                                    0475
         LM    @03,@12,@SA00008+16                                 0475
         BR    @14                                                 0475
*CPUOFFLN:                                                         0476
*   PROC;                                                          0476
*                                                                  0476
CPUOFFLN STM   @14,@12,@SA00009                                    0476
*/*****************************************************************  */
*/* CPUOFFLN ROUTINE WILL MONITOR AND BACK OUT OF A VARY CPU OFFLINE */
*/* COMMAND. ANY NECESSARY MESSAGES WILL BE WRITTEN AS WELL AS ANY   */
*/* SMF RECORDS.                                                     */
*/****************************************************************** */
*                                                                  0477
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK TO SEE IF CPU IS SUCCESSFULLY OFFLINE                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0477
*   IF CPUOFFOK='1'B&KPCHANFL='0'B THEN/* OFFLINE OK?        @ZM45610*/
         TM    CPUOFFOK(WORKPTR),B'00001000'                       0477
         BNO   @RF00477                                            0477
         TM    KPCHANFL(WORKPTR),B'01000000'                       0477
         BNZ   @RF00477                                            0477
*     DO;                                                          0478
*                                                                  0478
*       /*************************************************************/
*       /*                                                           */
*       /* CPU IS SUCCESSFULLY OFFLINE. ISSUE SMF RECORDS AND RETURN */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0479
*CPUOFSMF:                                                         0479
*       CALL DEVSMFRC;              /* SMF RECORDS                   */
CPUOFSMF BAL   @14,DEVSMFRC                                        0479
*       CALL CHCPUSMF;              /* CPU /CHANNEL SMF RECORDS      */
         BAL   @14,CHCPUSMF                                        0480
*       CALL SPCLTEST;              /* ISSUE ANY NECESSARY OFFLINE 0481
*                                      MESSAGES                      */
*                                                                  0481
         BAL   @14,SPCLTEST                                        0481
*       /*************************************************************/
*       /*                                                           */
*       /* ISSUE RESET TO OFFLINE CPU TO COMPLETE OFFLINE PROCESSING */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0482
*       RFY                                                        0482
*        (R1) RSTD;                 /* RESTRICT REG FOR INTERFACE    */
*RETRY2:                                                           0483
*       R1=PCCAT00P(HEXCPUAD+1);    /* PCCA ADDRESS          @ZA10795*/
*                                                                  0483
RETRY2   SLR   @12,@12                                             0483
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0483
         SLA   @12,2                                               0483
         L     @15,CVTPTR                                          0483
         L     @14,CVTPCCAT(,@15)                                  0483
         L     R1,PCCAT00P(@12,@14)                                0483
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF CRH IS ACTIVE AND IF SO ISSUE CPU RESET          */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0484
*       IF CVTCRCA^=0 THEN          /* CRH ACTIVE?           @Y30CQXA*/
         ICM   @12,15,CVTCRCA(@15)                                 0484
         BZ    @RF00484                                            0484
*         DO;                       /* YES, MUST FIRST LOOK FOR CHK
*                                      STOP STAT             @ZA10795*/
*           GEN(DSGNL SENSE,CPU=(1));/* DO SENSE TO SUBJECT CPU    0486
*                                                            @ZA10795*/
         DSGNL SENSE,CPU=(1)
*           IF RETCODE=8 THEN       /* CPU STATUS RETURNED?  @ZA10795*/
         CH    RETCODE,@CH00035                                    0487
         BNE   @RF00487                                            0487
*             DO;                   /* YES,                  @ZA10795*/
*               TEMPWORK=R0;        /* SAVE SUBJECT CPU STATUS     0489
*                                                            @ZA10795*/
         ST    R0,TEMPWORK                                         0489
*               IF CKSTOP='1'B THEN /* CPU IN CHECK STOPPED STATE? 0490
*                                                            @ZA10795*/
         TM    CKSTOP,B'00010000'                                  0490
         BO    @RT00490                                            0490
*                 GOTO CHOFFEXT;    /* YES, BRANCH SKIP CPU RESET  0491
*                                                            @ZA10795*/
*               ELSE                                               0492
*                 ;                 /* NO, OK TO DO CPU RESET      0492
*                                                            @ZA10795*/
*             END;                  /* END CPU STATUS CHECKING     0493
*                                                            @ZA10795*/
*           R1=PCCAT00P(HEXCPUAD+1);/* SETUPT PARAMETER      @ZA10795*/
@RF00487 SLR   @12,@12                                             0494
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0494
         SLA   @12,2                                               0494
         L     @15,CVTPTR                                          0494
         L     @15,CVTPCCAT(,@15)                                  0494
         L     R1,PCCAT00P(@12,@15)                                0494
*           GEN(DSGNL ICPUR,CPU=(1));/* ISSUE CPU RESET      @ZA10795*/
         DSGNL ICPUR,CPU=(1)
*         END;                      /* END OF CRH PROCESSING @ZA10795*/
*       ELSE                        /*                       @Y30CQXA*/
*         GEN(DSGNL IPR,CPU=(1));   /* RESET CPU             @Y30CQXA*/
         B     @RC00484                                            0497
@RF00484 DS    0H                                                  0497
         DSGNL IPR,CPU=(1)
*       RFY                                                        0498
*        (R1) UNRSTD;               /* RELEASE REG                   */
@RC00484 DS    0H                                                  0499
*     END;                                                         0499
*   ELSE                                                           0500
*                                                                  0500
*     /***************************************************************/
*     /*                                                             */
*     /* CPU WAS NOT OFFLINE SUCCESSFUL. CHECK FOR ERROR AND IF      */
*     /* NECESSARY BACK OUT OF VARY. ANY NECESSARY MESSAGES WILL BE  */
*     /* ISSUED.                                                     */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0500
*     DO;                                                          0500
*                                                                  0500
         B     @RC00477                                            0500
@RF00477 DS    0H                                                  0501
*       /*************************************************************/
*       /*                                                           */
*       /* WAS CPU OFFLINE ALREADY?                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0501
*       IF OFFALRDY='1'B&KEEPCHAN^='1'B THEN/* ALREADY OFFLINE?    0501
*                                                            @G557P2L*/
         TM    OFFALRDY(WORKPTR),B'00100000'                       0501
         BNO   @RF00501                                            0501
         TM    KEEPCHAN(WORKPTR),B'10000000'                       0501
         BO    @RF00501                                            0501
*         DO;                                                      0502
*           CALL SPCLTEST;          /* ISSUE OFFLINE MESSAGE         */
         BAL   @14,SPCLTEST                                        0503
*           GOTO CHOFFEXT;          /* RETURN TO CALLER              */
         B     CHOFFEXT                                            0504
*         END;                                                     0505
*       IF OFFALRDY='1'B&KEEPCHAN='1'B THEN                        0506
@RF00501 TM    OFFALRDY(WORKPTR),B'00100000'                       0506
         BNO   @RF00506                                            0506
         TM    KEEPCHAN(WORKPTR),B'10000000'                       0506
         BNO   @RF00506                                            0506
*         DO;                       /* ASKED FOR KEEPCHAN AND CPU  0507
*                                      OFFLINE?              @G557P2L*/
*           CALL WTORTN(31);        /* ISSUE KEEPCHAN NOT PERFORMED.
*                                                            @G557P2L*/
         LA    @01,@AL00508                                        0508
         BAL   @14,WTORTN                                          0508
*           GOTO CHOFFEXT;          /* RETURN TO CALLER.     @G557P2L*/
         B     CHOFFEXT                                            0509
*         END;                      /* END OFFLINE CPU,KEEPCHAN.   0510
*                                                            @G557P2L*/
*                                                                  0510
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF JOBS WITH AFFINITY WERE FOUND                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0511
*       IF AFFINSWT='1'B THEN       /* AFFINITY JOBS FOUND?          */
@RF00506 TM    AFFINSWT(WORKPTR),B'00001000'                       0511
         BNO   @RF00511                                            0511
*         DO;                                                      0512
*                                                                  0512
*           /*********************************************************/
*           /*                                                       */
*           /* CHECK IF OPERATOR HAS SUCCESSFULLY REPLIED TO MESSAGE */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0513
*           IF REPLYP^='1'B THEN    /* REPLY PROCESSED?              */
*                                                                  0513
         TM    REPLYP(WORKPTR),B'00010000'                         0513
         BO    @RF00513                                            0513
*             /*******************************************************/
*             /*                                                     */
*             /* COMMAND BLEW UP WHILE WAITING FOR OPERATOR RESPONSE */
*             /* RESTORE CPU JOB SCHEDULING AND ISSUE CP FAILED      */
*             /* MESSAGE                                             */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0514
*             DO;                                                  0514
*               CALL JOBSCHED;      /* RESTORE JOB SCHEDULING ON CPU */
         BAL   @14,JOBSCHED                                        0515
*               CALL WTORTN(13);    /* COMMAND PROCESSOR FAILED      */
         LA    @01,@AL00516                                        0516
         BAL   @14,WTORTN                                          0516
*             END;                                                 0517
*           ELSE                                                   0518
*                                                                  0518
*             /*******************************************************/
*             /*                                                     */
*             /* JOBS WITH AFFINITY WERE FOUND AND OPERATOR REPLIED  */
*             /* TO MESSAGE IF OPERATOR CANCELED COMMAND THEN ISSUE  */
*             /* CANCEL MESSAGE, ELSE ISSUE CPU UNAVAILABLE MESSAGE  */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0518
*             IF OPERCNCL='1'B THEN /* OPERATOR CANCEL?              */
         B     @RC00513                                            0518
@RF00513 TM    OPERCNCL(WORKPTR),B'00100000'                       0518
         BNO   @RF00518                                            0518
*               CALL WTORTN(20);    /* CANCEL MESSAGE                */
*                                                                  0519
         LA    @01,@AL00519                                        0519
         BAL   @14,WTORTN                                          0519
*           /*********************************************************/
*           /*                                                       */
*           /* OPERATOR DID NOT CANCEL, MUST THEN HAVE BEEN MARKED   */
*           /* UNAVAILABLE                                           */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0520
*             ELSE                                                 0520
*               CALL WTORTN(9);     /* UNAVAILABLE MESSAGE           */
         B     @RC00518                                            0520
@RF00518 LA    @01,@AL00520                                        0520
         BAL   @14,WTORTN                                          0520
*           GOTO CHOFFEXT;          /* RETURN TO CALLER              */
         B     CHOFFEXT                                            0521
*         END;                                                     0522
*                                                                  0522
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF IEEVDEV WAS IN CONTROL OR CP FAILED INDICATOR IS */
*       /* SET                                                       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0523
*       IF DEVSUBGO='1'BCPFAILED='1'B THEN/* COMMAND PROCESSOR FAIL?*/
@RF00511 TM    DEVSUBGO(WORKPTR),B'00010000'                       0523
         BO    @RT00523                                            0523
         TM    CPFAILED(WORKPTR),B'00000100'                       0523
         BNO   @RF00523                                            0523
@RT00523 DS    0H                                                  0524
*         DO;                                                      0524
*           CALL WTORTN(13);        /* CP FAILED                     */
         LA    @01,@AL00525                                        0525
         BAL   @14,WTORTN                                          0525
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0526
*         END;                                                     0527
*                                                                  0527
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF ACR REMOVED A CPU DURING PROCESSING              */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0528
*       IF SYSFAIL='1'B THEN        /* SYSTEM FAILURE?               */
@RF00523 TM    SYSFAIL(WORKPTR),B'00000100'                        0528
         BNO   @RF00528                                            0528
*         DO;                                                      0529
*           CALL WTORTN(27);        /* ISSUE TERMINATED MESSAGE      */
         LA    @01,@AL00530                                        0530
         BAL   @14,WTORTN                                          0530
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0531
*         END;                                                     0532
*                                                                  0532
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR A LAST PATH ERROR CONDITION                     */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0533
*       IF LASTPATH='1'B THEN       /* LAST PATH?                    */
@RF00528 TM    LASTPATH(WORKPTR),B'00000010'                       0533
         BNO   @RF00533                                            0533
*         DO;                                                      0534
*           CALL WTORTN(7);         /* LAST PATH MESSAGE             */
         LA    @01,@AL00535                                        0535
         BAL   @14,WTORTN                                          0535
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0536
*         END;                                                     0537
*                                                                  0537
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR A RESERVE OUTSTANDING CONDITION                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0538
*       IF PATHRSVD='1'B THEN       /* RESERVED PATH?                */
@RF00533 TM    PATHRSVD(WORKPTR),B'00001000'                       0538
         BNO   @RF00538                                            0538
*         DO;                                                      0539
*           CALL WTORTN(10);        /* RESERVE OUTSTANDING           */
         LA    @01,@AL00540                                        0540
         BAL   @14,WTORTN                                          0540
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0541
*         END;                                                     0542
*                                                                  0542
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR GET CORE FAILURE                                */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0543
*       IF NOCORE='1'B THEN         /* GETMAIN FAILURE?              */
@RF00538 TM    NOCORE(WORKPTR),B'00000001'                         0543
         BNO   @RF00543                                            0543
*         DO;                                                      0544
*           CALL WTORTN(14);        /* STORAGE ERROR MESSAGE         */
         LA    @01,@AL00545                                        0545
         BAL   @14,WTORTN                                          0545
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0546
*         END;                                                     0547
*                                                                  0547
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR NOCLOCK CONDITION AND ISSUE MESSAGE             */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0548
*       IF NOCLOCK='1'B THEN        /* CLOCK ERROR?                  */
@RF00543 TM    NOCLOCK(WORKPTR),B'10000000'                        0548
         BNO   @RF00548                                            0548
*         DO;                                                      0549
*           CALL WTORTN(25);        /* CLOCK ERROR MESSAGE           */
         LA    @01,@AL00550                                        0550
         BAL   @14,WTORTN                                          0550
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0551
*         END;                                                     0552
*                                                                  0552
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR NO CONSOLE CONDITION AND ISSUE MESSAGE          */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0553
*       IF NOCNSOLE='1'B THEN       /* NO CONSOLUE CONDITION?        */
@RF00548 TM    NOCNSOLE(WORKPTR),B'01000000'                       0553
         BNO   @RF00553                                            0553
*         DO;                                                      0554
*           CALL WTORTN(21);        /* NO CONSOLE CONDITION          */
         LA    @01,@AL00555                                        0555
         BAL   @14,WTORTN                                          0555
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0556
*         END;                                                     0557
*                                                                  0557
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF OPERATOR CANCELED VARY                           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0558
*       IF OPERCNCL='1'B THEN       /* OPERATOR CANCEL?              */
@RF00553 TM    OPERCNCL(WORKPTR),B'00100000'                       0558
         BNO   @RF00558                                            0558
*         DO;                                                      0559
*           CALL WTORTN(20);        /* OPERATOR CANCELED MESSAGE     */
         LA    @01,@AL00560                                        0560
         BAL   @14,WTORTN                                          0560
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0561
*         END;                                                     0562
*                                                                  0562
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR LAST CPU ERROR CONDITION                        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0563
*       IF LASTCPU='1'B THEN        /* LAST CPU?                     */
@RF00558 TM    LASTCPU(WORKPTR),B'00010000'                        0563
         BNO   @RF00563                                            0563
*         DO;                                                      0564
*           CALL WTORTN(16);        /* LAST CPU MESSAGE              */
         LA    @01,@AL00565                                        0565
         BAL   @14,WTORTN                                          0565
*           GOTO CPOFBACK;          /* BACK OUT OF ERROR             */
         B     CPOFBACK                                            0566
*         END;                                                     0567
*                                                                  0567
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR CPU NOT RESPONDING TO DISPATCHER HOOK           */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0568
*       IF CPUNRESP='1'B&KPCHANFL^='1'B THEN/* CPU RESPOND?  @ZM45610*/
@RF00563 TM    CPUNRESP(WORKPTR),B'00010000'                       0568
         BNO   @RF00568                                            0568
         TM    KPCHANFL(WORKPTR),B'01000000'                       0568
         BO    @RF00568                                            0568
*         DO;                                                      0569
*           CALL WTORTN(22);        /* ISSUE UNRESPONSE MESSAGE      */
         LA    @01,@AL00570                                        0570
         BAL   @14,WTORTN                                          0570
*           GOTO CPOFBACK;          /* BACK OUT OF ERROR             */
         B     CPOFBACK                                            0571
*         END;                                                     0572
*                                                                  0572
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK IF CPU IS OFFLINE WITH UNKNOWN STATUS. IF CPU IS    */
*       /* OFFLINE LEAVE OFF AND ISSUE WARNING MESSAGE AND SMF       */
*       /* RECORDS FOR ANY DEVICES THAT HAVE GONE OFFLINE WITH CPU   */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0573
*       IF UNKNSTAT='1'B THEN       /* CPU OFFLINE WITH ERROR?       */
@RF00568 TM    UNKNSTAT(WORKPTR),B'00000100'                       0573
         BNO   @RF00573                                            0573
*         DO;                                                      0574
*           CALL WTORTN(8);         /* ISSUE WARNING MESSAGE         */
         LA    @01,@AL00575                                        0575
         BAL   @14,WTORTN                                          0575
*           GOTO CPOFFSMF;          /* GO ISSUE SMF RECORDS          */
         B     CPOFFSMF                                            0576
*         END;                                                     0577
*                                                                  0577
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK CRH ACTIVATION FAILURE CONDITIONS PROCESSING        */
*       /* KEEPCHAN FOR 168MP.                               @G557P2L*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0578
*       IF(CPUNRESP='1'BMCHECK='1'BNOCLOCK='1'B)&KPCHANFL='1'B THEN
@RF00573 TM    CPUNRESP(WORKPTR),B'10010010'                       0578
         BZ    @RF00578                                            0578
         TM    KPCHANFL(WORKPTR),B'01000000'                       0578
         BNO   @RF00578                                            0578
*         DO;                       /* BACKOUT FAILED?       @ZM45610*/
*           CALL WTORTN(34);        /* ISSUE MSG. CANNOT BACKOUT FROM
*                                                            @G557P2L*/
         LA    @01,@AL00580                                        0580
         BAL   @14,WTORTN                                          0580
*           GOTO CHOFFEXT;          /* FAILURE IN IEEVCPU BACKOUT. 0581
*                                                            @G557P2L*/
         B     CHOFFEXT                                            0581
*         END;                      /* END FAILURE IN BACKOUT .    0582
*                                                            @G557P2L*/
*                                                                  0582
*       /*************************************************************/
*       /*                                                           */
*       /* IF KPCHANFL ALONE, THEN IEEVCPU WAS ABLE TO BRING CPU BACK*/
*       /* UP AND BACKOUT PROCESSING HERE CAN COMPLETE THE RECOVERY  */
*       /* FROM SUCH A FAILURE.                              @G557P2L*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0583
*       IF KPCHANFL='1'B THEN                                      0583
@RF00578 TM    KPCHANFL(WORKPTR),B'01000000'                       0583
         BNO   @RF00583                                            0583
*         DO;                       /* CRH INIT FAILED ON          0584
*                                      CPU,KEEPCHAN?         @ZM45610*/
*           CALL WTORTN(33);        /* ISSUE KEEPCHAN FAILED.      0585
*                                                            @G557P2L*/
         LA    @01,@AL00585                                        0585
         BAL   @14,WTORTN                                          0585
*           GOTO CPOFBACK;          /* BACK OUT OF ERROR.    @G557P2L*/
         B     CPOFBACK                                            0586
*         END;                      /* END CPU,KEEPCHAN - CRH      0587
*                                      ACTIVATION FAILED     @G557P2L*/
*                                                                  0587
*       /*************************************************************/
*       /*                                                           */
*       /* NONE OF THE ABOVE ERROR FLAGS WERE SET CHECK STATUS OF    */
*       /* SUBJECT CPU AND SET ABEND FLAG IS UNABLE TO DETERMINE     */
*       /* CONDITION OF SYSTEM                                       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0588
*       CALL LOWLEVEL;              /* LINK TO LOWLEVEL ROUTINE      */
@RF00583 BAL   @14,LOWLEVEL                                        0588
*       IF ERRORFLG='1'B THEN       /* ANY ERROR IN LOWLEVEL?        */
         TM    ERRORFLG(WORKPTR),B'00000010'                       0589
         BNO   @RF00589                                            0589
*         DO;                                                      0590
*           CALL WTORTN(13);        /* COMMAND PROCESSOR FAILED      */
         LA    @01,@AL00591                                        0591
         BAL   @14,WTORTN                                          0591
*           GOTO CPOFBACK;          /* GO BACK OUT OF ERROR          */
         B     CPOFBACK                                            0592
*         END;                                                     0593
*       ELSE                                                       0594
*                                                                  0594
*         /***********************************************************/
*         /*                                                         */
*         /* ISSUE ANY SMF RECORDS AND QUIT. PROBLEM HAS CLEARED UP  */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0594
*         DO;                                                      0594
@RF00589 DS    0H                                                  0595
*CPOFFSMF:                                                         0595
*           CALL DEVSMFRC;          /* GO ISSUE DEVICE SMF RECORDS   */
CPOFFSMF BAL   @14,DEVSMFRC                                        0595
*           CALL CHCPUSMF;          /* ISSUE CHANNEL AND CPU SMF   0596
*                                      RECORDS                       */
*                                                                  0596
         BAL   @14,CHCPUSMF                                        0596
*           /*********************************************************/
*           /*                                                       */
*           /* ISSUE RESET TO OFFLINE CPU TO COMPLETE OFFLINE        */
*           /* PROCESSING                                            */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0597
*           RFY                                                    0597
*            (R1) RSTD;             /* RESTRICT REGISTER 1 FOR IPC   */
*RETRY3:                                                           0598
*           R1=PCCAT00P(HEXCPUAD+1);/* PCCA ADDRESS          @ZA10795*/
*                                                                  0598
RETRY3   SLR   @12,@12                                             0598
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0598
         SLA   @12,2                                               0598
         L     @15,CVTPTR                                          0598
         L     @14,CVTPCCAT(,@15)                                  0598
         L     R1,PCCAT00P(@12,@14)                                0598
*           /*********************************************************/
*           /*                                                       */
*           /* CHECK IF CRH IS ACTIVE AND IF SO ISSUE CPU RESET      */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0599
*           IF CVTCRCA^=0 THEN      /* CRH ACTIVE?           @Y30CQXA*/
         ICM   @12,15,CVTCRCA(@15)                                 0599
         BZ    @RF00599                                            0599
*             DO;                   /* YES, MUST FIRST LOOK FOR CHK
*                                      STOP STAT             @ZA10796*/
*               GEN(DSGNL SENSE,CPU=(1));/* DO SENSE TO SUBJECT CPU
*                                                            @ZA10796*/
         DSGNL SENSE,CPU=(1)
*               IF RETCODE=8 THEN   /* CPU STATUS RETURNED?  @ZA10796*/
         CH    RETCODE,@CH00035                                    0602
         BNE   @RF00602                                            0602
*                 DO;               /* YES,                  @ZA10796*/
*                   TEMPWORK=R0;    /* SAVE SUBJECT CPU STATUS     0604
*                                                            @ZA10796*/
         ST    R0,TEMPWORK                                         0604
*                   IF CKSTOP='1'B THEN/* CPU IN CHECK STOPPED STATE?
*                                                            @ZA10796*/
         TM    CKSTOP,B'00010000'                                  0605
         BO    @RT00605                                            0605
*                     GOTO SMFTEST; /* YES, BRANCH SKIP CPU RESET  0606
*                                                            @ZA10796*/
*                   ELSE                                           0607
*                     ;             /* NO, OK TO DO CPU RESET      0607
*                                                            @ZA10796*/
*                 END;              /* END CPU STATUS CHECKING     0608
*                                                            @ZA10796*/
*               R1=PCCAT00P(HEXCPUAD+1);/* SETUPT PARAMETER  @ZA10796*/
@RF00602 SLR   @12,@12                                             0609
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0609
         SLA   @12,2                                               0609
         L     @15,CVTPTR                                          0609
         L     @15,CVTPCCAT(,@15)                                  0609
         L     R1,PCCAT00P(@12,@15)                                0609
*               GEN(DSGNL ICPUR,CPU=(1));/* ISSUE CPU RESET  @ZA10796*/
         DSGNL ICPUR,CPU=(1)
*             END;                  /* END OF CRH PROCESSING @ZA10796*/
*           ELSE                    /*                       @Y30CQXA*/
*             GEN(DSGNL IPR,CPU=(1));/* PROGRAM RESET                */
         B     @RC00599                                            0612
@RF00599 DS    0H                                                  0612
         DSGNL IPR,CPU=(1)
*           RFY                                                    0613
*            (R1) UNRSTD;           /* RELEASE REGISTER              */
*                                                                  0613
@RC00599 DS    0H                                                  0614
*           /*********************************************************/
*           /*                                                       */
*           /* IF ANY ERROR OCCURED DURING SMF ROUTINE, ISSUE ERROR  */
*           /* MESSAGE.                                              */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0614
*SMFTEST:                                                          0614
*           IF SMFRCER='1'B THEN    /* ANY SMF ERRORS        @ZA10796*/
SMFTEST  TM    SMFRCER(WORKPTR),B'00000100'                        0614
         BNO   @RF00614                                            0614
*             CALL WTORTN(19);      /* SMF ERROR MESSAGE             */
         LA    @01,@AL00615                                        0615
         BAL   @14,WTORTN                                          0615
*           GOTO CHOFFEXT;          /* PROCESSING COMPLETE. EXIT     */
         B     CHOFFEXT                                            0616
*         END;                                                     0617
*CPOFBACK:                                                         0618
*                                                                  0618
*/*  CHECK IF CPU ONLINE STATUS HAS CHANGED UNEXPECTEDLY     @ZA10796*/
*                                                                  0618
*       IF(CSDCPUAL&CPUMSK)=0 THEN  /* CPU ONLINE YET?       @ZA10796*/
CPOFBACK L     @12,CVTPTR                                          0618
         L     @12,CVTCSD(,@12)                                    0618
         SLR   @15,@15                                             0618
         ICM   @15,3,CPUMSK(WORKPTR)                               0618
         SLR   @14,@14                                             0618
         ICM   @14,3,CSDCPUAL(@12)                                 0618
         NR    @15,@14                                             0618
         LTR   @15,@15                                             0618
         BNZ   @RF00618                                            0618
*         DO;                       /* NO, UNEXPECTED SYSTEM ERROR 0619
*                                                            @ZA10796*/
*           CALL WTORTN(27);        /* ISSUE VARY TERMINATED MSG   0620
*                                                            @ZA10796*/
*                                                                  0620
         LA    @01,@AL00620                                        0620
         BAL   @14,WTORTN                                          0620
*           /*********************************************************/
*           /*                                                       */
*           /* RESET ACT INDICATOR IN LCCA OF SUBJECT CPU.   @ZA10796*/
*           /*                                                       */
*           /*********************************************************/
*                                                                  0621
*           LCCAPTR=LCCAT00P(HEXCPUAD+1);/* LCCA ADDRESSABILITY.   0621
*                                                            @ZA10796*/
         SLR   @12,@12                                             0621
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0621
         SLA   @12,2                                               0621
         L     @01,CVTPTR                                          0621
         L     @01,CVTLCCAT(,@01)                                  0621
         L     LCCAPTR,LCCAT00P(@12,@01)                           0621
*           LCCAVARY='0'B;          /* RESET VARY IN PROGRESS LCCA 0622
*                                      FLAG.                 @ZA10796*/
*                                                                  0622
         NI    LCCAVARY(LCCAPTR),B'11111110'                       0622
*           /*********************************************************/
*           /*                                                       */
*           /* RELEASE THE UCB RESOURCE IF HELD.             @ZA10796*/
*           /*                                                       */
*           /*********************************************************/
*                                                                  0623
*           IF UCBENQ='1'B THEN     /* HAVE I GOT UCB RESOURCE?    0623
*                                                            @ZA10796*/
         TM    UCBENQ(WORKPTR),B'00000010'                         0623
         BNO   @RF00623                                            0623
*             DO;                   /* YES,                  @ZA10796*/
*               GEN(DEQ  (UCBENQQ,UCBENQR,2,SYSTEM));/* RLEASE UCBS
*                                                            @ZA10796*/
         DEQ  (UCBENQQ,UCBENQR,2,SYSTEM)
*               UCBENQ='0'B;        /* RESET UCB FOOTPRINT.  @ZA10796*/
         NI    UCBENQ(WORKPTR),B'11111101'                         0626
*             END;                  /*                       @ZA10796*/
*           IF CSDENQ='1'B THEN     /* HAVE I GOT CSD RESOURCE?    0628
*                                                            @ZA10796*/
@RF00623 TM    CSDENQ(WORKPTR),B'00001000'                         0628
         BNO   @RF00628                                            0628
*             DO;                   /* YES,                  @ZA10796*/
*               GEN(DEQ  (JOBSCDQ,JOBSCDR,6,SYSTEM));/* RELEASE CSD
*                                                            @ZA10796*/
         DEQ  (JOBSCDQ,JOBSCDR,6,SYSTEM)
*               CSDENQ='0'B;        /* RESET CSD ENQUEUED FOOTPRINT
*                                                            @ZA10796*/
         NI    CSDENQ(WORKPTR),B'11110111'                         0631
*             END;                  /* ZA10796G                      */
*           SKIPWTO='1'B;           /* SET SWITCH FOR NO MORE MSGS 0633
*                                                            @ZA10796*/
@RF00628 OI    SKIPWTO(WORKPTR),B'00000100'                        0633
*           GOTO CHOFFEXT;          /* BRANCH TO EXIT ROUTINE      0634
*                                                            @ZA10796*/
         B     CHOFFEXT                                            0634
*         END;                      /* END ERROR STATUS CHANGE COE 0635
*                                                            @ZA10796*/
*                                                                  0635
*       /*************************************************************/
*       /*                                                           */
*       /* CALL BACKOUT ROUTINE AND RESET CPU JOB SCHEDULING BIT IN  */
*       /* CSD TO ALLOW JOB SCHEDULING                               */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0636
*       CALL BACKOUT;               /* BACK OUT OF ERROR CONDITIONS  */
@RF00618 BAL   @14,BACKOUT                                         0636
*       CALL JOBSCHED;              /* RESET JOB SCHEDULING BIT IN 0637
*                                      CSD                           */
         BAL   @14,JOBSCHED                                        0637
*CHOFFEXT:                                                         0638
*     END;                                                         0638
*                                                                  0638
CHOFFEXT DS    0H                                                  0639
*   /*****************************************************************/
*   /*                                                               */
*   /* RESET CVT POINTERS TO ACR AND QUIET ENTRYPOINTS IN CVT        */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0639
*   CVTVACR=0;                      /* ZERO CVT POINTER              */
@RC00477 SLR   @12,@12                                             0639
         L     @15,CVTPTR                                          0639
         ST    @12,CVTVACR(,@15)                                   0639
*   CVTQUIT=0;                      /* ZERO CVT POINTER              */
         ST    @12,CVTQUIT(,@15)                                   0640
*   END;                            /* END OF CPUOFFLINE ROUTINE     */
@EL00009 DS    0H                                                  0641
@EF00009 DS    0H                                                  0641
@ER00009 LM    @14,@12,@SA00009                                    0641
         BR    @14                                                 0641
*JOBSCHED:                                                         0642
*   PROC;                                                          0642
*                                                                  0642
JOBSCHED STM   @14,@12,@SA00010                                    0642
*/****************************************************************** */
*/* JOBSCHED ROUTINE WILL RESTORE CSDCPUJS MASK TO CONDITION ALLOWING*/
*/* CPU TO BE UTILIZED FOR JOB SCHEDULINE                            */
*/*****************************************************************  */
*                                                                  0643
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF JOB SCHEDULER BIT HAS BEEN CHANGED. AND IF SO TURN IT*/
*   /* BACK ON                                                       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0643
*   IF JOBSHED='1'B THEN            /* CSD BEEN CHANGED?             */
         TM    JOBSHED(WORKPTR),B'00000001'                        0643
         BNO   @RF00643                                            0643
*     DO;                                                          0644
*                                                                  0644
*       /*************************************************************/
*       /*                                                           */
*       /* CSD HAS BEEN CHANGED. ENQ ON CSD AND RESET TO ORGINAL     */
*       /* STATUS ARE WE NOW ENQED?                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0645
*       IF CSDENQ^='1'B THEN        /* DO WE NEED ENQ?               */
         TM    CSDENQ(WORKPTR),B'00001000'                         0645
         BO    @RF00645                                            0645
*         GEN(ENQ  (JOBSCDQ,JOBSCDR,E,6,SYSTEM));/* ENQ ON CSD       */
         ENQ  (JOBSCDQ,JOBSCDR,E,6,SYSTEM)
*       CSDENQ='1'B;                /* SET CSD ENQUEUED FOOTPRINT  0647
*                                                            @ZA10796*/
@RF00645 OI    CSDENQ(WORKPTR),B'00001000'                         0647
*/*  CHECK IF CPU ONLINE STATUS HAS CHANGED UNEXPECTEDLY     @ZA10796*/
*                                                                  0648
*       IF(CSDCPUAL&CPUMSK)=0 THEN  /* CPU ONLINE YET?       @ZA10796*/
         L     @12,CVTPTR                                          0648
         L     @12,CVTCSD(,@12)                                    0648
         SLR   @15,@15                                             0648
         ICM   @15,3,CPUMSK(WORKPTR)                               0648
         SLR   @14,@14                                             0648
         ICM   @14,3,CSDCPUAL(@12)                                 0648
         NR    @15,@14                                             0648
         LTR   @15,@15                                             0648
         BNZ   @RF00648                                            0648
*         DO;                       /* NO, UNEXPECTED SYSTEM ERROR 0649
*                                                            @ZA10796*/
*           CALL WTORTN(27);        /* ISSUE VARY TERMINATED MSG   0650
*                                                            @ZA10796*/
         LA    @01,@AL00650                                        0650
         BAL   @14,WTORTN                                          0650
*           SKIPWTO='1'B;           /* SET SWITCH FOR NO MORE MSGS 0651
*                                                            @ZA10796*/
         OI    SKIPWTO(WORKPTR),B'00000100'                        0651
*           GOTO JOBSCDXT;          /* BRANCH TO EXIT ROUTINE      0652
*                                                            @ZA10796*/
         B     JOBSCDXT                                            0652
*         END;                      /* END ERROR STATUS CHANGE COE 0653
*                                                            @ZA10796*/
*                                                                  0653
*       /*************************************************************/
*       /*                                                           */
*       /* SET BIT IN CSD FOR THIS CPU TO ALLOW JOB SCHEDULING       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0654
*       CSDCPUJS=CSDCPUJS          /* CSDCPUJS(I) = 1       @G47AN2O*/
*           CSDMASK(HEXCPUAD+1);    /*                       @G47AN2O*/
@RF00648 L     @12,CVTPTR                                          0654
         L     @12,CVTCSD(,@12)                                    0654
         SLR   @15,@15                                             0654
         ICM   @15,3,HEXCPUAD(WORKPTR)                             0654
         ALR   @15,@15                                             0654
         ALR   @15,@12                                             0654
         OC    CSDCPUJS(2,@12),CSDMASK(@15)                        0654
*JOBSCDXT:                                                         0655
*       GEN(DEQ (JOBSCDQ,JOBSCDR,6,SYSTEM));/* DEQ           @ZA10796*/
JOBSCDXT DEQ (JOBSCDQ,JOBSCDR,6,SYSTEM)
*       CSDENQ='0'B;                /* RESET CSD ENQUEUED FOOTPRINT
*                                                            @ZA10796*/
         NI    CSDENQ(WORKPTR),B'11110111'                         0656
*     END;                                                         0657
*   END;                            /* END OR JOBSCHED ROUTINE       */
@EL00010 DS    0H                                                  0658
@EF00010 DS    0H                                                  0658
@ER00010 LM    @14,@12,@SA00010                                    0658
         BR    @14                                                 0658
*LOWLEVEL:                                                         0659
*   PROC;                                                          0659
*                                                                  0659
LOWLEVEL STM   @14,@12,@SA00011                                    0659
*/*****************************************************************  */
*/* LOWLEVEL ROUTINE WILL RESET DISPATCHER HOOK ON SUBJECT CPU AND   */
*/* WAIT ONE SECOND TO INSURE THAT DISPATCHER HAS NOT LOOKED AT      */
*/* HOOK JUST BEFORE BEING RESET. THEN A CHECK WILL BE MADE TO       */
*/* DETERMINE SUBJECT CPU STATUS                                     */
*/*****************************************************************  */
*                                                                  0660
*   /*****************************************************************/
*   /*                                                               */
*   /* GET LCCA ADDRESS OF SUBJECT CPU TO RESET HOOK                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0660
*   LCCAPTR=LCCAT00P(HEXCPUAD+1);   /* SET LCCA POINTER              */
         SLR   @12,@12                                             0660
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0660
         SLA   @12,2                                               0660
         L     @01,CVTPTR                                          0660
         L     @01,CVTLCCAT(,@01)                                  0660
         L     LCCAPTR,LCCAT00P(@12,@01)                           0660
*   LCCAVCPU='0'B;                  /* RESET DISPATCHER HOOK         */
*                                                                  0661
         NI    LCCAVCPU(LCCAPTR),B'10111111'                       0661
*   /*****************************************************************/
*   /*                                                               */
*   /* WAIT ONE SECOND TO INSURE THAT DISPATCHER HAS NOT SEEN HOOK   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0662
*   GEN(STIMER  WAIT,BINTVL=SEC1);  /* WAIT ONE SECOND               */
*                                                                  0662
         STIMER  WAIT,BINTVL=SEC1
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF CPU IS STILL ALIVE IN CSDCPUAL MASK AND IF SO SET    */
*   /* ERROR FLAG TO CAUSE A BACKOUT OF THE VARY                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0663
*   IF(CSDCPUAL&CPUMSK)^=0 THEN     /* CPU STILL ALIVE?              */
         L     @12,CVTPTR                                          0663
         L     @12,CVTCSD(,@12)                                    0663
         SLR   @15,@15                                             0663
         ICM   @15,3,CPUMSK(WORKPTR)                               0663
         SLR   @14,@14                                             0663
         ICM   @14,3,CSDCPUAL(@12)                                 0663
         NR    @15,@14                                             0663
         LTR   @15,@15                                             0663
         BZ    @RF00663                                            0663
*     ERRORFLG='1'B;                /* SET ERROR FLAG                */
         OI    ERRORFLG(WORKPTR),B'00000010'                       0664
*   ELSE                                                           0665
*                                                                  0665
*     /***************************************************************/
*     /*                                                             */
*     /* CPU IS NOT ALIVE CHECK IF QUIET CODE HAS COMPLETED          */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0665
*     DO;                                                          0665
         B     @RC00663                                            0665
@RF00663 DS    0H                                                  0666
*       IF QTCOMP='1'B THEN         /* QUIET CODE COMPLETE?          */
         L     @12,QUITPTR(,WORKPTR)                               0666
         TM    QTCOMP(@12),B'10000000'                             0666
         BNO   @RF00666                                            0666
*         CALL WTORTN(6);           /* ISSUE OFFLINE MESSAGE         */
         LA    @01,@AL00667                                        0667
         BAL   @14,WTORTN                                          0667
*       ELSE                                                       0668
*                                                                  0668
*         /***********************************************************/
*         /*                                                         */
*         /* CPU IS OFFLINE BUT QUIET CODE HAS NOT COMPLETED. ISSUE  */
*         /* OFFLINE WITH UNKNOWN STATUS MESSAGE                     */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0668
*         CALL WTORTN(8);           /* ISSUE OFFLINE UNKNOWN STATUS
*                                      MSG                           */
         B     @RC00666                                            0668
@RF00666 LA    @01,@AL00668                                        0668
         BAL   @14,WTORTN                                          0668
*     END;                                                         0669
*   END;                            /* END OF LOWLEVEL ROUTINE       */
@EL00011 DS    0H                                                  0670
@EF00011 DS    0H                                                  0670
@ER00011 LM    @14,@12,@SA00011                                    0670
         BR    @14                                                 0670
*DEVSMFRC:                                                         0671
*   PROC;                                                          0671
*                                                                  0671
DEVSMFRC STM   @14,@12,@SA00012                                    0671
*/****************************************************************** */
*/* DEVSMFRC ROUTINE WILL BUILD AND ISSUE SMF RECORDS FOR ANY DEVICES*/
*/* BROUGHT ONLINE OR TAKEN OFFLINE DURING A VARY COMMAND. INPUT TO  */
*/* ROUTINE IS RECORDER BLOCKS BUILT BY UCBRCRDR.                    */
*/****************************************************************** */
*                                                                  0672
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF RECORDER BLOCKS EXISTS AND IF NOT BYPASS SMF ROUTINE */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0672
*   IF ENTRYPTR^=0 THEN             /* RECORDER BLOCKS EXIST?        */
         L     @12,ENTRYPTR(,WORKPTR)                              0672
         LTR   @12,@12                                             0672
         BZ    @RF00672                                            0672
*     DO;                                                          0673
*                                                                  0673
*       /*************************************************************/
*       /*                                                           */
*       /* ZERO RECORD COUNTER                                       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0674
*       SMFRECNT=0;                 /* ZERO RECORD COUNT             */
*                                                                  0674
         SLR   SMFRECNT,SMFRECNT                                   0674
*       /*************************************************************/
*       /*                                                           */
*       /* RECORDER BLOCKS DO EXIST. COUNT NUMBER OF ELEMENTS TO     */
*       /* BUILD IN SMF RECORD AND GET STORAGE FOR SMF RECORD        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0675
*       RCRDRPTR=ENTRYPTR;          /* ADDRESSABILITY TO FIRST BLOCK */
*                                                                  0675
         LR    RCRDRPTR,@12                                        0675
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP DO LOOP TO COUNT NUMBER OF ENTRIES                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0676
*       DO WHILE(RCRDRPTR^=0);      /* COUNT LOOP                    */
*                                                                  0676
         B     @DE00676                                            0676
@DL00676 DS    0H                                                  0677
*         /***********************************************************/
*         /*                                                         */
*         /* CHECK FOR ENTRIES OTHER THAN HIER. ONLY                 */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0677
*         IF((MKDEVON='1'BMKDEVOFF='1'B)&ALTERUCB='1'B) THEN/*      */
         TM    MKDEVON(RCRDRPTR),B'00110000'                       0677
         BZ    @RF00677                                            0677
         TM    ALTERUCB(RCRDRPTR),B'00001000'                      0677
         BNO   @RF00677                                            0677
*           SMFRECNT=SMFRECNT+1;    /* INCREMENT COUNT               */
         AH    SMFRECNT,@CH00049                                   0678
*         RCRDRPTR=NEXTPTR;         /* ADDRESSABILITY FOR NEXT BLOCK */
@RF00677 L     RCRDRPTR,NEXTPTR(,RCRDRPTR)                         0679
*       END;                        /* END OF COUNT DO LOOP          */
*                                                                  0680
@DE00676 LTR   RCRDRPTR,RCRDRPTR                                   0680
         BNZ   @DL00676                                            0680
*       /*************************************************************/
*       /*                                                           */
*       /* SMFRECT HAS COUNT OF NUMBER OF DEVICES THAT REQUIRE SMF   */
*       /* RECORDS. STORAGE REQUIRED IS 4 * NUMBER OF DEVICES + GET  */
*       /* STORAGE FOR RECORDER BLOCKS                               */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0681
*       GETLENG=((4*SMFRECNT)+20);  /* GET STORAGE FOR SMF RECORDS   */
         LR    @12,SMFRECNT                                        0681
         SLA   @12,2                                               0681
         AL    @12,@CF00275                                        0681
         STH   @12,GETLENG(,WORKPTR)                               0681
*       SUBPOOL=0;                  /* GET STORAGE FROM SUBPOOL ZERO */
         MVI   SUBPOOL(WORKPTR),X'00'                              0682
*       CALL GETCORE;               /* GET STORAGE                   */
*                                                                  0683
         BAL   @14,GETCORE                                         0683
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR ANY ERROR FROM GETCORE ROUTINE                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0684
*       IF NOCORE='1'B THEN         /* GETMAIN FAILURE ?             */
         TM    NOCORE(WORKPTR),B'00000001'                         0684
         BNO   @RF00684                                            0684
*         DO;                                                      0685
*           SMFRCER='1'B;           /* SET ERROR FLAG                */
         OI    SMFRCER(WORKPTR),B'00000100'                        0686
*           NOCORE='0'B;            /* RESET NO CORE ERROR INDICATOR */
         NI    NOCORE(WORKPTR),B'11111110'                         0687
*           GOTO DEVSMEXT;          /* RETURN TO CALLER              */
         B     DEVSMEXT                                            0688
*         END;                                                     0689
*                                                                  0689
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP ADDRESSABILITY TO STORAGE AREA FOR SMF RECORD      */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0690
*       GETLENG=GETLENG-LENGTH(CORCHAIN);/* SUBTRACT OUT HEADER    0690
*                                                            @YM04110*/
@RF00684 SLR   @12,@12                                             0690
         ICM   @12,3,GETLENG(WORKPTR)                              0690
         SL    @12,@CF00035                                        0690
         STH   @12,GETLENG(,WORKPTR)                               0690
*       SMF11PTR=COREPTR;           /* ADDRESSABILITY FOR SMF RECORD */
         L     SMF11PTR,COREPTR(,WORKPTR)                          0691
*       SMF11LEN=GETLENG;           /* LENGTH OF RECORD              */
*                                                                  0692
         STH   @12,SMF11LEN(,SMF11PTR)                             0692
*       /*************************************************************/
*       /*                                                           */
*       /* DETERMINE TYPE OF RECORD AND INSERT INTO SMF RECORD       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0693
*       IF ONLINE='1'B THEN         /* ONLINE COMMAND?               */
         TM    ONLINE(WORKPTR),B'00100000'                         0693
         BNO   @RF00693                                            0693
*         SMF11RTY=9;               /* INDICATE RECORD TYPE 9        */
         MVI   SMF11RTY(SMF11PTR),X'09'                            0694
*       ELSE                                                       0695
*         SMF11RTY=11;              /* INDICATE RECORD TYPE 11       */
         B     @RC00693                                            0695
@RF00693 MVI   SMF11RTY(SMF11PTR),X'0B'                            0695
*       SMF11LN=(GETLENG-18);       /* LENGTH OF DEVICE SECTION      */
*                                                                  0696
@RC00693 SLR   @12,@12                                             0696
         ICM   @12,3,GETLENG(WORKPTR)                              0696
         SL    @12,@CF00226                                        0696
         STH   @12,SMF11LN(,SMF11PTR)                              0696
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP ADDRESSABILITY FOR EACH DEVICE SECTION             */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0697
*       SMF11PTR=SMF11PTR+20;       /* INCREMENT PAST HEADER         */
         AL    SMF11PTR,@CF00275                                   0697
*       RFY                                                        0698
*        (SMF11DEV) BASED(SMF11PTR);/* ADDRESSABILITY FOR DEVICE SECT*/
*                                                                  0698
*       /*************************************************************/
*       /*                                                           */
*       /* SET UP DO LOOP TO SCAN ALL RECORDER BLOCKS AND BUILD SMF  */
*       /* RECORDS FROM UCB DATA                                     */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0699
*       RCRDRPTR=ENTRYPTR;          /* ADDRESSABILITY TO FIRST BLOCK */
         L     RCRDRPTR,ENTRYPTR(,WORKPTR)                         0699
*       DO WHILE(RCRDRPTR^=0);      /* LOOP CONTROL                  */
*                                                                  0700
         B     @DE00700                                            0700
@DL00700 DS    0H                                                  0701
*         /***********************************************************/
*         /*                                                         */
*         /* CHECK IF SMF RECORD SHOULD BE WRITTEN FOR THIS DEVICE.  */
*         /* ONLY BUILD RECORD FOR DEVICES THAT HAVE CHANGED STATUS  */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0701
*         IF HIERONLY^='1'B&ALTERUCB='1'B THEN/* HAS DEVICE STATUS 0701
*                                      CHANGED?                      */
         TM    ALTERUCB(RCRDRPTR),B'00001000'                      0701
         BNO   @RF00701                                            0701
         TM    HIERONLY(RCRDRPTR),B'10000000'                      0701
         BNZ   @RF00701                                            0701
*           DO;                                                    0702
*                                                                  0702
*             /*******************************************************/
*             /*                                                     */
*             /* SET UP ADDRESSABILITY TO UCB REPRESENTED BY RECORDER*/
*             /* BLOCK                                               */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0703
*             UCBPTR=UCBADDR;       /* ADDRESSABILITY TO UCB         */
*                                                                  0703
         SLR   UCBPTR,UCBPTR                                       0703
         ICM   UCBPTR,7,UCBADDR(RCRDRPTR)                          0703
*             /*******************************************************/
*             /*                                                     */
*             /* COPY NECESSARY INFORMATION FROM UCB INTO SMF RECORD */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0704
*             SMF11DUT(1:1)=UCBTBYT3;/* MOVE CLASS TO RECORD         */
         MVC   SMF11DUT(1,SMF11PTR),UCBTBYT3(UCBPTR)               0704
*             SMF11DUT(2:2)=UCBTBYT4;/* MOVE TYPE TO RECORD          */
         MVC   SMF11DUT+1(1,SMF11PTR),UCBTBYT4(UCBPTR)             0705
*             SMF11CUA=UCBCHAN;     /* COPY DEVICE ADDRESS INTO    0706
*                                      RECORD                        */
         MVC   SMF11CUA(2,SMF11PTR),UCBCHAN(UCBPTR)                0706
*             SMF11PTR=SMF11PTR+4;  /* INDEX TO NEXT RECORD ENTRY    */
         AL    SMF11PTR,@CF00094                                   0707
*           END;                    /* END OF RECORD CREATE          */
*         RCRDRPTR=NEXTPTR;         /* ADDRESSABILITY FOR NEXT     0709
*                                      RECORDER BLOCK                */
@RF00701 L     RCRDRPTR,NEXTPTR(,RCRDRPTR)                         0709
*       END;                        /* END OF DO LOOP                */
*                                                                  0710
@DE00700 LTR   RCRDRPTR,RCRDRPTR                                   0710
         BNZ   @DL00700                                            0710
*       /*************************************************************/
*       /*                                                           */
*       /* SMF RECORD HAS BEEN CREATED. ISSUE MACRO TO WRITE RECORD  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0711
*       RFY                                                        0711
*        (R1) RSTD;                 /* RESTRICT REGISTER ONE         */
*       R1=COREPTR;                 /* ADDRESS OF START OF SMF RECORD*/
         L     R1,COREPTR(,WORKPTR)                                0712
*       GEN(SMFWTM (1));            /* WRITE SMF RECORD              */
         SMFWTM (1)
*       RFY                                                        0714
*        (R1) UNRSTD;               /* RELEASE REGISTERS             */
*     END;                                                         0715
*DEVSMEXT:                                                         0716
*   END;                            /* END OF DEVICE SMF RECORD    0716
*                                      ROUTINE                       */
@EL00012 DS    0H                                                  0716
@EF00012 DS    0H                                                  0716
@ER00012 LM    @14,@12,@SA00012                                    0716
         BR    @14                                                 0716
*CHCPUSMF:                                                         0717
*   PROC;                                                          0717
*                                                                  0717
CHCPUSMF STM   @14,@01,@SA00013                                    0717
         STM   @03,@12,@SA00013+16                                 0717
*/****************************************************************** */
*/* CHCPUSMF ROUTINE WILL BUILD AND ISSUE SMF RECORD TYPE 22 FOR THE */
*/* CPU AND/OR CHANNELS THAT WERE TAKEN OFFLINE OR BROUGHT ONLINE    */
*/* DURING A VARY CHANNEL/CPU COMMAND. THE RECORD WILL BE BUILT IN   */
*/* SUBPOOL 245 FOR USE BY SRM                                       */
*/********************************************************************/
*                                                                  0718
*   SMFRECNT=0;                     /* RESET SMF RECORD COUNTER      */
*                                                                  0718
         SLR   SMFRECNT,SMFRECNT                                   0718
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF THIS WAS A CHANNEL COMMAND OR CPU COMMAND            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0719
*   IF CHNIND='1'B THEN             /* CHANNEL COMMAND?              */
         TM    CHNIND(WORKPTR),B'10000000'                         0719
         BNO   @RF00719                                            0719
*     SMFRECNT=1;                   /* ONE ELEMENT COUNT             */
*                                                                  0720
         LA    SMFRECNT,1                                          0720
*   /*****************************************************************/
*   /*                                                               */
*   /* WAS NOT A VARY CHANNEL COMMAND, MUST THEN BE A VARY CPU       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0721
*   ELSE                                                           0721
*     SMFRECNT=16+1;                /* ONE FOR ALL CHANNELS PLUS CPU */
*                                                                  0721
         B     @RC00719                                            0721
@RF00719 LA    SMFRECNT,17                                         0721
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP PARAMETERS FOR GETCORE ROUTINE TO OBTAIN STORAGE FOR   */
*   /* SMF RECORD                                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0722
*   GETLENG=LENGTH(SMFRCD22)+(6*SMFRECNT);/* LENGTH                  */
@RC00719 LR    @12,SMFRECNT                                        0722
         MH    @12,@CH01135                                        0722
         AL    @12,@CF02816                                        0722
         STH   @12,GETLENG(,WORKPTR)                               0722
*   SUBPOOL=245;                    /* GET STORAGE FROM SQA          */
         MVI   SUBPOOL(WORKPTR),X'F5'                              0723
*   CALL GETCORE;                   /* GET STORAGE FOR RECORD        */
*                                                                  0724
         BAL   @14,GETCORE                                         0724
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK FOR ANY ERROR FROM GETCORE ROUTINE                      */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0725
*   IF NOCORE='1'B THEN             /* ANY ERROR?                    */
         TM    NOCORE(WORKPTR),B'00000001'                         0725
         BNO   @RF00725                                            0725
*     DO;                                                          0726
*       SMFRCER='1'B;               /* SET SMF RECORD ERROR FLAG     */
         OI    SMFRCER(WORKPTR),B'00000100'                        0727
*       NOCORE='0'B;                /* RESET ERROR FLAG              */
         NI    NOCORE(WORKPTR),B'11111110'                         0728
*       GOTO CHSMFEXT;              /* RETURN TO CALLER              */
         B     CHSMFEXT                                            0729
*     END;                                                         0730
*                                                                  0730
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP ADDRESSABILITY TO SMF RECORD STORAGE                   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0731
*   SMF22PTR=COREPTR;               /* ADDRESS OF STORAGE OBTAINED   */
*                                                                  0731
@RF00725 L     SMF22PTR,COREPTR(,WORKPTR)                          0731
*   /*****************************************************************/
*   /*                                                               */
*   /* GET CORE ROUTINE UPDATES THE LENGTH FIELD BY 8 FOR CHAINING   */
*   /* STORAGE REQUESTS. SUBTRACT THIS HEADER LENGTH                 */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0732
*   GETLENG=GETLENG-LENGTH(CORCHAIN);/* SUBTRACE OUT HEADER  @YM04110*/
*                                                                  0732
         SLR   @12,@12                                             0732
         ICM   @12,3,GETLENG(WORKPTR)                              0732
         SL    @12,@CF00035                                        0732
         STH   @12,GETLENG(,WORKPTR)                               0732
*   /*****************************************************************/
*   /*                                                               */
*   /* FILL IN HEADER INFORMATION                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0733
*   SMF22LEN=GETLENG;               /* LENGTH OF SMF RECORD          */
         STH   @12,SMF22LEN(,SMF22PTR)                             0733
*   SMF22RTY=22;                    /* SET RECORD TYPE               */
*                                                                  0734
         MVI   SMF22RTY(SMF22PTR),X'16'                            0734
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK IF ONLINE OR OFFLINE COMMAND FOR CREATOR FLAG           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0735
*   IF ONLINE='1'B THEN                                            0735
         TM    ONLINE(WORKPTR),B'00100000'                         0735
         BNO   @RF00735                                            0735
*     SMF22IND=2;                   /* ONLINE INDICATOR              */
         MVC   SMF22IND(2,SMF22PTR),@CH00047                       0736
*   ELSE                                                           0737
*     SMF22IND=3;                   /* OFFLINE INDICATOR             */
*                                                                  0737
         B     @RC00735                                            0737
@RF00735 MVC   SMF22IND(2,SMF22PTR),@CH00044                       0737
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP ADDRESSABILITY FOR REST OF ELEMENTS IN RECORD          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0738
*   RFY                                                            0738
*    (SMF22CPU,                                                    0738
*     SMF22CHL) BASED(SMF22PTR);    /* ADDRESSABILITY                */
*                                                                  0738
@RC00735 DS    0H                                                  0739
*   /*****************************************************************/
*   /*                                                               */
*   /* UPDATE SMF POINTER TO POINT TO ELEMENT PORTION OF SMF RECORD  */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0739
*   SMF22PTR=SMF22PTR+LENGTH(SMFRCD22);/* STEP PAST HEADER PORTION   */
*                                                                  0739
         AL    SMF22PTR,@CF02816                                   0739
*   /*****************************************************************/
*   /*                                                               */
*   /* IF THIS WAS A VARY CHANNEL COMMAND THEN FILL OUT CPU ELEMENT  */
*   /* OF RECORD                                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0740
*   IF CHNIND^='1'B THEN            /* CPU COMMAND?                  */
         TM    CHNIND(WORKPTR),B'10000000'                         0740
         BO    @RF00740                                            0740
*     DO;                                                          0741
*                                                                  0741
*       /*************************************************************/
*       /*                                                           */
*       /* ZERO RECORD COUNT TO KEEP TRACK OF NUMBER OF ELEMENTS     */
*       /* PLACED IN RECORD                                          */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0742
*       SMFRECNT=0;                 /* ZERO COUNT                    */
         SLR   SMFRECNT,SMFRECNT                                   0742
*       SMF22PID=1;                 /* INDICATE CPU ENTRY            */
         MVI   SMF22PID(SMF22PTR),X'01'                            0743
*       SMF22CPA=HEXCPU1;           /* MOVE CPU ADDRESS IN           */
         MVC   SMF22CPA(1,SMF22PTR),HEXCPU1(WORKPTR)               0744
*       SMF22CPN=CVTMDL;            /* PLACE CPU MODEL NUMBER IN   0745
*                                      RECORD                        */
         L     @12,CVTPTR                                          0745
         LR    @04,@12                                             0745
         AL    @04,@CF03285                                        0745
         MVC   SMF22CPN(2,SMF22PTR),CVTMDL-250(@04)                0745
*       IF KEEPCHAN^='1'B THEN                                     0746
         TM    KEEPCHAN(WORKPTR),B'10000000'                       0746
         BO    @RF00746                                            0746
*         DO;                       /* CHAN NOT AFFECTED BY KEEPCHAN.
*                                                            @G557P2L*/
*           SMF22PTR=SMF22PTR+LENGTH(SMF22CPU);/* UPDATE PAST ELEMENT*/
*                                                                  0748
         AL    SMF22PTR,@CF01135                                   0748
*           /*********************************************************/
*           /*                                                       */
*           /* DETERMINE IF THIS WAS A ONLINE COMMAND OR OFFLINE     */
*           /* COMMAND AND USE EITHER CAT TABLE OR CAT COPY TO FILL  */
*           /* IN CHANNEL RECORDS SET UP ADDRESSABILITY TO PCCA OF   */
*           /* SUBJECT CPU                                           */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0749
*           PCCAPTR=PCCAT00P(HEXCPUAD+1);/* ADDR OF PCCA             */
         SLR   @15,@15                                             0749
         ICM   @15,3,HEXCPUAD(WORKPTR)                             0749
         SLA   @15,2                                               0749
         L     @12,CVTPCCAT(,@12)                                  0749
         L     PCCAPTR,PCCAT00P(@15,@12)                           0749
*           CATPTR=ADDR(PCCACAT);   /* CAT TABLE ADDRESS             */
*                                                                  0750
         LA    CATPTR,PCCACAT(,PCCAPTR)                            0750
*           /*********************************************************/
*           /*                                                       */
*           /* SET UP DO LOOP TO FILL IN CHANNEL ELEMENT PORTIONS OF */
*           /* SMF RECORDS                                           */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0751
*           DO LOOPCNT=1 TO 16;     /* SCAN CONTROL                  */
*                                                                  0751
         LA    LOOPCNT,1                                           0751
@DL00751 DS    0H                                                  0752
*             /*******************************************************/
*             /*                                                     */
*             /* USE PCCA OF SUBJECT CPU TO FILL IN RECORDS IF THIS  */
*             /* IS A VARY CPU ONLINE THEN USE PCCA TO DETERMINE IF  */
*             /* SMF RECORD SHOULD BE BUILT IF THIS IS A OFFLINE THEN*/
*             /* USE COPY OF CAT TABLE IN WORK AREA TO DETERMINE IF  */
*             /* RECORD SHOULD BE BUILT                              */
*             /*                                                     */
*             /*******************************************************/
*                                                                  0752
*             IF(ONLINE='1'B&CATNOP='0'B&CATNGEN^='1'B)(ONLINE^='1'B&
*                 CHANBIT(LOOPCNT)^='1'B) THEN/* SHOULD WE WRITE A 0752
*                                      RECORD?                       */
         TM    ONLINE(WORKPTR),B'00100000'                         0752
         BNO   @GL00010                                            0752
         TM    CATNOP(CATPTR),B'01100000'                          0752
         BZ    @RT00752                                            0752
@GL00010 TM    ONLINE(WORKPTR),B'00100000'                         0752
         BO    @RF00752                                            0752
         LR    @12,WORKPTR                                         0752
         ALR   @12,LOOPCNT                                         0752
         TM    CHANBIT-1(@12),B'01000000'                          0752
         BO    @RF00752                                            0752
@RT00752 DS    0H                                                  0753
*               DO;                                                0753
*                 SMFRECNT=SMFRECNT+1;/* COUNT NUMBER OF ELEMENTS    */
         AH    SMFRECNT,@CH00049                                   0754
*                 SMF22CID=2;       /* CHANNEL INDICATOR             */
         MVI   SMF22CID(SMF22PTR),X'02'                            0755
*                 SMF22CPD=HEXCPU1; /* CPU ADDRESS OF CHANNEL        */
         MVC   SMF22CPD(1,SMF22PTR),HEXCPU1(WORKPTR)               0756
*                 SMF22CHA=LOOPCNT-1;/* CHANNEL ADDRESS              */
         LR    @12,LOOPCNT                                         0757
         BCTR  @12,0                                               0757
         STC   @12,SMF22CHA(,SMF22PTR)                             0757
*                 SMF22CHA=CATCHID(1:2);/* CHANNEL MODEL AND TYPE    */
         MVC   SMF22CHA(1,SMF22PTR),CATCHID(CATPTR)                0758
*                 SMF22PTR=SMF22PTR+LENGTH(SMF22CHL);/* INCREMENT SMF
*                                      POINTER                       */
         AL    SMF22PTR,@CF01135                                   0759
*               END;                                               0760
*             CATPTR=CATPTR+LENGTH(CAT);/* INCREMENT TO NEXT ENTRY   */
@RF00752 AL    CATPTR,@CF00035                                     0761
*           END;                    /* END OF SCAN LOOP              */
         AH    LOOPCNT,@CH00049                                    0762
         CH    LOOPCNT,@CH00114                                    0762
         BNH   @DL00751                                            0762
*         END;                      /* END NOT CPU,CRH VARY  @G557P2L*/
*     END;                          /* END OF CPU PROCESSING         */
*   ELSE                                                           0765
*     DO;                                                          0765
*                                                                  0765
         B     @RC00740                                            0765
@RF00740 DS    0H                                                  0766
*       /*************************************************************/
*       /*                                                           */
*       /* WAS A CHANNEL COMMAND                                     */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0766
*       PCCAPTR=PCCAT00P(HEXCPUAD+1);/* PCCA ADDRESS                 */
         SLR   @12,@12                                             0766
         ICM   @12,3,HEXCPUAD(WORKPTR)                             0766
         SLA   @12,2                                               0766
         L     @01,CVTPTR                                          0766
         L     @01,CVTPCCAT(,@01)                                  0766
         L     PCCAPTR,PCCAT00P(@12,@01)                           0766
*       CATPTR=ADDR(PCCACAT)+(HEXCHNAD*8);/* CAT TABLE ENTRY         */
*                                                                  0767
         LA    CATPTR,PCCACAT(,PCCAPTR)                            0767
         SLR   @12,@12                                             0767
         ICM   @12,3,HEXCHNAD(WORKPTR)                             0767
         LR    @15,@12                                             0767
         SLA   @15,3                                               0767
         ALR   CATPTR,@15                                          0767
*       /*************************************************************/
*       /*                                                           */
*       /* FILL IN SMF RECORD ENTRY                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0768
*       SMF22CID=2;                 /* CHANNEL IDENTIFIER            */
         MVI   SMF22CID(SMF22PTR),X'02'                            0768
*       SMF22CHN=CATCHID(1:2);      /* TYPE AND MODEL                */
         MVC   SMF22CHN(2,SMF22PTR),CATCHID(CATPTR)                0769
*       SMF22CHA=HEXCHNAD;          /* CHANNEL ADDRESS               */
         STC   @12,SMF22CHA(,SMF22PTR)                             0770
*       SMF22CPD=HEXCPU1;           /* CPU ADDRESS OF CHANNEL        */
         MVC   SMF22CPD(1,SMF22PTR),HEXCPU1(WORKPTR)               0771
*     END;                                                         0772
*                                                                  0772
*   /*****************************************************************/
*   /*                                                               */
*   /* SMF RECORDS HAVE BEEN BUILT WRITE RECORDS RESET SMF POINTER   */
*   /* BACK TO BEGINNING OF SMF RECORD AND FILL IN ELEMENT COUNT     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0773
*   SMF22PTR=COREPTR;               /* RESET POINTER BACK TO       0773
*                                      BEGINNING                     */
*                                                                  0773
@RC00740 L     SMF22PTR,COREPTR(,WORKPTR)                          0773
*   /*****************************************************************/
*   /*                                                               */
*   /* FILL IN ELEMENT COUNT PORTION OF RECORD HEADER                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0774
*   IF CHNIND='1'B THEN             /* CHANNEL COMMAND?              */
         TM    CHNIND(WORKPTR),B'10000000'                         0774
         BNO   @RF00774                                            0774
*     SMF22ECT=1;                   /* ONE ELEMENT FOR VARY CHANNEL  */
*                                                                  0775
         MVC   SMF22ECT(2,SMF22PTR),@CH00049                       0775
*   /*****************************************************************/
*   /*                                                               */
*   /* COUNT OF ELEMENTS PLUS CPU ELEMENT                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0776
*   ELSE                                                           0776
*     SMF22ECT=SMFRECNT+1;          /* NUMBER OF ELEMENTS COUNTED    */
         B     @RC00774                                            0776
@RF00774 LA    @12,1                                               0776
         ALR   @12,SMFRECNT                                        0776
         STH   @12,SMF22ECT(,SMF22PTR)                             0776
*   RFY                                                            0777
*    (R1) RSTD;                     /* RESTRICT REGISTERS            */
@RC00774 DS    0H                                                  0778
*   R1=SMF22PTR;                    /* LOAD ADDRESS OF SMF RECORD    */
         LR    R1,SMF22PTR                                         0778
*   GEN(SMFWTM  (1));               /* WRITE SMF RECORD              */
         SMFWTM  (1)
*   RFY                                                            0780
*    (R1) UNRSTD;                   /* RELEASE REGISTERS             */
*CHSMFEXT:                                                         0781
*   END;                                                           0781
@EL00013 DS    0H                                                  0781
@EF00013 DS    0H                                                  0781
@ER00013 LM    @14,@01,@SA00013                                    0781
         LM    @03,@12,@SA00013+16                                 0781
         BR    @14                                                 0781
*FREECORE:                                                         0782
*   PROC;                                                          0782
*                                                                  0782
FREECORE STM   @14,@12,@SA00014                                    0782
*/******* FREECORE ************************************************  */
*/* FREECORE ROUTINE WILL FREE ANY STORAGE AREAS CHAINED TOGETHER    */
*/* BY GETCORE. ADDITIONALLY ANY AREAS POINTED TO BY OLDPCCA AND     */
*/* OLDLCCA WILL ALSO BE FREED.                                      */
*/*****************************************************************  */
*                                                                  0783
*   DO;                                                            0783
*                                                                  0783
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF ANY STORAGE EXISTS CHAINED OFF OF BEGINPTR         */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0784
*     COREPTR=BEGINPTR;             /* ADDRESSABILITY TO FIRST BLOCK */
         MVC   COREPTR(4,WORKPTR),BEGINPTR(WORKPTR)                0784
*     DO WHILE(COREPTR^=0);         /* LOOP TO END OF CHAIN          */
         B     @DE00785                                            0785
@DL00785 DS    0H                                                  0786
*       RFY                                                        0786
*        (R12) RSTD;                /* RESTRICT REG 12               */
*       SUBPOOL=SPNUM;              /* SUBPOOL TO FREE               */
         L     @15,COREPTR(,WORKPTR)                               0787
         MVC   SUBPOOL(1,WORKPTR),SPNUM+1(@15)                     0787
*       GETLENG=LNGTH;              /* LENGTH TO FREE                */
         MVC   GETLENG(2,WORKPTR),LNGTH(@15)                       0788
*       R12=FRWRDPTR;               /* SAVE NEXT BLOCK ADDRESS FOR 0789
*                                      FREE                          */
         L     R12,FRWRDPTR(,@15)                                  0789
*       CALL FREEMAIN;              /* FREE STORAGE                  */
*                                                                  0790
         BAL   @14,FREEMAIN                                        0790
*       /*************************************************************/
*       /*                                                           */
*       /* BLOCK HAS BEEN FREEDED. UPDATE COREPTR AND FREE NEXT BLOCK*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0791
*       COREPTR=R12;                /* UPDATE TO NEXT BLOCK          */
         ST    R12,COREPTR(,WORKPTR)                               0791
*       RFY                                                        0792
*        (R12) UNRSTD;              /* RELEASE REGISTER 12           */
*     END;                          /* END OF FREECORE LOOP          */
*                                                                  0793
@DE00785 SLR   @12,@12                                             0793
         C     @12,COREPTR(,WORKPTR)                               0793
         BNE   @DL00785                                            0793
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF PSA EXISTS TO BE FREED BY CLEANUP                  */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0794
*     IF CPUPSA^=0 THEN             /* OLD PSA EXISTS                */
         L     @15,CPUPSA(,WORKPTR)                                0794
         CR    @15,@12                                             0794
         BE    @RF00794                                            0794
*       DO;                                                        0795
*                                                                  0795
*         /***********************************************************/
*         /*                                                         */
*         /* ESTABLISH ADDRESSABILITY TO PSA TO FIND PCCA            */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0796
*         PSAPTR=CPUPSA;            /* ADDRESSABILITY TO PSA         */
         LR    PSAPTR,@15                                          0796
*         PCCAPTR=PSAPCCAV;         /* PCCA ADDRESS                  */
*                                                                  0797
         L     PCCAPTR,PSAPCCAV(,PSAPTR)                           0797
*         /***********************************************************/
*         /*                                                         */
*         /* DISCONNECT THIS PSA FROM THE PCCA FOR THIS CPU          */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0798
*         PCCAPSAV=0;               /* ZERO OUT PSA POINTER          */
         ST    @12,PCCAPSAV(,PCCAPTR)                              0798
*         PCCAPSAR=0;               /* ZERO OUT PSA POINTER          */
         ST    @12,PCCAPSAR(,PCCAPTR)                              0799
*/* CHECK FOR FRR STACKS TO BE FREED         @ZA05955                */
*                                                                  0800
*         IF PSACSTK^=0 THEN        /* FRR STACKS EXIST?     @ZA05955*/
         C     @12,PSACSTK(,PSAPTR)                                0800
         BE    @RF00800                                            0800
*           DO;                     /* ROUND DOWN TO DOUBLEWORD    0801
*                                      BOUNDARY TO FREE      @ZA05955*/
*             COREPTR=(PSASSTK&'FFFFFFF8'X);/* FREE AREA ADDR      0802
*                                                            @ZA05955*/
         L     @12,PSASSTK(,PSAPTR)                                0802
         N     @12,@CF02933                                        0802
         ST    @12,COREPTR(,WORKPTR)                               0802
*             GETLENG=YSTAKLEN;     /* LENGTH OF STACKS AREA @ZA05955*/
         MVC   GETLENG(2,WORKPTR),@CH01615                         0803
*             SUBPOOL=245;          /* SUBPOOL OF STACKS AREA      0804
*                                                            @ZA05955*/
         MVI   SUBPOOL(WORKPTR),X'F5'                              0804
*             CALL FREEMAIN;        /* FREE FRR STACKS AREA  @ZA05955*/
         BAL   @14,FREEMAIN                                        0805
*           END;                    /* END FREE FRR STACKS   @ZA05955*/
*                                                                  0806
*         /***********************************************************/
*         /*                                                         */
*         /* SET UP PARMS TO FREE OLD PSA                            */
*         /*                                                         */
*         /***********************************************************/
*                                                                  0807
*         COREPTR=CPUPSA;           /* ADDRESS TO FREE               */
@RF00800 MVC   COREPTR(4,WORKPTR),CPUPSA(WORKPTR)                  0807
*         GETLENG=LENGTH(PSA);      /* LENGTH TO FREE                */
         MVC   GETLENG(2,WORKPTR),@CH03262                         0808
*         SUBPOOL=245;              /* SUBPOOL NUMBER                */
         MVI   SUBPOOL(WORKPTR),X'F5'                              0809
*         CALL FREEMAIN;            /* FREE STORAGE                  */
         BAL   @14,FREEMAIN                                        0810
*       END;                                                       0811
*                                                                  0811
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF PCCA'S OR LCCA'S EXIST TO BE FREED AND IF SO FREE  */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0812
*     IF OLDPCCA^=0 THEN            /* OLD PCCA TO FREE?             */
@RF00794 L     @12,OLDPCCA(,WORKPTR)                               0812
         LTR   @12,@12                                             0812
         BZ    @RF00812                                            0812
*       DO;                                                        0813
*         COREPTR=OLDPCCA;          /* MOVE ADDRESS TO FREE          */
         ST    @12,COREPTR(,WORKPTR)                               0814
*         SUBPOOL=245;              /* SUBPOOL NUMBER TO FREE        */
         MVI   SUBPOOL(WORKPTR),X'F5'                              0815
*         GETLENG=LENGTH(PCCA);     /* LENGTH TO FREE                */
         MVC   GETLENG(2,WORKPTR),@CH03263                         0816
*         CALL FREEMAIN;            /* FREE STORAGE                  */
         BAL   @14,FREEMAIN                                        0817
*       END;                                                       0818
*                                                                  0818
*     /***************************************************************/
*     /*                                                             */
*     /* CHECK IF A LCCA EXISTS THAT NEEDS TO BE FREEDED             */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0819
*     IF OLDLCCA^=0 THEN            /* LCCA TO FREE?                 */
@RF00812 L     @12,OLDLCCA(,WORKPTR)                               0819
         LTR   @12,@12                                             0819
         BZ    @RF00819                                            0819
*       DO;                                                        0820
*         COREPTR=OLDLCCA;          /* ADDRESS OF LCCA TO FREE       */
         ST    @12,COREPTR(,WORKPTR)                               0821
*         SUBPOOL=245;              /* SUBPOOL NUMBER TO FREE        */
         MVI   SUBPOOL(WORKPTR),X'F5'                              0822
*         GETLENG=LENGTH(LCCA);     /* LENGTH TO FREE                */
         MVC   GETLENG(2,WORKPTR),@CH03264                         0823
*         CALL FREEMAIN;            /* FREE STORAGE                  */
         BAL   @14,FREEMAIN                                        0824
*       END;                                                       0825
*   END;                            /* END OF FREECORE PROC          */
*   END;                                                           0827
@EL00014 DS    0H                                                  0827
@EF00014 DS    0H                                                  0827
@ER00014 LM    @14,@12,@SA00014                                    0827
         BR    @14                                                 0827
*FREEMAIN:                                                         0828
*   PROC;                                                          0828
*                                                                  0828
FREEMAIN STM   @14,@12,12(@13)                                     0828
*/*****************************************************************  */
*/* FREEMAIN ROUTINE WILL FREE STORAGE REQUESTED BY CALLER. INPUT    */
*/* IS COREPTR, SUBPOOL, AND GETLENG FIELDS IN WORKAREA. NO ERROR    */
*/* INDICATORS ARE SET IN ROUTINE                                    */
*/*****************************************************************  */
*                                                                  0829
*   DO;                             /* FREEMAIN (E) LV(GETLENG)    0829
*                                      A(COREPTR) SP(SUBPOOL)        */
*     RESPECIFY                                                    0830
*      (GPR01P) RESTRICTED;                                        0830
*     I005=I005&&I005;              /* INIT LIST                     */
         XC    I005(10),I005                                       0831
*     I00505='00'X;                 /* SET TYPE                      */
         MVI   I00505,X'00'                                        0832
*     I00502=GETLENG;               /* LENGTH                        */
         SLR   @12,@12                                             0833
         ICM   @12,3,GETLENG(WORKPTR)                              0833
         STCM  @12,7,I00502                                        0833
*     I00504=ADDR(COREPTR);         /* ADDR OF ADDR LIST             */
         LA    @12,COREPTR(,WORKPTR)                               0834
         STCM  @12,7,I00504                                        0834
*     I00506=SUBPOOL;               /* SUBPOOL VALUE                 */
         MVC   I00506(1),SUBPOOL(WORKPTR)                          0835
*     GPR01P=ADDR(I005);            /* REG1 POINTS TO LIST           */
         LA    GPR01P,I005                                         0836
*     SVC(5);                       /* STANDARD-FORM OF GETMAIN      */
         SVC   5                                                   0837
*     RESPECIFY                                                    0838
*      (GPR01P) UNRESTRICTED;                                      0838
*   END;                            /* FREEMAIN (E) LV(GETLENG)    0839
*                                      A(COREPTR) SP(SUBPOOL)        */
*   END;                                                           0840
@EL00015 DS    0H                                                  0840
@EF00015 DS    0H                                                  0840
@ER00015 LM    @14,@12,12(@13)                                     0840
         BR    @14                                                 0840
*GETCORE:                                                          0841
*   PROC;                                                          0841
*                                                                  0841
GETCORE  STM   @14,@12,@SA00016                                    0841
*/****************************************************************** */
*/* GETCORE ROUTINE WILL GET AND CHAIN STORAGE REQUESTED BY CALLER   */
*/* INPUT TO ROUTINE IS LENGTH AND SUBPOOL SPECIFIED IN WORKAREA     */
*/* STORAGE BLOCKS WILL BE CHAINED TOGETHER AND ANCHORED OUT OF      */
*/* WORKAREA FIELD BEGINPTR. SUBPOOL AND LENGTH IS RECORDED IN       */
*/* CHAIN BLOCKS FOR FREEING LATER.                                  */
*/* POSSIBLE ERROR INDICATORS ARE: NOCORE                            */
*/****************************************************************** */
*                                                                  0842
*   IF NOCHAIN='0'B THEN            /* CHECK FOR NOCHAIN INDICATOR   */
*                                                                  0842
         TM    NOCHAIN(WORKPTR),B'10000000'                        0842
         BNZ   @RF00842                                            0842
*     /***************************************************************/
*     /*                                                             */
*     /* IF CALLER HAS REQUESTED TO CHAIN THIS BLOCK WITH ALL OTHER  */
*     /* GETMAINS THEN ADD EIGHT TO REQUESTED LENGTH FOR CHAINING    */
*     /* BLOCKS                                                      */
*     /*                                                             */
*     /***************************************************************/
*                                                                  0843
*     GETLENG=GETLENG+8;            /* ADD EIGHT TO LENGTH           */
         LA    @12,8                                               0843
         SLR   @15,@15                                             0843
         ICM   @15,3,GETLENG(WORKPTR)                              0843
         ALR   @12,@15                                             0843
         STH   @12,GETLENG(,WORKPTR)                               0843
*   RFY                                                            0844
*    (RETCODE) RSTD;                /* RESTRICT RETURN CODE REG      */
*                                                                  0844
@RF00842 DS    0H                                                  0845
*   /*****************************************************************/
*   /*                                                               */
*   /* ISSUE CONDITIONAL GETMAIN FOR STORAGE REQUESTED               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0845
*   DO;                             /* GETMAIN (EC) LV(GETLENG)    0845
*                                      A(COREPTR) SP(SUBPOOL)      0845
*                                      RTCD(RETCODE)                 */
*     RESPECIFY                                                    0846
*      (GPR01P,                                                    0846
*       GPR15F) RESTRICTED;                                        0846
*     I004=I004&&I004;              /* INIT LIST                     */
         XC    I004(10),I004                                       0847
*     I00404='20'X;                 /* TYPE                          */
         MVI   I00404,X'20'                                        0848
*     I00401=GETLENG;               /* LENGTH                        */
         SLR   @14,@14                                             0849
         ICM   @14,3,GETLENG(WORKPTR)                              0849
         ST    @14,I00401                                          0849
*     I00403=ADDR(COREPTR);         /* ADDR OF ADDR LIST             */
         LA    @14,COREPTR(,WORKPTR)                               0850
         STCM  @14,7,I00403                                        0850
*     I00405=SUBPOOL;               /* SUBPOOL VALUE                 */
         MVC   I00405(1),SUBPOOL(WORKPTR)                          0851
*     GPR01P=ADDR(I004);            /* REG1 POINTS TO LIST           */
         LA    GPR01P,I004                                         0852
*     SVC(4);                       /* STANDARD-FORM OF GETMAIN      */
         SVC   4                                                   0853
*     RETCODE=GPR15F;               /* SET RETURN CODE               */
*     RESPECIFY                                                    0855
*      (GPR01P,                                                    0855
*       GPR15F) UNRESTRICTED;                                      0855
*   END;                            /* GETMAIN (EC) LV(GETLENG)    0856
*                                      A(COREPTR) SP(SUBPOOL)      0856
*                                      RTCD(RETCODE)                 */
*                                                                  0856
*   /*****************************************************************/
*   /*                                                               */
*   /* CHECK RETURN CODE AND SET NOCORE ERROR FLAG IF ERROR          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0857
*   IF RETCODE^=0 THEN              /* WAS GETMAIN SUCCESSFUL        */
         LTR   RETCODE,RETCODE                                     0857
         BZ    @RF00857                                            0857
*     DO;                                                          0858
*       NOCORE='1'B;                /* SET ERROR FLAG                */
         OI    NOCORE(WORKPTR),B'00000001'                         0859
*       GOTO GETCOREX;              /* RETURN TO CALLER              */
         B     GETCOREX                                            0860
*     END;                                                         0861
*   RFY                                                            0862
*    (RETCODE) UNRSTD;                                             0862
*                                                                  0862
@RF00857 DS    0H                                                  0863
*   /*****************************************************************/
*   /*                                                               */
*   /* ZERO OUT STORAGE OBTAINED                                     */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0863
*   RFY                                                            0863
*    (R10,                                                         0863
*     R11,                                                         0863
*     R14,                                                         0863
*     R15) RSTD;                    /* RESTRICT REGISTERS            */
*   R10=COREPTR;                    /* LOAD ADDRESS OF STORAGE     0864
*                                      OBTAINED                      */
         L     R10,COREPTR(,WORKPTR)                               0864
*   R11=GETLENG;                    /* LOAD LENGTH OF STORAGE      0865
*                                      OBTAINED                      */
         SLR   R11,R11                                             0865
         ICM   R11,3,GETLENG(WORKPTR)                              0865
*   R14=0;                          /* ZERO PAD CHARACTER            */
         SLR   R14,R14                                             0866
*   R15=0;                          /* ZERO LENGTH                   */
         SLR   R15,R15                                             0867
*   GEN(MVCL R10,R14);              /* ZERO STORAGE JUST OBTAINED    */
         MVCL R10,R14
*   RFY                                                            0869
*    (R10,                                                         0869
*     R11,                                                         0869
*     R14,                                                         0869
*     R15) UNRSTD;                  /* RELEASE REGISTERS FOR USE     */
*                                                                  0869
*   /*****************************************************************/
*   /*                                                               */
*   /* IF CHAINING WAS NOT REQUESTED THEN RETURN TO CALLER           */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0870
*   IF NOCHAIN='1'B THEN            /* CHAINING REQUESTED?           */
         TM    NOCHAIN(WORKPTR),B'10000000'                        0870
         BO    @RT00870                                            0870
*     GOTO GETCOREX;                /* RETURN TO CALLER              */
*                                                                  0871
*   /*****************************************************************/
*   /*                                                               */
*   /* CHAIN THIS BLOCK TO OTHER BLOCKS IN CHAIN AND UPDATE ANCHOR   */
*   /* PTR TO POINT TO THIS BLOCK                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0872
*   IF BEGINPTR=0 THEN              /* FIRST ENTRY                   */
         SLR   @12,@12                                             0872
         C     @12,BEGINPTR(,WORKPTR)                              0872
         BNE   @RF00872                                            0872
*     FRWRDPTR=0;                   /* ZERO OUT FOR LAST ENTRY       */
         L     @01,COREPTR(,WORKPTR)                               0873
         ST    @12,FRWRDPTR(,@01)                                  0873
*   ELSE                                                           0874
*     FRWRDPTR=BEGINPTR;            /* POINT TO NEXT BLOCK           */
         B     @RC00872                                            0874
@RF00872 L     @12,COREPTR(,WORKPTR)                               0874
         MVC   FRWRDPTR(4,@12),BEGINPTR(WORKPTR)                   0874
*   BEGINPTR=COREPTR;               /* ANCHOR THIS BLOCK             */
*                                                                  0875
@RC00872 L     @12,COREPTR(,WORKPTR)                               0875
         ST    @12,BEGINPTR(,WORKPTR)                              0875
*   /*****************************************************************/
*   /*                                                               */
*   /* SAVE NECESSARY INFORMATION IN CHAIN BLOCKS FOR FREEMAIN       */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0876
*   LNGTH=GETLENG;                  /* SAVE LENGTH OF REQUEST        */
         MVC   LNGTH(2,@12),GETLENG(WORKPTR)                       0876
*   SPNUM=SUBPOOL;                  /* SAVE SUBPOOL NUMBER           */
*                                                                  0877
         SLR   @15,@15                                             0877
         IC    @15,SUBPOOL(,WORKPTR)                               0877
         STH   @15,SPNUM(,@12)                                     0877
*   /*****************************************************************/
*   /*                                                               */
*   /* UPDATE COREPTR TO STORAGE FOR CALLER                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0878
*   COREPTR=COREPTR+8;                                             0878
         AL    @12,@CF00035                                        0878
         ST    @12,COREPTR(,WORKPTR)                               0878
*GETCOREX:                                                         0879
*   NOCHAIN='0'B;                   /* RESET NOCHAIN FLAG            */
GETCOREX NI    NOCHAIN(WORKPTR),B'01111111'                        0879
*   END;                            /* *** END OF GETCORE ROUTINE    */
@EL00016 DS    0H                                                  0880
@EF00016 DS    0H                                                  0880
@ER00016 LM    @14,@12,@SA00016                                    0880
         BR    @14                                                 0880
*                                                                  0881
*/********************************************************************/
*/* THIS INTERNAL PROCEDURE ISSUES THE MACRO MSGTBL TO GENERATE      */
*/* THE DECLARES REQURIED FOR ISSUING ALL WTO'S REQUIRED BY VARY     */
*/* CPU AND CAHNNEL.  THE MESSAGES ARE FORMATED DYNAMICALLY IF       */
*/* REQUIRED AND ISSUED TO THE APPROPRIATE CONSOLE.                  */
*/********************************************************************/
*                                                                  0881
*WTORTN:                                                           0881
*   PROC(MIDENT);                   /* ROUTINE TO ISSUE MSGS         */
WTORTN   STM   @14,@12,@SA00017                                    0881
         MVC   @PC00017(4),0(@01)                                  0881
*   DCL                                                            0882
*     MIDENT FIXED;                 /* MESSAGE NUMBER USED AS AN   0882
*                                      ARGUMENT INTO MESSAGE TABLE   */
*/********************************************************************/
*/* THE FOLLOWING MACRO CREATES THE DECLARES FOR ALL MESSAGES        */
*/* REQUIRED.                                                        */
*/********************************************************************/
*/********************************************************************/
*/* INVOKE THE MSGTBLE MACRO TO CREATE THE DECLARES FOR ALL          */
*/* MESSAGES.                                                        */
*/********************************************************************/
*                                                                  0883
*   DCL                                                            0883
*     1 MSGTBLE STATIC LOCAL,                                      0883
*      2 * FIXED(8) INIT(51),                                      0883
*      2 * FIXED(8) INIT(01),                                      0883
*      2 * CHAR(49) INIT(                                          0883
*            'IEE718I ___ JOBS SCHEDULED WITH AFFINITY TO CPU _'), 0883
*      2 * FIXED(8) INIT(18),                                      0883
*      2 * FIXED(8) INIT(02),                                      0883
*      2 * CHAR(16) INIT('IEE512I ___ BUSY'),                      0883
*      2 * FIXED(8) INIT(30),                                      0883
*      2 * FIXED(8) INIT(03),                                      0883
*      2 * CHAR(28) INIT('IEE502I CHANNEL (_,_) ONLINE'),          0883
*      2 * FIXED(8) INIT(24),                                      0883
*      2 * FIXED(8) INIT(04),                                      0883
*      2 * CHAR(22) INIT('IEE504I CPU (_) ONLINE'),                0883
*      2 * FIXED(8) INIT(31),                                      0883
*      2 * FIXED(8) INIT(05),                                      0883
*      2 * CHAR(29) INIT('IEE503I CHANNEL (_,_) OFFLINE'),         0883
*      2 * FIXED(8) INIT(25),                                      0883
*      2 * FIXED(8) INIT(06),                                      0883
*      2 * CHAR(23) INIT('IEE505I CPU (_) OFFLINE'),               0883
*      2 * FIXED(8) INIT(69),                                      0883
*      2 * FIXED(8) INIT(07),                                      0883
*      2 * CHAR(67) INIT(                                          0883
*'IEE541E VARY COMMAND REJECTED, WOULD REMOVE LAST PATH TO DEVICE ___')
*         ,                                                        0883
*      2 * FIXED(8) INIT(45),                                      0883
*      2 * FIXED(8) INIT(08),                                      0883
*      2 * CHAR(43) INIT('IEE761I CPU (_) OFFLINE WITH UNKNOWN STATUS')
*         ,                                                        0883
*      2 * FIXED(8) INIT(53),                                      0883
*      2 * FIXED(8) INIT(09),                                      0883
*      2 * CHAR(51) INIT(                                          0883
*            'IEE772I CPU (_) UNAVAILABLE FOR AFFINITY SCHEDULING'),
*      2 * FIXED(8) INIT(66),                                      0883
*      2 * FIXED(8) INIT(10),                                      0883
*      2 * CHAR(64) INIT(                                          0883
*'IEE719I VARY COMMAND REJECTED, OUTSTANDING RESERVE TO DEVICE ___'),
*      2 * FIXED(8) INIT(50),                                      0883
*      2 * FIXED(8) INIT(11),                                      0883
*      2 * CHAR(48) INIT(                                          0883
*            'IEE345I VARY COMMAND REJECTED, AUTHORITY INVALID'),  0883
*      2 * FIXED(8) INIT(47),                                      0883
*      2 * FIXED(8) INIT(12),                                      0883
*      2 * CHAR(45) INIT('IEE715I VARY COMMAND REJECTED, INVALID SYNTAX
*            ),                                                    0883
*      2 * FIXED(8) INIT(39),                                      0883
*      2 * FIXED(8) INIT(13),                                      0883
*      2 * CHAR(37) INIT('IEE713I VARY COMMAND PROCESSOR FAILED'), 0883
*      2 * FIXED(8) INIT(54),                                      0883
*      2 * FIXED(8) INIT(14),                                      0883
*      2 * CHAR(52) INIT(                                          0883
*            'IEE760E VARY COMMAND REJECTED, STORAGE NOT AVAILABLE'),
*      2 * FIXED(8) INIT(52),                                      0883
*      2 * FIXED(8) INIT(15),                                      0883
*      2 * CHAR(50) INIT(                                          0883
*            'IEE763I VARY CHANNEL COMMAND REJECTED, CPU OFFLINE'),
*      2 * FIXED(8) INIT(50),                                      0883
*      2 * FIXED(8) INIT(16),                                      0883
*      2 * CHAR(48) INIT(                                          0883
*            'IEE771I VARY CPU REJECTED, WOULD REMOVE LAST CPU'),  0883
*      2 * FIXED(8) INIT(63),                                      0883
*      2 * FIXED(8) INIT(17),                                      0883
*      2 * CHAR(61) INIT(                                          0883
*'IEE500E VARY CHANNEL ONLINE REJECTED, CHANNEL NOT OPERATIONAL'), 0883
*      2 * FIXED(8) INIT(57),                                      0883
*      2 * FIXED(8) INIT(18),                                      0883
*      2 * CHAR(55) INIT(                                          0883
*            'IEE754I NOT ALL DEVICES BROUGHT ONLINE WITH CPU/CHANNEL')
*         ,                                                        0883
*      2 * FIXED(8) INIT(39),                                      0883
*      2 * FIXED(8) INIT(19),                                      0883
*      2 * CHAR(37) INIT('IEE755I VARY COMMAND SMF RECORD ERROR'), 0883
*      2 * FIXED(8) INIT(43),                                      0883
*      2 * FIXED(8) INIT(20),                                      0883
*      2 * CHAR(41) INIT('IEE756I VARY COMMAND CANCELED BY OPERATOR'),
*      2 * FIXED(8) INIT(72),                                      0883
*      2 * FIXED(8) INIT(21),                                      0883
*      2 * CHAR(70) INIT('IEE527E VARY COMMAND REJECTED, WOULD REMOVE A
*CESS TO CONSOLE/HARDCOPY'),                                       0883
*      2 * FIXED(8) INIT(61),                                      0883
*      2 * FIXED(8) INIT(22),                                      0883
*      2 * CHAR(59) INIT(                                          0883
*'IEE506E VARY REJECTED, CPU DID NOT RESPOND TO RESET/RESTART'),   0883
*      2 * FIXED(8) INIT(58),                                      0883
*      2 * FIXED(8) INIT(23),                                      0883
*      2 * CHAR(56) INIT(                                          0883
*            'IEE757I VARY CPU REJECTED, CLOCKS CANNOT BE SYNCHRONIZED'
*            ),                                                    0883
*      2 * FIXED(8) INIT(56),                                      0883
*      2 * FIXED(8) INIT(24),                                      0883
*      2 * CHAR(54) INIT(                                          0883
*            'IEE758I VARY CPU REJECTED, MACHINE CHECK ON TARGET CPU'),
*      2 * FIXED(8) INIT(64),                                      0883
*      2 * FIXED(8) INIT(25),                                      0883
*      2 * CHAR(62) INIT(                                          0883
*'IEE759I VARY CPU REJECTED, WOULD RESULT IN A NOCLOCK CONDITION'),
*      2 * FIXED(8) INIT(43),                                      0883
*      2 * FIXED(8) INIT(26),                                      0883
*      2 * CHAR(41) INIT('IEE523I INVALID COMMAND IN ONE CPU SYSTEM'),
*      2 * FIXED(8) INIT(56),                                      0883
*      2 * FIXED(8) INIT(27),                                      0883
*      2 * CHAR(54) INIT(                                          0883
*            'IEE762I VARY COMMAND TERMINATED DUE TO SYSTEM RECOVERY'),
*      2 * FIXED(8) INIT(62),                                      0883
*      2 * FIXED(8) INIT(28),                                      0883
*      2 * CHAR(60) INIT(                                          0883
*'IEE073I VARY REJECTED, IMPROPER CHANNEL NUMBER SPECIFICATION'),  0883
*      2 * FIXED(8) INIT(73),                                      0883
*      2 * FIXED(8) INIT(29),                                      0883
*      2 * CHAR(71) INIT('IEE773I VARY TERMINATED, CHANNEL RECONFIGURAT
*ON HARDWARE NOT ACTIVATED'),                                      0883
*      2 * FIXED(8) INIT(54),                                      0883
*      2 * FIXED(8) INIT(30),                                      0883
*      2 * CHAR(52) INIT(                                          0883
*            'IEE774I 3850 NOT CONFIGURED FOR MP OPERATION  RC=XXX'),
*      2 * FIXED(8) INIT(58),                                      0883
*      2 * FIXED(8) INIT(31),                                      0883
*      2 * CHAR(56) INIT(                                          0883
*            'IEE763I VARY CPU,KEEPCHAN COMMAND REJECTED - CPU OFFLINE'
*            ),                                                    0883
*      2 * FIXED(8) INIT(61),                                      0883
*      2 * FIXED(8) INIT(32),                                      0883
*      2 * CHAR(59) INIT(                                          0883
*'IEE745I VARY CPU,KEEPCHAN REJECTED - KEEPCHAN NOT SUPPORTED'),   0883
*      2 * FIXED(8) INIT(69),                                      0883
*      2 * FIXED(8) INIT(33),                                      0883
*      2 * CHAR(67) INIT(                                          0883
*'IEE746I VARY TERMINATED - KEEPCHAN FUNCTION FAILED, CPU BACK ONLINE')
*         ,                                                        0883
*      2 * FIXED(8) INIT(72),                                      0883
*      2 * FIXED(8) INIT(34),                                      0883
*      2 * CHAR(70) INIT('IEE747E VARY TERMINATED - KEEPCHAN FUNCTION F
*ILED, CPU STATUS UNKNOWN'),                                       0883
*      2 * FIXED(8) INIT(0);                                       0883
*   DCL                                                            0884
*     MSGPTR PTR(31),               /* POINTER TO MSG ELEMENT        */
*     MSGLEN FIXED(8),              /* LENGTH OF MSG TEXT            */
*     MSGID FIXED(8);               /* ID OF MESSAGE                 */
*/*****************************************************************  */
*/* FORMAT OF MESSAGE TABLE ENTRIES FOR VARY CPU/CHANNEL             */
*/*****************************************************************  */
*                                                                  0885
*   DCL                                                            0885
*     1 MSGELEM BASED(MSGPTR),      /* MESSAGE ELEMENT FORMAT        */
*      2 LENELEM FIXED(8),          /* LENGTH OF ELEMENT             */
*      2 IDELEM FIXED(8),           /* ELEMENT IDENTIFIER            */
*      2 MTEXT CHAR(120);           /* MESSAGE TEXT                  */
*                                                                  0885
*   /*****************************************************************/
*   /*                                                               */
*   /* START OF WTO ROUTINE                                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0886
*   IF SKIPWTO='1'B THEN            /* ANY MORE MSGS TO BE ISSUED? 0886
*                                                            @ZA10796*/
         TM    SKIPWTO(WORKPTR),B'00000100'                        0886
         BO    @RT00886                                            0886
*     GOTO WTOEXIT;                 /* NO, BRANCH TO EXIT ROUTINE  0887
*                                                            @ZA10796*/
*   WTOPARML=''B;                   /* ZERO OUT PARM LIST            */
         XC    WTOPARML(120),WTOPARML                              0888
*   WPLPTR=ADDR(WTOPARML);          /* ADDRESSABILITY FOR PARM LIST  */
*                                                                  0889
         LA    WPLPTR,WTOPARML                                     0889
*   /*****************************************************************/
*   /*                                                               */
*   /* SEARCH MESSAGE TABLE FOR MESSAGE ID PASSED                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0890
*   MSGID=MIDENT;                   /* SAVE SEARCH ARG PASSED        */
         L     @12,@PC00017                                        0890
         L     MSGID,MIDENT(,@12)                                  0890
*   MSGPTR=ADDR(MSGTBLE);           /* POINT TO FIRST ELEMENT        */
*                                                                  0891
         LA    MSGPTR,MSGTBLE                                      0891
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP DO LOOP TO SCAN ALL ELEMENTS IN TABLE SEARCHING FOR    */
*   /* MATCH WITH ID PASSED                                          */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0892
*   DO WHILE((LENELEM^=0)&(IDELEM^=MSGID));/* SCAN TABLE             */
         B     @DE00892                                            0892
@DL00892 DS    0H                                                  0893
*     MSGPTR=MSGPTR+LENELEM;        /* INCREMENT POINTER TO NEXT ELEM*/
         SLR   @12,@12                                             0893
         IC    @12,LENELEM(,MSGPTR)                                0893
         ALR   MSGPTR,@12                                          0893
*   END;                                                           0894
*                                                                  0894
@DE00892 CLI   LENELEM(MSGPTR),0                                   0894
         BE    @DC00892                                            0894
         SLR   @12,@12                                             0894
         IC    @12,IDELEM(,MSGPTR)                                 0894
         CR    MSGID,@12                                           0894
         BNE   @DL00892                                            0894
@DC00892 DS    0H                                                  0895
*   /*****************************************************************/
*   /*                                                               */
*   /* MESSAGE HAS BEEN FOUND AND IS POINTED TO BY MSGPTR SET UP     */
*   /* PARAMETER LIST FOR WTO AND FILL IN                            */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0895
*   MSGLEN=LENELEM-2;               /* LENGTH OF MESSAGE             */
         SLR   MSGLEN,MSGLEN                                       0895
         IC    MSGLEN,LENELEM(,MSGPTR)                             0895
         BCTR  MSGLEN,0                                            0895
         BCTR  MSGLEN,0                                            0895
*   WPLLGH=MSGLEN+4;                /* POINTER TO END OF MESSAGE     */
         LA    @12,4                                               0896
         ALR   @12,MSGLEN                                          0896
         STH   @12,WPLLGH(,WPLPTR)                                 0896
*   WPLMCSFA='1'B;                  /* ROUTE/DESC PRESENT            */
*   WPLMCSFB='1'B;                  /* QUE TO REG 0 CONS             */
*   WPLMCSFC='1'B;                  /* COMMAND RESPONSE              */
*                                                                  0899
         OI    WPLMCSFA(WPLPTR),B'11100000'                        0899
*   /*****************************************************************/
*   /*                                                               */
*   /* MOVE MESSAGE TEXT TO PARM LIST                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0900
*   WPLTXT(1:MSGLEN)=MTEXT(1:MSGLEN);/* MOVE TO LIST                 */
*                                                                  0900
         LR    @12,MSGLEN                                          0900
         BCTR  @12,0                                               0900
         EX    @12,@SM03287                                        0900
*   /*****************************************************************/
*   /*                                                               */
*   /* ALL DYNAMIC MESSAGES HAVE BEEN ASSIGNED A MESSAGE ID OF TEN OR*/
*   /* LESS. CHECK IF MESSAGE ID IS TEN OR LESS AND IF SO FILL IN    */
*   /* DYNAMIC PORTION OF MESSAGE                                    */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0901
*   IF MSGID=<10MSGID=30 THEN      /* DYNAMIC MESSAGE?      @Y30LPXA*/
         CH    MSGID,@CH01603                                      0901
         BNH   @RT00901                                            0901
         CH    MSGID,@CH02832                                      0901
         BNE   @RF00901                                            0901
@RT00901 DS    0H                                                  0902
*     DO;                                                          0902
*                                                                  0902
*       /*************************************************************/
*       /*                                                           */
*       /* CONVERT CPU AND CHANNEL ADDRESS FOR USE BY DYNAMIC        */
*       /* MESSAGES                                                  */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0903
*       IF HEXCPU1<10 THEN          /* DECIMAL VALUE?                */
         CLI   HEXCPU1(WORKPTR),10                                 0903
         BNL   @RF00903                                            0903
*         CPUCHAR=HEXCPU1+240;      /* REPLACE ZONE                  */
         IC    @12,HEXCPU1(,WORKPTR)                               0904
         LA    @12,240(,@12)                                       0904
         STC   @12,CPUCHAR                                         0904
*       ELSE                                                       0905
*         CPUCHAR=HEXCPU1+183;      /* CONVERT TO CHARACTER          */
         B     @RC00903                                            0905
@RF00903 IC    @12,HEXCPU1(,WORKPTR)                               0905
         LA    @12,183(,@12)                                       0905
         STC   @12,CPUCHAR                                         0905
*       IF HEXCHN1<10 THEN          /* DECIMAL VALUE?                */
@RC00903 CLI   HEXCHN1(WORKPTR),10                                 0906
         BNL   @RF00906                                            0906
*         CHNCHAR=HEXCHN1+240;      /* REPLACE ZONE                  */
         IC    @12,HEXCHN1(,WORKPTR)                               0907
         LA    @12,240(,@12)                                       0907
         STC   @12,CHNCHAR                                         0907
*       ELSE                                                       0908
*         CHNCHAR=HEXCHN1+183;      /* CONVERT TO ALPHA              */
*                                                                  0908
         B     @RC00906                                            0908
@RF00906 IC    @12,HEXCHN1(,WORKPTR)                               0908
         LA    @12,183(,@12)                                       0908
         STC   @12,CHNCHAR                                         0908
*       /*************************************************************/
*       /*                                                           */
*       /* FILL IN DYNAMIC PORTION OF MESSAGE                        */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0909
*       IF MSGID=1 THEN             /* IEE718I ?                     */
@RC00906 CH    MSGID,@CH00049                                      0909
         BNE   @RF00909                                            0909
*         DO;                                                      0910
*                                                                  0910
*           /*********************************************************/
*           /*                                                       */
*           /* CONVERT NUMBER OF JOBS FOUND WITH AFFINITY TO DECIMAL */
*           /* AND PLACE IN MESSAGE TEXT, ALSO FILL IN CPU ID        */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0911
*           CVD(AFFINJOB,TEMPWORK); /* CONVERT BIN NUMBER TO DEC     */
         SLR   @12,@12                                             0911
         ICM   @12,3,AFFINJOB(WORKPTR)                             0911
         CVD   @12,@TS00001                                        0911
         MVC   TEMPWORK(4),@TS00001+4                              0911
*           TEMPWORK(4:4)=TEMPWORK(4:4)'0F'X;/* SET DECIMAL SIGN    */
         OI    TEMPWORK+3,X'0F'                                    0912
*           UNPK(IEE718JN,TEMPWORK(3:4));/* UNPACK NUMBER TO MESSAGE
*                                      TEXT                          */
*                                                                  0913
         UNPK  IEE718JN(3,WPLPTR),TEMPWORK+2(2)                    0913
*           /*********************************************************/
*           /*                                                       */
*           /* FILL IN CPU ADDRESS                                   */
*           /*                                                       */
*           /*********************************************************/
*                                                                  0914
*           IEE718CP=CPUCHAR;       /* MOVE CPU ADDRESS TO MESSAGE 0914
*                                      TEXT                          */
         MVC   IEE718CP(1,WPLPTR),CPUCHAR                          0914
*         END;                                                     0915
*                                                                  0915
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE512I. DEVICE BUSY                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0916
*       IF MSGID=2 THEN             /* MESSAGE?                      */
@RF00909 CH    MSGID,@CH00047                                      0916
         BNE   @RF00916                                            0916
*         IEE512DD=DDD;             /* MOVE DEVICE NAME IN           */
*                                                                  0917
         MVC   IEE512DD(3,WPLPTR),DDD(WORKPTR)                     0917
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE502I. CHANNEL ONLINE                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0918
*       IF MSGID=3 THEN             /* MESSAGE?                      */
@RF00916 CH    MSGID,@CH00044                                      0918
         BNE   @RF00918                                            0918
*         DO;                                                      0919
*           IEE502CP=CPUCHAR;       /* MOVE CPU ADDRESS TO TEXT      */
         MVC   IEE502CP(1,WPLPTR),CPUCHAR                          0920
*           IEE502CH=CHNCHAR;       /* MOVE CHANNEL ADDRESS          */
         MVC   IEE502CH(1,WPLPTR),CHNCHAR                          0921
*         END;                                                     0922
*                                                                  0922
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE504I. CPU ONLINE                     */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0923
*       IF MSGID=4 THEN             /* MESSAGE?                      */
@RF00918 CH    MSGID,@CH00094                                      0923
         BNE   @RF00923                                            0923
*         IEE504CP=CPUCHAR;         /* MOVE CPU ADDRESS TO TEXT      */
*                                                                  0924
         MVC   IEE504CP(1,WPLPTR),CPUCHAR                          0924
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE503I. CHANNEL OFFLINE                */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0925
*       IF MSGID=5 THEN             /* MESSAGE?                      */
@RF00923 CH    MSGID,@CH00067                                      0925
         BNE   @RF00925                                            0925
*         DO;                                                      0926
*           IEE503CP=CPUCHAR;       /* MOVE CPU ADDRESS              */
         MVC   IEE503CP(1,WPLPTR),CPUCHAR                          0927
*           IEE503CH=CHNCHAR;       /* MOVE CHANNEL ADDRESS          */
         MVC   IEE503CH(1,WPLPTR),CHNCHAR                          0928
*         END;                                                     0929
*                                                                  0929
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE505I. CPU OFFLINE                    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0930
*       IF MSGID=6 THEN             /* MESSAGE?                      */
@RF00925 CH    MSGID,@CH01135                                      0930
         BNE   @RF00930                                            0930
*         IEE505CP=CPUCHAR;         /* MOVE CPU ADDRESS TO MESSAGE   */
*                                                                  0931
         MVC   IEE505CP(1,WPLPTR),CPUCHAR                          0931
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE541I. LASTPATH                       */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0932
*       IF MSGID=7 THEN             /* MESSAGE?                      */
@RF00930 CH    MSGID,@CH00037                                      0932
         BNE   @RF00932                                            0932
*         IEE541DD=DDD;             /* MOVE DEVICE NAME TO TEXT      */
*                                                                  0933
         MVC   IEE541DD(3,WPLPTR),DDD(WORKPTR)                     0933
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE761I. OFFLINE WITH UNKNOWN STATUS    */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0934
*       IF MSGID=8 THEN             /* MESSAGE?                      */
@RF00932 CH    MSGID,@CH00035                                      0934
         BNE   @RF00934                                            0934
*         IEE761CP=CPUCHAR;         /* MOVE CPU ADDRESS TO TEXT      */
*                                                                  0935
         MVC   IEE761CP(1,WPLPTR),CPUCHAR                          0935
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE772I. CPU MARKED UNAVAILABLE         */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0936
*       IF MSGID=9 THEN             /* MESSAGE?                      */
@RF00934 CH    MSGID,@CH00036                                      0936
         BNE   @RF00936                                            0936
*         IEE772CP=CPUCHAR;         /* MOVE CPU ADDRESS IN           */
*                                                                  0937
         MVC   IEE772CP(1,WPLPTR),CPUCHAR                          0937
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE719I. OUTSTANDING RESERVE            */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0938
*       IF MSGID=10 THEN            /* MESSAGE?                      */
@RF00936 CH    MSGID,@CH01603                                      0938
         BNE   @RF00938                                            0938
*         IEE719DD=DDD;             /* MOVE DEVICE ADDRESS TO TEXT   */
*                                                                  0939
         MVC   IEE719DD(3,WPLPTR),DDD(WORKPTR)                     0939
*       /*************************************************************/
*       /*                                                           */
*       /* CHECK FOR MESSAGE IEE774I                                 */
*       /*                                                           */
*       /*************************************************************/
*                                                                  0940
*       IF MSGID=30 THEN            /* MESSAGE?                      */
@RF00938 CH    MSGID,@CH02832                                      0940
         BNE   @RF00940                                            0940
*         DO;                       /*                       @Y30LPXA*/
*           UNPK(TEMPWORK,ERCODX(3:5));/* UNPACK REASON      @Y30LPXA*/
         UNPK  TEMPWORK(4),ERCODX+2(3,WORKPTR)                     0942
*           IEE774RC=TEMPWORK(1:3); /* MOVE REASON CODE      @Y30LPXA*/
         MVC   IEE774RC(3,WPLPTR),TEMPWORK                         0943
*           TR(IEE774RC,TRANTAB);   /* TRANSLATE TABLE       @Y30LPXA*/
         LA    @12,TRTB                                            0944
         AL    @12,@CF03289                                        0944
         TR    IEE774RC(3,WPLPTR),TRANTAB(@12)                     0944
*         END;                      /*                       @Y30LPXA*/
*     END;                          /* *** END OF DYNAMIC MESSAGE  0946
*                                      PROCESSING                    */
*                                                                  0946
@RF00940 DS    0H                                                  0947
*   /*****************************************************************/
*   /*                                                               */
*   /* SET UP ROUTE AND DESCRIPTER CODES AFTER MESSAGE               */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0947
*   WPLPTR=WPLPTR+WPLLGH;           /* RESET PARM LIST MAP PTR       */
@RF00901 AH    WPLPTR,WPLLGH(,WPLPTR)                              0947
*   WPLDESCE='1'B;                  /* IMMEDIATE CMD RESPONSE        */
         OI    WPLDESCE(WPLPTR),B'00001000'                        0948
*   RFY                                                            0949
*    (R0) RSTD;                     /* RESTRICT REG 0                */
*   R0=CONSLID;                     /* SET ID OF CONSOLE             */
*                                                                  0950
         SLR   R0,R0                                               0950
         IC    R0,CONSLID(,WORKPTR)                                0950
*   /*****************************************************************/
*   /*                                                               */
*   /* ISSUE WTO CALL                                                */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0951
*   GEN(WTO MF=(E,WTOPARML));       /* ISSUE WTO                     */
         WTO MF=(E,WTOPARML)
*   RFY                                                            0952
*    (R0) UNRSTD;                   /* RELEASE REG 0                 */
*WTOEXIT:                                                          0953
*   END WTORTN;                     /* END WTO ROUTINE       @ZA10796*/
@EL00017 DS    0H                                                  0953
@EF00017 DS    0H                                                  0953
@ER00017 LM    @14,@12,@SA00017                                    0953
         BR    @14                                                 0953
*                                                                  0954
*   /*****************************************************************/
*   /*                                                               */
*   /* SECONDARY ENTRY POINT TO BE USED BY MAINLINE TO WRITE MESSAGES*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0954
*WTORT:                                                            0954
*   ENTRY(MESID);                   /* SECONDARY ENTRY POINT         */
@EP00954 MVC   @PC00001+4(4),0(@01)                                0954
*   CALL WTORTN(MESID);                                            0955
         L     @12,@PC00001+4                                      0955
         ST    @12,@AL00001                                        0955
         LA    @01,@AL00001                                        0955
         BAL   @14,WTORTN                                          0955
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */
*     GPR15F FIXED(31) REG(15),                                    0956
*     GPR01P PTR(31) REG(1);                                       0956
*   DCL                                                            0957
*     1 I004 DEF(ILIST) BDY(WORD),  /* LIST FOR GETMAIN              */
*      2 I00401 PTR(31),            /* LENGTH                        */
*      2 I00402 CHAR(1),            /* HIARCHY                       */
*      2 I00403 PTR(24),            /* ADDR OF ADDR LIST             */
*      2 I00404 CHAR(1),            /* TYPE OF REQUEST               */
*      2 I00405 PTR(8);             /* SUBPOOL VALUE                 */
*   DCL                                                            0958
*     1 I005 DEF(ILIST) BDY(WORD),  /* LIST FOR FREEMAIN             */
*       3 I00501 PTR(8),            /* RESERVED                      */
*       3 I00502 PTR(24),           /* LENGTH                        */
*       3 I00503 PTR(8),            /* RESERVED                      */
*       3 I00504 PTR(24),           /* ADDR OF ADDR LIST             */
*       3 I00505 BIT(8),            /* TYPE OF FREEMAIN              */
*       3 I00506 PTR(8);            /* SUBPOOL VALUE                 */
*   DECLARE                                                        0959
*     ILIST CHAR(10) BDY(DWORD);    /* STANDARD LIST                 */
*   DECLARE                         /* COMMON VARIABLES              */
*     I256C CHAR(256) BASED,                                       0960
*     I031F FIXED(31) BASED,                                       0960
*     I031P PTR(31) BASED,                                         0960
*     I015F FIXED(15) BASED,                                       0960
*     I015P PTR(15) BASED,                                         0960
*     I008P PTR(8) BASED,                                          0960
*     I001C CHAR(1) BASED;                                         0960
*ENDVCPU:                                                          0961
*   END                                                            0961
*                                                                  0961
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSUT5  (FL1     )                                       */
*/*%INCLUDE SYSLIB  (CVT     )                                       */
*/*%INCLUDE SYSLIB  (IHAPCCAT)                                       */
*/*%INCLUDE SYSLIB  (IEECHAIN)                                       */
*/*%INCLUDE SYSLIB  (IHAPCCA )                                       */
*/*%INCLUDE SYSLIB  (IHALCCAT)                                       */
*/*%INCLUDE SYSLIB  (IHALCCA )                                       */
*/*%INCLUDE SYSLIB  (IECDCAT )                                       */
*/*%INCLUDE SYSLIB  (IHACSD  )                                       */
*/*%INCLUDE SYSLIB  (IHAYSTAK)                                       */
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                       */
*/*%INCLUDE SYSLIB  (IEECUCM )                                       */
*/*%INCLUDE SYSLIB  (IFASMFR )                                       */
*/*%INCLUDE SYSLIB  (IFASMFR1)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR2)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR3)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR4)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR5)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR6)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR7)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR8)                                       */
*/*%INCLUDE SYSLIB  (IFASMFR9)                                       */
*/*%INCLUDE SYSLIB  (IFASMFRA)                                       */
*/*%INCLUDE SYSLIB  (IFASMFRB)                                       */
*/*%INCLUDE SYSLIB  (IFASMFRC)                                       */
*/*%INCLUDE SYSLIB  (IFASMFRD)                                       */
*/*%INCLUDE SYSLIB  (IEZWPL  )                                       */
*/*%INCLUDE SYSUT5  (MAINLINE)                                       */
*/*%INCLUDE SYSUT5  (CHONLINE)                                       */
*/*%INCLUDE SYSUT5  (SPCLTEST)                                       */
*/*%INCLUDE SYSUT5  (CHOFFLIN)                                       */
*/*%INCLUDE SYSUT5  (BACKOUT )                                       */
*/*%INCLUDE SYSUT5  (CNSLBACK)                                       */
*/*%INCLUDE SYSUT5  (CPUONLIN)                                       */
*/*%INCLUDE SYSUT5  (BACKOFF )                                       */
*/*%INCLUDE SYSUT5  (CPUOFFLN)                                       */
*/*%INCLUDE SYSUT5  (JOBSCHED)                                       */
*/*%INCLUDE SYSUT5  (LOWLEVEL)                                       */
*/*%INCLUDE SYSUT5  (DEVSMFRC)                                       */
*/*%INCLUDE SYSUT5  (CHCPUSMF)                                       */
*/*%INCLUDE SYSUT5  (FREECORE)                                       */
*/*%INCLUDE SYSUT5  (WTORTN  )                                       */
*                                                                  0961
*       ;                                                          0961
         B     @EL00001                                            0961
@DATA    DS    0H
@CH00049 DC    H'1'
@CH00047 DC    H'2'
@CH03263 DC    H'584'
@CH03264 DC    H'968'
@CH03262 DC    H'4096'
@CH01615 DC    H'9324'
@CH02819 DC    XL2'FFFF'
@SM03287 MVC   WPLTXT(0,WPLPTR),MTEXT(MSGPTR)
         DS    0F
@AL00090 DC    A(@CF02813)             LIST WITH   1 ARGUMENT(S)
@AL00095 DC    A(@CF01091)             LIST WITH   1 ARGUMENT(S)
@AL00100 DC    A(@CF02815)             LIST WITH   1 ARGUMENT(S)
@AL00105 DC    A(@CF00084)             LIST WITH   1 ARGUMENT(S)
@AL00110 DC    A(@CF00060)             LIST WITH   1 ARGUMENT(S)
@AL00115 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00376 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00570 DC    A(@CF02816)             LIST WITH   1 ARGUMENT(S)
@AL00120 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00206 DC    A(@CF00067)             LIST WITH   1 ARGUMENT(S)
@AL00125 DC    A(@CF00073)             LIST WITH   1 ARGUMENT(S)
@AL00130 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00193 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00257 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00262 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00407 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00516 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00525 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00591 DC    A(@CF02405)             LIST WITH   1 ARGUMENT(S)
@AL00174 DC    A(@CF02829)             LIST WITH   1 ARGUMENT(S)
@AL00178 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00210 DC    A(@CF00044)             LIST WITH   1 ARGUMENT(S)
@AL00183 DC    A(@CF02831)             LIST WITH   1 ARGUMENT(S)
@AL00190 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00370 DC    A(@CF02832)             LIST WITH   1 ARGUMENT(S)
@AL00200 DC    A(@CF00226)             LIST WITH   1 ARGUMENT(S)
@AL00202 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00615 DC    A(@CF02839)             LIST WITH   1 ARGUMENT(S)
@AL00207 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00667 DC    A(@CF01135)             LIST WITH   1 ARGUMENT(S)
@AL00213 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00358 DC    A(@CF00094)             LIST WITH   1 ARGUMENT(S)
@AL00232 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00519 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00560 DC    A(@CF00275)             LIST WITH   1 ARGUMENT(S)
@AL00237 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00555 DC    A(@CF02848)             LIST WITH   1 ARGUMENT(S)
@AL00242 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00535 DC    A(@CF00037)             LIST WITH   1 ARGUMENT(S)
@AL00247 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00540 DC    A(@CF01603)             LIST WITH   1 ARGUMENT(S)
@AL00252 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00386 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00530 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00620 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00650 DC    A(@CF00096)             LIST WITH   1 ARGUMENT(S)
@AL00381 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00545 DC    A(@CF02434)             LIST WITH   1 ARGUMENT(S)
@AL00391 DC    A(@CF02871)             LIST WITH   1 ARGUMENT(S)
@AL00396 DC    A(@CF00223)             LIST WITH   1 ARGUMENT(S)
@AL00508 DC    A(@CF00080)             LIST WITH   1 ARGUMENT(S)
@AL00520 DC    A(@CF00036)             LIST WITH   1 ARGUMENT(S)
@AL00550 DC    A(@CF02895)             LIST WITH   1 ARGUMENT(S)
@AL00565 DC    A(@CF00114)             LIST WITH   1 ARGUMENT(S)
@AL00575 EQU   *                       LIST WITH   1 ARGUMENT(S)
@AL00668 DC    A(@CF00035)             LIST WITH   1 ARGUMENT(S)
@AL00580 DC    A(@CF00306)             LIST WITH   1 ARGUMENT(S)
@AL00585 DC    A(@CF02897)             LIST WITH   1 ARGUMENT(S)
@DATD    DSECT
         DS    0F
@SA00001 DS    18F
@PC00001 DS    2F
@SA00017 DS    15F
@PC00017 DS    1F
@SA00007 DS    15F
@SA00009 DS    15F
@SA00002 DS    15F
@SA00004 DS    15F
@SA00014 DS    15F
@SA00008 DS    14F
@SA00003 DS    15F
@SA00012 DS    15F
@SA00013 DS    14F
@SA00005 DS    15F
@SA00010 DS    15F
@SA00011 DS    15F
@SA00016 DS    15F
@AL00001 DS    1A
IEECLEAN CSECT
         DS    0F
@CF00044 DC    F'3'
@CH00044 EQU   @CF00044+2
@CF00094 DC    F'4'
@CH00094 EQU   @CF00094+2
@CF00067 DC    F'5'
@CH00067 EQU   @CF00067+2
@CF01135 DC    F'6'
@CH01135 EQU   @CF01135+2
@CF00037 DC    F'7'
@CH00037 EQU   @CF00037+2
@CF00035 DC    F'8'
@CH00035 EQU   @CF00035+2
@CF00036 DC    F'9'
@CH00036 EQU   @CF00036+2
@CF01603 DC    F'10'
@CH01603 EQU   @CF01603+2
@CF02813 DC    F'11'
@CF01091 DC    F'12'
@CF02405 DC    F'13'
@CF02434 DC    F'14'
@CF00084 DC    F'15'
@CF00114 DC    F'16'
@CH00114 EQU   @CF00114+2
@CF02829 DC    F'17'
@CF00226 DC    F'18'
@CF02839 DC    F'19'
@CF00275 DC    F'20'
@CF02848 DC    F'21'
@CF02816 DC    F'22'
@CF02871 DC    F'23'
@CF00223 DC    F'24'
@CF02895 DC    F'25'
@CF02815 DC    F'26'
@CF00096 DC    F'27'
@CF00060 DC    F'28'
@CF02831 DC    F'29'
@CF02832 DC    F'30'
@CH02832 EQU   @CF02832+2
@CF00080 DC    F'31'
@CF00073 DC    F'32'
@CF02897 DC    F'33'
@CF00306 DC    F'34'
@CF03289 DC    F'-240'
@CF03285 DC    F'-6'
@CF00072 DC    XL4'FFFFFFFF'
@CF02933 DC    XL4'FFFFFFF8'
@DATD    DSECT
         DS    0D
CHARPTR  DS    A
         DS    0D
@TS00001 DS    CL8
WTOPARML DS    CL120
CPUCHAR  DS    CL1
CHNCHAR  DS    CL1
         DS    CL2
TEMPWORK DS    CL4
         ORG   TEMPWORK
@NM00007 DS    BL4
CKSTOP   EQU   TEMPWORK+3
@NM00008 EQU   TEMPWORK+3
         ORG   TEMPWORK+4
VCONCMD  DS    CL38
         ORG   VCONCMD
@NM00020 DS    CL2
VCONDEV  DS    CL3
         ORG   VCONCMD+38
         DS    CL2
ILIST    DS    CL10
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IEECLEAN CSECT
         DS    0F
@SIZDATD DC    AL1(0)
         DC    AL3(@ENDDATD-@DATD)
@CA00028 DC    A(IEECLEAN)
@CV00085 DC    V(IEEVWKUP)
         DS    0D
SEC1     DC    XL4'00000064'
SEC5     DC    XL4'00000200'
RCNENQQ  DC    CL8'SYSZVARY'
RCNENQR  DC    CL3'CPU'
UCBENQQ  DC    CL8'SYSIEFSD'
UCBENQR  DC    CL2'Q4'
JOBSCDQ  DC    CL8'SYSZCSD '
JOBSCDR  DC    CL8'CSDCPUJS'
         DS    CL3
VARYCON  DS    CL38
         ORG   VARYCON
VCONLEN  DC    AL2(38)
@NM00018 DC    XL2'0000'
@NM00019 DC    CL34'V XXX,CONSOLE VARY CPU/CHN BACKOUT'
         ORG   VARYCON+38
TRTB     DC    CL16'0123456789ABCDEF'
MSGTBLE  DS    CL1766
         ORG   MSGTBLE
@NM00061 DC    AL1(51)
@NM00062 DC    AL1(1)
@NM00063 DC    CL49'IEE718I ___ JOBS SCHEDULED WITH AFFINITY TO CPU _'
@NM00064 DC    AL1(18)
@NM00065 DC    AL1(2)
@NM00066 DC    CL16'IEE512I ___ BUSY'
@NM00067 DC    AL1(30)
@NM00068 DC    AL1(3)
@NM00069 DC    CL28'IEE502I CHANNEL (_,_) ONLINE'
@NM00070 DC    AL1(24)
@NM00071 DC    AL1(4)
@NM00072 DC    CL22'IEE504I CPU (_) ONLINE'
@NM00073 DC    AL1(31)
@NM00074 DC    AL1(5)
@NM00075 DC    CL29'IEE503I CHANNEL (_,_) OFFLINE'
@NM00076 DC    AL1(25)
@NM00077 DC    AL1(6)
@NM00078 DC    CL23'IEE505I CPU (_) OFFLINE'
@NM00079 DC    AL1(69)
@NM00080 DC    AL1(7)
@NM00081 DC    CL67'IEE541E VARY COMMAND REJECTED, WOULD REMOVE LAST PAC
               TH TO DEVICE ___'
@NM00082 DC    AL1(45)
@NM00083 DC    AL1(8)
@NM00084 DC    CL43'IEE761I CPU (_) OFFLINE WITH UNKNOWN STATUS'
@NM00085 DC    AL1(53)
@NM00086 DC    AL1(9)
@NM00087 DC    CL51'IEE772I CPU (_) UNAVAILABLE FOR AFFINITY SCHEDULINGC
               '
@NM00088 DC    AL1(66)
@NM00089 DC    AL1(10)
@NM00090 DC    CL64'IEE719I VARY COMMAND REJECTED, OUTSTANDING RESERVE C
               TO DEVICE ___'
@NM00091 DC    AL1(50)
@NM00092 DC    AL1(11)
@NM00093 DC    CL48'IEE345I VARY COMMAND REJECTED, AUTHORITY INVALID'
@NM00094 DC    AL1(47)
@NM00095 DC    AL1(12)
@NM00096 DC    CL45'IEE715I VARY COMMAND REJECTED, INVALID SYNTAX'
@NM00097 DC    AL1(39)
@NM00098 DC    AL1(13)
@NM00099 DC    CL37'IEE713I VARY COMMAND PROCESSOR FAILED'
@NM00100 DC    AL1(54)
@NM00101 DC    AL1(14)
@NM00102 DC    CL52'IEE760E VARY COMMAND REJECTED, STORAGE NOT AVAILABLC
               E'
@NM00103 DC    AL1(52)
@NM00104 DC    AL1(15)
@NM00105 DC    CL50'IEE763I VARY CHANNEL COMMAND REJECTED, CPU OFFLINE'
@NM00106 DC    AL1(50)
@NM00107 DC    AL1(16)
@NM00108 DC    CL48'IEE771I VARY CPU REJECTED, WOULD REMOVE LAST CPU'
@NM00109 DC    AL1(63)
@NM00110 DC    AL1(17)
@NM00111 DC    CL61'IEE500E VARY CHANNEL ONLINE REJECTED, CHANNEL NOT OC
               PERATIONAL'
@NM00112 DC    AL1(57)
@NM00113 DC    AL1(18)
@NM00114 DC    CL55'IEE754I NOT ALL DEVICES BROUGHT ONLINE WITH CPU/CHAC
               NNEL'
@NM00115 DC    AL1(39)
@NM00116 DC    AL1(19)
@NM00117 DC    CL37'IEE755I VARY COMMAND SMF RECORD ERROR'
@NM00118 DC    AL1(43)
@NM00119 DC    AL1(20)
@NM00120 DC    CL41'IEE756I VARY COMMAND CANCELED BY OPERATOR'
@NM00121 DC    AL1(72)
@NM00122 DC    AL1(21)
@NM00123 DC    CL70'IEE527E VARY COMMAND REJECTED, WOULD REMOVE ACCESS C
               TO CONSOLE/HARDCOPY'
@NM00124 DC    AL1(61)
@NM00125 DC    AL1(22)
@NM00126 DC    CL59'IEE506E VARY REJECTED, CPU DID NOT RESPOND TO RESETC
               /RESTART'
@NM00127 DC    AL1(58)
@NM00128 DC    AL1(23)
@NM00129 DC    CL56'IEE757I VARY CPU REJECTED, CLOCKS CANNOT BE SYNCHROC
               NIZED'
@NM00130 DC    AL1(56)
@NM00131 DC    AL1(24)
@NM00132 DC    CL54'IEE758I VARY CPU REJECTED, MACHINE CHECK ON TARGET C
               CPU'
@NM00133 DC    AL1(64)
@NM00134 DC    AL1(25)
@NM00135 DC    CL62'IEE759I VARY CPU REJECTED, WOULD RESULT IN A NOCLOCC
               K CONDITION'
@NM00136 DC    AL1(43)
@NM00137 DC    AL1(26)
@NM00138 DC    CL41'IEE523I INVALID COMMAND IN ONE CPU SYSTEM'
@NM00139 DC    AL1(56)
@NM00140 DC    AL1(27)
@NM00141 DC    CL54'IEE762I VARY COMMAND TERMINATED DUE TO SYSTEM RECOVC
               ERY'
@NM00142 DC    AL1(62)
@NM00143 DC    AL1(28)
@NM00144 DC    CL60'IEE073I VARY REJECTED, IMPROPER CHANNEL NUMBER SPECC
               IFICATION'
@NM00145 DC    AL1(73)
@NM00146 DC    AL1(29)
@NM00147 DC    CL71'IEE773I VARY TERMINATED, CHANNEL RECONFIGURATION HAC
               RDWARE NOT ACTIVATED'
@NM00148 DC    AL1(54)
@NM00149 DC    AL1(30)
@NM00150 DC    CL52'IEE774I 3850 NOT CONFIGURED FOR MP OPERATION  RC=XXC
               X'
@NM00151 DC    AL1(58)
@NM00152 DC    AL1(31)
@NM00153 DC    CL56'IEE763I VARY CPU,KEEPCHAN COMMAND REJECTED - CPU OFC
               FLINE'
@NM00154 DC    AL1(61)
@NM00155 DC    AL1(32)
@NM00156 DC    CL59'IEE745I VARY CPU,KEEPCHAN REJECTED - KEEPCHAN NOT SC
               UPPORTED'
@NM00157 DC    AL1(69)
@NM00158 DC    AL1(33)
@NM00159 DC    CL67'IEE746I VARY TERMINATED - KEEPCHAN FUNCTION FAILED,C
                CPU BACK ONLINE'
@NM00160 DC    AL1(72)
@NM00161 DC    AL1(34)
@NM00162 DC    CL70'IEE747E VARY TERMINATED - KEEPCHAN FUNCTION FAILED,C
                CPU STATUS UNKNOWN'
@NM00163 DC    AL1(0)
         ORG   MSGTBLE+1766
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
MSGID    EQU   @03
MSGLEN   EQU   @05
MSGPTR   EQU   @04
LOOPCNT  EQU   @10
UCBPTR   EQU   @04
PSAPTR   EQU   @02
CATPTR   EQU   @03
LCCAPTR  EQU   @03
PCCAPTR  EQU   @04
UCBLKPTR EQU   @02
RCRDRPTR EQU   @03
WORKMASK EQU   @02
CSDWORK  EQU   @04
CSDCNTL  EQU   @03
SMFRECNT EQU   @05
WPLPTR   EQU   @02
SMF22PTR EQU   @02
SMF11PTR EQU   @02
WORKPTR  EQU   @06
R0       EQU   @00
R1       EQU   @01
R10      EQU   @10
R11      EQU   @11
R12      EQU   @12
R14      EQU   @14
R15      EQU   @15
RETCODE  EQU   @15
GPR01P   EQU   @01
GPR15F   EQU   @15
COMMPTR  EQU   @06
R13      EQU   @13
R2       EQU   @02
R3       EQU   @03
R4       EQU   @04
R5       EQU   @05
R6       EQU   @06
R7       EQU   @07
R8       EQU   @08
R9       EQU   @09
CVTPTR   EQU   16
UCMUEWPT EQU   16
UCMEXTPT EQU   16
UCMEILPT EQU   16
SMF09PTR EQU   16
WORKAREA EQU   0
ESTAPRM  EQU   WORKAREA
DATAREG1 EQU   ESTAPRM+12
DATAEND  EQU   ESTAPRM+16
CSCBPTR  EQU   WORKAREA+20
BEGINPTR EQU   WORKAREA+24
ENTRYPTR EQU   WORKAREA+28
PARMPTR  EQU   WORKAREA+32
COREPTR  EQU   WORKAREA+36
CPUPSA   EQU   WORKAREA+40
HEXCHNAD EQU   WORKAREA+44
HEXCHN1  EQU   HEXCHNAD+1
HEXCPUAD EQU   WORKAREA+48
HEXCPU1  EQU   HEXCPUAD+1
CPUMSK   EQU   WORKAREA+50
GETLENG  EQU   WORKAREA+52
SUBPOOL  EQU   WORKAREA+54
DEVSTAT  EQU   WORKAREA+55
CONSLID  EQU   WORKAREA+56
DDD      EQU   WORKAREA+57
ERCODE   EQU   WORKAREA+60
CATCOPY  EQU   WORKAREA+64
CHANBIT  EQU   CATCOPY
AFFINJOB EQU   WORKAREA+80
OLDPCCA  EQU   WORKAREA+84
OLDLCCA  EQU   WORKAREA+88
QUITPTR  EQU   WORKAREA+96
PGFXECB  EQU   WORKAREA+100
@NM00012 EQU   PGFXECB
FOOTPRNT EQU   WORKAREA+104
CHNIND   EQU   FOOTPRNT
RECONENQ EQU   FOOTPRNT
ONLINE   EQU   FOOTPRNT
CSDENQ   EQU   FOOTPRNT
CLOCKSW  EQU   FOOTPRNT
UCBENQ   EQU   FOOTPRNT
CNSLSW   EQU   FOOTPRNT
UCBALTER EQU   FOOTPRNT+1
UCBDONE  EQU   FOOTPRNT+1
CHNLSMRK EQU   FOOTPRNT+1
DEVSUBGO EQU   FOOTPRNT+1
CHOFFOK  EQU   FOOTPRNT+1
CHONLINE EQU   FOOTPRNT+1
CNSLEXIT EQU   FOOTPRNT+1
CPUONOK  EQU   FOOTPRNT+2
CHONOK   EQU   FOOTPRNT+2
REPLYP   EQU   FOOTPRNT+2
CPUOFFOK EQU   FOOTPRNT+2
UNKNSTAT EQU   FOOTPRNT+2
COPYCAT  EQU   FOOTPRNT+2
JOBSHED  EQU   FOOTPRNT+2
NOCHAIN  EQU   FOOTPRNT+3
DEVNOTON EQU   FOOTPRNT+3
ONLINMSG EQU   FOOTPRNT+3
CPUISON  EQU   FOOTPRNT+3
CHISON   EQU   FOOTPRNT+3
KEEPCHAN EQU   FOOTPRNT+4
KPCHANFL EQU   FOOTPRNT+4
SS1FAIL  EQU   FOOTPRNT+4
SKIPWTO  EQU   FOOTPRNT+4
ERRORIND EQU   WORKAREA+112
UNAUTH   EQU   ERRORIND
INVLDSTX EQU   ERRORIND
OFFALRDY EQU   ERRORIND
LASTCPU  EQU   ERRORIND
AFFINSWT EQU   ERRORIND
CPFAILED EQU   ERRORIND
LASTPATH EQU   ERRORIND
NOCORE   EQU   ERRORIND
NOCLOCK  EQU   ERRORIND+1
NOCNSOLE EQU   ERRORIND+1
OPERCNCL EQU   ERRORIND+1
CPUNRESP EQU   ERRORIND+1
CHCPUOFF EQU   ERRORIND+1
SYSFAIL  EQU   ERRORIND+1
MCHECK   EQU   ERRORIND+1
CHNTOPER EQU   ERRORIND+1
UNIPROC  EQU   ERRORIND+2
PATHRSVD EQU   ERRORIND+2
SMFRCER  EQU   ERRORIND+2
ERRORFLG EQU   ERRORIND+2
CHINV    EQU   ERRORIND+2
CRHFAIL  EQU   ERRORIND+3
CRHNCPU  EQU   ERRORIND+3
CRHNCHN  EQU   ERRORIND+3
NOKPCHAN EQU   ERRORIND+3
UCBRECRD EQU   0
NEXTPTR  EQU   UCBRECRD
CAUSEFLD EQU   UCBRECRD+4
HIERONLY EQU   CAUSEFLD
CONSLFLG EQU   CAUSEFLD
MKDEVON  EQU   CAUSEFLD
MKDEVOFF EQU   CAUSEFLD
ALTERUCB EQU   CAUSEFLD
UCBADDR  EQU   UCBRECRD+5
WKUPARMS EQU   0
@NM00016 EQU   WKUPARMS+108
CORCHAIN EQU   0
FRWRDPTR EQU   CORCHAIN
SPNUM    EQU   CORCHAIN+4
LNGTH    EQU   CORCHAIN+6
QTPRMS   EQU   0
QTFLGS   EQU   QTPRMS+76
QTCOMP   EQU   QTFLGS
UCBTAB   EQU   0
UCMPRFXP EQU   0
TRANTAB  EQU   0
CVTMAP   EQU   0
CVT      EQU   CVTMAP
CVTILK2  EQU   CVTMAP+40
CVTDAR   EQU   CVTMAP+72
CVTFLGS1 EQU   CVTDAR
CVTCUCB  EQU   CVTMAP+100
CVTDCB   EQU   CVTMAP+116
CVTIOQET EQU   CVTMAP+120
CVTIERLC EQU   CVTMAP+144
CVTHEAD  EQU   CVTMAP+160
CVTSV76C EQU   CVTHEAD
CVTOPTA  EQU   CVTMAP+182
CVTOPTB  EQU   CVTMAP+183
CVTGTF   EQU   CVTMAP+236
CVTGTFST EQU   CVTGTF
CVTGTFS  EQU   CVTGTFST
CVTSTATE EQU   CVTGTFST
CVTTMODE EQU   CVTGTFST
CVTFORM  EQU   CVTGTFST
CVTAQAVT EQU   CVTMAP+240
CVTTCMFG EQU   CVTAQAVT
CVTVOLM2 EQU   CVTMAP+244
CVTTATA  EQU   CVTVOLM2
CVTTSKS  EQU   CVTTATA
CVTVOLF2 EQU   CVTTSKS
CVTTAT   EQU   CVTTATA+1
CVTATER  EQU   CVTMAP+248
CVTEXT1  EQU   CVTMAP+252
CVTPURG  EQU   CVTMAP+260
CVTQMSG  EQU   CVTMAP+268
CVTDMSR  EQU   CVTMAP+272
CVTRSV37 EQU   CVTDMSR
CVTDMSRF EQU   CVTRSV37
CVTERPV  EQU   CVTMAP+316
CVTINTLA EQU   CVTMAP+320
CVTAPF   EQU   CVTMAP+324
CVTEXT2  EQU   CVTMAP+328
CVTHJES  EQU   CVTMAP+332
CVTPGSIA EQU   CVTMAP+348
CVTA1F1  EQU   CVTMAP+356
CVTSYSK  EQU   CVTMAP+357
CVTVOLM1 EQU   CVTMAP+380
CVTVOLF1 EQU   CVTVOLM1
CVTXTNT1 EQU   0
CVTXTNT2 EQU   0
CVTDSSV  EQU   CVTXTNT2
CVTFLGBT EQU   CVTXTNT2+5
CVTQID   EQU   CVTXTNT2+24
CVTRV400 EQU   CVTXTNT2+52
CVTRV409 EQU   CVTXTNT2+53
CVTATCVT EQU   CVTXTNT2+64
CVTRV429 EQU   CVTXTNT2+84
CVTRV438 EQU   CVTXTNT2+85
CVTRV457 EQU   CVTXTNT2+112
CVTRV466 EQU   CVTXTNT2+113
CVTFIX   EQU   0
CVTMDL   EQU   CVTFIX+250
CVTRELNO EQU   CVTFIX+252
PCCAVT   EQU   0
PCCAT00P EQU   PCCAVT
CHAIN    EQU   0
CHFLG    EQU   CHAIN+4
CHSTS    EQU   CHFLG+2
CHFC     EQU   CHSTS
CHACT    EQU   CHFLG+3
CHIFY    EQU   CHACT
CHKEY    EQU   CHAIN+8
CHPARM   EQU   CHKEY
CHPKE    EQU   CHAIN+28
CHTJID   EQU   CHAIN+30
CHPROCSN EQU   CHAIN+32
CHACT1   EQU   CHPROCSN+3
CHASM    EQU   CHAIN+40
CHCIBP   EQU   CHASM+4
CHRGNSZ  EQU   CHASM+8
CHSTEP   EQU   CHASM+24
CHSWT    EQU   CHSTEP
CHSHORT  EQU   CHASM+32
PCCA     EQU   0
PCCAPSAV EQU   PCCA+24
PCCAPSAR EQU   PCCA+28
PCCATMST EQU   PCCA+128
PCCATMFL EQU   PCCATMST
PCCATODE EQU   PCCATMST+1
PCCACCE  EQU   PCCATMST+2
PCCAINTE EQU   PCCATMST+3
PCCAEMSB EQU   PCCA+136
PCCAEMSI EQU   PCCAEMSB
PCCARISP EQU   PCCAEMSI
PCCAEMS2 EQU   PCCAEMSI+1
PCCAEMS3 EQU   PCCAEMSI+2
PCCARMSB EQU   PCCAEMSI+3
PCCAWERP EQU   PCCA+280
PCCACHPF EQU   PCCAWERP+4
PCCACHBL EQU   PCCAWERP+5
PCCACHVA EQU   PCCAWERP+6
PCCACHTS EQU   PCCAWERP+7
PCCACHS1 EQU   PCCA+288
PCCACHS2 EQU   PCCA+289
PCCACHRB EQU   PCCA+290
PCCACHF1 EQU   PCCA+308
PCCACHF2 EQU   PCCA+309
PCCACHF3 EQU   PCCA+310
PCCACHF4 EQU   PCCA+311
PCCAATTR EQU   PCCA+376
PCCAIO   EQU   PCCAATTR
PCCACAT  EQU   PCCA+384
LCCAVT   EQU   0
LCCAT00P EQU   LCCAVT
LCCA     EQU   0
LCCAIHRC EQU   LCCA+520
LCCAIHR1 EQU   LCCAIHRC
LCCAIHR2 EQU   LCCAIHRC+1
LCCAIHR3 EQU   LCCAIHRC+2
LCCAIHR4 EQU   LCCAIHRC+3
LCCASPIN EQU   LCCA+524
LCCASPN1 EQU   LCCASPIN
LCCASPN2 EQU   LCCASPIN+1
LCCASPN3 EQU   LCCASPIN+2
LCCASPN4 EQU   LCCASPIN+3
LCCADSF1 EQU   LCCA+540
LCCAVCPU EQU   LCCADSF1
LCCATIMR EQU   LCCADSF1
LCCADSF2 EQU   LCCA+541
LCCASPSA EQU   LCCA+544
LCCACRFL EQU   LCCA+692
LCCAVARY EQU   LCCACRFL
LCCACREX EQU   LCCA+693
LCCALKFG EQU   LCCA+694
LCCASRBF EQU   LCCA+720
CAT      EQU   0
CATENTRY EQU   CAT
CATFLG   EQU   CATENTRY
CATNOP   EQU   CATFLG
CATNGEN  EQU   CATFLG
CATFLA   EQU   CAT+1
CATCHID  EQU   CAT+4
CSD      EQU   0
CSDCPUJS EQU   CSD+4
CSDCPUAL EQU   CSD+8
CSDCPUOL EQU   CSD+10
CSDSCWRD EQU   CSD+12
CSDSCFL1 EQU   CSDSCWRD
CSDSCFL2 EQU   CSDSCWRD+1
CSDSCFL3 EQU   CSDSCWRD+2
CSDSCFL4 EQU   CSDSCWRD+3
CSDFLAGS EQU   CSD+23
CSDMASK  EQU   CSD+128
PSA      EQU   0
FLCRNPSW EQU   PSA
FLCROPSW EQU   PSA+8
FLCICCW2 EQU   PSA+16
PSAEEPSW EQU   PSA+132
PSAESPSW EQU   PSA+136
FLCSVILC EQU   PSAESPSW+1
PSAEPPSW EQU   PSA+140
FLCPIILC EQU   PSAEPPSW+1
FLCPICOD EQU   PSAEPPSW+2
PSAPICOD EQU   FLCPICOD+1
FLCTEA   EQU   PSAEPPSW+4
FLCPER   EQU   PSA+152
FLCMCLA  EQU   PSA+168
FLCIOEL  EQU   FLCMCLA+4
FLCIOA   EQU   FLCMCLA+16
FLCFSA   EQU   FLCMCLA+80
PSAPCCAV EQU   PSA+520
PSASUPER EQU   PSA+552
PSASUP1  EQU   PSASUPER
PSASUP2  EQU   PSASUPER+1
PSASUP3  EQU   PSASUPER+2
PSASUP4  EQU   PSASUPER+3
PSACLHT  EQU   PSA+640
PSALKSA  EQU   PSA+696
PSAHLHI  EQU   PSA+760
PSADSSFL EQU   PSA+836
PSADSSF1 EQU   PSADSSFL
PSADSSF3 EQU   PSADSSFL+2
PSADSSF4 EQU   PSADSSFL+3
PSARSVT  EQU   PSA+896
UCB      EQU   0
UCBOB    EQU   0
UCBJBNR  EQU   UCBOB
UCBFL5   EQU   UCBOB+1
UCBAF    EQU   UCBFL5
UCBSTAT  EQU   UCBOB+3
UCBONLI  EQU   UCBSTAT
UCBCHAN  EQU   UCBOB+4
UCBSFLS  EQU   UCBOB+6
UCBFLA   EQU   UCBSFLS
UCBFL1   EQU   UCBFLA
UCBBSY   EQU   UCBFL1
UCBNRY   EQU   UCBFL1
UCBPST   EQU   UCBFL1
UCBCUB   EQU   UCBFL1
UCBFLB   EQU   UCBSFLS+1
UCBCHM   EQU   UCBOB+8
UCBCHM1  EQU   UCBCHM
UCBPTH0  EQU   UCBCHM1
UCBPTH1  EQU   UCBCHM1
UCBWGT   EQU   UCBOB+12
UCBVHRSN EQU   UCBWGT
UCBNAME  EQU   UCBOB+13
UCBTYP   EQU   UCBOB+16
UCBTBYT1 EQU   UCBTYP
UCB1FEA5 EQU   UCBTBYT1
UCB1FEA6 EQU   UCBTBYT1
UCBTBYT2 EQU   UCBTYP+1
UCB2OPT2 EQU   UCBTBYT2
UCBDUDN1 EQU   UCB2OPT2
UCB2OPT3 EQU   UCBTBYT2
UCBDUDN2 EQU   UCB2OPT3
UCB2OPT4 EQU   UCBTBYT2
UCBRWTAU EQU   UCB2OPT4
UCB2OPT6 EQU   UCBTBYT2
UCB2OPT7 EQU   UCBTBYT2
UCBTBYT3 EQU   UCBTYP+2
UCBDVCLS EQU   UCBTBYT3
UCBTBYT4 EQU   UCBTYP+3
UCBEXTPT EQU   UCBOB+20
UCBFLC   EQU   UCBEXTPT
UCBDEV   EQU   UCBOB+24
UCBCMEXT EQU   0
UCBATI   EQU   UCBCMEXT+3
@NM00056 EQU   UCBATI
UCBFLP1  EQU   UCBCMEXT+5
UCBMT    EQU   0
UCBOCR   EQU   0
UCB3540X EQU   0
UCBDKBYT EQU   UCB3540X+6
UCB3800X EQU   0
UCBOPTNS EQU   UCB3800X
UCBACTIV EQU   UCB3800X+3
UCBMDRBF EQU   UCB3800X+36
UCBUCS   EQU   0
UCBUCSOP EQU   UCBUCS+4
UCBFCBOP EQU   UCBUCS+5
UCM2EXT  EQU   0
UCM2STA  EQU   UCM2EXT+8
UCM2SFLG EQU   UCM2STA
UCM2FEXT EQU   UCM2EXT+12
UCMPRFX  EQU   0
UCMMCENT EQU   UCMPRFX
UCMSAVE0 EQU   UCMPRFX+4
UCMSFLGS EQU   UCMPRFX+84
UCMSFLG1 EQU   UCMSFLGS
UCMSFLG2 EQU   UCMSFLGS+1
UCMXSA   EQU   UCMPRFX+104
UCMSDS1  EQU   UCMPRFX+156
UCM      EQU   0
UCMDECB  EQU   UCM+12
UCMRPYI  EQU   UCM+32
UCMPXB   EQU   UCM+68
UCMMODE  EQU   UCMPXB
UCMVDATA EQU   UCM+72
UCMRSV42 EQU   UCM+300
UCMRSV51 EQU   UCM+301
UCMEIL   EQU   0
UCMRECBA EQU   UCMEIL+24
UCMEXIT  EQU   0
UCMLIST  EQU   0
UCMSTS   EQU   UCMLIST+24
UCMATR   EQU   UCMLIST+25
UCMXA    EQU   UCMLIST+26
UCMAUTH  EQU   UCMLIST+40
UCMAUTHA EQU   UCMAUTH
UCMDISP  EQU   UCMLIST+42
UCMDISP1 EQU   UCMDISP
UCMDISP2 EQU   UCMDISP+1
UCMMSG   EQU   UCMLIST+60
UCMMSG1  EQU   UCMMSG
UCMDEVC  EQU   UCMLIST+63
UCMRCT   EQU   UCMLIST+68
UCMSDS5  EQU   UCMRCT
UCMFEXTA EQU   0
UCMFPPTR EQU   UCMFEXTA+4
UCMFMGFS EQU   UCMFEXTA+8
UCMFFLG1 EQU   UCMFMGFS
UCMPEXTA EQU   0
UCMPDM1  EQU   UCMPEXTA+4
SMFRCD09 EQU   0
SMF9DVAD EQU   0
SMF9CUA  EQU   SMF9DVAD+2
SMFRCD11 EQU   0
SMF11LEN EQU   SMFRCD11
SMF11RTY EQU   SMFRCD11+5
SMF11LN  EQU   SMFRCD11+18
SMF11DEV EQU   0
SMF11DUT EQU   SMF11DEV
SMF11CUA EQU   SMF11DEV+2
SMFRCD22 EQU   0
SMF22LEN EQU   SMFRCD22
SMF22RTY EQU   SMFRCD22+5
SMF22IND EQU   SMFRCD22+18
SMF22ECT EQU   SMFRCD22+20
SMF22CPU EQU   0
SMF22PID EQU   SMF22CPU+1
SMF22CPN EQU   SMF22CPU+2
SMF22CPA EQU   SMF22CPU+5
SMF22CHL EQU   0
SMF22CID EQU   SMF22CHL+1
SMF22CHN EQU   SMF22CHL+2
SMF22CHA EQU   SMF22CHL+4
SMF22CPD EQU   SMF22CHL+5
SMF22STR EQU   0
SMF22IPL EQU   0
SMF22VON EQU   0
SMF22VOF EQU   0
WPLRF    EQU   0
WPLRPTR  EQU   WPLRF
WPL      EQU   0
WPLLGH   EQU   WPL
WPLMCSF  EQU   WPL+2
WPLMCSF1 EQU   WPLMCSF
WPLMCSFA EQU   WPLMCSF1
WPLMCSFB EQU   WPLMCSF1
WPLMCSFC EQU   WPLMCSF1
WPLMCSF2 EQU   WPLMCSF+1
WPLTXT   EQU   WPL+4
WPLFLGS  EQU   0
WPLDESC  EQU   WPLFLGS
WPLDESC1 EQU   WPLDESC
WPLDESCE EQU   WPLDESC1
WPLDESC2 EQU   WPLDESC+1
WPLROUT  EQU   WPLFLGS+2
WPLROUT1 EQU   WPLROUT
WPLROUT2 EQU   WPLROUT+1
WPLMSGTY EQU   WPLFLGS+4
WPLMSGT1 EQU   WPLMSGTY
WPLMSGT2 EQU   WPLMSGTY+1
WPLLS01  EQU   0
WPLLTF   EQU   WPLLS01
WPLLTF1  EQU   WPLLTF
WPLML    EQU   0
WPLMLLTF EQU   WPLML+2
WPLMLLT1 EQU   WPLMLLTF
MSGELEM  EQU   0
LENELEM  EQU   MSGELEM
IDELEM   EQU   MSGELEM+1
MTEXT    EQU   MSGELEM+2
COMBUF   EQU   0
I001C    EQU   0
I008P    EQU   0
I015F    EQU   0
I015P    EQU   0
I031F    EQU   0
I031P    EQU   0
I256C    EQU   0
UCBBGN   EQU   0
UCM2PTR  EQU   0
WORKREG  EQU   0
MIDENT   EQU   0
MESID    EQU   0
@NM00001 EQU   WPLTXT+8
IEE718JN EQU   @NM00001
IEE512DD EQU   IEE718JN
IEE504CP EQU   @NM00001+5
IEE505CP EQU   IEE504CP
IEE761CP EQU   IEE505CP
IEE772CP EQU   IEE761CP
IEE502CH EQU   @NM00001+9
IEE503CH EQU   IEE502CH
IEE502CP EQU   @NM00001+11
IEE503CP EQU   IEE502CP
IEE718CP EQU   @NM00001+40
IEE774RC EQU   @NM00001+41
IEE719DD EQU   @NM00001+53
IEE541DD EQU   @NM00001+56
ERCODX   EQU   ERCODE
CSDAL    EQU   CSDCPUAL
UCMBASPT EQU   CVTCUCB
UCMMCSPT EQU   UCMPRFXP
UCMDVEPT EQU   UCMMCENT
CVTS01   EQU   CVTPGSIA
CVTLPDIA EQU   CVTS01+12
CVTDIRST EQU   CVTLPDIA
CVTSLIDA EQU   CVTS01+24
CVTCTLFG EQU   CVTS01+50
CVTCSD   EQU   CVTS01+312
CVTIPCDS EQU   CVTS01+404
CVTPCCAT EQU   CVTS01+416
CVTLCCAT EQU   CVTS01+420
CVTRV210 EQU   CVTS01+424
CVTRV219 EQU   CVTS01+425
CVTRV228 EQU   CVTS01+426
CVTRV237 EQU   CVTS01+427
CVTMFRTR EQU   CVTS01+452
CVTRV262 EQU   CVTS01+468
CVTRV271 EQU   CVTS01+469
CVTRV280 EQU   CVTS01+470
CVTRV289 EQU   CVTS01+471
CVTVACR  EQU   CVTS01+544
CVTQUIT  EQU   CVTS01+548
CVTGSDA  EQU   CVTS01+600
CVTCRCA  EQU   CVTS01+612
CHAINS01 EQU   CHASM
CHTYPE   EQU   CHAINS01+124
CHTRSTAT EQU   CHAINS01+125
CHCSYSO  EQU   CHAINS01+134
PSARSVTE EQU   PSARSVT
PSACSTK  EQU   PSARSVTE
PSASSTK  EQU   PSARSVTE+8
UCBOBS01 EQU   UCBDEV
UCBSTAB  EQU   UCBOBS01+10
UCBBSVL  EQU   UCBSTAB
UCBPRSRS EQU   UCBSTAB
UCBDMCT  EQU   UCBOBS01+11
UCBSQC   EQU   UCBOBS01+12
UCBFL4   EQU   UCBOBS01+13
UCBOBS02 EQU   UCBDEV
UCBTFL1  EQU   UCBOBS02+19
UCBXTN   EQU   UCBOBS02+20
UCBVOPT  EQU   UCBXTN
UCBOBS03 EQU   UCBDEV
UCBXTADR EQU   UCBOBS03
UCBOBS04 EQU   UCBDEV
UCBBTA   EQU   UCBOBS04+12
UCBOBS06 EQU   UCBDEV
UCBAOF   EQU   UCBOBS06
UCBAOF1  EQU   UCBAOF
UCBAOF2  EQU   UCBAOF+1
@NM00055 EQU   UCBOBS06+3
UCBIRB   EQU   UCBOBS06+4
UCBGRAF  EQU   UCBIRB
UCBLDNCA EQU   UCBOBS06+8
UCBRDYQ  EQU   UCBLDNCA
UCBIRLN  EQU   UCBRDYQ
UCBLDNCB EQU   UCBRDYQ+1
UCBCTLNK EQU   UCBOBS06+12
UCBOBS07 EQU   UCBDEV
UCBOBS08 EQU   UCBDEV
UCBCTCAD EQU   UCBOBS08
UCBCTCF1 EQU   UCBOBS08+4
UCBOBS09 EQU   UCBDEV
UCMIECBA EQU   UCMRECBA+4
I005     EQU   ILIST
I00502   EQU   I005+1
I00504   EQU   I005+5
I00505   EQU   I005+8
I00506   EQU   I005+9
I004     EQU   ILIST
I00401   EQU   I004
I00403   EQU   I004+5
I00404   EQU   I004+8
I00405   EQU   I004+9
CSDJS    EQU   CSDCPUJS
FLC      EQU   PSA
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
I00402   EQU   I004+4
I00503   EQU   I005+4
I00501   EQU   I005
UCMIECBP EQU   UCMIECBA+1
UCMIECBF EQU   UCMIECBA
UCBRV066 EQU   UCBOBS09+4
UCBIOSBA EQU   UCBOBS09
UCBRV042 EQU   UCBOBS08+5
UCBRV082 EQU   UCBCTCF1
UCBRV081 EQU   UCBCTCF1
UCBRV080 EQU   UCBCTCF1
UCBRV079 EQU   UCBCTCF1
UCBRV078 EQU   UCBCTCF1
UCBRV077 EQU   UCBCTCF1
UCBRV076 EQU   UCBCTCF1
UCBCTC80 EQU   UCBCTCF1
UCBCTCAL EQU   UCBCTCAD
UCBICNCB EQU   UCBOBS07+4
UCBRV040 EQU   UCBOBS07
UCBCTLNA EQU   UCBCTLNK+1
UCBRLN   EQU   UCBCTLNK
UCBRDYQA EQU   UCBLDNCB
UCBINRLN EQU   UCBIRLN
UCBIRBA  EQU   UCBIRB+1
UCBRV039 EQU   UCBGRAF
UCBDWNR  EQU   UCBGRAF
UCBRPND  EQU   UCBGRAF
UCBUPM   EQU   UCBGRAF
UCBBTAM  EQU   UCBGRAF
UCBDRNO  EQU   UCBGRAF
UCBDRO   EQU   UCBGRAF
UCBOIP   EQU   UCBGRAF
UCBATRCD EQU   @NM00055
UCBSKPFG EQU   @NM00055
UCBRIPND EQU   @NM00055
UCBRTIAC EQU   @NM00055
UCBRSV79 EQU   @NM00055
UCBRSV78 EQU   @NM00055
UCBRSV77 EQU   @NM00055
UCBOLTEP EQU   @NM00055
UCBATNCT EQU   UCBOBS06+2
UCBRSV76 EQU   UCBAOF2
UCBRSV75 EQU   UCBAOF2
UCBRSV74 EQU   UCBAOF2
UCBRSV73 EQU   UCBAOF2
UCBRSV72 EQU   UCBAOF2
UCBRSV71 EQU   UCBAOF2
UCBRSV70 EQU   UCBAOF2
UCBRSV69 EQU   UCBAOF2
UCBRSV68 EQU   UCBAOF1
UCBRSV67 EQU   UCBAOF1
UCBRSV66 EQU   UCBAOF1
UCBRSV65 EQU   UCBAOF1
UCBRSV64 EQU   UCBAOF1
UCBOFNL  EQU   UCBAOF1
UCBOFSP  EQU   UCBAOF1
UCBOFMCR EQU   UCBAOF1
UCBBTB   EQU   UCBBTA+1
UCBDI    EQU   UCBBTA
UCBSNS   EQU   UCBOBS04+8
UCBTEB   EQU   UCBOBS04+4
UCBGCB   EQU   UCBOBS04+3
UCBOPEN  EQU   UCBOBS04+2
UCBSTART EQU   UCBOBS04
UCBXTNB  EQU   UCBXTN+1
UCBRSV22 EQU   UCBVOPT
UCBRSV21 EQU   UCBVOPT
UCBRSV20 EQU   UCBVOPT
UCBESVE  EQU   UCBVOPT
UCBERPC  EQU   UCBVOPT
UCBESVC  EQU   UCBVOPT
UCBEVA   EQU   UCBVOPT
UCBESV   EQU   UCBVOPT
UCBRV009 EQU   UCBTFL1
UCBRV008 EQU   UCBTFL1
UCBRV007 EQU   UCBTFL1
UCBRV006 EQU   UCBTFL1
UCBRV005 EQU   UCBTFL1
UCBDQDSP EQU   UCBTFL1
UCBNSLTP EQU   UCBTFL1
UCBNLTP  EQU   UCBTFL1
UCBRES1B EQU   UCBOBS02+18
UCBFSER  EQU   UCBOBS02+12
@NM00054 EQU   UCBOBS02+4
UCBFSEQ  EQU   UCBOBS02+2
UCBFSCT  EQU   UCBOBS02
UCBNEXP  EQU   UCBOBS01+20
UCBBASE  EQU   UCBOBS01+16
UCBRES1A EQU   UCBOBS01+15
UCBUSER  EQU   UCBOBS01+14
UCBFL47  EQU   UCBFL4
UCBFL46  EQU   UCBFL4
UCBFL45  EQU   UCBFL4
UCBRV065 EQU   UCBFL4
UCBDSS   EQU   UCBFL4
UCBRESVP EQU   UCBFL4
UCBWDAV  EQU   UCBFL4
UCBDAVV  EQU   UCBFL4
UCBDATP  EQU   UCBOBS01+12
UCBDMC   EQU   UCBDMCT
UCBMOUNT EQU   UCBDMCT
UCBBNUL  EQU   UCBSTAB
UCBSHAR  EQU   UCBSTAB
UCBBSTR  EQU   UCBSTAB
UCBBPUB  EQU   UCBSTAB
UCBBPRV  EQU   UCBSTAB
UCBBALB  EQU   UCBPRSRS
UCBPGFL  EQU   UCBSTAB
UCBDVSHR EQU   UCBBSVL
UCBVOLI  EQU   UCBOBS01+4
UCBVTOC  EQU   UCBOBS01
PSARSAV  EQU   PSARSVTE+60
PSARSTK  EQU   PSARSVTE+56
PSAESAV3 EQU   PSARSVTE+52
PSAESTK3 EQU   PSARSVTE+48
PSAESAV2 EQU   PSARSVTE+44
PSAESTK2 EQU   PSARSVTE+40
PSAESAV1 EQU   PSARSVTE+36
PSAESTK1 EQU   PSARSVTE+32
PSAPSAV  EQU   PSARSVTE+28
PSAPSTK  EQU   PSARSVTE+24
PSAMSAV  EQU   PSARSVTE+20
PSAMSTK  EQU   PSARSVTE+16
PSASSAV  EQU   PSARSVTE+12
PSANSTK  EQU   PSARSVTE+4
CHLAST   EQU   CHAINS01+136
CHSPA    EQU   CHAINS01+135
CHUSERID EQU   CHCSYSO
CHJB     EQU   CHCSYSO
CHDUMP   EQU   CHCSYSO
CHQUE    EQU   CHCSYSO
CHHOLD   EQU   CHCSYSO
CHOUT    EQU   CHCSYSO
CHINN    EQU   CHCSYSO
CHALL    EQU   CHCSYSO
CHINC    EQU   CHAINS01+132
CHPEND   EQU   CHAINS01+128
CHARID   EQU   CHAINS01+127
CHCNID   EQU   CHAINS01+126
@NM00026 EQU   CHTRSTAT
CHTSL    EQU   CHTRSTAT
CHTS     EQU   CHTRSTAT
CHINITL  EQU   CHTRSTAT
CHINIT   EQU   CHTRSTAT
CHJOBSL  EQU   CHTRSTAT
CHJOBS   EQU   CHTRSTAT
CHDEF    EQU   CHTYPE
CHHIAR   EQU   CHTYPE
CHARSV29 EQU   CHTYPE
CHARSV28 EQU   CHTYPE
CHARSV27 EQU   CHTYPE
CHARSV26 EQU   CHTYPE
CHARSV25 EQU   CHTYPE
CHDSTAT  EQU   CHTYPE
CHBUF    EQU   CHAINS01
CVTRV628 EQU   CVTS01+728
CVTRV627 EQU   CVTS01+724
CVTRV626 EQU   CVTS01+720
CVTRV625 EQU   CVTS01+716
CVTRV624 EQU   CVTS01+712
CVTRV623 EQU   CVTS01+708
CVTRV622 EQU   CVTS01+704
CVTRV621 EQU   CVTS01+700
CVTIHASU EQU   CVTS01+696
CVTSUSP  EQU   CVTS01+692
CVTT6SVC EQU   CVTS01+688
CVTCDAL  EQU   CVTS01+684
CVTTCTL  EQU   CVTS01+680
CVTRSUME EQU   CVTS01+676
CVTJTERM EQU   CVTS01+672
CVTASMRM EQU   CVTS01+668
CVTTCASP EQU   CVTS01+664
CVT0PT03 EQU   CVTS01+660
CVT0PT0E EQU   CVTS01+656
CVTRV609 EQU   CVTS01+652
CVTCGK   EQU   CVTS01+648
CVTRAC   EQU   CVTS01+644
CVTRV606 EQU   CVTS01+640
CVTRV605 EQU   CVTS01+636
CVTRV604 EQU   CVTS01+632
CVTEFF02 EQU   CVTS01+628
CVTCBBR  EQU   CVTS01+624
CVTSSCR  EQU   CVTS01+620
CVTEVENT EQU   CVTS01+616
CVTTPIO  EQU   CVTS01+608
CVTADV   EQU   CVTS01+604
CVTGSDAB EQU   CVTGSDA
CVTQV3   EQU   CVTS01+596
CVTQV2   EQU   CVTS01+592
CVTQV1   EQU   CVTS01+588
CVTRPT   EQU   CVTS01+584
CVTSSRB  EQU   CVTS01+580
CVTCSDRL EQU   CVTS01+576
CVTEXP1  EQU   CVTS01+572
CVTRMPMT EQU   CVTS01+568
CVTRMPTT EQU   CVTS01+564
CVTVPSA  EQU   CVTS01+560
CVTVSTOP EQU   CVTS01+556
CVTGTFR8 EQU   CVTS01+552
CVTWTCB  EQU   CVTS01+540
CVTSTPRS EQU   CVTS01+536
CVT0PT02 EQU   CVTS01+532
CVTDARCM EQU   CVTS01+528
CVTIRECM EQU   CVTS01+524
CVTJRECM EQU   CVTS01+520
CVTVEMS0 EQU   CVTS01+516
CVTSPFRR EQU   CVTS01+512
CVTRLSTG EQU   CVTS01+508
CVT0TC0A EQU   CVTS01+504
CVTGMBR  EQU   CVTS01+500
CVTLFRM  EQU   CVTS01+496
CVTRMBR  EQU   CVTS01+492
CVTVIOP  EQU   CVTS01+488
CVTRV307 EQU   CVTS01+486
CVTRV306 EQU   CVTS01+484
CVTRV305 EQU   CVTS01+482
CVTRV304 EQU   CVTS01+480
CVTRV303 EQU   CVTS01+478
CVTRV302 EQU   CVTS01+476
CVTTRCA  EQU   CVTS01+472
CVTRV297 EQU   CVTRV289
CVTRV296 EQU   CVTRV289
CVTRV295 EQU   CVTRV289
CVTRV294 EQU   CVTRV289
CVTRV293 EQU   CVTRV289
CVTRV292 EQU   CVTRV289
CVTRV291 EQU   CVTRV289
CVTRV290 EQU   CVTRV289
CVTRV288 EQU   CVTRV280
CVTRV287 EQU   CVTRV280
CVTRV286 EQU   CVTRV280
CVTRV285 EQU   CVTRV280
CVTRV284 EQU   CVTRV280
CVTRV283 EQU   CVTRV280
CVTRV282 EQU   CVTRV280
CVTRV281 EQU   CVTRV280
CVTRV279 EQU   CVTRV271
CVTRV278 EQU   CVTRV271
CVTRV277 EQU   CVTRV271
CVTRV276 EQU   CVTRV271
CVTRV275 EQU   CVTRV271
CVTRV274 EQU   CVTRV271
CVTRV273 EQU   CVTRV271
CVTRV272 EQU   CVTRV271
CVTRV270 EQU   CVTRV262
CVTRV269 EQU   CVTRV262
CVTRV268 EQU   CVTRV262
CVTRV267 EQU   CVTRV262
CVTRV266 EQU   CVTRV262
CVTRV265 EQU   CVTRV262
CVTRV264 EQU   CVTRV262
CVTRV263 EQU   CVTRV262
CVTVFP   EQU   CVTS01+464
CVTVSI   EQU   CVTS01+460
CVTVPSIB EQU   CVTS01+456
CVTMFACT EQU   CVTMFRTR
CVTMFCTL EQU   CVTS01+448
CVTPVBP  EQU   CVTS01+444
CVTPWI   EQU   CVTS01+440
CVTRV254 EQU   CVTS01+438
CVTRV253 EQU   CVTS01+436
CVTRV252 EQU   CVTS01+434
CVTRV251 EQU   CVTS01+433
CVTRV250 EQU   CVTS01+432
CVTRV249 EQU   CVTS01+431
CVTRV248 EQU   CVTS01+430
CVTRV247 EQU   CVTS01+429
CVTRV246 EQU   CVTS01+428
CVTRV245 EQU   CVTRV237
CVTRV244 EQU   CVTRV237
CVTRV243 EQU   CVTRV237
CVTRV242 EQU   CVTRV237
CVTRV241 EQU   CVTRV237
CVTRV240 EQU   CVTRV237
CVTRV239 EQU   CVTRV237
CVTRV238 EQU   CVTRV237
CVTRV236 EQU   CVTRV228
CVTRV235 EQU   CVTRV228
CVTRV234 EQU   CVTRV228
CVTRV233 EQU   CVTRV228
CVTRV232 EQU   CVTRV228
CVTRV231 EQU   CVTRV228
CVTRV230 EQU   CVTRV228
CVTRV229 EQU   CVTRV228
CVTRV227 EQU   CVTRV219
CVTRV226 EQU   CVTRV219
CVTRV225 EQU   CVTRV219
CVTRV224 EQU   CVTRV219
CVTRV223 EQU   CVTRV219
CVTRV222 EQU   CVTRV219
CVTRV221 EQU   CVTRV219
CVTRV220 EQU   CVTRV219
CVTRV218 EQU   CVTRV210
CVTRV217 EQU   CVTRV210
CVTRV216 EQU   CVTRV210
CVTRV215 EQU   CVTRV210
CVTRV214 EQU   CVTRV210
CVTRV213 EQU   CVTRV210
CVTRV212 EQU   CVTRV210
CVTRV211 EQU   CVTRV210
CVTIPCRP EQU   CVTS01+412
CVTIPCRI EQU   CVTS01+408
CVTAIDVT EQU   CVTS01+400
CVTSSAP  EQU   CVTS01+396
CVTEHCIR EQU   CVTS01+392
CVTEHDEF EQU   CVTS01+388
CVTDAIR  EQU   CVTS01+384
CVTPERFM EQU   CVTS01+380
CVT044R2 EQU   CVTS01+376
CVTFETCH EQU   CVTS01+372
CVTRSTWD EQU   CVTS01+368
CVTSPOST EQU   CVTS01+364
CVTIOBP  EQU   CVTS01+360
CVTASMVT EQU   CVTS01+356
CVTRECRQ EQU   CVTS01+352
CVTWSAC  EQU   CVTS01+348
CVTRV149 EQU   CVTS01+344
CVTWSAL  EQU   CVTS01+340
CVTSPSA  EQU   CVTS01+336
CVTGLMN  EQU   CVTS01+332
CVTVEAC0 EQU   CVTS01+328
CVT062R1 EQU   CVTS01+324
CVTRPOST EQU   CVTS01+320
CVTDQIQE EQU   CVTS01+316
CVTLKRMA EQU   CVTS01+308
CVTRSPIE EQU   CVTS01+304
CVTRENQ  EQU   CVTS01+300
CVTLQCB  EQU   CVTS01+296
CVTFQCB  EQU   CVTS01+292
CVTQCS01 EQU   CVTS01+288
CVTAPFT  EQU   CVTS01+284
CVTPARRL EQU   CVTS01+280
CVTVWAIT EQU   CVTS01+276
CVTGSPL  EQU   CVTS01+272
CVTLSMQ  EQU   CVTS01+268
CVTGSMQ  EQU   CVTS01+264
CVTEXPRO EQU   CVTS01+260
CVTOPCTP EQU   CVTS01+256
CVTSIC   EQU   CVTS01+252
CVTTPIOS EQU   CVTS01+248
CVTRTMS  EQU   CVTS01+244
CVTSDBF  EQU   CVTS01+240
CVTSCBP  EQU   CVTS01+236
CVTSDMP  EQU   CVTS01+232
CVTSV60  EQU   CVTS01+228
CVTRTMCT EQU   CVTS01+224
CVTASCBL EQU   CVTS01+220
CVTASCBH EQU   CVTS01+216
CVTGDA   EQU   CVTS01+212
CVTASVT  EQU   CVTS01+208
CVTVVMDI EQU   CVTS01+204
CVTAQTOP EQU   CVTS01+200
CVTIOSCS EQU   CVTS01+196
CVTSDRM  EQU   CVTS01+192
CVTOPTE  EQU   CVTS01+188
CVTSTXU  EQU   CVTS01+184
CVTQUIS  EQU   CVTS01+180
CVTPARS  EQU   CVTS01+176
CVTS1EE  EQU   CVTS01+172
CVTFRAS  EQU   CVTS01+168
CVTQSAS  EQU   CVTS01+164
CVTCRAS  EQU   CVTS01+160
CVTCRMN  EQU   CVTS01+156
CVTDELCP EQU   CVTS01+152
CVTFRECL EQU   CVTS01+148
CVTGETCL EQU   CVTS01+144
CVTBLDCP EQU   CVTS01+140
CVTAUTHL EQU   CVTS01+136
CVTSCAN  EQU   CVTS01+132
CVTRV144 EQU   CVTS01+130
CVTMAXMP EQU   CVTS01+128
CVTSTCK  EQU   CVTS01+124
CVTRV139 EQU   CVTS01+123
CVTDSSAC EQU   CVTS01+122
CVTRV513 EQU   CVTS01+121
CVTIOSPL EQU   CVTS01+120
CVTPTGT  EQU   CVTS01+116
CVTCSPIE EQU   CVTS01+112
CVTSMFEX EQU   CVTS01+108
CVTOLT0A EQU   CVTS01+104
CVTSRBRT EQU   CVTS01+100
CVTPUTL  EQU   CVTS01+96
CVTASCRL EQU   CVTS01+92
CVTASCRF EQU   CVTS01+88
CVTRV326 EQU   CVTS01+84
CVTRV325 EQU   CVTS01+80
CVTRV324 EQU   CVTS01+76
CVT0VL01 EQU   CVTS01+72
CVTSHRVM EQU   CVTS01+68
CVTRV332 EQU   CVTS01+64
CVTTAS   EQU   CVTS01+60
CVTRSCN  EQU   CVTS01+56
CVTTRAC2 EQU   CVTS01+54
CVTTRACE EQU   CVTS01+52
CVTAPG   EQU   CVTS01+51
CVTSDTRC EQU   CVTCTLFG
CVTGTRCE EQU   CVTCTLFG
CVTNOMP  EQU   CVTCTLFG
CVTRSV79 EQU   CVTCTLFG
CVTDSTAT EQU   CVTCTLFG
CVTRSV78 EQU   CVTCTLFG
CVTRV333 EQU   CVTCTLFG
CVTRV323 EQU   CVTCTLFG
CVTSPVLK EQU   CVTS01+49
CVTRSV77 EQU   CVTS01+48
CVTRV331 EQU   CVTS01+44
CVTRV330 EQU   CVTS01+40
CVTRV329 EQU   CVTS01+36
CVTRV328 EQU   CVTS01+32
CVTRV322 EQU   CVTS01+28
CVTSLID  EQU   CVTSLIDA+1
CVTSYLK  EQU   CVTSLIDA
CVTRV321 EQU   CVTS01+20
CVTRV320 EQU   CVTS01+16
CVTLPDIR EQU   CVTLPDIA+1
CVTRSV69 EQU   CVTDIRST
CVTRSV68 EQU   CVTDIRST
CVTRSV67 EQU   CVTDIRST
CVTRSV66 EQU   CVTDIRST
CVTRSV65 EQU   CVTDIRST
CVTRSV64 EQU   CVTDIRST
CVTRSV63 EQU   CVTDIRST
CVTDICOM EQU   CVTDIRST
CVTPVTP  EQU   CVTS01+8
CVTLPDSR EQU   CVTS01+4
CVTGETL  EQU   CVTS01
@NM00006 EQU   @NM00001+44
@NM00005 EQU   @NM00001+12
@NM00004 EQU   @NM00001+10
@NM00003 EQU   @NM00001+6
@NM00002 EQU   @NM00001+3
WPLMLTXT EQU   WPLML+4
WPLMLLT2 EQU   WPLMLLTF+1
WPLRSV24 EQU   WPLMLLT1
WPLRSV23 EQU   WPLMLLT1
WPLRSV22 EQU   WPLMLLT1
WPLRSV21 EQU   WPLMLLT1
WPLMLLTD EQU   WPLMLLT1
WPLMLLTC EQU   WPLMLLT1
WPLMLLTB EQU   WPLMLLT1
WPLMLLTA EQU   WPLMLLT1
WPLMLLEN EQU   WPLML+1
WPLML0   EQU   WPLML
WPLLINES EQU   WPLLS01+3
WPLAREA  EQU   WPLLS01+2
WPLLTF2  EQU   WPLLTF+1
WPLRSV20 EQU   WPLLTF1
WPLRSV19 EQU   WPLLTF1
WPLRSV18 EQU   WPLLTF1
WPLRSV17 EQU   WPLLTF1
WPLLTFD  EQU   WPLLTF1
WPLLTFC  EQU   WPLLTF1
WPLLTFB  EQU   WPLLTF1
WPLLTFA  EQU   WPLLTF1
WPLQID   EQU   WPLFLGS+6
WPLRSV32 EQU   WPLMSGT2
WPLRSV31 EQU   WPLMSGT2
WPLRSV30 EQU   WPLMSGT2
WPLRSV29 EQU   WPLMSGT2
WPLRSV28 EQU   WPLMSGT2
WPLRSV27 EQU   WPLMSGT2
WPLRSV26 EQU   WPLMSGT2
WPLRSV25 EQU   WPLMSGT2
WPLRSV16 EQU   WPLMSGT1
WPLRSV15 EQU   WPLMSGT1
WPLMSGTF EQU   WPLMSGT1
WPLRSV14 EQU   WPLMSGT1
WPLMSGTD EQU   WPLMSGT1
WPLMSGTC EQU   WPLMSGT1
WPLMSGTB EQU   WPLMSGT1
WPLMSGTA EQU   WPLMSGT1
WPLRSV13 EQU   WPLROUT2
WPLROUTO EQU   WPLROUT2
WPLROUTN EQU   WPLROUT2
WPLROUTM EQU   WPLROUT2
WPLROUTL EQU   WPLROUT2
WPLROUTK EQU   WPLROUT2
WPLROUTJ EQU   WPLROUT2
WPLROUTI EQU   WPLROUT2
WPLROUTH EQU   WPLROUT1
WPLROUTG EQU   WPLROUT1
WPLROUTF EQU   WPLROUT1
WPLROUTE EQU   WPLROUT1
WPLROUTD EQU   WPLROUT1
WPLROUTC EQU   WPLROUT1
WPLROUTB EQU   WPLROUT1
WPLROUTA EQU   WPLROUT1
WPLRSV12 EQU   WPLDESC2
WPLRSV11 EQU   WPLDESC2
WPLRSV10 EQU   WPLDESC2
WPLRSV09 EQU   WPLDESC2
WPLRSV08 EQU   WPLDESC2
WPLRSV07 EQU   WPLDESC2
WPLDESCJ EQU   WPLDESC2
WPLDESCI EQU   WPLDESC2
WPLDESCH EQU   WPLDESC1
WPLDESCG EQU   WPLDESC1
WPLDESCF EQU   WPLDESC1
WPLDESCD EQU   WPLDESC1
WPLDESCC EQU   WPLDESC1
WPLDESCB EQU   WPLDESC1
WPLDESCA EQU   WPLDESC1
WPLTXTL  EQU   WPLTXT+125
@NM00060 EQU   WPLTXT
WPLRSV05 EQU   WPLMCSF2
WPLRSV04 EQU   WPLMCSF2
WPLMCSFN EQU   WPLMCSF2
WPLRSV03 EQU   WPLMCSF2
WPLNOWTP EQU   WPLMCSF2
WPLMCSFK EQU   WPLMCSF2
WPLMCSFJ EQU   WPLMCSF2
WPLMCSFI EQU   WPLMCSF2
WPLMCSFH EQU   WPLMCSF1
WPLMCSFG EQU   WPLMCSF1
WPLMCSFF EQU   WPLMCSF1
WPLMCSFE EQU   WPLMCSF1
WPLMCSFD EQU   WPLMCSF1
WPLRECB  EQU   WPLRF+4
WPLRPTRA EQU   WPLRPTR+1
WPLRLN   EQU   WPLRPTR
SMF22FSI EQU   SMF22VOF+3
SMF22RVB EQU   SMF22VOF+2
SMF22FID EQU   SMF22VOF+1
SMF22RV6 EQU   SMF22VOF
SMF22NSI EQU   SMF22VON+3
SMF22RVA EQU   SMF22VON+2
SMF22NID EQU   SMF22VON+1
SMF22RV5 EQU   SMF22VON
SMF22ION EQU   SMF22IPL+2
SMF22IID EQU   SMF22IPL+1
SMF22RV4 EQU   SMF22IPL
SMF22NPG EQU   SMF22STR+4
SMF22PGL EQU   SMF22STR+2
SMF22TID EQU   SMF22STR+1
SMF22RV3 EQU   SMF22STR
SMF22RV2 EQU   SMF22CHL
SMF22RV1 EQU   SMF22CPU+4
SMF22RV0 EQU   SMF22CPU
SMF22SID EQU   SMFRCD22+14
SMF22DTE EQU   SMFRCD22+10
SMF22TME EQU   SMFRCD22+6
SMF22FLG EQU   SMFRCD22+4
SMF22SEG EQU   SMFRCD22+2
SMF11VDV EQU   SMF11CUA
SMF11SID EQU   SMFRCD11+14
SMF11DTE EQU   SMFRCD11+10
SMF11TME EQU   SMFRCD11+6
SMF11FLG EQU   SMFRCD11+4
SMF11SEG EQU   SMFRCD11+2
SMF9VDV  EQU   SMF9CUA
SMF9DUT  EQU   SMF9DVAD
SMF9LENN EQU   SMFRCD09+18
SMF9SID  EQU   SMFRCD09+14
SMF9DTE  EQU   SMFRCD09+10
SMF9TME  EQU   SMFRCD09+6
SMF9RTY  EQU   SMFRCD09+5
SMF9FLG  EQU   SMFRCD09+4
SMF9SEG  EQU   SMFRCD09+2
SMF9LEN  EQU   SMFRCD09
UCMPRSV2 EQU   UCMPEXTA+20
UCMPRSV1 EQU   UCMPDM1+8
UCMPNMCC EQU   UCMPDM1+4
UCMPWQE  EQU   UCMPDM1
UCMPUCMP EQU   UCMPEXTA
UCMFRSV3 EQU   UCMFEXTA+20
UCMF80WQ EQU   UCMFEXTA+18
UCMF60WQ EQU   UCMFEXTA+16
UCMFRSV2 EQU   UCMFMGFS+4
UCMFRSV1 EQU   UCMFMGFS+2
UCMFFLG2 EQU   UCMFMGFS+1
UCMFBR07 EQU   UCMFFLG1
UCMFBR06 EQU   UCMFFLG1
UCMFBR05 EQU   UCMFFLG1
UCMFBR04 EQU   UCMFFLG1
UCMFBR03 EQU   UCMFFLG1
UCMFMSGN EQU   UCMFFLG1
UCMFMSGA EQU   UCMFFLG1
UCMFMSGE EQU   UCMFFLG1
UCMFUCMF EQU   UCMFEXTA
UCMRCTA  EQU   UCMRCT+1
UCMRSV31 EQU   UCMSDS5
UCMSDS5G EQU   UCMSDS5
UCMSDS5F EQU   UCMSDS5
UCMRSV30 EQU   UCMSDS5
UCMRSV29 EQU   UCMSDS5
UCMSDS5C EQU   UCMSDS5
UCMSDS5B EQU   UCMSDS5
UCMSDS5A EQU   UCMSDS5
UCMMLAST EQU   UCMLIST+64
UCMVHRSN EQU   UCMDEVC
UCMDEVG  EQU   UCMDEVC
UCMDEVF  EQU   UCMDEVC
UCMDEVE  EQU   UCMDEVC
UCMDEVD  EQU   UCMDEVC
UCMDEVCC EQU   UCMDEVC
UCMDEVB  EQU   UCMDEVC
UCMDEVA  EQU   UCMDEVC
UCMXOR   EQU   UCMLIST+62
UCMMSG2  EQU   UCMMSG+1
UCMRSV27 EQU   UCMMSG1
UCMRSV26 EQU   UCMMSG1
UCMMSGF  EQU   UCMMSG1
UCMMSGE  EQU   UCMMSG1
UCMMSGD  EQU   UCMMSG1
UCMMSGC  EQU   UCMMSG1
UCMMSGB  EQU   UCMMSG1
UCMMSGA  EQU   UCMMSG1
UCMCOMPC EQU   UCMLIST+56
UCMWLAST EQU   UCMLIST+52
UCMOAOEN EQU   UCMLIST+48
UCMALTEN EQU   UCMLIST+44
UCMRV007 EQU   UCMDISP2
UCMRV006 EQU   UCMDISP2
UCMRV005 EQU   UCMDISP2
UCMRV004 EQU   UCMDISP2
UCMRV003 EQU   UCMDISP2
UCMDISPK EQU   UCMDISP2
UCMDISPJ EQU   UCMDISP2
UCMDISPI EQU   UCMDISP2
UCMDISPH EQU   UCMDISP1
UCMDISPG EQU   UCMDISP1
UCMDISPF EQU   UCMDISP1
UCMDISPE EQU   UCMDISP1
UCMDISPD EQU   UCMDISP1
UCMDISPC EQU   UCMDISP1
UCMDISPB EQU   UCMDISP1
UCMDISPA EQU   UCMDISP1
UCMAUTHB EQU   UCMAUTH+1
UCMRSV23 EQU   UCMAUTHA
UCMRSV22 EQU   UCMAUTHA
UCMRSV21 EQU   UCMAUTHA
UCMRSV20 EQU   UCMAUTHA
UCMRSV19 EQU   UCMAUTHA
UCMAUTH3 EQU   UCMAUTHA
UCMAUTH2 EQU   UCMAUTHA
UCMAUTH1 EQU   UCMAUTHA
UCMOUTQ  EQU   UCMLIST+36
UCMRSV18 EQU   UCMLIST+34
UCMRTCD  EQU   UCMLIST+32
UCMXB    EQU   UCMLIST+28
@NM00059 EQU   UCMXA+1
UCMID    EQU   UCMXA
UCMRSV17 EQU   UCMATR
UCMRSV16 EQU   UCMATR
UCMAT04  EQU   UCMATR
UCMLF    EQU   UCMATR
UCMUF    EQU   UCMATR
UCMXF    EQU   UCMATR
UCMIF    EQU   UCMATR
UCMOF    EQU   UCMATR
UCMTC    EQU   UCMSTS
UCMTD    EQU   UCMSTS
UCMTB    EQU   UCMSTS
UCMTA    EQU   UCMSTS
UCMCF    EQU   UCMSTS
UCMBF    EQU   UCMSTS
UCMPF    EQU   UCMSTS
UCMAF    EQU   UCMSTS
UCMNAME  EQU   UCMLIST+16
UCMUCB   EQU   UCMLIST+12
UCMDCB   EQU   UCMLIST+8
UCMSBR   EQU   UCMLIST+4
UCMECB   EQU   UCMLIST
UCMTPSAV EQU   UCMEXIT+208
UCMXTSAV EQU   UCMEXIT+136
UCMDESCD EQU   UCMEXIT+132
UCMROUTC EQU   UCMEXIT+128
UCMMSTXT EQU   UCMEXIT
UCMDECBA EQU   UCMEIL+20
UCMOECBA EQU   UCMEIL+16
UCMAECBA EQU   UCMEIL+12
UCMXECBA EQU   UCMEIL+8
UCMNIPTR EQU   UCMEIL+4
UCMRSV15 EQU   UCMEIL+3
UCMRTCT  EQU   UCMEIL+2
UCMRPYL  EQU   UCMEIL+1
@NM00058 EQU   UCMEIL
UCMRSV60 EQU   UCM+302
UCMRSV59 EQU   UCMRSV51
UCMRSV58 EQU   UCMRSV51
UCMRSV57 EQU   UCMRSV51
UCMRSV56 EQU   UCMRSV51
UCMRSV55 EQU   UCMRSV51
UCMRSV54 EQU   UCMRSV51
UCMRSV53 EQU   UCMRSV51
UCMRSV52 EQU   UCMRSV51
UCMRSV50 EQU   UCMRSV42
UCMRSV49 EQU   UCMRSV42
UCMRSV48 EQU   UCMRSV42
UCMRSV47 EQU   UCMRSV42
UCMRSV46 EQU   UCMRSV42
UCMRSV45 EQU   UCMRSV42
UCMRSV44 EQU   UCMRSV42
UCMRSV43 EQU   UCMRSV42
UCMJES3T EQU   UCM+296
UCMWAKUP EQU   UCM+292
UCMFRRAD EQU   UCM+288
UCMSWCH  EQU   UCM+284
UCMASCB  EQU   UCM+280
UCMWQECP EQU   UCM+276
UCMORECP EQU   UCM+272
UCMOECBT EQU   UCM+268
UCMOECBH EQU   UCM+264
UCMWECBT EQU   UCM+260
UCMWECBH EQU   UCM+256
UCMMBEND EQU   UCM+252
UCMCTID  EQU   UCM+250
UCMRSV61 EQU   UCM+248
UCMRP2AD EQU   UCM+244
UCMCRAAD EQU   UCM+240
UCMWQLM1 EQU   UCM+238
UCMRV001 EQU   UCM+237
UCMRQLM1 EQU   UCM+236
UCMMBPTR EQU   UCM+232
UCMMQNXT EQU   UCM+228
UCMMQEND EQU   UCM+224
UCMMQPTR EQU   UCM+220
UCMTRECB EQU   UCM+216
UCMMNECB EQU   UCM+212
UCMMNTR  EQU   UCM+208
UCMR9SV  EQU   UCM+204
UCMSAVE4 EQU   UCM+140
UCMSAVE3 EQU   UCM+84
UCMVEL   EQU   UCMVDATA+8
UCMVEZ   EQU   UCMVDATA+4
UCMVEA   EQU   UCMVDATA
UCMINCR  EQU   UCM+71
UCMMODEL EQU   UCM+70
UCMCORE  EQU   UCM+69
UCMFIX   EQU   UCMMODE
UCMMCS   EQU   UCMMODE
UCMOGCE  EQU   UCMMODE
UCMAMFA  EQU   UCMMODE
UCMRSV14 EQU   UCMMODE
UCMTPUTA EQU   UCMMODE
UCMNOCON EQU   UCMMODE
UCMRSV11 EQU   UCMMODE
UCMPXA   EQU   UCM+64
UCMWQEND EQU   UCM+60
UCMWQNR  EQU   UCM+58
UCMRQNR  EQU   UCM+56
UCMWQECB EQU   UCM+52
UCMRQECB EQU   UCM+48
UCMWQLM  EQU   UCM+46
UCMRQLM  EQU   UCM+45
@NM00057 EQU   UCMRPYI
UCMRPYQ  EQU   UCM+28
UCMWTOQ  EQU   UCM+24
UCMLSTP  EQU   UCM+20
UCMARECB EQU   UCM+16
UCMLECB  EQU   UCMDECB
UCMOECB  EQU   UCM+8
UCMAECB  EQU   UCM+4
UCMXECB  EQU   UCM
UCMGMCNT EQU   UCMPRFX+158
UCMSDS2  EQU   UCMPRFX+157
UCMRSV09 EQU   UCMSDS1
UCMRSV08 EQU   UCMSDS1
UCMRSV07 EQU   UCMSDS1
UCMRSV06 EQU   UCMSDS1
UCMRSV05 EQU   UCMSDS1
UCMRSV04 EQU   UCMSDS1
UCMSDS1B EQU   UCMSDS1
UCMSDS1A EQU   UCMSDS1
UCMDTINT EQU   UCMPRFX+152
UCMLOGAD EQU   UCMPRFX+148
UCMNPECB EQU   UCMPRFX+144
UCMTPPTR EQU   UCMPRFX+140
UCMDOMRT EQU   UCMPRFX+136
UCMRUTCK EQU   UCMPRFX+132
UCMQRTN  EQU   UCMPRFX+128
UCM6WD   EQU   UCMXSA+20
UCM5WD   EQU   UCMXSA+16
UCM4WD   EQU   UCMXSA+12
UCM3WD   EQU   UCMXSA+8
UCM2WD   EQU   UCMXSA+4
UCM1WD   EQU   UCMXSA
UCMRSV03 EQU   UCMPRFX+102
UCMHRDRT EQU   UCMPRFX+100
UCMUEXIT EQU   UCMPRFX+97
UCMXCT   EQU   UCMPRFX+96
UCMHCUCM EQU   UCMPRFX+92
UCMCMID  EQU   UCMPRFX+88
UCMOWTOR EQU   UCMPRFX+86
UCMRSV02 EQU   UCMSFLG2
UCMSYSO  EQU   UCMSFLG2
UCMSYSN  EQU   UCMSFLG2
UCMSYSM  EQU   UCMSFLG2
UCMSYSL  EQU   UCMSFLG2
UCMSYSK  EQU   UCMSFLG2
UCMSYSJ  EQU   UCMSFLG2
UCMSYSI  EQU   UCMSFLG2
UCMRSV35 EQU   UCMSFLG1
UCMSYSG  EQU   UCMSFLG1
UCMSYSF  EQU   UCMSFLG1
UCMSYSE  EQU   UCMSFLG1
UCMSYSD  EQU   UCMSFLG1
UCMSYSC  EQU   UCMSFLG1
UCMSYSB  EQU   UCMSFLG1
UCMRSV01 EQU   UCMSFLG1
UCMWTOX  EQU   UCMPRFX+80
UCMDOME  EQU   UCMPRFX+76
UCMSVR0  EQU   UCMSAVE0+68
UCMSVQ0  EQU   UCMSAVE0+64
UCMSVP0  EQU   UCMSAVE0+60
UCMSVO0  EQU   UCMSAVE0+56
UCMSVN0  EQU   UCMSAVE0+52
UCMSVM0  EQU   UCMSAVE0+48
UCMSVL0  EQU   UCMSAVE0+44
UCMSVK0  EQU   UCMSAVE0+40
UCMSVJ0  EQU   UCMSAVE0+36
UCMSVI0  EQU   UCMSAVE0+32
UCMSVH0  EQU   UCMSAVE0+28
UCMSVG0  EQU   UCMSAVE0+24
UCMSVF0  EQU   UCMSAVE0+20
UCMSVE0  EQU   UCMSAVE0+16
UCMSVD0  EQU   UCMSAVE0+12
UCMSVC0  EQU   UCMSAVE0+8
UCMSVB0  EQU   UCMSAVE0+4
UCMSVA0  EQU   UCMSAVE0
UCM2STAA EQU   UCM2STA+1
UCMRV008 EQU   UCM2SFLG
UCMRSV34 EQU   UCM2SFLG
UCMRSV33 EQU   UCM2SFLG
UCM2WTOI EQU   UCM2SFLG
UCM2DSTR EQU   UCM2SFLG
UCM2DTAK EQU   UCM2SFLG
UCM2SENT EQU   UCM2SFLG
UCM2SDWA EQU   UCM2SFLG
UCM2PST  EQU   UCM2EXT+4
UCM2RID  EQU   UCM2EXT+2
UCM2WID  EQU   UCM2EXT
UCBERADR EQU   UCBUCS+12
UCBFCBID EQU   UCBUCS+8
UCBERCNT EQU   UCBUCS+7
UCBRSV51 EQU   UCBUCS+6
UCBRSV50 EQU   UCBFCBOP
UCBRSV49 EQU   UCBFCBOP
UCBRSV48 EQU   UCBFCBOP
UCBRSV47 EQU   UCBFCBOP
UCBRSV46 EQU   UCBFCBOP
UCBRSV45 EQU   UCBFCBOP
UCBRSV44 EQU   UCBFCBOP
UCBFCBO1 EQU   UCBFCBOP
UCBUCSPE EQU   UCBUCSOP
UCBRSV43 EQU   UCBUCSOP
UCBRSV42 EQU   UCBUCSOP
UCBRSV41 EQU   UCBUCSOP
UCBRSV40 EQU   UCBUCSOP
UCBRSV39 EQU   UCBUCSOP
UCBUCSO2 EQU   UCBUCSOP
UCBUCSO1 EQU   UCBUCSOP
UCBUCSID EQU   UCBUCS
UCBMDRBA EQU   UCBMDRBF+1
UCBRV075 EQU   UCBMDRBF
UCBRV074 EQU   UCB3800X+32
UCBIMAGE EQU   UCB3800X+28
UCBFCBNM EQU   UCB3800X+24
UCBCHAR4 EQU   UCB3800X+20
UCBCHAR3 EQU   UCB3800X+16
UCBCHAR2 EQU   UCB3800X+12
UCBCHAR1 EQU   UCB3800X+8
UCBCGMID EQU   UCB3800X+4
UCBBRSTA EQU   UCBACTIV
UCBRV063 EQU   UCBACTIV
UCBRV062 EQU   UCBACTIV
UCBRV061 EQU   UCBACTIV
UCBRV060 EQU   UCBACTIV
UCBRV059 EQU   UCBACTIV
UCBRV058 EQU   UCBACTIV
UCBRV057 EQU   UCBACTIV
UCBRV050 EQU   UCB3800X+2
UCBCGMNO EQU   UCB3800X+1
UCBRV083 EQU   UCBOPTNS
UCBBRSTR EQU   UCBOPTNS
UCBRV056 EQU   UCBOPTNS
UCBRV055 EQU   UCBOPTNS
UCBRV054 EQU   UCBOPTNS
UCBRV053 EQU   UCBOPTNS
UCBRV052 EQU   UCBOPTNS
UCBRV051 EQU   UCBOPTNS
UCBRV073 EQU   UCB3540X+7
UCBRV072 EQU   UCBDKBYT
UCBRV071 EQU   UCBDKBYT
UCBRV070 EQU   UCBDKBYT
UCBRV069 EQU   UCBDKBYT
UCBRV068 EQU   UCBDKBYT
UCBRV067 EQU   UCBDKBYT
UCBVLVER EQU   UCBDKBYT
UCBDKAMX EQU   UCBDKBYT
UCBVLSER EQU   UCB3540X
UCBRDATA EQU   UCBOCR+4
UCBFRID  EQU   UCBOCR
UCBCLN   EQU   UCBMT+14
UCBERG   EQU   UCBMT+12
UCBMS    EQU   UCBMT+11
UCBNB    EQU   UCBMT+10
UCBPW    EQU   UCBMT+9
UCBPR    EQU   UCBMT+8
UCBSIO   EQU   UCBMT+6
UCBTW    EQU   UCBMT+5
UCBTR    EQU   UCBMT+4
UCBTWT   EQU   UCBMT+3
UCBTRT   EQU   UCBMT+2
UCBCTD   EQU   UCBMT
UCBWTOID EQU   UCBCMEXT+17
UCBRV043 EQU   UCBCMEXT+16
UCBASID  EQU   UCBCMEXT+14
UCBMFCNT EQU   UCBCMEXT+12
UCBPMSK  EQU   UCBCMEXT+10
UCBCCWOF EQU   UCBCMEXT+8
UCBRV041 EQU   UCBCMEXT+6
UCBRV036 EQU   UCBFLP1
UCBRV035 EQU   UCBFLP1
UCBERLOG EQU   UCBFLP1
UCBRV033 EQU   UCBFLP1
UCBINHIO EQU   UCBFLP1
UCBNSWAP EQU   UCBFLP1
UCBSHRUP EQU   UCBFLP1
UCBNSRCH EQU   UCBFLP1
UCBSNSCT EQU   UCBCMEXT+4
UCBHPDV  EQU   @NM00056
UCBHALI  EQU   @NM00056
UCBRSV09 EQU   @NM00056
UCBRSV08 EQU   @NM00056
UCBRSV07 EQU   @NM00056
UCBRSV06 EQU   @NM00056
UCBRSV05 EQU   @NM00056
UCBRSV04 EQU   @NM00056
UCBDTI   EQU   UCBCMEXT+2
UCBSTI   EQU   UCBCMEXT+1
UCBETI   EQU   UCBCMEXT
UCBEXTP  EQU   UCBEXTPT+1
UCBDDRSW EQU   UCBFLC
UCBTICBT EQU   UCBFLC
UCBIVRR  EQU   UCBFLC
UCBIVRS  EQU   UCBFLC
UCBITF   EQU   UCBFLC
UCBUDE   EQU   UCBFLC
UCBWAA   EQU   UCBFLC
UCBATTP  EQU   UCBFLC
UCBUNTYP EQU   UCBTBYT4
UCBRSV11 EQU   UCBDVCLS
UCBRSV10 EQU   UCBDVCLS
UCB3CHAR EQU   UCBDVCLS
UCB3UREC EQU   UCBDVCLS
UCB3DISP EQU   UCBDVCLS
UCB3DACC EQU   UCBDVCLS
UCB3COMM EQU   UCBDVCLS
UCB3TAPE EQU   UCBDVCLS
UCBDVPWR EQU   UCB2OPT7
UCBVLPWR EQU   UCB2OPT6
UCB2OPT5 EQU   UCBTBYT2
UCBRVDEV EQU   UCBRWTAU
UCBRPS   EQU   UCBDUDN2
UCBRR    EQU   UCBDUDN1
UCB2OPT1 EQU   UCBTBYT2
UCB2OPT0 EQU   UCBTBYT2
UCB1FEA7 EQU   UCBTBYT1
UCBD6250 EQU   UCB1FEA6
UCBD1600 EQU   UCB1FEA5
UCB1FEA4 EQU   UCBTBYT1
UCB1FEA3 EQU   UCBTBYT1
UCB1FEA2 EQU   UCBTBYT1
UCB1FEA1 EQU   UCBTBYT1
UCB1FEA0 EQU   UCBTBYT1
UCBRV029 EQU   UCBWGT
UCBVORSN EQU   UCBWGT
UCBMTPXP EQU   UCBWGT
UCBREW   EQU   UCBWGT
UCBPUB   EQU   UCBWGT
UCBOUT   EQU   UCBWGT
UCBIN    EQU   UCBWGT
UCBCPU   EQU   UCBOB+11
UCBLCI   EQU   UCBOB+10
UCBCNT   EQU   UCBOB+9
UCBRV017 EQU   UCBCHM1
UCBRV016 EQU   UCBCHM1
UCBRV015 EQU   UCBCHM1
UCBRV014 EQU   UCBCHM1
UCBSPB   EQU   UCBPTH1
UCBPPB   EQU   UCBPTH1
UCBSPA   EQU   UCBPTH0
UCBPPA   EQU   UCBPTH0
UCBSIGP  EQU   UCBFLB
UCBVALPH EQU   UCBFLB
UCBCRHSN EQU   UCBFLB
UCBCRHRV EQU   UCBFLB
UCBRESVH EQU   UCBFLB
UCBSPST  EQU   UCBFLB
UCBASNS  EQU   UCBFLB
UCBIORST EQU   UCBFLB
UCBQISCE EQU   UCBFL1
UCBACTV  EQU   UCBFL1
UCBSAP   EQU   UCBFL1
UCBNOTRC EQU   UCBCUB
UCBPSNS  EQU   UCBFL1
UCBUSING EQU   UCBPST
UCBNOTRD EQU   UCBNRY
UCBBUSYD EQU   UCBBSY
UCBUA    EQU   UCBCHAN+1
UCBCHA   EQU   UCBCHAN
UCBDADI  EQU   UCBSTAT
UCBSYSR  EQU   UCBSTAT
UCBPRES  EQU   UCBSTAT
UCBALOC  EQU   UCBSTAT
UCBUNLD  EQU   UCBSTAT
UCBRESV  EQU   UCBSTAT
UCBCHGS  EQU   UCBSTAT
UCBID    EQU   UCBOB+2
UCBALTPH EQU   UCBFL5
UCBALTCU EQU   UCBFL5
UCBNALOC EQU   UCBFL5
UCBENVRD EQU   UCBFL5
UCBVSDR  EQU   UCBFL5
UCBSASK  EQU   UCBFL5
UCBAMV   EQU   UCBAF
UCBDCC   EQU   UCBFL5
UCBMONT  EQU   UCBJBNR
UCBRV011 EQU   UCBJBNR
UCBMMSGP EQU   UCBJBNR
UCBOLDSM EQU   UCBJBNR
UCBRV003 EQU   UCBJBNR
UCBDUC   EQU   UCBJBNR
UCBJES3  EQU   UCBJBNR
UCBVRDEV EQU   UCBJBNR
UCBCMSEG EQU   UCBOB
UCBPFXND EQU   UCB+512
UCBIOQ   EQU   UCB+508
UCBLOCK  EQU   UCB+504
UCBPXST  EQU   UCB+504
@NM00053 EQU   UCB
@NM00052 EQU   PSA+3668
PSASTAK  EQU   PSA+3072
@NM00051 EQU   PSA+1048
PSAUSEND EQU   PSA+1048
PSARV062 EQU   PSA+1044
PSACDAL  EQU   PSA+1040
PSAWTCOD EQU   PSA+1036
PSAATCVT EQU   PSA+1032
PSAPCPSW EQU   PSA+1024
PSAPIR2  EQU   PSA+1020
PSARV059 EQU   PSA+1018
PSASVC13 EQU   PSA+1016
PSALSFCC EQU   PSA+1012
PSASFACC EQU   PSA+1008
PSASTOP  EQU   PSA+992
PSASTART EQU   PSA+976
PSARSPSW EQU   PSA+968
PSASRPSW EQU   PSA+960
PSARV045 EQU   PSA+892
PSARV044 EQU   PSA+888
PSARV043 EQU   PSA+884
PSARV042 EQU   PSA+880
PSARV041 EQU   PSA+876
PSARV040 EQU   PSA+872
PSARV025 EQU   PSA+868
PSADSSED EQU   PSA+868
PSADSSPR EQU   PSA+864
PSADSSFW EQU   PSA+860
PSADSS14 EQU   PSA+856
PSADSSPP EQU   PSA+848
PSADSSRP EQU   PSA+840
PSADSS05 EQU   PSADSSF4
PSADSS10 EQU   PSADSSF4
PSADSSVE EQU   PSADSSF4
PSADSSDE EQU   PSADSSF4
PSADSSC0 EQU   PSADSSF4
PSADSSIE EQU   PSADSSF4
PSADSS12 EQU   PSADSSF4
PSADSSRC EQU   PSADSSF4
PSARV057 EQU   PSADSSF3
PSARV056 EQU   PSADSSF3
PSARV055 EQU   PSADSSF3
PSADSSMC EQU   PSADSSF3
PSADSSRW EQU   PSADSSF3
PSADSSNM EQU   PSADSSF3
PSADSSES EQU   PSADSSF3
PSADSSGP EQU   PSADSSF3
PSADSSF2 EQU   PSADSSFL+1
PSADSSPI EQU   PSADSSF1
PSADSSOI EQU   PSADSSF1
PSADSSSP EQU   PSADSSF1
PSADSSTP EQU   PSADSSF1
PSADSSDW EQU   PSADSSF1
PSADSSDD EQU   PSADSSF1
PSADSSDM EQU   PSADSSF1
PSADSSMV EQU   PSADSSF1
PSADSSTS EQU   PSA+816
PSADSSWK EQU   PSA+812
PSADSSR3 EQU   PSA+808
PSADSSR2 EQU   PSA+804
PSADSSRS EQU   PSA+800
PSASTOR  EQU   PSA+796
PSACPUSA EQU   PSA+794
PSAVSTAP EQU   PSA+792
PSAWKVAP EQU   PSA+788
PSAWKRAP EQU   PSA+784
PSAMCHIC EQU   PSA+783
PSARV061 EQU   PSA+782
PSASYMSK EQU   PSA+781
PSAMCHFL EQU   PSA+780
PSACR0   EQU   PSA+776
PSAPSWSV EQU   PSA+768
PSALITA  EQU   PSA+764
PSACLHS  EQU   PSAHLHI
PSALKR15 EQU   PSALKSA+60
PSALKR14 EQU   PSALKSA+56
PSALKR13 EQU   PSALKSA+52
PSALKR12 EQU   PSALKSA+48
PSALKR11 EQU   PSALKSA+44
PSALKR10 EQU   PSALKSA+40
PSALKR9  EQU   PSALKSA+36
PSALKR8  EQU   PSALKSA+32
PSALKR7  EQU   PSALKSA+28
PSALKR6  EQU   PSALKSA+24
PSALKR5  EQU   PSALKSA+20
PSALKR4  EQU   PSALKSA+16
PSALKR3  EQU   PSALKSA+12
PSALKR2  EQU   PSALKSA+8
PSALKR1  EQU   PSALKSA+4
PSALKR0  EQU   PSALKSA
PSARV023 EQU   PSACLHT+52
PSALOCAL EQU   PSACLHT+48
PSACMSL  EQU   PSACLHT+44
PSAOPTL  EQU   PSACLHT+40
PSATPACL EQU   PSACLHT+36
PSATPDNL EQU   PSACLHT+32
PSATPNCL EQU   PSACLHT+28
PSAIOSLL EQU   PSACLHT+24
PSAIOSUL EQU   PSACLHT+20
PSAIOSCL EQU   PSACLHT+16
PSAIOSSL EQU   PSACLHT+12
PSASALCL EQU   PSACLHT+8
PSAASML  EQU   PSACLHT+4
PSADISPL EQU   PSACLHT
PSASRSA  EQU   PSA+636
PSARV050 EQU   PSA+634
PSADSSGO EQU   PSA+633
PSARECUR EQU   PSA+632
PSAHLHIS EQU   PSA+628
PSAIPCSA EQU   PSA+624
@NM00050 EQU   PSA+621
PSAIPCDM EQU   PSA+620
PSAIPCD  EQU   PSA+616
@NM00049 EQU   PSA+613
PSAIPCRM EQU   PSA+612
PSAIPCR  EQU   PSA+608
PSAMCHEX EQU   PSA+600
PSAMPSW  EQU   PSA+592
PSAEXPS2 EQU   PSA+584
PSAEXPS1 EQU   PSA+576
PSAPIREG EQU   PSA+572
PSARSREG EQU   PSA+568
PSAGPREG EQU   PSA+556
PSARV022 EQU   PSASUP4
PSARV021 EQU   PSASUP4
PSARV020 EQU   PSASUP4
PSARV019 EQU   PSASUP4
PSARV018 EQU   PSASUP4
PSARV017 EQU   PSASUP4
PSARV016 EQU   PSASUP4
PSARV015 EQU   PSASUP4
PSARV014 EQU   PSASUP3
PSARV013 EQU   PSASUP3
PSARV012 EQU   PSASUP3
PSAESTA  EQU   PSASUP3
PSASPR   EQU   PSASUP3
PSAPSREG EQU   PSASUP3
PSAPI2   EQU   PSASUP3
PSAIOSUP EQU   PSASUP3
PSALCR   EQU   PSASUP2
PSARTM   EQU   PSASUP2
PSAACR   EQU   PSASUP2
PSAIPCE2 EQU   PSASUP2
PSAIPCES EQU   PSASUP2
PSAIPCEC EQU   PSASUP2
PSAGTF   EQU   PSASUP2
PSAIPCRI EQU   PSASUP2
PSATYPE6 EQU   PSASUP1
PSATCTL  EQU   PSASUP1
PSADISP  EQU   PSASUP1
PSALOCK  EQU   PSASUP1
PSAPI    EQU   PSASUP1
PSAEXT   EQU   PSASUP1
PSASVC   EQU   PSASUP1
PSAIO    EQU   PSASUP1
PSAAOLD  EQU   PSA+548
PSAANEW  EQU   PSA+544
PSATOLD  EQU   PSA+540
PSATNEW  EQU   PSA+536
PSALCCAR EQU   PSA+532
PSALCCAV EQU   PSA+528
PSAPCCAR EQU   PSA+524
PSACPULA EQU   PSA+518
PSACPUPA EQU   PSA+516
PSAPSA   EQU   PSA+512
FLCHDEND EQU   PSA+512
FLCCRSAV EQU   FLCMCLA+280
FLCGRSAV EQU   FLCMCLA+216
FLCFPSAV EQU   FLCMCLA+184
FLCFLA   EQU   FLCMCLA+88
FLCRGNCD EQU   FLCMCLA+84
FLCFSAA  EQU   FLCFSA+1
@NM00048 EQU   FLCFSA
@NM00047 EQU   FLCMCLA+72
FLCMCIC  EQU   FLCMCLA+64
@NM00046 EQU   FLCMCLA+20
FLCIOAA  EQU   FLCIOA+1
@NM00045 EQU   FLCIOA
@NM00044 EQU   FLCMCLA+15
@NM00043 EQU   FLCMCLA+14
@NM00042 EQU   FLCMCLA+12
FLCLCL   EQU   FLCMCLA+8
FLCIOELA EQU   FLCIOEL+1
@NM00041 EQU   FLCIOEL
FLCCHNID EQU   FLCMCLA
@NM00040 EQU   PSA+160
FLCMTRCD EQU   PSA+157
@NM00039 EQU   PSA+156
FLCPERA  EQU   FLCPER+1
@NM00038 EQU   FLCPER
@NM00037 EQU   PSA+151
FLCPERCD EQU   PSA+150
FLCMCNUM EQU   PSA+149
@NM00036 EQU   PSA+148
FLCTEAA  EQU   FLCTEA+1
@NM00035 EQU   FLCTEA
PSAPIPC  EQU   PSAPICOD
PSAPIMC  EQU   PSAPICOD
PSAPIPER EQU   PSAPICOD
PSARV049 EQU   FLCPICOD
FLCPILCB EQU   FLCPIILC
@NM00034 EQU   FLCPIILC
@NM00033 EQU   PSAEPPSW
FLCSVCN  EQU   PSAESPSW+2
FLCSILCB EQU   FLCSVILC
@NM00032 EQU   FLCSVILC
@NM00031 EQU   PSAESPSW
FLCEICOD EQU   PSAEEPSW+2
PSASPAD  EQU   PSAEEPSW
@NM00030 EQU   PSA+128
FLCINPSW EQU   PSA+120
FLCMNPSW EQU   PSA+112
FLCPNPSW EQU   PSA+104
FLCSNPSW EQU   PSA+96
FLCENPSW EQU   PSA+88
FLCTRACE EQU   PSA+84
FLCTIMER EQU   PSA+80
FLCCVT2  EQU   PSA+76
FLCCAW   EQU   PSA+72
FLCCSW   EQU   PSA+64
FLCIOPSW EQU   PSA+56
FLCMOPSW EQU   PSA+48
FLCPOPSW EQU   PSA+40
FLCSOPSW EQU   PSA+32
FLCEOPSW EQU   PSA+24
@NM00029 EQU   FLCICCW2+4
FLCCVT   EQU   FLCICCW2
FLCICCW1 EQU   FLCROPSW
FLCIPPSW EQU   FLCRNPSW
@NM00028 EQU   CSD+160
CSDUCNT  EQU   CSD+124
CSDTCNT  EQU   CSD+120
CSDGDTOD EQU   CSD+116
CSDGDINT EQU   CSD+112
CSDGDCC  EQU   CSD+108
CSDDDRCT EQU   CSD+106
CSDRV044 EQU   CSD+104
CSDMAFF  EQU   CSD+24
CSDRV038 EQU   CSDFLAGS
CSDRV037 EQU   CSDFLAGS
CSDRV036 EQU   CSDFLAGS
CSDRV035 EQU   CSDFLAGS
CSDRV034 EQU   CSDFLAGS
CSDRV033 EQU   CSDFLAGS
CSDRV032 EQU   CSDFLAGS
CSDMP    EQU   CSDFLAGS
CSDACR   EQU   CSD+22
CSDMF1CP EQU   CSD+20
CSDRV043 EQU   CSD+16
CSDRV030 EQU   CSDSCFL4
CSDRV029 EQU   CSDSCFL4
CSDRV028 EQU   CSDSCFL4
CSDRV027 EQU   CSDSCFL4
CSDRV026 EQU   CSDSCFL4
CSDRV025 EQU   CSDSCFL4
CSDRV024 EQU   CSDSCFL4
CSDRV023 EQU   CSDSCFL4
CSDRV022 EQU   CSDSCFL3
CSDRV021 EQU   CSDSCFL3
CSDRV020 EQU   CSDSCFL3
CSDRV019 EQU   CSDSCFL3
CSDRV018 EQU   CSDSCFL3
CSDRV017 EQU   CSDSCFL3
CSDRV016 EQU   CSDSCFL3
CSDRV015 EQU   CSDSCFL3
CSDRV014 EQU   CSDSCFL2
CSDRV013 EQU   CSDSCFL2
CSDRV012 EQU   CSDSCFL2
CSDRV011 EQU   CSDSCFL2
CSDRV010 EQU   CSDSCFL2
CSDRV009 EQU   CSDSCFL2
CSDRV008 EQU   CSDSCFL2
CSDRV007 EQU   CSDSCFL2
CSDRV006 EQU   CSDSCFL1
CSDRV005 EQU   CSDSCFL1
CSDRV004 EQU   CSDSCFL1
CSDRV003 EQU   CSDSCFL1
CSDRV002 EQU   CSDSCFL1
CSDRV001 EQU   CSDSCFL1
CSDSYSND EQU   CSDSCFL1
CSDRV042 EQU   CSDSCFL1
CSDSAFF  EQU   CSDCPUAL
CSDCHAD  EQU   CSD+6
CSDCSD   EQU   CSD
CATEND   EQU   CAT+8
CATSIOCT EQU   CAT+2
CATFLARS EQU   CATFLA
CATIORST EQU   CATFLA
CATBSY   EQU   CATFLA
CATFLG7  EQU   CATFLG
CATFLG6  EQU   CATFLG
CATFLG5  EQU   CATFLG
CATNID   EQU   CATFLG
CATNCPU  EQU   CATFLG
CATRES1  EQU   CATFLG
LCCAR125 EQU   LCCA+964
LCCAR124 EQU   LCCA+960
LCCASGPR EQU   LCCA+896
LCCADRT2 EQU   LCCA+888
LCCADRT1 EQU   LCCA+880
LCCAR103 EQU   LCCA+876
LCCAESS2 EQU   LCCA+872
LCCASPLJ EQU   LCCA+868
LCCASMQJ EQU   LCCA+864
LCCAIRT  EQU   LCCA+736
LCCAASID EQU   LCCA+732
LCCARV89 EQU   LCCA+728
LCCAPGTA EQU   LCCASRBF+2
LCCASAFN EQU   LCCASRBF
LCCAECSA EQU   LCCA+716
LCCAICR0 EQU   LCCA+712
LCCALWTM EQU   LCCA+704
LCCARV78 EQU   LCCA+700
LCCAPINV EQU   LCCA+696
LCCARV88 EQU   LCCA+695
LCCARV87 EQU   LCCALKFG
LCCARV86 EQU   LCCALKFG
LCCARV85 EQU   LCCALKFG
LCCARV84 EQU   LCCALKFG
LCCALKRD EQU   LCCALKFG
LCCALKAQ EQU   LCCALKFG
LCCALKSA EQU   LCCALKFG
LCCALKDP EQU   LCCALKFG
LCCACRST EQU   LCCACREX
LCCACRDP EQU   LCCACREX
LCCACRLM EQU   LCCACREX
LCCACRIN EQU   LCCACREX
LCCACRRT EQU   LCCACREX
LCCACRLE EQU   LCCACREX
LCCACRRM EQU   LCCACREX
LCCACREF EQU   LCCACREX
LCCARV73 EQU   LCCACRFL
LCCARV72 EQU   LCCACRFL
LCCARV71 EQU   LCCACRFL
LCCARV70 EQU   LCCACRFL
LCCARV69 EQU   LCCACRFL
LCCACLMS EQU   LCCACRFL
LCCACRTM EQU   LCCACRFL
LCCALCR0 EQU   LCCA+688
LCCACRLC EQU   LCCA+684
LCCARCPU EQU   LCCA+680
LCCADCPU EQU   LCCA+676
LCCASRBJ EQU   LCCA+672
LCCADSSR EQU   LCCA+668
LCCADSSC EQU   LCCA+660
LCCADSS3 EQU   LCCA+648
LCCADSS2 EQU   LCCA+636
LCCADSS1 EQU   LCCA+624
LCCAWTIM EQU   LCCA+616
LCCAITOD EQU   LCCA+608
LCCADTOD EQU   LCCA+600
LCCASTOD EQU   LCCA+592
LCCARIR5 EQU   LCCASPSA+44
LCCARIR4 EQU   LCCASPSA+40
LCCARIR3 EQU   LCCASPSA+36
LCCARIR2 EQU   LCCASPSA+32
LCCARPR5 EQU   LCCASPSA+28
LCCARPR4 EQU   LCCASPSA+24
LCCARPR3 EQU   LCCASPSA+20
LCCARPR2 EQU   LCCASPSA+16
LCCADSR5 EQU   LCCASPSA+12
LCCADSR4 EQU   LCCASPSA+8
LCCADSR3 EQU   LCCASPSA+4
LCCADSR2 EQU   LCCASPSA
LCCARV68 EQU   LCCA+543
LCCAPSMK EQU   LCCA+542
LCCARV67 EQU   LCCADSF2
LCCARV66 EQU   LCCADSF2
LCCARV65 EQU   LCCADSF2
LCCARV64 EQU   LCCADSF2
LCCADSRW EQU   LCCADSF2
LCCADSPL EQU   LCCADSF2
LCCAGSRB EQU   LCCADSF2
LCCASRBM EQU   LCCADSF2
LCCARV61 EQU   LCCADSF1
LCCARV60 EQU   LCCADSF1
LCCARV59 EQU   LCCADSF1
LCCARV58 EQU   LCCADSF1
LCCADSS  EQU   LCCADSF1
LCCAACR  EQU   LCCADSF1
LCCACPUS EQU   LCCA+536
LCCAASCP EQU   LCCA+532
LCCAESSA EQU   LCCA+528
LCCARV55 EQU   LCCASPN4
LCCARV54 EQU   LCCASPN4
LCCARV53 EQU   LCCASPN4
LCCARV52 EQU   LCCASPN4
LCCARV51 EQU   LCCASPN4
LCCARV50 EQU   LCCASPN4
LCCARV49 EQU   LCCASPN4
LCCARV48 EQU   LCCASPN4
LCCARV47 EQU   LCCASPN3
LCCARV46 EQU   LCCASPN3
LCCARV45 EQU   LCCASPN3
LCCARV44 EQU   LCCASPN3
LCCARV43 EQU   LCCASPN3
LCCARV42 EQU   LCCASPN3
LCCARV41 EQU   LCCASPN3
LCCARV40 EQU   LCCASPN3
LCCARV39 EQU   LCCASPN2
LCCARV38 EQU   LCCASPN2
LCCARV37 EQU   LCCASPN2
LCCARV36 EQU   LCCASPN2
LCCARV35 EQU   LCCASPN2
LCCARV34 EQU   LCCASPN2
LCCARV33 EQU   LCCASPN2
LCCARV32 EQU   LCCASPN2
LCCARV31 EQU   LCCASPN1
LCCARV30 EQU   LCCASPN1
LCCAMFIO EQU   LCCASPN1
LCCARSTR EQU   LCCASPN1
LCCATSPN EQU   LCCASPN1
LCCALOCK EQU   LCCASPN1
LCCASIGP EQU   LCCASPN1
LCCAPTLB EQU   LCCASPN1
LCCARV27 EQU   LCCAIHR4
LCCARV26 EQU   LCCAIHR4
LCCARV25 EQU   LCCAIHR4
LCCARV24 EQU   LCCAIHR4
LCCARV23 EQU   LCCAIHR4
LCCARV22 EQU   LCCAIHR4
LCCARV21 EQU   LCCAIHR4
LCCARV20 EQU   LCCAIHR4
LCCARV19 EQU   LCCAIHR3
LCCARV18 EQU   LCCAIHR3
LCCARV17 EQU   LCCAIHR3
LCCARV16 EQU   LCCAIHR3
LCCARV15 EQU   LCCAIHR3
LCCARV14 EQU   LCCAIHR3
LCCARV13 EQU   LCCAIHR3
LCCARV12 EQU   LCCAIHR3
LCCARV11 EQU   LCCAIHR2
LCCARV10 EQU   LCCAIHR2
LCCARV09 EQU   LCCAIHR2
LCCARV08 EQU   LCCAIHR2
LCCARV07 EQU   LCCAIHR2
LCCARV06 EQU   LCCAIHR2
LCCARV05 EQU   LCCAIHR2
LCCARV04 EQU   LCCAIHR2
LCCARV03 EQU   LCCAIHR1
LCCARV02 EQU   LCCAIHR1
LCCARV01 EQU   LCCAIHR1
LCCAPPIE EQU   LCCAIHR1
LCCAPSG1 EQU   LCCAIHR1
LCCAPDAT EQU   LCCAIHR1
LCCAXRC2 EQU   LCCAIHR1
LCCAXRC1 EQU   LCCAIHR1
LCCAIOPS EQU   LCCA+512
LCCAGPGR EQU   LCCA+448
LCCAR133 EQU   LCCA+444
LCCAR132 EQU   LCCA+440
LCCAR131 EQU   LCCA+436
LCCAR130 EQU   LCCA+432
LCCAR129 EQU   LCCA+428
LCCAR128 EQU   LCCA+424
LCCAR127 EQU   LCCA+420
LCCAR126 EQU   LCCA+416
LCCARSGR EQU   LCCA+352
LCCAXGR3 EQU   LCCA+288
LCCAXGR2 EQU   LCCA+224
LCCAXGR1 EQU   LCCA+160
LCCACR0  EQU   LCCA+156
LCCAMCR1 EQU   LCCA+152
LCCAPVAD EQU   LCCA+148
LCCAPINT EQU   LCCA+144
LCCAPPSW EQU   LCCA+136
LCCAPGR2 EQU   LCCA+72
LCCAPGR1 EQU   LCCA+8
LCCARV77 EQU   LCCA+6
LCCACPUA EQU   LCCA+4
LCCALCCA EQU   LCCA
@NM00027 EQU   PCCA+512
PCCARV36 EQU   PCCA+380
PCCARV35 EQU   PCCA+378
PCCARV01 EQU   PCCA+377
PCCAR105 EQU   PCCAATTR
PCCAR104 EQU   PCCAATTR
PCCAR103 EQU   PCCAATTR
PCCAR102 EQU   PCCAATTR
PCCAR101 EQU   PCCAATTR
PCCAR100 EQU   PCCAATTR
PCCACPUM EQU   PCCAATTR
PCCARV63 EQU   PCCA+372
PCCARV62 EQU   PCCA+368
PCCARV61 EQU   PCCA+364
PCCARV60 EQU   PCCA+360
PCCARV59 EQU   PCCA+356
PCCARV58 EQU   PCCA+352
PCCARV57 EQU   PCCA+348
PCCARV56 EQU   PCCA+344
PCCARV55 EQU   PCCA+340
PCCARV54 EQU   PCCA+336
PCCALOGA EQU   PCCA+332
PCCACHID EQU   PCCA+324
PCCACHSV EQU   PCCA+312
PCCARV79 EQU   PCCACHF4
PCCARV78 EQU   PCCACHF4
PCCARV77 EQU   PCCACHF4
PCCARV76 EQU   PCCACHF4
PCCARV75 EQU   PCCACHF4
PCCARV74 EQU   PCCACHF4
PCCARV73 EQU   PCCACHF4
PCCARV72 EQU   PCCACHF4
PCCARV71 EQU   PCCACHF3
PCCARV70 EQU   PCCACHF3
PCCARV69 EQU   PCCACHF3
PCCARV68 EQU   PCCACHF3
PCCARV67 EQU   PCCACHF3
PCCARV66 EQU   PCCACHF3
PCCARV65 EQU   PCCACHF3
PCCARV64 EQU   PCCACHF3
PCCACF28 EQU   PCCACHF2
PCCACF27 EQU   PCCACHF2
PCCACF26 EQU   PCCACHF2
PCCACF25 EQU   PCCACHF2
PCCACF24 EQU   PCCACHF2
PCCACF23 EQU   PCCACHF2
PCCACF22 EQU   PCCACHF2
PCCACF21 EQU   PCCACHF2
PCCACF18 EQU   PCCACHF1
PCCACF17 EQU   PCCACHF1
PCCACF16 EQU   PCCACHF1
PCCACF15 EQU   PCCACHF1
PCCACF14 EQU   PCCACHF1
PCCACF13 EQU   PCCACHF1
PCCACF12 EQU   PCCACHF1
PCCACF11 EQU   PCCACHF1
PCCARV05 EQU   PCCA+306
PCCACHPB EQU   PCCA+305
PCCALGP2 EQU   PCCA+304
PCCALGP1 EQU   PCCA+303
PCCALOGL EQU   PCCA+302
PCCARV80 EQU   PCCA+300
PCCACHW2 EQU   PCCA+296
PCCACHW1 EQU   PCCA+292
PCCAIOSI EQU   PCCA+291
PCCACNRB EQU   PCCACHRB
PCCACCVB EQU   PCCACHRB
PCCACSNB EQU   PCCACHRB
PCCARV52 EQU   PCCACHRB
PCCACHIB EQU   PCCACHRB
PCCACTIB EQU   PCCACHRB
PCCACINB EQU   PCCACHRB
PCCACSIB EQU   PCCACHRB
PCCARV51 EQU   PCCACHS2
PCCARV50 EQU   PCCACHS2
PCCACCRA EQU   PCCACHS2
PCCACURC EQU   PCCACHS2
PCCACNLG EQU   PCCACHS2
PCCACMOD EQU   PCCACHS2
PCCACALT EQU   PCCACHS2
PCCACIOR EQU   PCCACHS2
PCCARV47 EQU   PCCACHS1
PCCACUCB EQU   PCCACHS1
PCCACIBC EQU   PCCACHS1
PCCACAND EQU   PCCACHS1
PCCACNLS EQU   PCCACHS1
PCCACFRR EQU   PCCACHS1
PCCACNRE EQU   PCCACHS1
PCCACCMP EQU   PCCACHS1
PCCACSEQ EQU   PCCACHTS
PCCACDIN EQU   PCCACHTS
PCCARV44 EQU   PCCACHTS
PCCARV43 EQU   PCCACHTS
PCCACTEC EQU   PCCACHTS
PCCACDAV EQU   PCCACHVA
PCCACCHV EQU   PCCACHVA
PCCACCMD EQU   PCCACHVA
PCCACUNS EQU   PCCACHVA
PCCACSQV EQU   PCCACHVA
PCCARV42 EQU   PCCACHVA
PCCARV41 EQU   PCCACHVA
PCCACITF EQU   PCCACHVA
PCCARV40 EQU   PCCACHBL
PCCARV39 EQU   PCCACHBL
PCCARV38 EQU   PCCACHBL
PCCACCUE EQU   PCCACHBL
PCCACSTG EQU   PCCACHBL
PCCACSCU EQU   PCCACHBL
PCCACCHA EQU   PCCACHBL
PCCACCPU EQU   PCCACHBL
PCCACNOR EQU   PCCACHPF
PCCACCNT EQU   PCCACHPF
PCCACSNS EQU   PCCACHPF
PCCARV37 EQU   PCCACHPF
PCCACHIO EQU   PCCACHPF
PCCACTIO EQU   PCCACHPF
PCCACINT EQU   PCCACHPF
PCCACSIO EQU   PCCACHPF
PCCACHUB EQU   PCCAWERP
PCCACHEL EQU   PCCA+168
PCCALRBR EQU   PCCA+164
PCCALRBV EQU   PCCA+160
PCCAPWAR EQU   PCCA+156
PCCAPWAV EQU   PCCA+152
PCCAEMSA EQU   PCCAEMSB+12
PCCAEMSE EQU   PCCAEMSB+8
PCCAEMSP EQU   PCCAEMSB+4
PCCARMS  EQU   PCCARMSB
PCCARV34 EQU   PCCARMSB
PCCARV33 EQU   PCCARMSB
PCCARV32 EQU   PCCARMSB
PCCARV31 EQU   PCCARMSB
PCCARV30 EQU   PCCARMSB
PCCARV29 EQU   PCCARMSB
PCCARV28 EQU   PCCARMSB
PCCARV27 EQU   PCCAEMS3
PCCARV26 EQU   PCCAEMS3
PCCARV25 EQU   PCCAEMS3
PCCARV24 EQU   PCCAEMS3
PCCARV23 EQU   PCCAEMS3
PCCARV22 EQU   PCCAEMS3
PCCARV21 EQU   PCCAEMS3
PCCARV20 EQU   PCCAEMS3
PCCARV19 EQU   PCCAEMS2
PCCARV18 EQU   PCCAEMS2
PCCARV17 EQU   PCCAEMS2
PCCARV16 EQU   PCCAEMS2
PCCARV15 EQU   PCCAEMS2
PCCARV14 EQU   PCCAEMS2
PCCARV13 EQU   PCCAEMS2
PCCARV12 EQU   PCCAEMS2
PCCARV11 EQU   PCCARISP
PCCARV10 EQU   PCCARISP
PCCARV09 EQU   PCCARISP
PCCARV08 EQU   PCCARISP
PCCARV07 EQU   PCCARISP
PCCARV06 EQU   PCCARISP
PCCASERL EQU   PCCARISP
PCCAPARL EQU   PCCARISP
PCCARPB  EQU   PCCA+132
PCCACTIN EQU   PCCAINTE
PCCANFIN EQU   PCCAINTE
PCCANUIN EQU   PCCAINTE
PCCACTCC EQU   PCCACCE
PCCANFCC EQU   PCCACCE
PCCANUCC EQU   PCCACCE
PCCACTTD EQU   PCCATODE
PCCANFTD EQU   PCCATODE
PCCANUTD EQU   PCCATODE
PCCARV04 EQU   PCCATMFL
PCCARV03 EQU   PCCATMFL
PCCARV02 EQU   PCCATMFL
PCCAMINT EQU   PCCATMFL
PCCAMCC  EQU   PCCATMFL
PCCAVKIL EQU   PCCATMFL
PCCASYNC EQU   PCCATMFL
PCCAINIT EQU   PCCATMFL
PCCARV9E EQU   PCCA+124
PCCARV9D EQU   PCCA+120
PCCARV9C EQU   PCCA+116
PCCARV9B EQU   PCCA+112
PCCARV9A EQU   PCCA+108
PCCARV99 EQU   PCCA+104
PCCARV98 EQU   PCCA+100
PCCARV97 EQU   PCCA+96
PCCARV96 EQU   PCCA+92
PCCARV95 EQU   PCCA+88
PCCARV94 EQU   PCCA+84
PCCARV93 EQU   PCCA+80
PCCARV92 EQU   PCCA+76
PCCARV91 EQU   PCCA+72
PCCARV90 EQU   PCCA+68
PCCARV89 EQU   PCCA+64
PCCARV88 EQU   PCCA+60
PCCARV87 EQU   PCCA+56
PCCARV86 EQU   PCCA+52
PCCARV85 EQU   PCCA+48
PCCARV84 EQU   PCCA+44
PCCARV83 EQU   PCCA+40
PCCARV82 EQU   PCCA+36
PCCARV81 EQU   PCCA+32
PCCATQEP EQU   PCCA+20
PCCACAFM EQU   PCCA+18
PCCACPUA EQU   PCCA+16
PCCACPID EQU   PCCA+4
PCCAPCCA EQU   PCCA
CHARSV16 EQU   CHSHORT+100
CHARSV15 EQU   CHSHORT+96
CHJSCBVS EQU   CHSHORT+92
CHUSCVS  EQU   CHSHORT+88
@NM00025 EQU   CHSHORT+84
@NM00024 EQU   CHSHORT+80
CHSQA    EQU   CHSHORT+44
CHQPA    EQU   CHSHORT+8
CHJCL    EQU   CHSHORT+4
CHSPC    EQU   CHSHORT
CHSPB    EQU   CHSTEP+4
CHTCB    EQU   CHSTEP+1
CHARSV23 EQU   CHSWT
CHARSV22 EQU   CHSWT
CHARSV21 EQU   CHSWT
CHAC     EQU   CHSWT
CHPSF    EQU   CHSWT
CHPSD    EQU   CHSWT
CHJCT    EQU   CHSWT
CHARSV20 EQU   CHSWT
CHCECB   EQU   CHASM+20
CHECB    EQU   CHASM+16
CHRGNAD  EQU   CHASM+12
CHARSV18 EQU   CHRGNSZ+1
CHRPRTY  EQU   CHRGNSZ
@NM00023 EQU   CHCIBP
CHEND    EQU   CHCIBP
CHECBP   EQU   CHASM
CHDER    EQU   CHPROCSN+4
CHARSV10 EQU   CHACT1
CHARSV09 EQU   CHACT1
CHARSV08 EQU   CHACT1
CHARSV07 EQU   CHACT1
CHARSV06 EQU   CHACT1
CHARSV05 EQU   CHACT1
CHMODIFY EQU   CHACT1
CHRDWTR  EQU   CHACT1
CHARSV30 EQU   CHPROCSN+2
CHQID    EQU   CHPROCSN
CHASID   EQU   CHTJID
CHUCMP   EQU   CHAIN+29
CHTRKID  EQU   CHPKE
CHCIBCTR EQU   CHAIN+27
CHUNIT   EQU   CHAIN+24
CHCLS    EQU   CHAIN+16
CHPCOI   EQU   CHPARM
CHAFORCE EQU   CHIFY
CHAIFX   EQU   CHACT
CHCLD    EQU   CHACT
CHCL     EQU   CHACT
CHDSI    EQU   CHACT
CHDISC   EQU   CHACT
CHTERM   EQU   CHACT
CHSWAP   EQU   CHACT
CHABTERM EQU   CHSTS
CHDL     EQU   CHSTS
CHAD     EQU   CHSTS
CHQSPC   EQU   CHSTS
CHSOUT   EQU   CHSTS
CHSYS    EQU   CHSTS
CHAP     EQU   CHSTS
CHSZE    EQU   CHFLG+1
CHVCD    EQU   CHFLG
CHPTR    EQU   CHAIN
CVTLEVL  EQU   CVTRELNO+2
CVTNUMB  EQU   CVTRELNO
@NM00022 EQU   CVTFIX+248
@NM00021 EQU   CVTFIX
CVTRV482 EQU   CVTXTNT2+128
CVTRV481 EQU   CVTXTNT2+124
CVTRV480 EQU   CVTXTNT2+120
CVTRV479 EQU   CVTXTNT2+118
CVTRV478 EQU   CVTXTNT2+117
CVTRV477 EQU   CVTXTNT2+116
CVTRV476 EQU   CVTXTNT2+115
CVTRV475 EQU   CVTXTNT2+114
CVTRV474 EQU   CVTRV466
CVTRV473 EQU   CVTRV466
CVTRV472 EQU   CVTRV466
CVTRV471 EQU   CVTRV466
CVTRV470 EQU   CVTRV466
CVTRV469 EQU   CVTRV466
CVTRV468 EQU   CVTRV466
CVTRV467 EQU   CVTRV466
CVTRV465 EQU   CVTRV457
CVTRV464 EQU   CVTRV457
CVTRV463 EQU   CVTRV457
CVTRV462 EQU   CVTRV457
CVTRV461 EQU   CVTRV457
CVTRV460 EQU   CVTRV457
CVTRV459 EQU   CVTRV457
CVTRV458 EQU   CVTRV457
CVTRV456 EQU   CVTXTNT2+108
CVTRV455 EQU   CVTXTNT2+104
CVTRV454 EQU   CVTXTNT2+100
CVTRV453 EQU   CVTXTNT2+96
CVTRV452 EQU   CVTXTNT2+94
CVTRV451 EQU   CVTXTNT2+92
CVTRV450 EQU   CVTXTNT2+90
CVTRV449 EQU   CVTXTNT2+88
CVTRV448 EQU   CVTXTNT2+87
CVTRV447 EQU   CVTXTNT2+86
CVTRV446 EQU   CVTRV438
CVTRV445 EQU   CVTRV438
CVTRV444 EQU   CVTRV438
CVTRV443 EQU   CVTRV438
CVTRV442 EQU   CVTRV438
CVTRV441 EQU   CVTRV438
CVTRV440 EQU   CVTRV438
CVTRV439 EQU   CVTRV438
CVTRV437 EQU   CVTRV429
CVTRV436 EQU   CVTRV429
CVTRV435 EQU   CVTRV429
CVTRV434 EQU   CVTRV429
CVTRV433 EQU   CVTRV429
CVTRV432 EQU   CVTRV429
CVTRV431 EQU   CVTRV429
CVTRV430 EQU   CVTRV429
CVTRV428 EQU   CVTXTNT2+80
CVTRV427 EQU   CVTXTNT2+76
CVTRV426 EQU   CVTXTNT2+72
CVTRV425 EQU   CVTXTNT2+68
CVTATACT EQU   CVTATCVT
CVTRV423 EQU   CVTXTNT2+62
CVTRV422 EQU   CVTXTNT2+60
CVTRV421 EQU   CVTXTNT2+58
CVTRV420 EQU   CVTXTNT2+56
CVTRV419 EQU   CVTXTNT2+55
CVTRV418 EQU   CVTXTNT2+54
CVTRV417 EQU   CVTRV409
CVTRV416 EQU   CVTRV409
CVTRV415 EQU   CVTRV409
CVTRV414 EQU   CVTRV409
CVTRV413 EQU   CVTRV409
CVTRV412 EQU   CVTRV409
CVTRV411 EQU   CVTRV409
CVTRV410 EQU   CVTRV409
CVTRV408 EQU   CVTRV400
CVTRV407 EQU   CVTRV400
CVTRV406 EQU   CVTRV400
CVTRV405 EQU   CVTRV400
CVTRV404 EQU   CVTRV400
CVTRV403 EQU   CVTRV400
CVTRV402 EQU   CVTRV400
CVTRV401 EQU   CVTRV400
CVTICB   EQU   CVTXTNT2+48
CVTSKTA  EQU   CVTXTNT2+44
CVTRSV99 EQU   CVTXTNT2+40
CVTRSV98 EQU   CVTXTNT2+36
CVTRSV97 EQU   CVTXTNT2+34
CVTRSV96 EQU   CVTXTNT2+32
CVTOLTEP EQU   CVTXTNT2+28
CVTQIDA  EQU   CVTQID+1
CVTRSV95 EQU   CVTQID
CVTRSV94 EQU   CVTXTNT2+20
CVTRSV93 EQU   CVTXTNT2+16
CVTRSV92 EQU   CVTXTNT2+12
CVTDEBVR EQU   CVTXTNT2+8
CVTRSV91 EQU   CVTXTNT2+6
CVTRSV9H EQU   CVTFLGBT
CVTRSV9G EQU   CVTFLGBT
CVTRSV9F EQU   CVTFLGBT
CVTRSV9E EQU   CVTFLGBT
CVTRSV9D EQU   CVTFLGBT
CVTBAH   EQU   CVTFLGBT
CVTVME   EQU   CVTFLGBT
CVTNPE   EQU   CVTFLGBT
CVTNUCLS EQU   CVTXTNT2+4
CVTDSSVA EQU   CVTDSSV+1
CVTRSV89 EQU   CVTDSSV
CVTRSV88 EQU   CVTXTNT1+8
CVTRSV87 EQU   CVTXTNT1+4
CVTFACHN EQU   CVTXTNT1
CVTRV488 EQU   CVTMAP+412
CVTRV487 EQU   CVTMAP+408
CVTRV486 EQU   CVTMAP+404
CVTRV485 EQU   CVTMAP+400
CVTACTAP EQU   CVTMAP+396
CVTAUTH  EQU   CVTMAP+392
CVTRV490 EQU   CVTMAP+388
CVTSU    EQU   CVTMAP+384
CVTVOLT1 EQU   CVTVOLM1+1
CVTVOLI1 EQU   CVTVOLF1
CVTSTOA  EQU   CVTMAP+376
CVTRSV58 EQU   CVTMAP+374
CVTRSV57 EQU   CVTMAP+372
CVTDDCE  EQU   CVTMAP+368
CVTPNWFR EQU   CVTMAP+364
CVTSMF   EQU   CVTMAP+360
CVTSULK  EQU   CVTMAP+358
CVTSLKO  EQU   CVTSYSK
CVTSLKP  EQU   CVTSYSK
CVTSLKQ  EQU   CVTSYSK
CVTSLKR  EQU   CVTSYSK
CVTRSV56 EQU   CVTSYSK
CVTRSV55 EQU   CVTSYSK
CVTRSV54 EQU   CVTSYSK
CVTRSV53 EQU   CVTSYSK
CVTRSV52 EQU   CVTA1F1
CVTRSV51 EQU   CVTA1F1
CVTRSV50 EQU   CVTA1F1
CVTRSV49 EQU   CVTA1F1
CVTRSV48 EQU   CVTA1F1
CVTRSV47 EQU   CVTA1F1
CVTSRSW  EQU   CVTA1F1
CVTPFSW  EQU   CVTA1F1
CVTPCVT  EQU   CVTMAP+352
CVTRSV46 EQU   CVTMAP+344
CVTRSV45 EQU   CVTMAP+340
CVTRSV44 EQU   CVTMAP+338
CVTRSV43 EQU   CVTMAP+336
CVTHJESA EQU   CVTHJES+1
CVTRSV42 EQU   CVTHJES
CVTEXT2A EQU   CVTEXT2+1
CVTRSV41 EQU   CVTEXT2
CVTAPFA  EQU   CVTAPF+1
CVTRSV40 EQU   CVTAPF
CVTRV518 EQU   CVTINTLA
CVTRV517 EQU   CVTERPV
CVTEORM  EQU   CVTMAP+312
CVTMCHPR EQU   CVTMAP+308
CVTTZ    EQU   CVTMAP+304
CVTJEPS  EQU   CVTMAP+300
CVTJESCT EQU   CVTMAP+296
CVTMODE  EQU   CVTMAP+292
CVTPTRV  EQU   CVTMAP+288
CVTREAL  EQU   CVTMAP+284
CVTRSV39 EQU   CVTMAP+280
CVTRSV38 EQU   CVTMAP+276
CVTDMSRA EQU   CVTDMSR+1
CVTRV634 EQU   CVTDMSRF
CVTRV633 EQU   CVTDMSRF
CVTRV632 EQU   CVTDMSRF
CVTRV631 EQU   CVTDMSRF
CVTRV630 EQU   CVTDMSRF
CVTRV629 EQU   CVTDMSRF
CVTUDUMP EQU   CVTDMSRF
CVTSDUMP EQU   CVTDMSRF
CVTQMSGA EQU   CVTQMSG+1
CVTRSV36 EQU   CVTQMSG
CVTAMFF  EQU   CVTMAP+264
CVTPURGA EQU   CVTPURG+1
CVTRSV35 EQU   CVTPURG
CVTCBSP  EQU   CVTMAP+256
CVTATERA EQU   CVTATER+1
CVTSYST  EQU   CVTATER
CVTVOLT2 EQU   CVTTAT
CVTVOLI2 EQU   CVTVOLF2
CVTAQAVB EQU   CVTAQAVT+1
CVTRSV34 EQU   CVTTCMFG
CVTRSV33 EQU   CVTTCMFG
CVTRSV32 EQU   CVTTCMFG
CVTRSV31 EQU   CVTTCMFG
CVTRSV30 EQU   CVTTCMFG
CVTRSV29 EQU   CVTTCMFG
CVTLDEV  EQU   CVTTCMFG
CVTTCRDY EQU   CVTTCMFG
CVTGTFA  EQU   CVTGTF+1
CVTRSV27 EQU   CVTGTFST
CVTRNIO  EQU   CVTGTFST
CVTUSR   EQU   CVTGTFST
CVTRV318 EQU   CVTFORM
CVTRV317 EQU   CVTTMODE
CVTRV316 EQU   CVTSTATE
CVTRV315 EQU   CVTGTFS
CVTGTFAV EQU   CVTGTFS
CVT0SCR1 EQU   CVTMAP+232
CVTRV515 EQU   CVTMAP+228
CVTRMS   EQU   CVTMAP+224
CVTPATCH EQU   CVTMAP+220
CVTTSCE  EQU   CVTMAP+216
CVTLNKSC EQU   CVTMAP+214
CVTQABST EQU   CVTMAP+212
CVTMDLDS EQU   CVTMAP+208
CVTUSER  EQU   CVTMAP+204
CVTABEND EQU   CVTMAP+200
CVTSMCA  EQU   CVTMAP+196
CVTRSV18 EQU   CVTMAP+192
CVTQLPAQ EQU   CVTMAP+188
CVTQCDSR EQU   CVTMAP+184
CVTVS1B  EQU   CVTOPTB
CVTVS1A  EQU   CVTOPTB
CVTFP    EQU   CVTOPTB
CVTAPTHR EQU   CVTOPTB
CVTNLOG  EQU   CVTOPTB
CVTTOD   EQU   CVTOPTB
CVTCTIMS EQU   CVTOPTB
CVTPROT  EQU   CVTOPTB
CVTXPFP  EQU   CVTOPTA
CVTASCII EQU   CVTOPTA
CVTRSV13 EQU   CVTOPTA
CVTRSV12 EQU   CVTOPTA
CVTNIP   EQU   CVTOPTA
CVTDDR   EQU   CVTOPTA
CVTAPR   EQU   CVTOPTA
CVTCCH   EQU   CVTOPTA
CVTSNCTR EQU   CVTMAP+180
CVTQMWR  EQU   CVTMAP+176
CVTQOCR  EQU   CVTMAP+172
CVT1EF00 EQU   CVTMAP+168
CVTMZ00  EQU   CVTMAP+164
CVTSV76Q EQU   CVTSV76C
CVTRSV11 EQU   CVTMAP+156
CVT0PT01 EQU   CVTMAP+152
CVTMSER  EQU   CVTMAP+148
CVTRV516 EQU   CVTIERLC
CVTILCH  EQU   CVTMAP+140
CVT0DS   EQU   CVTMAP+136
CVTFBOSV EQU   CVTMAP+132
CVTNUCB  EQU   CVTMAP+128
CVTIXAVL EQU   CVTMAP+124
CVTSV76M EQU   CVTIOQET
CVTDCBA  EQU   CVTMAP+117
CVTMVS2  EQU   CVTDCB
CVT6DAT  EQU   CVTDCB
CVT4MPS  EQU   CVTDCB
CVTRSV09 EQU   CVTDCB
CVT4MS1  EQU   CVTDCB
CVT2SPS  EQU   CVTDCB
CVT1SSS  EQU   CVTDCB
CVTRSV08 EQU   CVTDCB
CVTSTB   EQU   CVTMAP+112
CVTQTD00 EQU   CVTMAP+108
CVTQTE00 EQU   CVTMAP+104
CVTSJQ   EQU   CVTMAP+96
CVTPBLDL EQU   CVTMAP+92
CVTTPC   EQU   CVTMAP+88
CVTSVDCB EQU   CVTMAP+84
CVTBRET  EQU   CVTMAP+82
CVTEXIT  EQU   CVTMAP+80
CVT0FN00 EQU   CVTMAP+76
CVTDARA  EQU   CVTDAR+1
CVTRSV07 EQU   CVTFLGS1
CVTRSV06 EQU   CVTFLGS1
CVTRSV05 EQU   CVTFLGS1
CVTRSV04 EQU   CVTFLGS1
CVTRSV03 EQU   CVTFLGS1
CVTRSV02 EQU   CVTFLGS1
CVTRSV01 EQU   CVTFLGS1
CVTDMPLK EQU   CVTFLGS1
CVTXITP  EQU   CVTMAP+68
CVTZDTAB EQU   CVTMAP+64
CVTMSLT  EQU   CVTMAP+60
CVTDATE  EQU   CVTMAP+56
CVTBTERM EQU   CVTMAP+52
CVTSYSAD EQU   CVTMAP+48
CVTXTLER EQU   CVTMAP+44
CVTILK1  EQU   CVTMAP+36
CVTPRLTV EQU   CVTMAP+32
CVTPCNVT EQU   CVTMAP+28
CVT0VL00 EQU   CVTMAP+24
CVTXAPG  EQU   CVTMAP+20
CVTBUF   EQU   CVTMAP+16
CVTJOB   EQU   CVTMAP+12
CVTLINK  EQU   CVTMAP+8
CVT0EF00 EQU   CVTMAP+4
CVTTCBP  EQU   CVTMAP
QTCPUMSK EQU   QTPRMS+74
QTCPUAD  EQU   QTPRMS+72
@NM00017 EQU   QTPRMS
BACKVOFF EQU   @NM00016
CATCHK   EQU   @NM00016
COMPLT   EQU   @NM00016
INPROC   EQU   @NM00016
@NM00015 EQU   WKUPARMS+92
CPUADD   EQU   WKUPARMS+90
CPUMASK  EQU   WKUPARMS+88
VIRTADDR EQU   WKUPARMS+84
XREGS    EQU   WKUPARMS+76
PSAADDR  EQU   WKUPARMS+72
@NM00014 EQU   WKUPARMS
EXITERR  EQU   ERRORIND+2
ERROR    EQU   ERRORIND+2
ESTAERR  EQU   ERRORIND+2
PSACCAOK EQU   FOOTPRNT+4
NOPCCA   EQU   FOOTPRNT+4
CPUCRH   EQU   FOOTPRNT+3
CRH      EQU   FOOTPRNT+3
OLDCAT   EQU   FOOTPRNT+3
CNSLDONE EQU   FOOTPRNT+2
IONOTQT  EQU   FOOTPRNT+1
UNCOND   EQU   FOOTPRNT
PGFXCODE EQU   PGFXECB+1
POSTED   EQU   @NM00012
@NM00013 EQU   @NM00012
CHNPPTR  EQU   WORKAREA+92
@NM00011 EQU   CATCOPY
CHNGEFLG EQU   DEVSTAT
DEVOFF   EQU   DEVSTAT
DEVON    EQU   DEVSTAT
CONSLE   EQU   DEVSTAT
HIER     EQU   DEVSTAT
@NM00010 EQU   HEXCPUAD
CHNMASK  EQU   WORKAREA+46
@NM00009 EQU   HEXCHNAD
CODEREG3 EQU   ESTAPRM+8
CODEREG2 EQU   ESTAPRM+4
CODEREG1 EQU   ESTAPRM
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00173 EQU   @EL00002
CHONEXIT EQU   @EL00002
@RC00192 EQU   @EL00002
@RC00205 EQU   @RC00203
SPCLEXIT EQU   @EL00003
@RC00223 EQU   @EL00004
CHOFEXIT EQU   @EL00004
@RT00273 EQU   BACKSKIP
@RF00319 EQU   @EL00005
@RF00328 EQU   @EL00006
CONSEXIT EQU   @EL00006
CPUONXT  EQU   @EL00007
@RC00430 EQU   @EL00007
@RF00454 EQU   @RC00452
SETER    EQU   @EL00008
@RT00490 EQU   CHOFFEXT
@RC00518 EQU   CHOFFEXT
@RC00513 EQU   CHOFFEXT
@RT00605 EQU   SMFTEST
@RF00614 EQU   CHOFFEXT
@RF00643 EQU   @EL00010
@RC00663 EQU   @EL00011
@RC00666 EQU   @EL00011
@RF00672 EQU   @EL00012
DEVSMEXT EQU   @EL00012
@RF00746 EQU   @RC00740
CHSMFEXT EQU   @EL00013
@RF00819 EQU   @EL00014
@RT00870 EQU   GETCOREX
WTOEXIT  EQU   @EL00017
ENDVCPU  EQU   @EL00001
@RF00212 EQU   SPCLEXIT
@RT00356 EQU   CPUONXT
@RT00412 EQU   CPUONXT
@RC00361 EQU   CPUONXT
@RT00436 EQU   CPUONXT
@RT00886 EQU   WTOEXIT
@ENDDATA EQU   *
         END   IEECLEAN,(C'PLS1953',0701,77125)

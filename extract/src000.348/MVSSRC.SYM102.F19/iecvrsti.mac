         TITLE ' IECVRSTI                                              *
                        '
         TITLE 'IECVRSTI - BASIC ENTRY AND SETUP'
IECVRSTI CSECT
         ENTRY IECHK6                  DSS HOOK
         ENTRY IECHK7                  DSS HOOK
         ENTRY IORFRR                  FRR ENTRY               @YM05487
         ENTRY IECVRST1                LYLE TEST
         BALR  @15,0               INITIAL BASE REG            @G552PLM
         BCTR  @15,0               BACK UP                     @G552PLM
         BCTR  @15,0                       TO ENTRY POINT      @G552PLM
         USING IECVRSTI,@15        USE R15 AS TEMP BASE        @G552PLM
         MODID
         CLM   @01,8,LOSTCHAN      CALLED FOR LOST CHAN        @G552PLM
         BNE   DOSAVE              NO, WE ARE ALREADY DISABLD  @G552PLM
         LR    @02,@00             SRB IN AN ADDRESSABLE REG   @G552PLM
         STNSM 0(@02),X'FC'        STORE SYS MASK IN SRB       @G552PLM
         B     NOSAVE              NO SAVE AREA BYPASS SAVE    @G552PLM
LOSTCHAN DC    X'03000000'         IND LOSTCHAN CALLER         @G552PLM
DOSAVE   EQU   *                   TARGET IF NOT POS LOSTCHAN  @G552PLM
         STM   @14,@12,0(13)       SAVE REGISTERS              @G552PLM
NOSAVE   EQU   *                   TARGET IF POSSIBLE LOSTCHN  @G552PLM
         DROP  @15                 NO LONGER NEED R15 AS BASE  @G552PLM
         LR    @10,@15                 SET ADDRESSIBILITY
         USING IECVRSTI,@10
         LA     @02,4094(@10)           GET SECOND BASE        @OZ06051
         USING IECVRSTI+4094,@02                               @OZ06051
*   REG8=ZERO;                      /* ZERO PTR TO WORK AREA FOR FRR
*                                                            @YM05487*/
         SLR   REG8,REG8                                           0269
*   REG11=ADDR(IORFRR);             /* FRR ADDR FOR FRR CALL         */
         LA    REG11,IORFRR                                        0270
*   GEN CODE;                                                      0271
         SETFRR A,PARMAD=(@09),FRRAD=(@11),WRKREGS=(@03,@05)
*   RFY                                                            0272
*    (REG11) UNRSTD;                                               0272
*   RFY                                                            0273
*    (REG11,                                                       0273
*     REG13,                                                       0273
*     REG15) RSTD;                  /*                       @YM05487*/
*   IF PSAIOSUP=ON1                 /* IF SUPER BIT ON WHEN ENTERRED
*                                                            @YM05487*/
*     THEN                                                         0274
         TM    PSAIOSUP,B'10000000'                                0274
         BNO   @RF00274                                            0274
*     FRRIOSUP=OFF1;                /* I DID NOT TURN IT ON  @YM05487*/
         NI    FRRIOSUP(REG9),B'01111111'                          0275
*   ELSE                                                           0276
*     DO;                           /* OTHERWISE             @YM05487*/
         B     @RC00274                                            0276
@RF00274 DS    0H                                                  0277
*       FRRIOSUP=ON1;               /* INDICATE I TURNED IT ON     0277
*                                                            @YM05487*/
         OI    FRRIOSUP(REG9),B'10000000'                          0277
*       PSAIOSUP=ON1;               /* TURN ON IOS SUPER BIT SO IOS
*                                      STORAGE MANAGER WILL NOT CAUSE
*                                      ENABLE                @YM05487*/
         OI    PSAIOSUP,B'10000000'                                0278
*     END;                          /*                       @YM05487*/
*   FRRSAV=REG13;                   /* SAVE SAVE AREA PTR            */
@RC00274 ST    REG13,FRRSAV(,REG9)                                 0280
*   REG11=GET320;                   /* SET TO GET WORK AREA AND    0281
*                                      MESSAGE BUFFER                */
         L     REG11,@CF03039                                      0281
*   REG13=WSACRSTI;                 /* GET IO RESTART SAVE           */
         L     @14,PSALCCAV                                        0282
         L     @14,LCCACPUS(,@14)                                  0282
         L     REG13,WSACRSTI(,@14)                                0282
*   REG15=IOCORMGT;                 /* STORAGE MANAGER ENTRY         */
         L     @06,CVTPTR                                          0283
         L     @06,CVTIXAVL(,@06)                                  0283
         L     REG15,IOCORMGT(,@06)                                0283
*   CALL SMGRGB;                    /* CALL STORAGE MANAGER FOR A 160
*                                      BYTE BLOCK                    */
         BALR  @14,@15                                             0284
*   REG8=REG11;                     /* SET WORK AREA PTR             */
         LR    REG8,REG11                                          0285
*   REG11=BLKCHAIN;                 /* PICK UP MESSBUF PTR           */
         L     REG11,BLKCHAIN(,REG8)                               0286
*   RFY                                                            0287
*    (REG13) UNRSTD;                                               0287
*   RFY                                                            0288
*    (REG15) UNRSTD;                                               0288
*   IORWORK=IORWORK&&IORWORK;       /* ZERO THE WORK AREA            */
         XC    IORWORK(120,REG8),IORWORK(REG8)                     0289
*   PWAPTR=PCCAPWAV;                /* ADDR OF PWA           @G552PLM*/
         L     @06,PSAPCCAV                                        0290
         MVC   PWAPTR(4,REG8),PCCAPWAV(@06)                        0290
*   INPARM=REG1;                    /* SET PARM INDICATOR            */
         ST    REG1,INPARM(,REG8)                                  0291
*   MESSPTR=REG11;                  /* SET MESSAGE BUF PTR           */
         ST    REG11,MESSPTR(,REG8)                                0292
*   REG11->MSGENT=ONE;              /* SET INITIAL MESSAGE COUNT     */
         MVC   MSGENT(2,REG11),@CH00039                            0293
*   REG11->MESSBUF=REG11->MESSBUF&&REG11->MESSBUF;/* CLEAR THE MSG 0294
*                                      BUFFER INDEX VALUE            */
         XC    MESSBUF(152,REG11),MESSBUF(REG11)                   0294
*   IORSIOCM=CVTIXAVL;              /* IOCOM ADDR TO WORK            */
         L     @06,CVTPTR                                          0295
         MVC   IORSIOCM(4,REG8),CVTIXAVL(@06)                      0295
*   RFY                                                            0296
*     IOCOM BASED(IORSIOCM);                                       0296
*   FRRIORWA=REG8;                  /* SAVE WORK AREA PTR    @G552PLM*/
         ST    REG8,FRRIORWA(,REG9)                                0297
*   RFY                                                            0298
*    (REG1) UNRSTD;                                                0298
*   RFY                                                            0299
*    (REG11) UNRSTD;                                               0299
*                                                                  0299
*/***************************************************************  0300
**       THE FOLLOWING CODE DETERMINES THE CALLER OF I/O RESTART   0300
**       AND ROUTES CONTROL TO THE SPECIFIC SECTION OF CODE        0300
**       FOR THAT CALLER.                                          0300
***************************************************************      */
*                                                                  0300
*   IF INDICAT=ACR                  /* IS THIS AN ACR CALL           */
*     THEN                                                         0300
         CLI   INDICAT(REG8),X'00'                                 0300
         BE    @RT00300                                            0300
*     GO TO ACRPROC;                /* IF YES GO PROCESS             */
*   IF INDICAT=LOSTCHAN             /* IF CHAN LOST          @G552PLM*/
*     THEN                                                         0302
         CLC   INDICAT(1,REG8),LOSTCHAN                            0302
         BE    @RT00302                                            0302
*     GO TO LOSTCHCD;               /* GO PROCESS IT         @G552PLM*/
*   ELSE                                                           0304
*     UCBPTR=UCBP;                  /* SET UP PTR TO UCB             */
         SLR   UCBPTR,UCBPTR                                       0304
         ICM   UCBPTR,7,UCBP(REG8)                                 0304
*   IF INDICAT=CCH                  /* IS THIS A CCH CALL IF SO DO 0305
*                                      THEN CLAUSE IF NOT DO ELSE  0305
*                                      CLAUSE                        */
*     THEN                                                         0305
         CLI   INDICAT(REG8),X'40'                                 0305
         BNE   @RF00305                                            0305
*     DO;                           /* IF YES PROCESS                */
*       GEN(TITLE 'IECVRSTI - CCH CALL CODE');                     0307
*                                                                  0307
         TITLE 'IECVRSTI - CCH CALL CODE'
*/***************************************************************  0308
**       THE FOLLOWING CODE HANDLES THE CCH CALL TO I/O RESTART.   0308
**       AFTER THE CSW HAS BEEN SAVED AN ATTEMPT TO CLEAR THE      0308
**       DEVICE (VIA THE CLEARDEV SUBROUTINE) IS MADE. BASED ON    0308
**       THE SUCCESS OF THE CLEARING THE NO RETRY BIT MAY BE SET   0308
**       FOR ERP NOTIFICATION. THE CSW IS THEN RESTORED AND THE    0308
**       COMMON MIH-CCH EXIT ROUTINE IS ENTERED.                   0308
***************************************************************      */
*                                                                  0308
*CCHPROC:                                                          0308
*       IORCSW(ONE:EIGHT)=CSW;      /* SAVE THE CSW                  */
CCHPROC  MVC   IORCSW(8,REG8),CSW                                  0308
*       ERPIBPTR=REG12;             /* SET ERPIB PTR                 */
         ST    REG12,ERPIBPTR(,REG8)                               0309
*       CALL CLEARDEV;              /* ATTEMPT TO CLEAR DEV          */
         BAL   @14,CLEARDEV                                        0310
*       IF ERPIBPTR^=ZERO           /* IS THERE AN ERPIB             */
*         THEN                                                     0311
         L     @11,ERPIBPTR(,REG8)                                 0311
         LTR   @11,@11                                             0311
         BZ    @RF00311                                            0311
*         DO;                       /* YES - PROCESS IT              */
*           RSTIERP(FIVE:EIGHT)=ERPIBSTD;/* SET STANDARD ERPIB       */
         MVC   RSTIERP+4(4,@11),ERPIBSTD                           0313
*           IF NODEVCLR=ON1         /* DID DEV CLEAR                 */
*             THEN                                                 0314
         TM    NODEVCLR(REG8),B'01000000'                          0314
         BNO   @RF00314                                            0314
*             RSTINOR=ON1;          /* NO - SET ERPIB NO RTY         */
         OI    RSTINOR(@11),B'00000001'                            0315
*           ELSE                                                   0316
*             ;                                                    0316
@RF00314 DS    0H                                                  0317
*         END;                                                     0317
*       ELSE                                                       0318
*         ;                                                        0318
@RF00311 DS    0H                                                  0319
*       CALL IGFPSAD0;              /* OBTAIN AUTHORIZATION  @G51BPLC*/
         L     @15,@CV03195                                        0319
         BALR  @14,@15                                             0319
*       CSW(ONE:EIGHT)=IORCSW(ONE:EIGHT);/* RESTORE CSW              */
         MVC   CSW(8),IORCSW(REG8)                                 0320
*       CHANSTAT=CHANSTAT×CCCICC2;  /* SET CCC ICC IN CSW            */
         OI    CHANSTAT,X'06'                                      0321
*       CALL IGFPSAE0;              /* RELEASE AUTHORIZATION@G51BPLC */
         L     @15,@CV03196                                        0322
         BALR  @14,@15                                             0322
*     END;                                                         0323
*   ELSE                                                           0324
*     DO;                           /* NO - DO MIH PROCESS           */
         B     @RC00305                                            0324
@RF00305 DS    0H                                                  0325
*       RFY                                                        0325
*        (REG12) UNRSTD;                                           0325
*       GEN(TITLE 'IECVRSTI - MIH CALL CODE');                     0326
*                                                                  0326
         TITLE 'IECVRSTI - MIH CALL CODE'
*/***************************************************************  0327
**       THIS CODE HANDLES THE MIH CALL TO I/O RESTART.            0327
**       THE CSW IS RESET TO INDICATE THE RESULT OF THE CLEARDEV   0327
**       SUBROUTINE. DIFFERENT STATUS IS STORED DEPENDING ON       0327
**       WHAT KIND OF CHANNEL PROGRAM (SENSE OR NORMAL) WAS        0327
**       RUNNING WHEN THE INTERRUPT WAS LOST.                      0327
***************************************************************      */
*                                                                  0327
*MIHPROC:                                                          0327
*       ;                                                          0327
MIHPROC  DS    0H                                                  0328
*       UCBPTR=UCBPTR-UCBPRELN;     /* GET TO PREFIX                 */
         SH    UCBPTR,@CH03050                                     0328
*       UCBP=UCBPTR;                /* RESET PARAMETER               */
         STCM  UCBPTR,7,UCBP(REG8)                                 0329
*       CALL CLEARDEV;              /* ATTEMPT TO CLEAR DEV          */
         BAL   @14,CLEARDEV                                        0330
*       PCCACHUB=UCBPTR+UCBPRELN;   /* SET PCCA ERPIB UCB ADDRESS    */
         L     @12,PSAPCCAV                                        0331
         LA    @11,512                                             0331
         ALR   @11,UCBPTR                                          0331
         ST    @11,PCCACHUB(,@12)                                  0331
*       PCCAWERP(FIVE:EIGHT)=ERPIBSTD;/* SET STANDARD ERPIB          */
         MVC   PCCAWERP+4(4,@12),ERPIBSTD                          0332
*       CALL IGFPSAD0;              /* OBTAIN AUTHORIZATION  @G51BPLC*/
         L     @15,@CV03195                                        0333
         BALR  @14,@15                                             0333
*       CSW=CSW&&CSW;               /* CLEAR CSW             @G51BPLC*/
         XC    CSW(8),CSW                                          0334
*       IF UCBPSNS=ON1              /* IS A SENSE PENDING            */
*         THEN                                                     0335
         LA    @12,512                                             0335
         ALR   @12,UCBPTR                                          0335
         TM    UCBPSNS(@12),B'00010000'                            0335
         BNO   @RF00335                                            0335
*         IF UCBASNS=ON1            /* IS A SENSE ACTIVE             */
*           THEN                                                   0336
         TM    UCBASNS(@12),B'01000000'                            0336
         BNO   @RF00336                                            0336
*           DO;                     /* YES BOTH SET U.C.             */
*             CMDADDR=IOCIOSCP+(UCBCCWOF*8)+EIGHT;/* SET CSW COMMAND
*                                      ADDR TO POINT 8 PAST THE SENSE
*                                      CCW                   @ZA16150*/
         L     @11,IORSIOCM(,REG8)                                 0338
         L     @12,UCBEXTPT(,@12)                                  0338
         LH    @12,UCBCCWOF(,@12)                                  0338
         SLA   @12,3                                               0338
         AL    @12,IOCIOSCP(,@11)                                  0338
         LA    @12,8(,@12)                                         0338
         STCM  @12,7,CMDADDR                                       0338
*             STATUS=UCSTAT;        /* SET UNIT CHECK CSW            */
         MVC   STATUS(2),@CB03050                                  0339
*           END;                                                   0340
*         ELSE                                                     0341
*           STATUS=DESTAT;          /* SENSE NOT ACTIVE SET DEVICE 0341
*                                      END.                          */
         B     @RC00336                                            0341
@RF00336 MVC   STATUS(2),@CB03052                                  0341
*       ELSE                                                       0342
*         DO;                       /* NO SENSE PENDING              */
         B     @RC00335                                            0342
@RF00335 DS    0H                                                  0343
*           STATUS=CCCICCST;        /* SET CCC ICC IN CSW            */
         MVC   STATUS(2),@CB03054                                  0343
*           IF NODEVCLR=ON1         /* DID THE DEVICE CLEAR          */
*             THEN                                                 0344
         TM    NODEVCLR(REG8),B'01000000'                          0344
         BNO   @RF00344                                            0344
*             PCCACNOR=ON1;         /* NO - SET ERPIB FOR RETRY NOT
*                                      POSS                          */
         L     @12,PSAPCCAV                                        0345
         OI    PCCACNOR(@12),B'00000001'                           0345
*           ELSE                                                   0346
*             ;                                                    0346
@RF00344 DS    0H                                                  0347
*         END;                                                     0347
*       RSTIIOAA(TWO:THREE)=UCBCHAN;/* SET UP INT ADDR       @G51BPLC*/
@RC00335 MVC   RSTIIOAA+1(2),UCBCHAN+512(UCBPTR)                   0348
*       CALL IGFPSAE0;              /* RELEASE AUTHORIZATION@G51BPLC */
         L     @15,@CV03196                                        0349
         BALR  @14,@15                                             0349
*       RFY                                                        0350
*        (REG13) RSTD;                                             0350
*       RFY                                                        0351
*        (REG11) RSTD;                                             0351
*       RFY                                                        0352
*        (REG5) RSTD;                                              0352
*       GEN(TITLE 'IECVRSTI - I/O RESTART IFACE WITH SLIH');       0353
*                                                                  0353
         TITLE 'IECVRSTI - I/O RESTART IFACE WITH SLIH'
*/***************************************************************  0354
**       THIS CODE INTERFACES WITH THE I/O SLIH TO CAUSE A         0354
**       SIMULATED INTERRUPT ON THE DEVICE FOR WHICH THE MIH       0354
**       CALL WAS MADE.                                            0354
***************************************************************      */
*                                                                  0354
*       REG11=RSTIPINT;             /* SET ENVIRONMENT BYTE FOR IOS
*                                      CALL                          */
         LA    REG11,10                                            0354
*       REG13=WSACRSTI;             /* SAVE AREA ADDRESS             */
         L     @06,PSALCCAV                                        0355
         L     @06,LCCACPUS(,@06)                                  0355
         L     REG13,WSACRSTI(,@06)                                0355
*       REG5=ADIECINT;              /* INTERRUPT HANDLER ENTRY POINT */
         L     REG5,ADIECINT                                       0356
*       GEN CODE;                                                  0357
         STM   @00,@15,0(@13)          SAVE THE REGS ACROSS SLIH
         BAL   @04,4(@05)               GO TO INT HANDLER
         LM    @00,@15,0(@13)           RESTORE REGS
*       RFY                                                        0358
*        (REG13) UNRSTD;                                           0358
*       RFY                                                        0359
*        (REG11) UNRSTD;                                           0359
*       RFY                                                        0360
*        (REG5) UNRSTD;                                            0360
*     END;                                                         0361
*   GO TO IORSEND;                  /* RETURN TO MIH AFTER CLEANUP   */
         B     IORSEND                                             0362
*   GEN(TITLE 'IECVRSTI - LOST CHANNEL ROUTINE');/*          @G552PLM*/
         TITLE 'IECVRSTI - LOST CHANNEL ROUTINE'
*/*********************************************************************
**       THIS CODE HANDLES I/O RESTART PROCESSING FOR A LOST       0364
**       CHANNEL.  A LOST CHANNEL IS INDICATED AS SUCH BY THE      0364
**       CATIORST FLAG BEING ON IN THE CAT ENTRY FOR THE CHANNEL.  0364
**       THIS CODE WILL SCAN THE CAT FOR A LOST CHANNEL AND CALL   0364
**       UCBACT PROCEEDURE FOR EACH DEVICE ON THE CHANNEL.         0364
*************************************************************@G552PLM*/
*                                                                  0364
*LOSTCHCD:                                                         0364
*   ;                                                              0364
LOSTCHCD DS    0H                                                  0365
*   PWAEDSRB=0;                     /* SRB IS RE-USABLE      @G552PLM*/
         L     @12,PWAPTR(,REG8)                                   0365
         MVI   PWAEDSRB(@12),X'00'                                 0365
*   FRRLCSRB='1'B;                  /* IND SRB HAS BEEN SET RE-USABLE
*                                                            @G552PLM*/
         OI    FRRLCSRB(REG9),B'01000000'                          0366
*   RFY                                                            0367
*    (REG1,                                                        0367
*     REG11,                                                       0367
*     REG13,                                                       0367
*     REG15) RSTD;                  /*                       @G552PLM*/
*   REG13=WSACRSTI;                 /* STOR MGR SAVE AREA    @G552PLM*/
         L     @14,PSALCCAV                                        0368
         L     @14,LCCACPUS(,@14)                                  0368
         L     REG13,WSACRSTI(,@14)                                0368
*   REG11=GET160;                   /* SIZE OF RESERVE TAB   @G552PLM*/
         L     REG11,@CF03037                                      0369
*   REG15=IOCORMGT;                 /* EP OF STOR MGR        @G552PLM*/
         L     @12,IORSIOCM(,REG8)                                 0370
         L     REG15,IOCORMGT(,@12)                                0370
*   CALL SMGRGB;                    /* GET 160 BYTE BLOCK    @G552PLM*/
         BALR  @14,@15                                             0371
*   BLKCHAIN=REG11;                 /* CHAIN PTR TO TABLE    @G552PLM*/
         ST    REG11,BLKCHAIN(,REG8)                               0372
*   RSVTBLPT=REG11;                 /* BASE PTR FOR TABLE    @G552PLM*/
         ST    REG11,RSVTBLPT(,REG8)                               0373
*   RFY                                                            0374
*    (REG1,                                                        0374
*     REG13,                                                       0374
*     REG15) UNRSTD;                /*                       @G552PLM*/
*   REG11->RSVTBL=REG11->RSVTBL&&REG11->RSVTBL;/* CLEAR RESERVE TABLE
*                                                            @G552PLM*/
         XC    RSVTBL(160,REG11),RSVTBL(REG11)                     0375
*   REG11->ENTCNT=ONE;              /* COUNT OF TAB ENTRYS   @G552PLM*/
         MVC   ENTCNT(4,REG11),@CF00039                            0376
*   RFY                                                            0377
*     REG11 UNRSTD;                 /*                       @G552PLM*/
*   CATPTR=ADDR(PCCACAT);           /* CAT IS IN PCCA        @G552PLM*/
         L     @12,PSAPCCAV                                        0378
         LA    @12,PCCACAT(,@12)                                   0378
         ST    @12,CATPTR(,REG8)                                   0378
*CATLOOP:                                                          0379
*   ;                               /* THIS POINT IS BRANCHED TO   0379
*                                      AFTER THIS CPU'S CAT HAS BEEN
*                                      PROCESSED AND IT IS FOUND THAT
*                                      A CRH CONNECTED CHANNEL HAS 0379
*                                      BEEN LOST. CATPTR CONTAINS  0379
*                                      ADDR OF OTHER CAT     @G552PLM*/
CATLOOP  DS    0H                                                  0380
*   DO CATINDEX=1 TO LENGTH(PCCACAT)/LENGTH(CAT);/* SCAN ALL ENTRIES
*                                                            @G552PLM*/
         LA    @12,1                                               0380
         STC   @12,CATINDEX(,REG8)                                 0380
@DL00380 DS    0H                                                  0381
*     IF CATIORST='1'B THEN         /* IF CHANNEL LOST       @G552PLM*/
         L     @12,CATPTR(,REG8)                                   0381
         TM    CATIORST(@12),B'01000000'                           0381
         BNO   @RF00381                                            0381
*       DO;                         /* DO I/O RESTART PROC   @G552PLM*/
*         CHANID=CATINDEX-1;        /* CHANNEL NUMBER        @G552PLM*/
         SLR   @12,@12                                             0383
         IC    @12,CATINDEX(,REG8)                                 0383
         BCTR  @12,0                                               0383
         STC   @12,CHANID(,REG8)                                   0383
*         MSG410(ONE:LENGTH(MSG410))=IEA410I(ONE:LENGTH(MSG410));/*
*                                                            @G552PLM*/
         LA    @12,8                                               0384
         AL    @12,MESSPTR(,REG8)                                  0384
         MVC   MSG410(44,@12),IEA410I                              0384
*         IF CRHCHSW='0'B THEN      /* IF THIS CAT           @G552PLM*/
         TM    CRHCHSW(REG8),B'01000000'                           0385
         BNZ   @RF00385                                            0385
*           TXTCPU=CPUID×NUMERMSK;  /* THIS CPU NO           @G552PLM*/
         MVC   TXTCPU(1,@12),CPUID(REG8)                           0386
         OI    TXTCPU(@12),X'F0'                                   0386
*         ELSE                      /* CRH CAT               @G552PLM*/
*           TXTCPU=(CVTCRCA->CRCAPCCA->OFFCPUID)×NUMERMSK;/* CRH CPU
*                                      NO                    @G552PLM*/
         B     @RC00385                                            0387
@RF00385 L     @12,MESSPTR(,REG8)                                  0387
         L     @11,CVTPTR                                          0387
         L     @11,CVTCRCA(,@11)                                   0387
         L     @11,CRCAPCCA(,@11)                                  0387
         MVC   TXTCPU+8(1,@12),OFFCPUID(@11)                       0387
         OI    TXTCPU+8(@12),X'F0'                                 0387
*         IF CHANID<10 THEN                                        0388
@RC00385 CLI   CHANID(REG8),10                                     0388
         BNL   @RF00388                                            0388
*           TXTCHAN=CHANID×NUMERMSK;/* CHANNEL NO            @G552PLM*/
         L     @12,MESSPTR(,REG8)                                  0389
         LA    @11,240                                             0389
         SLR   @06,@06                                             0389
         IC    @06,CHANID(,REG8)                                   0389
         OR    @11,@06                                             0389
         STC   @11,TXTCHAN+8(,@12)                                 0389
*         ELSE                      /*                       @G552PLM*/
*           TXTCHAN=(CHANID-9)×CHARMASK;/*                   @G552PLM*/
         B     @RC00388                                            0390
@RF00388 L     @12,MESSPTR(,REG8)                                  0390
         SLR   @11,@11                                             0390
         IC    @11,CHANID(,REG8)                                   0390
         SH    @11,@CH03145                                        0390
         O     @11,@CF03028                                        0390
         STC   @11,TXTCHAN+8(,@12)                                 0390
*         CALL RECORDIT;            /* PUT OUT MESSAGE       @G552PLM*/
@RC00388 BAL   @14,RECORDIT                                        0391
*         MSG004(ONE:LENGTH(MSG004))=IEA004I(ONE:LENGTH(MSG004));/*
*                                                            @G552PLM*/
         L     @12,MESSPTR(,REG8)                                  0392
         LA    @11,8                                               0392
         ALR   @11,@12                                             0392
         MVC   MSG004(88,@11),IEA004I                              0392
*         MSG004(TWENTY:FIFTY1)=BLANK1;/*                    @G552PLM*/
         MVI   MSG004+20(@11),C' '                                 0393
         MVC   MSG004+21(30,@11),MSG004+20(@11)                    0393
         MVI   MSG004+19(@11),C' '                                 0393
*         MSGENT=ONE;               /*                       @G552PLM*/
         MVC   MSGENT(2,@12),@CH00039                              0394
*         RFY                                                      0395
*          (REG11,                                                 0395
*           REG13,                                                 0395
*           REG15) RSTD;            /*                       @G552PLM*/
*         FIRSTCHN=CHANID;          /* FIRST DEV             @G552PLM*/
         MVC   FIRSTCHN(1,REG8),CHANID(REG8)                       0396
*         FIRSTUNT=0;               /* ADDRESS               @G552PLM*/
         MVI   FIRSTUNT(REG8),X'00'                                0397
*         DO DEVINDEX=FIRSTDEV TO(FIRSTDEV+255);/* X00 - XFF @G552PLM*/
         LH    @14,FIRSTDEV(,REG8)                                 0398
         B     @DE00398                                            0398
@DL00398 DS    0H                                                  0399
*           REG13=WSACRSTI;         /* SAVE AREA             @G552PLM*/
         L     @14,PSALCCAV                                        0399
         L     @14,LCCACPUS(,@14)                                  0399
         L     REG13,WSACRSTI(,@14)                                0399
*           REG11=DEVINDEX;         /* DEV ADDR              @G552PLM*/
         LH    REG11,DEVINDEX(,REG8)                               0400
*           GEN REFS(CVTILK1,CVTILK2,CVTIXAVL,CVTMAP,IOCOMEX,CVTPTR,
*               IOCOM,IOX,IOCUCBBM,IOXHICH)                        0401
*               (IOSGEN UCBLOOK,UCB=(UCBPTR),REG=(REG11));/* FIND UCB
*                                                            @G552PLM*/
         IOSGEN UCBLOOK,UCB=(UCBPTR),REG=(REG11)
*           IF REG15=0 THEN         /* IF UCB EXISTS         @G552PLM*/
         LTR   REG15,REG15                                         0402
         BNZ   @RF00402                                            0402
*             CALL UCBACT;          /* PROCESS DEVICE        @G552PLM*/
         BAL   @14,UCBACT                                          0403
*         END;                                                     0404
@RF00402 LA    @14,1                                               0404
         AH    @14,DEVINDEX(,REG8)                                 0404
@DE00398 STH   @14,DEVINDEX(,REG8)                                 0404
         LA    @12,255                                             0404
         AH    @12,FIRSTDEV(,REG8)                                 0404
         CR    @14,@12                                             0404
         BNH   @DL00398                                            0404
*         RFY                                                      0405
*          (REG11,                                                 0405
*           REG13,                                                 0405
*           REG15) UNRSTD;          /*                       @G552PLM*/
*         IF MSGENT>ONE THEN        /* IF IEA004I HAS DEV    @G552PLM*/
         L     @12,MESSPTR(,REG8)                                  0406
         CLC   MSGENT(2,@12),@CH00039                              0406
         BNH   @RF00406                                            0406
*           CALL RECORDIT;          /* WRITE IT OUT          @G552PLM*/
*                                                                  0407
         BAL   @14,RECORDIT                                        0407
*         /***********************************************************/
*         /*                                                         */
*         /* SIMULATE CHANNEL AVAILABLE INTERRUPT TO ENSURE IOS      */
*         /* CLEARS HIS QUEUES FOR THE LOST CHAN.            @G552PLM*/
*         /*                                                         */
*         /***********************************************************/
*                                                                  0408
*         CSW=CSW&&CSW;             /* 0 CSW FOR CHAN AVAL   @G552PLM*/
@RF00406 XC    CSW(8),CSW                                          0408
*         FLCIOA=0;                 /* ZERO DEVICE ADDRESS   @G552PLM*/
         SLR   @12,@12                                             0409
         ST    @12,FLCIOA                                          0409
*         RSTIIOAA(2:2)=CHANID;     /* CHANNEL ADDRESS       @G552PLM*/
         MVC   RSTIIOAA+1(1),CHANID(REG8)                          0410
*         RFY                                                      0411
*          (REG5,                                                  0411
*           REG11,                                                 0411
*           REG13) RSTD;            /*                       @G552PLM*/
*         REG11=RSTIPINT;           /* PSEUDO INT FROM IOR   @G552PLM*/
         LA    REG11,10                                            0412
*         REG5=ADIECINT;            /* ADDR IOS SLIH         @G552PLM*/
         L     REG5,ADIECINT                                       0413
*         REG13=WSACRSTI;           /* SAVE AREA ADDR        @G552PLM*/
         L     @06,PSALCCAV                                        0414
         L     @06,LCCACPUS(,@06)                                  0414
         L     REG13,WSACRSTI(,@06)                                0414
*         GEN CODE;                                                0415
*                                      /*SIMULATE INTERRUPT  @G552PLM*/
                  STM   @00,@15,0(@13)  SAVE REGISTERS         @G552PLM
                  BAL   @04,4(@05)      ENTER IOS SLIH         @G552PLM
                  LM    @00,@15,0(@13)  RESTORE REGISTERS      @G552PLM
*         RFY                                                      0416
*          (REG5,                                                  0416
*           REG11,                                                 0416
*           REG13) UNRSTD;          /*                       @G552PLM*/
*         CATIORST='0'B;            /* IND DONE WITH CHAN    @G552PLM*/
         L     @12,CATPTR(,REG8)                                   0417
         NI    CATIORST(@12),B'10111111'                           0417
*       END;                        /* DONE WITH LOST CHAN   @G552PLM*/
*     CATPTR=CATPTR+LENGTH(CAT);    /* PTR TO NEXT ENTRY     @G552PLM*/
@RF00381 LA    @12,8                                               0419
         AL    @12,CATPTR(,REG8)                                   0419
         ST    @12,CATPTR(,REG8)                                   0419
*   END;                            /* DONE WITH CAT, ALL ENTRIES  0420
*                                      HAVE BEEN SCANNED     @G552PLM*/
         LA    @12,1                                               0420
         SLR   @11,@11                                             0420
         IC    @11,CATINDEX(,REG8)                                 0420
         ALR   @12,@11                                             0420
         STC   @12,CATINDEX(,REG8)                                 0420
         CH    @12,@CH00787                                        0420
         BNH   @DL00380                                            0420
*   RFY                                                            0421
*     CRCA BASED(CRCAPTR);          /* CVTCRCA POINTS CRCA   @G552PLM*/
*   IF CRHCHSW='0'B&                /* FIRST TIME THRU       @G552PLM*/
*       CVTCRCA^=0&                 /* CRH IS ACTIVE         @G552PLM*/
*       CRCACAT^=0 THEN             /* CAT FOR CPU EXISTS    @G552PLM*/
         TM    CRHCHSW(REG8),B'01000000'                           0422
         BNZ   @RF00422                                            0422
         SLR   @12,@12                                             0422
         L     @11,CVTPTR                                          0422
         C     @12,CVTCRCA(,@11)                                   0422
         BE    @RF00422                                            0422
         L     @11,CRCAPTR(,@11)                                   0422
         L     @11,CRCACAT(,@11)                                   0422
         CR    @11,@12                                             0422
         BE    @RF00422                                            0422
*     DO;                           /* CHECK LOST CRH CHAN   @G552PLM*/
*       CRHCHSW='1'B;               /* DO CRH CHECK ONCE     @G552PLM*/
         OI    CRHCHSW(REG8),B'01000000'                           0424
*       CATPTR=CRCACAT;             /* ADDR OF CRH CAT       @G552PLM*/
         ST    @11,CATPTR(,REG8)                                   0425
*       GO TO CATLOOP;              /* DO LOST CHAN WITH CAT FOR CRH
*                                      CONNECTED CHAN        @G552PLM*/
         B     CATLOOP                                             0426
*     END;                          /*                       @G552PLM*/
*   ELSE                                                           0428
*     ;                             /*                       @G552PLM*/
@RF00422 DS    0H                                                  0429
*   RFY                                                            0429
*     CRCA BASED(REG3);             /*                       @G552PLM*/
*   IF FRRLCRSV='1'B THEN           /* IF RESERVED DEVICES   @G552PLM*/
         TM    FRRLCRSV(REG9),B'00100000'                          0430
         BNO   @RF00430                                            0430
*     DO;                           /* SETUP TO LOAD WAIT    @G552PLM*/
*       ENT(ENTCNT)=ENT(ENTCNT)&&ENT(ENTCNT);/* NEXT SLOT IN TABLE 0432
*                                      DOES NOT CONTAIN A RESERVED 0432
*                                      DEVICE                @G552PLM*/
         L     @12,RSVTBLPT(,REG8)                                 0432
         L     @11,ENTCNT(,@12)                                    0432
         SLA   @11,3                                               0432
         ALR   @12,@11                                             0432
         XC    ENT-8(8,@12),ENT-8(@12)                             0432
*       RFY                                                        0433
*         REG0 RSTD;                /*                       @G552PLM*/
*LOSTCHWT:                                                         0434
*       ;                           /* IF RESTART KEY HIT-LOOP     0434
*                                                            @G552PLM*/
LOSTCHWT DS    0H                                                  0435
*       REG0=LTCHANCD;              /* WAIT STATE CODE       @G552PLM*/
         LA    REG0,73                                             0435
*       CALL WAITRTN;               /* PUT SYS IN WAIT       @G552PLM*/
         BAL   @14,WAITRTN                                         0436
*       GO TO LOSTCHWT;             /* REMAIN IN WAIT IF RESTART KEY
*                                      HIT                   @G552PLM*/
         B     LOSTCHWT                                            0437
*       RFY                                                        0438
*         REG0 UNRSTD;              /*                       @G552PLM*/
*     END;                                                         0439
*   ELSE                                                           0440
*     GO TO IORSEND;                /* RELEASE RESOURCES AND RETURN
*                                      TO SRB DISPATCHER     @G552PLM*/
*   GEN(TITLE 'IECVRSTI - ACR PROCESSING ROUTINE');                0441
*                                                                  0441
         TITLE 'IECVRSTI - ACR PROCESSING ROUTINE'
*/***************************************************************  0442
**       THE FOLLOWING CODE GETS CONTROL IF AN ACR CALL TO I/O     0442
**       RESTART IS MADE.                                          0442
**       IF THE CHANNEL RECONFIGURATION HARDWARE IS AVAILABLE  @Y30CQLF
**       AN ATTEMPT WILL BE MADE TO ACTIVATE CRH. IF CRH IS    @Y30CQLF
**       UNABLE TO ACTIVATE OR CRH IS NOT AVAILABLE, NORMAL    @Y30CQLF
**       ACR PROCESSING WILL BE PERFORMED.                     @Y30CQLF
**       THE FIRST SECTION OF ACR CODE GETS A RESERVE TABLE AND    0442
**       INITIALIZES THE I/O TERMINATED MESSAGE IN THE MESSAGE     0442
**       BUFFER.                                                   0442
***************************************************************      */
*                                                                  0442
*ACRPROC:                                                          0442
*   ;                                                              0442
ACRPROC  DS    0H                                                  0443
*   RFY                                                            0443
*    (REG1,                                                        0443
*     REG11,                                                       0443
*     REG13,                                                       0443
*     REG15) RSTD;                                                 0443
*   REG13=WSACRSTI;                 /* GET RESTART SAVE AREA         */
         L     @14,PSALCCAV                                        0444
         L     @14,LCCACPUS(,@14)                                  0444
         L     REG13,WSACRSTI(,@14)                                0444
*/*****  CHANNEL RECONFIGURATION HARDWARE (CRH) SUPPORT  *** @Y30CQLF*/
*/* CHECK WHETHER THE CHANNEL RECONFIGURATION HARDWARE       @Y30CQLF*/
*/* ROUTINE (IECVCRHA) HAS BEEN SYSGENED. THE CRH FUNCTION   @Y30CQLF*/
*/* IS AVAILABLE ONLY ON A 168MP SYSGENED SYSTEM AND THE     @Y30CQLF*/
*/* ACTIVATION ROUTINE WILL VERIFY THAT WE ARE RUNNING ON A  @Y30CQLF*/
*/* 168MP.                                                   @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*                                                                  0445
*   IF(IOXCRHA^=ZERO)&(PCCACPID(9:12)=CPU168)                      0445
*                                                                  0445
*   /*****************************************************************/
*   /*                                                               */
*   /* CRH FUNCTION AVAILABLE ?                              @Y30CQLF*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0445
*     THEN                                                         0445
         L     @14,IORSIOCM(,REG8)                                 0445
         L     @14,IOCOMEX(,@14)                                   0445
         ICM   @12,15,IOXCRHA(@14)                                 0445
         BZ    @RF00445                                            0445
         L     @14,PSAPCCAV                                        0445
         CLC   PCCACPID+8(4,@14),CPU168                            0445
         BNE   @RF00445                                            0445
*     DO;                           /* YES                   @Y30CQLF*/
*       RESETCPU=ON1;               /* INDICATE CPU RESET REQUEST FOR
*                                      SIGP                  @Y30CQLF*/
         OI    RESETCPU(REG8),B'00000100'                          0447
*       CALL SIGPRTN;               /* ISSUE SIGP CPU RESET TO PUT 0448
*                                      DEAD CPU IN STOPPED STATE   0448
*                                                            @Y30CQLF*/
         BAL   @14,SIGPRTN                                         0448
*       IF IORCC3=ON1 THEN          /* IF CC=3 DO NOT ACTIVATE     0449
*                                                            @OZ06051*/
         TM    IORCC3(REG8),B'00000010'                            0449
         BO    @RT00449                                            0449
*         GOTO RSTSIGPF;            /* CRH,NORMAL ACR        @OZ06051*/
*       REG15=IOXCRHA;              /* PICK UP ADDRESS OF ACTIVATION
*                                      ROUTINE               @Y30CQLF*/
         L     @12,IORSIOCM(,REG8)                                 0451
         L     @12,IOCOMEX(,@12)                                   0451
         L     REG15,IOXCRHA(,@12)                                 0451
*       CALL CRHA;                  /* ACTIVATE CRH          @Y30CQLF*/
         BALR  @14,@15                                             0452
*       IF REG15=ZERO×              /* CRH ACTIVATED ?       @Y30CQLF*/
*           REG15=FOUR              /* OR ALREADY ACTIVE ?@Y30CQLF   */
*         THEN                                                     0453
         LTR   REG15,REG15                                         0453
         BZ    @RT00453                                            0453
         CH    REG15,@CH00036                                      0453
         BE    @RT00453                                            0453
*         GOTO IORSEND;             /* YES-RETURN TO ACR     @Y30CQLF*/
*       ELSE                                                       0455
*         ;                         /* NO-CONTINUE           @Y30CQLF*/
*     END;                          /*                       @Y30CQLF*/
*RSTSIGPF:                                                         0457
*   IORCC3=OFF1;                    /* TURN OFF CC=3         @OZ06051*/
@RF00445 DS    0H                                                  0457
RSTSIGPF DS    0H                                                  0458
*   RESETCPU=OFF1;                  /* ENSURE FLAG OFF IN CASE SIGP
*                                      IPR IS REQUIRED               */
         NI    IORCC3(REG8),B'11111001'                            0458
*   REG11=GET160;                   /* SET TO GET RESV TABL          */
         L     REG11,@CF03037                                      0459
*   REG15=IOCORMGT;                 /* GET ENTRY ADDRESS             */
         L     @12,IORSIOCM(,REG8)                                 0460
         L     REG15,IOCORMGT(,@12)                                0460
*   CALL SMGRGB;                    /* GET 160 BYTE BLOCK            */
         BALR  @14,@15                                             0461
*   BLKCHAIN=REG11;                 /* SET UP CHN PTR TO TBL         */
         ST    REG11,BLKCHAIN(,REG8)                               0462
*   RSVTBLPT=REG11;                 /* SET TABLE POINTER             */
         ST    REG11,RSVTBLPT(,REG8)                               0463
*   RFY                                                            0464
*    (REG1,                                                        0464
*     REG13,                                                       0464
*     REG15) UNRSTD;                                               0464
*   REG11->RSVTBL=REG11->RSVTBL&&REG11->RSVTBL;/* CLEAR THE TABLE    */
         XC    RSVTBL(160,REG11),RSVTBL(REG11)                     0465
*   REG11->ENTCNT=ONE;              /* SET CNTR OF TBL ENT           */
         MVC   ENTCNT(4,REG11),@CF00039                            0466
*   RFY                                                            0467
*    (REG11) UNRSTD;                                               0467
*   MSG004(ONE:LENGTH(MSG004))=IEA004I(ONE:LENGTH(MSG004));/*      0468
*                                      INITIALIZE MSG 004            */
         LA    @12,8                                               0468
         AL    @12,MESSPTR(,REG8)                                  0468
         MVC   MSG004(88,@12),IEA004I                              0468
*   MSG004(TWENTY:FIFTY1)=BLANK1;   /* BLANK OUT DEV NAMES           */
         MVI   MSG004+20(@12),C' '                                 0469
         MVC   MSG004+21(30,@12),MSG004+20(@12)                    0469
         MVI   MSG004+19(@12),C' '                                 0469
*   TBLPTR=CVTILK2;                 /* POINT TO THE UCB TBL          */
         L     @12,CVTPTR                                          0470
         MVC   TBLPTR(4,REG8),CVTILK2(@12)                         0470
*   OFFIND=OFF1;                    /* SET OFFLINE RESERVE         0471
*                                      ENCOUNTERED INDICATOR OFF     */
         NI    OFFIND(REG8),B'11110111'                            0471
*                                                                  0472
*/********************************************************** @Y30LPLC*/
*/*      SS1 SUPPORT:                                        @Y30LPLC*/
*/*      IF AN ACR EVENT OCCURS, SS1 MUST BE NOTIFIED. SS1   @Y30LPLC*/
*/*      HAS POINTERS TO AN SRB AND A ROUTINE TO HANDLE      @Y30LPLC*/
*/*      THIS SITUATION IN ITS SSCB CONTROL BLOCK. THE       @Y30LPLC*/
*/*      FOLLOWING INSTRUCTIONS ZERO THE SRB, AND FILL       @Y30LPLC*/
*/*      IN THE FOLLOWING FIELDS IN THE SRB: SRBASCB,        @Y30LPLC*/
*/*      SRBEP, AND SRBPRIOR.                                @Y30LPLC*/
*/********************************************************** @Y30LPLC*/
*                                                                  0472
*   IF CVTICB^=ZERO THEN                                           0472
         L     @12,CVTEXT2(,@12)                                   0472
         L     @12,CVTICB(,@12)                                    0472
         LTR   @12,@12                                             0472
         BZ    @RF00472                                            0472
*     DO;                           /* SS1 IN SYSTEM         @Y30LPLC*/
*       RFY                                                        0474
*        (REG1) RSTD;               /*                       @Y30LPLC*/
*       RFY                                                        0475
*         SRBSECT BASED(REG1);      /* BASE SRB ON REG 1     @Y30LPLC*/
*       REG1=ICBSRBP;               /* SET UP SRB BASE       @Y30LPLC*/
         L     REG1,ICBSRBP(,@12)                                  0476
*       SRBEP=ICBIORCI;             /* SS1 CODE EP           @Y30LPLC*/
         MVC   SRBEP(4,REG1),ICBIORCI(@12)                         0477
*       SRBASCB=ADDR(IEAMASCB);     /* MASTER SCHEDULER      @Y30LPLC
*                                      ASCB.                 @Y30LPLC*/
         L     @12,@CV03191                                        0478
         ST    @12,SRBASCB(,REG1)                                  0478
*       SRBPRIOR=0;                 /* PRIORITY-SYSTEM       @Y30LPLC*/
         MVI   SRBPRIOR(REG1),X'00'                                0479
*       GEN( SCHEDULE SRB=(REG1),SCOPE=GLOBAL);/* SS1 SRB    @Y30LPLC*/
          SCHEDULE SRB=(REG1),SCOPE=GLOBAL
*     END;                                                         0481
*                                                                  0481
*/********************************************************** @G552PLM*/
*/*      CHECK ALL DEVICES IN SYSTEM TO DETERMINE WHICH      @G552PLM*/
*/*      REQUIRE I/O RESTART PROCESS BECAUSE OF THE LOSS     @G552PLM*/
*/*      OF A CPU.                                           @G552PLM*/
*/********************************************************** @G552PLM*/
*                                                                  0482
*   UCBPTR=UCBPT;                   /* GET PTR TO 1ST UCB    @G552PLM*/
@RF00472 L     @12,TBLPTR(,REG8)                                   0482
         SLR   UCBPTR,UCBPTR                                       0482
         ICM   UCBPTR,3,UCBPT(@12)                                 0482
*   DO WHILE UCBPTR^=TABLEND;       /* INDEX THRU ALL UCB    @G552PLM*/
         B     @DE00483                                            0483
@DL00483 DS    0H                                                  0484
*     IF UCBPTR^=ZERO THEN          /* IF UCB EXISTS         @G552PLM*/
         LTR   UCBPTR,UCBPTR                                       0484
         BZ    @RF00484                                            0484
*       DO;                                                        0485
*         CALL UCBACT;              /* PROCESS DEVICE        @G552PLM*/
         BAL   @14,UCBACT                                          0486
*       END;                                                       0487
*     ELSE                                                         0488
*       ;                                                          0488
@RF00484 DS    0H                                                  0489
*     TBLPTR=TBLPTR+TWO;            /* UP LOOKUP TAB INDX    @G552PLM*/
         LA    @12,2                                               0489
         AL    @12,TBLPTR(,REG8)                                   0489
         ST    @12,TBLPTR(,REG8)                                   0489
*     UCBPTR=UCBPT;                 /* PTR TO NEXT UCB       @G552PLM*/
         SLR   UCBPTR,UCBPTR                                       0490
         ICM   UCBPTR,3,UCBPT(@12)                                 0490
*   END;                                                           0491
@DE00483 C     UCBPTR,@CF03012                                     0491
         BNE   @DL00483                                            0491
*                                                                  0492
*/***************************************************************  0492
**       IF THE END OF THE TABLE HAS BEEN REACHED THE MESSAGE      0492
**       BUFFER IS PURGED IF NECESSARY, AND A CHECK IS MADE TO     0492
**       DETERMINE IF THE RESERVE TABLE HAS ANY VALID ENTRIES.     0492
**       IF NO ENTRIES ARE FOUND AN I/O RESET (SIGP) IS ISSUED     0492
**       TO THE BAD CPU TO CLEAR ANY CONNECTION WITH ACTIVE        0492
**       DEVICES AND CONTROL IS RETURNED TO ACR.                   0492
**       IF THE RESERVE TABLE DOES HAVE VALID ENTRIES THIS CODE    0492
**       CALLS THE WAIT ROUTINE TO PUT THE SYSTEM INTO A 041       0492
**       WAIT STATE. AFTER DOING THIS THE I/O RESET (SIGP) IS      0492
**       ISSUED TO THE BAD CPU.                                    0492
***************************************************************      */
*                                                                  0492
*   IF MSGENT>ONE                   /* IS THERE SOMETHING IN THE   0492
*                                      MESSAGE BUFFER                */
*     THEN                                                         0492
         L     @12,MESSPTR(,REG8)                                  0492
         CLC   MSGENT(2,@12),@CH00039                              0492
         BNH   @RF00492                                            0492
*     CALL RECORDIT;                /* YES - OUTPUT IT GO RECORD   0493
*                                      MESSAGE                       */
         BAL   @14,RECORDIT                                        0493
*   ELSE                                                           0494
*     ;                                                            0494
@RF00492 DS    0H                                                  0495
*   PASSIND=OFF1;                   /* SET PASS INDICATOR TO FIRST 0495
*                                      PASS                          */
         NI    PASSIND(REG8),B'01111111'                           0495
*   IF(ENTCNT=ONE&RCHAIN=ZERO)      /* IS TABLE EMPTY                */
*     THEN                                                         0496
         L     @12,RSVTBLPT(,REG8)                                 0496
         CLC   ENTCNT(4,@12),@CF00039                              0496
         BNE   @RF00496                                            0496
         ICM   @11,15,RCHAIN(@12)                                  0496
         BNZ   @RF00496                                            0496
*     DO;                           /* YES - CLEAR OTHER CPU         */
*       CALL SIGPRTN;               /* I/O RESET TO DOWN CPU         */
         BAL   @14,SIGPRTN                                         0498
*       GO TO IORSEND;              /* CLEAN UP AND RETURN           */
         B     IORSEND                                             0499
*     END;                                                         0500
*   ELSE                                                           0501
*     ;                                                            0501
@RF00496 DS    0H                                                  0502
*   RFY                                                            0502
*    (REG0) RSTD;                                                  0502
*   ENT(ENTCNT)=ENT(ENTCNT)&&ENT(ENTCNT);/* ZERO THE RESIDUAL ENT    */
         L     @12,RSVTBLPT(,REG8)                                 0503
         L     @11,ENTCNT(,@12)                                    0503
         SLA   @11,3                                               0503
         ALR   @12,@11                                             0503
         XC    ENT-8(8,@12),ENT-8(@12)                             0503
*   REG0=FORTY1;                    /* SET WAIT CODE                 */
         LA    REG0,65                                             0504
*   CALL WAITRTN;                   /* GO TO WAIT RNT IFACE          */
         BAL   @14,WAITRTN                                         0505
*   RFY                                                            0506
*    (REG0) UNRSTD;                                                0506
*   CALL SIGPRTN;                   /* I/O RESET TO DOWN CPU         */
         BAL   @14,SIGPRTN                                         0507
*                                                                  0508
*/***************************************************************  0508
**       THE FOLLOWING CODE IS ENTERED AFTER THE I/O RESET HAS     0508
**       TAKEN PLACE. IT SETS THE WORK AREA RESERVE TABLE          0508
**       POINTER TO POINT TO THE FIRST RESERVE TABLE AND SETS      0508
**       THE TABLE INDEX TO PROCESS THE FIRST ENTRY.               0508
***************************************************************      */
*                                                                  0508
*RERESV:                                                           0508
*   ;                                                              0508
RERESV   DS    0H                                                  0509
*   RSVTBLPT=BLKCHAIN;              /* SET RESERVE TABLE PTR TO FIRST
*                                      ENTRY                         */
         L     @12,BLKCHAIN(,REG8)                                 0509
         ST    @12,RSVTBLPT(,REG8)                                 0509
*   ENTCNT=ONE;                     /* SET FOR FIRST ENT             */
         MVC   ENTCNT(4,@12),@CF00039                              0510
*   RFY                                                            0511
*    (REG4) RESTRICTED;                                            0511
*                                                                  0511
*/***************************************************************  0512
**       THIS CODE PROCESSES THE RESERVE TABLE.                    0512
**       FOR ONLINE RESERVE ENTRIES CONTROL IS PASSED TO THE       0512
**       RESERVE ROUTINE.                                          0512
**       FOR OFFILNE RESERVE ENTRIES IF THIS IS THE FIRST (ONLINE  0512
**       RESERVE) PASS THE ENTRY IS IGNORED. IF THIS IS THE        0512
**       SECOND (OFFLINE RESERVE) PASS THE ENTRY IS PROCESSED      0512
**       AS A NORMAL RESERVE. AS OFFLINE RESERVES ARE ENCOUNTERED  0512
**       A FLAG INDICATING OFFLINE RESERVES PRESENT IS SET AND     0512
**       USED TO DETERMINE IF A SECOND PASS IS NECESSARY AFTER     0512
**       THE ONLINE RESERVE PASS.(WHETHER A 042 WAIT SHOULD BE     0512
**       ISSUED.)                                                  0512
**       IF THE ENTRY IS ZERO THE TABLE IS UPPED TO THE NEXT       0512
**       ENTRY.                                                    0512
**       WHEN ALL ENTRIES HAVE BEEN PROCESSED THE TABLE IS         0512
**       CHECKED TO SEE THAT ALL ENTRIES ARE ZERO. IF SO           0512
**       NORMAL TERMINATION TAKES PLACE, OTHERWISE A 043 HARD      0512
**       WAIT IS ENTERED.                                          0512
***************************************************************      */
*                                                                  0512
*CKOFF:                                                            0512
*   IF ENT(ENTCNT,ONE:TWO)=ZERO     /* IS THIS A NULL ENTRY          */
*     THEN                                                         0512
CKOFF    L     @12,RSVTBLPT(,REG8)                                 0512
         L     @11,ENTCNT(,@12)                                    0512
         SLA   @11,3                                               0512
         ALR   @11,@12                                             0512
         SLR   @06,@06                                             0512
         ICM   @06,3,ENT-8(@11)                                    0512
         LTR   @06,@06                                             0512
         BZ    @RT00512                                            0512
*     GO TO UPNXT1;                 /* YES - GET NEXT ENRTY          */
*   ELSE                                                           0514
*     DO;                           /* NO - PROCESS THIS INT         */
*       UCBPTR=ENTUCB(EVAL(ENTCNT));/* SET UP UCB POINTER            */
         L     @11,ENTCNT(,@12)                                    0515
         SLA   @11,3                                               0515
         L     UCBPTR,ENTUCB-8(@11,@12)                            0515
*       IF ROFFLINE(EVAL(ENTCNT))=ON1/* IS THIS AN OFFLINE ENTRY     */
*         THEN                                                     0516
         ALR   @12,@11                                             0516
         TM    ROFFLINE-8(@12),B'10000000'                         0516
         BNO   @RF00516                                            0516
*         DO;                       /* YES CHECK FIRST PASS          */
*           OFFIND=ON1;             /* SET OFFLINE RESERVE         0518
*                                      ENCOUNTERED INDICATOR         */
         OI    OFFIND(REG8),B'00001000'                            0518
*           IF PASSIND=OFF1         /* IS THIS FIRST PASS            */
*             THEN                                                 0519
         TM    PASSIND(REG8),B'10000000'                           0519
         BNZ   @RF00519                                            0519
*             DO;                   /* YES-UPDATE TABLE INDX         */
*UPNXT1:                                                           0521
*               ENTCNT=ENTCNT+ONE;  /* INCR ENTCNT                   */
UPNXT1   L     @12,RSVTBLPT(,REG8)                                 0521
         LA    @11,1                                               0521
         AL    @11,ENTCNT(,@12)                                    0521
         ST    @11,ENTCNT(,@12)                                    0521
*               IF ENTCNT=ENTMAX+ONE/* LAST ENTRY IN TABLE           */
*                 THEN                                             0522
         CH    @11,@CH01699                                        0522
         BNE   @RF00522                                            0522
*                 DO;                                              0523
*                   IF RCHAIN=ZERO  /* LAST TABLE IN CHAIN           */
*                     THEN                                         0524
         ICM   @11,15,RCHAIN(@12)                                  0524
         BNZ   @RF00524                                            0524
*                     DO;                                          0525
*                       IF PASSIND=OFF1/* IS THIS FIRST PASS         */
*                         THEN                                     0526
         TM    PASSIND(REG8),B'10000000'                           0526
         BNZ   @RF00526                                            0526
*                         DO;                                      0527
*                           IF OFFIND=OFF1/* WAS AN OFFLINE RESV   0528
*                                      ENCOUNTERED                   */
*                             THEN                                 0528
         TM    OFFIND(REG8),B'00001000'                            0528
         BZ    @RT00528                                            0528
*                             GO TO TBLCK0;/* NO - GET OUT           */
*                           ELSE                                   0530
*                             ;     /* YES-SET 042 WAIT              */
*                           RFY                                    0531
*                            (REG0) RSTD;                          0531
*                           REG0=FORTY2;/* SET WAIT CODE             */
         LA    REG0,66                                             0532
*                           CALL WAITRTN;/* GO TO WAIT RTN IFACE     */
         BAL   @14,WAITRTN                                         0533
*                           RFY                                    0534
*                            (REG0) UNRSTD;                        0534
*                           PASSIND=ON1;/* SET SECOND PASS           */
         OI    PASSIND(REG8),B'10000000'                           0535
*                           GO TO RERESV;/* PROCESS OFFLINE RESVS    */
         B     RERESV                                              0536
*                         END;                                     0537
*                       ELSE                                       0538
*                         DO;       /* INSURE ALL ENTS 0             */
@RF00526 DS    0H                                                  0539
*TBLCK0:                                                           0539
*                           RSVTBLPT=BLKCHAIN;/* RESET RESERVE TBL 0539
*                                      PTR                           */
TBLCK0   MVC   RSVTBLPT(4,REG8),BLKCHAIN(REG8)                     0539
*TBLCK:                                                            0540
*                           IF((ENTRIES(ONE:ONE)=ZERO)&(ENTRIES(ONE:
*                               ONE51)=ENTRIES(TWO:ONE52)))/* ARE ALL
*                                      ENTRIES ZERO SECOND PASS    0540
*                                      PROCESS                       */
*                             THEN                                 0540
TBLCK    SLR   @12,@12                                             0540
         L     @11,RSVTBLPT(,REG8)                                 0540
         SLR   @06,@06                                             0540
         IC    @06,ENTRIES(,@11)                                   0540
         CR    @12,@06                                             0540
         BNE   @RF00540                                            0540
         CLC   ENTRIES(151,@11),ENTRIES+1(@11)                     0540
         BNE   @RF00540                                            0540
*                             DO;   /* YES - TRY NEXT TBL            */
*                               RSVTBLPT=RCHAIN;/* SET TO NEXT TABLE */
         L     @11,RCHAIN(,@11)                                    0542
         ST    @11,RSVTBLPT(,REG8)                                 0542
*                               IF RSVTBLPT=ZERO/* LAST ENTRY        */
*                                 THEN                             0543
         CR    @11,@12                                             0543
         BE    @RT00543                                            0543
*                                 GO TO IORSEND;/* FINISHED - RETURN
*                                      TO ACR                        */
*                               ELSE                               0545
*                                 GO TO TBLCK;/* CONTINUE TABLE SCAN
*                                      FOR NON-ZERO ENTS             */
         B     TBLCK                                               0545
*                             END;                                 0546
*                           ELSE                                   0547
*                             GO TO HARDWAIT;/* PUT SYSTEM INTO A  0547
*                                      HARD WAIT STATE (043)         */
*                         END;                                     0548
*                     END;                                         0549
*                   ELSE                                           0550
*                     DO;                                          0550
@RF00524 DS    0H                                                  0551
*                       RSVTBLPT=RCHAIN;/* GET NEXT TABLE            */
         L     @12,RSVTBLPT(,REG8)                                 0551
         L     @12,RCHAIN(,@12)                                    0551
         ST    @12,RSVTBLPT(,REG8)                                 0551
*                       ENTCNT=ONE; /* SET FOR FIRST ENT             */
         MVC   ENTCNT(4,@12),@CF00039                              0552
*                       GO TO CKOFF;/* CHECK ENTS IN TABLE           */
         B     CKOFF                                               0553
*                     END;                                         0554
*                 END;                                             0555
*               ELSE                                               0556
*                 GO TO CKOFF;      /* NOT LAST ENT CK NEXT          */
*             END;                                                 0557
*           ELSE                                                   0558
*             ;                                                    0558
@RF00519 DS    0H                                                  0559
*         END;                                                     0559
*       ELSE                                                       0560
*         ;                                                        0560
@RF00516 DS    0H                                                  0561
*     END;                                                         0561
*                                                                  0561
*/***************************************************************  0562
**       THIS CODE DOES THE ACTUAL RESERVE FOR ENTRIES IN THE      0562
**       RESERVE TABLE. AFTER ISSUING THE SIO FOR THE RESERVE      0562
**       ONE OF SEVERAL ROUTINES IS ENTERED TO HANDLE THE          0562
**       PRESENTED CONDITION CODE.                                 0562
***************************************************************      */
*                                                                  0562
*RESVIT:                                                           0562
*   ;                                                              0562
RESVIT   DS    0H                                                  0563
*   GEN;                                                           0563
         LRA   4,RESRVCCW              LOAD REAL ADDR OF CCW
*   CALL IGFPSAD0;                  /* OBTAIN AUTHORIZATION  @G51BPLC*/
         L     @15,@CV03195                                        0564
         BALR  @14,@15                                             0564
*   FLCCAW=REG4;                    /* SET CCW ADDR AND KEY OF ZERO
*                                                            @G51BPLC*/
         ST    REG4,FLCCAW                                         0565
*   CALL IGFPSAE0;                  /* RELEASE AUTHORIZATION @G51BPLC*/
         L     @15,@CV03196                                        0566
         BALR  @14,@15                                             0566
*   TIOCNTR=ZERO;                   /* INITIALIZE TIO COUNT          */
         SLR   @12,@12                                             0567
         STH   @12,TIOCNTR(,REG8)                                  0567
*   REG4=ENT(ENTCNT,ONE:TWO)&ORMASK;/* SET DEV ADDR IN REG   @YM04703
*                                      FOR USE IN RESERVE            */
         L     @12,RSVTBLPT(,REG8)                                 0568
         L     @11,ENTCNT(,@12)                                    0568
         SLA   @11,3                                               0568
         LA    REG4,4095                                           0568
         ALR   @12,@11                                             0568
         SLR   @11,@11                                             0568
         ICM   @11,3,ENT-8(@12)                                    0568
         NR    REG4,@11                                            0568
*RESVSIO:                                                          0569
*   ;                                                              0569
RESVSIO  DS    0H                                                  0570
*   GEN( SIO   0(4) );              /* ISSUE THE RESERVE             */
          SIO   0(4)
*   BC(4,CKSTAT1);                  /* CC=1 CHECK STATUS             */
         BC    4,CKSTAT1                                           0571
*   BC(2,CHBSY);                    /* CC=2 GO ENABLE CHAN           */
         BC    2,CHBSY                                             0572
*   BC(1,ROFFCK);                   /* CC=3 INOP-HARDWAIT CC=0 BRING
*                                      IN INT                        */
         BC    1,ROFFCK                                            0573
*/***************************************************************  0574
**       THIS CODE IS ENTERED BY DEFAULT WHEN A CC0 RESPONSE IS    0574
**       MADE TO THE SIO FOR THE RESERVE. IT ATTEMPTS TO BRING     0574
**       IN THE INTERRUPT WITH A TIO LOOP. CC0 OR CC3 RESPONSE     0574
**       OR THE FAILURE OF THE DEVICE TO STORE STATUS BEFORE THE   0574
**       LOOP ENDS IS CONSIDERED AN ERROR AND AN 043 WAIT IS       0574
**       ENTERED. CC1 CAUSES A STATUS CHECKING ROUTINE TO GET      0574
**       CONTROL.                                                  0574
***************************************************************      */
*                                                                  0574
*TESTIT:                                                           0574
*   ;                                                              0574
TESTIT   DS    0H                                                  0575
*   GEN( TIO   0(4) );              /* TIO DEVICE                    */
          TIO   0(4)
*   BC(9,HARDWAIT);                 /* CC=3 OR CC=0 HARDWAIT         */
         BC    9,HARDWAIT                                          0576
*   BC(4,CKSTAT);                   /* CC=1 CHECK STATUS             */
         BC    4,CKSTAT                                            0577
*/*************                                                    0578
**       TIO LOOP COUNT                                            0578
*************                                                        */
*                                                                  0578
*TMLOOP:                                                           0578
*   TIOCNTR=TIOCNTR+ONE;            /* INCREMENT TIO CNT             */
TMLOOP   LA    @12,1                                               0578
         AH    @12,TIOCNTR(,REG8)                                  0578
         STH   @12,TIOCNTR(,REG8)                                  0578
*   IF TIOCNTR<TIOMAX               /* HAS THE INTERRUPT FOR THE   0579
*                                      RESERVE TAKEN TOO LONG        */
*     THEN                                                         0579
         CH    @12,@CH03022                                        0579
         BL    @RT00579                                            0579
*     GO TO TESTIT;                 /* NO - CONTINUE TO TRY TO BRING
*                                      IN INTERRUPT                  */
*   ELSE                                                           0581
*     ;                             /* YES - FALL INTO HARD WAIT   0581
*                                      ROUTINE                       */
*/***************************************************************  0582
**       THIS ROUTINE PUTS THE SYSTEM INTO A HARD 043 WAIT STATE   0582
**       DUE TO SOME FAILURE IN RESERVE PROCESSING FOR AN ACR      0582
**       I/O RESTART ENTRY.                                        0582
***************************************************************      */
*                                                                  0582
*HARDWAIT:                                                         0582
*   ;                                                              0582
HARDWAIT DS    0H                                                  0583
*   RFY                                                            0583
*    (REG0) RSTD;                                                  0583
*   REG0=FORTY3;                    /* SET HARDWAIT CODE             */
         LA    REG0,67                                             0584
*   CALL WAITRTN;                   /* GO TO WAIT RTN IFACE          */
         BAL   @14,WAITRTN                                         0585
*   GO TO HARDWAIT;                 /* STAY IN HARDWAIT LOOP         */
         B     HARDWAIT                                            0586
*   RFY                                                            0587
*    (REG0) UNRSTD;                                                0587
*                                                                  0588
*/***************************************************************  0588
**       THIS SECTION HANDLES STATUS TAKEN AS CC1 TO THE SIO FOR   0588
**       THE RESERVE CCW. IF CHANNEL ERRORS ARE PRESENT THE        0588
**       HARDWAIT ROUTINE IS ENTERED OTHERWISE THE RESERVE IS      0588
**       RETRIED.                                                  0588
***************************************************************      */
*                                                                  0588
*CKSTAT1:                                                          0588
*   IF(STATUS&ENDSTAT)=ZERO         /* BAD STATUS - OTHER THAN CE DE
*                                      WLR UC UE                     */
*     THEN                                                         0588
CKSTAT1  SLR   @12,@12                                             0588
         ICM   @12,3,ENDSTAT                                       0588
         SLR   @11,@11                                             0588
         ICM   @11,3,STATUS                                        0588
         NR    @12,@11                                             0588
         LTR   @12,@12                                             0588
         BZ    @RT00588                                            0588
*     GO TO RESVSIO;                /* STATUS GOOD - RETRY THE     0589
*                                      RESERVE                       */
*   ELSE                                                           0590
*     GO TO HARDWAIT;               /* BAD STAT WAIT SYSTEM          */
         B     HARDWAIT                                            0590
*/***************************************************************  0591
**       THIS CODE GETS CONTROL ON CC1 TO THE TIO AFTER THE        0591
**       RESERVE SIO HAS BEEN ISSUED. IT ASSUMES THAT THE RESERVE  0591
**       COMPLETED SUCCESSFULLY REGARDLESS OF STATUS AND SETS      0591
**       UP THE LAST PATH STARTED FIELDS IN THE UCB.               0591
**       IT ALSO BUILDS AN OFFLINE RESERVE MESSAGE IF THE          0591
**       RESERVE WAS DONE TO A DEVICE WHICH IS OFFLINE FROM THIS   0591
**       CPU.                                                      0591
***************************************************************      */
*                                                                  0591
*CKSTAT:                                                           0591
*   ;                                                              0591
CKSTAT   DS    0H                                                  0592
*   UCBRESVH=ON1;                   /* SET DEV RESERVED              */
         LA    @12,512                                             0592
         ALR   @12,UCBPTR                                          0592
         OI    UCBRESVH(@12),B'00010000'                           0592
*   UCBCPU=PHYSCPU(TWO:TWO);        /* RESET CPU RESERVED            */
         MVC   UCBCPU(1,@12),PHYSCPU+1                             0593
*   UCBCHAN=ENT(ENTCNT,ONE:TWO);    /* SET UP LAST PATH              */
         L     @11,RSVTBLPT(,REG8)                                 0594
         L     @06,ENTCNT(,@11)                                    0594
         SLA   @06,3                                               0594
         ALR   @11,@06                                             0594
         MVC   UCBCHAN(2,@12),ENT-8(@11)                           0594
*   GEN REFS(ENTCNT);                                              0595
*   RFY                                                            0596
*    (REG12) RSTD;                                                 0596
*   IF ROFFLINE(ENTCNT)=ON1         /* IS THIS AN OFFLINE RESERVE    */
*     THEN                                                         0597
         L     @11,RSVTBLPT(,REG8)                                 0597
         L     @06,ENTCNT(,@11)                                    0597
         SLA   @06,3                                               0597
         ALR   @11,@06                                             0597
         TM    ROFFLINE-8(@11),B'10000000'                         0597
         BNO   @RF00597                                            0597
*     DO;                           /* YES - SETUP MESSAGE           */
*       REG12=ADDR(MESSBUF);        /* LOAD MESSAGE BUFFER ADDRESS   */
         L     REG12,MESSPTR(,REG8)                                0599
         LA    REG12,MESSBUF(,REG12)                               0599
*       REG12->MSG005(ONE:LENGTH(MSG005))=IEA005I(ONE:LENGTH(MSG005));
         MVC   MSG005(65,REG12),IEA005I                            0600
*                                   /* SET 05I MESSAGE               */
*       REG12->DEV5(ONE:THREE)=UCBNAME;/* PUT DEV NAME IN MSG        */
         MVC   DEV5(3,REG12),UCBNAME+512(UCBPTR)                   0601
*       GEN REFS(ENTCNT);                                          0602
*       REG12->PATH5(ONE:ONE)=ENT(ENTCNT,ONE:ONE);/* SET PATH IN   0603
*                                      MESSAGE                       */
         L     @11,RSVTBLPT(,REG8)                                 0603
         L     @06,ENTCNT(,@11)                                    0603
         SLA   @06,3                                               0603
         ALR   @11,@06                                             0603
         MVC   PATH5(1,REG12),ENT-8(@11)                           0603
*       IF REG12->PATH5(ONE:ONE)>NUMERIC9/* IS THIS A CHAN > 9       */
*         THEN                                                     0604
         CLI   PATH5(REG12),X'89'                                  0604
         BNH   @RF00604                                            0604
*         REG12->PATH5=(REG12->PATH5-NUMERIC9)×CHARMASK;/* YES - SET
*                                      CHARACTER                     */
         SLR   @11,@11                                             0605
         IC    @11,PATH5(,REG12)                                   0605
         SH    @11,@CH03026                                        0605
         O     @11,@CF03028                                        0605
         STC   @11,PATH5(,REG12)                                   0605
*       ELSE                                                       0606
*         REG12->PATH5=REG12->PATH5×NUMERMSK;/* NO - SET NUMERIC     */
         B     @RC00604                                            0606
@RF00604 OI    PATH5(REG12),X'F0'                                  0606
*       REG12->CPU5(ONE:ONE)=PHYSCPU(TWO:TWO)×NUMERMSK;/* SET CPU IN
*                                      MESSAGE SET CPU NO. NUMERIC   */
@RC00604 MVC   CPU5(1,REG12),PHYSCPU+1                             0607
         OI    CPU5(REG12),X'F0'                                   0607
*       CALL RECORDIT;              /* CALL MSG WRITER               */
         BAL   @14,RECORDIT                                        0608
*     END;                                                         0609
*   ELSE                                                           0610
*     ;                                                            0610
@RF00597 DS    0H                                                  0611
*   GEN REFS(ENTCNT);                                              0611
*   ENT(ENTCNT)=ENT(ENTCNT)&&ENT(ENTCNT);/*                  @YM01377
*                                      RESERVE SUCCESSFUL ZERO THIS
*                                      ENT                           */
         L     @11,RSVTBLPT(,REG8)                                 0612
         L     @06,ENTCNT(,@11)                                    0612
         SLA   @06,3                                               0612
         ALR   @11,@06                                             0612
         XC    ENT-8(8,@11),ENT-8(@11)                             0612
*   GO TO UPNXT1;                   /* TRY THE NEXT ENTRY            */
         B     UPNXT1                                              0613
*   RFY                                                            0614
*    (REG4) UNRSTD;                                                0614
*                                                                  0615
*/***************************************************************  0615
**       THIS SECTION OF CODE RECEIVES CONTROL IF THE PATH ON      0615
**       WHICH THE RESERVE WAS ATTEMPTED DOES NOT EXIST (CC3).     0615
**       IF THIS IS A RESERVE OF AN ONLINE DEVICE THE 043 WAIT     0615
**       IS INVOKED. IF THIS IS AN OFFLINE RESERVE ATTEMPT ALL     0615
**       POSSIBLE PATHS TO THE DEVICE WILL BE TRIED AND THE WAIT   0615
**       WILL BE INVOKED ONLY IF ALL PATHS PRESENT CC3.            0615
***************************************************************      */
*                                                                  0615
*ROFFCK:                                                           0615
*   IF ROFFLINE(ENTCNT)=OFF1        /* IS THIS AN OFFLINE            */
*     THEN                                                         0615
ROFFCK   L     @11,RSVTBLPT(,REG8)                                 0615
         L     @06,ENTCNT(,@11)                                    0615
         SLA   @06,3                                               0615
         ALR   @11,@06                                             0615
         TM    ROFFLINE-8(@11),B'10000000'                         0615
         BZ    @RT00615                                            0615
*     GO TO HARDWAIT;               /* NO - ERROR - HARDWAIT         */
*   ELSE                                                           0617
*     DO;                           /* YES SEE IF OTHER PATH POSSIBLE*/
*       CALL IOSGIFAC;              /* DO PATH MAP                   */
         BAL   @14,IOSGIFAC                                        0618
*IOSGRTN2:                                                         0619
*       ;                           /* IOSGEN RETURN                 */
IOSGRTN2 DS    0H                                                  0620
*       PATH2=PATH2×HIBIT;          /* SET HI ORDER BIT ON FOR     0620
*                                      COMPARE                       */
         OC    PATH2(2,REG8),@CB03065                              0620
*       IF ENT(ENTCNT,ONE:TWO)=PATH2/* IS THIS THE SECOND OR ONLY  0621
*                                      PATH                          */
*         THEN                                                     0621
         L     @11,RSVTBLPT(,REG8)                                 0621
         L     @06,ENTCNT(,@11)                                    0621
         SLA   @06,3                                               0621
         ALR   @06,@11                                             0621
         CLC   ENT-8(2,@06),PATH2(REG8)                            0621
         BE    @RT00621                                            0621
*         GO TO HARDWAIT;           /* YES - THEN HARDWAIT           */
*       ELSE                                                       0623
*         ;                         /* NO - FIRST PATH BAD           */
*       ENT(EVAL(ENTCNT),ONE:TWO)=PATH2;/* SET TO TRY SEC PATH       */
         L     @06,ENTCNT(,@11)                                    0624
         SLA   @06,3                                               0624
         ALR   @11,@06                                             0624
         MVC   ENT-8(2,@11),PATH2(REG8)                            0624
*       GO TO RESVIT;               /* GO ATTEMPT TO RESERVE ON    0625
*                                      SECOND PATH                   */
         B     RESVIT                                              0625
*     END;                                                         0626
*                                                                  0627
*/***************************************************************  0627
**       THE FOLLOWING SECTION GETS CONTROL IF THE CHANNEL         0627
**       PRESENTS BUSY TO THE RESERVE SIO. IN THIS CASE THE        0627
**       SYSTEM MUST BE ENABLED TO ALLOW THE CHANNEL TO            0627
**       INTERRUPT BEFORE THE RESERVE WILL BE ACCEPTED.            0627
**       I/O RESTART REPLACES THE SYSTEM I/O NEW PSW WITH A PSW    0627
**       WHICH WILL CAUSE I/O RESTART TO GET CONTROL ON THE        0627
**       INTERRUPT. IT THEN SELECTIVLY ENABLES THE DESIRED         0627
**       CHANNEL AND PASSES THE INTERRUPT ON TO THE I/O SLIH       0627
**       WHEN IT OCCURS. WHEN THE I/O SLIH RETURNS CONTROL         0627
**       AFTER PROCESSING THE INTERRUPT THE RESERVE IS             0627
**       RETRIED.                                                  0627
***************************************************************      */
*                                                                  0627
*CHBSY:                                                            0627
*   IONEWSAV=FLCINPSW(FIVE:EIGHT);  /* SAVE IO NEW ADDR      @G552PLM*/
CHBSY    MVC   IONEWSAV(4,REG8),FLCINPSW+4                         0627
*   CALL IGFPSAD0;                  /* OBTAIN AUTHORIZATION@G51BPLC  */
         L     @15,@CV03195                                        0628
         BALR  @14,@15                                             0628
*   GEN REFS(INTEADDR) SETS(FLCINPSW);                             0629
IECHK6   NOPR  0                       DSS HOOK FOR PSW SWAP
*                                      NEXT INSTR, IMMEDIATELY AFTER
*                                      NOPR, MUST BE MVC TO CHANGE I/O
*                                      NEW PSW. DSS DEPENDENCY.
         MVC   FLCINPSW+4(4),INTEADDR IECVRSTI IS I/O FLIH    @G552PLM'
*   CALL IGFPSAE0;                  /* RELSE AUTHORIZATION   @G51BPLC*/
         L     @15,@CV03196                                        0630
         BALR  @14,@15                                             0630
*   IONEWPSW=ON1;                   /* I/O NEW PSW CHANGED   @YM05487*/
         OI    IONEWPSW(REG8),B'00100000'                          0631
*   GEN CODE;                                                      0632
         STCTL @02,@02,CNTRLSAV(8)    SAVE THE I/O CNTL REG
*   TMCTL(ONE:FOUR)=ZERO;           /* ZERO TEMP CNTRL REG           */
         SLR   @11,@11                                             0633
         ST    @11,TMCTL(,REG8)                                    0633
*   RFY                                                            0634
*    (REG5) RSTD;                                                  0634
*   RFY                                                            0635
*    (REG3) RSTD;                                                  0635
*   REG3=BIT0WORD;                  /* SET HI ORDER BIT IN 4         */
         L     REG3,@CF03077                                       0636
*   REG5=ENT(ENTCNT,ONE:ONE);       /* SET REG 5 WITH THE BUSY     0637
*                                      CHANNEL NUMBER                */
         L     @11,RSVTBLPT(,REG8)                                 0637
         L     @06,ENTCNT(,@11)                                    0637
         SLA   @06,3                                               0637
         SLR   REG5,REG5                                           0637
         IC    REG5,ENT-8(@06,@11)                                 0637
*   GEN( SRL   @03,0(@05)              SHIFT TO PROPER CHANNEL );  0638
          SRL   @03,0(@05)              SHIFT TO PROPER CHANNEL
*   TMCTL=REG3;                     /* SET THAT CHANNEL AS ENABLED IN
*                                      TEMPORARY CONTROL REGISTER    */
         ST    REG3,TMCTL(,REG8)                                   0639
*   RFY                                                            0640
*    (REG3,                                                        0640
*     REG5) UNRSTD;                                                0640
*   GEN CODE(LCTL  @02,@02,TMCTL(8));/* LOAD I/O CONTROL2 REG      0641
*                                                            @YM05487*/
         LCTL  @02,@02,TMCTL(8)
*   CTLREG=ON1;                     /* CONTROL REG CHANGED   @YM05487*/
         OI    CTLREG(REG8),B'00001000'                            0642
*   GEN CODE;                                                      0643
IOENAB   EQU   X'02'                   ENABLE I/O INTS
IODISAB  EQU   X'FD'                   DISABLE I/O INTS
REENABLE STOSM SYSMASK(8),IOENAB       ENABLE BUSY CHANNEL
         STNSM SYSMASK(8),IODISAB      DISABLE SYSTEM FOR I/O
         B     REENABLE                LOOP ENABLE DISABLE
*                                                                  0644
*/***************************************************************  0644
**       THIS CODE HANDLES THE INTERRUPT RESULTING FROM I/O        0644
**       RESTART ENABLING THE BUSY CHANNEL BY GOING TO THE         0644
**       I/O SLIH.                                                 0644
***************************************************************      */
*                                                                  0644
*INTERRPT:                                                         0644
*   GEN CODE;                                                      0644
INTERRPT DS    0H                                                  0644
         LCTL  @02,@02,CNTRLSAV(8)     RELOAD SAVED CTL REG
*   CTLREG=OFF1;                    /* CTL REG2 RESTORED     @G552PLM*/
         NI    CTLREG(REG8),B'11110111'                            0645
*   CALL IGFPSAD0;                  /* OBTAIN AUTHORIZATION@G51BPLC  */
         L     @15,@CV03195                                        0646
         BALR  @14,@15                                             0646
*   GEN REFS(IONEWSAV) SETS(FLCINPSW);                             0647
IECHK7   NOPR  0                       DSS HOOK FOR PSW SWAP. NEXT
*                                      INSTR, IMMEDIATELY AFTER NOPR,
*                                      MUST BE MVC TO CHANGE I/O NEW
*                                      PSW. DSS DEPENDENCY.
         MVC   FLCINPSW+4(4),IONEWSAV(REG8)  RESTORE I/O NEW  @G552PLM'
*   CALL IGFPSAE0;                  /* RELSE AUTHORIZATION   @G51BPLC*/
         L     @15,@CV03196                                        0648
         BALR  @14,@15                                             0648
*   IONEWPSW=OFF1;                  /* PSW RESTORED          @YM05487*/
         NI    IONEWPSW(REG8),B'11011111'                          0649
*   RFY                                                            0650
*    (REG5,                                                        0650
*     REG11,                                                       0650
*     REG13) RSTD;                  /*                       @YM05487*/
*   REG11=RSTIIND;                  /* SET ENVIRONMENT FOR IOS CALL  */
         LA    REG11,8                                             0651
*   REG13=WSACRSTI;                 /* SAVE AREA ADDRESS             */
         L     @06,PSALCCAV                                        0652
         L     @06,LCCACPUS(,@06)                                  0652
         L     REG13,WSACRSTI(,@06)                                0652
*   REG5=ADIECINT;                  /* ADDRESS OF I/O SLIH           */
         L     REG5,ADIECINT                                       0653
*   GEN CODE;                                                      0654
         STM   @00,@15,0(@13)          SAVE REGS
         BAL   @04,4(@05)              GO TO I/O SLIH FOR INT
         LM    @00,@15,0(@13)          RESTORE REGS
*   RFY                                                            0655
*    (REG13) UNRSTD;                                               0655
*   RFY                                                            0656
*    (REG11) UNRSTD;                                               0656
*   RFY                                                            0657
*    (REG5) UNRSTD;                                                0657
*   GO TO RESVIT;                   /* RE-ATTEMPT RESERVE            */
         B     RESVIT                                              0658
*   RFY                                                            0659
*    (REG12) UNRSTD;                                               0659
*   GEN(TITLE ' IECVRSTI - CLEAR DEVICE SUBROUTINE');              0660
*                                                                  0660
         TITLE ' IECVRSTI - CLEAR DEVICE SUBROUTINE'
*/***************************************************************  0661
**       THIS SUBROUTINE IS USED DURING CCH OR MIH CALLS TO        0661
**       ATTEMPT TO CLEAR A HUNG DEVICE OR SUBCHANNEL. IT          0661
**       ISSUES A HALT DEVICE (HDV) FOLLOWED BY A CLEAR I/O (CIO)  0661
**       AND SETS THE NODEVCLR INDICATOR ON IF THE DEVICE FAILS    0661
**       EITHER OF THESE CLEARING INSTRUCTIONS. THE SETTING OF     0661
**       NODEVCLR WILL CAUSE THE ERPIB WHICH IS BUILT TO INDICATE  0661
**       NO RETRY.                                                 0661
**                                                                 0661
**       INPUT - INPUT TO THIS ROUTINE CONSISTS OF THE UCB PREFIX  0661
**                 ADDRESS IN UCBPTR.                              0661
**                                                                 0661
**       OUTPUT - OUTPUT FROM THE ROUTINE CONSISTS OF THE          0661
**                 NODEVCLR BIT BEING SET TO INDICATE THE STATUS   0661
**                 OF THE DEVICE AND AN ASYNCHRONOUS OPERATOR      0661
**                 MESSAGE IF THE DEVICE FAILED TO CLEAR.          0661
***************************************************************      */
*/*****  CHANNEL RECONFIGURATION HARDWARE (CRH) SUPPORT **** @Y30CQLF*/
*/* THIS SEGMENT CHECKS WHETHER WE ARE PROCESSING A SIO      @Y30CQLF*/
*/* ACROSS A CRH CONNECTION WHICH FAILED OR AN INTERRUPT     @Y30CQLF*/
*/* FROM A REMOTE CHANNEL ON THE DEAD CPU ACROSS A CRH       @Y30CQLF*/
*/* CONNECTION. IF THE CRH CONNECTION IS STILL OUTSTANDING   @Y30CQLF*/
*/* DUE TO AN ATTEMPTED SIO,CLEADEV MUST PERFORM THE HDV AND @Y30CQLF*/
*/* CLRIO ACROSS THE CRH INTERFACE USING CHANNEL 6 ON THE    @Y30CQLF*/
*/* CPU WE ARE RUNNING ON. IF PROCESSING A CRH INTERRUPT,    @Y30CQLF*/
*/* WE MUST MAKE THE CRH CONNECTION TO THE REMOTE CHANNEL    @Y30CQLF*/
*/* AND USE CHANNEL 6 TO DO THE HDV AND CLRIO.               @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*                                                                  0661
*   RFY                                                            0661
*    (REG3,                                                        0661
*     REG4,                                                        0661
*     REG12,                                                       0661
*     REG14) RSTD;                  /*                       @Y30CQLF*/
*CLEARDEV:                          /*                       @Y30CQLF*/
*   REG3=CVTCRCA;                   /* GET POINTER TO CRCA   @Y30CQLF*/
CLEARDEV L     @15,CVTPTR                                          0662
         L     REG3,CVTCRCA(,@15)                                  0662
*   GEN(LA    UCBPTR,0(UCBPTR));    /* ZERO HIGH ORDER BYTE  @OZ02110*/
         LA    UCBPTR,0(UCBPTR)
*   IF(CVTCRCA=ZERO)×               /* CRH NOT ACTIVE ? OR   @Y30CQLF*/
*       (UCBPTR=ZERO)×              /* UCBPOINTER = ZERO OR  @OZ02110*/
*       (CRCADIAG=OFF1&             /* NO CRH CONNECTION?    @Y30CQLF*/
*       UCBIORST=OFF1&              /* NOR CRH INT. ? NOR    @Y30CQLF*/
*       CRCACCH=OFF1)               /* CRH CHAN ERRORS ?     @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*/*  CLRIO AND HDV MUST BE DONE THRU NORMAL PATH             @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*                                                                  0664
*     THEN                                                         0664
         SLR   @15,@15                                             0664
         L     @11,CVTPTR                                          0664
         C     @15,CVTCRCA(,@11)                                   0664
         BE    @RT00664                                            0664
         CR    UCBPTR,@15                                          0664
         BE    @RT00664                                            0664
         TM    CRCADIAG(REG3),B'10000000'                          0664
         BNZ   @RF00664                                            0664
         TM    UCBIORST+512(UCBPTR),B'10000000'                    0664
         BNZ   @RF00664                                            0664
         TM    CRCACCH(REG3),B'00100000'                           0664
         BNZ   @RF00664                                            0664
@RT00664 DS    0H                                                  0665
*     REG4=UCBCHAN;                 /* YES, USE UCB PATH     @Y30CQLF*/
         SLR   REG4,REG4                                           0665
         ICM   REG4,3,UCBCHAN+512(UCBPTR)                          0665
*/********************************************************** @Y30CQLF*/
*/*  CLRIO AND HDV MUST BE DONE THRU CRH CONNECTION          @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*                                                                  0666
*   ELSE                                                           0666
*     DO;                           /* CRH PROCESSING        @Y30CQLF*/
         B     @RC00664                                            0666
@RF00664 DS    0H                                                  0667
*       IF CRCADIAG=OFF1            /* NO CRH CONNECTION?    @Y30CQLF*/
*         THEN                                                     0667
         TM    CRCADIAG(REG3),B'10000000'                          0667
         BNZ   @RF00667                                            0667
*         IF UCBIORST=ON1           /* BUT CRH INTERRUPT ?   @Y30CQLF*/
*             ×CRCACCH=ON1          /* OR CRH CHAN. ERRORS   @Y30CQLF*/
*           THEN                                                   0668
         TM    UCBIORST+512(UCBPTR),B'10000000'                    0668
         BO    @RT00668                                            0668
         TM    CRCACCH(REG3),B'00100000'                           0668
         BNO   @RF00668                                            0668
@RT00668 DS    0H                                                  0669
*           DO;                     /* YES                   @Y30CQLF*/
*                                                                  0669
*             /*******************************************************/
*             /*                                                     */
*             /* MAKE CRH CONNECTION *                       @Y30CQLF*/
*             /*                                                     */
*             /*******************************************************/
*                                                                  0670
*             CRCACHAN=UCBCHAN;     /* SAVE PATH             @Y30CQLF*/
         MVC   CRCACHAN(2,REG3),UCBCHAN+512(UCBPTR)                0670
*             CRCAMCWF=CRCACHAN(1:1);/* SET UP CHANNEL IN MCW      0671
*                                                            @Y30CQLF*/
         MVC   CRCAMCWF(1,REG3),CRCACHAN(REG3)                     0671
*             CRCAMCWI=ON1;         /* INDICATE CRH MCW      @Y30CQLF*/
*             CRCAMCWM=ON1;         /* MAKE CONNECTION       @Y30CQLF*/
         OI    CRCAMCWI(REG3),B'00110000'                          0673
*             CRCADIAG=ON1;         /* CRH CONNECTION        @Y30CQLF*/
         OI    CRCADIAG(REG3),B'10000000'                          0674
*             GEN CODE REFS(CRCA,REG3);                            0675
                             USING CRCA,REG3                   @Y30CQLF
                             DC X'8300',S(CRCAMCW)             @Y30CQLF
                             DROP REG3                         @Y30CQLF
*           END;                    /*                       @Y30CQLF*/
*         ELSE                                                     0677
*           ;                       /* CAN NOT GET HERE      @Y30CQLF*/
@RF00668 DS    0H                                                  0678
*/********************************************************** @Y30CQLF*/
*/*   CRH CONNECTION OUTSTANDING, USE CHANNEL 6              @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*                                                                  0678
*       ELSE                                                       0678
*         ;                         /* YES,CRH CONNECTION    @Y30CQLF*/
@RF00667 DS    0H                                                  0679
*       REG4=UCBCHAN&OFFCHAN;       /* AND OFF CHANNEL NUM   @Y30CQLF*/
         L     REG4,@CF03041                                       0679
         SLR   @15,@15                                             0679
         ICM   @15,3,UCBCHAN+512(UCBPTR)                           0679
         NR    REG4,@15                                            0679
*       REG4=REG4×CHAN6;            /* USE CHANNEL 6 FOR I/O       0680
*                                      INSTRUCTIONS          @Y30CQLF*/
         O     REG4,@CF03043                                       0680
*     END;                          /*                       @Y30CQLF*/
*                                                                  0682
*/********************************************************** @Y30CQLF*/
*/* PERFORM HDV AND CLRIO. CHECK FOR LOGOUT.                 @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*                                                                  0682
*   NODEVCLR=OFF1;                  /* INITIALIZE DEV CLR SW         */
@RC00664 DS    0H                                                  0683
*   LOGOUT=OFF1;                    /* INITIALIZE LOGOUT SW  @YM04212*/
         NI    NODEVCLR(REG8),B'10011111'                          0683
*   IF UCBPTR=ZERO THEN             /* ZERO UCBPTR ?         @OZ02110*/
         LTR   UCBPTR,UCBPTR                                       0684
         BZ    @RT00684                                            0684
*     GO TO FCLEAR2;                /* YES SKIP HDV, CLRIO OZ02110   */
*   ELSE                                                           0686
*     ;                                                            0686
*IECVRST1:                                                         0687
*   ;                               /* LYLE TEST HOOK                */
IECVRST1 DS    0H                                                  0688
*   GEN(HDV   0(@04)                  ATTEMPT TO HALT DEVICE );    0688
         HDV   0(@04)                  ATTEMPT TO HALT DEVICE
*   BC(10,DOCLR);                   /* CC=0 CC=2 ATTEMPT CIO         */
         BC    10,DOCLR                                            0689
*   BC(1,FCLEAR1);                  /* CC=3 SET FAILED CLEAR         */
         BC    1,FCLEAR1                                           0690
*   IF(STATUS&ENDSTAT)=ZERO THEN    /* CC=1 GOOD STATUS ?            */
         SLR   @15,@15                                             0691
         ICM   @15,3,ENDSTAT                                       0691
         SLR   @11,@11                                             0691
         ICM   @11,3,STATUS                                        0691
         NR    @15,@11                                             0691
         LTR   @15,@15                                             0691
         BZ    @RT00691                                            0691
*     GO TO DOCLR;                  /* YES ATTEMPT TO CLEAR          */
*   ELSE                                                           0693
*     IF(CCC=ON1×ICC=ON1×CDC=ON1)&(LOP^=ON1) THEN/* LOGOUT ? @YMO4212*/
         TM    CCC,B'00001110'                                     0693
         BZ    @RF00693                                            0693
         TM    LOP,B'00000100'                                     0693
         BO    @RF00693                                            0693
*       LOGOUT=ON1;                 /* INDICATE LOGOUT       @YM04212*/
         OI    LOGOUT(REG8),B'00100000'                            0694
*     ELSE                                                         0695
*       ;                                                          0695
@RF00693 DS    0H                                                  0696
*FCLEAR1:                                                          0696
*   NODEVCLR=ON1;                   /* SET DEV FAILED CLEAR          */
FCLEAR1  OI    NODEVCLR(REG8),B'01000000'                          0696
*DOCLR:                                                            0697
*   ;                               /* CLEAR I/O TO DEV              */
DOCLR    DS    0H                                                  0698
*   GEN(CLRIO 0(@04)                 CLEAR I/O TO DEVICE);         0698
         CLRIO 0(@04)                 CLEAR I/O TO DEVICE
*   BC(1,FCLEAR2);                  /* CC=3 DEV FAILED CLEAR         */
         BC    1,FCLEAR2                                           0699
*   BC(10,SINDCK);                  /* CC=0 CC=2 RETURN              */
         BC    10,SINDCK                                           0700
*   IF(STATUS&ENDSTAT)=ZERO THEN    /* CC=1 GOOD STATUS ?            */
         SLR   @15,@15                                             0701
         ICM   @15,3,ENDSTAT                                       0701
         SLR   @11,@11                                             0701
         ICM   @11,3,STATUS                                        0701
         NR    @15,@11                                             0701
         LTR   @15,@15                                             0701
         BZ    @RT00701                                            0701
*     GO TO SINDCK;                 /* YES - RETURN                  */
*   ELSE                                                           0703
*     IF(CCC=ON1×ICC=ON1×CDC=ON1)&(LOP^=ON1) THEN/* LOGOUT ? @YMO4212*/
         TM    CCC,B'00001110'                                     0703
         BZ    @RF00703                                            0703
         TM    LOP,B'00000100'                                     0703
         BO    @RF00703                                            0703
*       LOGOUT=ON1;                 /* INDICATE LOGOUT       @YM04212*/
         OI    LOGOUT(REG8),B'00100000'                            0704
*     ELSE                                                         0705
*       ;                                                          0705
@RF00703 DS    0H                                                  0706
*FCLEAR2:                                                          0706
*   NODEVCLR=ON1;                   /* SET DEV FAILED CLEAR          */
FCLEAR2  OI    NODEVCLR(REG8),B'01000000'                          0706
*                                                                  0707
*/*********************************************************************
** IF A LOGOUT OCCURRED ON THE HDV OR CLRIO, RE-INITIALIZE THE LOGOUT *
** AREAS TO FOXES FOR CCH.THIS IS A DEPENDENCY CCH HAS ON ANY         *
** COMPONENT DOING I/O FOR WHICH CCH WILL NOT SEE THE CHANNEL ERRORS. *
** THIS CODE IS LIFTED FROM MODULE IGFCCHR.                  @YM04212*/
*/********************************************************************/
*                                                                  0707
*SINDCK:                                                           0707
*   IF LOGOUT=ON1                   /* DID LOGOUT OCCUR ?    @YM04212*/
*     THEN                                                         0707
SINDCK   TM    LOGOUT(REG8),B'00100000'                            0707
         BNO   @RF00707                                            0707
*     DO;                           /* YES FOX LOGOUT AREAS  @YM04212*/
*       IF PCCACPID(9:12)=CPU165×PCCACPID(9:12)=CPU168/* INTEGRATED
*                                      CHANNEL ?             @YM04212*/
*         THEN                                                     0709
         L     @15,PSAPCCAV                                        0709
         CLC   PCCACPID+8(4,@15),CPU165                            0709
         BE    @RT00709                                            0709
         CLC   PCCACPID+8(4,@15),CPU168                            0709
         BNE   @RF00709                                            0709
@RT00709 DS    0H                                                  0710
*         DO;                       /* YES                   @YM04212*/
*           ADDRESS=ADDR(CHANLOG);  /* POINT TO FIXED AREA   @YM04212*/
         LA    ADDRESS,CHANLOG                                     0711
*           COUNT=LENGTH(CHANLOG);  /* GET LENGTH FOR MVC    @YM04212*/
         LA    COUNT,24                                            0712
*         END;                                                     0713
*       ELSE                                                       0714
*         DO;                       /* NOT INTEGRATED        @YM04212*/
         B     @RC00709                                            0714
@RF00709 DS    0H                                                  0715
*           ADDRESS=ADDR(FLCLCL);   /* POINT TO LIMITED AREA@YM04212 */
         LA    ADDRESS,FLCLCL                                      0715
*           COUNT=LENGTH(FLCLCL);   /* GET LENGTH FOR MVC    @YM04212*/
         LA    COUNT,4                                             0716
*         END;                                                     0717
*       REG12=REG14;                /* SAVE RETURN REG       @G51BPLC*/
@RC00709 LR    REG12,REG14                                         0718
*       RFY                                                        0719
*        (REG14) UNRSTD;            /*                       @G51BPLC*/
*       CALL IGFPSAD0;              /* OBTAIN AUTHORIZATION  @G51BPLC*/
         L     @15,@CV03195                                        0720
         BALR  @14,@15                                             0720
*       WKAREA1(ONE:ONE)=FOXFOX;    /* MVI FOXES             @YM04212*/
         MVI   WKAREA1(ADDRESS),X'FF'                              0721
*       WKAREA2(TWO:COUNT)=WKAREA1(ONE:COUNT-ONE);/* FORCE MVC OF  0722
*                                      OVERLAPPED AREA       @YM04212*/
         LR    @11,COUNT                                           0722
         BCTR  @11,0                                               0722
         BCTR  @11,0                                               0722
         EX    @11,@SM03347                                        0722
*       CALL IGFPSAE0;              /* RELEASE AUTHORIZATION @G51BPLC*/
         L     @15,@CV03196                                        0723
         BALR  @14,@15                                             0723
*       RFY                                                        0724
*        (REG14) RSTD;              /*                       @G51BPLC*/
*       REG14=REG12;                /* RESTORE RETURN REG    @G51BPLC*/
         LR    REG14,REG12                                         0725
*       ADDRESS=PCCAELAD;           /* POINT TO EXTENDED LOGOUT AREA
*                                                            @G51BPLC*/
         L     @15,PSAPCCAV                                        0726
         L     ADDRESS,PCCAELAD(,@15)                              0726
*       WKAREA1(ONE:FOUR)=FOXWORD;  /* MVI FOXES             @G51BPLC*/
         MVC   WKAREA1(4,ADDRESS),@CB03103                         0727
*     END;                                                         0728
*   ELSE                                                           0729
*     ;                                                            0729
@RF00707 DS    0H                                                  0730
*                                                                  0730
*/****  CHANNEL RECONFIGURATION HARDWARE (CRH) SUPPORT  **** @Y30CQLF*/
*/*  IF CRCADIAG WAS OFF (NO CRH CONNECTION OUTSTANDING) AND @Y30CQLF*/
*/*  UCBIORST WAS ON (CRH INTERRUPT), THEN I/O RESTART MADE  @Y30CQLF*/
*/*  THE CRH CONNECTION AND MUST THEREFORE BREAK THE CRH     @Y30CQLF*/
*/*  CONNECTION. IT WOULD BE AN ERROR CONDITION IF I/O       @Y30CQLF*/
*/*  RESTART WAS CALLED WITH CRCADIAG ON AND UCBIORST ON     @Y30CQLF*/
*/*  BUT IF IT DOES OCCUR I/O RESTART WILL ENSURE THE CRH    @Y30CQLF*/
*/*  CONNECTION IS BROKEN.                                   @Y30CQLF*/
*/********************************************************** @Y30CQLF*/
*                                                                  0730
*   IF(CVTCRCA^=ZERO)&(UCBPTR^=ZERO)&(UCBIORST=ON1×CRCACCH=ON1)/* I/O
*                                      RESTRT                @OZ02216
*                                      MAKE CRH CONNECTION?  @ZM30452*/
*     THEN                                                         0730
         SLR   @15,@15                                             0730
         L     @11,CVTPTR                                          0730
         C     @15,CVTCRCA(,@11)                                   0730
         BE    @RF00730                                            0730
         CR    UCBPTR,@15                                          0730
         BE    @RF00730                                            0730
         TM    UCBIORST+512(UCBPTR),B'10000000'                    0730
         BO    @RT00730                                            0730
         TM    CRCACCH(REG3),B'00100000'                           0730
         BNO   @RF00730                                            0730
@RT00730 DS    0H                                                  0731
*     DO;                           /* YES                   @Y30CQLF*/
*       CRCAMCWM=OFF1;              /* BREAK CONNECTION      @Y30CQLF*/
         NI    CRCAMCWM(REG3),B'11101111'                          0732
*       GEN CODE REFS(CRCA,REG3);                                  0733
*                                      /*                    @Y30CQLF*/
            USING CRCA,REG3                                  @Y30CQLF
            DC X'8300',S(CRCAMCW)      ISSUE DIAGNOSE        @Y30CQLF
            DROP REG3                                        @Y30CQLF
*       CRCADIAG=OFF1;              /* INDICATE NO CRH CONNECTION  0734
*                                                            @Y30CQLF*/
         NI    CRCADIAG(REG3),B'01111111'                          0734
*     END;                          /*                       @Y30CQLF*/
*                                                                  0736
*/*********************************************************************
** IF DEVICE FALIED TO CLEAR, ISSUE MESSAGE IEA003I I/O MALFUNCTION   *
** ON DEVICE XXX  I/O TERMINATED.                                     *
**********************************************************************/
*                                                                  0736
*   IF NODEVCLR=ON1&UCBPTR^=ZERO    /* DID THE DEVICE FAIL TO CLEAR ?*/
*                                                                  0736
*   /*****************************************************************/
*   /*                                                               */
*   /* IF UCBPTR=0 NO MESSAGE                                @OZ02110*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0736
*     THEN                                                         0736
@RF00730 TM    NODEVCLR(REG8),B'01000000'                          0736
         BNO   @RF00736                                            0736
         LTR   UCBPTR,UCBPTR                                       0736
         BZ    @RF00736                                            0736
*     DO;                           /* YES - ISSUE MESSAGE           */
*       MSG003(ONE:LENGTH(MSG003))=IEA003I(ONE:LENGTH(MSG003));/*  0738
*                                      INITIALIZE MESSAGE            */
         LA    @15,8                                               0738
         AL    @15,MESSPTR(,REG8)                                  0738
         MVC   MSG003(62,@15),IEA003I                              0738
*       DEV3(ONE:THREE)=UCBNAME;    /* SET DEV NAME IN MSG           */
         MVC   DEV3(3,@15),UCBNAME+512(UCBPTR)                     0739
*       REG12=REG14;                /* SAVE RETURN REG               */
         LR    REG12,REG14                                         0740
*       RFY                                                        0741
*        (REG14) UNRSTD;                                           0741
*       CALL RECORDIT;              /* CALL RTN TO WRITE AND RECORD
*                                      MESSAGE                       */
         BAL   @14,RECORDIT                                        0742
*       RFY                                                        0743
*        (REG14) RSTD;                                             0743
*       REG14=REG12;                /* RESTORE RETURN REG            */
         LR    REG14,REG12                                         0744
*     END;                                                         0745
*   ELSE                                                           0746
*     ;                                                            0746
@RF00736 DS    0H                                                  0747
*   GEN CODE;                                                      0747
         BR   @14                      RETURN TO CALLER
*   RFY                                                            0748
*    (REG3,                                                        0748
*     REG4,                                                        0748
*     REG12) UNRSTD;                                               0748
*   GEN(TITLE ' IECVRSTI - SIGNAL PROCESSOR SUBROUTINE');          0749
*                                                                  0749
         TITLE ' IECVRSTI - SIGNAL PROCESSOR SUBROUTINE'
*/***********************************************************@YM04440*/
*/*     THIS SUBROUTINE ISSUES A SIGP INSTRUCTION TO THE     @Y30CQLF*/
*/*     FAILING CPU ON AN ACR CALL. IF CRH IS BEIN ACTIVATED @Y30CQLF*/
*/*     A CPU RESET WILL BE REQUESTED,OTHERWISE AN INITIAL   @Y30CQLF*/
*/*     PROGRAM RESET WILL BE REQUESTED. A CC=3 ON THE       @Y30CQLF*/
*/*     SIGP WILL CAUSE A WARNING MESSAGE TO BE ISSUED TO    @YM04440*/
*/*     THE OPERATOR WARNING HIM NOT TO TOUCH THE DEAD CPU   @YM04440*/
*/*     BECAUSE IT HAS NOT BEEN RESET. THE MESSAGE ALSO      @YM04440*/
*/*     EXPLAINS THAT SINCE THE RESET FAILED SOME OF THE I/O @YM04440*/
*/*     GEAR MAY NO LONGER BE ACCESSIBLE TO THE LIVE CPU.    @YM04440*/
*/*     A CC=1,2 WILL RESULT IN RETRYING THE SIGP A FIXED    @YM04440*/
*/*     NUMBER OF TIMES AND THEN ISSUEING THE SAME WARNING   @YM04440*/
*/*     MESSAGE. A CC=0 INDICATES THAT THE SIGP WAS DECODED  @YM04440*/
*/*     AND THE COMMAND RECOGNIZED BY THE FAILING CPU.       @Y30CQLF*/
*/*     A CC=0 DOES NOT MEAN THAT THE SIGP HAS COMPLETED     @Y30CQLF*/
*/*     SUCCESSFULLY, AND THIS IS THE MAIN REASON THE CC=3   @YM04440*/
*/*     RESULTS IN A WARNING MESSAGE RATHER THAN A WAIT      @YM04440*/
*/*     STATE, PLUS THE FACT THAT THE SYSTEM MAY BE ABLE TO  @YM04440*/
*/*     CONTINUE.                                            @YM04440*/
*/***********************************************************@YM04440*/
*                                                                  0750
*   RFY                                                            0750
*    (REG0,                                                        0750
*     REG5,                                                        0750
*     REG6) RSTD;                   /*                       @YM04440*/
*SIGPRTN:                           /*                       @YM04440*/
*   REG0=SIGPCNT;                   /* LOAD RETRY COUNT      @YM04440*/
SIGPRTN  LA    REG0,100                                            0751
*   DO WHILE REG0>ZERO;             /* SET UP RETRY LOGIC    @YM04440*/
         B     @DE00752                                            0752
@DL00752 DS    0H                                                  0753
*     REG6=CPUID;                   /* GET CPUID OF FAILING CPU    0753
*                                                            @YM04440*/
         SLR   REG6,REG6                                           0753
         IC    REG6,CPUID(,REG8)                                   0753
*     REG5=ZERO;                    /* ZERO STATUS REG       @YM04440*/
         SLR   REG5,REG5                                           0754
*     IF RESETCPU=ON1               /* CPU RESET REQUEST     @Y30CQLF*/
*       THEN                        /*                       @OZ06051*/
         TM    RESETCPU(REG8),B'00000100'                          0755
         BNO   @RF00755                                            0755
*       DO;                         /*                       @OZ06051*/
*         GENERATE CODE;                                           0757
    SIGP  @05,@06,SIGPSEN        DETERMINE STATE OF CPU        @OZ06051
    BC    2,SIGPST               CC=2 ISSUE STOP IF BUSY       @OZ06051
    BC    1,SIGPFAIL             CC=3 ISSUE FAIL MSG IF NOT OP @OZ06051
*                                CC=0 OR 1
         N     @05,SIGPSCKS      CHECK FOR STOP OR CHECK STOP  @OZ06051
         LTR   @05,@05           STATE.                        @OZ06051
         BNZ   SIGPOK            ONE OR OTHER, YES RETURN      @OZ06051
SIGPST SIGP @05,@06,SIGPSTOP     OTHERWISE ISSUE STOP          @OZ06051
*       END;                                                       0758
*     ELSE                                                         0759
*       DO;                         /* TRY IPR RESET         @OZ06051*/
         B     @RC00755                                            0759
@RF00755 DS    0H                                                  0760
*         GEN CODE(SIGP @05,@06,IPR);/* ISSUE IPR            @OZ06051*/
         SIGP @05,@06,IPR
*         BC(EIGHT,SIGPOK);         /* CC=0,RETURN           @OZ06051*/
         BC    8,SIGPOK                                            0761
*         BC(ONE,SIGPFAIL);         /* CC=3,SIGP FAILED      @OZ06051*/
         BC    1,SIGPFAIL                                          0762
*       END;                        /*                       @OZ06051*/
*     REG0=REG0-ONE;                /* CC=1 OR 2,RETRY SIGPCNT TIMES
*                                                            @YM04440*/
@RC00755 BCTR  REG0,0                                              0764
*   END;                                                           0765
@DE00752 LTR   REG0,REG0                                           0765
         BP    @DL00752                                            0765
*   GEN(SIGP @05,@06,CPURESET);     /* CAN'T STOP THE CPU    @OZ06051
*                                      CATASTROPHIC ERROR    @OZ06051
*                                      ISSUE CPU RESET       @OZ06051*/
*                                                                  0766
         SIGP @05,@06,CPURESET
*   /*****************************************************************/
*   /*                                                               */
*   /* IT WILL NOT HELP                                      @OZ06051*/
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0767
*SIGPFAIL:                                                         0767
*   IORCC3=ON1;                     /* DON'T ACT CRH, BECAUSE      0767
*                                                            @OZ06051*/
SIGPFAIL OI    IORCC3(REG8),B'00000010'                            0767
*   MSG969(ONE:LENGTH(MSG969))=IEA969A(ONE:LENGTH(MSG969));/*      0768
*                                      INITIALIZE MESSAGE    @YM04440*/
         L     @15,MESSPTR(,REG8)                                  0768
         MVC   MSG969+8(79,@15),IEA969A                            0768
*   RETURNAD=REG14;                 /* SAVE RETURN REG       @YM04440*/
         ST    REG14,RETURNAD(,REG8)                               0769
*   RFY                                                            0770
*     REG14 UNRSTD;                 /*                       @YM04440*/
*   CALL RECORDIT;                  /* ISSUE MESSAGE         @YM04440*/
         BAL   @14,RECORDIT                                        0771
*   RFY                                                            0772
*     REG14 RSTD;                   /*                       @YM04440*/
*   REG14=RETURNAD;                 /* RESTORE RETURN REG    @YM04440*/
         L     REG14,RETURNAD(,REG8)                               0773
*SIGPOK:                                                           0774
*   GEN CODE( BR  @14);             /* RETURN                @YM04440*/
SIGPOK    BR  @14
*   RFY                                                            0775
*    (REG5,                                                        0775
*     REG6) UNRSTD;                                                0775
*   GEN(TITLE ' IECVRSTI - WAIT STATE SUBROUTINE');                0776
*                                                                  0776
         TITLE ' IECVRSTI - WAIT STATE SUBROUTINE'
*/***************************************************************  0777
**       THIS SECTION OF CODE INTERFACES WITH THE SYSTEM STOP      0777
**       AND RESTART SUBROUTINE. WHEN CALLED DURING ACR            0777
**       PROCESSING IT WILL ATTEMPT TO PUT ALL CPU'S IN THE MP     0777
**       CONFIGURATION INTO A WAIT STATE DEFINED BY THE CALLER     0777
**       THE ROUTINE FIRST ACQUIRES THE RESTART RESOURCE AND       0777
**       THEN CALLS THE SUBROUTINE. IF THE SUBROUTINE IS UNABLE    0777
**       TO STOP ALL THE CPU'S THIS ROUTINE WILL PUT THE CPU       0777
**       ON WHICH IT IS RUNNING INTO THE DESIRED WAIT STATE.       0777
***************************************************************      */
*                                                                  0777
*   RFY                                                            0777
*    (REG0,                                                        0777
*     REG1,                                                        0777
*     REG4,                                                        0777
*     REG12,                                                       0777
*     REG13,                                                       0777
*     REG14) RSTD;                                                 0777
*WAITRTN:                                                          0778
*   ;                               /* INTERFACE TO THE SYS STOP AND
*                                      RESTART SUBROUTINE            */
WAITRTN  DS    0H                                                  0779
*   RCPU=PSACPULA;                  /* SET CPU ADDRESS FOR         0779
*                                      ACQUISITION OF THE RESTART  0779
*                                      RESOURCE                      */
         MVC   RCPU(2,REG8),PSACPULA                               0779
*   RHLDR=IORSCODE;                 /* INSERT I/O RESTART USER ID    */
         MVC   RHLDR(2,REG8),IORSCODE                              0780
*   REG12=REG14;                    /* SAVE RETURN REG               */
         LR    REG12,REG14                                         0781
*RSTRTRSC:                                                         0782
*   REG4=RSTRTWRD;                  /* LOAD THE RESTART RESOURCE LOCK*/
RSTRTRSC L     REG4,RSTRTWRD(,REG8)                                0782
*   REG13=ZERO;                     /* LOAD UNLOCKED VALUE           */
         SLR   REG13,REG13                                         0783
*   REG1=ADDR(CVTRSTWD);            /* ADDRESS OF RESTART RESOURCE 0784
*                                      LOCKWORD                      */
         L     REG1,CVTPTR                                         0784
         LA    REG1,CVTRSTWD(,REG1)                                0784
*   GEN CODE;                                                      0785
         CS    @13,@04,0(@01)          ATTEMPT TO LOCK RESOURCE
*   BC(7,LDWAIT);                   /* COMP FAIL LOOP                */
         BC    7,LDWAIT                                            0786
*RSTRTWR1:                                                         0787
*   ;                               /* SET UP TO RECORD              */
RSTRTWR1 DS    0H                                                  0788
*   IF(REG0=FORTY3)×(REG0=LTCHANCD) /* IF HARD WAIT          @G552PLM*/
*     THEN                                                         0788
         CH    REG0,@CH03158                                       0788
         BE    @RT00788                                            0788
         CH    REG0,@CH03070                                       0788
         BNE   @RF00788                                            0788
@RT00788 DS    0H                                                  0789
*     LOGHDR=DEADWAIT;              /* HARD WAIT HEADER      @G552PLM*/
         L     @15,MESSPTR(,REG8)                                  0789
         MVC   LOGHDR+8(4,@15),DEADWAIT                            0789
*   ELSE                                                           0790
*     LOGHDR=RESTWAIT;              /* RESTARTABLE HEADER    @G552PLM*/
         B     @RC00788                                            0790
@RF00788 L     @15,MESSPTR(,REG8)                                  0790
         MVC   LOGHDR+8(4,@15),RESTWAIT                            0790
*   LOGPTR=ADDR(LOGDA);             /* BEGIN DATA            @G552PLM*/
@RC00788 LA    @15,8                                               0791
         AL    @15,MESSPTR(,REG8)                                  0791
         LA    @11,LOGDA(,@15)                                     0791
         ST    @11,LOGPTR(,@15)                                    0791
*   LOGDA=EIGHTY8;                  /* LEN OF DATA           @G552PLM*/
         MVC   LOGDA(4,@15),@CF03167                               0792
*   LOGWAIT=REG0;                   /* WAIT STATE CODE       @G552PLM*/
         ST    REG0,LOGWAIT(,@15)                                  0793
*   LOGTIME=LOGTIME&&LOGTIME;       /* ZERO TIME             @G552PLM*/
         XC    LOGTIME(8,@15),LOGTIME(@15)                         0794
*   STM(REG0,REG15,LOGREGS);        /* REGISTERS             @G552PLM*/
         STM   REG0,REG15,LOGREGS(@15)                             0795
*   LOGMSC=LOGMSC&&LOGMSC;          /* NO MSC DATA           @G552PLM*/
         XC    LOGMSC(12,@15),LOGMSC(@15)                          0796
*   REG1=ADDR(RSTILOGB);            /* ADDR OF RCD TO RECD   @G552PLM*/
         LR    REG1,@15                                            0797
*   REG13=WSACRSTI;                 /*                       @YM01377
*                                      LOAD SAVE AREA ADDRESS        */
         L     @15,PSALCCAV                                        0798
         L     @15,LCCACPUS(,@15)                                  0798
         L     REG13,WSACRSTI(,@15)                                0798
*   GEN;                                                           0799
         RECORD TYPE=LOGREC,RCVRY=SETFRR,HEADER=YES,LENGTH=96,         *
               PARMADR=(REG1)
*   REG0=LOGWAIT;                   /* RESTORE REGISTER FOR STOP   0800
*                                      START CALL            @YM05421*/
         L     @15,MESSPTR(,REG8)                                  0800
         L     REG0,LOGWAIT+8(,@15)                                0800
*   REG1=ZERO;                      /* SET NO STAT AREA              */
         SLR   REG1,REG1                                           0801
*   IOCRSVTB=BLKCHAIN;              /* LOAD RESVTBL PTR              */
         L     @15,IORSIOCM(,REG8)                                 0802
         MVC   IOCRSVTB(4,@15),BLKCHAIN(REG8)                      0802
*   RFY                                                            0803
*    (REG14) UNRSTD;                                               0803
*   CALL IEESTPRS;                  /* CALL THE STOP AND RESTART   0804
*                                      SUBROUTINE                    */
         L     @11,CVTPTR                                          0804
         L     @15,CVTSTPRS(,@11)                                  0804
         BALR  @14,@15                                             0804
*   RFY                                                            0805
*    (REG15) RSTD;                                                 0805
*   CVTRSTWD=ZERO;                  /* UNLOCK RESOURCE               */
         SLR   @14,@14                                             0806
         L     @11,CVTPTR                                          0806
         ST    @14,CVTRSTWD(,@11)                                  0806
*   IF REG15^=ZERO                  /* CHECK WAIT RTRN CODE          */
*     THEN                                                         0807
         CR    REG15,@14                                           0807
         BE    @RF00807                                            0807
*     DO;                           /* YES - WAIT THIS CPU           */
*/*************                                                    0809
**       THIS SECTION PUTS THIS CPU INTO A WAIT IF SYSTEM STOP     0809
**       AND RESTART SUBROUTINE IS UNABLE TO STOP THE ENTIRE       0809
**       CONFIGURATION.                                            0809
*************                                                        */
*                                                                  0809
*LDWAIT:                                                           0809
*       ;                                                          0809
LDWAIT   DS    0H                                                  0810
*       RSPSW1=FLCRNPSW;            /* SAVE OLD RESTART PSW          */
         MVC   RSPSW1(8,REG8),FLCRNPSW                             0810
*       RSPSW2(FIVE:EIGHT)=REG0;    /* SET DESIRED CODE              */
         ST    REG0,RSPSW2+4(,REG8)                                0811
*       RSPSW2(ONE:FOUR)=WAITPSW;   /* SET FOR WAIT STATE            */
         MVC   RSPSW2(4,REG8),WAITPSW                              0812
*       CALL IGFPSAD0;              /* OBTAIN AUTHORIZATION  @G51BPLC*/
         L     @15,@CV03195                                        0813
         BALR  @14,@15                                             0813
*       FLCRNPSW(ONE:FOUR)=IORSPSW; /*                       @G552PLM
*                                      SET UP FIRST HALF OF PSW TO 0814
*                                      ROUTE CONTROL TO I/O RESTART
*                                      WHEN RESTART KEY PRESSED      */
         MVC   FLCRNPSW(4),IORSPSW                                 0814
*       FLCRNPSW(FIVE:EIGHT)=ADDR(IORSTKEY);/* SET ADDRESS PORTION   */
         LA    @14,IORSTKEY                                        0815
         ST    @14,FLCRNPSW+4                                      0815
*       GEN;                                                       0816
         LPSW  RSPSW2(8)               LOAD WAIT STATE
*IORSTKEY:                                                         0817
*       ;                           /* RESTART ROUTINE               */
IORSTKEY DS    0H                                                  0818
*       FLCRNPSW=RSPSW1;            /* RESTORE RESTART PSW           */
         MVC   FLCRNPSW(8),RSPSW1(REG8)                            0818
*       CALL IGFPSAE0;              /* RELEASE AUTHORIZATION@G51BPLC */
         L     @15,@CV03196                                        0819
         BALR  @14,@15                                             0819
*     END;                                                         0820
*   ELSE                                                           0821
*     ;                                                            0821
@RF00807 DS    0H                                                  0822
*   RFY                                                            0822
*    (REG14) RSTD;                                                 0822
*   REG14=REG12;                    /* RESTORE RETURN REGISTER       */
         LR    REG14,REG12                                         0823
*   GEN CODE;                                                      0824
        BR  @14                        RETURN TO CALLER
*   RFY                                                            0825
*    (REG0,                                                        0825
*     REG1,                                                        0825
*     REG4,                                                        0825
*     REG12,                                                       0825
*     REG13,                                                       0825
*     REG14,                                                       0825
*     REG15) UNRSTD;                                               0825
*   GEN(TITLE ' IECVRSTI - TERMINATION ROUTINE');                  0826
*                                                                  0826
         TITLE ' IECVRSTI - TERMINATION ROUTINE'
*/***************************************************************  0827
**       THIS SECTION OF CODE IS THE TERMINATION SEQUENCE OF I/O   0827
**       RESTART. IT IS CALLED WHEN CONTROL IS TO BE RETURNED TO   0827
**       THE CALLER OF I/O RESTART (OR IN THE CASE OF CCH TO IOS)  0827
**       IT FREES ALL WORK AREAS GOTTEN FROM STORAGE MANAGER,      0827
**       DELETES THE I/O RESTART FRR AND RESTORES REGISTERS        0827
**       BEFORE RETURNING.                                         0827
***************************************************************      */
*                                                                  0827
*   RFY                                                            0827
*    (REG1,                                                        0827
*     REG11,                                                       0827
*     REG13,                                                       0827
*     REG15) RSTD;                                                 0827
*IORSEND:                                                          0828
*   ;                                                              0828
IORSEND  DS    0H                                                  0829
*   MBLKCHN=BLKCHAIN;               /* PREPARE TO INSERT THE MESSAGE
*                                      BUFFER IN THE BLOCK CHAIN     */
         L     @14,MESSPTR(,REG8)                                  0829
         MVC   MBLKCHN(4,@14),BLKCHAIN(REG8)                       0829
*   BLKCHAIN=MESSPTR;               /* INSERT MESSAGE BUFFER IN CHAIN*/
         ST    @14,BLKCHAIN(,REG8)                                 0830
*   REG13=WSACRSTI;                 /*                       @YM01377
*                                      SAVE AREA ADDRESS             */
         L     @14,PSALCCAV                                        0831
         L     @14,LCCACPUS(,@14)                                  0831
         L     REG13,WSACRSTI(,@14)                                0831
*   REG11=FREE160;                  /* SET TO FREE BLOCKS            */
         LA    REG11,32                                            0832
*   REG15=IOCORMGT;                 /* SET ENTRY POINT               */
         L     @12,IORSIOCM(,REG8)                                 0833
         L     REG15,IOCORMGT(,@12)                                0833
*   REG1=REG8;                      /* LOAD FIRST BLK IN CHAIN TO  0834
*                                      FREE                          */
         LR    REG1,REG8                                           0834
*   FRRIORWA=0;                     /* IORWORK FREED         @G552PLM*/
         SLR   @14,@14                                             0835
         ST    @14,FRRIORWA(,REG9)                                 0835
*   GEN CODE;                                                      0836
         BAL   @14,4(@15)              GO TO STORAGE MGR FREE
*                                   /* CALL THE FREE BLOCK SECTION OF
*                                      IOS STORAGE MANAGER           */
*   REG13=FRRSAV;                   /* RESET REG 13 TO SAVE AREA     */
         L     REG13,FRRSAV(,REG9)                                 0837
*   IF FRRIOSUP=ON1                 /* DID I TURN ON IOS SUPER BIT 0838
*                                                            @YM05487*/
*     THEN                                                         0838
         TM    FRRIOSUP(REG9),B'10000000'                          0838
         BNO   @RF00838                                            0838
*     DO;                           /* YES I DID IT          @YM05487*/
*       PSAIOSUP=OFF1;              /* TURN IT OFF           @YM05487*/
         NI    PSAIOSUP,B'01111111'                                0840
*       FRRIOSUP=OFF1;              /* INDICATE I TURNED IT OFF    0841
*                                                            @YM05487*/
         NI    FRRIOSUP(REG9),B'01111111'                          0841
*     END;                          /*                       @YM05487*/
*   IF FRRLCSRB='1'B THEN           /* IF LOST CHAN PROC     @G552PLM*/
@RF00838 TM    FRRLCSRB(REG9),B'01000000'                          0843
         BNO   @RF00843                                            0843
*     DO;                           /*                       @G552PLM*/
*       RFY                                                        0845
*         REG14 RSTD;               /*                       @G552PLM*/
*       REG14=CVTSRBRT;             /* LOST CHAN RET ADDR    @G552PLM*/
         L     @12,CVTPTR                                          0846
         L     REG14,CVTSRBRT(,@12)                                0846
*       REG15=4;                    /* IND LOST CHAN RET     @G552PLM*/
         LA    REG15,4                                             0847
*       GEN(STOSM FRRLCSYS(REG9),X'03');/* ENABLE I/O, EXT   @G552PLM*/
         STOSM FRRLCSYS(REG9),X'03'
*     END;                          /*                       @G552PLM*/
*   ELSE                                                           0850
*     REG15=0;                      /* IND NOT LOST CHAN     @G552PLM*/
         B     @RC00843                                            0850
@RF00843 SLR   REG15,REG15                                         0850
*   GEN CODE;                                                      0851
@RC00843 DS    0H                                                  0851
         SETFRR D,WRKREGS=(@11,@03)
         LTR   @15,@15                 DET RETURN              @G552PLM
         BNZ   NORESTOR                IF LOST CHAN DO NOT     @G552PLM
*                                       RESTORE REGISTERS      @G552PLM
         LM    @14,@12,0(@13)          RESTORE REGISTERS       @G552PLM
NORESTOR EQU   *                       LOST CHAN RET TO SRB    @G552PLM
*                                      DISPATCHER              @G552PLM
         BR     @14                    RETURN TO CALLER
*   RFY                                                            0852
*    (REG1,                                                        0852
*     REG11,                                                       0852
*     REG13,                                                       0852
*     REG15,                                                       0852
*     REG14) UNRSTD;                /*                       @G552PLM*/
*   GEN(TITLE ' IECVRSTI - IOSGEN INTERFACE SUBROUTINE');          0853
*                                                                  0853
         TITLE ' IECVRSTI - IOSGEN INTERFACE SUBROUTINE'
*/***************************************************************  0854
**       THIS SUBROUTINE IS THE I/O RESTART INTERFACE TO IOSGEN'S  0854
**       PATHMAP FACILITY. IT IS CALLED WITH THE UCB ADDRESS AND   0854
**       OUTPUTS A PATHMAP TABLE IN THE I/O RESTART WORK AREA      0854
**       WHICH IS THEN USED TO DETERMINE PATH AVAILABILITY.        0854
***************************************************************      */
*                                                                  0854
*   RFY                                                            0854
*    (REG4,                                                        0854
*     REG5,                                                        0854
*     REG13,                                                       0854
*     REG14) RSTD;                                                 0854
*IOSGIFAC:                                                         0855
*   REG13=WSACRSTI;                 /* RESTART SAVE AREA             */
IOSGIFAC L     @15,PSALCCAV                                        0855
         L     @15,LCCACPUS(,@15)                                  0855
         L     REG13,WSACRSTI(,@15)                                0855
*   REG4=UCBPTR+UCBPRELN;           /* SET UP FOR IOSGEN             */
         LA    REG4,512                                            0856
         ALR   REG4,UCBPTR                                         0856
*   REG5=ADDR(IOSGTABL);            /* PATH TABLE ADDRESS            */
         LA    REG5,IOSGTABL(,REG8)                                0857
*   GEN CODE;                                                      0858
         IOSGEN MAP,VAR=ONE
*   RFY                                                            0859
*    (REG4,                                                        0859
*     REG5,                                                        0859
*     REG13,                                                       0859
*     REG14) UNRSTD;                                               0859
*   GEN(TITLE ' IECVRSTI - ASYNCHRONOUS MESSAGE INTERFACE');       0860
*                                                                  0860
         TITLE ' IECVRSTI - ASYNCHRONOUS MESSAGE INTERFACE'
*/***************************************************************  0861
**       THIS SUBROUTINE INTERFACES WITH THE SYSTEM ASYNCHRONOUS   0861
**       RECORDING FACILITY VIA THE RECORD MACRO. THE MESSAGE      0861
**       BUFFER IS INPUT BY THE CALLER AND RECORDIT TRIES TO       0861
**       HAVE THE RECORD FUNCTION TRANSFER THIS INFORMATION TO     0861
**       ITS BUFFERS FOR EVENTUAL RECORDING. IF THE RECORDING      0861
**       ROUTINE IS UNABLE TO GET BUFFERS I/O RESTART GOES         0861
**       TO THE STORAGE MANAGER FOR ANOTHER MESSAGE BUFFER         0861
**       AND GIVES THE CURRENT ONE TO THE RECORD FUNCTION.         0861
**            NOTE: THESE BUFFERS ARE LOST TO THE STORAGE          0861
**                 MANAGER IF THIS IS DONE.                        0861
***************************************************************      */
*                                                                  0861
*   RFY                                                            0861
*    (REG1,                                                        0861
*     REG4,                                                        0861
*     REG11,                                                       0861
*     REG12,                                                       0861
*     REG13,                                                       0861
*     REG14,                                                       0861
*     REG15) RSTD;                                                 0861
*RECORDIT:                                                         0862
*   ;                                                              0862
RECORDIT DS    0H                                                  0863
*   REG4=REG14;                     /* SAVE RETURN ADDRESS           */
         LR    REG4,REG14                                          0863
*   REG1=ADDR(MESSBUF);             /* GET MESS BUF ADDR             */
         L     REG1,MESSPTR(,REG8)                                 0864
         LA    REG1,MESSBUF(,REG1)                                 0864
*   MSGAD=REG1;                     /* SAVE MSG ADDR IN CASE REISSUE
*                                      NEEDED                        */
         ST    REG1,MSGAD(,REG8)                                   0865
*   REG13=WSACRSTI;                 /* GET SAVE AREA PTR             */
         L     @06,PSALCCAV                                        0866
         L     @06,LCCACPUS(,@06)                                  0866
         L     REG13,WSACRSTI(,@06)                                0866
*RCD1:                                                             0867
*   ;                               /* ISSUE RECORD                  */
RCD1     DS    0H                                                  0868
*   GEN CODE;                                                      0868
         LH    @11,0(@01)              GET WTO LENGTH
         LA    @11,4(@11)              ADD FOR HEADER
         RECORD TYPE=WTO,DATAADR=(@01),BUFFER=YES,RCVRY=SETFRR,        *
               LENGTH=(@11)
*   IF REG15=TWELVE                 /* NOT ENOUGH ROOM IN BUFFER?  0869
*                                                            @YM05483*/
*     THEN                                                         0869
         CH    REG15,@CH01904                                      0869
         BNE   @RF00869                                            0869
*     DO;                                                          0870
*       REG11=GET160;               /* SET TO GET NEW MSG BUFFER     */
         L     REG11,@CF03037                                      0871
*       REG15=IOCORMGT;             /* IOS STORAGE MGR ADDR          */
         L     @06,IORSIOCM(,REG8)                                 0872
         L     REG15,IOCORMGT(,@06)                                0872
*       CALL SMGRGB;                /* DO A GET BLOCK                */
         BALR  @14,@15                                             0873
*       MESSPTR=REG11;              /* SET NEW MESSAGE BUFF          */
         ST    REG11,MESSPTR(,REG8)                                0874
*       REG11->MSGENT=ONE;          /* SET MSG COUNT TO 1            */
         MVC   MSGENT(2,REG11),@CH00039                            0875
*RCRDIT2:                                                          0876
*       REG1=MSGAD;                 /* RELOAD MESSAGE PTR AND ISSUE
*                                      RECORD WITH BUFFER = NO       */
RCRDIT2  L     REG1,MSGAD(,REG8)                                   0876
*       GEN CODE;                                                  0877
         RECORD TYPE=WTO,DATAADR=(1),BUFFER=NO,RCVRY=SETFRR
*     END;                                                         0878
*   ELSE                                                           0879
*     ;                             /* GO TO RCRDIT2 REMOVED @YM04212*/
@RF00869 DS    0H                                                  0880
*   REG14=REG4;                     /* RESTORE RETURN REG            */
         LR    REG14,REG4                                          0880
*   GEN CODE;                                                      0881
        BR   @14                       RETURN TO CALLER
*   RFY                                                            0882
*    (REG1,                                                        0882
*     REG4,                                                        0882
*     REG11,                                                       0882
*     REG12,                                                       0882
*     REG13,                                                       0882
*     REG14,                                                       0882
*     REG15) UNRSTD;                                               0882
*   GEN(TITLE ' IECVRSTI - FRR');   /*                       @G552PLM*/
         TITLE ' IECVRSTI - FRR'
*/***********************************************************@YM05487*/
*/*     THE FUNCTIONAL RECOVERY ROUTINE FOR I/O RESTART      @YM05487*/
*/*     ATTEMPTS TO FREE OR RESTORE ANY SYSTEM RESOURCES     @YM05487*/
*/*     WHICH ARE HELD BY I/O RESTART AT THE TIME THE        @YM05487*/
*/*     ERROR OCCURRED. THE I/O RESTART FRR PERCOLATES TO    @YM05487*/
*/*     THE CALLERS FRR TO INDICATE THAT THE I/O RESTART     @YM05487*/
*/*     FUNCTION FAILED.                                     @YM05487*/
*/***********************************************************@YM05487*/
*/***********************************************************@YM05487*/
*/*     ESTABLISH ADDRESSABILITY AND INITIALIZE SDWA         @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0884
*   RFY                                                            0884
*    (REG1,                                                        0884
*     REG14,                                                       0884
*     REG15,                                                       0884
*     REG4,                                                        0884
*     REG5,                                                        0884
*     REG9) RSTD;                   /*                       @YM05487*/
*IORFRR:                            /*                       @YM05487*/
*   GEN CODE;                                                      0885
IORFRR   DS    0H                                                  0885
*                                                         /* @YM05487*/
    LR    REG10,REG15                  GET BASE ADDRESS        @YM05487
         LA    REG15,IORFRR-IECVRSTI    GET 1ST BASE           @OZ06051
         SR    REG10,REG15              ADDRESSIBILITY         @OZ06051
         LA    REG2,4094(,REG10)        GET 2ND BASE           @OZ06051
*   DO;                             /* SETRP RECORD(YES)RC(0)        */
*     RESPECIFY                                                    0887
*      (GPR00P,                                                    0887
*       GPR01P,                                                    0887
*       GPR14P,                                                    0887
*       GPR15P) RSTD;                                              0887
*     GPR01P->SDWARCDE=0;           /* SAVE RC VALUE                 */
         MVI   SDWARCDE(GPR01P),X'00'                              0888
*     GPR01P->SDWARCRD='1'B;        /* TURN ON RECORD INDICATOR      */
         OI    SDWARCRD(GPR01P),B'10000000'                        0889
*     RESPECIFY                                                    0890
*      (GPR00P,                                                    0890
*       GPR01P,                                                    0890
*       GPR14P,                                                    0890
*       GPR15P) UNRSTD;                                            0890
*   END;                            /* REQUEST NO RETRY,THEREFORE  0891
*                                      PERCOLATE TO NEXT FRR @YM05487*/
*   SDWAMODN=MODNAME;               /* MODULE NAME IN SDWA   @YM05487*/
         MVC   SDWAMODN(8,REG1),MODNAME                            0892
*   SDWACSCT=MODNAME;               /* CSECT NAME IN SDWA    @YM05487*/
         MVC   SDWACSCT(8,REG1),MODNAME                            0893
*   SDWAREXN=FRRNAME;               /* FRR NAME IN SDWA      @YM05487*/
         MVC   SDWAREXN(8,REG1),FRRNAME                            0894
*/***********************************************************@YM05487*/
*/*     MAKE SURE I/O RESTART DOES NOT HOLD THE RESTART WORD @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0895
*   REG15=ADDR(CVTRSTWD);           /* GET ADDRESS OF RESTART WORD 0895
*                                                            @YM05487*/
         L     REG15,CVTPTR                                        0895
         LA    REG15,CVTRSTWD(,REG15)                              0895
*   REG5=ZERO;                      /* LOAD UNLOCKED VALUE   @YM05487*/
         SLR   REG5,REG5                                           0896
*   REG4=ZERO;                      /* CLEAR REGISTER        @YM05487*/
         SLR   REG4,REG4                                           0897
*   REG4=REG4×PSACPULA;             /* GET LOGICAL CPU ID    @YM05487*/
         LH    @12,PSACPULA                                        0898
         OR    REG4,@12                                            0898
*   GEN CODE(SLL @04,16);           /* PUT IN HIGH END       @YM05487*/
         SLL @04,16
*   REG4=REG4×IORID;                /* OR IN RESTART ID      @YM05487*/
         O     REG4,IORID                                          0900
*   GEN CODE(CS @04,@05,0(@15) );   /* IF I/O RESTART HAS WORD,THIS
*                                      WILL FREE IT,IF NOT RESTART 0901
*                                      WORD IS UNCHANGED     @YM05487*/
         CS @04,@05,0(@15)
*/***********************************************************@YM05487*/
*/*     GET POINTER TO I/O RESTART WORK AREA FROM FRR AREA   @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0902
*   REG9=SDWAPARM;                  /* GET FRR AREA PTR      @YM05487*/
         L     REG9,SDWAPARM(,REG1)                                0902
*   REG8=FRRIORWA;                  /* GET WORK AREA PTR     @YM05487*/
         L     REG8,FRRIORWA(,REG9)                                0903
*/***********************************************************@YM05487*/
*/*     IF WORK AREA POINTER IS ZERO,THERE IS NOTHING TO     @YM05487*/
*/*     BACK OUT OR FREE,RETURN TO RTM WITH PERCOLATE.       @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0904
*   IF REG8=ZERO THEN               /* IF NO WORK AREA       @G552PLM*/
         LTR   REG8,REG8                                           0904
         BNZ   @RF00904                                            0904
*     DO;                           /* RETURN TO RTM         @G552PLM*/
*       IF FRRIOSUP=ON1 THEN        /* IF WE SET SUPER BIT   @G552PLM*/
         TM    FRRIOSUP(REG9),B'10000000'                          0906
         BNO   @RF00906                                            0906
*         DO;                       /*                       @G552PLM*/
*           PSAIOSUP=OFF1;          /* TURN IT OFF           @G552PLM*/
         NI    PSAIOSUP,B'01111111'                                0908
*           FRRIOSUP=OFF1;          /* IND WE TURNED OFF     @G552PLM*/
         NI    FRRIOSUP(REG9),B'01111111'                          0909
*         END;                      /*                       @G552PLM*/
*       ELSE                                                       0911
*         ;                         /*                       @G552PLM*/
@RF00906 DS    0H                                                  0912
*       GEN CODE(BR    @14);        /* RETURN TO RTM         @G552PLM*/
         BR    @14
*     END;                          /*                       @G552PLM*/
*   ELSE                                                           0914
*     ;                             /*                       @G552PLM*/
@RF00904 DS    0H                                                  0915
*                                                                  0915
*/***********************************************************@YM05487*/
*/*     RELEASE UCBLOCK IF HELD                              @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0915
*   IF LOCKUCB=ON1                  /* UCB LOCK HELD ?       @YM05487*/
*     THEN                                                         0915
         TM    LOCKUCB(REG8),B'10000000'                           0915
         BNO   @RF00915                                            0915
*     DO;                           /* YES                   @YM05487*/
*       SDWAIUCB=ON1;               /* REQUEST RTM FREE IT   @YM05487*/
         OI    SDWAIUCB(REG1),B'10000000'                          0917
*       SDWAIULW=LOCKADDR;          /* PASS LOCK ADDRESS     @YM05487*/
         MVC   SDWAIULW(4,REG1),LOCKADDR(REG8)                     0918
*       LOCKUCB=OFF1;               /* LOCK NOT HELD         @YM05487*/
         NI    LOCKUCB(REG8),B'01111111'                           0919
*     END;                          /*                       @YM05487*/
*/***********************************************************@YM05487*/
*/*     RESTORE RESTART NEW PSW IF CHANGED                   @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0921
*   REG5=REG14;                     /* SAVE RETURN REG       @G51BPLC*/
@RF00915 LR    REG5,REG14                                          0921
*   CALL IGFPSAD0;                  /* OBTAIN AUTHORIZATION  @G51BPLC*/
         L     @15,@CV03195                                        0922
         BALR  @14,@15                                             0922
*   IF FLCRNPSW(FIVE:EIGHT)=RSTKEYAD/* IF RESTART NEW PSW POINTS TO
*                                      I/O RESTART           @YM05487*/
*     THEN                                                         0923
         CLC   FLCRNPSW+4(4),RSTKEYAD                              0923
         BNE   @RF00923                                            0923
*     FLCRNPSW=RSPSW1;              /* THEN RESTORE          @YM05487*/
         MVC   FLCRNPSW(8),RSPSW1(REG8)                            0924
*/***********************************************************@YM05487*/
*/*     RESTORE I/O NEW PSW IF CHANGED                       @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0925
*   IF IONEWPSW=ON1                 /* I/O NEW PSW CHANGED   @YM05487*/
*     THEN                                                         0925
@RF00923 TM    IONEWPSW(REG8),B'00100000'                          0925
         BNO   @RF00925                                            0925
*     DO;                           /*                       @YM05487*/
*       FLCINPSW(FIVE:EIGHT)=IONEWSAV;/* RESTORE IO NEW      @G552PLM*/
         MVC   FLCINPSW+4(4),IONEWSAV(REG8)                        0927
*       IONEWPSW=OFF1;              /* NOT CHANGED           @YM05487*/
         NI    IONEWPSW(REG8),B'11011111'                          0928
*     END;                          /*                       @YM05487*/
*   CALL IGFPSAE0;                  /* RELEASE AUTHORIZATION@G51BPLC */
@RF00925 L     @15,@CV03196                                        0930
         BALR  @14,@15                                             0930
*   REG14=REG5;                     /* RESTORE RETURN REG    @G51BPLC*/
         LR    REG14,REG5                                          0931
*/***********************************************************@YM05487*/
*/*     RESTORE SYSTEM CONTROL REGISTER 2 IF CHANGED         @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0932
*   IF CTLREG=ON1                   /* CTL REG2 CHANGED ?    @YM05487*/
*     THEN                                                         0932
         TM    CTLREG(REG8),B'00001000'                            0932
         BNO   @RF00932                                            0932
*     DO;                           /*                       @YM05487*/
*       GEN CODE( LCTL @02,@02,CNTRLSAV(@08));/* RESTORE     @YM05487*/
          LCTL @02,@02,CNTRLSAV(@08)
*       CTLREG=OFF1;                /* FLAG OFF              @YM05487*/
         NI    CTLREG(REG8),B'11110111'                            0935
*     END;                          /*                       @YM05487*/
*/***********************************************************@G552PLM*/
*/*     IF LOST CHANNEL FOUND A RESERVED DEVICE, LOAD A      @G552PLM*/
*/*     DISABLED WAIT STATE                                  @G552PLM*/
*/***********************************************************@G552PLM*/
*                                                                  0937
*   SDWAADDR=ADDR(SDWA);            /* IF LOAD WAIT ADDR OF SDWA IN
*                                      IORWORK               @G552PLM*/
@RF00932 ST    REG1,SDWAADDR(,REG8)                                0937
*   IF FRRLCRSV='1'B THEN           /* IF RESERVED DEVICE    @G552PLM*/
         TM    FRRLCRSV(REG9),B'00100000'                          0938
         BO    @RT00938                                            0938
*     GO TO LOSTCHWT;               /* LOAD DISABLED WAIT    @G552PLM*/
*   IF INDICAT=LOSTCHAN&            /* IF LOST CHAN AND      @G552PLM*/
*       FRRLCSRB='0'B THEN          /* SRB STILL RESERVED    @G552PLM*/
         CLC   INDICAT(1,REG8),LOSTCHAN                            0940
         BNE   @RF00940                                            0940
         TM    FRRLCSRB(REG9),B'01000000'                          0940
         BNZ   @RF00940                                            0940
*     PWAEDSRB=0;                   /* UNALLOCATE SRB        @G552PLM*/
         L     @12,PWAPTR(,REG8)                                   0941
         MVI   PWAEDSRB(@12),X'00'                                 0941
*/***********************************************************@YM05487*/
*/*     RETURN WORK AREAS TO STORAGE MANAGER                 @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0942
*   RFY                                                            0942
*    (REG11,                                                       0942
*     REG13) RSTD;                                                 0942
@RF00940 DS    0H                                                  0943
*   REG5=REG14;                     /* SAVE RETURN REGISTER  @YM05487*/
         LR    REG5,REG14                                          0943
*   REG4=REG1;                      /* SAVE SDWA POINTER     @YM05487*/
         LR    REG4,REG1                                           0944
*   MBLKCHN=BLKCHAIN;               /* GET BLOCK POINTER     @YM05487*/
         L     @12,MESSPTR(,REG8)                                  0945
         MVC   MBLKCHN(4,@12),BLKCHAIN(REG8)                       0945
*   BLKCHAIN=MESSPTR;               /* PUT BUFFER IN CHAIN   @YM05487*/
         ST    @12,BLKCHAIN(,REG8)                                 0946
*   REG13=WSACRSTI;                 /* POINT TO SAVE AREA    @YM05487*/
         L     @06,PSALCCAV                                        0947
         L     @06,LCCACPUS(,@06)                                  0947
         L     REG13,WSACRSTI(,@06)                                0947
*   REG11=FREE160;                  /* SET UP PARAMETER      @YM05487*/
         LA    REG11,32                                            0948
*   REG15=IOCORMGT;                 /* GET ENTRY ADDRESS     @YM05487*/
         L     @12,IORSIOCM(,REG8)                                 0949
         L     REG15,IOCORMGT(,@12)                                0949
*   REG1=REG8;                      /* POINT TO FIRST BLOCK  @YM05487*/
         LR    REG1,REG8                                           0950
*   GEN CODE(BAL   @14,4(@15));     /* GO TO STORAGE MGR+4   @YM05487*/
         BAL   @14,4(@15)
*   RFY                                                            0952
*    (REG11,                                                       0952
*     REG13) UNRSTD;                                               0952
*                                                                  0952
*/***********************************************************@YM05487*/
*/*     TURN OFF IOS SUPER BIT IF I TURNED IT ON             @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0953
*   IF FRRIOSUP=ON1                 /* DID I TURN ON IOS SUPER BIT 0953
*                                                            @YM05487*/
*     THEN                                                         0953
         TM    FRRIOSUP(REG9),B'10000000'                          0953
         BNO   @RF00953                                            0953
*     DO;                           /* YES I DID IT          @YM05487*/
*       PSAIOSUP=OFF1;              /* TURN IT OFF           @YM05487*/
         NI    PSAIOSUP,B'01111111'                                0955
*       FRRIOSUP=OFF1;              /* INDICATE I TURNED IT OFF    0956
*                                                            @YM05487*/
         NI    FRRIOSUP(REG9),B'01111111'                          0956
*     END;                          /*                       @YM05487*/
*/***********************************************************@YM05487*/
*/*     RETURN TO RTM WITH PERCOLATE REQUEST                 @YM05487*/
*/***********************************************************@YM05487*/
*                                                                  0958
*   REG14=REG5;                     /* RESTORE RETURN REG    @YM05487*/
@RF00953 LR    REG14,REG5                                          0958
*   REG1=REG4;                      /* RESTORE SDWA PTR      @YM05487*/
         LR    REG1,REG4                                           0959
*   GEN CODE( BR @14);              /* RETURN TO RTM         @YM05487*/
          BR @14
*   GEN(TITLE ' IECVRSTI - UCB PROCESSOR RTN - UCBACT');/*   @G552PLM*/
         TITLE ' IECVRSTI - UCB PROCESSOR RTN - UCBACT'
*UCBACT:                                                           0962
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);/* PROCESS A UCB         @G552PLM*/
         B     @PB00002                                            0962
UCBACT   DS    0H                                                  0963
*/***************************************************************  0963
**       THE FOLLOWING CODE  PERFORMS SEVERAL FUNCTIONS.           0963
**       1) JUSTIFY THE UCB POINTER TO THE PREFIX.                 0963
**       2) GET THE UCB LOCK.                                      0963
**       3) DETERMINE (VIA A CALL TO IOSGEN) WHETHER THERE ARE     0963
**          ANY PATHS LEFT TO THE DEVICE FROM THE GOOD CPU.        0963
**       4) IF THERE IS A GOOD PATH THAT PATH IS PUT IN THE        0963
**          RESERVE TABLE FOR TEMP HOLD.                           0963
**       5) IF THERE ARE NO PATHS THE FIRST PATH TO THE DEVICE     0963
**          IS PUT IN THE RESERVE TABLE FOR TEMP HOLD. IN          0963
**          ADDITION THE DEVICE IS MARKED OFFLINE FOR HEIRARCHY    0963
**          REASONS AND A DESCRIPTIVE MESSAGE IS BUILT.            0963
***************************************************************      */
*                                                                  0963
*   UCBACTRT=REG14;                 /* SAVE RET ADDR         @G552PLM*/
         ST    REG14,UCBACTRT(,REG8)                               0963
*   PATHAVIL=ON1;                   /* SET PATH AVAILABLE AS INITIAL
*                                      STATE                         */
         OI    PATHAVIL(REG8),B'00010000'                          0964
*   UCBPTR=UCBPTR-UCBPRELN;         /* JUSTIFY TO UCB PREFIX         */
         SH    UCBPTR,@CH03050                                     0965
*   RFY                                                            0966
*    (REG11) RSTD;                                                 0966
*   RFY                                                            0967
*    (REG14) RSTD;                                                 0967
*   RFY                                                            0968
*    (REG13) RSTD;                                                 0968
*   RFY                                                            0969
*    (REG12) RSTD;                                                 0969
*   IF UCBMTPXP=ON1                 /* MULT EXPOSURE DEVICE          */
*     THEN                                                         0970
         LA    @06,512                                             0970
         ALR   @06,UCBPTR                                          0970
         TM    UCBMTPXP(@06),B'00001000'                           0970
         BNO   @RF00970                                            0970
*     REG11=ADDR(UCBBASE->UCBLOCK); /* YES - LOCK ON BASE            */
         L     REG11,UCBBASE(,@06)                                 0971
         LA    REG11,UCBLOCK(,REG11)                               0971
*   ELSE                                                           0972
*     REG11=ADDR(UCBLOCK);          /* NO - LOCK ON UCB              */
         B     @RC00970                                            0972
@RF00970 LA    REG11,UCBLOCK(,UCBPTR)                              0972
*   LOCKADDR=REG11;                 /* SAVE UCBLOCK ADDR.    @YM05487*/
@RC00970 ST    REG11,LOCKADDR(,REG8)                               0973
*   GEN;                                                           0974
GLOCK1   SETLOCK   OBTAIN,TYPE=IOSUCB,ADDR=(11),RELATED=(UCB,IECVRSTI(FX
               RLOCK1)),MODE=UNCOND
*   LOCKUCB=ON1;                    /* UCB LOCK HELD         @YM05487*/
         OI    LOCKUCB(REG8),B'10000000'                           0975
*   RFY                                                            0976
*    (REG11,                                                       0976
*     REG12) UNRSTD;                                               0976
*   RFY                                                            0977
*    (REG4,                                                        0977
*     REG5) RSTD;                                                  0977
*   CALL IOSGIFAC;                  /* CALL IOSGEN CODE              */
         BAL   @14,IOSGIFAC                                        0978
*IOSGRTN1:                                                         0979
*   ;                                                              0979
*                                                                  0979
IOSGRTN1 DS    0H                                                  0980
*/***********************************************************@G552PLM*/
*/* DETERMINE IF PATH TO DEVICE IS AVAILABLE                 @G552PLM*/
*/*                                                                  */
*/* NOTE -                                                           */
*/*        THE FLAG UCBIORST HAS TWO MEANINGS.                       */
*/*        IT CAN MEAN I/O IS ACTIVE FOR THE DEVICE VIA A CRH        */
*/*        CONNECTED CHANNEL ATTACHED TO AN OFFLINE CPU.             */
*/*        IT CAN ALSO MEAN THAT A DEVICE IS LOST TO THE SYSTEM (NO  */
*/*        PATHS TO THE DEVICE EXIST) AND IOS MUST REJECT ANY        */
*/*        REQUESTS FOR THE DEVICE.                                  */
*/*                                                                  */
*/*        I/O RESTART ACR CALLER - IF UCBIORST IS ON, DEVICE HAS    */
*/*        ALREADY BEEN PROCESSED.  IT CANNOT BE ACTIVE.             */
*/*                                                                  */
*/*        I/O RESTART LOSTCHAN CALLER - DEPENDENT ON CRHCHSW        */
*/*                                                                  */
*/*          UCBIORST  CRHCHSW                                       */
*/*                                                                  */
*/*             1         1       I/O RESTART IS PROCESSING A CRH    */
*/*                               CONNECTED LOSTCHAN.  DEVICE MAY BE */
*/*                               REFERENCED OVER CONNECTION AND     */
*/*                               MUST BE PROCESSED.                 */
*/*                                                                  */
*/*             0         1       I/O RESTART IS PROCESSING A CRH    */
*/*                               CONNECTED LOSTCHAN.  DEVICE IS NOT */
*/*                               BEING USED OVER CRH CONNECTION AND */
*/*                               MUST NOT BE PROCESSED AS IT MAY BE */
*/*                               CONNECTED TO THIS CPU.             */
*/*                                                                  */
*/*             0         0       I/O RESTART IS PROCESSING A LOST   */
*/*                               CHANNEL ATTACHED TO THIS CPU.      */
*/*                               DEVICE IS NOT ACTIVE OVER A CRH    */
*/*                               CONNECTION AND MUST BE PROCESSED.  */
*/*                                                                  */
*/*             1         0       I/O RESTART IS PROCESSING A LOST   */
*/*                               CHANNEL ATTACHED TO THIS CPU.      */
*/*                               DEVICE HAS EITHER BEEN PROCESSED   */
*/*                               OR IS ACTIVE OVER CRH CONNECTED    */
*/*                               CHANNEL.  DEVICE MUST NOT BE       */
*/*                               PROCESSED.                         */
*/*                                                                  */
*/*        IF UCBIORST=CRHCHSW PROCESS DEVICE ELSE BYPASS            */
*/*                                                                  */
*/***********************************************************@G552PLM*/
*                                                                  0980
*   ENTUCB(ENTCNT)=UCBPTR;          /* UCB ADR IN RSV TAB ENTRY    0980
*                                                            @G552PLM*/
         L     @12,RSVTBLPT(,REG8)                                 0980
         L     @11,ENTCNT(,@12)                                    0980
         SLA   @11,3                                               0980
         ST    UCBPTR,ENTUCB-8(@11,@12)                            0980
*   IF INDICAT=ACR THEN             /* IF PROCESSING FOR ACR @G552PLM*/
         CLI   INDICAT(REG8),X'00'                                 0981
         BNE   @RF00981                                            0981
*     DO;                           /* ONLY THIS CPU ONLINE  @G552PLM*/
*       IF UCBIORST=ON1 THEN        /* IF UCB ALREADY DONE   @G552PLM*/
         TM    UCBIORST+512(UCBPTR),B'10000000'                    0983
         BO    @RT00983                                            0983
*         GO TO CKACTV;             /* GO TO CKACTV TO FREE LOCK,  0984
*                                      DEVICE CANNOT BE ACTIVE       */
*       ELSE                                                       0985
*         ;                                                        0985
*       ENT(ENTCNT,ONE:TWO)=PATH1;  /* INIT PATH IN RSV TAB  @G552PLM*/
         ALR   @12,@11                                             0986
         MVC   ENT-8(2,@12),PATH1(REG8)                            0986
*       REG5=PSACPUSA+ONE;          /* INDEX FOR THIS CPU    @G552PLM*/
         LA    REG5,1                                              0987
         AH    REG5,PSACPUSA                                       0987
*       IF PSTAT1(REG5)=ONLINEG     /* IF PRIMARY PATH AVAIL @G552PLM*/
*         THEN                                                     0988
         LR    @12,REG8                                            0988
         ALR   @12,REG5                                            0988
         CLI   PSTAT1-1(@12),X'01'                                 0988
         BE    @RT00988                                            0988
*         ;                         /* PATH ADDR ALREADY SET @G552PLM*/
*       ELSE                        /*                       @G552PLM*/
*         DO;                       /*                       @G552PLM*/
*           IF PSTAT2(REG5)=ONLINEG THEN/* IF SECONDARY      @G552PLM*/
         LR    @12,REG8                                            0991
         ALR   @12,REG5                                            0991
         CLI   PSTAT2-1(@12),X'01'                                 0991
         BNE   @RF00991                                            0991
*             ENT(ENTCNT,ONE:TWO)=PATH2;/* SET PATH ADDR     @G552PLM*/
         L     @12,RSVTBLPT(,REG8)                                 0992
         L     @11,ENTCNT(,@12)                                    0992
         SLA   @11,3                                               0992
         ALR   @12,@11                                             0992
         MVC   ENT-8(2,@12),PATH2(REG8)                            0992
*           ELSE                                                   0993
*             PATHAVIL=OFF1;        /* NO PATH AVAIL         @G552PLM*/
         B     @RC00991                                            0993
@RF00991 NI    PATHAVIL(REG8),B'11101111'                          0993
*         END;                      /*                       @G552PLM*/
*     END;                          /* END ACR PORTION       @G552PLM*/
*   ELSE                            /* PROCESS FOR LOST CHAN @G552PLM*/
*     DO;                           /* ALL CPU'S STILL ONLINE      0996
*                                                            @G552PLM*/
*                                                                  0996
         B     @RC00981                                            0996
@RF00981 DS    0H                                                  0997
*       /*************************************************************/
*       /*                                                           */
*       /* DETERMINE IF DEVICE SHOULD BE PROCESSED.          @G552PLM*/
*       /* SEE PREVIOUS BIG BLOCK COMMENT.                   @G552PLM*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  0997
*       IF(UCBIORST=ON1&CRHCHSW=ON1)×/*                      @G552PLM*/
*           (UCBIORST=OFF1&CRHCHSW=OFF1) THEN                      0997
         TM    UCBIORST+512(UCBPTR),B'10000000'                    0997
         BNO   @GL00021                                            0997
         TM    CRHCHSW(REG8),B'01000000'                           0997
         BO    @RT00997                                            0997
@GL00021 TM    UCBIORST+512(UCBPTR),B'10000000'                    0997
         BNZ   @RF00997                                            0997
         TM    CRHCHSW(REG8),B'01000000'                           0997
         BNZ   @RF00997                                            0997
@RT00997 DS    0H                                                  0998
*         ;                         /*                       @G552PLM*/
*       ELSE                                                       0999
*         GO TO FREELOCK;           /*                       @G552PLM*/
*       ENT(ENTCNT,ONE:TWO)=UCBCHAN;/* DEV ADR LAST I/O OPER @G552PLM*/
         L     @12,RSVTBLPT(,REG8)                                 1000
         L     @11,ENTCNT(,@12)                                    1000
         SLA   @11,3                                               1000
         ALR   @12,@11                                             1000
         MVC   ENT-8(2,@12),UCBCHAN+512(UCBPTR)                    1000
*       IF PSTAT1(ONE)=ONLINEG×     /* IF                    @G552PLM*/
*           PSTAT1(TWO)=ONLINEG×    /* ANY                   @G552PLM*/
*           PSTAT2(ONE)=ONLINEG×    /* PATH                  @G552PLM*/
*           PSTAT2(TWO)=ONLINEG     /* ONLINE                @G552PLM*/
*         THEN                                                     1001
         CLI   PSTAT1(REG8),X'01'                                  1001
         BE    @RT01001                                            1001
         CLI   PSTAT1+1(REG8),X'01'                                1001
         BE    @RT01001                                            1001
         CLI   PSTAT2(REG8),X'01'                                  1001
         BE    @RT01001                                            1001
         CLI   PSTAT2+1(REG8),X'01'                                1001
         BE    @RT01001                                            1001
*         ;                         /* DEVICE IS STILL AVAILABE    1002
*                                                            @G552PLM*/
*       ELSE                                                       1003
*         PATHAVIL=OFF1;            /* DEVICE LOST TO SYSTEM @G552PLM*/
         NI    PATHAVIL(REG8),B'11101111'                          1003
*     END;                          /*                       @G552PLM*/
@RT01001 DS    0H                                                  1005
*   IF PATHAVIL=OFF1 THEN           /* IF NO PATH            @G552PLM*/
@RC00981 TM    PATHAVIL(REG8),B'00010000'                          1005
         BNZ   @RF01005                                            1005
*     DO;                           /* EXISTS                @G552PLM*/
*                                                                  1006
*       /*************************************************************/
*       /*                                                           */
*       /* *****************************                     @G552PLM*/
*       /* NO PATH TO DEVICE EXISTS.                         @G552PLM*/
*       /* FORCE DEVICE OFFLINE AND PUT                      @G552PLM*/
*       /* DEVICE ADDR IN MESG IEA004I.                      @G552PLM*/
*       /* *****************************                     @G552PLM*/
*       /*                                                           */
*       /*************************************************************/
*                                                                  1007
*       IF UCBMTPXP=ON1             /* MULT EXP DEV                  */
*         THEN                                                     1007
         LA    @12,512                                             1007
         ALR   @12,UCBPTR                                          1007
         TM    UCBMTPXP(@12),B'00001000'                           1007
         BNO   @RF01007                                            1007
*         IF UCBBASE^=UCBPTR        /* IS THIS THE BASE              */
*           THEN                                                   1008
         C     UCBPTR,UCBBASE(,@12)                                1008
         BNE   @RT01008                                            1008
*           GO TO ADACK;            /* NO DON'T BLD MSG              */
*         ELSE                                                     1010
*           ;                                                      1010
*       ELSE                                                       1011
*         ;                                                        1011
@RF01007 DS    0H                                                  1012
*       IORONLI=OFF1;               /* SET UCB OFFLINE TO PREVENT  1012
*                                      ALLOCATION            @G552PLM*/
         L     @12,IORONLI+509(,UCBPTR)                            1012
@GL00027 LR    @11,@12                                             1012
         N     @11,@CF03351                                        1012
         CS    @12,@11,IORONLI+509(UCBPTR)                         1012
         BNE   @GL00027                                            1012
*       IORVHRSN=ON1;               /* SET HEIRARCHY REASON BIT FOR
*                                      VARY COMMANDS         @G552PLM*/
         L     @12,IORVHRSN+512(,UCBPTR)                           1013
@GL00028 LR    @11,@12                                             1013
         O     @11,@CF03354                                        1013
         CS    @12,@11,IORVHRSN+512(UCBPTR)                        1013
         BNE   @GL00028                                            1013
*       IF MSGENT=ONE               /* IS THIS THE FIRST ENTRY IN A
*                                      MESSAGE                       */
*         THEN                                                     1014
         L     @12,MESSPTR(,REG8)                                  1014
         LH    @11,MSGENT(,@12)                                    1014
         CH    @11,@CH00039                                        1014
         BNE   @RF01014                                            1014
*         INTMSG(MSGENT,ONE:ONE)=':';/* SET FIRST CHAR ':'           */
         SLA   @11,2                                               1015
         ALR   @12,@11                                             1015
         MVI   INTMSG+4(@12),C':'                                  1015
*       ELSE                                                       1016
*         INTMSG(MSGENT,ONE:ONE)=',';/* SET COMMA ','                */
         B     @RC01014                                            1016
@RF01014 L     @12,MESSPTR(,REG8)                                  1016
         LH    @11,MSGENT(,@12)                                    1016
         SLA   @11,2                                               1016
         ALR   @12,@11                                             1016
         MVI   INTMSG+4(@12),C','                                  1016
*       INTMSG(MSGENT,TWO:FOUR)=UCBNAME;/* SET EBCDIC NAME IN MSG    */
@RC01014 L     @12,MESSPTR(,REG8)                                  1017
         LH    @11,MSGENT(,@12)                                    1017
         LR    @06,@11                                             1017
         SLA   @06,2                                               1017
         LA    @03,8                                               1017
         ALR   @12,@03                                             1017
         ALR   @12,@06                                             1017
         MVC   INTMSG-3(3,@12),UCBNAME+512(UCBPTR)                 1017
*       IF MSGENT=MSGMAX            /* IS MESSAGE BUF FULL           */
*         THEN                                                     1018
         CR    @11,@03                                             1018
         BNE   @RF01018                                            1018
*         DO;                                                      1019
*           CALL RECORDIT;          /* CALL RTN TO PRINT MSG         */
         BAL   @14,RECORDIT                                        1020
*           MSG004(ONE:LENGTH(MSG004))=IEA004I(ONE:LENGTH(MSG004));/*
*                                      RESET MESSAGE IN BUFF         */
         L     @12,MESSPTR(,REG8)                                  1021
         LA    @11,8                                               1021
         ALR   @11,@12                                             1021
         MVC   MSG004(88,@11),IEA004I                              1021
*           MSG004(TWENTY:FIFTY1)=BLANK1;/* BLANK OUT FIRST CHAR     */
         MVI   MSG004+20(@11),C' '                                 1022
         MVC   MSG004+21(30,@11),MSG004+20(@11)                    1022
         MVI   MSG004+19(@11),C' '                                 1022
*           MSGENT=ONE;             /* RESET COUNTER                 */
         MVC   MSGENT(2,@12),@CH00039                              1023
*         END;                                                     1024
*       ELSE                                                       1025
*         MSGENT=MSGENT+ONE;        /* UP TO NEXT ENTRY              */
         B     @RC01018                                            1025
@RF01018 L     @12,MESSPTR(,REG8)                                  1025
         LA    @11,1                                               1025
         AH    @11,MSGENT(,@12)                                    1025
         STH   @11,MSGENT(,@12)                                    1025
*       UCBIORST=ON1;               /* SET UCB FOR RESTART INTERCEPT */
@RC01018 OI    UCBIORST+512(UCBPTR),B'10000000'                    1026
*     END;                                                         1027
*   RFY                                                            1028
*    (REG4) UNRSTD;                                                1028
@RF01005 DS    0H                                                  1029
*   RFY                                                            1029
*    (REG5) UNRSTD;                                                1029
*   RFY                                                            1030
*    (REG1) RSTD;                                                  1030
*                                                                  1031
*/***************************************************************  1031
**       THIS SECTION OF CODE SETS A STANDARD ERPIB IN THE         1031
**       PCCA ERPIB. IT THEN CHECKS TO SEE IF THE DEVICE IS        1031
**       RESERVED TO THE FAILING CPU. IF SO THE TEMPORARY          1031
**       ENTRY IN THE RESERVE TABLE IS MADE PERMENANT (BY          1031
**       UPPING THE ENTRY COUNT) AND THE ENTRY IS SET ONLINE       1031
**       OR OFFLINE AS APPROPRIATE. IF THE RESERVE TABLE IS        1031
**       FULL AFTER THIS ENTRY A NEW ONE IS ACQUIRED AND           1031
**       FORMATTED.                                                1031
***************************************************************      */
*                                                                  1031
*ADACK:                                                            1031
*   PCCAWERP(FIVE:EIGHT)=ERPIBSTD;  /* SET STANDARD ERPIB            */
ADACK    L     @12,PSAPCCAV                                        1031
         MVC   PCCAWERP+4(4,@12),ERPIBSTD                          1031
*   PCCACHUB=ADDR(UCBOB);           /* INSERT UCB ADDRESS            */
         LA    @11,512                                             1032
         ALR   @11,UCBPTR                                          1032
         ST    @11,PCCACHUB(,@12)                                  1032
*   IF((UCB3DACC=ON1&UCBRR=ON1&UCBRESVH=ON1)&(UCBCPU=CPUID)&(UCBSQC^=
*       ZERO))                      /* DIRECT ACCESS AND RESERVE   1033
*                                      RELEASE AND AND RSV ON THE DEV
*                                      ON FAILING CPU                */
*       &((INDICAT=ACR)×(INDICAT=LOSTCHAN&UCBCHA=CHANID))/* CALLER IS
*                                      ACR OR                @G552PLM
*                                      RSV WAS ON LOST CH    @G552PLM*/
*     THEN                                                         1033
         TM    UCB3DACC(@11),B'00100000'                           1033
         BNO   @RF01033                                            1033
         TM    UCBRR(@11),B'00100000'                              1033
         BNO   @RF01033                                            1033
         TM    UCBRESVH(@11),B'00010000'                           1033
         BNO   @RF01033                                            1033
         CLC   UCBCPU(1,@11),CPUID(REG8)                           1033
         BNE   @RF01033                                            1033
         CLI   UCBSQC(@11),0                                       1033
         BE    @RF01033                                            1033
         CLI   INDICAT(REG8),X'00'                                 1033
         BE    @RT01033                                            1033
         CLC   INDICAT(1,REG8),LOSTCHAN                            1033
         BNE   @RF01033                                            1033
         CLC   UCBCHA(1,@11),CHANID(REG8)                          1033
         BNE   @RF01033                                            1033
@RT01033 DS    0H                                                  1034
*     DO;                           /* YES - SET IN RESV TBL         */
*       IF INDICAT=LOSTCHAN         /* IF RSV FROM LOSTCHN   @G552PLM*/
*         THEN                                                     1035
         CLC   INDICAT(1,REG8),LOSTCHAN                            1035
         BNE   @RF01035                                            1035
*         FRRLCRSV='1'B;            /* INDICATE RSV FOUND    @G552PLM*/
         OI    FRRLCRSV(REG9),B'00100000'                          1036
*       IF PATHAVIL=OFF1            /* IS THERE A PATH               */
*         THEN                                                     1037
@RF01035 TM    PATHAVIL(REG8),B'00010000'                          1037
         BNZ   @RF01037                                            1037
*         DO;                       /* NO SET OFFLINE RESV           */
*           PCCACNOR=ON1;           /* SET NO RETRY                  */
         L     @12,PSAPCCAV                                        1039
         OI    PCCACNOR(@12),B'00000001'                           1039
*           ROFFLINE(ENTCNT)=ON1;   /* SET OFFLINE RESV IND          */
         L     @12,RSVTBLPT(,REG8)                                 1040
         L     @11,ENTCNT(,@12)                                    1040
         SLA   @11,3                                               1040
         ALR   @12,@11                                             1040
         OI    ROFFLINE-8(@12),B'10000000'                         1040
*         END;                                                     1041
*       ELSE                                                       1042
*         ;                                                        1042
@RF01037 DS    0H                                                  1043
*       IF ENTCNT=ENTMAX            /* IS THIS RESV TBL FULL         */
*         THEN                                                     1043
         L     @12,RSVTBLPT(,REG8)                                 1043
         CLC   ENTCNT(4,@12),@CF02947                              1043
         BNE   @RF01043                                            1043
*         DO;                       /* YES - GET ANOTHER TBL         */
*           RFY                                                    1045
*            (REG11,                                               1045
*             REG13,                                               1045
*             REG15) RSTD;                                         1045
*           REG13=WSACRSTI;         /* SAVE AREA ADDRESS             */
         L     @06,PSALCCAV                                        1046
         L     @06,LCCACPUS(,@06)                                  1046
         L     REG13,WSACRSTI(,@06)                                1046
*           REG15=IOCORMGT;         /* ADDRESS OF STORAGE MANAGER    */
         L     @12,IORSIOCM(,REG8)                                 1047
         L     REG15,IOCORMGT(,@12)                                1047
*           REG11=GET160;           /* GET 1 160 BYTE BLOCK          */
         L     REG11,@CF03037                                      1048
*           CALL SMGRGB;            /* GO TO STORAGE MANAGER         */
         BALR  @14,@15                                             1049
*           REG11->RSVTBL=REG11->RSVTBL&&REG11->RSVTBL;/* CLEAR NEW
*                                      TABLE                         */
         XC    RSVTBL(160,REG11),RSVTBL(REG11)                     1050
*           REG11->RCHAIN=BLKCHAIN; /* SET GOTTEN BLOCK TO POINT TO
*                                      CURRENT TBL                   */
         MVC   RCHAIN(4,REG11),BLKCHAIN(REG8)                      1051
*           BLKCHAIN=REG11;         /* CHAIN NEW FIRST BLK           */
         ST    REG11,BLKCHAIN(,REG8)                               1052
*           RSVTBLPT=REG11;         /* SET NEW BLK AS THE CURRENT  1053
*                                      RESV TBL                      */
         ST    REG11,RSVTBLPT(,REG8)                               1053
*           RFY                                                    1054
*            (REG15) UNRSTD;                                       1054
*           ENTCNT=ONE;             /* RESET ENTRY COUNT             */
         L     @15,RSVTBLPT(,REG8)                                 1055
         MVC   ENTCNT(4,@15),@CF00039                              1055
*         END;                                                     1056
*       ELSE                                                       1057
*         ENTCNT=ENTCNT+ONE;        /* INCREMENT ENT CNT             */
         B     @RC01043                                            1057
@RF01043 L     @15,RSVTBLPT(,REG8)                                 1057
         LA    @12,1                                               1057
         AL    @12,ENTCNT(,@15)                                    1057
         ST    @12,ENTCNT(,@15)                                    1057
*       UCBRESVH=OFF1;              /*                       @YM01377
*                                      SET UCB AS NOT RESVD TO     1058
*                                      PREVENT MULT ENTS             */
@RC01043 NI    UCBRESVH+512(UCBPTR),B'11101111'                    1058
*     END;                                                         1059
*   ELSE                                                           1060
*     DO;                           /* SET NO RETRY IF NECES         */
         B     @RC01033                                            1060
@RF01033 DS    0H                                                  1061
*       IF PATHAVIL=OFF1            /* IS THERE AN ONLINE PATH       */
*         THEN                                                     1061
         TM    PATHAVIL(REG8),B'00010000'                          1061
         BNZ   @RF01061                                            1061
*         PCCACNOR=ON1;             /* NO - SET NO RETRY             */
         L     @15,PSAPCCAV                                        1062
         OI    PCCACNOR(@15),B'00000001'                           1062
*       ELSE                                                       1063
*         ;                         /* CODE DELETED          @ZA24791*/
@RF01061 DS    0H                                                  1064
*     END;                                                         1064
*   RFY                                                            1065
*    (REG1) UNRSTD;                                                1065
@RC01033 DS    0H                                                  1066
*                                                                  1066
*/***************************************************************  1066
**       THIS SECTION OF CODE CHECKS TO SEE IF THE DEVICE WAS      1066
**       ACTIVE ON THE FAILING CPU AT THE TIME OF FAILURE. IF IT   1066
**       WAS THE FOLLOWING ACTIONS ARE PERFORMED:                  1066
**            1) THE HARDWARE CSW IS SET AS CHANNEL CONTROL        1066
**                 CHECK/INTERFACE CONTROL CHECK.                  1066
**            2) THE CPU FAILURE INDICATOR IS SET IN THE PCCA      1066
**                 ERPIB.                                          1066
**            3) FREE THE UCB LOCK.                                1066
**            4) SET THE IOS ENVIRONMENT BITS TO INDICATE A        1066
**               PSEUDO INTERRUPT.                                 1066
**            5) GO TO THE I/O SLIH TO PROCESS THE INTERRUPT.      1066
***************************************************************      */
*                                                                  1066
*CKACTV:                                                           1066
*   ;                                                              1066
CKACTV   DS    0H                                                  1067
*   IF UCBMTPXP=ON1                 /* MULT EXP DEVICE CK            */
*     THEN                                                         1067
         LA    @15,512                                             1067
         ALR   @15,UCBPTR                                          1067
         TM    UCBMTPXP(@15),B'00001000'                           1067
         BNO   @RF01067                                            1067
*     REG11=ADDR(UCBBASE->UCBLOCK); /* YES - GET BASE LOCK           */
         L     REG11,UCBBASE(,@15)                                 1068
         LA    REG11,UCBLOCK(,REG11)                               1068
*   ELSE                                                           1069
*     REG11=ADDR(UCBLOCK);          /* NO - GET UCB LOCK             */
         B     @RC01067                                            1069
@RF01067 LA    REG11,UCBLOCK(,UCBPTR)                              1069
*   IF((UCBBSY=ON1×UCBPSNS=ON1)&(UCBCPU=CPUID))/* IS THE DEVICE    1070
*                                      ACTIVE ON THE FAILING CPU     */
*       &((INDICAT=ACR)×            /* AND ERR IS ACR OR     @G552PLM*/
*       (INDICAT=LOSTCHAN&UCBCHA=CHANID&FRRLCRSV='0'B))/* ERR IS   1070
*                                      LOSTCHAN WITH LAST I/O OPER ON
*                                      LOSTCHAN AND NO RESERVES HAVE
*                                      YET BEEN FOUND. IF RESERVE  1070
*                                      FOUND DONT WASTE TIME       1070
*                                      SIMULATING INTERRUPT AS     1070
*                                      DISABLED WAIT WILL BE LOADED
*                                      AFTER ALL RESERVES HAVE BEEN
*                                      FOUND.                @G552PLM*/
*     THEN                                                         1070
@RC01067 LA    @15,512                                             1070
         ALR   @15,UCBPTR                                          1070
         TM    UCBBSY(@15),B'10010000'                             1070
         BZ    @RF01070                                            1070
         CLC   UCBCPU(1,@15),CPUID(REG8)                           1070
         BNE   @RF01070                                            1070
         CLI   INDICAT(REG8),X'00'                                 1070
         BE    @RT01070                                            1070
         CLC   INDICAT(1,REG8),LOSTCHAN                            1070
         BNE   @RF01070                                            1070
         CLC   UCBCHA(1,@15),CHANID(REG8)                          1070
         BNE   @RF01070                                            1070
         TM    FRRLCRSV(REG9),B'00100000'                          1070
         BNZ   @RF01070                                            1070
@RT01070 DS    0H                                                  1071
*     DO;                           /* YES SET CHANNEL ERRS          */
*       CALL IGFPSAD0;              /* OBTAIN AUTHORIZATION  @G51BPLG*/
         L     @15,@CV03195                                        1072
         BALR  @14,@15                                             1072
*       STATUS=CCCICCST;            /* SET CCC ICC IN CSW            */
         MVC   STATUS(2),@CB03054                                  1073
*       RSTIIOAA(TWO:THREE)=UCBCHAN;/* SET INTERRUPT ADDR    @G51BPLC*/
         MVC   RSTIIOAA+1(2),UCBCHAN+512(UCBPTR)                   1074
*       CALL IGFPSAE0;              /* RELEASE AUTHORIZATION @G51BPLC*/
         L     @15,@CV03196                                        1075
         BALR  @14,@15                                             1075
*       IF INDICAT=ACR THEN         /* IF ACR INDICATE       @G552PLM*/
         CLI   INDICAT(REG8),X'00'                                 1076
         BNE   @RF01076                                            1076
*         PCCACCPU=ON1;             /* CPU FAIL IN ERPIB     @G552PLM*/
         L     @15,PSAPCCAV                                        1077
         OI    PCCACCPU(@15),B'10000000'                           1077
*       ELSE                        /* FOR LOSTCHAN IND      @G552PLM*/
*         PCCACCHA=ON1;             /* CHAN FAIL IN ERPIB    @G552PLM*/
         B     @RC01076                                            1078
@RF01076 L     @15,PSAPCCAV                                        1078
         OI    PCCACCHA(@15),B'01000000'                           1078
*       RFY                                                        1079
*        (REG5,                                                    1079
*         REG12,                                                   1079
*         REG14) RSTD;                                             1079
@RC01076 DS    0H                                                  1080
*       GEN;                                                       1080
         SETLOCK RELEASE,TYPE=IOSUCB,ADDR=(11),RELATED=(UCB,IECVRSTI(GL*
               OCK1)),DISABLED                                 @YM01377
*       LOCKUCB=OFF1;               /* UCBLOCK NOT HELD      @YM05487*/
         NI    LOCKUCB(REG8),B'01111111'                           1081
*       RFY                                                        1082
*        (REG12,                                                   1082
*         REG14) UNRSTD;                                           1082
*       REG11=RSTIPINT;             /* SET ENVIRONMENT FOR IOS CALL  */
         LA    REG11,10                                            1083
*       REG5=ADIECINT;              /* ADDRESS OF INT HANDLER        */
         L     REG5,ADIECINT                                       1084
*       REG13=WSACRSTI;             /* SAVE AREA ADDRESS             */
         L     @06,PSALCCAV                                        1085
         L     @06,LCCACPUS(,@06)                                  1085
         L     REG13,WSACRSTI(,@06)                                1085
*       GEN CODE;                                                  1086
         STM   @00,@15,0(@13)          SAVE REGS
         BAL   @04,4(@05)              HANDLE SIMULATED INT
         LM    @00,@15,0(@13)          RESTORE REGS
*     END;                                                         1087
*   ELSE                                                           1088
*     DO;                                                          1088
         B     @RC01070                                            1088
@RF01070 DS    0H                                                  1089
*FREELOCK:                                                         1089
*       ;                           /* BRANCH HERE IF DEVICE NOT TO
*                                      BE PROCESSED FOR LOSTCHAN   1089
*                                                            @G552PLM*/
FREELOCK DS    0H                                                  1090
*       IF UCBMTPXP=ON1 THEN        /* MULTI EXPOSURE DEV    @G552PLM*/
         LA    @12,512                                             1090
         ALR   @12,UCBPTR                                          1090
         TM    UCBMTPXP(@12),B'00001000'                           1090
         BNO   @RF01090                                            1090
*         REG11=ADDR(UCBBASE->UCBLOCK);/* YES-GET BASE LOCK  @G552PLM*/
         L     REG11,UCBBASE(,@12)                                 1091
         LA    REG11,UCBLOCK(,REG11)                               1091
*       ELSE                                                       1092
*         REG11=ADDR(UCBLOCK);      /* NO -LOCK THIS UCB     @G552PLM*/
         B     @RC01090                                            1092
@RF01090 LA    REG11,UCBLOCK(,UCBPTR)                              1092
*       RFY                                                        1093
*        (REG12,                                                   1093
*         REG14) RSTD;                                             1093
@RC01090 DS    0H                                                  1094
*       GEN;                                                       1094
         SETLOCK RELEASE,TYPE=IOSUCB,ADDR=(11),RELATED=(UCB,IECVRSTI(GL*
               OCK1)),DISABLED                                 @YM01377
*       RFY                                                        1095
*        (REG5,                                                    1095
*         REG11,                                                   1095
*         REG12,                                                   1095
*         REG13,                                                   1095
*         REG14) UNRSTD;                                           1095
*       LOCKUCB=OFF1;               /* UCBLOCK NOT HELD      @YM05487*/
         NI    LOCKUCB(REG8),B'01111111'                           1096
*     END;                                                         1097
*   PCCAWERP(ONE:EIGHT)=PCCAWERP&&PCCAWERP;/* ZERO THE PCCA ERPIB    */
@RC01070 L     @12,PSAPCCAV                                        1098
         XC    PCCAWERP(8,@12),PCCAWERP(@12)                       1098
*   RFY                                                            1099
*     REG14 RSTD;                   /*                       @G552PLM*/
*   REG14=UCBACTRT;                 /* RESTORE RET ADDR      @G552PLM*/
         L     REG14,UCBACTRT(,REG8)                               1100
*   RFY                                                            1101
*     REG14 UNRSTD;                 /*                       @G552PLM*/
*   END UCBACT;                     /*                       @G552PLM*/
@EL00002 DS    0H                                                  1102
@EF00002 DS    0H                                                  1102
@ER00002 BR    @14                                                 1102
@PB00002 DS    0H                                                  1102
*   GEN(TITLE ' IECVRSTI - MESSAGES');                             1103
*                                                                  1103
         TITLE ' IECVRSTI - MESSAGES'
*/***************************************************************  1104
**       THE FOLLOWING MESSAGES ARE ISSUED ASYNCHRONOUSLY BY       1104
**       I/O RESTART TO INFORM THE OPERATOR OF ACTIONS TAKEN       1104
**       BY I/O RESTART IN ITS RECOVERY EFFORT.                    1104
***************************************************************      */
*                                                                  1104
*   GEN;                                                           1104
         DS     0F
ASMDATE  DC     CL8'&SYSDATE'
IEA003I  WTO   'IEA003I I/O MALFUNCTION ON DEVICE XXX. I/O TERMINATED.'X
               ,ROUTCDE=(1,10),DESC=(4),MF=L
IEA004I  WTO   'IEA004I DEVICE 11112222333344445555666677778888 SET FORX
                I/O REQUEST TERMINATION.',ROUTCDE=(1,10),DESC=(4),MF=L
IEA005I  WTO   'IEA005I DEVICE XXX RESERVED ON OFFLINE PATH Y FROM CPU *
               Z.',ROUTCDE=(1,10),DESC=(4),MF=L
IEA969A  WTO   'IEA969A WARNING - SIGP FAILED DURING ACR PROCESSING.',RX
               OUTCDE=(1,10),DESC=(4),MF=L
IEA410I  WTO   'IEA410I CHANNEL (X,Y) FORCED OFFLINE',                 X
               ROUTCDE=(1,10),DESC=(4),MF=L                    @G552PLM
*                                                              @YM04440
SIGPSCKS DC    X'00000050'         SENSE FOR STOP OR CK STOP   @ZA06051
IPR      EQU   X'07'          IPRCODE FOR SIGP                 @YM04440
CPURESET EQU   X'0C'          CPU RESET CODE FOR SIGP          @Y30CQLF
SIGPSTOP EQU   X'05'               SIGP STOP ORDER             @ZA06051
SIGPSEN  EQU   X'01'               SENSE ORDER                 @ZA06051
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */
*     GPR00P PTR(31) REG(0),                                       1105
*     GPR01P PTR(31) REG(1),                                       1105
*     GPR14P PTR(31) REG(14),                                      1105
*     GPR15P PTR(31) REG(15);                                      1105
*   DECLARE                         /* COMMON VARIABLES              */
*     I256C CHAR(256) BASED,                                       1106
*     I031F FIXED(31) BASED,                                       1106
*     I031P PTR(31) BASED,                                         1106
*     I015F FIXED(15) BASED,                                       1106
*     I015P PTR(15) BASED,                                         1106
*     I008P PTR(8) BASED,                                          1106
*     I001C CHAR(1) BASED;                                         1106
*   END IECVRSTI                                                   1107
*                                                                  1107
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (IECDCRCA)                                       */
*/*%INCLUDE SYSLIB  (CVT     )                                       */
*/*%INCLUDE SYSLIB  (IEZSSC  )                                       */
*/*%INCLUDE SYSLIB  (IHASRB  )                                       */
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                       */
*/*%INCLUDE SYSLIB  (IHASDWA )                                       */
*/*%INCLUDE SYSLIB  (IECDIOQ )                                       */
*/*%INCLUDE SYSLIB  (IECDIOSB)                                       */
*/*%INCLUDE SYSLIB  (IECDIOCM)                                       */
*/*%INCLUDE SYSLIB  (IECDIOCX)                                       */
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */
*/*%INCLUDE SYSLIB  (IHALCCA )                                       */
*/*%INCLUDE SYSLIB  (IHAPCCA )                                       */
*/*%INCLUDE SYSLIB  (IECDIRT )                                       */
*/*%INCLUDE SYSLIB  (IHAWSAVT)                                       */
*/*%INCLUDE SYSLIB  (IHAFRRS )                                       */
*/*%INCLUDE SYSLIB  (IHACSD  )                                       */
*/*%INCLUDE SYSLIB  (IECDCAT )                                       */
*/*%INCLUDE SYSLIB  (IECDLCH )                                       */
*/*%INCLUDE SYSLIB  (IGFPWA  )                                       */
*                                                                  1107
*       ;                                                          1107
@DATA    DS    0H
@CH00036 DC    H'4'
@CH03145 DC    H'9'
@CH01904 DC    H'12'
@CH00787 DC    H'16'
@CH01699 DC    H'20'
@CH03022 DC    H'25'
@CH03158 DC    H'67'
@CH03050 DC    XL2'0200'
@CH03070 DC    XL2'0049'
@CH03026 DC    XL2'89'
@SM03347 MVC   WKAREA2+1(0,WKPTR1),WKAREA1(ADDRESS)
@DATD    DSECT
         DS    0F
IECVRSTI CSECT
         DS    0F
@CF00039 DC    F'1'
@CH00039 EQU   @CF00039+2
@CF02947 DC    F'19'
@CF03167 DC    F'88'
@CF03037 DC    XL4'10000020'
@CF03039 DC    XL4'20000020'
@CF03043 DC    XL4'00000600'
@CF03077 DC    XL4'80000000'
@CF03012 DC    XL4'FFFF'
@CF03041 DC    XL4'F0FF'
@CF03028 DC    XL4'C0'
@CF03351 DC    BL4'11111111111111111111111101111111'
@CF03354 DC    BL4'00000010000000000000000000000000'
@DATD    DSECT
         DS    0D
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IECVRSTI CSECT
         DS    0F
@SIZDATD DC    AL1(0)
         DC    AL3(@ENDDATD-@DATD)
@CV03190 DC    V(IECINT)
@CV03191 DC    V(IEAMASCB)
@CV03195 DC    V(IGFPSAD0)
@CV03196 DC    V(IGFPSAE0)
         DS    0D
LENIORWK DC    AL4(120)
IORID    DC    XL4'0000C9E2'
ADDRIOR  DC    AL4(IECVRSTI)
RSTKEYAD DC    AL4(IORSTKEY)
INTEADDR DC    AL4(INTERRPT)
ADIECINT DC    VL4(IECINT)
@CB03103 DC    X'FFFFFFFF'
@CB03050 DC    X'0200'
@CB03052 DC    X'0400'
@CB03054 DC    X'0006'
@CB03065 DC    X'8000'
         DS    CL4
RESRVCCW DC    X'B400000030000001'
RESTWAIT DC    X'84200000'
DEADWAIT DC    X'81200000'
IORSCODE DC    CL2'IS'
ENDSTAT  DC    X'000F'
ERPIBSTD DC    X'00001007'
MODNAME  DC    CL8'IECVRSTI'
FRRNAME  DC    CL8'IORFRR'
CPU165   DC    CL4'0165'
CPU168   DC    CL4'0168'
IORSPSW  DC    X'040C0000'
WAITPSW  DS    CL4
         ORG   WAITPSW
PHALF1   DC    X'00020000'
         ORG   WAITPSW+4
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
UCBPTR   EQU   @07
REG0     EQU   @00
REG1     EQU   @01
REG3     EQU   @03
REG4     EQU   @04
REG5     EQU   @05
REG6     EQU   @06
REG8     EQU   @08
REG9     EQU   @09
REG11    EQU   @11
REG12    EQU   @12
REG13    EQU   @13
REG14    EQU   @14
REG15    EQU   @15
COUNT    EQU   @04
ADDRESS  EQU   @03
WKPTR1   EQU   @03
GPR00P   EQU   @00
GPR01P   EQU   @01
GPR14P   EQU   @14
GPR15P   EQU   @15
REG10    EQU   @10
REG2     EQU   @02
CVTPTR   EQU   16
PSA      EQU   0
FLCRNPSW EQU   PSA
FLCROPSW EQU   PSA+8
FLCICCW2 EQU   PSA+16
FLCCAW   EQU   PSA+72
FLCINPSW EQU   PSA+120
PSAEEPSW EQU   PSA+132
PSAESPSW EQU   PSA+136
FLCSVILC EQU   PSAESPSW+1
PSAEPPSW EQU   PSA+140
FLCPIILC EQU   PSAEPPSW+1
FLCPICOD EQU   PSAEPPSW+2
PSAPICOD EQU   FLCPICOD+1
FLCTEA   EQU   PSAEPPSW+4
FLCPER   EQU   PSA+152
FLCMCLA  EQU   PSA+168
FLCCHNID EQU   FLCMCLA
FLCCHTM  EQU   FLCCHNID
FLCIOEL  EQU   FLCMCLA+4
FLCLCL   EQU   FLCMCLA+8
FLCIOA   EQU   FLCMCLA+16
FLCIOAA  EQU   FLCIOA+1
PSAMEDC  EQU   FLCMCLA+76
FLCFSA   EQU   FLCMCLA+80
PSACPULA EQU   PSA+518
PSAPCCAV EQU   PSA+520
PSALCCAV EQU   PSA+528
PSASUPER EQU   PSA+552
PSASUP1  EQU   PSASUPER
PSASUP2  EQU   PSASUPER+1
PSASUP3  EQU   PSASUPER+2
PSAIOSUP EQU   PSASUP3
PSASUP4  EQU   PSASUPER+3
PSACLHT  EQU   PSA+640
PSALKSA  EQU   PSA+696
PSAHLHI  EQU   PSA+760
PSACPUSA EQU   PSA+794
PSADSSFL EQU   PSA+836
PSADSSF1 EQU   PSADSSFL
PSADSSF3 EQU   PSADSSFL+2
PSADSSF4 EQU   PSADSSFL+3
PSARSVT  EQU   PSA+896
CSW      EQU   64
KEY0000  EQU   CSW
LOP      EQU   KEY0000
CMDADDR  EQU   CSW+1
STATUS   EQU   CSW+4
CHANSTAT EQU   STATUS+1
CDC      EQU   CHANSTAT
CCC      EQU   CHANSTAT
ICC      EQU   CHANSTAT
CAW      EQU   72
CRCA     EQU   0
CRCAFLGS EQU   CRCA+4
CRCAFLG1 EQU   CRCAFLGS
CRCADIAG EQU   CRCAFLG1
CRCACCH  EQU   CRCAFLG1
CRCAMCW  EQU   CRCA+8
CRCAMCWZ EQU   CRCAMCW
CRCAMCWF EQU   CRCAMCW+3
CRCAMCWI EQU   CRCAMCWF
CRCAMCWM EQU   CRCAMCWF
CRCAPCCA EQU   CRCA+36
CRCACAT  EQU   CRCA+40
CRCACHAN EQU   CRCA+52
CVTMAP   EQU   0
CVTILK1  EQU   CVTMAP+36
CVTILK2  EQU   CVTMAP+40
CVTDAR   EQU   CVTMAP+72
CVTFLGS1 EQU   CVTDAR
CVTDCB   EQU   CVTMAP+116
CVTIOQET EQU   CVTMAP+120
CVTIXAVL EQU   CVTMAP+124
CVTIERLC EQU   CVTMAP+144
CVTHEAD  EQU   CVTMAP+160
CVTSV76C EQU   CVTHEAD
CVTOPTA  EQU   CVTMAP+182
CVTOPTB  EQU   CVTMAP+183
CVTGTF   EQU   CVTMAP+236
CVTGTFST EQU   CVTGTF
CVTGTFS  EQU   CVTGTFST
CVTSTATE EQU   CVTGTFST
CVTTMODE EQU   CVTGTFST
CVTFORM  EQU   CVTGTFST
CVTAQAVT EQU   CVTMAP+240
CVTTCMFG EQU   CVTAQAVT
CVTVOLM2 EQU   CVTMAP+244
CVTTATA  EQU   CVTVOLM2
CVTTSKS  EQU   CVTTATA
CVTVOLF2 EQU   CVTTSKS
CVTTAT   EQU   CVTTATA+1
CVTATER  EQU   CVTMAP+248
CVTEXT1  EQU   CVTMAP+252
CVTPURG  EQU   CVTMAP+260
CVTQMSG  EQU   CVTMAP+268
CVTDMSR  EQU   CVTMAP+272
CVTRSV37 EQU   CVTDMSR
CVTDMSRF EQU   CVTRSV37
CVTERPV  EQU   CVTMAP+316
CVTINTLA EQU   CVTMAP+320
CVTAPF   EQU   CVTMAP+324
CVTEXT2  EQU   CVTMAP+328
CVTHJES  EQU   CVTMAP+332
CVTPGSIA EQU   CVTMAP+348
CVTA1F1  EQU   CVTMAP+356
CVTSYSK  EQU   CVTMAP+357
CVTVOLM1 EQU   CVTMAP+380
CVTVOLF1 EQU   CVTVOLM1
CVTATMCT EQU   CVTMAP+388
CVTXTNT1 EQU   0
CVTXTNT2 EQU   0
CVTDSSV  EQU   CVTXTNT2
CVTFLGBT EQU   CVTXTNT2+5
CVTQID   EQU   CVTXTNT2+24
CVTICB   EQU   CVTXTNT2+48
CVTRV400 EQU   CVTXTNT2+52
CVTRV409 EQU   CVTXTNT2+53
CVTATCVT EQU   CVTXTNT2+64
CVTRV429 EQU   CVTXTNT2+84
CVTRV438 EQU   CVTXTNT2+85
CVTRV457 EQU   CVTXTNT2+112
CVTRV466 EQU   CVTXTNT2+113
CVTFIX   EQU   0
CVTRELNO EQU   CVTFIX+252
ICB2SSCB EQU   0
ICBOPT   EQU   ICB2SSCB+48
ICBFLG   EQU   ICB2SSCB+52
ICBFG1   EQU   ICBFLG
ICBIORCI EQU   ICB2SSCB+60
ICBSRBP  EQU   ICB2SSCB+80
ICBTRACE EQU   ICB2SSCB+112
SRBSECT  EQU   0
SRB      EQU   SRBSECT
SRBASCB  EQU   SRB+8
SRBFLC   EQU   SRB+12
SRBEP    EQU   SRB+20
SRBPRIOR EQU   SRB+37
UCB      EQU   0
UCBLOCK  EQU   UCB+504
UCBIOQ   EQU   UCB+508
UCBOB    EQU   0
UCBJBNR  EQU   UCBOB
UCBFL5   EQU   UCBOB+1
UCBAF    EQU   UCBFL5
UCBSTAT  EQU   UCBOB+3
UCBCHAN  EQU   UCBOB+4
UCBCHA   EQU   UCBCHAN
UCBSFLS  EQU   UCBOB+6
UCBFLA   EQU   UCBSFLS
UCBFL1   EQU   UCBFLA
UCBBSY   EQU   UCBFL1
UCBNRY   EQU   UCBFL1
UCBPST   EQU   UCBFL1
UCBPSNS  EQU   UCBFL1
UCBCUB   EQU   UCBFL1
UCBFLB   EQU   UCBSFLS+1
UCBIORST EQU   UCBFLB
UCBASNS  EQU   UCBFLB
UCBRESVH EQU   UCBFLB
UCBCHM   EQU   UCBOB+8
UCBCHM1  EQU   UCBCHM
UCBPTH0  EQU   UCBCHM1
UCBPTH1  EQU   UCBCHM1
UCBCPU   EQU   UCBOB+11
UCBWGT   EQU   UCBOB+12
UCBMTPXP EQU   UCBWGT
UCBNAME  EQU   UCBOB+13
UCBTYP   EQU   UCBOB+16
UCBTBYT1 EQU   UCBTYP
UCB1FEA5 EQU   UCBTBYT1
UCB1FEA6 EQU   UCBTBYT1
UCBTBYT2 EQU   UCBTYP+1
UCB2OPT2 EQU   UCBTBYT2
UCBDUDN1 EQU   UCB2OPT2
UCBRR    EQU   UCBDUDN1
UCB2OPT3 EQU   UCBTBYT2
UCBDUDN2 EQU   UCB2OPT3
UCB2OPT4 EQU   UCBTBYT2
UCBRWTAU EQU   UCB2OPT4
UCB2OPT6 EQU   UCBTBYT2
UCB2OPT7 EQU   UCBTBYT2
UCBTBYT3 EQU   UCBTYP+2
UCBDVCLS EQU   UCBTBYT3
UCB3DACC EQU   UCBDVCLS
UCBTBYT4 EQU   UCBTYP+3
UCBEXTPT EQU   UCBOB+20
UCBFLC   EQU   UCBEXTPT
UCBDEV   EQU   UCBOB+24
UCBCMEXT EQU   0
UCBATI   EQU   UCBCMEXT+3
@NM00014 EQU   UCBATI
UCBFLP1  EQU   UCBCMEXT+5
UCBCCWOF EQU   UCBCMEXT+8
UCBMT    EQU   0
UCBOCR   EQU   0
UCB3540X EQU   0
UCBDKBYT EQU   UCB3540X+6
UCB3800X EQU   0
UCBOPTNS EQU   UCB3800X
UCBACTIV EQU   UCB3800X+3
UCBMDRBF EQU   UCB3800X+36
UCBUCS   EQU   0
UCBUCSOP EQU   UCBUCS+4
UCBFCBOP EQU   UCBUCS+5
SDWA     EQU   0
SDWAPARM EQU   SDWA
SDWAFIOB EQU   SDWA+4
SDWAABCC EQU   SDWAFIOB
SDWACMPF EQU   SDWAABCC
SDWACTL1 EQU   SDWA+8
SDWACMKA EQU   SDWACTL1
SDWAMWPA EQU   SDWACTL1+1
SDWAPMKA EQU   SDWACTL1+4
SDWACTL2 EQU   SDWA+16
SDWACMKP EQU   SDWACTL2
SDWAMWPP EQU   SDWACTL2+1
SDWAPMKP EQU   SDWACTL2+4
SDWAGRSV EQU   SDWA+24
SDWANAME EQU   SDWA+88
SDWAEC1  EQU   SDWA+104
SDWAEMK1 EQU   SDWAEC1
SDWAMWP1 EQU   SDWAEC1+1
SDWAINT1 EQU   SDWAEC1+2
SDWANXT1 EQU   SDWAEC1+4
SDWAAEC1 EQU   SDWA+112
SDWAILC1 EQU   SDWAAEC1+1
SDWAINC1 EQU   SDWAAEC1+2
SDWAICD1 EQU   SDWAINC1+1
SDWAEC2  EQU   SDWA+120
SDWAEMK2 EQU   SDWAEC2
SDWAMWP2 EQU   SDWAEC2+1
SDWAINT2 EQU   SDWAEC2+2
SDWANXT2 EQU   SDWAEC2+4
SDWAAEC2 EQU   SDWA+128
SDWAILC2 EQU   SDWAAEC2+1
SDWAINC2 EQU   SDWAAEC2+2
SDWAICD2 EQU   SDWAINC2+1
SDWASRSV EQU   SDWA+136
SDWAIDNT EQU   SDWA+200
SDWAMCH  EQU   SDWA+204
SDWASTCK EQU   SDWAMCH
SDWAMCHI EQU   SDWAMCH+8
SDWAMCHS EQU   SDWAMCHI
SDWAMCHD EQU   SDWAMCHI+1
SDWARSR1 EQU   SDWAMCH+12
SDWARSR2 EQU   SDWAMCH+13
SDWAFLGS EQU   SDWA+232
SDWAERRA EQU   SDWAFLGS
SDWAERRB EQU   SDWAFLGS+1
SDWAERRC EQU   SDWAFLGS+2
SDWAERRD EQU   SDWAFLGS+3
SDWAIOFS EQU   SDWA+238
SDWACPUA EQU   SDWA+248
SDWAPARQ EQU   SDWA+252
SDWARCDE EQU   SDWAPARQ
SDWAACF2 EQU   SDWAPARQ+1
SDWARCRD EQU   SDWAACF2
SDWAACF3 EQU   SDWAPARQ+2
SDWAACF4 EQU   SDWAPARQ+3
SDWAIUCB EQU   SDWAACF4
SDWALKWA EQU   SDWA+256
SDWALKWS EQU   SDWALKWA
SDWAIULW EQU   SDWALKWS+4
SDWARECP EQU   SDWA+292
SDWAMODN EQU   SDWARECP
SDWACSCT EQU   SDWARECP+8
SDWAREXN EQU   SDWARECP+16
SDWASNPA EQU   SDWA+320
SDWADUMP EQU   SDWASNPA
SDWADPFS EQU   SDWADUMP+1
SDWADDAT EQU   SDWASNPA+4
SDWASDAT EQU   SDWADDAT
SDWAPDAT EQU   SDWADDAT+2
SDWADPSA EQU   SDWA+328
SDWADPSL EQU   SDWADPSA
SDWARA   EQU   SDWA+400
SDWADPVA EQU   SDWARA+2
IOQ      EQU   0
IOQFLAGS EQU   IOQ+4
IOQFLA   EQU   IOQFLAGS
IOQFLB   EQU   IOQFLAGS+1
IOQIOSB  EQU   IOQ+8
IOSB     EQU   0
IOSFLA   EQU   IOSB
IOSACHN  EQU   IOSFLA
IOSFLB   EQU   IOSB+1
IOSFLC   EQU   IOSB+2
IOSDVALT EQU   IOSFLC
IOSPKEY  EQU   IOSB+12
IOSOPT   EQU   IOSB+14
IOSOPT2  EQU   IOSB+15
@NM00065 EQU   IOSB+20
IOSCSW   EQU   @NM00065+1
IOSTATUS EQU   IOSCSW+3
IOSSRB   EQU   IOSB+28
IOSIPIB  EQU   IOSB+44
IOSDIE   EQU   IOSB+68
IOSDIEFG EQU   IOSDIE
IOSPATH  EQU   IOSB+86
IOSCHN   EQU   IOSPATH
IOSCKEY  EQU   IOSB+89
IOSEEKA  EQU   IOSB+100
IOSCCHH  EQU   IOSEEKA+3
IOSSKHH  EQU   IOSCCHH+2
IOCOM    EQU   0
IOCORMGT EQU   IOCOM+36
IOCIOSCP EQU   IOCOM+40
IOCOMEX  EQU   IOCOM+64
IOCRSVTB EQU   IOCOM+96
IOCUCBBM EQU   IOCOM+120
IOCX     EQU   0
IOX      EQU   IOCX
IOXHICH  EQU   IOCX+4
IOXCRHA  EQU   IOCX+12
LCCA     EQU   0
LCCAIHRC EQU   LCCA+520
LCCAIHR1 EQU   LCCAIHRC
LCCAIHR2 EQU   LCCAIHRC+1
LCCAIHR3 EQU   LCCAIHRC+2
LCCAIHR4 EQU   LCCAIHRC+3
LCCASPIN EQU   LCCA+524
LCCASPN1 EQU   LCCASPIN
LCCASPN2 EQU   LCCASPIN+1
LCCASPN3 EQU   LCCASPIN+2
LCCASPN4 EQU   LCCASPIN+3
LCCACPUS EQU   LCCA+536
LCCADSF1 EQU   LCCA+540
LCCADSF2 EQU   LCCA+541
LCCASPSA EQU   LCCA+544
LCCACRFL EQU   LCCA+692
LCCACREX EQU   LCCA+693
LCCALKFG EQU   LCCA+694
LCCASRBF EQU   LCCA+720
LCCAIRT  EQU   LCCA+736
PCCA     EQU   0
PCCACPID EQU   PCCA+4
PCCACPUA EQU   PCCA+16
PCCATMST EQU   PCCA+128
PCCATMFL EQU   PCCATMST
PCCATODE EQU   PCCATMST+1
PCCACCE  EQU   PCCATMST+2
PCCAINTE EQU   PCCATMST+3
PCCAEMSB EQU   PCCA+136
PCCAEMSI EQU   PCCAEMSB
PCCARISP EQU   PCCAEMSI
PCCAEMS2 EQU   PCCAEMSI+1
PCCAEMS3 EQU   PCCAEMSI+2
PCCARMSB EQU   PCCAEMSI+3
PCCAPWAV EQU   PCCA+152
PCCAELAD EQU   PCCA+168
PCCACHAN EQU   PCCA+224
PCCAWERP EQU   PCCA+280
PCCACHUB EQU   PCCAWERP
PCCACHPF EQU   PCCAWERP+4
PCCACNOR EQU   PCCACHPF
PCCACHBL EQU   PCCAWERP+5
PCCACCPU EQU   PCCACHBL
PCCACCHA EQU   PCCACHBL
PCCACHVA EQU   PCCAWERP+6
PCCACHTS EQU   PCCAWERP+7
PCCACHS1 EQU   PCCA+288
PCCACHS2 EQU   PCCA+289
PCCACHRB EQU   PCCA+290
PCCACHF1 EQU   PCCA+308
PCCACHF2 EQU   PCCA+309
PCCACHF3 EQU   PCCA+310
PCCACHF4 EQU   PCCA+311
PCCAATTR EQU   PCCA+376
PCCACAT  EQU   PCCA+384
IRT      EQU   0
IRTENTRY EQU   IRT
IRTFLA   EQU   IRTENTRY
IRTFLB   EQU   IRTENTRY+1
IRTENVR  EQU   IRTENTRY+2
WSAC     EQU   0
WSACRSTI EQU   WSAC+40
FRRS     EQU   0
FRRSHEAD EQU   FRRS
FRRSENTR EQU   0
FRRSFLGS EQU   FRRSENTR+4
FRRSFLG1 EQU   FRRSFLGS
CSD      EQU   0
CSDCPUAL EQU   CSD+8
CSDSCWRD EQU   CSD+12
CSDSCFL1 EQU   CSDSCWRD
CSDSCFL2 EQU   CSDSCWRD+1
CSDSCFL3 EQU   CSDSCWRD+2
CSDSCFL4 EQU   CSDSCWRD+3
CSDFLAGS EQU   CSD+23
CAT      EQU   0
CATENTRY EQU   CAT
CATFLG   EQU   CATENTRY
CATFLA   EQU   CAT+1
CATIORST EQU   CATFLA
LCH      EQU   0
LCHENTRY EQU   LCH
LCHFLA   EQU   LCH+21
PWA      EQU   0
PWAFRR   EQU   PWA+384
PWAFLAGS EQU   PWA+778
PWAEDSRB EQU   PWA+779
IORWORK  EQU   0
BLKCHAIN EQU   IORWORK
TBLPTR   EQU   IORWORK+4
MESSPTR  EQU   IORWORK+8
RSVTBLPT EQU   IORWORK+12
IONEWSAV EQU   IORWORK+20
RSPSW1   EQU   IORWORK+24
RSPSW2   EQU   IORWORK+32
MSGAD    EQU   IORWORK+40
ERPIBPTR EQU   IORWORK+44
IORSIOCM EQU   IORWORK+48
RETURNAD EQU   IORWORK+52
UCBACTRT EQU   IORWORK+56
CATPTR   EQU   IORWORK+60
PWAPTR   EQU   IORWORK+64
SDWAADDR EQU   IORWORK+68
LOCKADDR EQU   IORWORK+72
TMCTL    EQU   IORWORK+80
INPARM   EQU   IORWORK+84
INDICAT  EQU   INPARM
UCBP     EQU   INPARM+1
CHANID   EQU   UCBP
CPUADDR  EQU   UCBP+1
LCCRHFLG EQU   CPUADDR
CRHCHSW  EQU   LCCRHFLG
CPUID    EQU   CPUADDR+1
IORCSW   EQU   IORWORK+88
IORSTAT  EQU   IORCSW+4
FLAGS    EQU   IORWORK+96
FLAG1    EQU   FLAGS
PASSIND  EQU   FLAG1
NODEVCLR EQU   FLAG1
LOGOUT   EQU   FLAG1
PATHAVIL EQU   FLAG1
OFFIND   EQU   FLAG1
RESETCPU EQU   FLAG1
IORCC3   EQU   FLAG1
FLAG2    EQU   FLAGS+1
LOCKUCB  EQU   FLAG2
IONEWPSW EQU   FLAG2
CTLREG   EQU   FLAG2
IOSGTABL EQU   IORWORK+100
PATH1    EQU   IOSGTABL
PSTAT1   EQU   IOSGTABL+2
PATH2    EQU   IOSGTABL+4
PSTAT2   EQU   IOSGTABL+6
RSTRTWRD EQU   IORWORK+108
RCPU     EQU   RSTRTWRD
RHLDR    EQU   RSTRTWRD+2
TIOCNTR  EQU   IORWORK+112
DEVINDEX EQU   IORWORK+114
FIRSTDEV EQU   IORWORK+116
FIRSTCHN EQU   FIRSTDEV
FIRSTUNT EQU   FIRSTDEV+1
CATINDEX EQU   IORWORK+118
RSVTBL   EQU   0
RCHAIN   EQU   RSVTBL
ENTCNT   EQU   RSVTBL+4
ENTRIES  EQU   RSVTBL+8
ENT      EQU   ENTRIES
ROFFLINE EQU   ENT
ENTUCB   EQU   ENT+4
MSGBLOCK EQU   0
MBLKCHN  EQU   MSGBLOCK
MSGENT   EQU   MSGBLOCK+4
MESSBUF  EQU   MSGBLOCK+8
MSG003   EQU   0
DEV3     EQU   MSG003+38
MSG004   EQU   0
INTMSG   EQU   MSG004+19
MSG005   EQU   0
DEV5     EQU   MSG005+19
PATH5    EQU   MSG005+48
CPU5     EQU   MSG005+59
MSG969   EQU   0
MSG410   EQU   0
TXTCHAN  EQU   MSG410+21
TXTCPU   EQU   MSG410+23
RSTILOGB EQU   0
LOGHDR   EQU   RSTILOGB
LOGPTR   EQU   RSTILOGB+4
LOGDA    EQU   RSTILOGB+8
LOGWAIT  EQU   RSTILOGB+12
LOGTIME  EQU   RSTILOGB+16
LOGREGS  EQU   RSTILOGB+24
LOGMSC   EQU   RSTILOGB+88
UCBPT    EQU   0
WKAREA1  EQU   0
WKAREA2  EQU   0
IORFRRA  EQU   0
FRRSAV   EQU   IORFRRA
FRRIORWA EQU   IORFRRA+4
FRRFLGS  EQU   IORFRRA+8
FRRIOSUP EQU   FRRFLGS
FRRLCSRB EQU   FRRFLGS
FRRLCRSV EQU   FRRFLGS
RSTIERP  EQU   0
RSTICHPF EQU   RSTIERP+4
RSTINOR  EQU   RSTICHPF
CRHA     EQU   0
SMGRGB   EQU   0
IEESTPRS EQU   0
I001C    EQU   0
I008P    EQU   0
I015F    EQU   0
I015P    EQU   0
I031F    EQU   0
I031P    EQU   0
I256C    EQU   0
UCBBGN   EQU   0
CVTS01   EQU   CVTPGSIA
CVTLPDIA EQU   CVTS01+12
CVTDIRST EQU   CVTLPDIA
CVTSLIDA EQU   CVTS01+24
CVTCTLFG EQU   CVTS01+50
CVTSRBRT EQU   CVTS01+100
CVTCSD   EQU   CVTS01+312
CVTRSTWD EQU   CVTS01+368
CVTRV210 EQU   CVTS01+424
CVTRV219 EQU   CVTS01+425
CVTRV228 EQU   CVTS01+426
CVTRV237 EQU   CVTS01+427
CVTMFRTR EQU   CVTS01+452
CVTRV262 EQU   CVTS01+468
CVTRV271 EQU   CVTS01+469
CVTRV280 EQU   CVTS01+470
CVTRV289 EQU   CVTS01+471
CVTSTPRS EQU   CVTS01+536
CVTGSDA  EQU   CVTS01+600
CVTCRCA  EQU   CVTS01+612
CRCAPTR  EQU   CVTCRCA
UCBOBS01 EQU   UCBDEV
UCBSTAB  EQU   UCBOBS01+10
UCBBSVL  EQU   UCBSTAB
UCBPRSRS EQU   UCBSTAB
UCBDMCT  EQU   UCBOBS01+11
UCBSQC   EQU   UCBOBS01+12
UCBFL4   EQU   UCBOBS01+13
UCBBASE  EQU   UCBOBS01+16
UCBOBS02 EQU   UCBDEV
UCBTFL1  EQU   UCBOBS02+19
UCBXTN   EQU   UCBOBS02+20
UCBVOPT  EQU   UCBXTN
UCBOBS03 EQU   UCBDEV
UCBXTADR EQU   UCBOBS03
UCBOBS04 EQU   UCBDEV
UCBBTA   EQU   UCBOBS04+12
UCBOBS06 EQU   UCBDEV
UCBAOF   EQU   UCBOBS06
UCBAOF1  EQU   UCBAOF
UCBAOF2  EQU   UCBAOF+1
@NM00013 EQU   UCBOBS06+3
UCBIRB   EQU   UCBOBS06+4
UCBGRAF  EQU   UCBIRB
UCBLDNCA EQU   UCBOBS06+8
UCBRDYQ  EQU   UCBLDNCA
UCBIRLN  EQU   UCBRDYQ
UCBLDNCB EQU   UCBRDYQ+1
UCBCTLNK EQU   UCBOBS06+12
UCBOBS07 EQU   UCBDEV
UCBOBS08 EQU   UCBDEV
UCBCTCAD EQU   UCBOBS08
UCBCTCF1 EQU   UCBOBS08+4
UCBOBS09 EQU   UCBDEV
IOSATTSC EQU   IOSIPIB
IOSWTOWA EQU   IOSIPIB
IOSPCISC EQU   IOSIPIB
PSARSVTE EQU   PSARSVT
IORSTATU EQU   UCBSTAT
IORONLI  EQU   IORSTATU
IORWGT   EQU   UCBWGT
IORVHRSN EQU   IORWGT
CHANLOG  EQU   PSA+304
RSTIIOAA EQU   FLCIOAA
PHYSCPU  EQU   PSACPUSA
CPUPADDR EQU   PCCACPUA
OFFCPUID EQU   CPUPADDR+1
FLC      EQU   PSA
*                                      START UNREFERENCED COMPONENTS
@NM00132 EQU   CPUPADDR
@NM00131 EQU   IORWGT
@NM00130 EQU   IORWGT
@NM00129 EQU   IORSTATU
PSARSAV  EQU   PSARSVTE+60
PSARSTK  EQU   PSARSVTE+56
PSAESAV3 EQU   PSARSVTE+52
PSAESTK3 EQU   PSARSVTE+48
PSAESAV2 EQU   PSARSVTE+44
PSAESTK2 EQU   PSARSVTE+40
PSAESAV1 EQU   PSARSVTE+36
PSAESTK1 EQU   PSARSVTE+32
PSAPSAV  EQU   PSARSVTE+28
PSAPSTK  EQU   PSARSVTE+24
PSAMSAV  EQU   PSARSVTE+20
PSAMSTK  EQU   PSARSVTE+16
PSASSAV  EQU   PSARSVTE+12
PSASSTK  EQU   PSARSVTE+8
PSANSTK  EQU   PSARSVTE+4
PSACSTK  EQU   PSARSVTE
IOSPCIWA EQU   IOSPCISC+44
IOSPCIRS EQU   IOSPCISC+8
@NM00070 EQU   IOSPCISC+4
@NM00069 EQU   IOSPCISC
IOSWRNDR EQU   IOSWTOWA+4
IOSWTOPT EQU   IOSWTOWA+3
IOSWTOCP EQU   IOSWTOWA+2
IOSWTOCH EQU   IOSWTOWA
IOSATTWA EQU   IOSATTSC+40
@NM00068 EQU   IOSATTSC+24
IOSATTSN EQU   IOSATTSC
UCBRV066 EQU   UCBOBS09+4
UCBIOSBA EQU   UCBOBS09
UCBRV042 EQU   UCBOBS08+5
UCBRV082 EQU   UCBCTCF1
UCBRV081 EQU   UCBCTCF1
UCBRV080 EQU   UCBCTCF1
UCBRV079 EQU   UCBCTCF1
UCBRV078 EQU   UCBCTCF1
UCBRV077 EQU   UCBCTCF1
UCBRV076 EQU   UCBCTCF1
UCBCTC80 EQU   UCBCTCF1
UCBCTCAL EQU   UCBCTCAD
UCBICNCB EQU   UCBOBS07+4
UCBRV040 EQU   UCBOBS07
UCBCTLNA EQU   UCBCTLNK+1
UCBRLN   EQU   UCBCTLNK
UCBRDYQA EQU   UCBLDNCB
UCBINRLN EQU   UCBIRLN
UCBIRBA  EQU   UCBIRB+1
UCBRV039 EQU   UCBGRAF
UCBDWNR  EQU   UCBGRAF
UCBRPND  EQU   UCBGRAF
UCBUPM   EQU   UCBGRAF
UCBBTAM  EQU   UCBGRAF
UCBDRNO  EQU   UCBGRAF
UCBDRO   EQU   UCBGRAF
UCBOIP   EQU   UCBGRAF
UCBATRCD EQU   @NM00013
UCBSKPFG EQU   @NM00013
UCBRIPND EQU   @NM00013
UCBRTIAC EQU   @NM00013
UCBRSV79 EQU   @NM00013
UCBRSV78 EQU   @NM00013
UCBRSV77 EQU   @NM00013
UCBOLTEP EQU   @NM00013
UCBATNCT EQU   UCBOBS06+2
UCBRSV76 EQU   UCBAOF2
UCBRSV75 EQU   UCBAOF2
UCBRSV74 EQU   UCBAOF2
UCBRSV73 EQU   UCBAOF2
UCBRSV72 EQU   UCBAOF2
UCBRSV71 EQU   UCBAOF2
UCBRSV70 EQU   UCBAOF2
UCBRSV69 EQU   UCBAOF2
UCBRSV68 EQU   UCBAOF1
UCBRSV67 EQU   UCBAOF1
UCBRSV66 EQU   UCBAOF1
UCBRSV65 EQU   UCBAOF1
UCBRSV64 EQU   UCBAOF1
UCBOFNL  EQU   UCBAOF1
UCBOFSP  EQU   UCBAOF1
UCBOFMCR EQU   UCBAOF1
UCBBTB   EQU   UCBBTA+1
UCBDI    EQU   UCBBTA
UCBSNS   EQU   UCBOBS04+8
UCBTEB   EQU   UCBOBS04+4
UCBGCB   EQU   UCBOBS04+3
UCBOPEN  EQU   UCBOBS04+2
UCBSTART EQU   UCBOBS04
UCBXTNB  EQU   UCBXTN+1
UCBRSV22 EQU   UCBVOPT
UCBRSV21 EQU   UCBVOPT
UCBRSV20 EQU   UCBVOPT
UCBESVE  EQU   UCBVOPT
UCBERPC  EQU   UCBVOPT
UCBESVC  EQU   UCBVOPT
UCBEVA   EQU   UCBVOPT
UCBESV   EQU   UCBVOPT
UCBRV009 EQU   UCBTFL1
UCBRV008 EQU   UCBTFL1
UCBRV007 EQU   UCBTFL1
UCBRV006 EQU   UCBTFL1
UCBRV005 EQU   UCBTFL1
UCBDQDSP EQU   UCBTFL1
UCBNSLTP EQU   UCBTFL1
UCBNLTP  EQU   UCBTFL1
UCBRES1B EQU   UCBOBS02+18
UCBFSER  EQU   UCBOBS02+12
@NM00012 EQU   UCBOBS02+4
UCBFSEQ  EQU   UCBOBS02+2
UCBFSCT  EQU   UCBOBS02
UCBNEXP  EQU   UCBOBS01+20
UCBRES1A EQU   UCBOBS01+15
UCBUSER  EQU   UCBOBS01+14
UCBFL47  EQU   UCBFL4
UCBMAT   EQU   UCBFL4
UCBHOLD  EQU   UCBFL4
UCBATTN  EQU   UCBFL4
UCBDSS   EQU   UCBFL4
UCBRESVP EQU   UCBFL4
UCBWDAV  EQU   UCBFL4
UCBDAVV  EQU   UCBFL4
UCBDATP  EQU   UCBOBS01+12
UCBDMC   EQU   UCBDMCT
UCBMOUNT EQU   UCBDMCT
UCBBNUL  EQU   UCBSTAB
UCBSHAR  EQU   UCBSTAB
UCBBSTR  EQU   UCBSTAB
UCBBPUB  EQU   UCBSTAB
UCBBPRV  EQU   UCBSTAB
UCBBALB  EQU   UCBPRSRS
UCBPGFL  EQU   UCBSTAB
UCBDVSHR EQU   UCBBSVL
UCBVOLI  EQU   UCBOBS01+4
UCBVTOC  EQU   UCBOBS01
CVTRV628 EQU   CVTS01+728
CVTRV627 EQU   CVTS01+724
CVTRV626 EQU   CVTS01+720
CVTRV625 EQU   CVTS01+716
CVTRV624 EQU   CVTS01+712
CVTRV623 EQU   CVTS01+708
CVTRV622 EQU   CVTS01+704
CVTRV621 EQU   CVTS01+700
CVTIHASU EQU   CVTS01+696
CVTSUSP  EQU   CVTS01+692
CVTT6SVC EQU   CVTS01+688
CVTCDAL  EQU   CVTS01+684
CVTTCTL  EQU   CVTS01+680
CVTRSUME EQU   CVTS01+676
CVTJTERM EQU   CVTS01+672
CVTASMRM EQU   CVTS01+668
CVTTCASP EQU   CVTS01+664
CVT0PT03 EQU   CVTS01+660
CVT0PT0E EQU   CVTS01+656
CVTRV609 EQU   CVTS01+652
CVTCGK   EQU   CVTS01+648
CVTRAC   EQU   CVTS01+644
CVTRV606 EQU   CVTS01+640
CVTRV605 EQU   CVTS01+636
CVTRV604 EQU   CVTS01+632
CVTEFF02 EQU   CVTS01+628
CVTCBBR  EQU   CVTS01+624
CVTSSCR  EQU   CVTS01+620
CVTEVENT EQU   CVTS01+616
CVTTPIO  EQU   CVTS01+608
CVTADV   EQU   CVTS01+604
CVTGSDAB EQU   CVTGSDA
CVTQV3   EQU   CVTS01+596
CVTQV2   EQU   CVTS01+592
CVTQV1   EQU   CVTS01+588
CVTRPT   EQU   CVTS01+584
CVTSSRB  EQU   CVTS01+580
CVTCSDRL EQU   CVTS01+576
CVTEXP1  EQU   CVTS01+572
CVTRMPMT EQU   CVTS01+568
CVTRMPTT EQU   CVTS01+564
CVTVPSA  EQU   CVTS01+560
CVTVSTOP EQU   CVTS01+556
CVTGTFR8 EQU   CVTS01+552
CVTQUIT  EQU   CVTS01+548
CVTVACR  EQU   CVTS01+544
CVTWTCB  EQU   CVTS01+540
CVT0PT02 EQU   CVTS01+532
CVTDARCM EQU   CVTS01+528
CVTIRECM EQU   CVTS01+524
CVTJRECM EQU   CVTS01+520
CVTVEMS0 EQU   CVTS01+516
CVTSPFRR EQU   CVTS01+512
CVTRLSTG EQU   CVTS01+508
CVT0TC0A EQU   CVTS01+504
CVTGMBR  EQU   CVTS01+500
CVTLFRM  EQU   CVTS01+496
CVTRMBR  EQU   CVTS01+492
CVTVIOP  EQU   CVTS01+488
CVTRV307 EQU   CVTS01+486
CVTRV306 EQU   CVTS01+484
CVTRV305 EQU   CVTS01+482
CVTRV304 EQU   CVTS01+480
CVTRV303 EQU   CVTS01+478
CVTRV302 EQU   CVTS01+476
CVTTRCA  EQU   CVTS01+472
CVTRV297 EQU   CVTRV289
CVTRV296 EQU   CVTRV289
CVTRV295 EQU   CVTRV289
CVTRV294 EQU   CVTRV289
CVTRV293 EQU   CVTRV289
CVTRV292 EQU   CVTRV289
CVTRV291 EQU   CVTRV289
CVTRV290 EQU   CVTRV289
CVTRV288 EQU   CVTRV280
CVTRV287 EQU   CVTRV280
CVTRV286 EQU   CVTRV280
CVTRV285 EQU   CVTRV280
CVTRV284 EQU   CVTRV280
CVTRV283 EQU   CVTRV280
CVTRV282 EQU   CVTRV280
CVTRV281 EQU   CVTRV280
CVTRV279 EQU   CVTRV271
CVTRV278 EQU   CVTRV271
CVTRV277 EQU   CVTRV271
CVTRV276 EQU   CVTRV271
CVTRV275 EQU   CVTRV271
CVTRV274 EQU   CVTRV271
CVTRV273 EQU   CVTRV271
CVTRV272 EQU   CVTRV271
CVTRV270 EQU   CVTRV262
CVTRV269 EQU   CVTRV262
CVTRV268 EQU   CVTRV262
CVTRV267 EQU   CVTRV262
CVTRV266 EQU   CVTRV262
CVTRV265 EQU   CVTRV262
CVTRV264 EQU   CVTRV262
CVTRV263 EQU   CVTRV262
CVTVFP   EQU   CVTS01+464
CVTVSI   EQU   CVTS01+460
CVTVPSIB EQU   CVTS01+456
CVTMFACT EQU   CVTMFRTR
CVTMFCTL EQU   CVTS01+448
CVTPVBP  EQU   CVTS01+444
CVTPWI   EQU   CVTS01+440
CVTRV254 EQU   CVTS01+438
CVTRV253 EQU   CVTS01+436
CVTRV252 EQU   CVTS01+434
CVTRV251 EQU   CVTS01+433
CVTRV250 EQU   CVTS01+432
CVTRV249 EQU   CVTS01+431
CVTRV248 EQU   CVTS01+430
CVTRV247 EQU   CVTS01+429
CVTRV246 EQU   CVTS01+428
CVTRV245 EQU   CVTRV237
CVTRV244 EQU   CVTRV237
CVTRV243 EQU   CVTRV237
CVTRV242 EQU   CVTRV237
CVTRV241 EQU   CVTRV237
CVTRV240 EQU   CVTRV237
CVTRV239 EQU   CVTRV237
CVTRV238 EQU   CVTRV237
CVTRV236 EQU   CVTRV228
CVTRV235 EQU   CVTRV228
CVTRV234 EQU   CVTRV228
CVTRV233 EQU   CVTRV228
CVTRV232 EQU   CVTRV228
CVTRV231 EQU   CVTRV228
CVTRV230 EQU   CVTRV228
CVTRV229 EQU   CVTRV228
CVTRV227 EQU   CVTRV219
CVTRV226 EQU   CVTRV219
CVTRV225 EQU   CVTRV219
CVTRV224 EQU   CVTRV219
CVTRV223 EQU   CVTRV219
CVTRV222 EQU   CVTRV219
CVTRV221 EQU   CVTRV219
CVTRV220 EQU   CVTRV219
CVTRV218 EQU   CVTRV210
CVTRV217 EQU   CVTRV210
CVTRV216 EQU   CVTRV210
CVTRV215 EQU   CVTRV210
CVTRV214 EQU   CVTRV210
CVTRV213 EQU   CVTRV210
CVTRV212 EQU   CVTRV210
CVTRV211 EQU   CVTRV210
CVTLCCAT EQU   CVTS01+420
CVTPCCAT EQU   CVTS01+416
CVTIPCRP EQU   CVTS01+412
CVTIPCRI EQU   CVTS01+408
CVTIPCDS EQU   CVTS01+404
CVTAIDVT EQU   CVTS01+400
CVTSSAP  EQU   CVTS01+396
CVTEHCIR EQU   CVTS01+392
CVTEHDEF EQU   CVTS01+388
CVTDAIR  EQU   CVTS01+384
CVTPERFM EQU   CVTS01+380
CVT044R2 EQU   CVTS01+376
CVTFETCH EQU   CVTS01+372
CVTSPOST EQU   CVTS01+364
CVTIOBP  EQU   CVTS01+360
CVTASMVT EQU   CVTS01+356
CVTRECRQ EQU   CVTS01+352
CVTWSAC  EQU   CVTS01+348
CVTRV149 EQU   CVTS01+344
CVTWSAL  EQU   CVTS01+340
CVTSPSA  EQU   CVTS01+336
CVTGLMN  EQU   CVTS01+332
CVTVEAC0 EQU   CVTS01+328
CVT062R1 EQU   CVTS01+324
CVTRPOST EQU   CVTS01+320
CVTDQIQE EQU   CVTS01+316
CVTLKRMA EQU   CVTS01+308
CVTRSPIE EQU   CVTS01+304
CVTRENQ  EQU   CVTS01+300
CVTLQCB  EQU   CVTS01+296
CVTFQCB  EQU   CVTS01+292
CVTQCS01 EQU   CVTS01+288
CVTAPFT  EQU   CVTS01+284
CVTPARRL EQU   CVTS01+280
CVTVWAIT EQU   CVTS01+276
CVTGSPL  EQU   CVTS01+272
CVTLSMQ  EQU   CVTS01+268
CVTGSMQ  EQU   CVTS01+264
CVTEXPRO EQU   CVTS01+260
CVTOPCTP EQU   CVTS01+256
CVTSIC   EQU   CVTS01+252
CVTTPIOS EQU   CVTS01+248
CVTRTMS  EQU   CVTS01+244
CVTSDBF  EQU   CVTS01+240
CVTSCBP  EQU   CVTS01+236
CVTSDMP  EQU   CVTS01+232
CVTSV60  EQU   CVTS01+228
CVTRTMCT EQU   CVTS01+224
CVTASCBL EQU   CVTS01+220
CVTASCBH EQU   CVTS01+216
CVTGDA   EQU   CVTS01+212
CVTASVT  EQU   CVTS01+208
CVTVVMDI EQU   CVTS01+204
CVTAQTOP EQU   CVTS01+200
CVTIOSCS EQU   CVTS01+196
CVTSDRM  EQU   CVTS01+192
CVTOPTE  EQU   CVTS01+188
CVTSTXU  EQU   CVTS01+184
CVTQUIS  EQU   CVTS01+180
CVTPARS  EQU   CVTS01+176
CVTS1EE  EQU   CVTS01+172
CVTFRAS  EQU   CVTS01+168
CVTQSAS  EQU   CVTS01+164
CVTCRAS  EQU   CVTS01+160
CVTCRMN  EQU   CVTS01+156
CVTDELCP EQU   CVTS01+152
CVTFRECL EQU   CVTS01+148
CVTGETCL EQU   CVTS01+144
CVTBLDCP EQU   CVTS01+140
CVTAUTHL EQU   CVTS01+136
CVTSCAN  EQU   CVTS01+132
CVTRV144 EQU   CVTS01+130
CVTMAXMP EQU   CVTS01+128
CVTSTCK  EQU   CVTS01+124
CVTRV139 EQU   CVTS01+123
CVTDSSAC EQU   CVTS01+122
CVTRV513 EQU   CVTS01+121
CVTIOSPL EQU   CVTS01+120
CVTPTGT  EQU   CVTS01+116
CVTCSPIE EQU   CVTS01+112
CVTSMFEX EQU   CVTS01+108
CVTOLT0A EQU   CVTS01+104
CVTPUTL  EQU   CVTS01+96
CVTASCRL EQU   CVTS01+92
CVTASCRF EQU   CVTS01+88
CVTRV326 EQU   CVTS01+84
CVTRV325 EQU   CVTS01+80
CVTRV324 EQU   CVTS01+76
CVT0VL01 EQU   CVTS01+72
CVTSHRVM EQU   CVTS01+68
CVTRV332 EQU   CVTS01+64
CVTTAS   EQU   CVTS01+60
CVTRSCN  EQU   CVTS01+56
CVTTRAC2 EQU   CVTS01+54
CVTTRACE EQU   CVTS01+52
CVTAPG   EQU   CVTS01+51
CVTSDTRC EQU   CVTCTLFG
CVTGTRCE EQU   CVTCTLFG
CVTNOMP  EQU   CVTCTLFG
CVTRSV79 EQU   CVTCTLFG
CVTDSTAT EQU   CVTCTLFG
CVTRSV78 EQU   CVTCTLFG
CVTRV333 EQU   CVTCTLFG
CVTRV323 EQU   CVTCTLFG
CVTSPVLK EQU   CVTS01+49
CVTRSV77 EQU   CVTS01+48
CVTRV331 EQU   CVTS01+44
CVTRV330 EQU   CVTS01+40
CVTRV329 EQU   CVTS01+36
CVTRV328 EQU   CVTS01+32
CVTRV322 EQU   CVTS01+28
CVTSLID  EQU   CVTSLIDA+1
CVTSYLK  EQU   CVTSLIDA
CVTRV321 EQU   CVTS01+20
CVTRV320 EQU   CVTS01+16
CVTLPDIR EQU   CVTLPDIA+1
CVTRSV69 EQU   CVTDIRST
CVTRSV68 EQU   CVTDIRST
CVTRSV67 EQU   CVTDIRST
CVTRSV66 EQU   CVTDIRST
CVTRSV65 EQU   CVTDIRST
CVTRSV64 EQU   CVTDIRST
CVTRSV63 EQU   CVTDIRST
CVTDICOM EQU   CVTDIRST
CVTPVTP  EQU   CVTS01+8
CVTLPDSR EQU   CVTS01+4
CVTGETL  EQU   CVTS01
@NM00140 EQU   RSTIERP+5
@NM00139 EQU   RSTICHPF
RSTIUCB  EQU   RSTIERP
@NM00138 EQU   IORFRRA+10
FRRLCSYS EQU   IORFRRA+9
@NM00137 EQU   FRRFLGS
@NM00128 EQU   MSG410+40
TXT4102  EQU   MSG410+24
TXTCOMMA EQU   MSG410+22
TXT4101  EQU   MSG410+4
@NM00127 EQU   MSG410
@NM00126 EQU   MSG969+75
TXT969   EQU   MSG969+4
@NM00125 EQU   MSG969
@NM00124 EQU   MSG005+61
TXT14    EQU   MSG005+60
TXT13    EQU   MSG005+49
TXT12    EQU   MSG005+22
TXT11    EQU   MSG005+4
@NM00123 EQU   MSG005
@NM00122 EQU   MSG004+84
TXT2     EQU   MSG004+51
TXT1     EQU   MSG004+4
@NM00121 EQU   MSG004
@NM00120 EQU   MSG003+58
TXT22    EQU   MSG003+41
TXT21    EQU   MSG003+4
@NM00119 EQU   MSG003
@NM00118 EQU   MSGBLOCK+6
@NM00117 EQU   ENT
SYSMASK  EQU   IORWORK+119
@NM00116 EQU   FLAGS+2
@NM00115 EQU   FLAG2
IOSGENNG EQU   FLAG2
SMGRBLCK EQU   FLAG2
@NM00114 EQU   FLAG2
@NM00113 EQU   FLAG1
IORESID  EQU   IORCSW+6
IORCSTAT EQU   IORSTAT+1
IORDSTAT EQU   IORSTAT
IORCMD   EQU   IORCSW+1
@NM00112 EQU   IORCSW
@NM00111 EQU   LCCRHFLG
CRHCHLST EQU   LCCRHFLG
CNTRLSAV EQU   IORWORK+76
@NM00110 EQU   IORWORK+16
PWACCTHB EQU   PWA+992
PWAPTTHB EQU   PWA+976
PWATCTHB EQU   PWA+960
PWAIVTHB EQU   PWA+944
PWASDTHB EQU   PWA+928
PWAPDTHB EQU   PWA+912
PWANRSRB EQU   PWA+868
PWACCSRB EQU   PWA+824
PWAWRK   EQU   PWA+792
PWATEST  EQU   PWA+784
PWACPUAD EQU   PWA+782
@NM00109 EQU   PWA+781
PWACNTR  EQU   PWA+780
@NM00108 EQU   PWAFLAGS
PWAENABL EQU   PWAFLAGS
PWANRHED EQU   PWAFLAGS
PWACCHED EQU   PWAFLAGS
PWAREST  EQU   PWAFLAGS
PWAINIT  EQU   PWA+777
PWAMFAFL EQU   PWA+776
PWARPSW  EQU   PWA+768
PWARGPR  EQU   PWA+704
PWACR15  EQU   PWA+700
PWACR14  EQU   PWA+696
PWASFLC  EQU   PWA+464
PWAINTC  EQU   PWA+456
PWASOSW  EQU   PWA+448
PWAFRR00 EQU   PWAFRR+12
PWAFRR15 EQU   PWAFRR+8
PWAFRR13 EQU   PWAFRR+4
PWAFRR12 EQU   PWAFRR
PWAFRRCT EQU   PWA+380
PWAFRRCD EQU   PWA+376
PWADGTHB EQU   PWA+368
PWASRTHB EQU   PWA+360
PWAESA   EQU   PWA+288
PWASA4   EQU   PWA+216
PWASA3   EQU   PWA+144
PWASA2   EQU   PWA+72
PWASA1   EQU   PWA
LCHEND   EQU   LCH+32
LCHPYBSY EQU   LCH+30
LCHLGBSY EQU   LCH+28
LCHRSV03 EQU   LCH+26
LCHTOTAL EQU   LCH+24
LCHRSV02 EQU   LCH+22
@NM00107 EQU   LCHFLA
LCHLKHLD EQU   LCHFLA
LCHCHCNT EQU   LCH+20
LCHTCH   EQU   LCH+16
LCHRSV01 EQU   LCH+12
LCHLOCK  EQU   LCH+8
LCHLST   EQU   LCH+4
LCHFST   EQU   LCHENTRY
CATEND   EQU   CAT+8
CATCHID  EQU   CAT+4
CATSIOCT EQU   CAT+2
CATFLARS EQU   CATFLA
CATMCRST EQU   CATFLA
CATCCRST EQU   CATFLA
CATBSY   EQU   CATFLA
CATFLG7  EQU   CATFLG
CATFLG6  EQU   CATFLG
CATFLG5  EQU   CATFLG
CATNID   EQU   CATFLG
CATNCPU  EQU   CATFLG
CATNGEN  EQU   CATFLG
CATNOP   EQU   CATFLG
CATRES1  EQU   CATFLG
@NM00106 EQU   CSD+160
CSDMASK  EQU   CSD+128
CSDUCNT  EQU   CSD+124
CSDTCNT  EQU   CSD+120
CSDGDTOD EQU   CSD+116
CSDGDINT EQU   CSD+112
CSDGDCC  EQU   CSD+108
CSDDDRCT EQU   CSD+106
CSDRV044 EQU   CSD+104
CSDMAFF  EQU   CSD+24
CSDRV038 EQU   CSDFLAGS
CSDRV037 EQU   CSDFLAGS
CSDRV036 EQU   CSDFLAGS
CSDRV035 EQU   CSDFLAGS
CSDRV034 EQU   CSDFLAGS
CSDRV033 EQU   CSDFLAGS
CSDRV032 EQU   CSDFLAGS
CSDMP    EQU   CSDFLAGS
CSDACR   EQU   CSD+22
CSDMF1CP EQU   CSD+20
CSDRV043 EQU   CSD+16
CSDRV030 EQU   CSDSCFL4
CSDRV029 EQU   CSDSCFL4
CSDRV028 EQU   CSDSCFL4
CSDRV027 EQU   CSDSCFL4
CSDRV026 EQU   CSDSCFL4
CSDRV025 EQU   CSDSCFL4
CSDRV024 EQU   CSDSCFL4
CSDRV023 EQU   CSDSCFL4
CSDRV022 EQU   CSDSCFL3
CSDRV021 EQU   CSDSCFL3
CSDRV020 EQU   CSDSCFL3
CSDRV019 EQU   CSDSCFL3
CSDRV018 EQU   CSDSCFL3
CSDRV017 EQU   CSDSCFL3
CSDRV016 EQU   CSDSCFL3
CSDRV015 EQU   CSDSCFL3
CSDRV014 EQU   CSDSCFL2
CSDRV013 EQU   CSDSCFL2
CSDRV012 EQU   CSDSCFL2
CSDRV011 EQU   CSDSCFL2
CSDRV010 EQU   CSDSCFL2
CSDRV009 EQU   CSDSCFL2
CSDRV008 EQU   CSDSCFL2
CSDRV007 EQU   CSDSCFL2
CSDRV006 EQU   CSDSCFL1
CSDRV005 EQU   CSDSCFL1
CSDRV004 EQU   CSDSCFL1
CSDRV003 EQU   CSDSCFL1
CSDRV002 EQU   CSDSCFL1
CSDRV001 EQU   CSDSCFL1
CSDSYSND EQU   CSDSCFL1
CSDRV042 EQU   CSDSCFL1
CSDCPUOL EQU   CSD+10
CSDSAFF  EQU   CSDCPUAL
CSDCHAD  EQU   CSD+6
CSDCPUJS EQU   CSD+4
CSDCSD   EQU   CSD
FRRSPARM EQU   FRRSENTR+8
@NM00105 EQU   FRRSFLGS+1
@NM00104 EQU   FRRSFLG1
FRRSNEST EQU   FRRSFLG1
FRRSRCUR EQU   FRRSFLG1
FRRSFRRA EQU   FRRSENTR
FRRSENTS EQU   FRRS+84
FRRSRTMW EQU   FRRS+16
FRRSCURR EQU   FRRSHEAD+12
FRRSELEN EQU   FRRSHEAD+8
FRRSLAST EQU   FRRSHEAD+4
FRRSEMP  EQU   FRRSHEAD
WSACASMS EQU   WSAC+60
WSACASMD EQU   WSAC+56
WSACCCH  EQU   WSAC+52
WSACRRSA EQU   WSAC+48
WSACREST EQU   WSAC+44
WSACABTM EQU   WSAC+36
WSACMF1  EQU   WSAC+32
WSACEDS0 EQU   WSAC+28
WSACIOS  EQU   WSAC+24
WSACRTMK EQU   WSAC+20
WSACACR  EQU   WSAC+16
WSACTIME EQU   WSAC+12
WSACOPTM EQU   WSAC+8
WSACGTF  EQU   WSAC+4
WSACCWSA EQU   WSAC
IRTEND   EQU   IRT+124
IRTRSV0B EQU   IRT+120
IRTRSV0A EQU   IRT+116
IRTSNSCT EQU   IRT+112
IRTLCHAD EQU   IRT+108
IRTSTSSV EQU   IRT+104
IRTINTSV EQU   IRT+100
IRTCCHSV EQU   IRT+96
IRTATTSV EQU   IRT+92
IRTFRRWA EQU   IRT+88
IRTNSRB  EQU   IRT+84
IRTCSME  EQU   IRT+80
IRTPRGSV EQU   IRT+76
IRTPCISV EQU   IRT+72
IRTSENSV EQU   IRT+68
IRTDIESV EQU   IRT+64
IRTRSTSV EQU   IRT+60
IRTSTASV EQU   IRT+56
IRTSIOSV EQU   IRT+52
IRTDDSV  EQU   IRT+48
IRTTCHSV EQU   IRT+44
IRTRTNSV EQU   IRT+36
IRTCHMSK EQU   IRT+32
IRTPSTSV EQU   IRT+28
IRTNIOQ  EQU   IRT+24
IRTCHNL  EQU   IRT+20
IRTIOQ   EQU   IRT+16
IRTLCH   EQU   IRT+12
IRTUCB   EQU   IRT+8
@NM00103 EQU   IRT+7
IRTCMRST EQU   IRT+6
IRTCCH   EQU   IRT+5
IRTSYMSK EQU   IRT+4
@NM00102 EQU   IRTENTRY+3
IRTCSINT EQU   IRTENVR
IRTPINT  EQU   IRTENVR
IRTHIO   EQU   IRTENVR
IRTRSTI  EQU   IRTENVR
@NM00101 EQU   IRTENVR
IRTSHTP  EQU   IRTENVR
IRTSLIHA EQU   IRTENVR
IRTCHENT EQU   IRTENVR
@NM00100 EQU   IRTFLB
IRTCCHWA EQU   IRTFLB
IRT12GT  EQU   IRTFLB
IRTSMGR  EQU   IRTFLB
IRTCHBSY EQU   IRTFLB
IRTPCISW EQU   IRTFLB
IRTSKRST EQU   IRTFLB
IRTNRST  EQU   IRTFLB
@NM00099 EQU   IRTFLA
IRTSLISN EQU   IRTFLA
IRTIOQA  EQU   IRTFLA
IRTALCK  EQU   IRTFLA
IRTCLCK  EQU   IRTFLA
IRTSLCK  EQU   IRTFLA
IRTLLCK  EQU   IRTFLA
IRTULCK  EQU   IRTFLA
@NM00098 EQU   PCCA+512
PCCARV36 EQU   PCCA+380
PCCARV35 EQU   PCCA+378
PCCARV01 EQU   PCCA+377
PCCAR105 EQU   PCCAATTR
PCCAR104 EQU   PCCAATTR
PCCAR103 EQU   PCCAATTR
PCCAR102 EQU   PCCAATTR
PCCAR101 EQU   PCCAATTR
PCCAR100 EQU   PCCAATTR
PCCAIO   EQU   PCCAATTR
PCCACPUM EQU   PCCAATTR
PCCARV63 EQU   PCCA+372
PCCARV62 EQU   PCCA+368
PCCARV61 EQU   PCCA+364
PCCARV60 EQU   PCCA+360
PCCARV59 EQU   PCCA+356
PCCARV58 EQU   PCCA+352
PCCARV57 EQU   PCCA+348
PCCARV56 EQU   PCCA+344
PCCARV55 EQU   PCCA+340
PCCARV54 EQU   PCCA+336
PCCALOGA EQU   PCCA+332
PCCACHID EQU   PCCA+324
PCCACHSV EQU   PCCA+312
PCCARV79 EQU   PCCACHF4
PCCARV78 EQU   PCCACHF4
PCCARV77 EQU   PCCACHF4
PCCARV76 EQU   PCCACHF4
PCCARV75 EQU   PCCACHF4
PCCARV74 EQU   PCCACHF4
PCCARV73 EQU   PCCACHF4
PCCARV72 EQU   PCCACHF4
PCCARV71 EQU   PCCACHF3
PCCARV70 EQU   PCCACHF3
PCCARV69 EQU   PCCACHF3
PCCARV68 EQU   PCCACHF3
PCCARV67 EQU   PCCACHF3
PCCARV66 EQU   PCCACHF3
PCCASLCK EQU   PCCACHF3
PCCAISRB EQU   PCCACHF3
PCCACF28 EQU   PCCACHF2
PCCACF27 EQU   PCCACHF2
PCCACF26 EQU   PCCACHF2
PCCACF25 EQU   PCCACHF2
PCCACF24 EQU   PCCACHF2
PCCACF23 EQU   PCCACHF2
PCCACF22 EQU   PCCACHF2
PCCACF21 EQU   PCCACHF2
PCCACF18 EQU   PCCACHF1
PCCACF17 EQU   PCCACHF1
PCCACF16 EQU   PCCACHF1
PCCACF15 EQU   PCCACHF1
PCCACF14 EQU   PCCACHF1
PCCACF13 EQU   PCCACHF1
PCCACF12 EQU   PCCACHF1
PCCACF11 EQU   PCCACHF1
PCCARV05 EQU   PCCA+307
PCCACHPB EQU   PCCA+306
PCCALGP2 EQU   PCCA+305
PCCALGP1 EQU   PCCA+304
PCCACELL EQU   PCCA+302
PCCALOGL EQU   PCCA+300
PCCACHW2 EQU   PCCA+296
PCCACHW1 EQU   PCCA+292
PCCAIOSI EQU   PCCA+291
PCCACNRB EQU   PCCACHRB
PCCACCVB EQU   PCCACHRB
PCCACSNB EQU   PCCACHRB
PCCARV52 EQU   PCCACHRB
PCCACHIB EQU   PCCACHRB
PCCACTIB EQU   PCCACHRB
PCCACINB EQU   PCCACHRB
PCCACSIB EQU   PCCACHRB
PCCARV51 EQU   PCCACHS2
PCCARV50 EQU   PCCACHS2
PCCACCRA EQU   PCCACHS2
PCCACURC EQU   PCCACHS2
PCCACNLG EQU   PCCACHS2
PCCACMOD EQU   PCCACHS2
PCCACALT EQU   PCCACHS2
PCCACIOR EQU   PCCACHS2
PCCARV47 EQU   PCCACHS1
PCCACUCB EQU   PCCACHS1
PCCACIBC EQU   PCCACHS1
PCCACAND EQU   PCCACHS1
PCCACNLS EQU   PCCACHS1
PCCACFRR EQU   PCCACHS1
PCCACNRE EQU   PCCACHS1
PCCACCMP EQU   PCCACHS1
PCCACSEQ EQU   PCCACHTS
PCCACDIN EQU   PCCACHTS
PCCARV44 EQU   PCCACHTS
PCCARV43 EQU   PCCACHTS
PCCACTEC EQU   PCCACHTS
PCCACDAV EQU   PCCACHVA
PCCACCHV EQU   PCCACHVA
PCCACCMD EQU   PCCACHVA
PCCACUNS EQU   PCCACHVA
PCCACSQV EQU   PCCACHVA
PCCARV42 EQU   PCCACHVA
PCCARV41 EQU   PCCACHVA
PCCACITF EQU   PCCACHVA
PCCARV40 EQU   PCCACHBL
PCCARV39 EQU   PCCACHBL
PCCARV38 EQU   PCCACHBL
PCCACCUE EQU   PCCACHBL
PCCACSTG EQU   PCCACHBL
PCCACSCU EQU   PCCACHBL
PCCACCNT EQU   PCCACHPF
PCCACSNS EQU   PCCACHPF
PCCARV37 EQU   PCCACHPF
PCCACHIO EQU   PCCACHPF
PCCACTIO EQU   PCCACHPF
PCCACINT EQU   PCCACHPF
PCCACSIO EQU   PCCACHPF
PCCAR106 EQU   PCCA+228
PCCAR113 EQU   PCCA+226
PCCASRBL EQU   PCCA+225
PCCAR112 EQU   PCCACHAN
PCCAR111 EQU   PCCACHAN
PCCAR110 EQU   PCCACHAN
PCCAR109 EQU   PCCACHAN
PCCAR108 EQU   PCCACHAN
PCCAR107 EQU   PCCACHAN
PCCAEXDM EQU   PCCACHAN
PCCAIRST EQU   PCCACHAN
PCCASRB  EQU   PCCA+180
PCCACCHM EQU   PCCA+176
PCCAELBA EQU   PCCA+172
PCCALRBR EQU   PCCA+164
PCCALRBV EQU   PCCA+160
PCCAPWAR EQU   PCCA+156
PCCAEMSA EQU   PCCAEMSB+12
PCCAEMSE EQU   PCCAEMSB+8
PCCAEMSP EQU   PCCAEMSB+4
PCCARMS  EQU   PCCARMSB
PCCARV34 EQU   PCCARMSB
PCCARV33 EQU   PCCARMSB
PCCARV32 EQU   PCCARMSB
PCCARV31 EQU   PCCARMSB
PCCARV30 EQU   PCCARMSB
PCCARV29 EQU   PCCARMSB
PCCARV28 EQU   PCCARMSB
PCCARV27 EQU   PCCAEMS3
PCCARV26 EQU   PCCAEMS3
PCCARV25 EQU   PCCAEMS3
PCCARV24 EQU   PCCAEMS3
PCCARV23 EQU   PCCAEMS3
PCCARV22 EQU   PCCAEMS3
PCCARV21 EQU   PCCAEMS3
PCCARV20 EQU   PCCAEMS3
PCCARV19 EQU   PCCAEMS2
PCCARV18 EQU   PCCAEMS2
PCCARV17 EQU   PCCAEMS2
PCCARV16 EQU   PCCAEMS2
PCCARV15 EQU   PCCAEMS2
PCCARV14 EQU   PCCAEMS2
PCCARV13 EQU   PCCAEMS2
PCCARV12 EQU   PCCAEMS2
PCCARV11 EQU   PCCARISP
PCCARV10 EQU   PCCARISP
PCCARV09 EQU   PCCARISP
PCCARV08 EQU   PCCARISP
PCCARV07 EQU   PCCARISP
PCCARV06 EQU   PCCARISP
PCCASERL EQU   PCCARISP
PCCAPARL EQU   PCCARISP
PCCARPB  EQU   PCCA+132
PCCACTIN EQU   PCCAINTE
PCCANFIN EQU   PCCAINTE
PCCANUIN EQU   PCCAINTE
PCCACTCC EQU   PCCACCE
PCCANFCC EQU   PCCACCE
PCCANUCC EQU   PCCACCE
PCCACTTD EQU   PCCATODE
PCCANFTD EQU   PCCATODE
PCCANUTD EQU   PCCATODE
PCCARV04 EQU   PCCATMFL
PCCARV03 EQU   PCCATMFL
PCCARV02 EQU   PCCATMFL
PCCAMINT EQU   PCCATMFL
PCCAMCC  EQU   PCCATMFL
PCCAVKIL EQU   PCCATMFL
PCCASYNC EQU   PCCATMFL
PCCAINIT EQU   PCCATMFL
PCCARV9E EQU   PCCA+124
PCCARV9D EQU   PCCA+120
PCCARV9C EQU   PCCA+116
PCCARV9B EQU   PCCA+112
PCCARV9A EQU   PCCA+108
PCCARV99 EQU   PCCA+104
PCCARV98 EQU   PCCA+100
PCCARV97 EQU   PCCA+96
PCCARV96 EQU   PCCA+92
PCCARV95 EQU   PCCA+88
PCCARV94 EQU   PCCA+84
PCCARV93 EQU   PCCA+80
PCCARV92 EQU   PCCA+76
PCCARV91 EQU   PCCA+72
PCCARV90 EQU   PCCA+68
PCCARV89 EQU   PCCA+64
PCCARV88 EQU   PCCA+60
PCCARV87 EQU   PCCA+56
PCCARV86 EQU   PCCA+52
PCCARV85 EQU   PCCA+48
PCCARV84 EQU   PCCA+44
PCCARV83 EQU   PCCA+40
PCCARV82 EQU   PCCA+36
PCCARV81 EQU   PCCA+32
PCCAPSAR EQU   PCCA+28
PCCAPSAV EQU   PCCA+24
PCCATQEP EQU   PCCA+20
PCCACAFM EQU   PCCA+18
PCCAPCCA EQU   PCCA
LCCAR125 EQU   LCCA+964
LCCAR124 EQU   LCCA+960
LCCASGPR EQU   LCCA+896
LCCADRT2 EQU   LCCA+888
LCCADRT1 EQU   LCCA+880
LCCAR103 EQU   LCCA+876
LCCAESS2 EQU   LCCA+872
LCCASPLJ EQU   LCCA+868
LCCASMQJ EQU   LCCA+864
LCCAASID EQU   LCCA+732
LCCARV89 EQU   LCCA+728
LCCAPGTA EQU   LCCASRBF+2
LCCASAFN EQU   LCCASRBF
LCCAECSA EQU   LCCA+716
LCCAICR0 EQU   LCCA+712
LCCALWTM EQU   LCCA+704
LCCARV78 EQU   LCCA+700
LCCAPINV EQU   LCCA+696
LCCARV88 EQU   LCCA+695
LCCARV87 EQU   LCCALKFG
LCCARV86 EQU   LCCALKFG
LCCARV85 EQU   LCCALKFG
LCCARV84 EQU   LCCALKFG
LCCALKRD EQU   LCCALKFG
LCCALKAQ EQU   LCCALKFG
LCCALKSA EQU   LCCALKFG
LCCALKDP EQU   LCCALKFG
LCCACRST EQU   LCCACREX
LCCACRDP EQU   LCCACREX
LCCACRLM EQU   LCCACREX
LCCACRIN EQU   LCCACREX
LCCACRRT EQU   LCCACREX
LCCACRLE EQU   LCCACREX
LCCACRRM EQU   LCCACREX
LCCACREF EQU   LCCACREX
LCCAVARY EQU   LCCACRFL
LCCARV73 EQU   LCCACRFL
LCCARV72 EQU   LCCACRFL
LCCARV71 EQU   LCCACRFL
LCCARV70 EQU   LCCACRFL
LCCARV69 EQU   LCCACRFL
LCCACLMS EQU   LCCACRFL
LCCACRTM EQU   LCCACRFL
LCCALCR0 EQU   LCCA+688
LCCACRLC EQU   LCCA+684
LCCARCPU EQU   LCCA+680
LCCADCPU EQU   LCCA+676
LCCASRBJ EQU   LCCA+672
LCCADSSR EQU   LCCA+668
LCCADSSC EQU   LCCA+660
LCCADSS3 EQU   LCCA+648
LCCADSS2 EQU   LCCA+636
LCCADSS1 EQU   LCCA+624
LCCAWTIM EQU   LCCA+616
LCCAITOD EQU   LCCA+608
LCCADTOD EQU   LCCA+600
LCCASTOD EQU   LCCA+592
LCCARIR5 EQU   LCCASPSA+44
LCCARIR4 EQU   LCCASPSA+40
LCCARIR3 EQU   LCCASPSA+36
LCCARIR2 EQU   LCCASPSA+32
LCCARPR5 EQU   LCCASPSA+28
LCCARPR4 EQU   LCCASPSA+24
LCCARPR3 EQU   LCCASPSA+20
LCCARPR2 EQU   LCCASPSA+16
LCCADSR5 EQU   LCCASPSA+12
LCCADSR4 EQU   LCCASPSA+8
LCCADSR3 EQU   LCCASPSA+4
LCCADSR2 EQU   LCCASPSA
LCCARV68 EQU   LCCA+543
LCCAPSMK EQU   LCCA+542
LCCARV67 EQU   LCCADSF2
LCCARV66 EQU   LCCADSF2
LCCARV65 EQU   LCCADSF2
LCCARV64 EQU   LCCADSF2
LCCADSRW EQU   LCCADSF2
LCCADSPL EQU   LCCADSF2
LCCAGSRB EQU   LCCADSF2
LCCASRBM EQU   LCCADSF2
LCCARV61 EQU   LCCADSF1
LCCARV60 EQU   LCCADSF1
LCCARV59 EQU   LCCADSF1
LCCARV58 EQU   LCCADSF1
LCCATIMR EQU   LCCADSF1
LCCADSS  EQU   LCCADSF1
LCCAVCPU EQU   LCCADSF1
LCCAACR  EQU   LCCADSF1
LCCAASCP EQU   LCCA+532
LCCAESSA EQU   LCCA+528
LCCARV55 EQU   LCCASPN4
LCCARV54 EQU   LCCASPN4
LCCARV53 EQU   LCCASPN4
LCCARV52 EQU   LCCASPN4
LCCARV51 EQU   LCCASPN4
LCCARV50 EQU   LCCASPN4
LCCARV49 EQU   LCCASPN4
LCCARV48 EQU   LCCASPN4
LCCARV47 EQU   LCCASPN3
LCCARV46 EQU   LCCASPN3
LCCARV45 EQU   LCCASPN3
LCCARV44 EQU   LCCASPN3
LCCARV43 EQU   LCCASPN3
LCCARV42 EQU   LCCASPN3
LCCARV41 EQU   LCCASPN3
LCCARV40 EQU   LCCASPN3
LCCARV39 EQU   LCCASPN2
LCCARV38 EQU   LCCASPN2
LCCARV37 EQU   LCCASPN2
LCCARV36 EQU   LCCASPN2
LCCARV35 EQU   LCCASPN2
LCCARV34 EQU   LCCASPN2
LCCARV33 EQU   LCCASPN2
LCCARV32 EQU   LCCASPN2
LCCARV31 EQU   LCCASPN1
LCCARV30 EQU   LCCASPN1
LCCAMFIO EQU   LCCASPN1
LCCARSTR EQU   LCCASPN1
LCCATSPN EQU   LCCASPN1
LCCALOCK EQU   LCCASPN1
LCCASIGP EQU   LCCASPN1
LCCAPTLB EQU   LCCASPN1
LCCARV27 EQU   LCCAIHR4
LCCARV26 EQU   LCCAIHR4
LCCARV25 EQU   LCCAIHR4
LCCARV24 EQU   LCCAIHR4
LCCARV23 EQU   LCCAIHR4
LCCARV22 EQU   LCCAIHR4
LCCARV21 EQU   LCCAIHR4
LCCARV20 EQU   LCCAIHR4
LCCARV19 EQU   LCCAIHR3
LCCARV18 EQU   LCCAIHR3
LCCARV17 EQU   LCCAIHR3
LCCARV16 EQU   LCCAIHR3
LCCARV15 EQU   LCCAIHR3
LCCARV14 EQU   LCCAIHR3
LCCARV13 EQU   LCCAIHR3
LCCARV12 EQU   LCCAIHR3
LCCARV11 EQU   LCCAIHR2
LCCARV10 EQU   LCCAIHR2
LCCARV09 EQU   LCCAIHR2
LCCARV08 EQU   LCCAIHR2
LCCARV07 EQU   LCCAIHR2
LCCARV06 EQU   LCCAIHR2
LCCARV05 EQU   LCCAIHR2
LCCARV04 EQU   LCCAIHR2
LCCARV03 EQU   LCCAIHR1
LCCARV02 EQU   LCCAIHR1
LCCARV01 EQU   LCCAIHR1
LCCAPPIE EQU   LCCAIHR1
LCCAPSG1 EQU   LCCAIHR1
LCCAPDAT EQU   LCCAIHR1
LCCAXRC2 EQU   LCCAIHR1
LCCAXRC1 EQU   LCCAIHR1
LCCAIOPS EQU   LCCA+512
LCCAGPGR EQU   LCCA+448
LCCAR133 EQU   LCCA+444
LCCAR132 EQU   LCCA+440
LCCAR131 EQU   LCCA+436
LCCAR130 EQU   LCCA+432
LCCAR129 EQU   LCCA+428
LCCAR128 EQU   LCCA+424
LCCAR127 EQU   LCCA+420
LCCAR126 EQU   LCCA+416
LCCARSGR EQU   LCCA+352
LCCAXGR3 EQU   LCCA+288
LCCAXGR2 EQU   LCCA+224
LCCAXGR1 EQU   LCCA+160
LCCACR0  EQU   LCCA+156
LCCAMCR1 EQU   LCCA+152
LCCAPVAD EQU   LCCA+148
LCCAPINT EQU   LCCA+144
LCCAPPSW EQU   LCCA+136
LCCAPGR2 EQU   LCCA+72
LCCAPGR1 EQU   LCCA+8
LCCARV77 EQU   LCCA+6
LCCACPUA EQU   LCCA+4
LCCALCCA EQU   LCCA
IOXEND   EQU   IOCX+32
IOXPSIF  EQU   IOCX+28
IOXPSIX  EQU   IOCX+24
IOXSTIDC EQU   IOCX+20
IOXCRHD  EQU   IOCX+16
IOXTCQSC EQU   IOCX+8
@NM00071 EQU   IOCX+6
IOXLCHCT EQU   IOCX+5
IOXCHMSK EQU   IOCX+2
IOXOFSET EQU   IOX
IOCOEND  EQU   IOCOM+128
IOCPATCH EQU   IOCOM+124
IOCQCNT  EQU   IOCOM+116
IOCIOSDQ EQU   IOCOM+112
IOCIOSEQ EQU   IOCOM+108
IOCSVCF  EQU   IOCOM+104
IOCTCCW  EQU   IOCOM+100
IOCMFCNT EQU   IOCOM+92
IOCMFHK  EQU   IOCOM+88
IOCGENA  EQU   IOCOM+84
IOCCCH   EQU   IOCOM+80
IOCASYNQ EQU   IOCOM+76
IOCLCHTB EQU   IOCOM+72
IOCATTBL EQU   IOCOM+68
IOCSYNCH EQU   IOCOM+56
IOCCATLK EQU   IOCOM+48
IOCPRGID EQU   IOCOM+44
IOCVOID  EQU   IOCOM+32
IOCSTIO  EQU   IOCOM+28
IOCSCOMP EQU   IOCOM+24
IOCHD160 EQU   IOCOM+20
IOCINT   EQU   IOCOM+16
IOCCTBL  EQU   IOCOM+12
IOCHIO   EQU   IOCOM+8
IOCPST   EQU   IOCOM+4
IOCPGCT  EQU   IOCOM+2
IOCVOICT EQU   IOCOM
IOSEND   EQU   IOSB+108
IOSSKR   EQU   IOSEEKA+7
IOSSKH2  EQU   IOSSKHH+1
IOSSKH1  EQU   IOSSKHH
IOSSKCC  EQU   IOSCCHH
IOSSKBB  EQU   IOSEEKA+1
IOSSKM   EQU   IOSEEKA
IOSEEK   EQU   IOSB+92
IOSMDM   EQU   IOSB+91
IOSMDB   EQU   IOSB+90
IOSCKEY7 EQU   IOSCKEY
IOSCKEY6 EQU   IOSCKEY
IOSCKEY5 EQU   IOSCKEY
IOSCKEY4 EQU   IOSCKEY
@NM00067 EQU   IOSCKEY
IOSFMSK  EQU   IOSB+88
IOSCUDEV EQU   IOSPATH+1
@NM00066 EQU   IOSCHN
IOSPATH3 EQU   IOSCHN
IOSPATH2 EQU   IOSCHN
IOSEXP   EQU   IOSCHN
IOSGDP   EQU   IOSCHN
IOSAFF   EQU   IOSB+85
IOSRSS1B EQU   IOSB+84
IOSDSID  EQU   IOSB+80
IOSVST   EQU   IOSB+76
IOSRST   EQU   IOSB+72
IOSNOTRS EQU   IOSDIEFG
IOSABN   EQU   IOSB+64
IOSNRM   EQU   IOSB+60
IOSPCI   EQU   IOSB+56
IOSERP   EQU   IOSB+52
IOSPCHN  EQU   IOSB+48
IOSSNS   EQU   IOSB+42
IOSAPMSK EQU   IOSB+40
IOSRES4A EQU   IOSB+36
IOSUSE   EQU   IOSB+32
IOSCSWRC EQU   IOSCSW+5
IOSTSB   EQU   IOSTATUS+1
IOSTSA   EQU   IOSTATUS
IOSCSWCA EQU   IOSCSW
IOSCC    EQU   @NM00065
IOSUCB   EQU   IOSB+16
IOSOPT2X EQU   IOSOPT2
IOSHTP   EQU   IOSOPT2
IOSRELSE EQU   IOSOPT
IOSAPR   EQU   IOSOPT
IOSTSLL  EQU   IOSOPT
IOSNERP  EQU   IOSOPT
IOSPSLL  EQU   IOSOPT
IOSQISCE EQU   IOSOPT
IOSDEP   EQU   IOSOPT
IOSBYP   EQU   IOSOPT
IOSCOD   EQU   IOSB+13
IOSPKY7  EQU   IOSPKEY
IOSPGDPX EQU   IOSPKEY
IOSIDR   EQU   IOSPKEY
IOSLCL   EQU   IOSPKEY
@NM00064 EQU   IOSPKEY
IOSPGAD  EQU   IOSB+8
IOSASID  EQU   IOSB+6
IOSPRLVL EQU   IOSB+5
IOSDVRID EQU   IOSB+4
IOSPROC  EQU   IOSB+3
IOSFLC7  EQU   IOSFLC
IOSCTCNR EQU   IOSFLC
IOSRWAIT EQU   IOSFLC
IOSTP    EQU   IOSFLC
IOSCC3WE EQU   IOSFLC
IOSVERIF EQU   IOSDVALT
IOSDVMNT EQU   IOSFLC
IOSLOG   EQU   IOSFLB
IOSBDCST EQU   IOSFLB
IOSMSG   EQU   IOSFLB
IOSFLB4  EQU   IOSFLB
IOSFLB3  EQU   IOSFLB
IOSFLB2  EQU   IOSFLB
IOSSDR   EQU   IOSFLB
IOSDIESE EQU   IOSFLB
IOSIOSB  EQU   IOSFLA
IOSDOM   EQU   IOSFLA
IOSEX    EQU   IOSFLA
IOSSMDB  EQU   IOSFLA
IOSSMDA  EQU   IOSFLA
IOSERR   EQU   IOSFLA
IOSCCHN  EQU   IOSACHN
IOSDCHN  EQU   IOSACHN
IOQEND   EQU   IOQ+12
IOQPTH   EQU   IOQFLAGS+3
IOQPRI   EQU   IOQFLAGS+2
IOQALOC  EQU   IOQFLB
IOQRLSE  EQU   IOQFLB
IOQRESV  EQU   IOQFLB
@NM00063 EQU   IOQFLA
IOQPBSY  EQU   IOQFLA
IOQLBSY  EQU   IOQFLA
IOQENQ   EQU   IOQFLA
IOQSLCH  EQU   IOQFLA
IOQLNK   EQU   IOQ
@NM00062 EQU   SDWA+512
SDWAVRA  EQU   SDWARA+4
SDWAURAL EQU   SDWARA+3
@NM00061 EQU   SDWADPVA
SDWAEBC  EQU   SDWADPVA
SDWAHEX  EQU   SDWADPVA
SDWAVRAL EQU   SDWARA
@NM00060 EQU   SDWA+396
SDWACOMP EQU   SDWA+392
SDWARCPL EQU   SDWA+364
@NM00059 EQU   SDWADPSA+32
SDWATO4  EQU   SDWADPSL+28
SDWAFRM4 EQU   SDWADPSL+24
SDWATO3  EQU   SDWADPSL+20
SDWAFRM3 EQU   SDWADPSL+16
SDWATO2  EQU   SDWADPSL+12
SDWAFRM2 EQU   SDWADPSL+8
SDWATO1  EQU   SDWADPSL+4
SDWAFRM1 EQU   SDWADPSL
@NM00058 EQU   SDWADDAT+3
@NM00057 EQU   SDWAPDAT
SDWAUSPL EQU   SDWAPDAT
SDWADPSW EQU   SDWAPDAT
SDWATJPA EQU   SDWAPDAT
SDWATLPA EQU   SDWAPDAT
SDWADREG EQU   SDWAPDAT
SDWADSAH EQU   SDWAPDAT
SDWADSAS EQU   SDWAPDAT
@NM00056 EQU   SDWADDAT+1
@NM00055 EQU   SDWASDAT
SDWAQQS  EQU   SDWASDAT
SDWACBS  EQU   SDWASDAT
SDWAGTF  EQU   SDWASDAT
SDWASWA  EQU   SDWASDAT
SDWALSQA EQU   SDWASDAT
SDWASQA  EQU   SDWASDAT
SDWANUC  EQU   SDWASDAT
@NM00054 EQU   SDWADUMP+2
@NM00053 EQU   SDWADPFS
SDWASLST EQU   SDWADPFS
@NM00052 EQU   SDWADPFS
SDWADLST EQU   SDWADPFS
SDWADPT  EQU   SDWADPFS
SDWADPID EQU   SDWADUMP
SDWADPLA EQU   SDWA+316
@NM00051 EQU   SDWA+290
SDWAASID EQU   SDWA+288
SDWATALW EQU   SDWALKWS+28
SDWATDLW EQU   SDWALKWS+24
SDWATNLW EQU   SDWALKWS+20
SDWAAPLW EQU   SDWALKWS+16
SDWAIPLW EQU   SDWALKWS+12
SDWAILLW EQU   SDWALKWS+8
SDWAICLW EQU   SDWALKWS
SDWAFLLK EQU   SDWAACF4
SDWACMS  EQU   SDWAACF4
SDWAOPTM EQU   SDWAACF4
SDWATADB EQU   SDWAACF4
SDWATDNB EQU   SDWAACF4
SDWATNCB EQU   SDWAACF4
SDWAILCH EQU   SDWAACF4
SDWAICAT EQU   SDWAACF3
SDWAIPRG EQU   SDWAACF3
SDWASALL EQU   SDWAACF3
SDWAASMP EQU   SDWAACF3
SDWADISP EQU   SDWAACF3
@NM00050 EQU   SDWAACF3
@NM00049 EQU   SDWAACF2
SDWAFREE EQU   SDWAACF2
SDWAUPRG EQU   SDWAACF2
@NM00048 EQU   SDWAACF2
SDWASPIN EQU   SDWAACF2
@NM00047 EQU   SDWAACF2
SDWALCPU EQU   SDWACPUA+2
@NM00046 EQU   SDWACPUA
SDWARECA EQU   SDWA+244
SDWARTYA EQU   SDWA+240
@NM00045 EQU   SDWA+239
@NM00044 EQU   SDWAIOFS
SDWANIOP EQU   SDWAIOFS
SDWANOIO EQU   SDWAIOFS
SDWAIOHT EQU   SDWAIOFS
SDWAIOQR EQU   SDWAIOFS
SDWAFMID EQU   SDWA+236
@NM00043 EQU   SDWAERRD
SDWAMCIV EQU   SDWAERRD
SDWARPIV EQU   SDWAERRD
SDWAMABD EQU   SDWAERRD
SDWACTS  EQU   SDWAERRD
SDWASTAE EQU   SDWAERRD
SDWANRBE EQU   SDWAERRD
SDWACLUP EQU   SDWAERRD
@NM00042 EQU   SDWAERRC
SDWAEAS  EQU   SDWAERRC
SDWAPERC EQU   SDWAERRC
SDWAIRB  EQU   SDWAERRC
SDWASTAI EQU   SDWAERRC
SDWASTAF EQU   SDWAERRC
SDWASRBM EQU   SDWAERRB
SDWALDIS EQU   SDWAERRB
SDWAENRB EQU   SDWAERRB
SDWATYP1 EQU   SDWAERRB
@NM00041 EQU   SDWAERRB
SDWAPGIO EQU   SDWAERRA
SDWATEXC EQU   SDWAERRA
SDWASVCE EQU   SDWAERRA
SDWAABTM EQU   SDWAERRA
SDWASVCD EQU   SDWAERRA
SDWARKEY EQU   SDWAERRA
SDWAPCHK EQU   SDWAERRA
SDWAMCHK EQU   SDWAERRA
SDWATIME EQU   SDWAMCH+20
SDWARFSA EQU   SDWAMCH+16
@NM00040 EQU   SDWAMCH+14
SDWAVEQR EQU   SDWARSR2
SDWAPGFX EQU   SDWARSR2
SDWAFLSQ EQU   SDWARSR2
SDWAFSQA EQU   SDWARSR2
SDWANUCL EQU   SDWARSR2
SDWASPER EQU   SDWARSR2
SDWAINTC EQU   SDWARSR2
SDWAOFLN EQU   SDWARSR2
SDWACHNG EQU   SDWARSR1
SDWAMSER EQU   SDWARSR1
@NM00039 EQU   SDWARSR1
SDWACPID EQU   SDWAMCH+10
SDWATERR EQU   SDWAMCHD
SDWAFPRX EQU   SDWAMCHD
SDWAINSF EQU   SDWAMCHD
SDWAACR  EQU   SDWAMCHD
SDWASCK  EQU   SDWAMCHD
SDWAPSWU EQU   SDWAMCHD
SDWAREGU EQU   SDWAMCHD
SDWASKYF EQU   SDWAMCHD
@NM00038 EQU   SDWAMCHS
SDWARSRF EQU   SDWAMCHS
SDWARSRC EQU   SDWAMCHS
SDWAINVP EQU   SDWAMCHS
SDWATSVL EQU   SDWAMCHS
SDWARCDF EQU   SDWAMCHS
SDWASRVL EQU   SDWAMCHS
SDWASCKE EQU   SDWASTCK+4
SDWASCKB EQU   SDWASTCK
SDWALNTH EQU   SDWAIDNT+1
SDWASPID EQU   SDWAIDNT
SDWASR15 EQU   SDWASRSV+60
SDWASR14 EQU   SDWASRSV+56
SDWASR13 EQU   SDWASRSV+52
SDWASR12 EQU   SDWASRSV+48
SDWASR11 EQU   SDWASRSV+44
SDWASR10 EQU   SDWASRSV+40
SDWASR09 EQU   SDWASRSV+36
SDWASR08 EQU   SDWASRSV+32
SDWASR07 EQU   SDWASRSV+28
SDWASR06 EQU   SDWASRSV+24
SDWASR05 EQU   SDWASRSV+20
SDWASR04 EQU   SDWASRSV+16
SDWASR03 EQU   SDWASRSV+12
SDWASR02 EQU   SDWASRSV+8
SDWASR01 EQU   SDWASRSV+4
SDWASR00 EQU   SDWASRSV
SDWATRN2 EQU   SDWAAEC2+4
SDWAIPC2 EQU   SDWAICD2
SDWAIMC2 EQU   SDWAICD2
SDWAIPR2 EQU   SDWAICD2
@NM00037 EQU   SDWAINC2
@NM00036 EQU   SDWAILC2
SDWAIL2  EQU   SDWAILC2
@NM00035 EQU   SDWAILC2
@NM00034 EQU   SDWAAEC2
SDWAADD2 EQU   SDWANXT2+1
@NM00033 EQU   SDWANXT2
@NM00032 EQU   SDWAEC2+3
SDWASGN2 EQU   SDWAINT2
SDWAEXP2 EQU   SDWAINT2
SDWADEC2 EQU   SDWAINT2
SDWAFPO2 EQU   SDWAINT2
SDWACC2  EQU   SDWAINT2
@NM00031 EQU   SDWAINT2
SDWAPGM2 EQU   SDWAMWP2
SDWAWAT2 EQU   SDWAMWP2
SDWAMCK2 EQU   SDWAMWP2
SDWAECT2 EQU   SDWAMWP2
SDWAKEY2 EQU   SDWAMWP2
SDWAEXT2 EQU   SDWAEMK2
SDWAIO2  EQU   SDWAEMK2
SDWATRM2 EQU   SDWAEMK2
@NM00030 EQU   SDWAEMK2
SDWAPER2 EQU   SDWAEMK2
@NM00029 EQU   SDWAEMK2
SDWATRAN EQU   SDWAAEC1+4
SDWAIPC1 EQU   SDWAICD1
SDWAIMC1 EQU   SDWAICD1
SDWAIPR1 EQU   SDWAICD1
@NM00028 EQU   SDWAINC1
@NM00027 EQU   SDWAILC1
SDWAIL1  EQU   SDWAILC1
@NM00026 EQU   SDWAILC1
@NM00025 EQU   SDWAAEC1
SDWAADD1 EQU   SDWANXT1+1
@NM00024 EQU   SDWANXT1
@NM00023 EQU   SDWAEC1+3
SDWASGN1 EQU   SDWAINT1
SDWAEXP1 EQU   SDWAINT1
SDWADEC1 EQU   SDWAINT1
SDWAFPO1 EQU   SDWAINT1
SDWACC1  EQU   SDWAINT1
@NM00022 EQU   SDWAINT1
SDWAPGM1 EQU   SDWAMWP1
SDWAWAT1 EQU   SDWAMWP1
SDWAMCK1 EQU   SDWAMWP1
SDWAECT1 EQU   SDWAMWP1
SDWAKEY1 EQU   SDWAMWP1
SDWAEXT1 EQU   SDWAEMK1
SDWAIO1  EQU   SDWAEMK1
SDWATRM1 EQU   SDWAEMK1
@NM00021 EQU   SDWAEMK1
SDWAPER1 EQU   SDWAEMK1
@NM00020 EQU   SDWAEMK1
SDWAIOBR EQU   SDWA+100
SDWAEPA  EQU   SDWA+96
@NM00019 EQU   SDWANAME+4
SDWARBAD EQU   SDWANAME
SDWAGR15 EQU   SDWAGRSV+60
SDWAGR14 EQU   SDWAGRSV+56
SDWAGR13 EQU   SDWAGRSV+52
SDWAGR12 EQU   SDWAGRSV+48
SDWAGR11 EQU   SDWAGRSV+44
SDWAGR10 EQU   SDWAGRSV+40
SDWAGR09 EQU   SDWAGRSV+36
SDWAGR08 EQU   SDWAGRSV+32
SDWAGR07 EQU   SDWAGRSV+28
SDWAGR06 EQU   SDWAGRSV+24
SDWAGR05 EQU   SDWAGRSV+20
SDWAGR04 EQU   SDWAGRSV+16
SDWAGR03 EQU   SDWAGRSV+12
SDWAGR02 EQU   SDWAGRSV+8
SDWAGR01 EQU   SDWAGRSV+4
SDWAGR00 EQU   SDWAGRSV
SDWANXTP EQU   SDWACTL2+5
SDWASGP  EQU   SDWAPMKP
SDWAEUP  EQU   SDWAPMKP
SDWADOP  EQU   SDWAPMKP
SDWAFPP  EQU   SDWAPMKP
SDWACCP  EQU   SDWAPMKP
SDWAILP  EQU   SDWAPMKP
SDWAINTP EQU   SDWACTL2+2
SDWASPVP EQU   SDWAMWPP
SDWAWATP EQU   SDWAMWPP
SDWAMCKP EQU   SDWAMWPP
@NM00018 EQU   SDWAMWPP
SDWAKEYP EQU   SDWAMWPP
SDWAEXTP EQU   SDWACMKP
SDWAIOP  EQU   SDWACMKP
SDWANXTA EQU   SDWACTL1+5
SDWASGA  EQU   SDWAPMKA
SDWAEUA  EQU   SDWAPMKA
SDWADOA  EQU   SDWAPMKA
SDWAFPA  EQU   SDWAPMKA
SDWACCA  EQU   SDWAPMKA
SDWAILA  EQU   SDWAPMKA
SDWAINTA EQU   SDWACTL1+2
SDWASPVA EQU   SDWAMWPA
SDWAWATA EQU   SDWAMWPA
SDWAMCKA EQU   SDWAMWPA
@NM00017 EQU   SDWAMWPA
SDWAKEYA EQU   SDWAMWPA
SDWAEXTA EQU   SDWACMKA
SDWAIOA  EQU   SDWACMKA
SDWACMPC EQU   SDWAABCC+1
@NM00016 EQU   SDWACMPF
SDWASTCC EQU   SDWACMPF
@NM00015 EQU   SDWACMPF
SDWASTEP EQU   SDWACMPF
SDWAREQ  EQU   SDWACMPF
UCBERADR EQU   UCBUCS+12
UCBFCBID EQU   UCBUCS+8
UCBERCNT EQU   UCBUCS+7
UCBRSV51 EQU   UCBUCS+6
UCBRSV50 EQU   UCBFCBOP
UCBRSV49 EQU   UCBFCBOP
UCBRSV48 EQU   UCBFCBOP
UCBRSV47 EQU   UCBFCBOP
UCBRSV46 EQU   UCBFCBOP
UCBRSV45 EQU   UCBFCBOP
UCBRSV44 EQU   UCBFCBOP
UCBFCBO1 EQU   UCBFCBOP
UCBUCSPE EQU   UCBUCSOP
UCBRSV43 EQU   UCBUCSOP
UCBRSV42 EQU   UCBUCSOP
UCBRSV41 EQU   UCBUCSOP
UCBRSV40 EQU   UCBUCSOP
UCBRSV39 EQU   UCBUCSOP
UCBUCSO2 EQU   UCBUCSOP
UCBUCSO1 EQU   UCBUCSOP
UCBUCSID EQU   UCBUCS
UCBMDRBA EQU   UCBMDRBF+1
UCBRV075 EQU   UCBMDRBF
UCBRV074 EQU   UCB3800X+32
UCBIMAGE EQU   UCB3800X+28
UCBFCBNM EQU   UCB3800X+24
UCBCHAR4 EQU   UCB3800X+20
UCBCHAR3 EQU   UCB3800X+16
UCBCHAR2 EQU   UCB3800X+12
UCBCHAR1 EQU   UCB3800X+8
UCBCGMID EQU   UCB3800X+4
UCBBRSTA EQU   UCBACTIV
UCBRV063 EQU   UCBACTIV
UCBRV062 EQU   UCBACTIV
UCBRV061 EQU   UCBACTIV
UCBRV060 EQU   UCBACTIV
UCBRV059 EQU   UCBACTIV
UCBRV058 EQU   UCBACTIV
UCBRV057 EQU   UCBACTIV
UCBRV050 EQU   UCB3800X+2
UCBCGMNO EQU   UCB3800X+1
UCBRV083 EQU   UCBOPTNS
UCBBRSTR EQU   UCBOPTNS
UCBRV056 EQU   UCBOPTNS
UCBRV055 EQU   UCBOPTNS
UCBRV054 EQU   UCBOPTNS
UCBRV053 EQU   UCBOPTNS
UCBRV052 EQU   UCBOPTNS
UCBRV051 EQU   UCBOPTNS
UCBRV073 EQU   UCB3540X+7
UCBRV072 EQU   UCBDKBYT
UCBRV071 EQU   UCBDKBYT
UCBRV070 EQU   UCBDKBYT
UCBRV069 EQU   UCBDKBYT
UCBRV068 EQU   UCBDKBYT
UCBRV067 EQU   UCBDKBYT
UCBVLVER EQU   UCBDKBYT
UCBDKAMX EQU   UCBDKBYT
UCBVLSER EQU   UCB3540X
UCBRDATA EQU   UCBOCR+4
UCBFRID  EQU   UCBOCR
UCBCLN   EQU   UCBMT+14
UCBERG   EQU   UCBMT+12
UCBMS    EQU   UCBMT+11
UCBNB    EQU   UCBMT+10
UCBPW    EQU   UCBMT+9
UCBPR    EQU   UCBMT+8
UCBSIO   EQU   UCBMT+6
UCBTW    EQU   UCBMT+5
UCBTR    EQU   UCBMT+4
UCBTWT   EQU   UCBMT+3
UCBTRT   EQU   UCBMT+2
UCBCTD   EQU   UCBMT
UCBWTOID EQU   UCBCMEXT+17
UCBMIHTI EQU   UCBCMEXT+16
UCBASID  EQU   UCBCMEXT+14
UCBMFCNT EQU   UCBCMEXT+12
UCBPMSK  EQU   UCBCMEXT+10
UCBRV041 EQU   UCBCMEXT+6
UCBRV036 EQU   UCBFLP1
UCBRV035 EQU   UCBFLP1
UCBERLOG EQU   UCBFLP1
UCBRV033 EQU   UCBFLP1
UCBINHIO EQU   UCBFLP1
UCBNSWAP EQU   UCBFLP1
UCBSHRUP EQU   UCBFLP1
UCBNSRCH EQU   UCBFLP1
UCBSNSCT EQU   UCBCMEXT+4
UCBHPDV  EQU   @NM00014
UCBHALI  EQU   @NM00014
UCBRSV09 EQU   @NM00014
UCBRSV08 EQU   @NM00014
UCBRSV07 EQU   @NM00014
UCBRSV06 EQU   @NM00014
UCBRSV05 EQU   @NM00014
UCBRSV04 EQU   @NM00014
UCBDTI   EQU   UCBCMEXT+2
UCBSTI   EQU   UCBCMEXT+1
UCBETI   EQU   UCBCMEXT
UCBEXTP  EQU   UCBEXTPT+1
UCBDDRSW EQU   UCBFLC
UCBTICBT EQU   UCBFLC
UCBIVRR  EQU   UCBFLC
UCBIVRS  EQU   UCBFLC
UCBITF   EQU   UCBFLC
UCBUDE   EQU   UCBFLC
UCBWAA   EQU   UCBFLC
UCBATTP  EQU   UCBFLC
UCBUNTYP EQU   UCBTBYT4
UCBRSV11 EQU   UCBDVCLS
UCBRSV10 EQU   UCBDVCLS
UCB3CHAR EQU   UCBDVCLS
UCB3UREC EQU   UCBDVCLS
UCB3DISP EQU   UCBDVCLS
UCB3COMM EQU   UCBDVCLS
UCB3TAPE EQU   UCBDVCLS
UCBDVPWR EQU   UCB2OPT7
UCBVLPWR EQU   UCB2OPT6
UCB2OPT5 EQU   UCBTBYT2
UCBRVDEV EQU   UCBRWTAU
UCBRPS   EQU   UCBDUDN2
UCB2OPT1 EQU   UCBTBYT2
UCB2OPT0 EQU   UCBTBYT2
UCB1FEA7 EQU   UCBTBYT1
UCBD6250 EQU   UCB1FEA6
UCBD1600 EQU   UCB1FEA5
UCB1FEA4 EQU   UCBTBYT1
UCB1FEA3 EQU   UCBTBYT1
UCB1FEA2 EQU   UCBTBYT1
UCB1FEA1 EQU   UCBTBYT1
UCB1FEA0 EQU   UCBTBYT1
UCBRV029 EQU   UCBWGT
UCBVHRSN EQU   UCBWGT
UCBVORSN EQU   UCBWGT
UCBREW   EQU   UCBWGT
UCBPUB   EQU   UCBWGT
UCBOUT   EQU   UCBWGT
UCBIN    EQU   UCBWGT
UCBLCI   EQU   UCBOB+10
UCBCNT   EQU   UCBOB+9
UCBRV017 EQU   UCBCHM1
UCBRV016 EQU   UCBCHM1
UCBRV015 EQU   UCBCHM1
UCBRV014 EQU   UCBCHM1
UCBSPB   EQU   UCBPTH1
UCBPPB   EQU   UCBPTH1
UCBSPA   EQU   UCBPTH0
UCBPPA   EQU   UCBPTH0
UCBSIGP  EQU   UCBFLB
UCBVALPH EQU   UCBFLB
UCBCRHSN EQU   UCBFLB
UCBCRHRV EQU   UCBFLB
UCBSPST  EQU   UCBFLB
UCBQISCE EQU   UCBFL1
UCBACTV  EQU   UCBFL1
UCBSAP   EQU   UCBFL1
UCBNOTRC EQU   UCBCUB
UCBUSING EQU   UCBPST
UCBNOTRD EQU   UCBNRY
UCBBUSYD EQU   UCBBSY
UCBUA    EQU   UCBCHAN+1
UCBDADI  EQU   UCBSTAT
UCBSYSR  EQU   UCBSTAT
UCBPRES  EQU   UCBSTAT
UCBALOC  EQU   UCBSTAT
UCBUNLD  EQU   UCBSTAT
UCBRESV  EQU   UCBSTAT
UCBCHGS  EQU   UCBSTAT
UCBONLI  EQU   UCBSTAT
UCBID    EQU   UCBOB+2
UCBALTPH EQU   UCBFL5
UCBALTCU EQU   UCBFL5
UCBNALOC EQU   UCBFL5
UCBENVRD EQU   UCBFL5
UCBVSDR  EQU   UCBFL5
UCBSASK  EQU   UCBFL5
UCBAMV   EQU   UCBAF
UCBDCC   EQU   UCBFL5
UCBMONT  EQU   UCBJBNR
UCBRV011 EQU   UCBJBNR
UCBMMSGP EQU   UCBJBNR
UCBOLDSM EQU   UCBJBNR
UCBRV003 EQU   UCBJBNR
UCBDUC   EQU   UCBJBNR
UCBJES3  EQU   UCBJBNR
UCBVRDEV EQU   UCBJBNR
UCBCMSEG EQU   UCBOB
UCBPFXND EQU   UCB+512
UCBPXST  EQU   UCB+504
@NM00011 EQU   UCB
@NM00010 EQU   SRB+40
@NM00009 EQU   SRB+38
SRBPKF   EQU   SRB+36
SRBSAVE  EQU   SRB+32
SRBPARM  EQU   SRB+28
SRBRMTR  EQU   SRB+24
SRBPTCB  EQU   SRBFLC+4
SRBPASID EQU   SRBFLC+2
SRBCPAFF EQU   SRBFLC
SRBFLNK  EQU   SRB+4
SRBID    EQU   SRB
ICBCPUID EQU   ICB2SSCB+496
ICBLORD  EQU   ICBTRACE+256
ICBOTRC  EQU   ICBTRACE
ICBFAB   EQU   ICB2SSCB+108
ICBMSSC  EQU   ICB2SSCB+104
ICBRSVP  EQU   ICB2SSCB+100
ICBAEAP  EQU   ICB2SSCB+96
ICBSIOBP EQU   ICB2SSCB+92
ICBIATNA EQU   ICB2SSCB+88
ICBIPRGA EQU   ICB2SSCB+84
ICBVVICB EQU   ICB2SSCB+76
ICBVVIC  EQU   ICB2SSCB+72
ICBSIOP  EQU   ICB2SSCB+68
ICBMEP   EQU   ICB2SSCB+64
ICB2ACTP EQU   ICB2SSCB+56
ICBSAMP  EQU   ICBFLG+2
ICBFG2   EQU   ICBFLG+1
@NM00008 EQU   ICBFG1
ICBMSCA  EQU   ICBFG1
ICBMSCMP EQU   ICBFG1
ICBS     EQU   ICBFG1
ICBB     EQU   ICBFG1
ICBV     EQU   ICBFG1
ICBR     EQU   ICBFG1
ICBI     EQU   ICBFG1
ICBNVT   EQU   ICBOPT
ICBVN02P EQU   ICB2SSCB+44
ICBTCB   EQU   ICB2SSCB+40
ICBQHEAD EQU   ICB2SSCB+36
ICBAUCB  EQU   ICB2SSCB+32
ICBPUCB  EQU   ICB2SSCB+28
ICBCOMQ  EQU   ICB2SSCB+24
ICBIOR   EQU   ICB2SSCB+20
ICBCOM   EQU   ICB2SSCB+16
ICBACTV  EQU   ICB2SSCB+12
ICBECB   EQU   ICB2SSCB+8
ICBSSNAM EQU   ICB2SSCB
CVTLEVL  EQU   CVTRELNO+2
CVTNUMB  EQU   CVTRELNO
CVTMDL   EQU   CVTFIX+250
@NM00007 EQU   CVTFIX+248
@NM00006 EQU   CVTFIX
CVTRV482 EQU   CVTXTNT2+128
CVTRV481 EQU   CVTXTNT2+124
CVTRV480 EQU   CVTXTNT2+120
CVTRV479 EQU   CVTXTNT2+118
CVTRV478 EQU   CVTXTNT2+117
CVTRV477 EQU   CVTXTNT2+116
CVTRV476 EQU   CVTXTNT2+115
CVTRV475 EQU   CVTXTNT2+114
CVTRV474 EQU   CVTRV466
CVTRV473 EQU   CVTRV466
CVTRV472 EQU   CVTRV466
CVTRV471 EQU   CVTRV466
CVTRV470 EQU   CVTRV466
CVTRV469 EQU   CVTRV466
CVTRV468 EQU   CVTRV466
CVTRV467 EQU   CVTRV466
CVTRV465 EQU   CVTRV457
CVTRV464 EQU   CVTRV457
CVTRV463 EQU   CVTRV457
CVTRV462 EQU   CVTRV457
CVTRV461 EQU   CVTRV457
CVTRV460 EQU   CVTRV457
CVTRV459 EQU   CVTRV457
CVTRV458 EQU   CVTRV457
CVTRV456 EQU   CVTXTNT2+108
CVTRV455 EQU   CVTXTNT2+104
CVTRV454 EQU   CVTXTNT2+100
CVTRV453 EQU   CVTXTNT2+96
CVTRV452 EQU   CVTXTNT2+94
CVTRV451 EQU   CVTXTNT2+92
CVTRV450 EQU   CVTXTNT2+90
CVTRV449 EQU   CVTXTNT2+88
CVTRV448 EQU   CVTXTNT2+87
CVTRV447 EQU   CVTXTNT2+86
CVTRV446 EQU   CVTRV438
CVTRV445 EQU   CVTRV438
CVTRV444 EQU   CVTRV438
CVTRV443 EQU   CVTRV438
CVTRV442 EQU   CVTRV438
CVTRV441 EQU   CVTRV438
CVTRV440 EQU   CVTRV438
CVTRV439 EQU   CVTRV438
CVTRV437 EQU   CVTRV429
CVTRV436 EQU   CVTRV429
CVTRV435 EQU   CVTRV429
CVTRV434 EQU   CVTRV429
CVTRV433 EQU   CVTRV429
CVTRV432 EQU   CVTRV429
CVTRV431 EQU   CVTRV429
CVTRV430 EQU   CVTRV429
CVTRV428 EQU   CVTXTNT2+80
CVTRV427 EQU   CVTXTNT2+76
CVTRV426 EQU   CVTXTNT2+72
CVTRV425 EQU   CVTXTNT2+68
CVTATACT EQU   CVTATCVT
CVTRV423 EQU   CVTXTNT2+62
CVTRV422 EQU   CVTXTNT2+60
CVTRV421 EQU   CVTXTNT2+58
CVTRV420 EQU   CVTXTNT2+56
CVTRV419 EQU   CVTXTNT2+55
CVTRV418 EQU   CVTXTNT2+54
CVTRV417 EQU   CVTRV409
CVTRV416 EQU   CVTRV409
CVTRV415 EQU   CVTRV409
CVTRV414 EQU   CVTRV409
CVTRV413 EQU   CVTRV409
CVTRV412 EQU   CVTRV409
CVTRV411 EQU   CVTRV409
CVTRV410 EQU   CVTRV409
CVTRV408 EQU   CVTRV400
CVTRV407 EQU   CVTRV400
CVTRV406 EQU   CVTRV400
CVTRV405 EQU   CVTRV400
CVTRV404 EQU   CVTRV400
CVTRV403 EQU   CVTRV400
CVTRV402 EQU   CVTRV400
CVTRV401 EQU   CVTRV400
CVTSKTA  EQU   CVTXTNT2+44
CVTRSV99 EQU   CVTXTNT2+40
CVTRSV98 EQU   CVTXTNT2+36
CVTRSV97 EQU   CVTXTNT2+34
CVTRSV96 EQU   CVTXTNT2+32
CVTOLTEP EQU   CVTXTNT2+28
CVTQIDA  EQU   CVTQID+1
CVTRSV95 EQU   CVTQID
CVTRSV94 EQU   CVTXTNT2+20
CVTRSV93 EQU   CVTXTNT2+16
CVTRSV92 EQU   CVTXTNT2+12
CVTDEBVR EQU   CVTXTNT2+8
CVTRSV91 EQU   CVTXTNT2+6
CVTRSV9H EQU   CVTFLGBT
CVTRSV9G EQU   CVTFLGBT
CVTRSV9F EQU   CVTFLGBT
CVTRSV9E EQU   CVTFLGBT
CVTRSV9D EQU   CVTFLGBT
CVTRSV9C EQU   CVTFLGBT
CVTVME   EQU   CVTFLGBT
CVTNPE   EQU   CVTFLGBT
CVTNUCLS EQU   CVTXTNT2+4
CVTDSSVA EQU   CVTDSSV+1
CVTRSV89 EQU   CVTDSSV
CVTRSV88 EQU   CVTXTNT1+8
CVTRSV87 EQU   CVTXTNT1+4
CVTFACHN EQU   CVTXTNT1
CVTRV488 EQU   CVTMAP+412
CVTRV487 EQU   CVTMAP+408
CVTRV486 EQU   CVTMAP+404
CVTRV485 EQU   CVTMAP+400
CVTACTAP EQU   CVTMAP+396
CVTAUTH  EQU   CVTMAP+392
CVTATMCA EQU   CVTATMCT+1
CVTATMST EQU   CVTATMCT
CVTRSV61 EQU   CVTMAP+384
CVTVOLT1 EQU   CVTVOLM1+1
CVTVOLI1 EQU   CVTVOLF1
CVTSTOA  EQU   CVTMAP+376
CVTRSV58 EQU   CVTMAP+374
CVTRSV57 EQU   CVTMAP+372
CVTDDCE  EQU   CVTMAP+368
CVTPNWFR EQU   CVTMAP+364
CVTSMF   EQU   CVTMAP+360
CVTSULK  EQU   CVTMAP+358
CVTSLKO  EQU   CVTSYSK
CVTSLKP  EQU   CVTSYSK
CVTSLKQ  EQU   CVTSYSK
CVTSLKR  EQU   CVTSYSK
CVTRSV56 EQU   CVTSYSK
CVTRSV55 EQU   CVTSYSK
CVTRSV54 EQU   CVTSYSK
CVTRSV53 EQU   CVTSYSK
CVTRSV52 EQU   CVTA1F1
CVTRSV51 EQU   CVTA1F1
CVTRSV50 EQU   CVTA1F1
CVTRSV49 EQU   CVTA1F1
CVTRSV48 EQU   CVTA1F1
CVTRSV47 EQU   CVTA1F1
CVTSRSW  EQU   CVTA1F1
CVTPFSW  EQU   CVTA1F1
CVTPCVT  EQU   CVTMAP+352
CVTRSV46 EQU   CVTMAP+344
CVTRSV45 EQU   CVTMAP+340
CVTRSV44 EQU   CVTMAP+338
CVTRSV43 EQU   CVTMAP+336
CVTHJESA EQU   CVTHJES+1
CVTRSV42 EQU   CVTHJES
CVTEXT2A EQU   CVTEXT2+1
CVTRSV41 EQU   CVTEXT2
CVTAPFA  EQU   CVTAPF+1
CVTRSV40 EQU   CVTAPF
CVTRV518 EQU   CVTINTLA
CVTRV517 EQU   CVTERPV
CVTEORM  EQU   CVTMAP+312
CVTMCHPR EQU   CVTMAP+308
CVTTZ    EQU   CVTMAP+304
CVTJEPS  EQU   CVTMAP+300
CVTJESCT EQU   CVTMAP+296
CVTMODE  EQU   CVTMAP+292
CVTPTRV  EQU   CVTMAP+288
CVTREAL  EQU   CVTMAP+284
CVTRSV39 EQU   CVTMAP+280
CVTRSV38 EQU   CVTMAP+276
CVTDMSRA EQU   CVTDMSR+1
CVTRV634 EQU   CVTDMSRF
CVTRV633 EQU   CVTDMSRF
CVTRV632 EQU   CVTDMSRF
CVTRV631 EQU   CVTDMSRF
CVTRV630 EQU   CVTDMSRF
CVTRV629 EQU   CVTDMSRF
CVTUDUMP EQU   CVTDMSRF
CVTSDUMP EQU   CVTDMSRF
CVTQMSGA EQU   CVTQMSG+1
CVTRSV36 EQU   CVTQMSG
CVTAMFF  EQU   CVTMAP+264
CVTPURGA EQU   CVTPURG+1
CVTRSV35 EQU   CVTPURG
CVTCBSP  EQU   CVTMAP+256
CVTATERA EQU   CVTATER+1
CVTSYST  EQU   CVTATER
CVTVOLT2 EQU   CVTTAT
CVTVOLI2 EQU   CVTVOLF2
CVTAQAVB EQU   CVTAQAVT+1
CVTRSV34 EQU   CVTTCMFG
CVTRSV33 EQU   CVTTCMFG
CVTRSV32 EQU   CVTTCMFG
CVTRSV31 EQU   CVTTCMFG
CVTRSV30 EQU   CVTTCMFG
CVTRSV29 EQU   CVTTCMFG
CVTLDEV  EQU   CVTTCMFG
CVTTCRDY EQU   CVTTCMFG
CVTGTFA  EQU   CVTGTF+1
CVTRSV27 EQU   CVTGTFST
CVTRNIO  EQU   CVTGTFST
CVTUSR   EQU   CVTGTFST
CVTRV318 EQU   CVTFORM
CVTRV317 EQU   CVTTMODE
CVTRV316 EQU   CVTSTATE
CVTRV315 EQU   CVTGTFS
CVTGTFAV EQU   CVTGTFS
CVT0SCR1 EQU   CVTMAP+232
CVTRV515 EQU   CVTMAP+228
CVTRMS   EQU   CVTMAP+224
CVTPATCH EQU   CVTMAP+220
CVTTSCE  EQU   CVTMAP+216
CVTLNKSC EQU   CVTMAP+214
CVTQABST EQU   CVTMAP+212
CVTMDLDS EQU   CVTMAP+208
CVTUSER  EQU   CVTMAP+204
CVTABEND EQU   CVTMAP+200
CVTSMCA  EQU   CVTMAP+196
CVTRSV18 EQU   CVTMAP+192
CVTQLPAQ EQU   CVTMAP+188
CVTQCDSR EQU   CVTMAP+184
CVTRSV17 EQU   CVTOPTB
CVTRSV16 EQU   CVTOPTB
CVTFP    EQU   CVTOPTB
CVTAPTHR EQU   CVTOPTB
CVTNLOG  EQU   CVTOPTB
CVTTOD   EQU   CVTOPTB
CVTCTIMS EQU   CVTOPTB
CVTPROT  EQU   CVTOPTB
CVTXPFP  EQU   CVTOPTA
CVTASCII EQU   CVTOPTA
CVTRSV13 EQU   CVTOPTA
CVTRSV12 EQU   CVTOPTA
CVTNIP   EQU   CVTOPTA
CVTDDR   EQU   CVTOPTA
CVTAPR   EQU   CVTOPTA
CVTCCH   EQU   CVTOPTA
CVTSNCTR EQU   CVTMAP+180
CVTQMWR  EQU   CVTMAP+176
CVTQOCR  EQU   CVTMAP+172
CVT1EF00 EQU   CVTMAP+168
CVTMZ00  EQU   CVTMAP+164
CVTSV76Q EQU   CVTSV76C
CVTRSV11 EQU   CVTMAP+156
CVT0PT01 EQU   CVTMAP+152
CVTMSER  EQU   CVTMAP+148
CVTRV516 EQU   CVTIERLC
CVTILCH  EQU   CVTMAP+140
CVT0DS   EQU   CVTMAP+136
CVTFBOSV EQU   CVTMAP+132
CVTNUCB  EQU   CVTMAP+128
CVTSV76M EQU   CVTIOQET
CVTDCBA  EQU   CVTMAP+117
CVTMVS2  EQU   CVTDCB
CVT6DAT  EQU   CVTDCB
CVT4MPS  EQU   CVTDCB
CVTRSV09 EQU   CVTDCB
CVT4MS1  EQU   CVTDCB
CVT2SPS  EQU   CVTDCB
CVT1SSS  EQU   CVTDCB
CVTRSV08 EQU   CVTDCB
CVTSTB   EQU   CVTMAP+112
CVTQTD00 EQU   CVTMAP+108
CVTQTE00 EQU   CVTMAP+104
CVTCUCB  EQU   CVTMAP+100
CVTSJQ   EQU   CVTMAP+96
CVTPBLDL EQU   CVTMAP+92
CVTTPC   EQU   CVTMAP+88
CVTSVDCB EQU   CVTMAP+84
CVTBRET  EQU   CVTMAP+82
CVTEXIT  EQU   CVTMAP+80
CVT0FN00 EQU   CVTMAP+76
CVTDARA  EQU   CVTDAR+1
CVTRSV07 EQU   CVTFLGS1
CVTRSV06 EQU   CVTFLGS1
CVTRSV05 EQU   CVTFLGS1
CVTRSV04 EQU   CVTFLGS1
CVTRSV03 EQU   CVTFLGS1
CVTRSV02 EQU   CVTFLGS1
CVTRSV01 EQU   CVTFLGS1
CVTDMPLK EQU   CVTFLGS1
CVTXITP  EQU   CVTMAP+68
CVTZDTAB EQU   CVTMAP+64
CVTMSLT  EQU   CVTMAP+60
CVTDATE  EQU   CVTMAP+56
CVTBTERM EQU   CVTMAP+52
CVTSYSAD EQU   CVTMAP+48
CVTXTLER EQU   CVTMAP+44
CVTPRLTV EQU   CVTMAP+32
CVTPCNVT EQU   CVTMAP+28
CVT0VL00 EQU   CVTMAP+24
CVTXAPG  EQU   CVTMAP+20
CVTBUF   EQU   CVTMAP+16
CVTJOB   EQU   CVTMAP+12
CVTLINK  EQU   CVTMAP+8
CVT0EF00 EQU   CVTMAP+4
CVTTCBP  EQU   CVTMAP
CVT      EQU   CVTMAP
CRCAEND  EQU   CRCA+80
CRCARSV3 EQU   CRCA+72
CRCAITIM EQU   CRCA+64
CRCACTIM EQU   CRCA+56
CRCARSV2 EQU   CRCA+54
CRCARSV1 EQU   CRCA+44
CRCACINT EQU   CRCA+32
CRCACRH3 EQU   CRCA+28
CRCACRH2 EQU   CRCA+24
CRCACRH1 EQU   CRCA+20
CRCACRHT EQU   CRCA+16
@NM00005 EQU   CRCAMCW+4
CRCAMCWC EQU   CRCAMCWF
@NM00004 EQU   CRCAMCWF
@NM00003 EQU   CRCAMCW+1
CRCAMCWY EQU   CRCAMCWZ
@NM00002 EQU   CRCAMCWZ
CRCAFLG4 EQU   CRCAFLGS+3
CRCAFLG3 EQU   CRCAFLGS+2
CRCAFLG2 EQU   CRCAFLGS+1
@NM00001 EQU   CRCAFLG1
CRCAFTIM EQU   CRCAFLG1
CRCAHIO  EQU   CRCAFLG1
CRCADINT EQU   CRCAFLG1
CRCAID   EQU   CRCA
RESIDCT  EQU   CSW+6
@NM00136 EQU   CHANSTAT
@NM00135 EQU   CHANSTAT
DEVSTAT  EQU   STATUS
@NM00134 EQU   KEY0000
@NM00133 EQU   KEY0000
@NM00097 EQU   PSA+3668
PSASTAK  EQU   PSA+3072
@NM00096 EQU   PSA+1048
PSAUSEND EQU   PSA+1048
PSARV062 EQU   PSA+1044
PSACDAL  EQU   PSA+1040
PSAWTCOD EQU   PSA+1036
PSAATCVT EQU   PSA+1032
PSAPCPSW EQU   PSA+1024
PSAPIR2  EQU   PSA+1020
PSARV059 EQU   PSA+1018
PSASVC13 EQU   PSA+1016
PSALSFCC EQU   PSA+1012
PSASFACC EQU   PSA+1008
PSASTOP  EQU   PSA+992
PSASTART EQU   PSA+976
PSARSPSW EQU   PSA+968
PSASRPSW EQU   PSA+960
PSARV045 EQU   PSA+892
PSARV044 EQU   PSA+888
PSARV043 EQU   PSA+884
PSARV042 EQU   PSA+880
PSARV041 EQU   PSA+876
PSARV040 EQU   PSA+872
PSARV025 EQU   PSA+868
PSADSSED EQU   PSA+868
PSADSSPR EQU   PSA+864
PSADSSFW EQU   PSA+860
PSADSS14 EQU   PSA+856
PSADSSPP EQU   PSA+848
PSADSSRP EQU   PSA+840
PSADSS05 EQU   PSADSSF4
PSADSS10 EQU   PSADSSF4
PSADSSVE EQU   PSADSSF4
PSADSSDE EQU   PSADSSF4
PSADSSC0 EQU   PSADSSF4
PSADSSIE EQU   PSADSSF4
PSADSS12 EQU   PSADSSF4
PSADSSRC EQU   PSADSSF4
PSARV057 EQU   PSADSSF3
PSARV056 EQU   PSADSSF3
PSARV055 EQU   PSADSSF3
PSADSSMC EQU   PSADSSF3
PSADSSRW EQU   PSADSSF3
PSADSSNM EQU   PSADSSF3
PSADSSES EQU   PSADSSF3
PSADSSGP EQU   PSADSSF3
PSADSSF2 EQU   PSADSSFL+1
PSADSSPI EQU   PSADSSF1
PSADSSOI EQU   PSADSSF1
PSADSSSP EQU   PSADSSF1
PSADSSTP EQU   PSADSSF1
PSADSSDW EQU   PSADSSF1
PSADSSDD EQU   PSADSSF1
PSADSSDM EQU   PSADSSF1
PSADSSMV EQU   PSADSSF1
PSADSSTS EQU   PSA+816
PSADSSWK EQU   PSA+812
PSADSSR3 EQU   PSA+808
PSADSSR2 EQU   PSA+804
PSADSSRS EQU   PSA+800
PSASTOR  EQU   PSA+796
PSAVSTAP EQU   PSA+792
PSAWKVAP EQU   PSA+788
PSAWKRAP EQU   PSA+784
PSAMCHIC EQU   PSA+783
PSAACTCD EQU   PSA+782
PSASYMSK EQU   PSA+781
PSAMCHFL EQU   PSA+780
PSACR0   EQU   PSA+776
PSAPSWSV EQU   PSA+768
PSALITA  EQU   PSA+764
PSACLHS  EQU   PSAHLHI
PSALKR15 EQU   PSALKSA+60
PSALKR14 EQU   PSALKSA+56
PSALKR13 EQU   PSALKSA+52
PSALKR12 EQU   PSALKSA+48
PSALKR11 EQU   PSALKSA+44
PSALKR10 EQU   PSALKSA+40
PSALKR9  EQU   PSALKSA+36
PSALKR8  EQU   PSALKSA+32
PSALKR7  EQU   PSALKSA+28
PSALKR6  EQU   PSALKSA+24
PSALKR5  EQU   PSALKSA+20
PSALKR4  EQU   PSALKSA+16
PSALKR3  EQU   PSALKSA+12
PSALKR2  EQU   PSALKSA+8
PSALKR1  EQU   PSALKSA+4
PSALKR0  EQU   PSALKSA
PSARV023 EQU   PSACLHT+52
PSALOCAL EQU   PSACLHT+48
PSACMSL  EQU   PSACLHT+44
PSAOPTL  EQU   PSACLHT+40
PSATPACL EQU   PSACLHT+36
PSATPDNL EQU   PSACLHT+32
PSATPNCL EQU   PSACLHT+28
PSAIOSLL EQU   PSACLHT+24
PSAIOSUL EQU   PSACLHT+20
PSAIOSCL EQU   PSACLHT+16
PSAIOSSL EQU   PSACLHT+12
PSASALCL EQU   PSACLHT+8
PSAASML  EQU   PSACLHT+4
PSADISPL EQU   PSACLHT
PSASRSA  EQU   PSA+636
PSARV050 EQU   PSA+634
PSADSSGO EQU   PSA+633
PSARECUR EQU   PSA+632
PSAHLHIS EQU   PSA+628
PSAIPCSA EQU   PSA+624
@NM00095 EQU   PSA+621
PSAIPCDM EQU   PSA+620
PSAIPCD  EQU   PSA+616
@NM00094 EQU   PSA+613
PSAIPCRM EQU   PSA+612
PSAIPCR  EQU   PSA+608
PSAMCHEX EQU   PSA+600
PSAMPSW  EQU   PSA+592
PSAEXPS2 EQU   PSA+584
PSAEXPS1 EQU   PSA+576
PSAPIREG EQU   PSA+572
PSARSREG EQU   PSA+568
PSAGPREG EQU   PSA+556
PSARV022 EQU   PSASUP4
PSARV021 EQU   PSASUP4
PSARV020 EQU   PSASUP4
PSARV019 EQU   PSASUP4
PSARV018 EQU   PSASUP4
PSARV017 EQU   PSASUP4
PSARV016 EQU   PSASUP4
PSARV015 EQU   PSASUP4
PSARV014 EQU   PSASUP3
PSARV013 EQU   PSASUP3
PSARV012 EQU   PSASUP3
PSAESTA  EQU   PSASUP3
PSASPR   EQU   PSASUP3
PSAPSREG EQU   PSASUP3
PSAPI2   EQU   PSASUP3
PSALCR   EQU   PSASUP2
PSARTM   EQU   PSASUP2
PSAACR   EQU   PSASUP2
PSAIPCE2 EQU   PSASUP2
PSAIPCES EQU   PSASUP2
PSAIPCEC EQU   PSASUP2
PSAGTF   EQU   PSASUP2
PSAIPCRI EQU   PSASUP2
PSATYPE6 EQU   PSASUP1
PSATCTL  EQU   PSASUP1
PSADISP  EQU   PSASUP1
PSALOCK  EQU   PSASUP1
PSAPI    EQU   PSASUP1
PSAEXT   EQU   PSASUP1
PSASVC   EQU   PSASUP1
PSAIO    EQU   PSASUP1
PSAAOLD  EQU   PSA+548
PSAANEW  EQU   PSA+544
PSATOLD  EQU   PSA+540
PSATNEW  EQU   PSA+536
PSALCCAR EQU   PSA+532
PSAPCCAR EQU   PSA+524
PSACPUPA EQU   PSA+516
PSAPSA   EQU   PSA+512
FLCHDEND EQU   PSA+512
FLCCRSAV EQU   FLCMCLA+280
FLCGRSAV EQU   FLCMCLA+216
FLCFPSAV EQU   FLCMCLA+184
FLCFLA   EQU   FLCMCLA+88
FLCRGNCD EQU   FLCMCLA+84
FLCFSAA  EQU   FLCFSA+1
@NM00093 EQU   FLCFSA
@NM00092 EQU   FLCMCLA+77
PSAMDISC EQU   PSAMEDC
PSAMINTR EQU   PSAMEDC
PSAMINST EQU   PSAMEDC
PSAMCCF  EQU   PSAMEDC
PSAMCNOP EQU   PSAMEDC
PSAMEXSR EQU   PSAMEDC
PSAMCOPR EQU   PSAMEDC
@NM00091 EQU   PSAMEDC
@NM00090 EQU   FLCMCLA+72
FLCMCIC  EQU   FLCMCLA+64
@NM00089 EQU   FLCMCLA+20
@NM00088 EQU   FLCIOA
@NM00087 EQU   FLCMCLA+15
@NM00086 EQU   FLCMCLA+14
@NM00085 EQU   FLCMCLA+12
FLCIOELA EQU   FLCIOEL+1
@NM00084 EQU   FLCIOEL
FLCCHIL  EQU   FLCCHNID+2
FLCCHMOD EQU   FLCCHTM
FLCCHTYP EQU   FLCCHTM
@NM00083 EQU   PSA+160
FLCMTRCD EQU   PSA+157
@NM00082 EQU   PSA+156
FLCPERA  EQU   FLCPER+1
@NM00081 EQU   FLCPER
@NM00080 EQU   PSA+151
FLCPERCD EQU   PSA+150
FLCMCNUM EQU   PSA+149
@NM00079 EQU   PSA+148
FLCTEAA  EQU   FLCTEA+1
@NM00078 EQU   FLCTEA
PSAPIPC  EQU   PSAPICOD
PSAPIMC  EQU   PSAPICOD
PSAPIPER EQU   PSAPICOD
PSARV049 EQU   FLCPICOD
FLCPILCB EQU   FLCPIILC
@NM00077 EQU   FLCPIILC
@NM00076 EQU   PSAEPPSW
FLCSVCN  EQU   PSAESPSW+2
FLCSILCB EQU   FLCSVILC
@NM00075 EQU   FLCSVILC
@NM00074 EQU   PSAESPSW
FLCEICOD EQU   PSAEEPSW+2
PSASPAD  EQU   PSAEEPSW
@NM00073 EQU   PSA+128
FLCMNPSW EQU   PSA+112
FLCPNPSW EQU   PSA+104
FLCSNPSW EQU   PSA+96
FLCENPSW EQU   PSA+88
FLCTRACE EQU   PSA+84
FLCTIMER EQU   PSA+80
FLCCVT2  EQU   PSA+76
FLCCSW   EQU   PSA+64
FLCIOPSW EQU   PSA+56
FLCMOPSW EQU   PSA+48
FLCPOPSW EQU   PSA+40
FLCSOPSW EQU   PSA+32
FLCEOPSW EQU   PSA+24
@NM00072 EQU   FLCICCW2+4
FLCCVT   EQU   FLCICCW2
FLCICCW1 EQU   FLCROPSW
FLCIPPSW EQU   FLCRNPSW
*                                      END UNREFERENCED COMPONENTS
@RT00300 EQU   ACRPROC
@RT00302 EQU   LOSTCHCD
@RC00336 EQU   @RC00335
@RC00305 EQU   IORSEND
@RF00430 EQU   IORSEND
@RT00449 EQU   RSTSIGPF
@RT00453 EQU   IORSEND
@RT00512 EQU   UPNXT1
@RT00528 EQU   TBLCK0
@RT00543 EQU   IORSEND
@RF00543 EQU   TBLCK
@RF00540 EQU   HARDWAIT
@RF00522 EQU   CKOFF
@RT00579 EQU   TESTIT
@RT00588 EQU   RESVSIO
@RF00588 EQU   HARDWAIT
@RT00615 EQU   HARDWAIT
@RT00621 EQU   HARDWAIT
@RT00684 EQU   FCLEAR2
@RT00691 EQU   DOCLR
@RT00701 EQU   SINDCK
@RT00938 EQU   LOSTCHWT
@RT00983 EQU   CKACTV
@RT00988 EQU   @RC00981
@RC00991 EQU   @RC00981
@RF00997 EQU   FREELOCK
@RT01008 EQU   ADACK
@ENDDATA EQU   *
         END   IECVRSTI,(C'PLS1852',0701,77229)

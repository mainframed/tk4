         TITLE 'IEFDB400 - DYNAMIC ALLOCATION (SVC 99) CONTROL         *
                        '
IEFDB400 CSECT ,                                                01S0001
IGC0009I DS    0H                                               01S0001
         ENTRY IGC0009I
@MAINENT BALR  @15,0                                            01S0001
         USING *,@15                                            01S0001
         B     @PROLOG                                          01S0001
         DC    AL2(@EP00001-@MAINENT-2)
         DC    AL1(16)                                          01S0001
         DC    C'IEFDB400  78.089'                              01S0001
         DROP  @15
@PROLOG  BALR  @12,0                                            01S0001
@PSTART  DS    0H                                               01S0001
         USING @PSTART,@12                                      01S0001
         LR    @09,@15                                          01S0001
         LR    @06,@01                                          01S0001
         L     @00,@SIZDATD                                     01S0001
         MODESET EXTKEY=SCHED,SAVEKEY=(2)
         GSPACE   R,LV=(0)
         LR    @11,@01                                          01S0001
         USING @DATD,@11                                        01S0001
         LR    @15,@09                                          01S0001
         LR    @01,@06                                          01S0001
         ST    @13,@SA00001+4                                   01S0001
         STC   @02,@OLDKEY                                      01S0001
         LR    @13,@11                                          01S0001
         AH    @15,4(,@15)                                      01S0001
         BR    @15                                              01S0001
@EP00001 DS    0H                                               01S0001
         MODESET EXTKEY=ZERO
         MVC   @PC00001(4),0(@01)                               01S0001
         MODESET EXTKEY=SCHED
JSCBDISP EQU 188
JSCBAOS1 EQU  72
JSCBAOS2 EQU 192
RBPRFXLN EQU 64
RBPRFLNA EQU 32
PRBLEN   EQU 136
SIRBLEN  EQU 200
TIRBLEN  EQU 136
IRBLEN   EQU 128
SVRBLEN  EQU 200
*                                         ERROR              @G29AN2F*/
*INPPARM  = R1;                        /* SAVE INCOMING PARM LIST PTR*/
         LR    INPPARM,R1                                       01S0099
*RETCODE  = RETCOD0;                   /* INITIALIZE R15 RETN CODE   */
         SLR   @09,@09                                          01S0100
         ST    @09,RETCODE                                      01S0100
*SWITCHES = SWITCHES && SWITCHES;      /* INIT CONTROL SWITCHES      */
         XC    SWITCHES(1),SWITCHES                             01S0101
*ALFNCMAP = ALFNCMAP && ALFNCMAP;      /* INIT ALLOC. FUNC. MAP      */
         XC    ALFNCMAP(8),ALFNCMAP                             01S0102
*SMFPARMS = SMFPARMS && SMFPARMS;      /*INIT SMF INFO       @ZA02706*/
         XC    SMFPARMS(8),SMFPARMS                             01S0103
*DEPARMS(1:256) = DEPARMS(1:256) && DEPARMS(1:256);             01S0104
         XC    DEPARMS(256),DEPARMS                             01S0104
*DEPARMS(257:LENGTH(DEPARMS)) = DEPARMS(257:LENGTH(DEPARMS))    01S0105
*     && DEPARMS(257:LENGTH(DEPARMS)); /* ZERO ESTAE EXIT PARMS      */
         XC    DEPARMS+256(52),DEPARMS+256                      01S0105
*DEALFMAP = ADDR(ALFNCMAP);            /* PASS TO ESTAE EXIT         */
         LA    @09,ALFNCMAP                                     01S0106
         ST    @09,DEALFMAP                                     01S0106
*DEWLASTP = ADDR(DEDMYEPA);            /*INIT PTR TO DUMMY LAST EPA  */
         LA    @09,DEDMYEPA                                     01S0107
         ST    @09,DEWLASTP                                     01S0107
*DEALASTP = ADDR(DEDMYAS);             /*SAME FOR ASSIGNED CHAIN     */
         LA    @09,DEDMYAS                                      01S0108
         ST    @09,DEALASTP                                     01S0108
*LSTJSCBP = JSCBACT;                   /* PTR TO ACTIVE JSCB         */
         L     @09,TCBJSCB(,TCBPTR)                             01S0109
         L     @09,JSCBACT(,@09)                                01S0109
         ST    @09,LSTJSCBP                                     01S0109
*DEJSCB   = JSCBACT;                   /* SAME INTO ESTAE EXIT PARMS */
         ST    @09,DEJSCB                                       01S0110
*RFY IEZJSCB BASED(LSTJSCBP);          /*FOR FUTURE REFERENCES       */
*LSTASCBP = ASCBPTR;                   /* PTR TO ASCB                */
         ST    ASCBPTR,LSTASCBP                                 01S0112
*LSTTCBP  = TCBPTR;                    /* PTR TO TCB                 */
         ST    TCBPTR,LSTTCBP                                   01S0113
*DETCB = TCBPTR;                       /* CURRENT TCB PTR FOR ESTAE
*                                                            #YM03580*/
*                                                               01S0114
         ST    TCBPTR,DETCB                                     01S0114
*RFY (R15) RSTD;                       /*                    @Z40FPPG*/
*R15 = 0;                              /* INIT RETURN CODE   @Z40FPPG*/
         SLR   R15,R15                                          01S0116
*/********************************************************************/
*/*                                                          @Z40FPPG*/
*/* SEGMENT NAME - ESTAECOD                                  @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/* DESCRIPTIVE NAME - ESTAE CODE                            @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/* FUNCTION - SET UP THE APPROPRIATE ESTAE ENVIRONMENT      @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/* OPERATION -                                              @Z40FPPG*/
*/*          . AN ALLOCATION STAE WORK AREA (ASWA) IS FILLED @Z40FPPG*/
*/*            IN. THIS ALLOWS THE ALLOCATION COMMON ESTAE   @Z40FPPG*/
*/*            EXIT (IEFAB4ED) TO ROUTE CONTROL TO THE       @ZA18154*/
*/*            APPROPRIATE EXIT ROUTINE  FOR SPECIFIC        @ZA18154*/
*/*            RECOVERY PROCESSING.                          @Z40FPPG*/
*/*          . AN ESTAE IS ALWAYS ISSUED AND AN ASWA ALWAYS  @ZA18154*/
*/*            CREATED EACH TIME DYNAMIC ALLOCATION IS       @ZA18154*/
*/*            INVOKED.  THE ASWA IS HOWEVER NEVER CHAINED   @ZA18154*/
*/*            TO AN EXISTING ASWA CHAIN NOR TO JSCBASWA.    @ZA18154*/
*/*            THIS IS DONE BECAUSE THERE IS NO WAY TO       @ZA18154*/
*/*            SERIALIZE ON THIS CHAIN. THUS IF AN ERROR     @ZA18154*/
*/*            OCCURS THE ESTAE ISSUED BY DYNAMIC ALLOCATION @ZA18154*/
*/*            WILL RECEIVE CONTROL THROUGH PERCOLATION OR   @ZA18154*/
*/*            AS A RESULT OF BEING THE LAST ESTAE ISSUED FOR@ZA18154*/
*/*            THIS TASK. THE ASWA IS BUILT SO THAT IEFA4ED  @ZA18154*/
*/*            CAN ROUTE CONTROL TO THE ESTAE EXIT(IEFDB402) @ZA18154*/
*/*            AND PERFORM ITS OTHER NORMAL FUNCTIONS.       @ZA18154*/
*/*            SINCE NO ASWA WILL BE CHAINED TO THE ASWA     @ZA18154*/
*/*            CREATED BY THIS ROUTINE, ONLY IEFDB402 WILL   @ZA18154*/
*/*            RECEIVE CONTROL. OTHER ASWA'A WILL BE         @ZA18154*/
*/*            PROCESSED WHEN THE ESTAE UNDER WHICH THEY ARE @ZA18154*/
*/*            PROTECTED IS PERCOLATED TO.                   @ZA18154*/
*/*                                                          @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/* ENTRY - INLINE SUBROUTINE ENTERED AT THE TOP             @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/*   PURPOSE - SEE FUNCTION                                 @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/*   INPUT -                                                @Z40FPPG*/
*/*        .R15 - RETURN CODE (ZERO ON ENTRY)                @Z40FPPG*/
*/*        .DEPARMPTR - PTR TO ESTAE PARMS                   @Z40FPPG*/
*/*        .TCBSTABB - PTR TO CURRENT STAE CONTROL BLOCK     @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/* EXIT - INLINE SUBROUTINE THAT EXITS AT THE BOTTOM        @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/*   CONDITION - ESTAE SETUP COMPLETED                      @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/*   OUTPUT -                                               @Z40FPPG*/
*/*           .ASWA - FILLED IN                              @ZA18154*/
*/*                                                          @Z40FPPG*/
*/*   RETURN CODES - R15 HAS ESTAE RETURN CODE               @Z40FPPG*/
*/*                                                          @Z40FPPG*/
*/********************************************************************/
*ASWAPTR = ADDR(ASWACORE);             /*ADDRESS ASWA CORE   @Z40FPPG*/
         LA    ASWAPTR,ASWACORE                                 02S0117
*ASWA = ASWA && ASWA;                  /*ZERO OUT ASWA       @Z40FPPG*/
         XC    ASWA(40,ASWAPTR),ASWA(ASWAPTR)                   02S0118
*ASWAID =CHARASWA;                     /*FILL IN BLOCK ID    @Z40FPPG*/
         MVC   ASWAID(4,ASWAPTR),@CC00143                       02S0119
*ASWACSCT = EXITCSCT;                  /*CSECT NAME OF EXIT  @Z40FPPG*/
         MVC   ASWACSCT(8,ASWAPTR),@CC00145                     02S0120
*ASWARTNP = ADDR(IEFDB402);            /*ADDRESS OF EXIT RTN @Z40FPPG*/
         L     @14,@CV00120                                     02S0121
         STCM  @14,15,ASWARTNP(ASWAPTR)                         02S0121
*ASWAPRMS = ADDR(DEPARMS);             /*PARMS FOR THIS EXIT @Z40FPPG*/
         LA    @14,DEPARMS                                      02S0122
         STCM  @14,15,ASWAPRMS(ASWAPTR)                         02S0122
*ASWADYNF = ON;                        /*CHECK PERCOLATION   @Z40FPPG*/
*ASWADYUE = ON;                        /*CHECK USER ERROR    @Z40FPPG*/
*ASWANOCH = ON;                        /*INDICATE ASWA NOT CHAINED
*                                        TO JSCB             @ZA18154*/
         OI    ASWADYNF(ASWAPTR),B'10011000'                    02S0125
*ASWAAUTO = ADDR(AB4EDPMS);            /*1ST ASWA GIVES W/A  @Z40FPPG*/
         LA    @14,AB4EDPMS                                     02S0126
         STCM  @14,15,ASWAAUTO(ASWAPTR)                         02S0126
*RFY (R2,R3) RSTD;                     /*RESTRICT WORK REGS  @Z40FPPG*/
*R2 = ADDR(IEFAB4ED);                  /*COMMON ESTAE EXIT   @Z40FPPG*/
         L     R2,@CV00121                                      02S0128
*R3 = ASWAPTR;                         /*ASWA IS EXIT PARMS  @Z40FPPG*/
         LR    R3,ASWAPTR                                       02S0129
*MACWORK(1:ESTALEN) = ESTALIST(1:ESTALEN);                      02S0130
         L     @14,ESTALEN                                      02S0130
         BCTR  @14,0                                            02S0130
         EX    @14,@SM01827                                     02S0130
*                                      /*MOVE TO AUTO CORE   @Z40FPPG*/
*GEN REFS(MACWORK) SETS(R15,TCBSTABB);                          02S0131
      ESTAE (2),PARAM=(3),TERM=YES,MF=(E,MACWORK)             @ZA15007
*RFY (R2,R3) UNRSTD;                                            02S0132
*IF R15 = ZERO THEN                    /*IF ESTAE SUCCESSFUL @Z40FPPG*/
         LTR   R15,R15                                          02S0133
         BNZ   @RF00133                                         02S0133
*  ASWASCBP = TCBSTABB;                /*CURRENT SCB @       @Z40FPPG*/
         L     @14,TCBSTABB-1(,TCBPTR)                          02S0134
         LA    @14,0(,@14)                                      02S0134
         STCM  @14,15,ASWASCBP(ASWAPTR)                         02S0134
*RFY R15 UNRSTD;                      /*                     @Z40FPPG*/
@RF00133 DS    0H                                               01S0136
*IF R15=0 THEN                         /* ESTAE SUCCESSFUL           */
         SLR   @14,@14                                          01S0136
         CR    R15,@14                                          01S0136
         BNE   @RF00136                                         01S0136
*  DO;                                                          01S0137
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT - SCAN                                                   */
*/*                                                                  */
*/* DESCRIPTIVE NAME - SCAN INPUT PARAMETER LIST                     */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*             SCAN THE INPUT PARAMETER LIST IN PREPARATION FOR THE */
*/*             'COPY' SEGMENT.                                      */
*/*                                                                  */
*/* OPERATION -                                                      */
*/*             . SCAN THE PARAMETER LIST TO CALCULATE THE SIZE      */
*/*               OF AN AREA FOR THE 'COPY' SEGMENT TO GETMAIN.      */
*/*               THE SIZE OF THIS AREA IS THE SUM OF THE SIZES OF   */
*/*                  - THE REQUEST BLOCK                             */
*/*                  - THE TEXT UNIT POINTER ARRAY                   */
*/*                  - A WORKAREA FOR THE INSTALLATION EXIT          */
*/*                  - THE TEXTUNITS                                 */
*/*                                                                  */
*/*             . A SWITCH IS SET TO INDICATE TO THE ESTAE EXIT      */
*/*               THAT AN ABNORMAL TERMINATION (DURING 'SCAN') IS    */
*/*               PROBABLY DUE TO A USER ERROR, E.G., INVALID        */
*/*               TEXT UNIT POINTERS. THE SWITCH IS TURNED OFF AT    */
*/*               THE END OF THIS SEGMENT.                           */
*/*                                                                  */
*/*             . A SWITCH IS SET IF ANY PARAMETER LIST ERRORS ARE   */
*/*               DETECTED WHICH PREVENT THE COPY FROM TAKING PLACE. */
*/*                                                                  */
*/* OUTPUT -                                                         */
*/*          CPYSIZE  - SET TO SIZE OF AREA TO BE GETMAIN'D          */
*/*          SWSCANER - SET ON IF A PARAMETER LIST FORMAT ERROR      */
*/*                     IS FOUND THAT WOULD PREVENT A SUCCESSFUL     */
*/*                     COPY.                                        */
*/********************************************************************/
*/* FIND THE SIZE OF THE USER PARM-LIST AND PUT INTO 'CPYSIZE'       */
*/* TEXTUNIT POINTERS ARE CALLED 'TUPS'                              */
*                                                               02S0138
*USERERSW = ON;                        /*INDICATE ABNORMAL TERMINATION
*                                        DUE TO USER ERROR           */
*                                                               02S0138
         OI    USERERSW,B'00100000'                             02S0138
*KEYNUMLN = LENGTH(S99TUKEY) + LENGTH(S99TUNUM); /*COMMON EXPRESSION */
         MVC   KEYNUMLN(4),@CF00074                             02S0139
*CPYSIZE  = LENGTH(S99RB) + EXITSIZE + LENGTH(S99RBPTR);        02S0140
         LA    @09,24                                           02S0140
         AL    @09,EXITSIZE                                     02S0140
         ST    @09,CPYSIZE                                      02S0140
*                                      /*BEGIN SIZE CALCULATION      */
* DO; /*MODESET  KEYADDR(KEY0)*/                                02S0141
*   SPKA (KEY0); /*SET PSW KEY*/                                02S0142
         L     @09,KEY0                                         02S0142
         SPKA  0(@09)                                           02S0142
* END; /*MODESET  KEYADDR(KEY0)*/               /*NEED TO REF USER/SCHE
* CORE */                                                       02S0143
*IF S99TXTPP^=0 THEN                   /*IF TEXTUNITS PASSED         */
         L     @09,S99RBPTR(,INPPARM)                           02S0144
         L     @09,S99TXTPP(,@09)                               02S0144
         CR    @09,@14                                          02S0144
         BE    @RF00144                                         02S0144
*  DO;                                                          02S0145
*    RFY S99TUP BASED(S99TUPP);        /*POINT TO SUCCESSIVE TUP'S   */
*    S99TUPP  = S99TXTPP;              /*PTR TO 1ST TUP              */
         LR    S99TUPP,@09                                      02S0147
*    SWQUIT   = OFF;                   /*INIT LOOP CONTROL SWITCH    */
*    SWSCANER = OFF;                   /*INIT ERROR SWITCH           */
         NI    SWQUIT,B'00111111'                               02S0149
*    TUPSIZE  = 0;                     /*INIT SIZE OF TUP ARRAY      */
         ST    @14,TUPSIZE                                      02S0150
*    DO WHILE SWQUIT=OFF & SWSCANER=OFF; /*LOOP THRU TUP ARRAY       */
         B     @DE00151                                         02S0151
@DL00151 DS    0H                                               02S0152
*      TUPSIZE  = TUPSIZE + 4;         /*ADD TO SIZE OF TUP ARRAY    */
         LA    @09,4                                            02S0152
         L     @05,TUPSIZE                                      02S0152
         ALR   @05,@09                                          02S0152
         ST    @05,TUPSIZE                                      02S0152
*      CPYSIZE  = CPYSIZE + 4;         /*ALSO ADD TO TOTAL SIZE      */
         AL    @09,CPYSIZE                                      02S0153
         ST    @09,CPYSIZE                                      02S0153
*      IF (S99TUP&'7FFFFFFF'X)^=0 THEN /*IF TEXTUNIT PRESENT         */
         SLR   @05,@05                                          02S0154
         L     @15,S99TUP(,S99TUPP)                             02S0154
         LR    @14,@15                                          02S0154
         N     @14,@CF01800                                     02S0154
         CR    @14,@05                                          02S0154
         BE    @RF00154                                         02S0154
*        DO;                                                    02S0155
*          CPYSIZE  = CPYSIZE+KEYNUMLN; /* COMMON PART OF TU         */
         AL    @09,KEYNUMLN                                     02S0156
         ST    @09,CPYSIZE                                      02S0156
*          IF S99TUNUM<0 THEN          /*ERROR IN NO. OF PARMS       */
         ICM   @09,12,S99TUNUM(@15)                             02S0157
         SRA   @09,16                                           02S0157
         CR    @05,@09                                          02S0157
         BNH   @RF00157                                         02S0157
*            SWSCANER=ON;              /*REMEMBER AND EXIT LOOP      */
         OI    SWSCANER,B'10000000'                             02S0158
*          ELSE                        /*S99TUNUM OK                 */
*            IF S99TUNUM>0 THEN        /*LENGTH/PARM FIELDS PRESENT  */
         B     @RC00157                                         02S0159
@RF00157 L     @09,S99TUP(,S99TUPP)                             02S0159
         ICM   @05,12,S99TUNUM(@09)                             02S0159
         SRA   @05,16                                           02S0159
         LTR   @05,@05                                          02S0159
         BNP   @RF00159                                         02S0159
*              DO;                                              02S0160
*                S99TUFP  = ADDR(S99TUENT); /*1ST LEN/PARM ENTRY     */
         LA    @09,S99TUENT(,@09)                               02S0161
         ST    @09,S99TUFP                                      02S0161
*                DO I=S99TUNUM TO 1 BY -1 WHILE SWSCANER=OFF;   02S0162
         ST    @05,I                                            02S0162
         B     @DE00162                                         02S0162
@DL00162 TM    SWSCANER,B'10000000'                             02S0162
         BNZ   @DC00162                                         02S0162
*                                      /*LOOP THRU LEN/PARM ENTRIES  */
*                  IF S99TULEN <0 THEN /*LENGTH INVALID      @G29AN2F*/
         L     @09,S99TUFP                                      02S0163
         ICM   @05,3,S99TULEN(@09)                              02S0163
         BNM   @RF00163                                         02S0163
*                    SWSCANER=ON;      /*REMEMBER & EXIT LOOP        */
         OI    SWSCANER,B'10000000'                             02S0164
*                  ELSE                /*LENGTH OK                   */
*                    DO;                                        02S0165
         B     @RC00163                                         02S0165
@RF00163 DS    0H                                               02S0166
*                      CPYSIZE  = CPYSIZE+S99TULEN+LENGTH(S99TULEN);
         LA    @09,2                                            02S0166
         L     @05,S99TUFP                                      02S0166
         ICM   @15,12,S99TULEN(@05)                             02S0166
         SRA   @15,16                                           02S0166
         L     @14,CPYSIZE                                      02S0166
         ALR   @14,@15                                          02S0166
         ALR   @14,@09                                          02S0166
         ST    @14,CPYSIZE                                      02S0166
*                                      /*ADD SIZE OF LEN/PARM ENTRY  */
*                      S99TUFP  = S99TUFP+S99TULEN+LENGTH(S99TULEN);
         ALR   @05,@15                                          02S0167
         ALR   @05,@09                                          02S0167
         ST    @05,S99TUFP                                      02S0167
*                                      /*POINT TO NEXT LEN/PARM ENTRY*/
*                    END;                                       02S0168
*                END;                                           02S0169
@RC00163 SLR   @05,@05                                          02S0169
         BCTR  @05,0                                            02S0169
         AL    @05,I                                            02S0169
         ST    @05,I                                            02S0169
@DE00162 LTR   @05,@05                                          02S0169
         BP    @DL00162                                         02S0169
@DC00162 DS    0H                                               02S0170
*              END;                                             02S0170
*            ELSE;                     /*NO LENGTH/PARM FIELDS       */
@RF00159 DS    0H                                               02S0172
*        END;                                                   02S0172
*      ELSE;                           /*TEXTUNIT NOT PRESENT (TUP=0)*/
@RF00154 DS    0H                                               02S0174
*      IF S99TUPND=ON THEN             /*LAST TUP IN ARRAY           */
@RC00154 TM    S99TUPND(S99TUPP),B'10000000'                    02S0174
         BNO   @RF00174                                         02S0174
*        SWQUIT = ON;                  /*YES, EXIT LOOP              */
         OI    SWQUIT,B'01000000'                               02S0175
*      ELSE                            /*NO,                         */
*        S99TUPP = S99TUPP + 4;        /*POINT TO NEXT TUP           */
         B     @RC00174                                         02S0176
@RF00174 AL    S99TUPP,@CF00074                                 02S0176
*    END;                              /*END LOOP THRU TUP ARRAY     */
@RC00174 DS    0H                                               02S0177
@DE00151 TM    SWQUIT,B'11000000'                               02S0177
         BZ    @DL00151                                         02S0177
*  END;                                                         02S0178
*ELSE;                                 /* NO TEXTUNITS               */
*                                                               02S0179
@RF00144 DS    0H                                               02S0180
* DO; /*MODESET  EXTKEY(SCHED)*/                                02S0180
*   SPKA (16); /*SET PSW KEY*/                                  02S0181
         LA    @09,16                                           02S0181
         SPKA  0(@09)                                           02S0181
* END; /*MODESET  EXTKEY(SCHED)*/               /*RETURN TO SCHED KEY
*      */                                                       02S0182
*                                                               02S0182
*USERERSW = OFF;                       /*END OF PROBABLE USER ERROR
*                                        SITUATION                   */
         NI    USERERSW,B'11011111'                             02S0183
*    IF SWSCANER=OFF THEN              /*NO ERROR IN SCAN            */
         TM    SWSCANER,B'10000000'                             01S0184
         BNZ   @RF00184                                         01S0184
*      DO;                                                      01S0185
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT - COPY                                                   */
*/*                                                                  */
*/* DESCRIPTIVE NAME - COPY USER PARAMETER LIST                      */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*            COPY THE PARAMETER LIST FROM USER                     */
*/*            (POSSIBLY FETCH-PROTECTED) CORE,                      */
*/*            TO SCHEDULER-KEY FETCH-PROTECTED CORE. THIS           */
*/*            ALLOWS THE REMAINDER OF DYNAMIC ALLOCATION TO RUN     */
*/*            IN SCHEDULER-KEY AND BE ABLE TO REFERENCE THE         */
*/*            INCOMING PARAMETERS, AND INSURES DATA SECURITY        */
*/*            FOR THE USER AND SYSTEM.                              */
*/*                                                                  */
*/* OPERATION -                                                      */
*/*             . GETMAIN A SCHEDULER-KEY FETCH-PROTECTED            */
*/*               AREA OF CORE INTO WHICH THE USER'S PARM LIST CAN   */
*/*               BE COPIED. (SEE THE 'SCAN' SEGMENT)                */
*/*                                                                  */
*/*             . LOOP THROUGH THE PARM LIST TO EFFECT THE COPY.     */
*/*               DO THIS IN KEY ZERO SO THAT BOTH USER-CORE AND     */
*/*               PL/S-GOTTEN CORE CAN BE REFERENCED SIMULTANEOUSLY. */
*/*               NOTE THAT AFTER THE COPY, THE INSTALLATION         */
*/*               EXIT WORK AREA FOLLOWS THE TEXTUNIT POINTERS SO    */
*/*               THAT IT IS EASY FOR THE EXIT TO EXTEND THIS LIST.  */
*/*                                                                  */
*/*             . WHENEVER PART OF THE USER-PARM LIST IS ACTUALLY    */
*/*               BEING COPIED, A CHECK IS MADE TO INSURE THAT       */
*/*               THE RESULT WILL LIE WITHIN THE GETMAIN'D AREA,     */
*/*               TO GUARD AGAINST THE USER DYNAMICALLY ALTERING     */
*/*               THE INPUT PARAMETER LIST,                          */
*/*               WHICH COULD CAUSE UNOWNED CORE TO BE               */
*/*               OVERLAYED. IF AN ERROR IS FOUND, AN ERROR          */
*/*               CODE IS PLACED IN THE -COPIED- REQUEST BLOCK,      */
*/*               TO BE LATER SET IN THE ORIGINAL REQUEST BLOCK BY   */
*/*               THE 'RESTORE' SEGMENT.  THE S99RBPTR IS COPIED     */
*/*               ONLY TO ENABLE THE 'S99CKRB' SEGMENT TO TEST       */
*/*               THE HIGH-ORDER BIT.                                */
*/*                                                                  */
*/********************************************************************/
*RFY (R0,R1) RSTD;                                              02S0186
*R0       = CPYSIZE × CPYSUBP;         /*SET SIZE, SUBPOOL FOR GETM  */
         L     R0,CPYSIZE                                       02S0187
         ICM   @06,15,CPYSUBP                                   02S0187
         OR    R0,@06                                           02S0187
*GEN(GETMAIN R,LV=(0));                /*GET SCH-KEY FETCH-PROT CORE */
         GETMAIN R,LV=(0)
*CPYEND   = R1 + CPYSIZE - 1;          /*ADDR OF END OF AREA         */
         L     @06,CPYSIZE                                      02S0189
         LR    CPYEND,R1                                        02S0189
         ALR   CPYEND,@06                                       02S0189
         BCTR  CPYEND,0                                         02S0189
*CPYSIZE  = CPYSIZE × CPYSUBP;         /*SAVE FOR FREEMAIN (& ESTAE) */
         ICM   @05,15,CPYSUBP                                   02S0190
         OR    @06,@05                                          02S0190
         ST    @06,CPYSIZE                                      02S0190
*CPYLOC   = R1;                        /*SAVE ADDRESS OF GOTTEN CORE */
         ST    R1,CPYLOC                                        02S0191
*CPYRBP = CPYLOC + LENGTH(S99RBPTR);   /*SET BASE FOR S99RB          */
         L     @06,CPYLOC                                       02S0192
         LA    CPYRBP,4                                         02S0192
         ALR   CPYRBP,@06                                       02S0192
*RFY (R0,R1) UNRSTD;                                            02S0193
* DO; /*MODESET  KEYADDR(KEY0)*/                                02S0194
*   SPKA (KEY0); /*SET PSW KEY*/                                02S0195
         L     @05,KEY0                                         02S0195
         SPKA  0(@05)                                           02S0195
* END; /*MODESET  KEYADDR(KEY0)*/               /*NEED KEY ZERO TO REFE
*ENCE                                             BOTH USER AND SCHEDUL
*R CORE */                                                      02S0196
*                                                               02S0196
*/* POINTER NOTATION IS USED TO REFERENCE THE COPY, AND IMPLICIT     */
*/* NOTATION IS USED TO REFERENCE THE USER'S SOURCE PARM-LIST        */
*                                                               02S0197
*CPYLOC->S99RBPTR = S99RBPTR;          /*COPY THE REQUEST BLOCK PTR  */
         L     @05,S99RBPTR(,INPPARM)                           02S0197
         ST    @05,S99RBPTR(,@06)                               02S0197
*CPYRBP->S99RB = S99RB;                /*COPY THE REQUEST BLOCK      */
         MVC   S99RB(20,CPYRBP),S99RB(@05)                      02S0198
*CPYRBP->S99RSC = 0;                   /*INIT REASON CODE            */
*                                                               02S0199
         SLR   @06,@06                                          02S0199
         ST    @06,S99RSC(,CPYRBP)                              02S0199
*IF S99TXTPP^=0 THEN                   /*IF TEXTUNITS PRESENT        */
         L     @05,S99TXTPP(,@05)                               02S0200
         CR    @05,@06                                          02S0200
         BE    @RF00200                                         02S0200
*  DO;                                                          02S0201
*    CPYRBP->S99TXTPP = CPYRBP+LENGTH(S99RB); /*BEGIN NEW TUP ARRAY  */
         LA    @02,20                                           02S0202
         ALR   @02,CPYRBP                                       02S0202
         ST    @02,S99TXTPP(,CPYRBP)                            02S0202
*    S99TUPP  = S99TXTPP;              /*PTR TO 1ST USER TUP         */
         LR    S99TUPP,@05                                      02S0203
*    CPYTUPP  = CPYRBP->S99TXTPP;      /*PTR TO 1ST NEW (COPY) TUP   */
         ST    @02,CPYTUPP                                      02S0204
*    RFY S99TUP BASED(S99TUPP);        /*POINT TO SUCCESSIVE USER
*                                        TUP'S                       */
*    RFY CPYTUP BASED(CPYTUPP);        /*POINT TO SUCCESSIVE COPY
*                                        TUP'S                       */
*    EXITLOC  = CPYTUPP + TUPSIZE;     /*ADDR OF EXIT WORKAREA       */
         LR    @05,@02                                          02S0207
         AL    @05,TUPSIZE                                      02S0207
         ST    @05,EXITLOC                                      02S0207
*    IF (S99TUP&'7FFFFFFF'X)=0 THEN    /*1ST TUP IS 0                */
         SLR   @15,@15                                          02S0208
         L     @14,S99TUP(,S99TUPP)                             02S0208
         N     @14,@CF01800                                     02S0208
         CR    @14,@15                                          02S0208
         BNE   @RF00208                                         02S0208
*      DO;                                                      02S0209
*        CPYTUP = 0;                   /*1ST COPY TUP IS 0 ALSO      */
         ST    @15,CPYTUP(,@02)                                 02S0210
*        CPYTUFP = EXITLOC + EXITSIZE; /*VALUE OF 1ST NON-0 TUP -
*                                        USED LATER IN THIS SEGMENT  */
         AL    @05,EXITSIZE                                     02S0211
         ST    @05,CPYTUFP                                      02S0211
*      END;                                                     02S0212
*    ELSE                              /*1ST TUP NON-0               */
*      CPYTUP   = EXITLOC + EXITSIZE;  /*FILL IN 1ST NEW TUP - IT
*                                        POINTS JUST PAST THE END OF
*                                        THE EXIT WORKAREA, WHERE THE
*                                        1ST TEXTUNIT WILL BE COPIED */
         B     @RC00208                                         02S0213
@RF00208 L     @05,EXITLOC                                      02S0213
         AL    @05,EXITSIZE                                     02S0213
         L     @02,CPYTUPP                                      02S0213
         ST    @05,CPYTUP(,@02)                                 02S0213
*    SWQUIT   = OFF;                   /*INIT LOOP CONTROL SWITCH    */
@RC00208 NI    SWQUIT,B'10111111'                               02S0214
*    DO WHILE SWQUIT=OFF & CPYRBP->S99ERROR=0; /*LOOP THRU TUP'S WHILE
*                                                NO ERROR            */
         B     @DE00215                                         02S0215
@DL00215 DS    0H                                               02S0216
*      IF (S99TUP&'7FFFFFFF'X)^=0 THEN /*IF TEXTUNIT PRESENT         */
         L     @05,S99TUP(,S99TUPP)                             02S0216
         N     @05,@CF01800                                     02S0216
         LTR   @05,@05                                          02S0216
         BZ    @RF00216                                         02S0216
*        DO;                                                    02S0217
*          IF CPYTUP+KEYNUMLN-1>CPYEND THEN /*BNDRY ERROR            */
         L     @05,CPYTUPP                                      02S0218
         L     @05,CPYTUP(,@05)                                 02S0218
         AL    @05,KEYNUMLN                                     02S0218
         BCTR  @05,0                                            02S0218
         CR    @05,CPYEND                                       02S0218
         BNH   @RF00218                                         02S0218
*            CPYRBP->S99ERROR = RCINFMAT; /* QUIT                    */
         MVC   S99ERROR(2,CPYRBP),@CB01630                      02S0219
*          ELSE                                                 02S0220
*            DO;                                                02S0220
         B     @RC00218                                         02S0220
@RF00218 DS    0H                                               02S0221
*              CPYTUP->S99TUNIT(1:KEYNUMLN) = S99TUNIT(1:KEYNUMLN);
         L     @05,CPYTUPP                                      02S0221
         L     @05,CPYTUP(,@05)                                 02S0221
         L     @02,KEYNUMLN                                     02S0221
         BCTR  @02,0                                            02S0221
         L     @15,S99TUP(,S99TUPP)                             02S0221
         EX    @02,@SM01834                                     02S0221
*                                      /*COPY KEY, NUMBER FIELDS     */
*              S99TUFP = ADDR(S99TUENT); /*POINT AT LEN/PARM ENTRY   */
         LA    @02,S99TUENT(,@15)                               02S0222
         ST    @02,S99TUFP                                      02S0222
*              CPYTUFP = ADDR(CPYTUP->S99TUENT);                02S0223
         LA    @05,S99TUENT(,@05)                               02S0223
         ST    @05,CPYTUFP                                      02S0223
*                                      /*POINT AT WHERE TO COPY      */
*              IF S99TUNUM>0 THEN      /*LEN/PARM FIELDS EXIST       */
         ICM   @05,12,S99TUNUM(@15)                             02S0224
         SRA   @05,16                                           02S0224
         LTR   @05,@05                                          02S0224
         BNP   @RF00224                                         02S0224
*                DO;                                            02S0225
*                  DO I=S99TUNUM BY -1 TO 1 WHILE CPYRBP->S99ERROR=0;
         ST    @05,I                                            02S0226
         B     @DE00226                                         02S0226
@DL00226 LH    @05,S99ERROR(,CPYRBP)                            02S0226
         N     @05,@CF01836                                     02S0226
         LTR   @05,@05                                          02S0226
         BNZ   @DC00226                                         02S0226
*                                      /*LOOP THRU LEN/PARM ENTRIES  */
*                    RFY R2 RSTD;      /*USE AS LENGTH TO MOVE       */
*                    R2 = LENGTH(S99TULEN)+S99TULEN; /*LEN OF MOVE   */
         LA    R2,2                                             02S0228
         L     @05,S99TUFP                                      02S0228
         ICM   @05,12,S99TULEN(@05)                             02S0228
         SRA   @05,16                                           02S0228
         ALR   R2,@05                                           02S0228
*                    IF CPYTUFP+R2-1>CPYEND THEN /*BOUNDRY ERROR     */
         LR    @05,R2                                           02S0229
         AL    @05,CPYTUFP                                      02S0229
         BCTR  @05,0                                            02S0229
         CR    @05,CPYEND                                       02S0229
         BNH   @RF00229                                         02S0229
*                      CPYRBP->S99ERROR = RCINFMAT; /*QUIT COPY      */
         MVC   S99ERROR(2,CPYRBP),@CB01630                      02S0230
*                    ELSE                                       02S0231
*                      DO;                                      02S0231
         B     @RC00229                                         02S0231
@RF00229 DS    0H                                               02S0232
*                        CPYTUFP->S99TUFLD(1:R2) = S99TUFLD(1:R2);
         L     @05,CPYTUFP                                      02S0232
         LR    @15,R2                                           02S0232
         BCTR  @15,0                                            02S0232
         L     @14,S99TUFP                                      02S0232
         EX    @15,@SM01837                                     02S0232
*                        S99TUFP  = S99TUFP + R2; /*NEXT ENTRY       */
         ALR   @14,R2                                           02S0233
         ST    @14,S99TUFP                                      02S0233
*                        CPYTUFP  = CPYTUFP + R2; /*WHERE TO COPY    */
         ALR   @05,R2                                           02S0234
         ST    @05,CPYTUFP                                      02S0234
*                      END;                                     02S0235
*                    RFY (R2) UNRSTD;                           02S0236
@RC00229 DS    0H                                               02S0237
*                  END;                /*END LEN/PARM LOOP           */
         SLR   @05,@05                                          02S0237
         BCTR  @05,0                                            02S0237
         AL    @05,I                                            02S0237
         ST    @05,I                                            02S0237
@DE00226 LTR   @05,@05                                          02S0237
         BP    @DL00226                                         02S0237
@DC00226 DS    0H                                               02S0238
*                END;                  /*END LEN/PARM PROCESSING     */
*              ELSE;                   /*NO LEN/PARM ENTRIES         */
@RF00224 DS    0H                                               02S0240
*            END;                      /*END NO-BOUNDRY ERROR        */
*        END;                          /*END TEXTUNIT PRESENT GROUP  */
*      ELSE;                           /*TUP IS ZERO                 */
@RF00216 DS    0H                                               02S0243
*      IF S99TUPND=ON THEN             /*LAST TUP JUST COPIED?       */
@RC00216 TM    S99TUPND(S99TUPP),B'10000000'                    02S0243
         BNO   @RF00243                                         02S0243
*        DO;                                                    02S0244
*          SWQUIT = ON;                /*EXIT LOOP                   */
         OI    SWQUIT,B'01000000'                               02S0245
*          CPYTUPP->S99TUPND = ON;     /*INDICATE END-OF-LIST        */
         L     @05,CPYTUPP                                      02S0246
         OI    S99TUPND(@05),B'10000000'                        02S0246
*        END;                                                   02S0247
*      ELSE                            /*NOT END-OF-LIST             */
*        DO;                                                    02S0248
         B     @RC00243                                         02S0248
@RF00243 DS    0H                                               02S0249
*          S99TUPP = S99TUPP+4;        /*NEXT ORIGINAL TUP           */
         LA    @05,4                                            02S0249
         ALR   S99TUPP,@05                                      02S0249
*          CPYTUPP = CPYTUPP+4;        /*NEXT 'COPY' TUP             */
         AL    @05,CPYTUPP                                      02S0250
         ST    @05,CPYTUPP                                      02S0250
*          IF CPYTUPP^<EXITLOC THEN    /*LIST DYNAMICALLY EXTENDED   */
         C     @05,EXITLOC                                      02S0251
         BL    @RF00251                                         02S0251
*            CPYRBP->S99ERROR = RCINFMAT;  /*YES, FAIL REQUEST       */
         MVC   S99ERROR(2,CPYRBP),@CB01630                      02S0252
*          ELSE                                                 02S0253
*            IF (S99TUP&'7FFFFFFF'X)^=0 THEN /*NON-0 TUP             */
         B     @RC00251                                         02S0253
@RF00251 L     @05,S99TUP(,S99TUPP)                             02S0253
         N     @05,@CF01800                                     02S0253
         LTR   @05,@05                                          02S0253
         BZ    @RF00253                                         02S0253
*              CPYTUP  = CPYTUFP;      /*NEXT COPY TU BEGINS HERE    */
         L     @05,CPYTUFP                                      02S0254
         L     @02,CPYTUPP                                      02S0254
         ST    @05,CPYTUP(,@02)                                 02S0254
*            ELSE                      /*TUP IS 0                    */
*              CPYTUP = 0;             /*COPY IS 0 ALSO              */
         B     @RC00253                                         02S0255
@RF00253 L     @05,CPYTUPP                                      02S0255
         SLR   @02,@02                                          02S0255
         ST    @02,CPYTUP(,@05)                                 02S0255
*        END;                                                   02S0256
@RC00253 DS    0H                                               02S0256
@RC00251 DS    0H                                               02S0257
*    END;                              /*END LOOP THRU TUP'S         */
@RC00243 DS    0H                                               02S0257
@DE00215 TM    SWQUIT,B'01000000'                               02S0257
         BNZ   @DC00215                                         02S0257
         LH    @05,S99ERROR(,CPYRBP)                            02S0257
         N     @05,@CF01836                                     02S0257
         LTR   @05,@05                                          02S0257
         BZ    @DL00215                                         02S0257
@DC00215 DS    0H                                               02S0258
*  END;                                                         02S0258
*ELSE                                  /*NO TUP ARRAY PRESENT        */
*  EXITLOC  = CPYRBP + LENGTH(S99RB);  /*ADDR OF EXIT WORKAREA       */
*                                                               02S0259
         B     @RC00200                                         02S0259
@RF00200 LA    @06,20                                           02S0259
         ALR   @06,CPYRBP                                       02S0259
         ST    @06,EXITLOC                                      02S0259
*EXITCORE(1:256) = EXITCORE(1:256) && EXITCORE(1:256);/*INIT EXIT CORE*
@RC00200 L     @06,EXITLOC                                      02S0260
         XC    EXITCORE(256,@06),EXITCORE(@06)                  02S0260
*EXITCORE(257:EXITSIZE) = EXITCORE(257:EXITSIZE)                02S0261
*                                && EXITCORE(257:EXITSIZE);     02S0261
         L     @05,EXITSIZE                                     02S0261
         SL    @05,@CF01796                                     02S0261
         EX    @05,@SX01839                                     02S0261
* DO; /*MODESET  EXTKEY(SCHED)*/                                02S0262
*   SPKA (16); /*SET PSW KEY*/                                  02S0263
         LA    @06,16                                           02S0263
         SPKA  0(@06)                                           02S0263
* END; /*MODESET  EXTKEY(SCHED)*/               /*RETURN TO SCHED KEY
*      */                                                       02S0264
*RFY S99RB BASED(CPYRBP);              /*FOR ALL FUTURE REFERENCES
*                                        UNTIL 'RESTORE'             */
*        IF S99ERROR=0 THEN            /*COPY SUCCESSFUL             */
         SLR   @06,@06                                          01S0266
         LH    @05,S99ERROR(,CPYRBP)                            01S0266
         N     @05,@CF01836                                     01S0266
         CR    @06,@05                                          01S0266
         BNE   @RF00266                                         01S0266
*          DO;                                                  01S0267
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - S99CKRB                                           */
*/*                                                                  */
*/* DESCRIPTIVE NAME - SVC99 REQUEST BLOCK VALIDITY CHECK            */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*            VERIFY THE VALIDITY OF THE INCOMING SVC 99 PARAMETER  */
*/*            LIST REQUEST BLOCK POINTER AND REQUEST BLOCK.         */
*/*                                                                  */
*/*   OPERATION -                                                    */
*/*      IF ANY OF THE FOLLOWING ARE TRUE                            */
*/*      THEN THE PARAMETER LIST FORMAT IS INVALID.                  */
*/*      . END INDICATOR NOT ON IN REQUEST BLOCK POINTER             */
*/*      . LENGTH OF RB IS INVALID                                   */
*/*      . RESERVED FIELDS ARE NOT ZEROED                            */
*/*      . FLAG FIELDS ARE SET INVALIDLY (UNDEFINED BITS ARE ON)     */
*/*      . POINTER TO LIST OF TEXT UNIT POINTERS IS ZERO AND THE     */
*/*        VERB CODE IS NOT '01'X (ALLOCATE)                         */
*/*      . FLAGS REQUESTING A PRIVILEGED FUNCTION ARE SET            */
*/*        AND THE CALLER IS NOT AUTHORIZED (VIA TESTAUTH).          */
*/*                                                                  */
*/********************************************************************/
*IF CPYLOC->S99RBPND^=ON ×             /* ONLY ONE REQUEST ALLOWED, SO
*                                         CHECK THAT END INDICATOR IS
*                                         ON IN RB POINTER           */
*  S99RBLN^=LENGTH(S99RB)  ×           /* CHECK FOR CORRECT RB LENGTH*/
*  S99RSV01^=ZERO THEN                 /* CHECK FOR RESERVED AREA=0  */
         L     @05,CPYLOC                                       02S0268
         TM    S99RBPND(@05),B'10000000'                        02S0268
         BNO   @RT00268                                         02S0268
         CLI   S99RBLN(CPYRBP),20                               02S0268
         BNE   @RT00268                                         02S0268
         C     @06,S99RSV01(,CPYRBP)                            02S0268
         BE    @RF00268                                         02S0268
@RT00268 DS    0H                                               02S0269
*    S99ERROR = RCINFMAT;              /* SET REASON CODE            */
*                                                               02S0269
         MVC   S99ERROR(2,CPYRBP),@CB01630                      02S0269
*IF S99ERROR=0 THEN                    /* NO ERROR YET               */
@RF00268 LH    @06,S99ERROR(,CPYRBP)                            02S0270
         N     @06,@CF01836                                     02S0270
         LTR   @06,@06                                          02S0270
         BNZ   @RF00270                                         02S0270
*  DO;                                 /* CHECK FOR VALID VERB       */
*    SWFNDVRB = OFF;                   /* INIT SW FOR LOOP           */
         NI    SWFNDVRB,B'11011111'                             02S0272
*    DO VRBINDEX=1 TO VERBNUMB WHILE(SWFNDVRB=OFF);             02S0273
         LA    VRBINDEX,1                                       02S0273
         B     @DE00273                                         02S0273
@DL00273 TM    SWFNDVRB,B'00100000'                             02S0273
         BNZ   @DC00273                                         02S0273
*      IF VERBCODE(VRBINDEX)=S99VERB THEN /* IF VERB OK              */
         LR    @06,VRBINDEX                                     02S0274
         SLA   @06,3                                            02S0274
         LA    @05,VERBCODE-8(@06)                              02S0274
         CLC   0(1,@05),S99VERB(CPYRBP)                         02S0274
         BNE   @RF00274                                         02S0274
*        SWFNDVRB=ON;                  /* EXIT LOOP                  */
         OI    SWFNDVRB,B'00100000'                             02S0275
*    END;                                                       02S0276
@RF00274 AL    VRBINDEX,@CF00078                                02S0276
@DE00273 CH    VRBINDEX,VERBNUMB                                02S0276
         BNH   @DL00273                                         02S0276
@DC00273 DS    0H                                               02S0277
*    VRBINDEX=VRBINDEX-1;              /*DECREMENT TO OFFSET EXTRA
*                                        INCREMENT DONE BY PL/S LOOP
*                                        LOGIC                       */
         BCTR  VRBINDEX,0                                       02S0277
*    IF SWFNDVRB=OFF THEN              /* IF VERB INVALID            */
         TM    SWFNDVRB,B'00100000'                             02S0278
         BNZ   @RF00278                                         02S0278
*      S99ERROR = RCINFMAT;                                     02S0279
         MVC   S99ERROR(2,CPYRBP),@CB01630                      02S0279
*  END;                                                         02S0280
*                                                               02S0280
@RF00278 DS    0H                                               02S0281
*IF S99ERROR=0 THEN                    /*NO ERROR - CONTINUE         */
@RF00270 SLR   @06,@06                                          02S0281
         LH    @05,S99ERROR(,CPYRBP)                            02S0281
         N     @05,@CF01836                                     02S0281
         CR    @06,@05                                          02S0281
         BNE   @RF00281                                         02S0281
*  DO;                                 /*CHECK RESERVED FLAGS        */
*    IF (S99FLG11&'00001111'B)^='00'X  /*RESERVED FLAGS SET? @YM06125*/
*       × S99FLG12^=0                                           02S0283
*       × (S99FLG22&'00111111'B)^='00'X /*                   @Y30QPPB*/
*       × S99FLAG2(3:4)^=0 THEN        /*                    @Y30QPPB*/
         MVC   @TS00001(1),S99FLG11(CPYRBP)                     02S0283
         NI    @TS00001,B'00001111'                             02S0283
         CLI   @TS00001,X'00'                                   02S0283
         BNE   @RT00283                                         02S0283
         CLI   S99FLG12(CPYRBP),0                               02S0283
         BNE   @RT00283                                         02S0283
         MVC   @TS00001(1),S99FLG22(CPYRBP)                     02S0283
         NI    @TS00001,B'00111111'                             02S0283
         CLI   @TS00001,X'00'                                   02S0283
         BNE   @RT00283                                         02S0283
         SLR   @05,@05                                          02S0283
         ICM   @05,3,S99FLAG2+2(CPYRBP)                         02S0283
         CR    @06,@05                                          02S0283
         BE    @RF00283                                         02S0283
@RT00283 DS    0H                                               02S0284
*         S99ERROR = RCINFMAT;         /*BAD PARM LIST               */
         MVC   S99ERROR(2,CPYRBP),@CB01630                      02S0284
*  END;                                                         02S0285
*                                                               02S0285
@RF00283 DS    0H                                               02S0286
*IF S99TXTPP=0 & S99VERB^='01'X THEN   /* NO TEXTUNIT PTRS AND VERB
*                                         NOT ALLOCATE               */
@RF00281 L     @06,S99TXTPP(,CPYRBP)                            02S0286
         LTR   @06,@06                                          02S0286
         BNZ   @RF00286                                         02S0286
         CLI   S99VERB(CPYRBP),X'01'                            02S0286
         BE    @RF00286                                         02S0286
*  S99ERROR = RCINFMAT;                /* ERROR                      */
         MVC   S99ERROR(2,CPYRBP),@CB01630                      02S0287
*                                      /* ONLY ALLOC SUPPORTS THIS   */
*                                                               02S0288
*IF S99ERROR=0 THEN                    /* NO ERROR ABOVE             */
@RF00286 SLR   @06,@06                                          02S0288
         LH    @05,S99ERROR(,CPYRBP)                            02S0288
         N     @05,@CF01836                                     02S0288
         CR    @06,@05                                          02S0288
         BNE   @RF00288                                         02S0288
*  IF S99FLAG2 ^=0 THEN                /* PRIVILEDGED FLAG   @YM05495*/
         CL    @06,S99FLAG2(,CPYRBP)                            02S0289
         BE    @RF00289                                         02S0289
*    DO;                                                        02S0290
*      GEN(TESTAUTH FCTN=1,STATE=YES,KEY=YES);/*IS USER AUTHORIZED   */
         TESTAUTH FCTN=1,STATE=YES,KEY=YES
*      IF R15^=0 THEN                  /*NO,                         */
         LTR   R15,R15                                          02S0292
         BZ    @RF00292                                         02S0292
*        S99ERROR = RCUNAUTH;          /* ERROR - REQUEST INVALID    */
         MVC   S99ERROR(2,CPYRBP),@CB01628                      02S0293
*    END;                                                       02S0294
@RF00292 DS    0H                                               02S0295
*            IF S99ERROR=0 THEN         /* PARM LIST OK              */
@RF00289 DS    0H                                               01S0295
@RF00288 LH    @06,S99ERROR(,CPYRBP)                            01S0295
         N     @06,@CF01836                                     01S0295
         LTR   @06,@06                                          01S0295
         BNZ   @RF00295                                         01S0295
*              DO;                                              01S0296
*                IF S99TIONQ=OFF THEN   /* TIOT ENQ NOT YET DONE     */
         TM    S99TIONQ(CPYRBP),B'00000100'                     01S0297
         BNZ   @RF00297                                         01S0297
*                  DO;                                          01S0298
*                    ENQRASID = ASCBASID; /* BUILD ENQ RNAME         */
         MVC   ENQRASID(2),ASCBASID(ASCBPTR)                    01S0299
*                    ENQRQDB  = JSCDSABQ; /* CONCAT ASID & QDB ADDR  */
         L     @06,LSTJSCBP                                     01S0300
         MVC   ENQRQDB(4),JSCDSABQ(@06)                         01S0300
*                    DETDQLST(1:ENQLISTL)=ENQLIST(1:ENQLISTL);  01S0301
         L     @06,ENQLISTL                                     01S0301
         BCTR  @06,0                                            01S0301
         EX    @06,@SM01841                                     01S0301
*                                       /*PASS TO ESTAE EXIT @Z40FPPD*/
*                    RFY (R3) RSTD;    /*                    @Z40FPPD*/
*                    R3 = ADDR(DETDQLST); /*ADDR ENQ PARMS   @Z40FPPD*/
         LA    R3,DETDQLST                                      01S0303
*                    GEN(ENQ (,ENQRNAME,,,),MF=(E,(R3)) TIOT ENQ);
         ENQ (,ENQRNAME,,,),MF=(E,(R3)) TIOT ENQ
*                                      /*                    @Z40FPPD*/
*                    RFY (R3) UNRSTD;  /*                    @Z40FPPD*/
*                  END;                                         01S0306
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - READSWA                                           */
*/*                                                                  */
*/* DESCRIPTIVE NAME - READ SWA BLOCKS FOR LATER USE                 */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*           READ IN THE FOLLOWING BLOCKS FROM SWA:                 */
*/*                                                                  */
*/*              . JCT, SCT - PASSED TO FUNCTION INDICATED           */
*/*                           BY VERB                                */
*/*                                                                  */
*/*              . JOB'S ACT AND STEP'S ACT FOR PASSING TO           */
*/*                INSTALLATION EXIT.                                */
*/*                                                                  */
*/*              . SIOT'S, JFCB'S, AND JFCBX'S FOR ALL DSABS, IF     */
*/*                NOT YET READ IN VIA PREVIOUS SVC99 INVOCATION.    */
*/*                INVOKE IEFAB4FE, SWA READER, TO DO THIS VIA A     */
*/*                SCAN OF THE SIOT'S FROM THE SCT SO THAT -ALL-     */
*/*                SIOT'S, NOT JUST THOSE CURRENTLY ALLOCATED, ARE   */
*/*                CHAINED.  DYNAMIC UNALLOCATION NEEDS TO HAVE      */
*/*                -ALL- SIOT'S AVAILABLE FOR RE-CHAINING.           */
*/*                                                                  */
*/* OUTPUT -                                                         */
*/*          THE FOLLOWING POINTERS ARE FILLED IN -                  */
*/*          LSTJCTP - CORE ADDR OF THE JCT                          */
*/*          LSTSCTP - CORE ADDR OF THE SCT (THIS POINTER MUST BE    */
*/*                    CONTIGUOUS TO LSTJCTP - SEE THE CALL TO SWA   */
*/*                    MGR I/F (IEFAB4F7) IN THE CODE).              */
*/*          LSTJACT  - CORE ADDR OF THE JOB'S ACT                   */
*/*          LSTSACT  - CORE ADDR OF THE STEP'S ACT (THIS POINTER    */
*/*                     MUST BE CONTIGUOUS TO LSTJACT - SEE THE CALL */
*/*                     TO SWA MGR I/F (IEFAB4F7) IN THE CODE).      */
*/*          DEJCT - DEPARMS POINTER TO JCT                          */
*/*          DESCT - DEPARMS POINTER TO SCT                          */
*/*          DSABSIOT - VIA CALL TO IEFAB4FE - ACTUALLY, ALL         */
*/*                     DSAB'S, SIOT'S, JFCB'S AND JFCBX'S ARE       */
*/*                     CHAINED TOGETHER IN CORE.                    */
*/*                                                                  */
*/********************************************************************/
*SWACTLS = SWACTLS && SWACTLS;         /* INIT SWA MGR I/F INPUT     */
@RF00297 LH    @06,SWACTLS                                      02S0307
         N     @06,@CF01836                                     02S0307
         LR    @05,@06                                          02S0307
         XR    @05,@06                                          02S0307
         STH   @05,SWACTLS                                      02S0307
*SWREAD = ON;                          /* REQUEST READ OF BLOCKS     */
*SWNEW = ON;                           /* LET I/F GET EPAS           */
*SWFREE = ON;                          /* LET I/F FREE EPAS WHEN DONE*/
         OI    SWREAD,B'00101100'                               02S0310
*SMISVA(1) = JSCBJCTA;                 /* SVA OF JCT TO READ         */
         L     @06,LSTJSCBP                                     02S0311
         MVC   SMISVA(3),JSCBJCTA(@06)                          02S0311
*SMISVA(2) = JSCSCTP;                  /* SVA OF SCT  TO READ        */
         MVC   SMISVA+4(3),JSCSCTP(@06)                         02S0312
*CALL IEFAB4F7 (SWACTLS,0,0,ADDR(SMIPARM),ADDR(LSTJCTP),0,2);   02S0313
*                                                               02S0313
         MVC   @AL00001+4(24),@AL00313                          02S0313
         LA    @06,SWACTLS                                      02S0313
         ST    @06,@AL00001                                     02S0313
         LA    @06,SMIPARM                                      02S0313
         ST    @06,@TF00001                                     02S0313
         LA    @06,@TF00001                                     02S0313
         ST    @06,@AL00001+12                                  02S0313
         LA    @06,LSTJCTP                                      02S0313
         ST    @06,@TF00002                                     02S0313
         LA    @06,@TF00002                                     02S0313
         ST    @06,@AL00001+16                                  02S0313
         L     @15,@CV00122                                     02S0313
         LA    @01,@AL00001                                     02S0313
         BALR  @14,@15                                          02S0313
*DEJCT = LSTJCTP;                      /* FILL IN DEPARMS            */
         L     @06,LSTJCTP                                      02S0314
         ST    @06,DEJCT                                        02S0314
*DESCT = LSTSCTP;                                               02S0315
*                                                               02S0315
         L     @05,LSTSCTP                                      02S0315
         ST    @05,DESCT                                        02S0315
*SMISVA(1) = JCTACTAD;                 /*READ JOB'S ACT              */
         MVC   SMISVA(3),JCTACTAD(@06)                          02S0316
*SMISVA(2) = SCTAFACT;                 /*READ IN STEP'S ACT          */
         MVC   SMISVA+4(3),SCTAFACT(@05)                        02S0317
*CALL IEFAB4F7 (SWACTLS,0,0,ADDR(SMIPARM),ADDR(LSTJACT),0,2);   02S0318
*                                                               02S0318
         MVC   @AL00001+4(24),@AL00318                          02S0318
         LA    @06,SWACTLS                                      02S0318
         ST    @06,@AL00001                                     02S0318
         LA    @06,SMIPARM                                      02S0318
         ST    @06,@TF00001                                     02S0318
         LA    @06,@TF00001                                     02S0318
         ST    @06,@AL00001+12                                  02S0318
         LA    @06,LSTJACT                                      02S0318
         ST    @06,@TF00002                                     02S0318
         LA    @06,@TF00002                                     02S0318
         ST    @06,@AL00001+16                                  02S0318
         L     @15,@CV00122                                     02S0318
         LA    @01,@AL00001                                     02S0318
         BALR  @14,@15                                          02S0318
*IF DSQFRSTP^=0 THEN                   /*IF DSAB'S PRESENT           */
         SLR   @06,@06                                          02S0319
         L     @05,LSTJSCBP                                     02S0319
         L     @05,JSCDSABQ(,@05)                               02S0319
         L     @05,DSQFRSTP(,@05)                               02S0319
         CR    @05,@06                                          02S0319
         BE    @RF00319                                         02S0319
*  IF DSQFRSTP->DSABSIOT=0 THEN        /*SWA BLOCKS NOT YET CHAINED  */
         C     @06,DSABSIOT(,@05)                               02S0320
         BNE   @RF00320                                         02S0320
*    DO;                                                        02S0321
*      FUNCTMAP = FUNCTMAP && FUNCTMAP;/* INIT SWA READR INPUT       */
         XC    FUNCTMAP(1),FUNCTMAP                             02S0322
*      SCANSCT  = ON;                  /* PUT SIOT ADDR'S IN DSABS   */
*      NOEPA    = ON;                  /* NO EPA PROCESSING          */
*      UPDTDSAB = ON;                  /*UPDATE DSABSIOT FIELD       */
         OI    SCANSCT,B'10001100'                              02S0325
*      CALL IEFAB4FE (FUNCTMAP,LSTSCTP,ADDR(IEZJSCB),DMYRETNA); 02S0326
         LA    @06,FUNCTMAP                                     02S0326
         ST    @06,@AL00001                                     02S0326
         LA    @06,LSTSCTP                                      02S0326
         ST    @06,@AL00001+4                                   02S0326
         LA    @06,LSTJSCBP                                     02S0326
         ST    @06,@AL00001+8                                   02S0326
         LA    @06,DMYRETNA                                     02S0326
         ST    @06,@AL00001+12                                  02S0326
         L     @15,@CV00123                                     02S0326
         LA    @01,@AL00001                                     02S0326
         BALR  @14,@15                                          02S0326
*                                      /*INVOKE SWA READER           */
*    END;                                                       02S0327
*                CALL IEFDB401 (S99RB,EXITLOC,EXITSIZE,JCTJNAME,
*                           LSTJACT->ACTPRGNM,LSTJACT->ACTJNFLD,
*                           SCTSNAME,SCTPGMNM,LSTSACT->ACTJNFLD);
@RF00320 DS    0H                                               01S0328
@RF00319 ST    CPYRBP,@AL00001                                  01S0328
         LA    @06,EXITLOC                                      01S0328
         ST    @06,@AL00001+4                                   01S0328
         LA    @06,EXITSIZE                                     01S0328
         ST    @06,@AL00001+8                                   01S0328
         L     @06,LSTJCTP                                      01S0328
         LA    @06,JCTJNAME(,@06)                               01S0328
         ST    @06,@AL00001+12                                  01S0328
         L     @06,LSTJACT                                      01S0328
         LA    @05,ACTPRGNM(,@06)                               01S0328
         ST    @05,@AL00001+16                                  01S0328
         LA    @06,ACTJNFLD(,@06)                               01S0328
         ST    @06,@AL00001+20                                  01S0328
         L     @06,LSTSCTP                                      01S0328
         LA    @05,SCTSNAME(,@06)                               01S0328
         ST    @05,@AL00001+24                                  01S0328
         LA    @06,SCTPGMNM(,@06)                               01S0328
         ST    @06,@AL00001+28                                  01S0328
         L     @06,LSTSACT                                      01S0328
         LA    @06,ACTJNFLD(,@06)                               01S0328
         ST    @06,@AL00001+32                                  01S0328
         L     @15,@CV00119                                     01S0328
         LA    @01,@AL00001                                     01S0328
         BALR  @14,@15                                          01S0328
*                                       /*INVOKE INSTALLATION EXIT   */
*                IF R15^=0 THEN         /* EXIT REJECTS REQUEST      */
         LTR   R15,R15                                          01S0329
         BZ    @RF00329                                         01S0329
*                  RETCODE=RETCOD8;     /* SET DYN ALLOC RETN CODE   */
         MVC   RETCODE(4),@CF00089                              01S0330
*                ELSE                   /* REQUEST ACCEPTED          */
*                  DO;                                          01S0331
         B     @RC00329                                         01S0331
@RF00329 DS    0H                                               01S0332
*                    INPUTSW(1:2)=S99FLAG1; /* MOVE RB FLAGS @YM05495*/
         MVC   INPUTSW(2),S99FLAG1(CPYRBP)                      01S0332
*                    INPUTSW(3:6)=S99FLAG2; /* TO ALFNCMAP   @YM05495*/
         MVC   INPUTSW+2(4),S99FLAG2(CPYRBP)                    01S0333
*                    CALL VERBFUNP(VRBINDEX)->FUNCTION (S99TXTPP,
*                            S99RSC,LISTBLK,ALFNCMAP,DEPARMS,DEWLASTP,
*                            SMFPARMS); /* INVOKE FUNCTION BY VERB
*                                                            @ZA02706*/
         LA    @06,S99TXTPP(,CPYRBP)                            01S0334
         ST    @06,@AL00001                                     01S0334
         LA    @06,S99RSC(,CPYRBP)                              01S0334
         ST    @06,@AL00001+4                                   01S0334
         LA    @06,LISTBLK                                      01S0334
         ST    @06,@AL00001+8                                   01S0334
         LA    @06,ALFNCMAP                                     01S0334
         ST    @06,@AL00001+12                                  01S0334
         LA    @06,DEPARMS                                      01S0334
         ST    @06,@AL00001+16                                  01S0334
         LA    @06,DEWLASTP                                     01S0334
         ST    @06,@AL00001+20                                  01S0334
         LA    @06,SMFPARMS                                     01S0334
         ST    @06,@AL00001+24                                  01S0334
         LR    @06,VRBINDEX                                     01S0334
         SLA   @06,3                                            01S0334
         L     @15,VERBFUNP-8(@06)                              01S0334
         LA    @01,@AL00001                                     01S0334
         BALR  @14,@15                                          01S0334
*                    IF DEWRITP^=0 THEN /*ANYTHING TO WRITE TO SWA   */
         L     @10,DEWRITP                                      01S0335
         LTR   @10,@10                                          01S0335
         BZ    @RF00335                                         01S0335
*                      DO;                                      01S0336
*                                                               01S0336
*                        SWACTLS = SWACTLS && SWACTLS; /*SWAMGR I/F  */
         LH    @10,SWACTLS                                      01S0337
         N     @10,@CF01836                                     01S0337
         LR    @06,@10                                          01S0337
         XR    @06,@10                                          01S0337
         STH   @06,SWACTLS                                      01S0337
*                        SWWRT   = ON; /* OPERATION = WRITE          */
*                        SWFREE  = ON; /* FREE EPA(S) WHEN DONE      */
*                        SWOLD   = ON; /* EPA(S) ALREADY EXIST       */
         OI    SWWRT,B'00010101'                                01S0340
*                        CALL IEFAB4F7 (SWACTLS,DEWRITP,0,0,0,0,0);
         MVC   @AL00001+8(20),@AL00341                          01S0341
         LA    @10,SWACTLS                                      01S0341
         ST    @10,@AL00001                                     01S0341
         LA    @10,DEWRITP                                      01S0341
         ST    @10,@AL00001+4                                   01S0341
         L     @15,@CV00122                                     01S0341
         LA    @01,@AL00001                                     01S0341
         BALR  @14,@15                                          01S0341
*                                      /*SWA MANAGER I/F             */
*                      END;                                     01S0342
*                                                               01S0342
*                  END;                /*END EXIT-OK GROUP           */
@RF00335 DS    0H                                               01S0344
*                IF S99TIONQ=OFF THEN  /* IF CALLER DIDN'T DO ENQ    */
@RC00329 TM    S99TIONQ(CPYRBP),B'00000100'                     01S0344
         BNZ   @RF00344                                         01S0344
*                  DO;                 /*                    @Z40FPPD*/
*                    RFY (R3) RSTD;    /*                    @Z40FPPD*/
*                    R3 = ADDR(DETDQLST); /*ADDR OF DEQ PARM @Z40FPPD*/
         LA    R3,DETDQLST                                      01S0347
*                    GEN(DEQ (,,,),MF=(E,(R3)));                01S0348
         DEQ (,,,),MF=(E,(R3))
*                                      /*DEQ OFF TIOT        @Z40FPPD*/
*                    RFY (R3) UNRSTD;  /*                    @Z40FPPD*/
*                  END;                /*                    @Z40FPPD*/
*                IF SMFBUF1P ^= ZERO THEN /*SMF RECORD TO WRITE?
*                                                            @ZA02706*/
@RF00344 L     @10,SMFBUF1P                                     01S0351
         LTR   @10,@10                                          01S0351
         BZ    @RF00351                                         01S0351
*                  CALL IEFDB4F9(SMFWRTFN,TCBPTR,0,DEPARMS,JSCDSABQ,
*                                SMFPARMS); /*WRITE AND FREE THEM
*                                                            @ZA02706*/
         LA    @10,@CB00141                                     01S0352
         ST    @10,@AL00001                                     01S0352
         ST    TCBPTR,@TF00001                                  01S0352
         LA    @10,@TF00001                                     01S0352
         ST    @10,@AL00001+4                                   01S0352
         LA    @10,@CF00135                                     01S0352
         ST    @10,@AL00001+8                                   01S0352
         LA    @10,DEPARMS                                      01S0352
         ST    @10,@AL00001+12                                  01S0352
         L     @10,LSTJSCBP                                     01S0352
         LA    @10,JSCDSABQ(,@10)                               01S0352
         ST    @10,@AL00001+16                                  01S0352
         LA    @10,SMFPARMS                                     01S0352
         ST    @10,@AL00001+20                                  01S0352
         L     @15,@CV00124                                     01S0352
         LA    @01,@AL00001                                     01S0352
         BALR  @14,@15                                          01S0352
*              END;                    /*END PARM-LIST OK GROUP      */
*            ELSE;                     /*PARM-LIST IN ERROR          */
@RF00295 DS    0H                                               01S0355
*          END;                        /*END COPY-OK GROUP           */
*        ELSE;                         /*COPY FAILED                 */
@RF00266 DS    0H                                               01S0357
*/********************************************************************/
*/* SEGMENT NAME - RESTORE                                           */
*/*                                                                  */
*/* DESCRIPTIVE NAME - RESTORE COPIED PARMLIST OVER ORIGINAL         */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*           RESTORE THE COPIED USER PARAMETER LIST, AS             */
*/*           MODIFIED BY VARIOUS DYNAMIC FUNCTIONS, OVER THE        */
*/*           USER'S ORIGINAL PARM LIST. (SEE THE 'COPY' SEGMENT).   */
*/*                                                                  */
*/* OPERATION -                                                      */
*/*            . SET A SWITCH WHICH INDICATES (TO THE ESTAE EXIT)    */
*/*              THAT ABNORMAL TERMINATION WAS CAUSED BY A PROBABLE  */
*/*              USER ERROR - I.E., THE PARAMETER LIST WAS NOT IN    */
*/*              STORAGE OWNED BY THE USER.                          */
*/*              THIS SWITCH IS SET OFF AT THE END OF THIS SEGMENT.  */
*/*                                                                  */
*/*            . ALL RESTORES INTO THE USER'S PARM LIST ARE DONE IN  */
*/*              THE USER'S KEY, TO PREVENT OVERLAYING STORAGE       */
*/*              NOT OWNED BY THE USER.                              */
*/*                                                                  */
*/*            . ONLY THE REASON CODE IS RESTORED IF IT INDICATES    */
*/*              THAT THE USER PARAMETER LIST WAS IN (FORMAT) ERROR  */
*/*                                                                  */
*/*            . FOR LOOP CONTROL AND DECISION MAKING, USE THE       */
*/*              VALUES IN THE COPIED (AND VERIFIED) PARM LIST, IN   */
*/*              CASE THE USER HAS FREED AND/OR ALTERED THE          */
*/*              ORIGINAL PARM LIST. AN EXCEPTION TO THIS IS THE     */
*/*              TEST FOR THE END OF THE TEXTUNIT POINTER (TUP)      */
*/*              LIST WHICH MAY HAVE BEEN MODIFIED BY THE            */
*/*              INSTALLATION EXIT.  THE HI-ORDER BIT BEING ON IN A  */
*/*              POINTER IN -EITHER- LIST IS SUFFICIENT TO STOP      */
*/*              SCANNING OF THE POINTER LIST.                       */
*/*                                                                  */
*/*            . FREEMAIN THE COPY OF THE PARAMETER LIST             */
*/*                                                                  */
*/*            . THE FOLLOWING ASSUMPTIONS ARE MADE -                */
*/*                . IN THE REQUEST BLOCK, ONLY THE REASON CODE      */
*/*                  NEED BE RESTORED.                               */
*/*                . ONLY TEXTUNITS WITH THE FOLLOWING       @ZA15319*/
*/*                  PROPERTIES WILL BE RESTORED -           @ZA15319*/
*/*                    NUMBER FIELD OF ONE AND               @ZA15319*/
*/*                    THE COPIED TEXT UNIT POINTER HAS NOT  @ZA15319*/
*/*                    BEEN ZEROED AND                       @ZA15319*/
*/*                    THE COPIED PARAMETER LENGTH IS LESS   @ZA15319*/
*/*                    THAN OR EQUAL TO THE ORIGINAL         @ZA15319*/
*/*                    PARAMETER LENGTH.                     @ZA15319*/
*/*                  THIS SIMPLIFIES THE CODE SINCE ALL KEYS @ZA15319*/
*/*                  WHICH REQUEST INFORMATION RETRIEVAL WILL@ZA15319*/
*/*                  HAVE THESE PROPERTIES.                  @ZA15319*/
*/*                                                                  */
*/********************************************************************/
*RFY S99RB BASED(S99RBPTR);            /*RESTORE MACRO BASE  SO CAN
*                                        REFER TO USER'S ORIGINAL COPY
*                                        WITH IMPLICIT NOTATION      */
@RC00266 DS    0H                                               02S0358
*RFY(R2,R3,R5) RSTD;                   /*REGS USED FOR RESTORING     */
*                                                               02S0358
*USERERSW = ON;                        /*IF ABEND, TELL ESTAE EXIT
*                                        IT'S A PROBABLE USER ERROR  */
         OI    USERERSW,B'00100000'                             02S0359
* DO; /*MODESET  KEYADDR(KEY0)*/                                02S0360
*   SPKA (KEY0); /*SET PSW KEY*/                                02S0361
         L     @10,KEY0                                         02S0361
         SPKA  0(@10)                                           02S0361
* END; /*MODESET  KEYADDR(KEY0)*/               /*NEED TO REFERENCE BOT
*                                                 COPIES SIMULTANEOUSLY
*      */                                                       02S0362
*R2 = CPYRBP->S99RSC;                  /*REASON CODE INTO R2         */
         L     R2,S99RSC(,CPYRBP)                               02S0363
*R3 = ADDR(S99RSC);                    /*WHERE TO RESTORE IT         */
         L     R3,S99RBPTR(,INPPARM)                            02S0364
         LA    R3,S99RSC(,R3)                                   02S0364
* DO; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*/              02S0365
*   SAVEKEY = TCBRBP; /*RB PTR FROM TCB*/                       02S0366
         L     SAVEKEY,TCBRBP(,TCBPTR)                          02S0366
*   SAVEKEY = SAVEKEY -> RBLINK; /*NEXT RB ADDRESS*/            02S0367
         L     SAVEKEY,RBLINK(,SAVEKEY)                         02S0367
*   SAVEKEY = SAVEKEY -> RBOPSW(2); /*PSW KEY FROM RB OLD PSW*/ 02S0368
         SLR   @06,@06                                          02S0368
         IC    @06,RBOPSW+1(,SAVEKEY)                           02S0368
         LR    SAVEKEY,@06                                      02S0368
*   SPKA (SAVEKEY); /*SET PSW KEY*/                             02S0369
         SPKA  0(SAVEKEY)                                       02S0369
* END; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*/ /*OBTAIN USER KEY
*      */                                                       02S0370
*GEN(ST R2,0(R3));                     /*RESTORE REASON CODE         */
*                                                               02S0371
         ST R2,0(R3)
* DO; /*MODESET  KEYADDR(KEY0)*/                                02S0372
*   SPKA (KEY0); /*SET PSW KEY*/                                02S0373
         L     @10,KEY0                                         02S0373
         SPKA  0(@10)                                           02S0373
* END; /*MODESET  KEYADDR(KEY0)*/               /*NEED TO REFERENCE BOT
*                                                 COPIES SIMULTANEOUSLY
*      */                                                       02S0374
*IF (CPYRBP->S99ERROR&'FF00'X)^='0300'X THEN /*DYN ALLOC. NOT ENDED
*                                              DUE TO BAD PARM LIST  */
         MVC   @TS00001(2),S99ERROR(CPYRBP)                     02S0375
         NC    @TS00001(2),@CB01809                             02S0375
         CLC   @TS00001(2),@CB01810                             02S0375
         BE    @RF00375                                         02S0375
*  DO;                                                          02S0376
*    S99TUPP = S99TXTPP;               /*PTR TO USER'S TUP ARRAY     */
         L     @10,S99RBPTR(,INPPARM)                           02S0377
         L     S99TUPP,S99TXTPP(,@10)                           02S0377
*    CPYTUPP = CPYRBP->S99TXTPP;       /*PTR TO COPY'S TUP ARRAY     */
         L     @10,S99TXTPP(,CPYRBP)                            02S0378
         ST    @10,CPYTUPP                                      02S0378
*    IF CPYTUPP^=0 & S99TUPP^=0 THEN   /*IF TEXTUNITS TO RESTORE     */
         SLR   @09,@09                                          02S0379
         CR    @10,@09                                          02S0379
         BE    @RF00379                                         02S0379
         CR    S99TUPP,@09                                      02S0379
         BE    @RF00379                                         02S0379
*      DO;                                                      02S0380
*        SWQUIT = OFF;                 /*INIT LOOP CONTROL SWITCH    */
         NI    SWQUIT,B'10111111'                               02S0381
*        DO WHILE SWQUIT=OFF;          /*LOOP THRU TEXTUNIT PTRS     */
         B     @DE00382                                         02S0382
@DL00382 DS    0H                                               02S0383
*          IF S99TUP ^= 0 & CPYTUP^=0 &/*NON-ZERO TEXT PTRS  @ZA15319*/
*             S99TUKEY^=0 & S99TUNUM=1 &     /*POSSIBLE REQUEST FOR
*                                              RETURN INFO   @ZA25578*/
*             CPYTUP->S99TULNG ^> S99TULNG THEN /*COPY LESS THAN OR
*                                                 EQUAL TO ORIGINAL
*                                                            @ZA15319*/
         SLR   @10,@10                                          02S0383
         L     @09,S99TUP(,S99TUPP)                             02S0383
         CR    @09,@10                                          02S0383
         BE    @RF00383                                         02S0383
         L     @01,CPYTUPP                                      02S0383
         L     @15,CPYTUP(,@01)                                 02S0383
         CR    @15,@10                                          02S0383
         BE    @RF00383                                         02S0383
         SLR   @14,@14                                          02S0383
         ICM   @14,3,S99TUKEY(@09)                              02S0383
         CR    @10,@14                                          02S0383
         BE    @RF00383                                         02S0383
         LA    @10,1                                            02S0383
         ICM   @14,12,S99TUNUM(@09)                             02S0383
         SRA   @14,16                                           02S0383
         CR    @10,@14                                          02S0383
         BNE   @RF00383                                         02S0383
         ICM   @14,12,S99TULNG(@15)                             02S0383
         SRA   @14,16                                           02S0383
         ICM   @01,12,S99TULNG(@09)                             02S0383
         SRA   @01,16                                           02S0383
         CR    @14,@01                                          02S0383
         BH    @RF00383                                         02S0383
*            DO;                                                02S0384
*              S99TUFP = S99TUP + KEYNUMLN; /*ADDR OF ORIG LEN/PARM  */
         L     @14,KEYNUMLN                                     02S0385
         ALR   @09,@14                                          02S0385
         ST    @09,S99TUFP                                      02S0385
*              CPYTUFP = CPYTUP + KEYNUMLN; /*ADDR OF COP LEN/PARM   */
         ALR   @15,@14                                          02S0386
         ST    @15,CPYTUFP                                      02S0386
*              DO I=1 BY 1 TO (CPYTUFP->S99TULEN+LENGTH(S99TULEN));
         ST    @10,I                                            02S0387
         B     @DE00387                                         02S0387
@DL00387 DS    0H                                               02S0388
*                                      /*MOVE EACH BYTE      @ZA15319*/
*                R5 = ADDR(S99TUFLD(I)); /*DIRECT PTR TO USER LOC    */
         L     R5,S99TUFP                                       02S0388
         BCTR  R5,0                                             02S0388
         LA    R5,S99TUFLD(@10,R5)                              02S0388
*                R3 = ADDR(CPYTUFP->S99TUFLD(I)); /*DIRECT PTR TO COPY*
         L     R3,CPYTUFP                                       02S0389
         BCTR  R3,0                                             02S0389
         LA    R3,S99TUFLD(@10,R3)                              02S0389
*                GEN(IC R2,0(R3));     /*CHARACTER TO RESTORE        */
         IC R2,0(R3)
*                 DO; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*/
*                   SAVEKEY = TCBRBP; /*RB PTR FROM TCB*/       02S0392
         L     SAVEKEY,TCBRBP(,TCBPTR)                          02S0392
*                   SAVEKEY = SAVEKEY -> RBLINK; /*NEXT RB ADDRESS*/
         L     SAVEKEY,RBLINK(,SAVEKEY)                         02S0393
*                   SAVEKEY = SAVEKEY -> RBOPSW(2); /*PSW KEY FROM RB O
*D PSW*/            SPKA (SAVEKEY); /*SET PSW KEY*/             02S0394
         SLR   @09,@09                                          02S0394
         IC    @09,RBOPSW+1(,SAVEKEY)                           02S0394
         LR    SAVEKEY,@09                                      02S0394
         SPKA  0(SAVEKEY)                                       02S0395
*                 END; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*/
*                                      /*KEY OF CALLER               */
*                GEN(STC R2,0(R5));    /*RESTORE 1 BYTE OF TEXT UNIT */
         STC R2,0(R5)
*                 DO; /*MODESET  KEYADDR(KEY0)*/                02S0398
*                   SPKA (KEY0); /*SET PSW KEY*/                02S0399
         L     @10,KEY0                                         02S0399
         SPKA  0(@10)                                           02S0399
*                 END; /*MODESET  KEYADDR(KEY0)*/ /*RETURN TO KEY ZERO
*      */                                                       02S0400
*              END;                    /*END 'RESTORE BYTES' LOOP    */
         LA    @10,1                                            02S0401
         AL    @10,I                                            02S0401
         ST    @10,I                                            02S0401
@DE00387 LA    @09,2                                            02S0401
         L     @01,CPYTUFP                                      02S0401
         ICM   @15,12,S99TULEN(@01)                             02S0401
         SRA   @15,16                                           02S0401
         ALR   @09,@15                                          02S0401
         CR    @10,@09                                          02S0401
         BNH   @DL00387                                         02S0401
*            END;                                               02S0402
*          ELSE;                       /*NOT REQUEST FOR RETURNED INFO*
@RF00383 DS    0H                                               02S0404
*          IF CPYTUPP->S99TUPND=ON     /*END OF EITHER LIST          */
*           × S99TUPP->S99TUPND=ON THEN                         02S0404
         L     @10,CPYTUPP                                      02S0404
         TM    S99TUPND(@10),B'10000000'                        02S0404
         BO    @RT00404                                         02S0404
         TM    S99TUPND(S99TUPP),B'10000000'                    02S0404
         BNO   @RF00404                                         02S0404
@RT00404 DS    0H                                               02S0405
*            SWQUIT = ON;              /*END LOOP                    */
         OI    SWQUIT,B'01000000'                               02S0405
*          ELSE                        /*MORE TEXTUNIT POINTERS      */
*            DO;                                                02S0406
         B     @RC00404                                         02S0406
@RF00404 DS    0H                                               02S0407
*              CPYTUPP = CPYTUPP + 4;  /*POINT TO NEXT 'COPY' TUP    */
         LA    @10,4                                            02S0407
         L     @09,CPYTUPP                                      02S0407
         ALR   @09,@10                                          02S0407
         ST    @09,CPYTUPP                                      02S0407
*              S99TUPP = S99TUPP + 4;  /*POINT TO NEXT 'USER' TUP    */
         ALR   S99TUPP,@10                                      02S0408
*            END;                                               02S0409
*        END;                          /*END LOOP THRU TUP'S         */
@RC00404 DS    0H                                               02S0410
@DE00382 TM    SWQUIT,B'01000000'                               02S0410
         BZ    @DL00382                                         02S0410
*      END;                                                     02S0411
*    ELSE;                             /*NO TUP'S PRESENT            */
@RF00379 DS    0H                                               02S0413
*  END;                                                         02S0413
*ELSE;                                 /*BAD PARMLIST ERRCODE        */
@RF00375 DS    0H                                               02S0415
* DO; /*MODESET  EXTKEY(SCHED)*/                                02S0415
*   SPKA (16); /*SET PSW KEY*/                                  02S0416
         LA    @10,16                                           02S0416
         SPKA  0(@10)                                           02S0416
* END; /*MODESET  EXTKEY(SCHED)*/               /*RESTORE DONE  02S0417
*      */                                                       02S0417
*R0 = CPYSIZE;                         /*LENGTH AND SUBPOOL OF COPY
*                                        CORE                        */
         L     R0,CPYSIZE                                       02S0418
*R1 = CPYLOC;                          /*ADDR OF COPY CORE           */
         L     R1,CPYLOC                                        02S0419
*GEN(FREEMAIN R,LV=(0),A=(1));         /*FREE COPY CORE              */
         FREEMAIN R,LV=(0),A=(1)
*RFY(R2,R3,R5) UNRSTD;                                          02S0421
*USERERSW = OFF;                       /*END OF USER ERROR SITUATION */
         NI    USERERSW,B'11011111'                             02S0422
*      END;                            /*END SCAN-OK GROUP           */
*    ELSE                              /*ERROR IN SCAN               */
*      DO;                                                      01S0424
         B     @RC00184                                         01S0424
@RF00184 DS    0H                                               01S0425
*        USERERSW = ON;                /*IF ABEND, TELL ESTAE EXIT
*                                        IT'S A PROBABLE USER ERROR  */
         OI    USERERSW,B'00100000'                             01S0425
*        RFY (R2) RSTD;                /*NEED TO SET ERROR CODE      */
*        R2 = RCINFMAT;                /*ERROR CODE TO SET           */
         LA    R2,876                                           01S0427
*        SLA(R2,SIXTEEN);              /* PUT IN HIGH ORDER  @YM07234*/
         SLA   R2,16                                            01S0428
*         DO; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*/      01S0429
*           SAVEKEY = TCBRBP; /*RB PTR FROM TCB*/               01S0430
         L     SAVEKEY,TCBRBP(,TCBPTR)                          01S0430
*           SAVEKEY = SAVEKEY -> RBLINK; /*NEXT RB ADDRESS*/    01S0431
         L     SAVEKEY,RBLINK(,SAVEKEY)                         01S0431
*           SAVEKEY = SAVEKEY -> RBOPSW(2); /*PSW KEY FROM RB OLD PSW*/
         SLR   @09,@09                                          01S0432
         IC    @09,RBOPSW+1(,SAVEKEY)                           01S0432
         LR    SAVEKEY,@09                                      01S0432
*           SPKA (SAVEKEY); /*SET PSW KEY*/                     01S0433
         SPKA  0(SAVEKEY)                                       01S0433
*         END; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*//*GET KEY OF
*CALLER*/                                                       01S0434
*        S99RSC = R2;                  /*SET INVALID PARM LIST CODE  */
         L     @10,S99RBPTR(,INPPARM)                           01S0435
         ST    R2,S99RSC(,@10)                                  01S0435
*         DO; /*MODESET  EXTKEY(SCHED)*/                        01S0436
*           SPKA (16); /*SET PSW KEY*/                          01S0437
         LA    @10,16                                           01S0437
         SPKA  0(@10)                                           01S0437
*         END; /*MODESET  EXTKEY(SCHED)*/       /*BACK TO SCHED KEY
*      */                                                       01S0438
*        RFY (R2) UNRSTD;                                       01S0439
*        USERERSW = OFF;               /*END OF USER ERROR SITUATION */
         NI    USERERSW,B'11011111'                             01S0440
*      END;                                                     01S0441
*    GEN;                                                       01S0442
@RC00184 DS    0H                                               01S0442
      ESTAE 0
*  END;                                /*END ESTAE-OK GROUP          */
*ELSE                                  /*ESTAE FAILED                */
*  DO;                                                          01S0444
         B     @RC00136                                         01S0444
@RF00136 DS    0H                                               01S0445
*    RFY (R2) RSTD;                    /*NEED TO SET ERROR CODE      */
*    R2 = RCESTAER;                    /*ERROR CODE TO SET           */
         LA    R2,1148                                          01S0446
*    SLA(R2,SIXTEEN);                  /* PUT IN HIGH ORDER  @YM07234*/
         SLA   R2,16                                            01S0447
*     DO; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*/          01S0448
*       SAVEKEY = TCBRBP; /*RB PTR FROM TCB*/                   01S0449
         L     SAVEKEY,TCBRBP(,TCBPTR)                          01S0449
*       SAVEKEY = SAVEKEY -> RBLINK; /*NEXT RB ADDRESS*/        01S0450
         L     SAVEKEY,RBLINK(,SAVEKEY)                         01S0450
*       SAVEKEY = SAVEKEY -> RBOPSW(2); /*PSW KEY FROM RB OLD PSW*/
         SLR   @09,@09                                          01S0451
         IC    @09,RBOPSW+1(,SAVEKEY)                           01S0451
         LR    SAVEKEY,@09                                      01S0451
*       SPKA (SAVEKEY); /*SET PSW KEY*/                         01S0452
         SPKA  0(SAVEKEY)                                       01S0452
*     END; /*MODESET  EXTKEY(RBT234) WORKREG(SAVEKEY)*/ /*GET KEY OF CA
*LER   */                                                       01S0453
*    S99RSC = R2;                      /*SET ESTAE FAILED CODE       */
         L     @10,S99RBPTR(,INPPARM)                           01S0454
         ST    R2,S99RSC(,@10)                                  01S0454
*     DO; /*MODESET  EXTKEY(SCHED)*/                            01S0455
*       SPKA (16); /*SET PSW KEY*/                              01S0456
         LA    @10,16                                           01S0456
         SPKA  0(@10)                                           01S0456
*     END; /*MODESET  EXTKEY(SCHED)*/           /*BACK TO SCHED KEY
*      */                                                       01S0457
*    RFY (R2) UNRSTD;                                           01S0458
*  END;                                                         01S0459
*                                                               01S0459
*                                                               01S0459
* DO; /*MODESET  KEYADDR(KEY0)*/                                01S0460
@RC00136 DS    0H                                               01S0461
*   SPKA (KEY0); /*SET PSW KEY*/                                01S0461
         L     @10,KEY0                                         01S0461
         SPKA  0(@10)                                           01S0461
* END; /*MODESET  KEYADDR(KEY0)*/               /*REF BOTH USER AND SVC
*S CORE */                                                      01S0462
*                                                               01S0462
*IF S99ERROR^=0 THEN                   /* ANY ERROR                  */
         L     @10,S99RBPTR(,INPPARM)                           01S0463
         LH    @09,S99ERROR(,@10)                               01S0463
         N     @09,@CF01836                                     01S0463
         LTR   @09,@09                                          01S0463
         BZ    @RF00463                                         01S0463
*  IF (S99ERROR&'FF00'X)='0300'X THEN  /* 300 SERIES ERROR           */
         MVC   @TS00001(2),S99ERROR(@10)                        01S0464
         NC    @TS00001(2),@CB01809                             01S0464
         CLC   @TS00001(2),@CB01810                             01S0464
         BNE   @RF00464                                         01S0464
*    RETCODE = RETCOD12;               /* PARM LIST ERROR RETN CODE  */
         MVC   RETCODE(4),@CF00106                              01S0465
*  ELSE                                                         01S0466
*    RETCODE = RETCOD4;                /* ENVIRONMENTAL ERROR        */
*                                                               01S0466
         B     @RC00464                                         01S0466
@RF00464 MVC   RETCODE(4),@CF00074                              01S0466
*RFY (REASCODE) RSTD;                                           01S0467
@RC00464 DS    0H                                               01S0467
@RF00463 DS    0H                                               01S0468
*REASCODE = S99RSC;                    /*SAVE AROUND EPILOG          */
*                                                               01S0468
         L     @10,S99RBPTR(,INPPARM)                           01S0468
         L     REASCODE,S99RSC(,@10)                            01S0468
* DO; /*MODESET  EXTKEY(SCHED)*/                                01S0469
*   SPKA (16); /*SET PSW KEY*/                                  01S0470
         LA    @10,16                                           01S0470
         SPKA  0(@10)                                           01S0470
* END; /*MODESET  EXTKEY(SCHED)*/               /*SCHED KEY FOR GSPACE
*      */                                                       01S0471
*                                                               01S0471
*RETURN CODE(RETCODE) TO EXIT;         /*GENERATE PL/S EPILOG        */
         L     @10,RETCODE                                      01S0472
         IC    @02,@OLDKEY                                      01S0472
         L     @13,4(,@13)                                      01S0472
         L     @00,@SIZDATD                                     01S0472
         LR    @01,@11                                          01S0472
         FSPACE   R,LV=(0),A=(1)
         MODESET KEYADDR=(2)
         LR    @15,@10                                          01S0472
         LA    @14,EXIT                                         01S0472
         BR    @14                                              01S0472
*EXIT:                                 /*EXIT TO CALLER              */
*R0 = REASCODE;                        /*REASON CODE FOR TRACE TABLE */
EXIT     LR    R0,REASCODE                                      01S0473
*SVC(3);                               /*STANDARD SVC EXIT           */
*                                                               01S0474
         SVC   3                                                01S0474
*END IEFDB400                                                   01S0475
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      *
*/*%INCLUDE SYSLIB  (SVC99DAT)                                        *
*/*%INCLUDE SYSLIB  (IEFZB4D0)                                        *
*/*%INCLUDE SYSLIB  (IKJTCB  )                                        *
*/*%INCLUDE SYSLIB  (IEZJSCB )                                        *
*/*%INCLUDE SYSLIB  (IHAASCB )                                        *
*/*%INCLUDE SYSLIB  (IEFZB4D9)                                        *
*/*%INCLUDE SYSLIB  (IEFZB4D7)                                        *
*/*%INCLUDE SYSLIB  (IEFZB453)                                        *
*/*%INCLUDE SYSLIB  (IEFZB505)                                        *
*/*%INCLUDE SYSLIB  (IEFAJCTB)                                        *
*/*%INCLUDE SYSLIB  (IEFASCTB)                                        *
*/*%INCLUDE SYSLIB  (IEFZB436)                                        *
*/*%INCLUDE SYSLIB  (IHAQDB  )                                        *
*/*%INCLUDE SYSLIB  (IEFZB4D5)                                        *
*/*%INCLUDE SYSLIB  (IHADSAB )                                        *
*/*%INCLUDE SYSLIB  (IHARB   )                                        *
*/*%INCLUDE SYSLIB  (IKJRB   )                                        *
*/*%INCLUDE SYSLIB  (IEFZB4DA)                                        *
*/*%INCLUDE SYSLIB  (ESTAECOD)                                        *
*/*%INCLUDE SYSLIB  (ESTAESPC)                                        *
*/*%INCLUDE SYSLIB  (SCAN    )                                        *
*/*%INCLUDE SYSLIB  (COPY    )                                        *
*/*%INCLUDE SYSLIB  (S99CHKRB)                                        *
*/*%INCLUDE SYSLIB  (READSWA )                                        *
*/*%INCLUDE SYSLIB  (RESTORE )                                        *
*;                                                              01S0475
@EL00001 IC    @02,@OLDKEY                                      01S0475
         L     @13,4(,@13)                                      01S0475
@EF00001 L     @00,@SIZDATD                                     01S0475
         LR    @01,@11                                          01S0475
         FSPACE   R,LV=(0),A=(1)
         MODESET KEYADDR=(2)
@ER00001 BR    @14                                              01S0475
@DATA    DS    0H
@SM01827 MVC   MACWORK(0),ESTALIST
@SM01834 MVC   S99TUNIT(0,@05),S99TUNIT(@15)
@SM01837 MVC   S99TUFLD(0,@05),S99TUFLD(@14)
@SX01839 XC    EXITCORE+256(0,@06),EXITCORE+256(@06)
@SM01841 MVC   DETDQLST(0),ENQLIST
         DS    0F
@AL00313 EQU   *                       LIST WITH   6 ARGUMENT(S)
@AL00318 EQU   *                       LIST WITH   6 ARGUMENT(S)
@AL00341 DC    A(@CF00135)             LIST WITH   5 ARGUMENT(S)
         DC    A(@CF00135)
         DC    A(@CF00135)
         DC    A(@CF00135)
         DC    A(@CF00135)
         DC    A(@CF00073)
@DATD    DSECT
         DS    0F
@SA00001 DS    18F
@PC00001 DS    1F
@AL00001 DS    9A
@TF00001 DS    F
@TF00002 DS    F
IEFDB400 CSECT
         DS    0F
@CF00135 DC    F'0'
@CF00078 DC    F'1'
@CF00073 DC    F'2'
@CF00074 DC    F'4'
@CF00089 DC    F'8'
@CF00106 DC    F'12'
@CF01796 DC    F'257'
@CF01800 DC    XL4'7FFFFFFF'
@CF01836 DC    XL4'0000FFFF'
@DATD    DSECT
         DS    0D
LSTJACT  DS    A
LSTSACT  DS    A
RETCODE  DS    A
DMYRETNA DS    F
I        DS    A
CPYTUPP  DS    A
S99TUFP  DS    A
CPYTUFP  DS    A
EXITLOC  DS    A
TUPSIZE  DS    F
KEYNUMLN DS    F
SWEPAPTR DS    A
JCTPTR   DS    A
SCTPTR   DS    A
QDBPTR   DS    A
DSABPTR  DS    A
RBSECPTR DS    A
SWACTLS  DS    FL2
         ORG   SWACTLS
SWASN    DS    BL1
SWDEL    EQU   SWACTLS+0
SWREAD   EQU   SWACTLS+0
SWWRT    EQU   SWACTLS+0
SWNEW    EQU   SWACTLS+0
SWFREE   EQU   SWACTLS+0
SWMOD    EQU   SWACTLS+0
SWOLD    EQU   SWACTLS+0
SWCHN    DS    BL1
@NM00059 EQU   SWACTLS+1
         ORG   SWACTLS+2
@TS00001 DS    CL2
LISTBLK  DS    CL20
         ORG   LISTBLK
LSTJSCBP DS    AL4
LSTASCBP DS    AL4
LSTTCBP  DS    AL4
LSTJCTP  DS    AL4
LSTSCTP  DS    AL4
         ORG   LISTBLK+20
SMFPARMS DS    CL8
         ORG   SMFPARMS
SMFBUF1P DS    AL4
SMFBUFLP DS    AL4
         ORG   SMFPARMS+8
ASWACORE DS    CL40
MACWORK  DS    CL48
FUNCTMAP DS    BL1
         ORG   FUNCTMAP
SCANSCT  DS    BL1
SCANDSAB EQU   FUNCTMAP+0
SIOTONLY EQU   FUNCTMAP+0
NOJFCBX  EQU   FUNCTMAP+0
NOEPA    EQU   FUNCTMAP+0
UPDTDSAB EQU   FUNCTMAP+0
@NM00002 EQU   FUNCTMAP+0
         ORG   FUNCTMAP+1
SWITCHES DS    BL1
         ORG   SWITCHES
SWSCANER DS    BL1
SWQUIT   EQU   SWITCHES+0
SWFNDVRB EQU   SWITCHES+0
         ORG   SWITCHES+1
ENQRNAME DS    CL6
         ORG   ENQRNAME
ENQRASID DS    CL2
ENQRQDB  DS    CL4
         ORG   ENQRNAME+6
DEPARMS  DS    CL308
         ORG   DEPARMS
DECORE   DS    CL200
DEALFMAP DS    AL4
DETCB    DS    AL4
DESIOT   DS    AL4
DEJCT    DS    AL4
DESCT    DS    AL4
DEJSCB   DS    AL4
DECPYLOC DS    AL4
DECPYLEN DS    FL4
DENQRETN DS    CL8
         ORG   DENQRETN
DEDSNQEN DS    AL4
DEDSNQRC DS    AL4
         ORG   DEPARMS+240
DEDMYEPA DS    CL16
         ORG   DEDMYEPA
@NM00011 DS    3A
DEWRITP  DS    AL4
         ORG   DEPARMS+256
DEWLASTP DS    AL4
DEDMYAS  DS    CL16
         ORG   DEDMYAS
@NM00012 DS    3A
DEASGNP  DS    AL4
         ORG   DEPARMS+276
DEALASTP DS    AL4
DETDQLST DS    CL16
DETCTIOP DS    AL4
DETCTIOL DS    FL4
@NM00013 DS    AL4
         ORG   DEPARMS+308
ALFNCMAP DS    CL8
         ORG   ALFNCMAP
INPUTSW  DS    CL6
         ORG   INPUTSW
ONCNVTSW DS    BL1
NOCNVTSW EQU   INPUTSW+0
NOMONTSW EQU   INPUTSW+0
JOBRLSYS EQU   INPUTSW+0
@NM00014 EQU   INPUTSW+0
         DS    CL1
WTVOLSW  DS    BL1
WTDSNSW  EQU   INPUTSW+2
NORESSW  EQU   INPUTSW+2
WTUNTSW  EQU   INPUTSW+2
OFFLINSW EQU   INPUTSW+2
TIOTNQSW EQU   INPUTSW+2
CATLOGSW EQU   INPUTSW+2
MOUNTSW  EQU   INPUTSW+2
UNITDEVT DS    BL1
PCATINIT EQU   INPUTSW+3
@NM00015 EQU   INPUTSW+3
         ORG   ALFNCMAP+6
PROCESSW DS    CL2
         ORG   PROCESSW
DYNMSSTM DS    BL1
COPYSW   EQU   PROCESSW+0
ERRPROSW EQU   PROCESSW+0
         ORG   ERRPROSW
DEQDSNSW EQU   ERRPROSW+0
UNALOCSW EQU   ERRPROSW+0
         ORG   PROCESSW+0
NQEXCLSW EQU   PROCESSW+0
DCBSPCSW EQU   PROCESSW+0
FRRPERSW EQU   PROCESSW+0
EPAJCTSW EQU   PROCESSW+0
         DS    CL1
EPASCTSW DS    BL1
EPALSISW EQU   PROCESSW+1
USERERSW EQU   PROCESSW+1
DISMSGSW EQU   PROCESSW+1
HSKPDQSW EQU   PROCESSW+1
DYNMSSOK EQU   PROCESSW+1
@NM00016 EQU   PROCESSW+1
         ORG   ALFNCMAP+8
AB4EDPMS DS    CL500
SMIPARM  DS    CL4
         ORG   SMIPARM+0
SMISVA   DS    CL3
SMIID    DS    CL1
         ORG   SMIPARM+8
@OLDKEY  DS    AL1
IEFDB400 CSECT
         DS    0F
@SIZDATD DC    AL1(230)
         DC    AL3(@ENDDATD-@DATD)
@CV00119 DC    V(IEFDB401)
@CV00120 DC    V(IEFDB402)
@CV00121 DC    V(IEFAB4ED)
@CV00122 DC    V(IEFAB4F7)
@CV00123 DC    V(IEFAB4FE)
@CV00124 DC    V(IEFDB4F9)
@CV00125 DC    V(IEFDB410)
@CV00126 DC    V(IEFDB450)
@CV00127 DC    V(IEFDB460)
@CV00128 DC    V(IEFDB470)
@CV00129 DC    V(IEFDB480)
@CV00130 DC    V(IEFDB490)
@CV00131 DC    V(IEFDB4A0)
         DS    0D
KEY0     DC    F'0'
EXITSIZE DC    F'500'
@CC00145 DC    C'IEFDB402'
@CC00143 DC    C'ASWA'
@CB01628 DC    X'0368'
@CB01630 DC    X'036C'
@CB01809 DC    X'FF00'
@CB01810 DC    X'0300'
@CB00141 DC    X'05'
         DS    CL1
S99VDICT DS    CL58
         ORG   S99VDICT
S99VNB   DC    H'7'
S99VRB1  DC    X'01000000'
S99FUN1  DC    VL4(IEFDB410)
S99VRB2  DC    X'03000000'
S99FUN2  DC    VL4(IEFDB450)
S99VRB3  DC    X'04000000'
S99FUN3  DC    VL4(IEFDB460)
S99VRB4  DC    X'07000000'
S99FUN4  DC    VL4(IEFDB470)
S99VRB5  DC    X'05000000'
S99FUN5  DC    VL4(IEFDB480)
S99VRB6  DC    X'06000000'
S99FUN6  DC    VL4(IEFDB490)
S99VRB7  DC    X'02000000'
S99FUN7  DC    VL4(IEFDB4A0)
         ORG   S99VDICT+58
ENQQNAME DC    CL8'SYSZTIOT'
CPYSUBP  DC    X'E5000000'
IEFDB400 CSECT
ESTALIST ESTAE MF=L
ESTALEN  DC   A(*-ESTALIST)           ESTAE LIST LENGTH       @Z40FPPG
*
ENQLIST  ENQ   (ENQQNAME,,E,6,SYSTEM),MF=L
ENQLISTL DC    A(*-ENQLIST)           LEN OF ENQ/DEQ LIST FORM@Z40FPPD
IEFDB400 CSECT
         DS   0H
PATCHLOC DC ((@DATA-@PSTART)/20)X'00'
@DATD    DSECT
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IEFDB400 CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
S99TUPP  EQU   @06
CPYRBP   EQU   @09
CPYEND   EQU   @03
SAVEKEY  EQU   @10
VRBINDEX EQU   @10
ASWAPTR  EQU   @05
INPPARM  EQU   @08
ASCBPTR  EQU   @07
TCBPTR   EQU   @04
R0       EQU   @00
R1       EQU   @01
R2       EQU   @02
R3       EQU   @03
R5       EQU   @05
R15      EQU   @15
REASCODE EQU   @05
R14      EQU   @14
R4       EQU   @04
ASWA     EQU   0
ASWAID   EQU   ASWA
ASWACSCT EQU   ASWA+4
ASWARTNP EQU   ASWA+12
ASWAPRMS EQU   ASWA+16
ASWASCBP EQU   ASWA+20
ASWAFLGS EQU   ASWA+28
ASWADSWS EQU   ASWAFLGS
ASWADYNF EQU   ASWADSWS
ASWADYUE EQU   ASWADSWS
ASWANOCH EQU   ASWADSWS
ASWAAUTO EQU   ASWA+32
FUNCTION EQU   0
CPYTUP   EQU   0
EXITCORE EQU   0
S99RBPTR EQU   0
S99RBPND EQU   S99RBPTR
S99RB    EQU   0
S99RBLN  EQU   S99RB
S99VERB  EQU   S99RB+1
S99FLAG1 EQU   S99RB+2
S99FLG11 EQU   S99FLAG1
S99FLG12 EQU   S99FLAG1+1
S99RSC   EQU   S99RB+4
S99ERROR EQU   S99RSC
S99TXTPP EQU   S99RB+8
S99RSV01 EQU   S99RB+12
S99FLAG2 EQU   S99RB+16
S99FLG21 EQU   S99FLAG2
S99TIONQ EQU   S99FLG21
S99FLG22 EQU   S99FLAG2+1
S99TUPL  EQU   0
S99TUPTR EQU   S99TUPL
S99TUP   EQU   0
S99TUPND EQU   S99TUP
S99TUNIT EQU   0
S99TUKEY EQU   S99TUNIT
S99TUNUM EQU   S99TUNIT+2
S99TUENT EQU   S99TUNIT+4
S99TULNG EQU   S99TUENT
S99TUFLD EQU   0
S99TULEN EQU   S99TUFLD
TCBFIX   EQU   0
TCBFRS   EQU   TCBFIX
TCB      EQU   0
TCBRBP   EQU   TCB
TCBPIE   EQU   TCB+4
TCBPMASK EQU   TCBPIE
TCBCMP   EQU   TCB+16
TCBCMPF  EQU   TCBCMP
TCBCPP   EQU   TCBCMPF
TCBSTCC  EQU   TCBCMPF
TCBCDBL  EQU   TCBCMPF
TCBCWTO  EQU   TCBCMPF
TCBCIND  EQU   TCBCMPF
TCBCMSG  EQU   TCBCMPF
TCBTRN   EQU   TCB+20
TCBABF   EQU   TCBTRN
TCBMSS   EQU   TCB+24
TCBPKF   EQU   TCB+28
TCBFLGS  EQU   TCB+29
TCBFLGS1 EQU   TCBFLGS
TCBFLGS2 EQU   TCBFLGS+1
TCBFLGS3 EQU   TCBFLGS+2
TCBFLGS4 EQU   TCBFLGS+3
TCBFLGS5 EQU   TCBFLGS+4
TCBABWF  EQU   TCBFLGS5
TCBJPQ   EQU   TCB+44
TCBPURGE EQU   TCBJPQ
TCBGRS   EQU   TCB+48
TCBFSA   EQU   TCB+112
TCBTME   EQU   TCB+120
TCBJSTCB EQU   TCB+124
TCBTSFLG EQU   TCB+148
TCBTSTSK EQU   TCBTSFLG
TCBSTAB  EQU   TCB+160
TCBNSTAE EQU   TCBSTAB
TCBSTABB EQU   TCBSTAB+1
TCBTCT   EQU   TCB+164
TCBTCTGF EQU   TCBTCT
TCBSCNDY EQU   TCB+172
TCBNDSP  EQU   TCBSCNDY
TCBNDSP1 EQU   TCBNDSP+1
TCBNDSP2 EQU   TCBNDSP+2
TCBNDSP3 EQU   TCBNDSP+3
TCBJSCB  EQU   TCB+180
TCBRECDE EQU   TCBJSCB
TCBEXT1  EQU   TCB+196
TCBBITS  EQU   TCB+200
TCBNDSP4 EQU   TCBBITS
TCBNDSP5 EQU   TCBBITS+1
TCBFLGS6 EQU   TCBBITS+2
TCBFLGS7 EQU   TCBBITS+3
TCBDAR   EQU   TCB+204
TCBDARC  EQU   TCBDAR
TCBEXT2  EQU   TCB+208
TCBFOE   EQU   TCB+244
TCBESTAE EQU   TCB+264
TCBESTRM EQU   TCBESTAE+1
TCBFBYT1 EQU   TCB+276
TCBFBYT2 EQU   TCB+277
TCBRV124 EQU   TCB+278
TCBRV133 EQU   TCB+279
TCBXTNT2 EQU   0
TCBGTF   EQU   TCBXTNT2
TCBTFLG  EQU   TCBGTF
TCBRV146 EQU   TCBXTNT2+28
TCBRV155 EQU   TCBXTNT2+29
TCBRV164 EQU   TCBXTNT2+30
TCBRV173 EQU   TCBXTNT2+31
IEZJSCB  EQU   0
JSCBSEC1 EQU   IEZJSCB+188
JSCHPCE  EQU   JSCBSEC1+4
JSCBDCB  EQU   JSCBSEC1+36
JSCBOPTS EQU   JSCBSEC1+48
JSCBSWT1 EQU   JSCBSEC1+55
JSCBWTP  EQU   JSCBSEC1+64
JSCBWTFG EQU   JSCBWTP
JSCBEND1 EQU   IEZJSCB+260
ASCB     EQU   0
ASCBASID EQU   ASCB+36
ASCBFW1  EQU   ASCB+100
ASCBRCTF EQU   ASCBFW1+2
ASCBFLG1 EQU   ASCBFW1+3
ASCBDSP1 EQU   ASCB+114
ASCBFLG2 EQU   ASCB+115
SWAEPA   EQU   0
SWVAFW   EQU   SWAEPA+4
INJMJCT  EQU   0
JCTJSTAT EQU   INJMJCT+5
INDMCTLG EQU   JCTJSTAT
JCTJBYTE EQU   INJMJCT+7
JCTJMGLV EQU   JCTJBYTE
JCTJNAME EQU   INJMJCT+8
JCTACTAD EQU   INJMJCT+40
JCTCCODE EQU   INJMJCT+54
JCTRSW1  EQU   INJMJCT+86
JCTRSW2  EQU   INJMJCT+87
JCTJSB   EQU   INJMJCT+111
JCTSTAT2 EQU   INJMJCT+116
IEFAACTB EQU   0
ACTPRGNM EQU   IEFAACTB+8
ACTJNFLD EQU   IEFAACTB+31
INSMSCT  EQU   0
SCTSSTAT EQU   INSMSCT+4
SCTAFACT EQU   INSMSCT+32
SCTSNAME EQU   INSMSCT+52
SCTSTYPE EQU   INSMSCT+67
SCTSDPTY EQU   INSMSCT+94
SCTSTAT2 EQU   INSMSCT+104
SCTBCT   EQU   SCTSTAT2
SCTPGMNM EQU   INSMSCT+108
SCTCDENT EQU   INSMSCT+118
SCTSTEND EQU   INSMSCT+172
@NM00056 EQU   0
SCTABCND EQU   @NM00056
QDB      EQU   0
DSAB     EQU   0
DSABGIDP EQU   DSAB+24
DSABANMP EQU   DSAB+28
DSABORG  EQU   DSAB+32
DSABORG1 EQU   DSABORG
DSABORG2 EQU   DSABORG+1
DSABFLG1 EQU   DSAB+34
DSABFLG2 EQU   DSAB+35
DSABFLG3 EQU   DSAB+36
DSABFLG4 EQU   DSAB+37
DSABSIOT EQU   DSAB+64
DSABANMI EQU   0
DSABGIDL EQU   0
RBPRFX   EQU   0
RBBASIC  EQU   0
RBEXRTNM EQU   RBBASIC
RBTMFLD  EQU   RBEXRTNM
RBSTAB   EQU   RBBASIC+10
XSTAB    EQU   RBSTAB
RBSTAB1  EQU   XSTAB
XSTAB1   EQU   RBSTAB1
RBFTCKPT EQU   XSTAB1
RBSTAB2  EQU   XSTAB+1
XSTAB2   EQU   RBSTAB2
RBTCBNXT EQU   XSTAB2
RBFACTV  EQU   XSTAB2
RBFDYN   EQU   XSTAB2
RBECBWT  EQU   XSTAB2
RBOPSW   EQU   RBBASIC+16
XRBPSW   EQU   RBOPSW
RBOPSWB2 EQU   XRBPSW+1
RBLINK   EQU   RBBASIC+28
XRBLNK   EQU   RBLINK
RBWCF    EQU   XRBLNK
RBLINKB  EQU   XRBLNK+1
RBGRSAVE EQU   RBBASIC+32
XRBREG   EQU   RBGRSAVE
RBGRS0   EQU   XRBREG
RBGRS1   EQU   XRBREG+4
RBGRS2   EQU   XRBREG+8
RBGRS3   EQU   XRBREG+12
RBGRS4   EQU   XRBREG+16
RBGRS5   EQU   XRBREG+20
RBGRS6   EQU   XRBREG+24
RBGRS7   EQU   XRBREG+28
RBGRS8   EQU   XRBREG+32
RBGRS9   EQU   XRBREG+36
RBGRS10  EQU   XRBREG+40
RBGRS11  EQU   XRBREG+44
RBGRS12  EQU   XRBREG+48
RBGRS13  EQU   XRBREG+52
RBGRS14  EQU   XRBREG+56
RBGRS15  EQU   XRBREG+60
XRBESA   EQU   RBBASIC+96
RBPREFIX EQU   0
RBRSV019 EQU   RBPREFIX+14
RBRSV028 EQU   RBPREFIX+15
RBRSV041 EQU   RBPREFIX+27
RBRSV054 EQU   RBPREFIX+39
RBRTOPSW EQU   RBPREFIX+40
RBRTPSW2 EQU   RBRTOPSW+8
RBRTICIL EQU   RBRTPSW2
RBFLAGS1 EQU   RBPREFIX+56
RBINTCDA EQU   RBPREFIX+61
RBSECT   EQU   0
RBPPSAV  EQU   RBSECT
@NM00077 EQU   RBSECT+10
@NM00078 EQU   @NM00077
RBTRSVRB EQU   @NM00078
@NM00080 EQU   @NM00077+1
RBETXR   EQU   @NM00080
RBEP     EQU   RBSECT+12
RBPGMQ   EQU   RBSECT+24
@NM00087 EQU   RBSECT+28
IRBEND   EQU   RBSECT+96
@NM00091 EQU   RBSECT+96
RBRSV138 EQU   @NM00091+7
RBRSV150 EQU   RBSECT+167
INDMDSNT EQU   0
DUMMY    EQU   0
VDICTMAP EQU   S99VDICT
VERBNUMB EQU   VDICTMAP
VDICTELM EQU   VDICTMAP+2
VERBCODE EQU   VDICTELM
VERBFUNP EQU   VDICTELM+4
CPYSIZE  EQU   DECPYLEN
CPYLOC   EQU   DECPYLOC
JSCBSEC2 EQU   JSCBEND1
JSCBSEC3 EQU   JSCBEND1
JSCBJCT  EQU   JSCBSEC3
JSCBJCTA EQU   JSCBJCT+1
JSCBASID EQU   JSCBSEC3+8
JSCBFBYT EQU   JSCBSEC3+10
JSCBJNL  EQU   JSCBSEC3+28
JSCBJJSB EQU   JSCBJNL
JSCBSUB  EQU   JSCBSEC3+40
JSCDSABQ EQU   JSCBSEC3+60
JSCSCT   EQU   JSCBSEC3+68
JSCSCTP  EQU   JSCSCT+1
JSCBACT  EQU   JSCBSEC3+88
JSCRSV45 EQU   JSCBSEC3+112
JSCRSV46 EQU   JSCRSV45
JSCRSV47 EQU   JSCRSV45+2
DSABQDB  EQU   QDB
DSQFRSTP EQU   DSABQDB+12
DSQLASTP EQU   DSABQDB+16
RBSECS03 EQU   RBEP
RBCDE    EQU   RBSECS03
RBCDFLGS EQU   RBCDE
RBSECS05 EQU   RBPGMQ
RBSQE    EQU   RBSECS05
RBSECS06 EQU   RBPGMQ
RBIQE    EQU   RBSECS06
RBSECS07 EQU   RBPGMQ
RBIQE2   EQU   RBSECS07
RBSECS08 EQU   IRBEND
RBSECS09 EQU   IRBEND
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
RBRSV161 EQU   RBSECS09+64
RBSIRBWA EQU   RBSECS09
RBIQEWRK EQU   RBSECS08+4
RBNEXAV  EQU   RBSECS08
RBIQEA   EQU   RBIQE2
RBIQE1   EQU   RBIQE+1
RBUSE    EQU   RBIQE
RBSQEA   EQU   RBSQE+1
@NM00092 EQU   RBSQE
RBCDE1   EQU   RBCDE+1
RBCDLOAD EQU   RBCDFLGS
RBCDXCTL EQU   RBCDFLGS
RBCDSYNC EQU   RBCDFLGS
RBCDNODE EQU   RBCDFLGS
RBCDSAVE EQU   RBCDFLGS
RBCDATCH EQU   RBCDFLGS
RBRSV009 EQU   RBCDFLGS
RBNOCELL EQU   RBCDFLGS
@NM00060 EQU   DSABQDB+24
DSQBDSP  EQU   DSABQDB+22
DSQFDSP  EQU   DSABQDB+20
DSQBADFC EQU   DSQLASTP
DSQBADBC EQU   DSQFRSTP
DSQNELMS EQU   DSABQDB+8
DSQDBLN  EQU   DSABQDB+6
DSQATTRS EQU   DSABQDB+4
DSQDBID  EQU   DSABQDB
JSCBEND3 EQU   JSCBSEC3+120
JSCRSV52 EQU   JSCBSEC3+116
JSCRSV51 EQU   JSCRSV47+1
JSCRSV50 EQU   JSCRSV47
JSCRSV49 EQU   JSCRSV46+1
JSCRSV48 EQU   JSCRSV46
JSCRSV44 EQU   JSCBSEC3+108
JSCRSV43 EQU   JSCBSEC3+104
JSCRSV42 EQU   JSCBSEC3+100
JSCBASWA EQU   JSCBSEC3+96
JSCBUFPT EQU   JSCBSEC3+92
JSCBSWSP EQU   JSCBSEC3+87
JSCRSV33 EQU   JSCBSEC3+86
JSCDDNUM EQU   JSCBSEC3+84
JSCRSV53 EQU   JSCBSEC3+82
JSCDDNNO EQU   JSCBSEC3+80
JSCBVATA EQU   JSCBSEC3+76
JSCTMCOR EQU   JSCBSEC3+72
JSCRSV55 EQU   JSCSCT
JSCRSV54 EQU   JSCBSEC3+64
JSCBSSIB EQU   JSCBSEC3+56
JSCBFRBA EQU   JSCBSEC3+48
JSCRSV28 EQU   JSCBSEC3+46
JSCBSONO EQU   JSCBSEC3+44
JSCBSUBA EQU   JSCBSUB+1
JSCRSV31 EQU   JSCBSUB
JSCBSMLR EQU   JSCBSEC3+36
JSCBJNLR EQU   JSCBSEC3+32
JSCBJNLA EQU   JSCBJNL+1
JSCBJSBT EQU   JSCBJJSB
JSCBJSBX EQU   JSCBJJSB
JSCBJSBA EQU   JSCBJJSB
JSCBJSBI EQU   JSCBJJSB
@NM00010 EQU   JSCBJJSB
JSCBJNLE EQU   JSCBJJSB
JSCBJNLF EQU   JSCBJJSB
JSCBJNLN EQU   JSCBJJSB
@NM00009 EQU   JSCBSEC3+24
JSCBJRBA EQU   JSCBSEC3+16
JSCBIECB EQU   JSCBSEC3+12
JSCBRV08 EQU   JSCBSEC3+11
JSCBRV07 EQU   JSCBFBYT
JSCBRV06 EQU   JSCBFBYT
JSCBRV05 EQU   JSCBFBYT
JSCBRV04 EQU   JSCBFBYT
JSCBRV03 EQU   JSCBFBYT
JSCBRV02 EQU   JSCBFBYT
JSCBADSP EQU   JSCBFBYT
JSCBRV01 EQU   JSCBFBYT
JSCBTJID EQU   JSCBASID
JSCBPSCB EQU   JSCBSEC3+4
JSCJCTP  EQU   JSCBJCTA
JSCRSV24 EQU   JSCBJCT
JSCBEND2 EQU   JSCBSEC2
@NM00001 EQU   VDICTELM+1
SIRBEND  EQU   RBSECT+168
SVRBEND  EQU   RBSECT+168
RBRSV158 EQU   RBRSV150
RBRSV157 EQU   RBRSV150
RBRSV156 EQU   RBRSV150
RBRSV155 EQU   RBRSV150
RBRSV154 EQU   RBRSV150
RBRSV153 EQU   RBRSV150
RBRSV152 EQU   RBRSV150
RBRSV151 EQU   RBRSV150
RBRSV149 EQU   RBSECT+166
RBRSV148 EQU   RBSECT+164
RBSCBB   EQU   RBSECT+144
TIRBEND  EQU   @NM00091+8
PRBEND   EQU   @NM00091+8
RBRSV146 EQU   RBRSV138
RBRSV145 EQU   RBRSV138
RBRSV144 EQU   RBRSV138
RBRSV143 EQU   RBRSV138
RBRSV142 EQU   RBRSV138
RBRSV141 EQU   RBRSV138
RBRSV140 EQU   RBRSV138
RBRSV139 EQU   RBRSV138
RBRSV137 EQU   @NM00091+6
RBRSV136 EQU   @NM00091+4
RBRSV135 EQU   @NM00091
@NM00090 EQU   RBSECT+32
@NM00089 EQU   @NM00087+1
@NM00088 EQU   @NM00087
RBPGMQ1  EQU   RBPGMQ+1
@NM00086 EQU   RBPGMQ
@NM00085 EQU   RBSECT+16
@NM00084 EQU   @NM00080
@NM00083 EQU   @NM00080
RBIQETP  EQU   @NM00080
RBUSIQE  EQU   RBETXR
RBATTN   EQU   @NM00080
@NM00082 EQU   @NM00080
@NM00081 EQU   @NM00080
RBPMSVRB EQU   @NM00078
RBATNXIT EQU   @NM00078
@NM00079 EQU   @NM00078
RBWAITP  EQU   @NM00078
RBFNSVRB EQU   RBTRSVRB
RBFTP    EQU   @NM00078
RBSIZE   EQU   RBSECT+8
RBABOPSW EQU   RBSECT+4
RBPPSAV1 EQU   RBPPSAV+1
@NM00076 EQU   RBPPSAV
RBPRFXND EQU   RBPREFIX+64
RBINTCOD EQU   RBINTCDA+1
RBINLNTH EQU   RBINTCDA
RBWCSA   EQU   RBPREFIX+60
RBRSV004 EQU   RBPREFIX+57
RBSSSYN  EQU   RBFLAGS1
RBSCB    EQU   RBFLAGS1
RBLONGWT EQU   RBFLAGS1
RBASIR   EQU   RBFLAGS1
RBRSV159 EQU   RBFLAGS1
RBABEND  EQU   RBFLAGS1
RBXWAIT  EQU   RBFLAGS1
RBSLOCK  EQU   RBFLAGS1
RBRTRAN  EQU   RBRTPSW2+4
RBRTINCD EQU   RBRTICIL+2
RBRTILC  EQU   RBRTICIL+1
RBRSV160 EQU   RBRTICIL
RBRTPSW1 EQU   RBRTOPSW
RBRSV062 EQU   RBRSV054
RBRSV061 EQU   RBRSV054
RBRSV060 EQU   RBRSV054
RBRSV059 EQU   RBRSV054
RBRSV058 EQU   RBRSV054
RBRSV057 EQU   RBRSV054
RBRSV056 EQU   RBRSV054
RBRSV055 EQU   RBRSV054
RBRSV053 EQU   RBPREFIX+38
RBRSV052 EQU   RBPREFIX+36
RBRSV051 EQU   RBPREFIX+32
RBPRFXST EQU   RBPREFIX+32
RBRSV050 EQU   RBPREFIX+28
RBRSV049 EQU   RBRSV041
RBRSV048 EQU   RBRSV041
RBRSV047 EQU   RBRSV041
RBRSV046 EQU   RBRSV041
RBRSV045 EQU   RBRSV041
RBRSV044 EQU   RBRSV041
RBRSV043 EQU   RBRSV041
RBRSV042 EQU   RBRSV041
RBRSV040 EQU   RBPREFIX+26
RBRSV039 EQU   RBPREFIX+24
RBRSV038 EQU   RBPREFIX+20
RBRSV037 EQU   RBPREFIX+16
RBRSV036 EQU   RBRSV028
RBRSV035 EQU   RBRSV028
RBRSV034 EQU   RBRSV028
RBRSV033 EQU   RBRSV028
RBRSV032 EQU   RBRSV028
RBRSV031 EQU   RBRSV028
RBRSV030 EQU   RBRSV028
RBRSV029 EQU   RBRSV028
RBRSV027 EQU   RBRSV019
RBRSV026 EQU   RBRSV019
RBRSV025 EQU   RBRSV019
RBRSV024 EQU   RBRSV019
RBRSV023 EQU   RBRSV019
RBRSV022 EQU   RBRSV019
RBRSV021 EQU   RBRSV019
RBRSV020 EQU   RBRSV019
RBRSV018 EQU   RBPREFIX+13
RBRSV017 EQU   RBPREFIX+12
RBSRV016 EQU   RBPREFIX+11
RBRSV015 EQU   RBPREFIX+10
RBRSV014 EQU   RBPREFIX+8
RBRSV013 EQU   RBPREFIX+4
RBRSV012 EQU   RBPREFIX
RBEXSAVE EQU   XRBESA
XRBREG15 EQU   RBGRS15
XRBREG14 EQU   RBGRS14
XRBREG13 EQU   RBGRS13
XRBREG12 EQU   RBGRS12
XRBREG11 EQU   RBGRS11
XRBREG10 EQU   RBGRS10
XRBREG9  EQU   RBGRS9
XRBREG8  EQU   RBGRS8
XRBREG7  EQU   RBGRS7
XRBREG6  EQU   RBGRS6
XRBREG5  EQU   RBGRS5
XRBREG4  EQU   RBGRS4
XRBREG3  EQU   RBGRS3
XRBREG2  EQU   RBGRS2
XRBREG1  EQU   RBGRS1
XRBREG0  EQU   RBGRS0
XRBLNKA  EQU   RBLINKB
XRBWT    EQU   RBWCF
@NM00075 EQU   RBBASIC+24
RBOPSWPS EQU   RBOPSWB2
@NM00074 EQU   RBOPSWB2
@NM00073 EQU   XRBPSW
@NM00072 EQU   RBBASIC+12
XRBWAIT  EQU   RBECBWT
XRBFRRB  EQU   RBFDYN
@NM00071 EQU   XSTAB2
XRBACTV  EQU   RBFACTV
XRBTCBP  EQU   RBTCBNXT
@NM00070 EQU   XSTAB1
XRBCKPT  EQU   RBFTCKPT
@NM00069 EQU   XSTAB1
@NM00068 EQU   RBBASIC+8
@NM00067 EQU   RBEXRTNM+1
RBTMIND3 EQU   RBTMFLD
RBTMIND2 EQU   RBTMFLD
RBTMCMP  EQU   RBTMFLD
RBWLIM   EQU   RBTMFLD
RBRSV005 EQU   RBTMFLD
RBTMTOD  EQU   RBTMFLD
RBTMQUE  EQU   RBTMFLD
@NM00066 EQU   RBPRFX
DSABGRID EQU   DSABGIDL+4
DSABLLEN EQU   DSABGIDL
DSABANAM EQU   DSABANMI+1
DSABANML EQU   DSABANMI
DSABRS04 EQU   DSAB+68
DSABRS03 EQU   DSAB+62
DSABDCBM EQU   DSAB+56
DSABSSCM EQU   DSAB+52
DSABSSNM EQU   DSAB+48
DSABPTTR EQU   DSAB+44
DSABTCBP EQU   DSAB+40
DSABRS02 EQU   DSAB+38
@NM00065 EQU   DSABFLG4
DSABCKSI EQU   DSABFLG4
DSABCKVL EQU   DSABFLG4
DSABCKDS EQU   DSABFLG4
@NM00064 EQU   DSABFLG3
DSABJSCT EQU   DSABFLG3
DSABCATL EQU   DSABFLG3
DSABVMSC EQU   DSABFLG3
DSABVAM  EQU   DSABFLG3
DSABPASS EQU   DSABFLG3
DSABDEFR EQU   DSABFLG3
@NM00063 EQU   DSABFLG2
DSABUNAL EQU   DSABFLG2
DSABIRM  EQU   DSABFLG2
DSABOPEN EQU   DSABFLG2
DSABNUSE EQU   DSABFLG1
DSABCATM EQU   DSABFLG1
DSABPCAT EQU   DSABFLG1
DSABDCAT EQU   DSABFLG1
DSABCONV EQU   DSABFLG1
DSABDCNV EQU   DSABFLG1
DSABPALC EQU   DSABFLG1
DSABDALC EQU   DSABFLG1
@NM00062 EQU   DSABORG2
DSABTR   EQU   DSABORG2
DSABAM   EQU   DSABORG2
@NM00061 EQU   DSABORG2
DSABTQ   EQU   DSABORG2
DSABTX   EQU   DSABORG2
DSABGS   EQU   DSABORG2
DSABU    EQU   DSABORG1
DSABPO   EQU   DSABORG1
DSABMQ   EQU   DSABORG1
DSABCQ   EQU   DSABORG1
DSABCX   EQU   DSABORG1
DSABDA   EQU   DSABORG1
DSABPS   EQU   DSABORG1
DSABIS   EQU   DSABORG1
DSABSSVA EQU   DSAB+21
DSABRS01 EQU   DSAB+20
DSABTIOT EQU   DSAB+16
DSABOPCT EQU   DSAB+14
DSABLNTH EQU   DSAB+12
DSABBCHN EQU   DSAB+8
DSABFCHN EQU   DSAB+4
DSABID   EQU   DSAB
QDBRV002 EQU   QDB+28
QDBPRDS  EQU   QDB+26
QDBPRSZ  EQU   QDB+24
QDBBPTDS EQU   QDB+22
QDBFPTDS EQU   QDB+20
QDBLELMP EQU   QDB+16
QDBFELMP EQU   QDB+12
QDBNELMS EQU   QDB+8
QDBRV001 EQU   QDB+6
QDBATTR  EQU   QDB+4
QDBQDB   EQU   QDB
@NM00058 EQU   @NM00056+1
SCTONLY  EQU   SCTABCND
SCTEVEN  EQU   SCTABCND
SCTABEND EQU   SCTABCND
SCTONLYC EQU   SCTABCND
SCTABCAN EQU   SCTABCND
@NM00057 EQU   SCTABCND
@NM00055 EQU   INSMSCT+173
@NM00054 EQU   SCTSTEND
SCTSYSCK EQU   SCTSTEND
SCTSTPND EQU   SCTSTEND
SCTSTSRT EQU   SCTSTEND
@NM00053 EQU   INSMSCT+168
SCTCATCT EQU   INSMSCT+166
SCTSDPSA EQU   SCTCDENT+3
SCTSDPOP EQU   SCTCDENT+2
SCTSDPCD EQU   SCTCDENT
@NM00052 EQU   INSMSCT+117
SCTPRFMF EQU   INSMSCT+116
SCTTIOT  EQU   INSMSCT+105
@NM00051 EQU   SCTBCT
SCTJBEND EQU   SCTBCT
SCTSPSYS EQU   SCTBCT
SCTSTPLB EQU   SCTBCT
@NM00050 EQU   SCTBCT
SCTMCVOL EQU   SCTBCT
@NM00049 EQU   SCTBCT
SCTGOTTR EQU   INSMSCT+100
SCTSMF   EQU   INSMSCT+96
@NM00048 EQU   SCTSDPTY+1
SCTSDP   EQU   SCTSDPTY
SCTFSTEP EQU   SCTSDPTY
@NM00047 EQU   SCTSDPTY
@NM00046 EQU   SCTSDPTY
SCTNIUSL EQU   INSMSCT+92
@NM00045 EQU   INSMSCT+90
SCTMSSZE EQU   INSMSCT+88
SCTPCAT  EQU   INSMSCT+84
SCTLDSTB EQU   INSMSCT+80
SCTSRBT  EQU   INSMSCT+76
SCTMSADR EQU   INSMSCT+72
@NM00044 EQU   INSMSCT+71
SCTXBTTR EQU   INSMSCT+68
SCTJSCAT EQU   SCTSTYPE
SCTINITB EQU   SCTSTYPE
SCTSJFHK EQU   SCTSTYPE
SCTOUTMC EQU   SCTSTYPE
SCTINPUT EQU   SCTSTYPE
SCTGOSTP EQU   SCTSTYPE
@NM00043 EQU   INSMSCT+66
SCTNSMSG EQU   INSMSCT+65
SCTSNUMB EQU   INSMSCT+64
@NM00042 EQU   INSMSCT+62
SCTRPACT EQU   INSMSCT+60
SCTSCLPC EQU   INSMSCT+44
@NM00041 EQU   INSMSCT+43
SCTADSTB EQU   INSMSCT+40
@NM00040 EQU   INSMSCT+36
@NM00039 EQU   INSMSCT+35
SCTDDNT  EQU   INSMSCT+28
@NM00038 EQU   INSMSCT+27
SCTLSIOT EQU   INSMSCT+24
@NM00037 EQU   INSMSCT+23
SCTANSCT EQU   INSMSCT+20
@NM00036 EQU   INSMSCT+19
SCTAALOC EQU   INSMSCT+16
@NM00035 EQU   INSMSCT+15
SCTFSIOT EQU   INSMSCT+12
SCTLALOC EQU   INSMSCT+10
SCTSEXEC EQU   INSMSCT+8
SCTSTIME EQU   INSMSCT+5
INCMSSTS EQU   SCTSSTAT
SCTGRPH  EQU   SCTSSTAT
SCTKEY0  EQU   SCTSSTAT
SCTDORST EQU   SCTSSTAT
SCTNOCKP EQU   SCTSSTAT
SCTNORST EQU   SCTSSTAT
EACAUSER EQU   SCTSSTAT
EAADDRBT EQU   SCTSSTAT
SCTTBLID EQU   INSMSCT+3
SCTDISKA EQU   INSMSCT
ACTACCNT EQU   IEFAACTB+32
ACTJTIME EQU   IEFAACTB+28
@NM00034 EQU   IEFAACTB+7
ACTNEXT  EQU   IEFAACTB+4
ACTIDENT EQU   IEFAACTB+3
ACTDSKAD EQU   IEFAACTB
@NM00033 EQU   INJMJCT+175
JCTVULDP EQU   INJMJCT+172
JCTACODE EQU   INJMJCT+168
JCTPRFMF EQU   INJMJCT+167
JCTUSER  EQU   INJMJCT+160
JCTSSD   EQU   INJMJCT+157
@NM00032 EQU   INJMJCT+156
JCTSRBT  EQU   INJMJCT+152
JCTJMRJD EQU   INJMJCT+149
JCTJMRJT EQU   INJMJCT+146
JCTJMRSS EQU   INJMJCT+143
JCTJMRTL EQU   INJMJCT+140
JCTJMRCL EQU   INJMJCT+139
JCTJMROP EQU   INJMJCT+138
JCTJMRD  EQU   INJMJCT+137
JCTJMR   EQU   INJMJCT+134
JCTCKIDT EQU   INJMJCT+118
JCTCKIDL EQU   INJMJCT+117
@NM00031 EQU   JCTSTAT2
JCTBLP   EQU   JCTSTAT2
JCTPERFM EQU   JCTSTAT2
JCTSWSM  EQU   JCTSTAT2
JCTENDIT EQU   JCTSTAT2
JCTADSPC EQU   JCTSTAT2
JCTSPSYS EQU   JCTSTAT2
@NM00030 EQU   INJMJCT+115
JCTSSTR  EQU   INJMJCT+112
JCTJSBTM EQU   JCTJSB
JCTJSBEX EQU   JCTJSB
JCTJSBAL EQU   JCTJSB
JCTJSBIN EQU   JCTJSB
@NM00029 EQU   JCTJSB
JCTVOLSQ EQU   INJMJCT+110
JCTNRCKP EQU   INJMJCT+108
JCTNTRK  EQU   INJMJCT+107
JCTCKTTR EQU   INJMJCT+104
JCTDEVT  EQU   INJMJCT+100
@NM00028 EQU   INJMJCT+99
JCTSTIOT EQU   INJMJCT+96
JCTSNUMB EQU   INJMJCT+95
JCTQIDNT EQU   INJMJCT+94
JCTEQREG EQU   INJMJCT+92
@NM00027 EQU   INJMJCT+91
JCTDETDA EQU   INJMJCT+88
JCTDSDRA EQU   JCTRSW2
JCTDSOJB EQU   JCTRSW2
JCTDSOCR EQU   JCTRSW2
JCTRESTT EQU   JCTRSW2
JCTNOCKP EQU   JCTRSW2
JCTNORST EQU   JCTRSW2
JCTNARST EQU   JCTRSW2
JCTSYSCK EQU   JCTRSW2
@NM00026 EQU   JCTRSW1
JCTSTEPR EQU   JCTRSW1
JCTCKPTR EQU   JCTRSW1
JCTCKFT  EQU   JCTRSW1
JCTCONTR EQU   JCTRSW1
JCTSTERM EQU   JCTRSW1
JCTWARMS EQU   JCTRSW1
@NM00025 EQU   JCTCCODE+3
JCTJDPOP EQU   JCTCCODE+2
JCTJDPCD EQU   JCTCCODE
@NM00024 EQU   INJMJCT+53
JCTSCT   EQU   INJMJCT+52
JCTSMRBA EQU   INJMJCT+44
@NM00023 EQU   INJMJCT+43
@NM00022 EQU   INJMJCT+39
JCTJCTX  EQU   INJMJCT+36
@NM00021 EQU   INJMJCT+35
JCTSDKAD EQU   INJMJCT+32
JCTJCSMF EQU   INJMJCT+31
JCTGDGNT EQU   INJMJCT+28
@NM00020 EQU   INJMJCT+27
JCTPDIP  EQU   INJMJCT+24
JCTJTPTN EQU   INJMJCT+16
JCTJPRTY EQU   JCTJBYTE
INCMMGL1 EQU   JCTJMGLV
INCMMGL2 EQU   JCTJMGLV
@NM00019 EQU   JCTJMGLV
INCMALL  EQU   JCTJMGLV
JCTJMGPO EQU   INJMJCT+6
INCMNSET EQU   JCTJSTAT
INCMCAT  EQU   INDMCTLG
INCMSTS  EQU   JCTJSTAT
JCTABEND EQU   JCTJSTAT
@NM00018 EQU   JCTJSTAT
JCTJSTPC EQU   JCTJSTAT
@NM00017 EQU   JCTJSTAT
JCTJBLBS EQU   JCTJSTAT
JCTJSRNO EQU   INJMJCT+4
JCTIDENT EQU   INJMJCT+3
JCTDSKAD EQU   INJMJCT
SWCHNPTR EQU   SWAEPA+12
SWLNGTH  EQU   SWAEPA+8
SWBLKID  EQU   SWVAFW+3
SWVA     EQU   SWVAFW
SWBLKPTR EQU   SWAEPA
ASCBEND  EQU   ASCB+208
ASCBSRBT EQU   ASCB+200
ASCBSWTL EQU   ASCB+196
ASCBRS14 EQU   ASCB+195
ASCBSMCT EQU   ASCB+194
ASCBRS12 EQU   ASCB+192
ASCBPCTT EQU   ASCB+188
ASCBVGTT EQU   ASCB+184
ASCBLGCB EQU   ASCB+180
ASCBJBNS EQU   ASCB+176
ASCBJBNI EQU   ASCB+172
ASCBMCC  EQU   ASCB+168
ASCBRTWA EQU   ASCB+164
ASCBIQEA EQU   ASCB+160
ASCBXMPQ EQU   ASCB+156
ASCBRS01 EQU   ASCB+154
ASCBFMCT EQU   ASCB+152
ASCBOUXB EQU   ASCB+148
ASCBOUCB EQU   ASCB+144
ASCBMECB EQU   ASCB+140
ASCBQECB EQU   ASCB+136
ASCBCMSB EQU   ASCB+132
ASCBCMSF EQU   ASCB+128
ASCBTCBS EQU   ASCB+124
ASCBNVSC EQU   ASCB+122
ASCBVSC  EQU   ASCB+120
ASCBSRBS EQU   ASCB+118
ASCBSSRB EQU   ASCB+116
ASCBRV06 EQU   ASCBFLG2
ASCBRV05 EQU   ASCBFLG2
ASCBRV04 EQU   ASCBFLG2
ASCBSNQS EQU   ASCBFLG2
ASCBS2S  EQU   ASCBFLG2
ASCBCEXT EQU   ASCBFLG2
ASCBPXMT EQU   ASCBFLG2
ASCBXMPT EQU   ASCBFLG2
ASCBRF07 EQU   ASCBDSP1
ASCBRF06 EQU   ASCBDSP1
ASCBRF05 EQU   ASCBDSP1
ASCBRF04 EQU   ASCBDSP1
ASCBRF03 EQU   ASCBDSP1
ASCBRF02 EQU   ASCBDSP1
ASCBFAIL EQU   ASCBDSP1
ASCBNOQ  EQU   ASCBDSP1
ASCBSWCT EQU   ASCB+112
ASCBASXB EQU   ASCB+108
ASCBTMCH EQU   ASCB+104
ASCBNSWP EQU   ASCBFLG1
ASCBTYP1 EQU   ASCBFLG1
ASCBSTND EQU   ASCBFLG1
ASCBABNT EQU   ASCBFLG1
ASCBTERM EQU   ASCBFLG1
ASCBS3S  EQU   ASCBFLG1
ASCBCMSH EQU   ASCBFLG1
ASCBTOFF EQU   ASCBFLG1
ASCBRF01 EQU   ASCBRCTF
ASCBTMLW EQU   ASCBRCTF
ASCBOUT  EQU   ASCBRCTF
ASCBWAIT EQU   ASCBRCTF
ASCBRV08 EQU   ASCBRCTF
ASCBFQU  EQU   ASCBRCTF
ASCBFRS  EQU   ASCBRCTF
ASCBTMNO EQU   ASCBRCTF
ASCBAFFN EQU   ASCBFW1
ASCBDUMP EQU   ASCB+96
ASCBQSVC EQU   ASCB+92
ASCBUBET EQU   ASCB+88
ASCBECB  EQU   ASCB+84
ASCBJSTL EQU   ASCB+80
ASCBEWST EQU   ASCB+72
ASCBEJST EQU   ASCB+64
ASCBTSB  EQU   ASCB+60
ASCBCSCB EQU   ASCB+56
ASCBRSM  EQU   ASCB+52
ASCBLDA  EQU   ASCB+48
ASCBSTOR EQU   ASCB+44
ASCBDP   EQU   ASCB+43
ASCBRV07 EQU   ASCB+42
ASCBIOSM EQU   ASCB+40
ASCBSEQN EQU   ASCB+38
ASCBCPUS EQU   ASCB+32
ASCBSPL  EQU   ASCB+28
ASCBLSLQ EQU   ASCB+24
ASCBFSLQ EQU   ASCB+20
ASCBIOSP EQU   ASCB+16
ASCBLOCK EQU   ASCB+12
ASCBBWDP EQU   ASCB+8
ASCBFWDP EQU   ASCB+4
ASCBASCB EQU   ASCB
ASCBEGIN EQU   ASCB
JSCBCSCB EQU   JSCBSEC1+68
JSCBPMG  EQU   JSCBWTP+2
JSCBWTSP EQU   JSCBWTP+1
JSCRSV23 EQU   JSCBWTFG
JSCRSV22 EQU   JSCBWTFG
JSCRSV21 EQU   JSCBWTFG
JSCRSV20 EQU   JSCBWTFG
JSCRSV19 EQU   JSCBWTFG
JSCRSV18 EQU   JSCBWTFG
JSCBRET  EQU   JSCBWTFG
JSCBIOFG EQU   JSCBWTFG
@NM00008 EQU   JSCBSEC1+60
JSCBQMPI EQU   JSCBSEC1+56
JSCBPMSG EQU   JSCBSWT1
JSCRSV16 EQU   JSCBSWT1
JSCRSV15 EQU   JSCBSWT1
JSCRSV14 EQU   JSCBSWT1
JSCRSV13 EQU   JSCBSWT1
JSCRSV12 EQU   JSCBSWT1
JSCRSV11 EQU   JSCBSWT1
JSCBPASS EQU   JSCBSWT1
JSCBTTTR EQU   JSCBSEC1+52
JSCRSV10 EQU   JSCBSEC1+49
JSCBAUTH EQU   JSCBOPTS
JSCSIOTS EQU   JSCBOPTS
JSCRSV08 EQU   JSCBOPTS
JSCRSV07 EQU   JSCBOPTS
JSCRSV06 EQU   JSCBOPTS
JSCBLONG EQU   JSCBOPTS
JSCRSV05 EQU   JSCBOPTS
JSCRSV04 EQU   JSCBOPTS
JSCBSECB EQU   JSCBSEC1+44
JSCRSV03 EQU   JSCBSEC1+41
JSCBSTEP EQU   JSCBSEC1+40
JSCBDCBA EQU   JSCBDCB+1
JSCRSV02 EQU   JSCBDCB
JSCBID   EQU   JSCBSEC1+32
JSCBDBTB EQU   JSCBSEC1+28
JSCBIJSC EQU   JSCBSEC1+24
JSCBTCBP EQU   JSCBSEC1+20
JSCBPCC  EQU   JSCBSEC1+16
JSCBTCP  EQU   JSCBSEC1+12
JSCBSHR  EQU   JSCBSEC1+8
JSCHPCEA EQU   JSCHPCE+1
JSCRSV32 EQU   JSCHPCE
JSCRSV01 EQU   JSCBSEC1
@NM00007 EQU   IEZJSCB
@NM00006 EQU   TCBXTNT2+32
TCBRV181 EQU   TCBRV173
TCBRV180 EQU   TCBRV173
TCBRV179 EQU   TCBRV173
TCBRV178 EQU   TCBRV173
TCBRV177 EQU   TCBRV173
TCBRV176 EQU   TCBRV173
TCBRV175 EQU   TCBRV173
TCBRV174 EQU   TCBRV173
TCBRV172 EQU   TCBRV164
TCBRV171 EQU   TCBRV164
TCBRV170 EQU   TCBRV164
TCBRV169 EQU   TCBRV164
TCBRV168 EQU   TCBRV164
TCBRV167 EQU   TCBRV164
TCBRV166 EQU   TCBRV164
TCBRV165 EQU   TCBRV164
TCBRV163 EQU   TCBRV155
TCBRV162 EQU   TCBRV155
TCBRV161 EQU   TCBRV155
TCBRV160 EQU   TCBRV155
TCBRV159 EQU   TCBRV155
TCBRV158 EQU   TCBRV155
TCBRV157 EQU   TCBRV155
TCBRV156 EQU   TCBRV155
TCBRV154 EQU   TCBRV146
TCBRV153 EQU   TCBRV146
TCBRV152 EQU   TCBRV146
TCBRV151 EQU   TCBRV146
TCBRV150 EQU   TCBRV146
TCBRV149 EQU   TCBRV146
TCBRV148 EQU   TCBRV146
TCBRV147 EQU   TCBRV146
TCBRV145 EQU   TCBXTNT2+26
TCBRV144 EQU   TCBXTNT2+24
TCBCAUF  EQU   TCBXTNT2+20
TCBRV142 EQU   TCBXTNT2+16
TCBRSV49 EQU   TCBXTNT2+12
TCBEVENT EQU   TCBXTNT2+8
TCBRCMP  EQU   TCBXTNT2+5
TCBRSVAB EQU   TCBXTNT2+4
TCBGTFA  EQU   TCBGTF+1
TCBRSV47 EQU   TCBTFLG
TCBRSV46 EQU   TCBTFLG
TCBRSV45 EQU   TCBTFLG
TCBRSV44 EQU   TCBTFLG
TCBRSV43 EQU   TCBTFLG
TCBDSPIT EQU   TCBTFLG
TCBERRTN EQU   TCBTFLG
TCBASYNC EQU   TCBTFLG
@NM00005 EQU   TCB+296
TCBSVCA2 EQU   TCB+292
TCBSWASA EQU   TCB+288
TCBDBTB  EQU   TCB+284
TCBRPT   EQU   TCB+280
TCBRV141 EQU   TCBRV133
TCBRV140 EQU   TCBRV133
TCBRV139 EQU   TCBRV133
TCBRV138 EQU   TCBRV133
TCBRV137 EQU   TCBRV133
TCBRV136 EQU   TCBRV133
TCBRV135 EQU   TCBRV133
TCBRV134 EQU   TCBRV133
TCBRV132 EQU   TCBRV124
TCBRV131 EQU   TCBRV124
TCBRV130 EQU   TCBRV124
TCBRV129 EQU   TCBRV124
TCBRV128 EQU   TCBRV124
TCBRV127 EQU   TCBRV124
TCBRV126 EQU   TCBRV124
TCBRV125 EQU   TCBRV124
TCBRV123 EQU   TCBFBYT2
TCBRV122 EQU   TCBFBYT2
TCBECBNV EQU   TCBFBYT2
TCBSSSYN EQU   TCBFBYT2
TCBFPRAP EQU   TCBFBYT2
TCBFDW   EQU   TCBFBYT2
TCBFMW   EQU   TCBFBYT2
TCBCNCB  EQU   TCBFBYT2
TCBLLH   EQU   TCBFBYT1
TCBRV113 EQU   TCBFBYT1
TCBEOT   EQU   TCBFBYT1
TCBRTM2  EQU   TCBFBYT1
TCBPGNLY EQU   TCBFBYT1
TCBNDIOS EQU   TCBFBYT1
TCBACTIV EQU   TCBFBYT1
TCBEOTFM EQU   TCBFBYT1
TCBAFFN  EQU   TCB+274
TCBCCPVI EQU   TCB+272
TCBUKYSP EQU   TCB+268
TCBMODE  EQU   TCBESTAE+3
TCBERTYP EQU   TCBESTAE+2
TCBRV314 EQU   TCBESTRM
TCBRV313 EQU   TCBESTRM
TCBRV312 EQU   TCBESTRM
TCBRV311 EQU   TCBESTRM
TCBRV310 EQU   TCBESTRM
TCBRV309 EQU   TCBESTRM
TCBRV308 EQU   TCBESTRM
TCBETERM EQU   TCBESTRM
TCBSCBKY EQU   TCBESTAE
TCBRTM12 EQU   TCB+260
TCBTCBID EQU   TCB+256
TCBRSV96 EQU   TCB+252
TCBSWA   EQU   TCB+248
TCBFOEA  EQU   TCBFOE+1
TCBRSV42 EQU   TCBFOE
TCBRV306 EQU   TCB+240
TCBRSV41 EQU   TCB+239
TCBTID   EQU   TCB+238
TCBRSVAA EQU   TCB+237
TCBABCUR EQU   TCB+236
TCBTMSAV EQU   TCB+232
TCBIOTIM EQU   TCB+228
TCBRTWA  EQU   TCB+224
TCBBACK  EQU   TCB+220
TCBTIRB  EQU   TCB+216
TCBAECB  EQU   TCB+212
TCBEXT2A EQU   TCBEXT2+1
TCBRSV39 EQU   TCBEXT2
TCBSTMCT EQU   TCB+207
TCBSYSCT EQU   TCB+206
TCBRSV37 EQU   TCB+205
TCBEXSVC EQU   TCBDAR
TCBDARMS EQU   TCBDAR
TCBDARWT EQU   TCBDAR
TCBDARO  EQU   TCBDAR
TCBDARMC EQU   TCBDARC
TCBDARD  EQU   TCBDAR
TCBDARS  EQU   TCBDAR
TCBDARP  EQU   TCBDAR
TCBGTOFM EQU   TCBFLGS7
TCBADMP  EQU   TCBFLGS7
TCBRSTSK EQU   TCBFLGS7
TCBSVCS  EQU   TCBFLGS7
TCBSTACK EQU   TCBFLGS7
TCBRSV34 EQU   TCBFLGS7
TCBRSV33 EQU   TCBFLGS7
TCBGPECB EQU   TCBFLGS7
TCBNTJS  EQU   TCBFLGS6
TCBAPG   EQU   TCBFLGS6
TCBMIGR  EQU   TCBFLGS6
TCBRV303 EQU   TCBFLGS6
TCBSPVLK EQU   TCBFLGS6
TCBCPU   EQU   TCBFLGS6
TCBPIE17 EQU   TCBFLGS6
TCBRV    EQU   TCBFLGS6
TCBRSV79 EQU   TCBNDSP5
TCBRSV78 EQU   TCBNDSP5
TCBRSV77 EQU   TCBNDSP5
TCBRSV76 EQU   TCBNDSP5
TCBRSV75 EQU   TCBNDSP5
TCBRSV74 EQU   TCBNDSP5
TCBRSV95 EQU   TCBNDSP5
TCBRSV94 EQU   TCBNDSP5
TCBRSV93 EQU   TCBNDSP4
TCBRSV92 EQU   TCBNDSP4
TCBRSV91 EQU   TCBNDSP4
TCBRSV90 EQU   TCBNDSP4
TCBRSV89 EQU   TCBNDSP4
TCBRSV88 EQU   TCBNDSP4
TCBRSV87 EQU   TCBNDSP4
TCBRSV86 EQU   TCBNDSP4
TCBEXT1A EQU   TCBEXT1+1
TCBRSV32 EQU   TCBEXT1
TCBEXCPD EQU   TCB+192
TCBIOBRC EQU   TCB+188
TCBDDWTC EQU   TCB+186
TCBDDEXC EQU   TCB+184
TCBJSCBB EQU   TCBJSCB+1
@NM00004 EQU   TCBRECDE
TCBREC   EQU   TCBRECDE
TCBMDIDS EQU   TCB+176
TCBNDINT EQU   TCBNDSP3
TCBRSV27 EQU   TCBNDSP3
TCBRSV26 EQU   TCBNDSP3
TCBRSV25 EQU   TCBNDSP3
TCBRSV24 EQU   TCBNDSP3
TCBSRBND EQU   TCBNDSP3
TCBRV302 EQU   TCBNDSP3
TCBLJSND EQU   TCBNDSP3
TCBABE   EQU   TCBNDSP2
TCBDSS   EQU   TCBNDSP2
TCBOWAIT EQU   TCBNDSP2
TCBIWAIT EQU   TCBNDSP2
TCBNDTS  EQU   TCBNDSP2
TCBNDSVC EQU   TCBNDSP2
TCBSTPP  EQU   TCBNDSP2
TCBABD   EQU   TCBNDSP2
TCBRSV22 EQU   TCBNDSP1
TCBPIEND EQU   TCBNDSP1
TCBTPSP  EQU   TCBNDSP1
TCBDDRND EQU   TCBNDSP1
TCBRSPND EQU   TCBNDSP1
TCBRSTND EQU   TCBNDSP1
TCBDARPN EQU   TCBNDSP1
TCBDARTN EQU   TCBNDSP1
TCBNDSP0 EQU   TCBNDSP
TCBUSER  EQU   TCB+168
TCBTCTB  EQU   TCBTCT+1
TCBRSV9C EQU   TCBTCTGF
TCBRSV9B EQU   TCBTCTGF
TCBRSV9A EQU   TCBTCTGF
TCBRSV99 EQU   TCBTCTGF
TCBRSV98 EQU   TCBTCTGF
TCBRSV97 EQU   TCBTCTGF
TCBRSV20 EQU   TCBTCTGF
TCBSMFGF EQU   TCBTCTGF
TCBSTCUR EQU   TCBNSTAE
TCBRV301 EQU   TCBNSTAE
TCBSYNCH EQU   TCBNSTAE
TCBHALT  EQU   TCBNSTAE
TCBPPSUP EQU   TCBNSTAE
TCB33E   EQU   TCBNSTAE
TCBQUIES EQU   TCBNSTAE
TCBSTABE EQU   TCBNSTAE
TCBAQE   EQU   TCB+156
TCBPQE   EQU   TCB+152
TCBTSDP  EQU   TCB+151
TCBTSLP  EQU   TCB+150
TCBSTPCT EQU   TCB+149
TCBCPUBN EQU   TCBTSFLG
TCBDYDSP EQU   TCBTSFLG
TCBRSV18 EQU   TCBTSFLG
TCBRSV17 EQU   TCBTSFLG
TCBTIOTG EQU   TCBTSFLG
TCBATT   EQU   TCBTSFLG
TCBSTPPR EQU   TCBTSFLG
TCBRV300 EQU   TCBTSTSK
TCBECB   EQU   TCB+144
TCBIQE   EQU   TCB+140
TCBLTC   EQU   TCB+136
TCBOTC   EQU   TCB+132
TCBNTC   EQU   TCB+128
TCBJSTCA EQU   TCBJSTCB+1
TCBRSV16 EQU   TCBJSTCB
TCBTQET  EQU   TCBTME
TCBTCB   EQU   TCB+116
TCBFSAB  EQU   TCBFSA+1
TCBQEL   EQU   TCBFSA
TCBGRS15 EQU   TCBGRS+60
TCBGRS14 EQU   TCBGRS+56
TCBGRS13 EQU   TCBGRS+52
TCBGRS12 EQU   TCBGRS+48
TCBGRS11 EQU   TCBGRS+44
TCBGRS10 EQU   TCBGRS+40
TCBGRS9  EQU   TCBGRS+36
TCBGRS8  EQU   TCBGRS+32
TCBGRS7  EQU   TCBGRS+28
TCBGRS6  EQU   TCBGRS+24
TCBGRS5  EQU   TCBGRS+20
TCBGRS4  EQU   TCBGRS+16
TCBGRS3  EQU   TCBGRS+12
TCBGRS2  EQU   TCBGRS+8
TCBGRS1  EQU   TCBGRS+4
TCBGRS0  EQU   TCBGRS
TCBJPQB  EQU   TCBJPQ+1
TCBRSV15 EQU   TCBPURGE
TCBRSV14 EQU   TCBPURGE
TCBRSV13 EQU   TCBPURGE
TCBRSV12 EQU   TCBPURGE
TCBRSV11 EQU   TCBPURGE
TCBRSV10 EQU   TCBPURGE
TCBRSV09 EQU   TCBPURGE
TCBJPQF  EQU   TCBPURGE
TCBJLB   EQU   TCB+40
TCBLLS   EQU   TCB+36
TCBDSP   EQU   TCB+35
TCBLMP   EQU   TCB+34
TCBPNDSP EQU   TCBFLGS5
TCBFCD1  EQU   TCBFLGS5
TCBSTP   EQU   TCBFLGS5
TCBSYS   EQU   TCBFLGS5
TCBANDSP EQU   TCBFLGS5
TCBPAGE  EQU   TCBFLGS5
TCBUXNDF EQU   TCBABWF
TCBFC    EQU   TCBFLGS5
TCBONDSP EQU   TCBFLGS4
TCBMPCND EQU   TCBFLGS4
TCBMPCVQ EQU   TCBFLGS4
TCBUXNDV EQU   TCBFLGS4
TCBHNDSP EQU   TCBFLGS4
TCBRQENA EQU   TCBFLGS4
TCBSER   EQU   TCBFLGS4
TCBNDUMP EQU   TCBFLGS4
TCBDWSTA EQU   TCBFLGS3
TCBRSV08 EQU   TCBFLGS3
TCBRSV07 EQU   TCBFLGS3
TCBRSV06 EQU   TCBFLGS3
TCBABGM  EQU   TCBFLGS3
TCBABTRM EQU   TCBFLGS3
TCBADINP EQU   TCBFLGS3
TCBFSM   EQU   TCBFLGS3
TCBFTS   EQU   TCBFLGS2
TCBFETXR EQU   TCBFLGS2
TCBFDSOP EQU   TCBFLGS2
TCBFJMC  EQU   TCBFLGS2
TCBFSMC  EQU   TCBFLGS2
TCBFABOP EQU   TCBFLGS2
TCBFSTI  EQU   TCBFLGS2
TCBFOINP EQU   TCBFLGS2
TCBFX    EQU   TCBFLGS1
TCBFS    EQU   TCBFLGS1
TCBFT    EQU   TCBFLGS1
TCBPDUMP EQU   TCBFLGS1
TCBNONPR EQU   TCBFLGS1
TCBFERA  EQU   TCBFLGS1
TCBFE    EQU   TCBFLGS1
TCBFA    EQU   TCBFLGS1
TCBZERO  EQU   TCBPKF
TCBFLAG  EQU   TCBPKF
TCBMSSB  EQU   TCBMSS+1
TCBRSV03 EQU   TCBMSS
TCBTRNB  EQU   TCBTRN+1
TCBRSV02 EQU   TCBABF
TCBOLTEP EQU   TCBABF
TCBTCP   EQU   TCBABF
TCBTCPP  EQU   TCBABF
TCBRSV01 EQU   TCBABF
TCBGRPH  EQU   TCBABF
TCBNOCHK EQU   TCBABF
TCBMOD91 EQU   TCBABF
TCBCMPC  EQU   TCBCMP+1
TCBRV318 EQU   TCBCMSG
TCBRV317 EQU   TCBCIND
TCBRV316 EQU   TCBCWTO
TCBCASID EQU   TCBCDBL
TCBNOCC  EQU   TCBSTCC
TCBDMPO  EQU   TCBCPP
TCBCSTEP EQU   TCBCMPF
TCBCREQ  EQU   TCBCMPF
TCBTIO   EQU   TCB+12
TCBDEB   EQU   TCB+8
TCBPIEA  EQU   TCBPIE+1
TCBPM    EQU   TCBPMASK
@NM00003 EQU   TCBPMASK
TCBFRS6  EQU   TCBFRS+24
TCBFRS4  EQU   TCBFRS+16
TCBFRS2  EQU   TCBFRS+8
TCBFRS0  EQU   TCBFRS
S99TUPRM EQU   S99TUFLD+2
S99TUPAR EQU   S99TUENT+2
S99TUPLN EQU   S99TUPTR
S99FLG24 EQU   S99FLAG2+3
S99FLG23 EQU   S99FLAG2+2
S99PCINT EQU   S99FLG22
S99UDEVT EQU   S99FLG22
S99MOUNT EQU   S99FLG21
S99CATLG EQU   S99FLG21
S99OFFLN EQU   S99FLG21
S99WTUNT EQU   S99FLG21
S99NORES EQU   S99FLG21
S99WTDSN EQU   S99FLG21
S99WTVOL EQU   S99FLG21
S99INFO  EQU   S99RSC+2
S99JBSYS EQU   S99FLG11
S99NOMNT EQU   S99FLG11
S99NOCNV EQU   S99FLG11
S99ONCNV EQU   S99FLG11
ASWACHNP EQU   ASWA+36
ASWRSV02 EQU   ASWAFLGS+1
ASWRSV01 EQU   ASWADSWS
ASWAVMVF EQU   ASWADSWS
ASWACOMF EQU   ASWADSWS
ASWAOLDP EQU   ASWA+24
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00157 EQU   @RC00154
@RC00218 EQU   @RC00216
@RC00295 EQU   @RC00266
@RF00351 EQU   @RC00295
@ENDDATA EQU   *
         END   IEFDB400,(C'PLS1335',0701,78089)

TD80     TITLE 'IGTD80 --- DUMP COMMAND PROCESSING                     *
                        '
IGTD80   CSECT ,                                                01S0001
@MAINENT DS    0H                                               01S0001
         USING *,@15                                            01S0001
         B     @PROLOG                                          01S0001
         DC    AL1(16)                                          01S0001
         DC    C'IGTD80    77.230'                              01S0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                  01S0001
         BALR  @07,0                                            01S0001
@PSTART  LA    @08,4095(,@07)                                   01S0001
         LA    @05,4095(,@08)                                   01S0001
         USING @PSTART,@07                                      01S0001
         USING @PSTART+4095,@08                                 01S0001
         USING @PSTART+8190,@05                                 01S0001
         L     @00,@SIZDATD                                     01S0001
         IGTYGSV  R,LV=(0)
         LR    @06,@01                                          01S0001
         USING @DATD,@06                                        01S0001
         ST    @13,@SA00001+4                                   01S0001
         LM    @00,@01,20(@13)                                  01S0001
         ST    @06,8(,@13)                                      01S0001
         LR    @13,@06                                          01S0001
*        BITFLAGS = 0;                  /* INITIALIZE FLAGS. @ZA25361*/
         SLR   @11,@11                                          02S0161
         ST    @11,BITFLAGS                                     02S0161
*        DUMPISGO = TRUE;           /* TURNED OFF IF ERRORS. @ZA25361*/
         OI    DUMPISGO,B'00010000'                             02S0162
*        PAGENMBR = 1;                 /* PAGE NUMBER.       @ZA25361*/
         MVC   PAGENMBR(4),@CF00079                             02S0163
*        DCBPTR = ADDR(DCBTEMPA); /* ADDRESS OF THE FIRST DCB.     */
         LA    @11,DCBTEMPA                                     02S0164
         ST    @11,DCBPTR                                       02S0164
*        DCBOFOPN = FALSE; /* INIT OPENED INDICATOR FOR STAE @ZA25361*/
         LA    @04,40                                           02S0165
         ALR   @11,@04                                          02S0165
         NI    DCBOFOPN(@11),B'11101111'                        02S0165
*        DCBPTR = ADDR(DCB3838A); /* ADDRESS OF SECOND DCB.  @ZA25361*/
         LA    @11,DCB3838A                                     02S0166
         ST    @11,DCBPTR                                       02S0166
*        DCBOFOPN = FALSE; /* INIT OPENED INDICATOR FOR STAE @ZA25361*/
         ALR   @11,@04                                          02S0167
         NI    DCBOFOPN(@11),B'11101111'                        02S0167
*    IF APCQPLEN<3 THEN             /* 3 CHAR'S REQUIRED FOR UNIT NO.*/
         LH    @11,APCQPLEN(,APCQPTR)                           02S0168
         C     @11,@CF00117                                     02S0168
         BNL   @RF00168                                         02S0168
*      DO;                                                      02S0169
*        CMNDERR = TRUE;            /* COMMAND ERROR IDENTIFIED      */
         OI    CMNDERR,B'00010000'                              02S0170
*      END;                                                     02S0171
*    ELSE                           /* OTHERWISE, 3 OR MORE CHAR'S   */
*      DO;                                                      02S0172
         B     @RC00168                                         02S0172
@RF00168 DS    0H                                               02S0173
*        UNITADDR = APCQCMND(APCQPSTR:APCQPSTR+2);/*ISOLATE UNIT ADDR*/
         LH    @11,APCQPSTR(,APCQPTR)                           02S0173
         ALR   @11,APCQPTR                                      02S0173
         MVC   UNITADDR(3),APCQCMND-1(@11)                      02S0173
*        IF APCQIINF^=APCQUDMP & UNITADDR(3:3)^='0' THEN        02S0174
         CLC   APCQIINF(4,APCQPTR),@CF00182                     02S0174
         BE    @RF00174                                         02S0174
         CLI   UNITADDR+2,C'0'                                  02S0174
         BE    @RF00174                                         02S0174
*          CMNDERR = TRUE;          /* NON-UDUMP UNIT MUST BE PORT 0 */
         OI    CMNDERR,B'00010000'                              02S0175
*        ELSE                                                   02S0176
*         DO;                       /* CONTINUE COMMAND PROCESSING.  */
         B     @RC00174                                         02S0176
@RF00174 DS    0H                                               02S0177
*           IF UNITADDR(3:3) ^= '0' THEN /* IF PORT DUMP THEN        */
         CLI   UNITADDR+2,C'0'                                  02S0177
         BE    @RF00177                                         02S0177
*             RESETUJA = TRUE;      /* MUST CALL IGTUJA.             */
         OI    RESETUJA,B'00000010'                             02S0178
*           ELSE;                   /* NO ELSE PROCESSING REQUIRED.  */
@RF00177 DS    0H                                               02S0180
*         IF APCQPLEN=3 THEN;       /* IT IS VALID TO GIVE ONLY UNIT#*/
         CLC   APCQPLEN(2,APCQPTR),@CH00117                     02S0180
         BE    @RT00180                                         02S0180
*         ELSE                      /* PARM FIELD HAS MORE THAN 3 CHR*/
*                        /* EXAMINE PARAMETERS IN COMMAND            */
*          DO;                                                  02S0182
*            CMNDPSTR = APCQPSTR + 3; /* POINT BEYOND UNIT NUMBER    */
         LA    @04,3                                            02S0183
         LH    CMNDPSTR,APCQPSTR(,APCQPTR)                      02S0183
         ALR   CMNDPSTR,@04                                     02S0183
*            PLENLEFT = APCQPLEN - 3; /* REDUCE COUNT OF CHAR'S LEFT */
         LCR   @04,@04                                          02S0184
         AH    @04,APCQPLEN(,APCQPTR)                           02S0184
         STH   @04,PLENLEFT                                     02S0184
*            DO WHILE(PLENLEFT>0 & CMNDERR=FALSE);/* LOOK AT 'EM ALL */
         B     @DE00185                                         02S0185
@DL00185 DS    0H                                               02S0186
*              IF APCQCMND(CMNDPSTR:CMNDPSTR+2)=',CP' THEN      02S0186
         LR    @04,APCQPTR                                      02S0186
         ALR   @04,CMNDPSTR                                     02S0186
         CLC   APCQCMND-1(3,@04),@CC03231                       02S0186
         BNE   @RF00186                                         02S0186
*                DO;                /* MATCH FOUND FOR CP PARM       */
*                  DUMPCP = TRUE;   /* COMMAND SPECIFIES DUMP OF CP  */
         OI    DUMPCP,B'00000001'                               02S0188
*                  PLENGTH = 3;     /* ADD ON LENGTH OF PARM         */
         LA    PLENGTH,3                                        02S0189
*                END;                                           02S0190
*              ELSE                                             02S0191
*                IF APCQCMND(CMNDPSTR:CMNDPSTR+5)=',FORCE' THEN 02S0191
         B     @RC00186                                         02S0191
@RF00186 LR    @04,APCQPTR                                      02S0191
         ALR   @04,CMNDPSTR                                     02S0191
         CLC   APCQCMND-1(6,@04),@CC03232                       02S0191
         BNE   @RF00191                                         02S0191
*                  DO;              /* MATCH FOUND FOR FORCE PARM    */
*                    DUMPFORC = TRUE; /* COMMAND SPECIFIES S.A. DUMP */
         OI    DUMPFORC,B'10000000'                             02S0193
*                    PLENGTH = 6;   /* NOTE LENGTH OF PARM           */
         LA    PLENGTH,6                                        02S0194
*                  END;                                         02S0195
*                ELSE                                           02S0196
*                  IF APCQCMND(CMNDPSTR:CMNDPSTR+7)=',STORAGE' THEN
         B     @RC00191                                         02S0196
@RF00191 LR    @04,APCQPTR                                      02S0196
         ALR   @04,CMNDPSTR                                     02S0196
         CLC   APCQCMND-1(8,@04),@CC03233                       02S0196
         BNE   @RF00196                                         02S0196
*                    DO;            /* MATCH FOUND FOR STORAGE PARM  */
*                      DUMPBS  = TRUE; /* COMMAND SPECIFIES BS DUMP  */
         OI    DUMPBS,B'00000100'                               02S0198
*                      PLENGTH = 8; /* NOTE LENGTH OF PARM           */
         LA    PLENGTH,8                                        02S0199
*                                /* SEE IF STORAGE LIMITS PROVIDED   */
*                      IF APCQCMND(CMNDPSTR+8:CMNDPSTR+9)='=(' THEN
         LR    @04,APCQPTR                                      02S0200
         ALR   @04,CMNDPSTR                                     02S0200
         CLC   APCQCMND+7(2,@04),@CC03234                       02S0200
         BNE   @RF00200                                         02S0200
*                        DO;        /* PICKUP & EXAMINE LIMIT ADDR'S */
*                          PLENGTH = 10; /* INCREASE PARM LENGTH     */
         LA    PLENGTH,10                                       02S0202
*  RFY (R3F,R4F) RSTD;              /* USE REGS FOR FORMING BIN. ADDR*/
*  DUMPBSAA = TRUE;                 /* B.S. DUMP ADDRESS BOUNDS GIVEN*/
         OI    DUMPBSAA,B'00000010'                             03S0204
*  DO DLMINDEX=1 TO 2;              /* SCAN FOR 2 SUCCESSIVE DELMTRS */
         LA    @15,1                                            03S0205
         STH   @15,DLMINDEX                                     03S0205
@DL00205 DS    0H                                               03S0206
*    DIGITCNT = ZERO;               /* INITIALIZE COUNT OF DIGITS    */
         SLR   @15,@15                                          03S0206
         STH   @15,DIGITCNT                                     03S0206
*    DLMFOUND = FALSE;              /* INITILIZE MATCH INDICATOR     */
         NI    DLMFOUND,B'11110111'                             03S0207
*    R4F = ZERO;                    /* REG IN WHICH ADDR WILL FORM   */
         SLR   R4F,R4F                                          03S0208
*    R3F = ZERO;                    /* REG FOR INTERMEDIATE DIGIT USE*/
         SLR   R3F,R3F                                          03S0209
*    DO DIGTINDX=1 TO 6 BY 1 WHILE(CMNDERR=FALSE & DLMFOUND=FALSE);
         LA    @15,1                                            03S0210
         STH   @15,DIGTINDX                                     03S0210
@DL00210 TM    CMNDERR,B'00011000'                              03S0210
         BNZ   @DC00210                                         03S0210
*          /* SCAN UP TO 6 DIGITS WHILE LOOKING FOR , OR ) DELIMITER */
*      IF APCQCMND(CMNDPSTR+PLENGTH+DIGTINDX-1:CMNDPSTR+PLENGTH+
*          DIGTINDX-1)=DELMTR(DLMINDEX) THEN                    03S0211
         LR    @14,CMNDPSTR                                     03S0211
         ALR   @14,PLENGTH                                      03S0211
         ALR   @14,@15                                          03S0211
         LH    @01,DLMINDEX                                     03S0211
         ALR   @14,APCQPTR                                      03S0211
         LA    @15,DELMTR-1(@01)                                03S0211
         CLC   APCQCMND-2(1,@14),0(@15)                         03S0211
         BNE   @RF00211                                         03S0211
*        DO;                        /* DELIMITER HAS BEEN FOUND      */
*          DLMFOUND = TRUE;         /* SET INDICATOR                 */
         OI    DLMFOUND,B'00001000'                             03S0213
*          IF DIGTINDX=1 THEN       /* IF 1ST CHAR IS DELIMITER, THEN*/
         LH    @15,DIGTINDX                                     03S0214
         C     @15,@CF00079                                     03S0214
         BNE   @RF00214                                         03S0214
*            CMNDERR = TRUE;        /* 1ST ADDR MISSING => ERROR     */
         OI    CMNDERR,B'00010000'                              03S0215
*        END;                                                   03S0216
*      ELSE                         /* DELIMITER NOT FOUND           */
*        DO;                        /* SEE IF CHAR IS VALID HEX DIGIT*/
         B     @RC00211                                         03S0217
@RF00211 DS    0H                                               03S0218
*                                   /* AND IF SO, SAVE HEX. DIGIT    */
*          DIGITCNT = DIGTINDX;     /* DIGTINDX DIGITS NOW FOUND     */
         LH    @15,DIGTINDX                                     03S0218
         STH   @15,DIGITCNT                                     03S0218
*          IF (APCQCMND(CMNDPSTR+PLENGTH+DIGTINDX-1:CMNDPSTR+PLENGTH
*              +DIGTINDX-1)>='F0'X & APCQCMND(CMNDPSTR+PLENGTH  03S0219
*              +DIGTINDX-1:CMNDPSTR+PLENGTH+DIGTINDX-1)<='F9'X) THEN
         LR    @14,CMNDPSTR                                     03S0219
         ALR   @14,PLENGTH                                      03S0219
         ALR   @14,@15                                          03S0219
         ST    @14,@TF00001                                     03S0219
         ALR   @14,APCQPTR                                      03S0219
         CLI   APCQCMND-2(@14),X'F0'                            03S0219
         BL    @RF00219                                         03S0219
         LR    @01,APCQPTR                                      03S0219
         AL    @01,@TF00001                                     03S0219
         CLI   APCQCMND-2(@01),X'F9'                            03S0219
         BH    @RF00219                                         03S0219
*            DO;                    /* DIGIT IS IN RANGE 0 THRU 9    */
*              R3F = APCQCMND(CMNDPSTR+PLENGTH+DIGTINDX-1:CMNDPSTR
*                  +PLENGTH+DIGTINDX-1) & '0F'X;/* STRIP ZONE BITS   */
         LA    R3F,15                                           03S0221
         L     @01,@TF00001                                     03S0221
         SLR   @00,@00                                          03S0221
         IC    @00,APCQCMND-2(@01,APCQPTR)                      03S0221
         NR    R3F,@00                                          03S0221
*              SLL(R4F,4);          /* MAKE ROOM FOR THIS 4BIT DIGIT */
         SLL   R4F,4                                            03S0222
*                                   /* IN CASE OTHERS ALREADY IN R4F */
*              R4F = R4F × R3F;     /* OR IN THAT HEX DIGIT          */
         OR    R4F,R3F                                          03S0223
*            END;                                               03S0224
*          ELSE                     /* DIGIT NOT IN RANGE 0 THRU 9   */
*            IF (APCQCMND(CMNDPSTR+PLENGTH+DIGTINDX-1:CMNDPSTR+PLENGTH
*                +DIGTINDX-1)>='C1'X & APCQCMND(CMNDPSTR+PLENGTH
*                +DIGTINDX-1:CMNDPSTR+PLENGTH+DIGTINDX-1)<='C6'X) THEN
         B     @RC00219                                         03S0225
@RF00219 LR    @15,CMNDPSTR                                     03S0225
         ALR   @15,PLENGTH                                      03S0225
         AH    @15,DIGTINDX                                     03S0225
         ST    @15,@TF00001                                     03S0225
         ALR   @15,APCQPTR                                      03S0225
         CLI   APCQCMND-2(@15),X'C1'                            03S0225
         BL    @RF00225                                         03S0225
         LR    @01,APCQPTR                                      03S0225
         AL    @01,@TF00001                                     03S0225
         CLI   APCQCMND-2(@01),X'C6'                            03S0225
         BH    @RF00225                                         03S0225
*              DO;                  /* DIGIT IS IN RANGE A THRU F    */
*                R3F = (APCQCMND(CMNDPSTR+PLENGTH+DIGTINDX-1:CMNDPSTR
*                    +PLENGTH+DIGTINDX-1) & '0F'X) + 9;/*AND OUT ZONE*/
         LA    R3F,15                                           03S0227
         L     @01,@TF00001                                     03S0227
         SLR   @00,@00                                          03S0227
         IC    @00,APCQCMND-2(@01,APCQPTR)                      03S0227
         NR    R3F,@00                                          03S0227
         AL    R3F,@CF00663                                     03S0227
*                                   /* BITS THEN ADD NINE FOR HEX #  */
*                SLL(R4F,4);        /* MAKE ROOM FOR THIS 4BIT DIGIT */
         SLL   R4F,4                                            03S0228
*                                   /* IN CASE OTHERS ALREADY IN R4F */
*                R4F = R4F × R3F;   /* OR IN THAT HEX DIGIT          */
         OR    R4F,R3F                                          03S0229
*              END;                                             03S0230
*            ELSE                   /* CHARACTER IS NOT A VALID HEX. */
*              DO;                                              03S0231
         B     @RC00225                                         03S0231
@RF00225 DS    0H                                               03S0232
*                CMNDERR = TRUE;    /* INVALID DIGIT => INVALID CMND */
         OI    CMNDERR,B'00010000'                              03S0232
*              END;                                             03S0233
*        END;                                                   03S0234
@RC00225 DS    0H                                               03S0234
@RC00219 DS    0H                                               03S0235
*    END;                                                       03S0235
@RC00211 LA    @15,1                                            03S0235
         AH    @15,DIGTINDX                                     03S0235
         STH   @15,DIGTINDX                                     03S0235
         C     @15,@CF00119                                     03S0235
         BNH   @DL00210                                         03S0235
@DC00210 DS    0H                                               03S0236
*          /* NOW INCREASE COUNT OF CHARACTERS PROCESSED             */
*          /* WITHOUT ERROR, AND IF ALL SIX DIGITS APPEARD THEN      */
*          /* LOOK FOR A DELIMITER BEHIND THEM.                      */
*    IF CMNDERR=FALSE THEN          /* IF STILL IN BUSINESS THEN     */
         TM    CMNDERR,B'00010000'                              03S0236
         BNZ   @RF00236                                         03S0236
*      DO;                          /* ADVANCE COUNT OF CHAR'S SEEN  */
*        PLENGTH = PLENGTH + DIGITCNT;   /* ADD IN NO. OF DIGITS     */
         AH    PLENGTH,DIGITCNT                                 03S0238
*        IF DLMFOUND=TRUE THEN      /* IF DELIMITER ALREADY FOUND    */
         TM    DLMFOUND,B'00001000'                             03S0239
         BNO   @RF00239                                         03S0239
*          PLENGTH = PLENGTH + 1;   /* THEN ADD ONE MORE CHARACTER   */
         AL    PLENGTH,@CF00079                                 03S0240
*        ELSE                       /* OTHERWISE ALL SIX CHARACTERS  */
*                                   /* MUST HAVE BEEN DIGITS, SO LOOK*/
*                                   /* FOR A DELIMITER IN NEXT POSIT.*/
*          IF APCQCMND(CMNDPSTR+PLENGTH:CMNDPSTR+PLENGTH)       03S0241
*              =DELMTR(DLMINDEX) THEN     /* IF IT IS THERE, THEN    */
         B     @RC00239                                         03S0241
@RF00239 LR    @15,CMNDPSTR                                     03S0241
         ALR   @15,PLENGTH                                      03S0241
         LH    @01,DLMINDEX                                     03S0241
         ALR   @15,APCQPTR                                      03S0241
         LA    @14,DELMTR-1(@01)                                03S0241
         CLC   APCQCMND-1(1,@15),0(@14)                         03S0241
         BNE   @RF00241                                         03S0241
*            DO;                                                03S0242
*              PLENGTH = PLENGTH + 1;   /* NOW ADD ONE MORE          */
         AL    PLENGTH,@CF00079                                 03S0243
*              DLMFOUND = TRUE;         /* IS THIS STATEMENT NEEDED? */
         OI    DLMFOUND,B'00001000'                             03S0244
*            END;                                               03S0245
*          ELSE                     /* DELIMITER IS NOT THERE: ERROR */
*            CMNDERR = TRUE;        /* SET INDICATION OF ERROR       */
         B     @RC00241                                         03S0246
@RF00241 OI    CMNDERR,B'00010000'                              03S0246
*      END;                                                     03S0247
*    ELSE;                          /* AN ERROR WAS ALREADY FOUND    */
@RF00236 DS    0H                                               03S0249
*            /* IF STILL NO ERRORS EXIST, THEN SAVE THE ADDRESS      */
*    IF CMNDERR=FALSE THEN                                      03S0249
@RC00236 TM    CMNDERR,B'00010000'                              03S0249
         BNZ   @RF00249                                         03S0249
*      DO;                                                      03S0250
*        TEMPADDR(DLMINDEX) = R4F;  /* SAVE VALID ADDRESS IN BINARY  */
         LH    @15,DLMINDEX                                     03S0251
         SLA   @15,2                                            03S0251
         ST    R4F,TEMPADDR-4(@15)                              03S0251
*      END;                                                     03S0252
*    ELSE;                          /* ERROR ALREADY FOUND           */
@RF00249 DS    0H                                               03S0254
*  END;                             /* END OF PROCESSING FOR 2 ADDR'S*/
         LA    @15,1                                            03S0254
         AH    @15,DLMINDEX                                     03S0254
         STH   @15,DLMINDEX                                     03S0254
         C     @15,@CF00073                                     03S0254
         BNH   @DL00205                                         03S0254
*  RFY (R3F,R4F) UNRSTD;            /* GIVE BACK REGS 3 & 4          */
*        /* IF VALID ADDRESSES OBTAINED, ENSURE CORRECT ORDERING     */
*  IF CMNDERR=FALSE THEN                                        03S0256
         TM    CMNDERR,B'00010000'                              03S0256
         BNZ   @RF00256                                         03S0256
*    IF TEMPADDR(1)<TEMPADDR(2) THEN                            03S0257
         L     @04,TEMPADDR                                     03S0257
         L     @03,TEMPADDR+4                                   03S0257
         CR    @04,@03                                          03S0257
         BNL   @RF00257                                         03S0257
*      DO;                          /* ADDRESSES ALREADY IN ORDER    */
*        BSLLIMIT = TEMPADDR(1);    /* LOWER BULK STG. ADDRESS       */
         ST    @04,BSLLIMIT                                     03S0259
*        BSHLIMIT = TEMPADDR(2);    /* HIGHER BULK STG. ADDRESS      */
         ST    @03,BSHLIMIT                                     03S0260
*      END;                                                     03S0261
*    ELSE                                                       03S0262
*      DO;                          /* ADDRESSES REVERSED            */
         B     @RC00257                                         03S0262
@RF00257 DS    0H                                               03S0263
*        BSLLIMIT = TEMPADDR(2);    /* LOWER BULK STG. ADDRESS       */
         L     @04,TEMPADDR+4                                   03S0263
         ST    @04,BSLLIMIT                                     03S0263
*        BSHLIMIT = TEMPADDR(1);    /* HIGHER BULK STG. ADDRESS      */
         L     @04,TEMPADDR                                     03S0264
         ST    @04,BSHLIMIT                                     03S0264
*      END;                                                     03S0265
*  ELSE;                            /* NO NEED TO FOOL WITH ADDR'S   */
@RF00256 DS    0H                                               03S0267
*                        END;                                   02S0267
*                      ELSE;        /* NO ADDRESS LIMITS PROVIDED    */
@RF00200 DS    0H                                               02S0269
*                    END;                                       02S0269
*                  ELSE             /* NO MATCH FOUND AGAINST PARMS  */
*                    DO;            /* COMMAND IS IN ERROR           */
         B     @RC00196                                         02S0270
@RF00196 DS    0H                                               02S0271
*                      CMNDERR = TRUE;  /* SET ERROR INDICATOR       */
         OI    CMNDERR,B'00010000'                              02S0271
*                    END;                                       02S0272
*              IF CMNDERR=FALSE THEN /* IF STILL IN BUSUNESS THEN    */
@RC00196 DS    0H                                               02S0273
@RC00191 DS    0H                                               02S0273
@RC00186 TM    CMNDERR,B'00010000'                              02S0273
         BNZ   @RF00273                                         02S0273
*                DO;                /* RESET LOOP CONTROL VARIABLES  */
*                  CMNDPSTR = CMNDPSTR + PLENGTH; /* ADVANCE POINTER */
         ALR   CMNDPSTR,PLENGTH                                 02S0275
*                  PLENLEFT = PLENLEFT - PLENGTH; /* THAT MANY DONE  */
         LH    @04,PLENLEFT                                     02S0276
         SLR   @04,PLENGTH                                      02S0276
         STH   @04,PLENLEFT                                     02S0276
*                  PLENGTH = ZERO;  /* RESET COUNTER OF LEN OF PARM  */
         SLR   PLENGTH,PLENGTH                                  02S0277
*                END;                                           02S0278
*              ELSE;                /* OTHERWISE, ITS ALL OVER ANYWAY*/
@RF00273 DS    0H                                               02S0280
*            END;                   /* END OF PARAMETER SCANNING     */
@DE00185 LH    @04,PLENLEFT                                     02S0280
         LTR   @04,@04                                          02S0280
         BNP   @DC00185                                         02S0280
         TM    CMNDERR,B'00010000'                              02S0280
         BZ    @DL00185                                         02S0280
@DC00185 DS    0H                                               02S0281
*          END;                     /* END OF EXAMINATION OF COMMAND */
*        IF CMNDERR=FALSE THEN      /* IF COMMAND HAS SURVIVED SCAN  */
@RT00180 TM    CMNDERR,B'00010000'                              02S0282
         BNZ   @RF00282                                         02S0282
*          DO;                      /* SET CERTAIN INDICATORS        */
*            IF DUMPCP=FALSE & DUMPBS=FALSE THEN/*IF NEITHR SPECIFIED*/
         TM    DUMPCP,B'00000101'                               02S0284
         BNZ   @RF00284                                         02S0284
*              DO;                  /* THEN BOTH WILL BE DUMPED      */
*                DUMPCP = TRUE;     /* SPECIFY DUMP OF CP STORAGE    */
*                DUMPBS  = TRUE;    /* SPECIFY DUMP OF BULK STORAGE  */
         OI    DUMPCP,B'00000101'                               02S0287
*              END;                                             02S0288
*            ELSE;                                              02S0289
@RF00284 DS    0H                                               02S0290
*            IF APCQIINF=APCQFDMP THEN/*IF FORCE DUMP ASKED INTERNALY*/
         CLC   APCQIINF(4,APCQPTR),@CF00195                     02S0290
         BNE   @RF00290                                         02S0290
*              DO;                                              02S0291
*                DUMPFORC = TRUE;   /* THEN SET FORCE DUMP INDICATOR */
         OI    DUMPFORC,B'10000000'                             02S0292
*              END;                                             02S0293
*            ELSE;                                              02S0294
@RF00290 DS    0H                                               02S0295
*          END;                     /* END OF INDICATOR SETTING      */
*        ELSE;                                                  02S0296
@RF00282 DS    0H                                               02S0297
*      END;                         /* END PROCESS FOR >=3 PARM CHR  */
*         END;                      /* END OF COMMAND PROCESSING.    */
@RC00174 DS    0H                                               02S0299
*  APUBPTR = APCTAPUB;       /* POINT TO FIRST MASTER APUB   @ZA25361*/
@RC00168 L     APUBPTR,APCTAPUB(,APCTPTR)                       01S0299
*  UCBPTR = APUBUCB;         /* POINT TO CORRESPONDING UCB   @ZA25361*/
         L     UCBPTR,APUBUCB(,APUBPTR)                         01S0300
*    DO WHILE (APUBPTR^=ZERO &   /* SCAN MASTER APUB UCB'S   @ZA25361*/
*      APCQCMND(APCQPSTR:APCQPSTR+1)^=UCBNAME(1:2));       /*@ZA25361*/
         B     @DE00301                                         01S0301
@DL00301 DS    0H                                               01S0302
*    APUBPTR = APUBMSTR;    /* ADVANCE TO NEXT MASTER APUB   @ZA25361*/
         L     APUBPTR,APUBMSTR(,APUBPTR)                       01S0302
*    UCBPTR = APUBUCB;     /* ADVANCE TO CORRESPONDING UCB   @ZA25361*/
         L     UCBPTR,APUBUCB(,APUBPTR)                         01S0303
*  END;                                                    /*@ZA25361*/
@DE00301 LTR   APUBPTR,APUBPTR                                  01S0304
         BZ    @DC00301                                         01S0304
         LH    @11,APCQPSTR(,APCQPTR)                           01S0304
         ALR   @11,APCQPTR                                      01S0304
         CLC   APCQCMND-1(2,@11),UCBNAME(UCBPTR)                01S0304
         BNE   @DL00301                                         01S0304
@DC00301 DS    0H                                               01S0305
*  OFFSET#1 = 14;                   /* SYBSYS POSITION FOR MESSAGES. */
         MVC   OFFSET#1(4),@CF02376                             01S0305
*  APES(1:APESLN-LENGTH(APESSDWA)) = ''X; /* CLEAR OUT ALL OF APES   */
         XC    APES(136),APES                                   02S0306
*  APESID = APESIDC;                /* INDICATE STAE EXIT CASE       */
         MVC   APESID(4),@CC03028                               02S0307
*  APESADDR = ADDR(APES);           /* SET ADDR OF APES IN POSITION  */
         LA    @11,APES                                         02S0308
         ST    @11,APESADDR                                     02S0308
*  APESAPMV = ADDR(STAEMSGS);       /* LOCATE THE ARRAY OF MESSAGES  */
         LA    @11,STAEMSGS                                     02S0309
         ST    @11,APESAPMV                                     02S0309
*  APESFLG0 = '60'X;                /* SET BITS                      */
         MVI   APESFLG0,X'60'                                   02S0310
*  APESCODE = CERRN99;              /* MESSAGE CODE                  */
         MVI   APESCODE,X'01'                                   02S0311
*  APESMXCD = CERRN99;              /* MSG ARRAY ENTRY TO BE USED    */
         MVI   APESMXCD,X'01'                                   02S0312
*  APESREGP = ADDR(APESREGZ);       /* SET IT UP                     */
         LA    @11,APESREGZ                                     02S0313
         ST    @11,APESREGP                                     02S0313
*  APESMOD = 'IGTD80  ';            /* ROUTINE TO BE SERVICED        */
         MVC   APESMOD(8),@CC03246                              02S0314
*  APESPROC = 'IGTD80  ';           /* PROCEDURE NAME OF SAME        */
         MVC   APESPROC(8),@CC03246                             02S0315
*  RFY (R14P,R15P) RSTD;            /* SECURE PARAMETER REGISTERS    */
*  R14P = ADDR(RETURN42);           /* POINT TO ADDR OF NORMAL RTRN  */
         LA    R14P,RETURN42                                    02S0317
*  R15P = ADDR(STAERTRY);           /* POINT TO ADDR OF ENTRYPOINT   */
         LA    R15P,STAERTRY                                    02S0318
*  STM(R0P,R15P,APESREGZ);          /* SAVE EVERY ONE OF THEM        */
         STM   R0P,R15P,APESREGZ                                02S0319
*  RFY (R14P,R15P) UNRSTD;          /* GIVE BACK THE ALTERED REGS    */
*  RFY (R3P,R4P) RSTD;              /* SECURE REGS FOR STAE MACRO    */
*  R3P = APCTZUKA;                  /* EXIT ROUTINE IS IGTUKA        */
         L     R3P,APCTZUKA(,APCTPTR)                           02S0322
*  R4P = ADDR(APESADDR);            /* PASS ON ADDR OF APES          */
         LA    R4P,APESADDR                                     02S0323
*  GENERATE  CODE                   /* ESTABLISH ERROR RECOVERY MODE */
*      REFS(D80STAEE,D80STAES,R3P,R4P)                          02S0324
*      SETS(D80STAEA)                                           02S0324
*      FLOWS(RETURN42);             /*                          02S0324
     MVC    D80STAEA(D80STAEE),D80STAES
     IGTYSTAE   (3),CT,PARAM=(4),PURGE=NONE,MF=(E,D80STAEA)
*  RFY (R3P,R4P) UNRSTD;            /* GIVE BACK THE TWO TURKEYS     */
*  GEN(SPACE 1)                                                 02S0326
*     NOREFS NOSETS SEQFLOW FLOWS(STAERTRY); /* SHOW ESTAE FLOW      */
         SPACE 1
*  CALL APCVZDEQ;                   /* ENQUEUE ON THE APUB CHAIN     */
         L     @15,APCTZDEQ(,APCTPTR)                           01S0327
         BALR  @14,@15                                          01S0327
*  ENQDAPUB = TRUE;                 /* NOW ENQUEUED ON APUB CHAIN    */
         OI    ENQDAPUB,B'00000010'                             01S0328
*  IF APCTHALT=TRUE THEN                                        01S0329
         TM    APCTHALT(APCTPTR),B'00010000'                    01S0329
         BNO   @RF00329                                         01S0329
*    DO;                            /* NOTIFY OPER. VPSS IS HALTING  */
*      CALL APCVZDWT(IGT210I,OFFSET#1,APCTSSID,LENGTH(APCTSSID));
         LA    @11,@CF02266                                     01S0331
         ST    @11,@AL00001                                     01S0331
         LA    @11,OFFSET#1                                     01S0331
         ST    @11,@AL00001+4                                   01S0331
         LA    @11,APCTSSID(,APCTPTR)                           01S0331
         ST    @11,@AL00001+8                                   01S0331
         LA    @11,@CF00106                                     01S0331
         ST    @11,@AL00001+12                                  01S0331
         MVI   @AL00001+12,X'80'                                01S0331
         L     @15,APCTZDWT(,APCTPTR)                           01S0331
         LA    @01,@AL00001                                     01S0331
         BALR  @14,@15                                          01S0331
*                                   /* WTO THE ERROR MESSAGE         */
*    END;                                                       01S0332
*  ELSE                             /* NOT HALTING                   */
*    DO;                            /* CODE FOR VPSS NOT HALTING     */
         B     @RC00329                                         01S0333
@RF00329 DS    0H                                               01S0334
*                 /* EXAMINE DUMP COMMAND FOR CORRECT SYNTAX & LOGIC */
*                      /* IF COMMAND IS IN ERROR, NOTIFY OPERATOR    */
*      IF CMNDERR=TRUE THEN                                     01S0334
         TM    CMNDERR,B'00010000'                              01S0334
         BNO   @RF00334                                         01S0334
*        DO;                                                    01S0335
*          CMNDCODE = '20';         /* SET ERROR REASON CODE         */
         MVC   CMNDCODE(2),@CC03255                             01S0336
*          OFFSET#2 = 41;           /* POINT TO COMMAND CODE POSITION*/
         MVC   OFFSET#2(4),@CF02259                             01S0337
*          OFFSET#3 = 66;           /* POINT TO TEXT OF COMMAND POSIT*/
         MVC   OFFSET#3(4),@CF02306                             01S0338
*          CALL APCVZDWT(IGT213I,OFFSET#1,APCTSSID,LENGTH(APCTSSID),
*              OFFSET#2,CMNDCODE,LENGTH(CMNDCODE),              01S0339
*              OFFSET#3,APCQCMND,APCQTXLN);      /* WTO MESSAGE      */
         LA    @11,@CF02289                                     01S0339
         ST    @11,@AL00001                                     01S0339
         LA    @11,OFFSET#1                                     01S0339
         ST    @11,@AL00001+4                                   01S0339
         LA    @11,APCTSSID(,APCTPTR)                           01S0339
         ST    @11,@AL00001+8                                   01S0339
         LA    @11,@CF00106                                     01S0339
         ST    @11,@AL00001+12                                  01S0339
         LA    @11,OFFSET#2                                     01S0339
         ST    @11,@AL00001+16                                  01S0339
         LA    @11,CMNDCODE                                     01S0339
         ST    @11,@AL00001+20                                  01S0339
         LA    @11,@CF00073                                     01S0339
         ST    @11,@AL00001+24                                  01S0339
         LA    @11,OFFSET#3                                     01S0339
         ST    @11,@AL00001+28                                  01S0339
         LA    @11,APCQCMND(,APCQPTR)                           01S0339
         ST    @11,@AL00001+32                                  01S0339
         LA    @11,APCQTXLN(,APCQPTR)                           01S0339
         ST    @11,@AL00001+36                                  01S0339
         MVI   @AL00001+36,X'80'                                01S0339
         L     @15,APCTZDWT(,APCTPTR)                           01S0339
         LA    @01,@AL00001                                     01S0339
         BALR  @14,@15                                          01S0339
*        END;                                                   01S0340
*      ELSE                         /* NO COMMAND ERROR DETECTED     */
*        DO;                        /* CODE FOR CORRECT DUMP COMMAND */
         B     @RC00334                                         01S0341
@RF00334 DS    0H                                               01S0342
*                      /* IF DUMP IS OPERATOR-FORCE, CONFIRM 'FORCE' */
*          IF DUMPFORC=TRUE & APCQINT=FALSE THEN /* IF OPERATORFORCE */
         TM    DUMPFORC,B'10000000'                             01S0342
         BNO   @RF00342                                         01S0342
         TM    APCQINT(APCQPTR),B'10000000'                     01S0342
         BNZ   @RF00342                                         01S0342
*            DO;                                                01S0343
*  IDIOTBIT = TRUE;                 /* LOOP UNTIL A LEGAL REPLY COMES*/
         OI    IDIOTBIT,B'00000001'                             02S0344
*  DO WHILE(IDIOTBIT=TRUE);         /* SEEK A REPLY OF YES OR U OR NO*/
         B     @DE00345                                         02S0345
@DL00345 DS    0H                                               02S0346
*    WTORECB = '00000000'X;         /* CLEAR OUT THE ECB FOR THE WTOR*/
         MVC   WTORECB(4),@CB03256                              02S0346
*    GENERATE  CODE                                             02S0347
*        REFS(WTOR290A,WTOR290S,REPLY290,WTORECB,APCTSSID,APCTPTR)
*        SETS(WTOR290A,REPLY290,WTORECB); /*                    02S0347
*                                                               02S0347
*                                                               02S0347
       MVC   WTOR290A(WTOR290E),WTOR290S
       MVC   WTOR290A+20(4),APCTSSID(APCTPTR)
       WTOR  ,REPLY290,L'REPLY290,WTORECB,MF=(E,WTOR290A)
*      DO; /*IGTYWAIT ECB(WTORECB)LONG(YES)*/                   02S0348
*      RFY (GPR00F,GPR01P) RSTD; /* REGISTERS USED */           02S0349
*      DCL BIT0013X BIT(8) BASED(ADDR(WTORECB)); /* OVERLAY BYTE-0 OF E
*B */                                                           02S0350
*      IF BIT0013X(2) = '0'B THEN /* IF ECB NOT ALREADY POSTED */
         LA    @11,WTORECB                                      02S0351
         TM    BIT0013X(@11),B'01000000'                        02S0351
         BNZ   @RF00351                                         02S0351
*      DO; /* THEN ISSUE WAIT SVC */                            02S0352
*      GPR01P = ADDR(WTORECB); /* POINT TO ECB */               02S0353
         LR    GPR01P,@11                                       02S0353
*      GPR00F = 1×'80000000'X; /* WAIT COUNT */                 02S0354
         L     GPR00F,@CF03488                                  02S0354
*      SVC(1); /* WAIT FOR ECB POSTING */                       02S0355
         SVC   1                                                02S0355
*      END; /* ECB WAIT COMPLETE */                             02S0356
*      RFY (GPR00F,GPR01P) UNRSTD; /* FINISHED WITH REGISTERS */
@RF00351 DS    0H                                               02S0358
*      END; /* ECB WAIT COMPLETE *//* WAIT FOR WTOR TO COMPLETE */
*    IF REPLY290='YES' × REPLY290(1:1)='U' THEN /* IF GOOD REPLY     */
         CLC   REPLY290(3),@CC03262                             02S0359
         BE    @RT00359                                         02S0359
         CLI   REPLY290,C'U'                                    02S0359
         BNE   @RF00359                                         02S0359
@RT00359 DS    0H                                               02S0360
*      DO;                                                      02S0360
*        IDIOTBIT = FALSE;          /* DUMPFORC SET - OPR NOT IDIOT  */
         NI    IDIOTBIT,B'11111110'                             02S0361
*      END;                                                     02S0362
*    ELSE                                                       02S0363
*      IF REPLY290(1:2)='NO' THEN   /* IF OPR WISHES TO RESCIND FORCE*/
         B     @RC00359                                         02S0363
@RF00359 CLC   REPLY290(2),@CC03264                             02S0363
         BNE   @RF00363                                         02S0363
*        DO;                                                    02S0364
*          DUMPFORC = FALSE;        /* RESET FORCE DUMP INDICATOR    */
*          IDIOTBIT = FALSE;        /* OPERATOR NOT AN IDIOT HERE    */
         NI    DUMPFORC,B'01111110'                             02S0366
*        END;                                                   02S0367
*      ELSE                         /* OTHERWISE, AN INVALID REPLY   */
*        DO;                        /* SO HE GETS ANOTHER TRY        */
         B     @RC00363                                         02S0368
@RF00363 DS    0H                                               02S0369
*          CALL APCVZDWT(IGT289I,OFFSET#1,APCTSSID,LENGTH(APCTSSID));
         LA    @11,@CF03084                                     02S0369
         ST    @11,@AL00001                                     02S0369
         LA    @11,OFFSET#1                                     02S0369
         ST    @11,@AL00001+4                                   02S0369
         LA    @11,APCTSSID(,APCTPTR)                           02S0369
         ST    @11,@AL00001+8                                   02S0369
         LA    @11,@CF00106                                     02S0369
         ST    @11,@AL00001+12                                  02S0369
         MVI   @AL00001+12,X'80'                                02S0369
         L     @15,APCTZDWT(,APCTPTR)                           02S0369
         LA    @01,@AL00001                                     02S0369
         BALR  @14,@15                                          02S0369
*        END;                                                   02S0370
*  END;                             /* END DOWHILE IDIOTBIT = TRUE   */
@RC00363 DS    0H                                               02S0371
@RC00359 DS    0H                                               02S0371
@DE00345 TM    IDIOTBIT,B'00000001'                             02S0371
         BO    @DL00345                                         02S0371
*            END;                                               01S0372
*          ELSE;                    /* NOT OPERATOR-FORCE            */
@RF00342 DS    0H                                               01S0374
*                   /* GIVE DUMP COMMAND ACKNOWLEDGEMENT TO OPERATOR */
*               /* PREPARE DUMP ACKNOWLEDGEMENT MESSAGE TO OPERATOR  */
*  IF APCQINT=TRUE THEN             /* IF COMMAND INTERNALLY GENERATD*/
         TM    APCQINT(APCQPTR),B'10000000'                     02S0374
         BNO   @RF00374                                         02S0374
*    DO;                                                        02S0375
*      AMSGPAR1 = 'INTERNALLY';     /* SAY SO                        */
         MVC   AMSGPAR1(10),@CC03265                            02S0376
*    END;                                                       02S0377
*  ELSE                             /* OTHERWISE, OPERATOR GENERATED */
*    DO;                                                        02S0378
         B     @RC00374                                         02S0378
@RF00374 DS    0H                                               02S0379
*      AMSGPAR1 = ' OPERATOR ';     /* SO SAY SO                     */
         MVC   AMSGPAR1(10),@CC03267                            02S0379
*    END;                                                       02S0380
*  IF DUMPFORC=TRUE THEN            /* IF STANDALONE DUMP REQUESTED  */
@RC00374 TM    DUMPFORC,B'10000000'                             02S0381
         BNO   @RF00381                                         02S0381
*    DO;                                                        02S0382
*      AMSGPAR2 = ' FORCE ';        /* SAY SO                        */
         MVC   AMSGPAR2(7),@CC03269                             02S0383
*    END;                                                       02S0384
*  ELSE                             /* OTHERWISE, DYNAMIC DUMP       */
*    DO;                                                        02S0385
         B     @RC00381                                         02S0385
@RF00381 DS    0H                                               02S0386
*      AMSGPAR2 = 'DYNAMIC';        /* SO SAY SO                     */
         MVC   AMSGPAR2(7),@CC03270                             02S0386
*    END;                                                       02S0387
*  OFFSET#2 = 23;                   /* POINT TO SECOND MSG PARAMETER */
@RC00381 MVC   OFFSET#2(4),@CF02354                             02S0388
*  OFFSET#3 = 44;                   /* POINT TO THIRD MGG PARAMETER  */
         MVC   OFFSET#3(4),@CF02266                             02S0389
*  OFFSET#4 = 84;                   /* POINT TO FOURTH MSG PARAMETER */
         MVC   OFFSET#4(4),@CF00193                             02S0390
*  CALL APCVZDWT(IGT291I,OFFSET#1,APCTSSID,LENGTH(APCTSSID),    02S0391
*      OFFSET#2,AMSGPAR1,LENGTH(AMSGPAR1),OFFSET#3,AMSGPAR2,    02S0391
*      LENGTH(AMSGPAR2),OFFSET#4,UNITADDR,LENGTH(UNITADDR));/*WTO MSG*/
         LA    @11,@CF03076                                     02S0391
         ST    @11,@AL00001                                     02S0391
         LA    @11,OFFSET#1                                     02S0391
         ST    @11,@AL00001+4                                   02S0391
         LA    @11,APCTSSID(,APCTPTR)                           02S0391
         ST    @11,@AL00001+8                                   02S0391
         LA    @11,@CF00106                                     02S0391
         ST    @11,@AL00001+12                                  02S0391
         LA    @11,OFFSET#2                                     02S0391
         ST    @11,@AL00001+16                                  02S0391
         LA    @11,AMSGPAR1                                     02S0391
         ST    @11,@AL00001+20                                  02S0391
         LA    @11,@CF00130                                     02S0391
         ST    @11,@AL00001+24                                  02S0391
         LA    @11,OFFSET#3                                     02S0391
         ST    @11,@AL00001+28                                  02S0391
         LA    @11,AMSGPAR2                                     02S0391
         ST    @11,@AL00001+32                                  02S0391
         LA    @11,@CF00110                                     02S0391
         ST    @11,@AL00001+36                                  02S0391
         LA    @11,OFFSET#4                                     02S0391
         ST    @11,@AL00001+40                                  02S0391
         LA    @11,UNITADDR                                     02S0391
         ST    @11,@AL00001+44                                  02S0391
         LA    @11,@CF00117                                     02S0391
         ST    @11,@AL00001+48                                  02S0391
         MVI   @AL00001+48,X'80'                                02S0391
         L     @15,APCTZDWT(,APCTPTR)                           02S0391
         LA    @01,@AL00001                                     02S0391
         BALR  @14,@15                                          02S0391
*                      /* NOTIFY OPERATOR, IN EVENT 3838 UNLOADED    */
*          IF APUBPTR=ZERO THEN     /* NEVER FOUND A UNIT NO. MATCH  */
         LTR   APUBPTR,APUBPTR                                  01S0392
         BNZ   @RF00392                                         01S0392
*            DO;                    /* NOTIFY OPERATOR OF INVALID NO.*/
*              OFFSET#2 = 41;       /* POINT TO COMMAND CODE POSITION*/
         MVC   OFFSET#2(4),@CF02259                             01S0394
*              OFFSET#3 = 66;       /* POINT TO TEXT OF COMMAND POSIT*/
         MVC   OFFSET#3(4),@CF02306                             01S0395
*              CMNDCODE = '04';     /* SAYS DEVICE DOES NOT EXIST    */
         MVC   CMNDCODE(2),@CC03271                             01S0396
*              CALL APCVZDWT(IGT213I,OFFSET#1,APCTSSID,         01S0397
*                  LENGTH(APCTSSID),OFFSET#2,CMNDCODE,LENGTH(CMNDCODE),
*                  OFFSET#3,APCQCMND,APCQTXLN);       /* WTO MESSAGE */
         LA    @11,@CF02289                                     01S0397
         ST    @11,@AL00001                                     01S0397
         LA    @11,OFFSET#1                                     01S0397
         ST    @11,@AL00001+4                                   01S0397
         LA    @11,APCTSSID(,APCTPTR)                           01S0397
         ST    @11,@AL00001+8                                   01S0397
         LA    @11,@CF00106                                     01S0397
         ST    @11,@AL00001+12                                  01S0397
         LA    @11,OFFSET#2                                     01S0397
         ST    @11,@AL00001+16                                  01S0397
         LA    @11,CMNDCODE                                     01S0397
         ST    @11,@AL00001+20                                  01S0397
         LA    @11,@CF00073                                     01S0397
         ST    @11,@AL00001+24                                  01S0397
         LA    @11,OFFSET#3                                     01S0397
         ST    @11,@AL00001+28                                  01S0397
         LA    @11,APCQCMND(,APCQPTR)                           01S0397
         ST    @11,@AL00001+32                                  01S0397
         LA    @11,APCQTXLN(,APCQPTR)                           01S0397
         ST    @11,@AL00001+36                                  01S0397
         MVI   @AL00001+36,X'80'                                01S0397
         L     @15,APCTZDWT(,APCTPTR)                           01S0397
         LA    @01,@AL00001                                     01S0397
         BALR  @14,@15                                          01S0397
*            END;                                               01S0398
*          ELSE                                                 01S0399
*            IF APUBIDWN =  TRUE     /* 3838 IS IN FACT UNLOADED     */
*             × APUBRIPL = TRUE THEN /* A REIPL IS ABOUT TO HAPPEN.  */
         B     @RC00392                                         01S0399
@RF00392 TM    APUBIDWN(APUBPTR),B'10000000'                    01S0399
         BO    @RT00399                                         01S0399
         TM    APUBRIPL(APUBPTR),B'10000000'                    01S0399
         BNO   @RF00399                                         01S0399
@RT00399 DS    0H                                               01S0400
*              DO;                  /* NO DUMP CAN BE PROVIDED       */
*                OFFSET#2 = 69;     /* POINT TO COMMAND CODE POSITION*/
         MVC   OFFSET#2(4),@CF02312                             01S0401
*                CMNDCODE = '04';   /* DENOTES 3838 WAS UNLOADED     */
         MVC   CMNDCODE(2),@CC03271                             01S0402
*                CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,       01S0403
*                    LENGTH(APCTSSID),OFFSET#2,CMNDCODE,        01S0403
*                    LENGTH(CMNDCODE)); /* WTO THE ERROR MESSAGE     */
         LA    @11,@CF00673                                     01S0403
         ST    @11,@AL00001                                     01S0403
         LA    @11,OFFSET#1                                     01S0403
         ST    @11,@AL00001+4                                   01S0403
         LA    @11,APCTSSID(,APCTPTR)                           01S0403
         ST    @11,@AL00001+8                                   01S0403
         LA    @11,@CF00106                                     01S0403
         ST    @11,@AL00001+12                                  01S0403
         LA    @11,OFFSET#2                                     01S0403
         ST    @11,@AL00001+16                                  01S0403
         LA    @11,CMNDCODE                                     01S0403
         ST    @11,@AL00001+20                                  01S0403
         LA    @11,@CF00073                                     01S0403
         ST    @11,@AL00001+24                                  01S0403
         MVI   @AL00001+24,X'80'                                01S0403
         L     @15,APCTZDWT(,APCTPTR)                           01S0403
         LA    @01,@AL00001                                     01S0403
         BALR  @14,@15                                          01S0403
*              END;                                             01S0404
*            ELSE                   /* 3838 IS NOT UNLOADED          */
*             DO;                   /* CODE FOR 3838 NOT UNLOADED    */
         B     @RC00399                                         01S0405
@RF00399 DS    0H                                               01S0406
*                       /* PREPARE TO OPEN DATASETS & OBTAIN DUMP    */
*              OFFSET#2 = 69;       /* IN CASE OF ERROR, CMNDCODE LOC*/
         MVC   OFFSET#2(4),@CF02312                             01S0406
*              IF DUMPFORC=TRUE THEN                     /* IF DUMP  */
         TM    DUMPFORC,B'10000000'                             01S0407
         BNO   @RF00407                                         01S0407
*                DO;                /* IS FORCE, THEN LOAD STANDALONE*/
*                                   /* PROGRAM & SET FOR LATER REIPL */
*                  APUBRIPL = TRUE; /* RE-IPL REQUIRED               */
         L     @11,APUBRIPL(,APUBPTR)                           02S0409
@GL00009 LR    @04,@11                                          02S0409
         O     @04,@CF03524                                     02S0409
         CS    @11,@04,APUBRIPL(APUBPTR)                        02S0409
         BNE   @GL00009                                         02S0409
*                  APUBIIPL = TRUE; /* RE-IPL PENDING                */
         L     @11,APUBIIPL-1(,APUBPTR)                         02S0410
@GL00010 LR    @04,@11                                          02S0410
         O     @04,@CF03527                                     02S0410
         CS    @11,@04,APUBIIPL-1(APUBPTR)                      02S0410
         BNE   @GL00010                                         02S0410
*                  APUBIRIP = TRUE; /* BULK STORE TO BE INVALIDATED  */
         L     @11,APUBIRIP-3(,APUBPTR)                         02S0411
@GL00011 LR    @04,@11                                          02S0411
         O     @04,@CF03530                                     02S0411
         CS    @11,@04,APUBIRIP-3(APUBPTR)                      02S0411
         BNE   @GL00011                                         02S0411
*                  REIPL = TRUE;    /* SET NON-APUB REIPL INDICATOR  */
         OI    REIPL,B'00100000'                                02S0412
*                  SADPGMNM(1:4) = 'DUMP'; /* NAME OF STANDALONE PGM */
         MVC   SADPGMNM(4),@CC03272                             02S0413
*                  SADPGMNM(5:6) = UNITADDR(1:2); /* DUMP PROGRAM    */
         MVC   SADPGMNM+4(2),UNITADDR                           02S0414
*                  SADPGMNM(7:8) = APUBIPL; /* TO BE LOADED          */
         MVC   SADPGMNM+6(2),APUBIPL(APUBPTR)                   02S0415
*                  RFY R15F RSTD;   /* SECURE RETURN CODE REGISTER   */
*                  R15F = ZERO;     /* INITIALIZE TO ZERO            */
         SLR   R15F,R15F                                        02S0417
*                  CALL APCVZDIO(SADPGMNM);/* CAUSE PGM TO BE LOADED */
         LA    @14,SADPGMNM                                     02S0418
         ST    @14,@AL00001                                     02S0418
         MVI   @AL00001,X'80'                                   02S0418
         L     @15,APCTZDIO(,APCTPTR)                           02S0418
         LA    @01,@AL00001                                     02S0418
         BALR  @14,@15                                          02S0418
*                  IF R15F^=ZERO THEN /* IF AN ERROR OCCURRED THEN   */
         LTR   R15F,R15F                                        02S0419
         BZ    @RF00419                                         02S0419
*                    DO;              /* NOTIFY OPERATOR OF ERROR    */
*                  RFY R15F UNRSTD; /* GIVE BACK RETURN CODE REG     */
*                      OFFSET#2 = 69; /* POINT TO CMND CODE POSITION */
         MVC   OFFSET#2(4),@CF02312                             02S0422
*                      CMNDCODE = '08'; /* REASON CODE FOR ERROR     */
         MVC   CMNDCODE(2),@CC03274                             02S0423
*                      CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID, 02S0424
*                          LENGTH(APCTSSID),OFFSET#2,CMNDCODE,  02S0424
*                          LENGTH(CMNDCODE));  /* WTO THE MESSAGE    */
         LA    @11,@CF00673                                     02S0424
         ST    @11,@AL00001                                     02S0424
         LA    @11,OFFSET#1                                     02S0424
         ST    @11,@AL00001+4                                   02S0424
         LA    @11,APCTSSID(,APCTPTR)                           02S0424
         ST    @11,@AL00001+8                                   02S0424
         LA    @11,@CF00106                                     02S0424
         ST    @11,@AL00001+12                                  02S0424
         LA    @11,OFFSET#2                                     02S0424
         ST    @11,@AL00001+16                                  02S0424
         LA    @11,CMNDCODE                                     02S0424
         ST    @11,@AL00001+20                                  02S0424
         LA    @11,@CF00073                                     02S0424
         ST    @11,@AL00001+24                                  02S0424
         MVI   @AL00001+24,X'80'                                02S0424
         L     @15,APCTZDWT(,APCTPTR)                           02S0424
         LA    @01,@AL00001                                     02S0424
         BALR  @14,@15                                          02S0424
*                      DUMPISGO = FALSE; /* DUMP EXECUTION ENDING    */
         NI    DUMPISGO,B'11101111'                             02S0425
*                    END;                                       02S0426
*                  ELSE;            /* NO ERROR DURING SAD PGM LOAD  */
@RF00419 DS    0H                                               02S0428
*                END;               /* END OF FORCE DUMP PGM LOAD    */
*              ELSE;                /* NOT A FORCE DUMP              */
@RF00407 DS    0H                                               01S0430
*              A3838DCB = APUBDCB; /* PRESERVE DCB ADDR BEFORE DEQUE */
         L     A3838DCB,APUBDCB(,APUBPTR)                       01S0430
*           /* ASCBPTR = APUBAPDS->APDSASCB    SAVE ASCBPTR BEFORE DQ*/
*              IF DUMPISGO=TRUE THEN /* CONTINUE IF SAD PGM NOT LOST */
         TM    DUMPISGO,B'00010000'                             01S0431
         BNO   @RF00431                                         01S0431
*               DO;                                             01S0432
*                  /* TRY AN OPEN OF INTERMEDIATE (DUMPTEMP) DATASET */
*  GENERATE  CODE                   /* ATTEMPT AN OPEN               */
*      REFS(DCBTEMPA,OPNTEMPS)                                  02S0433
*      SETS(DCBTEMPA,OPNTEMPA);     /*                          02S0433
     MVC   DCBTEMPA(DCBTEMPE),DCBTEMPS
     MVC   OPNTEMPA(OPNTEMPE),OPNTEMPS
     OPEN  (DCBTEMPA,(OUTPUT)),MF=(E,OPNTEMPA)
*                DCBPTR = ADDR(DCBTEMPA); /* POINT TO DUMPTEMP DCB   */
         LA    @11,DCBTEMPA                                     01S0434
         ST    @11,DCBPTR                                       01S0434
*                IF DCBOFOPN=FALSE THEN     /* OPEN FAILED           */
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0435
         BNZ   @RF00435                                         01S0435
*                  DO;                      /* NOTIFY OPERATOR       */
*                    CMNDCODE = '12'; /* REASON CODE FOR ERROR       */
         MVC   CMNDCODE(2),@CC03275                             01S0437
*                    CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,   01S0438
*                        LENGTH(APCTSSID),OFFSET#2,CMNDCODE,    01S0438
*                        LENGTH(CMNDCODE)); /* WTO THE ERROR MESSAGE */
         LA    @11,@CF00673                                     01S0438
         ST    @11,@AL00001                                     01S0438
         LA    @11,OFFSET#1                                     01S0438
         ST    @11,@AL00001+4                                   01S0438
         LA    @11,APCTSSID(,APCTPTR)                           01S0438
         ST    @11,@AL00001+8                                   01S0438
         LA    @11,@CF00106                                     01S0438
         ST    @11,@AL00001+12                                  01S0438
         LA    @11,OFFSET#2                                     01S0438
         ST    @11,@AL00001+16                                  01S0438
         LA    @11,CMNDCODE                                     01S0438
         ST    @11,@AL00001+20                                  01S0438
         LA    @11,@CF00073                                     01S0438
         ST    @11,@AL00001+24                                  01S0438
         MVI   @AL00001+24,X'80'                                01S0438
         L     @15,APCTZDWT(,APCTPTR)                           01S0438
         LA    @01,@AL00001                                     01S0438
         BALR  @14,@15                                          01S0438
*                  END;                                         01S0439
*                ELSE               /* OPEN OF DUMPTEMP WAS SUCCESSF.*/
*                  DO;              /* BEGIN DUMPTEMP PROCESSING     */
         B     @RC00435                                         01S0440
@RF00435 DS    0H                                               01S0441
*                            /* PREPARE TO TRANSFER DUMP TO DUMPTEMP */
*                    RFY R1P RSTD;  /* BUFFER ADDR TO BE RETURNED    */
*                    GENERATE  CODE /* PUT AN LREC TO THE DUMPTEMP   */
*                        REFS(DCBTEMPA)                         02S0442
*                        SETS(R1P,DCBTEMPA);  /*                02S0442
                       PUT  DCBTEMPA
*                    BUFFPTR = R1P; /* SECURE ADDRESS OF NEXT BUFFER */
         LR    BUFFPTR,R1P                                      02S0443
*                    RFY R1P UNRSTD; /* RETURN REG1                  */
*                    /* NOW ACTUALLY TRANSMIT THE DATA               */
*                   /* INITIALIZE IOB AND ECB FOR READS OF 3838 DATA */
*  DCBPTR = A3838DCB;               /* TAKE DCB ADDR PREVIOUSLY SAVED*/
         ST    A3838DCB,DCBPTR                                  02S0445
*  IOBSTPTR = DCBIOBAD;             /* PICKUP ADDR OF IOB FROM DCB   */
         L     @11,DCBPTR                                       02S0446
         L     @11,DCBIOBAD+16(,@11)                            02S0446
         ST    @11,IOBSTPTR                                     02S0446
*  IOBFLAG1 = '42'X;                /* CMND CHAINING & NOT RELTD REQ */
         MVI   IOBFLAG1(@11),X'42'                              02S0447
*  IOBFLAG2 = '20'X;                /* TYPE 3 RELATED REQUEST        */
         MVI   IOBFLAG2(@11),X'20'                              02S0448
*  IOBSENS0 = '00'X;                /* CLEAR 1ST SENSE BYTE          */
         MVI   IOBSENS0(@11),X'00'                              02S0449
*  IOBSENS1 = '00'X;                /* CLEAR 2ND SENSE BYTE          */
         MVI   IOBSENS1(@11),X'00'                              02S0450
*  IOBSTART = ADDR(CCWCHAIN);       /* POINT TO CCW CHAIN            */
         LA    @15,CCWCHAIN                                     02S0451
         ST    @15,IOBSTART(,@11)                               02S0451
*  IOBINCAM = '00'X;                /* THIS IS NOT A TAPE DRIVE, FANS*/
         SLR   @15,@15                                          02S0452
         STH   @15,IOBINCAM(,@11)                               02S0452
*  ECBPTR = IOBECBPT;               /* TAKE ECB ADDR FROM IOB        */
         L     @11,IOBECBPT(,@11)                               02S0453
         ST    @11,ECBPTR                                       02S0453
*  ECBRB = ZERO;                    /* CLEAR ECB BEFORE USE          */
         SLR   @15,@15                                          02S0454
         ST    @15,ECBRB(,@11)                                  02S0454
*                   /* SETUP 3838 PROCESS COMMAND FOR START OF DUMP  */
*  IF APCQIINF=APCQUDMP THEN        /* IF A PORT DUMP IS INDICATED   */
         CLC   APCQIINF(4,APCQPTR),@CF00182                     02S0455
         BNE   @RF00455                                         02S0455
*                                   /*(OPERATOR CANNOT GET PORT DUMP)*/
*    PICMD = 2;                     /* SPECIFY PORT DUMP TO 3838     */
         MVC   PICMD(2),@CH00073                                02S0456
*  ELSE                             /* OTHERWISE                     */
*    PICMD = 1;                     /* SPECIFY A 3838 FULL DUMP      */
         B     @RC00455                                         02S0457
@RF00455 MVC   PICMD(2),@CH00079                                02S0457
*  PIPRT = UNITADDR(2:3) & '000F'X; /* PROVIDE PORT NO. IN LOW BITS  */
@RC00455 MVC   PIPRT(2),UNITADDR+1                              02S0458
         NC    PIPRT(2),@CB00393                                02S0458
*                                   /* OF HALFWORD                   */
*                   /* INITIALIZE CCW CHAIN FOR FIRST READ OF DATA   */
*  CMDCODE1 = '0F'X;                /* INDICATE A PROCESS COMMAND    */
         MVI   CMDCODE1,X'0F'                                   02S0459
*  DATADDR1 = ADDR(CMND3838);       /* WRITE IS FROM PROCESS CMD ADDR*/
         LA    @11,CMND3838                                     02S0460
         STCM  @11,7,DATADDR1                                   02S0460
*  CCWFLAG1 = '60'X;                /* CMND CHAINED & SUPR. LEN INDIC*/
         MVI   CCWFLAG1,X'60'                                   02S0461
*  UNUSED1 = '00'X;                 /* CLEAR OUT UNUSED BYTE         */
         MVI   UNUSED1,X'00'                                    02S0462
*  COUNT1 = 8;                      /* PASS 8 BYTES DURING WRITE     */
         LA    @11,8                                            02S0463
         STH   @11,COUNT1                                       02S0463
*  CMDCODE2 = '02'X;                /* INDICATE READ FOR PROCESS CMD */
         MVI   CMDCODE2,X'02'                                   02S0464
*  DATADDR2 = BUFFPTR;              /* READ INTO BUFFER USED FOR PUT */
         STCM  BUFFPTR,7,DATADDR2                               02S0465
*  CCWFLAG2 = '60'X;                /* CMND CHAINED & SUPR. LEN INDIC*/
         MVI   CCWFLAG2,X'60'                                   02S0466
*  UNUSED2 = '00'X;                 /* CLEAR OUT UNUSED BYTE         */
         MVI   UNUSED2,X'00'                                    02S0467
*  COUNT2 = 16392;                  /* READ INTO FULL DUMP BUFFER    */
         MVC   COUNT2(2),@CH03280                               02S0468
*  CMDCODE3 = '03'X;                /* A NOP FOR DEVICE END UCB RESET*/
         MVI   CMDCODE3,X'03'                                   02S0469
*  DATADDR3 = ZERO;                 /* NO DATA TO BE TRANSFERRED     */
         SLR   @15,@15                                          02S0470
         STCM  @15,7,DATADDR3                                   02S0470
*  CCWFLAG3 = '20'X;                /* NO CMND CHAINING, SUPR LEN IND*/
         MVI   CCWFLAG3,X'20'                                   02S0471
*  UNUSED3 = '00'X;                 /* CLEAR OUT UNUSED BYTE         */
         MVI   UNUSED3,X'00'                                    02S0472
*  COUNT3 = 8;                      /* AT LEAST EIGHT BYTES SHOWN    */
         STH   @11,COUNT3                                       02S0473
*                   /* PASS 1ST PROCESS CMND & PERFORM 1ST DUMP READ */
*  CALL EXCP3838;                   /* PERFORM FIRST EXCP            */
         BAL   @14,EXCP3838                                     02S0474
*  QIES3838 = TRUE;                 /* STOP DUMP CMND WILL BE NEEDED */
         OI    QIES3838,B'01000000'                             02S0475
*  IF ECBCC^='7F'X THEN             /* IF COMPL.CODE SHOWS ERROR     */
         L     @11,ECBPTR                                       02S0476
         CLI   ECBCC(@11),X'7F'                                 02S0476
         BE    @RF00476                                         02S0476
*    DO;                            /* NOTIFY OPERATOR               */
*      DUMPISGO = FALSE;            /* END OF SUCCESSFUL EXECUTION   */
         NI    DUMPISGO,B'11101111'                             02S0478
*      CMNDCODE = '36';             /* REASON CODE FOR TERMINATION   */
         MVC   CMNDCODE(2),@CC03283                             02S0479
*      CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,LENGTH(APCTSSID),
*          OFFSET#2,CMNDCODE,LENGTH(CMNDCODE)); /* WTO ERROR MESSAGE */
         LA    @11,@CF00673                                     02S0480
         ST    @11,@AL00001                                     02S0480
         LA    @11,OFFSET#1                                     02S0480
         ST    @11,@AL00001+4                                   02S0480
         LA    @11,APCTSSID(,APCTPTR)                           02S0480
         ST    @11,@AL00001+8                                   02S0480
         LA    @11,@CF00106                                     02S0480
         ST    @11,@AL00001+12                                  02S0480
         LA    @11,OFFSET#2                                     02S0480
         ST    @11,@AL00001+16                                  02S0480
         LA    @11,CMNDCODE                                     02S0480
         ST    @11,@AL00001+20                                  02S0480
         LA    @11,@CF00073                                     02S0480
         ST    @11,@AL00001+24                                  02S0480
         MVI   @AL00001+24,X'80'                                02S0480
         L     @15,APCTZDWT(,APCTPTR)                           02S0480
         LA    @01,@AL00001                                     02S0480
         BALR  @14,@15                                          02S0480
*    END;                                                       02S0481
*  ELSE                             /* NO ERROR DURING EXCP          */
*    DO;                                                        02S0482
         B     @RC00476                                         02S0482
@RF00476 DS    0H                                               02S0483
*      ENDREADS = FALSE;            /* DENOTES READS ARE TO CEASE    */
         NI    ENDREADS,B'11110111'                             02S0483
*      PICMD = 3;                   /* SET CMND FOR CONTINUE DUMP    */
         MVC   PICMD(2),@CH00117                                02S0484
*      DO WHILE ENDREADS=FALSE;     /* READ UNTIL DONE READING       */
         B     @DE00485                                         02S0485
@DL00485 DS    0H                                               02S0486
*        RFY DRHEADER BASED(BUFFPTR);/* PLACE HEADER ON REC JUST READ*/
*        IF ENDOFSTG=TRUE THEN       /* IF END OF ASSOCIATED STORE   */
         TM    ENDOFSTG(BUFFPTR),B'00000100'                    02S0487
         BNO   @RF00487                                         02S0487
*          DO;                                                  02S0488
*            ENDSTORE = TRUE;        /* SET END OF STORE INDICATOR   */
         OI    ENDSTORE,B'00000100'                             02S0489
*          END;                                                 02S0490
*        ELSE                                                   02S0491
*          ENDSTORE = FALSE;        /* NOT END OF ASSOCIATED STORE   */
         B     @RC00487                                         02S0491
@RF00487 NI    ENDSTORE,B'11111011'                             02S0491
*        IF CPGMSTG=TRUE THEN       /* IF RECORD JUST READ IS CPS    */
@RC00487 TM    CPGMSTG(BUFFPTR),B'00000001'                     02S0492
         BNO   @RF00492                                         02S0492
*          DO;                      /* SET APPROPRIATE INDICATORS    */
*            DUMPISCP = TRUE;       /* INDICATE WITHIN CP PHASE      */
*            DUMPISBS = FALSE;      /* INDICATE NOT WITHIN BS PHASE  */
         OI    DUMPISCP,B'00100000'                             02S0495
         NI    DUMPISBS,B'10111111'                             02S0495
*          END;                                                 02S0496
*        ELSE                       /* IT'S NOT CP DUMP COMING OVER  */
*          IF BULKSTG=TRUE THEN     /* IF RECORD JUST READ IS BS     */
         B     @RC00492                                         02S0497
@RF00492 TM    BULKSTG(BUFFPTR),B'00000010'                     02S0497
         BNO   @RF00497                                         02S0497
*            DO;                    /* SET APPROPRIATE INDICATORS    */
*              DUMPISCP = FALSE;    /* INDICATE NOT WITHIN CP PHASE  */
*              DUMPISBS = TRUE;     /* INDICATE WITHIN BS PHASE      */
         OI    DUMPISBS,B'01000000'                             02S0500
         NI    DUMPISCP,B'11011111'                             02S0500
*            END;                                               02S0501
*          ELSE                     /* RECORD JUST READ IS UNKNOWN   */
*            DO;                    /* SO SET APPROPRIATE INDICATORS */
         B     @RC00497                                         02S0502
@RF00497 DS    0H                                               02S0503
*              DUMPISCP = FALSE;    /* INDICATE NOT WITHIN CP PHASE  */
*              DUMPISBS = FALSE;    /* INDICATE NOT WITHIN BS PHASE  */
         NI    DUMPISCP,B'10011111'                             02S0504
*              CMNDCODE = '48';     /* SIGNAL UNIDENTIFIED DUMP REC. */
         MVC   CMNDCODE(2),@CC03285                             02S0505
*              CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,         02S0506
*                  LENGTH(APCTSSID),OFFSET#2,CMNDCODE,          02S0506
*                  LENGTH(CMNDCODE)); /* NOTIFY THE OPERATOR ####### */
         LA    @11,@CF00673                                     02S0506
         ST    @11,@AL00001                                     02S0506
         LA    @11,OFFSET#1                                     02S0506
         ST    @11,@AL00001+4                                   02S0506
         LA    @11,APCTSSID(,APCTPTR)                           02S0506
         ST    @11,@AL00001+8                                   02S0506
         LA    @11,@CF00106                                     02S0506
         ST    @11,@AL00001+12                                  02S0506
         LA    @11,OFFSET#2                                     02S0506
         ST    @11,@AL00001+16                                  02S0506
         LA    @11,CMNDCODE                                     02S0506
         ST    @11,@AL00001+20                                  02S0506
         LA    @11,@CF00073                                     02S0506
         ST    @11,@AL00001+24                                  02S0506
         MVI   @AL00001+24,X'80'                                02S0506
         L     @15,APCTZDWT(,APCTPTR)                           02S0506
         LA    @01,@AL00001                                     02S0506
         BALR  @14,@15                                          02S0506
*            END;                                               02S0507
*              /* IF RECORD IS DESIRED THEN SAVE IT ON DUMPTEMP      */
*        IF DUMPISCP=TRUE&DUMPCP=TRUE × DUMPISCP=FALSE&(DUMPBS =TRUE
*            & (DUMPBSAA=FALSE ×                                02S0508
*            DUMPBSAA=TRUE&(^(DRBSA+DRLTH/4<BSLLIMIT×DRBSA>BSHLIMIT))))
*            THEN                   /* (ADDR. ASSUMED TO BE FULLWORD)*/
@RC00497 DS    0H                                               02S0508
@RC00492 TM    DUMPISCP,B'00100000'                             02S0508
         BNO   @GL00012                                         02S0508
         TM    DUMPCP,B'00000001'                               02S0508
         BO    @RT00508                                         02S0508
@GL00012 TM    DUMPISCP,B'00100000'                             02S0508
         BNZ   @RF00508                                         02S0508
         TM    DUMPBS,B'00000100'                               02S0508
         BNO   @RF00508                                         02S0508
         TM    DUMPBSAA,B'00000010'                             02S0508
         BZ    @RT00508                                         02S0508
         TM    DUMPBSAA,B'00000010'                             02S0508
         BNO   @RF00508                                         02S0508
         L     @11,DRBSA(,BUFFPTR)                              02S0508
         LH    @00,DRLTH(,BUFFPTR)                              02S0508
         SRDA  @00,32                                           02S0508
         D     @00,@CF00106                                     02S0508
         ALR   @01,@11                                          02S0508
         C     @01,BSLLIMIT                                     02S0508
         BL    @RF00508                                         02S0508
         C     @11,BSHLIMIT                                     02S0508
         BH    @RF00508                                         02S0508
@RT00508 DS    0H                                               02S0509
*                                   /* IF CP IS BEING DUMPED AND IS  */
*                                   /* CALLED FOR, OR BS IS BEING    */
*                                   /* DUMPED AND THE SECTION JUST   */
*                                   /* READ IS CALLED FOR, THEN PUT  */
*                                   /* THE RECORD OUT TO DUMPTEMP.   */
*          DO;                                                  02S0509
*                    RFY R1P RSTD;  /* BUFFER ADDR TO BE RETURNED    */
*                    GENERATE  CODE /* PUT AN LREC TO THE DUMPTEMP   */
*                        REFS(DCBTEMPA)                         03S0511
*                        SETS(R1P,DCBTEMPA);  /*                03S0511
                       PUT  DCBTEMPA
*                    BUFFPTR = R1P; /* SECURE ADDRESS OF NEXT BUFFER */
         LR    BUFFPTR,R1P                                      03S0512
*                    RFY R1P UNRSTD; /* RETURN REG1                  */
*          END;                                                 02S0514
*        ELSE;                      /* OTHERWISE, BYPASS UNWANTED REC*/
@RF00508 DS    0H                                               02S0516
*              /* DETERMINE  IF DUMPREADING IS TO CONTINUE           */
*        IF ENDSTORE=TRUE THEN      /* IF END OF CP OR BS WAS FOUND  */
         TM    ENDSTORE,B'00000100'                             02S0516
         BNO   @RF00516                                         02S0516
*          IF DUMPISCP=TRUE THEN     /* AND IT WAS CP THAT ENDED     */
         TM    DUMPISCP,B'00100000'                             02S0517
         BNO   @RF00517                                         02S0517
*            IF DUMPBS =FALSE THEN     /* AND BS DUMP NOT REQUESTED  */
         TM    DUMPBS,B'00000100'                               02S0518
         BNZ   @RF00518                                         02S0518
*              ENDREADS = TRUE;     /* THEN NO MORE DUMPING NEEDED   */
         OI    ENDREADS,B'00001000'                             02S0519
*            ELSE                                               02S0520
*              DO;                  /* PROCEED TO DUMP BULK STORAGE  */
         B     @RC00518                                         02S0520
@RF00518 DS    0H                                               02S0521
*                DUMPISCP = FALSE;     /* NO MORE CP DUMPING         */
*                ENDSTORE = FALSE;     /* RESET END OF STG INDICATOR */
         NI    DUMPISCP,B'11011011'                             02S0522
*              END;                                             02S0523
*          ELSE                                                 02S0524
*            ENDREADS = TRUE;       /* END OF BS DUMP ENCOUNTERED    */
         B     @RC00517                                         02S0524
@RF00517 OI    ENDREADS,B'00001000'                             02S0524
*        ELSE;                      /* NOT END OF STORAGE            */
@RF00516 DS    0H                                               02S0526
*          /* IF READING IS TO CONTINUE, THEN READ NEXT RECORD       */
*        IF ENDREADS=FALSE THEN     /* IF NOT DONE, CONTINUE READS   */
@RC00516 TM    ENDREADS,B'00001000'                             02S0526
         BNZ   @RF00526                                         02S0526
*          DO;                      /* 3838 CONTINUE CMND SET ABOVE  */
*            DATADDR2 = BUFFPTR;    /* BUFFER ADDR ONLY CHANGE IN CCW*/
         STCM  BUFFPTR,7,DATADDR2                               02S0528
*            CALL EXCP3838;         /* PERFORM NEXT EXCP             */
         BAL   @14,EXCP3838                                     02S0529
*            IF ECBCC^='7F'X THEN     /* IF COMPL.CODE SHOWS ERROR   */
         L     @11,ECBPTR                                       02S0530
         CLI   ECBCC(@11),X'7F'                                 02S0530
         BE    @RF00530                                         02S0530
*              DO;                    /* SET INDICATORS & NOTIFY OPER*/
*                DUMPISGO = FALSE;     /* END OF SUCCESSFUL EXECUTION*/
*                ENDREADS = TRUE;      /* NO MORE READING TO BE DONE */
         OI    ENDREADS,B'00001000'                             02S0533
         NI    DUMPISGO,B'11101111'                             02S0533
*                CMNDCODE = '36';      /* REASON CODE FOR TERMINATION*/
         MVC   CMNDCODE(2),@CC03283                             02S0534
*                CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,       02S0535
*                    LENGTH(APCTSSID),OFFSET#2,CMNDCODE,        02S0535
*                    LENGTH(CMNDCODE)); /* WTO THE MESSAGE           */
         LA    @11,@CF00673                                     02S0535
         ST    @11,@AL00001                                     02S0535
         LA    @11,OFFSET#1                                     02S0535
         ST    @11,@AL00001+4                                   02S0535
         LA    @11,APCTSSID(,APCTPTR)                           02S0535
         ST    @11,@AL00001+8                                   02S0535
         LA    @11,@CF00106                                     02S0535
         ST    @11,@AL00001+12                                  02S0535
         LA    @11,OFFSET#2                                     02S0535
         ST    @11,@AL00001+16                                  02S0535
         LA    @11,CMNDCODE                                     02S0535
         ST    @11,@AL00001+20                                  02S0535
         LA    @11,@CF00073                                     02S0535
         ST    @11,@AL00001+24                                  02S0535
         MVI   @AL00001+24,X'80'                                02S0535
         L     @15,APCTZDWT(,APCTPTR)                           02S0535
         LA    @01,@AL00001                                     02S0535
         BALR  @14,@15                                          02S0535
*              END;                                             02S0536
*            ELSE                   /* NO ERROR DURING EXCP          */
*              IF DUMPISCP=FALSE & DUMPBS=TRUE & DUMPBSAA=TRUE &
*                  DRBSA>BSHLIMIT THEN /* NO NEED FOR ADDITIONAL BS  */
         B     @RC00530                                         02S0537
@RF00530 TM    DUMPISCP,B'00100000'                             02S0537
         BNZ   @RF00537                                         02S0537
         TM    DUMPBS,B'00000110'                               02S0537
         BNO   @RF00537                                         02S0537
         L     @11,DRBSA(,BUFFPTR)                              02S0537
         C     @11,BSHLIMIT                                     02S0537
         BNH   @RF00537                                         02S0537
*                                   /* TO BE DUMPED, STOP READING.   */
*                ENDREADS = TRUE;     /* SET END OF READING INDICATOR*/
         OI    ENDREADS,B'00001000'                             02S0538
*              ELSE;                                            02S0539
@RF00537 DS    0H                                               02S0540
*          END;                                                 02S0540
*        ELSE;                                                  02S0541
@RF00526 DS    0H                                               02S0542
*      END;                         /* END DOWHILE FOR GETS & PUTS   */
@RC00526 DS    0H                                               02S0542
@DE00485 TM    ENDREADS,B'00001000'                             02S0542
         BZ    @DL00485                                         02S0542
*                  /* NOW PREPARE TO SEND STOP DUMP COMMAND          */
*      IF REIPL=FALSE THEN          /* NO NEED TO SEND IF TO REIPL   */
         TM    REIPL,B'00100000'                                02S0543
         BNZ   @RF00543                                         02S0543
*        DO;                                                    02S0544
*          PICMD = 4;               /* SET 3838 CMND TO STOP DUMP    */
         MVC   PICMD(2),@CH00106                                02S0545
*          CCW2 = CCW3;             /* MOVE NOP UP TO 2ND CCW POSIT. */
         MVC   CCW2(8),CCW3                                     02S0546
*          CALL EXCP3838;           /* PERFORM FINAL EXCP            */
         BAL   @14,EXCP3838                                     02S0547
*          QIES3838 = FALSE;        /* THAT WAS THE STOP DUMP CMND   */
         NI    QIES3838,B'10111111'                             02S0548
*        END;                                                   02S0549
*      ELSE;                        /* NO NEED OF STOP IF TO REIPL   */
@RF00543 DS    0H                                               02S0551
*    END;                                                       02S0551
*          IF UNITADDR(3:3)^='0'      /* IF THIS WAS A PORT DUMP     */
*             & RESETUJA = TRUE THEN  /* AND UJA IS NEEDED           */
@RC00476 CLI   UNITADDR+2,C'0'                                  02S0552
         BE    @RF00552                                         02S0552
         TM    RESETUJA,B'00000010'                             02S0552
         BNO   @RF00552                                         02S0552
*            DO;                                                02S0553
*              RFY APUBPTR RSTD;                                02S0554
*              APUBPTR = APUBAPUB;  /* MOVE DOWN LIST OF APUB PTR'S  */
         L     APUBPTR,APUBAPUB(,APUBPTR)                       02S0555
*              RFY UCBOB BASED(APUBUCB);                        02S0556
*              DO WHILE(APUBPTR^=ZERO & UCBNAME(3:3)^=UNITADDR(3:3));
         B     @DE00557                                         02S0557
@DL00557 DS    0H                                               02S0558
*                APUBPTR = APUBAPUB;/* MOVE TO NEXT APUB UNTIL MATCH */
         L     APUBPTR,APUBAPUB(,APUBPTR)                       02S0558
*              END;                 /* SO WE HAVE APUBPTR OF DUMPPORT*/
@DE00557 LTR   APUBPTR,APUBPTR                                  02S0559
         BZ    @DC00557                                         02S0559
         L     @11,APUBUCB(,APUBPTR)                            02S0559
         CLC   UCBNAME+2(1,@11),UNITADDR+2                      02S0559
         BNE   @DL00557                                         02S0559
@DC00557 DS    0H                                               02S0560
*              RFY R1P RSTD;        /* SECURE REG 1                  */
*              R1P = 1;             /* SET RECOVERY INDICATOR        */
         LA    R1P,1                                            02S0561
*              CALL APCVZUJA;       /* CALL THE BITSETTER ROUTINE    */
         L     @15,APCTZUJA(,APCTPTR)                           02S0562
         BALR  @14,@15                                          02S0562
*              RESETUJA = FALSE;    /* INDICATE UJA HAS BEEN CALLED. */
         NI    RESETUJA,B'11111101'                             02S0563
*              RFY R1P UNRSTD;      /* RELEASE REG 1                 */
*              RFY UCBOB BASED(UCBPTR);                         02S0565
*            END;                                               02S0566
*          ELSE;                                                02S0567
@RF00552 DS    0H                                               02S0568
*                   CALL APCVZDDQ;  /* DEQUEUE FROM THE APUBS        */
         L     @15,APCTZDDQ(,APCTPTR)                           01S0568
         BALR  @14,@15                                          01S0568
*                   ENQDAPUB = FALSE; /* INDICATE THAT APUBS ARE DEQ */
         NI    ENQDAPUB,B'11111101'                             01S0569
*                   IF DUMPISGO=TRUE THEN /* IF GRABDUMP SURVIVED    */
         TM    DUMPISGO,B'00010000'                             01S0570
         BNO   @RF00570                                         01S0570
*                    DO;                                        01S0571
*                     /* NOW CLOSE DUMPTEMP FOR OUTPUT               */
*                    ABNDCLST = TRUE; /* LEFT ON IF CLOSE ABENDS     */
         OI    ABNDCLST,B'10000000'                             02S0572
*                    GENERATE  CODE /* ATTEMPT A CLOSE               */
*                        REFS(DCBTEMPA,CLSTEMPS)                02S0573
*                        SETS(DCBTEMPA,CLSTEMPA);  /*           02S0573
                       MVC    CLSTEMPA(CLSTEMPE),CLSTEMPS
                       CLOSE  (DCBTEMPA),MF=(E,CLSTEMPA)
*                    ABNDCLST = FALSE; /* RESET IF NO CLOSE ABEND    */
         NI    ABNDCLST,B'01111111'                             02S0574
*                     DCBPTR = ADDR(DCBTEMPA);                  01S0575
         LA    @11,DCBTEMPA                                     01S0575
         ST    @11,DCBPTR                                       01S0575
*                     IF DCBOFOPN=TRUE THEN  /* CLOSE FAILED         */
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0576
         BNO   @RF00576                                         01S0576
*                      DO;          /* NOTIFY OPERATOR               */
*                        CMNDCODE = '16'; /* REASON CODE FOR ERROR   */
         MVC   CMNDCODE(2),@CC03288                             01S0578
*                        CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,
*                            LENGTH(APCTSSID),OFFSET#2,CMNDCODE,
*                            LENGTH(CMNDCODE)); /* WTO THE MESSAGE   */
         LA    @11,@CF00673                                     01S0579
         ST    @11,@AL00001                                     01S0579
         LA    @11,OFFSET#1                                     01S0579
         ST    @11,@AL00001+4                                   01S0579
         LA    @11,APCTSSID(,APCTPTR)                           01S0579
         ST    @11,@AL00001+8                                   01S0579
         LA    @11,@CF00106                                     01S0579
         ST    @11,@AL00001+12                                  01S0579
         LA    @11,OFFSET#2                                     01S0579
         ST    @11,@AL00001+16                                  01S0579
         LA    @11,CMNDCODE                                     01S0579
         ST    @11,@AL00001+20                                  01S0579
         LA    @11,@CF00073                                     01S0579
         ST    @11,@AL00001+24                                  01S0579
         MVI   @AL00001+24,X'80'                                01S0579
         L     @15,APCTZDWT(,APCTPTR)                           01S0579
         LA    @01,@AL00001                                     01S0579
         BALR  @14,@15                                          01S0579
*                      END;                                     01S0580
*                     ELSE          /* CLOSE WAS SUCCESSFUL          */
*                      DO;          /* BEGIN DUMP3838 PROCESSING     */
         B     @RC00576                                         01S0581
@RF00576 DS    0H                                               01S0582
*                        /* OPEN DUMP3838 DATASET FOR OUTPUT OF DUMP */
*                          /* FOR MVS, FIRST DYNAM ALLOCATE DUMP3838 */
*                   /* ATTEMPT DYNAMIC ALLOCATION OF SYSOUT          */
*  RFY S99RBPTR BASED(ADDR(RQBLKPTR));/* SET PTR ON FRONT OF WORKAREA*/
*  RFY S99RB BASED(ADDR(RQBLK));    /* SET S99RB RIGHT BEHIND IT     */
*  S99RBPTR = ADDR(S99RB);          /* INIT. PTR. TO REQUEST BLOCK   */
         LA    @11,RQBLKPTR                                     02S0584
         LA    @04,RQBLK                                        02S0584
         ST    @04,S99RBPTR(,@11)                               02S0584
*  S99RBPND = TRUE;                 /* SET HI-ORDER BIT ON RB PTR    */
         OI    S99RBPND(@11),B'10000000'                        02S0585
*  RFY S99TUPL BASED(ADDR(TUPTRS)); /* TEXT UNIT PTRS. BEHIND RQBLK  */
*                         /* INITIALIZE THE REQUEST BLOCK ITSELF     */
*  S99RBLN = 20;                    /* RB LENGTH IS CONSTANT 20 BYTES*/
         MVI   S99RBLN(@04),X'14'                               02S0587
*  S99VERB = S99VRBAL;              /* VERB CODE IS FOR DSNAME ALLOC.*/
         MVI   S99VERB(@04),X'01'                               02S0588
*  S99FLAG1 = RQBFLAG1;             /* FLAGS1 SETUP GIVEN IN RQBFLAG1*/
         MVC   S99FLAG1(2,@04),RQBFLAG1                         02S0589
*  S99ERROR = ZERO;                 /* ERROR REASON INITIALLY ZERO   */
         SLR   @11,@11                                          02S0590
         STH   @11,S99ERROR(,@04)                               02S0590
*  S99INFO = ZERO;                  /* INFO. REASON INITIALLY ZERO   */
         STH   @11,S99INFO(,@04)                                02S0591
*  S99TXTPP = ADDR(TUPTRS);         /* SECURE ADDR. OF TEXT POINTERS */
         LA    @15,TUPTRS                                       02S0592
         ST    @15,S99TXTPP(,@04)                               02S0592
*  S99RSV01 = ZERO;                 /* FULLWORD OF ZEROS IN RSVRDWD. */
         ST    @11,S99RSV01(,@04)                               02S0593
*  S99FLAG2 = RQBFLAG2;             /* FLAGS2 SETUP GIVEN IN RQBFLAG1*/
         MVC   S99FLAG2(4,@04),RQBFLAG2                         02S0594
*                                   /*                               */
*                                   /* NOW BUILD PTRS & TEXT UNITS   */
*                             /* 1ST TEXT UNIT IS FOR DDNAME         */
*  S99TUPTR(1) = ADDR(TXTUNITS);    /* SET 1ST PTR IN T.U. PTR LIST  */
         LA    @04,TXTUNITS                                     02S0595
         ST    @04,S99TUPTR(,@15)                               02S0595
*  S99TUPLN(1) = BITZERO;           /* THIS PTR NOT LAST IN PTR LIST */
         NI    S99TUPLN(@15),B'01111111'                        02S0596
*  RFY S99TUNIT BASED(S99TUPTR(1)); /* USE 1ST PTR IN T.U. PTR LIST  */
*  S99TUKEY = DALDDNAM;             /* KEY FOR DDNAME PARAMETER      */
         L     @04,S99TUPTR(,@15)                               02S0598
         MVC   S99TUKEY(2,@04),@CB00365                         02S0598
*  S99TUNUM = 1;                    /* ONE PARM FOR THIS TEXT UNIT   */
         LA    @14,1                                            02S0599
         STCM  @14,3,S99TUNUM(@04)                              02S0599
*  S99TULNG = LENGTH(D38DDNAM);     /* LENGTH OF DDNAME              */
         MVC   S99TULNG(2,@04),@CH00104                         02S0600
*  S99TUPAR(1:LENGTH(D38DDNAM)) = D38DDNAM; /* MOVE IN DDNAME ITSELF */
         MVC   S99TUPAR(8,@04),@CC00224                         02S0601
*                             /* 2ND TEXT UNIT IS FOR SYSOUT IDENT.  */
*  S99TUPTR(2) = S99TUPTR(1) + LENGTH(S99TUKEY) + LENGTH(S99TUNUM)
*      + LENGTH(S99TULNG) + LENGTH(D38DDNAM); /* 2ND BLK FOLLOWS 1ST */
         AL    @04,@CF02376                                     02S0602
         ST    @04,S99TUPTR+4(,@15)                             02S0602
*  S99TUPLN(2) = BITZERO;           /* THIS PTR NOT LAST IN PTR LIST */
         NI    S99TUPLN+4(@15),B'01111111'                      02S0603
*  RFY S99TUNIT BASED(S99TUPTR(2)); /* USE 2ND PTR IN T.U. PTR LIST  */
*  S99TUKEY = DALSYSOU;             /* KEY FOR A SYSOUT DATASET      */
         L     @04,S99TUPTR+4(,@15)                             02S0605
         MVC   S99TUKEY(2,@04),@CB00411                         02S0605
*  S99TUNUM = 1;                    /* ONE PARM FOR SYSOUT CLASS     */
         STCM  @14,3,S99TUNUM(@04)                              02S0606
*  S99TULNG = 1;                    /* SYSOUT CLASS IS ONE BYTE LONG.*/
         STCM  @14,3,S99TULNG(@04)                              02S0607
*  S99TUPAR(1) = APCTSOUT;          /* GET SYSOUT CLASS FROM APCT.   */
         MVC   S99TUPAR(1,@04),APCTSOUT(APCTPTR)                02S0608
*                             /* 3RD TEXT UNIT IS FOR FREE AT CLOSE  */
*  S99TUPTR(3) = S99TUPTR(2) + LENGTH(S99TUKEY) + LENGTH(S99TUNUM)
*                + LENGTH(S99TULEN) + 1;                        02S0609
         AL    @04,@CF00110                                     02S0609
         ST    @04,S99TUPTR+8(,@15)                             02S0609
*                                   /* 3RD BLOCK FOLLOWS 2ND         */
*  S99TUPLN(3) = BITZERO;           /* THIS PTR NOT LAST IN PTR LIST */
         NI    S99TUPLN+8(@15),B'01111111'                      02S0610
*  RFY S99TUNIT BASED(S99TUPTR(3)); /* USE 3RD PTR IN T.U. PTR LIST  */
*  S99TUKEY = DALCLOSE;             /* KEY FOR UNALLOCATE AT CLOSE   */
         L     @04,S99TUPTR+8(,@15)                             02S0612
         MVC   S99TUKEY(2,@04),@CB00419                         02S0612
*  S99TUNUM = ZERO;                 /* NO PARMS FOR FREE AT CLOSE    */
         STCM  @11,3,S99TUNUM(@04)                              02S0613
*                             /* 4TH TEXT UNIT IS FOR DCB BLKSIZE    */
*  S99TUPTR(4) = S99TUPTR(3) + LENGTH(S99TUKEY) + LENGTH(S99TUNUM);
         AL    @04,@CF00106                                     02S0614
         ST    @04,S99TUPTR+12(,@15)                            02S0614
*                                   /* 4TH BLOCK FOLLOWS 3RD         */
*  S99TUPLN(4) = BITZERO;           /* THIS PTR NOT LAST IN PTR LIST */
         NI    S99TUPLN+12(@15),B'01111111'                     02S0615
*  RFY S99TUNIT BASED(S99TUPTR(4)); /* USE 4TH PTR IN T.U. PTR LIST  */
*  S99TUKEY = DALBLKSZ;             /* KEY FOR DCB BLKSIZE PARAMETER */
         L     @11,S99TUPTR+12(,@15)                            02S0617
         MVC   S99TUKEY(2,@11),@CB00459                         02S0617
*  S99TUNUM = 1;                    /* ONE PARM FOR THIS TEXT UNIT   */
         STCM  @14,3,S99TUNUM(@11)                              02S0618
*  S99TULNG = 2;                    /* TWO BYTES PROVIDED FOR BLKSIZE*/
         LA    @04,2                                            02S0619
         STCM  @04,3,S99TULNG(@11)                              02S0619
*  S99TUPAR(1:S99TULNG) = '0974'X;  /* BLKSIZE SET TO 2420 BYTES     */
         LR    @03,@04                                          02S0620
         BCTR  @03,0                                            02S0620
         EX    @03,@SM03539                                     02S0620
*                             /* 5TH TEXT UNIT IS FOR DCB LRECL      */
*  S99TUPTR(5) = S99TUPTR(4) + LENGTH(S99TUKEY) + LENGTH(S99TUNUM)
*      + LENGTH(S99TULNG) + S99TULNG; /* 5TH BLOCK FOLLOWS 4TH       */
         LA    @03,6                                            02S0621
         ALR   @11,@03                                          02S0621
         ALR   @11,@04                                          02S0621
         ST    @11,S99TUPTR+16(,@15)                            02S0621
*  S99TUPLN(5) = BITZERO;           /* THIS PTR NOT LAST IN PTR LIST */
         NI    S99TUPLN+16(@15),B'01111111'                     02S0622
*  RFY S99TUNIT BASED(S99TUPTR(5)); /* USE 5TH PTR IN T.U. PTR LIST  */
*  S99TUKEY = DALLRECL;             /* KEY FOR DCB LRECL PARAMETER   */
         L     @11,S99TUPTR+16(,@15)                            02S0624
         MVC   S99TUKEY(2,@11),@CB00495                         02S0624
*  S99TUNUM = 1;                    /* ONE PARM FOR THIS TEXT UNIT   */
         STCM  @14,3,S99TUNUM(@11)                              02S0625
*  S99TULNG = 2;                    /* TWO BYTES PROVIDED FOR LRECL  */
         STCM  @04,3,S99TULNG(@11)                              02S0626
*  S99TUPAR(1:S99TULNG) = '0079'X;  /* LRECL SET TO 121 BYTES        */
         LR    @02,@04                                          02S0627
         BCTR  @02,0                                            02S0627
         EX    @02,@SM03541                                     02S0627
*                             /* 6TH TEXT UNIT IS FOR DCB RECFM      */
*  S99TUPTR(6) = S99TUPTR(5) + LENGTH(S99TUKEY) + LENGTH(S99TUNUM)
*      + LENGTH(S99TULNG) + S99TULNG; /* 6TH BLOCK FOLLOWS 5TH       */
         ALR   @11,@03                                          02S0628
         ALR   @11,@04                                          02S0628
         ST    @11,S99TUPTR+20(,@15)                            02S0628
*  S99TUPLN(5) = BITONE;            /* THIS PTR IS LAST IN PTR LIST  */
         OI    S99TUPLN+16(@15),B'10000000'                     02S0629
*  RFY S99TUNIT BASED(S99TUPTR(6)); /* USE 6TH PTR IN T.U. PTR LIST  */
*  S99TUKEY = DALRECFM;             /* KEY FOR DCB RECFM PARAMETER   */
         L     @11,S99TUPTR+20(,@15)                            02S0631
         MVC   S99TUKEY(2,@11),@CB00509                         02S0631
*  S99TUNUM = 1;                    /* ONE PARM FOR THIS TEXT UNIT   */
         STCM  @14,3,S99TUNUM(@11)                              02S0632
*  S99TULNG = 1;                    /* ONE BYTE PROVIDED FOR RECFM   */
         STCM  @14,3,S99TULNG(@11)                              02S0633
*  S99TUPAR(1:1) = '94'X;           /* RECFM SET TO FIXED-BLK (FBA)  */
         MVI   S99TUPAR(@11),X'94'                              02S0634
*                        /* NOW ISSUE DYNALLOC FOR DUMP3838 DATASET  */
*  RFY (R1P,R15F) RSTD;             /* PTR IN REG 1 , RCDE IN REG 15 */
*  R1P = ADDR(S99RBPTR);            /* SET REG1 (=ADDR(RQBLKPTR))    */
         LA    R1P,RQBLKPTR                                     02S0636
*  GENERATE(DYNALLOC)               /* INVOKE THE DYNALLOC           */
*      REFS(R1P)                                                02S0637
*      SETS(R15F);                                              02S0637
         DYNALLOC
*  IF R15F^=ZERO THEN               /* IF DYNALLOC WAS UNSUCCESSFUL  */
         LTR   R15F,R15F                                        02S0638
         BZ    @RF00638                                         02S0638
*    DO;                            /* THEN STOP THE MUSIC           */
*  GENERATE  CODE                   /* ATTEMPT A FREEPOOL OF BUFFERS */
*      REFS(DCBTEMPA)                                           03S0640
*      SETS(DCBTEMPA);              /*                          03S0640
     FREEPOOL   DCBTEMPA
*      DUMPISGO = FALSE;            /* NO LONGER GOOD EXECUTION      */
         NI    DUMPISGO,B'11101111'                             02S0641
*      DYNARTRN = R15F;             /* SAVE DYNALLOC ERROR CODE      */
         STCM  R15F,15,DYNARTRN                                 02S0642
*  RFY (R1P,R15F) UNRSTD;           /* RELEASE THE REGISTERS         */
*      FULLWORD(1:2) = S99ERROR;    /* MOVE S99ERROR IN FOR CONVERSON*/
         LA    @11,RQBLK                                        02S0644
         MVC   FULLWORD(2),S99ERROR(@11)                        02S0644
*      FULLWORD(3:4) = S99INFO;     /* MOVE S99INFO IN FOR CONVERSION*/
         MVC   FULLWORD+2(2),S99INFO(@11)                       02S0645
*      RFY R3F RSTD;                /* REGISTER USED FOR CONVERSION  */
*      DO INDEX=1 TO 4 BY 1;        /* CONVERT ALL FOUR BYTES PRINTBL*/
         LA    @11,1                                            02S0647
         STH   @11,INDEX                                        02S0647
@DL00647 DS    0H                                               02S0648
*        R3F = ZERO;                /* CLEAR HIBYTES BEFORE IC INSTR */
         SLR   R3F,R3F                                          02S0648
*        R3F = FULLWORD(INDEX:INDEX);/*REACH FOR NEXT INPUT CHARACTER*/
         SLR   R3F,R3F                                          02S0649
         IC    R3F,FULLWORD-1(@11)                              02S0649
*        SRA(R3F,4);                /* SHIFT OUT LOW ORDER FOUR BITS */
         SRA   R3F,4                                            02S0650
*        IF R3F>9 THEN              /* IF BITS SHOW NON-DECIMAL      */
         LA    @11,9                                            02S0651
         CR    R3F,@11                                          02S0651
         BNH   @RF00651                                         02S0651
*          R3F = (R3F - 9) × '000000C0'X;/*CONVERT TO EBCDIC CHAR A-F*/
         LCR   @11,@11                                          02S0652
         ALR   @11,R3F                                          02S0652
         O     @11,@CF03311                                     02S0652
         LR    R3F,@11                                          02S0652
*        ELSE                       /* OTHERWISE IT IS DECIMAL DIGIT */
*          R3F = R3F × '000000F0'X; /* CONVERT TO EBCDIC CHAR 0-9    */
         B     @RC00651                                         02S0653
@RF00651 O     R3F,@CF03312                                     02S0653
*        DYNACODE(INDEX*2-1:INDEX*2-1) =R3F;/*HI ORDER BITS CONVERTED*/
@RC00651 LH    @11,INDEX                                        02S0654
         LR    @04,@11                                          02S0654
         ALR   @04,@04                                          02S0654
         STC   R3F,DYNACODE-2(@04)                              02S0654
*        R3F = FULLWORD(INDEX:INDEX)&'0F'X;/*REACH FOUR LO ORDER BITS*/
         LA    R3F,15                                           02S0655
         SLR   @04,@04                                          02S0655
         IC    @04,FULLWORD-1(@11)                              02S0655
         NR    R3F,@04                                          02S0655
*        IF R3F>9 THEN              /* IF BITS SHOW NON-DECIMAL      */
         LA    @11,9                                            02S0656
         CR    R3F,@11                                          02S0656
         BNH   @RF00656                                         02S0656
*          R3F = (R3F - 9) × '000000C0'X;/*CONVERT TO EBCDIC CHAR A-F*/
         LCR   @11,@11                                          02S0657
         ALR   @11,R3F                                          02S0657
         O     @11,@CF03311                                     02S0657
         LR    R3F,@11                                          02S0657
*        ELSE                       /* OTHERWISE IT IS DECIMAL DIGIT */
*          R3F = R3F × '000000F0'X; /* CONVERT TO EBCDIC CHAR 0-9    */
         B     @RC00656                                         02S0658
@RF00656 O     R3F,@CF03312                                     02S0658
*        DYNACODE(INDEX*2:INDEX*2) = R3F;/* LOW 4 BITS CONVERTED     */
@RC00656 LH    @11,INDEX                                        02S0659
         LR    @04,@11                                          02S0659
         ALR   @04,@04                                          02S0659
         STC   R3F,DYNACODE-1(@04)                              02S0659
*      END;                         /* END OF ONE BYTE CONVERSION    */
         AL    @11,@CF00079                                     02S0660
         STH   @11,INDEX                                        02S0660
         C     @11,@CF00106                                     02S0660
         BNH   @DL00647                                         02S0660
*      RFY R3F UNRSTD;              /* GIVE BACK REGISTER 3          */
*    END;                                                       02S0662
*  ELSE;                                                        02S0663
@RF00638 DS    0H                                               02S0664
*                        IF DUMPISGO=FALSE THEN /* IF ERROR FOUND    */
         TM    DUMPISGO,B'00010000'                             01S0664
         BNZ   @RF00664                                         01S0664
*                         DO;       /* NOTIFY OPERATOR               */
*                          CMNDCODE = '24'; /* SET ERROR REASON CODE */
         MVC   CMNDCODE(2),@CC03313                             01S0666
*                          CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,
*                              LENGTH(APCTSSID),OFFSET#2,CMNDCODE,
*                              LENGTH(CMNDCODE)); /* WTO THE MESSAGE */
         LA    @11,@CF00673                                     01S0667
         ST    @11,@AL00001                                     01S0667
         LA    @11,OFFSET#1                                     01S0667
         ST    @11,@AL00001+4                                   01S0667
         LA    @11,APCTSSID(,APCTPTR)                           01S0667
         ST    @11,@AL00001+8                                   01S0667
         LA    @11,@CF00106                                     01S0667
         ST    @11,@AL00001+12                                  01S0667
         LA    @11,OFFSET#2                                     01S0667
         ST    @11,@AL00001+16                                  01S0667
         LA    @11,CMNDCODE                                     01S0667
         ST    @11,@AL00001+20                                  01S0667
         LA    @11,@CF00073                                     01S0667
         ST    @11,@AL00001+24                                  01S0667
         MVI   @AL00001+24,X'80'                                01S0667
         L     @15,APCTZDWT(,APCTPTR)                           01S0667
         LA    @01,@AL00001                                     01S0667
         BALR  @14,@15                                          01S0667
*                          OFFSET#2 = 40; /* SET FOR ERROR REASON    */
         MVC   OFFSET#2(4),@CF01631                             01S0668
*                          OFFSET#3 = 65; /* SET FOR INFO REASON     */
         MVC   OFFSET#3(4),@CF02304                             01S0669
*                          CALL APCVZDWT(IGT281I,OFFSET#1,APCTSSID,
*                              LENGTH(APCTSSID),OFFSET#2,DYNAERRR,
*                              LENGTH(DYNAERRR),OFFSET#3,DYNAINFO,
*                              LENGTH(DYNAINFO)); /* WTO THE MESSAGE */
         LA    @11,@CF02473                                     01S0670
         ST    @11,@AL00001                                     01S0670
         LA    @11,OFFSET#1                                     01S0670
         ST    @11,@AL00001+4                                   01S0670
         LA    @11,APCTSSID(,APCTPTR)                           01S0670
         ST    @11,@AL00001+8                                   01S0670
         LA    @11,@CF00106                                     01S0670
         ST    @11,@AL00001+12                                  01S0670
         LA    @11,OFFSET#2                                     01S0670
         ST    @11,@AL00001+16                                  01S0670
         LA    @11,DYNAERRR                                     01S0670
         ST    @11,@AL00001+20                                  01S0670
         LA    @11,@CF00106                                     01S0670
         ST    @11,@AL00001+24                                  01S0670
         LA    @11,OFFSET#3                                     01S0670
         ST    @11,@AL00001+28                                  01S0670
         LA    @11,DYNAINFO                                     01S0670
         ST    @11,@AL00001+32                                  01S0670
         LA    @11,@CF00106                                     01S0670
         ST    @11,@AL00001+36                                  01S0670
         MVI   @AL00001+36,X'80'                                01S0670
         L     @15,APCTZDWT(,APCTPTR)                           01S0670
         LA    @01,@AL00001                                     01S0670
         BALR  @14,@15                                          01S0670
*                         END;                                  01S0671
*                        ELSE                                   01S0672
*                          /* FOR VS1 DUMP3838 IS ALLOCATED FROM JCL */
*                         DO;       /* PROCEED WITH ATTEMPT TO OPEN  */
         B     @RC00664                                         01S0672
@RF00664 DS    0H                                               01S0673
*                    /* THIS CODE SERVES TO OPEN THE DUMP3838 DATASET *
*                                   /*                               */
*  GENERATE CODE                    /* ATTEMPT AN OPEN OF DUMP3838   */
*      REFS(DCB3838A,OPN3838S)                                  02S0673
*      SETS(DCB3838A,OPN3838A);   /*                            02S0673
     MVC    DCB3838A(DCB3838E),DCB3838S
     MVC    OPN3838A(OPN3838E),OPN3838S
     OPEN   (DCB3838A,(OUTPUT)),MF=(E,OPN3838A)
*                          DCBPTR = ADDR(DCB3838A); /* DUMP3838 DCB  */
         LA    @11,DCB3838A                                     01S0674
         ST    @11,DCBPTR                                       01S0674
*                          IF DCBOFOPN=FALSE THEN /* IF OPEN FAILED  */
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0675
         BNZ   @RF00675                                         01S0675
*                           DO;     /* NOTIFY OPERATOR               */
*                            CMNDCODE = '28'; /* SET ERROR REASON CD */
         MVC   CMNDCODE(2),@CC03314                             01S0677
*                            CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,
*                                LENGTH(APCTSSID),OFFSET#2,CMNDCODE,
*                                LENGTH(CMNDCODE)); /* WTO THE MESSAG*/
         LA    @11,@CF00673                                     01S0678
         ST    @11,@AL00001                                     01S0678
         LA    @11,OFFSET#1                                     01S0678
         ST    @11,@AL00001+4                                   01S0678
         LA    @11,APCTSSID(,APCTPTR)                           01S0678
         ST    @11,@AL00001+8                                   01S0678
         LA    @11,@CF00106                                     01S0678
         ST    @11,@AL00001+12                                  01S0678
         LA    @11,OFFSET#2                                     01S0678
         ST    @11,@AL00001+16                                  01S0678
         LA    @11,CMNDCODE                                     01S0678
         ST    @11,@AL00001+20                                  01S0678
         LA    @11,@CF00073                                     01S0678
         ST    @11,@AL00001+24                                  01S0678
         MVI   @AL00001+24,X'80'                                01S0678
         L     @15,APCTZDWT(,APCTPTR)                           01S0678
         LA    @01,@AL00001                                     01S0678
         BALR  @14,@15                                          01S0678
*                                   /* ATTEMPT TO UNALLOCATE DATASET */
*                   /* RESET REQUEST BLOCK FOR DYNAMIC UNALLOCATION  */
*  S99VERB = S99VRBUN;              /* SET RB VERB CODE FOR UNALLOC  */
         LA    @11,RQBLK                                        02S0679
         MVI   S99VERB(@11),X'02'                               02S0679
*  S99FLAG1 = '0000'X;              /* CLEAR OUT FLAG1               */
         MVC   S99FLAG1(2,@11),@CB03315                         02S0680
*  S99ERROR = ZERO;                 /* IN CASE ERROR CODE PROVIDED   */
         SLR   @04,@04                                          02S0681
         STH   @04,S99ERROR(,@11)                               02S0681
*  S99INFO = ZERO;                  /* IN CASE INFO. CODE PROVIDED   */
         STH   @04,S99INFO(,@11)                                02S0682
*  S99FLAG2 = '00000000'X;          /* CLEAR OUT FLAG2               */
         MVC   S99FLAG2(4,@11),@CB03256                         02S0683
*                   /* INITIALIZE THE ONLY TEXT UNIT FOR UNALLOCATE  */
*  S99TUPLN(1) = BITONE;            /* THIS IS LAST TEXT UNIT IN LIST*/
         LA    @11,TUPTRS                                       02S0684
         OI    S99TUPLN(@11),B'10000000'                        02S0684
*  S99TUKEY = DUNDDNAM;             /* DENOTES DSNAME UNALLOCATION   */
         L     @11,S99TUPTR+20(,@11)                            02S0685
         MVC   S99TUKEY(2,@11),@CB00365                         02S0685
*                   /* NOW ACTUALLY COMMIT THE UNALLOCATION          */
*  RFY (R1P,R15F) RSTD;             /* PTR IN REG 1 , RCDE IN REG 15 */
*  R1P = ADDR(S99RBPTR);            /* INSERT CORRECT ADDRESS INTO R1*/
         LA    R1P,RQBLKPTR                                     02S0687
*  GENERATE (DYNALLOC)              /* INVOKE THE SVC 99             */
*      REFS(R1P)                                                02S0688
*      SETS(R15F);                                              02S0688
         DYNALLOC
*  RFY (R1P,R15F) UNRSTD;           /* GIVE BACK THE REGISTERS       */
*                           END;                                01S0690
*                          ELSE     /* OTHERWISE, OPEN SUCCEEDED     */
*                           DO;                                 01S0691
         B     @RC00675                                         01S0691
@RF00675 DS    0H                                               01S0692
*                                 /* ATTEMPT A REOPEN OF DUMP TEMP   */
*  GENERATE  CODE                   /* ATTEMPT A REOPEN              */
*      REFS(DCBTEMPA,ROPTEMPS)                                  02S0692
*      SETS(DCBTEMPA,ROPTEMPA);     /*                          02S0692
     MVC   ROPTEMPA(ROPTEMPE),ROPTEMPS
     OPEN  (DCBTEMPA,(INPUT)),MF=(E,ROPTEMPA)
*                            DCBPTR = ADDR(DCBTEMPA);/* DUMPTEMP DCB */
         LA    @11,DCBTEMPA                                     01S0693
         ST    @11,DCBPTR                                       01S0693
*                            IF DCBOFOPN=FALSE THEN /* OPEN FAILED   */
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0694
         BNZ   @RF00694                                         01S0694
*                              DO;                              01S0695
*                                CMNDCODE = '20'; /* SET REASON CODE */
         MVC   CMNDCODE(2),@CC03255                             01S0696
*                                CALL APCVZDWT(IGT280I,OFFSET#1,
*                                    APCTSSID,LENGTH(APCTSSID), 01S0697
*                                    OFFSET#2,CMNDCODE,         01S0697
*                                    LENGTH(CMNDCODE)); /* WTO MSG.  */
         LA    @11,@CF00673                                     01S0697
         ST    @11,@AL00001                                     01S0697
         LA    @11,OFFSET#1                                     01S0697
         ST    @11,@AL00001+4                                   01S0697
         LA    @11,APCTSSID(,APCTPTR)                           01S0697
         ST    @11,@AL00001+8                                   01S0697
         LA    @11,@CF00106                                     01S0697
         ST    @11,@AL00001+12                                  01S0697
         LA    @11,OFFSET#2                                     01S0697
         ST    @11,@AL00001+16                                  01S0697
         LA    @11,CMNDCODE                                     01S0697
         ST    @11,@AL00001+20                                  01S0697
         LA    @11,@CF00073                                     01S0697
         ST    @11,@AL00001+24                                  01S0697
         MVI   @AL00001+24,X'80'                                01S0697
         L     @15,APCTZDWT(,APCTPTR)                           01S0697
         LA    @01,@AL00001                                     01S0697
         BALR  @14,@15                                          01S0697
*                              END;                             01S0698
*                            ELSE   /* REOPEN WAS SUCCESSFUL         */
*                              DO;                              01S0699
         B     @RC00694                                         01S0699
@RF00694 DS    0H                                               01S0700
*                                REOPENED = TRUE;/*NOTE REOPN SUCCESS*/
         OI    REOPENED,B'00001000'                             01S0700
*                                  /* THE DUMPTEMP AND DUMP3838      */
*                                  /* DATASETS NOW BEING OPEN,       */
*                                  /* REFORMAT AND OUTPUT THE DUMP.  */
*                   /* ISSUE FIRST PUT TO OBTAIN FIRST OUTPUT BUFFER */
*  CALL PUT3838;                                                02S0701
         BAL   @14,PUT3838                                      02S0701
*  CALL SEPPAGE;                   /* GENERATE THE SEPARATOR PAGE.   */
         BAL   @14,SEPPAGE                                      02S0702
*  LINCOUNT = ZERO;                 /* THAT PUT DOESN'T COUNT        */
         SLR   @11,@11                                          02S0703
         STH   @11,LINCOUNT                                     02S0703
*                   /* SETUP HEADER FOR DUMP OUTPUT.                 */
*                   /* OBTAIN DATE & TIME FOR DUMP IDENTIFICATION    */
*  YEARDATE = '';                   /* INITIALIZE YEAR-DATE FIELD    */
         MVI   YEARDATE,C' '                                    03S0704
         MVC   YEARDATE+1(4),YEARDATE                           03S0704
*  HRMINSEC = '';                   /* INITIALIZE HOUR-MIN-SEC FIELD */
         MVI   HRMINSEC,C' '                                    03S0705
         MVC   HRMINSEC+1(6),HRMINSEC                           03S0705
*  RFY (R0F,R1F,R15F) RSTD;         /* ALL REGISTERS USED BY MACRO   */
*  GENERATE   CODE                                              03S0707
*      SETS(R0F,R1F,R15F)                                       03S0707
*      FLOWS(TIMERROR);             /*                          03S0707
     TIME   DEC,ERRET=TIMERROR
*  FULLWORD = R1F;                  /* STORE YEAR & DATE FOR SS INSTR*/
         ST    R1F,FULLWORD                                     03S0708
*  UNPK(YEARDATE,FULLWORD);         /* UNPACK YEAR & DATE            */
         UNPK  YEARDATE(5),FULLWORD(4)                          03S0709
*  FULLWORD = R0F × '0000000F'X;    /* SET EBCDIC ZONE IN LOW 4 BITS */
         LR    @14,R0F                                          03S0710
         O     @14,@CF03323                                     03S0710
         ST    @14,FULLWORD                                     03S0710
*  UNPK(HRMINSEC,FULLWORD);         /* UNPACK TIME FROM FULLWORD     */
         UNPK  HRMINSEC(7),FULLWORD(4)                          03S0711
*  RFY (R0F,R1F,R15F) UNRSTD;       /* GIVE BACK REG'S 0 AND 1 AND 15*/
*TIMERROR: ;                        /* PRECEDING UNPACK'S ARE BYPASSD*/
TIMERROR DS    0H                                               03S0714
*                                   /* IN THE EVENT CLOCKS ARE DOWN  */
*                   /* NOW SET UP HEADER LINE OF DUMP OUTPUT         */
*  RFY PRNTLINE BASED(BUFFPTR2);    /* PRNTLINE IS DUMP LINE IMAGE   */
*  PRNTLINE(1:121) = '1';           /* CLEAR LINE FOR NEW PAGE SKIP  */
         MVI   PRNTLINE+1(BUFFPTR2),C' '                        03S0715
         MVC   PRNTLINE+2(119,BUFFPTR2),PRNTLINE+1(BUFFPTR2)    03S0715
         MVI   PRNTLINE(BUFFPTR2),C'1'                          03S0715
*  PRNTLINE(11:14) = APCTSSID;      /* INSERT SUBSYSTEM ID           */
         MVC   PRNTLINE+10(4,BUFFPTR2),APCTSSID(APCTPTR)        03S0716
*  IF APCQINT=TRUE THEN             /* IF INTERNAL DUMP COMMAND      */
         TM    APCQINT(APCQPTR),B'10000000'                     03S0717
         BNO   @RF00717                                         03S0717
*    IF DUMPFORC=TRUE THEN          /* AND FORCE DUMP                */
         TM    DUMPFORC,B'10000000'                             03S0718
         BNO   @RF00718                                         03S0718
*      PRNTLINE(16:31) = ' INTERNAL FORCE ';/* SET TYPE IN HEADER    */
         MVC   PRNTLINE+15(16,BUFFPTR2),@CC03327                03S0719
*    ELSE                           /* PORT DUMP                     */
*      PRNTLINE(16:31) = 'INTERNAL DYNAMIC';/* SET TYPE IN HEADER    */
         B     @RC00718                                         03S0720
@RF00718 MVC   PRNTLINE+15(16,BUFFPTR2),@CC03329                03S0720
*  ELSE                             /* OPERATOR DUMP COMMAND         */
*    IF DUMPFORC=TRUE THEN          /* IF FORCE DUMP                 */
         B     @RC00717                                         03S0721
@RF00717 TM    DUMPFORC,B'10000000'                             03S0721
         BNO   @RF00721                                         03S0721
*      PRNTLINE(16:31) = ' OPERATOR FORCE ';/* SET TYPE IN HEADER    */
         MVC   PRNTLINE+15(16,BUFFPTR2),@CC03331                03S0722
*    ELSE                           /* DYNAMIC DUMP                  */
*      PRNTLINE(16:31) = 'OPERATOR DYNAMIC';/* SET TYPE IN HEADER    */
         B     @RC00721                                         03S0723
@RF00721 MVC   PRNTLINE+15(16,BUFFPTR2),@CC03333                03S0723
*  PRNTLINE(33:49) = 'DUMP GENERATED ON';/* CONTINUE HEADER          */
@RC00721 DS    0H                                               03S0724
@RC00717 MVC   PRNTLINE+32(17,BUFFPTR2),@CC03335                03S0724
*  PRNTLINE(51:52) = '19';          /* GIVE CENTURY                  */
         MVC   PRNTLINE+50(2,BUFFPTR2),@CC03337                 03S0725
*  PRNTLINE(53:54) = YEARDATE(1:2); /* GIVE YEAR                     */
         MVC   PRNTLINE+52(2,BUFFPTR2),YEARDATE                 03S0726
*  PRNTLINE(55:55) = '.';           /* PERIOD                        */
         MVI   PRNTLINE+54(BUFFPTR2),C'.'                       03S0727
*  PRNTLINE(56:58) = YEARDATE(3:5); /* GIVE DAY                      */
         MVC   PRNTLINE+55(3,BUFFPTR2),YEARDATE+2               03S0728
*  PRNTLINE(60:61) = 'AT';          /* AT                            */
         MVC   PRNTLINE+59(2,BUFFPTR2),@CC03339                 03S0729
*  PRNTLINE(63:64) = HRMINSEC(1:2); /* SHOW HOUR                     */
         MVC   PRNTLINE+62(2,BUFFPTR2),HRMINSEC                 03S0730
*  PRNTLINE(65:65) = ':';           /* SEPARATOR                     */
         MVI   PRNTLINE+64(BUFFPTR2),C':'                       03S0731
*  PRNTLINE(66:67) = HRMINSEC(3:4); /* SHOW MINUTES                  */
         MVC   PRNTLINE+65(2,BUFFPTR2),HRMINSEC+2               03S0732
*  PRNTLINE(68:68) = ':';           /* SEPARATOR                     */
         MVI   PRNTLINE+67(BUFFPTR2),C':'                       03S0733
*  PRNTLINE(69:70) = HRMINSEC(5:6); /* SHOW SECONDS                  */
         MVC   PRNTLINE+68(2,BUFFPTR2),HRMINSEC+4               03S0734
*  PRNTLINE(72:79) = 'FOR UNIT';    /* TO IDENTIFY UNIT BEING DUMPED */
         MVC   PRNTLINE+71(8,BUFFPTR2),@CC03342                 03S0735
*  PRNTLINE(81:81+LENGTH(UNITADDR)-1) = UNITADDR; /*SLIP IN UNIT ADDR*/
         MVC   PRNTLINE+80(3,BUFFPTR2),UNITADDR                 03S0736
*  IF UNITADDR(3:3)^='0' THEN       /* IF IT IS A PORT DUMP          */
         CLI   UNITADDR+2,C'0'                                  03S0737
         BE    @RF00737                                         03S0737
*    DO;                                                        03S0738
*      JBNMPTR = APUBPTR;           /* BEGIN WITH MASTER PORT APUB   */
         ST    APUBPTR,JBNMPTR                                  03S0739
*      DO WHILE(UNITADDR(3:3)^=JBNMPTR->APUBUCB->UCBNAME(3:3) & 03S0740
*          JBNMPTR^=ZERO);          /* SEARCH FOR DUMPED PORT'S APUB */
         B     @DE00740                                         03S0740
@DL00740 DS    0H                                               03S0741
*        JBNMPTR = JBNMPTR->APUBAPUB; /* ADVANCE TO NEXT USER APUB   */
         L     @11,JBNMPTR                                      03S0741
         L     @11,APUBAPUB(,@11)                               03S0741
         ST    @11,JBNMPTR                                      03S0741
*      END;                                                     03S0742
@DE00740 L     @11,JBNMPTR                                      03S0742
         L     @04,APUBUCB(,@11)                                03S0742
         CLC   UNITADDR+2(1),UCBNAME+2(@04)                     03S0742
         BE    @DC00740                                         03S0742
         LTR   @11,@11                                          03S0742
         BNZ   @DL00740                                         03S0742
@DC00740 DS    0H                                               03S0743
*      PRNTLINE(90:99) = 'JOBNAME = '; /* SET TO IDENTIFY DUMP OWNER */
         MVC   PRNTLINE+89(10,BUFFPTR2),@CC03346                03S0743
*      PRNTLINE(100:100+LENGTH(APUBJBNM)-1) = JBNMPTR->APUBJBNM; /*  */
         L     @11,JBNMPTR                                      03S0744
         MVC   PRNTLINE+99(8,BUFFPTR2),APUBJBNM(@11)            03S0744
*                                               /* GET JOBNAME       */
*    END;                                                       03S0745
*  ELSE;                                                        03S0746
@RF00737 DS    0H                                               03S0747
*  PRNTLINE(121-8:121) = 'PAGE 0001';           /* INSERT PAGE NUM.  */
         MVC   PRNTLINE+112(9,BUFFPTR2),@CC03348                03S0747
*                   /* OUTPUT THE DUMP HEADER                        */
*  CALL PUT3838;                    /* PRINT IDENTIFYING HEADER LINE */
         BAL   @14,PUT3838                                      02S0748
*  PRNTLINE(1:121) = '';            /* CLEAR NEWEST PRINT LINE       */
         MVI   PRNTLINE(BUFFPTR2),C' '                          02S0749
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      02S0749
*  PREVLINE = PRNTLINE;             /* INITIALIZE PREV.LINE IMAGE    */
         MVC   PREVLINE(121),PRNTLINE(BUFFPTR2)                 02S0750
*  CALL PUT3838;                    /* PRINT ONE LINE OF BLANKS      */
         BAL   @14,PUT3838                                      02S0751
*                                   /* PRINT DUMP COMMAND FOR REFERNC*/
*  PRNTLINE(2:1+LENGTH(CMDINTRO)) = CMDINTRO;   /* PREP FOR COMMAND  */
         MVC   PRNTLINE+1(25,BUFFPTR2),CMDINTRO                 02S0752
*  PRNTLINE(LENGTH(CMDINTRO)+2:121) = APCQCMND(1:APCQTXLN);     02S0753
         MVI   PRNTLINE+27(BUFFPTR2),C' '                       02S0753
         MVC   PRNTLINE+28(93,BUFFPTR2),PRNTLINE+27(BUFFPTR2)   02S0753
         LH    @11,APCQTXLN(,APCQPTR)                           02S0753
         BCTR  @11,0                                            02S0753
         EX    @11,@SM03543                                     02S0753
*  CALL PUT3838;                    /* PRINT THE OPERATOR'S COMMAND  */
         BAL   @14,PUT3838                                      02S0754
*  PRNTLINE(1:121) = '';            /* FORM A BLANK LINE             */
         MVI   PRNTLINE(BUFFPTR2),C' '                          02S0755
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      02S0755
*  CALL PUT3838;                    /* PRINT BLANK LINE              */
         BAL   @14,PUT3838                                      02S0756
*                   /* INITIALIZE VALUES & GET FIRST DUMP RECORD     */
*  DUMPISCP = FALSE;                /* INITIALIZE DUMPISCP           */
*  DUMPISBS = FALSE;                /* INITIALIZE DUMPISBS           */
         NI    DUMPISCP,B'10011111'                             03S0758
*  IF DUMPCP=TRUE THEN              /* IF DUMP OF CP IS REQUESTED    */
         TM    DUMPCP,B'00000001'                               03S0759
         BNO   @RF00759                                         03S0759
*    DUMPISCP = TRUE;               /* THEN IT IS 1ST PARTITION OUT  */
         OI    DUMPISCP,B'00100000'                             03S0760
*  ELSE                             /* OTHERWISE                     */
*    IF DUMPBS=TRUE THEN            /* IF DUMP OF BS IS REQUESTED    */
         B     @RC00759                                         03S0761
@RF00759 TM    DUMPBS,B'00000100'                               03S0761
         BNO   @RF00761                                         03S0761
*      DUMPISBS = TRUE;             /* THEN IT COMES OUT NOW         */
         OI    DUMPISBS,B'01000000'                             03S0762
*    ELSE;                          /* OTHERWISE, NOTHING            */
@RF00761 DS    0H                                               03S0764
*  ISBSCRPT = 1;                    /* BEGINNING OF INPUT RECORD     */
@RC00759 LA    @03,1                                            03S0764
         STH   @03,ISBSCRPT                                     03S0764
*  OSBSCRPT = 1;                    /* BEGINNING OF OUTPUT RECORD    */
         LR    OSBSCRPT,@03                                     03S0765
*  PRINTING = TRUE;                 /* INDICATE PRINTING IN PROGRESS */
         OI    PRINTING,B'10000000'                             03S0766
*  CALL GETTEMP;                    /* GET FIRST DUMP RECORD         */
         BAL   @14,GETTEMP                                      02S0767
*                   /* NOW GRIND OUT A REFORMATTED PRINTED DUMP,     */
*                   /* WITH CP STG FIRST FOLLOWED BY BULK STG.       */
*  IF DUMPCP=TRUE & DUMPISCP=TRUE & PRINTING=TRUE THEN          03S0768
         TM    DUMPCP,B'00000001'                               03S0768
         BNO   @RF00768                                         03S0768
         TM    DUMPISCP,B'00100000'                             03S0768
         BNO   @RF00768                                         03S0768
         TM    PRINTING,B'10000000'                             03S0768
         BNO   @RF00768                                         03S0768
*                   /* CONTROL PROGRAM STORAGE IS FIRST TO BE DUMPED */
*   DO WHILE (DUMPISCP=TRUE & PRINTING=TRUE);/* DO FOR ALL OF CP DUMP*/
         B     @DE00769                                         03S0769
@DL00769 DS    0H                                               03S0770
*              /* CONVERT CHARACTERS UNTIL A BUFFER END IS REACHED   */
*    CALL CHRCNVRT;                                             03S0770
         BAL   @14,CHRCNVRT                                     03S0770
*              /* LOGIC FOLLOWS FOR END OF BUFFER(S) ENCOUNTERED     */
*    IF OSBSCRPT>121 THEN                                       03S0771
         C     OSBSCRPT,@CF00114                                03S0771
         BNH   @RF00771                                         03S0771
*      DO;                          /* END OF OUTPUT BUFFER REACHED  */
*        CALL LNREPEAT;             /* SEE IF LINE REPEATS & OUTPUT  */
         BAL   @14,LNREPEAT                                     03S0773
*        OSBSCRPT = 1;              /* SET FOR NEW OUTPUT BUFFER     */
         LA    OSBSCRPT,1                                       03S0774
*      END;                                                     03S0775
*    ELSE;                          /* NOT END OF OUTPUT BUFFER      */
@RF00771 DS    0H                                               03S0777
*                             /* PROCESS FOR END OF INPUT BUFFER     */
*    IF ISBSCRPT>DRLTH & PRINTING=TRUE THEN /* IF END OF INPUT BUFFER*/
         LH    @03,ISBSCRPT                                     03S0777
         CH    @03,DRLTH(,BUFFPTR)                              03S0777
         BNH   @RF00777                                         03S0777
         TM    PRINTING,B'10000000'                             03S0777
         BNO   @RF00777                                         03S0777
*      DO;                                                      03S0778
*        IF ENDOFSTG=TRUE THEN      /* AND END OF CP DUMP INPUT      */
         TM    ENDOFSTG(BUFFPTR),B'00000100'                    03S0779
         BNO   @RF00779                                         03S0779
*          DO;                                                  03S0780
*            IF OSBSCRPT>11 & OSBSCRPT<=121 THEN      /*LINE NOT FULL*/
         C     OSBSCRPT,@CF02133                                03S0781
         BNH   @RF00781                                         03S0781
         C     OSBSCRPT,@CF00114                                03S0781
         BH    @RF00781                                         03S0781
*              DO;                  /* PAD (LAST CP) LINE WITH BLANKS*/
*                CALL PADBLANX;     /* INSERT THE PADDING BLANKS     */
         BAL   @14,PADBLANX                                     03S0783
*                CALL LNREPEAT;     /* CAUSE LINE TO BE PRINTED      */
         BAL   @14,LNREPEAT                                     03S0784
*                OSBSCRPT = 1;      /* RESET IN CASE BS TO BE DUMPED */
         LA    OSBSCRPT,1                                       03S0785
*              END;                                             03S0786
*            ELSE;                  /* OUTPUT BUFFER WAS FILLED ALSO */
@RF00781 DS    0H                                               03S0788
*            DUMPISCP = FALSE;      /* END OF CP DUMPING             */
*            DUMPISBS = TRUE;       /* IF ANY DATA REMAINS, IT IS BS */
         OI    DUMPISBS,B'01000000'                             03S0789
         NI    DUMPISCP,B'11011111'                             03S0789
*          END;                                                 03S0790
*        ELSE;                      /* MERELY RECORD END, NOT CP END */
@RF00779 DS    0H                                               03S0792
*        IF DUMPCP=TRUE & DUMPISCP=TRUE × DUMPBS=TRUE & DUMPISBS=TRUE
*            THEN                   /* IF DUMPING IS TO CONTINUE THEN*/
         TM    DUMPCP,B'00000001'                               03S0792
         BNO   @GL00028                                         03S0792
         TM    DUMPISCP,B'00100000'                             03S0792
         BO    @RT00792                                         03S0792
@GL00028 TM    DUMPBS,B'00000100'                               03S0792
         BNO   @RF00792                                         03S0792
         TM    DUMPISBS,B'01000000'                             03S0792
         BNO   @RF00792                                         03S0792
@RT00792 DS    0H                                               03S0793
*          DO;                      /* OBTAIN NEXT DUMP RECORD       */
*            CALL GETTEMP;          /* OBTAIN THE RECORD             */
         BAL   @14,GETTEMP                                      03S0794
*            ISBSCRPT = 1;          /* RESET INPUT RECORD INDEX      */
         MVC   ISBSCRPT(2),@CH00079                             03S0795
*          END;                                                 03S0796
*        ELSE                       /* OTHERWISE, NO MORE DUMP OUTPUT*/
*          PRINTING = FALSE;        /* INDICATE NO MORE DUMP OUTPUT  */
         B     @RC00792                                         03S0797
@RF00792 NI    PRINTING,B'01111111'                             03S0797
*      END;                                                     03S0798
*    ELSE;                          /* NOT END OF INPUT BUFFER       */
@RF00777 DS    0H                                               03S0800
*   END;                            /* END DOWHILE DUMPISCP=TRUE     */
@RC00777 DS    0H                                               03S0800
@DE00769 TM    DUMPISCP,B'00100000'                             03S0800
         BNO   @DC00769                                         03S0800
         TM    PRINTING,B'10000000'                             03S0800
         BO    @DL00769                                         03S0800
@DC00769 DS    0H                                               03S0801
*  ELSE;                            /* CP STORAGE NOT TO BE OUTPUT   */
@RF00768 DS    0H                                               03S0802
*  IF REPEATNG=TRUE THEN            /* IF LAST CP LINE WAS A REPEAT  */
         TM    REPEATNG,B'00000100'                             03S0802
         BNO   @RF00802                                         03S0802
*    DO;                            /* REPEAT MSG MUST BE OUTPUT     */
*      PRNTLINE = REPETMSG;         /* MOVE IN SKELETON OF MESSAGE   */
         MVC   PRNTLINE(121,BUFFPTR2),REPETMSG                  03S0804
*                             /* INSERT TWO ADDRESSES INTO MESSAGE   */
*      PRNTLINE(16:21) = RPTADDR1;    /* MOVE IN LOW ADDR OF RANGE   */
         MVC   PRNTLINE+15(6,BUFFPTR2),RPTADDR1                 03S0805
*      PRNTLINE(31:36) = RPTADDR2;    /* MOVE IN HIGH ADDR OF RANGE  */
         MVC   PRNTLINE+30(6,BUFFPTR2),RPTADDR2                 03S0806
*      IF LINCOUNT=APCTLINE THEN    /* IF BOTTOM OF PAGE NOW REACHED */
         CLC   LINCOUNT(2),APCTLINE(APCTPTR)                    03S0807
         BNE   @RF00807                                         03S0807
*        CALL TOPOFPAG;             /* THEN HAVE PAGE HEADER PRINTED */
         BAL   @14,TOPOFPAG                                     03S0808
*      ELSE;                        /* ELSE PRINT NEXT DUMP LINE NOW */
@RF00807 DS    0H                                               03S0810
*      CALL PUT3838;                /* OUT GOES THE REPEAT MESSAGE   */
         BAL   @14,PUT3838                                      03S0810
*      REPEATNG = FALSE;            /* REPEATING NO LONGER PREVAILS  */
         NI    REPEATNG,B'11111011'                             03S0811
*    END;                                                       03S0812
*  ELSE;                            /* NO REPEAT FOR LAST CP LINE    */
@RF00802 DS    0H                                               03S0814
*  IF DUMPBS=TRUE & DUMPCP=TRUE THEN/* IF BS GOING OUT & CP GONE     */
         TM    DUMPBS,B'00000101'                               03S0814
         BNO   @RF00814                                         03S0814
*    DO;                            /* SKIP TO A NEW PAGE            */
*      LINCOUNT = APCTLINE;         /* INDICATE A FULL PAGE OUTPUT   */
         LH    @03,APCTLINE(,APCTPTR)                           03S0816
         STH   @03,LINCOUNT                                     03S0816
*      CALL TOPOFPAG;               /* SKIP TO NEW PAGE WITH LABEL   */
         BAL   @14,TOPOFPAG                                     03S0817
*    END;                                                       03S0818
*  ELSE;                                                        03S0819
@RF00814 DS    0H                                               03S0820
*  IF DUMPBS=TRUE & DUMPISBS=TRUE & PRINTING=TRUE THEN /* IF DUMP BS */
         TM    DUMPBS,B'00000100'                               03S0820
         BNO   @RF00820                                         03S0820
         TM    DUMPISBS,B'01000000'                             03S0820
         BNO   @RF00820                                         03S0820
         TM    PRINTING,B'10000000'                             03S0820
         BNO   @RF00820                                         03S0820
*    DO;                                                        03S0821
*                             /* BULK STORAGE IS SECOND TO BE DUMPED.*/
*      IF DUMPCP=TRUE THEN          /* IF CP STORAGE WAS DUMPED      */
         TM    DUMPCP,B'00000001'                               03S0822
         BNO   @RF00822                                         03S0822
*        PREVLINE(1:121) = '';      /* THEN CLEAR OUT PREVLINE       */
         MVI   PREVLINE,C' '                                    03S0823
         MVC   PREVLINE+1(120),PREVLINE                         03S0823
*                   /* IF DUMP LIMIT ADDRESSES HAVE BEEN SPECIFIED   */
*                   /* THEN ADVANCE TO LOWER LIMIT LINE IN INPUT REC */
*      IF DUMPBSAA=TRUE THEN        /* SEE IF LIMITS HAVE BEEN GIVEN */
@RF00822 TM    DUMPBSAA,B'00000010'                             03S0824
         BNO   @RF00824                                         03S0824
*        DO;                                                    03S0825
*          DO WHILE((DRBSA + (ISBSCRPT-1)/4 + 12 -1) < BSLLIMIT);
         B     @DE00826                                         03S0826
@DL00826 DS    0H                                               03S0827
*                                   /* ADDRESSES IN FULLWORDS. SO,   */
*                                   /* ADVANCE UNTIL WITHIN AN OUTPUT*/
*                                   /* LINE OF LOWER LIMIT WORD      */
*            ISBSCRPT = ISBSCRPT + 12*4;      /* ADVANCE BY # BYTES  */
         LH    @03,ISBSCRPT                                     03S0827
         LA    @03,48(,@03)                                     03S0827
         STH   @03,ISBSCRPT                                     03S0827
*          END;                     /* END DOWHILE                   */
@DE00826 LH    @00,ISBSCRPT                                     03S0828
         BCTR  @00,0                                            03S0828
         SRDA  @00,32                                           03S0828
         D     @00,@CF00106                                     03S0828
         AL    @01,DRBSA(,BUFFPTR)                              03S0828
         SL    @01,@CF03494                                     03S0828
         C     @01,BSLLIMIT                                     03S0828
         BL    @DL00826                                         03S0828
*        END;                                                   03S0829
*      ELSE;                        /* OTHERWISE NO DUMP LIMITS GIVEN*/
@RF00824 DS    0H                                               03S0831
*      DO WHILE DUMPISBS=TRUE & PRINTING=TRUE;                  03S0831
         B     @DE00831                                         03S0831
@DL00831 DS    0H                                               03S0832
*              /* CONVERT CHARACTERS UNTIL A BUFFER END IS REACHED   */
*        CALL CHRCNVRT;                                         03S0832
         BAL   @14,CHRCNVRT                                     03S0832
*                   /* IF DUMP LIMIT ADDRESSES HAVE BEEN SPECIFIED   */
*                   /* THEN SEE IF UPPER LIMIT HAS BEEN REACHED      */
*        IF DUMPBSAA=TRUE & BSHLIMIT<(DRBSA + (ISBSCRPT+3)/4) THEN
         TM    DUMPBSAA,B'00000010'                             03S0833
         BNO   @RF00833                                         03S0833
         LA    @00,3                                            03S0833
         AH    @00,ISBSCRPT                                     03S0833
         SRDA  @00,32                                           03S0833
         D     @00,@CF00106                                     03S0833
         AL    @01,DRBSA(,BUFFPTR)                              03S0833
         C     @01,BSHLIMIT                                     03S0833
         BNH   @RF00833                                         03S0833
*          PRINTING = FALSE;        /* IF LIMIT REACHED THEN END DUMP*/
         NI    PRINTING,B'01111111'                             03S0834
*        ELSE;                                                  03S0835
@RF00833 DS    0H                                               03S0836
*              /* LOGIC FOLLOWS FOR END OF BUFFER(S) ENCOUNTERED     */
*        IF OSBSCRPT>121 THEN                                   03S0836
         C     OSBSCRPT,@CF00114                                03S0836
         BNH   @RF00836                                         03S0836
*          DO;                      /* END OF OUTPUT BUFFER REACHED  */
*            CALL LNREPEAT;         /* SEE IF LINE REPEATS & OUTPUT  */
         BAL   @14,LNREPEAT                                     03S0838
*            OSBSCRPT = 1;          /* RESET FOR NEW OUTPUT BUFFER   */
         LA    OSBSCRPT,1                                       03S0839
*          END;                                                 03S0840
*        ELSE                                                   03S0841
*          IF PRINTING=FALSE THEN   /* IF UPPER ADDR LIMIT REACHED   */
         B     @RC00836                                         03S0841
@RF00836 TM    PRINTING,B'10000000'                             03S0841
         BNZ   @RF00841                                         03S0841
*            DO;                    /* FILL INCOMPLETE BUFFER & OUTPT*/
*              CALL PADBLANX;       /* INSERT THE PADDING BLANKS     */
         BAL   @14,PADBLANX                                     03S0843
*              CALL LNREPEAT;       /* CAUSE LINE(S) TO BE PRINTED   */
         BAL   @14,LNREPEAT                                     03S0844
*            END;                                               03S0845
*          ELSE;                    /* NEITHER BUFFER END OR ADDR END*/
@RF00841 DS    0H                                               03S0847
*                             /* PROCESS FOR END OF INPUT BUFFER     */
*          IF ISBSCRPT>DRLTH & PRINTING=TRUE THEN /* IF BUFFER END   */
@RC00836 LH    @00,ISBSCRPT                                     03S0847
         CH    @00,DRLTH(,BUFFPTR)                              03S0847
         BNH   @RF00847                                         03S0847
         TM    PRINTING,B'10000000'                             03S0847
         BNO   @RF00847                                         03S0847
*            DO;                                                03S0848
*              IF ENDOFSTG=TRUE THEN/*  AN END OF BS DUMP INPUT      */
         TM    ENDOFSTG(BUFFPTR),B'00000100'                    03S0849
         BNO   @RF00849                                         03S0849
*                DO;                                            03S0850
*                  IF OSBSCRPT>11 & OSBSCRPT<=121 THEN          03S0851
         C     OSBSCRPT,@CF02133                                03S0851
         BNH   @RF00851                                         03S0851
         C     OSBSCRPT,@CF00114                                03S0851
         BH    @RF00851                                         03S0851
*                    DO;            /* PAD (LAST BS) LINE WITH BLANKS*/
*                      CALL PADBLANX;/* INSERT THE PADDING BLANKS    */
         BAL   @14,PADBLANX                                     03S0853
*                      CALL LNREPEAT;/* CAUSE LINE(S) TO BE PRINTED  */
         BAL   @14,LNREPEAT                                     03S0854
*                    END;                                       03S0855
*                  ELSE;            /*  LINE NOT IN NEED OF PADDING  */
@RF00851 DS    0H                                               03S0857
*                  DUMPISBS = FALSE;/*  SIGNAL END OF BS DUMP PRINT  */
         NI    DUMPISBS,B'10111111'                             03S0857
*                END;                                           03S0858
*              ELSE;                /* MERELY RECORD END, NOT BS END */
@RF00849 DS    0H                                               03S0860
*              IF DUMPISBS=TRUE THEN /* ANOTHER INPUT RECORD NEEDED  */
         TM    DUMPISBS,B'01000000'                             03S0860
         BNO   @RF00860                                         03S0860
*                DO;                                            03S0861
*                  CALL GETTEMP;                                03S0862
         BAL   @14,GETTEMP                                      03S0862
*                  ISBSCRPT = 1;    /* RESET INPUT RECORD INDEX      */
         MVC   ISBSCRPT(2),@CH00079                             03S0863
*                END;                                           03S0864
*              ELSE                 /* OTHERWISE, NO MORE DUMP OUTPUT*/
*                PRINTING = FALSE;  /* INDICATE NO MORE DUMP OUTPUT  */
         B     @RC00860                                         03S0865
@RF00860 NI    PRINTING,B'01111111'                             03S0865
*            END;                   /* END OF END INPUT BUFFER CODE  */
*          ELSE;                    /* NOT END OF INPUT BUFFER       */
@RF00847 DS    0H                                               03S0868
*      END;                         /* END OF DO WHILE DUMPISBS=TRUE */
@RC00847 DS    0H                                               03S0868
@DE00831 TM    DUMPISBS,B'01000000'                             03S0868
         BNO   @DC00831                                         03S0868
         TM    PRINTING,B'10000000'                             03S0868
         BO    @DL00831                                         03S0868
@DC00831 DS    0H                                               03S0869
*    END;                                                       03S0869
*  ELSE;                            /* NO BS DUMP TO BE OUTPUT       */
@RF00820 DS    0H                                               03S0871
*  IF REPEATNG=TRUE THEN            /* IF LAST BS LINE WAS A REPEAT  */
         TM    REPEATNG,B'00000100'                             03S0871
         BNO   @RF00871                                         03S0871
*    DO;                            /* REPEAT MSG MUST BE OUTPUT     */
*      PRNTLINE = REPETMSG;         /* MOVE IN SKELETON OF MESSAGE   */
         MVC   PRNTLINE(121,BUFFPTR2),REPETMSG                  03S0873
*                             /* INSERT TWO ADDRESSES INTO MESSAGE   */
*      PRNTLINE(16:21) = RPTADDR1;    /* MOVE IN LOW ADDR OF RANGE   */
         MVC   PRNTLINE+15(6,BUFFPTR2),RPTADDR1                 03S0874
*      PRNTLINE(31:36) = RPTADDR2;    /* MOVE IN HIGH ADDR OF RANGE  */
         MVC   PRNTLINE+30(6,BUFFPTR2),RPTADDR2                 03S0875
*      IF LINCOUNT=APCTLINE THEN    /* IF BOTTOM OF PAGE NOW REACHED */
         CLC   LINCOUNT(2),APCTLINE(APCTPTR)                    03S0876
         BNE   @RF00876                                         03S0876
*        CALL TOPOFPAG;             /* THEN HAVE PAGE HEADER PRINTED */
         BAL   @14,TOPOFPAG                                     03S0877
*      ELSE;                        /* ELSE PRINT NEXT DUMP LINE NOW */
@RF00876 DS    0H                                               03S0879
*      CALL PUT3838;                /* OUT GOES THE REPEAT MESSAGE   */
         BAL   @14,PUT3838                                      03S0879
*      REPEATNG = FALSE;            /* REPEATING NO LONGER PREVAILS  */
         NI    REPEATNG,B'11111011'                             03S0880
*    END;                                                       03S0881
*  ELSE;                            /* NO REPEAT FOR LAST BS LINE    */
@RF00871 DS    0H                                               03S0883
*  PRNTLINE(1:121) = '';            /*                               */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S0883
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      03S0883
*  IF LINCOUNT=APCTLINE THEN        /* IF BOTTOM OF PAGE NOW REACHED */
         CLC   LINCOUNT(2),APCTLINE(APCTPTR)                    03S0884
         BNE   @RF00884                                         03S0884
*    CALL TOPOFPAG;                 /* THEN HAVE PAGE HEADER PRINTED */
         BAL   @14,TOPOFPAG                                     03S0885
*  ELSE;                            /* ELSE PRINT NEXT DUMP LINE NOW */
@RF00884 DS    0H                                               03S0887
*  CALL PUT3838;                    /*                               */
         BAL   @14,PUT3838                                      03S0887
*  PRNTLINE(1:57) = '';             /*                               */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S0888
         MVC   PRNTLINE+1(56,BUFFPTR2),PRNTLINE(BUFFPTR2)       03S0888
*  PRNTLINE(58:121) = 'END OF XXXX DUMP';      /*                    */
         MVI   PRNTLINE+73(BUFFPTR2),C' '                       03S0889
         MVC   PRNTLINE+74(47,BUFFPTR2),PRNTLINE+73(BUFFPTR2)   03S0889
         MVC   PRNTLINE+57(16,BUFFPTR2),@CC03355                03S0889
*  PRNTLINE(65:68) = APCTSSID;      /*                               */
         MVC   PRNTLINE+64(4,BUFFPTR2),APCTSSID(APCTPTR)        03S0890
*  IF LINCOUNT=APCTLINE THEN        /* IF BOTTOM OF PAGE NOW REACHED */
         CLC   LINCOUNT(2),APCTLINE(APCTPTR)                    03S0891
         BNE   @RF00891                                         03S0891
*    CALL TOPOFPAG;                 /* THEN HAVE PAGE HEADER PRINTED */
         BAL   @14,TOPOFPAG                                     03S0892
*  ELSE;                            /* ELSE PRINT NEXT DUMP LINE NOW */
@RF00891 DS    0H                                               03S0894
*  CALL PUT3838;                    /*                               */
         BAL   @14,PUT3838                                      03S0894
*  PRNTLINE(1:121) = '';            /*                               */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S0895
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      03S0895
*  IF LINCOUNT=APCTLINE THEN        /* IF BOTTOM OF PAGE NOW REACHED */
         CLC   LINCOUNT(2),APCTLINE(APCTPTR)                    03S0896
         BNE   @RF00896                                         03S0896
*    CALL TOPOFPAG;                 /* THEN HAVE PAGE HEADER PRINTED */
         BAL   @14,TOPOFPAG                                     03S0897
*  ELSE;                            /* ELSE PRINT NEXT DUMP LINE NOW */
@RF00896 DS    0H                                               03S0899
*  CALL PUT3838;                    /*                               */
         BAL   @14,PUT3838                                      03S0899
*  CALL SEPPAGE;                   /* GENERATE THE SEPARATOR PAGE.   */
         BAL   @14,SEPPAGE                                      02S0900
*                   /* TRY A CLOSE OF DUMP3838 DATASET               */
*  ABNDCLS8 = TRUE;                 /* LEFT ON IF CLOSE ABENDS       */
         OI    ABNDCLS8,B'00100000'                             03S0901
*  GENERATE  CODE                   /* TRY A CLOSE OF DUMP3838       */
*      REFS(DCB3838A,CLS3838S)                                  03S0902
*      SETS(DCB3838A,CLS3838A);     /*                          03S0902
     MVC   CLS3838A(CLS3838E),CLS3838S
     CLOSE (DCB3838A),MF=(E,CLS3838A)
*  ABNDCLS8 = FALSE;                /* OFF IF NO CLOSE ABEND         */
         NI    ABNDCLS8,B'11011111'                             03S0903
*  DCBPTR = ADDR(DCB3838A);         /* POINT TO DUMP3838 DCB         */
         LA    @11,DCB3838A                                     02S0904
         ST    @11,DCBPTR                                       02S0904
*  IF DCBOFOPN=TRUE THEN            /* IF DUMP3838 WOULDN'T CLOSE    */
         TM    DCBOFOPN+40(@11),B'00010000'                     02S0905
         BNO   @RF00905                                         02S0905
*    DO;                            /* NOTIFY OPERATOR               */
*      CMNDCODE = '32';             /* SET REASON CODE               */
         MVC   CMNDCODE(2),@CC03357                             02S0907
*      CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,LENGTH(APCTSSID),
*          OFFSET#2,CMNDCODE,LENGTH(CMNDCODE));/* WTO THE MESSAGE    */
         LA    @11,@CF00673                                     02S0908
         ST    @11,@AL00001                                     02S0908
         LA    @11,OFFSET#1                                     02S0908
         ST    @11,@AL00001+4                                   02S0908
         LA    @11,APCTSSID(,APCTPTR)                           02S0908
         ST    @11,@AL00001+8                                   02S0908
         LA    @11,@CF00106                                     02S0908
         ST    @11,@AL00001+12                                  02S0908
         LA    @11,OFFSET#2                                     02S0908
         ST    @11,@AL00001+16                                  02S0908
         LA    @11,CMNDCODE                                     02S0908
         ST    @11,@AL00001+20                                  02S0908
         LA    @11,@CF00073                                     02S0908
         ST    @11,@AL00001+24                                  02S0908
         MVI   @AL00001+24,X'80'                                02S0908
         L     @15,APCTZDWT(,APCTPTR)                           02S0908
         LA    @01,@AL00001                                     02S0908
         BALR  @14,@15                                          02S0908
*                   /* RESET REQUEST BLOCK FOR DYNAMIC UNALLOCATION  */
*  S99VERB = S99VRBUN;              /* SET RB VERB CODE FOR UNALLOC  */
         LA    @11,RQBLK                                        03S0909
         MVI   S99VERB(@11),X'02'                               03S0909
*  S99FLAG1 = '0000'X;              /* CLEAR OUT FLAG1               */
         MVC   S99FLAG1(2,@11),@CB03315                         03S0910
*  S99ERROR = ZERO;                 /* IN CASE ERROR CODE PROVIDED   */
         SLR   @04,@04                                          03S0911
         STH   @04,S99ERROR(,@11)                               03S0911
*  S99INFO = ZERO;                  /* IN CASE INFO. CODE PROVIDED   */
         STH   @04,S99INFO(,@11)                                03S0912
*  S99FLAG2 = '00000000'X;          /* CLEAR OUT FLAG2               */
         MVC   S99FLAG2(4,@11),@CB03256                         03S0913
*                   /* INITIALIZE THE ONLY TEXT UNIT FOR UNALLOCATE  */
*  S99TUPLN(1) = BITONE;            /* THIS IS LAST TEXT UNIT IN LIST*/
         LA    @11,TUPTRS                                       03S0914
         OI    S99TUPLN(@11),B'10000000'                        03S0914
*  S99TUKEY = DUNDDNAM;             /* DENOTES DSNAME UNALLOCATION   */
         L     @11,S99TUPTR+20(,@11)                            03S0915
         MVC   S99TUKEY(2,@11),@CB00365                         03S0915
*                   /* NOW ACTUALLY COMMIT THE UNALLOCATION          */
*  RFY (R1P,R15F) RSTD;             /* PTR IN REG 1 , RCDE IN REG 15 */
*  R1P = ADDR(S99RBPTR);            /* INSERT CORRECT ADDRESS INTO R1*/
         LA    R1P,RQBLKPTR                                     03S0917
*  GENERATE (DYNALLOC)              /* INVOKE THE SVC 99             */
*      REFS(R1P)                                                03S0918
*      SETS(R15F);                                              03S0918
         DYNALLOC
*  RFY (R1P,R15F) UNRSTD;           /* GIVE BACK THE REGISTERS       */
*    END;                                                       02S0920
*  ELSE                             /* CLOSE WAS SUCCESSFUL          */
*    DO;                                                        02S0921
         B     @RC00905                                         02S0921
@RF00905 DS    0H                                               02S0922
*      OFFSET#2 = 24;               /* SET 2ND PARM FOR WTO          */
         MVC   OFFSET#2(4),@CF00133                             02S0922
*      OFFSET#3 = 55;               /* SET 3RD PARM FOR WTO          */
         MVC   OFFSET#3(4),@CF02287                             02S0923
*      CALL APCVZDWT(IGT299I,OFFSET#1,APCTSSID,LENGTH(APCTSSID),
*          OFFSET#2,AMSGPAR2,LENGTH(AMSGPAR2), /* SEND THE DUDE A MSG*/
*          OFFSET#3,UNITADDR,LENGTH(UNITADDR)); /* OF CONGRATULATIONS*/
         LA    @11,@CF03080                                     02S0924
         ST    @11,@AL00001                                     02S0924
         LA    @11,OFFSET#1                                     02S0924
         ST    @11,@AL00001+4                                   02S0924
         LA    @11,APCTSSID(,APCTPTR)                           02S0924
         ST    @11,@AL00001+8                                   02S0924
         LA    @11,@CF00106                                     02S0924
         ST    @11,@AL00001+12                                  02S0924
         LA    @11,OFFSET#2                                     02S0924
         ST    @11,@AL00001+16                                  02S0924
         LA    @11,AMSGPAR2                                     02S0924
         ST    @11,@AL00001+20                                  02S0924
         LA    @11,@CF00110                                     02S0924
         ST    @11,@AL00001+24                                  02S0924
         LA    @11,OFFSET#3                                     02S0924
         ST    @11,@AL00001+28                                  02S0924
         LA    @11,UNITADDR                                     02S0924
         ST    @11,@AL00001+32                                  02S0924
         LA    @11,@CF00117                                     02S0924
         ST    @11,@AL00001+36                                  02S0924
         MVI   @AL00001+36,X'80'                                02S0924
         L     @15,APCTZDWT(,APCTPTR)                           02S0924
         LA    @01,@AL00001                                     02S0924
         BALR  @14,@15                                          02S0924
*  GENERATE  CODE                                               03S0925
*      REFS(DCB3838A)                                           03S0925
*      SETS(DCB3838A);                                          03S0925
     FREEPOOL   DCB3838A
*                                   /* IF MVS, THEN DUMP3838 CLOSE   */
*                                   /* CAUSES PRINTING & UNALLOCATION*/
*    END;                                                       02S0926
*                                   /* OUTPUTIT INCLUDES CLOSE 3838  */
*                                DCBPTR = ADDR(DCBTEMPA);/*SET DCBPTR*/
@RC00905 LA    @11,DCBTEMPA                                     01S0927
         ST    @11,DCBPTR                                       01S0927
*    ABNDRCLT = TRUE;               /* LEFT ON IF RECLOSE ABENDS     */
         OI    ABNDRCLT,B'01000000'                             02S0928
*    GENERATE  CODE                 /* ATTEMPT A RECLOSE             */
*        REFS(DCBTEMPA,RCLTEMPS)                                02S0929
*        SETS(DCBTEMPA,RCLTEMPA);  /*                           02S0929
       MVC    RCLTEMPA(RCLTEMPE),RCLTEMPS
       CLOSE  (DCBTEMPA),MF=(E,RCLTEMPA)
*    ABNDRCLT = FALSE;              /* OFF IF NO RECLOSE ABEND       */
         NI    ABNDRCLT,B'10111111'                             02S0930
*                                IF DCBOFOPN=FALSE THEN /*IF RECLOSED*/
         L     @11,DCBPTR                                       01S0931
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0931
         BNZ   @RF00931                                         01S0931
*                                  DO;                          01S0932
*  GENERATE  CODE                   /* ATTEMPT A FREEPOOL OF BUFFERS */
*      REFS(DCBTEMPA)                                           02S0933
*      SETS(DCBTEMPA);              /*                          02S0933
     FREEPOOL   DCBTEMPA
*                                  END;                         01S0934
*                                ELSE;                          01S0935
@RF00931 DS    0H                                               01S0936
*                              END;                             01S0936
*                            DCBPTR = ADDR(DCB3838A);/* LOCATE DCB   */
@RC00694 LA    @11,DCB3838A                                     01S0937
         ST    @11,DCBPTR                                       01S0937
*                            IF DCBOFOPN=TRUE THEN /* IF STILL OPEN  */
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0938
         BNO   @RF00938                                         01S0938
*                              DO;  /*(BECAUSE DUMPTEMP NOT REOPENED)*/
*  ABNDCLS8 = TRUE;                 /* LEFT ON IF CLOSE ABENDS       */
         OI    ABNDCLS8,B'00100000'                             02S0940
*  GENERATE  CODE                   /* TRY A CLOSE OF DUMP3838       */
*      REFS(DCB3838A,CLS3838S)                                  02S0941
*      SETS(DCB3838A,CLS3838A);     /*                          02S0941
     MVC   CLS3838A(CLS3838E),CLS3838S
     CLOSE (DCB3838A),MF=(E,CLS3838A)
*  ABNDCLS8 = FALSE;                /* OFF IF NO CLOSE ABEND         */
         NI    ABNDCLS8,B'11011111'                             02S0942
*                                IF DCBOFOPN=FALSE THEN /* IF CLOSED */
         L     @11,DCBPTR                                       01S0943
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0943
         BNZ   @RF00943                                         01S0943
*                                  DO;                          01S0944
*  GENERATE  CODE                                               02S0945
*      REFS(DCB3838A)                                           02S0945
*      SETS(DCB3838A);                                          02S0945
     FREEPOOL   DCB3838A
*                                  END;                         01S0946
*                                ELSE;                          01S0947
@RF00943 DS    0H                                               01S0948
*                              END;                             01S0948
*                            ELSE;  /*BOTH DATASETS PREVIOUSLY CLOSED*/
@RF00938 DS    0H                                               01S0950
*                           END;    /* END OF SUCCESSFUL DUMP3838 OPN*/
*                         END;      /* END OF %INCLUDE OPEN3838 DO   */
@RC00675 DS    0H                                               01S0952
*                      END;         /* END OF DUMP3838 PROCESSING    */
@RC00664 DS    0H                                               01S0953
*                    END;                                       01S0953
@RC00576 DS    0H                                               01S0954
*                      /* IF DUMPTEMP IS STILL OPEN, TRY TO CLOSE IT */
*                   DCBPTR = ADDR(DCBTEMPA); /* POINT TO DUMPTEMP DCB*/
@RF00570 LA    @11,DCBTEMPA                                     01S0954
         ST    @11,DCBPTR                                       01S0954
*                   IF DCBOFOPN=TRUE THEN /* IF DUMPTEMP IS OPEN     */
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0955
         BNO   @RF00955                                         01S0955
*                     DO;                                       01S0956
*                    ABNDCLST = TRUE; /* LEFT ON IF CLOSE ABENDS     */
         OI    ABNDCLST,B'10000000'                             02S0957
*                    GENERATE  CODE /* ATTEMPT A CLOSE               */
*                        REFS(DCBTEMPA,CLSTEMPS)                02S0958
*                        SETS(DCBTEMPA,CLSTEMPA);  /*           02S0958
                       MVC    CLSTEMPA(CLSTEMPE),CLSTEMPS
                       CLOSE  (DCBTEMPA),MF=(E,CLSTEMPA)
*                    ABNDCLST = FALSE; /* RESET IF NO CLOSE ABEND    */
         NI    ABNDCLST,B'01111111'                             02S0959
*                       IF DCBOFOPN=FALSE THEN /* IF CLOSE SUCCEEDED */
         L     @11,DCBPTR                                       01S0960
         TM    DCBOFOPN+40(@11),B'00010000'                     01S0960
         BNZ   @RF00960                                         01S0960
*                         DO;                                   01S0961
*  GENERATE  CODE                   /* ATTEMPT A FREEPOOL OF BUFFERS */
*      REFS(DCBTEMPA)                                           02S0962
*      SETS(DCBTEMPA);              /*                          02S0962
     FREEPOOL   DCBTEMPA
*                         END;                                  01S0963
*                       ELSE;                                   01S0964
@RF00960 DS    0H                                               01S0965
*                     END;                                      01S0965
*                   ELSE;                                       01S0966
@RF00955 DS    0H                                               01S0967
*                  END;             /* END OF DUMPTEMP PROCESSING    */
*               END;                /* END OF LOADED SAD PGM DO      */
*              ELSE;                /* SAD PGM DID NOT GET LOADED    */
@RF00431 DS    0H                                               01S0970
*                     /* IF RE-IPL IS NECESSARY, PREPARE A COMMAND   */
*                IF REIPL=TRUE THEN                             01S0970
@RC00431 TM    REIPL,B'00100000'                                01S0970
         BNO   @RF00970                                         01S0970
*                  DO;            /* PREPARE THE COMMAND             */
*                   /* CONSTRUCT & ENQUEUE A RE-IPL COMMAND          */
*   SAVEPTR = APCQPTR;              /* SAVE PTR TO CURRENT COMMAND   */
         LR    SAVEPTR,APCQPTR                                  02S0972
*   CALL APCVZDX1;                  /* OBTAIN A NEW EMPTY COMMAND    */
         L     @15,APCTZDX1(,APCTPTR)                           02S0973
         BALR  @14,@15                                          02S0973
*                                   /* SETUP NEW REIPL COMMAND       */
*   APCQIINF = APCQRIPL;            /* INDICATE A REIPL IS REQUIRED  */
         MVC   APCQIINF(4,APCQPTR),@CF02376                     02S0974
*   APCQINT = TRUE;                 /* COMMAND IS INTERNALLY GEN'ED  */
         OI    APCQINT(APCQPTR),B'10000000'                     02S0975
*   APCQTXLN = ZERO;                /* NO TEXT PROVIDED              */
         SLR   @11,@11                                          02S0976
         STH   @11,APCQTXLN(,APCQPTR)                           02S0976
*   APCQPLEN = ZERO;                /* NO PARAMETERS EITHER          */
         STH   @11,APCQPLEN(,APCQPTR)                           02S0977
*                                   /*                               */
*   CALL APCVZDX2;                  /* NOW QUEUE IT UP               */
         L     @15,APCTZDX2(,APCTPTR)                           02S0978
         BALR  @14,@15                                          02S0978
*   APCQPTR = SAVEPTR;              /* RESTORE PREVIOUS COMMAND PTR  */
         LR    APCQPTR,SAVEPTR                                  02S0979
*   REIPLED = TRUE;                 /*INDICATE THAT COMMAND NOW GIVEN*/
         OI    REIPLED,B'00010000'                              02S0980
*                  END;                                         01S0981
*                ELSE;                                          01S0982
@RF00970 DS    0H                                               01S0983
*             END;                  /* END OF 3838 NOT UNLOADED CODE */
*        END;                       /* END OF CODE FOR CORRECT CMND. */
@RC00399 DS    0H                                               01S0984
@RC00392 DS    0H                                               01S0985
*    END;                           /* END OF CODE FOR NOT HALTING   */
@RC00334 DS    0H                                               01S0986
*          IF UNITADDR(3:3)^='0'      /* IF THIS WAS A PORT DUMP     */
*             & RESETUJA = TRUE THEN  /* AND UJA IS NEEDED           */
@RC00329 CLI   UNITADDR+2,C'0'                                  02S0986
         BE    @RF00986                                         02S0986
         TM    RESETUJA,B'00000010'                             02S0986
         BNO   @RF00986                                         02S0986
*            DO;                                                02S0987
*              RFY APUBPTR RSTD;                                02S0988
*              APUBPTR = APUBAPUB;  /* MOVE DOWN LIST OF APUB PTR'S  */
         L     APUBPTR,APUBAPUB(,APUBPTR)                       02S0989
*              RFY UCBOB BASED(APUBUCB);                        02S0990
*              DO WHILE(APUBPTR^=ZERO & UCBNAME(3:3)^=UNITADDR(3:3));
         B     @DE00991                                         02S0991
@DL00991 DS    0H                                               02S0992
*                APUBPTR = APUBAPUB;/* MOVE TO NEXT APUB UNTIL MATCH */
         L     APUBPTR,APUBAPUB(,APUBPTR)                       02S0992
*              END;                 /* SO WE HAVE APUBPTR OF DUMPPORT*/
@DE00991 LTR   APUBPTR,APUBPTR                                  02S0993
         BZ    @DC00991                                         02S0993
         L     @11,APUBUCB(,APUBPTR)                            02S0993
         CLC   UCBNAME+2(1,@11),UNITADDR+2                      02S0993
         BNE   @DL00991                                         02S0993
@DC00991 DS    0H                                               02S0994
*              RFY R1P RSTD;        /* SECURE REG 1                  */
*              R1P = 1;             /* SET RECOVERY INDICATOR        */
         LA    R1P,1                                            02S0995
*              CALL APCVZUJA;       /* CALL THE BITSETTER ROUTINE    */
         L     @15,APCTZUJA(,APCTPTR)                           02S0996
         BALR  @14,@15                                          02S0996
*              RESETUJA = FALSE;    /* INDICATE UJA HAS BEEN CALLED. */
         NI    RESETUJA,B'11111101'                             02S0997
*              RFY R1P UNRSTD;      /* RELEASE REG 1                 */
*              RFY UCBOB BASED(UCBPTR);                         02S0999
*            END;                                               02S1000
*          ELSE;                                                02S1001
@RF00986 DS    0H                                               02S1002
*  IF  ENQDAPUB = TRUE THEN         /* SEE IF THE APUBS ARE STILL ENQ*/
         TM    ENQDAPUB,B'00000010'                             01S1002
         BNO   @RF01002                                         01S1002
*    DO;                            /* IF SO DEQUEUE FROM THEM.      */
*      CALL APCVZDDQ;               /* DEQUEUE FROM THE APUBS.       */
         L     @15,APCTZDDQ(,APCTPTR)                           01S1004
         BALR  @14,@15                                          01S1004
*      ENQDAPUB = FALSE;            /* INDICATE APUBS ARE DEQUEUED.  */
         NI    ENQDAPUB,B'11111101'                             01S1005
*    END;                           /* END OF DEQUEUE PROCESSING.    */
*  ELSE;                            /* NULL FOR NOT ENQUEUED.        */
@RF01002 DS    0H                                               01S1008
*  RFY APUBPTR UNRSTD;              /* RELEASE THE APUBPTR           */
*  RFY APCQPTR UNRSTD;              /* RELEASE THE APCQPTR           */
*            /* DISENGAGE (E)STAE, AND RETURN TO CALLING PROGRAM     */
*    GENERATE  CODE                                             02S1010
*        REFS(D80STAEA)                                         02S1010
*        SETS(D80STAEA); /*            RESCIND OUTSTANDING IGTD80 STAE
       IGTYSTAE  0,MF=(E,D80STAEA)
*RETURN42:                                                      01S1011
*  RFY (R0P,R1P,R2P,R3P,R4P,R5P,R6P,R7P,R8P,R9P,                01S1011
*       R10P,R11P,R12P,R13P,R14P,R15P) RSTD;                    01S1011
RETURN42 DS    0H                                               01S1012
*  GENERATE CODE(NOP 0);            /* TO KEEP THE COMPILER HONEST   */
         NOP 0
*  RFY (R0P,R1P,R2P,R3P,R4P,R5P,R6P,R7P,R8P,R9P,                01S1013
*       R10P,R11P,R12P,R13P,R14P,R15P) UNRSTD;                  01S1013
*  RETURN;                          /* NORMAL RETURN TO CALLING PGM. */
@EL00001 L     @13,4(,@13)                                      01S1014
@EF00001 L     @00,@SIZDATD                                     01S1014
         LR    @01,@06                                          01S1014
         IGTYFSV  R,LV=(0),A=(1)
@ER00001 LM    @14,@12,12(@13)                                  01S1014
         BR    @14                                              01S1014
*                                   /*                               */
*                                   /*                               */
*CHRCNVRT:                                                      03S1015
* PROCEDURE;                                                    03S1015
CHRCNVRT STM   @14,@10,12(@13)                                  03S1015
         ST    @12,68(,@13)                                     03S1015
*  DO WHILE (ISBSCRPT<=DRLTH & OSBSCRPT<=121 & PRINTING=TRUE);  03S1016
         B     @DE01016                                         03S1016
@DL01016 DS    0H                                               03S1017
*                                   /* DO UNTIL EITHER THE INPUT     */
*                                   /* BUFFER OR OUTPUT BUFFER OR    */
*                                   /* BOTH IS EXHAUSTED.            */
*    IF OSBSCRPT=1 THEN             /* IF THIS IS START OF A NEW LINE*/
         C     OSBSCRPT,@CF00079                                03S1017
         BNE   @RF01017                                         03S1017
*      DO;                          /* THEN PREPARE FOR NEW LINE.    */
*        PRNTLINE(1:1) = ' ';       /* CLEAR CARRIAGE CONTROL CHAR   */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S1019
*        IF DUMPISCP=TRUE THEN      /* LINE ADDR COMPUTED IN HWORDS  */
         TM    DUMPISCP,B'00100000'                             03S1020
         BNO   @RF01020                                         03S1020
*          LADDRESS = DRBSA + (ISBSCRPT-1)/2; /* ADDR IN HWORDS      */
         LH    @00,ISBSCRPT                                     03S1021
         BCTR  @00,0                                            03S1021
         SRDA  @00,32                                           03S1021
         D     @00,@CF00073                                     03S1021
         AL    @01,DRBSA(,BUFFPTR)                              03S1021
         ST    @01,LADDRESS                                     03S1021
*        ELSE                       /* LINE ADDR COMPUTED IN FWORDS  */
*          LADDRESS = DRBSA + (ISBSCRPT-1)/4; /* ADDR IN FWORDS      */
         B     @RC01020                                         03S1022
@RF01020 LH    @00,ISBSCRPT                                     03S1022
         BCTR  @00,0                                            03S1022
         SRDA  @00,32                                           03S1022
         D     @00,@CF00106                                     03S1022
         AL    @01,DRBSA(,BUFFPTR)                              03S1022
         ST    @01,LADDRESS                                     03S1022
*        RFY R3F RSTD;              /* SECURE REG 3 FOR CONVERSION   */
@RC01020 DS    0H                                               03S1024
*        DO INDEX=2 TO 4 BY 1;      /* LAST 3 BYTES OF BINARY ADDR   */
         LA    @09,2                                            03S1024
         STH   @09,INDEX                                        03S1024
@DL01024 DS    0H                                               03S1025
*          R3F = ZERO;              /* INITIALLY, CLEAR ALL REGBYTES */
         SLR   R3F,R3F                                          03S1025
*          R3F = HADDRESS(INDEX:INDEX); /* INSERT 1ST/NEXT BYTE      */
         SLR   R3F,R3F                                          03S1026
         IC    R3F,HADDRESS-1(@09)                              03S1026
*          SRA(R3F,4);              /* SHIFT OUT LOW ORDER FOUR BITS */
         SRA   R3F,4                                            03S1027
*          IF R3F>9 THEN            /* IF BITS SHOW NON-DECIMAL      */
         LA    @09,9                                            03S1028
         CR    R3F,@09                                          03S1028
         BNH   @RF01028                                         03S1028
*            R3F = (R3F - 9)×'000000C0'X;/*CONVERT TO EBCDIC CHAR A-F*/
         LCR   @09,@09                                          03S1029
         ALR   @09,R3F                                          03S1029
         O     @09,@CF03311                                     03S1029
         LR    R3F,@09                                          03S1029
*          ELSE                     /* OTHERWISE IT IS DECIMAL DIGIT */
*            R3F = R3F × '000000F0'X;  /* CONVERT TO EBCDIC CHAR 0-9 */
         B     @RC01028                                         03S1030
@RF01028 O     R3F,@CF03312                                     03S1030
*          OSBSCRPT = (INDEX-1)*2;  /* COMPUTE PRNTLINE POSITION     */
@RC01028 LH    @09,INDEX                                        03S1031
         LR    OSBSCRPT,@09                                     03S1031
         BCTR  OSBSCRPT,0                                       03S1031
         ALR   OSBSCRPT,OSBSCRPT                                03S1031
*          PRNTLINE(OSBSCRPT:OSBSCRPT) = R3F;/* HIGH ORDER BITS CONVD*/
         LR    @10,BUFFPTR2                                     03S1032
         BCTR  @10,0                                            03S1032
         STC   R3F,PRNTLINE(OSBSCRPT,@10)                       03S1032
*          R3F = HADDRESS(INDEX:INDEX) & '0F'X; /*GET 4 LOW ORDR BITS*/
         LA    R3F,15                                           03S1033
         SLR   @10,@10                                          03S1033
         IC    @10,HADDRESS-1(@09)                              03S1033
         NR    R3F,@10                                          03S1033
*          IF R3F>9 THEN            /* IF BITS SHOW NON-DECIMAL      */
         LA    @10,9                                            03S1034
         CR    R3F,@10                                          03S1034
         BNH   @RF01034                                         03S1034
*            R3F = (R3F - 9)×'000000C0'X;/*CONVERT TO EBCDIC CHAR A-F*/
         LCR   @10,@10                                          03S1035
         ALR   @10,R3F                                          03S1035
         O     @10,@CF03311                                     03S1035
         LR    R3F,@10                                          03S1035
*          ELSE                     /* OTHERWISE IT IS DECIMAL DIGIT */
*            R3F = R3F × '000000F0'X;  /* CONVERT TO EBCDIC CHAR 0-9 */
         B     @RC01034                                         03S1036
@RF01034 O     R3F,@CF03312                                     03S1036
*          PRNTLINE(OSBSCRPT+1:OSBSCRPT+1) = R3F;/* LOW 4 BITS CONVD */
@RC01034 STC   R3F,PRNTLINE(OSBSCRPT,BUFFPTR2)                  03S1037
*        END;                                                   03S1038
         LA    @09,1                                            03S1038
         AH    @09,INDEX                                        03S1038
         STH   @09,INDEX                                        03S1038
         C     @09,@CF00106                                     03S1038
         BNH   @DL01024                                         03S1038
*        RFY R3F UNRSTD;                                        03S1039
*        PRNTLINE(8:9) = '  ';      /* INSERT A COUPLE OF BLANKS     */
         MVC   PRNTLINE+7(2,BUFFPTR2),@CC03375                  03S1040
*        OSBSCRPT = 10;             /* OUTPUT POINTER SET FOR CHAR'S */
         LA    OSBSCRPT,10                                      03S1041
*        OSPACER = ZERO;            /* SPACE FOR BEGINNING OF DATA   */
         SLR   @10,@10                                          03S1042
         STH   @10,OSPACER                                      03S1042
*      END;                                                     03S1043
*    ELSE;                          /* NOT AT NEW LINE BEGINNING     */
@RF01017 DS    0H                                               03S1045
*    IF OSPACER<4 THEN              /*IF LESS THAN A QUARTET OF WORDS*/
         LH    @10,OSPACER                                      03S1045
         C     @10,@CF00106                                     03S1045
         BNL   @RF01045                                         03S1045
*      DO;                                                      03S1046
*        PRNTLINE(OSBSCRPT:OSBSCRPT) = ' ';/* A BLANK BETWEEN WORDS  */
         LR    @09,BUFFPTR2                                     03S1047
         ALR   @09,OSBSCRPT                                     03S1047
         BCTR  @09,0                                            03S1047
         MVI   PRNTLINE(@09),C' '                               03S1047
*        OSBSCRPT = OSBSCRPT + 1;   /* ADVANCE OUTPUT BUFFER INDEX   */
         LA    @09,1                                            03S1048
         ALR   OSBSCRPT,@09                                     03S1048
*        OSPACER = OSPACER + 1;     /* INCREMENT QUARTET INDICATOR   */
         ALR   @10,@09                                          03S1049
         STH   @10,OSPACER                                      03S1049
*      END;                                                     03S1050
*    ELSE                           /* END OF QUARTET - NOW 3 BLANKS */
*      DO;                                                      03S1051
         B     @RC01045                                         03S1051
@RF01045 DS    0H                                               03S1052
*        PRNTLINE(OSBSCRPT:OSBSCRPT+2) = '   ';/* 3 BLANKS INSERTED  */
         LR    @10,BUFFPTR2                                     03S1052
         ALR   @10,OSBSCRPT                                     03S1052
         BCTR  @10,0                                            03S1052
         MVC   PRNTLINE(3,@10),@CC03376                         03S1052
*        OSBSCRPT = OSBSCRPT + 3;   /* ADVANCE OUTPUT BUFFER INDEX   */
         AL    OSBSCRPT,@CF00117                                03S1053
*        OSPACER = 1;               /* RESET WORD QUARTET INDICATOR  */
         MVC   OSPACER(2),@CH00079                              03S1054
*      END;                                                     03S1055
*                        /* NOW CONVERT THE NEXT WORD OF DUMP DATA   */
*      RFY R3F RSTD;                /* REGISTER USED FOR CONVERSION  */
@RC01045 DS    0H                                               03S1057
*    DO INDEX=0 TO 3 BY 1 WHILE(ISBSCRPT<=DRLTH & OSBSCRPT<=121);
         SLR   @10,@10                                          03S1057
         STH   @10,INDEX                                        03S1057
@DL01057 LH    @10,ISBSCRPT                                     03S1057
         CH    @10,DRLTH(,BUFFPTR)                              03S1057
         BH    @DC01057                                         03S1057
         C     OSBSCRPT,@CF00114                                03S1057
         BH    @DC01057                                         03S1057
*                                   /* CONVERT FOUR WORDS OF INPUT   */
*                                   /* DATA OR UNTIL A BUFFER END IS */
*                                   /* ENCOUNTERED, 1 BYTE AT A TIME.*/
*      R3F = ZERO;                  /* CLEAR HIBYTES BEFORE IC INSTR */
         SLR   R3F,R3F                                          03S1058
*      R3F = INRECORD(ISBSCRPT);    /* REACH FOR NEXT INPUT CHARACTER*/
         L     @09,BUFFPTR1                                     03S1059
         BCTR  @09,0                                            03S1059
         SLR   R3F,R3F                                          03S1059
         IC    R3F,INRECORD(@10,@09)                            03S1059
*      SRA(R3F,4);                  /* SHIFT OUT LOW ORDER FOUR BITS */
         SRA   R3F,4                                            03S1060
*      IF R3F>9 THEN                /* IF BITS SHOW NON-DECIMAL      */
         LA    @10,9                                            03S1061
         CR    R3F,@10                                          03S1061
         BNH   @RF01061                                         03S1061
*        R3F = (R3F - 9) × '000000C0'X;/* CONVERT TO EBCDIC CHAR A-F */
         LCR   @10,@10                                          03S1062
         ALR   @10,R3F                                          03S1062
         O     @10,@CF03311                                     03S1062
         LR    R3F,@10                                          03S1062
*      ELSE                         /* OTHERWISE IT IS DECIMAL DIGIT */
*        R3F = R3F × '000000F0'X;   /* CONVERT TO EBCDIC CHAR 0-9    */
         B     @RC01061                                         03S1063
@RF01061 O     R3F,@CF03312                                     03S1063
*      PRNTLINE(OSBSCRPT:OSBSCRPT) = R3F;/* HIGH ORDER BITS CONVERTED*/
@RC01061 LR    @10,BUFFPTR2                                     03S1064
         BCTR  @10,0                                            03S1064
         STC   R3F,PRNTLINE(OSBSCRPT,@10)                       03S1064
*      R3F = INRECORD(ISBSCRPT) & '0F'X;/* REACH FOR 4 LOW ORDER BITS*/
         LH    @10,ISBSCRPT                                     03S1065
         LA    R3F,15                                           03S1065
         L     @09,BUFFPTR1                                     03S1065
         BCTR  @09,0                                            03S1065
         SLR   @15,@15                                          03S1065
         IC    @15,INRECORD(@10,@09)                            03S1065
         NR    R3F,@15                                          03S1065
*      IF R3F>9 THEN                /* IF BITS SHOW NON-DECIMAL      */
         LA    @10,9                                            03S1066
         CR    R3F,@10                                          03S1066
         BNH   @RF01066                                         03S1066
*        R3F = (R3F - 9) × '000000C0'X;/* CONVERT TO EBCDIC CHAR A-F */
         LCR   @10,@10                                          03S1067
         ALR   @10,R3F                                          03S1067
         O     @10,@CF03311                                     03S1067
         LR    R3F,@10                                          03S1067
*      ELSE                         /* OTHERWISE IT IS DECIMAL DIGIT */
*        R3F = R3F × '000000F0'X;   /* CONVERT TO EBCDIC CHAR 0-9    */
         B     @RC01066                                         03S1068
@RF01066 O     R3F,@CF03312                                     03S1068
*      PRNTLINE(OSBSCRPT+1:OSBSCRPT+1) = R3F;/* LOW 4 BITS CONVERTED */
@RC01066 STC   R3F,PRNTLINE(OSBSCRPT,BUFFPTR2)                  03S1069
*      ISBSCRPT = ISBSCRPT + 1;     /* ADVANCE TO NEXT INPUT CHAR    */
         LH    @10,ISBSCRPT                                     03S1070
         LA    @10,1(,@10)                                      03S1070
         STH   @10,ISBSCRPT                                     03S1070
*      OSBSCRPT = OSBSCRPT + 2;     /* ADVANCE TO NEXT OUT POSITIONS */
         AL    OSBSCRPT,@CF00073                                03S1071
*    END;                           /* END OF ONE WORD CONVERSION    */
         LA    @10,1                                            03S1072
         AH    @10,INDEX                                        03S1072
         STH   @10,INDEX                                        03S1072
         C     @10,@CF00117                                     03S1072
         BNH   @DL01057                                         03S1072
@DC01057 DS    0H                                               03S1073
*    RFY R3F UNRSTD;                /* GIVE BACK REGISTER 3          */
*  END;                             /* END OF ONE OR BOTH BUFFERS    */
@DE01016 LH    @10,ISBSCRPT                                     03S1074
         CH    @10,DRLTH(,BUFFPTR)                              03S1074
         BH    @DC01016                                         03S1074
         C     OSBSCRPT,@CF00114                                03S1074
         BH    @DC01016                                         03S1074
         TM    PRINTING,B'10000000'                             03S1074
         BO    @DL01016                                         03S1074
@DC01016 DS    0H                                               03S1075
* END CHRCNVRT;                                                 03S1075
@EL00002 DS    0H                                               03S1075
@EF00002 DS    0H                                               03S1075
@ER00002 LM    @14,@10,12(@13)                                  03S1075
         L     @12,68(,@13)                                     03S1075
         BR    @14                                              03S1075
*                                   /*                               */
*EXCP3838:                                                      03S1076
* PROCEDURE;                                                    03S1076
EXCP3838 STM   @14,@12,@SA00003                                 03S1076
*  EXCPECB = '00000000'X;           /* CLEAR ECB TO BE USED FOR WAIT */
         L     @09,ECBPTR                                       03S1077
         MVC   EXCPECB(4,@09),@CB03256                          03S1077
*  RFY R2P RSTD;                    /* EXCP RETRY LOOP COUNTER       */
*  DO R2P = 10 TO 1 BY -1           /* RETRY EXCP UNTIL SUCCESSFUL   */
*     WHILE(EXCPECB(1:1) ^= '7F'X); /* OR UNTIL RETRY EXHAUSTED.     */
         LA    R2P,10                                           03S1079
@DL01079 L     @09,ECBPTR                                       03S1079
         CLI   EXCPECB(@09),X'7F'                               03S1079
         BE    @DC01079                                         03S1079
*  RFY R1P RSTD;                    /* SECURE REG 1 FOR EXCP         */
*  R1P = IOBSTPTR;                  /* INSERT IOB ADDR IN REG 1      */
         L     R1P,IOBSTPTR                                     03S1081
*  EXCPECB = '00000000'X;           /* CLEAR ECB TO BE USED FOR WAIT */
         MVC   EXCPECB(4,@09),@CB03256                          03S1082
*  GENERATE   CODE                                              03S1083
*      REFS(IOBSTDRD,CCWCHAIN,R1P)                              03S1083
*      SETS(IOBSTDRD,EXCPECB);      /*                          03S1083
     EXCP   (1)
*  RFY R1P UNRSTD;                  /* RELEASE REG 1 FROM EXCP       */
*                                                               03S1084
*                                                               03S1084
*    DO; /*IGTYWAIT ECB(EXCPECB)LONG(NO)*/                      03S1085
*    RFY (GPR00F,GPR01P) RSTD; /* REGISTERS USED */             03S1086
*    DCL BIT0015X BIT(8) BASED(ADDR(EXCPECB)); /* OVERLAY BYTE-0 OF ECB
**/                                                             03S1087
*    IF BIT0015X(2) = '0'B THEN /* IF ECB NOT ALREADY POSTED */ 03S1088
         L     @09,ECBPTR                                       03S1088
         TM    BIT0015X(@09),B'01000000'                        03S1088
         BNZ   @RF01088                                         03S1088
*    DO; /* THEN ISSUE WAIT SVC */                              03S1089
*    GPR01P = ADDR(EXCPECB); /* POINT TO ECB */                 03S1090
         LR    GPR01P,@09                                       03S1090
*    GPR00F = 1; /* WAIT COUNT */                               03S1091
         LA    GPR00F,1                                         03S1091
*    SVC(1); /* WAIT FOR ECB POSTING */                         03S1092
         SVC   1                                                03S1092
*    END; /* ECB WAIT COMPLETE */                               03S1093
*    RFY (GPR00F,GPR01P) UNRSTD; /* FINISHED WITH REGISTERS */  03S1094
@RF01088 DS    0H                                               03S1095
*    END; /* ECB WAIT COMPLETE */ /* ISSUE WAIT ON EXCP         */
*  IF EXCPECB(1) ^= '7F'X           /* SEE IF I/O IS OK      @ZA25361*/
*     & PICMD = 3 THEN              /* IF NOT AND WE ARE READING THE
*                                      DUMP DATA, THEN WE MUST TRY TO
*                                      READ THE SAME BLOCK OVER AGAIN
*                                      (UP TO 10 TIMES).  SO SET THE
*                                      DUMP COMMAND CODE TO THE RETRY
*                                      VALUE.                @ZA25361*/
         L     @09,ECBPTR                                       03S1096
         CLI   EXCPECB(@09),X'7F'                               03S1096
         BE    @RF01096                                         03S1096
         CLC   PICMD(2),@CH00117                                03S1096
         BNE   @RF01096                                         03S1096
*    PICMD = 5;                     /* RETRY VALUE.          @ZA25361*/
         MVC   PICMD(2),@CH00126                                03S1097
*  END;                             /* I/O ISSUED TO 3838            */
@RF01096 BCTR  R2P,0                                            03S1098
         LTR   R2P,R2P                                          03S1098
         BP    @DL01079                                         03S1098
@DC01079 DS    0H                                               03S1099
*  IF PICMD = 5 THEN                /* IF WE CHANGED THE CODE        */
         CLC   PICMD(2),@CH00126                                03S1099
         BNE   @RF01099                                         03S1099
*    PICMD = 3;                     /* CHANGE IT BACK.       @ZA25361*/
         MVC   PICMD(2),@CH00117                                03S1100
*  RFY R2P UNRSTD;                  /* DONE WITH LOPP CONTROL        */
* END EXCP3838;                                                 03S1102
@EL00003 DS    0H                                               03S1102
@EF00003 DS    0H                                               03S1102
@ER00003 LM    @14,@12,@SA00003                                 03S1102
         BR    @14                                              03S1102
*                                   /*                               */
*GETTEMP:                                                       03S1103
* PROCEDURE;                                                    03S1103
GETTEMP  STM   @14,@03,@SA00004                                 03S1103
         STM   @05,@12,@SA00004+24                              03S1103
*  RFY R1P RSTD;                    /* BUFFER ADDRESS GIVEN IN REG 1 */
*  GENERATE  CODE                                               03S1105
*      REFS(DCBTEMPA)                                           03S1105
*      SETS(R1P,DCBTEMPA);          /*                          03S1105
     GET   DCBTEMPA
*  BUFFPTR = R1P;                   /* GRAB THE INPUT BUFFER ADDRESS */
         LR    BUFFPTR,R1P                                      03S1106
*  RFY R1P UNRSTD;                  /* GIVE BACK REG 1               */
*  BUFFPTR1 = BUFFPTR + LENGTH(DRHEADER);/* INRECORD FOLLOWS DRHEADER*/
         LA    @09,8                                            03S1108
         ALR   @09,BUFFPTR                                      03S1108
         ST    @09,BUFFPTR1                                     03S1108
* END GETTEMP;                                                  03S1109
@EL00004 DS    0H                                               03S1109
@EF00004 DS    0H                                               03S1109
@ER00004 LM    @14,@03,@SA00004                                 03S1109
         LM    @05,@12,@SA00004+24                              03S1109
         BR    @14                                              03S1109
*                                   /*                               */
*LNREPEAT:                                                      03S1110
*  PROCEDURE;                                                   03S1110
LNREPEAT STM   @14,@01,@SA00005                                 03S1110
         STM   @03,@12,@SA00005+16                              03S1110
*  IF PRNTLINE(11:121)=PREVLINE(11:121) THEN           /* IF REPEATER*/
         CLC   PRNTLINE+10(111,BUFFPTR2),PREVLINE+10            03S1111
         BNE   @RF01111                                         03S1111
*    DO;                                                        03S1112
*      IF REPEATNG=TRUE THEN        /* AND IF OTHERS ALREADY REPEAT  */
         TM    REPEATNG,B'00000100'                             03S1113
         BNO   @RF01113                                         03S1113
*        DO;                                                    03S1114
*          RPTADDR2 = PRNTLINE(2:7);/* SAVE ADDR AS LATEST LINE ADDR */
         MVC   RPTADDR2(6),PRNTLINE+1(BUFFPTR2)                 03S1115
*        END;                                                   03S1116
*      ELSE                         /* OTHERWISE, THIS IS 1ST REPEAT */
*        DO;                                                    03S1117
         B     @RC01113                                         03S1117
@RF01113 DS    0H                                               03S1118
*          RPTADDR1 = PRNTLINE(2:7);/* SAVE ADDR AS FIRST LINE ADDR  */
         MVC   RPTADDR1(6),PRNTLINE+1(BUFFPTR2)                 03S1118
*          RPTADDR2 = PRNTLINE(2:7);/* IT MIGHT BE LAST REPEAT ALSO  */
         MVC   RPTADDR2(6),PRNTLINE+1(BUFFPTR2)                 03S1119
*          REPEATNG = TRUE;         /* TURN ON REPEAT INDICATOR      */
         OI    REPEATNG,B'00000100'                             03S1120
*          PREVLINE = PRNTLINE;     /* SAVE LINE FOR FUTURE REFERENCE*/
         MVC   PREVLINE(121),PRNTLINE(BUFFPTR2)                 03S1121
*        END;                                                   03S1122
*                                   /* REPEATING LINE WILL NOT GO OUT*/
*    END;                                                       03S1123
*  ELSE                             /* NO REPEATING BY LINE AT HAND  */
*    DO;                                                        03S1124
         B     @RC01111                                         03S1124
@RF01111 DS    0H                                               03S1125
*      IF REPEATNG=TRUE THEN        /* BUT IF THIS ENDS A REPEATING  */
         TM    REPEATNG,B'00000100'                             03S1125
         BNO   @RF01125                                         03S1125
*        DO;                        /* REPEAT MSG MUST BE OUTPUT     */
*          PREVLINE = PRNTLINE;     /* SAVE LINE JUST REFORMATTED    */
         MVC   PREVLINE(121),PRNTLINE(BUFFPTR2)                 03S1127
*                             /* SETUP REPEAT MESSAGE IN PRNTLINE    */
*          PRNTLINE = REPETMSG;     /* MOVE IN SKELETON OF MESSAGE   */
         MVC   PRNTLINE(121,BUFFPTR2),REPETMSG                  03S1128
*                             /* INSERT TWO ADDRESSES INTO MESSAGE   */
*          PRNTLINE(16:21) = RPTADDR1;/* MOVE IN LOW ADDR OF RANGE   */
         MVC   PRNTLINE+15(6,BUFFPTR2),RPTADDR1                 03S1129
*          PRNTLINE(31:36) = RPTADDR2;/* MOVE IN HIGH ADDR OF RANGE  */
         MVC   PRNTLINE+30(6,BUFFPTR2),RPTADDR2                 03S1130
*                   /* NOW OUTPUT BOTH MSG & THE LINE JUST FORMED    */
*          IF LINCOUNT=APCTLINE THEN/* IF BOTTOM OF PAGE NOW REACHED */
         CLC   LINCOUNT(2),APCTLINE(APCTPTR)                    03S1131
         BNE   @RF01131                                         03S1131
*            CALL TOPOFPAG;         /* THEN HAVE PAGE HEADER PRINTED */
         BAL   @14,TOPOFPAG                                     03S1132
*          ELSE;                    /* ELSE PRINT NEXT DUMP LINE NOW */
@RF01131 DS    0H                                               03S1134
*          CALL PUT3838;            /* OUT GOES THE REPEAT MESSAGE   */
         BAL   @14,PUT3838                                      03S1134
*          PRNTLINE = PREVLINE;     /* NOW MOVE THE LAST LINE BACK IN*/
         MVC   PRNTLINE(121,BUFFPTR2),PREVLINE                  03S1135
*          REPEATNG = FALSE;        /* REPEATING NO LONGER PREVAILS  */
         NI    REPEATNG,B'11111011'                             03S1136
*        END;                                                   03S1137
*      ELSE                         /* NO REPEAT & NONE HAD EXISTED  */
*        PREVLINE = PRNTLINE;       /* MOST COMMON CASE: SAVE LINE   */
         B     @RC01125                                         03S1138
@RF01125 MVC   PREVLINE(121),PRNTLINE(BUFFPTR2)                 03S1138
*      IF LINCOUNT=APCTLINE THEN    /* IF BOTTOM OF PAGE NOW REACHED */
@RC01125 CLC   LINCOUNT(2),APCTLINE(APCTPTR)                    03S1139
         BNE   @RF01139                                         03S1139
*        CALL TOPOFPAG;             /* THEN HAVE PAGE HEADER PRINTED */
         BAL   @14,TOPOFPAG                                     03S1140
*      ELSE;                        /* ELSE PRINT NEXT DUMP LINE NOW */
@RF01139 DS    0H                                               03S1142
*      CALL PUT3838;                /* PRINT LAST DUMP LINE FORMED   */
         BAL   @14,PUT3838                                      03S1142
*    END;                                                       03S1143
*  END LNREPEAT;                                                03S1144
@EL00005 DS    0H                                               03S1144
@EF00005 DS    0H                                               03S1144
@ER00005 LM    @14,@01,@SA00005                                 03S1144
         LM    @03,@12,@SA00005+16                              03S1144
         BR    @14                                              03S1144
*                                   /*                               */
*PADBLANX:                                                      03S1145
*  PROCEDURE;                                                   03S1145
PADBLANX STM   @14,@12,12(@13)                                  03S1145
*              DO INDEX=OSBSCRPT TO 121 BY 1;                   03S1146
         LR    @10,OSBSCRPT                                     03S1146
         STH   @10,INDEX                                        03S1146
         B     @DE01146                                         03S1146
@DL01146 DS    0H                                               03S1147
*                PRNTLINE(INDEX:INDEX) = ' '; /* DO IT THE HARD WAY  */
         ALR   @10,BUFFPTR2                                     03S1147
         BCTR  @10,0                                            03S1147
         MVI   PRNTLINE(@10),C' '                               03S1147
*              END;                                             03S1148
         LH    @09,INDEX                                        03S1148
         AL    @09,@CF00079                                     03S1148
         LR    @10,@09                                          03S1148
         STH   @10,INDEX                                        03S1148
@DE01146 C     @10,@CF00114                                     03S1148
         BNH   @DL01146                                         03S1148
*  END PADBLANX;                                                03S1149
@EL00006 DS    0H                                               03S1149
@EF00006 DS    0H                                               03S1149
@ER00006 LM    @14,@12,12(@13)                                  03S1149
         BR    @14                                              03S1149
*                                   /*                               */
*PUT3838:                                                       03S1150
*  PROCEDURE;                                                   03S1150
PUT3838  STM   @14,@01,@SA00007                                 03S1150
         STM   @03,@12,@SA00007+16                              03S1150
*  RFY R1P RSTD;                    /* BUFFER PTR RETURNED IN REG 1  */
*  GENERATE   CODE                                              03S1152
*      REFS(DCB3838A)                                           03S1152
*      SETS(R1P,DCB3838A);          /*                          03S1152
     PUT   DCB3838A
*  BUFFPTR2 = R1P;                  /* SAVE PTR TO OUTPUT BUFFER     */
         LR    BUFFPTR2,R1P                                     03S1153
*  RFY R1P UNRSTD;                  /* GIVE BACK REG 1               */
*  LINCOUNT = LINCOUNT + 1;         /* INCREMENT COUNT OF LINES/PAGE */
         LH    @09,LINCOUNT                                     03S1155
         LA    @09,1(,@09)                                      03S1155
         STH   @09,LINCOUNT                                     03S1155
*  END PUT3838;                                                 03S1156
@EL00007 DS    0H                                               03S1156
@EF00007 DS    0H                                               03S1156
@ER00007 LM    @14,@01,@SA00007                                 03S1156
         LM    @03,@12,@SA00007+16                              03S1156
         BR    @14                                              03S1156
*                                  /*                                */
*      /* THIS PROCEDURE IS USED TO GENERATE A SEPARATOR PAGE   03S1157
*         BETWEEN THE DUMPS PRODUCED BY IGTD80.  THESE FACILITATE
*         THE OPERATOR'S JOB IN SEPARATING THE DUMPS.  THE SEPARATOR
*         PAGE WILL EITHER CONTAIN THE JOB NAME OF THE JOB THAT 03S1157
*         REQUESTED THE PORT DUMP, OR WILL CONTAIN THE WORDS 'VPSS
*         DUMP' FOR OPERATOR INITIATED DUMPS.                        */
*SEPPAGE: PROC;                    /* ENTRY POINT.                   */
SEPPAGE  STM   @14,@01,@SA00008                                 03S1157
         STM   @03,@12,@SA00008+16                              03S1157
*   DCL JSPJBNAM CHAR(8);          /* CONTAINS THE JOBNAME, OR 'VPSS'*/
*   DCL JSPJBNUM CHAR(8);          /* CONTAINS BLANKS, OR 'DUMP'.    */
*   DCL JSPJBC1  PTR(31);          /* NUMBER OF CHARS IN THE JOBNAME.*/
*   DCL JSPJBC2  PTR(31);          /* NUMBER OF CHARS IN THE JOBNAME.*/
*   DCL JSPJBOFF PTR(31);          /* OFFSET INTO THE PRINT LINE.    */
*   DCL JSPJNOFF PTR(31);          /* OFFSET INTO THE PRINT LINE.    */
*   DCL JSPTBL (8) PTR(31)         /* OFFSETS INTO PRINT LINE BASED
*                                     ON THE NUMBER OF CHARS IN THE
*                                     JOB NAME.                      */
*              STATIC LOCAL INIT(62,55,48,41,34,27,20,13);      03S1164
*   DCL JSPLNCT  PTR(31);          /* LOOP COUNTER.                  */
*   DCL BLOCKGEN ENTRY BASED(JSPSD095) /* ENTRY TO IEFSD095.         */
*       VALRG(*) OPTIONS(NOEXIT,NOFLOWS,SEQFLOW,SETS(1,2,3,4)); 03S1166
*   DCL JSPSD095 PTR(31);          /* ADDRESS OF IEFSD095.           */
*  RFY APUBPTR RSTD;               /* CONTAINS PTR TO THE MASTER APUB*/
*   GEN (LOAD EP=IEFSD095);        /* LOAD IEFSD095.                 */
         LOAD EP=IEFSD095
*   GEN (ST   R0P,JSPSD095);       /* STORE THE ADDRESS.             */
         ST   R0P,JSPSD095
*  IF UNITADDR (3:3) ^= '0' THEN   /* DETERMINE IF PORT DUMP OR      */
         CLI   UNITADDR+2,C'0'                                  03S1171
         BE    @RF01171                                         03S1171
*    DO;                           /* OPERATOR REQUESTED DUMP. ^0 =
*                                     PORT DUMP.                     */
*      JBNMPTR = APUBPTR;          /* PTR TO MASTER APUB.            */
         ST    APUBPTR,JBNMPTR                                  03S1173
*      DO WHILE UNITADDR(3:3)      /* SEARCH FOR RIGHT PORT.         */
*         ^= JBNMPTR -> APUBUCB -> UCBNAME(3:3);                03S1174
         B     @DE01174                                         03S1174
@DL01174 DS    0H                                               03S1175
*        JBNMPTR = JBNMPTR -> APUBAPUB; /* ADVANCE TO NEXT PORT.     */
         L     @11,JBNMPTR                                      03S1175
         L     @11,APUBAPUB(,@11)                               03S1175
         ST    @11,JBNMPTR                                      03S1175
*      END;                        /* DROP THRU WHEN PORT IS FOUND.  */
@DE01174 L     @11,JBNMPTR                                      03S1176
         L     @09,APUBUCB(,@11)                                03S1176
         CLC   UNITADDR+2(1),UCBNAME+2(@09)                     03S1176
         BNE   @DL01174                                         03S1176
*      JSPJBNAM = JBNMPTR -> APUBJBNM; /* GET JOB NAME.              */
         MVC   JSPJBNAM(8),APUBJBNM(@11)                        03S1177
*      DO JSPJBC1 = 8 TO 1 BY -1   /* LOOK FOR FIRST NON-BLANK.      */
*         WHILE JSPJBNAM(JSPJBC1) = ' '; /* SO JOBNAME LEN IS KNOWN. */
         LA    @11,8                                            03S1178
         ST    @11,JSPJBC1                                      03S1178
@DL01178 LA    @09,JSPJBNAM-1(@11)                              03S1178
         CLI   0(@09),C' '                                      03S1178
         BNE   @DC01178                                         03S1178
*      END;                        /* END OF JOB NAME LEN DETERMINATN*/
         BCTR  @11,0                                            03S1179
         ST    @11,JSPJBC1                                      03S1179
         LTR   @11,@11                                          03S1179
         BP    @DL01178                                         03S1179
@DC01178 DS    0H                                               03S1180
*      JSPJBOFF = JSPTBL(JSPJBC1); /* PICK UP PROPER OFFSET INTO LINE*/
         L     @09,JSPJBC1                                      03S1180
         SLA   @09,2                                            03S1180
         L     JSPJBOFF,JSPTBL-4(@09)                           03S1180
*      JSPJBNUM = 'PORTDUMP';      /* SECOND HALF OF SEPARATOR.      */
         MVC   JSPJBNUM(8),@CC03407                             03S1181
*      JSPJNOFF = JSPTBL(8);       /* OFFSET.                        */
         L     JSPJNOFF,JSPTBL+28                               03S1182
*      JSPJBC2  = 8;               /* NUMBER OF CHARS.               */
         MVC   JSPJBC2(4),@CF00104                              03S1183
*    END;                          /* END OF PORT DUMP SET UP.       */
*  ELSE                            /* IT IS AN OPERATOR REQUEST.     */
*    DO;                           /* OPERATOR REQUESTED DUMP.       */
         B     @RC01171                                         03S1185
@RF01171 DS    0H                                               03S1186
*      JSPJBNAM = APCTSSID;        /* SUBSYSTEM NAME.                */
         MVI   JSPJBNAM+4,C' '                                  03S1186
         MVC   JSPJBNAM+5(3),JSPJBNAM+4                         03S1186
         MVC   JSPJBNAM(4),APCTSSID(APCTPTR)                    03S1186
*      JSPJBOFF = JSPTBL(4);       /* OFFSET.                        */
         L     @09,JSPTBL+12                                    03S1187
         LR    JSPJBOFF,@09                                     03S1187
*      JSPJBC1 = 4;                /* NUMBER OF CHARS IN THE NAME.   */
         LA    @04,4                                            03S1188
         ST    @04,JSPJBC1                                      03S1188
*      JSPJBNUM = 'DUMP';          /* SECOND LINE.                   */
         MVI   JSPJBNUM+4,C' '                                  03S1189
         MVC   JSPJBNUM+5(3),JSPJBNUM+4                         03S1189
         MVC   JSPJBNUM(4),@CC03272                             03S1189
*      JSPJNOFF = JSPTBL(4);       /* OFFSET TO SECOND PART.         */
         LR    JSPJNOFF,@09                                     03S1190
*      JSPJBC2  = 4;               /* SECOND COUNT.                  */
         ST    @04,JSPJBC2                                      03S1191
*    END;                          /* END OF OPERATOR DUMP SETUP.    */
*    PRNTLINE(1:121) = '1';        /* BLANK LINE WITH EJECT.         */
@RC01171 MVI   PRNTLINE+1(BUFFPTR2),C' '                        03S1193
         MVC   PRNTLINE+2(119,BUFFPTR2),PRNTLINE+1(BUFFPTR2)    03S1193
         MVI   PRNTLINE(BUFFPTR2),C'1'                          03S1193
*    DO JSPLNCT = 1 TO 12 BY 1;    /* BUILD 12 LINES OF BLOCK CHARS. */
         LA    @09,1                                            03S1194
         ST    @09,JSPLNCT                                      03S1194
@DL01194 DS    0H                                               03S1195
*      CALL BLOCKGEN(JSPJBNAM,     /* CALL BLOCK CHAR GENERATOR.     */
*      JSPLNCT,                    /* INPUT IS CHAR STRING, LINE TO  */
*      PRNTLINE(JSPJBOFF-JSPLNCT+1), /* BUILD, LINE TO BUILD IT IN   */
*      JSPJBC1);                   /* AND CHAR COUNT.                */
         LA    @04,JSPJBNAM                                     03S1195
         ST    @04,@AL00001                                     03S1195
         LA    @04,JSPLNCT                                      03S1195
         ST    @04,@AL00001+4                                   03S1195
         LCR   @09,@09                                          03S1195
         ALR   @09,JSPJBOFF                                     03S1195
         LA    @09,PRNTLINE(@09,BUFFPTR2)                       03S1195
         ST    @09,@AL00001+8                                   03S1195
         LA    @09,JSPJBC1                                      03S1195
         ST    @09,@AL00001+12                                  03S1195
         L     @15,JSPSD095                                     03S1195
         LA    @01,@AL00001                                     03S1195
         BALR  @14,@15                                          03S1195
*      CALL PUT3838;               /* PRINT THE LINE.                */
         BAL   @14,PUT3838                                      03S1196
*      PRNTLINE(1:121) = '';       /* CLEAR THE NEW LINE.            */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S1197
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      03S1197
*    END;                          /* END OF FIRST PART OF SEPARATOR.*/
         LA    @09,1                                            03S1198
         AL    @09,JSPLNCT                                      03S1198
         ST    @09,JSPLNCT                                      03S1198
         C     @09,@CF00195                                     03S1198
         BNH   @DL01194                                         03S1198
*    DO JSPLNCT = 1 TO 5 BY 1;     /* DO BLANK LINES BETWEEN SECTIONS*/
         LA    @11,1                                            03S1199
         ST    @11,JSPLNCT                                      03S1199
@DL01199 DS    0H                                               03S1200
*      CALL PUT3838;               /* WRITE THE LINE.                */
         BAL   @14,PUT3838                                      03S1200
*      PRNTLINE(1:121) = '';       /* BLANK THE NEW LINE.            */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S1201
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      03S1201
*    END;                          /* END OF BLANK LINES.            */
         LA    @11,1                                            03S1202
         AL    @11,JSPLNCT                                      03S1202
         ST    @11,JSPLNCT                                      03S1202
         C     @11,@CF00126                                     03S1202
         BNH   @DL01199                                         03S1202
*    DO JSPLNCT = 1 TO 12 BY 1;    /* BUILD SECOND PART.             */
         LA    @11,1                                            03S1203
         ST    @11,JSPLNCT                                      03S1203
@DL01203 DS    0H                                               03S1204
*      CALL BLOCKGEN(JSPJBNUM,     /* CALL BLOCK CHAR GENERATOR.     */
*      JSPLNCT,                    /* INPUT IS CHAR STRING, LINE TO  */
*      PRNTLINE(JSPJNOFF-JSPLNCT+1), /* BUILD, LINE TO BUILD IT IN   */
*      JSPJBC2);                   /* AND CHAR COUNT.                */
         LA    @09,JSPJBNUM                                     03S1204
         ST    @09,@AL00001                                     03S1204
         LA    @09,JSPLNCT                                      03S1204
         ST    @09,@AL00001+4                                   03S1204
         LCR   @11,@11                                          03S1204
         ALR   @11,JSPJNOFF                                     03S1204
         LA    @11,PRNTLINE(@11,BUFFPTR2)                       03S1204
         ST    @11,@AL00001+8                                   03S1204
         LA    @11,JSPJBC2                                      03S1204
         ST    @11,@AL00001+12                                  03S1204
         L     @15,JSPSD095                                     03S1204
         LA    @01,@AL00001                                     03S1204
         BALR  @14,@15                                          03S1204
*      CALL PUT3838;               /* PRINT THE LINE.                */
         BAL   @14,PUT3838                                      03S1205
*      PRNTLINE(1:121) = '';       /* CLEAR THE NEW LINE.            */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S1206
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      03S1206
*    END;                          /* END OF SECOND PART.            */
         LA    @11,1                                            03S1207
         AL    @11,JSPLNCT                                      03S1207
         ST    @11,JSPLNCT                                      03S1207
         C     @11,@CF00195                                     03S1207
         BNH   @DL01203                                         03S1207
*    GEN (DELETE EP=IEFSD095);     /* ELIMINATE THE LOAD MODULE.     */
         DELETE EP=IEFSD095
*    RETURN;                       /* BACK TO CALLER.                */
@EL00008 DS    0H                                               03S1209
@EF00008 DS    0H                                               03S1209
@ER00008 LM    @14,@01,@SA00008                                 03S1209
         LM    @03,@12,@SA00008+16                              03S1209
         BR    @14                                              03S1209
*  RFY APUBPTR UNRSTD;             /* RELEASE REG.                   */
*  END;                            /* END OF SEPARATOR PROC.         */
*                                   /*                               */
*STAERTRY:                                                      03S1212
* PROCEDURE;                                                    03S1212
STAERTRY STM   @14,@12,@SA00009                                 03S1212
*        /* THIS (E)STAE RETRY (CLEANUP) CODE SERVES, IN THE EVENT   */
*        /* OF AN ABNORMAL OCCURRENCE IN IGTD80, TO CLOSE ANY DATA   */
*        /* SETS STILL OPEN, TO FREE BUFFERS, AND ALSO TO SPECIFY A  */
*        /* REIPL OF THE 3838 IF ONE IS NEEDED AND NO COMMAND TO     */
*        /* REIPL HAS ALREADY BEEN QUEUED.                           */
*  DO;                                                          03S1213
*    RFY (R0P,R1P,R2P,R3P,R4P,R5P,R6P,R7P,R8P,R9P,              03S1214
*         R10P,R11P,R12P,R13P,R14P,R15P) RSTD;                  03S1214
*    GENERATE CODE(NOP 0);          /* TO KEEP THE COMPILER HONEST   */
         NOP 0
*    RFY (R0P,R1P,R2P,R3P,R4P,R5P,R6P,R7P,R8P,R9P,              03S1216
*         R10P,R11P,R12P,R13P,R14P,R15P) UNRSTD;                03S1216
*    CMNDCODE = '40';               /* SET ERROR CODE FOR MESSAGE    */
         MVC   CMNDCODE(2),@CC03411                             03S1217
*    OFFSET#2 = 69;                 /* SET OFFSET FOR ERROR CODE     */
         MVC   OFFSET#2(4),@CF02312                             03S1218
*    CALL APCVZDWT(IGT280I,OFFSET#1,APCTSSID,LENGTH(APCTSSID),  03S1219
*        OFFSET#2,CMNDCODE,LENGTH(CMNDCODE)); /* WTO ERROR MESSAGE   */
         LA    @09,@CF00673                                     03S1219
         ST    @09,@AL00001                                     03S1219
         LA    @09,OFFSET#1                                     03S1219
         ST    @09,@AL00001+4                                   03S1219
         LA    @09,APCTSSID(,APCTPTR)                           03S1219
         ST    @09,@AL00001+8                                   03S1219
         LA    @09,@CF00106                                     03S1219
         ST    @09,@AL00001+12                                  03S1219
         LA    @09,OFFSET#2                                     03S1219
         ST    @09,@AL00001+16                                  03S1219
         LA    @09,CMNDCODE                                     03S1219
         ST    @09,@AL00001+20                                  03S1219
         LA    @09,@CF00073                                     03S1219
         ST    @09,@AL00001+24                                  03S1219
         MVI   @AL00001+24,X'80'                                03S1219
         L     @15,APCTZDWT(,APCTPTR)                           03S1219
         LA    @01,@AL00001                                     03S1219
         BALR  @14,@15                                          03S1219
*                    /* NOW CLOSE DATASETS, FREE BUFFERS, ETC.       */
*    DCBPTR = ADDR(DCBTEMPA);       /* LOCATE DCB OF DUMPTEMP        */
         LA    @09,DCBTEMPA                                     03S1220
         ST    @09,DCBPTR                                       03S1220
*    IF DCBOFOPN=TRUE & ABNDCLST=FALSE & ABNDRCLT=FALSE THEN    03S1221
         TM    DCBOFOPN+40(@09),B'00010000'                     03S1221
         BNO   @RF01221                                         03S1221
         TM    ABNDCLST,B'11000000'                             03S1221
         BNZ   @RF01221                                         03S1221
*                                   /* IF DUMPTEMP IS STILL OPEN AND */
*                                   /* NO ABEND OCCURRED ON (RE)CLOSE*/
*      DO;                                                      03S1222
*        IF REOPENED=FALSE THEN     /* IF IT WAS ONLY ONCE OPENED    */
         TM    REOPENED,B'00001000'                             03S1223
         BNZ   @RF01223                                         03S1223
*          DO;                                                  03S1224
*            ABNDCLST = TRUE;       /* TO AVOID LOOPING THRU STAES   */
*                    ABNDCLST = TRUE; /* LEFT ON IF CLOSE ABENDS     */
         OI    ABNDCLST,B'10000000'                             04S1226
*                    GENERATE  CODE /* ATTEMPT A CLOSE               */
*                        REFS(DCBTEMPA,CLSTEMPS)                04S1227
*                        SETS(DCBTEMPA,CLSTEMPA);  /*           04S1227
                       MVC    CLSTEMPA(CLSTEMPE),CLSTEMPS
                       CLOSE  (DCBTEMPA),MF=(E,CLSTEMPA)
*                    ABNDCLST = FALSE; /* RESET IF NO CLOSE ABEND    */
         NI    ABNDCLST,B'01111111'                             04S1228
*          END;                                                 03S1229
*        ELSE                       /* IF IT WAS TWICE OPENED        */
*          DO;                                                  03S1230
         B     @RC01223                                         03S1230
@RF01223 DS    0H                                               03S1231
*            ABNDRCLT = TRUE;       /* TO AVOID LOOPING THRU STAES   */
*    ABNDRCLT = TRUE;               /* LEFT ON IF RECLOSE ABENDS     */
         OI    ABNDRCLT,B'01000000'                             04S1232
*    GENERATE  CODE                 /* ATTEMPT A RECLOSE             */
*        REFS(DCBTEMPA,RCLTEMPS)                                04S1233
*        SETS(DCBTEMPA,RCLTEMPA);  /*                           04S1233
       MVC    RCLTEMPA(RCLTEMPE),RCLTEMPS
       CLOSE  (DCBTEMPA),MF=(E,RCLTEMPA)
*    ABNDRCLT = FALSE;              /* OFF IF NO RECLOSE ABEND       */
         NI    ABNDRCLT,B'10111111'                             04S1234
*          END;                                                 03S1235
*        IF DCBOFOPN=FALSE THEN     /* IF CLOSE WAS SUCCESSFUL       */
@RC01223 L     @09,DCBPTR                                       03S1236
         TM    DCBOFOPN+40(@09),B'00010000'                     03S1236
         BNZ   @RF01236                                         03S1236
*  GENERATE  CODE                   /* ATTEMPT A FREEPOOL OF BUFFERS */
*      REFS(DCBTEMPA)                                           04S1237
*      SETS(DCBTEMPA);              /*                          04S1237
     FREEPOOL   DCBTEMPA
*        ELSE;                      /* DON'T TRY CLOSE ON OPEN DCB   */
@RF01236 DS    0H                                               03S1239
*      END;                                                     03S1239
*    ELSE;                          /* DUMPTEMP NOT OPEN             */
@RF01221 DS    0H                                               03S1241
*    DCBPTR = ADDR(DCB3838A);       /* LOCATE DCB OF DUMP3838        */
         LA    @09,DCB3838A                                     03S1241
         ST    @09,DCBPTR                                       03S1241
*    IF DCBOFOPN=TRUE & ABNDCLS8=FALSE THEN /* IF DUMP3838 IS STILL  */
         TM    DCBOFOPN+40(@09),B'00010000'                     03S1242
         BNO   @RF01242                                         03S1242
         TM    ABNDCLS8,B'00100000'                             03S1242
         BNZ   @RF01242                                         03S1242
*                                   /* OPEN & NO CLOSE ABEND OCCURRED*/
*      DO;                                                      03S1243
*        ABNDCLS8 = TRUE;           /* LEFT ON TO PREVENT STAE LOOPS */
*  ABNDCLS8 = TRUE;                 /* LEFT ON IF CLOSE ABENDS       */
         OI    ABNDCLS8,B'00100000'                             04S1245
*  GENERATE  CODE                   /* TRY A CLOSE OF DUMP3838       */
*      REFS(DCB3838A,CLS3838S)                                  04S1246
*      SETS(DCB3838A,CLS3838A);     /*                          04S1246
     MVC   CLS3838A(CLS3838E),CLS3838S
     CLOSE (DCB3838A),MF=(E,CLS3838A)
*  ABNDCLS8 = FALSE;                /* OFF IF NO CLOSE ABEND         */
         NI    ABNDCLS8,B'11011111'                             04S1247
*        IF DCBOFOPN=FALSE THEN     /* IF THE CLOSE WAS SUCCESSFUL   */
         L     @09,DCBPTR                                       03S1248
         TM    DCBOFOPN+40(@09),B'00010000'                     03S1248
         BNZ   @RF01248                                         03S1248
*  GENERATE  CODE                                               04S1249
*      REFS(DCB3838A)                                           04S1249
*      SETS(DCB3838A);                                          04S1249
     FREEPOOL   DCB3838A
*        ELSE                      /* FORCE UNALLOCATION OF OUTPUT.  */
*          DO;                     /* ISSUE UNALLOCATION REQUEST.    */
         B     @RC01248                                         03S1250
@RF01248 DS    0H                                               03S1251
*                   /* RESET REQUEST BLOCK FOR DYNAMIC UNALLOCATION  */
*  S99VERB = S99VRBUN;              /* SET RB VERB CODE FOR UNALLOC  */
         LA    @09,RQBLK                                        04S1251
         MVI   S99VERB(@09),X'02'                               04S1251
*  S99FLAG1 = '0000'X;              /* CLEAR OUT FLAG1               */
         MVC   S99FLAG1(2,@09),@CB03315                         04S1252
*  S99ERROR = ZERO;                 /* IN CASE ERROR CODE PROVIDED   */
         SLR   @04,@04                                          04S1253
         STH   @04,S99ERROR(,@09)                               04S1253
*  S99INFO = ZERO;                  /* IN CASE INFO. CODE PROVIDED   */
         STH   @04,S99INFO(,@09)                                04S1254
*  S99FLAG2 = '00000000'X;          /* CLEAR OUT FLAG2               */
         MVC   S99FLAG2(4,@09),@CB03256                         04S1255
*                   /* INITIALIZE THE ONLY TEXT UNIT FOR UNALLOCATE  */
*  S99TUPLN(1) = BITONE;            /* THIS IS LAST TEXT UNIT IN LIST*/
         LA    @09,TUPTRS                                       04S1256
         OI    S99TUPLN(@09),B'10000000'                        04S1256
*  S99TUKEY = DUNDDNAM;             /* DENOTES DSNAME UNALLOCATION   */
         L     @09,S99TUPTR+20(,@09)                            04S1257
         MVC   S99TUKEY(2,@09),@CB00365                         04S1257
*                   /* NOW ACTUALLY COMMIT THE UNALLOCATION          */
*  RFY (R1P,R15F) RSTD;             /* PTR IN REG 1 , RCDE IN REG 15 */
*  R1P = ADDR(S99RBPTR);            /* INSERT CORRECT ADDRESS INTO R1*/
         LA    R1P,RQBLKPTR                                     04S1259
*  GENERATE (DYNALLOC)              /* INVOKE THE SVC 99             */
*      REFS(R1P)                                                04S1260
*      SETS(R15F);                                              04S1260
         DYNALLOC
*  RFY (R1P,R15F) UNRSTD;           /* GIVE BACK THE REGISTERS       */
*          END;                    /* END OF UNALLOCATION FORCE.     */
*      END;                                                     03S1263
*    ELSE;                                                      03S1264
@RF01242 DS    0H                                               03S1265
*          IF UNITADDR(3:3)^='0'      /* IF THIS WAS A PORT DUMP     */
*             & RESETUJA = TRUE THEN  /* AND UJA IS NEEDED           */
@RC01242 CLI   UNITADDR+2,C'0'                                  04S1265
         BE    @RF01265                                         04S1265
         TM    RESETUJA,B'00000010'                             04S1265
         BNO   @RF01265                                         04S1265
*            DO;                                                04S1266
*              RFY APUBPTR RSTD;                                04S1267
*              APUBPTR = APUBAPUB;  /* MOVE DOWN LIST OF APUB PTR'S  */
         L     APUBPTR,APUBAPUB(,APUBPTR)                       04S1268
*              RFY UCBOB BASED(APUBUCB);                        04S1269
*              DO WHILE(APUBPTR^=ZERO & UCBNAME(3:3)^=UNITADDR(3:3));
         B     @DE01270                                         04S1270
@DL01270 DS    0H                                               04S1271
*                APUBPTR = APUBAPUB;/* MOVE TO NEXT APUB UNTIL MATCH */
         L     APUBPTR,APUBAPUB(,APUBPTR)                       04S1271
*              END;                 /* SO WE HAVE APUBPTR OF DUMPPORT*/
@DE01270 LTR   APUBPTR,APUBPTR                                  04S1272
         BZ    @DC01270                                         04S1272
         L     @11,APUBUCB(,APUBPTR)                            04S1272
         CLC   UCBNAME+2(1,@11),UNITADDR+2                      04S1272
         BNE   @DL01270                                         04S1272
@DC01270 DS    0H                                               04S1273
*              RFY R1P RSTD;        /* SECURE REG 1                  */
*              R1P = 1;             /* SET RECOVERY INDICATOR        */
         LA    R1P,1                                            04S1274
*              CALL APCVZUJA;       /* CALL THE BITSETTER ROUTINE    */
         L     @15,APCTZUJA(,APCTPTR)                           04S1275
         BALR  @14,@15                                          04S1275
*              RESETUJA = FALSE;    /* INDICATE UJA HAS BEEN CALLED. */
         NI    RESETUJA,B'11111101'                             04S1276
*              RFY R1P UNRSTD;      /* RELEASE REG 1                 */
*              RFY UCBOB BASED(UCBPTR);                         04S1278
*            END;                                               04S1279
*          ELSE;                                                04S1280
@RF01265 DS    0H                                               04S1281
*    IF REIPL=FALSE & QIES3838=TRUE THEN   /*IF STOP DUMP CMND NEEDED*/
         TM    QIES3838,B'01000000'                             03S1281
         BNO   @RF01281                                         03S1281
         TM    REIPL,B'00100000'                                03S1281
         BNZ   @RF01281                                         03S1281
*        DO;                                                    03S1282
*          PICMD = 4;               /* SET 3838 CMND TO STOP DUMP    */
         MVC   PICMD(2),@CH00106                                03S1283
*          CCW2 = CCW3;             /* MOVE NOP UP TO 2ND CCW POSIT. */
         MVC   CCW2(8),CCW3                                     03S1284
*          CALL EXCP3838;           /* PERFORM FINAL EXCP            */
         BAL   @14,EXCP3838                                     03S1285
*          QIES3838 = FALSE;        /* PREVENT (E)STAE LOOPING       */
         NI    QIES3838,B'10111111'                             03S1286
*        END;                                                   03S1287
*    ELSE;                          /* NOT NEEDED                    */
@RF01281 DS    0H                                               03S1289
*    IF REIPL=TRUE & REIPLED=FALSE THEN /* IF REIPL COMMAND NEEDED   */
         TM    REIPL,B'00100000'                                03S1289
         BNO   @RF01289                                         03S1289
         TM    REIPLED,B'00010000'                              03S1289
         BNZ   @RF01289                                         03S1289
*      DO;                                                      03S1290
*        RFY APCQPTR RSTD;          /* APCQPTR USED IN INCLUDED CODE */
*                   /* CONSTRUCT & ENQUEUE A RE-IPL COMMAND          */
*   SAVEPTR = APCQPTR;              /* SAVE PTR TO CURRENT COMMAND   */
         LR    SAVEPTR,APCQPTR                                  04S1292
*   CALL APCVZDX1;                  /* OBTAIN A NEW EMPTY COMMAND    */
         L     @15,APCTZDX1(,APCTPTR)                           04S1293
         BALR  @14,@15                                          04S1293
*                                   /* SETUP NEW REIPL COMMAND       */
*   APCQIINF = APCQRIPL;            /* INDICATE A REIPL IS REQUIRED  */
         MVC   APCQIINF(4,APCQPTR),@CF02376                     04S1294
*   APCQINT = TRUE;                 /* COMMAND IS INTERNALLY GEN'ED  */
         OI    APCQINT(APCQPTR),B'10000000'                     04S1295
*   APCQTXLN = ZERO;                /* NO TEXT PROVIDED              */
         SLR   @11,@11                                          04S1296
         STH   @11,APCQTXLN(,APCQPTR)                           04S1296
*   APCQPLEN = ZERO;                /* NO PARAMETERS EITHER          */
         STH   @11,APCQPLEN(,APCQPTR)                           04S1297
*                                   /*                               */
*   CALL APCVZDX2;                  /* NOW QUEUE IT UP               */
         L     @15,APCTZDX2(,APCTPTR)                           04S1298
         BALR  @14,@15                                          04S1298
*   APCQPTR = SAVEPTR;              /* RESTORE PREVIOUS COMMAND PTR  */
         LR    APCQPTR,SAVEPTR                                  04S1299
*   REIPLED = TRUE;                 /*INDICATE THAT COMMAND NOW GIVEN*/
         OI    REIPLED,B'00010000'                              04S1300
*        RFY APCQPTR UNRSTD;        /* RELEASE APCQPTR               */
*      END;                                                     03S1302
*    ELSE;                                                      03S1303
@RF01289 DS    0H                                               03S1304
*    IF ENQDAPUB=TRUE THEN          /* IF STILL ENQUEUED ON APUB CHN */
         TM    ENQDAPUB,B'00000010'                             03S1304
         BNO   @RF01304                                         03S1304
*      CALL APCVZDDQ;               /* DEQUEUE FROM APUB CHAIN       */
         L     @15,APCTZDDQ(,APCTPTR)                           03S1305
         BALR  @14,@15                                          03S1305
*    ELSE;                                                      03S1306
@RF01304 DS    0H                                               03S1307
*    GENERATE  CODE                                             04S1307
*        REFS(D80STAEA)                                         04S1307
*        SETS(D80STAEA); /*            RESCIND OUTSTANDING IGTD80 STAE
       IGTYSTAE  0,MF=(E,D80STAEA)
*  END;                                                         03S1308
* END STAERTRY;                                                 03S1309
@EL00009 DS    0H                                               03S1309
@EF00009 DS    0H                                               03S1309
@ER00009 LM    @14,@12,@SA00009                                 03S1309
         BR    @14                                              03S1309
*                                   /*                               */
*TOPOFPAG:                                                      03S1310
*  PROCEDURE;                                                   03S1310
TOPOFPAG STM   @14,@01,@SA00010                                 03S1310
         STM   @03,@12,@SA00010+16                              03S1310
*    TEMPLINE = PRNTLINE;           /* SAVE NEW LINE YET TO GO OUT   */
         MVC   TEMPLINE(121),PRNTLINE(BUFFPTR2)                 03S1311
*    PAGENMBR = PAGENMBR +1;        /* MOVE COUNT TO NEXT PAGE       */
         LA    @11,1                                            03S1312
         AL    @11,PAGENMBR                                     03S1312
         ST    @11,PAGENMBR                                     03S1312
*    LINCOUNT = ZERO;               /* RESET LINCOUNT FOR NEW PAGE   */
         SLR   @11,@11                                          03S1313
         STH   @11,LINCOUNT                                     03S1313
*    PRNTLINE(1:121) = '1';         /*CLEAR OUT ALL POSITIONS        */
         MVI   PRNTLINE+1(BUFFPTR2),C' '                        03S1314
         MVC   PRNTLINE+2(119,BUFFPTR2),PRNTLINE+1(BUFFPTR2)    03S1314
         MVI   PRNTLINE(BUFFPTR2),C'1'                          03S1314
*    PRNTLINE(11:10+LENGTH(APCTSSID)) = APCTSSID; /* MOVE IN SSID    */
         MVC   PRNTLINE+10(4,BUFFPTR2),APCTSSID(APCTPTR)        03S1315
*    PRNTLINE(12+LENGTH(APCTSSID):18+LENGTH(APCTSSID)) = 'DUMP OF';/**/
         MVC   PRNTLINE+15(7,BUFFPTR2),@CC03417                 03S1316
*    IF DUMPISCP=TRUE THEN          /* IF CP STORAGE IS NOW COMING   */
         TM    DUMPISCP,B'00100000'                             03S1317
         BNO   @RF01317                                         03S1317
*      PRNTLINE(20+LENGTH(APCTSSID):39+LENGTH(APCTSSID))        03S1318
*          = 'C P STORAGE';         /* IDENTIFY STORAGE              */
         MVI   PRNTLINE+34(BUFFPTR2),C' '                       03S1318
         MVC   PRNTLINE+35(8,BUFFPTR2),PRNTLINE+34(BUFFPTR2)    03S1318
         MVC   PRNTLINE+23(11,BUFFPTR2),@CC03418                03S1318
*    ELSE                           /* ELSE MUST BE BULK STORAGE     */
*      PRNTLINE(20+LENGTH(APCTSSID):32+LENGTH(APCTSSID))        03S1319
*          = 'BULK STORAGE';        /* IDENTIFY STORAGE              */
         B     @RC01317                                         03S1319
@RF01317 MVI   PRNTLINE+35(BUFFPTR2),C' '                       03S1319
         MVC   PRNTLINE+23(12,BUFFPTR2),@CC03420                03S1319
*    IF UNITADDR(3:3)^='0' THEN       /* IF IT IS A PORT DUMP        */
@RC01317 CLI   UNITADDR+2,C'0'                                  03S1320
         BE    @RF01320                                         03S1320
*      DO;                                                      03S1321
*        PRNTLINE(55+LENGTH(APCTSSID):63+LENGTH(APCTSSID)) = 'JOBNAME =
*            ;                                                  03S1322
         MVC   PRNTLINE+58(9,BUFFPTR2),@CC03422                 03S1322
*        PRNTLINE(65+LENGTH(APCTSSID):64+LENGTH(APCTSSID)+LENGTH
*            (APUBJBNM)) = JBNMPTR->APUBJBNM; /* INSERT JOBNAME      */
         L     @11,JBNMPTR                                      03S1323
         MVC   PRNTLINE+68(8,BUFFPTR2),APUBJBNM(@11)            03S1323
*      END;                                                     03S1324
*    ELSE;                                                      03S1325
@RF01320 DS    0H                                               03S1326
*    PRNTLINE(121-8:121-5) = 'PAGE';           /* INSERT IDENTIFIER  */
         MVC   PRNTLINE+112(4,BUFFPTR2),@CC03424                03S1326
*    CVD(PAGENMBR,DUBLWORD);        /* CONVERT PAGE NUMBER TO DECIMAL*/
         L     @11,PAGENMBR                                     03S1327
         CVD   @11,DUBLWORD                                     03S1327
*    DUBLWORD(7:8) = DUBLWORD(7:8) × '000F'X; /* ENSURE CORRECT SIGN */
         OC    DUBLWORD+6(2),@CB00393                           03S1328
*    UNPK(PRNTLINE(121-3:121),DUBLWORD);           /* UNPACK PAGE NO */
         UNPK  PRNTLINE+117(4,BUFFPTR2),DUBLWORD(8)             03S1329
*    CALL PUT3838;                  /* OUTPUT THE HEADER             */
         BAL   @14,PUT3838                                      03S1330
*    PRNTLINE(1:121) = '';          /* PREPARE FOR A BLANK LINE      */
         MVI   PRNTLINE(BUFFPTR2),C' '                          03S1331
         MVC   PRNTLINE+1(120,BUFFPTR2),PRNTLINE(BUFFPTR2)      03S1331
*    CALL PUT3838;                  /* OUTPUT A BLANK LINE           */
         BAL   @14,PUT3838                                      03S1332
*    PRNTLINE = TEMPLINE;           /* RESTORE ORIGINAL PRNTLINE     */
         MVC   PRNTLINE(121,BUFFPTR2),TEMPLINE                  03S1333
*  END TOPOFPAG;                                                03S1334
@EL00010 DS    0H                                               03S1334
@EF00010 DS    0H                                               03S1334
@ER00010 LM    @14,@01,@SA00010                                 03S1334
         LM    @03,@12,@SA00010+16                              03S1334
         BR    @14                                              03S1334
*                                   /*                               */
*                                   /*IGTXEPLG*/                01S1335
*    /* SYSTEM DECLARES */                                      01S1335
*                                                               01S1335
*                                                               01S1335
*    DECLARE /*GENERAL PURPOSE REGISTERS */                     01S1335
*      GPR00F FIXED(31) REG(0),                                 01S1335
*      GPR01P PTR(31) REG(1);                                   01S1335
*                                                               01S1335
*    DECLARE /* COMMON VARIABLES */                             01S1336
*      I256C CHAR(256) BASED,                                   01S1336
*      I031F FIXED(31) BASED,                                   01S1336
*      I031P PTR(31)   BASED,                                   01S1336
*      I015F FIXED(15) BASED,                                   01S1336
*      I015P PTR(15)   BASED,                                   01S1336
*      I008P PTR(8)    BASED,                                   01S1336
*      I001C CHAR(1)   BASED;                                   01S1336
*                                                               01S1337
*                                                               01S1337
*    /* MODULE PATCH AREA */                                    01S1337
*    DCL APPATCH CHAR(*) INT STATIC LOCAL GEND;                 01S1337
*    GENERATE DATA DEFS(APPATCH);  /* GENERATE PATCH            01S1338
*    /* GENERAL REGISTER DECLARES */                            01S1339
*  DCL                                                          01S1339
*    R0F FIXED(31) REG(0),                                      01S1339
*    R0P   PTR(24) REG(0),                                      01S1339
*    R0RSTD PTR(31) REG(0),                                     01S1339
*    R1F FIXED(31) REG(1),                                      01S1339
*    R1P   PTR(24) REG(1),                                      01S1339
*    R1RSTD PTR(31) REG(1),                                     01S1339
*    R2F FIXED(31) REG(2),                                      01S1339
*    R2P   PTR(24) REG(2),                                      01S1339
*    R2RSTD PTR(31) REG(2),                                     01S1339
*    R3F FIXED(31) REG(3),                                      01S1339
*    R3P   PTR(24) REG(3),                                      01S1339
*    R3RSTD PTR(31) REG(3),                                     01S1339
*    R4F FIXED(31) REG(4),                                      01S1339
*    R4P   PTR(24) REG(4),                                      01S1339
*    R4RSTD PTR(31) REG(4),                                     01S1339
*    R5F FIXED(31) REG(5),                                      01S1339
*    R5P   PTR(24) REG(5),                                      01S1339
*    R5RSTD PTR(31) REG(5),                                     01S1339
*    R6F FIXED(31) REG(6),                                      01S1339
*    R6P   PTR(24) REG(6),                                      01S1339
*    R6RSTD PTR(31) REG(6),                                     01S1339
*    R7F FIXED(31) REG(7),                                      01S1339
*    R7P   PTR(24) REG(7),                                      01S1339
*    R7RSTD PTR(31) REG(7),                                     01S1339
*    R8F FIXED(31) REG(8),                                      01S1339
*    R8P   PTR(24) REG(8),                                      01S1339
*    R8RSTD PTR(31) REG(8),                                     01S1339
*    R9F FIXED(31) REG(9),                                      01S1339
*    R9P   PTR(24) REG(9),                                      01S1339
*    R9RSTD PTR(31) REG(9),                                     01S1339
*    R10F FIXED(31) REG(10),                                    01S1339
*    R10P   PTR(24) REG(10),                                    01S1339
*    R10RSTD PTR(31) REG(10),                                   01S1339
*    R11F FIXED(31) REG(11),                                    01S1339
*    R11P   PTR(24) REG(11),                                    01S1339
*    R11RSTD PTR(31) REG(11),                                   01S1339
*    R12F FIXED(31) REG(12),                                    01S1339
*    R12P   PTR(24) REG(12),                                    01S1339
*    R12RSTD PTR(31) REG(12),                                   01S1339
*    R13F FIXED(31) REG(13),                                    01S1339
*    R13P   PTR(24) REG(13),                                    01S1339
*    R13RSTD PTR(31) REG(13),                                   01S1339
*    R14F FIXED(31) REG(14),                                    01S1339
*    R14P   PTR(24) REG(14),                                    01S1339
*    R14RSTD PTR(31) REG(14),                                   01S1339
*    R15F FIXED(31) REG(15),                                    01S1339
*    R15P   PTR(24) REG(15),                                    01S1339
*    R15RSTD PTR(31) REG(15),                                   01S1339
*    /* VPSS CONTROL BLOCK POINTER DECLARES */                  01S1339
*    APSMPTR PTR(24) REG(01), /* STORAGE MANAGEMENT BLOCK (SUGGESTED PO
*NTER) */                                                       01S1339
*    APSCPTR PTR(24) REG(01), /* STORAGE MANAGEMENT CONTROL WORD (SUGGE
*TED POINTER) */                                                01S1339
*    APINPTR PTR(24) REG(01), /* USER'S INPUT PARAMETER LIST (SUGGESTED
*POINTER) */                                                    01S1339
*/*                       */                                    01S1339
*    APDATA  PTR(24) REG(06), /* ADDRESS OF DYNAMIC DATA WORKAREA (DATA
*EG) */                                                         01S1339
*    APCODE  PTR(24) REG(07), /* PROGRAM CODE BASE REGISTER (CODEREG) *
*    APDEBPTR PTR(24) REG(08), /* VPSS DEB (SUGGESTED POINTER) */
*    APNPPTR PTR(24) REG(08), /* SUBSYSTEM INITIALIZATION WORKAREA BLOC
* (ONLY USED BY SUBSYSTEM INITIALIZATION) */                    01S1339
*    APRLPTR PTR(24) REG(08), /* VPSS ACB REQUEST LIST (SUGGESTED POINT
*R) */                                                          01S1339
*    APCIPTR PTR(24) REG(08), /* 3838 CONTROL TABLE (SUGGESTED POINTER)
**/  APCWPTR PTR(24) REG(08), /* CALL INTERFACE WORKAREA (SUGGESTED POI
*TER) */                                                        01S1339
*    APERPTR PTR(24) REG(08), /* ERP/IO APPENDAGE WORKAREA (SUGGESTED P
*INTER) */                                                      01S1339
*    APACBPTR PTR(24) REG(09), /* VPSS ACB (SUGGESTED POINTER) */
*    APCQPTR PTR(24) REG(09), /* COMMAND QUEUE ELEMENT (SUGGESTED POINT
*R) */                                                          01S1339
*    APOTPTR PTR(24) REG(09), /* OPTION TABLE (SUGGESTED POINTER) */
*    APIOPTR PTR(24) REG(10), /* I/O ELEMENT (SUGGESTED POINTER) */
*    APEXLPTR PTR(24) REG(10), /* VPSS EXLST (SUGGESTED POINTER) */
*    APUBPTR PTR(24) REG(10), /* UNIT BLOCK (SUGGESTED POINTER) */
*    APAXPTR PTR(24) REG(10), /* VPSS ACB EXTENSION (SUGGESTED POINTER)
**/  APCPPTR PTR(24) REG(10), /* VPSS CALL PROCESSING INDICATORS (SUGGE
*TED POINTER) */                                                01S1339
*    APOCPTR PTR(24) REG(10), /* VPSS OPEN/CLOSE SUBSYSTEM WORKAREA (RE
*UIRED POINTER) */                                              01S1339
*    APATPTR PTR(24) REG(11), /* VPSS ACB TABLE (SUGGESTED POINTER) */
*    APLBPTR PTR(24) REG(11), /* LABEL RESOLUTION TABLE (SUGGESTED POIN
*ER) */                                                         01S1339
*    APUTPTR PTR(24) REG(11), /* USER TABLE (SUGGESTED POINTER) */
*    APDSPTR PTR(24) REG(11), /* VPSS DATASET ENTRY (SUGGESTED POINTER)
**/  APXLPTR PTR(24) REG(11), /* TRANSLATION TABLE (SUGGESTED POINTER)
*/   APDXPTR PTR(24) REG(11), /* VPSS DEB EXTENSION (SUGGESTED POINTER)
**/  APCTPTR PTR(24) REG(12) RSTD, /* CONTROL TABLE (REQUIRED POINTER)
*/   APSVPTR PTR(24) REG(13) RSTD, /* OS/VPSS SAVEAREA/WORKAREA (REQUIR
*D POINTER) */                                                  01S1339
*    APRETURN PTR(24) REG(14), /* RETURN ADDRESS FOR SUBROUTINE LINKAGE
**/  APENTRY PTR(24) REG(15), /* SUBROUTINE ENTRY POINT LINKAGE */
*    APRCODE PTR(24) REG(15); /* CONTAINS SUBROUTINE RETURN CODE */
*    /* USER REGISTER DECLARES */                               01S1340
*                                   /*                               */
*END IGTD80                                                     01S1340
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSLIB  (IGTXSYSI)                                        *
*/*%INCLUDE SYSUT5  (DECLARES)                                        *
*/*%INCLUDE SYSUT5  (MACVRBLS)                                        *
*/*%INCLUDE SYSUT5  (AUTOMTCS)                                        *
*/*%INCLUDE SYSUT5  (CONSTNTS)                                        *
*/*%INCLUDE SYSUT5  (STATICS )                                        *
*/*%INCLUDE SYSUT5  (INCLUDES)                                        *
*/*%INCLUDE SYSLIB  (IEFZB4D0)                                        *
*/*%INCLUDE SYSLIB  (IEFZB4D2)                                        *
*/*%INCLUDE SYSLIB  (IEECHAIN)                                        *
*/*%INCLUDE SYSLIB  (IHAASCB )                                        *
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                        *
*/*%INCLUDE SYSLIB  (IEZIOB  )                                        *
*/*%INCLUDE SYSLIB  (IHAECB  )                                        *
*/*%INCLUDE SYSLIB  (IHADCBDF)                                        *
*/*%INCLUDE SYSLIB  (IHADCB  )                                        *
*/*%INCLUDE SYSLIB  (IHASDWA )                                        *
*/*%INCLUDE SYSLIB  (IGTXAPCM)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPCQ)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPCT)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPCV)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPDS)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPES)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPMM)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPSV)                                        *
*/*%INCLUDE SYSLIB  (IGTXAPUB)                                        *
*/*%INCLUDE SYSUT5  (INITLIZE)                                        *
*/*%INCLUDE SYSUT5  (CMNDSNTX)                                        *
*/*%INCLUDE SYSUT5  (BSTGADDR)                                        *
*/*%INCLUDE SYSUT5  (SETSTAE )                                        *
*/*%INCLUDE SYSUT5  (CONFIRMF)                                        *
*/*%INCLUDE SYSUT5  (ACKNWLDG)                                        *
*/*%INCLUDE SYSUT5  (LOADSADP)                                        *
*/*%INCLUDE SYSUT5  (OPENTEMP)                                        *
*/*%INCLUDE SYSUT5  (PUTTEMP )                                        *
*/*%INCLUDE SYSUT5  (PUTTEMP )                                        *
*/*%INCLUDE SYSUT5  (GRABDUMP)                                        *
*/*%INCLUDE SYSUT5  (CALLUJA )                                        *
*/*%INCLUDE SYSUT5  (CALLUJA )                                        *
*/*%INCLUDE SYSUT5  (CALLUJA )                                        *
*/*%INCLUDE SYSUT5  (CLSETEMP)                                        *
*/*%INCLUDE SYSUT5  (CLSETEMP)                                        *
*/*%INCLUDE SYSUT5  (CLSETEMP)                                        *
*/*%INCLUDE SYSUT5  (DYNA3838)                                        *
*/*%INCLUDE SYSUT5  (FREETEMP)                                        *
*/*%INCLUDE SYSUT5  (FREETEMP)                                        *
*/*%INCLUDE SYSUT5  (FREETEMP)                                        *
*/*%INCLUDE SYSUT5  (FREETEMP)                                        *
*/*%INCLUDE SYSUT5  (OPEN3838)                                        *
*/*%INCLUDE SYSUT5  (DYNU3838)                                        *
*/*%INCLUDE SYSUT5  (DYNU3838)                                        *
*/*%INCLUDE SYSUT5  (DYNU3838)                                        *
*/*%INCLUDE SYSUT5  (ROPNTEMP)                                        *
*/*%INCLUDE SYSUT5  (OUTPUTIT)                                        *
*/*%INCLUDE SYSUT5  (HEADING )                                        *
*/*%INCLUDE SYSUT5  (PRNTPREP)                                        *
*/*%INCLUDE SYSUT5  (REFORMAT)                                        *
*/*%INCLUDE SYSUT5  (CLSE3838)                                        *
*/*%INCLUDE SYSUT5  (CLSE3838)                                        *
*/*%INCLUDE SYSUT5  (CLSE3838)                                        *
*/*%INCLUDE SYSUT5  (FREE3838)                                        *
*/*%INCLUDE SYSUT5  (FREE3838)                                        *
*/*%INCLUDE SYSUT5  (FREE3838)                                        *
*/*%INCLUDE SYSUT5  (RCLSTEMP)                                        *
*/*%INCLUDE SYSUT5  (RCLSTEMP)                                        *
*/*%INCLUDE SYSUT5  (REIPLCMD)                                        *
*/*%INCLUDE SYSUT5  (REIPLCMD)                                        *
*/*%INCLUDE SYSUT5  (ENDSTAE )                                        *
*/*%INCLUDE SYSUT5  (ENDSTAE )                                        *
*/*%INCLUDE SYSUT5  (SUBRTNES)                                        *
*/*%INCLUDE SYSUT5  (CHRCNVRT)                                        *
*/*%INCLUDE SYSUT5  (EXCP3838)                                        *
*/*%INCLUDE SYSUT5  (GETTEMP )                                        *
*/*%INCLUDE SYSUT5  (LNREPEAT)                                        *
*/*%INCLUDE SYSUT5  (PADBLANX)                                        *
*/*%INCLUDE SYSUT5  (PUT3838 )                                        *
*/*%INCLUDE SYSUT5  (SEPPAGE )                                        *
*/*%INCLUDE SYSUT5  (STAERTRY)                                        *
*/*%INCLUDE SYSUT5  (TOPOFPAG)                                        *
*;                                                              01S1340
         B     @EL00001                                         01S1340
@DATA    DS    0H
@CH03280 DC    H'16392'
@SM03539 MVC   S99TUPAR(0,@11),@CB03303
@SM03541 MVC   S99TUPAR(0,@11),@CB03306
@SM03543 MVC   PRNTLINE+26(0,BUFFPTR2),APCQCMND(APCQPTR)
@DATD    DSECT
         DS    0F
@SA00001 DS    20F
@SA00009 DS    15F
@SA00003 DS    15F
@SA00007 DS    14F
@SA00008 DS    14F
@SA00004 DS    14F
@SA00005 DS    14F
@SA00010 DS    14F
@AL00001 DS    13A
@TF00001 DS    F
IGTD80   CSECT
         DS    0F
@CF00079 DC    F'1'
@CH00079 EQU   @CF00079+2
@CF00073 DC    F'2'
@CH00073 EQU   @CF00073+2
@CF00117 DC    F'3'
@CH00117 EQU   @CF00117+2
@CF00106 DC    F'4'
@CH00106 EQU   @CF00106+2
@CF00126 DC    F'5'
@CH00126 EQU   @CF00126+2
@CF00119 DC    F'6'
@CF00110 DC    F'7'
@CF00104 DC    F'8'
@CH00104 EQU   @CF00104+2
@CF00663 DC    F'9'
@CF00130 DC    F'10'
@CF02133 DC    F'11'
@CF00195 DC    F'12'
@CF00182 DC    F'13'
@CF02376 DC    F'14'
@CF02354 DC    F'23'
@CF00133 DC    F'24'
@CF01631 DC    F'40'
@CF02259 DC    F'41'
@CF02266 DC    F'44'
@CF02287 DC    F'55'
@CF02289 DC    F'56'
@CF02304 DC    F'65'
@CF02306 DC    F'66'
@CF02312 DC    F'69'
@CF00193 DC    F'84'
@CF00114 DC    F'121'
@CF00673 DC    F'124'
@CF03076 DC    F'128'
@CF03080 DC    F'136'
@CF02473 DC    F'140'
@CF03084 DC    F'148'
@CF03488 DC    F'-2147483647'
@CF03494 DC    F'-11'
@CF03311 DC    XL4'000000C0'
@CF03312 DC    XL4'000000F0'
@CF03323 DC    XL4'0000000F'
@CF03524 DC    BL4'10000000000000000000000000000000'
@CF03527 DC    BL4'00000000010000000000000000000000'
@CF03530 DC    BL4'00000000000000000000000010000000'
@DATD    DSECT
         DS    0D
BSHLIMIT DS    F
BSLLIMIT DS    F
LADDRESS DS    F
PAGENMBR DS    F
OFFSET#1 DS    F
OFFSET#2 DS    F
OFFSET#3 DS    F
OFFSET#4 DS    F
BUFFPTR1 DS    A
DCBPTR   DS    A
ECBPTR   DS    A
IOBPRPTR DS    A
IOBSTPTR DS    A
JBNMPTR  DS    A
ASCBPTR  DS    A
CSCBPTR  DS    A
S99TUFP  DS    A
BITFLAGS DS    AL4
         ORG   BITFLAGS
ABNDCLST DS    BL1
ABNDRCLT EQU   BITFLAGS+0
ABNDCLS8 EQU   BITFLAGS+0
CMNDERR  EQU   BITFLAGS+0
DLMFOUND EQU   BITFLAGS+0
DUMPBS   EQU   BITFLAGS+0
DUMPBSAA EQU   BITFLAGS+0
DUMPCP   EQU   BITFLAGS+0
DUMPFORC DS    BL1
DUMPISBS EQU   BITFLAGS+1
DUMPISCP EQU   BITFLAGS+1
DUMPISGO EQU   BITFLAGS+1
ENDREADS EQU   BITFLAGS+1
ENDSTORE EQU   BITFLAGS+1
ENQDAPUB EQU   BITFLAGS+1
IDIOTBIT EQU   BITFLAGS+1
PRINTING DS    BL1
QIES3838 EQU   BITFLAGS+2
REIPL    EQU   BITFLAGS+2
REIPLED  EQU   BITFLAGS+2
REOPENED EQU   BITFLAGS+2
REPEATNG EQU   BITFLAGS+2
RESETUJA EQU   BITFLAGS+2
         ORG   BITFLAGS+4
JSPJBC1  DS    A
JSPJBC2  DS    A
JSPLNCT  DS    A
JSPSD095 DS    A
DIGITCNT DS    H
DIGTINDX DS    H
DLMINDEX DS    H
INDEX    DS    H
ISBSCRPT DS    H
LINCOUNT DS    H
OSPACER  DS    H
PLENLEFT DS    H
CMNDCODE DS    CL2
         DS    CL6
DUBLWORD DS    CL8
FULLWORD DS    CL4
HRMINSEC DS    CL7
PREVLINE DS    CL121
REPLY290 DS    CL3
RPTADDR1 DS    CL6
RPTADDR2 DS    CL6
SADPGMNM DS    CL8
TEMPLINE DS    CL121
UNITADDR DS    CL3
         DS    CL1
WTORECB  DS    CL4
YEARDATE DS    CL5
DUMPTYPE DS    CL17
         ORG   DUMPTYPE
AMSGPAR1 DS    CL10
AMSGPAR2 DS    CL7
         ORG   DUMPTYPE+17
         DS    CL6
CCWCHAIN DS    CL24
         ORG   CCWCHAIN
CCW1     DS    CL8
         ORG   CCW1
CMDCODE1 DS    BL1
DATADDR1 DS    AL3
CCWFLAG1 DS    BL1
         ORG   CCWFLAG1
CHNDATA1 DS    BL1
CHNCMND1 EQU   CCWFLAG1+0
SUPLENI1 EQU   CCWFLAG1+0
SKIPFLG1 EQU   CCWFLAG1+0
PCIFLAG1 EQU   CCWFLAG1+0
IDAFLAG1 EQU   CCWFLAG1+0
@NM00001 EQU   CCWFLAG1+0
         ORG   CCW1+5
UNUSED1  DS    BL1
COUNT1   DS    FL2
         ORG   CCWCHAIN+8
CCW2     DS    CL8
         ORG   CCW2
CMDCODE2 DS    BL1
DATADDR2 DS    AL3
CCWFLAG2 DS    BL1
         ORG   CCWFLAG2
CHNDATA2 DS    BL1
CHNCMND2 EQU   CCWFLAG2+0
SUPLENI2 EQU   CCWFLAG2+0
SKIPFLG2 EQU   CCWFLAG2+0
PCIFLAG2 EQU   CCWFLAG2+0
IDAFLAG2 EQU   CCWFLAG2+0
@NM00002 EQU   CCWFLAG2+0
         ORG   CCW2+5
UNUSED2  DS    BL1
COUNT2   DS    FL2
         ORG   CCWCHAIN+16
CCW3     DS    CL8
         ORG   CCW3
CMDCODE3 DS    BL1
DATADDR3 DS    AL3
CCWFLAG3 DS    BL1
         ORG   CCWFLAG3
CHNDATA3 DS    BL1
CHNCMND3 EQU   CCWFLAG3+0
SUPLENI3 EQU   CCWFLAG3+0
SKIPFLG3 EQU   CCWFLAG3+0
PCIFLAG3 EQU   CCWFLAG3+0
IDAFLAG3 EQU   CCWFLAG3+0
@NM00003 EQU   CCWFLAG3+0
         ORG   CCW3+5
UNUSED3  DS    BL1
COUNT3   DS    FL2
         ORG   CCWCHAIN+24
CMND3838 DS    CL8
         ORG   CMND3838
PICMD    DS    FL2
PIPRT    DS    CL2
@NM00004 DS    CL4
         ORG   CMND3838+8
@NM00006 DS    CL132
         ORG   @NM00006
RQBLKPTR DS    CL4
RQBLK    DS    CL20
TUPTRS   DS    CL24
TXTUNITS DS    CL84
         ORG   @NM00006+132
@NM00007 DS    CL12
         ORG   @NM00007
DYNARTRN DS    CL4
DYNACODE DS    CL8
         ORG   DYNACODE
DYNAERRR DS    CL4
DYNAINFO DS    CL4
         ORG   @NM00007+12
APES     DS    CL648
         ORG   APES
APESID   DS    CL4
APESUSER DS    FL4
APESADDR DS    AL4
APESAPMV DS    AL4
APESFLGS DS    BL2
         ORG   APESFLGS
APESFLG0 DS    BL1
         ORG   APESFLG0
APESFDMP DS    BL1
APESFREC EQU   APESFLG0+0
APESFSDP EQU   APESFLG0+0
@NM00135 EQU   APESFLG0+0
APESFRTY EQU   APESFLG0+0
APESFEXR EQU   APESFLG0+0
@NM00136 EQU   APESFLG0+0
         ORG   APESFLGS+1
APESFLG1 DS    BL1
         ORG   APESFLG1
APESFFRR DS    BL1
APESFPRV EQU   APESFLG1+0
APESFLLK EQU   APESFLG1+0
APESFXLK EQU   APESFLG1+0
APESFGM  EQU   APESFLG1+0
APESFSDI EQU   APESFLG1+0
APESFSTE EQU   APESFLG1+0
APESUPSC EQU   APESFLG1+0
         ORG   APES+18
APESSUID DS    BL1
         ORG   APESSUID
APESSU33 DS    BL1
@NM00137 EQU   APESSUID+0
         ORG   APES+19
APESCODE DS    FL1
APESCOD1 DS    FL1
APESCNTR DS    FL1
APESMXCD DS    FL1
@NM00138 DS    FL1
@NM00139 DS    AL4
@NM00140 DS    AL4
@NM00141 DS    AL4
APESEXRA DS    AL4
APESR14S DS    AL4
APESREGP DS    AL4
APESREGZ DS    CL64
APESMOD  DS    CL8
APESPROC DS    CL8
APESFRR  DS    CL8
APESSDWA DS    CL512
         ORG   APES+648
JSPJBNAM DS    CL8
JSPJBNUM DS    CL8
TEMPADDR DS    2A
IGTD80   CSECT
         DS    0F
@SIZDATD DC    AL1(0)
         DC    AL3(@ENDDATD-@DATD)
         DS    0D
@CC03335 DC    C'DUMP GENERATED ON'
@CC03327 DC    C' INTERNAL FORCE '
@CC03329 DC    C'INTERNAL DYNAMIC'
@CC03331 DC    C' OPERATOR FORCE '
@CC03333 DC    C'OPERATOR DYNAMIC'
@CC03355 DC    C'END OF XXXX DUMP'
@CC03420 DC    C'BULK STORAGE'
@CC03418 DC    C'C P STORAGE'
@CC03265 DC    C'INTERNALLY'
@CC03267 EQU   @CC03331
@CC03346 DC    C'JOBNAME = '
@CC03348 DC    C'PAGE 0001'
@CC03422 EQU   @CC03346
@CC00224 DC    C'DUMP3838'
@CC03233 DC    C',STORAGE'
@CC03246 DC    C'IGTD80  '
@CC03342 DC    C'FOR UNIT'
@CC03407 DC    C'PORTDUMP'
@CC03269 DC    C' FORCE '
@CC03270 DC    C'DYNAMIC'
@CC03417 DC    C'DUMP OF'
@CC03232 DC    C',FORCE'
@CC03028 DC    C'APES'
@CC03272 EQU   @CC03335
@CC03424 EQU   @CC03348
@CC03231 DC    C',CP'
@CC03262 DC    C'YES'
@CC03376 DC    C'   '
@CC03234 DC    C'=('
@CC03255 DC    C'20'
@CC03264 DC    C'NO'
@CC03271 DC    C'04'
@CC03274 DC    C'08'
@CC03275 DC    C'12'
@CC03283 DC    C'36'
@CC03285 DC    C'48'
@CC03288 DC    C'16'
@CC03313 DC    C'24'
@CC03314 DC    C'28'
@CC03337 DC    C'19'
@CC03339 DC    C'AT'
@CC03357 DC    C'32'
@CC03375 EQU   @CC03376
@CC03411 DC    C'40'
@CB03256 DC    X'00000000'
@CB00365 DC    X'0001'
@CB00393 DC    X'000F'
@CB00411 DC    X'0018'
@CB00419 DC    X'001C'
@CB00459 DC    X'0030'
@CB00495 DC    X'0042'
@CB00509 DC    X'0049'
@CB03303 DC    X'0974'
@CB03306 DC    X'0079'
@CB03315 EQU   @CB03256
CMDINTRO DC    CL25'INPUT DUMP COMMAND WAS : '
REPETMSG DC    CL121'       LINE(S)        THROUGH        ARE SAME AS AC
               BOVE LINE.'
         DS    CL1
RQBFLAG1 DC    X'C000'
         ORG   RQBFLAG1
RQBONCNV DS    BL1
RQBNOCNV EQU   RQBFLAG1+0
RQBNOMNT EQU   RQBFLAG1+0
@NM00012 EQU   RQBFLAG1+0
         ORG   RQBFLAG1+2
         DS    CL2
RQBFLAG2 DC    X'20000000'
         ORG   RQBFLAG2
RQBWTVOL DS    BL1
RQBWTDSN EQU   RQBFLAG2+0
RQBNORES EQU   RQBFLAG2+0
@NM00013 EQU   RQBFLAG2+0
         ORG   RQBFLAG2+4
DELMTR   DC    CL1','
         DC    CL1')'
STAEMSGS DS    CL8
         ORG   STAEMSGS+0
@NM00008 DC    H'36'
@NM00009 DC    H'0'
@NM00010 DC    H'0'
@NM00011 DC    H'0'
         ORG   STAEMSGS+8
         DS    CL2
JSPTBL   DC    A(62)
         DC    A(55)
         DC    A(48)
         DC    A(41)
         DC    A(34)
         DC    A(27)
         DC    A(20)
         DC    A(13)
@DATD    DSECT
*
DCBTEMPA  DCB  DDNAME=DUMPTEMP,                                        *
               DSORG=PS,                                               *
               RECFM=UT,                                               *
               BLKSIZE=16392,                                          *
               MACRF=(PL,GL)
DCB3838A  DCB  DDNAME=DUMP3838,                                        *
               DSORG=PS,                                               *
               RECFM=FBA,                                              *
               LRECL=121,                                              *
               BLKSIZE=2420,                                           *
               MACRF=(PL)           /*
OPNTEMPA  OPEN   (,),MF=L
CLSTEMPA  CLOSE  (,),MF=L
ROPTEMPA  OPEN   (,),MF=L
RCLTEMPA  CLOSE  (,),MF=L
OPN3838A  OPEN   (,),MF=L
CLS3838A  CLOSE  (,),MF=L
D80STAEA  IGTYSTAE  *-*,CT,PURGE=NONE,MF=L
WTOR290A WTOR  'IGT290A SSSS: CONFIRM FORCE DUMP. REPLY YES, U, OR NO',*
               ROUTCDE=1,MF=L
IGTD80   CSECT
*
DCBTEMPS  DCB  DDNAME=DUMPTEMP,                                        *
               DSORG=PS,                                               *
               RECFM=UT,                                               *
               BLKSIZE=16392,                                          *
               MACRF=(PL,GL)
DCBTEMPE  EQU  *-DCBTEMPS
DCB3838S  DCB  DDNAME=DUMP3838,                                        *
               DSORG=PS,                                               *
               RECFM=FBA,                                              *
               LRECL=121,                                              *
               BLKSIZE=2420,                                           *
               MACRF=(PL)           /*
DCB3838E  EQU  *-DCB3838S
OPNTEMPS  OPEN (,),MF=L
OPNTEMPE  EQU  *-OPNTEMPS
CLSTEMPS  CLOSE (,),MF=L
CLSTEMPE  EQU  *-CLSTEMPS
ROPTEMPS  OPEN (,),MF=L
ROPTEMPE  EQU  *-ROPTEMPS
RCLTEMPS  CLOSE (,),MF=L
RCLTEMPE  EQU  *-RCLTEMPS
OPN3838S  OPEN (,),MF=L
OPN3838E  EQU  *-OPN3838S
CLS3838S  CLOSE (,),MF=L
CLS3838E  EQU  *-CLS3838S
D80STAES  IGTYSTAE  *-*,CT,PURGE=NONE,MF=L
D80STAEE  EQU  *-D80STAES
WTOR290S WTOR  'IGT290A SSSS: CONFIRM FORCE DUMP. REPLY YES, U, OR NO',*
               ROUTCDE=1,MF=L
WTOR290E  EQU  *-WTOR290S
IGTD80   CSECT
         IGTXZAP ,                 GENERATE PATCH AREA
@DATD    DSECT
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IGTD80   CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
JSPJNOFF EQU   @03
JSPJBOFF EQU   @11
SAVEPTR  EQU   @02
UCBPTR   EQU   @02
BUFFPTR2 EQU   @02
BUFFPTR  EQU   @04
A3838DCB EQU   @02
PLENGTH  EQU   @02
OSBSCRPT EQU   @11
CMNDPSTR EQU   @11
APDATA   EQU   @06
APCODE   EQU   @07
BREG2ND  EQU   @08
BREG3RD  EQU   @05
SDWAPTR  EQU   @01
APCTPTR  EQU   @12
APSVPTR  EQU   @13
APCQPTR  EQU   @09
APUBPTR  EQU   @10
R3F      EQU   @03
R4F      EQU   @04
R14P     EQU   @14
R15P     EQU   @15
R0P      EQU   @00
R3P      EQU   @03
R4P      EQU   @04
GPR00F   EQU   @00
GPR01P   EQU   @01
R15F     EQU   @15
R1P      EQU   @01
R0F      EQU   @00
R1F      EQU   @01
R2P      EQU   @02
R5P      EQU   @05
R6P      EQU   @06
R7P      EQU   @07
R8P      EQU   @08
R9P      EQU   @09
R10P     EQU   @10
R11P     EQU   @11
R12P     EQU   @12
R13P     EQU   @13
APACBPTR EQU   @09
APATPTR  EQU   @11
APAXPTR  EQU   @10
APCIPTR  EQU   @08
APCPPTR  EQU   @10
APCWPTR  EQU   @08
APDEBPTR EQU   @08
APDSPTR  EQU   @11
APDXPTR  EQU   @11
APENTRY  EQU   @15
APERPTR  EQU   @08
APEXLPTR EQU   @10
APINPTR  EQU   @01
APIOPTR  EQU   @10
APLBPTR  EQU   @11
APNPPTR  EQU   @08
APOCPTR  EQU   @10
APOTPTR  EQU   @09
APRCODE  EQU   @15
APRETURN EQU   @14
APRLPTR  EQU   @08
APSCPTR  EQU   @01
APSMPTR  EQU   @01
APUTPTR  EQU   @11
APXLPTR  EQU   @11
R0RSTD   EQU   @00
R1RSTD   EQU   @01
R10F     EQU   @10
R10RSTD  EQU   @10
R11F     EQU   @11
R11RSTD  EQU   @11
R12F     EQU   @12
R12RSTD  EQU   @12
R13F     EQU   @13
R13RSTD  EQU   @13
R14F     EQU   @14
R14RSTD  EQU   @14
R15RSTD  EQU   @15
R2F      EQU   @02
R2RSTD   EQU   @02
R3RSTD   EQU   @03
R4RSTD   EQU   @04
R5F      EQU   @05
R5RSTD   EQU   @05
R6F      EQU   @06
R6RSTD   EQU   @06
R7F      EQU   @07
R7RSTD   EQU   @07
R8F      EQU   @08
R8RSTD   EQU   @08
R9F      EQU   @09
R9RSTD   EQU   @09
EXCPECB  EQU   0
INRECORD EQU   0
PRNTLINE EQU   0
DRHEADER EQU   0
DRLTH    EQU   DRHEADER
DRSTR    EQU   DRHEADER+2
ENDOFSTG EQU   DRSTR+1
BULKSTG  EQU   DRSTR+1
CPGMSTG  EQU   DRSTR+1
DRBSA    EQU   DRHEADER+4
S99RBPTR EQU   0
S99RBPND EQU   S99RBPTR
S99RB    EQU   0
S99RBLN  EQU   S99RB
S99VERB  EQU   S99RB+1
S99FLAG1 EQU   S99RB+2
S99FLG11 EQU   S99FLAG1
S99RSC   EQU   S99RB+4
S99ERROR EQU   S99RSC
S99INFO  EQU   S99RSC+2
S99TXTPP EQU   S99RB+8
S99RSV01 EQU   S99RB+12
S99FLAG2 EQU   S99RB+16
S99FLG21 EQU   S99FLAG2
S99FLG22 EQU   S99FLAG2+1
S99TUPL  EQU   0
S99TUPTR EQU   S99TUPL
S99TUPLN EQU   S99TUPTR
S99TUP   EQU   0
S99TUNIT EQU   0
S99TUKEY EQU   S99TUNIT
S99TUNUM EQU   S99TUNIT+2
S99TUENT EQU   S99TUNIT+4
S99TULNG EQU   S99TUENT
S99TUPAR EQU   S99TUENT+2
S99TUFLD EQU   0
S99TULEN EQU   S99TUFLD
CHAIN    EQU   0
CHFLG    EQU   CHAIN+4
CHSTS    EQU   CHFLG+2
CHACT    EQU   CHFLG+3
CHKEY    EQU   CHAIN+8
CHPARM   EQU   CHKEY
CHPKE    EQU   CHAIN+28
CHTJID   EQU   CHAIN+30
CHPROCSN EQU   CHAIN+32
CHACT1   EQU   CHPROCSN+3
CHASM    EQU   CHAIN+40
CHCIBP   EQU   CHASM+4
CHRGNSZ  EQU   CHASM+8
CHSTEP   EQU   CHASM+24
CHSWT    EQU   CHSTEP
CHSHORT  EQU   CHASM+32
ASCB     EQU   0
ASCBSUPC EQU   ASCB+16
ASCBFW1  EQU   ASCB+100
ASCBRCTF EQU   ASCBFW1+2
ASCBFLG1 EQU   ASCBFW1+3
ASCBDSP1 EQU   ASCB+114
ASCBFLG2 EQU   ASCB+115
ASCBLKGP EQU   ASCB+128
ASCBSRQ  EQU   ASCB+180
ASCBSRQ1 EQU   ASCBSRQ
ASCBSRQ2 EQU   ASCBSRQ+1
ASCBSRQ3 EQU   ASCBSRQ+2
ASCBSRQ4 EQU   ASCBSRQ+3
UCB      EQU   0
UCBOB    EQU   0
UCBJBNR  EQU   UCBOB
UCBFL5   EQU   UCBOB+1
UCBAF    EQU   UCBFL5
UCBSTAT  EQU   UCBOB+3
UCBCHAN  EQU   UCBOB+4
UCBSFLS  EQU   UCBOB+6
UCBFLA   EQU   UCBSFLS
UCBFL1   EQU   UCBFLA
UCBBSY   EQU   UCBFL1
UCBNRY   EQU   UCBFL1
UCBPST   EQU   UCBFL1
UCBCUB   EQU   UCBFL1
UCBFLB   EQU   UCBSFLS+1
UCBCHM   EQU   UCBOB+8
UCBCHM1  EQU   UCBCHM
UCBPTH0  EQU   UCBCHM1
UCBPTH1  EQU   UCBCHM1
UCBWGT   EQU   UCBOB+12
UCBNAME  EQU   UCBOB+13
UCBTYP   EQU   UCBOB+16
UCBTBYT1 EQU   UCBTYP
UCB1FEA5 EQU   UCBTBYT1
UCB1FEA6 EQU   UCBTBYT1
UCBTBYT2 EQU   UCBTYP+1
UCB2OPT2 EQU   UCBTBYT2
UCBDUDN1 EQU   UCB2OPT2
UCB2OPT3 EQU   UCBTBYT2
UCBDUDN2 EQU   UCB2OPT3
UCB2OPT4 EQU   UCBTBYT2
UCBRWTAU EQU   UCB2OPT4
UCB2OPT6 EQU   UCBTBYT2
UCB2OPT7 EQU   UCBTBYT2
UCBTBYT3 EQU   UCBTYP+2
UCBDVCLS EQU   UCBTBYT3
UCBTBYT4 EQU   UCBTYP+3
UCBEXTPT EQU   UCBOB+20
UCBFLC   EQU   UCBEXTPT
UCBDEV   EQU   UCBOB+24
UCBCMEXT EQU   0
UCBATI   EQU   UCBCMEXT+3
@NM00021 EQU   UCBATI
UCBFLP1  EQU   UCBCMEXT+5
UCBMT    EQU   0
UCBOCR   EQU   0
UCB3540X EQU   0
UCBDKBYT EQU   UCB3540X+6
UCB3800X EQU   0
UCBOPTNS EQU   UCB3800X
UCBACTIV EQU   UCB3800X+3
UCBMDRBF EQU   UCB3800X+36
UCBUCS   EQU   0
UCBUCSOP EQU   UCBUCS+4
UCBFCBOP EQU   UCBUCS+5
IOBPREFX EQU   0
IOBCFLG1 EQU   IOBPREFX
IOBSTDRD EQU   0
IOBFLAG1 EQU   IOBSTDRD
IOBCYCCK EQU   IOBFLAG1
IOBRSTRT EQU   IOBFLAG1
IOBFLAG2 EQU   IOBSTDRD+1
IOBPURGE EQU   IOBFLAG2
IOBRDHA0 EQU   IOBFLAG2
IOBSENS0 EQU   IOBSTDRD+2
IOBS0B7  EQU   IOBSENS0
IOBSENS1 EQU   IOBSTDRD+3
IOBECBPT EQU   IOBSTDRD+4
IOBFLAG3 EQU   IOBSTDRD+8
IOBFL3   EQU   IOBFLAG3
IOBCNC   EQU   IOBFL3
IOBICL   EQU   IOBFL3
IOBCSW   EQU   IOBSTDRD+9
IOBIOCSW EQU   IOBCSW
IOBSTBYT EQU   IOBIOCSW+3
IOBUSTAT EQU   IOBSTBYT
IOBCSTAT EQU   IOBSTBYT+1
IOBSTART EQU   IOBSTDRD+16
IOBDCBPT EQU   IOBSTDRD+20
IOBFLAG4 EQU   IOBDCBPT
IOBRESTR EQU   IOBSTDRD+24
IOBINCAM EQU   IOBSTDRD+28
IOBBTAMF EQU   IOBINCAM
ECB      EQU   0
ECBRB    EQU   ECB
ECBEVTB  EQU   ECBRB
ECBEXTB  EQU   ECBEVTB
ECBCC    EQU   ECBEXTB
ECBCCCNT EQU   ECBEXTB+1
ECBRBA   EQU   ECBCCCNT
ECBEVTBA EQU   ECBRBA
ECBEXTBA EQU   ECBEVTBA
ECBBYTE3 EQU   ECBEXTBA+2
ECBEXTND EQU   ECBBYTE3
IHADCB   EQU   0
IHADCS11 EQU   0
DCBRELB  EQU   IHADCS11
DCBREL   EQU   DCBRELB+1
DCBBUFCB EQU   IHADCS11+4
DCBDSORG EQU   IHADCS11+10
DCBDSRG1 EQU   DCBDSORG
DCBDSRG2 EQU   DCBDSORG+1
DCBIOBAD EQU   IHADCS11+12
DCBODEB  EQU   DCBIOBAD
DCBLNP   EQU   DCBODEB
DCBQSLM  EQU   DCBLNP
DCBIOBAA EQU   DCBODEB+1
IHADCS50 EQU   0
DCBSVCXL EQU   IHADCS50
DCBEODAD EQU   IHADCS50+4
DCBBFALN EQU   DCBEODAD
DCBHIARC EQU   DCBBFALN
DCBBFTEK EQU   DCBHIARC
DCBBFT   EQU   DCBBFTEK
DCBEXLST EQU   IHADCS50+8
DCBRECFM EQU   DCBEXLST
DCBRECLA EQU   DCBRECFM
IHADCS24 EQU   0
DCBOFLGS EQU   IHADCS24+8
DCBOFLWR EQU   DCBOFLGS
DCBOFOPN EQU   DCBOFLGS
DCBIFLG  EQU   IHADCS24+9
DCBIBPCT EQU   DCBIFLG
DCBMACR  EQU   IHADCS24+10
DCBMACR1 EQU   DCBMACR
DCBMRFE  EQU   DCBMACR1
DCBMRGET EQU   DCBMRFE
DCBMRAPG EQU   DCBMACR1
DCBMRRD  EQU   DCBMRAPG
DCBMRCI  EQU   DCBMACR1
DCBMRMVG EQU   DCBMRCI
DCBMRLCG EQU   DCBMACR1
DCBMRABC EQU   DCBMACR1
DCBMRPT1 EQU   DCBMRABC
DCBMRSBG EQU   DCBMRPT1
DCBMRCRL EQU   DCBMACR1
DCBMRCHK EQU   DCBMRCRL
DCBMRRDX EQU   DCBMRCHK
DCBMRDMG EQU   DCBMACR1
DCBMACR2 EQU   DCBMACR+1
DCBMRPUT EQU   DCBMACR2
DCBMRWRT EQU   DCBMACR2
DCBMRMVP EQU   DCBMACR2
DCBMR5WD EQU   DCBMACR2
DCBMRLDM EQU   DCBMR5WD
DCBMRLCP EQU   DCBMRLDM
DCBMR4WD EQU   DCBMACR2
DCBMRPT2 EQU   DCBMR4WD
DCBMRTMD EQU   DCBMRPT2
DCBMR3WD EQU   DCBMACR2
DCBMRCTL EQU   DCBMR3WD
DCBMRSTK EQU   DCBMRCTL
DCBMR1WD EQU   DCBMACR2
DCBMRSWA EQU   DCBMR1WD
DCBMRDMD EQU   DCBMRSWA
IHADCS25 EQU   0
DCBMACRF EQU   IHADCS25+2
DCBMACF1 EQU   DCBMACRF
DCBMFFE  EQU   DCBMACF1
DCBMFGET EQU   DCBMFFE
DCBMFAPG EQU   DCBMACF1
DCBMFRD  EQU   DCBMFAPG
DCBMFCI  EQU   DCBMACF1
DCBMFMVG EQU   DCBMFCI
DCBMFLCG EQU   DCBMACF1
DCBMFABC EQU   DCBMACF1
DCBMFPT1 EQU   DCBMFABC
DCBMFSBG EQU   DCBMFPT1
DCBMFCRL EQU   DCBMACF1
DCBMFCHK EQU   DCBMFCRL
DCBMFDMG EQU   DCBMACF1
DCBMACF2 EQU   DCBMACRF+1
DCBMFPUT EQU   DCBMACF2
DCBMFWRT EQU   DCBMACF2
DCBMFMVP EQU   DCBMACF2
DCBMF5WD EQU   DCBMACF2
DCBMFLDM EQU   DCBMF5WD
DCBMFLCP EQU   DCBMFLDM
DCBMF4WD EQU   DCBMACF2
DCBMFPT2 EQU   DCBMF4WD
DCBMFTMD EQU   DCBMFPT2
DCBMF3WD EQU   DCBMACF2
DCBMFCTL EQU   DCBMF3WD
DCBMFSTK EQU   DCBMFCTL
DCBMF1WD EQU   DCBMACF2
DCBMFSWA EQU   DCBMF1WD
DCBMFDMD EQU   DCBMFSWA
DCBDEBAD EQU   IHADCS25+4
DCBIFLGS EQU   DCBDEBAD
DCBIFPCT EQU   DCBIFLGS
IHADCS28 EQU   0
DCBOPTCD EQU   IHADCS28
DCBOPTZ  EQU   DCBOPTCD
IHADCS44 EQU   0
SDWA     EQU   0
SDWAFIOB EQU   SDWA+4
SDWAABCC EQU   SDWAFIOB
SDWACMPF EQU   SDWAABCC
SDWACTL1 EQU   SDWA+8
SDWACMKA EQU   SDWACTL1
SDWAMWPA EQU   SDWACTL1+1
SDWAPMKA EQU   SDWACTL1+4
SDWACTL2 EQU   SDWA+16
SDWACMKP EQU   SDWACTL2
SDWAMWPP EQU   SDWACTL2+1
SDWAPMKP EQU   SDWACTL2+4
SDWAGRSV EQU   SDWA+24
SDWANAME EQU   SDWA+88
SDWAEC1  EQU   SDWA+104
SDWAEMK1 EQU   SDWAEC1
SDWAMWP1 EQU   SDWAEC1+1
SDWAINT1 EQU   SDWAEC1+2
SDWANXT1 EQU   SDWAEC1+4
SDWAAEC1 EQU   SDWA+112
SDWAILC1 EQU   SDWAAEC1+1
SDWAINC1 EQU   SDWAAEC1+2
SDWAICD1 EQU   SDWAINC1+1
SDWAEC2  EQU   SDWA+120
SDWAEMK2 EQU   SDWAEC2
SDWAMWP2 EQU   SDWAEC2+1
SDWAINT2 EQU   SDWAEC2+2
SDWANXT2 EQU   SDWAEC2+4
SDWAAEC2 EQU   SDWA+128
SDWAILC2 EQU   SDWAAEC2+1
SDWAINC2 EQU   SDWAAEC2+2
SDWAICD2 EQU   SDWAINC2+1
SDWASRSV EQU   SDWA+136
SDWAIDNT EQU   SDWA+200
SDWAMCH  EQU   SDWA+204
SDWASTCK EQU   SDWAMCH
SDWAMCHI EQU   SDWAMCH+8
SDWAMCHS EQU   SDWAMCHI
SDWAMCHD EQU   SDWAMCHI+1
SDWARSR1 EQU   SDWAMCH+12
SDWARSR2 EQU   SDWAMCH+13
SDWAFLGS EQU   SDWA+232
SDWAERRA EQU   SDWAFLGS
SDWAERRB EQU   SDWAFLGS+1
SDWAERRC EQU   SDWAFLGS+2
SDWAERRD EQU   SDWAFLGS+3
SDWAIOFS EQU   SDWA+238
SDWACPUA EQU   SDWA+248
SDWAPARQ EQU   SDWA+252
SDWAACF2 EQU   SDWAPARQ+1
SDWAACF3 EQU   SDWAPARQ+2
SDWAACF4 EQU   SDWAPARQ+3
SDWALKWA EQU   SDWA+256
SDWALKWS EQU   SDWALKWA
SDWARECP EQU   SDWA+292
SDWASNPA EQU   SDWA+320
SDWADUMP EQU   SDWASNPA
SDWADPFS EQU   SDWADUMP+1
SDWADDAT EQU   SDWASNPA+4
SDWASDAT EQU   SDWADDAT
SDWASDA0 EQU   SDWASDAT
SDWASDA1 EQU   SDWASDAT+1
SDWAPDAT EQU   SDWADDAT+2
SDWADPSA EQU   SDWA+328
SDWADPSL EQU   SDWADPSA
SDWARA   EQU   SDWA+400
SDWADPVA EQU   SDWARA+2
APCQ     EQU   0
APCQIINF EQU   APCQ+12
APCQPLEN EQU   APCQ+20
APCQPSTR EQU   APCQ+22
APCQSW   EQU   APCQ+24
APCQINT  EQU   APCQSW
APCQTXLN EQU   APCQ+26
APCQCMND EQU   APCQ+28
APCT     EQU   0
APCTENQM EQU   APCT+12
APCTSSID EQU   APCTENQM+4
APCTLINE EQU   APCT+28
APCTSMIN EQU   APCT+32
APCTSMAD EQU   APCT+36
APCTZ@@@ EQU   APCT+40
APCTU@@@ EQU   APCT+440
APCTBR14 EQU   APCT+840
APCTAPUB EQU   APCT+848
APCTERRS EQU   APCT+876
APCTSOUT EQU   APCT+934
@NM00097 EQU   APCT+936
APCTSTAT EQU   @NM00097
APCTHALT EQU   APCTSTAT
APCTPRSW EQU   @NM00097+1
APCTAPCQ EQU   APCT+944
APCTCQAQ EQU   APCT+952
APCTZ@@1 EQU   APCT+1120
APCVZDX1 EQU   0
APCVZDX2 EQU   0
APCVZDWT EQU   0
APCVZDEQ EQU   0
APCVZDDQ EQU   0
APCVZDIO EQU   0
APCVZUJA EQU   0
APDS     EQU   0
APDSTD   EQU   APDS+16
APDSFLGS EQU   APDS+64
APDSFLG0 EQU   APDSFLGS
APDSFLG1 EQU   APDSFLGS+1
APESREGS EQU   0
APESREGF EQU   APESREGS+60
APESMV   EQU   0
APSV     EQU   0
APSVREGS EQU   APSV+12
APUB     EQU   0
APUBAPUB EQU   APUB+4
APUBMSTR EQU   APUB+8
APUBUCB  EQU   APUB+28
APUBERRS EQU   APUB+52
APUBIPL  EQU   APUB+74
APUBALFG EQU   APUB+80
APUBALF0 EQU   APUBALFG
APUBALF1 EQU   APUBALFG+1
APUBALF2 EQU   APUBALFG+2
APUBALF3 EQU   APUBALFG+3
APUBSTAT EQU   APUB+84
APUBRIPL EQU   APUBSTAT
APUBIOFG EQU   APUB+88
APUBIOF0 EQU   APUBIOFG
APUBIDWN EQU   APUBIOF0
APUBIOF1 EQU   APUBIOFG+1
APUBIIPL EQU   APUBIOF1
APUBIOF2 EQU   APUBIOFG+2
APUBIOF3 EQU   APUBIOFG+3
APUBIRIP EQU   APUBIOF3
APUBDCB  EQU   APUB+96
APUBJBNM EQU   APUB+104
BIT0013X EQU   0
BIT0015X EQU   0
BLOCKGEN EQU   0
APCVZDAL EQU   0
APCVZDAP EQU   0
APCVZDBK EQU   0
APCVZDDA EQU   0
APCVZDID EQU   0
APCVZDIP EQU   0
APCVZDMD EQU   0
APCVZDMM EQU   0
APCVZDQR EQU   0
APCVZDRI EQU   0
APCVZDUA EQU   0
APCVZDUL EQU   0
APCVZDWI EQU   0
APCVZDX3 EQU   0
APCVZDX4 EQU   0
APCVZD10 EQU   0
APCVZD20 EQU   0
APCVZD4E EQU   0
APCVZD40 EQU   0
APCVZD41 EQU   0
APCVZD42 EQU   0
APCVZD43 EQU   0
APCVZD44 EQU   0
APCVZD45 EQU   0
APCVZD46 EQU   0
APCVZD47 EQU   0
APCVZD48 EQU   0
APCVZD49 EQU   0
APCVZD60 EQU   0
APCVZD80 EQU   0
APCVZD81 EQU   0
APCVZD82 EQU   0
APCVZD83 EQU   0
APCVZJAA EQU   0
APCVZJAD EQU   0
APCVZJAG EQU   0
APCVZJAJ EQU   0
APCVZJAM EQU   0
APCVZJAP EQU   0
APCVZJAX EQU   0
APCVZJAY EQU   0
APCVZJBA EQU   0
APCVZJBD EQU   0
APCVZJBG EQU   0
APCVZJBJ EQU   0
APCVZJBM EQU   0
APCVZJDA EQU   0
APCVZJDD EQU   0
APCVZJDG EQU   0
APCVZJDJ EQU   0
APCVZJDM EQU   0
APCVZJHC EQU   0
APCVZJHE EQU   0
APCVZJHF EQU   0
APCVZJHO EQU   0
APCVZJHQ EQU   0
APCVZJHR EQU   0
APCVZJHT EQU   0
APCVZJHW EQU   0
APCVZJH0 EQU   0
APCVZJH6 EQU   0
APCVZJI0 EQU   0
APCVZJI3 EQU   0
APCVZJJ0 EQU   0
APCVZKAA EQU   0
APCVZKBA EQU   0
APCVZKBB EQU   0
APCVZKBC EQU   0
APCVZKBD EQU   0
APCVZKBE EQU   0
APCVZKBF EQU   0
APCVZKCA EQU   0
APCVZKDA EQU   0
APCVZKGA EQU   0
APCVZKGB EQU   0
APCVZKGC EQU   0
APCVZKGD EQU   0
APCVZLCA EQU   0
APCVZLCB EQU   0
APCVZMBA EQU   0
APCVZMBD EQU   0
APCVZMBG EQU   0
APCVZMBH EQU   0
APCVZMBK EQU   0
APCVZMBM EQU   0
APCVZMIB EQU   0
APCVZMIC EQU   0
APCVZMIF EQU   0
APCVZMJB EQU   0
APCVZMJC EQU   0
APCVZMJH EQU   0
APCVZMJI EQU   0
APCVZMMA EQU   0
APCVZUAA EQU   0
APCVZUAB EQU   0
APCVZUAC EQU   0
APCVZUAD EQU   0
APCVZUAE EQU   0
APCVZUAF EQU   0
APCVZUAG EQU   0
APCVZUBB EQU   0
APCVZUFA EQU   0
APCVZUHA EQU   0
APCVZUHB EQU   0
APCVZUKA EQU   0
APCV1CMD EQU   0
APCV1JAA EQU   0
APCV1JBJ EQU   0
APCV1JHC EQU   0
APCV1JHL EQU   0
APCV1JHT EQU   0
APCV1MAB EQU   0
APCV1MBD EQU   0
APCV2JHC EQU   0
APCV2JHL EQU   0
APCV2MBD EQU   0
I001C    EQU   0
I008P    EQU   0
I015F    EQU   0
I015P    EQU   0
I031F    EQU   0
I031P    EQU   0
I256C    EQU   0
UCBBGN   EQU   0
HADDRESS EQU   LADDRESS
CHAINS01 EQU   CHASM
CHTYPE   EQU   CHAINS01+124
CHTRSTAT EQU   CHAINS01+125
CHCSYSO  EQU   CHAINS01+134
UCBOBS01 EQU   UCBDEV
UCBSTAB  EQU   UCBOBS01+10
UCBBSVL  EQU   UCBSTAB
UCBPRSRS EQU   UCBSTAB
UCBDMCT  EQU   UCBOBS01+11
UCBFL4   EQU   UCBOBS01+13
UCBOBS02 EQU   UCBDEV
UCBTFL1  EQU   UCBOBS02+19
UCBXTN   EQU   UCBOBS02+20
UCBVOPT  EQU   UCBXTN
UCBOBS03 EQU   UCBDEV
UCBXTADR EQU   UCBOBS03
UCBOBS04 EQU   UCBDEV
UCBBTA   EQU   UCBOBS04+12
UCBOBS06 EQU   UCBDEV
UCBAOF   EQU   UCBOBS06
UCBAOF1  EQU   UCBAOF
UCBAOF2  EQU   UCBAOF+1
@NM00020 EQU   UCBOBS06+3
UCBIRB   EQU   UCBOBS06+4
UCBGRAF  EQU   UCBIRB
UCBLDNCA EQU   UCBOBS06+8
UCBRDYQ  EQU   UCBLDNCA
UCBIRLN  EQU   UCBRDYQ
UCBLDNCB EQU   UCBRDYQ+1
UCBCTLNK EQU   UCBOBS06+12
UCBOBS07 EQU   UCBDEV
UCBOBS08 EQU   UCBDEV
UCBCTCAD EQU   UCBOBS08
UCBCTCF1 EQU   UCBOBS08+4
UCBOBS09 EQU   UCBDEV
IOBORG01 EQU   IOBPREFX+8
IOBNIOBA EQU   IOBORG01
IOBNFLG1 EQU   IOBNIOBA
IOBPRTOV EQU   IOBNFLG1
IOBORG02 EQU   IOBPREFX+8
IOBDQADA EQU   IOBORG02
IOBDEQIN EQU   IOBDQADA
IOBORG03 EQU   IOBPREFX+12
IOBORG04 EQU   IOBINCAM
IOBORG12 EQU   IOBINCAM
IOBFL4   EQU   IOBORG12
IOBEXTEN EQU   IOBSTDRD+32
IOBSEEK  EQU   IOBEXTEN
IOBBB    EQU   IOBSEEK+1
IOBCC    EQU   IOBSEEK+3
IOBHH    EQU   IOBSEEK+5
IOBORG05 EQU   IOBEXTEN
IOBORG06 EQU   IOBEXTEN
IOBNXTPT EQU   IOBORG06+4
IOBSTATA EQU   IOBNXTPT
IOBORG07 EQU   IOBEXTEN+8
W1IEXTEN EQU   IOBORG07
IOBORG08 EQU   IOBEXTEN+8
IOBINDCT EQU   IOBORG08+4
IOBUNSQR EQU   IOBORG08+5
IOBFCHAD EQU   IOBORG08+8
IOBORG09 EQU   IOBEXTEN+8
IOBDPLAD EQU   IOBORG09+4
IOBDTYPE EQU   IOBORG09+8
IOBDTYP2 EQU   IOBORG09+9
IOBDSTAT EQU   IOBORG09+10
IOBSTAT1 EQU   IOBDSTAT
IOBORG10 EQU   IOBEXTEN+8
IOBSEEK2 EQU   IOBORG10
IOBORG11 EQU   IOBEXTEN
IOBERCT  EQU   IOBORG11
IOBUCBXV EQU   IOBERCT
IOBNAME  EQU   IOBORG11+4
IOBORG13 EQU   IOBEXTEN
IOBSKADR EQU   IOBORG13
APCTZ    EQU   APCTZ@@@
APCTZUAA EQU   APCTZ
APCTZUAB EQU   APCTZ+4
APCTZUAC EQU   APCTZ+8
APCTZUAD EQU   APCTZ+12
APCTZUAE EQU   APCTZ+16
APCTZUBB EQU   APCTZ+24
APCTZD10 EQU   APCTZ+28
APCTZD20 EQU   APCTZ+32
APCTZD40 EQU   APCTZ+36
APCTZD41 EQU   APCTZ+40
APCTZD42 EQU   APCTZ+44
APCTZD43 EQU   APCTZ+48
APCTZD44 EQU   APCTZ+52
APCTZD45 EQU   APCTZ+56
APCTZD46 EQU   APCTZ+60
APCTZD47 EQU   APCTZ+64
APCTZD48 EQU   APCTZ+68
APCTZD49 EQU   APCTZ+72
APCTZD60 EQU   APCTZ+76
APCTZD80 EQU   APCTZ+80
APCTZD4E EQU   APCTZ+84
APCTZMBA EQU   APCTZ+88
APCTZMBD EQU   APCTZ+92
APCTZMBG EQU   APCTZ+96
APCTZDX1 EQU   APCTZ+104
APCTZDX2 EQU   APCTZ+108
APCTZDX3 EQU   APCTZ+112
APCTZDX4 EQU   APCTZ+116
APCTZMBH EQU   APCTZ+120
APCTZMBK EQU   APCTZ+124
APCTZMBM EQU   APCTZ+128
APCTZMJB EQU   APCTZ+132
APCTZMJC EQU   APCTZ+136
APCTZMJH EQU   APCTZ+140
APCTZMMA EQU   APCTZ+144
APCTZDMD EQU   APCTZ+148
APCTZD81 EQU   APCTZ+152
APCTZDID EQU   APCTZ+156
APCTZDRI EQU   APCTZ+160
APCTZMJI EQU   APCTZ+164
APCTZDWT EQU   APCTZ+168
APCTZDMM EQU   APCTZ+172
APCTZDAL EQU   APCTZ+176
APCTZDBK EQU   APCTZ+180
APCTZDIP EQU   APCTZ+184
APCTZDDA EQU   APCTZ+188
APCTZDUL EQU   APCTZ+192
APCTZDEQ EQU   APCTZ+196
APCTZDDQ EQU   APCTZ+200
APCTZDUA EQU   APCTZ+204
APCTZUAF EQU   APCTZ+208
APCTZUAG EQU   APCTZ+212
APCTZDIO EQU   APCTZ+216
APCTZUHA EQU   APCTZ+220
APCTZUHB EQU   APCTZ+224
APCTZJAA EQU   APCTZ+232
APCTZJAD EQU   APCTZ+236
APCTZJAG EQU   APCTZ+240
APCTZJAJ EQU   APCTZ+244
APCTZJAM EQU   APCTZ+248
APCTZJAP EQU   APCTZ+252
APCTZJAY EQU   APCTZ+256
APCTZUFA EQU   APCTZ+260
APCTZUJA EQU   APCTZ+264
APCTZDAP EQU   APCTZ+268
APCTZKAA EQU   APCTZ+272
APCTZD82 EQU   APCTZ+276
APCTZMIB EQU   APCTZ+280
APCTZMIC EQU   APCTZ+284
APCTZD83 EQU   APCTZ+288
APCTZMIF EQU   APCTZ+296
APCTZJH0 EQU   APCTZ+300
APCTZJI0 EQU   APCTZ+304
APCTZJI3 EQU   APCTZ+308
APCTZJJ0 EQU   APCTZ+312
APCTZJBA EQU   APCTZ+316
APCTZJBD EQU   APCTZ+320
APCTZJBG EQU   APCTZ+324
APCTZJBJ EQU   APCTZ+328
APCTZJBM EQU   APCTZ+332
APCTZKCA EQU   APCTZ+340
APCTZKDA EQU   APCTZ+344
APCTZJDA EQU   APCTZ+356
APCTZJDJ EQU   APCTZ+360
APCTZJH6 EQU   APCTZ+364
APCTZJHO EQU   APCTZ+368
APCTZJHF EQU   APCTZ+372
APCTZJHE EQU   APCTZ+376
APCTZDQR EQU   APCTZ+380
APCTZJHR EQU   APCTZ+384
APCTZJHT EQU   APCTZ+388
APCTZJHW EQU   APCTZ+392
APCTZ1   EQU   APCTZ@@1
APCTZKBA EQU   APCTZ1
APCTZKBC EQU   APCTZ1+4
APCTZKBB EQU   APCTZ1+8
APCTZJHC EQU   APCTZ1+20
APCTZJHQ EQU   APCTZ1+24
APCTZKBD EQU   APCTZ1+28
APCTZKBE EQU   APCTZ1+40
APCTZUKA EQU   APCTZ1+56
APCTZKBF EQU   APCTZ1+60
APCTZJDD EQU   APCTZ1+64
APCTZJDG EQU   APCTZ1+68
APCTZJDM EQU   APCTZ1+72
APCTZLCA EQU   APCTZ1+76
APCTZLCB EQU   APCTZ1+80
APCTZDWI EQU   APCTZ1+84
APCTZJAX EQU   APCTZ1+88
APCTZKGA EQU   APCTZ1+92
APCTZKGB EQU   APCTZ1+96
APCTZKGC EQU   APCTZ1+100
APCTZKGD EQU   APCTZ1+104
APCTU    EQU   APCTU@@@
APCT1MAB EQU   APCTU
APCT1MBD EQU   APCTU+4
APCT2MBD EQU   APCTU+8
APCT1CMD EQU   APCTU+12
APCT1JAA EQU   APCTU+20
APCT1JHC EQU   APCTU+24
APCT2JHC EQU   APCTU+28
APCT1JHT EQU   APCTU+32
APCT1JHL EQU   APCTU+36
APCT2JHL EQU   APCTU+40
APCT1JBJ EQU   APCTU+44
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
@NM00129 EQU   APCTU+48
APCT1MBM EQU   APCTU+16
@NM00128 EQU   APCTZ1+108
@NM00127 EQU   APCTZ1+52
@NM00126 EQU   APCTZ1+48
@NM00125 EQU   APCTZ1+44
@NM00124 EQU   APCTZ1+36
@NM00123 EQU   APCTZ1+32
@NM00122 EQU   APCTZ1+16
@NM00121 EQU   APCTZ1+12
@NM00120 EQU   APCTZ+396
@NM00119 EQU   APCTZ+352
@NM00118 EQU   APCTZ+348
@NM00117 EQU   APCTZ+336
@NM00116 EQU   APCTZ+292
APCTZJFA EQU   APCTZ+228
APCTZMBR EQU   APCTZ+100
@NM00115 EQU   APCTZ+20
IOBSKSS  EQU   IOBSKADR+3
IOBSK0   EQU   IOBSKADR+2
IOBSKTT  EQU   IOBSKADR+1
IOBSKRV  EQU   IOBSKADR
IOBCSWSV EQU   IOBORG11+17
IOBSENSV EQU   IOBORG11+16
IOBRCD   EQU   IOBORG11+12
IOBMDREC EQU   IOBORG11+8
IOBNAMEA EQU   IOBNAME+1
IOBNAMSZ EQU   IOBNAME
IOBERCTA EQU   IOBERCT+1
IOBRTYPE EQU   IOBUCBXV
IOBRDCHP EQU   IOBORG10+20
IOBNEXTA EQU   IOBORG10+16
IOBREADA EQU   IOBORG10+12
IOBBUFC  EQU   IOBORG10+8
IOBSK2R  EQU   IOBSEEK2+7
IOBSK2HH EQU   IOBSEEK2+5
IOBSK2CC EQU   IOBSEEK2+3
IOBSK2BB EQU   IOBSEEK2+1
IOBSK2M  EQU   IOBSEEK2
IOBCHNPR EQU   IOBORG09+40
IOBDNCRF EQU   IOBORG09+32
IOBRSV35 EQU   IOBORG09+24
IOBDQPTR EQU   IOBORG09+20
IOBRSV34 EQU   IOBORG09+18
IOBDBYTN EQU   IOBORG09+16
IOBDCPND EQU   IOBORG09+12
IOBSTAT2 EQU   IOBDSTAT+1
IOBSIORT EQU   IOBSTAT1
IOBADDVU EQU   IOBSTAT1
IOBBUFF  EQU   IOBSTAT1
IOBENQUE EQU   IOBSTAT1
IOBPASS2 EQU   IOBSTAT1
IOBSYNCH EQU   IOBSTAT1
IOBNEWVL EQU   IOBSTAT1
IOBABNRM EQU   IOBSTAT1
IOBRELEX EQU   IOBDTYP2
IOBADDTY EQU   IOBDTYP2
IOBTYPE  EQU   IOBDTYP2
IOBRQUST EQU   IOBDTYP2
IOBSUFFX EQU   IOBDTYP2
IOBSBLKL EQU   IOBDTYP2
IOBSKEY  EQU   IOBDTYP2
IOBRELBL EQU   IOBDTYPE
IOBRDEXC EQU   IOBDTYPE
IOBDYNBF EQU   IOBDTYPE
IOBACTAD EQU   IOBDTYPE
IOBFDBCK EQU   IOBDTYPE
IOBEXTSC EQU   IOBDTYPE
IOBOVFLO EQU   IOBDTYPE
IOBVERFY EQU   IOBDTYPE
IOBDPLB  EQU   IOBDPLAD+1
IOBDAYLI EQU   IOBDPLAD
IOBDIOBS EQU   IOBORG09+2
IOBDBYTR EQU   IOBORG09
IOBBCHAD EQU   IOBORG08+12
IOBFCHNB EQU   IOBFCHAD+1
IOBCOUNT EQU   IOBFCHAD
IOBASYN  EQU   IOBORG08+7
IOBAPP   EQU   IOBORG08+6
IOBRSV32 EQU   IOBUNSQR
IOBRSV31 EQU   IOBUNSQR
IOBRSV30 EQU   IOBUNSQR
IOBKNRWR EQU   IOBUNSQR
IOBKNWR  EQU   IOBUNSQR
IOBNTAV2 EQU   IOBUNSQR
IOBNTAV1 EQU   IOBUNSQR
IOBCPBSY EQU   IOBUNSQR
IOBCHNNL EQU   IOBINDCT
IOBRSV29 EQU   IOBINDCT
IOBRSV28 EQU   IOBINDCT
IOBRSV27 EQU   IOBINDCT
IOBKEYAD EQU   IOBINDCT
IOBOVPTR EQU   IOBINDCT
IOBUNSCH EQU   IOBINDCT
IOBDEQCP EQU   IOBINDCT
IOBCCWAD EQU   IOBORG08
W1OEXTEN EQU   W1IEXTEN
IOBCCW   EQU   IOBORG06+8
IOBNXTPB EQU   IOBNXTPT+1
IOBRSV26 EQU   IOBSTATA
IOBRSV25 EQU   IOBSTATA
IOBRSV24 EQU   IOBSTATA
IOBRSV23 EQU   IOBSTATA
IOBRSV22 EQU   IOBSTATA
IOBRSV21 EQU   IOBSTATA
IOBRSV20 EQU   IOBSTATA
IOBAVLFL EQU   IOBSTATA
IOBRSV37 EQU   IOBORG06+1
IOBUCBXG EQU   IOBORG06
IOBCPA   EQU   IOBORG05+32
IOBERINF EQU   IOBORG05+16
IOBERCCW EQU   IOBORG05+8
IOBSNDPT EQU   IOBORG05+7
IOBRCVPT EQU   IOBORG05+6
IOBWORK  EQU   IOBORG05+1
IOBUCBX  EQU   IOBORG05
IOBR     EQU   IOBSEEK+7
IOBHH2   EQU   IOBHH+1
IOBHH1   EQU   IOBHH
IOBCC2   EQU   IOBCC+1
IOBCC1   EQU   IOBCC
IOBBB2   EQU   IOBBB+1
IOBBB1   EQU   IOBBB
IOBM     EQU   IOBSEEK
IOBRSV46 EQU   IOBFL4
IOBRSV47 EQU   IOBFL4
IOBENT   EQU   IOBFL4
IOBEQP   EQU   IOBFL4
IOBBUS   EQU   IOBFL4
IOBDCK   EQU   IOBFL4
IOBREJ   EQU   IOBFL4
IOBOVR   EQU   IOBFL4
IOBCRILC EQU   IOBORG04+1
IOBCRDCC EQU   IOBORG04
IOBGQECB EQU   IOBORG03
IOBSWAP  EQU   IOBORG02+4
IOBDQADB EQU   IOBDQADA+1
IOBRSV13 EQU   IOBDEQIN
IOBRSV12 EQU   IOBDEQIN
IOBRSV11 EQU   IOBDEQIN
IOBRSV10 EQU   IOBDEQIN
IOBRSV09 EQU   IOBDEQIN
IOBRSV08 EQU   IOBDEQIN
IOBRSV07 EQU   IOBDEQIN
IOBDEQ   EQU   IOBDEQIN
IOBNECB  EQU   IOBORG01+4
IOBNIOBB EQU   IOBNIOBA+1
IOBFIRST EQU   IOBNFLG1
IOBUPERR EQU   IOBNFLG1
IOBSPAN  EQU   IOBNFLG1
IOBBKSPC EQU   IOBNFLG1
IOBUPDAT EQU   IOBNFLG1
IOBREAD  EQU   IOBNFLG1
IOBWRITE EQU   IOBNFLG1
IOBSEGMT EQU   IOBPRTOV
UCBRV066 EQU   UCBOBS09+4
UCBIOSBA EQU   UCBOBS09
UCBRV042 EQU   UCBOBS08+5
UCBRV082 EQU   UCBCTCF1
UCBRV081 EQU   UCBCTCF1
UCBRV080 EQU   UCBCTCF1
UCBRV079 EQU   UCBCTCF1
UCBRV078 EQU   UCBCTCF1
UCBRV077 EQU   UCBCTCF1
UCBRV076 EQU   UCBCTCF1
UCBCTC80 EQU   UCBCTCF1
UCBCTCAL EQU   UCBCTCAD
UCBICNCB EQU   UCBOBS07+4
UCBRV040 EQU   UCBOBS07
UCBCTLNA EQU   UCBCTLNK+1
UCBRLN   EQU   UCBCTLNK
UCBRDYQA EQU   UCBLDNCB
UCBINRLN EQU   UCBIRLN
UCBIRBA  EQU   UCBIRB+1
UCBRV039 EQU   UCBGRAF
UCBDWNR  EQU   UCBGRAF
UCBRPND  EQU   UCBGRAF
UCBUPM   EQU   UCBGRAF
UCBBTAM  EQU   UCBGRAF
UCBDRNO  EQU   UCBGRAF
UCBDRO   EQU   UCBGRAF
UCBOIP   EQU   UCBGRAF
UCBATRCD EQU   @NM00020
UCBSKPFG EQU   @NM00020
UCBRIPND EQU   @NM00020
UCBRTIAC EQU   @NM00020
UCBRSV79 EQU   @NM00020
UCBRSV78 EQU   @NM00020
UCBRSV77 EQU   @NM00020
UCBOLTEP EQU   @NM00020
UCBATNCT EQU   UCBOBS06+2
UCBRSV76 EQU   UCBAOF2
UCBRSV75 EQU   UCBAOF2
UCBRSV74 EQU   UCBAOF2
UCBRSV73 EQU   UCBAOF2
UCBRSV72 EQU   UCBAOF2
UCBRSV71 EQU   UCBAOF2
UCBRSV70 EQU   UCBAOF2
UCBRSV69 EQU   UCBAOF2
UCBRSV68 EQU   UCBAOF1
UCBRSV67 EQU   UCBAOF1
UCBRSV66 EQU   UCBAOF1
UCBRSV65 EQU   UCBAOF1
UCBRSV64 EQU   UCBAOF1
UCBOFNL  EQU   UCBAOF1
UCBOFSP  EQU   UCBAOF1
UCBOFMCR EQU   UCBAOF1
UCBBTB   EQU   UCBBTA+1
UCBDI    EQU   UCBBTA
UCBSNS   EQU   UCBOBS04+8
UCBTEB   EQU   UCBOBS04+4
UCBGCB   EQU   UCBOBS04+3
UCBOPEN  EQU   UCBOBS04+2
UCBSTART EQU   UCBOBS04
UCBXTNB  EQU   UCBXTN+1
UCBRSV22 EQU   UCBVOPT
UCBRSV21 EQU   UCBVOPT
UCBRSV20 EQU   UCBVOPT
UCBESVE  EQU   UCBVOPT
UCBERPC  EQU   UCBVOPT
UCBESVC  EQU   UCBVOPT
UCBEVA   EQU   UCBVOPT
UCBESV   EQU   UCBVOPT
UCBRV009 EQU   UCBTFL1
UCBRV008 EQU   UCBTFL1
UCBRV007 EQU   UCBTFL1
UCBRV006 EQU   UCBTFL1
UCBRV005 EQU   UCBTFL1
UCBDQDSP EQU   UCBTFL1
UCBNSLTP EQU   UCBTFL1
UCBNLTP  EQU   UCBTFL1
UCBRES1B EQU   UCBOBS02+18
UCBFSER  EQU   UCBOBS02+12
@NM00019 EQU   UCBOBS02+4
UCBFSEQ  EQU   UCBOBS02+2
UCBFSCT  EQU   UCBOBS02
UCBNEXP  EQU   UCBOBS01+20
UCBBASE  EQU   UCBOBS01+16
UCBRES1A EQU   UCBOBS01+15
UCBUSER  EQU   UCBOBS01+14
UCBFL47  EQU   UCBFL4
UCBMAT   EQU   UCBFL4
UCBHOLD  EQU   UCBFL4
UCBATTN  EQU   UCBFL4
UCBDSS   EQU   UCBFL4
UCBRESVP EQU   UCBFL4
UCBWDAV  EQU   UCBFL4
UCBDAVV  EQU   UCBFL4
UCBSQC   EQU   UCBOBS01+12
UCBDATP  EQU   UCBOBS01+12
UCBDMC   EQU   UCBDMCT
UCBMOUNT EQU   UCBDMCT
UCBBNUL  EQU   UCBSTAB
UCBSHAR  EQU   UCBSTAB
UCBBSTR  EQU   UCBSTAB
UCBBPUB  EQU   UCBSTAB
UCBBPRV  EQU   UCBSTAB
UCBBALB  EQU   UCBPRSRS
UCBPGFL  EQU   UCBSTAB
UCBDVSHR EQU   UCBBSVL
UCBVOLI  EQU   UCBOBS01+4
UCBVTOC  EQU   UCBOBS01
CHLAST   EQU   CHAINS01+136
CHSPA    EQU   CHAINS01+135
CHUSERID EQU   CHCSYSO
CHJB     EQU   CHCSYSO
CHDUMP   EQU   CHCSYSO
CHQUE    EQU   CHCSYSO
CHHOLD   EQU   CHCSYSO
CHOUT    EQU   CHCSYSO
CHINN    EQU   CHCSYSO
CHALL    EQU   CHCSYSO
CHINC    EQU   CHAINS01+132
CHPEND   EQU   CHAINS01+128
CHARID   EQU   CHAINS01+127
CHCNID   EQU   CHAINS01+126
@NM00017 EQU   CHTRSTAT
CHTSL    EQU   CHTRSTAT
CHTS     EQU   CHTRSTAT
CHINITL  EQU   CHTRSTAT
CHINIT   EQU   CHTRSTAT
CHJOBSL  EQU   CHTRSTAT
CHJOBS   EQU   CHTRSTAT
CHDEF    EQU   CHTYPE
CHHIAR   EQU   CHTYPE
CHARSV29 EQU   CHTYPE
CHARSV28 EQU   CHTYPE
CHARSV27 EQU   CHTYPE
CHARSV26 EQU   CHTYPE
CHARSV25 EQU   CHTYPE
CHDSTAT  EQU   CHTYPE
CHBUF    EQU   CHAINS01
@NM00159 EQU   APUB+120
@NM00158 EQU   APUB+112
APUBSIZE EQU   APUB+102
APUBRSVD EQU   APUB+100
APUBASCB EQU   APUBDCB
@NM00157 EQU   APUBIOFG+4
@NM00156 EQU   APUBIOF3
APUBISHR EQU   APUBIOF3
@NM00155 EQU   APUBIOF2
APUBIEXC EQU   APUBIOF2
@NM00154 EQU   APUBIOF1
APUBIERR EQU   APUBIOF1
@NM00153 EQU   APUBIOF0
APUBICNL EQU   APUBIOF0
APUBINRG EQU   APUBIOF0
APUBIDAB EQU   APUBIOF0
@NM00152 EQU   APUB+85
@NM00151 EQU   APUBSTAT
APUBQISC EQU   APUBSTAT
APUBPDMP EQU   APUBSTAT
APUBFDMP EQU   APUBSTAT
@NM00150 EQU   APUBALF3
APUBSCAL EQU   APUBALF3
APUBSCAV EQU   APUBALF3
APUBBIST EQU   APUBALF3
APUBBTST EQU   APUBALF3
@NM00149 EQU   APUBALF2
APUBBIER EQU   APUBALF2
APUBBOPT EQU   APUBALF2
APUBBREQ EQU   APUBALF2
APUBBYT1 EQU   APUBALF2
@NM00148 EQU   APUBALF1
APUBUNLP EQU   APUBALF1
APUBDSBP EQU   APUBALF1
APUBBERR EQU   APUBALF1
APUBUNLD EQU   APUBALF1
APUBDSBL EQU   APUBALF1
APUBZRGN EQU   APUBALF1
@NM00147 EQU   APUBALF0
APUBOWN  EQU   APUBALF0
APUBSBCH EQU   APUBALF0
APUBCPU  EQU   APUB+78
APUBINIT EQU   APUB+76
APUBERRJ EQU   APUBERRS+20
APUBERRD EQU   APUBERRS+18
APUBERRC EQU   APUBERRS+16
APUBERRB EQU   APUBERRS+14
APUBERRA EQU   APUBERRS+12
APUBERR9 EQU   APUBERRS+10
APUBERR3 EQU   APUBERRS+8
APUBERR2 EQU   APUBERRS+6
APUBERR1 EQU   APUBERRS+4
APUBERR0 EQU   APUBERRS+2
@NM00146 EQU   APUBERRS
@NM00145 EQU   APUB+50
APUBRGN  EQU   APUB+48
APUBERRT EQU   APUB+44
APUBMSTP EQU   APUB+40
APUBUBAP EQU   APUB+36
APUBAPDS EQU   APUB+32
APUBIOCT EQU   APUB+24
APUBAPCT EQU   APUB+20
APUBUSER EQU   APUB+16
APUBNXIO EQU   APUB+12
APUBID   EQU   APUB
APSVWORK EQU   APSV+80
@NM00144 EQU   APSV+80
APSVFREE EQU   APSV+76
APSVAPSM EQU   APSV+72
APSVRG12 EQU   APSVREGS+56
APSVRG11 EQU   APSVREGS+52
APSVRG10 EQU   APSVREGS+48
APSVRG9  EQU   APSVREGS+44
APSVRG8  EQU   APSVREGS+40
APSVRG7  EQU   APSVREGS+36
APSVRG6  EQU   APSVREGS+32
APSVRG5  EQU   APSVREGS+28
APSVRG4  EQU   APSVREGS+24
APSVRG3  EQU   APSVREGS+20
APSVRG2  EQU   APSVREGS+16
APSVRG1  EQU   APSVREGS+12
APSVRG0  EQU   APSVREGS+8
APSVRG15 EQU   APSVREGS+4
APSVRG14 EQU   APSVREGS
APSVNEXT EQU   APSV+8
APSVPREV EQU   APSV+4
APSVAPSC EQU   APSV
@NM00143 EQU   APESMV+6
@NM00142 EQU   APESMV+4
APESMVKW EQU   APESMV+2
APESMVMS EQU   APESMV
APESRTRY EQU   APESREGF
APESREGE EQU   APESREGS+56
APESREGD EQU   APESREGS+52
APESREGC EQU   APESREGS+48
APESREGB EQU   APESREGS+44
APESREGA EQU   APESREGS+40
APESREG9 EQU   APESREGS+36
APESREG8 EQU   APESREGS+32
APESREG7 EQU   APESREGS+28
APESREG6 EQU   APESREGS+24
APESREG5 EQU   APESREGS+20
APESREG4 EQU   APESREGS+16
APESREG3 EQU   APESREGS+12
APESREG2 EQU   APESREGS+8
APESREG1 EQU   APESREGS+4
APESREG0 EQU   APESREGS
@NM00134 EQU   APDS+144
@NM00133 EQU   APDS+100
APDSAPEP EQU   APDS+96
@NM00132 EQU   APDS+94
APDSSIZE EQU   APDS+92
APDSJBNM EQU   APDS+84
APDSITCB EQU   APDS+80
APDSMSK  EQU   APDS+72
@NM00131 EQU   APDS+69
APDSIOFS EQU   APDS+68
APDSDUMP EQU   APDS+67
APDSPGFX EQU   APDS+66
@NM00130 EQU   APDSFLG1
APDSFRST EQU   APDSFLG1
APDSSLPS EQU   APDSFLG0
APDSLSR  EQU   APDSFLG0
APDSIER  EQU   APDSFLG0
APDSARS  EQU   APDSFLG0
APDSVPER EQU   APDSFLG0
APDSVLER EQU   APDSFLG0
APDSTPGM EQU   APDSFLG0
APDSOWN  EQU   APDSFLG0
APDSDSAP EQU   APDS+60
APDSREG  EQU   APDS+56
APDSASCB EQU   APDS+52
APDSAPUB EQU   APDS+48
APDSPERR EQU   APDS+40
APDSLERR EQU   APDS+32
APDSDDNM EQU   APDS+24
APDSDEB  EQU   APDSTD+4
APDSTCB  EQU   APDSTD
APDSAPCT EQU   APDS+12
APDSUSER EQU   APDS+8
APDSAPDS EQU   APDS+4
APDSID   EQU   APDS
@NM00114 EQU   APCT+1556
APCTSVCT EQU   APCT+1552
APCTDAVT EQU   APCT+1548
APCTLOGL EQU   APCT+1544
@NM00113 EQU   APCT+1540
APCTDMPU EQU   APCT+1536
APCTDMPM EQU   APCT+1532
APCTNDMP EQU   APCT+1530
APCTASID EQU   APCT+1528
APCTLGPG EQU   APCT+1526
APCTLGLN EQU   APCT+1524
APCTAPVU EQU   APCT+1520
APCTABR  EQU   APCT+1116
APCTACTR EQU   APCT+1112
APCTLOGD EQU   APCT+1108
APCTDCLD EQU   APCT+1104
APCTIOAP EQU   APCT+1100
@NM00112 EQU   APCT+1080
@NM00111 EQU   APCT+1078
APCTKCAX EQU   APCT+1076
APCTABND EQU   APCT+1072
@NM00110 EQU   APCT+1068
APCTAPIO EQU   APCT+1064
APCTCSCT EQU   APCT+1060
APCTSTDF EQU   APCT+1056
APCTSTMX EQU   APCT+1052
APCTRGMX EQU   APCT+1048
APCTSIZE EQU   APCT+1046
APCTCTUB EQU   APCT+1045
APCTMFID EQU   APCT+1044
APCTMFSZ EQU   APCT+1040
APCTCRTN EQU   APCT+1036
APCTAPCP EQU   APCT+1032
APCTAMNA EQU   APCT+1028
APCTEMNA EQU   APCT+1024
APCTAALP EQU   APCT+1020
APCTEALP EQU   APCT+1016
@NM00109 EQU   APCT+1012
@NM00108 EQU   APCT+1008
@NM00107 EQU   APCT+1004
APCTEIPL EQU   APCT+1000
@NM00106 EQU   APCT+996
@NM00105 EQU   APCT+992
@NM00104 EQU   APCT+988
@NM00103 EQU   APCT+984
@NM00102 EQU   APCT+980
APCTECPW EQU   APCT+976
APCTEULD EQU   APCT+972
APCTECPT EQU   APCT+968
APCTEALC EQU   APCT+964
APCTECBL EQU   APCT+960
APCTECIT EQU   APCT+956
APCTCQAF EQU   APCTCQAQ
APCTCQL  EQU   APCTAPCQ+4
APCTCQF  EQU   APCTAPCQ
APCTCQLK EQU   APCT+940
@NM00101 EQU   @NM00097+2
@NM00100 EQU   APCTPRSW
APCTAPST EQU   APCTPRSW
@NM00099 EQU   APCTPRSW
@NM00098 EQU   APCTSTAT
APCTWARM EQU   APCTSTAT
APCTTERM EQU   APCTSTAT
APCTQSCE EQU   APCTSTAT
APCTSTRT EQU   APCTSTAT
APCTACT  EQU   APCTSTAT
APCTVUNX EQU   APCT+935
APCTDAID EQU   APCT+933
APCTSV34 EQU   APCT+932
APCTMJOB EQU   APCT+928
APCTTCB  EQU   APCT+924
APCTASCB EQU   APCT+920
APCTDCNW EQU   APCT+918
APCTDCNR EQU   APCT+916
@NM00096 EQU   APCT+912
@NM00095 EQU   APCT+908
@NM00094 EQU   APCT+904
@NM00093 EQU   APCT+900
@NM00092 EQU   APCTERRS+22
APCTERTJ EQU   APCTERRS+20
APCTERTD EQU   APCTERRS+18
APCTERTC EQU   APCTERRS+16
APCTERTB EQU   APCTERRS+14
APCTERTA EQU   APCTERRS+12
APCTERT9 EQU   APCTERRS+10
APCTERT3 EQU   APCTERRS+8
APCTERT2 EQU   APCTERRS+6
APCTERT1 EQU   APCTERRS+4
APCTERT0 EQU   APCTERRS+2
APCTERTT EQU   APCTERRS
APCTDSAP EQU   APCT+872
APCTISUB EQU   APCT+868
APCTUBAP EQU   APCT+864
APCTAPDS EQU   APCT+860
APCTUBIC EQU   APCT+856
APCTUBIS EQU   APCT+852
APCTUBLK EQU   APCT+844
APCTBR1A EQU   APCTBR14+2
@NM00091 EQU   APCTBR14
APCTSMSZ EQU   APCTSMAD+2
@NM00090 EQU   APCTSMAD+1
@NM00089 EQU   APCTSMAD
APCTSMIS EQU   APCTSMIN+2
@NM00088 EQU   APCTSMIN+1
APCTSMSP EQU   APCTSMIN
@NM00087 EQU   APCT+30
APCTLBSZ EQU   APCT+24
APCTREG  EQU   APCT+20
@NM00086 EQU   APCTENQM
APCTSSVT EQU   APCT+8
APCTUSER EQU   APCT+4
APCTID   EQU   APCT
@NM00085 EQU   APCQ+176
@NM00084 EQU   APCQ+172
@NM00083 EQU   APCQ+168
APCQSCID EQU   APCQ+25
APCQNEMG EQU   APCQSW
APCQNMSG EQU   APCQSW
@NM00082 EQU   APCQSW
APCQPRTY EQU   APCQSW
APCQCQAP EQU   APCQ+16
APCQUSER EQU   APCQ+8
APCQAPCQ EQU   APCQ+4
APCQID   EQU   APCQ
@NM00081 EQU   SDWA+512
SDWAVRA  EQU   SDWARA+4
SDWAURAL EQU   SDWARA+3
@NM00080 EQU   SDWADPVA
SDWAEBC  EQU   SDWADPVA
SDWAHEX  EQU   SDWADPVA
SDWAVRAL EQU   SDWARA
SDWAERTM EQU   SDWA+396
SDWACOMP EQU   SDWA+392
SDWARCPL EQU   SDWA+364
@NM00079 EQU   SDWADPSA+32
SDWATO4  EQU   SDWADPSL+28
SDWAFRM4 EQU   SDWADPSL+24
SDWATO3  EQU   SDWADPSL+20
SDWAFRM3 EQU   SDWADPSL+16
SDWATO2  EQU   SDWADPSL+12
SDWAFRM2 EQU   SDWADPSL+8
SDWATO1  EQU   SDWADPSL+4
SDWAFRM1 EQU   SDWADPSL
@NM00078 EQU   SDWADDAT+3
@NM00077 EQU   SDWAPDAT
SDWAUSPL EQU   SDWAPDAT
SDWADPSW EQU   SDWAPDAT
SDWATJPA EQU   SDWAPDAT
SDWATLPA EQU   SDWAPDAT
SDWADREG EQU   SDWAPDAT
SDWADSAH EQU   SDWAPDAT
SDWADSAS EQU   SDWAPDAT
@NM00076 EQU   SDWASDA1
SDWAERR  EQU   SDWASDA1
SDWAIO   EQU   SDWASDA1
SDWADM   EQU   SDWASDA0
SDWAQQS  EQU   SDWASDA0
SDWACBS  EQU   SDWASDA0
SDWAGTF  EQU   SDWASDA0
SDWASWA  EQU   SDWASDA0
SDWALSQA EQU   SDWASDA0
SDWASQA  EQU   SDWASDA0
SDWANUC  EQU   SDWASDA0
@NM00075 EQU   SDWADUMP+2
@NM00074 EQU   SDWADPFS
SDWASLST EQU   SDWADPFS
@NM00073 EQU   SDWADPFS
SDWAENSN EQU   SDWADPFS
SDWADLST EQU   SDWADPFS
SDWADPT  EQU   SDWADPFS
SDWADPID EQU   SDWADUMP
SDWADPLA EQU   SDWA+316
SDWAREXN EQU   SDWARECP+16
SDWACSCT EQU   SDWARECP+8
SDWAMODN EQU   SDWARECP
SDWASEQ# EQU   SDWA+290
SDWAASID EQU   SDWA+288
SDWATALW EQU   SDWALKWS+28
SDWATDLW EQU   SDWALKWS+24
SDWATNLW EQU   SDWALKWS+20
SDWAAPLW EQU   SDWALKWS+16
SDWAIPLW EQU   SDWALKWS+12
SDWAILLW EQU   SDWALKWS+8
SDWAIULW EQU   SDWALKWS+4
SDWAICLW EQU   SDWALKWS
SDWAFLLK EQU   SDWAACF4
SDWACMS  EQU   SDWAACF4
SDWAOPTM EQU   SDWAACF4
SDWATADB EQU   SDWAACF4
SDWATDNB EQU   SDWAACF4
SDWATNCB EQU   SDWAACF4
SDWAILCH EQU   SDWAACF4
SDWAIUCB EQU   SDWAACF4
SDWAICAT EQU   SDWAACF3
SDWAIPRG EQU   SDWAACF3
SDWASALL EQU   SDWAACF3
SDWAASMP EQU   SDWAACF3
SDWADISP EQU   SDWAACF3
@NM00072 EQU   SDWAACF3
@NM00071 EQU   SDWAACF2
SDWAFREE EQU   SDWAACF2
SDWAUPRG EQU   SDWAACF2
@NM00070 EQU   SDWAACF2
SDWASPIN EQU   SDWAACF2
@NM00069 EQU   SDWAACF2
SDWARCRD EQU   SDWAACF2
SDWARCDE EQU   SDWAPARQ
SDWALCPU EQU   SDWACPUA+2
@NM00068 EQU   SDWACPUA
SDWARECA EQU   SDWA+244
SDWARTYA EQU   SDWA+240
SDWACPUI EQU   SDWA+239
@NM00067 EQU   SDWAIOFS
SDWANIOP EQU   SDWAIOFS
SDWANOIO EQU   SDWAIOFS
SDWAIOHT EQU   SDWAIOFS
SDWAIOQR EQU   SDWAIOFS
SDWAFMID EQU   SDWA+236
SDWAERFL EQU   SDWAERRD
SDWAMCIV EQU   SDWAERRD
SDWARPIV EQU   SDWAERRD
SDWAMABD EQU   SDWAERRD
SDWACTS  EQU   SDWAERRD
SDWASTAE EQU   SDWAERRD
SDWANRBE EQU   SDWAERRD
SDWACLUP EQU   SDWAERRD
@NM00066 EQU   SDWAERRC
SDWAEAS  EQU   SDWAERRC
SDWAPERC EQU   SDWAERRC
SDWAIRB  EQU   SDWAERRC
SDWASTAI EQU   SDWAERRC
SDWASTAF EQU   SDWAERRC
SDWASRBM EQU   SDWAERRB
SDWALDIS EQU   SDWAERRB
SDWAENRB EQU   SDWAERRB
SDWATYP1 EQU   SDWAERRB
@NM00065 EQU   SDWAERRB
SDWAPGIO EQU   SDWAERRA
SDWATEXC EQU   SDWAERRA
SDWASVCE EQU   SDWAERRA
SDWAABTM EQU   SDWAERRA
SDWASVCD EQU   SDWAERRA
SDWARKEY EQU   SDWAERRA
SDWAPCHK EQU   SDWAERRA
SDWAMCHK EQU   SDWAERRA
SDWATIME EQU   SDWAMCH+20
SDWARFSA EQU   SDWAMCH+16
@NM00064 EQU   SDWAMCH+14
SDWAVEQR EQU   SDWARSR2
SDWAPGFX EQU   SDWARSR2
SDWAFLSQ EQU   SDWARSR2
SDWAFSQA EQU   SDWARSR2
SDWANUCL EQU   SDWARSR2
SDWASPER EQU   SDWARSR2
SDWAINTC EQU   SDWARSR2
SDWAOFLN EQU   SDWARSR2
SDWACHNG EQU   SDWARSR1
SDWAMSER EQU   SDWARSR1
@NM00063 EQU   SDWARSR1
SDWACPID EQU   SDWAMCH+10
SDWATERR EQU   SDWAMCHD
SDWAFPRX EQU   SDWAMCHD
SDWAINSF EQU   SDWAMCHD
SDWAACR  EQU   SDWAMCHD
SDWASCK  EQU   SDWAMCHD
SDWAPSWU EQU   SDWAMCHD
SDWAREGU EQU   SDWAMCHD
SDWASKYF EQU   SDWAMCHD
@NM00062 EQU   SDWAMCHS
SDWARSRF EQU   SDWAMCHS
SDWARSRC EQU   SDWAMCHS
SDWAINVP EQU   SDWAMCHS
SDWATSVL EQU   SDWAMCHS
SDWARCDF EQU   SDWAMCHS
SDWASRVL EQU   SDWAMCHS
SDWASCKE EQU   SDWASTCK+4
SDWASCKB EQU   SDWASTCK
SDWALNTH EQU   SDWAIDNT+1
SDWASPID EQU   SDWAIDNT
SDWASR15 EQU   SDWASRSV+60
SDWASR14 EQU   SDWASRSV+56
SDWASR13 EQU   SDWASRSV+52
SDWASR12 EQU   SDWASRSV+48
SDWASR11 EQU   SDWASRSV+44
SDWASR10 EQU   SDWASRSV+40
SDWASR09 EQU   SDWASRSV+36
SDWASR08 EQU   SDWASRSV+32
SDWASR07 EQU   SDWASRSV+28
SDWASR06 EQU   SDWASRSV+24
SDWASR05 EQU   SDWASRSV+20
SDWASR04 EQU   SDWASRSV+16
SDWASR03 EQU   SDWASRSV+12
SDWASR02 EQU   SDWASRSV+8
SDWASR01 EQU   SDWASRSV+4
SDWASR00 EQU   SDWASRSV
SDWATRN2 EQU   SDWAAEC2+4
SDWAIPC2 EQU   SDWAICD2
SDWAIMC2 EQU   SDWAICD2
SDWAIPR2 EQU   SDWAICD2
@NM00061 EQU   SDWAINC2
@NM00060 EQU   SDWAILC2
SDWAIL2  EQU   SDWAILC2
@NM00059 EQU   SDWAILC2
@NM00058 EQU   SDWAAEC2
SDWAADD2 EQU   SDWANXT2+1
@NM00057 EQU   SDWANXT2
@NM00056 EQU   SDWAEC2+3
SDWASGN2 EQU   SDWAINT2
SDWAEXP2 EQU   SDWAINT2
SDWADEC2 EQU   SDWAINT2
SDWAFPO2 EQU   SDWAINT2
SDWACC2  EQU   SDWAINT2
@NM00055 EQU   SDWAINT2
SDWAPGM2 EQU   SDWAMWP2
SDWAWAT2 EQU   SDWAMWP2
SDWAMCK2 EQU   SDWAMWP2
SDWAECT2 EQU   SDWAMWP2
SDWAKEY2 EQU   SDWAMWP2
SDWAEXT2 EQU   SDWAEMK2
SDWAIO2  EQU   SDWAEMK2
SDWATRM2 EQU   SDWAEMK2
@NM00054 EQU   SDWAEMK2
SDWAPER2 EQU   SDWAEMK2
@NM00053 EQU   SDWAEMK2
SDWATRAN EQU   SDWAAEC1+4
SDWAIPC1 EQU   SDWAICD1
SDWAIMC1 EQU   SDWAICD1
SDWAIPR1 EQU   SDWAICD1
@NM00052 EQU   SDWAINC1
@NM00051 EQU   SDWAILC1
SDWAIL1  EQU   SDWAILC1
@NM00050 EQU   SDWAILC1
@NM00049 EQU   SDWAAEC1
SDWAADD1 EQU   SDWANXT1+1
@NM00048 EQU   SDWANXT1
@NM00047 EQU   SDWAEC1+3
SDWASGN1 EQU   SDWAINT1
SDWAEXP1 EQU   SDWAINT1
SDWADEC1 EQU   SDWAINT1
SDWAFPO1 EQU   SDWAINT1
SDWACC1  EQU   SDWAINT1
@NM00046 EQU   SDWAINT1
SDWAPGM1 EQU   SDWAMWP1
SDWAWAT1 EQU   SDWAMWP1
SDWAMCK1 EQU   SDWAMWP1
SDWAECT1 EQU   SDWAMWP1
SDWAKEY1 EQU   SDWAMWP1
SDWAEXT1 EQU   SDWAEMK1
SDWAIO1  EQU   SDWAEMK1
SDWATRM1 EQU   SDWAEMK1
@NM00045 EQU   SDWAEMK1
SDWAPER1 EQU   SDWAEMK1
@NM00044 EQU   SDWAEMK1
SDWAIOBR EQU   SDWA+100
SDWAEPA  EQU   SDWA+96
@NM00043 EQU   SDWANAME+4
SDWARBAD EQU   SDWANAME
SDWAGR15 EQU   SDWAGRSV+60
SDWAGR14 EQU   SDWAGRSV+56
SDWAGR13 EQU   SDWAGRSV+52
SDWAGR12 EQU   SDWAGRSV+48
SDWAGR11 EQU   SDWAGRSV+44
SDWAGR10 EQU   SDWAGRSV+40
SDWAGR09 EQU   SDWAGRSV+36
SDWAGR08 EQU   SDWAGRSV+32
SDWAGR07 EQU   SDWAGRSV+28
SDWAGR06 EQU   SDWAGRSV+24
SDWAGR05 EQU   SDWAGRSV+20
SDWAGR04 EQU   SDWAGRSV+16
SDWAGR03 EQU   SDWAGRSV+12
SDWAGR02 EQU   SDWAGRSV+8
SDWAGR01 EQU   SDWAGRSV+4
SDWAGR00 EQU   SDWAGRSV
SDWANXTP EQU   SDWACTL2+5
SDWASGP  EQU   SDWAPMKP
SDWAEUP  EQU   SDWAPMKP
SDWADOP  EQU   SDWAPMKP
SDWAFPP  EQU   SDWAPMKP
SDWACCP  EQU   SDWAPMKP
SDWAILP  EQU   SDWAPMKP
SDWAINTP EQU   SDWACTL2+2
SDWASPVP EQU   SDWAMWPP
SDWAWATP EQU   SDWAMWPP
SDWAMCKP EQU   SDWAMWPP
@NM00042 EQU   SDWAMWPP
SDWAKEYP EQU   SDWAMWPP
SDWAEXTP EQU   SDWACMKP
SDWAIOP  EQU   SDWACMKP
SDWANXTA EQU   SDWACTL1+5
SDWASGA  EQU   SDWAPMKA
SDWAEUA  EQU   SDWAPMKA
SDWADOA  EQU   SDWAPMKA
SDWAFPA  EQU   SDWAPMKA
SDWACCA  EQU   SDWAPMKA
SDWAILA  EQU   SDWAPMKA
SDWAINTA EQU   SDWACTL1+2
SDWASPVA EQU   SDWAMWPA
SDWAWATA EQU   SDWAMWPA
SDWAMCKA EQU   SDWAMWPA
@NM00041 EQU   SDWAMWPA
SDWAKEYA EQU   SDWAMWPA
SDWAEXTA EQU   SDWACMKA
SDWAIOA  EQU   SDWACMKA
SDWACMPC EQU   SDWAABCC+1
@NM00040 EQU   SDWACMPF
SDWASTCC EQU   SDWACMPF
@NM00039 EQU   SDWACMPF
SDWASTEP EQU   SDWACMPF
SDWAREQ  EQU   SDWACMPF
SDWAPARM EQU   SDWA
@NM00038 EQU   IHADCS44+10
DCBXENDA EQU   IHADCS44+8
DCBCENDA EQU   IHADCS44+6
DCBSIOA  EQU   IHADCS44+4
DCBPCIA  EQU   IHADCS44+2
DCBEOEA  EQU   IHADCS44
@NM00037 EQU   IHADCS28+1
@NM00036 EQU   DCBOPTCD
DCBSRCHD EQU   DCBOPTZ
@NM00035 EQU   DCBOPTCD
DCBDEBA  EQU   DCBDEBAD+1
@NM00034 EQU   DCBIFLGS
DCBIFIOE EQU   DCBIFLGS
DCBCH12  EQU   DCBIFPCT
DCBCH9   EQU   DCBIFPCT
DCBIFEC  EQU   DCBIFLGS
DCBMFSTI EQU   DCBMFDMD
DCBMFAWR EQU   DCBMFSTK
DCBMFUIP EQU   DCBMFTMD
DCBMFIDW EQU   DCBMFLCP
DCBMFWRK EQU   DCBMFMVP
DCBMFRDQ EQU   DCBMFWRT
DCBMFGTQ EQU   DCBMFPUT
DCBMFSTL EQU   DCBMACF2
DCBMFCK  EQU   DCBMFDMG
DCBMFRDX EQU   DCBMFCHK
DCBMFDBF EQU   DCBMFSBG
DCBMFRDI EQU   DCBMFLCG
DCBMFRDK EQU   DCBMFMVG
DCBMFWRQ EQU   DCBMFRD
DCBMFPTQ EQU   DCBMFGET
DCBMFECP EQU   DCBMACF1
DCBTIOT  EQU   IHADCS25
DCBMRSTI EQU   DCBMRDMD
DCBMRAWR EQU   DCBMRSTK
DCBMRUIP EQU   DCBMRTMD
DCBMRIDW EQU   DCBMRLCP
DCBMRWRK EQU   DCBMRMVP
DCBMRRDQ EQU   DCBMRWRT
DCBMRGTQ EQU   DCBMRPUT
DCBMRSTL EQU   DCBMACR2
DCBMRCK  EQU   DCBMRDMG
DCBPGFXA EQU   DCBMRRDX
DCBMRDBF EQU   DCBMRSBG
DCBMRRDI EQU   DCBMRLCG
DCBMRRDK EQU   DCBMRMVG
DCBMRWRQ EQU   DCBMRRD
DCBMRPTQ EQU   DCBMRGET
DCBMRECP EQU   DCBMACR1
@NM00033 EQU   DCBIFLG
DCBIBIOE EQU   DCBIFLG
DCBICH12 EQU   DCBIBPCT
DCBICH9  EQU   DCBIBPCT
DCBIBEC  EQU   DCBIFLG
DCBOFIOF EQU   DCBOFLGS
DCBOFUEX EQU   DCBOFLGS
DCBOFTM  EQU   DCBOFLGS
DCBOFPPC EQU   DCBOFLGS
DCBOFEOV EQU   DCBOFLGS
DCBOFLRB EQU   DCBOFLGS
DCBOFIOD EQU   DCBOFLWR
DCBDDNAM EQU   IHADCS24
DCBEXLSA EQU   DCBEXLST+1
DCBRECKL EQU   DCBRECFM
DCBRECCC EQU   DCBRECFM
DCBRECSB EQU   DCBRECFM
DCBRECBR EQU   DCBRECFM
DCBRECTO EQU   DCBRECLA
DCBRECL  EQU   DCBRECLA
DCBEODA  EQU   DCBEODAD+1
DCBBFA   EQU   DCBBFTEK
DCBH0    EQU   DCBBFTEK
DCBBFTKD EQU   DCBBFTEK
DCBBFTE  EQU   DCBBFT
DCBBFTKR EQU   DCBBFT
DCBBFTS  EQU   DCBBFT
DCBH1    EQU   DCBBFTEK
DCBSVCXA EQU   DCBSVCXL+1
@NM00032 EQU   DCBSVCXL
DCBODEBA EQU   DCBIOBAA
@NM00031 EQU   DCBQSLM
DCBUPDBT EQU   DCBQSLM
DCBUPDCM EQU   DCBQSLM
DCB1DVDS EQU   DCBQSLM
@NM00030 EQU   DCBDSRG2
DCBDSGTR EQU   DCBDSRG2
DCBACBM  EQU   DCBDSRG2
@NM00029 EQU   DCBDSRG2
DCBDSGTQ EQU   DCBDSRG2
DCBDSGTX EQU   DCBDSRG2
DCBDSGGS EQU   DCBDSRG2
DCBDSGU  EQU   DCBDSRG1
DCBDSGPO EQU   DCBDSRG1
@NM00028 EQU   DCBDSRG1
@NM00027 EQU   DCBDSRG1
DCBDSGCX EQU   DCBDSRG1
DCBDSGDA EQU   DCBDSRG1
DCBDSGPS EQU   DCBDSRG1
DCBDSGIS EQU   DCBDSRG1
DCBBUFL  EQU   IHADCS11+8
DCBBUFCA EQU   DCBBUFCB+1
DCBBUFNO EQU   DCBBUFCB
DCBDEVT  EQU   DCBREL
DCBKEYLE EQU   DCBRELB
@NM00026 EQU   IHADCB
ECBEVNT  EQU   ECBEXTND
@NM00025 EQU   ECBEXTND
@NM00024 EQU   ECBBYTE3
@NM00023 EQU   ECBEXTBA
@NM00022 EQU   ECBCC
ECBPOSTB EQU   ECBCC
ECBWAITB EQU   ECBCC
IOBERRCT EQU   IOBSTDRD+30
IOBRSV19 EQU   IOBINCAM+1
IOBOLTST EQU   IOBBTAMF
IOBRFTMG EQU   IOBBTAMF
IOBRSV17 EQU   IOBBTAMF
IOBRSV16 EQU   IOBBTAMF
IOBRSV15 EQU   IOBBTAMF
IOBRSV14 EQU   IOBBTAMF
IOBINUSE EQU   IOBBTAMF
IOBPRMER EQU   IOBBTAMF
IOBRSTRB EQU   IOBRESTR+1
IOBREPOS EQU   IOBRESTR
IOBDCBPB EQU   IOBDCBPT+1
IOBRSV44 EQU   IOBFLAG4
IOBJES3I EQU   IOBFLAG4
IOBRSV42 EQU   IOBFLAG4
IOBRSV41 EQU   IOBFLAG4
IOBRSV40 EQU   IOBFLAG4
IOBPMERR EQU   IOBFLAG4
IOBCC3WE EQU   IOBFLAG4
IOBGDPOL EQU   IOBFLAG4
IOBSTRTB EQU   IOBSTART+1
IOBSIOCC EQU   IOBSTART
IOBCSB7  EQU   IOBCSTAT
IOBCSB6  EQU   IOBCSTAT
IOBCSB5  EQU   IOBCSTAT
IOBCSB4  EQU   IOBCSTAT
IOBCSB3  EQU   IOBCSTAT
IOBCSB2  EQU   IOBCSTAT
IOBCSB1  EQU   IOBCSTAT
IOBCSB0  EQU   IOBCSTAT
IOBUSB7  EQU   IOBUSTAT
IOBUSB6  EQU   IOBUSTAT
IOBUSB5  EQU   IOBUSTAT
IOBUSB4  EQU   IOBUSTAT
IOBUSB3  EQU   IOBUSTAT
IOBUSB2  EQU   IOBUSTAT
IOBUSB1  EQU   IOBUSTAT
IOBUSB0  EQU   IOBUSTAT
IOBCMDA  EQU   IOBIOCSW
IOBLOG   EQU   IOBFL3
IOBJAM   EQU   IOBICL
IOBMSG   EQU   IOBFL3
IOBSDR   EQU   IOBCNC
IOBACU   EQU   IOBFL3
IOBCDC   EQU   IOBFL3
IOBICC   EQU   IOBFL3
IOBCCC   EQU   IOBFL3
IOBECBPB EQU   IOBECBPT+1
IOBECBCC EQU   IOBECBPT
IOBS1B7  EQU   IOBSENS1
IOBS1B6  EQU   IOBSENS1
IOBS1B5  EQU   IOBSENS1
IOBS1B4  EQU   IOBSENS1
IOBS1B3  EQU   IOBSENS1
IOBS1B2  EQU   IOBSENS1
IOBS1B1  EQU   IOBSENS1
IOBS1B0  EQU   IOBSENS1
IOBSNSC9 EQU   IOBS0B7
IOBS0B6  EQU   IOBSENS0
IOBS0B5  EQU   IOBSENS0
IOBS0B4  EQU   IOBSENS0
IOBS0B3  EQU   IOBSENS0
IOBS0B2  EQU   IOBSENS0
IOBS0B1  EQU   IOBSENS0
IOBS0B0  EQU   IOBSENS0
IOBPNCH  EQU   IOBFLAG2
IOBSTATO EQU   IOBFLAG2
IOBSKUPD EQU   IOBFLAG2
IOBALTTR EQU   IOBFLAG2
IOBRRT2  EQU   IOBRDHA0
IOBRRT3  EQU   IOBPURGE
IOBSENSE EQU   IOBFLAG2
IOBHALT  EQU   IOBFLAG2
IOBSPSVC EQU   IOBRSTRT
IOBUNREL EQU   IOBFLAG1
IOBIOERR EQU   IOBFLAG1
IOBFCREX EQU   IOBCYCCK
IOBRPSTN EQU   IOBFLAG1
IOBERRTN EQU   IOBFLAG1
IOBCMDCH EQU   IOBFLAG1
IOBDATCH EQU   IOBFLAG1
IOBCNOPA EQU   IOBPREFX+12
IOBCICB  EQU   IOBPREFX+8
IOBCECB  EQU   IOBPREFX+4
IOBCONOP EQU   IOBPREFX+3
IOBCINOP EQU   IOBPREFX+2
IOBRSV05 EQU   IOBPREFX+1
IOBPCI   EQU   IOBCFLG1
IOBRSTCH EQU   IOBCFLG1
IOBABAPP EQU   IOBCFLG1
IOBPTST  EQU   IOBCFLG1
IOBRSV04 EQU   IOBCFLG1
IOBRSV03 EQU   IOBCFLG1
IOBRSV02 EQU   IOBCFLG1
IOBRSV01 EQU   IOBCFLG1
UCBERADR EQU   UCBUCS+12
UCBFCBID EQU   UCBUCS+8
UCBERCNT EQU   UCBUCS+7
UCBRSV51 EQU   UCBUCS+6
UCBRSV50 EQU   UCBFCBOP
UCBRSV49 EQU   UCBFCBOP
UCBRSV48 EQU   UCBFCBOP
UCBRSV47 EQU   UCBFCBOP
UCBRSV46 EQU   UCBFCBOP
UCBRSV45 EQU   UCBFCBOP
UCBRSV44 EQU   UCBFCBOP
UCBFCBO1 EQU   UCBFCBOP
UCBUCSPE EQU   UCBUCSOP
UCBRSV43 EQU   UCBUCSOP
UCBRSV42 EQU   UCBUCSOP
UCBRSV41 EQU   UCBUCSOP
UCBRSV40 EQU   UCBUCSOP
UCBRSV39 EQU   UCBUCSOP
UCBUCSO2 EQU   UCBUCSOP
UCBUCSO1 EQU   UCBUCSOP
UCBUCSID EQU   UCBUCS
UCBMDRBA EQU   UCBMDRBF+1
UCBRV075 EQU   UCBMDRBF
UCBRV074 EQU   UCB3800X+32
UCBIMAGE EQU   UCB3800X+28
UCBFCBNM EQU   UCB3800X+24
UCBCHAR4 EQU   UCB3800X+20
UCBCHAR3 EQU   UCB3800X+16
UCBCHAR2 EQU   UCB3800X+12
UCBCHAR1 EQU   UCB3800X+8
UCBCGMID EQU   UCB3800X+4
UCBBRSTA EQU   UCBACTIV
UCBRV063 EQU   UCBACTIV
UCBRV062 EQU   UCBACTIV
UCBRV061 EQU   UCBACTIV
UCBRV060 EQU   UCBACTIV
UCBRV059 EQU   UCBACTIV
UCBRV058 EQU   UCBACTIV
UCBRV057 EQU   UCBACTIV
UCBRV050 EQU   UCB3800X+2
UCBCGMNO EQU   UCB3800X+1
UCBRV083 EQU   UCBOPTNS
UCBBRSTR EQU   UCBOPTNS
UCBRV056 EQU   UCBOPTNS
UCBRV055 EQU   UCBOPTNS
UCBRV054 EQU   UCBOPTNS
UCBRV053 EQU   UCBOPTNS
UCBRV052 EQU   UCBOPTNS
UCBRV051 EQU   UCBOPTNS
UCBRV073 EQU   UCB3540X+7
UCBRV072 EQU   UCBDKBYT
UCBRV071 EQU   UCBDKBYT
UCBRV070 EQU   UCBDKBYT
UCBRV069 EQU   UCBDKBYT
UCBRV068 EQU   UCBDKBYT
UCBRV067 EQU   UCBDKBYT
UCBVLVER EQU   UCBDKBYT
UCBDKAMX EQU   UCBDKBYT
UCBVLSER EQU   UCB3540X
UCBRDATA EQU   UCBOCR+4
UCBFRID  EQU   UCBOCR
UCBCLN   EQU   UCBMT+14
UCBERG   EQU   UCBMT+12
UCBMS    EQU   UCBMT+11
UCBNB    EQU   UCBMT+10
UCBPW    EQU   UCBMT+9
UCBPR    EQU   UCBMT+8
UCBSIO   EQU   UCBMT+6
UCBTW    EQU   UCBMT+5
UCBTR    EQU   UCBMT+4
UCBTWT   EQU   UCBMT+3
UCBTRT   EQU   UCBMT+2
UCBCTD   EQU   UCBMT
UCBWTOID EQU   UCBCMEXT+17
UCBMIHTI EQU   UCBCMEXT+16
UCBASID  EQU   UCBCMEXT+14
UCBMFCNT EQU   UCBCMEXT+12
UCBPMSK  EQU   UCBCMEXT+10
UCBCCWOF EQU   UCBCMEXT+8
UCBRV041 EQU   UCBCMEXT+6
UCBRV036 EQU   UCBFLP1
UCBRV035 EQU   UCBFLP1
UCBERLOG EQU   UCBFLP1
UCBRV033 EQU   UCBFLP1
UCBINHIO EQU   UCBFLP1
UCBNSWAP EQU   UCBFLP1
UCBSHRUP EQU   UCBFLP1
UCBNSRCH EQU   UCBFLP1
UCBSNSCT EQU   UCBCMEXT+4
UCBHPDV  EQU   @NM00021
UCBHALI  EQU   @NM00021
UCBRSV09 EQU   @NM00021
UCBRSV08 EQU   @NM00021
UCBRSV07 EQU   @NM00021
UCBRSV06 EQU   @NM00021
UCBRSV05 EQU   @NM00021
UCBRSV04 EQU   @NM00021
UCBDTI   EQU   UCBCMEXT+2
UCBSTI   EQU   UCBCMEXT+1
UCBETI   EQU   UCBCMEXT
UCBEXTP  EQU   UCBEXTPT+1
UCBDDRSW EQU   UCBFLC
UCBTICBT EQU   UCBFLC
UCBIVRR  EQU   UCBFLC
UCBIVRS  EQU   UCBFLC
UCBITF   EQU   UCBFLC
UCBUDE   EQU   UCBFLC
UCBWAA   EQU   UCBFLC
UCBATTP  EQU   UCBFLC
UCBUNTYP EQU   UCBTBYT4
UCBRSV11 EQU   UCBDVCLS
UCBRSV10 EQU   UCBDVCLS
UCB3CHAR EQU   UCBDVCLS
UCB3UREC EQU   UCBDVCLS
UCB3DISP EQU   UCBDVCLS
UCB3DACC EQU   UCBDVCLS
UCB3COMM EQU   UCBDVCLS
UCB3TAPE EQU   UCBDVCLS
UCBDVPWR EQU   UCB2OPT7
UCBVLPWR EQU   UCB2OPT6
UCB2OPT5 EQU   UCBTBYT2
UCBRVDEV EQU   UCBRWTAU
UCBRPS   EQU   UCBDUDN2
UCBRR    EQU   UCBDUDN1
UCB2OPT1 EQU   UCBTBYT2
UCB2OPT0 EQU   UCBTBYT2
UCB1FEA7 EQU   UCBTBYT1
UCBD6250 EQU   UCB1FEA6
UCBD1600 EQU   UCB1FEA5
UCB1FEA4 EQU   UCBTBYT1
UCB1FEA3 EQU   UCBTBYT1
UCB1FEA2 EQU   UCBTBYT1
UCB1FEA1 EQU   UCBTBYT1
UCB1FEA0 EQU   UCBTBYT1
UCBRV029 EQU   UCBWGT
UCBVHRSN EQU   UCBWGT
UCBVORSN EQU   UCBWGT
UCBMTPXP EQU   UCBWGT
UCBREW   EQU   UCBWGT
UCBPUB   EQU   UCBWGT
UCBOUT   EQU   UCBWGT
UCBIN    EQU   UCBWGT
UCBCPU   EQU   UCBOB+11
UCBLCI   EQU   UCBOB+10
UCBCNT   EQU   UCBOB+9
UCBRV017 EQU   UCBCHM1
UCBRV016 EQU   UCBCHM1
UCBRV015 EQU   UCBCHM1
UCBRV014 EQU   UCBCHM1
UCBSPB   EQU   UCBPTH1
UCBPPB   EQU   UCBPTH1
UCBSPA   EQU   UCBPTH0
UCBPPA   EQU   UCBPTH0
UCBSIGP  EQU   UCBFLB
UCBVALPH EQU   UCBFLB
UCBCRHSN EQU   UCBFLB
UCBCRHRV EQU   UCBFLB
UCBRESVH EQU   UCBFLB
UCBSPST  EQU   UCBFLB
UCBASNS  EQU   UCBFLB
UCBIORST EQU   UCBFLB
UCBQISCE EQU   UCBFL1
UCBACTV  EQU   UCBFL1
UCBSAP   EQU   UCBFL1
UCBNOTRC EQU   UCBCUB
UCBPSNS  EQU   UCBFL1
UCBUSING EQU   UCBPST
UCBNOTRD EQU   UCBNRY
UCBBUSYD EQU   UCBBSY
UCBUA    EQU   UCBCHAN+1
UCBCHA   EQU   UCBCHAN
UCBDADI  EQU   UCBSTAT
UCBSYSR  EQU   UCBSTAT
UCBPRES  EQU   UCBSTAT
UCBALOC  EQU   UCBSTAT
UCBUNLD  EQU   UCBSTAT
UCBRESV  EQU   UCBSTAT
UCBCHGS  EQU   UCBSTAT
UCBONLI  EQU   UCBSTAT
UCBID    EQU   UCBOB+2
UCBALTPH EQU   UCBFL5
UCBALTCU EQU   UCBFL5
UCBNALOC EQU   UCBFL5
UCBENVRD EQU   UCBFL5
UCBVSDR  EQU   UCBFL5
UCBSASK  EQU   UCBFL5
UCBAMV   EQU   UCBAF
UCBDCC   EQU   UCBFL5
UCBMONT  EQU   UCBJBNR
UCBRV011 EQU   UCBJBNR
UCBMMSGP EQU   UCBJBNR
UCBOLDSM EQU   UCBJBNR
UCBRV003 EQU   UCBJBNR
UCBDUC   EQU   UCBJBNR
UCBJES3  EQU   UCBJBNR
UCBVRDEV EQU   UCBJBNR
UCBCMSEG EQU   UCBOB
UCBPFXND EQU   UCB+512
UCBIOQ   EQU   UCB+508
UCBLOCK  EQU   UCB+504
UCBPXST  EQU   UCB+504
@NM00018 EQU   UCB
ASCBEND  EQU   ASCB+208
ASCBSRBT EQU   ASCB+200
ASCBSWTL EQU   ASCB+196
ASCBRS14 EQU   ASCB+195
ASCBSMCT EQU   ASCB+194
ASCBRS12 EQU   ASCB+192
ASCBPCTT EQU   ASCB+188
ASCBVGTT EQU   ASCB+184
ASCBRV43 EQU   ASCBSRQ4
ASCBRV42 EQU   ASCBSRQ4
ASCBRV41 EQU   ASCBSRQ4
ASCBRV40 EQU   ASCBSRQ4
ASCBRV39 EQU   ASCBSRQ4
ASCBRV38 EQU   ASCBSRQ4
ASCBRV37 EQU   ASCBSRQ4
ASCBRV36 EQU   ASCBSRQ4
ASCBRV35 EQU   ASCBSRQ3
ASCBRV34 EQU   ASCBSRQ3
ASCBRV33 EQU   ASCBSRQ3
ASCBRV32 EQU   ASCBSRQ3
ASCBRV31 EQU   ASCBSRQ3
ASCBRV30 EQU   ASCBSRQ3
ASCBRV29 EQU   ASCBSRQ3
ASCBRV28 EQU   ASCBSRQ3
ASCBRV27 EQU   ASCBSRQ2
ASCBRV26 EQU   ASCBSRQ2
ASCBRV25 EQU   ASCBSRQ2
ASCBRV24 EQU   ASCBSRQ2
ASCBRV23 EQU   ASCBSRQ2
ASCBRV22 EQU   ASCBSRQ2
ASCBRV21 EQU   ASCBSRQ2
ASCBRV20 EQU   ASCBSRQ2
ASCBRV19 EQU   ASCBSRQ1
ASCBRV18 EQU   ASCBSRQ1
ASCBRV17 EQU   ASCBSRQ1
ASCBRV16 EQU   ASCBSRQ1
ASCBRV15 EQU   ASCBSRQ1
ASCBRV14 EQU   ASCBSRQ1
ASCBRV13 EQU   ASCBSRQ1
ASCBSTA  EQU   ASCBSRQ1
ASCBJBNS EQU   ASCB+176
ASCBJBNI EQU   ASCB+172
ASCBMCC  EQU   ASCB+168
ASCBRTWA EQU   ASCB+164
ASCBIQEA EQU   ASCB+160
ASCBXMPQ EQU   ASCB+156
ASCBRS01 EQU   ASCB+154
ASCBFMCT EQU   ASCB+152
ASCBOUXB EQU   ASCB+148
ASCBOUCB EQU   ASCB+144
ASCBMECB EQU   ASCB+140
ASCBQECB EQU   ASCB+136
ASCBLSQH EQU   ASCBLKGP+4
ASCBLOCK EQU   ASCBLKGP
ASCBTCBS EQU   ASCB+124
ASCBNVSC EQU   ASCB+122
ASCBVSC  EQU   ASCB+120
ASCBSRBS EQU   ASCB+118
ASCBSSRB EQU   ASCB+116
ASCBRV06 EQU   ASCBFLG2
ASCBRV05 EQU   ASCBFLG2
ASCBRV04 EQU   ASCBFLG2
ASCBSNQS EQU   ASCBFLG2
ASCBS2S  EQU   ASCBFLG2
ASCBCEXT EQU   ASCBFLG2
ASCBPXMT EQU   ASCBFLG2
ASCBXMPT EQU   ASCBFLG2
ASCBRF07 EQU   ASCBDSP1
ASCBRF06 EQU   ASCBDSP1
ASCBRF05 EQU   ASCBDSP1
ASCBRF04 EQU   ASCBDSP1
ASCBRF03 EQU   ASCBDSP1
ASCBRF02 EQU   ASCBDSP1
ASCBFAIL EQU   ASCBDSP1
ASCBNOQ  EQU   ASCBDSP1
ASCBSWCT EQU   ASCB+112
ASCBASXB EQU   ASCB+108
ASCBTMCH EQU   ASCB+104
ASCBNSWP EQU   ASCBFLG1
ASCBTYP1 EQU   ASCBFLG1
ASCBSTND EQU   ASCBFLG1
ASCBABNT EQU   ASCBFLG1
ASCBTERM EQU   ASCBFLG1
ASCBS3S  EQU   ASCBFLG1
ASCBCMSH EQU   ASCBFLG1
ASCBTOFF EQU   ASCBFLG1
ASCBRF01 EQU   ASCBRCTF
ASCBTMLW EQU   ASCBRCTF
ASCBOUT  EQU   ASCBRCTF
ASCBWAIT EQU   ASCBRCTF
ASCBRV08 EQU   ASCBRCTF
ASCBFQU  EQU   ASCBRCTF
ASCBFRS  EQU   ASCBRCTF
ASCBTMNO EQU   ASCBRCTF
ASCBAFFN EQU   ASCBFW1
ASCBDUMP EQU   ASCB+96
ASCBRV44 EQU   ASCB+92
ASCBUBET EQU   ASCB+88
ASCBECB  EQU   ASCB+84
ASCBJSTL EQU   ASCB+80
ASCBEWST EQU   ASCB+72
ASCBEJST EQU   ASCB+64
ASCBTSB  EQU   ASCB+60
ASCBCSCB EQU   ASCB+56
ASCBRSM  EQU   ASCB+52
ASCBLDA  EQU   ASCB+48
ASCBSTOR EQU   ASCB+44
ASCBDP   EQU   ASCB+43
ASCBRV07 EQU   ASCB+42
ASCBIOSM EQU   ASCB+40
ASCBSEQN EQU   ASCB+38
ASCBASID EQU   ASCB+36
ASCBCPUS EQU   ASCB+32
ASCBSPL  EQU   ASCB+28
ASCBIOSP EQU   ASCB+24
ASCBSYNC EQU   ASCBSUPC+4
ASCBSVRB EQU   ASCBSUPC
ASCBCMSF EQU   ASCB+12
ASCBBWDP EQU   ASCB+8
ASCBFWDP EQU   ASCB+4
ASCBASCB EQU   ASCB
ASCBEGIN EQU   ASCB
CHARSV16 EQU   CHSHORT+100
CHARSV15 EQU   CHSHORT+96
CHJSCBVS EQU   CHSHORT+92
CHUSCVS  EQU   CHSHORT+88
@NM00016 EQU   CHSHORT+84
@NM00015 EQU   CHSHORT+80
CHSQA    EQU   CHSHORT+44
CHQPA    EQU   CHSHORT+8
CHJCL    EQU   CHSHORT+4
CHSPC    EQU   CHSHORT
CHSPB    EQU   CHSTEP+4
CHTCB    EQU   CHSTEP+1
CHARSV23 EQU   CHSWT
CHARSV22 EQU   CHSWT
CHARSV21 EQU   CHSWT
CHAC     EQU   CHSWT
CHPSF    EQU   CHSWT
CHPSD    EQU   CHSWT
CHJCT    EQU   CHSWT
CHARSV20 EQU   CHSWT
CHCECB   EQU   CHASM+20
CHECB    EQU   CHASM+16
CHRGNAD  EQU   CHASM+12
CHARSV18 EQU   CHRGNSZ+1
CHRPRTY  EQU   CHRGNSZ
@NM00014 EQU   CHCIBP
CHEND    EQU   CHCIBP
CHECBP   EQU   CHASM
CHDER    EQU   CHPROCSN+4
CHARSV10 EQU   CHACT1
CHARSV09 EQU   CHACT1
CHARSV08 EQU   CHACT1
CHARSV07 EQU   CHACT1
CHARSV06 EQU   CHACT1
CHARSV05 EQU   CHACT1
CHARSV04 EQU   CHACT1
CHRDWTR  EQU   CHACT1
CHARSV30 EQU   CHPROCSN+2
CHQID    EQU   CHPROCSN
CHASID   EQU   CHTJID
CHUCMP   EQU   CHAIN+29
CHTRKID  EQU   CHPKE
CHCIBCTR EQU   CHAIN+27
CHUNIT   EQU   CHAIN+24
CHCLS    EQU   CHAIN+16
CHPCOI   EQU   CHPARM
CHIFY    EQU   CHACT
CHAIFX   EQU   CHACT
CHCLD    EQU   CHACT
CHCL     EQU   CHACT
CHDSI    EQU   CHACT
CHDISC   EQU   CHACT
CHTERM   EQU   CHACT
CHSWAP   EQU   CHACT
CHABTERM EQU   CHSTS
CHFC     EQU   CHSTS
CHDL     EQU   CHSTS
CHAD     EQU   CHSTS
CHQSPC   EQU   CHSTS
CHSOUT   EQU   CHSTS
CHSYS    EQU   CHSTS
CHAP     EQU   CHSTS
CHSZE    EQU   CHFLG+1
CHVCD    EQU   CHFLG
CHPTR    EQU   CHAIN
S99TUPRM EQU   S99TUFLD+2
S99TUPND EQU   S99TUP
S99FLG24 EQU   S99FLAG2+3
S99FLG23 EQU   S99FLAG2+2
S99PCINT EQU   S99FLG22
S99UDEVT EQU   S99FLG22
S99MOUNT EQU   S99FLG21
S99CATLG EQU   S99FLG21
S99TIONQ EQU   S99FLG21
S99OFFLN EQU   S99FLG21
S99WTUNT EQU   S99FLG21
S99NORES EQU   S99FLG21
S99WTDSN EQU   S99FLG21
S99WTVOL EQU   S99FLG21
S99FLG12 EQU   S99FLAG1+1
S99JBSYS EQU   S99FLG11
S99NOMNT EQU   S99FLG11
S99NOCNV EQU   S99FLG11
S99ONCNV EQU   S99FLG11
@NM00005 EQU   DRSTR
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RF00214 EQU   @RC00211
@RC00241 EQU   @RC00236
@RC00239 EQU   @RC00236
@RC00200 EQU   @RC00196
@RC00517 EQU   @RC00516
@RC00530 EQU   @RC00526
@RC00718 EQU   @RC00717
@RC00792 EQU   @RC00777
@RC00860 EQU   @RC00847
@RC00435 EQU   @RC00431
@RF01099 EQU   @EL00003
@RC01111 EQU   @EL00005
@RC01248 EQU   @RC01242
@RC00256 EQU   @RC00200
@RC00518 EQU   @RC00517
@RC01113 EQU   @RC01111
@RC00257 EQU   @RC00256
@ENDDATA EQU   *
         END   IGTD80,(C'PLS2354',0701,77230)

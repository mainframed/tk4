         TITLE 'IEFAB431 - ALLOCATE VAM                                *
                        '
IEFAB431 CSECT ,                                                01S0001
@MAINENT DS    0H                                               01S0001
         USING *,@15                                            01S0001
         B     @PROLOG                                          01S0001
         DC    AL1(16)                                          01S0001
         DC    C'IEFAB431  73.340'                              01S0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                  01S0001
         BALR  @12,0                                            01S0001
@PSTART  DS    0H                                               01S0001
         USING @PSTART,@12                                      01S0001
         L     @00,@SIZDATD                                     01S0001
         MODESET EXTKEY=SCHED,SAVEKEY=(2)
         GSPACE  R,LV=(0)
         LR    @11,@01                                          01S0001
         USING @DATD,@11                                        01S0001
         ST    @13,@SA00001+4                                   01S0001
         STC   @02,@OLDKEY                                      01S0001
         MODESET KEYADDR=(2)
         LM    @00,@02,20(@13)                                  01S0001
         ST    @11,8(,@13)                                      01S0001
         LR    @13,@11                                          01S0001
         MODESET EXTKEY=ZERO
         MVC   @PC00001(4),0(@01)                               01S0001
         MODESET EXTKEY=SCHED
*RETCODE = ZERO;                       /*INITIALIZE RETCODE          */
         SLR   RETCODE,RETCODE                                  01S0036
*SIOTPTR = SIOT1P;                     /*FIRST SIOT                  */
         L     @10,@PC00001                                     01S0037
         L     @10,ALCWAPTR(,@10)                               01S0037
         L     SIOTPTR,SIOT1P(,@10)                             01S0037
*DO WHILE (VAMREQS ^= ZERO & RETCODE = ZERO); /*SEARCH FOR VAM DDS   */
         B     @DE00038                                         01S0038
@DL00038 DS    0H                                               01S0039
*  IF SIOVAMDS = ON THEN               /*VAM REQUEST                 */
         TM    SIOVAMDS(SIOTPTR),B'00100000'                    01S0039
         BNO   @RF00039                                         01S0039
*    DO;                                                        01S0040
*      IF SCTSNEW = OFF THEN           /*OLD, VAM UCB EXISTS         */
         TM    SCTSNEW(SIOTPTR),B'00000100'                     01S0041
         BNZ   @RF00041                                         01S0041
*        DO;                                                    01S0042
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - GETUCB                                            */
*/*                                                                  */
*/* DESCRIPTIVE NAME - RETRIEVE UCB ADDRESS FROM REF'D SIOT          */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     THIS ROUTINE RETRIEVES A DEVICE TYPE AND UCB ADDRESS FROM A  */
*/*     REFERENCED SIOT.                                             */
*/*                                                                  */
*/*   OPERATION -                                                    */
*/*     SEARCH THE SIOT CHAIN UNTIL THE SIOT WITH A DD NUMBER EQUAL  */
*/*     TO THE REF DD NUMBER(SIOTREFN) IS FOUND. WHEN FOUND, COPY THE*/
*/*     DEVICE TYPE (SCTUTYPE(1:4)) TO THIS SIOT AND RETURNS         */
*/*     THE UCB ADDRESS.                                             */
*/* ENTRY - INLINE SUBROUTINE                                        */
*/*                                                                  */
*/*   PURPOSE - SEE FUNCTION                                         */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*      SIOTREFN - REF DD NUMBER                                    */
*/*      SIOT1P   - ADDRESS OF FIRST SIOT ON SIOT CHAIN              */
*/*                                                                  */
*/* EXIT - NORMAL  (INLINE SUBROUTINE)                               */
*/*   CONDITIONS - UCB ADDRESS & DEVICE TYPE COPIED                  */
*/*                                                                  */
*/*   OUTPUT -                                                       */
*/*      UCBPTR - VAM UCB ADDRESS                                    */
*/*      SCTUTYPE - DEVICE TYPE                                      */
*/*                                                                  */
*/*   RETURN CODES - NONE                                            */
*/*                                                                  */
*/********************************************************************/
*IF SIOUCBAD = ZERO THEN               /*MUST BE VOL REF             */
         ICM   @10,7,SIOUCBAD(SIOTPTR)                          02S0043
         BNZ   @RF00043                                         02S0043
*  DO;                                                          02S0044
*    SAVSIOTP = SIOTPTR;               /*SAVE CURRENT SIOT ADDRESS   */
         LR    SAVSIOTP,SIOTPTR                                 02S0045
*    SIOTPTR = SIOT1P;                 /*SEARCH FOR REF SIOT         */
         L     @10,@PC00001                                     02S0046
         L     @10,ALCWAPTR(,@10)                               02S0046
         L     SIOTPTR,SIOT1P(,@10)                             02S0046
*    DO WHILE(SIOTPTR ^= ZERO & SCTDDINO ^= SAVSIOTP -> SIOTREFN);
         B     @DE00047                                         02S0047
@DL00047 DS    0H                                               02S0048
*      SIOTPTR = SIOTNPTR;             /*NEXT SIOT ON CHAIN          */
         L     SIOTPTR,SIOTNPTR(,SIOTPTR)                       02S0048
*    END;                                                       02S0049
@DE00047 LTR   SIOTPTR,SIOTPTR                                  02S0049
         BZ    @DC00047                                         02S0049
         CLC   SCTDDINO(2,SIOTPTR),SIOTREFN(SAVSIOTP)           02S0049
         BNE   @DL00047                                         02S0049
@DC00047 DS    0H                                               02S0050
*    IF SIOTPTR ^= ZERO THEN           /*FOUND REF SIOT              */
         LTR   SIOTPTR,SIOTPTR                                  02S0050
         BZ    @RF00050                                         02S0050
*      DO;                                                      02S0051
*        UCBPTR = SIOUCBAD;            /*PICK UP VAM UCB ADDR        */
         SLR   @10,@10                                          02S0052
         ICM   @10,7,SIOUCBAD(SIOTPTR)                          02S0052
         ST    @10,UCBPTR                                       02S0052
*        SAVSIOTP -> SCTUTYPE = SCTUTYPE; /*COPY DEVTYPE             */
         MVC   SCTUTYPE(8,SAVSIOTP),SCTUTYPE(SIOTPTR)           02S0053
*        SIOTPTR = SAVSIOTP;           /*RESTORE CURRENT SIOT ADDRESS*/
         LR    SIOTPTR,SAVSIOTP                                 02S0054
*      END;                                                     02S0055
*  END;                                                         02S0056
*ELSE                                                           02S0057
*  UCBPTR = SIOUCBAD;                  /*SET UCB ADDR                */
         B     @RC00043                                         02S0057
@RF00043 SLR   @10,@10                                          02S0057
         ICM   @10,7,SIOUCBAD(SIOTPTR)                          02S0057
         ST    @10,UCBPTR                                       02S0057
*        END;                                                   01S0058
*      ELSE                            /*NEW, VAM UCB DOESN'T EXIST  */
*        DO;                                                    01S0059
         B     @RC00041                                         01S0059
@RF00041 DS    0H                                               01S0060
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - GETDEVT                                           */
*/*                                                                  */
*/* DESCRIPTIVE NAME - GET DEVICE TYPE FROM EDT                      */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     SEARCH THE EDT FOR A MATCH ON LOOK-UP-VALUE AND SCTUTYPE     */
*/*     & COPY THE CORRESPONDING FIRST DA GENERIC DEVICE TYPE INTO   */
*/*     THE SIOT (SCTUTYPE).                                         */
*/*                                                                  */
*/*   OPERATION - DOCUMENTED BY THE CODE.                            */
*/*                                                                  */
*/* ENTRY -  INLINE SUBROUTINE                                       */
*/*                                                                  */
*/*  PURPOSE - SEE FUNCTION                                          */
*/*                                                                  */
*/*  INPUT -                                                         */
*/*     SIOTPTR - ADDR OF SIOT                                       */
*/*       SCTUTYPE - LOOK -UP- VALUE FOR EDT                         */
*/*       EDTABPTR - POINTER TO EDT                                  */
*/*                                                                  */
*/* EXIT -NORMAL - (INLINE SUBROUTINE)                               */
*/*   CONDITIONS - DEVICE TYPE FOUND IN EDT                          */
*/*                                                                  */
*/*   OUTPUT  - DEVICE TYPE IN SIOT (SCTUTYPE)                       */
*/*                                                                  */
*/*   RETURN CODES - NONE                                            */
*/*                                                                  */
*/********************************************************************/
*RFY EDTHDR BASED(EDTABPTR);           /*BASED ON PTR IN ALCWA       */
*LUVPTR = EDTLUVSP + LENGTH(LUVHDR);   /*GET FIRST EDT ENTRY         */
         L     @10,@PC00001                                     02S0061
         L     @10,ALCWAPTR(,@10)                               02S0061
         L     @10,EDTABPTR(,@10)                               02S0061
         LA    LUVPTR,8                                         02S0061
         AL    LUVPTR,EDTLUVSP(,@10)                            02S0061
*DO WHILE (SCTUTYPE(1:4) ^= LUVALUE);  /*SEARCH FOR EDT ENTRY        */
         B     @DE00062                                         02S0062
@DL00062 DS    0H                                               02S0063
*  LUVPTR = LUVPTR + LENGTH(LUVENTRY); /*UPDATE LOOK-UP VALUE PTR    */
         AH    LUVPTR,@CH00544                                  02S0063
*END;                                                           02S0064
@DE00062 CLC   SCTUTYPE(4,SIOTPTR),LUVALUE(LUVPTR)              02S0064
         BNE   @DL00062                                         02S0064
*GENPTR = LUVGENP;                     /*PTR TO 1ST GENERIC ENTRY    */
         L     GENPTR,LUVGENP(,LUVPTR)                          02S0065
*GENDASW = OFF;                        /*INIT LOOP CONTROL SWITCH    */
         NI    GENDASW,B'01111111'                              02S0066
*DO GENCTR = ONE TO LUVGENNO WHILE(GENDASW=OFF); /*SCAN GENERIC ENTS */
         LA    GENCTR,1                                         02S0067
         B     @DE00067                                         02S0067
@DL00067 TM    GENDASW,B'10000000'                              02S0067
         BNZ   @DC00067                                         02S0067
*  IF GENDEVT(3) = DATYPE THEN         /*DIRECT ACCESS GENERIC       */
         CLC   GENDEVT+2(1,GENPTR),DATYPE                       02S0068
         BNE   @RF00068                                         02S0068
*    DO;                                                        02S0069
*      SCTUTYPE(1:4) = GENDEVT;        /*PLACE GENERIC TYPE IN SIOT  */
         MVC   SCTUTYPE(4,SIOTPTR),GENDEVT(GENPTR)              02S0070
*      GENDASW = ON;                   /*EXIT LOOP                   */
         OI    GENDASW,B'10000000'                              02S0071
*    END;                                                       02S0072
*  ELSE                                /*NOT DIRECT ACCESS GENERIC   */
*    GENPTR = GENPTR + LENGTH(GENENTRY); /*POINT TO NEXT GENERIC ENT */
         B     @RC00068                                         02S0073
@RF00068 AH    GENPTR,@CH00794                                  02S0073
*END;                                                           02S0074
@RC00068 AH    GENCTR,@CH00050                                  02S0074
@DE00067 C     GENCTR,LUVGENNO(,LUVPTR)                         02S0074
         BNH   @DL00067                                         02S0074
@DC00067 DS    0H                                               02S0075
*          JFCBPTR = SJFCBPTR;         /*GET JFCB PTR FROM CURR SIOT */
         L     JFCBPTR,SJFCBPTR(,SIOTPTR)                       01S0075
*          IF JFCBSPAC = NOSPACE &                              01S0076
*             JFCBABST = ZERO THEN     /*NO SPACE PARM               */
         TM    JFCBSPAC(JFCBPTR),B'11000000'                    01S0076
         BNZ   @RF00076                                         01S0076
         ICM   @10,3,JFCBABST(JFCBPTR)                          01S0076
         BNZ   @RF00076                                         01S0076
*            DO;                                                01S0077
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - VAMSPACE                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - SET DEFAULT SPACE PARMS FOR VAM DATA SETS     */
*/*                                                                  */
*/* FUNCTION                                                         */
*/*     THIS ROUTINE SETS THE DEFAULT SPACE PARAMETERS FOR NEW VAM   */
*/*     DATA SETS WHEN NO SPACE PARAMETER HAS BEEN GIVEN. IT GETS    */
*/*     THE PARAMETER FROM CSECT IEFAB445, DEFAULT SPACE CSECT       */
*/*     WHICH IS MAPPED BY THE MACRO IEFZB445.                       */
*/*                                                                  */
*/*   OPERATION - DOCUMENTED BY THE CODE                             */
*/*                                                                  */
*/* ENTRY - INLINE SUBROUTINE                                        */
*/*                                                                  */
*/*   PURPOSE - SEE FUNCTION                                         */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*     JFCBPTR - ADDRESS OF THE JFCB                                */
*/*                                                                  */
*/* EXIT - NORMAL - INLINE SUBROUTINE                                */
*/*   CONDITIONS - SPACE DEFAULT DONE                                */
*/*                                                                  */
*/*   OUTPUT - JFCB UPDATED WITH DEFAULT SPACE VALUES                */
*/*                                                                  */
*/*   RETURN CODES - NONE                                            */
*/*                                                                  */
*/********************************************************************/
*JFCBPQTY = DEFPQTY;                   /* PRIMARY QTY                */
         L     @10,@CA00671                                     02S0078
         MVC   JFCBPQTY(3,JFCBPTR),DEFPQTY-IEFAB445(@10)        02S0078
*JFCBSQTY = DEFSQTY;                   /* SECONDARY QTY              */
         MVC   JFCBSQTY(3,JFCBPTR),DEFSQTY-IEFAB445(@10)        02S0079
*JFCBDRLH = DEFDRLH;                   /* AVG RECORD LENGTH          */
         MVC   JFCBDRLH(3,JFCBPTR),DEFDRLH-IEFAB445(@10)        02S0080
*JFCBDQTY = DEFDQTY;                   /* DIRECTORY QUANTITY         */
         MVC   JFCBDQTY(3,JFCBPTR),DEFDQTY-IEFAB445(@10)        02S0081
*IF DEFTRK = ON THEN                   /* SPACE IN TRKS              */
         TM    DEFTRK-IEFAB445(@10),B'10000000'                 02S0082
         BNO   @RF00082                                         02S0082
*  JFCBSPAC= '10'B;                                             02S0083
         NI    JFCBSPAC(JFCBPTR),B'10111111'                    02S0083
         OI    JFCBSPAC(JFCBPTR),B'10000000'                    02S0083
*IF DEFCYL = ON THEN                   /* SPACE IN CYLINDERS         */
@RF00082 L     @10,@CA00671                                     02S0084
         TM    DEFCYL-IEFAB445(@10),B'01000000'                 02S0084
         BNO   @RF00084                                         02S0084
*  JFCBSPAC = '11'B;                                            02S0085
         OI    JFCBSPAC(JFCBPTR),B'11000000'                    02S0085
*IF DEFBLKLN = ON THEN                 /* SPACE IN AVG RECORD LENGTH */
@RF00084 L     @10,@CA00671                                     02S0086
         TM    DEFBLKLN-IEFAB445(@10),B'00100000'               02S0086
         BNO   @RF00086                                         02S0086
*  JFCBSPAC = '01'B;                                            02S0087
         NI    JFCBSPAC(JFCBPTR),B'01111111'                    02S0087
         OI    JFCBSPAC(JFCBPTR),B'01000000'                    02S0087
*IF DEFRLSE = ON THEN                  /* RLSE SPECIFIED             */
@RF00086 L     @10,@CA00671                                     02S0088
         TM    DEFRLSE-IEFAB445(@10),B'00010000'                02S0088
         BNO   @RF00088                                         02S0088
*   JFCRLSE = RLSE;                                             02S0089
         OI    JFCRLSE(JFCBPTR),B'11000000'                     02S0089
*IF DEFCONTG = ON THEN                 /* CONTIG SPECIFIED           */
@RF00088 L     @10,@CA00671                                     02S0090
         TM    DEFCONTG-IEFAB445(@10),B'00001000'               02S0090
         BNO   @RF00090                                         02S0090
*  JFCONTIG =ON;                                                02S0091
         OI    JFCONTIG(JFCBPTR),B'00001000'                    02S0091
*IF DEFMIXG = ON THEN                  /* MXIG SPECIFIED             */
@RF00090 L     @10,@CA00671                                     02S0092
         TM    DEFMIXG-IEFAB445(@10),B'00000100'                02S0092
         BNO   @RF00092                                         02S0092
*  JFCMIXG =ON;                                                 02S0093
         OI    JFCMIXG(JFCBPTR),B'00000100'                     02S0093
*IF DEFALX = ON THEN                   /* ALX  SPECIFIED             */
@RF00092 L     @10,@CA00671                                     02S0094
         TM    DEFALX-IEFAB445(@10),B'00000010'                 02S0094
         BNO   @RF00094                                         02S0094
*  JFCALX = ON;                                                 02S0095
         OI    JFCALX(JFCBPTR),B'00000010'                      02S0095
*IF DEFROUND = ON THEN                 /* ROUND SPECIFIED            */
@RF00094 L     @10,@CA00671                                     02S0096
         TM    DEFROUND-IEFAB445(@10),B'00000001'               02S0096
         BNO   @RF00096                                         02S0096
*  JFCROUND = ON;                                               02S0097
         OI    JFCROUND(JFCBPTR),B'00000001'                    02S0097
*            END;                                               01S0098
*          ELSE;                                                01S0099
@RF00076 DS    0H                                               01S0100
*/*                                                                  */
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - VAMDADSM                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - ISSUE DADSM FOR VAM DATA SET                  */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     SET UP INTERFACE AND ISSUE SVC 32 FOR NEW VAM DATA SETS. SET */
*/*     RETURN UCB ADDRESS INTO SIOT.                                */
*/*   OPERATION - DOCUMENTED BY THE CODE                             */
*/*                                                                  */
*/* ENTRY - INLINE SUBROUTINE                                        */
*/*                                                                  */
*/*   PURPOSE - SEE FUNCTION                                         */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*     JFCBPTR - ADDRESS OF JFCB                                    */
*/*     SIOTPTR - ADDRESS OF SIOT                                    */
*/*                                                                  */
*/* EXIT - NORMAL - INLINE SUBROUTINE                                */
*/*                                                                  */
*/*   CONDITIONS - DADSM ISSUED WITH SUCCESSFUL RETURN               */
*/*                                                                  */
*/*   OUTPUT - UCB ADDRESS UCBPTR                                    */
*/*                                                                  */
*/*   RETURN CODES - NONE                                            */
*/*                                                                  */
*/* EXIT - ERROR   - INLINE SUBROUTINE                               */
*/*                                                                  */
*/*   CONDITIONS   - ERROR FROM DADSM                                */
*/*                                                                  */
*/*   OUTPUT       - SIOTRSNC SET FROM LIST OF DADSM ERRORS          */
*/*                                                                  */
*/*   RETURN CODES - 4 IN RETCODE                                    */
*/*                                                                  */
*/********************************************************************/
*JFCBNVOL = ONE;                                                02S0100
@RC00076 MVI   JFCBNVOL(JFCBPTR),X'01'                          02S0100
*DADSPARM = SCTUTYPE(1:4);             /*DEVICE TYPE FOR DADSM       */
         MVC   DADSPARM(4),SCTUTYPE(SIOTPTR)                    02S0101
*RFY (REG0,REG1) RSTD;                                          02S0102
*REG0 = JFCBPTR;                       /*PTR TO JFCB -> REG0         */
         LR    REG0,JFCBPTR                                     02S0103
*REG1 = ADDR(DADSPARM);                /*PTR TO DEVICE TYPE -> REG1  */
         LA    REG1,DADSPARM                                    02S0104
*GEN (SVC 32);                         /*DADSM SVC                   */
         SVC 32
*RETCODE = REG15;                      /*SAVE DADSM RETURN CODE      */
         LR    RETCODE,REG15                                    02S0106
*IF RETCODE ^= ZERO THEN               /*DADSM ERROR                 */
         LTR   RETCODE,RETCODE                                  02S0107
         BZ    @RF00107                                         02S0107
*  DO;                                                          02S0108
*    SIOTRSNC = ERORCODE(RETCODE/FOUR); /*SET REASON CODE            */
         LA    @10,4                                            02S0109
         LR    @02,RETCODE                                      02S0109
         SRDA  @02,32                                           02S0109
         DR    @02,@10                                          02S0109
         ALR   @03,@03                                          02S0109
         LH    @15,ERORCODE-2(@03)                              02S0109
         STH   @15,SIOTRSNC(,SIOTPTR)                           02S0109
*    RETCODE = FOUR;                   /*SET RETURN CODE             */
         LR    RETCODE,@10                                      02S0110
*  END;                                                         02S0111
*ELSE                                  /*NO DADSM ERROR              */
*  DO;                                                          02S0112
         B     @RC00107                                         02S0112
@RF00107 DS    0H                                               02S0113
*    UCBPTR = DADSPARM;                /*VAM UCB ADDR RETURNED       */
         MVC   UCBPTR(4),DADSPARM                               02S0113
*    SIODADSM = ON;                    /*DADSM SUCCESSFUL            */
         OI    SIODADSM(SIOTPTR),B'00000100'                    02S0114
*    RFY (REG0,REG1) UNRSTD;                                    02S0115
*  END;                                                         02S0116
*        END;                                                   01S0117
@RC00107 DS    0H                                               01S0118
*      IF RETCODE = ZERO THEN          /*ANY ERRORS?                 */
@RC00041 SLR   @10,@10                                          01S0118
         CR    RETCODE,@10                                      01S0118
         BNE   @RF00118                                         01S0118
*        DO;                                                    01S0119
*          SIOUCBAD = UCBPTR;          /*UCB TO SIOT                 */
         L     @15,UCBPTR                                       01S0120
         STCM  @15,7,SIOUCBAD(SIOTPTR)                          01S0120
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - BLDTIOT                                           */
*/*                                                                  */
*/* DESCRIPTIVE NAME - BUILD TIOT ENTRY FOR VAM DATA SETS            */
*/*                                                                  */
*/* FUNCTION - TO BUILD A TIOT ENTRY AND DSAB. IT DOES THIS BY       */
*/*            INVOKING IEFAB428(ETIOT BUILD ROUTINE).               */
*/*                                                                  */
*/*   OPERATION - DOCUMENTED IN THE CODE                             */
*/*                                                                  */
*/* ENTRY - INLINE SUBROUTINE                                        */
*/*                                                                  */
*/*   PURPOSE - SEE FUNCTION                                         */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*     ALCWAPTR  - ADDRESS OF ALCWA                                 */
*/*     SIOTPTR   - ADDRESS OF SIOT                                  */
*/*                                                                  */
*/* EXIT - NORMAL - INLINE SUBROUTINE                                */
*/*                                                                  */
*/*   CONDITIONS - DSAB/TIOT BUILT                                   */
*/*                                                                  */
*/*   OUTPUT - DSAB/TIOT BUILT                                       */
*/*                                                                  */
*/*   RETURN CODES - ZERO                                            */
*/*                                                                  */
*/* EXIT - ERROR - INLINE SUBROUTINE                                 */
*/*                                                                  */
*/*   CONDITIONS - GETMAIN ERROR IN IEFAB428                         */
*/*                                                                  */
*/*   OUTPUT - STEP RELATED REASON CODE SET(FAILRSC) FROM TIOT       */
*/*            BUILD REQUEST BLOCK                                   */
*/*                                                                  */
*/*   RETURN CODES - RETCODE SET TO RETURN CODE FROM IEFAB428        */
*/*                                                                  */
*/********************************************************************/
*RETCODE = ZERO;                       /*INIT RETURN CODE            */
         LR    RETCODE,@10                                      02S0121
*EREQPTR = ADDR(EREQCORE);             /*ADDR OF IEFAB428 PARMS      */
         LA    @10,EREQCORE                                     02S0122
         ST    @10,EREQPTR                                      02S0122
*ETIOTREQ = ETIOTREQ && ETIOTREQ;      /*ZERO PARM BLOCK             */
         XC    ETIOTREQ(42,@10),ETIOTREQ(@10)                   02S0123
*EREQBLD = ON;                         /*INDICATE BUILD ENTRY        */
         OI    EREQBLD(@10),B'10000000'                         02S0124
*EREQDDNM = SCTDDNAM;                  /*DDNAME FROM SIOT            */
         MVC   EREQDDNM(8,@10),SCTDDNAM(SIOTPTR)                02S0125
*EREQDEVS = ONE;                       /*NUMBER OF DEVICES = 1       */
         LA    @07,1                                            02S0126
         STH   @07,EREQDEVS(,@10)                               02S0126
*EREQUCB = UCBPTR;                     /*UCB ADDRESS                 */
         ST    @15,EREQUCB(,@10)                                02S0127
*EREQRPOS = ONE;                       /*FIRST POSITION              */
         STH   @07,EREQRPOS(,@10)                               02S0128
*EREQSIOT = SIOTPTR;                   /*SIOT ADDR                   */
         ST    SIOTPTR,EREQSIOT(,@10)                           02S0129
*EREQJSVA = SCTPJFCB;                  /*JFCB SVA                    */
         MVC   EREQJSVA(3,@10),SCTPJFCB(SIOTPTR)                02S0130
*EREQSSVA = SIOTDSKA;                  /*SIOT SVA                    */
         MVC   EREQSSVA(3,@10),SIOTDSKA(SIOTPTR)                02S0131
*EREQJSCB = JSCBPTR;                   /*JSCB ADDR FROM ALCWA        */
         L     @07,@PC00001                                     02S0132
         L     @07,ALCWAPTR(,@07)                               02S0132
         MVC   EREQJSCB(4,@10),JSCBPTR(@07)                     02S0132
*IF SIOTPASS = ON THEN                 /*DISP = PASS                 */
         TM    SIOTPASS(SIOTPTR),B'00010000'                    02S0133
         BNO   @RF00133                                         02S0133
*  EREQPASS = ON;                                               02S0134
         OI    EREQPASS(@10),B'00001000'                        02S0134
*IF SIOCLUNL = ON THEN                 /*UNALLOCATE AT CLOSE         */
@RF00133 TM    SIOCLUNL(SIOTPTR),B'10000000'                    02S0135
         BNO   @RF00135                                         02S0135
*  EREQUNAL = ON;                                               02S0136
         L     @10,EREQPTR                                      02S0136
         OI    EREQUNAL(@10),B'00010000'                        02S0136
*CALL IEFAB428(EREQPTR,JSCBPTR,EXITPRMP); /*BUILD DSAB & TIOT ENTRY  */
@RF00135 LA    @10,EREQPTR                                      02S0137
         ST    @10,@AL00001                                     02S0137
         L     @10,@PC00001                                     02S0137
         L     @10,ALCWAPTR(,@10)                               02S0137
         LA    @15,JSCBPTR(,@10)                                02S0137
         ST    @15,@AL00001+4                                   02S0137
         LA    @10,EXITPRMP(,@10)                               02S0137
         ST    @10,@AL00001+8                                   02S0137
         L     @15,@CV00073                                     02S0137
         LA    @01,@AL00001                                     02S0137
         BALR  @14,@15                                          02S0137
*RETCODE = REG15;                      /*SAVE RETURN CODE            */
         LR    RETCODE,REG15                                    02S0138
*IF RETCODE ^= ZERO THEN               /*ERROR OCCURED               */
         LTR   RETCODE,RETCODE                                  02S0139
         BZ    @RF00139                                         02S0139
*  FAILRSC = EREQCODE;                 /*SET STEP ERROR              */
         L     @10,@PC00001                                     02S0140
         L     @10,ALCWAPTR(,@10)                               02S0140
         L     @10,FAILRSCP(,@10)                               02S0140
         L     @01,EREQPTR                                      02S0140
         MVC   FAILRSC(2,@10),EREQCODE(@01)                     02S0140
*        END;                                                   01S0141
@RF00139 DS    0H                                               01S0142
*      IF RETCODE = ZERO THEN          /*ANY ERRORS?                 */
@RF00118 LTR   RETCODE,RETCODE                                  01S0142
         BNZ   @RF00142                                         01S0142
*        DO;                                                    01S0143
*          SIOTALCD = ON;              /*ALLOCATED                   */
         OI    SIOTALCD(SIOTPTR),B'00000010'                    01S0144
*          SIOTETIO -> DSABVAM = ON;   /*VAM IN DSAB                 */
         L     @10,SIOTETIO(,SIOTPTR)                           01S0145
         OI    DSABVAM(@10),B'00100000'                         01S0145
*          VAMREQS = VAMREQS - ONE;    /*DECREMENT # OF VAM REQUESTS */
         L     @10,@PC00001                                     01S0146
         L     @10,ALCWAPTR(,@10)                               01S0146
         L     @15,VAMREQS(,@10)                                01S0146
         BCTR  @15,0                                            01S0146
         ST    @15,VAMREQS(,@10)                                01S0146
*          TOTREQS = TOTREQS - ONE;    /*DECREMENT # SIOTS TO ALLOC  */
         L     @15,TOTREQS(,@10)                                01S0147
         BCTR  @15,0                                            01S0147
         ST    @15,TOTREQS(,@10)                                01S0147
*        END;                                                   01S0148
*    END;                                                       01S0149
@RF00142 DS    0H                                               01S0150
*  SIOTPTR = SIOTNPTR;                 /*NEXT SIOT                   */
@RF00039 L     SIOTPTR,SIOTNPTR(,SIOTPTR)                       01S0150
*END;                                                           01S0151
@DE00038 SLR   @10,@10                                          01S0151
         L     @15,@PC00001                                     01S0151
         L     @01,ALCWAPTR(,@15)                               01S0151
         C     @10,VAMREQS(,@01)                                01S0151
         BE    @DC00038                                         01S0151
         CR    RETCODE,@10                                      01S0151
         BE    @DL00038                                         01S0151
@DC00038 DS    0H                                               01S0152
*RETURN CODE(RETCODE);                                          01S0152
         IC    @02,@OLDKEY                                      01S0152
         L     @13,4(,@13)                                      01S0152
         L     @00,@SIZDATD                                     01S0152
         LR    @01,@11                                          01S0152
         FSPACE   R,LV=(0),A=(1)
         MODESET KEYADDR=(2)
         LR    @15,@07                                          01S0152
         L     @14,12(,@13)                                     01S0152
         LM    @00,@12,20(@13)                                  01S0152
         BR    @14                                              01S0152
*END IEFAB431                                                   01S0153
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      *
*/*%INCLUDE SYSLIB  (A431SPEC)                                        *
*/*%INCLUDE SYSLIB  (A431DATA)                                        *
*/*%INCLUDE SYSLIB  (IEFASIOT)                                        *
*/*%INCLUDE SYSLIB  (IEFJFCBN)                                        *
*/*%INCLUDE SYSLIB  (IEFZB421)                                        *
*/*%INCLUDE SYSLIB  (IEFZB425)                                        *
*/*%INCLUDE SYSLIB  (IEFZB430)                                        *
*/*%INCLUDE SYSLIB  (IEFZB445)                                        *
*/*%INCLUDE SYSLIB  (IEFZB448)                                        *
*/*%INCLUDE SYSLIB  (IHADSAB )                                        *
*/*%INCLUDE SYSLIB  (GETUCB  )                                        *
*/*%INCLUDE SYSLIB  (GETUSPEC)                                        *
*/*%INCLUDE SYSLIB  (GETDEVT )                                        *
*/*%INCLUDE SYSLIB  (GETDSPEC)                                        *
*/*%INCLUDE SYSLIB  (VAMSPACE)                                        *
*/*%INCLUDE SYSLIB  (VAMSSPEC)                                        *
*/*%INCLUDE SYSLIB  (VAMDADSM)                                        *
*/*%INCLUDE SYSLIB  (VAMDSPEC)                                        *
*/*%INCLUDE SYSLIB  (BLDTIOT )                                        *
*/*%INCLUDE SYSLIB  (BLTISPEC)                                        *
*;                                                              01S0153
@DATA    DS    0H
@CH00050 DC    H'1'
@CH00794 DC    H'12'
@CH00544 DC    H'32'
@DATD    DSECT
         DS    0F
@SA00001 DS    18F
@PC00001 DS    1F
@AL00001 DS    3A
IEFAB431 CSECT
         DS    0F
@DATD    DSECT
         DS    0D
DADSPARM DS    A
EREQPTR  DS    A
UCBPTR   DS    A
EDTPTR   DS    A
GRPTABP  DS    A
GRPPTR   DS    A
DSABPTR  DS    A
GENDASW  DS    BL1
         DS    CL3
EREQCORE DS    CL42
@OLDKEY  DS    AL1
IEFAB431 CSECT
         DS    0F
@SIZDATD DC    AL1(230)
         DC    AL3(@ENDDATD-@DATD)
@CV00073 DC    V(IEFAB428)
@CA00671 DC    A(IEFAB445)
         DS    0D
DATYPE   DC    X'20'
         DS    CL1
ERORCODE DC    H'22'
         DC    H'23'
         DC    H'24'
         DC    H'25'
         DC    H'26'
         DC    H'27'
         DC    H'28'
         DC    H'29'
         DC    H'30'
         DC    H'31'
         DC    H'32'
         DC    H'0'
         DC    H'33'
         DC    H'34'
         DC    H'35'
         DC    H'36'
         DC    H'0'
         DC    H'0'
         DC    H'38'
         DC    H'39'
         DC    H'40'
         DC    H'41'
         DC    H'42'
         DC    H'43'
         DC    H'44'
         DC    H'45'
         DC    H'46'
         DC    H'47'
         DC    H'0'
         DC    H'0'
         DC    H'0'
         DC    H'48'
         DC    H'49'
         DC    H'0'
         DC    H'50'
         DC    H'51'
         DC    H'61'
         DC    H'62'
         DC    H'63'
         DC    H'64'
         DC    H'69'
IEFAB431 CSECT
         DS   0H
A431PTCH DC (50)X'00'
@DATD    DSECT
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IEFAB431 CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
RETCODE  EQU   @07
GENCTR   EQU   @04
SIOTPTR  EQU   @06
SAVSIOTP EQU   @02
LUVPTR   EQU   @02
JFCBPTR  EQU   @02
GENPTR   EQU   @03
REG0     EQU   @00
REG1     EQU   @01
REG15    EQU   @15
         EXTRN IEFAB445
FAILRSC  EQU   0
INDMSIOT EQU   0
SIOTDSKA EQU   INDMSIOT
SCTDDNAM EQU   INDMSIOT+4
SCTUSADD EQU   INDMSIOT+20
SCTPJFCB EQU   INDMSIOT+32
SIOTREFN EQU   INDMSIOT+40
SIOTBYT1 EQU   INDMSIOT+43
SIOVAMDS EQU   SIOTBYT1
SIODADSM EQU   SIOTBYT1
SIOTALCD EQU   SIOTBYT1
SCTDDINO EQU   INDMSIOT+44
SIOTBYT3 EQU   INDMSIOT+46
SIOTTSTC EQU   INDMSIOT+47
SIOTBYT0 EQU   INDMSIOT+52
SCTSDISP EQU   INDMSIOT+55
SIOTPASS EQU   SCTSDISP
SCTSBYT1 EQU   INDMSIOT+56
SCTSBYT2 EQU   INDMSIOT+57
SIOCLUNL EQU   SCTSBYT2
SCTSBYT3 EQU   INDMSIOT+58
SCTSNEW  EQU   SCTSBYT3
SCTSBYT4 EQU   INDMSIOT+59
SCTUTYPE EQU   INDMSIOT+60
SIOTDEVT EQU   SCTUTYPE
SIOUBYT3 EQU   SIOTDEVT+2
SIOUCBAD EQU   SCTUTYPE+5
SIOTALTD EQU   INDMSIOT+92
SIOTBYT2 EQU   INDMSIOT+103
SIOTRSNC EQU   INDMSIOT+130
SIOTETIO EQU   INDMSIOT+148
SIOTNPTR EQU   INDMSIOT+152
SJFCBPTR EQU   INDMSIOT+156
INFMJFCB EQU   0
JFCBDSNM EQU   INFMJFCB
JFCBELNM EQU   INFMJFCB+44
JFCBTSDM EQU   INFMJFCB+52
JFCFCBID EQU   INFMJFCB+56
JFCBFRID EQU   JFCFCBID
JFCBLTYP EQU   INFMJFCB+66
JFCBOTTR EQU   INFMJFCB+67
JFCBUFOF EQU   JFCBOTTR
JFCBFLSQ EQU   JFCBOTTR+1
JFCFUNC  EQU   JFCBFLSQ
JFCBMASK EQU   INFMJFCB+72
JFCBFLG1 EQU   JFCBMASK+5
JFCOPEN  EQU   JFCBFLG1
JFCBFLG2 EQU   JFCBMASK+6
JFCDEFER EQU   JFCBFLG2
JFCBIND1 EQU   INFMJFCB+86
JFCRLSE  EQU   JFCBIND1
JFCBIND2 EQU   INFMJFCB+87
JFCAMPTR EQU   INFMJFCB+88
JFCBUFRQ EQU   JFCAMPTR
JFCBUFNO EQU   JFCBUFRQ
JFCBGNCP EQU   JFCAMPTR+1
JFCBHIAR EQU   JFCBGNCP
JFCBFALN EQU   JFCBHIAR
JFCBFTEK EQU   JFCBFALN
JFCBBFTA EQU   JFCBFTEK
JFCEROPT EQU   INFMJFCB+92
JFCTRTCH EQU   INFMJFCB+93
EDTHDR   EQU   0
EDTLUVSP EQU   EDTHDR
EDTGENSP EQU   EDTHDR+4
EDTGRPSP EQU   EDTHDR+8
EDTUCBSP EQU   EDTHDR+12
EDTMSKTP EQU   EDTHDR+16
LUVSECT  EQU   0
LUVHDR   EQU   LUVSECT
LUVENTRY EQU   0
LUVALUE  EQU   LUVENTRY+8
LUVGMTP  EQU   LUVENTRY+12
LUVGENNO EQU   LUVENTRY+16
LUVGENP  EQU   LUVENTRY+20
LUVFLAGS EQU   LUVENTRY+24
GENSECT  EQU   0
GENHDR   EQU   GENSECT
GENENTRY EQU   0
GENDEVT  EQU   GENENTRY
GRPTRTAB EQU   0
GRPSECT  EQU   0
GRPHDR   EQU   GRPSECT
GRPENTRY EQU   0
GRPUCBP  EQU   GRPENTRY+8
EUCBSECT EQU   0
EUCBHDR  EQU   EUCBSECT
EUCBENTY EQU   0
GRMSKTAB EQU   0
GMTHDR   EQU   GRMSKTAB
GMTENTRY EQU   0
ALCWA    EQU   0
SIOT1P   EQU   ALCWA+8
JSCBPTR  EQU   ALCWA+12
FAILRSCP EQU   ALCWA+20
EDTABPTR EQU   ALCWA+24
CNTABLE  EQU   ALCWA+28
VAMREQS  EQU   CNTABLE+4
TOTREQS  EQU   CNTABLE+36
INDICATE EQU   ALCWA+112
@NM00023 EQU   ALCWA+113
TIOTHDRP EQU   ALCWA+120
EXITPRMP EQU   ALCWA+144
NAMES    EQU   0
ETIOTREQ EQU   0
EREQMAP  EQU   ETIOTREQ
EREQBLD  EQU   EREQMAP
EREQSTAT EQU   ETIOTREQ+2
EREQUNAL EQU   EREQSTAT
EREQPASS EQU   EREQSTAT
EREQDDNM EQU   ETIOTREQ+4
EREQJSVA EQU   ETIOTREQ+12
EREQSSVA EQU   ETIOTREQ+16
EREQSIOT EQU   ETIOTREQ+20
EREQUCB  EQU   ETIOTREQ+24
EREQRPOS EQU   ETIOTREQ+28
EREQDEVS EQU   ETIOTREQ+30
EREQJSCB EQU   ETIOTREQ+36
EREQCODE EQU   ETIOTREQ+40
DSAB     EQU   0
DSABGIDP EQU   DSAB+24
DSABANMP EQU   DSAB+28
DSABORG  EQU   DSAB+32
DSABORG1 EQU   DSABORG
DSABORG2 EQU   DSABORG+1
DSABFLG1 EQU   DSAB+34
DSABFLG2 EQU   DSAB+35
DSABFLG3 EQU   DSAB+36
DSABVAM  EQU   DSABFLG3
DSABFLG4 EQU   DSAB+37
DSABANMI EQU   0
DSABGIDL EQU   0
DEFSPACE EQU   IEFAB445
DEFPQTY  EQU   DEFSPACE
DEFSQTY  EQU   DEFSPACE+3
DEFDRLH  EQU   DEFSPACE+6
DEFDQTY  EQU   DEFSPACE+9
@NM00029 EQU   DEFSPACE+12
DEFTRK   EQU   @NM00029
DEFCYL   EQU   @NM00029
DEFBLKLN EQU   @NM00029
DEFRLSE  EQU   @NM00029
DEFCONTG EQU   @NM00029
DEFMIXG  EQU   @NM00029
DEFALX   EQU   @NM00029
DEFROUND EQU   @NM00029
ALCWAPTR EQU   0
JFCKEYLE EQU   JFCTRTCH
JFCCODE  EQU   JFCKEYLE
JFCSTACK EQU   JFCTRTCH
JFCMODE  EQU   JFCSTACK
JFCSPPRT EQU   JFCTRTCH
JFCBABFS EQU   JFCSPPRT+2
JFCLIMCT EQU   JFCBABFS
JFCDSORG EQU   JFCSPPRT+5
JFCDSRG1 EQU   JFCDSORG
JFCDSRG2 EQU   JFCDSORG+1
JFCRECFM EQU   JFCSPPRT+7
JFCRCFM  EQU   JFCRECFM
JFCOPTCD EQU   JFCSPPRT+8
JFCWVCSP EQU   JFCOPTCD
JFCWVCIS EQU   JFCWVCSP
JFCWVCBD EQU   JFCWVCIS
JFCALLOW EQU   JFCOPTCD
JFCRSV17 EQU   JFCALLOW
JFCOVER  EQU   JFCRSV17
JFCPCIBT EQU   JFCOPTCD
JFCMAST  EQU   JFCPCIBT
JFCEXT   EQU   JFCMAST
JFCBCKPT EQU   JFCOPTCD
JFCIND   EQU   JFCBCKPT
JFCRSV18 EQU   JFCOPTCD
JFCCYL   EQU   JFCRSV18
JFCACT   EQU   JFCCYL
JFCREDUC EQU   JFCOPTCD
JFCRSV19 EQU   JFCREDUC
JFCRSV20 EQU   JFCRSV19
JFCRSV21 EQU   JFCOPTCD
JFCDEL   EQU   JFCRSV21
JFCRSV23 EQU   JFCOPTCD
JFCREORG EQU   JFCRSV23
JFCBLKSI EQU   JFCSPPRT+9
JFCBUFSI EQU   JFCBLKSI
JFCAMSYN EQU   JFCSPPRT+11
JFCNCP   EQU   JFCAMSYN+2
JFCNTM   EQU   JFCAMSYN+3
JFCBFSEQ EQU   JFCNTM
JFCPCI   EQU   JFCBFSEQ
JFCRESRV EQU   JFCAMSYN+4
JFCUCSEG EQU   JFCRESRV
JFCUCSOP EQU   JFCUCSEG+4
JFCOUTLI EQU   JFCUCSEG+5
JFCTHRSH EQU   JFCOUTLI
JFCCPRI  EQU   JFCTHRSH
JFCBNVOL EQU   JFCUCSEG+9
JFCBVOLS EQU   JFCUCSEG+10
JFCBPQTY EQU   JFCUCSEG+44
JFCBCTRI EQU   JFCUCSEG+47
JFCBSPAC EQU   JFCBCTRI
JFCONTIG EQU   JFCBCTRI
JFCMIXG  EQU   JFCBCTRI
JFCALX   EQU   JFCBCTRI
JFCROUND EQU   JFCBCTRI
JFCBSQTY EQU   JFCUCSEG+48
JFCBIND3 EQU   JFCBSQTY+2
JFCFLGS1 EQU   JFCUCSEG+51
JFCBDQTY EQU   JFCUCSEG+52
JFCBABST EQU   JFCUCSEG+58
JFCBDRLH EQU   JFCUCSEG+63
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
JFCBEND  EQU   JFCUCSEG+68
JFCBSPTN EQU   JFCUCSEG+67
JFCBVLCT EQU   JFCUCSEG+66
JFCBSBNM EQU   JFCUCSEG+60
JFCBSPNM EQU   JFCUCSEG+55
JFCBUAFF EQU   JFCFLGS1
JFCRSV45 EQU   JFCFLGS1
JFCVRDS  EQU   JFCFLGS1
JFCRSV43 EQU   JFCFLGS1
JFCRSV42 EQU   JFCFLGS1
JFCRSV41 EQU   JFCFLGS1
JFCTOPEN EQU   JFCFLGS1
JFCRSV39 EQU   JFCFLGS1
JFCRSV52 EQU   JFCBIND3
JFCRSV51 EQU   JFCBIND3
JFCRSV50 EQU   JFCBIND3
JFCRSV49 EQU   JFCBIND3
JFCRSV48 EQU   JFCBIND3
JFCRSV47 EQU   JFCBIND3
JFCRSV46 EQU   JFCBIND3
JFCBDLET EQU   JFCBIND3
JFCRQID  EQU   JFCBSQTY
JFCRSV29 EQU   JFCBCTRI
JFCRSV28 EQU   JFCBCTRI
JFCRUNIT EQU   JFCBPQTY
JFCBEXAD EQU   JFCUCSEG+41
JFCBEXTL EQU   JFCUCSEG+40
JFCAVOLS EQU   JFCBVOLS
JFCBNTCS EQU   JFCUCSEG+8
JFCSOWA  EQU   JFCOUTLI+1
JFCSEND  EQU   JFCCPRI
JFCEQUAL EQU   JFCCPRI
JFCRECV  EQU   JFCCPRI
JFCRSV34 EQU   JFCCPRI
JFCRSV33 EQU   JFCCPRI
JFCRSV55 EQU   JFCCPRI
JFCRSV54 EQU   JFCCPRI
JFCRSV53 EQU   JFCCPRI
JFCRSV27 EQU   JFCUCSOP
JFCRSV26 EQU   JFCUCSOP
JFCFCBVR EQU   JFCUCSOP
JFCFCBAL EQU   JFCUCSOP
JFCVER   EQU   JFCUCSOP
JFCRSV25 EQU   JFCUCSOP
JFCFOLD  EQU   JFCUCSOP
JFCRSV24 EQU   JFCUCSOP
JFCUCSID EQU   JFCUCSEG
JFCINTVL EQU   JFCSPPRT+19
JFCDBUFN EQU   JFCRESRV+3
JFCCYLOF EQU   JFCRESRV+2
JFCRKP   EQU   JFCRESRV
JFCPCIR2 EQU   JFCPCI
JFCPCIR1 EQU   JFCPCI
JFCPCIN2 EQU   JFCPCI
JFCPCIN1 EQU   JFCPCI
JFCPCIA2 EQU   JFCPCI
JFCPCIA1 EQU   JFCPCI
JFCPCIX2 EQU   JFCPCI
JFCPCIX1 EQU   JFCPCI
JFCBUFMX EQU   JFCNCP
JFCLRECL EQU   JFCAMSYN
JFCBAXBF EQU   JFCBUFSI
JFCREL   EQU   JFCREORG
JFCRSV22 EQU   JFCDEL
JFCSRCHD EQU   JFCRSV20
JFCOPTQ  EQU   JFCACT
JFCFEED  EQU   JFCIND
JFCCBWU  EQU   JFCEXT
JFCWUMSG EQU   JFCOVER
JFCSDNAM EQU   JFCWVCBD
@NM00020 EQU   JFCRECFM
JFCCHAR  EQU   JFCRECFM
JFCRFS   EQU   JFCRECFM
JFCRFB   EQU   JFCRECFM
JFCRFO   EQU   JFCRCFM
JFCFMREC EQU   JFCRCFM
JFCRSV16 EQU   JFCDSRG2
JFCRSV15 EQU   JFCDSRG2
JFCORGTR EQU   JFCDSRG2
JFCORGAM EQU   JFCDSRG2
JFCRSV13 EQU   JFCDSRG2
JFCORGTQ EQU   JFCDSRG2
JFCORGTX EQU   JFCDSRG2
JFCORGGS EQU   JFCDSRG2
JFCORGU  EQU   JFCDSRG1
JFCORGPO EQU   JFCDSRG1
JFCORGMQ EQU   JFCDSRG1
JFCORGCQ EQU   JFCDSRG1
JFCORGCX EQU   JFCDSRG1
JFCORGDA EQU   JFCDSRG1
JFCORGPS EQU   JFCDSRG1
JFCORGIS EQU   JFCDSRG1
JFCTRKBL EQU   JFCLIMCT+1
@NM00019 EQU   JFCLIMCT
JFCDEN   EQU   JFCSPPRT+1
JFCPRTSP EQU   JFCSPPRT
JFCONE   EQU   JFCMODE
JFCTWO   EQU   JFCMODE
JFCRSV07 EQU   JFCMODE
JFCRSV06 EQU   JFCMODE
JFCMODER EQU   JFCMODE
JFCMODEO EQU   JFCMODE
JFCEBCD  EQU   JFCMODE
JFCBIN   EQU   JFCMODE
JFCRSV32 EQU   JFCCODE
JFCTTY   EQU   JFCCODE
JFCASCII EQU   JFCCODE
JFCNCR   EQU   JFCCODE
JFCBUR   EQU   JFCCODE
JFCFRI   EQU   JFCCODE
JFCBCD   EQU   JFCCODE
JFCNOCON EQU   JFCCODE
DEFUNIT  EQU   IEFAB445+13
DSABGRID EQU   DSABGIDL+4
DSABLLEN EQU   DSABGIDL
DSABANAM EQU   DSABANMI+1
DSABANML EQU   DSABANMI
DSABRS04 EQU   DSAB+68
DSABSIOT EQU   DSAB+64
DSABRS03 EQU   DSAB+62
DSABDCBM EQU   DSAB+56
DSABSSCM EQU   DSAB+52
DSABSSNM EQU   DSAB+48
DSABPTTR EQU   DSAB+44
DSABTCBP EQU   DSAB+40
DSABRS02 EQU   DSAB+38
@NM00034 EQU   DSABFLG4
DSABCKSI EQU   DSABFLG4
DSABCKVL EQU   DSABFLG4
DSABCKDS EQU   DSABFLG4
@NM00033 EQU   DSABFLG3
DSABJSCT EQU   DSABFLG3
DSABCATL EQU   DSABFLG3
DSABVMSC EQU   DSABFLG3
DSABPASS EQU   DSABFLG3
DSABDEFR EQU   DSABFLG3
@NM00032 EQU   DSABFLG2
DSABUNAL EQU   DSABFLG2
DSABIRM  EQU   DSABFLG2
DSABOPEN EQU   DSABFLG2
DSABNUSE EQU   DSABFLG1
DSABCATM EQU   DSABFLG1
DSABPCAT EQU   DSABFLG1
DSABDCAT EQU   DSABFLG1
DSABCONV EQU   DSABFLG1
DSABDCNV EQU   DSABFLG1
DSABPALC EQU   DSABFLG1
DSABDALC EQU   DSABFLG1
@NM00031 EQU   DSABORG2
DSABTR   EQU   DSABORG2
DSABAM   EQU   DSABORG2
@NM00030 EQU   DSABORG2
DSABTQ   EQU   DSABORG2
DSABTX   EQU   DSABORG2
DSABGS   EQU   DSABORG2
DSABU    EQU   DSABORG1
DSABPO   EQU   DSABORG1
DSABMQ   EQU   DSABORG1
DSABCQ   EQU   DSABORG1
DSABCX   EQU   DSABORG1
DSABDA   EQU   DSABORG1
DSABPS   EQU   DSABORG1
DSABIS   EQU   DSABORG1
DSABSSVA EQU   DSAB+21
DSABRS01 EQU   DSAB+20
DSABTIOT EQU   DSAB+16
DSABOPCT EQU   DSAB+14
DSABLNTH EQU   DSAB+12
DSABBCHN EQU   DSAB+8
DSABFCHN EQU   DSAB+4
DSABID   EQU   DSAB
EREQGRID EQU   ETIOTREQ+32
@NM00028 EQU   ETIOTREQ+19
@NM00027 EQU   ETIOTREQ+15
@NM00026 EQU   EREQSTAT
EREQCATL EQU   EREQSTAT
EREQJSCT EQU   EREQSTAT
EREQVAM  EQU   EREQSTAT
EREQQNM  EQU   EREQSTAT
EREQTERM EQU   EREQSTAT
@NM00025 EQU   EREQMAP
EREQMOVE EQU   EREQMAP
EREQUPD  EQU   EREQMAP
ALCPROCN EQU   NAMES+16
ALCSTEPN EQU   NAMES+8
ALCJOBN  EQU   NAMES
CANCELP  EQU   ALCWA+140
WORK3MP  EQU   ALCWA+136
WMASK2P  EQU   ALCWA+132
WMASKPTR EQU   ALCWA+128
LGENLOCK EQU   ALCWA+124
TCBP     EQU   ALCWA+116
ALCWASID EQU   ALCWA+114
@NM00024 EQU   @NM00023
NODEVERR EQU   @NM00023
NEEDRCVY EQU   @NM00023
ALCWAREC EQU   @NM00023
WAITIGEN EQU   @NM00023
UNITRECS EQU   @NM00023
ALCWADUL EQU   INDICATE
ALCWISAM EQU   INDICATE
DSSUNIT  EQU   INDICATE
DSSTAPE  EQU   INDICATE
PRIVASUM EQU   INDICATE
INDREQU  EQU   INDICATE
INDRETRY EQU   INDICATE
INDWAIT  EQU   INDICATE
QMGRRBP  EQU   ALCWA+108
RIMTABCT EQU   ALCWA+104
RIMTABLN EQU   ALCWA+100
RIMTABP  EQU   ALCWA+96
ALGTABSZ EQU   ALCWA+92
ALGTABP  EQU   ALCWA+88
VOLUNSZE EQU   ALCWA+84
VOLUNPTR EQU   ALCWA+80
@NM00022 EQU   ALCWA+78
LTUNITID EQU   ALCWA+76
TOTVOLUN EQU   CNTABLE+44
NUMREQS  EQU   CNTABLE+40
OTHEREQS EQU   CNTABLE+32
SUBSREQS EQU   CNTABLE+28
STRGREQS EQU   CNTABLE+24
PUBLREQS EQU   CNTABLE+20
PVTNREQS EQU   CNTABLE+16
SPECREQS EQU   CNTABLE+12
TPREQS   EQU   CNTABLE+8
DMYREQS  EQU   CNTABLE
IOSLUTP  EQU   ALCWA+16
FMAPPTR  EQU   ALCWA+4
WASIZE   EQU   ALCWA
GRPMASK  EQU   GMTENTRY
GMTENTLN EQU   GMTHDR+4
GMTENTNO EQU   GMTHDR
EUCBTPOS EQU   EUCBENTY
EUCBENLN EQU   EUCBHDR+4
EUCBENNO EQU   EUCBHDR
GRPUCBNO EQU   GRPENTRY+4
GRPID    EQU   GRPENTRY
GRPENTLN EQU   GRPHDR+4
GRPENTNO EQU   GRPHDR
GRPTR    EQU   GRPTRTAB
GENGRPTR EQU   GENENTRY+8
GENGRPNO EQU   GENENTRY+4
GENENTLN EQU   GENHDR+4
GENENTNO EQU   GENHDR
LUVAGMTP EQU   LUVENTRY+28
@NM00021 EQU   LUVFLAGS
LUVMGENS EQU   LUVFLAGS
LUVAGMSK EQU   LUVFLAGS
LUVVAM   EQU   LUVFLAGS
UNITNAME EQU   LUVENTRY
LUVENTLN EQU   LUVHDR+4
LUVENTNO EQU   LUVHDR
JFCRSV05 EQU   JFCEROPT
JFCRSV04 EQU   JFCEROPT
JFCRSV03 EQU   JFCEROPT
JFCRSV02 EQU   JFCEROPT
JFCTOPT  EQU   JFCEROPT
JFCABN   EQU   JFCEROPT
JFCSKP   EQU   JFCEROPT
JFCACC   EQU   JFCEROPT
JFCBUFL  EQU   JFCAMPTR+2
JFCFWORD EQU   JFCBFTEK
JFCDWORD EQU   JFCBFTEK
JFCHIER1 EQU   JFCBFTEK
JFCDYN   EQU   JFCBFTEK
JFCEXC   EQU   JFCBFTEK
JFCBBFTR EQU   JFCBBFTA
JFCSIM   EQU   JFCBBFTA
JFCHIER  EQU   JFCBFTEK
JFCBFOUT EQU   JFCBUFNO
JFCBUFIN EQU   JFCBUFNO
JFCTEMP  EQU   JFCBIND2
JFCREQ   EQU   JFCBIND2
JFCENT   EQU   JFCBIND2
JFCSHARE EQU   JFCBIND2
JFCSECUR EQU   JFCBIND2
JFCDISP  EQU   JFCBIND2
JFCPDS   EQU   JFCBIND1
JFCGDG   EQU   JFCBIND1
JFCADDED EQU   JFCBIND1
JFCLOC   EQU   JFCBIND1
JFCBXPDT EQU   INFMJFCB+83
JFCBCRDT EQU   INFMJFCB+80
JFCBOPS2 EQU   JFCBMASK+7
JFCRCTLG EQU   JFCBFLG2
JFCBBUFF EQU   JFCBFLG2
JFCTRACE EQU   JFCBFLG2
JFCSDRPS EQU   JFCBFLG2
JFCMODNW EQU   JFCBFLG2
JFCNRPS  EQU   JFCDEFER
JFCOUTOP EQU   JFCBFLG2
JFCINOP  EQU   JFCBFLG2
JFCBPWBP EQU   JFCOPEN
@NM00018 EQU   JFCOPEN
JFCDUAL  EQU   JFCBFLG1
JFCSLDES EQU   JFCBFLG1
JFCSLCRE EQU   JFCBFLG1
JFCSTAND EQU   JFCBFLG1
JFCBOPS1 EQU   JFCBMASK
JFCBVLSQ EQU   INFMJFCB+70
JFCRSV31 EQU   JFCFUNC
JFCFNCBT EQU   JFCFUNC
JFCFNCBX EQU   JFCFUNC
JFCFNCBD EQU   JFCFUNC
JFCFNCBW EQU   JFCFUNC
JFCFNCBP EQU   JFCFUNC
JFCFNCBR EQU   JFCFUNC
JFCFNCBI EQU   JFCFUNC
JFCBFOFL EQU   JFCBUFOF
JFCNL    EQU   JFCBLTYP
JFCSL    EQU   JFCBLTYP
JFCNSL   EQU   JFCBLTYP
JFCSUL   EQU   JFCBLTYP
JFCBLP   EQU   JFCBLTYP
JFCBLTM  EQU   JFCBLTYP
JFCBAL   EQU   JFCBLTYP
JFCRSV38 EQU   JFCBLTYP
JFCRSV01 EQU   INFMJFCB+64
JFCNLREC EQU   INFMJFCB+62
JFCBADBF EQU   INFMJFCB+60
JFCAMSTR EQU   JFCBFRID+2
JFCAMCRO EQU   JFCBFRID
JFCBDSCB EQU   INFMJFCB+53
JFCPAT   EQU   JFCBTSDM
JFCNDCB  EQU   JFCBTSDM
JFCNDSCB EQU   JFCBTSDM
JFCNWRIT EQU   JFCBTSDM
JFCTTR   EQU   JFCBTSDM
JFCSDS   EQU   JFCBTSDM
JFCVSL   EQU   JFCBTSDM
JFCCAT   EQU   JFCBTSDM
JFCIPLTX EQU   JFCBELNM
JFCBQNAM EQU   JFCBDSNM
SIODDSNL EQU   INDMSIOT+173
SIOVDSNL EQU   INDMSIOT+172
SIOVDSNT EQU   INDMSIOT+170
SVOLUNNO EQU   INDMSIOT+168
SIOTVMVP EQU   INDMSIOT+164
SIOTJFX  EQU   INDMSIOT+160
SIOTATE  EQU   INDMSIOT+144
SVOLUNAD EQU   INDMSIOT+140
SIOTEDLP EQU   INDMSIOT+136
SIOTEDLS EQU   INDMSIOT+132
SCTANAME EQU   INDMSIOT+122
@NM00017 EQU   INDMSIOT+108
SIOTSSNM EQU   INDMSIOT+104
SIODDQCR EQU   SIOTBYT2
SIOVDQCR EQU   SIOTBYT2
SIOTCVOL EQU   SIOTBYT2
SIOTCNEW EQU   SIOTBYT2
SIOTCALC EQU   SIOTBYT2
SIOTGALL EQU   SIOTBYT2
SIOTDSPD EQU   SIOTBYT2
SIOTDMND EQU   SIOTBYT2
SIOTOPUC EQU   INDMSIOT+99
SIOTOUTR EQU   INDMSIOT+97
SIOTOUTC EQU   INDMSIOT+96
@NM00016 EQU   INDMSIOT+93
SIOTAUNC EQU   SIOTALTD
SIOTACAT EQU   SIOTALTD
SIOTADEL EQU   SIOTALTD
SIOTAKEP EQU   SIOTALTD
SIOTNPRV EQU   SIOTALTD
SIOJCATS EQU   SIOTALTD
@NM00015 EQU   SIOTALTD
@NM00014 EQU   SIOTALTD
@NM00013 EQU   INDMSIOT+91
SIOTNDSB EQU   INDMSIOT+88
@NM00012 EQU   INDMSIOT+84
SIOTDPCD EQU   INDMSIOT+82
@NM00011 EQU   INDMSIOT+81
SCTOUTPN EQU   INDMSIOT+80
SCTOUTNO EQU   INDMSIOT+76
SCTOUTNM EQU   INDMSIOT+68
SIOUCNVT EQU   SCTUTYPE+4
SIOUBYT4 EQU   SIOTDEVT+3
@NM00010 EQU   SIOUBYT3
SIO3UREC EQU   SIOUBYT3
SIO3DISP EQU   SIOUBYT3
SIO3DACC EQU   SIOUBYT3
SIO3COMM EQU   SIOUBYT3
SIO3TAPE EQU   SIOUBYT3
SIOUBYT2 EQU   SIOTDEVT+1
SIOUBYT1 EQU   SIOTDEVT
SIOTOMN  EQU   SCTSBYT4
SIOTIPDI EQU   SCTSBYT4
SIOTVAFF EQU   SCTSBYT4
SIOTSTEP EQU   SCTSBYT4
SIOTASCI EQU   SCTSBYT4
@NM00009 EQU   SCTSBYT4
SIOTGDGA EQU   SCTSBYT4
SCTSGDGS EQU   SCTSBYT4
SCTSOLD  EQU   SCTSBYT3
SCTSMOD  EQU   SCTSBYT3
SCTSYSOU EQU   SCTSBYT3
SCTVREF  EQU   SCTSBYT3
@NM00008 EQU   SCTSBYT3
SCTSYSNE EQU   SCTSBYT3
SCTDSNRF EQU   SCTSBYT3
SCTRECVD EQU   SCTSBYT2
SCTDEFER EQU   SCTSBYT2
SCTLABEL EQU   SCTSBYT2
SCTUNLBD EQU   SCTSBYT2
SCTJOBLB EQU   SCTSBYT2
SCTVOLAF EQU   SCTSBYT2
SIOTCATL EQU   SCTSBYT2
SIOTJSCT EQU   SCTSBYT1
SCTUNAFF EQU   SCTSBYT1
SCTPARLM EQU   SCTSBYT1
SIOTQDSN EQU   SCTSBYT1
SIOTGDSN EQU   SCTSBYT1
SIOTCCAT EQU   SCTSBYT1
SCTSYSIN EQU   SCTSBYT1
SCTDUMMY EQU   SCTSBYT1
SIOTUNCT EQU   SCTSDISP
SIOTCTLG EQU   SCTSDISP
SIOTDLET EQU   SCTSDISP
SIOTKEEP EQU   SCTSDISP
SIOTPRIV EQU   SCTSDISP
S3400DSP EQU   SCTSDISP
@NM00007 EQU   SCTSDISP
SIOTVLCT EQU   INDMSIOT+54
SCTNMBUT EQU   INDMSIOT+53
SIOTRTRY EQU   SIOTBYT0
SIOTPUPV EQU   SIOTBYT0
SIOTNOPV EQU   SIOTBYT0
SIOTGIGN EQU   SIOTBYT0
SPVTAMSG EQU   SIOTBYT0
SIOTFUDA EQU   SIOTBYT0
SIOTDYAL EQU   SIOTBYT0
SIOTSSDS EQU   SIOTBYT0
SIOTGIID EQU   INDMSIOT+50
SCTVOLCT EQU   INDMSIOT+49
SCTSPOOL EQU   INDMSIOT+48
SIOTQNAM EQU   SIOTTSTC
@NM00006 EQU   SIOTTSTC
SIOTTERM EQU   SIOTTSTC
@NM00005 EQU   SIOTTSTC
@NM00004 EQU   SIOTBYT3
SIOTJES3 EQU   SIOTBYT3
SIOCDEVT EQU   SIOTBYT3
SIOALIAS EQU   SIOTBYT3
SIOTDDNT EQU   SIOTBYT1
SIOTDADR EQU   SIOTBYT1
SIODUNAL EQU   SIOTBYT1
SIOTHOLD EQU   SIOTBYT1
SIOTOCKP EQU   SIOTBYT1
SIOPSCNT EQU   INDMSIOT+42
SIOTOTUN EQU   INDMSIOT+39
SIOTVRSB EQU   INDMSIOT+36
@NM00003 EQU   INDMSIOT+35
@NM00002 EQU   INDMSIOT+31
SCTPSIOT EQU   INDMSIOT+28
SIOTAFID EQU   INDMSIOT+26
@NM00001 EQU   INDMSIOT+24
SIODSNTE EQU   INDMSIOT+22
SIOTUNAF EQU   SCTUSADD
SIOTDEST EQU   INDMSIOT+12
SIOTTYPE EQU   INDMSIOT+3
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00043 EQU   @RC00041
@RF00096 EQU   @RC00076
@RF00050 EQU   @RC00043
@ENDDATA EQU   *
         END   IEFAB431

         TITLE 'IGC0008E,NSLREPOS INTERFACE                            *
                        '
IGC0008E CSECT ,                                                   0001
@MAINENT BALR  @15,0                                               0001
         USING *,@15                                               0001
         B     @PROLOG                                             0001
         DC    AL1(16)                                             0001
         DC    C'IGC0008E  76.253'                                 0001
         DROP  @15
@PROLOG  BALR  @11,0                                               0001
@PSTART  DS    0H                                                  0001
         USING @PSTART,@11                                         0001
RBPRFXLN EQU 64
RBPRFLNA EQU 32
PRBLEN   EQU 136
SIRBLEN  EQU 200
TIRBLEN  EQU 136
IRBLEN   EQU 128
SVRBLEN  EQU 200
*                                      FORM                          */
*   DDRPTR=XCTLPTR;                 /* PLACE DDRCOM ADDRESS IN REG12 */
         LR    DDRPTR,XCTLPTR                                      0100
*   RBSECPTR=REG5;                  /* SAVE REGISTER INPUT 5 SVRB  0101
*                                      ADDR                  @ZA03558*/
         LR    RBSECPTR,REG5                                       0101
*   RBEXSAVE(1:LENGTH(XCTL8E))=XCTL8E;/* MOVE XCTL LIST TO SVRB      */
         MVC   RBEXSAVE(8,RBSECPTR),XCTL8E                         0102
*   RBEXSAVE(1:4)=ADDR(RBEXSAVE)+8; /* CHANGE LABEL ADDR IN XCTL LIST*/
         LA    @14,RBEXSAVE(,RBSECPTR)                             0103
         AL    @14,@CF00084                                        0103
         STCM  @14,15,RBEXSAVE(RBSECPTR)                           0103
*   RBEXSAVE(9:16)=CONST48E;        /* PLACE EP IN XCTL LIST         */
         MVC   RBEXSAVE+8(8,RBSECPTR),CONST48E                     0104
*   NSLAD=DDRIBUF;                  /* LOAD REG 0 WITH NON-STANDARD
*                                      LABEL                         */
         L     NSLAD,DDRIBUF(,DDRPTR)                              0105
*   NSLAD5=NSLAD;                   /* LOAD REG 5 WITH NON-STANDARD
*                                      LABEL                 @ZA03558*/
         LR    NSLAD5,NSLAD                                        0106
*   XCTLIST2=ADDR(RBEXSAVE);        /* LOAD REG 2 WITH XCTLLIST    0107
*                                      ADDRESS                       */
         LA    XCTLIST2,RBEXSAVE(,RBSECPTR)                        0107
*   TOUCB7=DDRTOUCB;                /* LOAD REG 7 WITH 'TO' UCB    0108
*                                      ADDRESS               @ZA03558*/
         L     TOUCB7,DDRTOUCB(,DDRPTR)                            0108
*   DO;                             /* XCTL MF(E,XCTLNS)             */
*     RESPECIFY                                                    0110
*      (GPR15P) RESTRICTED;                                        0110
*     GPR15P=ADDR(XCTLNS);          /* XCTL PARAMETER LIST           */
         LA    GPR15P,XCTLNS                                       0111
*     SVC(7);                       /* ISSUE XCTL SVC                */
         SVC   7                                                   0112
*     RESPECIFY                                                    0113
*      (GPR15P) UNRESTRICTED;                                      0113
*   END;                            /* XCTL MF(E,XCTLNS) EXIT TO THE
*                                      USER WRITTEN PROGRAM CALLED 0114
*                                      NSLREPOS WHICH WILL COMPLETE
*                                      LABEL VERIFICATION AND WILL 0114
*                                      INDICATE VIA A RETURN CODE IF
*                                      ANY TAPE POSITIONING IS     0114
*                                      NECESSARY.                    */
*                                                                  0115
*/*  THIS ENTRY POINT MUST BE GENERATED.  THE PLS2 OVERHEAD        0115
*    (NOSAVE,EPILOG,ETC.) ARE NOT USED IN THIS PROGRAM, THEREFORE, 0115
*    THE CORRECT MODULE FLOW FOR A SVC WITH TWO ENTRY POINTS       0115
*    REQUIRES THIS GENERATION.                                       */
*                                                                  0115
*   GEN;                                                           0115
*                                                                  0115
  ENTRY IGC0408E
*   /*****************************************************************/
*   /*                                                               */
*   /* THIS ROUTINE RECIEVES CONTROL FROM THE NSLREPOS INTERFACE     */
*   /* ROUTINE WHICH IS USER WRITTEN. THE INPUT TO THIS ENTRY POINT  */
*   /* IS REG 0 MUST CONTAIN THE USER'S RETURN CODE. NO              */
*   /* ADDRESSIBILITY OR LINKAGE IS NECESSARY AT THIS ENTRY POINT.   */
*   /*                                                               */
*   /*****************************************************************/
*                                                                  0116
*IGC0408E:                                                         0116
*   UPC15=NSLAD;                    /* LOAD REG 15 WITH REG 0(USER 0116
*                                      POSITIONING CODE)             */
IGC0408E LR    UPC15,NSLAD                                         0116
*   SVC(3);                         /* RETURN CONTROL TO IGFDT2 TO 0117
*                                      TAKE ACTION ON USER'S RETURN
*                                      CODE                          */
         SVC   3                                                   0117
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */
*     GPR15P PTR(31) REG(15);                                      0118
*   DECLARE                         /* COMMON VARIABLES              */
*     I256C CHAR(256) BASED,                                       0119
*     I031F FIXED(31) BASED,                                       0119
*     I031P PTR(31) BASED,                                         0119
*     I015F FIXED(15) BASED,                                       0119
*     I015P PTR(15) BASED,                                         0119
*     I008P PTR(8) BASED,                                          0119
*     I001C CHAR(1) BASED;          /* NECESSARY FOR THE VARIBLE   0119
*                                      DECLARES IN XCTLP MACRO       */
*   END IGC0008E                                                   0120
*                                                                  0120
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */
*/*%INCLUDE SYSLIB  (IHADDR  )                                       */
*/*%INCLUDE SYSLIB  (IHARB   )                                       */
*/*%INCLUDE SYSLIB  (IKJRB   )                                       */
*                                                                  0120
*       ;                                                          0120
@DATA    DS    0H
@DATD    DSECT
         DS    0F
IGC0008E CSECT
         DS    0F
@CF00084 DC    F'8'
@DATD    DSECT
         DS    0D
@ENDDATD EQU   *
IGC0008E CSECT
         NOPR  ((@ENDDATD-@DATD)*16)
         DS    0F
@SIZDATD DC    AL1(0)
         DC    AL3(@ENDDATD-@DATD)
         DS    0D
@CC00497 DC    C'IGC0408E'
@CC00510 DC    C'NSLREPOS'
CONST48E DC    CL8'IGC0408E'
XCTL8E   DS    CL8
         ORG   XCTL8E
XCTL8E01 DC    X'00'
XCTL8E02 DC    AL3(@CC00497)
XCTL8E03 DC    X'00'
XCTL8E04 DC    AL3(0)
         ORG   XCTL8E+8
XCTLNS   DS    CL8
         ORG   XCTLNS
XCTLNS01 DC    X'00'
XCTLNS02 DC    AL3(@CC00510)
XCTLNS03 DC    X'00'
XCTLNS04 DC    AL3(0)
         ORG   XCTLNS+8
IGC08EP  DC    13F'0'
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
DDRPTR   EQU   @12
RBSECPTR EQU   @07
XCTLPTR  EQU   @01
NSLAD    EQU   @00
XCTLIST2 EQU   @02
NSLAD5   EQU   @05
REG5     EQU   @05
TOUCB7   EQU   @07
UPC15    EQU   @15
GPR15P   EQU   @15
DDRCOM   EQU   0
DDRSHORT EQU   DDRCOM
DDRCNTRL EQU   DDRSHORT+8
DDRSRC   EQU   DDRCNTRL
DDRSTAT  EQU   DDRCNTRL+1
DDRDCHAR EQU   DDRCNTRL+2
DDRDSTAT EQU   DDRDCHAR+1
DDRLONG  EQU   DDRCOM+24
DDRTOUCB EQU   DDRLONG
DDRROWN  EQU   DDRLONG+8
DDRMIHT  EQU   DDRLONG+12
DDRTER   EQU   DDRLONG+36
DDRINV   EQU   DDRLONG+38
DDRAPP   EQU   DDRLONG+40
DDRIBUF  EQU   DDRLONG+44
DDRIOF   EQU   DDRLONG+52
DDRIOF2  EQU   DDRIOF+1
DDRMSG   EQU   DDRLONG+54
DDRMSGP  EQU   DDRLONG+56
DDRLABEL EQU   DDRLONG+64
DDRREC   EQU   DDRLONG+66
DDRREC2  EQU   DDRREC+1
DDRUSER  EQU   DDRLONG+68
RBPRFX   EQU   0
RBBASIC  EQU   0
RBEXRTNM EQU   RBBASIC
RBTMFLD  EQU   RBEXRTNM
RBSTAB   EQU   RBBASIC+10
XSTAB    EQU   RBSTAB
RBSTAB1  EQU   XSTAB
XSTAB1   EQU   RBSTAB1
RBFTCKPT EQU   XSTAB1
RBSTAB2  EQU   XSTAB+1
XSTAB2   EQU   RBSTAB2
RBTCBNXT EQU   XSTAB2
RBFACTV  EQU   XSTAB2
RBFDYN   EQU   XSTAB2
RBECBWT  EQU   XSTAB2
RBOPSW   EQU   RBBASIC+16
RBLINK   EQU   RBBASIC+28
XRBLNK   EQU   RBLINK
RBWCF    EQU   XRBLNK
RBLINKB  EQU   XRBLNK+1
RBGRSAVE EQU   RBBASIC+32
XRBREG   EQU   RBGRSAVE
RBGRS0   EQU   XRBREG
RBGRS1   EQU   XRBREG+4
RBGRS2   EQU   XRBREG+8
RBGRS3   EQU   XRBREG+12
RBGRS4   EQU   XRBREG+16
RBGRS5   EQU   XRBREG+20
RBGRS6   EQU   XRBREG+24
RBGRS7   EQU   XRBREG+28
RBGRS8   EQU   XRBREG+32
RBGRS9   EQU   XRBREG+36
RBGRS10  EQU   XRBREG+40
RBGRS11  EQU   XRBREG+44
RBGRS12  EQU   XRBREG+48
RBGRS13  EQU   XRBREG+52
RBGRS14  EQU   XRBREG+56
RBGRS15  EQU   XRBREG+60
XRBESA   EQU   RBBASIC+96
RBEXSAVE EQU   XRBESA
RBPREFIX EQU   0
RBRSV019 EQU   RBPREFIX+14
RBRSV028 EQU   RBPREFIX+15
RBRSV041 EQU   RBPREFIX+27
RBRSV054 EQU   RBPREFIX+39
RBRTOPSW EQU   RBPREFIX+40
RBRTPSW2 EQU   RBRTOPSW+8
RBRTICIL EQU   RBRTPSW2
RBFLAGS1 EQU   RBPREFIX+56
RBINTCDA EQU   RBPREFIX+61
RBSECT   EQU   0
RBPPSAV  EQU   RBSECT
@NM00018 EQU   RBSECT+10
@NM00019 EQU   @NM00018
RBTRSVRB EQU   @NM00019
@NM00021 EQU   @NM00018+1
RBETXR   EQU   @NM00021
RBEP     EQU   RBSECT+12
RBPGMQ   EQU   RBSECT+24
@NM00028 EQU   RBSECT+28
IRBEND   EQU   RBSECT+96
@NM00032 EQU   RBSECT+96
RBRSV138 EQU   @NM00032+7
RBRSV150 EQU   RBSECT+167
I001C    EQU   0
I008P    EQU   0
I015F    EQU   0
I015P    EQU   0
I031F    EQU   0
I031P    EQU   0
I256C    EQU   0
RBSECS03 EQU   RBEP
RBCDE    EQU   RBSECS03
RBCDFLGS EQU   RBCDE
RBSECS05 EQU   RBPGMQ
RBSQE    EQU   RBSECS05
RBSECS06 EQU   RBPGMQ
RBIQE    EQU   RBSECS06
RBSECS07 EQU   RBPGMQ
RBIQE2   EQU   RBSECS07
RBSECS08 EQU   IRBEND
RBSECS09 EQU   IRBEND
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
RBRSV161 EQU   RBSECS09+64
RBSIRBWA EQU   RBSECS09
RBIQEWRK EQU   RBSECS08+4
RBNEXAV  EQU   RBSECS08
RBIQEA   EQU   RBIQE2
RBIQE1   EQU   RBIQE+1
RBUSE    EQU   RBIQE
RBSQEA   EQU   RBSQE+1
@NM00033 EQU   RBSQE
RBCDE1   EQU   RBCDE+1
RBCDLOAD EQU   RBCDFLGS
RBCDXCTL EQU   RBCDFLGS
RBCDSYNC EQU   RBCDFLGS
RBCDNODE EQU   RBCDFLGS
RBRSV010 EQU   RBCDFLGS
RBCDATCH EQU   RBCDFLGS
RBRSV009 EQU   RBCDFLGS
RBNOCELL EQU   RBCDFLGS
SIRBEND  EQU   RBSECT+168
SVRBEND  EQU   RBSECT+168
RBRSV158 EQU   RBRSV150
RBRSV157 EQU   RBRSV150
RBRSV156 EQU   RBRSV150
RBRSV155 EQU   RBRSV150
RBRSV154 EQU   RBRSV150
RBRSV153 EQU   RBRSV150
RBRSV152 EQU   RBRSV150
RBRSV151 EQU   RBRSV150
RBRSV149 EQU   RBSECT+166
RBRSV148 EQU   RBSECT+164
RBSCBB   EQU   RBSECT+144
TIRBEND  EQU   @NM00032+8
PRBEND   EQU   @NM00032+8
RBRSV146 EQU   RBRSV138
RBRSV145 EQU   RBRSV138
RBRSV144 EQU   RBRSV138
RBRSV143 EQU   RBRSV138
RBRSV142 EQU   RBRSV138
RBRSV141 EQU   RBRSV138
RBRSV140 EQU   RBRSV138
RBRSV139 EQU   RBRSV138
RBRSV137 EQU   @NM00032+6
RBRSV136 EQU   @NM00032+4
RBRSV135 EQU   @NM00032
@NM00031 EQU   RBSECT+32
@NM00030 EQU   @NM00028+1
@NM00029 EQU   @NM00028
RBPGMQ1  EQU   RBPGMQ+1
@NM00027 EQU   RBPGMQ
@NM00026 EQU   RBSECT+16
@NM00025 EQU   @NM00021
@NM00024 EQU   @NM00021
RBIQETP  EQU   @NM00021
RBUSIQE  EQU   RBETXR
RBATTN   EQU   @NM00021
@NM00023 EQU   @NM00021
@NM00022 EQU   @NM00021
RBRSV007 EQU   @NM00019
RBATNXIT EQU   @NM00019
@NM00020 EQU   @NM00019
RBWAITP  EQU   @NM00019
RBFNSVRB EQU   RBTRSVRB
RBFTP    EQU   @NM00019
RBSIZE   EQU   RBSECT+8
RBABOPSW EQU   RBSECT+4
RBPPSAV1 EQU   RBPPSAV+1
@NM00017 EQU   RBPPSAV
RBPRFXND EQU   RBPREFIX+64
RBINTCOD EQU   RBINTCDA+1
RBINLNTH EQU   RBINTCDA
RBWCSA   EQU   RBPREFIX+60
RBRSV004 EQU   RBPREFIX+57
RBSSSYN  EQU   RBFLAGS1
RBSCB    EQU   RBFLAGS1
RBLONGWT EQU   RBFLAGS1
RBASIR   EQU   RBFLAGS1
RBRSV159 EQU   RBFLAGS1
RBABEND  EQU   RBFLAGS1
RBXWAIT  EQU   RBFLAGS1
RBSLOCK  EQU   RBFLAGS1
RBRTRAN  EQU   RBRTPSW2+4
RBRTINCD EQU   RBRTICIL+2
RBRTILC  EQU   RBRTICIL+1
RBRSV160 EQU   RBRTICIL
RBRTPSW1 EQU   RBRTOPSW
RBRSV062 EQU   RBRSV054
RBRSV061 EQU   RBRSV054
RBRSV060 EQU   RBRSV054
RBRSV059 EQU   RBRSV054
RBRSV058 EQU   RBRSV054
RBRSV057 EQU   RBRSV054
RBRSV056 EQU   RBRSV054
RBRSV055 EQU   RBRSV054
RBRSV053 EQU   RBPREFIX+38
RBRSV052 EQU   RBPREFIX+36
RBRSV051 EQU   RBPREFIX+32
RBPRFXST EQU   RBPREFIX+32
RBRSV050 EQU   RBPREFIX+28
RBRSV049 EQU   RBRSV041
RBRSV048 EQU   RBRSV041
RBRSV047 EQU   RBRSV041
RBRSV046 EQU   RBRSV041
RBRSV045 EQU   RBRSV041
RBRSV044 EQU   RBRSV041
RBRSV043 EQU   RBRSV041
RBRSV042 EQU   RBRSV041
RBRSV040 EQU   RBPREFIX+26
RBRSV039 EQU   RBPREFIX+24
RBRSV038 EQU   RBPREFIX+20
RBRSV037 EQU   RBPREFIX+16
RBRSV036 EQU   RBRSV028
RBRSV035 EQU   RBRSV028
RBRSV034 EQU   RBRSV028
RBRSV033 EQU   RBRSV028
RBRSV032 EQU   RBRSV028
RBRSV031 EQU   RBRSV028
RBRSV030 EQU   RBRSV028
RBRSV029 EQU   RBRSV028
RBRSV027 EQU   RBRSV019
RBRSV026 EQU   RBRSV019
RBRSV025 EQU   RBRSV019
RBRSV024 EQU   RBRSV019
RBRSV023 EQU   RBRSV019
RBRSV022 EQU   RBRSV019
RBRSV021 EQU   RBRSV019
RBRSV020 EQU   RBRSV019
RBRSV018 EQU   RBPREFIX+13
RBRSV017 EQU   RBPREFIX+12
RBSRV016 EQU   RBPREFIX+11
RBRSV015 EQU   RBPREFIX+10
RBRSV014 EQU   RBPREFIX+8
RBRSV013 EQU   RBPREFIX+4
RBRSV012 EQU   RBPREFIX
XRBREG15 EQU   RBGRS15
XRBREG14 EQU   RBGRS14
XRBREG13 EQU   RBGRS13
XRBREG12 EQU   RBGRS12
XRBREG11 EQU   RBGRS11
XRBREG10 EQU   RBGRS10
XRBREG9  EQU   RBGRS9
XRBREG8  EQU   RBGRS8
XRBREG7  EQU   RBGRS7
XRBREG6  EQU   RBGRS6
XRBREG5  EQU   RBGRS5
XRBREG4  EQU   RBGRS4
XRBREG3  EQU   RBGRS3
XRBREG2  EQU   RBGRS2
XRBREG1  EQU   RBGRS1
XRBREG0  EQU   RBGRS0
XRBLNKA  EQU   RBLINKB
XRBWT    EQU   RBWCF
@NM00016 EQU   RBBASIC+24
XRBPSW   EQU   RBOPSW
@NM00015 EQU   RBBASIC+12
XRBWAIT  EQU   RBECBWT
XRBFRRB  EQU   RBFDYN
@NM00014 EQU   XSTAB2
XRBACTV  EQU   RBFACTV
XRBTCBP  EQU   RBTCBNXT
@NM00013 EQU   XSTAB1
XRBCKPT  EQU   RBFTCKPT
@NM00012 EQU   XSTAB1
@NM00011 EQU   RBBASIC+8
@NM00010 EQU   RBEXRTNM+1
RBTMIND3 EQU   RBTMFLD
RBTMIND2 EQU   RBTMFLD
RBTMCMP  EQU   RBTMFLD
RBWLIM   EQU   RBTMFLD
RBRSV005 EQU   RBTMFLD
RBTMTOD  EQU   RBTMFLD
RBTMQUE  EQU   RBTMFLD
@NM00009 EQU   RBPRFX
DDRSSOB  EQU   DDRLONG+76
DDRUBCNT EQU   DDRLONG+72
@NM00008 EQU   DDRUSER+1
DDRUMODE EQU   DDRUSER
@NM00007 EQU   DDRREC2
DDRRFMTO EQU   DDRREC2
DDRREC1  EQU   DDRREC
DDRRETRY EQU   DDRLONG+65
DDRLNOP  EQU   DDRLABEL
@NM00006 EQU   DDRLABEL
DDRLSD   EQU   DDRLABEL
DDRLNSL  EQU   DDRLABEL
DDRLNL   EQU   DDRLABEL
DDRLBLP  EQU   DDRLABEL
DDRLAL   EQU   DDRLABEL
DDRMSGPC EQU   DDRMSGP+1
DDRMSGPN EQU   DDRMSGP
DDRMSGCD EQU   DDRMSG+1
DDRMSGOP EQU   DDRMSG
@NM00005 EQU   DDRIOF2
DDRICNT  EQU   DDRIOF2
DDRIMNT  EQU   DDRIOF2
DDRILAB  EQU   DDRIOF2
DDRITAKE EQU   DDRIOF2
DDRWHICH EQU   DDRIOF2
DDRIOF1  EQU   DDRIOF
DDRCOUNT EQU   DDRLONG+48
DDRIBUFL EQU   DDRLONG+42
DDRAPP2  EQU   DDRAPP+1
DDRAPP1  EQU   DDRAPP
DDRINV2  EQU   DDRINV+1
DDRINV1  EQU   DDRINV
DDRTER2  EQU   DDRTER+1
DDRTER1  EQU   DDRTER
DDRTEST  EQU   DDRLONG+32
DDRUASCB EQU   DDRLONG+28
DDRUTCB  EQU   DDRLONG+24
DDRUIOB  EQU   DDRLONG+20
DDRUDEB  EQU   DDRMIHT+4
DDRUDCB  EQU   DDRMIHT
DDRASID  EQU   DDRLONG+10
DDRMIH   EQU   DDRLONG+9
DDRFIRST EQU   DDRROWN
DDRJES3L EQU   DDRROWN
@NM00004 EQU   DDRROWN
DDRRDENQ EQU   DDRROWN
DDRRUENQ EQU   DDRROWN
DDRRTENQ EQU   DDRROWN
DDRFMUCB EQU   DDRLONG+4
DDRTOCUA EQU   DDRSHORT+21
DDRFMCUA EQU   DDRSHORT+18
DDRUASID EQU   DDRSHORT+16
DDRUIOSB EQU   DDRSHORT+12
@NM00003 EQU   DDRDSTAT
DDRUR    EQU   DDRDSTAT
DDRMT    EQU   DDRDSTAT
DDRDA    EQU   DDRDSTAT
DDRBUFL  EQU   DDRDSTAT
DDRMDR   EQU   DDRDCHAR
@NM00002 EQU   DDRSTAT
DDRSIRB  EQU   DDRSTAT
DDRPRG   EQU   DDRSTAT
DDRRMV   EQU   DDRSTAT
DDRHAMA  EQU   DDRSTAT
DDRQUE   EQU   DDRSTAT
DDRACTV  EQU   DDRSTAT
@NM00001 EQU   DDRSRC
DDRPAGE  EQU   DDRSRC
DDRSYS   EQU   DDRSRC
DDROPER  EQU   DDRSRC
DDRNXT   EQU   DDRSHORT+4
DDRID    EQU   DDRSHORT
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@ENDDATA EQU   *
         END   IGC0008E,(C'PLS1202',0701,76253)

         TITLE 'IEFAB477 - UNALLOCATE REQS TO BE REARRANGED            *
                        '
IEFAB477 CSECT ,                                                01S0001
@MAINENT DS    0H                                               01S0001
         USING *,@15                                            01S0001
         B     @PROLOG                                          01S0001
         DC    AL1(24)                                          01S0001
         DC    C'IEFAB477 78181  UZ19984 '                      01S0001
         DROP  @15
@PROLOG  STM   @14,@12,12(@13)                                  01S0001
         BALR  @10,0                                            01S0001
@PSTART  DS    0H                                               01S0001
         USING @PSTART,@10                                      01S0001
         L     @00,@SIZDATD                                     01S0001
         GSPACE   R,LV=(0)
         LR    @09,@01                                          01S0001
         USING @DATD,@09                                        01S0001
         ST    @13,@SA00001+4                                   01S0001
         LM    @00,@01,20(@13)                                  01S0001
         ST    @09,8(,@13)                                      01S0001
         LR    @13,@09                                          01S0001
         MVC   @PC00001(8),0(@01)                               01S0001
JSCBDISP EQU 188
JSCBAOS1 EQU  72
JSCBAOS2 EQU 192
*RTNCODE = SUCCESS;                    /*INIT RETURN CODE TO 0       */
         SLR   RTNCODE,RTNCODE                                  01S0070
*SCRCTR = ZERO;                        /*INIT NUMBER OF REQS TO SCR  */
         SLR   SCRCTR,SCRCTR                                    01S0071
*VUPTR = VOLUNPTR;                     /*POINT TO FIRST VU TABLE NTRY*/
         L     @11,@PC00001                                     01S0072
         L     @11,ALCWAPTR(,@11)                               01S0072
         L     VUPTR,VOLUNPTR(,@11)                             01S0072
*DO VUCTR = ONE TO VOLUNSZE/LENGTH(VOLUNTAB); /*SCAN ALL VOLUNIT TAB */
         LA    VUCTR,1                                          01S0073
         B     @DE00073                                         01S0073
@DL00073 DS    0H                                               01S0074
*  IF VUREALOC = ON                    /*IS VU ENTRY TO BE PROCESSED */
*      & VUDADSM = ON                  /*AND DADSM DONE FOR THE REQ? */
*      & VOLSIOTP->SIODADSM=ON THEN                             01S0074
         TM    VUREALOC(VUPTR),B'01000000'                      01S0074
         BNO   @RF00074                                         01S0074
         TM    VUDADSM(VUPTR),B'00000010'                       01S0074
         BNO   @RF00074                                         01S0074
         L     @08,VOLSIOTP(,VUPTR)                             01S0074
         TM    SIODADSM(@08),B'00000100'                        01S0074
         BNO   @RF00074                                         01S0074
*    DO;                               /*YES,INCREMENT SCRATCH COUNT */
*      SCRCTR = SCRCTR + ONE;                                   01S0076
         AH    SCRCTR,@CH00042                                  01S0076
*    END;                                                       01S0077
*  ELSE;                               /*REQ NOT TO BE SCRATCHED     */
@RF00074 DS    0H                                               01S0079
*  VUPTR = VUPTR + LENGTH(VOLUNTAB);   /*POINT TO NEXT VOLUNIT ENTRY */
         AH    VUPTR,@CH01606                                   01S0079
*END;                                                           01S0080
         AH    VUCTR,@CH00042                                   01S0080
@DE00073 L     @08,@PC00001                                     01S0080
         L     @08,ALCWAPTR(,@08)                               01S0080
         L     @00,VOLUNSZE(,@08)                               01S0080
         SRDA  @00,32                                           01S0080
         D     @00,@CF01606                                     01S0080
         CR    VUCTR,@01                                        01S0080
         BNH   @DL00073                                         01S0080
*IF SCRCTR > ZERO THEN                 /*ANY REQS TO BE SCRATCHED ?  */
         LTR   SCRCTR,SCRCTR                                    01S0081
         BNP   @RF00081                                         01S0081
*  DO;                                 /*YES, PROCESS ..             */
*    GETSIZE = SCRCTR * (LENGTH(CMUNRB) /*CORE NEDED FOR RBS @YM05565*/
*                  + LENGTH(SAVEDEVT)); /*& TO SAVE DEV TYPE @YM05565*/
         LR    @08,SCRCTR                                       01S0083
         MH    @08,@CH01607                                     01S0083
         ST    @08,GETSIZE                                      01S0083
*     /* ?GETSTORG (SPID,GETSIZE,UNALRBP);*/                    01S0084
*       /* DEFINITIONS OF GETMAIN PARMS */                      01S0084
*       DCL                                                     01S0084
*         GTSTR0   FIXED(31) REG(0),/*GTMN PARM REG*/           01S0084
*         GTSTR1   FIXED(31) REG(1),/*GTMN PARM REG*/           01S0084
*         GTSTR2   PTR(31)   REG(2),/*GTMN PARM REG*/           01S0084
*         GTSTR15  FIXED(31) REG(15),/*GTMN RET COD*/           01S0084
*         GTSTRTCD FIXED(31); /* GETMAIN RTN CODE  */           01S0084
*       DCL                                                     01S0085
*         GTSTR3   FIXED(31) REG(3),/* CLEARING REG*/           01S0085
*         GTSTR4   FIXED(31) REG(4),/* CLEARING REG*/           01S0085
*         GTSTR5   FIXED(31) REG(5),/* CLEARING REG*/           01S0085
*         GTSTR6   FIXED(31) REG(6),/* CLEARING REG*/           01S0085
*         GTSTR7   FIXED(31) REG(7),/* CLEARING REG*/           01S0085
*         GTSTR8   FIXED(31) REG(8),/* CLEARING REG*/           01S0085
*         GTSTZERO FIXED(31) INIT(0),                           01S0085
*         GTST253  FIXED(31) CONSTANT(253);                     01S0085
*       RFY (GTSTR0,GTSTR1,GTSTR2) RSTD; /*SAVE RGS*/           01S0086
*       GTSTR0 = GETSIZE; /* SET AMOUNT*/                       01S0087
         LR    GTSTR0,@08                                       01S0087
*       GTSTR2 = SPID; /* SET SUBPOOL*/                         01S0088
         LA    GTSTR2,230                                       01S0088
*       GENERATE CODE;                                          01S0089
         GETMAIN RC,LV=(0),SP=(2)  DO GETMAIN
*       GTSTRTCD = GTSTR15; /* SAVE GETMAIN RET COD*/           01S0090
         LR    GTSTRTCD,GTSTR15                                 01S0090
*       UNALRBP = GTSTR1; /* ADDR OF GOTN STORG*/               01S0091
         ST    GTSTR1,UNALRBP                                   01S0091
*       RFY (GTSTR0,GTSTR1,GTSTR2) UNRSTD; /*RLSE */            01S0092
*       IF GTSTRTCD = 0 THEN /*GETMAIN SUCCESSFUL? */           01S0093
         LTR   GTSTRTCD,GTSTRTCD                                01S0093
         BNZ   @RF00093                                         01S0093
*         DO;               /* YES, CLEAR STORAGE.*/            01S0094
*           RFY (GTSTR2,GTSTR4,GTSTR5,GTSTR6,                   01S0095
*                              GTSTR7,GTSTR8) RSTD;             01S0095
*           GTSTR4 = UNALRBP; /*STORG PTR*/                     01S0096
         L     @03,UNALRBP                                      01S0096
         LR    GTSTR4,@03                                       01S0096
*           GTSTR5 = GETSIZE; /*STORG AMNT*/                    01S0097
         L     GTSTR5,GETSIZE                                   01S0097
*           GTSTR7 = '00000000'X; /*PAD CHAR & LNTH*/           01S0098
         SLR   GTSTR7,GTSTR7                                    01S0098
*           IF SPID = GTST253 THEN                              01S0099
         B     @RF00099                                         01S0099
*          GEN                                                  01S0100
*       (MODESET KEYADDR=GTSTZERO,SAVEKEY=(2),WORKREG=8);       01S0100
         MODESET KEYADDR=GTSTZERO,SAVEKEY=(2),WORKREG=8
*           GEN REFS(GTSTR4,GTSTR6);                            01S0101
@RF00099 DS    0H                                               01S0101
              MVCL  GTSTR4,GTSTR6 CLEAR GOTTEN STORG
*           IF SPID = GTST253 THEN                              01S0102
         B     @RF00102                                         01S0102
*             GEN (MODESET KEYADDR=(2));                        01S0103
         MODESET KEYADDR=(2)
*           RFY (GTSTR2,GTSTR4,GTSTR5,GTSTR6,                   01S0104
*                              GTSTR7,GTSTR8) UNRSTD;           01S0104
@RF00102 DS    0H                                               01S0105
*         END;       /* STORAGE CLEARING COMPLETED */           01S0105
*       ELSE                                                    01S0106
*       UNALRBP= 0;   /* CLEAR RETURN ADDR. */                  01S0106
         B     @RC00093                                         01S0106
@RF00093 SLR   @08,@08                                          01S0106
         ST    @08,UNALRBP                                      01S0106
*       GTSTR15 = GTSTRTCD;    /* GTMN RETURN CODE */           01S0107
@RC00093 LR    GTSTR15,GTSTRTCD                                 01S0107
*                                      /* RESTORE LIST PRINT STATUS  */
*/*GET CORE                    */                               01S0108
*    RTNCODE = REG15;                  /*SAVE THE RETURN CODE        */
         LR    RTNCODE,REG15                                    01S0108
*    IF RTNCODE = SUCCESS THEN         /*ANY ERRORS?                 */
         LTR   RTNCODE,RTNCODE                                  01S0109
         BNZ   @RF00109                                         01S0109
*      DO;                             /*NO, CALL COMMON UNALLOC RTN */
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - SCRSETUP                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - SET UP UNALLOC RB'S TO SCRATCH REQUESTS       */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     THIS ROUTINES SETS UP THE FUNCTION MAP FOR THE COMMON        */
*/*     UNALLOCATION CONTROL RTN (IEFAB4A0). IN ADDITION, THIS       */
*/*     ROUTINE SETS UP AN UNALLOCATION REQUEST BLOCK FOR EACH       */
*/*     VOLUNIT ENTRY WHICH HAS OBTAINED SPACE ON A DIRECT-ACCESS    */
*/*     VOLUME AND IS TO BE UNALLOCATED. IT ALSO SAVES THE   @YM05565*/
*/*     DEVICE TYPE FROM THE SIOT, AS UNALLOCATION MAY       @YM05565*/
*/*     CHANGE IT. IT IS RESTORED IN SEGMENT SCRETURN.       @YM05565*/
*/*                                                                  */
*/*   OPERATION - THE VOLUNIT TABLE IS SCANNED TO LOCATE EACH        */
*/*               VOLUNIT ENTRY WHICH MUST BE SCRATCHED.             */
*/*                                                                  */
*/* ENTRY - (INLINE SUBROUTINE)                                      */
*/*                                                                  */
*/*   PURPOSE - (SEE FUNCTION)                                       */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*      UNALRBP - PTR TO GETMAIN CORE FOR BUILDING THE UNALLOCATION */
*/*                REQUEST BLOCKS.                                   */
*/*      VOLUNPTR - PTR TO THE VOLUNIT TABLE                         */
*/*      VOLUNSZE - SIZE OF THE VOLUNIT TABLE                        */
*/*      VOLUNIT TABLE ENTRY FIELDS : VUREALOC, VUDADSM, AND VOLSIOTP*/
*/*      SIOT FIELD : SIODADSM                                       */
*/*                                                                  */
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */
*/*                                                                  */
*/*   CONDITIONS - FUNCTION COMPLETED.                               */
*/*                                                                  */
*/*   OUTPUT -                                                       */
*/*     .UFUNCMAP SET UP TO INDICATE ONLY DISPOSITION PROCESSING     */
*/*         IS TO BE DONE AND NO MESSAGES ARE TO BE ISSUED.          */
*/*     .FOR EACH REQUEST TO BE SCRATCHED, AN UNALLOCATION REQUEST   */
*/*      BLOCK (CMUNRB) IS SET UP WITH THE FOLLOWING INFO:           */
*/*           .PTR TO THE SIOT                                       */
*/*           .OVERRIDE-DISPOSITION-WITH-DELETE INDICATORS           */
*/*           .CHAIN PTR TO THE NEXT RB, OR 0                        */
*/*                                                                  */
*/*   RETURN CODES - (NONE)                                          */
*/*                                                                  */
*/********************************************************************/
*UFUNCMAP = UFUNCMAP && UFUNCMAP;      /*ZERO COMMON UNALOC FUNC MAP */
         XC    UFUNCMAP(4),UFUNCMAP                             02S0111
*CFMAPTR = ADDR(UFUNCMAP);             /*ESTABLISH ADDR FOR MAP MACRO*/
         LA    CFMAPTR,UFUNCMAP                                 02S0112
*CMDISPRC = ON;                        /*DO DISPOSITION PROCESSING   */
         OI    CMDISPRC(CFMAPTR),B'00100000'                    02S0113
*CMNOPOST = ON;                        /*DONT POST THE ALLOC Q-MGR   */
*CMNOVUT = ON;                         /*DONT CREATE VUT ENTRIES     */
*CMNERMSG = ON;                        /*DONT ISSUE ANY MESSAGES     */
*CMPURGE = ON;                         /*OVERRIDE EXPIRATION DATES   */
         OI    CMNOPOST(CFMAPTR),B'11000110'                    02S0117
*CMNOSMF = ON;                         /*NO SMF RECORD               */
*CMSCRVL1 = ON;                        /*ONLY SCRATCH FROM 1ST VOLUME*/
         OI    CMNOSMF(CFMAPTR),B'01100000'                     02S0119
*IF NOTIOTNQ = ON THEN                 /*IS TIOT ALREADY ENQ'ED      */
         L     @11,@PC00001                                     02S0120
         L     @11,ALCWAPTR(,@11)                               02S0120
         L     @11,FMAPPTR(,@11)                                02S0120
         TM    NOTIOTNQ(@11),B'00010000'                        02S0120
         BNO   @RF00120                                         02S0120
*  CMTIOTNQ = ON;                      /*YES, UNAL/SCR SHOULDNT ENQ  */
         OI    CMTIOTNQ(CFMAPTR),B'00000001'                    02S0121
*ELSE;                                 /*UNAL/SCR CAN ENQ ON TIOT    */
@RF00120 DS    0H                                               02S0123
*SCRNO = SCRCTR;                       /*COPY COUNT OF REQS TO SCR   */
         LR    SCRNO,SCRCTR                                     02S0123
*CMRBPTR = UNALRBP;                    /*POINT TO CORE FOR UNALOC RB */
         L     @11,UNALRBP                                      02S0124
         LR    CMRBPTR,@11                                      02S0124
*SDEVTPTR=UNALRBP + SCRCTR*LENGTH(CMUNRB); /*CORE FOR SAVING DEV
*                                        TYPES               @YM05565*/
         LR    SDEVTPTR,SCRCTR                                  02S0125
         SLA   SDEVTPTR,4                                       02S0125
         ALR   @11,SDEVTPTR                                     02S0125
         LR    SDEVTPTR,@11                                     02S0125
*VUPTR = VOLUNPTR;                     /*POINT TO THE FIRST VU ENTRY */
         L     @11,@PC00001                                     02S0126
         L     @11,ALCWAPTR(,@11)                               02S0126
         L     VUPTR,VOLUNPTR(,@11)                             02S0126
*DO VUCTR = ONE TO VOLUNSZE/LENGTH(VOLUNTAB) /*SCAN ALL VU ENTRIES   */
*    WHILE (SCRNO > ZERO);                                      02S0127
         LA    VUCTR,1                                          02S0127
         B     @DE00127                                         02S0127
@DL00127 SLR   @08,@08                                          02S0127
         CR    SCRNO,@08                                        02S0127
         BNH   @DC00127                                         02S0127
*  IF VUREALOC = ON                    /*IS VU ENTRY TO BE PROCESSED */
*      & VUDADSM = ON                  /*FOR A REQ WHICH HAS DADSM...*/
*      & VOLSIOTP->SIODADSM = ON THEN  /*DONE SUCCESSFULLY ?         */
         TM    VUREALOC(VUPTR),B'01000000'                      02S0128
         BNO   @RF00128                                         02S0128
         TM    VUDADSM(VUPTR),B'00000010'                       02S0128
         BNO   @RF00128                                         02S0128
         L     @15,VOLSIOTP(,VUPTR)                             02S0128
         TM    SIODADSM(@15),B'00000100'                        02S0128
         BNO   @RF00128                                         02S0128
*    DO;                               /*YES,CREATE AN UNALLOC RB    */
*      SAVEDEVT=VOLSIOTP->SIOTDEVT;    /*SAVE DEV. TYPE      @YM05565*/
         MVC   SAVEDEVT(4,SDEVTPTR),SIOTDEVT(@15)               02S0130
*      SDEVTPTR = SDEVTPTR + LENGTH(SAVEDEVT); /*NEXT SAVE AREA 02S0131
*                                        PTR                 @YM05565*/
         AH    SDEVTPTR,@CH00058                                02S0131
*      CMSIOPTR = VOLSIOTP;            /*STORE PTR TO SIOT           */
         ST    @15,CMSIOPTR(,CMRBPTR)                           02S0132
*      CMORDISP = ON;                  /*INDICATE OVERRIDE DISP      */
         OI    CMORDISP(CMRBPTR),B'00010000'                    02S0133
*      CMODEL = ON;                    /*INDICATE DELETE DISPOSITION */
         OI    CMODEL(CMRBPTR),B'00000100'                      02S0134
*      SCRNO = SCRNO - ONE;            /*DECREMENT COUNT OF SCRATCHS */
         BCTR  SCRNO,0                                          02S0135
*      IF SCRNO > ZERO THEN            /*ANY MORE REQS TO BE SCRATCHD*/
         CR    SCRNO,@08                                        02S0136
         BNH   @RF00136                                         02S0136
*        DO;                           /*YES,PREPARE FOR NEXT REQ BLK*/
*          CMNRBPTR=CMRBPTR+LENGTH(CMUNRB); /*SET FORWARD CHAIN PTR  */
         LA    @08,16                                           02S0138
         LR    @15,CMRBPTR                                      02S0138
         ALR   @15,@08                                          02S0138
         ST    @15,CMNRBPTR(,CMRBPTR)                           02S0138
*          CMRBPTR=CMRBPTR+LENGTH(CMUNRB); /*POINT TO NEXT RB FOR MAP*/
         ALR   CMRBPTR,@08                                      02S0139
*        END;                                                   02S0140
*      ELSE;                           /*NO MORE REQS TO BE SCRATCHED*/
@RF00136 DS    0H                                               02S0142
*    END;                                                       02S0142
*  ELSE;                               /*VU ENTRY NOT TO BE PROCESSED*/
@RF00128 DS    0H                                               02S0144
*  VUPTR = VUPTR + LENGTH(VOLUNTAB);   /*POINT TO NEXT VOLUNIT ENTRY */
         AL    VUPTR,@CF01606                                   02S0144
*END;                                                           02S0145
         AH    VUCTR,@CH00042                                   02S0145
@DE00127 L     @08,@PC00001                                     02S0145
         L     @08,ALCWAPTR(,@08)                               02S0145
         L     @00,VOLUNSZE(,@08)                               02S0145
         SRDA  @00,32                                           02S0145
         D     @00,@CF01606                                     02S0145
         CR    VUCTR,@01                                        02S0145
         BNH   @DL00127                                         02S0145
@DC00127 DS    0H                                               02S0146
*        CALL IEFAB4A0                /*DELETE DATA SETS     @ZD03010*/
*             (UFUNCMAP,UNALRBP,JSCBPTR,0,0,0,0,URCODES,0,0);   01S0146
         MVC   @AL00001+12(28),@AL00146                         01S0146
         LA    @11,UFUNCMAP                                     01S0146
         ST    @11,@AL00001                                     01S0146
         LA    @11,UNALRBP                                      01S0146
         ST    @11,@AL00001+4                                   01S0146
         L     @11,@PC00001                                     01S0146
         L     @11,ALCWAPTR(,@11)                               01S0146
         LA    @11,JSCBPTR(,@11)                                01S0146
         ST    @11,@AL00001+8                                   01S0146
         LA    @11,URCODES                                      01S0146
         ST    @11,@AL00001+28                                  01S0146
         L     @15,@CV00430                                     01S0146
         LA    @01,@AL00001                                     01S0146
         BALR  @14,@15                                          01S0146
*                                      /*                    @ZA33043*/
*        RTNCODE = REG15;              /*SAVE THE RETURN CODE        */
         LR    RTNCODE,REG15                                    01S0147
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - SCRETURN                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - PROCESS RETURN INFO FROM IEFAB4A0             */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     THIS ROUTINE DETERMINES IF COMMON UNALLOCATION SUCCESSFULLY  */
*/*     DELETED ALL THE REQUESTS PASSED TO IT.                       */
*/*     FOR EACH SIOT WHICH WAS SUCCESSFULLY DELETED, SIODADSM IS    */
*/*     SET TO 0 SO THAT IF THE SIOT IS NOT REALLOCATED UNALLOCATION */
*/*     WILL NOT TRY TO SCRATCH THE REQUEST AGAIN AT THE END OF THE  */
*/*     STEP.                                                        */
*/*     FOR EACH SIOT WHICH COULD NOT BE SCRATCHED, A SIOT REASON    */
*/*     CODE OF 81 IS SET AND A NON-ZERO RETURN CODE IS SET.         */
*/*     THE SIOT DEVICE TYPE IS RESTORED.                    @YM05565*/
*/*                                                                  */
*/*   OPERATION - THE OPERATION IS DOCUMENTED BY THE CODE ITSELF.    */
*/*                                                                  */
*/* ENTRY - (INLINE SUBROUTINE)                                      */
*/*                                                                  */
*/*   PURPOSE - (SEE FUNCTION)                                       */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*      RTNCODE - RETURN CODE FROM IEFAB4A0                         */
*/*      UNALRBP - PTR TO THE FIRST COMMON UNALLOC REQUEST BLOCK     */
*/*      COMMON UNALLOC RB FIELDS - CMSIOPTR - PTR TO SIOT           */
*/*                               - CMRETCDE - INFO RETURN CODE      */
*/*                                                                  */
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */
*/*                                                                  */
*/*   CONDITIONS - ALL REQS WERE DELETED SUCCESSFULLY                */
*/*                                                                  */
*/*   OUTPUT - SIODADSM SET TO 0 FOR ALL REQS DELETED.               */
*/*                                                                  */
*/*   RETURN CODES - RTNCODE = 0                                     */
*/*                                                                  */
*/* EXIT - ERROR - (INLINE SUBROUTINE)                               */
*/*                                                                  */
*/*   CONDITIONS - ERROR DETECTED BY MODULE IEFAB4A0                 */
*/*                                                                  */
*/*   OUTPUT - SIODADSM SET TO 0 FOR ALL REQS DELETED.               */
*/*          - SIOTRSNC SET TO 81 FOR ALL UNSUCCESSFUL SCRATCHES     */
*/*                                                                  */
*/*   RETURN CODES - RTNCODE = NON-ZERO                              */
*/*                                                                  */
*/********************************************************************/
*IF RTNCODE = SUCCESS THEN             /*ERROR FROM IEFAB4A0         */
         LTR   RTNCODE,RTNCODE                                  02S0148
         BNZ   @RF00148                                         02S0148
*  DO;                                 /*NO, CHECK INFO RETURN CODES */
*    CMRBPTR = UNALRBP;                /*POINT TO FIRST REQ BLOCK    */
         L     @11,UNALRBP                                      02S0150
         LR    CMRBPTR,@11                                      02S0150
*    SDEVTPTR=UNALRBP + SCRCTR*LENGTH(CMUNRB); /*FIRST SAVED DEV TYPE
*                                                            @YM05565*/
         LR    SDEVTPTR,SCRCTR                                  02S0151
         SLA   SDEVTPTR,4                                       02S0151
         ALR   @11,SDEVTPTR                                     02S0151
         LR    SDEVTPTR,@11                                     02S0151
*    DO WHILE CMRBPTR ^= ZERO;         /*SCAN ALL UNALLOC RB'S       */
         B     @DE00152                                         02S0152
@DL00152 DS    0H                                               02S0153
*      IF CMRETCDE ^= ZERO THEN        /*WAS REQ SCRATCHED OK ?      */
         ICM   @12,3,CMRETCDE(CMRBPTR)                          02S0153
         BZ    @RF00153                                         02S0153
*        DO;                           /*NO, INDICATE ERROR          */
*          CMSIOPTR->SIOTRSNC = SCRERR;                         02S0155
         L     @12,CMSIOPTR(,CMRBPTR)                           02S0155
         MVC   SIOTRSNC(2,@12),@CH00420                         02S0155
*          CMSIOPTR->SIOTALCD = OFF;                            02S0156
         NI    SIOTALCD(@12),B'11111101'                        02S0156
*          RTNCODE = FAILURE;                                   02S0157
         LA    RTNCODE,4                                        02S0157
*        END;                                                   02S0158
*      ELSE                            /*REQ WAS SCRATCHED OK        */
*        DO;                                                    02S0159
         B     @RC00153                                         02S0159
@RF00153 DS    0H                                               02S0160
*          CMSIOPTR->SIODADSM = OFF;   /*TURN OFF DADSM->DONE SWITCH */
         L     @12,CMSIOPTR(,CMRBPTR)                           02S0160
         NI    SIODADSM(@12),B'11111011'                        02S0160
*        END;                                                   02S0161
*      CMSIOPTR->SIOTDEVT=SAVEDEVT;    /*RESTORE DEV TYPE    @YM05565*/
@RC00153 L     @12,CMSIOPTR(,CMRBPTR)                           02S0162
         MVC   SIOTDEVT(4,@12),SAVEDEVT(SDEVTPTR)               02S0162
*      CMSIOPTR->SIOUCBAD=ZERO;        /*CLEAR UCB ADDR.     @YM05565*/
         SLR   @11,@11                                          02S0163
         STCM  @11,7,SIOUCBAD(@12)                              02S0163
*      SDEVTPTR=SDEVTPTR + LENGTH(SAVEDEVT); /*NEXT DEV TYPE ADDR
*                                                            @YM05565*/
         AH    SDEVTPTR,@CH00058                                02S0164
*      CMSIOPTR -> SIOTDSPD = OFF;                              02S0165
         NI    SIOTDSPD(@12),B'10111111'                        02S0165
*      CMRBPTR = CMNRBPTR;             /*POINT TO THE NEXT UNALLOC RB*/
         L     CMRBPTR,CMNRBPTR(,CMRBPTR)                       02S0166
*    END;                                                       02S0167
@DE00152 LTR   CMRBPTR,CMRBPTR                                  02S0167
         BNZ   @DL00152                                         02S0167
*  END;                                                         02S0168
*ELSE                                  /*IEFAB4A0 ERROR              */
*  FAILRSC = UNALERR;                  /*SET STEP RETURN CODE        */
         B     @RC00148                                         02S0169
@RF00148 L     @12,@PC00001                                     02S0169
         L     @12,ALCWAPTR(,@12)                               02S0169
         L     @12,FAILRSCP(,@12)                               02S0169
         MVC   FAILRSC(2,@12),@CH00428                          02S0169
*        RFY (REG0,REG1) RSTD;                                  01S0170
@RC00148 DS    0H                                               01S0171
*        REG0 = GETSIZE;               /*SIZE OF GETMAIN DONE        */
         L     REG0,GETSIZE                                     01S0171
*        REG0 = REG0 × SUBPL230;       /*FREE FROM SUBPOOL 230       */
         O     REG0,@CF00422                                    01S0172
*        REG1 = UNALRBP;               /*PTR TO GETMAIN CORE         */
         L     REG1,UNALRBP                                     01S0173
*        GEN ( FREEMAIN R,LV=(0),A=(1)); /*FREE THE CORE             */
          FREEMAIN R,LV=(0),A=(1)
*        RFY (REG0,REG1) UNRSTD;                                01S0175
*      END;                                                     01S0176
*    ELSE                              /*GETMAIN ERROR               */
*      DO;                                                      01S0177
         B     @RC00109                                         01S0177
@RF00109 DS    0H                                               01S0178
*        FAILRSC = GETMNERR;           /*SET GETMAIN ERR REASON CODE */
         L     @12,@PC00001                                     01S0178
         L     @12,ALCWAPTR(,@12)                               01S0178
         L     @12,FAILRSCP(,@12)                               01S0178
         MVC   FAILRSC(2,@12),@CH00157                          01S0178
*      END;                                                     01S0179
*  END;                                                         01S0180
*ELSE;                                 /*NO REQS TO BE SCRATCHED     */
@RF00081 DS    0H                                               01S0182
*IF RTNCODE = SUCCESS THEN             /*ANY ERRORS ?                */
@RC00081 LTR   RTNCODE,RTNCODE                                  01S0182
         BNZ   @RF00182                                         01S0182
*  DO;                                 /*NO,UNALLOC UNITS AS REQUESTD*/
*/* PETE                                                             */
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - UNITUNAL                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - UNALLOCATE UNITS FOR THE REQUESTS INDICATED   */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     THIS ROUTINE DOES THE FOLLOWING FUNCTIONS FOR EACH VOLUNIT   */
*/*     ENTRY WHICH IS MARKED TO BE UNALLOCATED:                     */
*/*         .THIS ROUTINE DETERMINES IF ALL OF THE OTHER VOLUNIT     */
*/*          ENTRIES ALLOCATED TO THE SAME UNIT ARE ALSO BEING       */
*/*          UNALLOCATED.                                            */
*/*         .SEGMENT 'UNALPROC' IS CALLED TO ZERO THE TIOT DEVICE    */
*/*          ENTRY AND GROUP ID LIST ENTRY, MARK THE VU ENTRY AND    */
*/*          THE SIOT UNALLOCATED, AND DECHAIN ANY MOUNT REQUEST     */
*/*          FOR THAT UNIT.                                          */
*/*         .SEGMENT 'RUNALUCB' UPDATES THE UCB TO REFLECT THE       */
*/*          UNALLOCATIONS FROM THAT UNIT. RUNALUCB MAY ALSO INVOKE  */
*/*          VM+V TO UNLOAD THE VOLUME MOUNTED ON THE UNIT JUST      */
*/*          UNALLOCATED AND MAY INVOKE SEGMENT 'MAYBEVDQ' TO DEQ    */
*/*          THE VOLUME SERIAL NUMBER.                               */
*/*                                                                  */
*/*   OPERATION - THE SIOTS ARE SCANNED TO LOCATE EACH VOLUNIT ENTRY */
*/*               WHICH IS TO BE UNALLOCATED. WHENEVER SUCH AN ENTRY */
*/*               IS FOUND, THE ENTIRE  SIOT  CHAIN  IS RESCANNED TO */
*/*               FIND ALL THE VU ENTRIES ALLOCATED TO THE SAME      */
*/*               UNIT, TO UNALLOCATE THEM IF REQUESTED, AND THEN    */
*/*               TO UNALLOCATE THE UCB.                             */
*/*                                                                  */
*/* ENTRY - (INLINE SUBROUTINE)                                      */
*/*                                                                  */
*/*   PURPOSE - (SEE FUNCTION)                                       */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*      SIOT1P - PTR TO THE FIRST SIOT IN THE CHAIN                 */
*/*                                                                  */
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */
*/*                                                                  */
*/*   CONDITIONS - FUNCTION COMPLETED.                               */
*/*                                                                  */
*/*   OUTPUT -                                                       */
*/*      .VOLUNIT ENTRIES + SIOTS MARKED UNALLOCATED                 */
*/*      .TIOT DEVICE ENTRIES + GROUP ID LIST ENTRIES ZEROED         */
*/*      .UCBS UPDATED TO REFLECT UNALLOCATIONS                      */
*/*      .VM+V MOUNT REQS DECHAINED, VOLUMES UNLOADED AND DEQ'ED     */
*/*                                                                  */
*/*   RETURN CODES - RTNCODE SET TO 0                                */
*/*                                                                  */
*/* EXIT - ERROR - (INLINE SUBROUTINE)                               */
*/*                                                                  */
*/*   CONDITIONS - GETMAIN ERROR IN MODULE IEFAB49C (VM+V)           */
*/*                                                                  */
*/*   OUTPUT - SAME AS FOR A NORMAL EXIT EXCEPT ONE OR MORE VOLUME   */
*/*            UNLOAD MESSAGES COULD NOT BE ISSUED AND REASON CODE   */
*/*            (FAILRSC) SET TO 2.                                   */
*/*                                                                  */
*/*   RETURN CODE - RTNCODE SET TO 4                                 */
*/*                                                                  */
*/********************************************************************/
*SPTR = SIOT1P;                        /*POINT TO FIRST SIOT IN CHAIN*/
         L     @12,@PC00001                                     02S0184
         L     @12,ALCWAPTR(,@12)                               02S0184
         L     SPTR,SIOT1P(,@12)                                02S0184
*DO WHILE (SPTR ^= ZERO & RTNCODE=SUCCESS); /*SCAN ALL THE SIOTS     */
         B     @DE00185                                         02S0185
@DL00185 DS    0H                                               02S0186
*  DEVNO = ZERO;                       /*INIT COUNT OF DEVICES REQ'D */
         SLR   @12,@12                                          02S0186
         ST    @12,DEVNO                                        02S0186
*  SCANVUP = SPTR->SVOLUNAD;           /*POINT TO FIRST VU FOR SIOT  */
         MVC   SCANVUP(4),SVOLUNAD(SPTR)                        02S0187
*  DO SCAVUCTR = ONE TO SPTR->SVOLUNNO /*SCAN ALL THE VOLUNIT ENTRIES*/
*    WHILE RTNCODE = SUCCESS;                                   02S0188
         LA    @12,1                                            02S0188
         B     @DE00188                                         02S0188
@DL00188 LTR   RTNCODE,RTNCODE                                  02S0188
         BNZ   @DC00188                                         02S0188
*   IF SCANVUP->VDEVREQD = ON THEN     /*IS A DEVICE REQ'D FOR VU ?  */
         L     @12,SCANVUP                                      02S0189
         TM    VDEVREQD(@12),B'00100000'                        02S0189
         BNO   @RF00189                                         02S0189
*       DEVNO = DEVNO + ONE;           /*YES,INCREMENT THE COUNT     */
         LA    @12,1                                            02S0190
         AL    @12,DEVNO                                        02S0190
         ST    @12,DEVNO                                        02S0190
*   IF SCANVUP->VUREALOC = ON          /*IS VU TO BE PROCESSED ...   */
*      & SCANVUP->VOLALOC = ON THEN    /*...AND STILL ALLOCATED ?    */
@RF00189 L     @12,SCANVUP                                      02S0191
         TM    VUREALOC(@12),B'01000000'                        02S0191
         BNO   @RF00191                                         02S0191
         TM    VOLALOC(@12),B'10000000'                         02S0191
         BNO   @RF00191                                         02S0191
*    DO;                               /*YES, PROCESS ..             */
*      DECRUSER = ZERO;                /*INIT CNT OF UNALOCS FOR UNIT*/
         SLR   @12,@12                                          02S0193
         ST    @12,DECRUSER                                     02S0193
*      UNALUNIT = ON;                  /*ASSUME UNIT TO BE UNALLOC'D */
*      PVTNONE = OFF;                  /*ASSUME NO VOL ATTR CHANGE   */
*      PVTPUB = OFF;                   /*ASSURE NO VOL ATTR CHANGE   */
*      SRCHSW = OFF;                   /*ASSUME NOT SPEC VOL REQ     */
         OI    UNALUNIT,B'10000000'                             02S0197
         NI    PVTNONE,B'10001111'                              02S0197
*      UCBPTR = SPTR->SIOTETIO->DSABTIOT->TIOUCBP(DEVNO); /*PT TO UCB*/
         L     @12,DEVNO                                        02S0198
         SLA   @12,2                                            02S0198
         L     @11,SIOTETIO(,SPTR)                              02S0198
         L     @11,DSABTIOT(,@11)                               02S0198
         L     UCBPTR,TIOUCBP-5(@12,@11)                        02S0198
         LA    UCBPTR,0(,UCBPTR)                                02S0198
*      SIOTPTR = SIOT1P;               /*POINT TO FIRST SIOT IN CHAIN*/
         L     @12,@PC00001                                     02S0199
         L     @12,ALCWAPTR(,@12)                               02S0199
         L     SIOTPTR,SIOT1P(,@12)                             02S0199
*      DO WHILE SIOTPTR ^= ZERO;       /*SCAN ALL THE SIOTS          */
         B     @DE00200                                         02S0200
@DL00200 DS    0H                                               02S0201
*        IF SIOTETIO ^= ZERO THEN      /*IS THERE AN ETIOT FOR SIOT? */
         ICM   @12,15,SIOTETIO(SIOTPTR)                         02S0201
         BZ    @RF00201                                         02S0201
*          DO;                         /*YES,SEE IF ALLOC TO THIS UCB*/
*            RELDEVNO = ZERO;          /*INIT COUNT OF DEVICES REQ'D */
         SLR   RELDEVNO,RELDEVNO                                02S0203
*            VUPTR = SVOLUNAD;         /*POINT TO FIRST VU FOR SIOT  */
         L     VUPTR,SVOLUNAD(,SIOTPTR)                         02S0204
*            DO VUCTR = ONE TO SVOLUNNO; /*SCAN ALL VOLUNIT ENTRIES  */
         LA    VUCTR,1                                          02S0205
         B     @DE00205                                         02S0205
@DL00205 DS    0H                                               02S0206
*              IF VDEVREQD = ON THEN   /*DOES VU ENTRY REQUIRE A DEV?*/
         TM    VDEVREQD(VUPTR),B'00100000'                      02S0206
         BNO   @RF00206                                         02S0206
*                  RELDEVNO=RELDEVNO+ONE; /*YES, INCREMENT THE COUNT */
         AH    RELDEVNO,@CH00042                                02S0207
*              IF TIOUCBP(RELDEVNO) = UCBPTR THEN /*ALCD TO THIS UCB?*/
@RF00206 LR    @15,RELDEVNO                                     02S0208
         SLA   @15,2                                            02S0208
         L     @14,SIOTETIO(,SIOTPTR)                           02S0208
         L     @01,DSABTIOT(,@14)                               02S0208
         L     @05,TIOUCBP-5(@15,@01)                           02S0208
         LA    @05,0(,@05)                                      02S0208
         CR    UCBPTR,@05                                       02S0208
         BNE   @RF00208                                         02S0208
*                DO;                   /*YES, PROCESS ..             */
*                  IF VUREALOC = ON THEN /*IS VU ENTRY TO BE UNALLOCD*/
         TM    VUREALOC(VUPTR),B'01000000'                      02S0210
         BNO   @RF00210                                         02S0210
*                    DO;               /*YES, UNALLOCATE THE REQUEST */
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - UNALPROC                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - UNALLOCATE A PARTICULAR VU REQUEST            */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     THIS ROUTINE PERFORMS THE FOLLOWING FUNCTIONS FOR THE        */
*/*     VOLUNIT ENTRY BEING UNALLOCATED:                             */
*/*         .IF THIS VU ENTRY REQUIRES A DEVICE, THE ASSOCIATED      */
*/*          TIOT DEVICE ENTRY AND THE DSAB'S GROUP ID LIST ENTRY    */
*/*          ARE ZEROED. THE COUNT OF REQUESTS UNALLOCATED FROM      */
*/*          THIS UNIT IS ALSO INCREMENTED BY ONE.                   */
*/*         .THE VOLUNIT ENTRY AND ITS SIOT ARE MARKED UNALLOCATED.  */
*/*         .IF THERE IS A VM+V (MOUNT) REQUEST BLOCK ASSOCIATED     */
*/*          WITH THE UCB BEING UNALLOCATED, THEN IT IS DECHAINED    */
*/*          FROM THE CHAIN AND THE CORE FOR IT IS FREED.            */
*/*                                                                  */
*/*   OPERATION - THE OPERATION IS DOCUMENTED BY THE CODE ITSELF.    */
*/*                                                                  */
*/* ENTRY - (INLINE SUBROUTINE)                                      */
*/*                                                                  */
*/*   PURPOSE - (SEE FUNCTION)                                       */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*       UCBPTR - PTR TO THE UCB BEING UNALLOCATED                  */
*/*       VUPTR - PTR TO THE VOLUNIT ENTRY BEING UNALLOCATED         */
*/*                                                                  */
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */
*/*                                                                  */
*/*   CONDITIONS - FUNCTION COMPLETED                                */
*/*                                                                  */
*/*   OUTPUT -                                                       */
*/*     .TIOT DEVICE ENTRY (TIOUCBP) SET TO 0                        */
*/*     .DSAB'S GROUP ID LIST ENTRY (DSABGRID) SET TO 0              */
*/*     .COUNT OF UNALLOCATION TO THIS UCB (DECRUSER) INCREMENTED    */
*/*      BY 1                                                        */
*/*     .VOLALOC SET TO 0                                            */
*/*     .SIOTALCD SET TO 0                                           */
*/*     .VM+V RB DELETED BY CHAIN AND ITS CORE FREED                 */
*/*                                                                  */
*/*   RETURN CODES - (NONE)                                          */
*/*                                                                  */
*/********************************************************************/
*IF VDEVREQD = ON THEN                 /*IS THERE A DEVICE ENTRY?    */
         TM    VDEVREQD(VUPTR),B'00100000'                      03S0212
         BNO   @RF00212                                         03S0212
*  DO;                                 /*YES, PROCESS ..             */
*    DSABGRID(RELDEVNO) = ZERO;        /*ZERO GROUP ID FOR DEVICE ENT*/
         L     @01,DSABGIDP(,@14)                               03S0214
         SLR   @14,@14                                          03S0214
         ST    @14,DSABGRID-4(@15,@01)                          03S0214
*    DECRUSER = DECRUSER + ONE;        /*INCREMENT COUNT OF UNALLOCS */
         LA    @15,1                                            03S0215
         L     @14,DECRUSER                                     03S0215
         ALR   @14,@15                                          03S0215
         ST    @14,DECRUSER                                     03S0215
*    TOTVOLUN = TOTVOLUN + ONE;        /*INCREASE VU'S TO ALLOC      */
         L     @14,@PC00001                                     03S0216
         L     @14,ALCWAPTR(,@14)                               03S0216
         L     @05,TOTVOLUN(,@14)                               03S0216
         ALR   @05,@15                                          03S0216
         ST    @05,TOTVOLUN(,@14)                               03S0216
*    IF SIOTALCD = ON THEN             /*IS SIOT FULLY ALLOCATED ?   */
         TM    SIOTALCD(SIOTPTR),B'00000010'                    03S0217
         BNO   @RF00217                                         03S0217
*      DO;                             /*YES, INDICATE SIOT UNAL'OCED*/
*        TOTREQS = TOTREQS + ONE;                               03S0219
         AL    @15,TOTREQS(,@14)                                03S0219
         ST    @15,TOTREQS(,@14)                                03S0219
*      END;                                                     03S0220
*    ELSE;                                                      03S0221
@RF00217 DS    0H                                               03S0222
*    IF TIONSRCH(RELDEVNO) = ON THEN   /*SPECIFIC VOL REQUEST        */
         LR    @15,RELDEVNO                                     03S0222
         SLA   @15,2                                            03S0222
         L     @01,SIOTETIO(,SIOTPTR)                           03S0222
         L     @01,DSABTIOT(,@01)                               03S0222
         ALR   @01,@15                                          03S0222
         TM    TIONSRCH-4(@01),B'00010000'                      03S0222
         BNO   @RF00222                                         03S0222
*      SRCHSW = ON;                                             03S0223
         OI    SRCHSW,B'00010000'                               03S0223
*    IF TIOPUBPV(RELDEVNO) = ON THEN   /*VOL ATTR TO BE CHANGED TO
*                                        PUBLIC?                     */
@RF00222 LR    @15,RELDEVNO                                     03S0224
         SLA   @15,2                                            03S0224
         L     @01,SIOTETIO(,SIOTPTR)                           03S0224
         L     @01,DSABTIOT(,@01)                               03S0224
         ALR   @01,@15                                          03S0224
         TM    TIOPUBPV-4(@01),B'00001000'                      03S0224
         BNO   @RF00224                                         03S0224
*      PVTPUB = ON;                    /*YES, INDICATE               */
         OI    PVTPUB,B'00100000'                               03S0225
*    IF TIONOPV(RELDEVNO) = ON THEN    /*VOL ATTR TO BE CHANGED TO
*                                        NOTHING                     */
@RF00224 LR    @15,RELDEVNO                                     03S0226
         SLA   @15,2                                            03S0226
         L     @01,SIOTETIO(,SIOTPTR)                           03S0226
         L     @01,DSABTIOT(,@01)                               03S0226
         ALR   @01,@15                                          03S0226
         TM    TIONOPV-4(@01),B'00000100'                       03S0226
         BNO   @RF00226                                         03S0226
*      PVTNONE = ON;                   /*YES, INDICATE               */
         OI    PVTNONE,B'01000000'                              03S0227
*      TIOEDEVE(RELDEVNO) = ZERO;      /*ZERO TIOT DEVICE ENTRY      */
@RF00226 LR    @15,RELDEVNO                                     03S0228
         SLA   @15,2                                            03S0228
         L     @01,SIOTETIO(,SIOTPTR)                           03S0228
         L     @01,DSABTIOT(,@01)                               03S0228
         SLR   @14,@14                                          03S0228
         ST    @14,TIOEDEVE-4(@15,@01)                          03S0228
*  END;                                                         03S0229
*ELSE;                                 /*NOT DEVICE REQUIRED         */
@RF00212 DS    0H                                               03S0231
*VOLALOC = OFF;                        /*MARK THE VOLUNIT ENTRY UNALC*/
         NI    VOLALOC(VUPTR),B'01111111'                       03S0231
*SIOTALCD = OFF;                       /*MARK THE SIOT NOT FULLY ALOC*/
         NI    SIOTALCD(SIOTPTR),B'11111101'                    03S0232
*LASTPTR = ADDR(SIOTVMVP);             /*SAVE PTR TO RB PTR          */
         LA    @15,SIOTVMVP(,SIOTPTR)                           03S0233
         ST    @15,LASTPTR                                      03S0233
*VMVREQBP = SIOTVMVP;                  /*POINT TO CHAIN OF VM+V RB'S */
         MVC   VMVREQBP(4),SIOTVMVP(SIOTPTR)                    03S0234
*DO WHILE VMVREQBP ^= ZERO;            /*SCAN ALL VM+V RB'S FOR SIOT */
         B     @DE00235                                         03S0235
@DL00235 DS    0H                                               03S0236
*  IF VMVUCBP = UCBPTR THEN            /*IS VM+V RB FOR THIS UCB ?   */
         L     @15,VMVREQBP                                     03S0236
         SLR   @14,@14                                          03S0236
         ICM   @14,7,VMVUCBP(@15)                               03S0236
         CR    UCBPTR,@14                                       03S0236
         BNE   @RF00236                                         03S0236
*    DO;                               /*YES, DELETE THE VM+V REQ BLK*/
*      LASTCHNP = VMVNREQP;            /*TAKE THIS VM+V RB FROM CHAIN*/
         L     @01,LASTPTR                                      03S0238
         MVC   LASTCHNP(4,@01),VMVNREQP(@15)                    03S0238
*      RFY (REG0,REG1) RSTD;                                    03S0239
*      REG0 = LENGTH(VMVRQBLK);        /*SIZE OF VM+V REQUEST BLOCK  */
         LA    REG0,52                                          03S0240
*      REG0 = REG0 × SUBPL230;         /*FREE FROM SUBPOOL 230       */
         O     REG0,@CF00422                                    03S0241
*      REG1 = VMVREQBP;                /*PTR TO VM+V REQUEST BLOCK   */
         LR    REG1,@15                                         03S0242
*      GEN ( FREEMAIN R,LV=(0),A=(1)); /*FREE THE CORE FOR THE RB    */
          FREEMAIN R,LV=(0),A=(1)
*      RFY (REG0,REG1) UNRSTD;                                  03S0244
*      VMVREQBP = LASTCHNP;            /*PTR TO NEXT VM&V RB         */
         L     @01,LASTPTR                                      03S0245
         MVC   VMVREQBP(4),LASTCHNP(@01)                        03S0245
*    END;                                                       03S0246
*  ELSE                                /*VM+V RB NOT FOR THIS UCB    */
*    DO;                                                        03S0247
         B     @RC00236                                         03S0247
@RF00236 DS    0H                                               03S0248
*      LASTPTR = ADDR(VMVNREQP);       /*SAVE PTR TO RB PTR          */
         L     @15,VMVREQBP                                     03S0248
         LA    @14,VMVNREQP(,@15)                               03S0248
         ST    @14,LASTPTR                                      03S0248
*      VMVREQBP = VMVNREQP;            /*POINT TO THE NEXT VM+V RB   */
         L     @15,VMVNREQP(,@15)                               03S0249
         ST    @15,VMVREQBP                                     03S0249
*    END;                                                       03S0250
*END;                                                           03S0251
@RC00236 DS    0H                                               03S0251
@DE00235 ICM   @15,15,VMVREQBP                                  03S0251
         BNZ   @DL00235                                         03S0251
*                    END;                                       02S0252
*                  ELSE                /*VU ENTRY IS NOT TO BE UNALOC*/
*                    DO;                                        02S0253
         B     @RC00210                                         02S0253
@RF00210 DS    0H                                               02S0254
*                      UNALUNIT = OFF; /*UNIT NOT FULLY UNALLOCATED  */
         NI    UNALUNIT,B'01111111'                             02S0254
*                    END;                                       02S0255
*                END;                                           02S0256
*              ELSE;                   /*NOT ALLOC'D TO THIS UCB     */
@RF00208 DS    0H                                               02S0258
*              VUPTR=VUPTR+LENGTH(VOLUNTAB); /*POINT TO NEXT VU ENTRY*/
@RC00208 AL    VUPTR,@CF01606                                   02S0258
*            END;                                               02S0259
         AH    VUCTR,@CH00042                                   02S0259
@DE00205 CH    VUCTR,SVOLUNNO(,SIOTPTR)                         02S0259
         BNH   @DL00205                                         02S0259
*          END;                                                 02S0260
*        ELSE;                         /*NO ETIOT FOR SIOT           */
@RF00201 DS    0H                                               02S0262
*        SIOTPTR = SIOTNPTR;           /*POINT TO NEXT SIOT IN CHAIN */
         L     SIOTPTR,SIOTNPTR(,SIOTPTR)                       02S0262
*      END;                                                     02S0263
@DE00200 LTR   SIOTPTR,SIOTPTR                                  02S0263
         BNZ   @DL00200                                         02S0263
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - RUNALUCB                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - UNALLOCATE A UCB                              */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*     THIS ROUTINE UPDATES THE UCB BEING UNALLOCATED AS            */
*/*     FOLLOWS: - IF THE UCB IS DA, THE USER COUNT IS DECREMENTED.  */
*/*              - THE UCB IS MARKED UNALLOCATED UNLESS THE UNIT     */
*/*                IS DA AND THE USER COUNT DOESN'T GO TO ZERO OR    */
*/*                THE INPUTS INDICATED THE UCB IS STILL ALLOCATED   */
*/*                TO THIS JOB.                                      */
*/*              - IF THE UCB IS MARKED UNALLOCATED, THE             */
*/*                USE ATTRIBUTE IS CHANGED TO PUBLIC OR NOTHING     */
*/*                IF REQUESTED.                                     */
*/*                                                                  */
*/*     VM+V IS REQUESTED TO UNLOAD THE VOLUME ON THE UNIT IF IT     */
*/*     IS COMPLETELY UNALLOCATED AND ,IF DA AND THE FUNCTION MAP    */
*/*     DESIRES, THE VOLUME MUST BE MOUNT-PENDING.                   */
*/*                                                                  */
*/*     IF THE UNIT IS TAPE OR DA AND NO  VU ENTRIES ARE STILL       */
*/*     ALLOCATED, SEGMENT 'MAYBEVDQ' IS INVOKED TO DEQ THE          */
*/*     VOLUME SERIAL NUMBER IF IT IS NO LONGER NEEDED.              */
*/*                                                                  */
*/*   OPERATION - THE OPERATION IS DOCUMENTED BY THE CODE ITSELF.    */
*/*                                                                  */
*/* ENTRY - (INLINE SUBROUTINE)                                      */
*/*                                                                  */
*/*   PURPOSE - (SEE FUNCTION)                                       */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*      UNALUNIT - 1 - ALL VU ENTRIES HAVE BEEN UNALLOCATED FROM    */
*/*                     THIS UNIT.                                   */
*/*                 0 - VU ENTRIES STILL ALLOCATED TO THIS UNIT.     */
*/*      UCBPTR - PTR TO THE UCB BEING UNALLOCATED.                  */
*/*      FUNCMAP - FUNCTION MAP WHICH CONTAINS                       */
*/*        UNLDPMNT - 1 - ONLY UNLOAD DA VOLUMES IF PENDING-MOUNT    */
*/*                 - 0 - UNLOAD ALL DA VOLUMES COMPLETELY UNALLOC'D */
*/*                                                                  */
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */
*/*                                                                  */
*/*   CONDITIONS - FUNCTION COMPLETED                                */
*/*                                                                  */
*/*   OUTPUT -                                                       */
*/*      .UCB FIELDS UPDATED - UCBUSER DECREMENTED                   */
*/*                          - UCBALOC SET TO 0                      */
*/*                          - UCBBPVT SET TO 0                      */
*/*                          - UCBBPUB SET TO 1                      */
*/*                          - UCBNSRCH SET TO 0                     */
*/*      .VOLUME UNLOAD REQUESTED BY VM+V                            */
*/*      .VOLUME SERIAL DEQ'ED                                       */
*/*                                                                  */
*/*   RETURN CODES - RTNCODE SET TO 0                                */
*/*                                                                  */
*/* EXIT - ERROR - (INLINE SUBROUTINE)                               */
*/*                                                                  */
*/*   CONDITIONS - GETMAIN ERROR IN MODULE IEFAB473 (VM+V)           */
*/*                                                                  */
*/*   OUTPUT - SAME AS FOR A NORMAL EXIT EXCEPT THE VOLUME UNLOAD    */
*/*            MSG WAS NOT ISSUED AND THE REASON CODE (FAILRSC)      */
*/*            IS SET TO 2.                                          */
*/*                                                                  */
*/*   RETURN CODES - RTNCODE SET TO 4                                */
*/*                                                                  */
*/********************************************************************/
*IF UNALUNIT = ON                      /*IS UNIT COMPLETELY UNALLOC'D*/
*    & (UCB3DACC = ON                  /*BY THIS JOB AND EITHER A    */
*    × UCB3TAPE = ON) THEN             /*TAPE OR DA UNIT ?           */
         TM    UNALUNIT,B'10000000'                             03S0264
         BNO   @RF00264                                         03S0264
         TM    UCB3DACC(UCBPTR),B'10100000'                     03S0264
         BZ    @RF00264                                         03S0264
*  DO;                                 /*YES,MAY BE ABLE TO DEQ VOL  */
*    DODEQ = ON;                       /*INDICATE MAY NEED VOL DEQ   */
         OI    DODEQ,B'00001000'                                03S0266
*    DEQVOLID = UCBVOLI;               /*COPY THE VOLID FROM THE UCB */
         MVC   DEQVOLID(6),UCBVOLI(UCBPTR)                      03S0267
*  END;                                                         03S0268
*ELSE                                  /*VOLUME DEQ NOT NEEDED       */
*    DODEQ = OFF;                                               03S0269
         B     @RC00264                                         03S0269
@RF00264 NI    DODEQ,B'11110111'                                03S0269
* DO; /*MODESET  KEYADDR(ZERO)*/                                03S0270
@RC00264 DS    0H                                               03S0271
*   SPKA (ZERO); /*SET PSW KEY*/                                03S0271
         SLR   @12,@12                                          03S0271
         SPKA  0(@12)                                           03S0271
* END; /*MODESET  KEYADDR(ZERO)*/                               03S0272
* DO; /* SETLOCK (OBTAIN) MODE(UNCOND) TYPE(LOCAL) REGS(USE) RELATED(UC
*,IEFAB477(RUNALUCB)) */                                        03S0273
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) RSTD;                     03S0274
*   RFY (GPR15P,GPR00P,GPR01P) RSTD;                            03S0275
*   GPR15P = GPR11P; /* SAVE REG. 11 IN REG. 15. */             03S0276
         LR    GPR15P,GPR11P                                    03S0276
*   GPR00P = GPR12P; /* SAVE REG. 12 IN REG. 0. */              03S0277
         LR    GPR00P,GPR12P                                    03S0277
*   GPR01P = GPR13P; /* SAVE REG. 13 IN REG. 1. */              03S0278
         LR    GPR01P,GPR13P                                    03S0278
*   GPR13P = PSALITA; /* ADDRESS OF LOCK INTERFACE TABLE. */    03S0279
         L     GPR13P,PSALITA                                   03S0279
*   GEN(LM GPR11P,GPR13P,576(GPR13P)); /* LOAD LOCKWORD, CLHT AND ENTRY
*ADRS. */                                                       03S0280
         LM GPR11P,GPR13P,576(GPR13P)
*   GEN(BALR GPR14P,GPR13P); /* BALR TO SETLOCK RTN. */         03S0281
         BALR GPR14P,GPR13P
*   GPR11P = GPR15P; /* RESTORE REG. 11. */                     03S0282
         LR    GPR11P,GPR15P                                    03S0282
*   GPR15P = GPR13P; /* SAVE RETURN CODE. */                    03S0283
         LR    GPR15P,GPR13P                                    03S0283
*   GPR12P = GPR00P; /* RESTORE REG. 12 */                      03S0284
         LR    GPR12P,GPR00P                                    03S0284
*   GPR13P = GPR01P; /* RESTORE REG. 13. */                     03S0285
         LR    GPR13P,GPR01P                                    03S0285
*   RFY(GPR15P,GPR00P,GPR01P) UNRSTD;                           03S0286
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) UNRSTD;                   03S0287
* END; /* SETLOCK (OBTAIN) MODE(UNCOND) TYPE(LOCAL) REGS(USE) RELATED(U
*B,IEFAB477(RUNALUCB)) */                                       03S0288
* DO; /* SETLOCK (OBTAIN) MODE(UNCOND) TYPE(CMS) REGS(USE) RELATED(UCB,
*EFAB477(RUNALUCB)) */                                          03S0289
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) RSTD;                     03S0290
*   RFY (GPR15P,GPR00P,GPR01P) RSTD;                            03S0291
*   GPR15P = GPR11P; /* SAVE REG. 11 IN REG. 15. */             03S0292
         LR    GPR15P,GPR11P                                    03S0292
*   GPR00P = GPR12P; /* SAVE REG. 12 IN REG. 0. */              03S0293
         LR    GPR00P,GPR12P                                    03S0293
*   GPR01P = GPR13P; /* SAVE REG. 13 IN REG. 1. */              03S0294
         LR    GPR01P,GPR13P                                    03S0294
*   GPR13P = PSALITA; /* ADDRESS OF LOCK INTERFACE TABLE. */    03S0295
         L     GPR13P,PSALITA                                   03S0295
*   GEN(LM GPR11P,GPR13P,540(GPR13P)); /* LOAD LOCKWORD, CLHT AND ENTRY
*ADRS. */                                                       03S0296
         LM GPR11P,GPR13P,540(GPR13P)
*   GEN(BALR GPR14P,GPR13P); /* BALR TO SETLOCK RTN. */         03S0297
         BALR GPR14P,GPR13P
*   GPR11P = GPR15P; /* RESTORE REG. 11. */                     03S0298
         LR    GPR11P,GPR15P                                    03S0298
*   GPR15P = GPR13P; /* SAVE RETURN CODE. */                    03S0299
         LR    GPR15P,GPR13P                                    03S0299
*   GPR12P = GPR00P; /* RESTORE REG. 12 */                      03S0300
         LR    GPR12P,GPR00P                                    03S0300
*   GPR13P = GPR01P; /* RESTORE REG. 13. */                     03S0301
         LR    GPR13P,GPR01P                                    03S0301
*   RFY(GPR15P,GPR00P,GPR01P) UNRSTD;                           03S0302
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) UNRSTD;                   03S0303
* END; /* SETLOCK (OBTAIN) MODE(UNCOND) TYPE(CMS) REGS(USE) RELATED(UCB
*IEFAB477(RUNALUCB)) */                                         03S0304
*IF UCB3DACC = ON THEN                 /*IS THIS A DIRECT-ACCESS UCB?*/
         TM    UCB3DACC(UCBPTR),B'00100000'                     03S0305
         BNO   @RF00305                                         03S0305
*  DO;                                 /*YES, PROCESS ..             */
*    UCBUSER = UCBUSER - DECRUSER;     /*DECREMENT THE COUNT OF USERS*/
         SLR   @12,@12                                          03S0307
         IC    @12,UCBUSER(,UCBPTR)                             03S0307
         SL    @12,DECRUSER                                     03S0307
         STC   @12,UCBUSER(,UCBPTR)                             03S0307
*    IF UCBUSER > ZERO THEN            /*ARE ANY USERS STILL ALLOC'D?*/
         CLI   UCBUSER(UCBPTR),0                                03S0308
         BNH   @RF00308                                         03S0308
*        UNALUNIT = OFF;               /*YES,DONT MARK UNALLOCATED   */
         NI    UNALUNIT,B'01111111'                             03S0309
*    ELSE;                             /*UNIT IS COMPLETELY UNALLOC'D*/
@RF00308 DS    0H                                               03S0311
*  END;                                                         03S0311
*ELSE;                                 /*NOT A DA UNIT               */
@RF00305 DS    0H                                               03S0313
*IF UNALUNIT = ON THEN                 /*IS UNIT COMPLETELY UNALLOC'D*/
         TM    UNALUNIT,B'10000000'                             03S0313
         BNO   @RF00313                                         03S0313
*  DO;                                 /*YES, PROCESS ..             */
*    IF UCB3DACC = ON × UCB3TAPE = ON THEN /*TAPE OR DA UCB ?        */
         TM    UCB3DACC(UCBPTR),B'10100000'                     03S0315
         BZ    @RF00315                                         03S0315
*      DO;                             /*YES, DO UPDATES NECESSARY   */
*        IF SRCHSW = ON THEN           /*SPECIFIC VOL REQ            */
         TM    SRCHSW,B'00010000'                               03S0317
         BNO   @RF00317                                         03S0317
*          UCBNSRCH = OFF;             /*TURN OFF SPECIFIC VOL  03S0318
*                                        REQUEST INDICATOR IN UCB    */
         L     @12,UCBEXTPT(,UCBPTR)                            03S0318
         NI    UCBNSRCH(@12),B'01111111'                        03S0318
*        ELSE;                                                  03S0319
@RF00317 DS    0H                                               03S0320
*      END;                                                     03S0320
*    ELSE;                             /*NOT TAPE OR DA              */
@RF00315 DS    0H                                               03S0322
*    UCBALOC = OFF;                    /*MARK THE UCB UNALLOCATED    */
         NI    UCBALOC(UCBPTR),B'11110111'                      03S0322
*    IF PVTPUB = ON THEN               /*CHANGE VOL ATTR TO PUBLIC ? */
         TM    PVTPUB,B'00100000'                               03S0323
         BNO   @RF00323                                         03S0323
*      DO;                             /*YES, CHANGE VOL ATTRIBUTE   */
*        UCBBPRV = OFF;                                         03S0325
*        UCBBPUB = ON;                                          03S0326
         OI    UCBBPUB(UCBPTR),B'00001000'                      03S0326
         NI    UCBBPRV(UCBPTR),B'11101111'                      03S0326
*      END;                                                     03S0327
*    ELSE                              /*DONT CHANGE TO PUBLIC       */
*      DO;                                                      03S0328
         B     @RC00323                                         03S0328
@RF00323 DS    0H                                               03S0329
*        IF PVTNONE = ON THEN          /*CHANGE VOL ATTR TO NOTHING? */
         TM    PVTNONE,B'01000000'                              03S0329
         BNO   @RF00329                                         03S0329
*            UCBBPRV = OFF;            /*YES,REMOVE VOL ATTRIBUTE    */
         NI    UCBBPRV(UCBPTR),B'11101111'                      03S0330
*        ELSE;                         /*DONT CHANGE VOLUME ATTRIBUTE*/
@RF00329 DS    0H                                               03S0332
*      END;                                                     03S0332
*  END;                                                         03S0333
*ELSE;                                 /*UNIT NOT COMPLETELY UNALLOCD*/
@RF00313 DS    0H                                               03S0335
* DO; /* SETLOCK (RELEASE) TYPE(CMS) REGS(USE) RELATED(UCB,IEFAB477(RUN
*LUCB)) */                                                      03S0335
@RC00313 DS    0H                                               03S0336
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) RSTD;                     03S0336
*   RFY (GPR15P,GPR00P,GPR01P) RSTD;                            03S0337
*   GPR15P = GPR11P; /* SAVE REG. 11 IN REG. 15. */             03S0338
         LR    GPR15P,GPR11P                                    03S0338
*   GPR00P = GPR12P; /* SAVE REG. 12 IN REG. 0. */              03S0339
         LR    GPR00P,GPR12P                                    03S0339
*   GPR01P = GPR13P; /* SAVE REG. 13 IN REG. 1. */              03S0340
         LR    GPR01P,GPR13P                                    03S0340
*   GPR13P = PSALITA; /* ADDRESS OF LOCK INTERFACE TABLE. */    03S0341
         L     GPR13P,PSALITA                                   03S0341
*   GEN(LM GPR11P,GPR13P,552(GPR13P)); /* LOAD LOCKWORD, CLHT AND ENTRY
*ADRS. */                                                       03S0342
         LM GPR11P,GPR13P,552(GPR13P)
*   GEN(BALR GPR14P,GPR13P); /* BALR TO SETLOCK RTN. */         03S0343
         BALR GPR14P,GPR13P
*   GPR11P = GPR15P; /* RESTORE REG. 11. */                     03S0344
         LR    GPR11P,GPR15P                                    03S0344
*   GPR15P = GPR13P; /* SAVE RETURN CODE. */                    03S0345
         LR    GPR15P,GPR13P                                    03S0345
*   GPR12P = GPR00P; /* RESTORE REG. 12 */                      03S0346
         LR    GPR12P,GPR00P                                    03S0346
*   GPR13P = GPR01P; /* RESTORE REG. 13. */                     03S0347
         LR    GPR13P,GPR01P                                    03S0347
*   RFY(GPR15P,GPR00P,GPR01P) UNRSTD;                           03S0348
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) UNRSTD;                   03S0349
* END; /* SETLOCK (RELEASE) TYPE(CMS) REGS(USE) RELATED(UCB,IEFAB477(RU
*ALUCB)) */                                                     03S0350
* DO; /* SETLOCK (RELEASE) TYPE(LOCAL) REGS(USE) RELATED(UCB,IEFAB477(R
*NALUCB)) */                                                    03S0351
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) RSTD;                     03S0352
*   RFY (GPR15P,GPR00P,GPR01P) RSTD;                            03S0353
*   GPR15P = GPR11P; /* SAVE REG. 11 IN REG. 15. */             03S0354
         LR    GPR15P,GPR11P                                    03S0354
*   GPR00P = GPR12P; /* SAVE REG. 12 IN REG. 0. */              03S0355
         LR    GPR00P,GPR12P                                    03S0355
*   GPR01P = GPR13P; /* SAVE REG. 13 IN REG. 1. */              03S0356
         LR    GPR01P,GPR13P                                    03S0356
*   GPR13P = PSALITA; /* ADDRESS OF LOCK INTERFACE TABLE. */    03S0357
         L     GPR13P,PSALITA                                   03S0357
*   GEN(LM GPR11P,GPR13P,588(GPR13P)); /* LOAD LOCKWORD, CLHT AND ENTRY
*ADRS. */                                                       03S0358
         LM GPR11P,GPR13P,588(GPR13P)
*   GEN(BALR GPR14P,GPR13P); /* BALR TO SETLOCK RTN. */         03S0359
         BALR GPR14P,GPR13P
*   GPR11P = GPR15P; /* RESTORE REG. 11. */                     03S0360
         LR    GPR11P,GPR15P                                    03S0360
*   GPR15P = GPR13P; /* SAVE RETURN CODE. */                    03S0361
         LR    GPR15P,GPR13P                                    03S0361
*   GPR12P = GPR00P; /* RESTORE REG. 12 */                      03S0362
         LR    GPR12P,GPR00P                                    03S0362
*   GPR13P = GPR01P; /* RESTORE REG. 13. */                     03S0363
         LR    GPR13P,GPR01P                                    03S0363
*   RFY(GPR15P,GPR00P,GPR01P) UNRSTD;                           03S0364
*   RFY (GPR11P,GPR12P,GPR13P,GPR14P) UNRSTD;                   03S0365
* END; /* SETLOCK (RELEASE) TYPE(LOCAL) REGS(USE) RELATED(UCB,IEFAB477(
*UNALUCB)) */                                                   03S0366
* DO; /*MODESET  EXTKEY(SCHED)*/                                03S0367
*   SPKA (16); /*SET PSW KEY*/                                  03S0368
         LA    @12,16                                           03S0368
         SPKA  0(@12)                                           03S0368
* END; /*MODESET  EXTKEY(SCHED)*/                               03S0369
*IF DONTUNLD = OFF                     /*UNLOADING ALLOWED   @ZA03616*/
*   & UNALUNIT = ON                    /*UNIT UNALLOCATED    @ZA03616*/
*   & (UCB3DACC = ON × UCB3TAPE = ON)  /*TAPE OR DA          @ZA03616*/
*   & (UCB3DACC = OFF                  /*NOT DA              @ZA03616*/
*     × UNLDPMNT = OFF                 /*NOT UNLD MNT PENDING   03S0370
*                                        ONLY                @ZA03616*/
*     × UCBMOUNT = ON) THEN            /*MOUNT PENDING       @ZA03616*/
         L     @12,@PC00001+4                                   03S0370
         TM    DONTUNLD(@12),B'01000000'                        03S0370
         BNZ   @RF00370                                         03S0370
         TM    UNALUNIT,B'10000000'                             03S0370
         BNO   @RF00370                                         03S0370
         TM    UCB3DACC(UCBPTR),B'10100000'                     03S0370
         BZ    @RF00370                                         03S0370
         TM    UCB3DACC(UCBPTR),B'00100000'                     03S0370
         BZ    @RT00370                                         03S0370
         TM    UNLDPMNT(@12),B'10000000'                        03S0370
         BZ    @RT00370                                         03S0370
         TM    UCBMOUNT(UCBPTR),B'10000000'                     03S0370
         BNO   @RF00370                                         03S0370
@RT00370 DS    0H                                               03S0371
*  DO;                                                          03S0371
*    VMVREQBP = ADDR(VMVRBCOR);        /*POINT TO VM+V REQUEST BLOCK */
         LA    @12,VMVRBCOR                                     03S0372
         ST    @12,VMVREQBP                                     03S0372
*    VMVRQBLK=VMVRQBLK && VMVRQBLK;    /*ZERO THE REQUEST BLOCK      */
         XC    VMVRQBLK(52,@12),VMVRQBLK(@12)                   03S0373
*    VMVUNLOD = ON;                    /*INDICATE UNLOAD FUNCTION    */
*    VMVUCB = ON;                      /*UNLOAD VOLSER IS IN THE UCB */
         OI    VMVUNLOD(@12),B'11000000'                        03S0375
*    VMVUCBP = UCBPTR;                 /*POINT TO UCB TO BE UNLOADED */
         STCM  UCBPTR,7,VMVUCBP(@12)                            03S0376
*    VMVJBNMP = ADDR(ALCJOBN);         /*POINT TO JOB NAME           */
         L     @11,@PC00001                                     03S0377
         L     @11,ALCWAPTR(,@11)                               03S0377
         L     @15,TIOTHDRP(,@11)                               03S0377
         ST    @15,VMVJBNMP(,@12)                               03S0377
*    VMVJSNMP = ADDR(ALCSTEPN);        /*POINT TO STEP NAME          */
         LA    @15,ALCSTEPN(,@15)                               03S0378
         ST    @15,VMVJSNMP(,@12)                               03S0378
*    CALL IEFAB49C (VMVREQBP,ALCWASID,CANCLECB); /*CALL VM+V         */
         LA    @12,VMVREQBP                                     03S0379
         ST    @12,@AL00001                                     03S0379
         LA    @12,ALCWASID(,@11)                               03S0379
         ST    @12,@AL00001+4                                   03S0379
         L     @12,CANCELP(,@11)                                03S0379
         ST    @12,@AL00001+8                                   03S0379
         L     @15,@CV00431                                     03S0379
         LA    @01,@AL00001                                     03S0379
         BALR  @14,@15                                          03S0379
*    RTNCODE = REG15;                  /*SAVE THE RETURN CODE        */
         LR    RTNCODE,REG15                                    03S0380
*    IF RTNCODE ^= SUCCESS THEN        /*ANY ERRORS ?                */
         LTR   RTNCODE,RTNCODE                                  03S0381
         BZ    @RF00381                                         03S0381
*        FAILRSC = GETMNERR;           /*YES,INDICATE A GETMAIN ERROR*/
         L     @12,@PC00001                                     03S0382
         L     @12,ALCWAPTR(,@12)                               03S0382
         L     @12,FAILRSCP(,@12)                               03S0382
         MVC   FAILRSC(2,@12),@CH00157                          03S0382
*    ELSE;                             /*NO ERROR                    */
@RF00381 DS    0H                                               03S0384
*  END;                                                         03S0384
*IF DODEQ = ON THEN                    /*COULD VOLUME DEQ BE NEEDED? */
@RF00370 TM    DODEQ,B'00001000'                                03S0385
         BNO   @RF00385                                         03S0385
*  DO;                                 /*YES, DEQ VOLUME IF NECESSARY*/
*/********************************************************************/
*/*                                                                  */
*/* SEGMENT NAME - MAYBEVDQ                                          */
*/*                                                                  */
*/* DESCRIPTIVE NAME - DEQ VOLUME IF NO LONGER NEEDED                */
*/*                                                                  */
*/* FUNCTION -                                                       */
*/*    THE ROUTINE DEQS OFF THE INPUT VOLUME SERIAL NUMBER IF THIS   */
*/*    ALLOCATION DID NOT HAVE ANY SPECIFIC VOLUME REQUESTS FOR THIS */
*/*    VOLUME AND THIS JOB STEP HAS COMPLETELY UNALLOCATED FROM THIS */
*/*    VOLUME.                                                       */
*/*                                                                  */
*/*   OPERATION - THE VOLUNIT TABLE IS SCANNED TO DETERMINE IF THERE */
*/*               ARE ANY SPECIFIC VOLUME REQUESTS FOR THIS VOLUME.  */
*/*             - IF THE VOLUME IS DIRECT-ACCESS AND IS NOT          */
*/*               COMPLETELY UNALLOCATED, THE DSAB-TIOT CHAIN IS     */
*/*               SCANNED TO DETERMINE IF IT IS ALLOCATED TO THIS    */
*/*               JOB.                                               */
*/*                                                                  */
*/* ENTRY - (INLINE SUBROUTINE)                                      */
*/*                                                                  */
*/*   PURPOSE - (SEE FUNCTION)                                       */
*/*                                                                  */
*/*   INPUT -                                                        */
*/*      DEQVOLID - VOLUME SERIAL WHICH MAY HAVE TO BE DEQ'ED        */
*/*      UCBPTR - POINTER TO THE UNIT THE VOLUME WAS ALLOCATED TO    */
*/*      DODEQ - SWITCH SET TO 1                                     */
*/*      VOLUNPTR - PTR TO THE VOLUNIT TABLE                         */
*/*      JSCBPTR - PTR TO JSCB WHICH CONTAINS                        */
*/*        JSCDSABQ - PTR TO DSAB QDB                                */
*/*                                                                  */
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */
*/*                                                                  */
*/*   CONDITIONS - FUNCTION COMPLETED.                               */
*/*                                                                  */
*/*   OUTPUT -                                                       */
*/*      VOLUME SERIAL NUMBER MAY BE DEQ'ED                          */
*/*                                                                  */
*/*   RETURN CODES - (NONE)                                          */
*/*                                                                  */
*/********************************************************************/
*VUPTR = VOLUNPTR;                     /*POINT TO FIRST VU TABLE NTRY*/
         L     @12,@PC00001                                     04S0387
         L     @12,ALCWAPTR(,@12)                               04S0387
         L     VUPTR,VOLUNPTR(,@12)                             04S0387
*DO VUCTR = ONE TO VOLUNSZE/LENGTH(VOLUNTAB); /*SCAN ALL VOLUNIT TAB */
         LA    VUCTR,1                                          04S0388
         B     @DE00388                                         04S0388
@DL00388 DS    0H                                               04S0389
*  IF VOLSPEC = ON                     /*SPECIFIC VOLUME REQUEST ?.. */
*      & VOLID = DEQVOLID THEN         /*WITH THE SAME VOLUME SERIAL?*/
         TM    VOLSPEC(VUPTR),B'00100000'                       04S0389
         BNO   @RF00389                                         04S0389
         CLC   VOLID(6,VUPTR),DEQVOLID                          04S0389
         BNE   @RF00389                                         04S0389
*    DO;                               /*YES, DONT DEQ THE VOLUME    */
*      DODEQ = OFF;                                             04S0391
         NI    DODEQ,B'11110111'                                04S0391
*    END;                                                       04S0392
*  ELSE;                               /*NOT A SPEC REQ FOR THIS VOL */
@RF00389 DS    0H                                               04S0394
*  VUPTR = VUPTR + LENGTH(VOLUNTAB);   /*POINT TO NEXT VOLUNIT ENTRY */
         AL    VUPTR,@CF01606                                   04S0394
*END;                                                           04S0395
         AH    VUCTR,@CH00042                                   04S0395
@DE00388 L     @12,@PC00001                                     04S0395
         L     @12,ALCWAPTR(,@12)                               04S0395
         L     @00,VOLUNSZE(,@12)                               04S0395
         SRDA  @00,32                                           04S0395
         D     @00,@CF01606                                     04S0395
         CR    VUCTR,@01                                        04S0395
         BNH   @DL00388                                         04S0395
*IF DODEQ=ON & UCB3DACC=ON & UCBUSER^=ZERO THEN /*DEQ TO BE DONE FOR
*                                        DA WHICH IS NOT UNALLOCATED?*/
         TM    DODEQ,B'00001000'                                04S0396
         BNO   @RF00396                                         04S0396
         TM    UCB3DACC(UCBPTR),B'00100000'                     04S0396
         BNO   @RF00396                                         04S0396
         CLI   UCBUSER(UCBPTR),0                                04S0396
         BE    @RF00396                                         04S0396
*  DO;                                 /*YES,CHECK IF ALLOC'D TO JOB */
*    RFY DSAB BASED (DSABPTR);         /*CHANGE BASE TEMPORARILY     */
*    DSABPTR=JSCBPTR->JSCDSABQ->QDBFELMP; /*SCAN ALL DSABS           */
         L     @12,@PC00001                                     04S0399
         L     @12,ALCWAPTR(,@12)                               04S0399
         L     @12,JSCBPTR(,@12)                                04S0399
         L     @12,JSCDSABQ(,@12)                               04S0399
         L     DSABPTR,QDBFELMP(,@12)                           04S0399
*    DO WHILE DSABPTR ^= ZERO;         /*SCAN ALL DSABS              */
         B     @DE00400                                         04S0400
@DL00400 DS    0H                                               04S0401
*      DO RELDEVNO = ONE TO TIOEWTCT   /*SCAN ALL DEVICE ENTS IN TIOT*/
*          WHILE (DODEQ = ON);                                  04S0401
         LA    RELDEVNO,1                                       04S0401
         B     @DE00401                                         04S0401
@DL00401 TM    DODEQ,B'00001000'                                04S0401
         BNO   @DC00401                                         04S0401
*        IF TIOUCBP(RELDEVNO) = UCBPTR THEN /*IS THIS THE SAME UCB ? */
         LR    @11,RELDEVNO                                     04S0402
         SLA   @11,2                                            04S0402
         L     @03,DSABTIOT(,DSABPTR)                           04S0402
         L     @11,TIOUCBP-5(@11,@03)                           04S0402
         LA    @11,0(,@11)                                      04S0402
         CR    UCBPTR,@11                                       04S0402
         BNE   @RF00402                                         04S0402
*          DO;                         /*YES, DONT DEQ THE VOLUME    */
*            DODEQ = OFF;                                       04S0404
         NI    DODEQ,B'11110111'                                04S0404
*          END;                                                 04S0405
*        ELSE;                         /*NOT THE SAME UCB            */
@RF00402 DS    0H                                               04S0407
*      END;                                                     04S0407
         AH    RELDEVNO,@CH00042                                04S0407
@DE00401 L     @11,DSABTIOT(,DSABPTR)                           04S0407
         SLR   @03,@03                                          04S0407
         IC    @03,TIOEWTCT(,@11)                               04S0407
         CR    RELDEVNO,@03                                     04S0407
         BNH   @DL00401                                         04S0407
@DC00401 DS    0H                                               04S0408
*      DSABPTR = DSABFCHN;             /*POINT TO THE NEXT DSAB      */
         L     DSABPTR,DSABFCHN(,DSABPTR)                       04S0408
*    END;                                                       04S0409
@DE00400 LTR   DSABPTR,DSABPTR                                  04S0409
         BNZ   @DL00400                                         04S0409
*    RFY DSAB BASED (SIOTETIO);                                 04S0410
*  END;                                                         04S0411
*ELSE;                                 /*JOB COULD NOT BE ALLOC'D    */
@RF00396 DS    0H                                               04S0413
*IF DODEQ = ON THEN                    /*SHOULD THE VOLUME BE DEQ'ED */
         TM    DODEQ,B'00001000'                                04S0413
         BNO   @RF00413                                         04S0413
*  DO;                                 /*YES, DEQ IT                 */
*    DEQENT(1:DEQLGN) = DEQLIST(1:DEQLGN); /*MOVE THE LIST TO DSECT  */
         L     @12,DEQLGN                                       04S0415
         BCTR  @12,0                                            04S0415
         EX    @12,@SM01630                                     04S0415
*    RFY IEZJSCB BASED(JSCBPTR);                                04S0416
*    GEN REFS(DEQE,TCBP);                                       04S0417
    DEQ (,DEQVOLID),TCB=TCBP,MF=(E,DEQE)
*  END;                                                         04S0418
*ELSE;                                 /*VOLUME IS NOT TO BE DEQ'ED  */
@RF00413 DS    0H                                               04S0420
*  END;                                                         03S0420
*ELSE;                                 /*VOLUME DEQ NOT NEEDED       */
@RF00385 DS    0H                                               03S0422
*    END;                                                       02S0422
*   ELSE;                              /*VU ENTRY NOT TO BE PROCESSED*/
@RF00191 DS    0H                                               02S0424
*   SCANVUP=SCANVUP + LENGTH(VOLUNTAB); /*POINT TO THE NEXT VU ENTRY */
         LA    @12,28                                           02S0424
         AL    @12,SCANVUP                                      02S0424
         ST    @12,SCANVUP                                      02S0424
*  END;                                                         02S0425
         LA    @12,1                                            02S0425
         AL    @12,SCAVUCTR                                     02S0425
@DE00188 ST    @12,SCAVUCTR                                     02S0425
         CH    @12,SVOLUNNO(,SPTR)                              02S0425
         BNH   @DL00188                                         02S0425
@DC00188 DS    0H                                               02S0426
*  SPTR = SPTR->SIOTNPTR;              /*POINT TO NEXT SIOT IN CHAIN */
         L     SPTR,SIOTNPTR(,SPTR)                             02S0426
*END;                                                           02S0427
@DE00185 SLR   @12,@12                                          02S0427
         CR    SPTR,@12                                         02S0427
         BE    @DC00185                                         02S0427
         CR    RTNCODE,@12                                      02S0427
         BE    @DL00185                                         02S0427
@DC00185 DS    0H                                               02S0428
*  END;                                                         01S0428
*ELSE;                                 /*ERRORS                      */
@RF00182 DS    0H                                               01S0430
*VUPTR = VOLUNPTR;                     /*POINT TO FIRST VU           */
         L     @12,@PC00001                                     01S0430
         L     @12,ALCWAPTR(,@12)                               01S0430
         L     VUPTR,VOLUNPTR(,@12)                             01S0430
*DO VUCTR = ONE TO VOLUNSZE/LENGTH(VOLUNTAB); /*SCAN ALL VU'S        */
         LA    VUCTR,1                                          01S0431
         B     @DE00431                                         01S0431
@DL00431 DS    0H                                               01S0432
*  VUREALOC = OFF;                     /*TURN OFF SWITCH             */
         NI    VUREALOC(VUPTR),B'10111111'                      01S0432
*  VUPTR = VUPTR + LENGTH(VOLUNTAB);   /*POINT TO NEXT VU ENTRY      */
         AL    VUPTR,@CF01606                                   01S0433
*END;                                                           01S0434
         AH    VUCTR,@CH00042                                   01S0434
@DE00431 L     @12,@PC00001                                     01S0434
         L     @12,ALCWAPTR(,@12)                               01S0434
         L     @00,VOLUNSZE(,@12)                               01S0434
         SRDA  @00,32                                           01S0434
         D     @00,@CF01606                                     01S0434
         CR    VUCTR,@01                                        01S0434
         BNH   @DL00431                                         01S0434
*RETURN CODE(RTNCODE);                 /*RETURN TO CALLER            */
         L     @13,4(,@13)                                      01S0435
         L     @00,@SIZDATD                                     01S0435
         LR    @01,@09                                          01S0435
         FSPACE   R,LV=(0),A=(1)
         LR    @15,@07                                          01S0435
         L     @14,12(,@13)                                     01S0435
         LM    @00,@12,20(@13)                                  01S0435
         BR    @14                                              01S0435
*END IEFAB477                                                   01S0436
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      *
*/*%INCLUDE SYSLIB  (A477SPEC)                                        *
*/*%INCLUDE SYSLIB  (A477DATA)                                        *
*/*%INCLUDE SYSLIB  (IHAPSA  )                                        *
*/*%INCLUDE SYSLIB  (IEFZB423)                                        *
*/*%INCLUDE SYSLIB  (IEFZB425)                                        *
*/*%INCLUDE SYSLIB  (IEFZB428)                                        *
*/*%INCLUDE SYSLIB  (IEFZB439)                                        *
*/*%INCLUDE SYSLIB  (IEFZB431)                                        *
*/*%INCLUDE SYSLIB  (IEFASIOT)                                        *
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                        *
*/*%INCLUDE SYSLIB  (IHADSAB )                                        *
*/*%INCLUDE SYSLIB  (IEFTIOT1)                                        *
*/*%INCLUDE SYSLIB  (IEZJSCB )                                        *
*/*%INCLUDE SYSLIB  (IHAQDB  )                                        *
*/*%INCLUDE SYSLIB  (IEFZB449)                                        *
*/*%INCLUDE SYSLIB  (SCRSETUP)                                        *
*/*%INCLUDE SYSLIB  (SCRUSPEC)                                        *
*/*%INCLUDE SYSLIB  (SCRETURN)                                        *
*/*%INCLUDE SYSLIB  (SRTNSPEC)                                        *
*/*%INCLUDE SYSLIB  (UNITUNAL)                                        *
*/*%INCLUDE SYSLIB  (UNALSPEC)                                        *
*/*%INCLUDE SYSLIB  (UNALPROC)                                        *
*/*%INCLUDE SYSLIB  (UPROSPEC)                                        *
*/*%INCLUDE SYSLIB  (RUNALUCB)                                        *
*/*%INCLUDE SYSLIB  (RUNLSPEC)                                        *
*/*%INCLUDE SYSLIB  (MAYBEVDQ)                                        *
*/*%INCLUDE SYSLIB  (MVDQSPEC)                                        *
*;                                                              01S0436
@DATA    DS    0H
@CH00042 DC    H'1'
@CH00157 DC    H'2'
@CH00058 DC    H'4'
@CH00428 DC    H'18'
@CH01607 DC    H'20'
@CH00420 DC    H'81'
@SM01630 MVC   DEQENT(0),DEQLIST
         DS    0F
@AL00146 DC    A(@CF00089)             LIST WITH   7 ARGUMENT(S)
         DC    A(@CF00089)
         DC    A(@CF00089)
         DC    A(@CF00089)
         DS    F
         DC    A(@CF00089)
         DC    A(@CF00089)
@DATD    DSECT
         DS    0F
@SA00001 DS    18F
@PC00001 DS    2F
@AL00001 DS    10A
IEFAB477 CSECT
         DS    0F
@CF00089 DC    F'0'
@CF01606 DC    F'28'
@CH01606 EQU   @CF01606+2
@CF00422 DC    XL4'E6000000'
@DATD    DSECT
         DS    0D
LASTPTR  DS    A
SCANVUP  DS    A
UNALRBP  DS    A
VMVREQBP DS    A
DECRUSER DS    F
DEVNO    DS    F
GETSIZE  DS    F
SCAVUCTR DS    F
TIOTPTR  DS    A
TCBJSCB  DS    A
QDBPTR   DS    A
DEQVOLID DS    CL6
SWITCHES DS    BL1
         ORG   SWITCHES
UNALUNIT DS    BL1
PVTNONE  EQU   SWITCHES+0
PVTPUB   EQU   SWITCHES+0
SRCHSW   EQU   SWITCHES+0
DODEQ    EQU   SWITCHES+0
         ORG   SWITCHES+1
UFUNCMAP DS    CL4
URCODES  DS    CL8
VMVRBCOR DS    CL52
IEFAB477 CSECT
         DS    0F
@SIZDATD DC    AL1(230)
         DC    AL3(@ENDDATD-@DATD)
@CV00430 DC    V(IEFAB4A0)
@CV00431 DC    V(IEFAB49C)
         DS    0D
GTSTZERO DC    F'0'
SYSQNAME DC    CL8'SYSZVOLS'
IEFAB477 CSECT
DEQLIST DS 0D
 DEQ (SYSQNAME,,6,SYSTEM),TCB=0,RET=HAVE,MF=L
DEQLGN DC A(*-DEQLIST)
@DATD    DSECT
DEQENT DS 0D
DEQE DEQ (SYSQNAME,,6,SYSTEM),TCB=0,RET=HAVE,MF=L
IEFAB477 CSECT
         DS   0H
PATCHLOC DC ((@DATA-@PSTART)/20)X'00'
@DATD    DSECT
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA
@ENDDATD EQU   *
IEFAB477 CSECT
@00      EQU   00                      EQUATES FOR REGISTERS 0-15
@01      EQU   01
@02      EQU   02
@03      EQU   03
@04      EQU   04
@05      EQU   05
@06      EQU   06
@07      EQU   07
@08      EQU   08
@09      EQU   09
@10      EQU   10
@11      EQU   11
@12      EQU   12
@13      EQU   13
@14      EQU   14
@15      EQU   15
GTSTRTCD EQU   @11
VUCTR    EQU   @11
SCRNO    EQU   @05
SCRCTR   EQU   @12
RTNCODE  EQU   @07
RELDEVNO EQU   @12
VUPTR    EQU   @03
UCBPTR   EQU   @06
SPTR     EQU   @08
SIOTPTR  EQU   @02
SDEVTPTR EQU   @04
DSABPTR  EQU   @02
CMRBPTR  EQU   @02
CFMAPTR  EQU   @02
REG0     EQU   @00
REG1     EQU   @01
REG15    EQU   @15
GPR00P   EQU   @00
GPR01P   EQU   @01
GPR14P   EQU   @14
GPR15P   EQU   @15
GPR13P   EQU   @13
GPR12P   EQU   @12
GPR11P   EQU   @11
GTSTR0   EQU   @00
GTSTR1   EQU   @01
GTSTR2   EQU   @02
GTSTR15  EQU   @15
GTSTR4   EQU   @04
GTSTR5   EQU   @05
GTSTR6   EQU   @06
GTSTR7   EQU   @07
GTSTR8   EQU   @08
GPR00F   EQU   @00
GPR01F   EQU   @01
GPR11F   EQU   @11
GPR12F   EQU   @12
GPR13F   EQU   @13
GPR14F   EQU   @14
GPR15F   EQU   @15
GTSTR3   EQU   @03
PSA      EQU   0
FLCRNPSW EQU   PSA
FLCROPSW EQU   PSA+8
FLCICCW2 EQU   PSA+16
PSAEEPSW EQU   PSA+132
PSAESPSW EQU   PSA+136
FLCSVILC EQU   PSAESPSW+1
PSAEPPSW EQU   PSA+140
FLCPIILC EQU   PSAEPPSW+1
FLCPICOD EQU   PSAEPPSW+2
PSAPICOD EQU   FLCPICOD+1
FLCTEA   EQU   PSAEPPSW+4
FLCPER   EQU   PSA+152
FLCMCLA  EQU   PSA+168
FLCIOEL  EQU   FLCMCLA+4
FLCIOA   EQU   FLCMCLA+16
FLCFSA   EQU   FLCMCLA+80
PSASUPER EQU   PSA+552
PSASUP1  EQU   PSASUPER
PSASUP2  EQU   PSASUPER+1
PSASUP3  EQU   PSASUPER+2
PSASUP4  EQU   PSASUPER+3
PSACLHT  EQU   PSA+640
PSALKSA  EQU   PSA+696
PSAHLHI  EQU   PSA+760
PSALITA  EQU   PSA+764
PSADSSFL EQU   PSA+836
PSADSSF1 EQU   PSADSSFL
PSADSSF3 EQU   PSADSSFL+2
PSADSSF4 EQU   PSADSSFL+3
PSARSVT  EQU   PSA+896
LASTCHNP EQU   0
CANCLECB EQU   0
FAILRSC  EQU   0
SAVEDEVT EQU   0
VOLUNTAB EQU   0
VOLID    EQU   VOLUNTAB
VOLSTAT  EQU   VOLUNTAB+6
VOLSTATA EQU   VOLSTAT
VOLSPEC  EQU   VOLSTATA
VUDADSM  EQU   VOLSTATA
VOLSTATB EQU   VOLSTAT+1
VOLALOC  EQU   VOLSTATB
VDEVREQD EQU   VOLSTATB
VOLSTATC EQU   VOLSTAT+2
VOLSTATD EQU   VOLSTAT+3
VUREALOC EQU   VOLSTATD
VOLSIOTP EQU   VOLUNTAB+16
VUUCBP   EQU   VOLUNTAB+20
VUGRID   EQU   VOLUNTAB+24
VUPOOL   EQU   0
VUGRLST  EQU   0
VUGRLENT EQU   VUGRLST
VUGRLFLG EQU   VUGRLENT+4
ALCWA    EQU   0
FMAPPTR  EQU   ALCWA+4
SIOT1P   EQU   ALCWA+8
JSCBPTR  EQU   ALCWA+12
FAILRSCP EQU   ALCWA+20
CNTABLE  EQU   ALCWA+28
TOTREQS  EQU   CNTABLE+36
TOTVOLUN EQU   CNTABLE+44
VOLUNPTR EQU   ALCWA+80
VOLUNSZE EQU   ALCWA+84
INDICATE EQU   ALCWA+112
@NM00030 EQU   ALCWA+113
ALCWASID EQU   ALCWA+114
TCBP     EQU   ALCWA+116
TIOTHDRP EQU   ALCWA+120
CANCELP  EQU   ALCWA+140
NAMES    EQU   0
ALCJOBN  EQU   NAMES
ALCSTEPN EQU   NAMES+8
FUNCMAP  EQU   0
VOLMNTSW EQU   FUNCMAP
WRTMSGSW EQU   FUNCMAP
UWAITSW  EQU   FUNCMAP
VWAITSW  EQU   FUNCMAP
MSSTRMSW EQU   FUNCMAP
OFFDEVSW EQU   FUNCMAP
CCLMNTSW EQU   FUNCMAP
GENLOKSW EQU   FUNCMAP
SSEMSGSW EQU   FUNCMAP+1
HDRMSGSW EQU   FUNCMAP+1
MTRJOBSW EQU   FUNCMAP+1
NOTIOTNQ EQU   FUNCMAP+1
TRKMSW   EQU   FUNCMAP+1
WAITOKSW EQU   FUNCMAP+1
ASNMSW   EQU   FUNCMAP+1
CMUNFMAP EQU   0
CMFMBYT1 EQU   CMUNFMAP
CMDISPRC EQU   CMFMBYT1
CMFMBYT2 EQU   CMUNFMAP+1
CMNOPOST EQU   CMFMBYT2
CMNOVUT  EQU   CMFMBYT2
CMNERMSG EQU   CMFMBYT2
CMPURGE  EQU   CMFMBYT2
CMTIOTNQ EQU   CMFMBYT2
CMFMBYT3 EQU   CMUNFMAP+2
CMNOSMF  EQU   CMFMBYT3
CMSCRVL1 EQU   CMFMBYT3
CMFMBYT4 EQU   CMUNFMAP+3
CMUNRB   EQU   0
CMNRBPTR EQU   CMUNRB
CMSIOPTR EQU   CMUNRB+4
CMINDIC  EQU   CMUNRB+8
CMRBBYT1 EQU   CMINDIC
CMORDISP EQU   CMRBBYT1
CMRBBYT2 EQU   CMINDIC+1
CMRBBYT3 EQU   CMINDIC+2
CMRBBYT4 EQU   CMINDIC+3
CMODISP  EQU   CMUNRB+12
CMODEL   EQU   CMODISP
CMRETCDE EQU   CMUNRB+14
CMOPTFLD EQU   CMUNRB+16
VMVRQBLK EQU   0
VMVFNMAP EQU   VMVRQBLK
VMVOPTB1 EQU   VMVFNMAP
VMVUNLOD EQU   VMVOPTB1
VMVUCB   EQU   VMVOPTB1
VMVOPTB2 EQU   VMVFNMAP+1
VMVOPTB3 EQU   VMVFNMAP+2
VMVNREQP EQU   VMVRQBLK+4
VMVUCBP  EQU   VMVRQBLK+9
VMVJBNMP EQU   VMVRQBLK+24
VMVJSNMP EQU   VMVRQBLK+32
VMVMINFO EQU   VMVRQBLK+40
VMVACTON EQU   VMVMINFO
VMVUSER  EQU   VMVRQBLK+48
INDMSIOT EQU   0
SCTUSADD EQU   INDMSIOT+20
SIOTBYT1 EQU   INDMSIOT+43
SIODADSM EQU   SIOTBYT1
SIOTALCD EQU   SIOTBYT1
SIOTBYT3 EQU   INDMSIOT+46
SIOTTSTC EQU   INDMSIOT+47
SIOTBYT0 EQU   INDMSIOT+52
SCTSDISP EQU   INDMSIOT+55
SCTSBYT1 EQU   INDMSIOT+56
SCTSBYT2 EQU   INDMSIOT+57
SCTSBYT3 EQU   INDMSIOT+58
SCTSBYT4 EQU   INDMSIOT+59
SCTUTYPE EQU   INDMSIOT+60
SIOTDEVT EQU   SCTUTYPE
SIOUBYT3 EQU   SIOTDEVT+2
SIOUCBAD EQU   SCTUTYPE+5
SIOTBYT4 EQU   INDMSIOT+81
SIOTALTD EQU   INDMSIOT+92
SIOTBYT2 EQU   INDMSIOT+103
SIOTDSPD EQU   SIOTBYT2
SIOTRSNC EQU   INDMSIOT+130
SVOLUNAD EQU   INDMSIOT+140
SIOTETIO EQU   INDMSIOT+148
SIOTNPTR EQU   INDMSIOT+152
SIOTVMVP EQU   INDMSIOT+164
SVOLUNNO EQU   INDMSIOT+168
UCB      EQU   0
UCBOB    EQU   0
UCBJBNR  EQU   UCBOB
UCBFL5   EQU   UCBOB+1
UCBAF    EQU   UCBFL5
UCBSTAT  EQU   UCBOB+3
UCBALOC  EQU   UCBSTAT
UCBCHAN  EQU   UCBOB+4
UCBSFLS  EQU   UCBOB+6
UCBFLA   EQU   UCBSFLS
UCBFL1   EQU   UCBFLA
UCBBSY   EQU   UCBFL1
UCBNRY   EQU   UCBFL1
UCBPST   EQU   UCBFL1
UCBCUB   EQU   UCBFL1
UCBFLB   EQU   UCBSFLS+1
UCBCHM   EQU   UCBOB+8
UCBCHM1  EQU   UCBCHM
UCBPTH0  EQU   UCBCHM1
UCBPTH1  EQU   UCBCHM1
UCBWGT   EQU   UCBOB+12
UCBTYP   EQU   UCBOB+16
UCBTBYT1 EQU   UCBTYP
UCB1FEA5 EQU   UCBTBYT1
UCB1FEA6 EQU   UCBTBYT1
UCBTBYT2 EQU   UCBTYP+1
UCB2OPT2 EQU   UCBTBYT2
UCBDUDN1 EQU   UCB2OPT2
UCB2OPT3 EQU   UCBTBYT2
UCBDUDN2 EQU   UCB2OPT3
UCB2OPT4 EQU   UCBTBYT2
UCBRWTAU EQU   UCB2OPT4
UCB2OPT6 EQU   UCBTBYT2
UCB2OPT7 EQU   UCBTBYT2
UCBTBYT3 EQU   UCBTYP+2
UCBDVCLS EQU   UCBTBYT3
UCB3TAPE EQU   UCBDVCLS
UCB3DACC EQU   UCBDVCLS
UCBTBYT4 EQU   UCBTYP+3
UCBEXTPT EQU   UCBOB+20
UCBFLC   EQU   UCBEXTPT
UCBDEV   EQU   UCBOB+24
UCBCMEXT EQU   0
UCBATI   EQU   UCBCMEXT+3
@NM00069 EQU   UCBATI
UCBFLP1  EQU   UCBCMEXT+5
UCBNSRCH EQU   UCBFLP1
UCBMIHBY EQU   UCBCMEXT+16
UCBMT    EQU   0
UCBOCR   EQU   0
UCB3540X EQU   0
UCBDKBYT EQU   UCB3540X+6
UCB3800X EQU   0
UCBOPTNS EQU   UCB3800X
UCBACTIV EQU   UCB3800X+3
UCBMDRBF EQU   UCB3800X+36
UCBUCS   EQU   0
UCBUCSOP EQU   UCBUCS+4
UCBFCBOP EQU   UCBUCS+5
DSAB     EQU   0
DSABFCHN EQU   DSAB+4
DSABTIOT EQU   DSAB+16
DSABGIDP EQU   DSAB+24
DSABANMP EQU   DSAB+28
DSABORG  EQU   DSAB+32
DSABORG1 EQU   DSABORG
DSABORG2 EQU   DSABORG+1
DSABFLG1 EQU   DSAB+34
DSABFLG2 EQU   DSAB+35
DSABFLG3 EQU   DSAB+36
DSABFLG4 EQU   DSAB+37
DSABANMI EQU   0
DSABGIDL EQU   0
DSABGRID EQU   DSABGIDL+4
TIOT1    EQU   0
TIOENTRY EQU   0
TIOESTTA EQU   TIOENTRY+1
TIOERLOC EQU   TIOENTRY+2
TIOEWTCT EQU   TIOERLOC
TIOELINK EQU   TIOERLOC+1
TIOESYOT EQU   TIOELINK
TIOESTTC EQU   TIOENTRY+15
TIOESTTB EQU   TIOENTRY+16
POOLSTAR EQU   TIOENTRY+20
IEZJSCB  EQU   0
JSCBSEC1 EQU   IEZJSCB+188
JSCHPCE  EQU   JSCBSEC1+4
JSCBDCB  EQU   JSCBSEC1+36
JSCBOPTS EQU   JSCBSEC1+48
JSCBSWT1 EQU   JSCBSEC1+55
JSCBWTP  EQU   JSCBSEC1+64
JSCBWTFG EQU   JSCBWTP
JSCBEND1 EQU   IEZJSCB+260
QDB      EQU   0
QDBFELMP EQU   QDB+12
IKEBC    EQU   0
IKEBF15  EQU   0
IKEBF31  EQU   0
IKEBP15  EQU   0
IKEBP31  EQU   0
IKEBP8   EQU   0
UCBBGN   EQU   0
ALCWAPTR EQU   0
FUNC477  EQU   0
UNLDPMNT EQU   FUNC477
DONTUNLD EQU   FUNC477
PSARSVTE EQU   PSARSVT
UCBOBS01 EQU   UCBDEV
UCBVOLI  EQU   UCBOBS01+4
UCBSTAB  EQU   UCBOBS01+10
UCBBSVL  EQU   UCBSTAB
UCBPRSRS EQU   UCBSTAB
UCBBPRV  EQU   UCBSTAB
UCBBPUB  EQU   UCBSTAB
UCBDMCT  EQU   UCBOBS01+11
UCBMOUNT EQU   UCBDMCT
UCBFL4   EQU   UCBOBS01+13
UCBUSER  EQU   UCBOBS01+14
UCBOBS02 EQU   UCBDEV
UCBTFL1  EQU   UCBOBS02+19
UCBXTN   EQU   UCBOBS02+20
UCBVOPT  EQU   UCBXTN
UCBOBS03 EQU   UCBDEV
UCBXTADR EQU   UCBOBS03
UCBOBS04 EQU   UCBDEV
UCBBTA   EQU   UCBOBS04+12
UCBOBS06 EQU   UCBDEV
UCBAOF   EQU   UCBOBS06
UCBAOF1  EQU   UCBAOF
UCBAOF2  EQU   UCBAOF+1
@NM00068 EQU   UCBOBS06+3
UCBIRB   EQU   UCBOBS06+4
UCBGRAF  EQU   UCBIRB
UCBLDNCA EQU   UCBOBS06+8
UCBRDYQ  EQU   UCBLDNCA
UCBIRLN  EQU   UCBRDYQ
UCBLDNCB EQU   UCBRDYQ+1
UCBCTLNK EQU   UCBOBS06+12
UCBOBS07 EQU   UCBDEV
UCBOBS08 EQU   UCBDEV
UCBCTCAD EQU   UCBOBS08
UCBCTCF1 EQU   UCBOBS08+4
UCBOBS09 EQU   UCBDEV
TIOEDEVE EQU   TIOESTTB
TIOSTTB  EQU   TIOEDEVE
TIOUCBP  EQU   TIOEDEVE+1
JSCBSEC2 EQU   JSCBEND1
JSCBSEC3 EQU   JSCBEND1
JSCBJCT  EQU   JSCBSEC3
JSCBJCTA EQU   JSCBJCT+1
JSCBASID EQU   JSCBSEC3+8
JSCBFBYT EQU   JSCBSEC3+10
JSCBJNL  EQU   JSCBSEC3+28
JSCBJJSB EQU   JSCBJNL
JSCBSUB  EQU   JSCBSEC3+40
JSCDSABQ EQU   JSCBSEC3+60
JSCSCT   EQU   JSCBSEC3+68
JSCRSV45 EQU   JSCBSEC3+112
JSCRSV46 EQU   JSCRSV45
JSCRSV47 EQU   JSCRSV45+2
TUNALFLG EQU   TIOESTTB
TIONSRCH EQU   TUNALFLG
TIOPUBPV EQU   TUNALFLG
TIONOPV  EQU   TUNALFLG
CMUIDPTR EQU   CMOPTFLD
FLC      EQU   PSA
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS
@NM00084 EQU   TUNALFLG+1
TIOUNAL  EQU   TUNALFLG
TIORWND  EQU   TUNALFLG
@NM00083 EQU   TUNALFLG
@NM00082 EQU   TUNALFLG
@NM00081 EQU   TUNALFLG
JSCBEND3 EQU   JSCBSEC3+120
JSCRSV52 EQU   JSCBSEC3+116
JSCRSV51 EQU   JSCRSV47+1
JSCRSV50 EQU   JSCRSV47
JSCRSV49 EQU   JSCRSV46+1
JSCRSV48 EQU   JSCRSV46
JSCRSV44 EQU   JSCBSEC3+108
JSCRSV43 EQU   JSCBSEC3+104
JSCRSV42 EQU   JSCBSEC3+100
JSCBASWA EQU   JSCBSEC3+96
JSCBUFPT EQU   JSCBSEC3+92
JSCBACT  EQU   JSCBSEC3+88
JSCBSWSP EQU   JSCBSEC3+87
JSCRSV33 EQU   JSCBSEC3+86
JSCDDNUM EQU   JSCBSEC3+84
JSCRSV53 EQU   JSCBSEC3+82
JSCDDNNO EQU   JSCBSEC3+80
JSCBVATA EQU   JSCBSEC3+76
JSCTMCOR EQU   JSCBSEC3+72
JSCSCTP  EQU   JSCSCT+1
JSCRSV55 EQU   JSCSCT
JSCRSV54 EQU   JSCBSEC3+64
JSCBSSIB EQU   JSCBSEC3+56
JSCBFRBA EQU   JSCBSEC3+48
JSCRSV28 EQU   JSCBSEC3+46
JSCBSONO EQU   JSCBSEC3+44
JSCBSUBA EQU   JSCBSUB+1
JSCRSV31 EQU   JSCBSUB
JSCBSMLR EQU   JSCBSEC3+36
JSCBJNLR EQU   JSCBSEC3+32
JSCBJNLA EQU   JSCBJNL+1
JSCBJSBT EQU   JSCBJJSB
JSCBJSBX EQU   JSCBJJSB
JSCBJSBA EQU   JSCBJJSB
JSCBJSBI EQU   JSCBJJSB
@NM00080 EQU   JSCBJJSB
JSCBJNLE EQU   JSCBJJSB
JSCBJNLF EQU   JSCBJJSB
JSCBJNLN EQU   JSCBJJSB
@NM00079 EQU   JSCBSEC3+24
JSCBJRBA EQU   JSCBSEC3+16
JSCBIECB EQU   JSCBSEC3+12
JSCBRV08 EQU   JSCBSEC3+11
JSCBRV07 EQU   JSCBFBYT
JSCBRV06 EQU   JSCBFBYT
JSCBRV05 EQU   JSCBFBYT
JSCBRV04 EQU   JSCBFBYT
JSCBRV03 EQU   JSCBFBYT
JSCBRV02 EQU   JSCBFBYT
JSCBADSP EQU   JSCBFBYT
JSCBRV01 EQU   JSCBFBYT
JSCBTJID EQU   JSCBASID
JSCBPSCB EQU   JSCBSEC3+4
JSCJCTP  EQU   JSCBJCTA
JSCRSV24 EQU   JSCBJCT
JSCBEND2 EQU   JSCBSEC2
TIOVERF  EQU   TIOSTTB
TIOUNLD  EQU   TIOSTTB
TIOMNTD  EQU   TIOSTTB
TIOSETU  EQU   TIOSTTB
TIOVLSR  EQU   TIOSTTB
TIOPVIO  EQU   TIOSTTB
TIOREQD  EQU   TIOSTTB
TIOUSED  EQU   TIOSTTB
UCBRV066 EQU   UCBOBS09+4
UCBIOSBA EQU   UCBOBS09
UCBRV042 EQU   UCBOBS08+5
UCBRV082 EQU   UCBCTCF1
UCBRV081 EQU   UCBCTCF1
UCBRV080 EQU   UCBCTCF1
UCBRV079 EQU   UCBCTCF1
UCBRV078 EQU   UCBCTCF1
UCBRV077 EQU   UCBCTCF1
UCBRV076 EQU   UCBCTCF1
UCBCTC80 EQU   UCBCTCF1
UCBCTCAL EQU   UCBCTCAD
UCBICNCB EQU   UCBOBS07+4
UCBRV040 EQU   UCBOBS07
UCBCTLNA EQU   UCBCTLNK+1
UCBRLN   EQU   UCBCTLNK
UCBRDYQA EQU   UCBLDNCB
UCBINRLN EQU   UCBIRLN
UCBIRBA  EQU   UCBIRB+1
UCBRV039 EQU   UCBGRAF
UCBDWNR  EQU   UCBGRAF
UCBRPND  EQU   UCBGRAF
UCBUPM   EQU   UCBGRAF
UCBBTAM  EQU   UCBGRAF
UCBDRNO  EQU   UCBGRAF
UCBDRO   EQU   UCBGRAF
UCBOIP   EQU   UCBGRAF
UCBATRCD EQU   @NM00068
UCBSKPFG EQU   @NM00068
UCBRIPND EQU   @NM00068
UCBRTIAC EQU   @NM00068
UCBRSV79 EQU   @NM00068
UCBRSV78 EQU   @NM00068
UCBRSV77 EQU   @NM00068
UCBOLTEP EQU   @NM00068
UCBATNCT EQU   UCBOBS06+2
UCBRSV76 EQU   UCBAOF2
UCBRSV75 EQU   UCBAOF2
UCBRSV74 EQU   UCBAOF2
UCBRSV73 EQU   UCBAOF2
UCBRSV72 EQU   UCBAOF2
UCBRSV71 EQU   UCBAOF2
UCBRSV70 EQU   UCBAOF2
UCBRSV69 EQU   UCBAOF2
UCBRSV68 EQU   UCBAOF1
UCBRSV67 EQU   UCBAOF1
UCBRSV66 EQU   UCBAOF1
UCBRSV65 EQU   UCBAOF1
UCBRSV64 EQU   UCBAOF1
UCBOFNL  EQU   UCBAOF1
UCBOFSP  EQU   UCBAOF1
UCBOFMCR EQU   UCBAOF1
UCBBTB   EQU   UCBBTA+1
UCBDI    EQU   UCBBTA
UCBSNS   EQU   UCBOBS04+8
UCBTEB   EQU   UCBOBS04+4
UCBGCB   EQU   UCBOBS04+3
UCBOPEN  EQU   UCBOBS04+2
UCBSTART EQU   UCBOBS04
UCBXTNB  EQU   UCBXTN+1
UCBRSV22 EQU   UCBVOPT
UCBRSV21 EQU   UCBVOPT
UCBRSV20 EQU   UCBVOPT
UCBESVE  EQU   UCBVOPT
UCBERPC  EQU   UCBVOPT
UCBESVC  EQU   UCBVOPT
UCBEVA   EQU   UCBVOPT
UCBESV   EQU   UCBVOPT
UCBRV009 EQU   UCBTFL1
UCBRV008 EQU   UCBTFL1
UCBRV007 EQU   UCBTFL1
UCBRV006 EQU   UCBTFL1
UCBRV005 EQU   UCBTFL1
UCBDQDSP EQU   UCBTFL1
UCBNSLTP EQU   UCBTFL1
UCBNLTP  EQU   UCBTFL1
UCBRES1B EQU   UCBOBS02+18
UCBFSER  EQU   UCBOBS02+12
@NM00067 EQU   UCBOBS02+4
UCBFSEQ  EQU   UCBOBS02+2
UCBFSCT  EQU   UCBOBS02
UCBNEXP  EQU   UCBOBS01+20
UCBBASE  EQU   UCBOBS01+16
UCBRES1A EQU   UCBOBS01+15
UCBFL47  EQU   UCBFL4
UCBFL46  EQU   UCBFL4
UCBFL45  EQU   UCBFL4
UCBRV065 EQU   UCBFL4
UCBDSS   EQU   UCBFL4
UCBRESVP EQU   UCBFL4
UCBWDAV  EQU   UCBFL4
UCBDAVV  EQU   UCBFL4
UCBSQC   EQU   UCBOBS01+12
UCBDATP  EQU   UCBOBS01+12
UCBDMC   EQU   UCBDMCT
UCBBNUL  EQU   UCBSTAB
UCBSHAR  EQU   UCBSTAB
UCBBSTR  EQU   UCBSTAB
UCBBALB  EQU   UCBPRSRS
UCBPGFL  EQU   UCBSTAB
UCBDVSHR EQU   UCBBSVL
UCBVTOC  EQU   UCBOBS01
PSARSAV  EQU   PSARSVTE+60
PSARSTK  EQU   PSARSVTE+56
PSAESAV3 EQU   PSARSVTE+52
PSAESTK3 EQU   PSARSVTE+48
PSAESAV2 EQU   PSARSVTE+44
PSAESTK2 EQU   PSARSVTE+40
PSAESAV1 EQU   PSARSVTE+36
PSAESTK1 EQU   PSARSVTE+32
PSAPSAV  EQU   PSARSVTE+28
PSAPSTK  EQU   PSARSVTE+24
PSAMSAV  EQU   PSARSVTE+20
PSAMSTK  EQU   PSARSVTE+16
PSASSAV  EQU   PSARSVTE+12
PSASSTK  EQU   PSARSVTE+8
PSANSTK  EQU   PSARSVTE+4
PSACSTK  EQU   PSARSVTE
QDBRV002 EQU   QDB+28
QDBPRDS  EQU   QDB+26
QDBPRSZ  EQU   QDB+24
QDBBPTDS EQU   QDB+22
QDBFPTDS EQU   QDB+20
QDBLELMP EQU   QDB+16
QDBNELMS EQU   QDB+8
QDBRV001 EQU   QDB+6
QDBATTR  EQU   QDB+4
QDBQDB   EQU   QDB
JSCBCSCB EQU   JSCBSEC1+68
JSCBPMG  EQU   JSCBWTP+2
JSCBWTSP EQU   JSCBWTP+1
JSCRSV23 EQU   JSCBWTFG
JSCRSV22 EQU   JSCBWTFG
JSCRSV21 EQU   JSCBWTFG
JSCRSV20 EQU   JSCBWTFG
JSCRSV19 EQU   JSCBWTFG
JSCRSV18 EQU   JSCBWTFG
JSCBRET  EQU   JSCBWTFG
JSCBIOFG EQU   JSCBWTFG
@NM00078 EQU   JSCBSEC1+60
JSCBQMPI EQU   JSCBSEC1+56
JSCBPMSG EQU   JSCBSWT1
JSCRSV16 EQU   JSCBSWT1
JSCRSV15 EQU   JSCBSWT1
JSCRSV14 EQU   JSCBSWT1
JSCRSV13 EQU   JSCBSWT1
JSCRSV12 EQU   JSCBSWT1
JSCRSV11 EQU   JSCBSWT1
JSCBPASS EQU   JSCBSWT1
JSCBTTTR EQU   JSCBSEC1+52
JSCRSV10 EQU   JSCBSEC1+49
JSCBAUTH EQU   JSCBOPTS
JSCSIOTS EQU   JSCBOPTS
JSCRSV08 EQU   JSCBOPTS
JSCRSV07 EQU   JSCBOPTS
JSCRSV06 EQU   JSCBOPTS
JSCBLONG EQU   JSCBOPTS
JSCRSV05 EQU   JSCBOPTS
JSCRSV04 EQU   JSCBOPTS
JSCBSECB EQU   JSCBSEC1+44
JSCRSV03 EQU   JSCBSEC1+41
JSCBSTEP EQU   JSCBSEC1+40
JSCBDCBA EQU   JSCBDCB+1
JSCRSV02 EQU   JSCBDCB
JSCBID   EQU   JSCBSEC1+32
JSCBDBTB EQU   JSCBSEC1+28
JSCBIJSC EQU   JSCBSEC1+24
JSCBTCBP EQU   JSCBSEC1+20
JSCBPCC  EQU   JSCBSEC1+16
JSCBTCP  EQU   JSCBSEC1+12
JSCBSHR  EQU   JSCBSEC1+8
JSCHPCEA EQU   JSCHPCE+1
JSCRSV32 EQU   JSCHPCE
JSCRSV01 EQU   JSCBSEC1
@NM00077 EQU   IEZJSCB
TIOTFEND EQU   POOLSTAR+16
TIOPSLOT EQU   POOLSTAR+13
TIOPSTTB EQU   POOLSTAR+12
TIOPPOOL EQU   POOLSTAR+4
TIOPNSRT EQU   POOLSTAR+3
@NM00076 EQU   POOLSTAR+2
TIOPNSLT EQU   POOLSTAR+1
@NM00075 EQU   POOLSTAR
TIOEFSRT EQU   TIOENTRY+17
TIOSVERF EQU   TIOESTTB
TIOSUNLD EQU   TIOESTTB
TIOSMNTD EQU   TIOESTTB
TIOSSETU EQU   TIOESTTB
TIOSVLSR EQU   TIOESTTB
TIOSPVIO EQU   TIOESTTB
TIOSREQD EQU   TIOESTTB
TIOSUSED EQU   TIOESTTB
TIOSBALS EQU   TIOESTTC
TIOSBALP EQU   TIOESTTC
TIOSVOLS EQU   TIOESTTC
TIOSVOLP EQU   TIOESTTC
TIOSAFFS EQU   TIOESTTC
TIOSAFFP EQU   TIOESTTC
TIOSDEFR EQU   TIOESTTC
TIOSDKCR EQU   TIOESTTC
TIOEJFCB EQU   TIOENTRY+12
TIOEDDNM EQU   TIOENTRY+4
TIOTREM  EQU   TIOELINK
TIOESSDS EQU   TIOESYOT
TIOESYIN EQU   TIOELINK
TIOEQNAM EQU   TIOELINK
TIOEDYNM EQU   TIOELINK
TIOTTERM EQU   TIOELINK
TIOTRV01 EQU   TIOELINK
TIOSYOUT EQU   TIOELINK
TIOSDSP2 EQU   TIOESTTA
TIOSDSP1 EQU   TIOESTTA
TIOSLABL EQU   TIOESTTA
TIOSDADS EQU   TIOESTTA
TIOSJBLB EQU   TIOESTTA
TIOSPLTS EQU   TIOESTTA
TIOSPLTP EQU   TIOESTTA
TIOSLTYP EQU   TIOESTTA
TIOELNGH EQU   TIOENTRY
TIOCSTEP EQU   TIOT1+8
TIOCNJOB EQU   TIOT1
DSABLLEN EQU   DSABGIDL
DSABANAM EQU   DSABANMI+1
DSABANML EQU   DSABANMI
DSABRS04 EQU   DSAB+68
DSABSIOT EQU   DSAB+64
DSABRS03 EQU   DSAB+62
DSABDCBM EQU   DSAB+56
DSABSSCM EQU   DSAB+52
DSABSSNM EQU   DSAB+48
DSABPTTR EQU   DSAB+44
DSABTCBP EQU   DSAB+40
DSABRS02 EQU   DSAB+38
@NM00074 EQU   DSABFLG4
DSABCKSI EQU   DSABFLG4
DSABCKVL EQU   DSABFLG4
DSABCKDS EQU   DSABFLG4
@NM00073 EQU   DSABFLG3
DSABJSCT EQU   DSABFLG3
DSABCATL EQU   DSABFLG3
DSABVMSC EQU   DSABFLG3
DSABVAM  EQU   DSABFLG3
DSABPASS EQU   DSABFLG3
DSABDEFR EQU   DSABFLG3
@NM00072 EQU   DSABFLG2
DSABUNAL EQU   DSABFLG2
DSABIRM  EQU   DSABFLG2
DSABOPEN EQU   DSABFLG2
DSABNUSE EQU   DSABFLG1
DSABCATM EQU   DSABFLG1
DSABPCAT EQU   DSABFLG1
DSABDCAT EQU   DSABFLG1
DSABCONV EQU   DSABFLG1
DSABDCNV EQU   DSABFLG1
DSABPALC EQU   DSABFLG1
DSABDALC EQU   DSABFLG1
@NM00071 EQU   DSABORG2
DSABTR   EQU   DSABORG2
DSABAM   EQU   DSABORG2
@NM00070 EQU   DSABORG2
DSABTQ   EQU   DSABORG2
DSABTX   EQU   DSABORG2
DSABGS   EQU   DSABORG2
DSABU    EQU   DSABORG1
DSABPO   EQU   DSABORG1
DSABMQ   EQU   DSABORG1
DSABCQ   EQU   DSABORG1
DSABCX   EQU   DSABORG1
DSABDA   EQU   DSABORG1
DSABPS   EQU   DSABORG1
DSABIS   EQU   DSABORG1
DSABSSVA EQU   DSAB+21
DSABRS01 EQU   DSAB+20
DSABOPCT EQU   DSAB+14
DSABLNTH EQU   DSAB+12
DSABBCHN EQU   DSAB+8
DSABID   EQU   DSAB
UCBERADR EQU   UCBUCS+12
UCBFCBID EQU   UCBUCS+8
UCBERCNT EQU   UCBUCS+7
UCBRSV51 EQU   UCBUCS+6
UCBFCBPE EQU   UCBFCBOP
UCBRSV49 EQU   UCBFCBOP
UCBRSV48 EQU   UCBFCBOP
UCBRSV47 EQU   UCBFCBOP
UCBRSV46 EQU   UCBFCBOP
UCBRSV45 EQU   UCBFCBOP
UCBRSV44 EQU   UCBFCBOP
UCBFCBO1 EQU   UCBFCBOP
UCBUCSPE EQU   UCBUCSOP
UCBRSV43 EQU   UCBUCSOP
UCBRSV42 EQU   UCBUCSOP
UCBRSV41 EQU   UCBUCSOP
UCBRSV40 EQU   UCBUCSOP
UCBRSV39 EQU   UCBUCSOP
UCBUCSO2 EQU   UCBUCSOP
UCBUCSO1 EQU   UCBUCSOP
UCBUCSID EQU   UCBUCS
UCBMDRBA EQU   UCBMDRBF+1
UCBRV075 EQU   UCBMDRBF
UCBRV074 EQU   UCB3800X+32
UCBIMAGE EQU   UCB3800X+28
UCBFCBNM EQU   UCB3800X+24
UCBCHAR4 EQU   UCB3800X+20
UCBCHAR3 EQU   UCB3800X+16
UCBCHAR2 EQU   UCB3800X+12
UCBCHAR1 EQU   UCB3800X+8
UCBCGMID EQU   UCB3800X+4
UCBBRSTA EQU   UCBACTIV
UCBRV063 EQU   UCBACTIV
UCBRV062 EQU   UCBACTIV
UCBRV061 EQU   UCBACTIV
UCBRV060 EQU   UCBACTIV
UCBRV059 EQU   UCBACTIV
UCBRV058 EQU   UCBACTIV
UCBRV057 EQU   UCBACTIV
UCBRV050 EQU   UCB3800X+2
UCBCGMNO EQU   UCB3800X+1
UCBRV083 EQU   UCBOPTNS
UCBBRSTR EQU   UCBOPTNS
UCBRV056 EQU   UCBOPTNS
UCBRV055 EQU   UCBOPTNS
UCBRV054 EQU   UCBOPTNS
UCBRV053 EQU   UCBOPTNS
UCBRV052 EQU   UCBOPTNS
UCBRV051 EQU   UCBOPTNS
UCBRV073 EQU   UCB3540X+7
UCBRV072 EQU   UCBDKBYT
UCBRV071 EQU   UCBDKBYT
UCBRV070 EQU   UCBDKBYT
UCBRV069 EQU   UCBDKBYT
UCBRV068 EQU   UCBDKBYT
UCBRV067 EQU   UCBDKBYT
UCBVLVER EQU   UCBDKBYT
UCBDKAMX EQU   UCBDKBYT
UCBVLSER EQU   UCB3540X
UCBRDATA EQU   UCBOCR+4
UCBFRID  EQU   UCBOCR
UCBCLN   EQU   UCBMT+14
UCBERG   EQU   UCBMT+12
UCBMS    EQU   UCBMT+11
UCBNB    EQU   UCBMT+10
UCBPW    EQU   UCBMT+9
UCBPR    EQU   UCBMT+8
UCBSIO   EQU   UCBMT+6
UCBTW    EQU   UCBMT+5
UCBTR    EQU   UCBMT+4
UCBTWT   EQU   UCBMT+3
UCBTRT   EQU   UCBMT+2
UCBCTD   EQU   UCBMT
UCBWTOID EQU   UCBCMEXT+17
UCBMIHTI EQU   UCBMIHBY
UCBMIHT2 EQU   UCBMIHBY
UCBMIHT1 EQU   UCBMIHBY
UCBMIHPB EQU   UCBMIHBY
UCBMIHSF EQU   UCBMIHBY
UCBASID  EQU   UCBCMEXT+14
UCBMFCNT EQU   UCBCMEXT+12
UCBPMSK  EQU   UCBCMEXT+10
UCBCCWOF EQU   UCBCMEXT+8
UCBRV041 EQU   UCBCMEXT+6
UCBRV036 EQU   UCBFLP1
UCBRV035 EQU   UCBFLP1
UCBERLOG EQU   UCBFLP1
UCBSWAPF EQU   UCBFLP1
UCBINHIO EQU   UCBFLP1
UCBNSWAP EQU   UCBFLP1
UCBSHRUP EQU   UCBFLP1
UCBSNSCT EQU   UCBCMEXT+4
UCBHPDV  EQU   @NM00069
UCBHALI  EQU   @NM00069
UCBRSV09 EQU   @NM00069
UCBRSV08 EQU   @NM00069
UCBRSV07 EQU   @NM00069
UCBRSV06 EQU   @NM00069
UCBRSV05 EQU   @NM00069
UCBRSV04 EQU   @NM00069
UCBDTI   EQU   UCBCMEXT+2
UCBSTI   EQU   UCBCMEXT+1
UCBETI   EQU   UCBCMEXT
UCBEXTP  EQU   UCBEXTPT+1
UCBDDRSW EQU   UCBFLC
UCBTICBT EQU   UCBFLC
UCBIVRR  EQU   UCBFLC
UCBIVRS  EQU   UCBFLC
UCBITF   EQU   UCBFLC
UCBUDE   EQU   UCBFLC
UCBWAA   EQU   UCBFLC
UCBATTP  EQU   UCBFLC
UCBUNTYP EQU   UCBTBYT4
UCBRSV11 EQU   UCBDVCLS
UCBRSV10 EQU   UCBDVCLS
UCB3CHAR EQU   UCBDVCLS
UCB3UREC EQU   UCBDVCLS
UCB3DISP EQU   UCBDVCLS
UCB3COMM EQU   UCBDVCLS
UCBDVPWR EQU   UCB2OPT7
UCBVLPWR EQU   UCB2OPT6
UCB2OPT5 EQU   UCBTBYT2
UCBRVDEV EQU   UCBRWTAU
UCBRPS   EQU   UCBDUDN2
UCBRR    EQU   UCBDUDN1
UCB2OPT1 EQU   UCBTBYT2
UCB2OPT0 EQU   UCBTBYT2
UCB1FEA7 EQU   UCBTBYT1
UCBD6250 EQU   UCB1FEA6
UCBD1600 EQU   UCB1FEA5
UCB1FEA4 EQU   UCBTBYT1
UCB1FEA3 EQU   UCBTBYT1
UCB1FEA2 EQU   UCBTBYT1
UCB1FEA1 EQU   UCBTBYT1
UCB1FEA0 EQU   UCBTBYT1
UCBNAME  EQU   UCBOB+13
UCBRV029 EQU   UCBWGT
UCBVHRSN EQU   UCBWGT
UCBVORSN EQU   UCBWGT
UCBMTPXP EQU   UCBWGT
UCBREW   EQU   UCBWGT
UCBPUB   EQU   UCBWGT
UCBOUT   EQU   UCBWGT
UCBIN    EQU   UCBWGT
UCBCPU   EQU   UCBOB+11
UCBLCI   EQU   UCBOB+10
UCBCNT   EQU   UCBOB+9
UCBRV017 EQU   UCBCHM1
UCBRV016 EQU   UCBCHM1
UCBRV015 EQU   UCBCHM1
UCBRV014 EQU   UCBCHM1
UCBSPB   EQU   UCBPTH1
UCBPPB   EQU   UCBPTH1
UCBSPA   EQU   UCBPTH0
UCBPPA   EQU   UCBPTH0
UCBSIGP  EQU   UCBFLB
UCBVALPH EQU   UCBFLB
UCBCRHSN EQU   UCBFLB
UCBCRHRV EQU   UCBFLB
UCBRESVH EQU   UCBFLB
UCBSPST  EQU   UCBFLB
UCBASNS  EQU   UCBFLB
UCBIORST EQU   UCBFLB
UCBQISCE EQU   UCBFL1
UCBACTV  EQU   UCBFL1
UCBSAP   EQU   UCBFL1
UCBNOTRC EQU   UCBCUB
UCBPSNS  EQU   UCBFL1
UCBUSING EQU   UCBPST
UCBNOTRD EQU   UCBNRY
UCBBUSYD EQU   UCBBSY
UCBUA    EQU   UCBCHAN+1
UCBCHA   EQU   UCBCHAN
UCBDADI  EQU   UCBSTAT
UCBSYSR  EQU   UCBSTAT
UCBPRES  EQU   UCBSTAT
UCBUNLD  EQU   UCBSTAT
UCBRESV  EQU   UCBSTAT
UCBCHGS  EQU   UCBSTAT
UCBONLI  EQU   UCBSTAT
UCBID    EQU   UCBOB+2
UCBALTPH EQU   UCBFL5
UCBALTCU EQU   UCBFL5
UCBNALOC EQU   UCBFL5
UCBENVRD EQU   UCBFL5
UCBVSDR  EQU   UCBFL5
UCBSASK  EQU   UCBFL5
UCBAMV   EQU   UCBAF
UCBDCC   EQU   UCBFL5
UCBMONT  EQU   UCBJBNR
UCBRV011 EQU   UCBJBNR
UCBMMSGP EQU   UCBJBNR
UCBOLDSM EQU   UCBJBNR
UCBRV003 EQU   UCBJBNR
UCBDUC   EQU   UCBJBNR
UCBJES3  EQU   UCBJBNR
UCBVRDEV EQU   UCBJBNR
UCBCMSEG EQU   UCBOB
UCBPFXND EQU   UCB+512
UCBIOQ   EQU   UCB+508
UCBLOCK  EQU   UCB+504
UCBPXST  EQU   UCB+504
@NM00066 EQU   UCB
SIODDSNL EQU   INDMSIOT+173
SIOVDSNL EQU   INDMSIOT+172
SIOVDSNT EQU   INDMSIOT+170
SIOTJFX  EQU   INDMSIOT+160
SJFCBPTR EQU   INDMSIOT+156
SIOTATE  EQU   INDMSIOT+144
SIOTEDLP EQU   INDMSIOT+136
SIOTEDLS EQU   INDMSIOT+132
SCTANAME EQU   INDMSIOT+122
SIOTSSIC EQU   INDMSIOT+120
@NM00065 EQU   INDMSIOT+108
SIOTSSNM EQU   INDMSIOT+104
@NM00064 EQU   SIOTBYT2
SIOTCVOL EQU   SIOTBYT2
SIOTCNEW EQU   SIOTBYT2
SIOTCALC EQU   SIOTBYT2
SIOTGALL EQU   SIOTBYT2
SIOTDMND EQU   SIOTBYT2
SIOTOPUC EQU   INDMSIOT+99
SIOTOUTR EQU   INDMSIOT+97
SIOTOUTC EQU   INDMSIOT+96
SIOTSSWA EQU   INDMSIOT+93
SIOTAUNC EQU   SIOTALTD
SIOTACAT EQU   SIOTALTD
SIOTADEL EQU   SIOTALTD
SIOTAKEP EQU   SIOTALTD
SIOTNPRV EQU   SIOTALTD
SIOJCATS EQU   SIOTALTD
@NM00063 EQU   SIOTALTD
@NM00062 EQU   SIOTALTD
@NM00061 EQU   INDMSIOT+91
SIOTNDSB EQU   INDMSIOT+88
@NM00060 EQU   INDMSIOT+84
SIOTDPCD EQU   INDMSIOT+82
@NM00059 EQU   SIOTBYT4
SIOTRACT EQU   SIOTBYT4
SIOTRACD EQU   SIOTBYT4
SIOTPROT EQU   SIOTBYT4
SCTOUTPN EQU   INDMSIOT+80
SCTOUTNO EQU   INDMSIOT+76
SCTOUTNM EQU   INDMSIOT+68
SIOUCNVT EQU   SCTUTYPE+4
SIOUBYT4 EQU   SIOTDEVT+3
@NM00058 EQU   SIOUBYT3
SIO3UREC EQU   SIOUBYT3
SIO3DISP EQU   SIOUBYT3
SIO3DACC EQU   SIOUBYT3
SIO3COMM EQU   SIOUBYT3
SIO3TAPE EQU   SIOUBYT3
SIOUBYT2 EQU   SIOTDEVT+1
SIOUBYT1 EQU   SIOTDEVT
SIOTOMN  EQU   SCTSBYT4
SIOTIPDI EQU   SCTSBYT4
SIOTVAFF EQU   SCTSBYT4
SIOTSTEP EQU   SCTSBYT4
SIOTASCI EQU   SCTSBYT4
@NM00057 EQU   SCTSBYT4
SIOTGDGA EQU   SCTSBYT4
SCTSGDGS EQU   SCTSBYT4
SCTSOLD  EQU   SCTSBYT3
SCTSMOD  EQU   SCTSBYT3
SCTSNEW  EQU   SCTSBYT3
SCTSYSOU EQU   SCTSBYT3
SCTVREF  EQU   SCTSBYT3
SCTALCHK EQU   SCTSBYT3
SCTSYSNE EQU   SCTSBYT3
SCTDSNRF EQU   SCTSBYT3
SCTRECVD EQU   SCTSBYT2
SCTDEFER EQU   SCTSBYT2
SCTLABEL EQU   SCTSBYT2
SCTUNLBD EQU   SCTSBYT2
SCTJOBLB EQU   SCTSBYT2
SCTVOLAF EQU   SCTSBYT2
SIOTCATL EQU   SCTSBYT2
SIOCLUNL EQU   SCTSBYT2
SIOTJSCT EQU   SCTSBYT1
SCTUNAFF EQU   SCTSBYT1
SCTPARLM EQU   SCTSBYT1
SIOTQDSN EQU   SCTSBYT1
SIOTGDSN EQU   SCTSBYT1
SIOTCCAT EQU   SCTSBYT1
SCTSYSIN EQU   SCTSBYT1
SCTDUMMY EQU   SCTSBYT1
SIOTUNCT EQU   SCTSDISP
SIOTCTLG EQU   SCTSDISP
SIOTDLET EQU   SCTSDISP
SIOTKEEP EQU   SCTSDISP
SIOTPASS EQU   SCTSDISP
SIOTPRIV EQU   SCTSDISP
S3400DSP EQU   SCTSDISP
SIOTRETN EQU   SCTSDISP
SIOTVLCT EQU   INDMSIOT+54
SCTNMBUT EQU   INDMSIOT+53
SIOTRTRY EQU   SIOTBYT0
SIOTPUPV EQU   SIOTBYT0
SIOTNOPV EQU   SIOTBYT0
SIOTGIGN EQU   SIOTBYT0
SPVTAMSG EQU   SIOTBYT0
SIOTFUDA EQU   SIOTBYT0
SIOTDYAL EQU   SIOTBYT0
SIOTSSDS EQU   SIOTBYT0
SIOTGIID EQU   INDMSIOT+50
SCTVOLCT EQU   INDMSIOT+49
SCTSPOOL EQU   INDMSIOT+48
SIOTQNAM EQU   SIOTTSTC
SIOTDSNM EQU   SIOTTSTC
SIOTTRKM EQU   SIOTTSTC
SIOTSSMG EQU   SIOTTSTC
SIOTSSGP EQU   SIOTTSTC
@NM00056 EQU   SIOTTSTC
SIOTTERM EQU   SIOTTSTC
SIOTINFC EQU   SIOTTSTC
@NM00055 EQU   SIOTBYT3
SIOTDSID EQU   SIOTBYT3
S3400OFF EQU   SIOTBYT3
SIOTJES3 EQU   SIOTBYT3
SIOCDEVT EQU   SIOTBYT3
SIOALIAS EQU   SIOTBYT3
SCTDDINO EQU   INDMSIOT+44
SIOTDDNT EQU   SIOTBYT1
SIOTDADR EQU   SIOTBYT1
SIODUNAL EQU   SIOTBYT1
SIOVAMDS EQU   SIOTBYT1
SIOTHOLD EQU   SIOTBYT1
SIOTOCKP EQU   SIOTBYT1
SIOPSCNT EQU   INDMSIOT+42
SIOTREFN EQU   INDMSIOT+40
SIOTOTUN EQU   INDMSIOT+39
SIOTVRSB EQU   INDMSIOT+36
@NM00054 EQU   INDMSIOT+35
SCTPJFCB EQU   INDMSIOT+32
@NM00053 EQU   INDMSIOT+31
SCTPSIOT EQU   INDMSIOT+28
SIOTAFID EQU   INDMSIOT+26
SIOTVLSP EQU   INDMSIOT+24
SIODSNTE EQU   INDMSIOT+22
SIOTUNAF EQU   SCTUSADD
SIOTDEST EQU   INDMSIOT+12
SCTDDNAM EQU   INDMSIOT+4
SIOTTYPE EQU   INDMSIOT+3
SIOTDSKA EQU   INDMSIOT
@NM00052 EQU   VMVUSER
VMVPROCD EQU   VMVUSER
VMVVUNTP EQU   VMVRQBLK+44
@NM00051 EQU   VMVMINFO+1
@NM00050 EQU   VMVACTON
VMVRTAIN EQU   VMVACTON
VMVDSMT  EQU   VMVACTON
VMVKEEP  EQU   VMVACTON
VMVRETCD EQU   VMVRQBLK+36
VMVDSNMP EQU   VMVRQBLK+28
VMVMVLSR EQU   VMVRQBLK+18
VMVUVLSR EQU   VMVRQBLK+12
@NM00049 EQU   VMVRQBLK+8
VMVOPTB4 EQU   VMVFNMAP+3
@NM00048 EQU   VMVOPTB3
VMVNUMSG EQU   VMVOPTB3
VMVCUVOL EQU   VMVOPTB3
VMVDUPVL EQU   VMVOPTB3
VMVNSPVT EQU   VMVOPTB2
VMVNSLTP EQU   VMVOPTB2
VMVSLTAP EQU   VMVOPTB2
VMVNLTAP EQU   VMVOPTB2
VMVALTAP EQU   VMVOPTB2
VMVSTRG  EQU   VMVOPTB2
VMVPUBLC EQU   VMVOPTB2
VMVPRIVT EQU   VMVOPTB2
VMVVDEND EQU   VMVOPTB1
VMVVRLBL EQU   VMVOPTB1
VMVDWTOR EQU   VMVOPTB1
VMVMTMSG EQU   VMVOPTB1
VMVMOUNT EQU   VMVOPTB1
VMVREWND EQU   VMVOPTB1
CMOSYOUT EQU   CMUNRB+13
CMOUNCAT EQU   CMODISP
CMOCATLG EQU   CMODISP
CMOKEEP  EQU   CMODISP
@NM00047 EQU   CMODISP
@NM00046 EQU   CMRBBYT4
@NM00045 EQU   CMRBBYT4
CMNODEN  EQU   CMRBBYT4
CMSSERR  EQU   CMRBBYT4
CMINTERR EQU   CMRBBYT4
CMSSIERR EQU   CMRBBYT4
CMCATERR EQU   CMRBBYT4
CMSCRERR EQU   CMRBBYT4
@NM00044 EQU   CMRBBYT3
CMSSKEEP EQU   CMRBBYT3
CMNOHOLD EQU   CMRBBYT3
CMOVSYOT EQU   CMRBBYT3
CMWAIT   EQU   CMRBBYT3
CMDYNUNA EQU   CMRBBYT3
CMHOLD   EQU   CMRBBYT3
CMDEL    EQU   CMRBBYT3
@NM00043 EQU   CMRBBYT2
@NM00042 EQU   CMRBBYT2
@NM00041 EQU   CMRBBYT2
CMSETPRV EQU   CMRBBYT2
CMCKDAVL EQU   CMRBBYT2
CMCKAVOL EQU   CMRBBYT2
CMCHKUN  EQU   CMRBBYT2
CMNODSR  EQU   CMRBBYT2
@NM00040 EQU   CMRBBYT1
CMINVUCB EQU   CMRBBYT1
CMOUSRID EQU   CMRBBYT1
CMCNDISP EQU   CMRBBYT1
CMNMDISP EQU   CMRBBYT1
CMNODISP EQU   CMRBBYT1
@NM00039 EQU   CMFMBYT4
@NM00038 EQU   CMFMBYT4
@NM00037 EQU   CMFMBYT4
@NM00036 EQU   CMFMBYT4
@NM00035 EQU   CMFMBYT4
@NM00034 EQU   CMFMBYT4
CMALSTCT EQU   CMFMBYT4
CMLSTCJS EQU   CMFMBYT4
CMJES3   EQU   CMFMBYT3
@NM00033 EQU   CMFMBYT3
@NM00032 EQU   CMFMBYT3
CMSPSCR  EQU   CMFMBYT3
CMPUBPRV EQU   CMFMBYT3
CMDSRALL EQU   CMFMBYT3
CMRDDENT EQU   CMFMBYT2
CMGENDEQ EQU   CMFMBYT2
CMCHATTR EQU   CMFMBYT2
CMFDSABS EQU   CMFMBYT1
CMVLRLSE EQU   CMFMBYT1
CMUNUNIT EQU   CMFMBYT1
CMDSRLSE EQU   CMFMBYT1
CMDPCATS EQU   CMFMBYT1
CMMNSTAT EQU   CMFMBYT1
CMDMSGS  EQU   CMFMBYT1
EXTRACAL EQU   FUNCMAP+1
ALCASDSN EQU   ASNMSW
ALCSUBWT EQU   WAITOKSW
ALCATRKM EQU   TRKMSW
ALCNOENQ EQU   NOTIOTNQ
ALCJOBNM EQU   MTRJOBSW
ALCHDMSG EQU   HDRMSGSW
ALCSSMSG EQU   SSEMSGSW
ALCGENER EQU   GENLOKSW
ALCCANCL EQU   CCLMNTSW
ALCOFFDV EQU   OFFDEVSW
ALCMSSTM EQU   MSSTRMSW
ALCWTVOL EQU   VWAITSW
ALCWTUNT EQU   UWAITSW
ALCMSGLV EQU   WRTMSGSW
ALCMOUNT EQU   VOLMNTSW
ALCPROCN EQU   NAMES+16
LOJSSNMP EQU   ALCWA+164
SSERBLKP EQU   ALCWA+160
GROUPSZ  EQU   ALCWA+156
GRIDPTR  EQU   ALCWA+152
ALCNUCBS EQU   ALCWA+148
EXITPRMP EQU   ALCWA+144
WORK3MP  EQU   ALCWA+136
WMASK2P  EQU   ALCWA+132
WMASKPTR EQU   ALCWA+128
LGENLOCK EQU   ALCWA+124
@NM00031 EQU   @NM00030
DDRDA    EQU   @NM00030
DDRTPUR  EQU   @NM00030
NODEVERR EQU   @NM00030
NEEDRCVY EQU   @NM00030
ALCWAREC EQU   @NM00030
WAITIGEN EQU   @NM00030
UNITRECS EQU   @NM00030
ALCWADUL EQU   INDICATE
ALCWISAM EQU   INDICATE
DSSUNIT  EQU   INDICATE
DSSTAPE  EQU   INDICATE
PRIVASUM EQU   INDICATE
INDREQU  EQU   INDICATE
INDRETRY EQU   INDICATE
INDWAIT  EQU   INDICATE
QMGRRBP  EQU   ALCWA+108
RIMTABCT EQU   ALCWA+104
RIMTABLN EQU   ALCWA+100
RIMTABP  EQU   ALCWA+96
ALGTABSZ EQU   ALCWA+92
ALGTABP  EQU   ALCWA+88
@NM00029 EQU   ALCWA+78
LTUNITID EQU   ALCWA+76
NUMREQS  EQU   CNTABLE+40
OTHEREQS EQU   CNTABLE+32
SUBSREQS EQU   CNTABLE+28
STRGREQS EQU   CNTABLE+24
PUBLREQS EQU   CNTABLE+20
PVTNREQS EQU   CNTABLE+16
SPECREQS EQU   CNTABLE+12
TPREQS   EQU   CNTABLE+8
VAMREQS  EQU   CNTABLE+4
DMYREQS  EQU   CNTABLE
EDTABPTR EQU   ALCWA+24
IOSLUTP  EQU   ALCWA+16
WASIZE   EQU   ALCWA
@NM00028 EQU   VUGRLENT+5
@NM00027 EQU   VUGRLFLG
VUGRALCD EQU   VUGRLFLG
VUGRLIDS EQU   VUGRLENT
VUCBS    EQU   VUPOOL+4
VUPOOL#  EQU   VUPOOL
VOLALGTP EQU   VOLUNTAB+12
VOLUNTID EQU   VOLUNTAB+10
VURCVYPR EQU   VOLSTATD
VUVLUNIQ EQU   VOLSTATD
VUDMUNIQ EQU   VOLSTATD
VUUNALSW EQU   VOLSTATD
VUDMNDAL EQU   VOLSTATD
VUDMNDOF EQU   VOLSTATD
VUMUGDON EQU   VOLSTATD
@NM00026 EQU   VOLSTATC
@NM00025 EQU   VOLSTATC
VURECVRY EQU   VOLSTATC
VOLURREQ EQU   VOLSTATC
VOLGRREQ EQU   VOLSTATC
VOLDAREQ EQU   VOLSTATC
VOLCOREQ EQU   VOLSTATC
VOLTAREQ EQU   VOLSTATC
VUAFFWRK EQU   VOLSTATB
VUVINELG EQU   VOLSTATB
VUDADSME EQU   VOLSTATB
VUDNALOC EQU   VOLSTATB
VUPROCED EQU   VOLSTATB
VOLMNTD  EQU   VOLSTATB
VOLDEFER EQU   VOLSTATA
VOLRESVE EQU   VOLSTATA
VOLNSHR  EQU   VOLSTATA
VOLSTG   EQU   VOLSTATA
VOLPRV   EQU   VOLSTATA
VOLPUB   EQU   VOLSTATA
@NM00024 EQU   PSA+3668
PSASTAK  EQU   PSA+3072
@NM00023 EQU   PSA+1048
PSAUSEND EQU   PSA+1048
PSARV062 EQU   PSA+1044
PSACDAL  EQU   PSA+1040
PSAWTCOD EQU   PSA+1036
PSAATCVT EQU   PSA+1032
PSAPCPSW EQU   PSA+1024
PSAPIR2  EQU   PSA+1020
PSARV059 EQU   PSA+1018
PSASVC13 EQU   PSA+1016
PSALSFCC EQU   PSA+1012
PSASFACC EQU   PSA+1008
PSASTOP  EQU   PSA+992
PSASTART EQU   PSA+976
PSARSPSW EQU   PSA+968
PSASRPSW EQU   PSA+960
PSARV045 EQU   PSA+892
PSARV044 EQU   PSA+888
PSARV043 EQU   PSA+884
PSARV042 EQU   PSA+880
PSARV041 EQU   PSA+876
PSARV040 EQU   PSA+872
PSARV025 EQU   PSA+868
PSADSSED EQU   PSA+868
PSADSSPR EQU   PSA+864
PSADSSFW EQU   PSA+860
PSADSS14 EQU   PSA+856
PSADSSPP EQU   PSA+848
PSADSSRP EQU   PSA+840
PSADSS05 EQU   PSADSSF4
PSADSS10 EQU   PSADSSF4
PSADSSVE EQU   PSADSSF4
PSADSSDE EQU   PSADSSF4
PSADSSC0 EQU   PSADSSF4
PSADSSIE EQU   PSADSSF4
PSADSS12 EQU   PSADSSF4
PSADSSRC EQU   PSADSSF4
PSARV057 EQU   PSADSSF3
PSARV056 EQU   PSADSSF3
PSARV055 EQU   PSADSSF3
PSADSSMC EQU   PSADSSF3
PSADSSRW EQU   PSADSSF3
PSADSSNM EQU   PSADSSF3
PSADSSES EQU   PSADSSF3
PSADSSGP EQU   PSADSSF3
PSADSSF2 EQU   PSADSSFL+1
PSADSSPI EQU   PSADSSF1
PSADSSOI EQU   PSADSSF1
PSADSSSP EQU   PSADSSF1
PSADSSTP EQU   PSADSSF1
PSADSSDW EQU   PSADSSF1
PSADSSDD EQU   PSADSSF1
PSADSSDM EQU   PSADSSF1
PSADSSMV EQU   PSADSSF1
PSADSSTS EQU   PSA+816
PSADSSWK EQU   PSA+812
PSADSSR3 EQU   PSA+808
PSADSSR2 EQU   PSA+804
PSADSSRS EQU   PSA+800
PSASTOR  EQU   PSA+796
PSACPUSA EQU   PSA+794
PSAVSTAP EQU   PSA+792
PSAWKVAP EQU   PSA+788
PSAWKRAP EQU   PSA+784
PSAMCHIC EQU   PSA+783
PSARV061 EQU   PSA+782
PSASYMSK EQU   PSA+781
PSAMCHFL EQU   PSA+780
PSACR0   EQU   PSA+776
PSAPSWSV EQU   PSA+768
PSACLHS  EQU   PSAHLHI
PSALKR15 EQU   PSALKSA+60
PSALKR14 EQU   PSALKSA+56
PSALKR13 EQU   PSALKSA+52
PSALKR12 EQU   PSALKSA+48
PSALKR11 EQU   PSALKSA+44
PSALKR10 EQU   PSALKSA+40
PSALKR9  EQU   PSALKSA+36
PSALKR8  EQU   PSALKSA+32
PSALKR7  EQU   PSALKSA+28
PSALKR6  EQU   PSALKSA+24
PSALKR5  EQU   PSALKSA+20
PSALKR4  EQU   PSALKSA+16
PSALKR3  EQU   PSALKSA+12
PSALKR2  EQU   PSALKSA+8
PSALKR1  EQU   PSALKSA+4
PSALKR0  EQU   PSALKSA
PSARV023 EQU   PSACLHT+52
PSALOCAL EQU   PSACLHT+48
PSACMSL  EQU   PSACLHT+44
PSAOPTL  EQU   PSACLHT+40
PSATPACL EQU   PSACLHT+36
PSATPDNL EQU   PSACLHT+32
PSATPNCL EQU   PSACLHT+28
PSAIOSLL EQU   PSACLHT+24
PSAIOSUL EQU   PSACLHT+20
PSAIOSCL EQU   PSACLHT+16
PSAIOSSL EQU   PSACLHT+12
PSASALCL EQU   PSACLHT+8
PSAASML  EQU   PSACLHT+4
PSADISPL EQU   PSACLHT
PSASRSA  EQU   PSA+636
PSARV050 EQU   PSA+634
PSADSSGO EQU   PSA+633
PSARECUR EQU   PSA+632
PSAHLHIS EQU   PSA+628
PSAIPCSA EQU   PSA+624
@NM00022 EQU   PSA+621
PSAIPCDM EQU   PSA+620
PSAIPCD  EQU   PSA+616
@NM00021 EQU   PSA+613
PSAIPCRM EQU   PSA+612
PSAIPCR  EQU   PSA+608
PSAMCHEX EQU   PSA+600
PSAMPSW  EQU   PSA+592
PSAEXPS2 EQU   PSA+584
PSAEXPS1 EQU   PSA+576
PSAPIREG EQU   PSA+572
PSARSREG EQU   PSA+568
PSAGPREG EQU   PSA+556
PSARV022 EQU   PSASUP4
PSARV021 EQU   PSASUP4
PSARV020 EQU   PSASUP4
PSARV019 EQU   PSASUP4
PSARV018 EQU   PSASUP4
PSARV017 EQU   PSASUP4
PSARV016 EQU   PSASUP4
PSARV015 EQU   PSASUP4
PSARV014 EQU   PSASUP3
PSAULCMS EQU   PSASUP3
PSARV012 EQU   PSASUP3
PSAESTA  EQU   PSASUP3
PSASPR   EQU   PSASUP3
PSAPSREG EQU   PSASUP3
PSAPI2   EQU   PSASUP3
PSAIOSUP EQU   PSASUP3
PSALCR   EQU   PSASUP2
PSARTM   EQU   PSASUP2
PSAACR   EQU   PSASUP2
PSAIPCE2 EQU   PSASUP2
PSAIPCES EQU   PSASUP2
PSAIPCEC EQU   PSASUP2
PSAGTF   EQU   PSASUP2
PSAIPCRI EQU   PSASUP2
PSATYPE6 EQU   PSASUP1
PSATCTL  EQU   PSASUP1
PSADISP  EQU   PSASUP1
PSALOCK  EQU   PSASUP1
PSAPI    EQU   PSASUP1
PSAEXT   EQU   PSASUP1
PSASVC   EQU   PSASUP1
PSAIO    EQU   PSASUP1
PSAAOLD  EQU   PSA+548
PSAANEW  EQU   PSA+544
PSATOLD  EQU   PSA+540
PSATNEW  EQU   PSA+536
PSALCCAR EQU   PSA+532
PSALCCAV EQU   PSA+528
PSAPCCAR EQU   PSA+524
PSAPCCAV EQU   PSA+520
PSACPULA EQU   PSA+518
PSACPUPA EQU   PSA+516
PSAPSA   EQU   PSA+512
FLCHDEND EQU   PSA+512
FLCCRSAV EQU   FLCMCLA+280
FLCGRSAV EQU   FLCMCLA+216
FLCFPSAV EQU   FLCMCLA+184
FLCFLA   EQU   FLCMCLA+88
FLCRGNCD EQU   FLCMCLA+84
FLCFSAA  EQU   FLCFSA+1
@NM00020 EQU   FLCFSA
@NM00019 EQU   FLCMCLA+72
FLCMCIC  EQU   FLCMCLA+64
@NM00018 EQU   FLCMCLA+20
FLCIOAA  EQU   FLCIOA+1
@NM00017 EQU   FLCIOA
@NM00016 EQU   FLCMCLA+15
@NM00015 EQU   FLCMCLA+14
@NM00014 EQU   FLCMCLA+12
FLCLCL   EQU   FLCMCLA+8
FLCIOELA EQU   FLCIOEL+1
@NM00013 EQU   FLCIOEL
FLCCHNID EQU   FLCMCLA
@NM00012 EQU   PSA+160
FLCMTRCD EQU   PSA+157
@NM00011 EQU   PSA+156
FLCPERA  EQU   FLCPER+1
@NM00010 EQU   FLCPER
@NM00009 EQU   PSA+151
FLCPERCD EQU   PSA+150
FLCMCNUM EQU   PSA+149
@NM00008 EQU   PSA+148
FLCTEAA  EQU   FLCTEA+1
@NM00007 EQU   FLCTEA
PSAPIPC  EQU   PSAPICOD
PSAPIMC  EQU   PSAPICOD
PSAPIPER EQU   PSAPICOD
PSARV049 EQU   FLCPICOD
FLCPILCB EQU   FLCPIILC
@NM00006 EQU   FLCPIILC
@NM00005 EQU   PSAEPPSW
FLCSVCN  EQU   PSAESPSW+2
FLCSILCB EQU   FLCSVILC
@NM00004 EQU   FLCSVILC
@NM00003 EQU   PSAESPSW
FLCEICOD EQU   PSAEEPSW+2
PSASPAD  EQU   PSAEEPSW
@NM00002 EQU   PSA+128
FLCINPSW EQU   PSA+120
FLCMNPSW EQU   PSA+112
FLCPNPSW EQU   PSA+104
FLCSNPSW EQU   PSA+96
FLCENPSW EQU   PSA+88
FLCTRACE EQU   PSA+84
FLCTIMER EQU   PSA+80
FLCCVT2  EQU   PSA+76
FLCCAW   EQU   PSA+72
FLCCSW   EQU   PSA+64
FLCIOPSW EQU   PSA+56
FLCMOPSW EQU   PSA+48
FLCPOPSW EQU   PSA+40
FLCSOPSW EQU   PSA+32
FLCEOPSW EQU   PSA+24
@NM00001 EQU   FLCICCW2+4
FLCCVT   EQU   FLCICCW2
FLCICCW1 EQU   FLCROPSW
FLCIPPSW EQU   FLCRNPSW
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS
@RC00109 EQU   @RC00081
@RC00210 EQU   @RC00208
@RC00323 EQU   @RC00313
@ENDDATA EQU   *
         END   IEFAB477,(C'PLS1754',0701,78181)

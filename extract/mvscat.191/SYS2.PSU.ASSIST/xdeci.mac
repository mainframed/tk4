         MACRO
&LABEL   XDECI &REG,&ADDRESS
.*--> MACRO: XDECI      EXTENDED DECIMAL INPUT CONVERSION * * * * * * *
.*             EXTENDED DECIMAL INPUT MACRO - ENABLES PROGRAMS        *
.*       WRITTEN FOR ASSIST TO BE RUN UNDER OS/360 DIRECTLY.          *
.*       USES MODULE XXXXDECI TO SCAN DECIMAL STRING BEGINNING AT     *
.*       &ADDRESS, CONVERT ITS VALUE INTO REGISTER &REG, AND SET      *
.*       REGISTER R1 AS A SCAN POINTER TO THE DELIMITER FOLLOWING THE *
.*       STRING OF DECIMAL DIGITS.  THE CONDITION CODE IS SET BY THE  *
.*       VALUE IN &REG, UNLESS AN ERROR OCCURRS, IN WHICH CASE CC=3.  *
.*       SEE ASSIST USER MANUAL FOR USAGE INSTRUCTIONS.               *
.*  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
         LCLC  &XLABL              FOR CREATION OF LABEL
&XLABL   SETC  'XX&SYSNDX.E'       CREATE UNIQUE LABEL
         CNOP  2,4  .              LINE UP ON BOUNDARY
&LABEL   STM   14,1,&XLABL  .      SAVE LINKAGE REGS
         LA    0,&ADDRESS .        BEGINNING @ FOR SCANNING
         L     15,&XLABL-4  .      GET ADCON FOR CONVERSION
         BALR  14,15 .             CALL ROUTINE, PT WITH R14
         DC    V(XXXXDECI) .       ADCON FOR CONVERSION ROUTINE
&XLABL   DS    5F .                REGS 14,15,0,1, VALUE FOR &REG
         LM    14,1,4(14) .        RELOAD REGS
         BO    *+8 .               BRANCH IF &REG SHOULDN'T CHANGE
         L     &REG,&XLABL+16  .   GET VALUE FOR &REG
         AIF   (T'&REG EQ 'N' AND '&REG' NE '1').XXEXIT SKIP IF SAFE
         L     1,&XLABL+12  .      USER MAY HAVE REG=1, LOAD FOR SAFE
.XXEXIT  MEND

TON      TITLE 'STAND-ALONE PROGRAM TO TURN TRACE ON'
XVT      CVT  DSECT=YES,LIST=YES
         EJECT
TON      PROLOG R,LV=196
         L     R3,16
         LA    R15,16
         USING CVT,R3
         CLC   CVTTRACE(4),=XL4'07FB07FB'
         BE    ALROFF
         CLC   CVTTRACE(2),=X'07FA'
         BE    ALRON
         CLC   CVTTRACE(2),=X'07FB'
         BE    ALROFF
         CLC   CVTTRACE(2),=X'0700'
         BE    DYNOFF
WHUT     WTO  'TRC001I TRACE STATUS WORD INVALID  ',ROUTCDE=(2,10,11)
         B    BYEBYE
ALRON    WTO  'TRC002I TRACE CURRENTLY      ACTIVE',ROUTCDE=(2,10,11)
         B    SWON
ALROFF   WTO  'TRC003I TRACE CURRENTLY    INACTIVE',ROUTCDE=(2,10,11)
         B    SWON
DYNOFF   WTO  'TRC004I TRACE DYNAMICALLY  INACTIVE',ROUTCDE=(2,10,11)
         B    SWON
WHOOPS   WTO  'TRC009I TRACE NOT SPECIFIED AT IPL ',ROUTCDE=(2,10,11)
         B    BYEBYE
SWON     EQU  *
         L    R1,X'54'       IS THERE A TRACE TABLE
         LA   R1,0(R1)          SOMEWHERE
         LTR  R1,R1                 IN
         BZ   WHOOPS                  THE SYSTEM
*
         MODESET KEY=ZERO
         MVC   CVTTRACE(2),=X'07FA'       TURN ON THE TRACE
         MODESET KEY=NZERO
IZZON    WTO  'TRC000I MVS SYSTEM TRACE NOW ACTIVE',ROUTCDE=(2,10,11)
         SR    R15,R15
BYEBYE   EPILOG RC=(15)
         LTORG
         END

THIS TEXT HAS BEEN REDONE USING QUICKCAT AND DYL260
//DNX00150 JOB (2100,56-D),'DPARS 0682-T',CLASS=H,MSGCLASS=T,TIME=1
//* CATALOG CHECK OF DISK DATASETS. ANY CATALOG ENTRY THAT DOES NOT
//* EXIST ON A VOLUME HAS A DELETE CONTROL CARD CREATED.
//* SEE CVOLTMS FOR THE TAPE VERSION.
//* REFERENCE THE CATALOG TO BE CHECKED IN STEPCAT AND VSAMCAT.
//*
//* PARM='XXXXXXXX'             PASSWORD UP TO 8 CHARACTERS.
//*
//Z1       EXEC PGM=VSAMSCAN,PARM=CATFOUR,TIME=2
//STEPCAT  DD DSN=SYS1.USERCAT4,DISP=SHR
//VSAMCAT  DD DSN=SYS1.USERCAT4,DISP=SHR
//STEPLIB DD DSN=WDPSC.TSAEXAM,DISP=SHR
//SYSPRINT DD SYSOUT=*
//AMSCARD DD DSN=DN00150.A.AMS1,DISP=(,PASS,KEEP),UNIT=SYSSQ,
//   SPACE=(CYL,(1,1)),DCB=BLKSIZE=3200
//SYSUDUMP DD SYSOUT=*
//* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
//* ELIMINATE TAPE DATA SETS FROM THE CATALOG EXTRACT
//*
//M8  EXEC DYL260
//SYS260A DD DSN=DN00150.A.AMS1,DISP=(OLD,PASS,KEEP)
//SYS260K DD DSN=DN00150.A.AMS2,DISP=(,PASS,KEEP),
//  UNIT=SYSSQ,SPACE=(CYL,(1,1)),
//  DCB=(LRECL=80,BLKSIZE=3200,RECFM=FB)
C
FA F
FK F    80     A
D       1A73                  EQ  1VX'20'               OUTREJ
//* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
//* SORT RECORDS INTO VOLUME SEQUENCE FOR DASD CHECK
//*
//Y2  EXEC SORT
//SORTIN DD DSN=DN00150.A.AMS2,DISP=(OLD,PASS,KEEP)
//SORTOUT DD DSN=DN00150.A.AMS1,DISP=(OLD,PASS,KEEP)
 SORT FIELDS=(75,6,CH,A,73,2,CH,A),DYNALLOC=WORK
//* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
//* CHECK AGAINST THE DASD FOR EXISTENCE
//*
//X3       EXEC PGM=CATBYVOL,TIME=1
//STEPLIB DD DSN=WDPSC.TSAEXAM,DISP=SHR
//SYSPRINT DD SYSOUT=*
//SYSIN   DD DSN=DN00150.A.AMS1,DISP=(OLD,KEEP)
//AMSCARD DD DSN=DN00150.A.AMS2,DISP=(OLD,PASS,KEEP)
//SYSUDUMP DD SYSOUT=*
//*
//S8  EXEC FTL
//IN01  DD DSN=DN00150.A.AMS2,DISP=(OLD,KEEP)
//OUT01 DD DSN=DN00150.USERCAT4.DATA,DISP=(,KEEP),
//   SPACE=(CYL,(1,1)),UNIT=WORK

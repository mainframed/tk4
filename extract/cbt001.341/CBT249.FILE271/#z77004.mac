++ USERMOD (#Z77004)  .
++ VER   (Z038)  FMID (JBB1329)               /* MVS/SP 1.3.3 */
                 REQ (#Z77003)                /* ZAP TO IEFVHF */
                 PRE (
                      UZ65088                 /* 8308 */
                      #Z77001                 /* SYSGEN MACRO UPDATE */
                      #Z77002                 /* NEW MODULE IEFVPP */
                             ) .
++ IF    (JBB2110)  THEN                      /* MVS/SP 2.1.1 */
                 REQ (#Z78004)
               /*

               PRIVATE PROCLIB MODIFICATIONS
               VERSION 3, RELEASE 1, MODIFICATION 0

               THIS LOCAL MODIFICATION, ALONG WITH ITS
               COMPANION CO-REQUISITES, TOTALLY INTEGRATES THE
               NECESSARY SYSTEM MODIFICATIONS FOR DYNAMIC PROCLIB
               SUPPORT.

               #Z77001  SGIEF441  SYSGEN MACRO UPDATE AND JCLIN
               #Z77002  IEFVPP    NEW CONVERTER MODULE
               #Z77003  IEFVHF    ZAP FOR LINKAGE TO IEFVPP3
               #Z77004  IEFVFA    ZAP FOR LINKAGE TO IEFVPP4 & IEFVPP5
               #Z77005  IEFVHE    ZAP FOR INTERPRETER JOBPROC BYPASS

               ***** WARNING ***** WARNING ***** WARNING *****

               THIS SUPERZAP IS WRITTEN WITH RESERVED WORD "RFULLE"
               IN THE CONVERTER WORK AREA USED AS THE ANCHOR FOR
               THE PRIVATE PROCLIB WORK AREA.

               ***** WARNING ***** WARNING ***** WARNING *****

               IEFVFA

               IEFVFA IS THE CONVERTER SCAN ROUTINE.  THE ZAP IS
               TWO-FOLD.

               FIRST, AN ENTRY IN THE JCL KEYWORD TABLE IS
               CONVERTED TO THE "SYSPROC=" KEYWORD.  "SUBALLOC="
               WAS CHOSEN, SINCE ITS USE IS VIRTUALLY NON-EXISTANT.  TO
               FILL IN THE EXTRA BYTE LEFT OVER WHEN "SYSPROC=" AND ITS
               INTERNAL TEXT CODE (SYMBOL SYSPROCK DEFINED IN IEFVPP)
               IS ZAPPED OVER "SUBALLOC=" AND ITS INTERNAL TEXT
               CODE (SYMBOL SUBALLOK - X'4C' - DEFINED IN MACRO
               IEFVKEYS), "SYSPROC=" IS MADE MUTUALLY EXCLUSIVE
               WITH "DCB=" (SYMBOL DCBK - X'40' - DEFINED IN MACRO
               IEFVKEYS).

               SECOND, IEFVFA IS CHANGED TO BRANCH TO BOTH IEFVPP4
               IN IEFVPP AND IEFVPP5 IN IEFVPP, IMMEDIATELY
               AFTER A JCL STATEMENT HAS BEEN CONVERTED
               INTO INTERNAL TEXT.  IEFVPP4 EFFECTS LINKAGE TO
               IEFVPP1 AND IEFVPP2 IN IEFVPP DEPENDING ON THE
               STATEMENT BEING PROCESSED.  IEFVPP1 PERFORMS
               PRIVATE PROCLIB ALLOCATION.  IEFVPP2 PERFORMS
               PRIVATE PROCLIB CONCATENATION AND OPEN.  IEFVPP5
               CALLS IEFUJV WITH ENTRY CODE 64, GIVING IEFUJV
               AN INTERNAL TEXT EXIT.  THIS CODE IS IN SUPPORT OF
               THE JOB STREAM MANAGER.  IF THIS NEW ENTRY INTO
               IEFUJV IS NOT DESIRED OR NECESSARY, IT MAY BE
               ELIMINATED BY APPROPRIATE CHANGES TO THIS ZAP
               OR ASSEMBLING IEFVPP WITHOUT THE INTERNAL TEXT
               EXIT OPTION SET.

               THE ADDRESSES OF IEFVPP4 AND IEFVPP5 RESIDE IN THE
               PRIVATE PROCLIB WORK AREA THAT IS POINTED TO BY THE
               ANCHOR WORD THE CONVERTER WORK AREA.  THE OFFSET OF THE
               WORD USED TO ANCHOR THE ADDRESS THE OF THE PRIVATE
               PROCLIB WORK AREA IN THIS ZAP MUST CORRESPOND TO
               THAT USED IN THE ASSEMBLY OF IEFVPP.

                                                                */  .
++ ZAP   (IEFVFA)  DISTLIB (AOSB3) .
         NAME  IEFVFA
*
*        STATEMENT BELOW ARE FOR JBB1329 (MVS/SP 1.3.3) UZ65088 (8308)
*
         VER   0000 05B0                    BALR RB,0     (BASE=0002)
         VER   0040 58A0,B01A               L    RA,VFA02 (BASE=1002)
         VER   0044 5880,B01E               L    R8,VFA03 (BASE=2002)
*
         VER   0984 2000           TXTBFLEN DC   H'8192'
*
         VER   0986 45E0,BF08               BAL  R14,AOTXTLTH
*
         VER   0F0A 5850,C02C      AOTXTLTH L    R5,TEXTBUFP
*
         VER   2672 D7E3,C3C8               DC   C'PTCH'
         VER   2680 0000,0000               START OF NEEDED PATCH AREA
         VER   269C 0000,0000               END OF NEEDED PATCH AREA
*
         VER   2C4C 16E2,E4C2,C1D3,D3D6,C37E,4C  SUBALLOC=
*
         REP   2C4C 16E2,E8E2,D7D9,D6C3,7E01,40  SYSPROC=
*
         REP   2680 58F0,C3A0               L    R15,RFULLE (ANCHOR)
         REP   2684 58F0,F05C               L    R15,PPVPP4 A(IEFVPP4)
         REP   2688 05EF                    BALR R14,R15
         REP   268A 45E0,BF08               BAL  R14,AOTXTLTH
         REP   268E 58F0,C3A0               L    R15,RFULLE (ANCHOR)
         REP   2692 58F0,F060               L    R15,PPVPP5 A(IEFVPP5)
         REP   2696 41E0,B988               LA   R14,RETURN ADDRESS
         REP   269A 07FF                    BR   R15
*
         REP   0986 47F0,867E               B    PATCH AREA
*
         IDRDATA #Z77004
*

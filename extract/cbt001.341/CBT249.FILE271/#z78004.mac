++ USERMOD (#Z78004)  .
++ VER   (Z038)  FMID (JBB2125)               /* MVS/SP 2.1.2 */
                 REQ (#Z78003)                /* ZAP TO IEFVHF */
                 PRE (
                      #Z78001                 /* SYSGEN MACRO UPDATE */
                      #Z78002                 /* NEW MODULE IEFVPP */
                             )
                 SUP (#Z77004)
               /*

               PRIVATE PROCLIB MODIFICATIONS
               VERSION 3, RELEASE 1, MODIFICATION 0

               THIS LOCAL MODIFICATION, ALONG WITH ITS
               COMPANION CO-REQUISITES, TOTALLY INTEGRATES THE
               NECESSARY SYSTEM MODIFICATIONS FOR DYNAMIC PROCLIB
               SUPPORT.

               #Z78001  SGIEF409  SYSGEN MACRO UPDATE AND JCLIN
               #Z78002  IEFVPP    NEW CONVERTER MODULE
               #Z78003  IEFVHF    ZAP FOR LINKAGE TO IEFVPP3
               #Z78004  IEFVFA    ZAP FOR LINKAGE TO IEFVPP4 & IEFVPP5
               #Z78005  IEFVHE    ZAP FOR INTERPRETER JOBPROC BYPASS

               ***** WARNING ***** WARNING ***** WARNING *****

               THIS SUPERZAP IS WRITTEN WITH RESERVED WORD "RFULLE"
               IN THE CONVERTER WORK AREA USED AS THE ANCHOR FOR
               THE PRIVATE PROCLIB WORK AREA.

               ***** WARNING ***** WARNING ***** WARNING *****

               IEFVFA

               IEFVFA IS THE CONVERTER SCAN ROUTINE.  THE ZAP IS
               TWO-FOLD.

               FIRST, AN ENTRY IN THE JCL KEYWORD TABLE IS
               CONVERTED TO THE "SYSPROC=" KEYWORD.  "SUBALLOC="
               WAS CHOSEN, SINCE ITS USE IS VIRTUALLY NON-EXISTANT.  TO
               FILL IN THE EXTRA BYTE LEFT OVER WHEN "SYSPROC=" AND ITS
               INTERNAL TEXT CODE (SYMBOL SYSPROCK DEFINED IN IEFVPP)
               IS ZAPPED OVER "SUBALLOC=" AND ITS INTERNAL TEXT
               CODE (SYMBOL SUBALLOK - X'4C' - DEFINED IN MACRO
               IEFVKEYS), "SYSPROC=" IS MADE MUTUALLY EXCLUSIVE
               WITH "DCB=" (SYMBOL DCBK - X'40' - DEFINED IN MACRO
               IEFVKEYS).

               SECOND, IEFVFA IS CHANGED TO BRANCH TO BOTH IEFVPP4
               IN IEFVPP AND IEFVPP5 IN IEFVPP, IMMEDIATELY
               AFTER A JCL STATEMENT HAS BEEN CONVERTED
               INTO INTERNAL TEXT.  IEFVPP4 EFFECTS LINKAGE TO
               IEFVPP1 AND IEFVPP2 IN IEFVPP DEPENDING ON THE
               STATEMENT BEING PROCESSED.  IEFVPP1 PERFORMS
               PRIVATE PROCLIB ALLOCATION.  IEFVPP2 PERFORMS
               PRIVATE PROCLIB CONCATENATION AND OPEN.  IEFVPP5
               CALLS IEFUJV WITH ENTRY CODE 64, GIVING IEFUJV
               AN INTERNAL TEXT EXIT.  THIS CODE IS IN SUPPORT OF
               THE JOB STREAM MANAGER.  IF THIS NEW ENTRY INTO
               IEFUJV IS NOT DESIRED OR NECESSARY, IT MAY BE
               ELIMINATED BY APPROPRIATE CHANGES TO THIS ZAP
               OR ASSEMBLING IEFVPP WITHOUT THE INTERNAL TEXT
               EXIT OPTION SET.

               THE ADDRESSES OF IEFVPP4 AND IEFVPP5 RESIDE IN THE
               PRIVATE PROCLIB WORK AREA THAT IS POINTED TO BY THE
               ANCHOR WORD THE CONVERTER WORK AREA.  THE OFFSET OF THE
               WORD USED TO ANCHOR THE ADDRESS THE OF THE PRIVATE
               PROCLIB WORK AREA IN THIS ZAP MUST CORRESPOND TO
               THAT USED IN THE ASSEMBLY OF IEFVPP.

                                                                */  .
++ ZAP   (IEFVFA)  DISTLIB (AOSB3) .
         NAME  IEFVFA
*
*        STATEMENT BELOW ARE FOR BASE JBB2125 (MVS/SP 2.1.2)
*
         VER   0000 05B0                    BALR RB,0     (BASE=0002)
         VER   0040 58A0,B01A               L    RA,VFA02 (BASE=1002)
         VER   0044 5880,B01E               L    R8,VFA03 (BASE=2002)
*
         VER   09AC 2000           TXTBFLEN DC   H'8192'
*
         VER   09AE 45E0,BF64               BAL  R14,AOTXTLTH
*
         VER   0F66 5850,C02C      AOTXTLTH L    R5,TEXTBUFP
*
         VER   2788 D7E3,C3C8               DC   C'PTCH'
         VER   2790 0000,0000               START OF NEEDED PATCH AREA
         VER   27AC 0000,0000               END OF NEEDED PATCH AREA
*
         VER   2D60 16E2,E4C2,C1D3,D3D6,C37E,4C  SUBALLOC=
*
         REP   2D60 16E2,E8E2,D7D9,D6C3,7E01,40  SYSPROC=
*
         REP   2790 58F0,C3A0               L    R15,RFULLE (ANCHOR)
         REP   2794 58F0,F05C               L    R15,PPVPP4 A(IEFVPP4)
         REP   2798 05EF                    BALR R14,R15
         REP   279A 45E0,BF64               BAL  R14,AOTXTLTH
         REP   279E 58F0,C3A0               L    R15,RFULLE (ANCHOR)
         REP   27A2 58F0,F060               L    R15,PPVPP5 A(IEFVPP5)
         REP   27A6 41E0,B9B0               LA   R14,RETURN ADDRESS
         REP   27AA 07FF                    BR   R15
*
         REP   09AE 47F0,878E               B    PATCH AREA
*
         IDRDATA #Z78004
*

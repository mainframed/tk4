.LL 80
.SP 15
.CE 1
SCREEN
.SP 5
.CE 1
PL/I TO 3270 DISPLAY STATION INTERFACE
.SP 20
.CE 2
AUTHOR:
R. E. STYMA   DEPT. 482.23
.SP 4
.CE 2
DATE OF LAST UPDATE:
09/21/81
.PA
.IM SYSPUB LAYOUT=GUIDE LL=72
.PRELIM  'RELATED DOCUMENTS'
.SP 5
.CE 1
IBM DOCUMENTS
.SP 5
GC27-6999-2  INTRODUCTION TO PROGRAMMING THE IBM 3270
.SP 2
GX20-1878-3  3270 INFORMATION DISPLAY SYSTEM REFERENCE SUMMARY
.SP 2
GA27-2749-8  IBM 3270 INFORMATION DISPLAY SYSTEM COMPONENT DESCRIPTION
.SP 2
GC28-0648-2  IOS/VS2 TSO GUIDE TO WRITING A TERMINAL MONITOR PROGRAM
OR A COMMAND PROCESSOR.
.PA;.CE 2
RECORD PAGE
.SP;.FO OFF
 ISSUE   DATE         RESPONSIBLE ENGINEER     EXPLANATION
 -----   --------     --------------------    -------------------
 001     04/18/80     R. E. STYMA            INITAL RELEASE
 002     09/25/81     R. E. STYMA            ADD SBA COMMAND, AND
                                             FIXUP FOR 43 LINE
                                             TERMINALS. ADD LSIZE
.CONTENTS
.CHAPTER    'INTRODUCTION TO THE 3270 FULL SCREEN INTERFACE'
.PARA
THE IBM 3270 SERIES TERMINALS ARE FULL SCREEN DISPLAY STATIONS.  THESE
TERMINALS ALLOW A PROGRAMMER TO PLACE AND EXTRACT DATA FROM ANY POSITION
ON THE SCREEN.  THIS MAKES AN IDEAL CONDITION FOR USER ORIENTED
APPLICATION PROGRAMS.  THE CONTROL OF THE FULL SCREEN FEATURES OF A
3270 SERIES TERMINAL IS HOWEVER NOT AVAILABLE IN A FORMAT READILY
USABLE FROM HIGH LEVEL LANGUAGES.  THE INTERFACE TO A 3270 IS VERY
TEDIOUS EVEN FROM ASSEMBLY LEVEL PROGRAMS.  THIS INTERFACE ATTEMPTS
TO PROVIDE THE PL/I PROGRAMMER WITH AN EASY ACCESS TO THE FULL SCREEN
CAPABILITIES OF THE 3270.
.PARA
THE BASIC I/O TO A 3270 SERIES TERMINAL FROM AN APPLICATION PROGRAM
RUNNING UNDER TSO IS THOUGH THE USE OF THE TPUT AND TGET SVC'S.  TWO
BASIC TYPES OF COMMANDS ARE AVAILABLE. ONE IS TO
ERASE THE SCREEN AND WRITE A NEW
SCREEN AND THE OTHER IS TO UPDATE
AN EXISTING SCREEN.  THE INPUT COMMAND IS ALWAYS
A READ MODIFIED FIELDS COMMAND.  THIS MEANS THAT FIELDS MODIFIED BY
THE PERSON AT THE TERMINAL ARE THE ONLY ONES RETURNED TO THE PROGRAM.
THE FIELDS WHICH ARE RETURNED ARE SEPARATED BY A SPECIAL CHARACTER
CALLED A SET BUFFER ADDRESS (SBA).  EACH SBA IS FOLLOWED BY A HEX
CODE TELLING WHERE ON THE SCREEN THE FIELD STARTED. (THIS POSITION
IS ONE PAST WHERE THE PROGRAM TOLD IT TO START)
.PARA
THE OUTPUT STREAM TO THE TERMINAL HAS THE FORMAT OF SEVERAL HEX CODES
FOLLOWED BY ALL THE OUTPUT FIELDS.  EACH FIELD IS SEPARATED BY
A START FIELD CHARACTER (SF), A HEX VALUE CALLED AN ATTRIBUTE
CHARACTER, AND OPTIONALLY BY AN SBA AND A HEX CODE TELLING WHERE TO
PUT THE SCREEN.
.PA;.SECTION    'ACCESSING THE INTERFACE'
.FIGNUM JCL1
.FIGNUM JCL2
.PARA
THE INTERFACE FORM PL/I TO THE 3270 IS AN ASSEMBLER PROGRAM WHICH
IS DIRECTLY CALLABLE AS A PL/I EXTERNAL FUNCTION.  DIRECTLY
CALLABLE MEANS THAT THE FUNCTION IS NOT DECLARED WITH ANY SPECIAL
ATTRIBUTES SUCH AS THE ASSEMBLER OPTION.  THE ROUTINE FOLLOWS PL/I
CONVENSIONS AND LOOKS LIKE A PL/I PROGRAM TO PL/I.
.PARA
THE INTERFACE IS DECLARED AS AN EXTERNAL FUNCTION AND INVOKED
AS ANY OTHER PL/I FUNCTION.
.SECTION 'ACCESSING THE SOURCE'
.PARA
TO USE SCREEN (THE FULL SCREEN INTERFACE) YOU MUST DECLARE IT AS
SHOWN IN THE SAMPLE DECLARATIONS.  YOU MUST THEN ASSEMBLE THE SOURCE
AND LINK IT TOGETHER WITH YOUR PL/I PROGRAM.
.PARA
THE SOURCE FOR THE SCREEN INTERFACE IS IN LIBRARY
'EXD.PANVALET.SUPPORT1' UNDER THE NAME "TSSCREEN".  THE SOURCE MUST
BE ASSEMBLED WITH THE 'H' LEVEL ASSEMBLER.
.SP
TO AVOID HAVING TO RECOMPILE THE INTERFACE REPEATEDLY, A COPY
OF THE OBJECT IS IN THE SAME LIBRARY UNDER THE NAME "TSSCREENO".
.SP 4
SAMPLE JCL FOR USE AT AUTOMATIC ELECTRIC LABORATORIES IS SHOWN IN
.UR FIGURE &JCL1.  FOR COMPILING AND LINKING A PL/I PROGRAM WITH THE
.UR SOURCE OF THE FULL SCREEN INTERFACE.  FIGURE &JCL2. SHOWS COMPILING
A PL/I PROGRAM USING THE OBJECT OF THE FULL SCREEN PROGRAM.
.PA
.FIGBEGIN;

        //OPTCOMP  EXEC MDPFPLI,LIB='YOUR.PANVALET.LIBRARY'
        ++WRITE WORK,YOURPROG
        //BALCOMP  EXEC MDPFBAL,LIB='EXD.PANVALET.SUPPORT1',
        //  ADDPARM=NOLIST
        ++WRITE WORK,TSSCREEN
        //LINK     EXEC MDLKED,SAVE=,LMOD=YOURLMOD,
        //              LOADPRE='YOUR.LOAD.LIBRARY'
        ++INSERT WORK
          ENTRY PLISTART
        //
.FIGURE JCL1 'ASSEMBLING AND LINKING THE FULL SCREEN INTERFACE'
.FIGEND
.SP 3
.FIGBEGIN;

        //OPTCOMP  EXEC MDPFPLI,LIB='YOUR.PANVALET.LIBRARY'
        ++WRITE WORK,YOURPROG
        //BALCOMP  EXEC MDPFBAL,LIB='EXD.PANVALET.SUPPORT1',
        //  ADDPARM=NOLIST
        ++WRITE WORK,TSSCREEN
        //LINK     EXEC MDLKED,SAVE=,LMOD=YOURLMOD,
        //              LIB='EXD.PANVALET.SUPPORT1'
        //              LOADPRE='YOUR.LOAD.LIBRARY'
        ++WRITE WORK,TSSCREENO
        ++INSERT WORK
          ENTRY PLISTART
        //
.FIGURE JCL2 'LINKING IN THE FULL SCREEN INTERFACE FROM OBJECT'
.FIGEND
.SP 3
IN THE ABOVE EXAMPLE YOUR.PANVALET.LIBRARY, YOURPROG, YOURLMOD,
YOUR.LOAD.LIBRARY  ARE VALUES WHICH ARE SUPPLIED BY THE USER.
.PA
.SECTION 'PL/I DECLARATIONS'
SAMPLE DECLARATIONS AND CALLS:

   DECLARE SCREEN ENTRY(
         VARYING CHAR(*),
         BIT(5),
         FIXED BINARY(15),
         (2) FIXED BINARY(15),
         (2) FIXED BINARY(15),
         FIXED BINARY(15),
         1(*),
             2 FIXED BINARY(15),
             2 FIXED BINARY(15),
             2 BIT(1),
             2 BIT(1),
             2 BIT(1),
             2 BIT(1),
             2 BIT(1),
             2 BIT(1),
             2 BIT(1),
             2 BIT(1),
             2 CHAR(3),
             2 VARYING CHAR(*)) EXTERNAL RETURNS(FIXED
             BINARY(15));

   DECLARE CMD VARYING CHAR(11);
   DECLARE WCO BIT(5);
   DECLARE AID FIXED BINARY(15);
   DECLARE CPOS(2) FIXED BINARY(15);
   DECLARE REA(2) FIXED BINARY(15);
   DECLARE NUM    FIXED BINARY(15);
   DECLARE RC     FIXED BINARY(15);
   DECLARE  01  FIELDEFS(5),
                02  ROW      FIXED BINARY(15),
                02  COL      FIXED BINARY(15),
                02  PROTECT   BIT(1),
                02  AUTO_NUM  BIT(1),
                02  HIGH      BIT(1),
                02  NODISP    BIT(1),
                02  MDT       BIT(1),
                02  INPUTONLY BIT(1),
                02  CURSOR    BIT(1),
                02  FOUND     BIT(1),
                02  ORDER     CHAR(3),
                02  DATA      VARYING CHAR(20);


   RC = SCREEN(CMD,WCO,AID,CPOS,REA,NUM FIELDEFS);
.PA;.SECTION    'PARAMETER DESCRIPTIONS'
.SECTION 'PARAMETERS PASSED TO SCREEN'
.SUBSECTION 'NUM -- NUMBER OF ELEMENTS USED'
THIS IS THE SPECIFICATION OF THE THE NUMBER OF ELEMENTS USED
IN THE ARRAY OF STRUCTURES PASSED TO SCREEN.
.SP
VALUES:
.IN +6
-1 -  ISSUE THE COMMAND ONLY.
.IN +6
THIS SPECIAL VALUE IS USED TO SIGNAL THAT ONLY THE COMMAND IS
TO BE EXECUTED.  NO FIELDS FROM THE FIELDEFS ARE PROCESSED, NO READ
IS PERFORMED (REGARDLESS OF THE COMMAND), AND NO DATA IS TRANSMITTED
TO THE TERMINAL.  THIS TYPE OF ACTION IS DESIRABLE FOR DOING A SCREEN
CLEAR.  MOST FULL SCREEN PROGRAMS RUNNING UNDER TSO WILL DO A SCREEN
CLEAR BEFORE TERMIMATING TO LEAVE THE SCREEN BLANK.  WHEN THIS
CALL IS ISSUED, A SET OF FIELDEFS MUST BE SUPPLIED BUT THEY WILL
NOT BE USED OR MODIFIED.
.IN -6
0  -  USE THE NUMBER OF ELEMENTS IN THE ARRAY.
.IN +6
THIS SPECIAL VALUE IS USED TO SIGNAL TO THE PROGRAM THAT IT SHOULD
CALCULATE THE NUMBER OF FIELD DEFINITIONS TO PROCESS FROM THE UPPER
AND LOWER BOUNDS OF THE ARRAY OF FIELDEFS.  THIS IS THE VALUE NORMALLY
USED WHEN USING SCREENS WHOSE FIELD DEFINITIONS ARE HARD CODED.  THIS
VALUE SHOULD NOT BE USED WHEN USING THE STRUCTURED SCREEN DECLARATIONS
AS THE SCREEN INTERFACE WILL PICK UP THE NUMBER OF ELEMENTS FROM THE
OVERLAY WHICH IS PASSED AND GIVE ERRONEOUS RESULTS IF THE NUMBER OF
ELEMENTS IN THE OVERLAY DOES NOT MATCH THE NUMBER OF FIELDS ACTUALLY
DEFINED.
.IN -6
1 TO "N"
.IN +6
"N" IS THE NUMBER OF ELEMENTS IN THE ARRAY OF STRUCTURES.  IF A VALUE
FOR N IS GIVEN WHICH IS GREATER THAN THE NUMBER OF ELEMEMTS, AN
ERROR WILL BE FLAGGED.  "N" GIVES THE NUMBER OF ELEMENTS IN THE
ARRAY OF FIELD DEFINITION STRUCTURES TO PROCESS.
.IN -12
.PA
.SUBSECTION  'CMD -- DISPLAY COMMAND'
THE DISPLAY COMMAND SPECIFIES WHAT TYPE OF OUTPUT OPERATION
IS TO BE PERFORMED.  THE INPUT OPERATION, IF ANY, IS ALWAYS A
READ MODIFIED FIELDS OPERATION.  THE VALUES PASSED TO SCREEN ARE
THE CHARACTER STRINGS SHOW BELOW AS THE VALUES.
.SP
VALUES:
.IN +6
ERASE/WRITE
.IN +6
THIS IS THE NORMAL OUTPUT
OPERATION.  THE SCREEN IS ERASED AND REWRITTEN
FROM SCRATCH.  THE OUTPUT OPERATION IS THEN
FOLLOWED BY A READ.  FOR 43 LINE TERMINALS THE  ERASE/WRITE COMMAND
WILL CAUSE A MESSAGE 'SCREEN ERASURE CAUESED BY ERROR RECOVERY' TO
APPEAR ON THE SCREEN.  AS OF ISSUE 2, SCREEN WILL TRANSLATE THE
ERASE/WRITE COMMAND CODE TO THE ERASE WRITE ALTERNATE COMMAND CODE
AUTOMATICALLY FOR 43 LINE TERMINALS.
.IN -6
EWN - ERASE-WRITE-NOREAD
.IN +6
THIS COMMAND CAUSES AN ERASE WRITE BUT SKIPS THE
READ OPERATION.
.IN -6
WRITE
.IN +6
THIS COMMAND CAUSES THE FIELDS SUPPLIED WITH THE
CALL TO BE OVERLAID ONTO THE EXISTING SCREEN
THUS REPLACING THE ORIGIONAL FIELDS.  THE OUTPUT
OPERATION IS THEN FOLLOWED BY A READ.
.IN -6
WN - WRITE-NOREAD
.IN +6
THIS COMMAND CAUSES A WRITE BUT SKIPS THE READ
OERATION.
.IN -6
EWA - ERASE-WRITE-ALTERNATE
.IN +6
THIS COMMAND IS THE SAME AS AN ERASE/WRITE
EXCEPT THAT FOR TERMINALS WITH DUAL
SIZE SCREENS, THIS COMMNAD SHIFTS THE TERMINAL
INTO THE ALTERNATE SCREEN SIZE.  NOTE THAT THE
WRITE COMMAND DOES NOT AFFECT THE SCREEN SIZE
AND THAT AN ERASE/WRITE COMMAND WILL REVERT THE
SCREEN TO THE DEFAULT SIZE.
.IN -6
EWAN - ERASE-WRITE-ALTERNATE-NOREAD
.IN +6
THIS COMMAND IS LIKE AN ERASE-WRITE-ALTERNATE
BUT IT SKIPS THE READ OPERATION.
.IN -6
EAU - ERASE ALL UNPROTECTED
.IN +6
THIS COMMAND CAUSES ALL UNPROTECED FIELDS TO BE
ERASED.  THE OPERATION IF THEN FOLLOWED BY A
READ.  THIS COMMAND DOES NOT USE ANY FIELD
DEFINITION.  INPUT FIELDS THOUGH, MUST BE
SUPPLIED FOR ANY FIELDS RETURNED BY THE READ
OPERATION.
.IN -6
NOTE: DUE TO THE RESTRICTIONS IMPOSED BY THE TPUT
MACRO UNDER TSO, THE EAU COMMAND IS NOT FUNCTIONAL.
(TOO BAD)
.PA
.SUBSECTION 'WCO -- WRITE CONTROL OPTIONS'
THIS 5 BIT STRING IS USED TO SPECIFY CERTAIN OPTIONS USED IN
OUTPUTTING THE DATA TO THE DISPLAY STATION.  EACH OF THE THREE
CHARACTERISTICS ASSOCIATED WITH THIS OPTION HAS 1 BIT IN THE
STRING.  THE VALUE USED FOR MOST APPLICATIONS IS '01101'.
.SP
VALUES:
.SP
.IN +6
BIT 1 - AUDIBLE ALARM
.IN +10
IF THE TERMINAL IS EQUIPTED WITH AN AUDIBLE
ALARM, THEN SPECIFICATION OF THIS BIT WILL
CAUSE THE ALARM TO SOUND DURING THE WRITE
OPERATION.
.IN -10
BIT 2 - RESTORE KEYBOARD
.IN +10
TURNING THIS BIT ON HAS THE FOLLOWING RESULT.
AFTER COMPLETION OF THE OUTPUT EVENT, THE
TERMINAL IS SET TO ALLOW KEYBOARD INPUT.  IF
THIS BIT IS NOT SET ('0'B), THEN THE OPERATOR
MUST PUSH THE RESET BUTTON BEFORE INPUT WILL
BE ALLOWED.  THIS BIT IS NORMALLY USED IN THE
ON POSITION EXCEPT FOR USE WITH ERROR
MESSAGES.
.IN -10
BIT 3 - RESET MDT'S
.IN +10
THE MDT BITS (FOUND BITS) ARE SET WHEN A FIELD
IS MODIFIED BY THE OPERATOR OR BY
SPECIFICATION OF THE MDT BIT BY THE PROGRAM.
DURING A READ OPERATION, ONLY THE FIELDS WITH
THE MDT BITS SET ARE MARKED AS FOUND IN THE
ARRAY OF STRUCTURES PASSED.  WHEN THIS BIT IS
SET, ALL MDT BITS ARE RESET SO THAT ONLY THE
FIELDS MODIFIED DURING THIS OUTPUT-INPUT CYCLE
ARE RETURNED.  THIS BIT IS NORMALLY USED IN
THE ON POSITION.
.IN -10
BIT 4  -  DON'T PROTECT SCREEN
.IN +10
BY DEFAULT THE SCREEN INTERFACE INSERTS A TRAILING FIELD WHICH MAKES
THE UNUSED PORTION OF THE SCREEN NON-DISPLAY AND PROTECTED.  TURN
THIS BIT ON ('1'B) TO CANCEL THIS FEATURE.  IF THE FEATURE IS NOT
USED THE UNUSED PORTION OF THE SCREEN HAS THE ATTRIBUTES OF THE
LAST FIELD ON THE SCREEN.  ALSO NOTE THAT THIS ATTRIBUTE WRAPS AROUND
UP TO THE FIRST FIELD ON THE SCREEN.  THIS BIT IS NORMALLY OFF IN
PROGRAMS USING ERASE/WRITE OPERATIONS AND NORMALLY ON IN PROGRAMS
DOING SCREEN UPDATES.  THIS IS BECAUSE IN SCREEN UPDATE PROGRAMS YOU
DO NOT WANT THE EXTRA FIELD TO BE OUTPUT WHILE IN  PROGRAMS USING
ONLY ERASE/WRITE, YOU WANT THE UNUSED PORTION OF THE SCREEN TO BE
PROTECTED.
.IN -10
BIT 5  -  CONVERT TO UPPER CASE
.IN +10
SPECIFYING THIS BIT ('1'B) CAUSES THE SCREEN PROGRAM TO TRANSLATE
ALL ALPHABETIC INPUT FIELDS TO UPPER CASE.  IF THIS BIT IS NOT
SPECIFIED, THE DATA IS LEFT IN UPPER/LOWER CASE.
.IN -16
.PA
.SUBSECTION 'FIELDEFS -- FIELD DEFINITIONS'
THE FIELDS TO BE READ AND WRITTEN ARE DESCRIBED BY AN ARRAY
OF STRUCTURES. EACH
ELEMENT IN THE ARRAY REPRESENTS 1 FIELD.  THE FIELDS MUST BE
ARRANGED IN ASCENDING ROW-COLUMN ORDER.  THUS A FIELD
STARTING AT ROW 2 COL 50 FOLLOWS A FIELD STARTING AT ROW 2
COL 1 AND A FIELD STARTING AT ROW 3 COL 1 FOLLOWS A FIELD
STARTING AT ROW 2 COL 50.
.SP 2
VALUES: STRUCTURE ELEMENTS AND VALUES
.SP
.IN +6
ROW  -   START ROW FOR THE FIELD
.IN +10
THIS IS THE ROW IN WHICH THE FIELD BEING DEFINED BY THE ELEMENT IN
THE ARRAY OF STRUCTURES IS TO START.
.IN -10
.SP
COL  -   START COLUMN FOR THE FIELD
.IN +10
THIS IS THE COLUMN IN WHICH THE FIELD BEING DEFINED IS TO START.  AN
IMPORTANT NOTE IS THAT THE POSITION SPECIFIED BY THE ROW AND COLUMN
IS THE
POSITION OF THE ATTRIBUTE CHARACTER FOR THIS FIELD.  IF AN OUTPUT
FIELD SPECIFIES ROW 1 COL 1, THE THE FIRST PRINTED CHARACTER OF THAT
COLUMN IS IN ROW 1 COL 2.  IF THE FIELD SPECIFIES COLUMN 80 THE FIRST
CHARACTER WILL APPEAR ON COLUMN 1 OF THE NEXT LINE.  THIS
CHARACTERISTIC APPLIES TO BOTH INPUT AND OUTPUT FIELDS FOR A START
FIELD ORDER.
.SP
A SPECIAL SET OF VALUES EXISTS FOR ANY ROW-COLUMN PAIR.  THIS
VALUE IS ROW 0 COL 0.  SPECIFYING ROW 0 COL 0 FOR A FIELD CAUSES
THE FIELD TO START IMEDIATELY AFTER THE PRECEDING FIELD.  (FOR
THE FIRST FIELD ON THE SCREEN, THIS IS THE SAME AS SPECIFYING
ROW 1 COL 1.)  SPECIFYING ROW 0 COL NOT ZERO OR ROW NOT ZERO COL 0
WILL CAUSE AN ERROR TO BE FLAGGED.
.BR
EXAMPLE:
.BR
A FIVE CHARACTER FIELD STARTING AT ROW 4 COL 4 IS FOLLOWED BY
A FIELD STARTING AT ROW 0 COL 0.  THE FIELDS WILL APPEAR AS FOLLOWS:
 ×   A12345A.....
.BR
WHERE 'A' IS THE ATTRIBUTE CHARACTER.  THE ROW 0 COL 0 IS ONLY VALID
FOR A START FIELD ORDER. (SEE ORDER SECTION OF THE FIELDEFS).
.IN -10
.SP
PROTECT   WRITE PROTECT FLAG
.IN +10
WHEN THIS FLAG IS SET ('1'B), THIS FIELD BEING DEFINED IS PROTECTED.
THIS MEANS THAT THE OPERATOR CANNOT ENTER DATA INTO THIS FIELD.
.IN -10
.SP
AUTO_NUM  AUTOMATIC SKIP OR NUMERIC PROTECT.
.IN +10
THIS FLAG HAS ONE OF TWO MEANINGS DEPENDING UPON THE SETTING OF THE
PROTECT FLAG FOR THIS FIELD.  IF THIS FLAG IS SET AND THE PROTECT
FLAG IS NOT SET, THEN THE FIELD BEING DEFINED IS NUMERICALLY PROTECTED.
THIS MEANS THAT ONLY NUMBERS CAN BE ENTERED INTO THIS FIELD.  THIS
OPTION IS ONLY GOOD FOR TERMINALS ON WHICH THE NUMERIC PROTECT
FEATURE IS INSTALLED.  IF BOTH THIS FLAG AND THE PROTECT FLAG ARE SET,
THE FIELD BEING DEFINED WILL BE AN AUTO SKIP FIELD.  THIS MEANS THAT
IF THE OPERATOR IS ENTERING DATA
IN THE FIELD PRECEDING THIS ONE AND TYPES OVER THE
END OF THE FIELD, HIS CURSOR WILL JUMP OVER THIS AUTOMATICALLY.  THE
ALTERNATIVE IS THAT THE KEYBOARD WILL LOCK WHEN THE OPERATOR ATTEMPTS
TO TYPE ON THE FIRST CHARACTER OF THIS FIELD.  THIS LAST ALTERNATIVE IS
TAKEN WHEN THE PROTECT BIT IS SET AND THE NUMERIC PROTECT BIT IS
NOT SET.
.IN -10
.SP
HIGH  -   HIGH INTENSITY FLAG. BIT(1).
.IN +10
WHEN THIS FLAG IS SET ('1'B), THEN ANY DATA IN THIS FIELD IS
DISPLAYED AT HIGH INTENSITY.  THIS INCLUDES BOTH INPUT AND OUTPUT
FIELDS.
.IN -10
.SP
NODISP  - DON'T DISPLAY DATA
.IN +10
THIS FLAG IS USED FOR SECURITY
FIELDS SUCH AS PASSWORDS.  THE FIELD IS
TREATED NORMALLY EXCEPT THAT DATA INPUT OR OUTPUT IS NOT
DISPLAYED ON THE TUBE.
.IN -10
.SP
MDT  -    SET MDT FLAG
.IN +10
SETTING THIS FLAG FORCES THE MDT BIT USED BY THE 3270 SCREEN TO BE
SET TO ON REGARDLESS OF WHETHER THE FIELD IS MODIFIED.  NORMALLY THE
3270 RETURNS ONLY FIELDS CHANGED.  THIS BIT CAUSES THE FIELD TO BE
TRANSMITTED BACK BY THE 3270 REGARDLESS OF WHETHER THE FIELD IS
MODIFIED.  THE ACTION OBSERVED BY A PL/I PROGRAM WITH RESPECT TO THIS
BIT IS THAT SETTING THIS BIT WILL CAUSE THE FOUND BIT TO BE SET.
.IN -10
.SP
INPUTONLY  -  THIS DEFINITION IS FOR INPUT ONLY, BIT(1).
.IN +10
WHEN THIS FLAG IS SET ('1'B), THE FIELD BEING DEFIEND IS NOT USED
FOR OUTPUT.  THE FIELD MAY HOWEVER BE USED FOR RECIEVING AN INPUT
FIELD.  THIS IS PARTICULARLY USEFULL WHEN USING THE PROGRAM TAB ('PT ')
ORDER.  A FIELD DEFINED WITH THIS ORDER CANNOT BE USED TO RECEIVE
AN INPUT FIELD.  A FIELD WITH THE NOUSE ATTRIBUTE COULD BE DEFINED
TO RECEIVE THE INPUT FIELD.  SEE SECTION ON WRITING A FULLSCREEN
PROGRAM FOR MORE DETAILS.
.IN -10
.SP
CURSOR  - PUT CURSOR HERE FLAG
.IN +10
THIS FLAG IS SET FOR A FIELD DEFINITION TO INDICATE THE THE CURSOR IS
TO BE PLACED HERE AT THE END OF THE OUTPUT OPERATION TO THE DISPLAY.
THIS FLAG IS SET NORMALLY FOR THE FIRST FIELD WHICH IS TO RECEIVE INPUT
FROM THE OPERATOR.  THIS FLAG MAY ONLY BE SET ONCE DURING A PARTICULAR
SCREEN DEFINITION (SET OF FIELD DEFINITIONS).
.IN -10
.SP
FOUND  -  FOUND FLAG, BIT(1).
.IN +10
THIS FLAG IS SET UNDER ONE OF TWO CONDITIONS BY THE SCREEN PROGRAM.  THE
FIRST IS IF THE FIELD DEFINED BY THIS ELEMENT IN THE ARRAY OF
STRUCTURES HAS BEEN MODIFIED BY THE OPERATOR.
THE SECOND IS IF THE MDT BIT WAS
SPECIFIED FOR THIS FIELD.  THE FOUND FLAG IS AUTOMATICALLY RESET
FOR EACH FIELD OUTPUT.  THUS NO INITIALIZATION OF THIS FIELD IS
REQUIRED.
.IN -10
.SP
ORDER  -  OUTPUT ORDER CODE FOR THIS FIELD DEFINTION, CHAR(3).
.IN +10
THE OUTPUT ORDER CODE DETERMINES WHAT KIND OF FIELD IS BEING DEFINED
BY THIS ELEMENT IN THE ARRAY OF STRUCTURES.  THIS
FIELD IS USUALLY SET TO ALL BLANKS FOR
THE STANDARD OUTPUT OR INPUT FIELD.  THE ALLOWED
VALUES ARE DESCRIBED BELOW.   THIS FIELD IS
A 3 CHARACTER FIXED LENGTH STRING WHOSE VALUES ARE THE CHARACTER
STRINGS SHOWN BELOW.
.SP
VALUES:
.SP
(BLANK) - START FIELD ORDER.
.IN +10
THIS IS THE NORMAL INPUT OR OUTPUT FIELD.  IT SPECIFIES
THAT A FIELD IS TO START AT THE ROW
AND COL SPECIFIED IN THIS STRUCTURE.  ALL VARIABLES IN THE FIELDEFS
STRUCTURE ARE USED FOR THIS ORDER.  THE START FIELD ORDER CAUSES THE
ATTRIBUTE CHARACTER GENERATED FORM THE PROTECT, AUTONUM, HIGH,
NODISP, AND MDT BITS TO BE PLACED AT THE POSITION ON THE SCREEN
INDICATED BY ROW AND COL.  THE ATTRIBUTES OF THIS FIELD EXTEND TO THE
NEXT START FIELD.  THE DATA IS PLACED IMEDIATELY AFTER THE
ATTRIBUTE CHARACTER.
.SP
.IN -10
SBA -     SET BUFFER ADDRESS
.IN +10
THIS ORDER IS IN MAY WAYS SIMILAR TO THE START FIELD (SF) ORDER.
IN FACT, THE START FIELD ORDER GENERATES AN SBA.  THIS ORDER DIFFERS
FROM THE START FIELD IN THAT THE ATTRIBUTE BYTE FLAGS (PROTECT, ETC.)
ARE NOT USED AND THAT NO ATTRIBUTE CHARACTER IS OUTPUT TO THE
SCREEN.  THE ATTRIBUTES OF THE FIELD SPECIFIED ARE THOSE OF THE
PRECEDING FIELD.  THIS ORDER IS USEFULL IN CASES OF SETTING THE CURSOR
TO THE MIDDLE OF A FIELD, UPDATING A FIELD WITHOUT REWRITING THE WHOLE
FIELD, AND POSITIONING FOR REPEAT TO ADDRESS AND ERASE UNPROTECTED TO
ADDRESS.
.SP
.IN -10
PT  -     PROGRAM TAB ORDER
.IN +10
THIS ORDER CAUSES THE
DATA ACCOMPANYING THIS STRUCTURE TO BE
OUTPUT STARTING AT THE NEXT
UNPROTECTED FIELD.  THE ROW AND COL
ELEMENTS IN THIS STRUCTURE ARE IGNORED
AS ARE THE ATTRIBUTE FLAGS.  THE
ATTRIBUTES ARE TAKEN FROM THE
UNPROTECTED FIELD BEING USED.  IF THE
CURRENT BUFFER POSITION IS IN AN
UNPROTECTED FIELD,  THE REST OF THIS
FIELD IS NULLED OUT. NOTE THAT NO DATA
CAN BE RETURNED IN A DATA FIELD WHOSE STRUCTURE ELEMENT SPECIFIES
'PT'.  THIS IS
BECAUSE THE LOCATION OF THE FIELD
BEING OUTPUT ON THE SCREEN IS NEVER KNOWN BY THE SCREEN INTERFACE
PROGRAM STRUCTURE ELEMENTS MARKED AS NOT USED
MAY BE USED TO RETRIEVE DATA.
.SP
.IN -10
RA  -     REPEAT TO ADDRESS ORDER
.IN +10
THIS ORDER
REPEATS THE SINGLE (OR FIRST) DATA
CHARACTER UP TO BUT NOT INCLUDING THE
ROW AND COLUMN SPECIFIED IN THIS
STRUCTURE. THE CHARACTER INSERTION
STARTS AT THE CURRENT SCREEN POSITION.
NOTE THAT THE CURRENT SCREEN POSITION
MAY BE SPECIFIED BY A NULL FIELD
IMMEDATELY PRECEEDING THIS FIELD.  FOR
THIS FIELD THE ATTRIBUTE FLAGS ARE
IGNORED.  THE ATTRIBUTES ARE PICKED UP
FROM THE PRECEDING FIELD.  THIS ORDER IS USEFULL FOR EFFICIENTLY
DRAWING A LINE ACROSS THE SCREEN OR RIGHT PADDING AN FIELD WITH A
CHARACTER OTHER THAN BLANKS.
.SP
.IN -10
EUA  -    ERASE UNPROTECTED TO ADDRESS ORDER
.IN +10
THIS ORDER ERASES ALL UNPROTECED
FIELDS STARTING AT THE CURRENT ROW AND
COL AND CONNTINUING UP TO BUT NOT
INCLUDING THE SPECIFIED ROW AND
COLUMN.  DATA FOR THIS ORDER IS
IGNORED.  NOTE THAT EAU WILL ERASE
ATTIBUTE CHARACTERS AND THAT THE
ATTRIBUTE FLAGS FOR THIS STRUCTURE ARE
IGNORED.
.SP
.IN -20
DATA  -   DATA FOR THE FIELD BEING DEFINED.
.IN +10
DATA IS A VARYING LENGTH CHARACTER STRING
CONTAINING THE DATA TO BE OUTPUT OR
PROVIDING A PLACE TO PUT INPUT DATA.  IT
SHOULD BE DECLARED LARGE ENOUGH TO HOLD THE
LARGEST INPUT OR OUTPUT FIELD DEFINED FOR
THE SCREEN BEING CREATED.  SINCE THE DATA FIELD IS A VARYING LENGTH
FIELD, THE CURRENT LENGTH CAN BE FROM ZERO TO THE DECLARED LENGTH.
THE LENGTH OF THE FIELD DATA OUTPUT IS TAKEN FROM THE CURRENT LENGTH
OF THE DATA.  THUS A FIELD OF LENGTH ZERO CAN BE DEFINED.
.PARA
A FIELD ON THE SCREEN EXTENDS TO THE ATTRIBUTE CHARATER OF THE NEXT
FIELD ON THE SCREEN.  IF YOU OUTPUT 5 CHARACTERS OF DATA AND THE
NEXT FIELD STARTS 10 CHARACTERS PAST THE START OF THIS FIELD, THEN
THE FIELD IS 10 CHARACTERS LONG.
.PARA
IF THE ROW 0 COL 0 SPECIAL VALUES
ARE USED THE NEXT FIELD STARTS IMMEDIATELY AFTER THE THE LAST
CHARACTER OF THE DATA.  CARE SHOULD BE TAKEN WHEN USING THIS OPTION
AS A DATA LENGTH OF ZERO WILL CAUSE THE FIELD TO HAVE A LENGTH OF
ZERO.
.TABNUM RC
.TABNUM TPUTRC
.TABNUM TGETRC
.SECTION 'PARAMETERS RETURNED BY SCREEN'
.SUBSECTION 'RC -- RETURN CODE'
THE RETURN CODE SPECIFIES WHAT TYPE OF ERRORS, IF ANY, WERE
ENCOUNTERED DURING THE SCREEN MANIPULATION.  FOR SOME ERROR CODES,
.UR THE REASON CODE GIVES ADDTIONAL INFORMATION. TABLE &RC. GIVES
THE RETURN CODES FROM SCREEN.
.PA
.TABBEGIN
.TABLE RC 'RETURN CODES FROM SCREEN'
VALUES:
            0   - SUCCESS

            4   - THE TSO TERMINAL TO WHICH THE TPUT WOULD BE OUTPUT
                  IS NOT A DISPLAY STATION WITH FULL SCREEN
                  CAPABILITIES.  THEREFORE FULLSCREEN I/O CANNOT BE
                  USED.

            8   - ERROR IN PARSING THE STRUCTURE:   DURING THE
                  CREATION OF THE SCREEN TO BE OUTPUT TO THE TERMINAL
                  AN ERROR WAS DETECTED WHICH PREVENTS THE PROPER
                  FORMATTING OF THE SCREEN.  THE SCREEN IS NOT OUTPUT
                  AND THE REASON CODE PARM CONTAINS THE REASON CODE
                  IN ELEMENT 1 AND THE INDEX OF THE STRUCTURE MEMBER
                  WHICH CAUSED THE ERROR.
                  REASONS 1 TO 9 AND 11 TO 14 MAY BE ASSOCIATED
                  WITH THIS RETURN CODE.

            12  - ERROR RELOADING THE INPUT STRUCTURE:  AFTER THE
                  DATA HAS BEEN RETRIEVED FROM THE TERMINAL, AND
                  DURING THE LOADING OF THE STRUCTURE DATA FIELDS
                  WHICH WERE UPDATED, AN ERROR WAS DETECTED. IN MOST
                  CASES THIS IS REASON 10 AND IT INDICATES THAT
                  A FIELD WAS ENCOUNTERED WHICH WAS LONGER THAN
                  COULD BE PUT INTO THE STRUCTURE.  THE DATA FOR THIS
                  FIELD IS TRUNCATED AND THE SECOND ELEMENT OF THE
                  REASON CODE IS SET TO THE INDEX OF THE STRUCTURE
                  IN THE ARRAY OF STRUCTURES WHICH WAS TRUNCATED.  IN
                  CASES WHERE THERE ARE MULTIPLE TRUNCATIONS,  THE
                  SECOND ELEMENT OF THE REASON PARM IS SET TO THE
                  LAST (LARGEST) INDEX RESULTING IN TRUNCATION.
                  REASON CODE 11 SHOULD NEVER BE ENCOUNTERED;  IF
                  IT IS, A PROBABLE INTERFACE ERROR HAS OCCURED,
                  BRING THE PROBLEM TO THE RESPONSIBLE DESIGNER.

            16  - TPUT ERROR:  ELEMENT 1 OF THE REASON PARM GIVES
                  THE TPUT RETURN CODE.

            20  - TGET ERROR.  ELEMENT 1 OF THE REASON PARM GIVES
                  THE TGET RETURN CODE.

            24  - INVALID COMMAND SPECIFIED IN THE CMD PARM:  THE
                  COMMAND PASSED WAS CHECKED AGAINST THE LIST OF
                  VALID COMMANDS AND NO MATCH WAS FOUND.  NOTE THAT
                  THE COMMAND MUST NOT CONTAIN TRAILING BLANKS.

            28  - IN LOADING THE INPUT STRUCTURE, A FIELD WAS
                  RECEIVED FROM TGET FOR WHICH THERE WAS NO
                  STRUCTURE FIELD IN WHICH TO PLACE IT.  THE
                  REASON CODE CONTAINS THE ROW AND COLUMN AT
                  WHICH THE FIELD STARTED.  DATA HAS BEEN LOST
                  AND LOADING OF THE STRUCTURE HAS BE TERMINATED
                  PAST THIS ROW AND COLUMN.  THE MOST COMMON CAUSE
                  OF THIS ERROR OCCURS IN SCREEN UPDATES.  AN
                  UNPROTECTED FIELD IS LEFT ON THE SCREEN FROM A
                  PREVIOUS WRITE TO THE SCREEN AND THERE IS NOT
                  A FIELD DEFINITION FOR THAT FIELD IN THE CURRENT
                  ARRAY OF FIELD DEFINITIONS.  IF THIS FIELD IS
                  UPDATED BY THE USER, THERE IS NO PLACE TO PUT THE
                  DATA RETURNED.  THERE ARE TWO POSSIBLE SOLUTIONS.
                  ONE IS TO REWRITE THE FIELD WITH A NULL FIELD WHICH
                  IS PROTECTED AND THE OTHER IS TO PROVIDE A FIELD
                  DEFINITION FOR THIS FIELD WITH THE INPUT ONLY FLAG
                  SET.
.TABEND PAGE
.TABBEGIN;.TABLE TPUTRC 'TPUT RETURN CODES'


     THIS TABLE IS TAKEN FROM IBM PUBLICATION:
     GC28-0648-2  OS/VS2 TSO GUIDE TO WRITING A TERMINAL MONITOR PROGRAM
                  OR A COMMAND PROCESSOR


            00  -  TPUT COMPLETED SUCCESSFULLY. THIS CODE WILL NEVER
                   BE RETURNED BY THE SCREEN PROGRAM.

            04  -  NOWAIT WAS SPECIFIED AND NO TERMIAL OUTPUT BUFFER
                   WAS AVAILABLE.  THIS CODE SHOULD NEVER BE RETURNED
                   BY THE SCREEN PROGRAM.  IF IT IS, CONTACT THE
                   RESPONSIBLE DESIGNER.

            08  -  AN ATTENTION INTERRUPT OCCURED WHILE THE TPUT SVC
                   WAS PROCESSING.  THE MESSAGE WAS NOT SENT.

            12  -  A TPUT MACRO INSTRUCTION WITH AN ASID OPERAND WAS
                   ISSUED BUT THE USER AT THE TERMINAL INDICATED
                   BY THE ASID REQUESTED THAT INTERTERMINAL
                   MESSAGES NOT BE PRINTED ON HIS TERMINAL.  THE
                   MESSAGE WAS NOT SENT.  THIS CODE SHOULD NEVER
                   BE RETURNED BY THE SCREEN PROGRAM.

            16  -  INVALID PARAMETERS WERE PASSED TO THE TPUT SVC.
                   SCREEN PROGRAM ERROR, CONTACT RESPONSIBLE
                   DESIGNER.

            20  -  THE TERMINAL HAS BEEN DISCONNECTED AND COULD NOT
                   BE REACHED.
.TABEND PAGE
.TABBEGIN
.TABLE TGETRC 'TGET RETURN CODES'


     THIS TABLE IS TAKEN FROM IBM PUBLICATION:
     GC28-0648-2  OS/VS2 TSO GUIDE TO WRITING A TERMINAL MONITOR PROGRAM
                  OR A COMMAND PROCESSOR


            00  -  TGET COMPLETED SUCCESSFULLY. THIS CODE WILL NEVER
                   BE RETURNED BY THE SCREEN PROGRAM.

            04  -  NOWAIT WAS SPECIFIED AND NO INPUT WAS AVAILABLE
                   TO BE READ THIS CODE SHOULD NEVER BE RETURNED
                   BY THE SCREEN PROGRAM.  IF IT IS, CONTACT THE
                   RESPONSIBLE DESIGNER.

            08  -  AN ATTENTION INTERRUPT OCCURED WHILE THE TGET SVC
                   WAS PROCESSING.  THE MESSAGE WAS NOT RECEIVED.

            12  -  THE INPUT BUFFER WAS NOT LARGE ENOUGH TO ACCEPT
                   THE ENTIRE INPUT SENT FROM THE TERMINAL.  CONTACT
                   THE RESPONSIBLE DESIGNNER,  SYSTEM CHANGES HAVE
                   INVALIDATED THE BUFFER SIZING CALCULATIONS.

            16  -  INVALID PARAMETERS WERE PASSED TO THE TGET SVC.
                   SCREEN PROGRAM ERROR, CONTACT RESPONSIBLE
                   DESIGNER.

            20  -  THE TERMINAL HAS BEEN DISCONNECTED AND COULD NOT
                   BE REACHED.
.TABEND PAGE
.SUBSECTION 'REA -- REASON CODE'
.TABNUM REA
THIS TWO ELEMENT FIXED BINARY(15) ARRAY CONTAINS ADDITIONAL
INFORMATION FOR SOME RETURN CODES.  THE REASON CODES FOR
RETURN CODES OF 8 AND 12 CONSIST OF ONE OF THE CODES SHOWN
BELOW IN ELEMENT 1 AND THE ELEMENT NUMBER FROM THE ARRAY OF
STRUCTURES WHICH CAUSED THE ERROR TO BE DETECTED IN ELEMENT
2. FOR RETURN CODES OF 16 AND 20, ELEMENT 1 CONTAINS THE TPUT
OR TGET RETURN CODE AND ELEMENT 2 IS ZERO.  FOR RETURN CODE
28, ELEMENT 1 CONTAINS THE ROW OF THE FIELD WHICH COULD NOT
BE LOADED AND ELEMENT 2 CONAINS THE COLUMN OF THIS FIELD.
.UR TABLE &REA GIVES ALL THE REASON CODES RETURNED BY SCREEN.
.PARA
FOR EXAMPLE: IF THE FIELDEFS ARRAY WAS DECLARED WITH BOUNDS OF
(2:20) AND THE SECOND ELEMENT IN THE FIELDEFS HAD AN INVALID ORDER,
THEN THE REASON CODE RETURNED WOULD BE: REA(1) = 2 REA(2) = 3.
.TABBEGIN;.TABLE REA 'REASON CODES'

           1  -  NUMBER OF ELEMENTS SPECIFIED IS
                 GREATER THAN THE NUMBER OF STRUCTURE ELEMENTS
                 IN THE ARRAY PASSED.  THIS ERROR WILL ONLY OCCUR
                 WHEN THE NUM PARAMETER IS SPECIFIED AS AN ACTUAL
                 NUMBER (NOT SPECIAL VALUES 0 OR -1).  THE HIGH
                 BOUND OF THE ARRAY + 1 MINUS THE LOW BOUND OF
                 THE ARRAY IS LESS THAN THE NUMBER PASSED.  IT IS
                 HARD TO OUTPUT 20 FIELDS IF ONLY 19 ARE SUPPLIED.

           2  -  CANNOT INTERPRET THE ORDER SPECIFIED:  THE ORDER
                 PASSED WAS COMPARED AGAINST THE LIST OF VALID
                 ORDERS AND NO MATCH WAS FOUND.  CHECK THE ORDER
                 IN THE STRUCTURE ELEMENT FOR THE FIELD BEING
                 DEFINED AND CHECK THE PARAMETER DECLARATIONS.
                 NOTE THAT THE NEWEST SCREEN MODULE WILL ACCEPT THE
                 UNITIALIZED PL/I FIELD WHICH IS USUALLY X'000000'
                 AS A START FIELD IF DEFERENCE TO STUPID PROGRAMMERS.

           3  -  ROW SPECIFIED IS INVALID:  IN A NON-ZERO-ZERO
                 ROW-COLUMN SPECIFICATION, A ROW NUMBER LESS THAN
                 ONE OR GREATER THAN THE NUMBER OF ROWS ON THE
                 SCREEN WAS ENCOUNTERED.

           4  -  COLUMN SPECIFIED IS INVALID: IN A NON-ZERO-ZERO
                 ROW-COLUMN SPECIFICATION, A COLUMN NUMBER LESS
                 THAN ONE OR GREATER THAT THE NUMBER OF ROWS ON
                 THE SCREEN WAS ENCOUNTERED.

           5  -  MULTIPLE ATTEMPTS TO INSERT THE CURSOR.  SECOND
                 ATTEMPT IS THE ONE FLAGGED.  IN THE FIELDEFS PASSED
                 THERE IS MORE THAN ONE ELEMENT IN THE ARRAY OF
                 STRUCTURES WITH THE CURSOR BIT SET TO '1'B.

           6  -  TOO MUCH DATA, SCREEN BUFFER OVERFLOW:  MORE DATA
                 WAS SUPPLIED THAN WILL FIT ON THE SCREEN.

           7  -  STRUCTURE ELEMENT NOT IN ROW-COL ASSENDING
                 ORDER.  THE FIELD DEFINITIONS IN THE FIELDEFS ARRAY
                 OF STRUCTURES MUST SPECIFY THE FIELDS IN THE ORDER
                 THEY WILL BE PUT OUT ONTO THE SCREEN.  A FIELD
                 STARTING AT ROW 1 COLUMN 20 BE PLACED IN A HIGHER
                 INDEXED STRUCTURE ELEMENT THAN ONE STARTING AT
                 ROW 1 COLUMN 1.

           8  -  PT OR EUA ORDER SPECIFIED FOR A COMMAND OTHER THAN
                 WRITE OR WRITE NOREAD.  THE PROGRAM TAB AND ERASE
                 UNPROTECTED TO ADDRESS ORDERS ARE SCREEN UPDATE
                 ORDERS.  THEY DO NOT MAKE SENSE ON AN ERASE WRITE
                 COMMAND.

           9  -  NO CHARACTER WAS SPECIFIED FOR A REPEAT
                 TO ADDRESS ORDER.  A SINGLE CHARACTER MUST BE
                 SPECIFIED IN THE DATA FIELD FOR A REPEAT TO ADDRESS
                 ORDER.

           10 -  DATA TRUNCATION ON LOADING FIELDS.  DATA
                 INSERTION COMPLETED.  ELEMENT 2 POINTS TO THE
                 LAST ELEMENT TO BE TRUNCATED.  THE DATA
                 RETRIEVED FROM A FIELD ON THE SCREEN WOULD NOT FIT
                 INTO THE DATA PORTION OF THE FIELD DEFINITION WHICH
                 GENERATED.  A FIELD EXTENDS FROM THE START OF THE
                 FIELD TO THE START OF THE NEXT FIELD EVEN IF THAT
                 FIELD IS ON A DIFFERENT LINE. (WRAP AROUND).  THIS
                 ERROR IS DETECTED WHEN THE DATA RETRIEVED FROM A
                 FIELD IS LONGER THAN THE DECLARED LENGTH OF THE
                 FIELD IT HAS TO BE PUT INTO.

           11 -  COULD NOT IDENTIFY CURSOR POSITION OR OTHER
                 SCREEN ADDRESS, BRING LISTING AND DUMP TO
                 AUTHOR.  ELEMENT 2 OF THE REASON CONTAINS THE
                 UNFORMATTED SCREEN ADDR.  IF THIS ERROR OCCURS,
                 CONTACT BOB STYMA AT GTE AUTOMATIC ELECTRIC LABS.
                 (602)-582-7323

           12 -  FIELD RUNS OFF SCREEN.

           13 -  ROW AND COLUMN SPECIFIED ARE SPECIFY A SCREEN
                 ADDRESS PAST THE CURRENT SCREEN ADDRESS:  THE
                 ROW AND COLUMN SPECIFIED FOR A FIELD DEFINITION
                 REFERED TO A BUFFER POSITION WHICH IS LESS THAN
                 THE BUFFER POSITION AT WHICH THE LAST FIELD ENDED.
                 THAT IS: IF A 20 CHARACTER FIELD STARTS AT ROW 2
                 COL 2 THEN A FIELD MAY NOT START AT ROW 2 COL 10
                 BECAUSE ROW 2 COL 10 IS IN THE MIDDLE OF THE
                 PREVIOUS FIELD.

           14 -  REPEAT TO ADDRESS OR ERASE UNPROTECTED TO
                 ADDRESS ORDER IMMEDIATELY FOLLOWING A PROGRAM
                 TAB ORDER. THIS CONSTRUCT IS NOT ALLOWED.

.TABEND PAGE
.SUBSECTION 'AID -- ATTENTION IDENTIFICATION'
.TABNUM AID
THIS CODE IS RETURNED TO THE CALLING PL/I PROGRAM IN A FIXED
BINARY(15) VARIABLE TO IDENTIFY WHICH KEY WAS PRESSED TO
.UR ENTER THE DATA.  TABLE &AID GIVE THE VALUES FOR AID.
.TABBEGIN;.TABLE AID  'AID CODES'
           -1  -  RETURNED WHEN NO READ OPERATION WAS EXECUTED
           0   -  ENTER KEY
           1   -  PF1  KEY
           2   -  PF2  KEY
           3   -  PF3  KEY
           4   -  PF4  KEY
           5   -  PF5  KEY
           6   -  PF6  KEY
           7   -  PF7  KEY
           8   -  PF8  KEY
           9   -  PF9  KEY
           10  -  PF10 KEY
           11  -  PF11 KEY
           12  -  PF12 KEY
           13  -  PF13 KEY
           14  -  PF14 KEY
           15  -  PF15 KEY
           16  -  PF16 KEY
           17  -  PF17 KEY
           18  -  PF18 KEY
           19  -  PF19 KEY
           20  -  PF20 KEY
           21  -  PF21 KEY
           22  -  PF22 KEY
           23  -  PF23 KEY
           24  -  PF24 KEY
           25  -  TEST REQ KEY,  NO FIELDS READ
           26  -  CLEAR KEY, SCREEN ERASED, NO FIELDS READ
           27  -  PA1 KEY, NO FIELDS READ
           28  -  PA2 KEY, NO FIELDS READ
           29  -  PA3 KEY, NO FIELDS READ
.TABEND
.PARA
IT IS NOT POSSIBLE WITH THE CURRENT VERSION OF SCREEN TO RECEIVE
ALL OF THE AID CODES.  THE PA1 IS INTERCEPTED BY TSO AND TAKEN
TO BE AN ATTENTION.  CLEAR IS ALSO INTERCEPETED BY TSO.   THE
SCREEN IS CLEARED AND TSO WAITS FOR MORE INTPUT.  THIS ACTION BY
THE OPERATOR WILL PROBABLY RESULT IN A RETURN CODE OF 28 UNLESS
A FIELD WAS DEFINED FOR ROW 1 COL 1 OR PA1 OR PA2 WAS PRESSED.
IT IS USUALLY DESIRABLE TO FOLLOW THE CONVENTION OF USING PA2
TO BE A SCREEN REFRESH.  A SCREEN REFRESH SHOULD ALSO BE DONE
FOLLOWING RETURN CODE 28.
.SUBSECTION 'CPOS -- CURSOR POSITION'
THIS 2 ELEMENT FIXED BINARY(15) ARRAY IS SET TO THE POSITION
OF THE CURSOR WHEN THE INPUT OPERATION WAS COMPLETED.
.PARA
VALUES:
           ELEMENT 1  -  ROW CURSOR WAS IN
           ELEMENT 2  -  COLUMN CURSOR WAS IN
.PA
.CHAPTER    'WRITING FULL SCREEN PROGRAMS'
.SECTION 'USING COMMAND ERASE/WRITE AND ERASE/WRITE NOREAD'
.SUBSECTION 'GENERAL INFORMATION'
.PARA
THE ERASE WRITE COMMANDS BOTH SERVES THE FUNCTION OF CLEARING THE
SCREEN COMPLETELY AND WRITING THE SCREEN DEFINED BY THE PARAMETERS
PASSED TO SCREEN.  THE DIFFERENCE BETWEEN EREASE/WRITE AND
ERASE/WRITE/NOREAD IS THAT THE NOREAD COMMAND RETURNS DIRECTLY
TO THE PROGRAM AFTER THE OUTPUT IS COMPLETED.  THE NORMAL COMMAND
ISSUES A READ AND WAITS FOR THE OPERATOR TO ENTER DATA.
.PARA
THE ERASE/WRITE COMMAND IS THE MOST BASIC FULL SCREEN COMMAND.  THE
ERASE/WRITE/NOREAD MAY BE VIEWED AS AN OPTION ON THE ERASE/WRITE
COMMAND.  THIS IS ESPECIALLY TRUE SINCE THAT IS HOW IT IS IMPLEMENTED.
THE REST OF THIS SECTION WILL DEAL WITH THE TWO ERASE/WRITE COMMANDS
TOGETHER AND THEN DESCRIBE HOW THEY SHOULD BE USED DIFFERENTLY.
.PARA
THE ERASE/WRITE COMMAND WILL ALWAYS BE THE FIRST FULL SCREEN OUTPUT
COMMAND USED BY THE PROGRAM.  THIS IS BECAUSE THE OTHER COMMANDS
(WRITE) EXPECT TO UPDATE A SCREEN THAT EXISTS.  ERASE/WRITE
WILL USUALLY ALSO BE THE LAST COMMAND OUTPUT AS IT CAN BE USED
TO CLEAR THE SCREEN.
.PARA
TO USE ERASE/WRITE, SET UP THE FIELD DEFINITIONS STRUCTURE AND THE
OTHER COMMAND PARAMETERS AND ISSUE A CALL TO SCREEN.  UPON RETURN
CHECK THE RETURN CODE TO SEE IF THE OUTPUT WORKED.  IF IT
DIDN'T WORK (NON-ZERO RETURN CODE), PERFORM ERROR ANALYSIS.  IF IT
DID WORK, SCAN THE FOUND ELEMENTS OF THE ARRAY TO SEE IF THERE
ARE ANY CHANGED FIELDS.  THE PROGRAM MUST KNOW INTERNALLY WHICH
STRUCTURE ELEMENTS CORRESPOND TO WHAT DATA.  THE PROGRAM CAN
THEN PROCESS THE DATA NORMALLY AND DESIDE THE TYPE OF SCREEN
OPERATION TO PERFORM NEXT.
.PARA
THE ERASE/WRITE COMMAND WILL NORMALLY NOT HAVE ANY OF THE
INPUTONLY FLAGS SET BECAUSE THE STRUCTURE WILL BE CREATING
A FULL SCREEN AND ALL FIELDS WHICH COULD BE INPUT WILL NEED TO BE
DEFINED ON THE SCREEN.  FIELDS ARE DELIMITED BY THE START OF THE
NEXT FIELD.  A FIELD WHICH IS ONLY PARTIALLY FILLED IS PADDED
WITH NULL CHARACTERS BY THE 3270.
IN THE CASE OF THE LAST FIELD, THERE IS NO NEXT FIELD.
THE LAST FIELD ON THE SCREEN WILL WRAP AROUND AND TERMINATE AT THE
BEGINNING OF THE FIRST FIELD ON THE SCREEN.  THIS IS NOT USUALLY
A DESIRABLE CONTITION.  THE SCREEN INTERFACE WILL OPTIONALLY INSERT
A FIELD AFTER THE LAST ONE DEFINED BY THE FIELD DEFINITIONS WHICH
IS NON-DISPLAY AND PROTECTED.  THE FOURTH WRITE CONTROL OPTION BIT
CONTROLS WHETHER THIS BIT IS OUTPUT.  WHEN THE BIT IS 0, THE FIELD
IS OUTPUT.  THIS FIELD IS STARTED IMMEDIATELY AFTER THE LAST
DATA CHARACTER IN THE LAST FIELD.  THE LAST FIELD THEN, IF THIS
OPTION IS USED, SHOULD NOT BE AN INPUT FIELD WITH NO DATA.  IF IT
IS, THE FIELD WILL HAVE A LENGTH OF ZERO WHICH MAKES IT HARD TO
INPUT DATA.  IF AN INPUT FIELD IS TO BE THE LAST FIELD, THEN THE
USER SHOULD PROVIDE HIS OWN TRAILING PROTECT FIELD.
.SUBSECTION 'CLEARING A SCREEN AND USING ERASE WRITE NOREAD'
.PARA
TO CLEAR A SCREEN THE FOLLOWING PARAMETERS SHOULD BE SPECIFIED.
CMD='EWR' (ERASE/WRITE/NOREAD), AND NUM=-1.  FIELD DEFINITIONS
MUST BE SUPPLIED BUT THEY WILL NOT BE USED.  ON A SCREEN CLEAR THERE
CAN BE NO INPUT RECEIVED.  SPECIFYING CMD='ERASE/WRITE' WILL
NOT CAUSE A READ OPERATION SINCE NUM=-1 FORCES THE NOREAD OPTION
.PA
.CHAPTER    'DEBUGGING FULL SCREEN PROGRAMS'
THE SAME TECHNIQUES USED IN DEBUGGING NORMAL ONLINE PROGRAMS MAY
BE USED WITH THE FULL SCREEN INTERFACE.  THE INTERFACE WILL WORK
WITH THE CHECKOUT COMPILER.  TO RUN THE INTERFACE WITH THE
CHECKOUT COMPILER, THE PL/I SOURCE MUST BE COMPILED WITH THE
NORUN AND OBJECT OPTIONS AND A LOAD MODULE CREATED.  THE LOAD
MODULE WILL CONTAIN, IN ADDTION TO THE COMPILED PL/I THE
SCREEN INTERFACE.  NOTE THAT WHEN CREATING A CHECKOUT COMPILER
LOAD MODULE, THE ITEXT (OUTPUT ON FILE SYSITEXT) MUST ALSO BE
SAVED.  THE SYSITEXT FILE IS A PDS WITH ONE MEMBER FOR EACH EXTERNAL
PROCEDURE.  THE MEMBER NAMES ARE THE SAME AS THE EXTERNAL NAMES
FOR THE EXTERIOR.  AS THE FORMAT OF THE SYSITEXT FILE IS THE
SAME AS THE LOAD MODULE, A LOAD LIBRARY MAY BE USED TO CONTAIN
BOTH THE ITEXT AND THE CHECKOUT COMPILER LOAD MODULE.  CARE SHOULD
BE TAKEN TO INSURE THAT THE LOAD MODULE CREATED DOES NOT HAVE THE
SAME NAME AS ANY OF THE EXTERIORS IF THE ITEXT AND LOAD MODULE
ARE BEING STORED IN THE SAME DATASET.
.PARA
WHEN EXECUTING THE CHECKOUT COMPILER LOAD MODULE, TWO EXTRA FILES
MUST BE ALLOCATED.  FILE SYSITEXT MUST BE ALLOCATED TO THE
ITEXT DATASET AND FILE SYSUT1 MUST BE ALLOCATED TO SOME SPACE ON
A DIRECT ACCESS DEVICE.
.PARA
THE MAIN PROBLEM ENCOUNTERED WITH DEBUGGING A FULL SCREEN PROGRAM
IS THAT THE SCREEN IS USED FOR DEBUGGING MESSAGES AND SCREEN
OUTPUT AT THE SAME TIME.  A SCREEN OUTPUT WILL ERASE OR MUTILATE
LINE BY LINE MESSAGES PUT OUT BY THE PROGRAM AND LINE BY LINE MESSAGES
WILL MUTILATE A SCREEN.  THIS IS NOT A SERIOUS PROBLEM IN PROGRAMS
WHICH USE ONLY ERASE/WRITE TYPE INSTRUCTIONS PROVIDED THAT THE
BREAK POINTS ARE CHOSEN CAREFULLY.  IF  THE CHECKOUT COMPILER IS
NOT USED THEN THE METHODS USED FOR SCREEN UPDATE PROGRAMS CAN BE
USED IN DEBUGGING FULL SCREEN PROGRAMS.
.SECTION 'DEBUGGING SCREEN UPDATE PROGRAMS'
THE CHIEF PROBLEM IN DEBUGGING SCREEN UPDATE PROGRAMS IS THAT WE MUST
NOT MODIFY THE SCREEN EXECEPT WITH THE SCREEN INTERFACE.  THIS
MEANS THAT DEBUGGING DATA CANNOT BE OUTPUT TO THE TERMINAL WITH THE
NORMAL PUT DATA LINE BY LINE OUTPUT METHODS.  THUS FAR TWO EFFECTIVE
METHODS HAVE BEEN DISCOVERED FOR DEALING WITH THIS PROBLEM. NOTE
THAT THESE METHODS WORK EQUALLY WELL WITH PROGRAMS USING ONLY
ERASE/WRITE SCREEN OPERATIONS.
.SP 2
SEPARATE DEBUGGING FILE
.SP
ONE DEBUGGING TECHNIQUE IS TO PUT AN OUTPUT STATEMENT TO A FILE
ALLOCATED TO A TSO DATASET FOLLOWING EACH INVOCATION OF THE
SCREEN INTERFACE.  THE OUTPUT SHOULD CONTAIN AN IDENTIFIER
SHOWING WHICH CALL TO THE INTERFACE THIS OUTPUT STATEMENT REFERS
TO, THE RETURN CODE FROM THE INTEFACE, AND THE REASON CODE FROM
THE INTERFACE.  OTHER DATA MAY ALSO BE INCLUDED AS NEEDED.  THE
PROGRAM IS THEN RUN UNTIL SOMETHING GOES WRONG AND THEN THE
DEBUGGING DATASET MAY BE INSPECTED FOR A TRACE HISTORY OF THE
CALLS TO THE SCREEN INTERFACE.  TO FURTHER PROTECT THE SCREEN
AGAINST EXTRANEOUS OUTPUT, THE SYSPRINT FILE SHOULD ALSO BE ROUTED
TO A DATASET WHICH MAY BE INSPECTED LATER.  TO AVOID USING A
DEBUGGING DATASET THE COMMAND:
 ALLOC FI(DEBUG) SYSOUT(X) HOLD
MAY BE USED TO PUT THE DUBUGGING OUTPUT (ASSUMING YOUR PROGRAM IS USING
FILE DEBUG FOR THE OUTPUT) TO A SYSOUT DATASET WHICH MAY THEN BE
RETRIEVED BY USING THE OUTPUT COMMAND OR THE SPF OUTLIST MENU.
.SP 2
SPECIAL DEBUGGING SCREEN FIELDS
.SP
ANOTHER METHOD TO GET AT THE OUTPUT IS TO RESERVE 1 OR MORE
LINES ON THE SCREEN FOR DEBUGGING OUTPUT.  THESE SHOULD BE LINES
NOT OTHERWISE USED.  A CALL TO THE INTERFACE MAY THEN BE SET UP
WHICH WILL DISPLAY THE RETURN CODE  AND REASON CODES FROM EACH
CALL TO THE INTERFACE.  THE COMMAND USED SHOULD BE WN (WRITE/NOREAD)
AND WCO OPTIONS OF '00110' SHOULD BE USED.  OTHER DATA MAY BE
OUTPUT ON THIS SCREEN USING THIS SAME TECHNIQUE.
.CHAPTER 'STRUCTURED PLI DECLARATIONS'
.PARA
.FIGNUM ELAST
AN ARRAY OF STRUCTURES IS THE MOST USABLE METHOD FOR INSPECTING
THE VALUES RETURNED BY SCREEN.  THE INITIALIZATION OF THESE
STRUCTURES IS AT BEST MESSY AND OFTEN PRODUCES AN UNREADABLE
PL/I DECLARE STATEMENT.  THIS ALSO HINDERS DEBUGGING SINCE DETERMINING
WHICH ROWS GO WITH WHICH COLUMNS AND WHICH ATTRIBURES IS HARD
TO DETERMINE.
.PARA
THERE EXISTS A METHOD OF DECLARING THE OUTPUT STRUCTURE IN SUCH A WAY
THAT THE LISTING IS IN A STRUCTURED READABLE FORMAT.  THIS IS DONE
BY DECLARING A SINGLE THREE LEVEL STRUCTURE WHICH MAPS INTO THE
SAME STORAGE AS THE ARRAY OF STRUCTURES.  AN ARRAY OF STRUCTURES IS
THEN BASED ON THE ADDRESS OF THIS ONE STRUCTURE AND THIS ARRAY OF
STRUCTURES IS THEN PASSED TO SCREEN.  THE CALL TO SCREEN FOR THE
BASED ARRAY OF STRUCTURES IS THE SAME AS ANY OTHER CALL EXCEPT THAT
THE NUM PARAMETER SHOULD BE USED TO INDICATE THE NUMBER OF
.UR FIELDS TO OUTPUT. FIGURE &ELAST SHOWS A DECLARE FOR THE
SINGLE STRUCTURE, THE BASED ARRAY OF STRUCTURES AND A CALL TO
SCREEN.
.FIGBEGIN
     DCL CMD     VARYING CHAR(15) INIT('ERASE/WRITE');
     DCL WCO     BIT(5) INIT('01111'B);
     DCL AID     FIXED BINARY(15) INIT(0);
     DCL NUM     FIXED BINARY(15) INIT(/* NUMBER OF FIELDS */
     DCL CPOS    (2) FIXED BINARY(15) INIT((2)0);
     DCL REA     (2) FIXED BINARY(15) INIT((2)0);
     DCL RC      FIXED BINARY(15) INIT(0);



     DCL 1 FIELDEFS(100) BASED(ADDR(FD)),
           2   ROW   FIXED BIN(15),
           2   COL   FIXED BIN(15),
           2   PROTECT   BIT(1),
           2   AUTO_NUM  BIT(1),
           2   HIGH      BIT(1),
           2   NODISP    BIT(1),
           2   MDT       BIT(1),
           2   INPUTONLY BIT(1),
           2   CURSOR    BIT(1),
           2   FOUND     BIT(1),
           2   ORDER     CHAR(3),
           2   DATA      VARYING CHAR(40);









    DECLARE 1 OUTPUT_FIELD STATIC,
              2  FIELD_1,
                 3   ROW   FIXED BIN(15) INIT(5),
                 3   COL   FIXED BIN(15) INIT(20),
                 3   PROTECT   BIT(1) INIT('1'B),
                 3   AUTO_NUM  BIT(1) INIT('1'B),
                 3   HIGH      BIT(1) INIT('1'B),
                 3   NODISP    BIT(1) INIT('0'B),
                 3   MDT       BIT(1) INIT('0'B),
                 3   INPUTONLY BIT(1) INIT('0'B),
                 3   CURSOR    BIT(1) INIT('0'B),
                 3   FOUND     BIT(1) INIT('0'B),
                 3   ORDER     CHAR(3) INIT('   '),
                 3   DATA      VARYING CHAR(40) INIT('DATA1'),
              2  FIELD_2,
                 3   ROW   FIXED BIN(15) INIT(6),
                 3   COL   FIXED BIN(15) INIT(20),
                 3   PROTECT   BIT(1) INIT('1'B),
                 3   AUTO_NUM  BIT(1) INIT('1'B),
                 3   HIGH      BIT(1) INIT('1'B),
                 3   NODISP    BIT(1) INIT('0'B),
                 3   MDT       BIT(1) INIT('0'B),
                 3   INPUTONLY BIT(1) INIT('0'B),
                 3   CURSOR    BIT(1) INIT('0'B),
                 3   FOUND     BIT(1) INIT('0'B),
                 3   ORDER     CHAR(3) INIT('   '),
                 3   DATA      VARYING CHAR(40) INIT('DATA2'),
                            .
                            .
                            .
                            .
                            .
                            .
              2  FIELD_N,
                 3   ROW   FIXED BIN(15) INIT(17),
                 3   COL   FIXED BIN(15) INIT(1),
                 3   PROTECT   BIT(1) INIT('1'B),
                 3   AUTO_NUM  BIT(1) INIT('1'B),
                 3   HIGH      BIT(1) INIT('0'B),
                 3   NODISP    BIT(1) INIT('0'B),
                 3   MDT       BIT(1) INIT('0'B),
                 3   INPUTONLY BIT(1) INIT('0'B),
                 3   CURSOR    BIT(1) INIT('0'B),
                 3   FOUND     BIT(1) INIT('0'B),
                 3   ORDER     CHAR(3) INIT('   '),
                 3   DATA      VARYING CHAR(40) INIT('DATA_N');


     DCL SCREEN ENTRY(
                      VARYING CHAR(*),
                      BIT(5),
                      FIXED BINARY(15),
                      (2) FIXED BINARY(15),
                      (2) FIXED BINARY(15),
                      FIXED BINARY(15),
                      1(*),
                         2 FIXED BINARY(15),
                         2 FIXED BINARY(15),
                         2 BIT(1),
                         2 BIT(1),
                         2 BIT(1),
                         2 BIT(1),
                         2 BIT(1),
                         2 BIT(1),
                         2 BIT(1),
                         2 BIT(1),
                         2 CHAR(3),
                         2 VARYING CHAR(*)) EXTERNAL
                 RETURNS(FIXED BINARY(15));


    RC = SCREEN(CMD,WCO,AID,CPOS,REA,NUM,FIELDEFS);




.FIGURE ELAST 'STRUCTURED PL/I DECLARES AND CALL'
.FIGEND
.SP 3
.SECTION 'SPECIAL NOTES ON STRUCTURED DECLARES'
.PARA
THE DECLARATION FOR THE DATA STRUCTURE ELEMENTS ON THE STRUCTURED
DECLARE MAY BE ANY LENGTH BUT THEY MUST ALL BE THE SAME VALUE.  THE
DATA IN THE FIELD MAY BE ANY LENGTH WITHIN EACH FIELD.  THE SCREEN
INTERFACE PROGRAM ONLY OUTPUTS THE DATA THAT IS THERE, THE UNUSED
PORTIONS OF THE VARYING LENGTH SCREEN ARE NOT OUTPUT.  THUS IF
THE DATA FIELDS ARE 100 CHARACTERS LONG AND AND YOU HAVE A 5 CHARACTER
OUTPUT FIELD, ONLY THE FIVE CHARATERS IN THAT FIELD ARE OUTPUT AND
THE NEXT FIELD CAN START IMMEDIATELY AFTER THE FIFTH CHARACTER.
.PARA
THE DECLARATION OF THE DATA STURUCTURE ELEMENT IN THE ARRAY
OF STRUCTURES WHICH OVERLAYS THE STRUCTURED DECLARATION, MUST
BE THE SAME VALUE AS ALL THE DECLARATIONS FOR THAT FIELD IN
THE STRUCTURED DECLARATION.
.PA
.CHAPTER 'SPECIAL ENTRY POINT TSIZE'
.PARA
A SPECIAL ENTRY POINT, TSIZE, IS PROVIDED TO EXTRACT DATA ABOUT THE
TERMINAL FOR USE BY THE APPLICATION PROGRAM USING THE FULL SCREEN
INTERFACE.  THIS FUNCTION CALL RETURNS THE NUMBER OF LINES ON THE
SCREEN FOR THE TERMINAL WITH WHICH THE PROGRAM IS COMMUNICATING.
IF THE TERMINAL IS NOT A DISPLAY STATION, THE VALUE ZERO IS RETURNED.
.PARA
SAMPLE DECLARE AND CALL:

     DECLARE TSIZE ENTRY EXTERNAL RETURNS(FIXED BINARY(15));
     DECLARE NUM_LINES_PER_SCREEN FIXED BINARY(15);

     NUM_LINES_PER_SCREEN = TSIZE;

.PARA
THE VALUES WHICH ARE RETURNED WITH THE TERMINALS AVAILABLE AS OF THE
DATE OF THIS WRITING ARE: 0 FOR NON-DISPLAY TERMINALS; 24 FOR THE
24 LINE TERMINALS (3278-2); AND 43 FOR THE 43 LINE TERMINAL (3278-4).
.PARA
THIS FUNCTION CALL IS ACCESSABLE AT ANY TIME THAT THE SCREEN FUNCTION
IS AVAILABLE AS THE SOURCE IS STORED IN THE SAME DATASET WITH
THE SCREEN FUNCTION.
.CHAPTER 'SPECIAL ENTRY POINT LSIZE'
.PARA
A SPECIAL ENTRY POINT, LSIZE, IS PROVIDED TO EXTRACT DATA ABOUT THE
TERMINAL FOR USE BY THE APPLICATION PROGRAM USING THE FULL SCREEN
INTERFACE.  THIS FUNCTION CALL RETURNS THE NUMBER OF COLUMNS IN A
ROW FOR THE TERMINAL WITH WHICH THE PROGRAM IS COMMUNICATING.
IF THE TERMINAL IS NOT A DISPLAY STATION, THEN THE LINE LENGTH OF THE
TERMINAL IS RETURNED.
.PARA
SAMPLE DECLARE AND CALL:

     DECLARE LSIZE ENTRY EXTERNAL RETURNS(FIXED BINARY(15));
     DECLARE NUM_COLS_PER_LINE FIXED BINARY(15);

     NUM_COLS_PER_LINE = LSIZE;

.PARA
THIS FUNCTION CALL IS ACCESSABLE AT ANY TIME THAT THE SCREEN FUNCTION
IS AVAILABLE AS THE SOURCE IS STORED IN THE SAME DATASET WITH
THE SCREEN FUNCTION.
.FIGURES
.TABLES

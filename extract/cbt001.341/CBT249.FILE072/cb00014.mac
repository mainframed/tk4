//SMP001R0 JOB 527TSO000S0008,TEC,CLASS=J,MSGCLASS=1
// EXEC SMP8106
//SMPPTFIN DD *
++USERMOD (CB00014) .
++VER (Z038) FMID(EBB1102)       /*
*            NOT APPLICABLE IF YOU HAVE VSAM SMF DATA SETS
*
*     THE PURPOSE OF THIS ZAP IS TO ALLOW THE SMF BUFFER SIZE TO
*     BE GREATER THAN THE CURRENT LIMIT OF 4096 (8192/2).
*
*     THE VALUE SUPPLIED AT INITIALIZATION IS MULTIPLIED BY 8
*     BEFORE THE GETMAIN FOR BUFFERS IS DONE, AND BEFORE THIS
*     VALUE IS DIVIDED BY 2 TO SET UP THE ACTUAL BUFFERS.
*
*     FOR EXAMPLE: TO WRITE FULL TRACK SMF BUFFER RECORDS SPECIFY
*                  THE BUF= KEYWORD IN THE SMF INITIALIZATION
*                  MEMBER IN PARMLIB AS FOLLOWS:
*
*        3350 ---- BUF=4750   (4750*8/2) GIVES A 19000 BYTE BUFFER
*        3330 ---- BUF=3250   (3250*8/2) GIVES A 13000 BYTE BUFFER
*
*     TO ARRIVE AT A VALUE TO SPECIFY IN THE SMF BUF= PARAMETER
*     DECIDE UPON YOUR SMF BUFFER SIZE AND DIVIDE BY 4.
*
*     FOR EXAMPLE: TO WRITE A --
*                  19K BUFFER ON A 3350 - 19K/4=4750
*                  13K BUFFER ON A 3330 - 13K/4=3250
*
*     LIBRARY: SYS1.LINKLIB
*
*
*     MODULE LEVEL IS DATED 76209
*     R12 IS BASE WITH X'1C'
*
*              */.
++ZAP (IEEMB822).
  EXPAND  IEEMB822(20)
  NAME    IEEMB822
*
*
*
*     THE PURPOSE OF THIS ZAP IS TO ALLOW THE SMF BUFFER SIZE TO
*     BE GREATER THAN THE CURRENT LIMIT OF 4096 (8192/2).
*
*     THE VALUE SUPPLIED AT INITIALIZATION IS MULTIPLIED BY 8
*     BEFORE THE GETMAIN FOR BUFFERS IS DONE, AND BEFORE THIS
*     VALUE IS DIVIDED BY 2 TO SET UP THE ACTUAL BUFFERS.
*
*     FOR EXAMPLE: TO WRITE FULL TRACK SMF BUFFER RECORDS SPECIFY
*                  THE BUF= KEYWORD IN THE SMF INITIALIZATION
*                  MEMBER IN PARMLIB AS FOLLOWS:
*
*        3350 ---- BUF=4750   (4750*8/2) GIVES A 19000 BYTE BUFFER
*        3330 ---- BUF=3250   (3250*8/2) GIVES A 13000 BYTE BUFFER
*
*     TO ARRIVE AT A VALUE TO SPECIFY IN THE SMF BUF= PARAMETER
*     DECIDE UPON YOUR SMF BUFFER SIZE AND DIVIDE BY 4.
*
*     FOR EXAMPLE: TO WRITE A --
*                  19K BUFFER ON A 3350 - 19K/4=4750
*                  13K BUFFER ON A 3330 - 13K/4=3250
*
*     LIBRARY: SYS1.LINKLIB
*
*
*     MODULE LEVEL IS DATED 76209
*     R12 IS BASE WITH X'1C'
*
 VER 0044 5810200C          L    REG1,SMCABUF(,SMCAPTR)
 VER 0448 00000000                                      PATCH AREA
 REP 0448 5810200C          L    REG1,SMCABUF(,SMCAPTR)
 REP 044C 89100003          SLL  REG1,3                 TIMES 8
 REP 0450 5010200C          ST   REG1,SMCABUF(,SMCAPTR) SAVE IN SMCABUF
 REP 0454 07F4              BR   R4
 REP 0044 4540C42C          BAL  R4,PATCH               BRANCH TO PATCH
 DUMPT IEEMB820 IEEMB822
/*
//SMPCNTL DD *
 RECEIVE S (CB00014) .
 APPLY   S (CB00014) .
//

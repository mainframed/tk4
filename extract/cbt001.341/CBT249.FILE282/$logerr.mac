         MACRO
&LABEL  $LOGERR    &CODE
         AIF   ('&LABEL' EQ '').SKIP01
&LABEL   DS    0H
.SKIP01  ANOP
         AIF   ('&CODE' EQ '').MNOTE01
         MVI   EFLAG998,ERRTERM    TERMINAL ERROR
         MVI   RETCODE,X'&CODE'/256     HALF OF ERROR CODE
         MVI   RETCODE+1,X'&CODE'-X'&CODE'/256*256  SECOND HALF
         EX    R0,*                0C3 TAKES US TO SPIE
         MEXIT
.MNOTE01 MNOTE 8,'$LOGERR -- MISSING ERROR CODE.'
         MEND

        B A T C H   U T I L I T Y   P R O G R A M S

              RELEASE  4.0   13 APRIL 1982


              COURTESY     JIM MARSHALL
                           AIR FORCE DATA SVCS CENTER
                           IBM OPERATING SYSTEMS SUPPORT BRANCH
                           CMIS - ROOM 1C1039
                           WASHINGTON D.C.  20330
                           1-202-695-1274

                           CONFIGURATION: TWIN 3032'S
                                          MVS/SP1.1.0/JES2-MAS
                                          TSO/VTAM/SPF
                                          INQUIRE
                                          IBM 3800
                                          IBM 3850 (SHARED)
                                          MSS/SE

     FLASH-FLASH-FLASH-FLASH-FLASH-FLASH
     -----------------------------------

     READ THE DOCUMENTATION MEMBER ($$PROSE) OF THE TSO FILE FOR
     IMPORTANT ANNOUNCEMENT.   JIM MARSHALL

     -----------------------------------

     THIS IS A COLLECTION OF BATCH UTILITY PROGRAMS. MY INTENT IS TO
  PUT TOGETHER A FILE OF THESE PROGRAMS FOR SHARE.  SOME ARE ORIG-
  INAL AND MOST WERE OBTAINED FROM OUR  OS/MVT  DAYS AND CONVERTED.
  IT IS EMBARASSING TO TELL MANAGEMENT THAT USERS HAVE LOST FUNCTIONS
  MIGRATING TO MVS AND ALL IT WONDERS. HOPEFULLY I CAN DONATE SOME
  OF THESE HANDY UTILITIES TO OTHERS WHO WERE NOT LUCKY ENOUGH TO
  HAVE AN IBM 360 WITH OS/MVT. ALOT WAS DEVELOPED FOR OS/MVT AND
  MUCH OF IT IS STILL APPLICABLE.



             D I S C L A I M E R S  !!!!!
          *************************************
           USE ALL OF THESE AT YOUR OWN RISK, NATURALLY!
          *************************************


     THE FILE IS CONSTRUCTED OF MEMBERS AS FOLLOWS: THE SOURCE IS
  PUT IN AS A NAME, THEN IF THERE IS ANY INSTRUCTIONS, GUIDANCE, ETC
  THAT MEMBER IS SUFFIXED WITH A #, AND IF THE JCL IS INVOLVED OR
  MORE THAN JUST A SIMPLE COMPILE-LINKEDIT, THEN THE JCL IS SUFFIXED
  WITH A $.

  FOR EXAMPLE:   UTIL    - SOURCE MEMBER
                 UTIL#   - ADDITIONAL INFORMATION
                 UTIL$   - JCL TO INSTALL


   NOTE: THERE IS A FILE A MACROS WHICH IS REQUIRED FOR SOME OF THESE,
         BUT NOT ALL.



    CHANGE ACTIVITY LOG :  THE PREVIOUS $$PROSE IS STORED IN THE FILE AS
                           STORED IN THE FILE AS $$PROSEO. SO YOU CAN
                           GET AN IDEA OF WHAT HAS BEEN ADDED OR
                           CHANGED. TWO BACK IS $$PROSEX.
    --------------------------------------------------------------

    ASMBOX1  - ADDED. INVOKES ASSEMBLER AND YOUR LISTING COMES
               OUT WITH BOX AROUND IT.
    ASMHNOX  - ADDED.  PTF FOR ASM H.
    COPYFILE - 0C4 BUG FIXED WHEN YOU ASKED FOR TAPEL. PLUS SOME
               CODE CLEANING DONE
    DISKMAP  - TOOK OUT IBM 2321 CODE, AND EXTENDED THE ADDRESS-
               ABILITY, FIXED A FEW BUGS THAT APPEARED WHEN YOU
               MAPPED A FRAGMENTED DISK. ( 0C1 & 0C4'S ).
    EXCPMOD  - ZAP TO SHOW EXCP COUNTS ON LISTING.
    IEECVXIT - REMOVED WTO ISSUED FROM THIS EXIT, MANUAL IMPLIES YOU
               CAN DO THEM, BUT WE FOUND YOU WILL HANG UP SYSTEM,
               WILL MOVE EVENTUALLY TO 'IEECR2D2'
    IEFUTL   - SMF EXIT IEFUTL.
    IEFU83   - CLEANED UP THE CODE SOMEWHAT, FIXED A FEW BUGS, AND
               ADDED SOME CODE.
    INCORZAP - ADDED THE FACT IT IS IN THE FILE.
    LKEBOX1  - ADDED. PUTS BOX AROUND YOU LKED LISTING. SEE ASMBOX1
    LKEDMOD  - ZAP TO LINKAGE EDITOR FOR DATE,TIME STAMP.  MVS 3.8
    LKEDMOD1 - ZAP TO LINKAGE EDITOR FOR DATE,TIME STAMP.  MVS/SP1.1
    LKER90   - ROTATE LKED LISTINGS 90 DEGREES AND GET 2 PAGES ON
               ONE, IBM 3800.
    MSSMOUNT - ZAP TO LET TSO USERS MOUNT MSS VOLUMES WITHOUT MOUNT
               ATTRIBUTE.
    OFFLOAD  - FAMOUS OFFLOAD PGM FROM CBT TAPE BUT WITH SOME
               BUGS FIXED.
    PARMBLOC - ALLOW DDNAME TO BE SPECIFIED ON THE PARM. REMOVE WTO.
    PDSLOAD  - LOAD BACK FILES THAT ARE IN IEBUPDTE FORMAT, SEE
               DESCRIPTION BELOW.
    PDSTEST  - ADDED. TEST PDS'S.
    P38BOX1  - ADDED. SUBROUTINE FOR ASMBOX1.
    P38TURN  - CHARACTER SET TO BE USED WITH ROTATED ASSEMBLY AND
               LKED LISTINGS
    TAPEL    - FIXED SO IT WOULD SHOW MORE THAN 100 SL FILES. MAX IS
               NOW AT 200
    TAPELZAP - TAPE LABEL ZAP TO FORCE OPERATOR REPLY OF 6 CHAR.
    TLABEL   - ADDED
    TLPRINT  - CLEANED UP CODE AND INCREASED LABEL POOL.


    --------------------------------------------------------------

   SUMMARY OF THE MODULES CONTAINED.

 UTIL     REL          DESCRIPTION

 ASMBOX1   1    PUT A NICE LOOKING BOX AROUND YOU ASSEMBLY LISTING
                OUTPUT. LINECT FOR ASSEMBLY LISTING IS 53. CODE IS
                3800 DEPENDENT.

 ASMHNOX   1    A PTF FOR AN ASSEMBLER H BUG.  AS YOU KNOW ASM H
                IS CLASS C NOW.

 ASMR90    1    ROTATE 90 DEGREES ASSEMBLY LISTINGS ON THE 3800
                TYPE PRINTERS. NEAT FOR THOSE WHO HAVE 3800'S.

 COPYFILE  2    VERY POWERFUL COPY TAPE TYPE PROGRAM. IF YOU HAVE
                MULTIFILE SL TAPES WILL COPY SELECTED FILES VIA A
                CONTROL CARD. SEE MEMBER COPYFIL# FOR DOCUMENTATION.

 CT        1    AIR FORCE DEVELOPED HIGH SPEED TAPECOPY PROGRAM. RUNS
                AT EXCP SPEED. WILL COPY LABELED OR UNLABELED, SINGLE
                OR MULTIFILE, AND IF IT IS ONLY ONE REEL AN OPTION
                TO VERIFY THE COPY BYTE-FOR-BYTE TO INSURE IT WAS
                SUCCESSFUL. WILL SUCCESSFULLY COPY MULTI-VOLUME TAPES
                LABELED OR UNLABELED, BUT WITH NO VERIFY FUNCTION.

 DELINK0   1    SOURCE CARDS FOR THE IBM FE PROGRAM TO 'DELINK'
                LOAD MODULES. WE RECONSTRUCTED THE SOURCE IMAGES
                WITH A DISASSEMBLER AND ALOT OF PATIENCE.  FUN !!!

 DISKMAP   2    DISKMAP PROGRAM THAT HAS 3330 SUPPORT, 3350, AND
                3850 SUPPORT INCLUDED. GIVES SIMILIAR INFORMATION
                TO A COMPAKTOR MAP. YOU SHOULD NOTE THAT IT OPENS
                EVERY FILE IT FINDS ON A PACK, SO SHOPS THAT ARE
                CONCERNED WITH LAST USE DATE, SHOULD MAYBE NOT
                TRY THIS OUT !!!!

 EALSD095  1    EASTERN AIRLINES UPDATE OF THE STANDARD IBM
                BLOCK LETTER ROUTINE IEFSD095 WHICH WAS USED
                FOR BANNER PAGES. THE UPDATED VERSION HAS ALL
                THE SPECIAL CHARACTERS INCLUDED IN IT.

 EXCPMOD   1    MOD (ZAP) TO SHOW EXCP COUNTS ON JCL LISTING.
                MVS/SP1.1

 IEECVXIT  3    AFDSC DEVELOPED 'MCS EXIT'. IT HAS THE CAPABILITY
                TO SUPPRESS OR CHANGE THE ROUTE CODES, DESC, CODES,
                ETC. BUT WITH THIS ONE WE WILL UTILITIZE 'R2D2'
                TO DO SOME AUTOMATIC OPERATOR REPLIES AND STC'S
                BASED UPON WHAT COMES ACROSS THE CONSOLE. IS NOT
                DEPENDENT UPON THE OPERATOR BEING AWAKE.

 IEECR2D2  1    AFDSC DEVELOPED VERSION OF THE FAMOUS 'R2D2'. THIS
                LITTLE CREATURE WILL DO AUTOMATIC START COMMANDS
                FOR THINGS THAT NEED TO BE STARTED BASED UPON WHAT
                COMES ACROSS THE SCREEN AND IS DETECTED BY
                IEECVXIT. ALSO R2D2 WILL DO THE AUTOMATIC REPLIES
                FOR RMF ( R XX,'GO' ), ALLOCATION ( R XX,'NOHOLD' )
                EVER HAD AN OPERATOR TURN YOUR 3033 MVS SYSTEM TO
                OS/MVT LIKE SYSTEM BY LOCKING UP Q4 ( R XX,HOLD ).
                THIS LITTLE CRITTER HAS ALOT OF POSSIBILITIES.

 IEFUTL    1    IBM STANDARD SMF EXIT, IEFUTL. WAIT TIME AND
                CPU TIME EXCESSION FOR BATCH AND TSO. NOT MUCH
                CODE BUT ONE THING IT CAN DO IS TO ELIMINATE
                S522 ABENDS CAUSED BY OPERATORS.

 IEFU83    2    AFDSC DEVELOPED SMF EXIT, 'IEFU83'. HAS ALL THE
                STANDARD SUGGESTION FOR TYPE 40 RECORDS, 0 EXCP
                COUNTS, ETC. THIS ONE IS BRANCH TABLE DRIVEN SO
                IT IS A GOOD PLACE TO BEGIN FOR THOSE WHO WANT TO
                EXPAND ON ITS CODE. ALSO LOOKS AT 14&15'S ETC.

 INCORZAP  2    SOURCE FOR THE FAMOUS 'INCORZAP' THAT IS KNOWN
                ONLY IN OBJECT FORM. THANKS BILL GODFREY FOR
                DISASSEMBLY AND PATIENCE.

 IGG019WD  1    APPENDAGE FOR RECOVERY FROM WRONG DENSITY TAPE
                VOLUMES, USED BY TAPE UTLITIES

 IGG019WE  1    APPENDAGE TO PREVENT ERROR AT EOF, USED BY TAPE
                TAPE UTILITIES.

 INCORZZP  1    ZAP TO THE 'INCORZAP' PROGRAM SO IT WILL RUN UNDER
                ANY NAME.

 LISTCTLG  1    LISTS OS CATALOGS EFFICIENTLY. UPDATED FOR 3400
                SERIES TAPE DRIVES, 3330 TYPE DISKS, 3350'S, AND
                3850 MSS. SEE THE COMMENTS IN THE CODE FOR
                ADDITIONAL CAPABILITIES OF THE PROGRAM.

 LISTIDR   1    IMPROVED GODDARD SPACE CENTER PROGRAM FOR LISTING
                'IDR' RECORDS.

 LISTPDS   1    GODDARD SPACE FLIGHT CENTER, FAMOUS 'LISTPDS'
                PROGRAM. UPDATED SO WHEN YOU DO THE FUNCTION
                SIMILIAR TO IEHLIST, LISTPDS, IT GIVES YOU THE
                SPF STATS, LIKE SPF 3.1 DOES. SEE THE LISTPDS#
                FOR ALL OF ITS CAPABILITIES.

 LKEBOX1   1    PLACE A NICE LOOKING BOX AROUND YOU LKED LISTING.
                FOR USE IN CONJUNCTION WITH ASMBOX1.

 LKEDMOD   1    LKED EDITOR ZAP TO PUT TIME & DATE INTO LOAD MODULES
                MVS/3.8

 LKEDMOD1  1    LKED EDITOR ZAP TO PUT TIME & DATE INTO LOAD MODULES
                MVS/SP1.1

 LKED90    1    ROTATE LKED OUTPUT ON AN IBM 3800 90 DEGREES AND
                GET 2 PAGES ONTO 1.

 MODREP    2    LPA MODULE REPLACEMENT PROGRAM OBTAINED FROM THE
                CBT TAPE. MODIFIED AT AFDSC SO IT WILL NOT ABEND
                WITH A S522. SEVERAL OTHER BUGS FIXED.

 MSGWRITE  2    SUBROUTINE USED BY SOME OF THE UTILITIES.

 MSSMOUNT  1    ZAP TO LET TSO USERS MOUNT MSS VOLUMES WITHOUT HAVING
                MOUNT ATTRIBUTE IN 'UADS'.

 OFFLOAD   1    UNLOAD A PDS TO A SEQUENTIAL IEBUPDTE DATASET.
                FIXED BUG OF ABEND 103-4C FOR UNBLOCKED PDS'ES.

 PARMBLOC  2    TAKE THE PARM FROM THE EXEC CARD AND CREATE A
                BLOCK LETTER BANNER. HAS OPTIONS TO SLANT ETC.
                NICE FOR REPORTS.

 PDSGAS    1    WILL ALLOW YOU FIND A 'GAS' MEMBER IN A PDS PRO-
                VIDED OF COURSE YOU HAVE NOT COMPRESSED THE PDS.
                ASSIGNS A MEMBER NAME OF $GASXXXX WHERE XXXX GOES
                FROM 0001 TO 9999. THEN IT IS CALLED BRUTE FORCE
                TO GO IN WITH SPF 3.1 TO FIND IT. BUT !!!!!!!!

 PDSLOAD   1    TAKE A FILE WITH IEBUPDTE CONTROL CARDS IN THEM AND
                RELOAD TO A PDS. WILL PUT IN SPF STATS AND ALSO
                USEFUL FOR FILES UNLOADED BY FAMOUS OFFLOAD PGM
                FROM CBT TAPE. CAN CHANGE THE IMBEDDED '><' TO
                './' AS YOU RELOAD.

 PDSPROGM  1    USED FOR DELETING AND RENAMING MEMBERS OF A PDS
                FROM A BATCH JOB. MUCH EASIER TO USE THAN IEHPROGM.

 PDSPRINT  1    ANOTHER PDS LIST OR PUNCH PROGRAM. CAN FEED IT
                CONTROL CARDS FOR A MEMBER LIST OR GIVE IT A
                CHARACTER STRING TO SCAN FOR. MANY NICE FEATURES.

 PDSTEST   1    VERIFIES THE INTEGRITY OF A LOAD MODULE PDS BY
                ISSUING A 'LOAD' FOR EVERY MODULE IN THE LIBRARY.
                IF ANY PROBLEMS OCCUR, THEN YOU ARE TOLD OF THEM.

 PDSUTIL   1    ANOTHER PDS LIST TYPE PROGRAM. AMONG OTHER THINGS
                IT DOES, IT GIVES YOU A TABLE OF CONTENTS AS TO
                WHAT PAGE EACH IS ON. HANDY

 P38R90    1    IBM 3800 ROTATE PGM THAT WILL SQUISH THE PRINT.
                FOR USE WITH ASM & LKED ROTATE LISTINGS.

 P38R90B   1    IBM 3800 ROTATE PGM THAT WILL GET YOU 2 PAGES ON
                ONE ROTATED 90 DEGREES

 P38BOX1   1    SUBROUTINE FOR ASMBOX1.

 P38TURN   1    CHARACTER SET USED FOR THE 90 DEGREE ROTATE.

 RACHECK   1    EL-CHEAPO RACF SECURITY SVC. YALE UNIVERSITY SVC 130
                MADE TO GIVE DIRT-CHEAP SECURITY. WE USE WHITE HAT -
                BLACK HAT THEORY.  EITHER THEY CAN GET TO IT OR NOT.
                DOES NOT EFFECT STC OR SYSTEM CODE. LOOK AT SVC TO
                SEE HOW WE GIVE ALL POWERFUL SYSTEM PROGRAMMERS
                ( WEARS WHITE HATS ) ALL THE PRIVILEDGES.  YA, YA.

 READF     1    SUBROUTINES - READF,WRITEF,RESETF, INTENTED TO BE
                USED IN PLACE OF FORTRAN UNFORMATTED I/O ( REAL
                DOG ). FORTRAN UNFORMATTED I/O USES VBS RECORDS
                WHERE THIS USED FIXED BLOCKED QSAM. SAVES ALOT
                OF CPU CYCLES.

 SPANCOPY  1    CLEANS UP FILES WITH SPANNED RECORDS. IT WILL DROP
                BAD SPANNED RECORDS, AND IF THE FILE CONTAINS SMF
                RECORDS, THEN IT WILL ATTEMPT TO GIVE YOU AS MUCH
                INFORMATION AS IT CAN ON WHAT KIND OF RECORD WAS
                LOST. GOODBYE S002 ABENDS FROM SMF DATA.

 SMFXTRCT  1    GENERALIZED SMF RECORD EXTRACTION UTILITY. CAN SELECT
                BY RECORD TYPE, DATE INTERVAL, TIME INTERVAL, ETC
                SEE THE CODE FOR ALL CAPABILITIES, WILL TRY TO
                WRITE SOME DOCUMENTATION LATER.

 STAE$     1    GENERALIZED ESTAE EXIT FOR MVS. SEE COMMENTS FOR
                ITS CAPABILITIES.

 SYSREPRO  1    SEQUENTIAL COPY UTILITY. IT IS LIKE IEBGENER BUT
                MUCH FASTER. PRINTS OUT DSNAMES, VOLSERS, DCB
                ATTRIBUTES, FILE SEQUENCE NUMBER FOR EACH DATASET.

 TANAL     1    DO A QUICK SCAN OF UNLABELLED OR LABELLED TAPE TO
                GIVE YOU THE MAX AND MIN BLOCKSIZES IN ALL THE FILES
                AND THE NUMBER OF BLOCKS IN THE FILE.

 TAPEL     2    GIVES YOU A QUICK SCAN OF A TAPE AND GIVES INFORMATION
                ON EACH FILE IN AN EASY TO READ FORM. MADE FOR THE
                NOT TOO BRIGHT USER YOU MAY HAVE.

 TAPELZAP  1    ZAP TO FORCE OPERATOR TO REPLY WITH 6 CHARACTER VOL
                SER ON TAPE. DECREASE TAPES WITH VOL=SER=U. MVS/SP1.1

 TAPEMAP   1    YES, THE FAMOUS 'TAPEMAP' PROGRAM IN SOURCE CARD FORM.
                IT IS SURPRISING WHAT YOU CAN DO WITH A DISASSEMBLER
                AND A LOT OF TIME AND PATIENCE.

 TLABEL    1    REPLACES IBM UTILITY 'IEHINIT', IS OPERATOR STARTABLE
                AND WILL ALLOW YOU TO PUT A LABEL TO A TAPE OR JUST
                PUT A TAPEMARK ONTO THE TAPE. (RUNS AUTHORIZED)

 TLPRINT   2    SUBROUTINE USED BY SOME OF THE TAPE UTILITIES TO FORMAT
                A LABEL OF A TAPE.

 ZTDUMPTP  1    GENERALIZED TAPE DUMPING FACILITY. PUT IT IN AN
                AUTHORIZED LIBRARY. VERY POWERFUL. SEE COMMENTS OF
                CODE FOR FULL DETAILS.

 VKILLER   1    SUBTASK FOR TAPEL TO LET YOU DO MULTIPLE TAPEL'S ON
                A NUMBER OF TAPES, THEN IT MAKE IT QUIT, YOU TELL
                KILL TO KILL TAPEL !!!!

 ZTSECURE  1    MAKE SURE NO DATA IS BEYOND THE 2 DOUBLE END OF FILE
                MARKS ON A TAPE. WILL DUMP FIRST 3 BLOCKS AND LAST
                BLOCK OF EVERY FILE. LEAPS OVER DOUBLE END-OF-FILE
                MARKS AND WRITE BINARY PATTERN UNTIL IT HITS REFLECT-
                IVE STRIP.




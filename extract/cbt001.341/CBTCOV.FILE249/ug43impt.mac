SCRIPT/VS 3.0.2: DEVICE 1403N6 CHARS MONO
Ø
∏
∏
∏
∏
                                 Time Sharing Subsystem Option User's G
                                 Time Sharing Subsystem Option User's G
                                 Time Sharing Subsystem Option User's G
∞                                 Time Sharing Subsystem Option User's G
∏
∏
∏
∏

∞                                                  Release 4.3  August,
∏
∏
∏

∞                                                                Marc Sc
∞                                         Bell Communications Research,
∞                                             3 Corporate Place, Room 2C
∞                                                       Piscataway, NJ 0
∞                                                   Telephone:  201-981-
Ø
∏
          TABLE OF CONTENTS
          TABLE OF CONTENTS
          TABLE OF CONTENTS
          TABLE OF CONTENTS
∞          _________________
∏
          INTRODUCTION   . . . . . . . . . . . . . . . . . . . . . . .
          INTRODUCTION   . . . . . . . . . . . . . . . . . . . . . . .
          INTRODUCTION   . . . . . . . . . . . . . . . . . . . . . . .
∞          INTRODUCTION   . . . . . . . . . . . . . . . . . . . . . . .

          CURRENT VERSION  . . . . . . . . . . . . . . . . . . . . . .
          CURRENT VERSION  . . . . . . . . . . . . . . . . . . . . . .
          CURRENT VERSION  . . . . . . . . . . . . . . . . . . . . . .
∞          CURRENT VERSION  . . . . . . . . . . . . . . . . . . . . . .

          ABOUT THIS DOCUMENT  . . . . . . . . . . . . . . . . . . . .
          ABOUT THIS DOCUMENT  . . . . . . . . . . . . . . . . . . . .
          ABOUT THIS DOCUMENT  . . . . . . . . . . . . . . . . . . . .
∞          ABOUT THIS DOCUMENT  . . . . . . . . . . . . . . . . . . . .

          PLANNING FOR TSSO INSTALLATION   . . . . . . . . . . . . . .
          PLANNING FOR TSSO INSTALLATION   . . . . . . . . . . . . . .
          PLANNING FOR TSSO INSTALLATION   . . . . . . . . . . . . . .
∞          PLANNING FOR TSSO INSTALLATION   . . . . . . . . . . . . . .
∞          TSSO Software Prerequisites  . . . . . . . . . . . . . . . .
∞          TSSO Subsystem Console   . . . . . . . . . . . . . . . . . .
∞          TSSO Security Issues   . . . . . . . . . . . . . . . . . . .
∞          Problems or Fixes  . . . . . . . . . . . . . . . . . . . . .
∞          Conclusion   . . . . . . . . . . . . . . . . . . . . . . . .

          INSTALLATION   . . . . . . . . . . . . . . . . . . . . . . .
          INSTALLATION   . . . . . . . . . . . . . . . . . . . . . . .
          INSTALLATION   . . . . . . . . . . . . . . . . . . . . . . .
∞          INSTALLATION   . . . . . . . . . . . . . . . . . . . . . . .

          TSSO PARAMETERS  . . . . . . . . . . . . . . . . . . . . . .
          TSSO PARAMETERS  . . . . . . . . . . . . . . . . . . . . . .
          TSSO PARAMETERS  . . . . . . . . . . . . . . . . . . . . . .
∞          TSSO PARAMETERS  . . . . . . . . . . . . . . . . . . . . . .
∞          MAXCMDS Parameter  . . . . . . . . . . . . . . . . . . . . .
∞          MAXWTO Parameter   . . . . . . . . . . . . . . . . . . . . .
∞          NONSWAP Parameter  . . . . . . . . . . . . . . . . . . . . .
∞          NUMCONS Parameter  . . . . . . . . . . . . . . . . . . . . .
∞          PROMPT Parameter   . . . . . . . . . . . . . . . . . . . . .
∞          RACFID Parameter   . . . . . . . . . . . . . . . . . . . . .
∞          SECLEVEL Parameter   . . . . . . . . . . . . . . . . . . . .
∞          SECSYS Parameter   . . . . . . . . . . . . . . . . . . . . .
∞          SUBSYS Parameter   . . . . . . . . . . . . . . . . . . . . .
∞          System Recognition Character (SRC) Parameter   . . . . . . .
∞          TABLE Parameter  . . . . . . . . . . . . . . . . . . . . . .
∞          TIMEOUT Parameter  . . . . . . . . . . . . . . . . . . . . .
∞          * (Comments) Parameter   . . . . . . . . . . . . . . . . . .
∞          END Parameter  . . . . . . . . . . . . . . . . . . . . . . .

          TSSO START COMMAND OPTIONS   . . . . . . . . . . . . . . . .
          TSSO START COMMAND OPTIONS   . . . . . . . . . . . . . . . .
          TSSO START COMMAND OPTIONS   . . . . . . . . . . . . . . . .
∞          TSSO START COMMAND OPTIONS   . . . . . . . . . . . . . . . .

          THE TSSO OPERATOR PRODUCTIVITY FACILITY  . . . . . . . . . .
          THE TSSO OPERATOR PRODUCTIVITY FACILITY  . . . . . . . . . .
          THE TSSO OPERATOR PRODUCTIVITY FACILITY  . . . . . . . . . .
∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY  . . . . . . . . . .
∞          Overview   . . . . . . . . . . . . . . . . . . . . . . . . .
∞          TSO Commands Under TSSO  . . . . . . . . . . . . . . . . . .
∞          TSSO Control Commands  . . . . . . . . . . . . . . . . . . .
∞          TSO Commands Distributed with TSSO   . . . . . . . . . . . .
∞            The OSCMD Command  . . . . . . . . . . . . . . . . . . . .
∞              Authority Checking with OSCMD  . . . . . . . . . . . . .
∞            The OSWTO and OSWTOH Commands  . . . . . . . . . . . . . .
∞            The OSASK Command  . . . . . . . . . . . . . . . . . . . .
∞            The OSPAUSE Command  . . . . . . . . . . . . . . . . . . .
∞            The OSWAIT Command   . . . . . . . . . . . . . . . . . . .
∞          Using the WRITE Statement in TSSO CLISTs   . . . . . . . . .
∞            *COM Keyword   . . . . . . . . . . . . . . . . . . . . . .
∞            *HI Keyword  . . . . . . . . . . . . . . . . . . . . . . .
∞          Guidelines and Suggestions for Writing CLISTs  . . . . . . .

          TSSO AUTOMATED OPERATIONS FACILITY   . . . . . . . . . . . .
          TSSO AUTOMATED OPERATIONS FACILITY   . . . . . . . . . . . .
          TSSO AUTOMATED OPERATIONS FACILITY   . . . . . . . . . . . .
∞          TSSO AUTOMATED OPERATIONS FACILITY   . . . . . . . . . . . .

∞          Table of Contents
Ø
∏
∞          Introduction   . . . . . . . . . . . . . . . . . . . . . . .
∞          Creating the AOF Table   . . . . . . . . . . . . . . . . . .
∞          TABENTRY Operands  . . . . . . . . . . . . . . . . . . . . .
∞            The Entry-id Operand   . . . . . . . . . . . . . . . . . .
∞            The MSG Operand  . . . . . . . . . . . . . . . . . . . . .
∞            The ACTION Operand   . . . . . . . . . . . . . . . . . . .
∞            The TEXT Operand   . . . . . . . . . . . . . . . . . . . .
∞            The TEST Operand   . . . . . . . . . . . . . . . . . . . .
∞              Notes on the TEST Operand  . . . . . . . . . . . . . . .
∞            The MATCHLIM Operand   . . . . . . . . . . . . . . . . . .
∞            The ECHO Operand   . . . . . . . . . . . . . . . . . . . .
∞          Assembling and Link-Editing the Table  . . . . . . . . . . .
∞          Storing the Module   . . . . . . . . . . . . . . . . . . . .

          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE  . . .
          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE  . . .
          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE  . . .
∞          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE  . . .
∞          Notes on the NCCF Interface  . . . . . . . . . . . . . . . .

          RECOVERY PROCEDURES  . . . . . . . . . . . . . . . . . . . .
          RECOVERY PROCEDURES  . . . . . . . . . . . . . . . . . . . .
          RECOVERY PROCEDURES  . . . . . . . . . . . . . . . . . . . .
∞          RECOVERY PROCEDURES  . . . . . . . . . . . . . . . . . . . .

          Appendix A. TSSO Command Reference   . . . . . . . . . . . .
          Appendix A. TSSO Command Reference   . . . . . . . . . . . .
          Appendix A. TSSO Command Reference   . . . . . . . . . . . .
∞          Appendix A. TSSO Command Reference   . . . . . . . . . . . .

          Appendix B. TSSO Control Commands  . . . . . . . . . . . . .
          Appendix B. TSSO Control Commands  . . . . . . . . . . . . .
          Appendix B. TSSO Control Commands  . . . . . . . . . . . . .
∞          Appendix B. TSSO Control Commands  . . . . . . . . . . . . .
∞          General Commands   . . . . . . . . . . . . . . . . . . . . .
∞          Restricted Commands  . . . . . . . . . . . . . . . . . . . .

          Appendix C. TSSO Processing Modules  . . . . . . . . . . . .
          Appendix C. TSSO Processing Modules  . . . . . . . . . . . .
          Appendix C. TSSO Processing Modules  . . . . . . . . . . . .
∞          Appendix C. TSSO Processing Modules  . . . . . . . . . . . .

          Appendix D. TSSO/AOF Text Processing Algorithm   . . . . . .
          Appendix D. TSSO/AOF Text Processing Algorithm   . . . . . .
          Appendix D. TSSO/AOF Text Processing Algorithm   . . . . . .
∞          Appendix D. TSSO/AOF Text Processing Algorithm   . . . . . .
∞          Definition of Terms  . . . . . . . . . . . . . . . . . . . .
∞          Algorithm  . . . . . . . . . . . . . . . . . . . . . . . . .
∏
∏
∏
∏
∏
∏
∏
∏

∞          Table of Contents
Ø
∏
          LIST OF ILLUSTRATIONS
          LIST OF ILLUSTRATIONS
          LIST OF ILLUSTRATIONS
          LIST OF ILLUSTRATIONS
∞          _____________________
∏
∞          Figure  1. Behavior of CMDRESP in Various Environments   . .
∞          Figure  2. Sample CLIST for OSWAIT.  . . . . . . . . . . . .
∞          Figure  3. CLIST with an Operator Help Procedure Using WRITE
∞          Figure  4. CLIST Using Symbolic Substitution   . . . . . . .
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∞          List of Illustrations
Ø
∏
          INTRODUCTION
          INTRODUCTION
          INTRODUCTION
          INTRODUCTION
∞          ____________
∏
∞          The Time Sharing Subsystem Option (TSSO) is a package designe
∞          increase operator productivity by automating tasks which need
∞          be performed manually. TSSO performs its function  through  t
∞          integrated  components.  The Operator Productivity Facility (
∞          extends the power of TSO to the MVS operator's console.  The
∞          tomated  Operations  Facility  (AOF)  enhances  an installati
∞          ability to control system events based on console  message  t
∞          fic.   An interface to the Network Communication Control Faci
∞          (NCCF) allows the network operator  to  use  TSSO  as  a  com
∞          processor, issuing and receiving operating system commands at
∞          NCCF  terminal.   TSSO also enhances end-user productivity by
∞          lowing end-user access to the MVS command subsystem.  This  d
∞          ment describes the installation of TSSO, TSSO parameters, and
∞          use of the three components.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          INTRODUCTION
Ø
∏
          CURRENT VERSION
          CURRENT VERSION
          CURRENT VERSION
          CURRENT VERSION
∞          _______________
∏
∞          This document describes the function of TSSO Version 4, Relea
∞          (TSSO 4.3).  All features described here will continue to wor
∞          subsequent  versions  of the Time Sharing Subsystem Option un
∞          specified in a future version of this document.  A descriptio
∞          the new features of TSSO Version  4.3  can  be  found  in  me
∞          RELGUIDE in the TSSO.VERS43.ASM data set.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          CURRENT VERSION
Ø
∏
          ABOUT THIS DOCUMENT
          ABOUT THIS DOCUMENT
          ABOUT THIS DOCUMENT
          ABOUT THIS DOCUMENT
∞          ___________________
∏
          The  TSSO User's Guide was created using the Document Composi
∞               _________________
∞          Facility, Release 3.  The TSSO.VERS43.ASM data set  contains
∞          members with different versions of this document.

∞          Member UG43RAW is the raw SCRIPT source, which is best suited
∞          running  on  a 3800 or 3820 page printer.  Use the following
∞          mand to generate copies:

∞            SCRIPT 'TSSO.VERS43.ASM(UG43RAW)' PROFILE(DSMPROF3) TWOPASS
                    DEVICE(device-type) PRINT
∞                           ___________

          where device-type is the logical device type at your location
∞                ___________

∞          Member UG43TERM is a pre-formatted copy suitable for browsing
∞          your terminal.

∞          Member  UG43IMPT  is a pre-formatted copy suitable for dumpin
∞          an impact printer.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          ABOUT THIS DOCUMENT
Ø
∏
          PLANNING FOR TSSO INSTALLATION
          PLANNING FOR TSSO INSTALLATION
          PLANNING FOR TSSO INSTALLATION
          PLANNING FOR TSSO INSTALLATION
∞          ______________________________
∏
∞          Because TSSO has grown in function  and  complexity,  a  plan
∞          section  is  now necessary to describe pre-requisite program
∞          ducts, MVS I/O generation requirements, and security system
          ditioning.    This  section  should  be  reviewed  prior  to
                                                             prior
                                                             prior
∞                                                             prior
∞          installation of TSSO.

∞          TSSO 4.3 was developed for Bellcore internal use  as  part  o
∞          study  on automating the operation of an MVS computer center.
∞          cause the kernal of TSSO was  originally  developed  external
∞          Bellcore, permission was granted to make this new version of
∞          available as public domain, unsupported software. As a public
∞          main  software  package,  TSSO  receives  no  formal support
∞          Bellcore or anyone else.  Therefore, installations that  want
∞          use  TSSO  must be prepared to support it locally as a worst
∞          possibility. Questions, comments or enhancement requests are
∞          ways welcome on an informal, non-committal basis.
∏
          TSSO SOFTWARE PREREQUISITES
          TSSO SOFTWARE PREREQUISITES
          TSSO SOFTWARE PREREQUISITES
          TSSO SOFTWARE PREREQUISITES
∞          ___________________________

∞          The  software  listed below is the minimum version of the pro
∞          product required to run TSSO. In  general,  that  version,  o
∞          later  release,  is sufficient. Also listed is the version of
∞          product run at Bell Communications Research (i.e.,  the  envi
∞          ment on which TSSO 4.3 was developed).

          1.  MVS/SP  1.3.3  or  MVS/XA  2.1.1 is required for the OCCF
              MVS/SP  1.3.3  or  MVS/XA  2.1.1
              MVS/SP  1.3.3  or  MVS/XA  2.1.1
              MVS/SP  1.3.3  or  MVS/XA  2.1.1
∞              ________________________________
∞              hancements to the subsystem interface that allow TSSO/AOF
∞              the OS family of commands to function.  TSSO  4.3  has  n
∞              been  run  on  earlier  MVS  releases.   Bellcore runs MV
∞              2.1.3, and TSSO has also been tested on MVS/SP 1.3.4.

          2.  TSO/E Release 2 is required by the  OS  family  of  comma
              TSO/E Release 2
              TSO/E Release 2
              TSO/E Release 2
∞              _______________
∞              These  commands use CLIST variables for input and output,
∞              require the CLIST enhancements of TSO/E Release 2  to  ac
∞              plish  this. TSO/E is not required if these commands will
∞              be used.  Bellcore runs TSO/E Release 2.1, and TSSO has
∞              been tested with TSO/E Release 2.

          3.  RACF  1.6  is  required for the TSSO/RACF security interf
              RACF  1.6
              RACF  1.6
              RACF  1.6
∞              _________
∞              TSSO has  never  been  run  on  previous  releases  of  R
∞              Bellcore  runs RACF 1.7, and TSSO 4.3 has been tested onl
∞              that environment.

          4.  ACF2 4.1 is the release on which TSSO/ACF2 interface is b
              ACF2 4.1
              ACF2 4.1
              ACF2 4.1
∞              ________
∞              developed.
∏

∞          PLANNING FOR TSSO INSTALLATION
Ø
∏
          TSSO SUBSYSTEM CONSOLE
          TSSO SUBSYSTEM CONSOLE
          TSSO SUBSYSTEM CONSOLE
          TSSO SUBSYSTEM CONSOLE
∞          ______________________

∞          The OSCMD facility allows a TSO CLIST to issue an operating
∞          tem  command  and retrieve the response. This facility requir
∞          subsystem console for every simultaneous caller of OSCMD.  In
∞          dition, an installation may want to dedicate one  subsystem
∞          sole for the TSSO address space.ú To create a subsystem  cons
∞          include  the following card after the "CONSOLE" macros in the
∞          STAGE1 generation deck.

∞            CONSOLE    TYPE=JES

∞          Because TSSO 4.3 can use as many subsystem consoles as are ge
∞          in, it is a good idea to include many  (10-20)  of  these  ca
∞          (Bellcore  has  10  subsystem  consoles  genned in.)   JES3 s
∞          should note that JES3 and TSSO both require  subsystem  conso
          and you specify them accordingly.  An MVS IOGEN must be perfo
                                             An MVS IOGEN must be perfo
                                             An MVS IOGEN must be perfo
∞                                             An MVS IOGEN must be perfo
          to  generate  the  subsystem console. Installations familiar
          to  generate  the  subsystem console. Installations familiar
          to  generate  the  subsystem console. Installations familiar
∞          to  generate  the  subsystem console. Installations familiar
          the "MINIGEN" approach may use this as an alternative.
          the "MINIGEN" approach may use this as an alternative.
          the "MINIGEN" approach may use this as an alternative.
∞          the "MINIGEN" approach may use this as an alternative.
∏
          TSSO SECURITY ISSUES
          TSSO SECURITY ISSUES
          TSSO SECURITY ISSUES
          TSSO SECURITY ISSUES
∞          ____________________

∞          An optional feature of TSSO 4.3 is the ability to secure your
∞          consoles.  Console security requires MVS  operators  to  iden
∞          themselves  before  issuing commands; thus, MVS installations
∞          ways know which operators issue  which  commands.  The  follo
∞          steps  should be taken prior to initializing TSSO with a secu
∞          level other than "minimal".

∞          1.  Provide a RACF user ID for each operator who will be  iss
∞              MVS commands on the system. This includes the master cons
∞              I/O console(s) and user consoles.

∞          2.  Add  a  corresponding user ID to the User Attributes Data
∞              (UADS), and set the USERDATA bits to X'C0' for operators
∞              will  be  invoking the privileged TSSO commands (e.g., RE
∞              OSCMD etc.).  Note that the USERDATA bits  also  control
∞              thority  for  regular  TSO users, and, if the Program Con
∞              Facility (PCF) is installed, the  OSCMD  and  REPLY  comm
∞              must  be  modified  so that PCF and TSSO don't conflict.
∞              "Authority Checking with OSCMD" on page 20 for informatio
∞              the OSCMDATH user exit.

∞          3.  Pick a security level. SECLEVEL=MEDIAL is a good initial
∞              lection,  as operators can get used to the concept of log

∞          øøøøøøøøøøøøøøøø

∞          ú   For  more information on this option, see "NUMCONS Parame
∞              on page 11.

∞          PLANNING FOR TSSO INSTALLATION
Ø
∏
∞              on and logging off of an MVS console. Later, security can
∞              strengthened with SECLEVEL=MAXIMAL.

∞          4.  Select  a  TIMEOUT parameter. This parameter is the numbe
∞              minutes before which an MVS console will  "timeout"  and
∞              quire a new LOGON command.

          5.  As  with the rest of TSSO, operator training is crucial f
                                                              crucial
                                                              crucial
                                                              crucial
∞                                                              _______
∞              successful implementation.  Operators  must  become  fami
∞              with the concepts of security.

∞          6.  ACF2  will  eventually be supported under TSSO.  For the
∞              rent status of this effort, call Jim Lane, 416-926-3076.
∏
          PROBLEMS OR FIXES
          PROBLEMS OR FIXES
          PROBLEMS OR FIXES
          PROBLEMS OR FIXES
∞          _________________

∞          For the current bucket, call Marc Schare at 201-981-2796.
∏
          CONCLUSION
          CONCLUSION
          CONCLUSION
          CONCLUSION
∞          __________

          The remainder of this guide should be read in its entirety be
                                                     in its entirety
                                                     in its entirety
∞                                                     in its entirety
∞          installing TSSO.  Many of the phone calls I've received  on
          were  answered  in the TSSO User's Guide.  Good luck in your
                                 TSSO User's Guide
                                 TSSO User's Guide
                                 TSSO User's Guide
∞                                 _________________
∞          installation !

∞          Marc Schare
∞          Bell Communication Research, Inc.
∞          6 Corporate Place, Room 2C-211
∞          Piscataway, NJ 08854
∞          201-981-2796
∏
∏
∏
∏
∏
∏

∞          PLANNING FOR TSSO INSTALLATION
Ø
∏
          INSTALLATION
          INSTALLATION
          INSTALLATION
          INSTALLATION
∞          ____________
∏
∞          TSSO is distributed in a single partitioned data set, which
∞          tains all source modules, procedures and documentation.  Alth
∞          the  data  set may be called by any name, this document assum
∞          name of TSSO.VERS43.ASM.

∞          1.  Download the TSSO.VERS43.ASM data set to DASD.  About 5
∞              inders  of 3380 space is required.  If you received your
∞              of the TSSO subsystem from the CBT tape, simply copy it t
∞              data  set  with this name.   If you received a tape, then
∞              TSSO subsystem is in IEBCOPY format on the first file.
∞              tape  will  be non-labeled, so use the LABEL=(1,NL) param
∞              when downloading TSSO.

∞          2.  Create two data sets for the TSSO modules with the charac
∞              istics RECFM=U, LRECL=0, BLKSIZE=13030, DSORG=PO.

∞              a.  TSSO.VERS43.LOAD will be an intermediate data set for
∞                  sembling TSSO modules.

∞              b.  SYS1.TSSOLOAD will contain the TSSO production module

∞              One cylinder of 3380 DASD  space  should  be  sufficient
∞              these data sets.

∞              Many users have found it useful to allocate a third data

∞              c.  SYS1.TSSOPROC will contain TSSO CLISTs.  Allocate it
∞                  characteristics    LRECL=255,   BLKSIZE=3140,   RECFM
∞                  DSORG=PO.   Space requirements depend on  the  number
∞                  CLISTs you anticipate creating.

∞          3.  Assemble  the  TSSO source modules using the procedure AS
∞              in TSSO.VERS43.ASM.  You will need to EDIT the procedure
∞              add the appropriate installation job cards and local acco
∞              ing information.

∞              If you will be running the TSSO subsystem on MVS/370, or
∞              MVS/370  and MVS/XA, the SYSLIB DD statement must be poin
∞              to the SYS1.MACLIB and SYS1.AMODGEN data sets for MVS/370
∞              you will be running the subsystem exclusively on MVS/XA,
∞              SYSLIB   DD  statement  may  point  to  the  XA  versions
∞              SYS1.MACLIB and SYS1.AMODGEN.

              Note: If you do not have TSO/E Release 2 installed,  the
              Note:
              Note:
∞              Note:
∞              semblies for OSCMD, OSWAIT, and OSASK will fail.

∞          4.  Copy  the  load  modules  from TSSO.VERS43.LOAD into the
∞              duction library SYS1.TSSOLOAD.  The library  TSSO.VERS43.
∞              should  remain  on  the  system as an intermediate librar
∏
∞          INSTALLATION
Ø
∏
∞              contain assembled TSSO load modules and  assembled  Autom
∞              Operations Facility tables.

∞          5.  If OSCMD, OSWAIT, OSPAUSE, OSWTO, and OSWTOH will be acce
∞              by  TSO  users,  copy  the  modules  from  SYS1.TSSOLOAD
∞              publicly-accessible TSO command library (e;g;, SYS1,CMDLI

∞          6.  Update the SYS1.PARMLIB data set with one or more TSSO pa
∞              eter decks.  The default member is TSSOPARM; however,  al
∞              nate members may be selected when TSSO is started.  Note
              the  TSSO parameter decks must be located in SYS1.PARMLIB
                                        must
                                        must
                                        must
∞                                        ____
∞              TSSO will dynamically allocate this data  set.    Review
∞              section "TSSO PARAMETERS" on page 10 for further informat
∞              A  sample TSSO parameter deck may be found in member SAMP
∞              in TSSO.VERS43.ASM data set.

∞          7.  Identify TSSO to MVS as a subsystem.  Make one of the fol
              ing two entries in the subsystem names table, member IEFS
∞
∞              in SYS1.PARMLIB:

              ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞                                  º                      º
∞              ◊  If you want:     ◊  then make the entry:◊  and:
              ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞              ◊                   ◊                      ◊
∞              ◊  NO JES support   ◊  TSSO                ◊  go to Step
∞              ◊                   ◊                      ◊
∞              ◊  JES support      ◊  TSSO,TSSOINIT       ◊  go to Step
              ®øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞                                  ®                      ®

∞          8.  Copy TSSOINIT from SYS1.TSSOLOAD to SYS1.LINKLIB.

          9.  Include SYS1.TSSOLOAD in the IEAAPFxx member of SYS1.PARM
∞                                                 __
∞              This allows the TSSO subsystem to run APF authorized.

∞          10. Include a TSSO start-up procedure in  the  SYS1.PROCLIB
∞              set.    Note  that, because TSSO may be started by the ma
∞              scheduler, this procedure must be in SYS1.PROCLIB, not  i
∞              PROCLIB  defined  to  JES2.   A sample procedure for star
∞              TSSO is in member TSSOPROC in the TSSO.VERS43.ASM data se

∞          11. Give the TSO commands supplied with TSSO  APF  authorizat
∞              Update   the  installation  CSECT  IKJEFTE2  in  load  mo
∞              IKJEFT02 to include the following commands:   ALTAOF,  CA
∞              CPCMD, REPLY, OSCMD, OSWTO, OSWTOH, OSWAIT, and OSASK.  U
∞              TSO/E Release 2.1, this CSECT is in the load module IKJTA
∞              If  this  release  of  TSO/E is installed, a separate cop
∞              IKJTABLS may be used by TSSO if included in the SYS1.TSSO
∞              data set.

∞          12. Create the TSSO Automated Operations Facility table(s).
∞              structions  for  preparing  the table are found later in
∞              document.

∞          13. Copy the ASMTAB CLIST from the TSSO.VERS43.ASM  data  set
∞              SYS1.TSSOPROC.

∞          INSTALLATION
Ø
∏
∞          14. If you will be running TSSO with RACF support and MINIMAL
∞              curity,  add a RACF ID for TSSO.  Also add a RACF ID for
∞              to SYS1.UADS.  This will allow TSSO to assume the TSO  at
∞              butes  (e.g.  ACCOUNT, SUBMIT or MOUNT) that the installa
∞              desires.  If you will be running with MEDIAL or MAXIMAL s
∞              rity, you may wish to add additional RACF  or  ACF2  and
∞              user IDs for each operator who will be logging on.

∞          15. IPL MVS to refresh the subsystem name table.

∞          16. If  the  OSCMD facility will be used, you must have gener
∞              subsystem consoles as specified in "TSSO  Subsystem  Cons
∞              on  page  5.    TSSO will warn you if the number of subsy
∞              consoles requested is not available at start time.

∞          17. Install the NCCF Interface (optional).   The following  s
∞              are required:

∞              a.  Copy  the  NCFOSCMD module into a library concatenate
∞                  the STEPLIB DD statement in the procedure used  to  s
∞                  NCCF.

∞              b.  Make the following entry in member DSICMD of the data
∞                  defined by the DSIPARM DD statement in the procedure
∞                  to start NCCF:

∞                    OSCMD CMDMDL MOD=NCFOSCMD,TYPE=R,RES=N    TSSO 4.3
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          INSTALLATION
Ø
∏
          TSSO PARAMETERS
          TSSO PARAMETERS
          TSSO PARAMETERS
          TSSO PARAMETERS
∞          _______________
∏
∞          TSSO parameters provide an installation with a flexible mecha
∞          for  altering  TSSO processing.  Parameters are stored as mem
∞          in SYS1.PARMLIB.  The default member is TSSOPARM, and it  is
∞          commended that a TSSOPARM be created for daily processing.

∞          Parameters  can  be  entered in any order, and if two entries
∞          specified for the same parameter, the last  entry  takes  pre
∞          ence.  See the SAMPPARM member of TSSO.VERS43.ASM.
∏
          MAXCMDS PARAMETER
          MAXCMDS PARAMETER
          MAXCMDS PARAMETER
          MAXCMDS PARAMETER
∞          _________________

∞          MAXCMDS  defines  the  maximum number of concurrent commands
∞          TSSO will hold for processing.   TSSO processes commands  in
∞          order  in  which they are entered, on a first in-first out ba
∞          Any commands that are entered while TSSO  is  processing  ano
∞          command  are queued for execution.  The MAXCMDS parameter def
∞          the size of that queue.  Too small a number  is  undesirable
∞          cause  it  is advantageous to be able to enter many TSSO comm
∞          at a time.  Too large a number is also undesirable because it
∞          comes difficult to detect when a TSSO command may be  looping
∞          awaiting terminal input.  The syntax is

            MAXCMDS=nn
∞                    __

          where  nn  defines  the  maximum number of simultaneous TSSO
∞                 __
∞          mands.  Note that TSSO requires 256 bytes for each command in
∞          common service area (CSA).  The default value is 15  simultan
∞          commands.
∏
          MAXWTO PARAMETER
          MAXWTO PARAMETER
          MAXWTO PARAMETER
          MAXWTO PARAMETER
∞          ________________

∞          MAXWTO defines the maximum number of WTOs TSSO will issue for
∞          given  TSO command.  The parameter is designed to prevent con
∞          flooding with TSO commands that produce  many  lines  of  out
∞          The syntax is

            MAXWTO=nnn
∞                   ___

          where  nnn  is the maximum number of WTOs TSSO will allow for
∞                 ___
∞          one command.  TSSO will issue a message when this  limit  is
∞          ceeded.  Default is 250.
∏

∞          TSSO PARAMETERS
Ø
∏
          NONSWAP PARAMETER
          NONSWAP PARAMETER
          NONSWAP PARAMETER
          NONSWAP PARAMETER
∞          _________________

∞          NONSWAP  defines  whether TSSO will run non-swappable.  If "Y
∞          entered, TSSO will issue the appropriate SYSEVENT to MVS  to
∞          clare  itself non-swappable.   Any other entry will cause TSS
          be swapped out whenever it has no work.   This can  cause  se
                                                                     se
                                                                     se
                                                                     se
∞                                                                     __
∞          performance  degradation  when  using the subsystem.  The def
∞          value is "Y".  The syntax is

∞            NONSWAP=[Y/N]

∞          where "Y" will mark the TSSO address space non-swappable.
∏
          NUMCONS PARAMETER
          NUMCONS PARAMETER
          NUMCONS PARAMETER
          NUMCONS PARAMETER
∞          _________________

∞          NUMCONS defines the number of subsystem consoles for the  ins
∞          lation.    Optionally, you may dedicate one subsystem console
∞          the TSSO address space.  The syntax is

            NUMCONS=nn [DEDICATE]
∞                    __

          where nn is the number of consoles.   If DEDICATE  is  specif
∞                __
∞          one  console  will be dedicated for the TSSO address space.
          that at least nn subsystem consoles must have been  generated
∞                        __
∞          the MVS IOGEN prior to starting TSSO.  Default is 1 console,
∞          dedicated.
∏
          PROMPT PARAMETER
          PROMPT PARAMETER
          PROMPT PARAMETER
          PROMPT PARAMETER
∞          ________________

∞          PROMPT  defines  whether or not the operator will be prompted
∞          additional TSSO parameters at start-up time.  The syntax is

∞            PROMPT=[Y/N]

∞          If PROMPT=Y is specified, TSSO will enter prompt mode after p
∞          essing all the parameters in PARMLIB and allow the  MVS  oper
∞          to  enter or override parameters (except security-related par
∞          ters).  For example, if you want a different AOF table used
∞          day,  you would want to be prompted so that you can enter the
∞          BLE parameter.

          Note: Prompt mode may also be specified at start-up  time.
          Note:
          Note:
∞          Note:
∞          the next section for more information.
∏
∏
∞          TSSO PARAMETERS
Ø
∏
          RACFID PARAMETER
          RACFID PARAMETER
          RACFID PARAMETER
          RACFID PARAMETER
∞          ________________

∞          RACFID defines a default RACF ID for the TSSO subsystem, allo
∞          TSSO  to  access  data  sets  with the authority of that RACF
∞          This implies that RACF commands can be entered from the MVS
∞          sole  through  the  use of TSSO.  If the installation has not
∞          stalled the RACF program product, this parameter must be omit
∞          The syntax is

            RACFID=RACF-id
∞                   _______

          where RACF-id is the RACF identifier that TSSO will assume.
∞                _______
∞          parameter has no default. If it is not specified, TSSO will
∞          cute with the default RACF authority.

∞          RACFID   is   dependent   on   the   SECLEVEL   parameter.
∞          SECLEVEL=MINIMAL, then the RACFID authority level applies to
∞          TSO  command issued through TSSO.  If SECLEVEL=MEDIAL or MAXI
∞          then the RACFID authority level applies to CONSOLE 0 and any
∞          command issued from a subsystem console through OSCMD.  Note
∞          TSSO  requires  that  subsystem consoles issuing commands hav
∞          least "SYSTEM" authority.

          CAUTION:   TSSO does not require a password to acquire this
          CAUTION:
          CAUTION:
∞          CAUTION:
∞                     authority,  and  care must be taken to ensure that
∞                     of this parameter does not violate installation  s
∞                     rity standards.

∞          A  recent small programming enhancement (SPE) to the JES2 sub
∞          tem has enhanced TSSO's ability to control production batch
∞          that  may  use RACF-protected data sets.  JES2 will now propa
∞          the RACF ID and group from the current  address  space  for
∞          submitted  through the internal reader.  TSSO can submit jobs
∞          ing the TSO SUBMIT command, and those jobs can  acquire  the
∞          thority of the TSSO address space.
∏
          SECLEVEL PARAMETER
          SECLEVEL PARAMETER
          SECLEVEL PARAMETER
          SECLEVEL PARAMETER
∞          __________________

∞          SECLEVEL  defines  the  security  level of the installation.
∞          syntax is

∞            SECLEVEL=[MINIMAL/MEDIAL/MAXIMAL]

∞               MINIMAL        Default for RACF and TOP SECRET.  The  RA
∞                              parameter is used to determine TSSO's aut
∞                              ity  level.  Therefore, all TSO commands
∞                              execute with TSSO's authority, regardless
∞                              the console's authority level.
∏

∞          TSSO PARAMETERS
Ø
∏
∞               MEDIAL         This  level  requires all consoles using
∞                              to  log  onù  using  the appropriate secu
∞                              system (RACF, TOP SECRET, or ACF2).  All
∞                              set access checking  for  TSSO  commands
∞                              CLISTs is based on the console's logon ID
∞                              thority.    Note  that  this does not inc
∞                              TSSO control commands, which follow a dif
∞                              ent authorization mechanism.

∞               MAXIMAL        This level is extremely  restrictive.
∞                              TSSO is initialized, all consoles must lo
                              using  the  appropriate security system.


∞
                              console that does not log on is locked ou
                              console that does not log on is locked ou
                              console that does not log on is locked ou
∞                              console that does not log on is locked ou
                              all MVS commands.
                              all MVS commands.
                              all MVS commands.
∞                              all MVS commands.
∏
          SECSYS PARAMETER
          SECSYS PARAMETER
          SECSYS PARAMETER
          SECSYS PARAMETER
∞          ________________

∞          SECSYS defines the security system used by the installation.
∞          syntax is

∞            SECSYS=[RACF/ACF2/TOPS]

∞          The default is RACF.
∏
          SUBSYS PARAMETER
          SUBSYS PARAMETER
          SUBSYS PARAMETER
          SUBSYS PARAMETER
∞          ________________

∞          SUBSYS defines subsystem interface exits and  the  routines
∞          will handle the exit functions.  The syntax is

            SUBSYS nn=module-name
∞                   __ ___________

          where nn is the subsystem interface function code and module-
∞                __                                              _______
∞          is  the  name  of the routine that will handle the function.
∞          may specify as many SUBSYS parameters as desired.    However,
∞          there  are multiple entries with the same function code, only
∞          last appearance of the code will be honored.

∞          By default, TSSO includes two SUBSYS entries,  one  for  func
∞          code  9  which intercepts WTO messages (the AOF facility) and
∞          for function code 10 which intercepts operator commands (the
∞          facility).   Therefore, be careful that you do not enter a SU
∞          parameter with code 9 or 10; otherwise, your entries  will  o
∞          ride the defaults and disable the AOF and OPF facilities.

∞          øøøøøøøøøøøøøøøø

∞          ù   Using the #.LOGON command, which will assign each  consol
∞              separate RACFID parameter.

∞          TSSO PARAMETERS
Ø
∏
          SYSTEM RECOGNITION CHARACTER (SRC) PARAMETER
          SYSTEM RECOGNITION CHARACTER (SRC) PARAMETER
          SYSTEM RECOGNITION CHARACTER (SRC) PARAMETER
          SYSTEM RECOGNITION CHARACTER (SRC) PARAMETER
∞          ____________________________________________

∞          SRC  defines  the  character that TSSO will use to recognize
∞          operator commands.  For example, if this character is  "#",
∞          will  intercept and process all operator commands starting wi
∞          "#".  The syntax is

            SRC=char
∞                ____

          where char is the character that TSSO  will  use.    The  def
∞                ____
∞          character is a "#".
∏
          TABLE PARAMETER
          TABLE PARAMETER
          TABLE PARAMETER
          TABLE PARAMETER
∞          _______________

∞          TABLE  defines the name of the TSSO Automated Operations Faci
∞          (AOF) table.  The AOF table contains information used  to  in
∞          cept  and  responding to operating system messages.  (Informa
∞          describing how to create this table is specified  later  in
∞          document.)  There is no default.  If this parameter is not sp
∞          fied,  the  AOF is deactivated.   Note that this table can be
∞          loaded (and AOF activated) at any time with  the  ".RELOAD"
∞          operator command described later.  The syntax is

            TABLE=table-name
∞                  __________

          where table-name is the load module name that contains a TSSO
∞                __________
∞          table.
∏
          TIMEOUT PARAMETER
          TIMEOUT PARAMETER
          TIMEOUT PARAMETER
          TIMEOUT PARAMETER
∞          _________________

∞          TIMEOUT defines the interval after which TSSO will log off an
∞          active console.  The syntax is

            TIMEOUT=nn
∞                    __

          where nn is the maximum number of minutes of inactivity.
∞                __
∏
          * (COMMENTS) PARAMETER
          * (COMMENTS) PARAMETER
          * (COMMENTS) PARAMETER
          * (COMMENTS) PARAMETER
∞          ______________________

∞          The "*" parameter allows an installation to place comments in
∞          TSSO initialization deck.  The line will be ignored by TSSO.
∞          syntax is

            * any-text
∞              ________

∞          TSSO PARAMETERS
Ø
∏
          where  any-text  is any descriptive comments the installation
∞                 ________
∞          want to include in the initialization deck.
∏
          END PARAMETER
          END PARAMETER
          END PARAMETER
          END PARAMETER
∞          _____________

∞          END marks the end of TSSO parameter input. The syntax is

∞            END

∞          with no operands.  If prompt mode was enabled,  the  MVS  con
∞          operator  will  be  prompted for additional TSSO parameters a
∞          the END parameter is processed.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          TSSO PARAMETERS
Ø
∏
          TSSO START COMMAND OPTIONS
          TSSO START COMMAND OPTIONS
          TSSO START COMMAND OPTIONS
          TSSO START COMMAND OPTIONS
∞          __________________________
∏
∞          Start procedures under release 4.3  have  changed  significan
∞          Depending  on how you identified TSSO to MVS (see Step 7. on
∞          8), JES support may or may  not  be  available  automatically
∞          start  time.    If not, you may initialize TSSO with JES by u
          the SUB= operand.  Note that, except for emergencies, you can
                                                                you can
                                                                you can
∞                                                                you can
          longer start TSSO if it is already up.
          longer start TSSO if it is already up.
          longer start TSSO if it is already up.
∞          longer start TSSO if it is already up.

∞          The TSSO start command has the following syntax:

            S TSSO[,PARM='[*][parm-member][PROMPT]'][,SUB=JES2/JES3/MST
∞                              ___________

∞          PARM='*'          Allows you to specify TSSO parametersû  wit
∞                            entering  them  previously  into  SYS1.PARM
∞                            This can be useful in emergency situations;
∞                            example, if you need to enter a parameter o
∞                            one-time  basis,  or  if  you are locked ou
∞                            SYS1.PARMLIB and need to enter a different
∞                            rameter.

∞          PARM='parm-member'  Directs TSSO to use an alternate TSSO par
∞                            ter deck in SYS1.PARMLIB for parameters.
∞                            fault is TSSOPARM.

∞          PARM='PROMPT'     Directs TSSO to prompt the MVS console oper
∞                            for  the name of a member in SYS1.PARMLIB t
∞                            used for  parameters.    After  processing
∞                            named  member,  TSSO  will  also prompt the
∞                            console  operator  for  additional  paramet
∞                            even if the parameter deck specifies PROMPT

∞          SUB=JES2/JES3     Initialize TSSO with JES2 or JES3ü.

                            Note: The  JES subsystem must be up for thi
                            Note:
                            Note:
∞                            Note:
∞                            work.

∞          SUB=MSTR          Initializes TSSO without the primary subsys
∞                            This should be used only if JES won't come

∞          If an emergency restart is necessary, the start command  has
∞          form

            S TSSO,PARM='/[options]'
∞                           _______

          where  options are any of the PARM options listed above.  The
∞                 _______
          must be specified as the first operand.  When a force restart
          must
          must
∞          must

∞          øøøøøøøøøøøøøøøø

∞          û   Except  the security-related parameters SECSYS, SECLEVEL,
∞              RACFID.

∞          TSSO START COMMAND OPTIONS
Ø
∏
∞          curs, the inactive TSSO address space may  be  cancelled.
∞          that  the  inactive  TSSO  does not relinquish its subsystem
∞          soles, and, therefore, it is not advisable to  force  start
∞          unless absolutely necessary.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∞          øøøøøøøøøøøøøøøø

∞          ü   Although  TSSO has not been tested extensively using the
∞              product, the interfaces should be the same because TSSO
∞              standard subsystem interface calls.

∞          TSSO START COMMAND OPTIONS
Ø
∏
          THE TSSO OPERATOR PRODUCTIVITY FACILITY
          THE TSSO OPERATOR PRODUCTIVITY FACILITY
          THE TSSO OPERATOR PRODUCTIVITY FACILITY
          THE TSSO OPERATOR PRODUCTIVITY FACILITY
∞          _______________________________________
∏
          OVERVIEW
          OVERVIEW
          OVERVIEW
          OVERVIEW
∞          ________

∞          The  TSSO Operator Productivity Facility (OPF) is a powerful
∞          which, in conjunction with the Automated Operations Facility,
∞          automate many procedures that currently must  be  done  manua
∞          OPF extends the power of TSO to the MVS operator's console by
∞          lowing  TSO  commands  and CLISTS to be executed from an MVS
∞          sole, with the response going back to the invoking console.
∞          includes all TSO functions which use  standard  interfaces  (
∞          the  exceptions  noted below) and control functions unique to
∞          TSSO environment that alter TSSO options and display TSSO  in
∞          mation.

∞          OPF also allows TSO users to issue MVS commands and get respo
∞          returned  to  the  terminal or to CLIST variables.  TSO users
∞          usually restricted to INFO console authority.    (See  "Autho
∞          Checking with OSCMD" on page 20.)
∏
          TSO COMMANDS UNDER TSSO
          TSO COMMANDS UNDER TSSO
          TSO COMMANDS UNDER TSSO
          TSO COMMANDS UNDER TSSO
∞          _______________________

∞          Most TSO commands may be run under control of the TSSO subsys
∞          The requirements for such commands are as follows:

∞          1.  The command must use standard TSO interfaces (namely, GET
∞              and  PUTLINE) to perform I/O.  The command should not req
∞              input of any kind other than normal TSO command parameter

          2.  The command should not attempt to use full screen process
              The command should not attempt to use full screen process
              The command should not attempt to use full screen process
∞              The command should not attempt to use full screen process
∞              A command that issues  the  STFSMODE  FULLSCRN=YES  macro
∞              ACF/VTAM environments can hang the TSSO subsystem, forcin
∞              to be cancelled.

          3.  The  command  should be tested under batch TSO before run
                                      tested under batch TSO
                                      tested under batch TSO
                                      tested under batch TSO
∞                                      ______________________
∞              it under TSSO, since TSO assumes that TSSO-initiated comm
              are running in background mode.
                             background
                             background
                             background
∞                             __________
∏
          TSSO CONTROL COMMANDS
          TSSO CONTROL COMMANDS
          TSSO CONTROL COMMANDS
          TSSO CONTROL COMMANDS
∞          _____________________

∞          TSSO supports a number of commands that are not directed  to
∞          TMP  for execution.  These commands are handled directly by T
∞          and are used to alter or query TSSO processing options.  See
∞          pendix B. TSSO Control Commands" on page 57 for more informat
∏
∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
          TSO COMMANDS DISTRIBUTED WITH TSSO
          TSO COMMANDS DISTRIBUTED WITH TSSO
          TSO COMMANDS DISTRIBUTED WITH TSSO
          TSO COMMANDS DISTRIBUTED WITH TSSO
∞          __________________________________

∞          A number of TSO commands that are designed to run with  the
∞          subsystem  are distributed with the base code.  TSO commands
∞          primarily from CLISTs include the "OS family" and the REPLY
∞          mand.  These are designed to provide services such as communi
∞          ing  with  the  MVS  operator  and  issuing  messages  to the
∞          console, communicating with the MVS command subsystem, and co
∞          nicating with programs that have issued WTORs.   Applications
∞          these  commands  are described below.  Figure 1 on page 20 su
∞          rizes the behavior of OSCMD with the CMDRESP variable in  dif
∞          ent  environments.   Members EXJOBS, EXCKSPL,, EXSTVTAM and E
∞          in data set TSSO.VERS43.ASM illustrate the OS family in some
∞          ful CLISTs.

∞          Other commands are provided as auxiliary TSO command  process
∞          These  include  the  CACHE  command  for  controlling 3880-21
∞          3880-23 cache devices, the LINKLIST command  for  displaying
∞          system  LNKLST  concatenation, and the VOLSER and VALLOC comm
∞          for displaying UCB information for DASD devices.  Also, the C
∞          command allows an MVS console operator running in a  virtual
∞          chine under VM/SP, VM/SP HPO or the VM/XA systems facility to
∞          sue CP commands and get the response back to the console invo
∞          the command.

∞          A  complete description of TSO commands may be found in "Appe
∞          A. TSSO Command Reference" on page 38.
∏
          The OSCMD Command
          The OSCMD Command
          The OSCMD Command
          The OSCMD Command
∞          _________________

∞          OSCMD allows you to issue any MVS  command  (JES2,  VTAM,  et
∞          OSCMD is most useful when issued from a CLIST, where the resp
∞          is returned to CLIST variables.  The CLIST can be designed to
∞          nipulate  these  variables  to  produce readable responses to
∞          user.  For example, the JES command $DN queries the status of
∞          jobs on the system.  The output from $DN  could  be  filtered
∞          that  the  information will be printed only for certain job n
∞          (member EXJOBS in TSSO.VERS43.ASM).

∞          The syntax of OSCMD is

            OSCMD mvs-cmd
∞                  _______

          where mvs-cmd is any MVS command.   Through  the  CLIST  vari
∞                _______
∞          CMDRESP,  OSCMD  can  determine  the destination of a command
∞          sponse based on its origin.
∏
∏
∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
∞          ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞          ◊
          ◊ ENVIRONMENT  LEGAL VALUES FOR CMDRESP       AUTHORITY CHECK
            ENVIRONMENT  LEGAL VALUES FOR CMDRESP       AUTHORITY CHECK
            ENVIRONMENT  LEGAL VALUES FOR CMDRESP       AUTHORITY CHECK
∞            ENVIRONMENT  LEGAL VALUES FOR CMDRESP       AUTHORITY CHECK
∞          ◊
∞          ◊ TSSO CLIST   - CLIST                        Based on invoki
∞          ◊              - NOWHERE                      console
∞          ◊              - If not defined, value is
∞          ◊                assumed to be CLIST
∞          ◊                (if MAXCMDOUT > 0) or
∞          ◊                NOWHERE (if MAXCMDOUT = 0).
∞          ◊                This is included for
∞          ◊                compatibility with previous
∞          ◊                releases.
∞          ◊
∞          ◊ TSO CLIST    - TERM                         Based on OSCMDA
∞          ◊              - CLIST                        user exit
∞          ◊              - NOWHERE
∞          ◊              - If not defined, OSCMD
∞          ◊                assumes NOWHERE
∞          ◊
∞          ◊ TSO terminal - TERM                         Based on OSCMDA
∞          ◊                                             user exit
∞          ◊
∞          ◊ Figure 1.  Behavior of CMDRESP in Various Environments
∞          ®øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø

          ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞                        º
∞          ◊ If CMDRESP= ◊ then the response will be:
          ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞          ◊             ◊
∞          ◊             ◊
∞          ◊ TERM        ◊ returned to the TSO user's terminal
∞          ◊             ◊
∞          ◊ CLIST       ◊ returned to CLIST variables (see OSCMD in
∞          ◊             ◊ "Appendix A. TSSO Command Reference" on page
∞          ◊             ◊
∞          ◊ NOWHERE     ◊ discarded (TSO users) or
          ◊             ◊ returned to the console (TSSO-initiated comma
∞
∞          ◊             ◊
          ®øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞                        ®

∞          Input and output variables are described  in  "Appendix  A.
∞          Command Reference" on page 38.
∏
          Authority Checking with OSCMD
          Authority Checking with OSCMD
          Authority Checking with OSCMD
∞          Authority Checking with OSCMD

∞          Because  OSCMD allows a TSO user to issue any MVS command, st
∞          security must be enforced to prevent unauthorized users from
∞          suing   dangerous   system   commands.      When  issued  fro
∞          TSSO-initiated CLIST, OSCMD checks the authority of the  invo
∞          console  and only permits commands of that level.  When issue

∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
∞          a TSO user, the OSCMDATH user exit checks  the  installation
∞          thority  of  the  user's  ID.    By  default,  all TSO users
∞          INFO-only authority as defined in the MVS system operations
∞          ual.  Other authority levels (system, I/O, master) can be def
∞          through  the  OSCMDATH user exit.  This exit allows the insta
∞          tion to code a routine to determine the MVS command  group  l
∞          for  a TSO user.  Full authority can be granted on a per-user
∞          sis.µ
∏
          The OSWTO and OSWTOH Commands
          The OSWTO and OSWTOH Commands
          The OSWTO and OSWTOH Commands
          The OSWTO and OSWTOH Commands
∞          _____________________________

∞          OSWTO and OSWTOH allow you to write messages to the operator
∞          sole.  OSWTOH highlights the message.  The syntax of the comm
∞          is

            OSWTO message
∞                  _______
            OSWTOH message
∞                   _______

          where message is the text of the message issued.  Members EXJ
∞                _______
∞          EXCKSPL, EXSTVTAM, and EXASK in TSSO.VER43.ASM  illustrate  t
∞          commands.
∏
          The OSASK Command
          The OSASK Command
          The OSASK Command
          The OSASK Command
∞          _________________

∞          OSASK  allows  you  to  ask the operator a question and get a
∞          sponse.  If it is issued from a TSO command  line,  the  resp
∞          goes  to the user's terminal.  However, like OSCMD, OSASK is
∞          useful when issued from a CLIST, where the response  is  retu
∞          to  CLIST  variables which can then be manipulated.  So that
∞          is not delayed too long for an operator reply, the  maximum
∞          time   is  60  seconds,  after  which  the  default  response
∞          "NOREPLY".

∞          The syntax of OSASK is

            OSASK question
∞                  ________

∞          Input and output variables are described  in  "Appendix  A.
∞          Command  Reference"  on page 38.  Member EXASK in TSSO.VERS43
∞          illustrates OSASK with an interactive help procedure.
∏
∞          øøøøøøøøøøøøøøøø

∞          µ   "Authorized users" are those with X'C0' in the PSCBATR2 f
∞              of the User Attributes Data Set.  This can be set through
∞              USERDATA operand of the CHANGE subcommand of ACCOUNT.

∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
          The OSPAUSE Command
          The OSPAUSE Command
          The OSPAUSE Command
          The OSPAUSE Command
∞          ___________________

∞          OSPAUSE is used to delay CLIST execution for a  specified  nu
∞          of  seconds.  This is useful if the CLIST any time the CLIST
∞          wait for an event.  Member EXSTVTAM in TSSO.VERS43.ASM  shows
∞          example  of  a  CLIST that initiates a started task and must
∞          for it to initialize.
∏
          The OSWAIT Command
          The OSWAIT Command
          The OSWAIT Command
          The OSWAIT Command
∞          __________________

∞          OSWAIT directs TSSO to wait for a particular system message o
∞          timeout limit to occur before proceeding.  These messages are
∞          fined  in  the AOF table.  OSWAIT is intended to be issued fr
∞          CLIST.

∞          OSWAIT provides many automation opportunities that were (in
∞          vious  versions  of TSSO) too cumbersome to develop.  OSWAIT
∞          not need to run from the TSSO address space.  In theory,  an
∞          stallation  may  have  many  OSWAIT events outstanding at any
∞          time in different TSO or batch address spaces.   For  example
∞          simple job scheduler can be coded as a CLIST using the OSWAIT
∞          OSCMD  facilities.   The CLIST can then be run under control
∞          batch TMP in a separate address space.

∞          The syntax of OSWAIT is

            OSWAIT ENTRY(entry-id) TIMEOUT(nnnnn)
∞                         ________          _____

          where entry-id is the 1- to 8-character identifier of the AOF
∞                ________
          ble entry; and nnnnn is the number of second to wait before t
∞                         _____
∞          out, maximum 86400 seconds.   For example, Figure 2  on  page
∞          shows  a  CLIST  that  will start a job, wait for the job to
∞          plete, and purge the job.

∞          See "Appendix A. TSSO Command Reference" on page 38 for more
∞          formation on OSWAIT.
∏
          USING THE WRITE STATEMENT IN TSSO CLISTS
          USING THE WRITE STATEMENT IN TSSO CLISTS
          USING THE WRITE STATEMENT IN TSSO CLISTS
          USING THE WRITE STATEMENT IN TSSO CLISTS
∞          ________________________________________

∞          In  previous  releases of TSSO, operator commands and highlig
∞          messages could only be issued using the WRITE statement with
∞          *COM and *HI keywords.  These facilities still work under rel
∞          4.3,  and  CLISTs  written with them can be used unaltered.
∞          ever, note that the difference between these facilities  and
∞          commands OSCMD, OSWTO, OSWTOH, and OSPAUSE is that TSSO proce
          *COM  and  *HI  directives after the CLIST has completed, whe
                                     after
                                     after
                                     after
∞                                     _____
          the TSSO commands will be executed immediately.  Care must th
                                             immediately
                                             immediately
                                             immediately
∞                                             ___________

∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
∞          ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞          ◊
∞          ◊   PROC 0
∞          ◊   /********************************************************
∞          ◊   /*  This clist will start a job, wait for its completion,
∞          ◊   /*  and purge the job.
∞          ◊   /********************************************************
∞          ◊
∞          ◊   OSCMD S MYJOB
∞          ◊   OSWAIT ENTRY(MYJOBEND)    TIMEOUT(60)
∞          ◊   OSWTO MYJOB HAS ENDED ...
∞          ◊   OSCMD $P'MYJOB'
∞          ◊   EXIT
∞          ◊
∞          ◊
∞          ◊
∞          ◊ The CLIST above used the AOF table entry
∞          ◊
∞          ◊ MYJOBEND TABENTRY MSG=IEF404I,ACTION=POST,
∞          ◊          TEST=((W,2,5,'MYJOB',' '))
∞          ◊
∞          ◊
∞          ◊ Figure 2.  Sample CLIST for OSWAIT.
∞          ®øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø

∞          fore be taken in designing CLISTs with *COM and *HI, because
∞          TSO  commands  in  the CLIST are executed before any MVS comm
∞          are issued by TSSO.

∞          The  *COM  and  *HI  facilities  are   available   only   thr
∞          TSSO-initiated CLISTs.
∏
          *COM Keyword
          *COM Keyword
          *COM Keyword
          *COM Keyword
∞          ____________

∞          The *COM keyword used in the WRITE statements also enables yo
∞          issue  MVS commands.   When an output line in the SYSTSPRT ou
∞          stream (the output from the TSO command or CLIST) begins with
∞          keyword "*COM", TSSO will execute the remainder of that state
∞          as an MVS operator command.  The syntax of  this  extended  W
∞          statement is

            WRITE *COMnnn oscmd
∞                      _________
∏
∏
∏

∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
∞               where

               nnn     is  a  delay factor directing TSSO to delay nnn
∞               ___                                                 ___
∞                       onds after processing the command.   This is  us
∞                       when  operating  system commands have a time dep
∞                       ency on each other.

               oscmd   is an MVS operator command to be executed.  The
∞               _____
∞                       mand could be an MVS command, JES command,  or
                       another TSSO command.  Note that the command wil
                                                        the command wil
                                                        the command wil
                                                        the command wil
∞                                                        _______________
                       executed with the authority of the console that
                       executed with the authority of the console that
                       executed with the authority of the console that
                       executed with the authority of the console that
∞                       ________________________________________________
                       ginally invoked the TSSO command.
                       ginally invoked the TSSO command.
                       ginally invoked the TSSO command.
                       ginally invoked the TSSO command.
∞                       _________________________________
∏

          *HI Keyword
          *HI Keyword
          *HI Keyword
          *HI Keyword
∞          ___________

∞          The  *HI  keyword allows you to write highlighted messages on
∞          MVS console.  The syntax is

            WRITE *HI message
∞                      _______

          where message is the message to be highlighted on  the  MVS
∞                _______
∞          sole.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
          GUIDELINES AND SUGGESTIONS FOR WRITING CLISTS
          GUIDELINES AND SUGGESTIONS FOR WRITING CLISTS
          GUIDELINES AND SUGGESTIONS FOR WRITING CLISTS
          GUIDELINES AND SUGGESTIONS FOR WRITING CLISTS
∞          _____________________________________________

∞          1.  CLISTs  can  be used to write operator HELP procedures to
∞              MVS console.  This is demonstrated in Figure 3 on page 26

∞          2.  The REPLY command is useful in CLISTS to automate operati
∞              procedures with products that  communicate  to  the  oper
∞              through  the  WTOR interface (e.g., NCCF and IMS).  For e
∞              ple, if numerous NCCF commands are to be executed, these
∞              be executed in a TSSO CLIST using the REPLY command with
∞              sage  ID DSI802A. See the description of the REPLY comman
∞              "Appendix A. TSSO Command Reference" on page 38.

∞          3.  Comments may be placed at the end of MVS commands because
∞              treats them as MVS command comments.   However,  JES2  tr
∞              CLIST  comments  as data and tries to use them in forming
∞              command.  Therefore, do not place CLIST comments on JES2
∞              mands; place them on the lines following the  command.
∞              example,  the  following  CLIST  is  invalid because it w
∞              produce an invalid JES2 command.

∞          øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø

∞                PROC 0
∞                OSCMD $TEXIT6,ENABLE        /* ENABLE THE EXIT */
∞                EXIT

∞          øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø

∞              This situation is remedied in MVS/SP JES2 Release  1.3.6
∞              MVS/XA JES2 Release 2.1.5.

∞          4.  Symbolic  substitution can be used in TSSO CLISTS as show
∞              Figure 4 on page 26.

∞          5.  Since operations personnel will be using OPF, the recomme
∞              tion is to allow them to write their own CLISTS.

∞          6.  TSSO CLISTS are invoked in the same fashion as TSSO comma
∞              The normal TSO search sequence is followed.  The  recomme
∞              tion  is to allocate a SYS1.TSSOPROC data set and allocat
∞              to DDNAME SYSPROC in the TSSO bringup deck. The SYSPROC
∞              set  may  also be dynamically allocated through the TSO A
∞              CATE command. Lastly, the TSO EXEC command may be used to
∞              ecute TSSO CLISTS.

∞          7.  Use OSWTOH and WRITE *HI with caution. Do not highlight
∞              sages unless their importance warrants it, because your o
∞              ations  staff  will learn to ignore highlighted messages,
∞              this can be harmful to your overall system operations.
∏

∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
∞          ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞          ◊
∞          ◊   PROC 0
∞          ◊   /********************************************************
∞          ◊   /* This CLIST will provide HELP information to the      *
∞          ◊   /* operator on the current status of the NJE LINES      *
∞          ◊   /* between JES2 systems                                 *
∞          ◊   /********************************************************
∞          ◊   WRITE NJE LINK BETWEEN A and B is line 12
∞          ◊   WRITE NJE LINK BETWEEN A and C is line 16
∞          ◊   WRITE NJE LINK BETWEEN B and C is line 20
∞          ◊   WRITE NJE LINK BETWEEN C and A is line 19
∞          ◊   WRITE NJE LINK BETWEEN C and B is line 24
∞          ◊   WRITE NJE LINK BETWEEN B and A is line 13
∞          ◊   WRITE
∞          ◊   WRITE This list is current as of January 3, 1985. For mor
∞          ◊   WRITE assistance, contact Alan Grossman at extension 5555
∞          ◊   EXIT CODE(0)
∞          ◊
∞          ◊
∞          ◊ Figure 3.  CLIST  with  an  Operator  Help  Procedure   Usi
∞          ◊            WRITE:  Note  that  OSWTO is the preferred comma
∞          ◊            for CLISTs.
∞          ®øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∏

∞          ˆøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∞          ◊
∞          ◊   PROC 2 UNIT VOLSER USE()
∞          ◊   /*****************************************/
∞          ◊   /* This CLIST will mount MVS volumes     */
∞          ◊   /* using a command in operator friendly  */
∞          ◊   /* syntax. Note the optional USE         */
∞          ◊   /* parameter.                            */
∞          ◊   /*****************************************/
∞          ◊   OSCMD VARY &UNIT,ONLINE
∞          ◊   IF &USE = THEN +
∞          ◊   DO
∞          ◊           OSCMD MOUNT &UNIT,VOL=(SL,&VOLSER)
∞          ◊   END
∞          ◊   ELSE +
∞          ◊   DO
∞          ◊           OSCMD MOUNT &UNIT,VOL=(SL,&VOLSER),USE=&USE
∞          ◊   END
∞          ◊   OSWTOH MNT001I VOLUME &VOLSER NOW MOUNTED ON &UNIT
∞          ◊   OSCMD D U,,,&UNIT,1
∞          ◊   EXIT
∞          ◊
∞          ◊
∞          ◊ Figure 4.  CLIST Using Symbolic Substitution
∞          ®øøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøøø
∏
∞          THE TSSO OPERATOR PRODUCTIVITY FACILITY
Ø
∏
          TSSO AUTOMATED OPERATIONS FACILITY
          TSSO AUTOMATED OPERATIONS FACILITY
          TSSO AUTOMATED OPERATIONS FACILITY
          TSSO AUTOMATED OPERATIONS FACILITY
∞          __________________________________
∏
          INTRODUCTION
          INTRODUCTION
          INTRODUCTION
          INTRODUCTION
∞          ____________

∞          A high percentage of MVS commands are issued in response to
∞          tem  or subsystem messages, and these responses are predeterm
∞          by the contents of the messages.  The TSSO  Automated  Operat
∞          Facility  (AOF) frees the MVS console operator from routine t
∞          by automating responses to system messages.    AOF  is  a  ta
∞          driven  monitor  that  intercepts messages and carries out on
∞          four actions:  suppresses, highlights, or lowlights the  mess
∞          or  issues  an  MVS, JES2 or subsystem command.  Because AOF
∞          not require the services of the TSSO address space, any numbe
∞          messages can be processed simultaneously.

∞          There are three steps required to install this facility; brie

∞          1.  Create the AOF table.

∞          2.  Assemble and link-edit the table into load module format.

∞          3.  Store the module in SYS1.TSSOLOAD.

∞          These steps are described in detail below.

∞          Note that the table can be updated at any time.   Also,  you
∞          create  multiple  tables,  although  only  one can be active
∞          time.  Multiple tables may be useful so that  different  sets
∞          commands  can be used at different times (e.g., first, second
∞          third shifts).  You can change the active table in three ways

∞          1.  By changing the TABLE= parameter in the parameter  deck;
∞              new table will be available the next time TSSO is brought

∞          2.  By  dynamically  reloading the table with the "#.RELOAD"
∞              mand; the new table will be available immediately.

∞          3.  By resetting the MATCHLIM parameter of any entry in  the
∞              tive  AOF  table  with  the  ALTAOF command; the new MATC
∞              value will be effective immediately.
∏
∏
∏
∏

∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
          CREATING THE AOF TABLE
          CREATING THE AOF TABLE
          CREATING THE AOF TABLE
          CREATING THE AOF TABLE
∞          ______________________

∞          There are three macros required to create the table:  TABSTAR
∞          start the table, TABENTRY to specify  actions  on  messages,
∞          TABEND to end the table.

∞          TABSTART  is  always  the  first  macro and can be specified
∞          once.  It takes the form

            loadname TABSTART ID=table-id
∞            ________             ________

          where loadname is the name of this TSSO table and table-id is
∞                ________                                    ________
          eye-catching name to identify the table in a dump.  table-id
∞                                                              ________
          also be displayed on the DISPAOF and .Q T commands.  The load
∞                                                                   ____
          label is used as the CSECT name and must be used as the load
∞                                              ____
∞          ule name.

∞          TABEND is always the last macro, signifying the end of the ta
∞          TABEND  must be present; otherwise, unpredictable things may
∞          pen, none of them pleasant.

∞          TABENTRY  macros  are  entered  between  TABSTART   and   TAB
∞          TABENTRY  macros  generate  entries in the AOF table and take
∞          form

            entry-id TABENTRY MSG=msg-id,ACTION=action[,TEXT='operator-
∞            ________              ______        ______        _________
                                                      [,TEXT=(condition
∞                                                              _________
                                                      [,MATCHLIM=n]
∞                                                                 _
∞                                                      [,ECHO=[YES/NO/LO

∞          A sample AOF table, demonstrating most  of  the  capabilities
∞          TSSO/AOF  and  all  forms  of  the  TABENTRY  macro,  is  in
∞          TSSO.VERS43.ASM data set in member AOFIVP.
∏
          TABENTRY OPERANDS
          TABENTRY OPERANDS
          TABENTRY OPERANDS
          TABENTRY OPERANDS
∞          _________________
∏
          The Entry-id Operand
          The Entry-id Operand
          The Entry-id Operand
          The Entry-id Operand
∞          ____________________

          Entry-id is a 1- to 8-character identifier  for  each  AOF  t
∞          ________
∞          entry.  The ID allows you to identify entries by name rather
∞          position  in  the  table  to  the  commands  OSWAIT, DISPAOF,
∞          ALTAOF.
∏
∏

∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
          The MSG Operand
          The MSG Operand
          The MSG Operand
          The MSG Operand
∞          _______________

∞          MSG identifies an MVS, JES2, or subsystem message as  defined
          MVS/XA  System  Messages  (GC28-1376  and  -1377)  or its MVS
          MVS/XA  System  Messages
          MVS/XA  System  Messages
          MVS/XA  System  Messages
∞          ________________________
          equivalent.  msg-id is the first seven or eight characters of
∞                       ______
          console message.  msg-id may also be an asterisk (*), which
∞                            ______
∞          match on all console messages.  MSG=* is useful with the TEST
∞          erand described later.
∏
          The ACTION Operand
          The ACTION Operand
          The ACTION Operand
          The ACTION Operand
∞          __________________

∞          The  following actions may be taken in response to the identi
∞          message:

          1.  Suppress (i.e., do not print) the  message  at  the  cons
              Suppress (i.e., do not print) the  message  at  the  cons
              Suppress (i.e., do not print) the  message  at  the  cons
              Suppress (i.e., do not print) the  message  at  the  cons
∞              _________________________________________________________
∞              The macro takes the form

                entry-id TABENTRY MSG=msg-id,ACTION=SUPPRESS
∞                ________              ______

          2.  Highlight  the  message  at the console.   This is useful
              Highlight  the  message  at the console.
              Highlight  the  message  at the console.
              Highlight  the  message  at the console.
∞              ________________________________________
∞              highlighting important messages.  The macro takes the for

                entry-id TABENTRY MSG=msg-id,ACTION=HILIGHT
∞                ________              ______

          3.  Lowlight the message at the console.  This reverses  the
              Lowlight the message at the console.
              Lowlight the message at the console.
              Lowlight the message at the console.
∞              ____________________________________
∞              tensity  of  MVS messages that are automatically highligh
∞              The macro takes the form

                entry-id TABENTRY MSG=msg-id,ACTION=LOWLIGHT
∞                ________              ______

          4.  Reply to a Write to Operator with Reply (WTOR) message.
              Reply to a Write to Operator with Reply (WTOR) message
              Reply to a Write to Operator with Reply (WTOR) message
              Reply to a Write to Operator with Reply (WTOR) message
∞              ______________________________________________________
∞              macro takes the form

                entry-id TABENTRY MSG=msg-id,ACTION=REPLY,TEXT='reply-t
∞                ________              ______                   ________

              where reply-text is the text of the reply; TSSO will auto
∞                    __________
              ically format the reply message as R msg-no,reply-text.
∞                                                   __________________
              that msg-id must be a WTOR message.
∞                   ______

          5.  Issue  an  operator  command in response to a message and
              Issue  an  operator  command in response to a message and
              Issue  an  operator  command in response to a message and
              Issue  an  operator  command in response to a message and
∞              _________________________________________________________
              tract part of the message to use in the command.   The  m
              tract part of the message to use in the command
              tract part of the message to use in the command
              tract part of the message to use in the command
∞              _______________________________________________
∞              takes the form

                entry-id TABENTRY MSG=msg-id,ACTION=OSCMD,TEXT='operato
∞                ________              ______                   ________

              operator-cmd  can  be an MVS command, JES2 command, TSSO
∞              ____________
∞              mand, or TSSO CLIST.   Rules for coding  TEXT  are  descr
∞              later.
∏

∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
          6.  Print  an operator command at the console rather that exe
              Print  an operator command at the console rather that exe
              Print  an operator command at the console rather that exe
              Print  an operator command at the console rather that exe
∞              _________________________________________________________
              it. This allows you to test an operator command that  res
              it.
              it.
              it.
∞              ___
∞              from  a  TABENTRY  before executing it.   The macro takes
∞              form

                entry-id TABENTRY MSG=msg-id,ACTION=OSCMDT,TEXT='operat
∞                ________              ______                    _______

∞              The rules are the same as for OSCMD above.

          7.  Post a "waiting task" that a message occurred.
              Post a "waiting task" that a message occurred.
              Post a "waiting task" that a message occurred.
              Post a "waiting task" that a message occurred.
∞              ______________________________________________

                entry-id TABENTRY MSG=msg-id,ACTION=POST
∞                ________              ______

∞              Posting supports the OSWAIT command (see "The OSWAIT Comm
∞              on page 22).
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
          8.  Carry out the specified action if and  only  if  the  mes
              Carry out the specified action if and  only  if  the  mes
              Carry out the specified action if and  only  if  the  mes
              Carry out the specified action if and  only  if  the  mes
∞              _________________________________________________________
              meets  certain  conditions, such as matching a particular
              meets  certain  conditions,
              meets  certain  conditions,
              meets  certain  conditions,
∞              ___________________________
∞              name.  To do this, include the TEST operand in your  TABE
∞              macro as follows:

                entry-id TABENTRY MSG=msg-id,ACTION=actionTEST=(conditi
∞                ________              ______        ______      _______
                                  [TEXT='operator-cmd']
∞                                         ____________

              where condition tests portions of the message by substrin
∞                    _________
∞              word.  Rules for coding the TEST operand are described la

              Note:       TEXT can only be used if ACTION=OSCMD, OSCMDT
              Note:
              Note:
∞              Note:
∞              REPLY.

∞          There is no limit on the number of TABENTRY macros  that  may
          specified  in  a given AOF table. Note that TSSO will process



∞
∞          of the entries in the TSSO/AOF table for every WTO or  WTOR
∞          sage.   This implies that multiple ACTION= operands may be sp
          fied for the same msg-id, by specifying multiple TABENTRY mac
∞                            ______
∞          TSSO does not stop processing one ACTION= directive, but  con
∞          ues until the end of the table.
∏
          The TEXT Operand
          The TEXT Operand
          The TEXT Operand
          The TEXT Operand
∞          ________________

∞          The  OSCMD action allows you to specify an operator command t
∞          performed in response to a particular message.   Optionally,
∞          may  select one or more portions of the message to include in
          command.  entry-id This is useful for extracting a data set n
∞                    ________
∞          job name, or other variable information from a message and em
∞          ding it in the command  to  be  executed.    The  two  format
∞          options  in the TEXT parameter allow you to extract this info
∞          tion by substring or by word.

∞          To select information by substring, use the format

            \Snnn,yy\
∞              ______

          where nnn is the starting character position and yy is the nu
∞                ___                                        __
∞          of characters to select.  For example, suppose you want to re
∞          the text of /*MESSAGE cards whenever they are encountered in
∞          job stream.  JES2 issues a $HASP104 message, and you want to
∞          ture  characters  1  through  72 of the card.  Thus, the TABE
∞          would look like this:

            entry-id TABENTRY MSG=$HASP104,ACTION=OSCMD,             X
∞            ________
∞                     TEXT='#RECMSG MSG(''\S001,72\'')

          Note that nnn must be left-padded with zeroes.
∞                    ___

∞          To select information by word, use the format
∏
∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
            \Wabcdnn\
∞              ______

          where a, b, c, and d define the word separator characters, an
∞                ________     _
∞          identifies the word's position.  A word can be a  maximum  of
∞          characters.  For example, given the message

∞            IEF176I WTR 1A4 WAITING FOR WORK ...

∞          you might want to purge the writer 1A4 with the command

∞            PURGE 1A4

∞          To  do this, you want to extract the third word from the mess
∞          which identifies the external writer name.   Thus,  the  TABE
∞          macro would look like this:

            entry-id TABENTRY MSG=IEF176I,ACTION=OSCMD,TEXT='PURGE \W
∞            ________

∞          Note that if you do not need to define four separator charact
          you must pad the field with blanks.  Also, nn must be left-pa
∞                                                     __
∞          with a zero.

∞          Multiple "S" and "W" options can be used in one TEXT operand.
∞          AOF  detects an error in the TEXT parameter as a result of a
∞          W option, a message is issued and processing is terminated.
∏
          The TEST Operand
          The TEST Operand
          The TEST Operand
          The TEST Operand
∞          ________________

∞          The TEST operand allows you to respond selectively to message
∞          "testing" the text.  For example, when payroll jobs complete,
∞          may want to highlight the message, whereas  you  want  to  ig
∞          other  job  completion messages.   The TEST operand allows yo
∞          match on message text by substring or word.

∞          To match by substring, use the format

            (S,nnn,yy,'literal-string')
∞               _______________________

          where you want to find the character string literal-string st
∞                                                      ______________
          ing in character position nnn for a length of yy characters.
∞                                    ___                 __
          example, (S,32,07,'PAYROLL') would look for PAYROLL in  chara
                   (S,32,07,'PAYROLL')
                   (S,32,07,'PAYROLL')
∞                   (S,32,07,'PAYROLL')
∞          positions 32 through 38.

∞          To match by word order, use the format

            (W,nn,yy,'literal-string','abcd')
∞               _____________________________

          where  you  want  to  find the character string literal-strin
∞                                                          _____________
          word number nn with a word length of yy characters; and a, b,
∞                      __                       __                 _____
          and  d  define  the  word  separator  characters.    For exam
∞               _
∏
∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
          (W,03,07,'PAYROLL',', ') would look for PAYROLL as the third
          (W,03,07,'PAYROLL',', ')
          (W,03,07,'PAYROLL',', ')
∞          (W,03,07,'PAYROLL',', ')
∞          with seven characters separated by blanks or commas.

∞          Thus, the whole TABENTRY macro for our example could be eithe

            entry-id TABENTRY MSG=$HASP395,ACTION=HILITE,        X
∞            ________
∞                     TEST=((S,32,07,'PAYROLL'))

∞          or

            entry-id TABENTRY MSG=$HASP395,ACTION=HILITE,        X
∞            ________
∞                     TEST=((W,03,07,'PAYROLL',' ,'))

∞          It is possible to test on all WTO or WTOR messages by  specif
∞          MSG=*.   For example, if you want to highlight all JES end-of
∞          messages, you would test for a first word of $HASP and  a  se
∞          word (i.e., job name) of ENDOFDAY.  The TABENTRY macro would
∞          like this:

            entry-id TABENTRY MSG=*,ACTION=HILIGHT,             X
∞            ________
∞                     TEST=((W,1,5,'$HASP',' '),(W,2,7,'ENDOFDAY'))

∞          MSG=*  is  also  useful  when  testing  for  message IDs that
∞          greater than 8 characters or for message IDs  in  a  non-stan
∞          format (e.g., messages for MODEL 204 applications).
∏
          Notes on the TEST Operand
          Notes on the TEST Operand
          Notes on the TEST Operand
∞          Notes on the TEST Operand

          1.    Each  TEST  condition, as well as the entire TEST param
                Each  TEST  condition, as well as the entire TEST param
                Each  TEST  condition, as well as the entire TEST param
∞                Each  TEST  condition, as well as the entire TEST param
              list, must be enclosed in parentheses.
              list, must be enclosed in parentheses.
              list, must be enclosed in parentheses.
∞              list, must be enclosed in parentheses.

∞          2.  There are multiple way to do the same test, as shown  in
∞              examples  above.  However, it is generally easier to matc
∞              words rather than substrings.

∞          3.  "Logical and" and "logical or" test conditions  can  be
∞              structed with the TEST operand.

∞              a.  To  construct a "logical and", specify all the condit
∞                  to be met in one TEST operand:

                    TEST=((condition1),(condition2),(condition3))
∞                           ____________________________________

∞              b.  To construct a "logical or",  specify  multiple  TABE
∞                  macros  with  the same MSG, ACTION, and TEXT operands
∞                  with different TEST operands:
∏
∏

∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
                    TABENTRY MSG=msg-id,ACTION=action,TEST=((condition1
∞                                 ______        ______

                    TABENTRY MSG=msg-id,ACTION=action,TEST=((condition2
∞                                 ______        ______

                    TABENTRY MSG=msg-id,ACTION=action,TEST=((condition3
∞                                 ______        ______

∞          4.  When using the TEST operand, TABENTRY  macros  can  be  q
∞              lengthy.   To continue a macro on the next line, enter an
∞              in column 72.   Since the TABENTRY  macro  follows  the
∞              ventions  for  the IBM assembler language, the next line
∞              continuation must start in column 16. Note that blank cha
∞              ters are not permitted, except if they are  inside  quota
∞              marks.

∞          5.  The first word in the message is usually the message ID.
∞              first  column  position is the first character in the mes
∞              ID.
∏
          The MATCHLIM Operand
          The MATCHLIM Operand
          The MATCHLIM Operand
          The MATCHLIM Operand
∞          ____________________

∞          MATCHLIM specifies the  maximum  number  of  times  a  partic
∞          action can be executed.  When the MATCHLIM value is exceeded,
∞          AOF  table entry is ignored.  Note that the MATCHLIM value ma
∞          reset with the ALTOF command.

∞          For example, if VTAM crashes, you may want TSSO to  issue  a
∞          start  command  immediately but you also want to limit the nu
∞          of restarts in the event VTAM has a serious problem that  is
∞          solved by a restart.  The following entry will restart VTAM u
∞          three times after it goes inactive.

            entry-id TABENTRY MSG=1ST002I,ACTION=OSCMD,             X
∞            ________
∞                     TEXT='START NETWORK',ECHO=YES,MATCHLIM=3
∏
          The ECHO Operand
          The ECHO Operand
          The ECHO Operand
          The ECHO Operand
∞          ________________

∞          Specifying  ECHO=YES  will  echo the command or reply of the
∞          operand to the console before the action is executed.  Specif
∞          ECHO=LOG will echo the command or reply in the system log.
∞          provides  a  level  of  TSSO  accountability.    The  default
∞          ECHO=YES.
∏
∏
∏
∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
          ASSEMBLING AND LINK-EDITING THE TABLE
          ASSEMBLING AND LINK-EDITING THE TABLE
          ASSEMBLING AND LINK-EDITING THE TABLE
          ASSEMBLING AND LINK-EDITING THE TABLE
∞          _____________________________________

∞          Release 4.3 provides a sample  CLIST  for  assembling  and  l
∞          editing the TSSO AOF table.  The CLIST makes the job of placi
∞          new  AOF  table in production less cumbersome.  You will prob
∞          need to modify ASMTAB for your installation.  Its syntax is

            ASMTAB table-name [RELOAD]
∞                   __________

∞          The CLIST can assemble a moderately sized  table,  link-edit
∞          result,  and copy the resulting load module into SYS1.TSSOLOA
∞          about  10  seconds.    The  RELOAD  parameter  will   issue
∞          TSSO #.RELOAD command upon successful assembly and link-edit.

∞          Alternately,  you can submit a batch job similar to the sampl
∞          the TSSO.VERS43.ASM data set, member ASMTABLE.  You may tailo
∞          copy of this data set to your specifications as follows:

∞          1.  Include the appropriate installation-dependent informatio
∞              the JOB card.

∞          2.  Change the SYSIN DD card to point to your AOF table.

∞          3.  Change  the load library name in the LKED.SYSLMOD step to
∞              of your choice (e.g., TSSO.VERS43.LOAD).

∞          4.  Change the NAME statement in the linkage editor control c
∞              to match the label on the TABSTART macro in your AOF tabl

          Note that the Assembler parameters RENT and NOALIGN must be p
                                                              must
                                                              must
                                                              must
∞                                                              ____
∞          ent.

∞          A return code of 0 indicates that the assembly was successful

          WARNING:       Under no circumstances attempt to load a table
          WARNING:       Under no circumstances attempt to load a table
          WARNING:       Under no circumstances attempt to load a table
∞          WARNING:       Under no circumstances attempt to load a table
                       either  the  assembly  or link return codes are
                       either  the  assembly  or link return codes are
                       either  the  assembly  or link return codes are
∞                       either  the  assembly  or link return codes are
                       zero.
                       zero.
                       zero.
∞                       zero.
∏
          STORING THE MODULE
          STORING THE MODULE
          STORING THE MODULE
          STORING THE MODULE
∞          __________________

∞          When the table assembly is successful, copy the load module
∞          TSSO.VERS43.LOAD   (or   the   appropriate  data  set)  into
∞          SYS1.TSSOLOAD data set.  To activate the new AOF table,  use
∞          procedures as described previously in this document.
∏
∏

∞          TSSO AUTOMATED OPERATIONS FACILITY
Ø
∏
          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE
          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE
          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE
          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE
∞          _____________________________________________________
∏
∞          The  Network Communication Control Facility (NCCF) is an IBM
∞          gram  product  that  provides  network  control  in  ACF/VTAM
∞          ACF/TCAM  environments.  Through the addition of an OSCMD com
∞          processor, NCCF allows a network operator to issue MVS, JES2,
∞          subsystem  commands  and to retrieve responses at the NCCF te
∞          nal.  The NCCF version of OSCMD is a completely  separate  en
∞          from  the  TSO  version.   The command installs directly into
∞          NCCF load library, or a concatenated data set, and is defined
∞          NCCF in the DSICMD member of the NCCF parameter data set.
∏
          NOTES ON THE NCCF INTERFACE
          NOTES ON THE NCCF INTERFACE
          NOTES ON THE NCCF INTERFACE
          NOTES ON THE NCCF INTERFACE
∞          ___________________________

∞          ¯   The  NCCF  and  TSO  versions of OSCMD share the same poo
∞              subsystem consoles.  When defining the NUMCONS parameter
∞              "NUMCONS Parameter" on page 11) it is important  to  cons
∞              the number of simultaneous NCCF users that will be using
∞              facilities.

          ¯   Although OSCMD runs with APF authority, NCCF does not req
∞                                                           ________
∞              APF  authorization  with this facility.   TSSO grants APF
∞              thorization to the NCCF version of OSCMD  through  MVS  c
∞              memory  services.  The operator command #.Q XMEM monitors
∞              cross memory service environment.  A debug option display
∞              message  when  the  NCCF version of OSCMD has called the
∞              cross memory services routine.

∞          ¯   TSSO assumes that all NCCF users are authorized to issue
∞              master  console commands.  The NCFOSATH user exit is prov
∞              for coding a routine to alter  the  default.    The  exit
∞              passed the NCCF user identifier.

∞          ¯   The  TSSO/NCCF  OSCMD  facility fully supports the NCCF R
∞              command.  This allows remote operators to route MVS, JES2
∞              subsystem commands to remote systems and to retrieve the
∞              sponses.   This facility makes it possible for an operato
∞              control (or at least monitor) many MVS hosts  from  one
∞              console.
∏
∏
∏
∏
∞          TSSO NETWORK COMMUNICATION CONTROL FACILITY INTERFACE
Ø
∏
          RECOVERY PROCEDURES
          RECOVERY PROCEDURES
          RECOVERY PROCEDURES
          RECOVERY PROCEDURES
∞          ___________________
∏
∞          TSSO  operates  as a proper subsystem under MVS. Because of t
∞          it can run without support of a Job Entry Subsystem  or  comm
∞          cations  subsystem.   Therefore, TSSO will initialize even if
∞          or VTAM will not.  Through the use of several command process
∞          TSSO provides facilities for repairing critical MVS files or
∞          modules in the event a subsystem does not initialize.

          The EF command allows the MVS console  operator  to  perform
              EF
              EF
∞              EF
∞          edit  commands  on the file allocated to DDNAME "EDITFILE".
∞          DDNAME could have been pre-allocated through  the  ALLOCATE
∞          mand.  The syntax of the EF command is

            EF (;cmd1;cmd2;cmd3...;cmdn)
∞                 ______________________

          where cmd1 ...cmdn are TSO EDIT commands.
∞                ____________

          The PDS command∂ allows you to rename, delete or otherwise ma
              PDS
              PDS
∞              PDS
∞          ulate members of a partitioned data set.  The PDS command  of
∞          a  wide range of facilities and can be used to recover from a
∞          riety of subsystem problems.  You are encouraged to obtain a
∞          of the PDS command (Version 7.3) from the  Connecticut  Bank
∞          Trust (CBT) mods tape.

∞          Lastly, you can also use the standard TSO facilities, such as
∞          ALLOCATE  command,  to correct JCL or other initialization er
∞          in major subsystems.  The full range of TSO commands  are  av
∞          able to assist in problem resolution.
∏
∏
∏
∏
∏
∏

∞          øøøøøøøøøøøøøøøø

∞          ∂   A  public  domain TSO facility rewritten by Bruce Leland
∞              Cambridge Systems.

∞          RECOVERY PROCEDURES
Ø
∏
          APPENDIX A. TSSO COMMAND REFERENCE
          APPENDIX A. TSSO COMMAND REFERENCE
          APPENDIX A. TSSO COMMAND REFERENCE
          APPENDIX A. TSSO COMMAND REFERENCE
∞          __________________________________
∏
∞          This  appendix describes the TSO command processors that are
∞          tributed with  TSSO.    Unless  otherwise  noted,  these  com
∞          processors can be issued by TSO users as well as the TSSO sub
∞          tem.    The  commands  are  documented one-to-a-page for easy
∞          sertion into existing operator procedure books.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          ALTAOF                  TSSO User's Guide                  AL
∏
          Name:  ALTAOF
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               ALTOAF dynamically resets the MATCHLIM value for a given
∞               table entry.  Note that resetting the MATCHLIM  value  t
∞               effectively deletes the entry.

               Note:       The ALTAOF command requires the user ID invo
               Note:
               Note:
∞               Note:
∞               the command  to  have  the  X'C0'  bits  turned  on  in
∞               USERDATA(PSCBATR2)  field  in their UADS entry.  This ca
∞               accomplished through the USERDATA parameter of the CHANG
∞               ADD subcommand of ACCOUNT.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

            ALTAOF ENTRY(entry-id) MATCHLIM(matchlim-value)
∞                        __________          ______________
∞                                       or
                                      MLIM(matchlim-value)
∞                                           ______________

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               entry-id         A 1- to 8-character ID for a TSSO/AOF t
∞               ________
∞                                entry for which the MATCHLIM value will
∞                                changed.

               matchlim-value   New MATCHLIM value.
∞               ______________

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.   Reset  the  MATCHLIM value to 4 for the lab
               Example 1.
               Example 1.
∞               Example 1.
∞                            "VTAMUP" entry in the active AOF table.

∞                              ALTAOF ENTRY(VTAMUP) MATCHLIM(4)

               Example 2.   Delete the labeled "OFFLINE" entry in  the
               Example 2.
               Example 2.
∞               Example 2.
∞                            tive AOF table.

∞                              ALTAOF ENTRY(OFFLINE) MATCHLIM(0)
∏
∏
∏
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          CACHE                   TSSO User's Guide                   C
∏
          Name:  CACHE
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               The   CACHE  command  controls  the  operation  of  3880
∞               3880-21, 3880-13 or 3880-23 cache devices from the MVS
∞               sole.    As distributed by IBM, software support for con
∞               of these devices is contained in the IDCAMS  program  av
∞               able  with  MVS;  the MVS console operator cannot contro
∞               even query the device.   The CACHE command  will  format
∞               IDCAMS  command,  attach IDCAMS, and write the results u
∞               the PUTLINE interface.  When issued under  TSSO,  these
∞               sults are then displayed on the MVS console.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 CACHE cache-device [action] [SUBSYS] [LEGEND]
∞                       ____________  ______

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               cache-device   A 3-digit UCB address or a 6-character vo
∞               ____________
∞                              serial.

               action         Action to be performed by the CACHE comma
∞               ______

∞                              ON       Format  the  appropriate IDCAMS
∞                                       mand (SETCACHE) to  turn  the  c
∞                                       unit on.

∞                              OFF      Format  the  appropriate IDCAMS
∞                                       mand (SETCACHE) to  turn  the  c
∞                                       unit off.

∞                              LIST     Format  a  LISTDATA  command to
∞                                       cache statistics (e.g., READ hit
∞                                       tio).

∞                              STATUS   (default) Provide  information
∞                                       cerning  the  current  status of
∞                                       cache device.

∞               SUBSYS         Provide information about the entire 3350
∞                              3380 string.

∞               LEGEND         Provide  a  verbose Description of the fo
∞                              of the IDCAMS output.  (This is probably
∞                              appropriate for display at the console.)

          Issuing Other IDCAMS Commands with CACHE
          Issuing Other IDCAMS Commands with CACHE
          Issuing Other IDCAMS Commands with CACHE
∞          Issuing Other IDCAMS Commands with CACHE
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          CACHE                   TSSO User's Guide                   C
∏
∞               There  are  some  commands that you may want to issue to
∞               cache controller through IDCAMS that are  not  supported
∞               this command.  For these occasions, an alternate form of
∞               CACHE command is provided.

                      CACHE * CMD('idcams-cmd')
∞                                   __________

               where  idcams-cmd  is  any command accepted by IDCAMS.
∞                      __________
∞               can be a cache command, such as BINDDATA, or a command
∞               has nothing to do with cache devices, such as LISTC.

               NOTE:  To  issue  these  commands under a TSO session, f
               NOTE:
               NOTE:
∞               NOTE:
∞                      execute the CLIST ALOCCACHE in TSSO.VERS43.ASM to
∞                      locate the needed data sets.

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Turn on the cache device for the volume  at
               Example 1.
               Example 1.
∞               Example 1.
∞                           263.

∞                             CACHE 263 ON

               Example 2.  Turn off volume JESSPL to the cache device.
               Example 2.
               Example 2.
∞               Example 2.

∞                             CACHE JESSPL OFF

               Example 3.  Turn volume PGMPRO on to the cache device.
               Example 3.
               Example 3.
∞               Example 3.

∞                             CACHE PGMPRO ON

               Example 4.  Print  status  information  for the cache de
               Example 4.
               Example 4.
∞               Example 4.
∞                           covering volume PGMPRO.

∞                             CACHE PGMPRO

               Example 5.  Print status information for all volumes cov
               Example 5.
               Example 5.
∞               Example 5.
∞                           by the cache device covering volume PGMPRO.

∞                             CACHE PGMPRO SUBSYS

               Example 6.  Print statistics for the  cache  device  at
               Example 6.
               Example 6.
∞               Example 6.
∞                           265.

∞                             CACHE 265 LIST

               Example 7.  Issue  the  IDCAMS  LISTC command and return
               Example 7.
               Example 7.
∞               Example 7.
∞                           reply to the invoking console.

∞                             CACHE * CMD('LISTC')
∏
∏
∞          Appendix A. TSSO Command Reference
Ø
∞          CPCMD                   TSSO User's Guide                   C
∏
          Name:  CPCMD
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               The CPCMD command allows the MVS operator of a  virtual
∞               chine  to  issue  CP commands on a VM/SP, VM/SP HPO or V
∞               system.   Any CP command of  the  appropriate  CP  privi
∞               class  is allowed.   The response of the command is retu
∞               to the invoking console.  Note that this command  will
∞               function under TSO and return the response to the CP com
∞               to the invoking TSO user.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 CPCMD cp-cmd
∞                       ______

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               cp-cmd    Any VM CP command.
∞               ______

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Issue  the CP QUERY NAMES command and return
               Example 1.
               Example 1.
∞               Example 1.
∞                           response to the invoking console.

∞                             CPCMD QUERY NAMES

               Example 2.  Direct VM to attach the device  at  3F0  to
               Example 2.
               Example 2.
∞               Example 2.
∞                           virtual  machine configuration at virtual de
∞                           3F0.

∞                             CPCMD ATTACH 3F0 * 3F0

∞                           Note that the device must also be varied on-
∞                           by the MVS operator.   The MVS  virtual  mac
∞                           would  need command privilege class "B" to i
∞                           this command.
∏
∏
∏
∏
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          DISPAOF                 TSSO User's Guide                 DIS
∏
          Name:  DISPAOF
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               The DISPAOF command displays the contents of TSSO/AOF ta
∞               which control the operation of the TSSO Automated Operat
∞               Facility.  The DISPAOF command can query either  the  ac
∞               TSSO/AOF table or a table that has been assembled and is
∞               siding  on  DASD.   By default, DISPAOF will display all
∞               tries in  the  running  TSSO/AOF  table.    The  informa
∞               displayed  includes  the  TSSO/AOF table name, ID parame
∞               date and time assembled, and TSSO version number.  For
∞               message displayed, the table entry ID, MSG ID, ACTION di
∞               tive  and  ACTION  TEXT will be displayed.   TEST condit
∞               will not be displayed unless the TEST  parameter  is  sp
∞               fied.    Optionally,  the display can be limited to sele
∞               message IDs.

∞               Information about alternate TSSO/AOF tables can be displ
               by using the table-name parameter.   Alternate  tables
∞                            __________
∞               previously  have  been  assembled and placed (in load mo
∞               form) into the SYS1.TSSOLOAD dataset.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 DISPAOF [ENTRY(entry-id)] [MSG(msg-id)]
∞                                ________
                         [TABLE(table-name)] [TEST]
∞                                __________

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

∞               ENTRY(entry-id)     A 1- to 8-character ID of  a  AOF  t
∞                                   entry.    Note that DISPAOF will dis
                                   all entries that start  with  the  e
                                   all
                                   all
∞                                   all
∞                                   identifier;  an  exact  match is not
∞                                   quired (see examples).

∞               MSG(msg-id)         A 1- to 8-character  message  identi
∞                                   specified in the TSSO/AOF TABENTRY m
∞                                   MSG  parameter.   Note that DISPAOF
                                   display all entries that start with
                                           all
                                           all
∞                                           all
∞                                   message  identifier;  an  exact matc
∞                                   not required (see examples).

∞               TABLE(table-name)   An alternate TSSO AOF table name.
∞                                   table  must  previously have been as
∞                                   bled and available to TSSO.

∞               TEST                For each message, display any TEST
∞                                   ditions that exist.
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          DISPAOF                 TSSO User's Guide                 DIS
∏
          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Display the running TSSO/AOF table with all
               Example 1.
               Example 1.
∞               Example 1.
∞                           sage IDs, action directives, and action text

∞                             DISPAOF

               Example 2.  Display  all entries in the running TSSO/AOF
               Example 2.
               Example 2.
∞               Example 2.
∞                           ble with a message ID of $HASP395.

∞                             DISPAOF MSG($HASP395)

               Example 3.  Display all entries and all test  conditions
               Example 3.
               Example 3.
∞               Example 3.
∞                           the running AOF table for message ID $HASP35

∞                             DISPAOF MSG($HASP350) TEST

               Example 4.  Display  all entries and all test conditions
               Example 4.
               Example 4.
∞               Example 4.
∞                           message IKT021D in load module AOFNEW.

∞                             DISPAOF MSG(IKT021D) TABLE(AOFNEW) TEST

               Example 5.  Display all entries  in  the  active  AOF  t
               Example 5.
               Example 5.
∞               Example 5.
∞                           starting with "VTAMUP".

∞                             DISPAOF ENTRY(VTAMUP)

               Example 6.  Display  all  entries  in  the  active AOF t
               Example 6.
               Example 6.
∞               Example 6.
∞                           with a message ID starting with "$HASP".

∞                             DISPAOF MSG($HASP)
∏
∏
∏
∏
∏
∏
∏
∏
∞          Appendix A. TSSO Command Reference
Ø
∞          LINKLIST                TSSO User's Guide                LINK
∏
          Name:  LINKLIST
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               The LINKLIST command displays the list of the data  sets
∞               the  current MVS LNKLST concatenation.  This command is
∞               valid in an MVS/XA environment, because the  information
∞               not available in MVS/370.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

∞                 LINKLIST
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          OSASK                   TSSO User's Guide                   O
∏
          Name:  OSASK
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               OSASK  allows  you  to ask the operator a question and g
∞               response.  If it is issued from a TSO command line, the
∞               sponse  goes to the user's terminal.  If it is issued fr
∞               CLIST, the response goes to CLIST variables (see below).

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 OSASK question
∞                       ________

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               question    Question to be sent to the operator's consol
∞               ________

          CLIST Variables
          CLIST Variables
          CLIST Variables
          CLIST Variables
∞          _______________

               Input Variables             Definition
               Input Variables             Definition
               Input Variables             Definition
               Input Variables             Definition
∞               _______________   ____________________

∞               REPLYWAIT         The number of seconds you are  willing
∞                                 wait  for  a  reply to the question.
∞                                 can be a value from 1 to  60;  default
∞                                 60.

               Output Variables            Definition
               Output Variables            Definition
               Output Variables            Definition
               Output Variables            Definition
∞               ________________  ____________________

∞               REPLY             Text of the reply to the question.

∞               REPLYW            The  number of words in the operator's
∞                                 ply.

               REPLYWn           The nth word of the reply.
∞                                     _

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Ask the operator a question.
               Example 1.
               Example 1.
∞               Example 1.

∞                             OSASK WHAT TIME IS SHUTDOWN?

               Example 2.  Ask the operator to specify type  of  start
               Example 2.
               Example 2.
∞               Example 2.
∞                           production system.

∞                             OSASK BCR001I SPECIFY START FOR PROD SYS (
∏
∏
∞          Appendix A. TSSO Command Reference
Ø
∞          OSCMD                   TSSO User s Guide                   O
∏
          Name:  OSCMD
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               OSCMD  allows  you  to  issue  any  MVS command (JES2, V
∞               etc.).  If it is issued from a TSO  command  line,  the
∞               sponse  is returned to the terminal.  If it is issued fr
∞               CLIST, the response can optionally go to the CLIST varia
∞               (see below).   Note  that,  when  OSCMD  is  issued  fro
∞               TSSO-initiated  CLIST, OSCMD checks the authority of the
∞               voking console and only  permits  commands  of  that  le
∞               When issued by a TSO user, OSCMD checks the installation
∞               thority  of  the user's ID.   By default, all TSO users
∞               INFO-only authority; system or I/O authority can be  gra
∞               on  a  per-user basis.   The installation can control ac
∞               through the OSCMDATH user exit.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 OSCMD mvs-cmd
∞                       _______

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               os-cmd      Any MVS command.
∞               ______

          CLIST Variables
          CLIST Variables
          CLIST Variables
          CLIST Variables
∞          _______________

               Input Variables                    Definition
               Input Variables                    Definition
               Input Variables                    Definition
               Input Variables                    Definition
∞               _______________          ____________________

∞               CMDRESP=dest             Destination of OSCMD response:

∞                                        CLIST     return response to  C
∞                                                  variables (see below)

∞                                        TERM      return  response  to
∞                                                  user's terminal

∞                                        NOWHERE   discard the response
∞                                                  users) or return resp
∞                                                  to                con
∞                                                  (TSSO-initiated comma

∞               CMDWAIT=nn               Maximum  number  of seconds you
∞                                        willing to wait for the command
                                        finish.    nn  is a value from
∞                                                   __
∞                                        60; default is 1 for nonCLIST
∞                                        cution.    If  the CMDWAIT valu
∞                                        exceeded,  the  only  response
∞                                        turned  will be an echo of the
∞                                        ginal OSCMD.   If TSSO  can  de

∞          Appendix A. TSSO Command Reference
Ø
∞          OSCMD                   TSSO User s Guide                   O
∏
∞                                        the   end  of  a  command  resp
∞                                        (e.g.,  responses  using   MLWT
∞                                        then  OSCMD  will  not need to
∞                                        the full value of CMDWAIT.

∞               MAXCMDOUT=nnn            Maximum number of lines of resp
∞                                        you want returned from the comm
                                        nnn is a value from 1 to  200;
∞                                        ___
∞                                        fault  is  200  for  nonCLIST
∞                                        cution.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∞          Appendix A. TSSO Command Reference
Ø
∞          OSCMD                   TSSO User s Guide                   O
∏
               Output Variables              Definition
               Output Variables              Definition
               Output Variables              Definition
               Output Variables              Definition
∞               ________________    ____________________

∞               CMDOUT              The number of lines returned in the
∞                                   sponse.

               CMDOUTm             The  mth  line returned in the respo
∞                                        _
                                   m is a value from 1 to 200.
∞                                   _
∞                                   NOTE:  CMDOUT1 is always an echo of
∞                                   original command.

               CMDOUTmW            The  number  of words in the mth lin
∞                                                                _
∞                                   the response.

               CMDOUTmWn           The mth line, the nth word  in  the
∞                                       _             _
                                   sponse line.  n is a value from 1 to
∞                                                 _

          Examples
          Examples
          Examples
          Examples
∞          ________

∞               See    members    EXJOBS,    EXCKSPL,    and   EXSTVTAM
∞               TSSO.VERS43.ASM.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          OSPAUSE                 TSSO User's Guide                 OSP
∏
          Name:  OSPAUSE
          Name:
          Name:
          Name:
∞          _____

          Description
          Description
          Description
          Description
∞          ___________

∞               OSPAUSE delays processing of a  command  for  the  speci
∞               number  of seconds.  This is useful if the CLIST initiat
∞               started task and must wait for it to initialize.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 OSPAUSE seconds
∞                         _______

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               seconds   The number of seconds that the CLIST should be
∞               _______
∞                         layed.

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Delay the CLIST 10 seconds.
               Example 1.
               Example 1.
∞               Example 1.

∞                             OSPAUSE 10
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∞          Appendix A. TSSO Command Reference
Ø
∞          OSWAIT                  TSSO User's Guide                  OS
∏
          Name:  OSWAIT
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               OSWAIT directs TSSO to wait for a particular system  mes
∞               or  a  timeout limit to occur before proceeding.  These
∞               sages are defined in the AOF table.  OSWAIT is  intended
∞               be issued from a CLIST.

∞               If  the  message  appears,  OSWAIT  gives a return code
∞               (RC=0).  If OSWAIT was issued from a terminal,  the  mes
∞               prints  at the terminal.  Otherwise, the CLIST variables
∞               populated (see below).  If the message does  not  appear
∞               the timeout limit, OSWAIT gives a return code of 8 (RC=8

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 OSWAIT ENTRY(entry-id) TIMEOUT(nnnnn)
∞                              ________          _____

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               entry-id  The  1- to 8-character identifier of the AOF t
∞               ________
∞                         entry.

               nnnnn     The number of second to wait before timeout, m
∞               _____
∞                         mum 86400 seconds.

          CLIST Variables
          CLIST Variables
          CLIST Variables
          CLIST Variables
∞          _______________

               Output Variables              Description
               Output Variables              Description
               Output Variables              Description
               Output Variables              Description
∞               ________________    _____________________

∞               WTO                 Text of the message

∞               WTOW                Number of words in the message

∞               WTOWn               Nth word of the message

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Wait 2 minutes for message IST020I to appear
               Example 1.
               Example 1.
∞               Example 1.

∞                             OSWAIT ENTRY(IST020I) TIME(120)
∏
∏
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          OSWTO and OSWTOH        TSSO User's Guide        OSWTO and OS
∏
          Name:  OSWTO and OSWTOH
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               OSWTO and OSWTOH allow you to write messages to  the  op
∞               tor's  console.   OSWTOH highlights the message.  These
∞               mands can be issued only from a TSSO-initiated CLIST.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 OSWTO message
∞                       _______

                 OSWTOH message
∞                        _______

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               message     The text of the message to be sent to the op
∞               _______
∞                           tor.

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Notify the operator of an IPL in progress.
               Example 1.
               Example 1.
∞               Example 1.

∞                             OSWTO BCR101I AUTOMATED IPL IN PROGRESS

               Example 2.  Send a highlighted message to the operator.
               Example 2.
               Example 2.
∞               Example 2.

∞                             OSWTOH BCR102I SYSTEM SHUTDOWN COMPLETE
∏
∏
∏
∏
∏
∏
∏
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          REPLY                   TSSO User s Guide                   R
∏
          Name:  REPLY
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               The REPLY command is used to reply to MVS WTOR messages
∞               ter the WTOR has appeared on the MVS console.¨  You  do
∞               need  to  know  the MVS reply number to respond to the W
∞               The REPLY command can, therefore, be used to automate op
∞               tional procedures with products that communicate to the
∞               erator through the WTOR interface (e.g., NCCF, IMS, GDDM

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 REPLY MSG(msg-id) TEXT(reply-text)
∞                           ______       __________

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

∞               MSG(msg-id)       The  message  you  are  replying to (e
∞                                 DSI802A)

∞               TEXT(reply-text)  The text of the reply you wish to give
∞                                 response to the WTOR.

          Notes on Using REPLY with IMS/VS
          Notes on Using REPLY with IMS/VS
          Notes on Using REPLY with IMS/VS
          Notes on Using REPLY with IMS/VS
∞          ________________________________

∞               There are some installations that run multiple copies of
∞               IMS/VS  program  product.    All of the subsystems issue
∞               same message ID as a WTOR.  For these installations, an
∞               ternate form of the REPLY command is available to direct
∞               plies to the correct IMS subsystem:

                      REPLY IMS(ims-id) TEXT(reply-text)
∞                                ______       __________

               where  ims-id  is the name of the IMS subsystem to which
∞                      ______
               wish to direct the response, and reply-text  is  as  def
∞                                                __________
∞               above.  In this way IMS procedures can be automated.

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Shut down the NCCF program product.
               Example 1.
               Example 1.
∞               Example 1.

∞                             REPLY MSG(DSI802A) TEXT('CLOSE IMMED')
∏
∞          øøøøøøøøøøøøøøøø

∞          ¨   Contrast  this  to  the  ACTION=REPLY  directive in TSSO/
∞              which replies to messages the  instant  they  are  genera
∞              Thus,  TSSO/AOF  and  the  REPLY command combine to give
∞              coverage on automating responses to MVS WTORs.

∞          Appendix A. TSSO Command Reference
Ø
∞          REPLY                   TSSO User s Guide                   R
∏
               Example 2.  Reply to message USRWT01.
               Example 2.
               Example 2.
∞               Example 2.

∞                             REPLY MSG(USRWTO1) TEXT('DISPLAY FIELDS')

               Example 3.  Issue the IMS command DISPLAY ACTIVE on IMS
               Example 3.
               Example 3.
∞               Example 3.
∞                           system ZFF.

∞                             REPLY IMS(ZFF) TEXT('/DIS A')

               Example 4.  Issue  the IMS command NRESTART on IMS subsy
               Example 4.
               Example 4.
∞               Example 4.
∞                           PRO.

∞                             REPLY IMS(PRO) TEXT('NRE CHECKPOINT 0 FMT
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∞          Appendix A. TSSO Command Reference
Ø
∞          SPMON                   TSSO User's Guide                   S
∏
          Name:  SPMON
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               The SPMON command displays system  information  to  the
∞               console operator.  By default SPMON will display the fol
∞               ing  information:   percentage of CPU busy, average Unre
∞               enced Interval Count (UIC), average paging rate,  number
∞               TSO  users,  number  of started tasks, number of batch j
               and number of inactive initiators.  In addition, if  Par
∞                             ________
∞               ters  are  specified to SPMON, the following job-related
∞               formation is printed:  JOBNAME, number of service  units
∞               current  transaction, swap-in/swap-out status, and numbe
∞               active frames in real storage.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 SPMON  [job-parm [type-parm]]
∞                         ________  _________

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               job-parm    A 1- to 8-character string for matching  on
∞               ________
∞                           name,  or  "ALL"  to  display information on
∞                           jobs.

               type-parm   This directs SPMON to  print  information  a
∞               _________
∞                           selected  types  of jobs.   Legal values are
∞                           (all batch jobs), STC (all started  tasks),
∞                           (all TSO users), or ALL (all batch jobs, sta
∞                           tasks, and TSO users).  Default is ALL.

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Display the general system information only.
               Example 1.
               Example 1.
∞               Example 1.

∞                             SPMON

               Example 2.  Display  general  system  information as wel
               Example 2.
               Example 2.
∞               Example 2.
∞                           information on all jobs, TSO  users  or  sta
∞                           tasks that start with "BCR".

∞                             SPMON BCR

               Example 3.  Display  general system information and info
               Example 3.
               Example 3.
∞               Example 3.
∞                           tion about all TSO users whose  user  IDs  b
∞                           with "PY".

∞                             SPMON PY TSO
∏

∞          Appendix A. TSSO Command Reference
Ø
∞          VALLOC and VOLSER       TSSO User's Guide       VALLOC and VO
∏
          Name:  VALLOC and VOLSER
          Name:
          Name:
          Name:
∞          _____

          Available Under TSO:  Yes
          Available Under TSO:
          Available Under TSO:
          Available Under TSO:
∞          ____________________

          Description
          Description
          Description
          Description
∞          ___________

∞               The  VALLOC  and  VOLSER commands display UCB and ALLOCA
∞               information.  By default, the commands will display info
∞               tion for the MVS SYSRES (IPL) device.  If a volume seria
∞               specified, the command will  locate  the  device  using
∞               standard MVS UCBSCAN service and display the UCB address
∞               the UCB itself.´ The command will also inform the MVS op
∞               tor if the volume is not found.

          Syntax
          Syntax
          Syntax
          Syntax
∞          ______

                 VALLOC [volser]
∞                         ______

                 VOLSER [volser]
∞                         ______

          Parameters
          Parameters
          Parameters
          Parameters
∞          __________

               volser    A  6-character DASD volume identifier.
∞               ______

          Examples
          Examples
          Examples
          Examples
∞          ________

               Example 1.  Display  the UCB address and allocation info
               Example 1.
               Example 1.
∞               Example 1.
∞                           tion for volume PPBFX2.

∞                             VALLOC PPBFX2

               Example 2.  Display UCB information for the MVS SYSRES (
               Example 2.
               Example 2.
∞               Example 2.
∞                           pack.

∞                             VOLSER

               Example 3.  Display the UCB address for volume SYSRES.
               Example 3.
               Example 3.
∞               Example 3.

∞                             VOLSER SYSRES
∏

∞          øøøøøøøøøøøøøøøø

∞          ´   The commands use the TSSO "*COM" interface to issue appro
∞              ate MVS commands.  to display UNIT or ALLOCATION informat
              The  VOLSER command issues the "D U,,,ucb-address,1" MVS
∞                                                    ___________
∞              tem  command,   while   the   VALLOC   command   issues
              "D U,,ALLOC,ucb-address,1" MVS command.  Note that, when
∞                          ___________
∞              command is issued under regular TSO, the MVS commands are
∞              generated and the invoker of the command will see the for
∞              ted command including the *COM keyword.

∞          Appendix A. TSSO Command Reference
Ø
          APPENDIX B. TSSO CONTROL COMMANDS
          APPENDIX B. TSSO CONTROL COMMANDS
          APPENDIX B. TSSO CONTROL COMMANDS
          APPENDIX B. TSSO CONTROL COMMANDS
∞          _________________________________
∏
∞          TSSO control commands are used to direct TSSO  processing.
∞          such  commands  start  with the TSSO System Recognition Chara
∞          (SRC).  The Examples below assume that "#" is the TSSO SRC.

∞          Note that TSSO control commands may be treated exactly  as  o
∞          TSO commands when used in a TSSO CLIST.  For example, a CLIST
∞          process directives and then issue a .RELOAD command to reload
∞          TSSO/AOF  table.    It is also possible for a CLIST to consis
∞          nothing but TSSO commands. For example, a CLIST could be  wri
∞          to query all the TSSO Parameters.
∏
          GENERAL COMMANDS
          GENERAL COMMANDS
          GENERAL COMMANDS
          GENERAL COMMANDS
∞          ________________

          #.L n                       List the results of the previous
          #.L n
          #.L n
∞          #.L n
                                      commands on console n.
∞                                                          _

          #.LOGOFF                    Logs off the console.
          #.LOGOFF
          #.LOGOFF
∞          #.LOGOFF

          #.LOGON user-id password    Logs on the invoking console to T
          #.LOGON user-id password
          #.LOGON user-id password
∞          #.LOGON user-id password

∞          Various Parameters of the TSSO subsystem can be queried using
∞          #.Q family of commands.

          #.Q LOGON                   Displays  the console ID and the
          #.Q LOGON
          #.Q LOGON
∞          #.Q LOGON
∞                                      ID of all consoles logged on to T

          #.Q MAXCMD                  Returns the value of the MAXCMDS
          #.Q MAXCMD
          #.Q MAXCMD
∞          #.Q MAXCMD
∞                                      rameter specified at TSSO startup

          #.Q MAXWTO                  Returns  the  value of the MAXWTO
          #.Q MAXWTO
          #.Q MAXWTO
∞          #.Q MAXWTO
∞                                      rameter specified at TSSO startup

          #.Q RACF                    Returns the name  of  the  TSSO
          #.Q RACF
          #.Q RACF
∞          #.Q RACF
∞                                      user identifier.

          #.Q SCON                    Displays the status of subsystem
          #.Q SCON
          #.Q SCON
∞          #.Q SCON
∞                                      soles.

          #.Q SWAP                    Indicates  if  TSSO  is  running
          #.Q SWAP
          #.Q SWAP
∞          #.Q SWAP
∞                                      swappable.

          #.Q T                       Returns the name of the TSSO AOF
          #.Q T
          #.Q T
∞          #.Q T
∞                                      ble.    Additional  information
∞                                      played includes the  value  speci
                                      on  the  ID parameter of the TABS
                                               ID
                                               ID
                                               ID
∞                                               __
∞                                      macro and the date and time  the
∞                                      table was assembled.

          #.Q TIMEOUT                 Displays the TIMEOUT value.
          #.Q TIMEOUT
          #.Q TIMEOUT
∞          #.Q TIMEOUT

∞          Appendix B. TSSO Control Commands
Ø
          #.Q VERS                    Displays  the TSSO Version identi
          #.Q VERS
          #.Q VERS
∞          #.Q VERS
∞                                      (TSSO 4.3) and  the  date  and  t
∞                                      that  the TSSO, TSSOWTO, and the
∞                                      system  interface  intercept  mod
∞                                      were last assembled.

          #.Q XMEM                    Displays  status of TSSO cross me
          #.Q XMEM
          #.Q XMEM
∞          #.Q XMEM
∞                                      services environment.
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∏
∞          Appendix B. TSSO Control Commands
Ø
          RESTRICTED COMMANDS
          RESTRICTED COMMANDS
          RESTRICTED COMMANDS
          RESTRICTED COMMANDS
∞          ___________________

∞          The following commands are restricted to consoles with MVS sy
∞          authority.

          #.ABEND               Abnormally  terminates  the  TSSO   add
          #.ABEND
          #.ABEND
∞          #.ABEND
∞                                space.  This  is a TSSO debugging aid w
∞                                should not be used in normal operation.

          #.J                   Requests a job identification  number
          #.J
          #.J
∞          #.J
∞                                the primary subsystem.  This is require
∞                                TSSO  will be using the primary subsyst
∞                                services.  These services  include  sub
∞                                ting jobs (with the TSO SUBMIT command)
∞                                using  the  PRINTOFF command.  Note tha
∞                                TSSO was started using the  "SUB=JES2"
∞                                rameter, this command will have no effe

          #.M                   Manipulates  the  TSSO  debugging facil
          #.M
          #.M
∞          #.M
∞                                This  command  should  not  be  used  u
∞                                normal circumstances.

          #.P                   Terminates  the  Time Sharing Subsystem
          #.P
          #.P
∞          #.P
∞                                tion.  TSSO can be restarted through th
∞                                TSSO" command as described on page 13.

          #.RELOAD table-name   Loads a TSSO Automated Operations  Faci
          #.RELOAD table-name
          #.RELOAD table-name
∞          #.RELOAD table-name
                                table identified by table-name and perf
∞                                                    __________
                                a  "#.Q  T" (see previous page).  If ta
∞                                                                     __
                                name='NONE', then the AOF  is  deactiva
∞                                ____
∞                                If an error occurs while processing the
∞                                ble,  AOF  is deactivated.  The most co
                                errors include table-name not  being  f
∞                                               __________
                                and  table-name  not being a valid TSSO
∞                                     __________
∞                                table.
∏
∏
∏
∏
∏
∏
∏

∞          Appendix B. TSSO Control Commands
Ø
          APPENDIX C. TSSO PROCESSING MODULES
          APPENDIX C. TSSO PROCESSING MODULES
          APPENDIX C. TSSO PROCESSING MODULES
          APPENDIX C. TSSO PROCESSING MODULES
∞          ___________________________________
∏
          $ENDOFDA       Sample IEFBR14 job: AOF can trap the  END  OF
          $ENDOFDA
          $ENDOFDA
∞          $ENDOFDA
∞                         message

          $PAYROLL       Same as above.
          $PAYROLL
          $PAYROLL
∞          $PAYROLL

          ALOCCACH       Sample  CLIST  to allocate files needed to run
          ALOCCACH
          ALOCCACH
∞          ALOCCACH
∞                         cache command from a TSO user ID.

          ALTAOF         ALTAOF command:  Change MATCHLIM  dynamically
          ALTAOF
          ALTAOF
∞          ALTAOF
∞                         TSSO/AOF

          AOFIVP         Sample  AOF table that shows all forms of TABE
          AOFIVP
          AOFIVP
∞          AOFIVP
∞                         macro.

          ASMALL         PROC to assemble all TSSO processing modules.
          ASMALL
          ASMALL
∞          ASMALL

          ASMONE         PROC to assemble one TSSO processing module.
          ASMONE
          ASMONE
∞          ASMONE

          ASMTABLE       PROC to assemble an AOF table.
          ASMTABLE
          ASMTABLE
∞          ASMTABLE

          ASMTSSO        PROC to assemble all TSSO subsystem modules.
          ASMTSSO
          ASMTSSO
∞          ASMTSSO
∞                         is need if the TSSOCVT or TSSODATD  macro  is
∞                         tered.

          CACHE          CACHE  command:    Controls  a  3880 CACHE con
          CACHE
          CACHE
∞          CACHE
∞                         unit.

          COPYPROC       PROC to copy  the  sample  TSSO  START  PROC
          COPYPROC
          COPYPROC
∞          COPYPROC
∞                         SYS1.PROCLIB.

          CPCMD          CPCMD  command:  Issue a CP command if running
          CPCMD
          CPCMD
∞          CPCMD
∞                         der VM.

          DATAAREA       An non-comprehensive list of the major  TSSO
          DATAAREA
          DATAAREA
∞          DATAAREA
∞                         areas.

          DISPAOF        DISPAOF  command:   Displays an active or inac
          DISPAOF
          DISPAOF
∞          DISPAOF
∞                         AOF table.

          EF             EF command:   Allows a file  to  be  edited  u
          EF
          EF
∞          EF
∞                         TSSO.

          EQUATES        Standard R0-R15 equate macro.
          EQUATES
          EQUATES
∞          EQUATES

          EXASK          Sample CLIST using the OSASK command.
          EXASK
          EXASK
∞          EXASK

          EXCHKSPL       Sample  CLIST using OSCMD command and manipula
          EXCHKSPL
          EXCHKSPL
∞          EXCHKSPL
∞                         of the response.

          EXJOBS         Another example using OSCMD.
          EXJOBS
          EXJOBS
∞          EXJOBS

          EXSTVTAM       An example of OSCMD without response retrieval
          EXSTVTAM
          EXSTVTAM
∞          EXSTVTAM
∏
∞          Appendix C. TSSO Processing Modules
Ø
          FORMAT         Macro to format numbers from assembler program
          FORMAT
          FORMAT
∞          FORMAT

          GENTAPE        PROC to generate the TSSO distribution tape.
          GENTAPE
          GENTAPE
∞          GENTAPE

          GETCVT         Macro to find the TSSO CVT (SSCTSUSE field in
          GETCVT
          GETCVT
∞          GETCVT
∞                         SSCT).

          ISXA           Macro  to  determine  if  you  are  running  u
          ISXA
          ISXA
∞          ISXA
∞                         MVS/XA.

          JCECVT         Subroutine for decimal/hex conversions.
          JCECVT
          JCECVT
∞          JCECVT

          LINKLIST       LINKLIST command:  Displays the MVS LNKLST con
          LINKLIST
          LINKLIST
∞          LINKLIST
∞                         enation.

          MENTER         Macro for beginning subroutine linkage.
          MENTER
          MENTER
∞          MENTER

          MLEAVE         Macro for closing subroutine linkage.
          MLEAVE
          MLEAVE
∞          MLEAVE

          MULT           Bill  Godfrey's MULT command:  Allows you to e
          MULT
          MULT
∞          MULT
∞                         multiple commands on a line.   Great for  comm
∞                         that have subcommands.

          NCFOSATH       The NCCF user authorization exit.
          NCFOSATH
          NCFOSATH
∞          NCFOSATH

          NCFOSCMD       The NCCF version of the OSCMD command processo
          NCFOSCMD
          NCFOSCMD
∞          NCFOSCMD

          OPCMDMSG       A message CSECT for callers of TSSOPCMD.
          OPCMDMSG
          OPCMDMSG
∞          OPCMDMSG

          OSASK          OSASK command:  Ask the operator a question.
          OSASK
          OSASK
∞          OSASK

          OSCMD          OSCMD command:  Issue an MVS command and get a
          OSCMD
          OSCMD
∞          OSCMD
∞                         sponse.

          OSCMDICB       OSCMD  Interface Control Block:  for communica
          OSCMDICB
          OSCMDICB
∞          OSCMDICB
∞                         between OSCMD and TSSOSS09.

          OSCMDATH       The user exit for the OSCMD TSO facility.
          OSCMDATH
          OSCMDATH
∞          OSCMDATH

          OSCMDICB       OSCMD Interface Control  Block  for  communica
          OSCMDICB
          OSCMDICB
∞          OSCMDICB
∞                         between TSSOPCMD and TSSOSS09.

          OSPAUSE        OSPAUSE command:  Delay the execution of a CLI
          OSPAUSE
          OSPAUSE
∞          OSPAUSE

          OSWAIT         The OSWAIT command processor.
          OSWAIT
          OSWAIT
∞          OSWAIT

          OSWTO          OSWTO command:  Issue a message to the operato
          OSWTO
          OSWTO
∞          OSWTO

          PTFS           A summary of the PTFs in TSSO 4.2 that are in
          PTFS
          PTFS
∞          PTFS

          RELGDE41       TSSO 4.1 release guide.
          RELGDE41
          RELGDE41
∞          RELGDE41

          RELGDE42       TSSO 4.2 release guide.
          RELGDE42
          RELGDE42
∞          RELGDE42

          RELGDE43       TSSO 4.3 release guide.
          RELGDE43
          RELGDE43
∞          RELGDE43
∏

∞          Appendix C. TSSO Processing Modules
Ø
          REPLY          REPLY  command:   Issue a REPLY command by mes
          REPLY
          REPLY
∞          REPLY
∞                         ID.

          REPLYLOA       REPLYLOA module:  Performs X-MEM functions for
          REPLYLOA
          REPLYLOA
∞          REPLYLOA
∞                         PLY command.

          RUNASM         PROC for assembling TSSO commands.
          RUNASM
          RUNASM
∞          RUNASM

          SAMPPARM       Sample Parameters for SYS1.PARMLIB(TSSOPARM).
          SAMPPARM
          SAMPPARM
∞          SAMPPARM

          SETMODE        Macro for changing mode (24 bit - 31 bit).
          SETMODE
          SETMODE
∞          SETMODE

          SETPARSE       Macro for setting up IKJPARS control blocks.
          SETPARSE
          SETPARSE
∞          SETPARSE

          SPMON          SPMON command for performance monitoring.
          SPMON
          SPMON
∞          SPMON

          SSCONCB        Subsystem Control Control Block DSECT.
          SSCONCB
          SSCONCB
∞          SSCONCB

          SSCOBCBH       DSECT for the SSCONCB header.
          SSCOBCBH
          SSCOBCBH
∞          SSCOBCBH

          SSID           SSID macro for obtaining SMF system ID.
          SSID
          SSID
∞          SSID

          TABEND         TABEND macro for defining end of AOF table.
          TABEND
          TABEND
∞          TABEND

          TABENTRY       TABENTRY macro for defining AOF table entries.
          TABENTRY
          TABENTRY
∞          TABENTRY

          TABSTART       TABSTART macro for defining start of AOF table
          TABSTART
          TABSTART
∞          TABSTART
∞                         tries.

          TLINE          TLINE macro for doing TPUT of character string
          TLINE
          TLINE
∞          TLINE

          TSSLRACF       TSSLRACF subroutine for doing RACINITS in  #.L
          TSSLRACF
          TSSLRACF
∞          TSSLRACF
∞                         command.

          TSSO           TSSO mainline processing module.
          TSSO
          TSSO
∞          TSSO

          TSSOCCMD       TSSOCCMD subroutine for handling TSSO control
          TSSOCCMD
          TSSOCCMD
∞          TSSOCCMD
∞                         mands.

          TSSOCMND       TSSOCMND  macro  for  defining  control  block
          TSSOCMND
          TSSOCMND
∞          TSSOCMND
∞                         interface  between  TSSO  and  TSSOSS10   (CMD
∞                         DSECT).

          TSSOCVT        Mapping macro for TSSO's CVT.
          TSSOCVT
          TSSOCVT
∞          TSSOCVT

          TSSODATD       Mapping macro for TSSO's private data area.
          TSSODATD
          TSSODATD
∞          TSSODATD

          TSSODOCM       TSSODOCM  subroutine for handling TSO commands
          TSSODOCM
          TSSODOCM
∞          TSSODOCM
∞                         der TSSO.

          TSSOESTA       TSSOESTA subroutine for handling TSSO errors.
          TSSOESTA
          TSSOESTA
∞          TSSOESTA

          TSSOGAPF       TSSO cross memory services routine to get APF
          TSSOGAPF
          TSSOGAPF
∞          TSSOGAPF
∞                         thorized.

          TSSOGSSC       Interface for subsystem allocatable consoles.
          TSSOGSSC
          TSSOGSSC
∞          TSSOGSSC
∏
∞          Appendix C. TSSO Processing Modules
Ø
          TSSOINIT       TSSO routine for IPL time initialization.
          TSSOINIT
          TSSOINIT
∞          TSSOINIT

          TSSOINI1       TSSO initialization, part 1.
          TSSOINI1
          TSSOINI1
∞          TSSOINI1

          TSSOINI2       TSSO initialization, part 2.
          TSSOINI2
          TSSOINI2
∞          TSSOINI2

          TSSOINI3       TSSO initialization, part 3.
          TSSOINI3
          TSSOINI3
∞          TSSOINI3

          TSSOINI4       TSSO initialization, part 4 (SS consoles).
          TSSOINI4
          TSSOINI4
∞          TSSOINI4

          TSSOINI5       TSSO initialization, part 5 (XMEM services).
          TSSOINI5
          TSSOINI5
∞          TSSOINI5

          TSSOMAIN       TSSO mainline routine for processing TSO comma
          TSSOMAIN
          TSSOMAIN
∞          TSSOMAIN

          TSSONDSA       TSSO Non-Disruptable System Area DSECT.
          TSSONDSA
          TSSONDSA
∞          TSSONDSA

          TSSOPARS       Subroutine for parsing just about anything.
          TSSOPARS
          TSSOPARS
∞          TSSOPARS

          TSSOPCMD       Routine  to  process operating system commands
          TSSOPCMD
          TSSOPCMD
∞          TSSOPCMD
∞                         return the responses to a buffer.

          TSSOPREC       Recovery routine for TSSOPCMD.
          TSSOPREC
          TSSOPREC
∞          TSSOPREC

          TSSOPROC       A sample proc for starting TSSO (S TSSO).
          TSSOPROC
          TSSOPROC
∞          TSSOPROC

          TSSOSECR       Macro to map the TSSO security control block.
          TSSOSECR
          TSSOSECR
∞          TSSOSECR

          TSSOSS09       TSSO WTO intercept routine (subsys code 9).
          TSSOSS09
          TSSOSS09
∞          TSSOSS09

          TSSOSS10       TSSO Command intercept routine (subsys code 10
          TSSOSS10
          TSSOSS10
∞          TSSOSS10

          TSSOTERM       Module for handling TSSO termination.
          TSSOTERM
          TSSOTERM
∞          TSSOTERM

          TSSOWTO        Module for copying SYSTSPRT file to console  a
          TSSOWTO
          TSSOWTO
∞          TSSOWTO
∞                         commands.

          UNDERTSO       Macro to determine if you are running under TS
          UNDERTSO
          UNDERTSO
∞          UNDERTSO

          USEGDE41       The user's guide for TSSO 4.1.
          USEGDE41
          USEGDE41
∞          USEGDE41

          USEGDE42       The user's guide for TSSO 4.2.
          USEGDE42
          USEGDE42
∞          USEGDE42

          UG43IMPT       A  pre-formatted copy of the TSSO User's Guide
          UG43IMPT                                    TSSO User's Guide
          UG43IMPT                                    TSSO User's Guide
          UG43IMPT                                    TSSO User's Guide
∞                                                      _________________
∞                         version 4.3 for dumping to an impact printer.

          UG43RAW        The raw source for the TSSO User's Guide for
          UG43RAW                               TSSO User's Guide
          UG43RAW                               TSSO User's Guide
          UG43RAW                               TSSO User's Guide
∞                                                _________________
∞                         sion 4.3, complete with SCRIPT control words.

          UG43TERM       A  pre-formatted copy of the TSSO User's Guide
          UG43TERM                                    TSSO User's Guide
          UG43TERM                                    TSSO User's Guide
          UG43TERM                                    TSSO User's Guide
∞                                                      _________________
∞                         version 4.3 for browsing at a terminal.

          VALLOC         Command for displaying MVS allocation informat
          VALLOC
          VALLOC
∞          VALLOC

          VOLSER         Command for displaying MVS UCB information.
          VOLSER
          VOLSER
∞          VOLSER
∏

∞          Appendix C. TSSO Processing Modules
Ø
          APPENDIX D. TSSO/AOF TEXT PROCESSING ALGORITHM
          APPENDIX D. TSSO/AOF TEXT PROCESSING ALGORITHM
          APPENDIX D. TSSO/AOF TEXT PROCESSING ALGORITHM
          APPENDIX D. TSSO/AOF TEXT PROCESSING ALGORITHM
∞          ______________________________________________
∏
∞          This section describes the algorithm used in forming the MVS
∞          erator commands issued as a result of processing the ACTION=O
∞          directive under the TSSO Automated Operations Facility.
∏
          DEFINITION OF TERMS
          DEFINITION OF TERMS
          DEFINITION OF TERMS
          DEFINITION OF TERMS
∞          ___________________

∞               action-text  is  the parameter specified in the TEXT ope
∞                            of the TABENTRY macro.

∞               WTOTEXT      is the text of the  console  message  that
∞                            matched  by  the  MSG parameter. Therefore,
∞                            first 8 bytes of WTOTEXT must have  matched
∞                            entry in the AOF table, as specified by the
∞                            parameter.

∞               cmd-buffer   is  the buffer that will be passed to MVS t
∞                            executed as an operator command.
∏
          ALGORITHM
          ALGORITHM
          ALGORITHM
          ALGORITHM
∞          _________

∞          1.  Examine the MATCHLIM value for an entry.  If MATCHLIM=999
∞              then ignore.  If MATCHLIM=0, then do not process  the  en
∞              otherwise, decrement MATCHLIM by 1.

          2.  Copy  characters from action-text to cmd-buffer until no
∞                                    ___________    __________
∞              characters are found, or a "\" is located. The "\" is a
∞              nificance  indicator that indicates to AOF that character
∞              words from WTOTEXT are to be copied.  When a significance
∞              dicator is detected, go to step 2. When  no  more  charac
              remain in action-text, pass the command to MVS for proces
∞                        ___________
∞              and terminate.

∞          3.  The character after the significance indicator determines
∞              type  of  formatting to be performed. Two characters are
∞              missible. The "S" directive  indicates  substring  format
∞              and the "W" directive indicates word formatting. If the c
∞              acter  is  a "S", go to step 3; if the character is a "W"
∞              to step 4.

∞          4.  To use substring formatting, the syntax, including the  l
∞              ing "\S" must be

                \Snnn,yy\
∞                  ______

              where  nnn  are  numeric characters that specify the star
∞                     ___
              position in WTOTEXT, and the yy indicates the number of c
∞                                           __
              acters starting from position nnn to copy  into  the  com
∞                                            ___

∞          Appendix D. TSSO/AOF Text Processing Algorithm
Ø
∞              buffer.    Thus,  it  is  possible  to include all or par
∞              WTOTEXT in the operator command to be issued.   For  exam
∞              if

∞                \S032,08\

∞              was coded, then character positions 32-39 of WTOTEXT woul
              copied  to cmd-buffer. The syntax for the substring param
∞                         __________
∞              is very rigid.   Leading zeroes must be  specified,  and
∞              final  "\"  must be present.   Processing continues at st
∞              with the character following the final "\"

∞          5.  A word is defined as a string of characters separated by
∞              arator characters. The maximum size of a word is 16 bytes
∞              use the word formatting option, code

                \Wabcdnn\
∞                  ______

              where a, b, c and d specify separator characters to  be
∞                    _______     _
              in  the definition of a word, and nn is a numeric value i
∞                                                __
∞              cating which word to use. The selected word is then copie
              cmd-buffer.  For example, if
∞              __________

∞                \W=,   03\

∞              were coded, it would be interpreted as word  formatting
∞              the next four characters  "=", ",", " ", and " " used as
∞              separator  characters.    In  this example, the third wor
              copied from WTOTEXT into cmd-buffer. The Syntax  of  the
∞                                       __________
∞              directive  if  very strict. If you do not need four separ
∞              characters, you must code blanks (as in the example). The
∞              meric specification must have two digits (including a lea
∞              zero if required) and the terminating "\" is required.  P
∞              essing  continues at step 1, with the character following
∞              last "\".  Note that a word is  at  most,  16  characters
              length, and is copied to cmd-buffer without leading or tr
∞                                       __________
∞              ing blanks.

∞          Note   that   the   formatting  options  are  available  only
∞          ACTION=OSCMD or ACTION=OSCMDT is specified.
∏
∏
∏
∏
∏
∏

∞          Appendix D. TSSO/AOF Text Processing Algorithm

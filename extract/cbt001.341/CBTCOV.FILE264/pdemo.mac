 /* COPYRIGHT 1983 BY THOMAS GLEN SMITH */
 /* PDEMO */
   %INCLUDE ABESUB;
 ABESUB(PDEMO) RENT(NO)
   PARS(00000000000000000000) CHECK(YES);
   %INCLUDE ABESUBA;
   DCL 1 DDI01 BASED(RHPLOT79),
   %INCLUDE ABE063I;
   %INCLUDE ABE064I;
   %INCLUDE ABE79ENT;

   DCL RHHDREX PTR EXTERNAL;
   DCL SETCAPS ENTRY;
   DCL COVER ENTRY(
     /* NIN */ FIXED BIN(31,0),
     /* NOUT */ FIXED BIN(31,0),,)
     OPTIONS(FORTRAN);
   DCL (PL2SPA,PL3SPA) ENTRY
     OPTIONS(FORTRAN);
   DCL HELPSTR CHAR(4) VAR INIT('');

   RHHDREX=RHHDRPT;
   IF RHPLOT79=NULL
     THEN I=#CMD('GR',RHPTR,RHHDRPT);


   SELECT(PARY(1));
     WHEN('00','COVER') DO;
       CALL #DOCMD(
         'ALLOC FI(FT01F001) DA(''X75826X.PLOT79.FILE042(COVER)'')
           SHR REUSE',
         HELPSTR);
       CALL #DOCMD('ALLOC FI(FT02F001) DA(*) REUSE',HELPSTR);
       CALL COVER(1,2,PL2SPA,PL3SPA);
       END;
     OTHERWISE DO;
       MSGDATA=PARY(1)××' IS INVALID OPTION TO PDEMO';
       RHRC=8;
       END;
     END; /* SELECT */
   END PDEMO;

.PL 55
.HE PROGLOOK - PROGRAM PERFORMANCE ANALYSIS
.AD
PROGDOC
01/02/75
.CE 1
PROGLOOK - PROGRAM PERFORMANCE ANALYSIS
.SS
.FI L
.SP 5
PROGLOOK IS A SYSTEM COMPRISED OF TWO PROGRAMS DESIGNED TO
PROVIDE YOU WITH A PICTURE (HISTOGRAM) OF THE ACTIVITY IN YOUR
PROGRAM WHILE IT IS RUNNING.  WITH IT, THE USER CAN DETERMINE
WHAT CHANGES ARE NECESSARY TO IMPROVE THE PERFORMANCE OF HIS
PROGRAM.
.SP 1
THE PROGRAM TO BE ANALYZED IS RUN AS A SUBTASK OF PROGTIME.
IT CAN BE A PROGRAM IN OVERLAY STRUCTURE, AND IT CAN ATTACH SUBTASKS
OF ITS OWN; PROGTIME IS DESIGNED TO HANDLE THIS.
AT INTERVALS SPECIFIED BY THE USER, PROGTIME SAMPLES THE ACTIVITY
OF YOUR PROGRAM, AND RECORDS THIS INFORMATION IN A DATA SET.
THIS DATA IS LATER
PROCESSED BY THE PROGRAM PROGPLOT.  THE RESULTS ARE A SERIES
OF HISTOGRAMS WHICH IDENTIFY THOSE POINTS OF HIGHEST ACTIVITY
IN YOUR PROGRAM.
.SP 1
GIVEN THE JOB CONTROL TO EXECUTE YOUR PROGRAM, THE FOLLOWING
ALTERATIONS WOULD HAVE TO BE MADE IN ORDER TO PERFORM THE
ANALYSIS BY PROGLOOK:
.IN 5
.SP 1
(1) REPLACE YOUR EXEC CARD WITH ONE IN THE FOLLOWING FORMAT:
.IN 10
.SP 1
//STEPNAME EXEC PGM=PROGTIME,REGION=DDDK
.SP 1
.IN 5
SET THE REGION PARAMETER EQUAL TO THE SUM OF THE VALUE NECESSARY
TO EXECUTE YOUR PROGRAM PLUS 10K FOR PROGTIME.
.SP 1
(2) ADD THE FOLLOWING IN-STREAM DATA SET:
.IN 10
.SP 1
//PROGTME1 DD *
.IN 10
XXXXXXXX,DDD
.SP 1
.IN 5
REPLACE XXXXXXXX WITH THE 1 TO 8 CHARACTER NAME OF YOUR PROGRAM.
PROGTIME WILL ATTACH YOUR PROGRAM AS A SUBTASK.  REPLACE DDD WITH
THE TIME INTERVAL (1 = 1/60TH SECOND) BETWEEN SAMPLES TO BE TAKEN
BY PROGTIME.
.SP 1
(3) ADD A DD STATEMENT WITH DDNAME PROGTME2 THAT IDENTIFIES THE
LIBRARY IN WHICH PROGTIME CAN FIND YOUR PROGRAM.  EXAMPLE FOLLOWS:
.IN 10
.SP 1
//PROGTME2 DD DSN=SYS2.USERLIB,DISP=SHR
.SP 1
.IN 5
(4) ADD A DD STATEMENT WITH DDNAME PROGTME3 THAT WILL BE USED BY
PROGTIME TO RECORD THE SAMPLING DATA.  THIS DATA SET WILL BE READ BY
PROGPLOT IN A SUBSEQUENT STEP TO CREATE THE HISTOGRAMS.  AN
EXAMPLE FOLLOWS:
.IN 10
.SP 1
.NF
//PROGTME3 DD DSN=PLOT,DISP=(NEW,PASS,KEEP),
// SPACE=(CYL,(5,1)),UNIT=3330,VOL=SER=XXXXXX,
// DCB=BLKSIZE=200
.IN 5
.SP 1
.FI L
THE SPACE PARAMETER MUST BE ADJUSTED BASED ON YOUR ESTIMATE OF HOW
LONG YOUR PROGRAM WILL RUN, AND ON THE SAMPLING INTERVAL YOU HAVE
SPECIFIED.  NOTE THAT EACH SAMPLING RECORD IS 20 BYTES LONG.
.SP 1
(5) ADD THE FOLLOWING STEP AT THE END OF THE REST OF YOUR JOB
CONTROL.  THIS STEP WILL EXECUTE PROGPLOT, WHICH WILL CREATE
THE HISTOGRAMS DESCRIBING THE ACTIVITY IN YOUR PROGRAM:
.SP 1
.IN 10
.NF
//HIST EXEC PGM=PROGPLOT,REGION=130K,COND=EVEN
//FT01F001 DD DSN=PLOT,DISP=(OLD,DELETE,KEEP)
//FT06F001 DD SYSOUT=A,
// DCB=(LRECL=133,BLKSIZE=1330,RECFM=FBA)
//FT05F001 DD *
DDDDD000000000000000
.IN 5
.FI L
.SP 1
REPLACE DDDDD WITH THE 5 DIGIT (IT MUST BE 5 DIGITS, PADDED WITH
ZEROS IF NECESSARY) NUMBER INDICATING THE INCREMENT IN BYTES TO
BE USED WHEN CREATING THE HISTOGRAMS.  IN OTHER WORDS, THIS NUMBER
INDICATES THE PRECISION OF THE HISTOGRAMS.  IF, FOR EXAMPLE, YOU
SPECIFIED "00050", THEN ACTIVITY WOULD BE RECORDED IN THE HISTOGRAM
FOR EACH 50 BYTE CHUNK OF YOUR PROGRAM.

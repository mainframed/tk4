 /* SBA - CONVERT SBA ADDRESSES */
   % INCLUDE CPINIT1;
   % @RENTKEY='REENTRANT,';
   % INCLUDE CPINIT2;
   @PROC(1,STR,SBA);
   DCL SBACONV ENTRY;
   DCL TRIN ENTRY(CHAR(*) VAR UNALIGNED)
     RETURNS(CHAR(2));
   DCL HEXB FIXED BIN(15,0),
       HEXC CHAR(2) DEF HEXB;
   DCL TROUT ENTRY(CHAR(2))
     RETURNS(CHAR(4));
   DCL SBAB FIXED BIN(15,0),
       SBAC CHAR(2) DEF SBAB;
   DCL INSTR CHAR(8) VAR;
   DCL OUT CHAR(80) VAR;
   INSTR=SYMC('&STR');
   IF SBA^=0 × VERIFY(INSTR,'0123456789')^=0
     THEN DO; /* INPUT IS LINE CODE */
       SBAC=TRIN(INSTR);
       CALL SBACONV(SBAB,'0'B);
       PUT STRING(OUT) EDIT('OFFSET=',SBAB)(A,F(5));
       END;
     ELSE DO; /* INPUT IS OFFSET */
       SBAB=INSTR;
       CALL SBACONV(SBAB,'1'B);
       PUT STRING(OUT) EDIT('LINE CODE=',TROUT(SBAC))(A,A);
       END;
   @WRITE(OUT,MF=S);
   END;

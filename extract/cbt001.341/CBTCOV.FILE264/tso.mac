 /* TSO */
 /*
0*$.HE GENERALIZED SUBROUTINES - TSO
0*$.HE DETERMINES IF IT IS TSO ENVIRONMENT
0*$.PL 55
0*$.PN 0
0*$.PA
0*$.SS
0*$.NF
0*$11/05/82
0*$AUTHOR:  T. SMITH
0*$SOURCE MODULE NAME:  TSO
0*$DOCUMENTATION ID:  0*$
0*$.FI L
0*$.SP 5
0*$THIS RETURNS BIT(1) EQUALING '1'B IF THE CURRENT ENVIRONMENT IS
0*$TSO, AND '0'B OTHERWISE.  THUS, RETURNED VALUE WILL BE '1'B IF
0*$THIS SUBROUTINE IS INVOKED FROM EITHER A TSO TERMINAL SESSION,
0*$OR IN BATCH IF THE JCL EXEC STATEMENT SPECIFIED // EXEC PGM=IKJEFT01
 */
 TSO: PROC RETURNS(BIT(1)) OPTIONS(REENTRANT);
   DCL TCBPTR PTR BASED(TCBPTRPTR);
   DCL 1 TCB BASED(TCBPTR),
     2 TCBPAD CHAR(180),
     2 TCBJSCB PTR;
   DCL 1 JSCB BASED(TCBJSCB),
     2 JSCBPAD CHAR(264),
     2 JSCBPSCB FIXED BIN(31,0);
   UNSPEC(TCBPTRPTR)=UNSPEC(BINARY(540,31,0));
   IF JSCBPSCB=0
     THEN RETURN('0'B);
     ELSE RETURN('1'B);
   END TSO;

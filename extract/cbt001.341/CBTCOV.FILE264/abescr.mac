 /* COPYRIGHT 1983 BY THOMAS GLEN SMITH */
 /* ABESCR */
 ABESCR:  PROC(ECBP,ECBW,@PNLCALL) OPTIONS(MAIN);
         DCL (ECBP,ECBW) FIXED BIN(31,0);
           /* ECBP IS POSTED BY MOTHER WHEN SCRWRIT IS TO BE CALLED */
           /* ECBW IS POSTED BY ABESCR WHEN SCRWRIT RETURNS CONTROL */
         DCL 1 @PNLCALL UNALIGNED,
           2 @CURPNL FIXED BIN(15,0),
           2 @NXTPNL FIXED BIN(15,0),
           2 @ARYPTR PTR,
           2 @AID BIT(8),
           2 @CURLOC FIXED BIN(15,0),
           2 @CHGCURS FIXED BIN(15,0),
           2 @CALLFLGS BIT(8);
         DCL SYSWAIT ENTRY(FIXED BIN(15,0),);
         DCL SYSPOST ENTRY(FIXED BIN(31,0),FIXED BIN(31,0));
         DCL SCRWRIT ENTRY;
         ON ERROR GOTO POST;
         HALT;
 LUP:
           CALL SYSWAIT(1,ECBP);
           ECBP = 0;
           CALL SCRWRIT(@PNLCALL);
 POST:
           CALL SYSPOST(ECBW,0);
           GOTO LUP;
         END;

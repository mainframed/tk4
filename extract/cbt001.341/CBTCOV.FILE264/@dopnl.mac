 /* @DOPNL */
 %NOPRINT;
         % DCL @DOPNL ENTRY;
 % @DOPNL:  PROC(P1) STATEMENT RETURNS(CHAR);
 /*
0*$.HE GENERALIZED SUBROUTINES - @DOPNL
0*$.HE PLI PREPROCESSOR TEXT
0*$.HE FULL SCREEN SUPPORT FOR PLI UNDER TSO
0*$.PL 55
0*$.PN 0
0*$.SS
0*$.NF
0*$06/21/77
0*$AUTHOR:  T. SMITH
0*$SOURCE MODULE NAME:  @DOPNL
0*$DOCUMENTATION ID:  0*$
0*$.FI L
0*$.SP 5
0*$THIS PLI PREPROCESSOR MACRO IS PART OF A PACKAGE TO PROVIDE 3277
0*$FULL SCREEN SUPPORT TO PLI PROGRAMS UNDER TSO.  SEE ALSO
0*$DOCUMENTATION ON THE @PANEL, @FIELD, @ENDPNL, @FLDMOD, AND @SCREEN
0*$MACROS.
0*$.SP 1
0*$ISSUE THE @DOPNL MACRO WHEN YOU WANT TO DISPLAY A PANEL ON THE
0*$3270 SCREEN AND RECEIVE INPUT FROM THE OPERATOR.  THE MACRO HAS
0*$JUST ONE OPERAND, WHICH IS THE NUMBER OF THE PANEL TO BE WRITTEN:
0*$.SP 1
0*$.IN 5
0*$@DOPNL(NUM);
0*$.IN 0
0*$.SP 1
0*$NUM CAN BE EITHER A CONSTANT (@DOPNL(1)) OR A SYMBOLIC REFERENCE,
0*$SUCH AS @DOPNL(SCREEN1.@PNLNUM), WHERE "SCREEN1" IS THE PANEL NAME
0*$YOU SPECIFIED IN THE @PANEL MACRO.  A VARIABLE @PNLNUM WITH THE
0*$ATTRIBUTES FIXED BIN(15,0), AND INITIALIZED WITH THE PANEL NUMBER
0*$IS GENERATED BY THE @PANEL MACRO FOR EACH SCREEN DEFINED IN THE
0*$PROGRAM.  THE FIRST PANEL DEFINED IS ASSIGNED THE NUMBER 1, THE
0*$SECOND 2, ETC.
0*$.SP 1
0*$PRIOR TO ISSUING THE @DOPNL MACRO, YOU MAY ASSIGN VALUES TO
0*$BE WRITTEN IN VARIOUS FIELDS IN THE PANEL BY USING THE @FLDMOD
0*$MACRO (SEE DOCUMENTATION ELSEWHERE).  AFTER THE @DOPNL MACRO
0*$HAS BEEN ISSUED, YOU MAY ACCESS ANY VALUES THE OPERATOR HAS KEYED
0*$IN BY REFERENCING NAMES OF THE FORMAT "PANEL_IN.FIELD" WHERE
0*$"PANEL" IS THE NAME YOU SPECIFIED IN THE @PANEL MACRO, AND "FIELD"
0*$IS THE NAME YOU SPECIFIED IN THE @FIELD MACRO.  SUCH A NAME
0*$REFERENCES A VARYING CHARACTER STRING WHICH WILL CONTAIN ANY
0*$VALUE THE OPERATOR KEYED IN THE ASSOCIATED FIELD.  THE STATEMENT
0*$"MYSTR=SCREEN1_IN.FIELD9;" ASSIGNS WHATEVER THE OPERATOR KEYED IN
0*$FIELD9 ON THE PANEL NAMED SCREEN1 TO THE VARIABLE MYSTR.
0*$.SP 1
0*$AFTER THE @DOPNL MACRO IS ISSUED, YOU CAN DETERMINE WHERE THE
0*$OPERATOR POSITIONED THE CURSOR BY INTERROGATING VARIABLE @CURLOC.
0*$THIS FIXED BIN(15,0) ITEM WILL BE SET TO A NUMBER FROM 0 TO 1919.
 */
         DCL (P1,PARM) CHAR;
         IF P1 = ''
              THEN PARM = 1;  /*DEFAULT IS PANEL #1 */
              ELSE PARM = P1;
         RETURN('DO; @NXTPNL='××PARM××'; CALL SCRWRIT(@PNLCALL); END;');
         % END @DOPNL;
 %PRINT;

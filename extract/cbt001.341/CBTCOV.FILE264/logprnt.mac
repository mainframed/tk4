 /* PRNTLOG */
 PRNTLOG:  PROC OPTIONS(MAIN);
         DCL VSAMFLE RECORD OUTPUT KEYED ENV(VSAM);
         DCL SUFFIX ENTRY(CHAR(*),CHAR(*))
           RETURNS(FIXED BIN(15,0));
         DCL KEY PIC'99999' INIT(0);
         DCL LOGREC CHAR(140) VAR;
         DCL (INLEN,OUTLEN) FIXED BIN(31,0) INIT(0);
         ON ENDFILE(SYSLOG) GO TO EOJ;
         DO FOREVER=1 REPEAT FOREVER;
           READ FILE(SYSLOG) INTO(LOGREC);
           INLEN = INLEN + LENGTH(LOGREC);
           KEY=KEY+1;
           LOGREC=KEY××SUBSTR(LOGREC,1,SUFFIX(LOGREC,' '));
           DO I=INDEX(LOGREC,'  ') REPEAT INDEX(LOGREC,'  ')
             WHILE(I^=0);
             LOGREC=SUBSTR(LOGREC,1,I)××SUBSTR(LOGREC,I+2);
             END;
           OUTLEN = OUTLEN + LENGTH(LOGREC);
           WRITE FILE(VSAMFLE) FROM(LOGREC) KEYFROM(KEY);
           END;
 EOJ:
         PUT DATA(INLEN,OUTLEN);
         END;

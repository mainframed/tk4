*  SYSPOST
*$.HE GENERALIZED SUBROUTINES - SYSPOST
*$.HE GENERALIZED POST SUBROUTINE
*$.PL 55
*$.PN 0
*$.PA
*$.SS
*$.NF
*$09/19/79
*$AUTHOR:  T. SMITH
*$SOURCE MODULE NAME:  SYSPOST
*$DOCUMENTATION ID:  *$
*$.FI L
*$.SP 5
*$THIS SUBROUTINE SUPPLIES A GENERALIZED POST FACILITY.
*$THE PARAMETER LIST IS AS IN THE FOLLOWING EXAMPLE:
*$.SP 1
*$.IN 5
*$.NF
*$DCL SYSPOST ENTRY(EVENT,FIXED BIN(31,0));
*$DCL A EVENT;
*$CALL SYSPOST(A,1024);
*$.FI L
*$.IN 0
*$POSTS EVENT VARIABLE A COMPLETE WITH A COMPLETION CODE
*$OF 1024 (HEX 400).
*
SYSPOST  PLIENTRY ,DSA=256,COMPILE=O
         L     R2,0(R1)           R2=A(ECB)
         SR    R4,R4              R4 = DEFAULT COMPLETION CODE
         LTR   R2,R2              IS ECB LAST IN PARM LIST?
         BC    4,POST             BR IF YES
         L     R3,4(R1)           R3 = A(COMPLETION CODE)
         L     R4,0(R3)           R4 = COMPLETION CODE
POST     DS    0H
         LA    R2,0(R2)
         POST (R2),(R4)
         PLIEXIT
         LTORG
         END

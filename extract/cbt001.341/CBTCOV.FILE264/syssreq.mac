*$.HE ISD GENERALIZED SUBROUTINES - SYSSREQ
*$.HE PLI INTERFACE TO IEFSSREQ MACRO
*$.PL 55
*$.PN 0
*$.PA
*$.SS
*$.NF
*$5/12/77
*$AUTHOR:  T. SMITH
*$SOURCE MODULE NAME:  SYSSREQ
*$DOCUMENTATION ID:  *$
*$.FI L
*$.SP 5
*$THIS ROUTINE PROVIDES THE PLI PROGRAMMER WITH AN INTERFACE TO
*$THE IEFSSREQ MACRO.
*$.SP 1
*$CALL SYSSREQ(PARM,RETCODE);
*$.SP 1
*$.CE 1
*$DEFINITION OF TERMS
*$.SP 1
*$PARM
*$.IN 5
*$THIS SUBROUTINE WILL TURN ON THE HIGH BYTE OF THE FIRST FULLWORD
*$POINTED TO BY REGISTER ONE, AND WILL THEN CALL THE
*$IEFSSREQ MACRO WITHOUT ALTERING REGISTER ONE.
*$.IN 0
*$RETCODE
*$.IN 5
*$THIS SHOULD BE FIXED BIN(15,0), AND WILL BE SET BY THIS SUBROUTINE
*$TO THE VALUE RETURNED IN REGISTER 15 BY THE IEFSSREQ MACRO
*$.IN 0
SYSSREQ  CSECT
         SAVES RETCTL
         TGSREQU
         L     R2,4(R1)
         OI    0(R1),X'80'  SET END OF PARAMETER LIST IND.
*        IEFSSREQ
         L     RE,X'10'       SET CVT ADDRESSIBILITY
         L     RE,X'128'(RE)  SET JESCT ADDRESSIBILITY
         L     RF,X'14'(RE)   SET SUBSYSTEM REQUEST ROUTINE ADDR
         BALR  RE,RF          GO GET EM
         STH   RF,0(R2)     SET RETCODE
         B     RETCTL
         LTORG
         END

*$.HE GENERALIZED SUBROUTINES - LSPACE
*$.HE PLI INTERFACE TO THE LSPACE SVC
*$.PL 55
*$.PN 0
*$.PA
*$.SS
*$.NF
*$04/13/76
*$AUTHOR:  T. SMITH
*$DOCUMENTATION ID:  *$
*$.FI L
*$.SP 5
*$THIS ROUTINE SUPPLIES THE PLI PROGRAMMER WITH AN INTERFACE TO THE
*$LSPACE SVC (SVC 78).  CALL FORMAT IS -
*$.SP 1
*$.IN 5
*$CALL LSPACE(MSG,UCBPTR,RET);
*$.SP 1
*$WHERE -
*$.SP 1
*$MSG
*$.IN 10
*$IS A CHARACTER STRING OR STRUCTURE 30 BYTES IN LENGTH TO BE FILLED
*$IN WITH THE MESSAGE PRODUCED BY SVC 78.  FORMAT FOR THE MESSAGE
*$IS AS FOLLOWS
*$.SP 1
*$.IN 15
*$SPACE=CCCC,TTTT,EEEE,CCCC,TTTT
*$.SP 1
*$WHERE THE FIRST CCCC IS THE NUMBER OF FULL CYLINDERS FREE, THE
*$FIRST TTTT IS THE NUMBER OF TRACKS OTHER THAN FULL CYLINDERS FREE.
*$THE SECOND CCCC AND TTTT GIVE THE LARGEST CONTIGUOUS EXTENT.
*$EEEE IS THE NUMBER OF EXTENTS OF FREE SPACE.
*$.IN 5
*$UCBPTR
*$.IN 10
*$POINTER VARIABLE CONTAINING THE ADDRESS OF A UCB.
*$.IN 5
*$RET
*$.IN 10
*$FIXED BIN(31,0) - WILL BE SET TO THE VALUE IN REGISTER 15 AFTER
*$SVC 78 IS ISSUED.
LSPACE   PLIENTRY ,COMPILE=&SYSPARM
         LM    R2,R4,0(R1)
         L     R0,0(R3)                R0=A(UCB)
         L     R1,0(R2)                R1=A(WORK)
         SVC   78
         ST    RF,0(R4)                SET RET
         PLIEXIT
         LTORG
         END

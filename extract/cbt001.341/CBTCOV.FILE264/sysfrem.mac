*$.HE GENERALIZED SUBROUTINES - SYSFREM
*$.HE PLI INTERFACE TO FREEMAIN MACRO
*$.PL 55
*$.PN 0
*$.PA
*$.SS
*$.NF
*$3/4/82
*$AUTHOR:  T. SMITH
*$SOURCE MODULE NAME:  SYSFREM
*$DOCUMENTATION ID:  *$
*$.FI L
*$.SP 5
*$THIS SUBROUTINE PROVIDES THE PLI PROGRAMMER WITH AN INTERFACE TO THE
*$FREEMAIN MACRO.  CALL FORMAT IS AS FOLLOWS -
*$.SP 1
*$.IN 5
*$.NF
*$CALL SYSFREM(LV,A,SP);
*$.SP 1
*$.FI L
*$.IN 0
*$LV - FIXED BIN(31,0) - EQUALS THE LENGTH, IN BYTES, OF THE
*$MAIN STORAGE AREA TO BE FREED.
*$.SP 1
*$A - POINTER VARIABLE CONTAINING THE ADDRESS OF THE MEMORY TO
*$BE FREED.
*$.SP 1
*$SP - FIXED BIN(15,0) - IS THE NUMBER OF THE SUBPOOL FROM WHICH THE
*$MAIN STORAGE AREA IS TO BE FREED.
SYSFREM  PLIENTRY
         LM    R2,R4,0(R1)
         L     R0,0(R2)                R0=LV
         LH    R4,0(R4)                R4=SP#
         SLL   R4,24                   SHIFT TO HI BYTE
         OR    R0,R4                   OR INTO R0
         L     R1,0(R3)                R1=A(MEMORY TO FREE)
         LA    R1,0(R1)                MAKE SURE HI BYTE IS CLEAR
         SVC   10
EXIT     PLIEXIT
         END

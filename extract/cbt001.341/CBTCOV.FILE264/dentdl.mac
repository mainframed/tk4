 /* COPYRIGHT 1983 BY THOMAS GLEN SMITH */
  DENTDL:PROC(RHPTR,SUBENT,A,B,RHPPTR) OPTIONS(REENTRANT);
  /* CALLED TO DELETE A RANGE OF LINES FROM THE CURRENT DATA SET */
    % DCL @PROCNAME CHAR;
    % @PROCNAME ='';
    % INCLUDE DENTSUB;
    DCL RHPPTR PTR;
    DCL (A,B) FIXED BIN(31,0);
    DCL LAST FIXED BIN(31,0) INIT(99999999);
    DCL SAVSEQ FIXED BIN(31,0);
    SAVSEQ = CURSEQ;
    CALL #MD(RHPTR,SUBENT,A); /* CALL MDPROC */
    /*GO MOVE DISPLAY TO 1ST LINE TO DELETE*/
    IF RECPTR = HDPTR
      THEN CALL #NC(RHPTR,SUBENT,NXTHDR); /* CALL NEWCUR */
    S = A;
    IF B = 0
      THEN E = S;
      ELSE E = B;
    DELP:DO WHILE(RECPTR ^= HDPTR);
      IF RECSEQ > E
        THEN LEAVE DELP;
      CALL #PUTSLOT(RHPTR,SUBENT,RECPTR); /* CALL PUTSLOT */
      END;
    IF RECPTR ^= HDPTR
      THEN CALL #RESEQ(RHPTR,SUBENT,LSTPTR,'NOTSAVE','NOTRENUM',
      LAST,RHPPTR); /* RESEQ */
    A = SAVSEQ;
    CALL #MD(RHPTR,SUBENT,A); /* CALL MDPROC */
    END DENTDL;

 /* @FLDMOD */
 %NOPRINT;
         % DCL @FLDMOD ENTRY;
 % @FLDMOD:  PROC(P1) STATEMENT RETURNS(CHAR);
 /*
0*$.HE GENERALIZED SUBROUTINES - @FLDMOD
0*$.HE PLI PREPROCESSOR TEXT
0*$.HE FULL SCREEN SUPPORT FOR PLI UNDER TSO
0*$.PL 55
0*$.PN 0
0*$.SS
0*$.NF
0*$06/21/77
0*$AUTHOR:  T. SMITH
0*$SOURCE MODULE NAME:  @FLDMOD
0*$DOCUMENTATION ID:  0*$
0*$.FI L
0*$.SP 5
0*$THIS PLI PREPROCESSOR MACRO IS PART OF A PACKAGE TO PROVIDE 3277
0*$FULL SCREEN SUPPORT TO PLI PROGRAMS UNDER TSO.  SEE ALSO
0*$DOCUMENTATION ON THE @PANEL, @FIELD, @ENDPNL, @DOPNL, AND @SCREEN
0*$MACROS.
0*$.SP 1
0*$PRIOR TO ISSUING THE @DOPNL MACRO, YOU MAY ASSIGN VALUES TO
0*$BE WRITTEN IN VARIOUS FIELDS IN THE PANEL BY USING THE @FLDMOD
0*$MACRO.  THE STATEMENT "@FLDMOD(SCREEN1.FIELD9 = '23 SKIDOO');",
0*$FOR EXAMPLE, ASSIGNS THE SPECIFIED LITERAL TO FIELD9 OF THE
0*$PANEL NAMED SCREEN1.  NOTE THAT THE LITERAL IN THE ABOVE
0*$STATEMENT COULD HAVE BEEN REPLACED WITH A VARIABLE NAME.
0*$YOU MAY CONSIDER THE ASSIGNMENT AS BEING MADE TO A VARYING
0*$CHARACTER STRING.
 */
         DCL P1 CHAR;
         DCL (PANEL,FIELD) CHAR;
         DCL (I,J,K,L) FIXED;
         L = LENGTH(P1);
         I = INDEX(P1,'.');
         PANEL = SUBSTR(P1,1,I-1);
         DO J = I+1 TO L;
              IF SUBSTR(P1,J,1)=' ' × SUBSTR(P1,J,1)='='
                   THEN GO TO GOTFLD;
              END;
 GOTFLD:
         FIELD = SUBSTR(P1,I+1,J-I-1);
         RETURN('DO; '××PANEL××'_OUTFLAG('××PANEL××'.'
           ××FIELD××'.@FLDNUM)'××'=''1''B;'
           ××PANEL××'_OUT.'××FIELD××SUBSTR(P1,J)××'; END;');
         % END @FLDMOD;
 %PRINT;

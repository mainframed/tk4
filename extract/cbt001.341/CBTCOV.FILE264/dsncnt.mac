 /* DSNCNT */
 /*
0*$.HE GENERALIZED UTILITIES - DSNCNT
0*$.HE COUNT CATALOGED DATA SETS
0*$.PL 55
0*$.PN 0
0*$.PA
0*$.SS
0*$.NF
0*$04/11/84
0*$AUTHOR:  T. SMITH
0*$SOURCE MODULE NAME:  DSNCNT
0*$DOCUMENTATION ID:  0*$
0*$.FI L
0*$.SP 5
0*$THIS UTILITY CAN BE USED TO SET A RETURN CODE INDICATING HOW
0*$MANY CATALOGED DATA SETS EXIST WITH THE SPECIFIED HIGH LEVEL
0*$QUALIFIERS.  CALL FORMAT IS AS FOLLOWS:
0*$.SP 1
0*$//STEP EXEC PGM=DSNCNT,PARM='/QUALIFIERS'
0*$.SP 1
0*$WHERE QUALIFIERS IS THE HIGH LEVEL QUALIFIERS.
 */
 DSNCNT: PROC(PARM) OPTIONS(MAIN);
   DFT RANGE(*) FIXED BIN VALUE(FIXED BIN(31,0));
   DCL PARM CHAR(100) VAR;
   DCL LOCDSN ENTRY(PTR,FIXED BIN(31,0),CHAR(44) VAR,CHAR(44) VAR,
     CHAR(1));
   DCL (PLIRETC,NULL) BUILTIN;

   DCL PTR PTR;
   DCL (INDX,DSN) CHAR(44) VAR;
   DCL TYPE CHAR(1);


   PTR=NULL;
   INDX=PARM;
   CALL LOCDSN(PTR,RET,INDX,DSN,TYPE);
   DO I=0 REPEAT I+1 WHILE(RET=0) UNTIL(PTR=NULL);
     CALL LOCDSN(PTR,RET,INDX,DSN,TYPE);
     END;
   CALL PLIRETC(I);
   END DSNCNT;

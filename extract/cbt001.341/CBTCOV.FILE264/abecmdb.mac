 /* COPYRIGHT 1983 BY THOMAS GLEN SMITH */
 /* OBSOLETE - NO LONGER USED.  SEE ABE.PLI(ABEBRUN) */
  /* ABECMDB */
 ABEB:PROC(CMDNAME,CMDBUF,RHPTR,RHHDRPT,LRNPTR)
   RETURNS(FIXED BIN(15,0)) RECURSIVE OPTIONS(REENTRANT);
  DFT RANGE(*) FIXED BIN VALUE(FIXED BIN(31,0));
  DCL PREFIX ENTRY(CHAR(*),CHAR(*))RETURNS(FIXED BIN(15,0));
  IF RHPTR=NULL
     THEN CALL SETCAPS(CMDBUF);
     ELSE IF ^(LOFLAG × CMDNAME='APL' × CMDNAME='API')
       THEN CALL SETCAPS(CMDBUF);
  RETVAL = 0;
  % IF @DEBUG ='N'
    % THEN % DO;
      ON ERROR BEGIN;
        RETVAL = 16;
        GO TO EOR;
        END;
      ON CONVERSION BEGIN;
        RETVAL = 16;
        GO TO EOR;
        END;
      % END;
  % ELSE % DO; HALT; % END;
  IF CMDNAME='ABE063' × CMDNAME='GR' × CMDNAME='ABE072' × CMDNAME='GS'
    THEN IF ^RHGRSW
      THEN CMDNAME='GS'; /* OVERRIDE TO SHORT FORM */
  SELECT(CMDNAME);
    @CALCOD
    WHEN('RELEASE') CALL RELEASE_PROC;
    OTHERWISE RETVAL=8; /* COMMAND NOT FOUND */
    END; /* SELECT */
 EOR:
  RETURN(RETVAL);
  DCL CMDNAME CHAR(8);
  DCL CMDBUF CHAR(*) VAR;
  DCL (RHPTR,RHHDRPT,LRNPTR) PTR;
  DCL SETCAPS ENTRY;
  DCL NULL BUILTIN;
  %INCLUDE ABEREC;
  %INCLUDE ABERHHDR;
  @ENTDCL;
 RELEASE_PROC: PROC;
  @ENTREL;
  END RELEASE_PROC;
  END;

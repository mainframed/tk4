//TS400CPM JOB MSGLEVEL=1,MSGCLASS=A,CLASS=G,PRTY=6
// EXEC CPPL1FCL,CHARSET=CHAR48
//GENER.SYSUT1 DD *
 GBLB &IKJMNEB
 AIF ('&SYSPARM' NE 'PLI').MNEBS1
&IKJMNEB SETB 1
 AGO .MNEBS2
.MNEBS1 ANOP
PCL CSECT
.MNEBS2 ANOP
PCL IKJPARM
MSG IKJPOSIT STRING,                                                   C
               DEFAULT='THIS IS DEFAULT MESSAGE'
 IKJENDP
 END
//ASM2.SYSTERM DD SYSOUT=C
//PL1L.SYSIN DD *
 MSGPROC.. PROC (CPPL1,CPPL2,CPPL3,CPPL4) OPTIONS(MAIN),.
         // INCLUDE IKJCPPL,.
         // INCLUDE PDEDCL,.
         // INCLUDE IKJPPL,.
         // INCLUDE PPLINIT,.
         DCL RETCODE FIXED BIN(31,0),.
         CALL SYSPARS(PPLPTR,RETCODE),.
         // INCLUDE IKJPDEST,.
         PDEPTR = ADDR(MSG),.
         DCL INPTR PTR,.
         INPTR = PDESTPTR,.
         DCL INSTR CHAR(80) BASED(INPTR),.
         DCL 1 OUTPUT,
              2 OUTLEN FIXED BIN(15,0),
              2 OFFSET FIXED BIN(15,0) INIT(0B),
              2 OUTSTR CHAR(80),.
         OUTSTR = INSTR,.
         OUTLEN = PDESTLN+4,.
         CALL PUTLINE(CPPLUPT,CPPLECT,CPECB,OUTPUT,RETCODE,'DATA'),.
         END,.
//LKED.SYSLMOD DD DSN=SYS2.CMDLIB,DISP=SHR,VOL=
//LKED.SYSIN DD *
 ENTRY IHESAPB
 NAME MSG(R)

 DENTCPR:  PROC(RHPTR,SUBENT,RHHDRPT,PDATA) OPTIONS(REENTRANT);
 /**********************************************************************
 * CALLED WHENEVER DATA CONTAINS A COMMAND LINE TO BE PROCESSED.  IT   *
 * WILL PROMPT AT THE TERMINAL FOR NECESSARY CONTINUATIONS, AND CALL   *
 * DENTCP WITH THE INPUT SUBCOMMAND.                                   *
 **********************************************************************/
   % DCL @PROCNAME CHAR;
   % @PROCNAME = '';
   % INCLUDE DENTSUB;
   % INCLUDE @HEXCHAR;
   DCL PDATA CHAR(*) VAR;
   DCL SETCAPS ENTRY;
   DCL SUFFIX ENTRY(CHAR(*),CHAR(*))
     RETURNS(FIXED BIN(15,0));
   DCL K FIXED BIN(15,0);
   DCL (DATA,MYDATA,NEWDATA) CHAR(1024) VAR;
   DCL PR CHAR(80) VAR;
   DATA=PDATA;
   IF DATA=''
     THEN RETURN;
   K=INDEX(DATA,@HEXCHAR(6A));
   IF K^=0
     THEN MYDATA=SUBSTR(DATA,1,K-1);
     ELSE MYDATA=DATA;
   MYDATA=SUBSTR(MYDATA,1,SUFFIX(MYDATA,' '));
   IF SUBSTR(MYDATA,LENGTH(MYDATA),1)='+'
     THEN DO;
       PR=RHNAME××': '××MYDATA;
       DO UNTIL(SUBSTR(MYDATA,LENGTH(MYDATA),1)^='+');
         CALL SUBENT(30)(PR,NEWDATA); /* GO PROMPT FOR INPUT */
         IF LENGTH(MYDATA)=1
           THEN MYDATA=NEWDATA;
           ELSE MYDATA=SUBSTR(MYDATA,1,LENGTH(MYDATA)-1)××' '××NEWDATA;
         PR=RHNAME××':+';
         IF MYDATA=''
           THEN MYDATA='+';
         END;
       END;
   IF ^LOFLAG
     THEN CALL SETCAPS(MYDATA);
   CALL #DENTCP(RHPTR,SUBENT,RHHDRPT,MYDATA);
     /* CALL DENTCP */
   END DENTCPR;

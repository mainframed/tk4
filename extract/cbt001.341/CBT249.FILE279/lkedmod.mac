++ USERMOD(WSRCC08) /* ADD DSN, VOLSER, TIME AND DATE TO LKED MSG:

      THIS MODIFICATION WILL CAUSE THE LINK EDITOR TO PRINT
      THE DSN, VOLSER, TIME AND DATE ON THE LINE IT PLACES
      THE LOAD MODULE NAME. MOD WITH HEWLFFNL @ 8107 UZ37156.
      ASSEMBLER SOURCE IS IPO1.USERLIB.ASM(GLKEDMOD).
      THIS MOD WAS PRODUCED USING ASM2'S $GENZAPS.
                                                            */ .
++ VER(Z038) FMID(EPM1102) PRE(UZ37156).
++ ZAP(HEWLFFNL) DISTLIB(AOS04) .
 EXPAND HEWLFFNL(256)
 NAME HEWLFFNL
***********************************************************************
***********************************************************************
*    USING *+2,R12    BASE REG IS OFF BY 2
*ZAPOFFSE EQU  X'46C' NEW OFFSET TO EX
*PATCHOFF EQU  X'9D0' NEW OFFSET TO PATCH
*EXEDMVCO EQU  X'474' NEW OFFSET TO MVC
*DSNPTROF EQU  X'728' NEW OFFSET TO DSN PTR
*DCBPTROF EQU  X'880' NEW OFFSET TO DCB PTR
*PATCHEND EQU  X'A9A' NEW OFFSET TO END OF PATCH
*
*ZAPOFFSE EQU  X'45A' OLD OFFSET TO EX
*PATCHOFF EQU  X'960' OLD OFFSET TO PATCH
*EXEDMVCO EQU  X'462' OLD OFFSET EX'ED MVC
*DSNPTROF EQU  X'714' OLD OFFSET TO DSN PTR
*DCBPTROF EQU  X'86C' OLD OFFSET TO DSN PTR
*PATCHEND EQU  X'???' OLD OFFSET TO END OF PATCH
*
VER 00046C 4490C472                   EX   R9,EXEDMVC       VER ZAPPED I
VER 000470 05EF              PATCHRET BALR R14,R15          VER RETURN P
REP 00046C 47F0C9CE                   B    PATCH            BRANCH TO PA
VER 000474 D2003000A000      EXEDMVC  MVC  0(*-*,R3),0(R10) VER THE MVC
VER 000728 00                DSNPTR   DC   AL1(0)           VER POINTER
VER 000880 00                DCBPTR   DC   AL1(0)           VER POINTER
VER 0009D0 0000000000000000           DC   XL8'00'          VER BEGIN PA
VER 000A9A 0000000000000000           DC   XL8'00'          VER END PATC
*    USING LINE,R3
REP 0009D0 4490C472          PATCH    EX   R9,EXEDMVC       DO ZAPPED IN
REP 0009D4 95C4300F                   CLI  LINE+15,C'D'     DOES NOT ...
REP 0009D8 4780C9FA                   BE   MSG3             YEP...
REP 0009DC 95D5300F                   CLI  LINE+15,C'N'     ONE OF OTHER
REP 0009E0 4770C46E                   BNE  PATCHRET         NOPE...
REP 0009E4 95D93013                   CLI  LINE+19,C'R'     REPLACED MSG
REP 0009E8 4780C9F2                   BE   MSG2             YEP...
REP 0009EC 4190301C                   LA   R9,X'1C'(,R3)    PTR TO LINE+
REP 0009F0 47F0C9FE                   B    MOVE             GO MOVE
REP 0009F4 4190301F          MSG2     LA   R9,X'1F'(,R3)    PTR TO LINE+
REP 0009F8 47F0C9FE                   B    MOVE             GO MOVE
REP 0009FC 41903034          MSG3     LA   R9,X'34'(,R3)    PRT TO LINE+
REP 000A00 92409000          MOVE     MVI  0(R9),C' '        BLANK 1ST C
REP 000A04 D22B90019000               MVC  1(44,R9),0(R9)    BLANK 'WORK
REP 000A0A 5810C726                   L    R1,DSNPTR         POINT R1 TO
REP 000A0E D22B90001000               MVC  0(44,R9),0(R1)    AND MOVE IT
REP 000A14 95409000          FINDBL   CLI  0(R9),C' '        FIND THE BL
REP 000A18 4780CA22                   BE   DOTIME            THIS IS BLA
REP 000A1C 41990001                   LA   R9,1(R9)          NEXT CHAR
REP 000A20 47F0CA12                   B    FINDBL            GO TEST IT
REP 000A24 BE0F9000          DOTIME   STCM R0,B'1111',0(R9)  SAVE R0
REP 000A28 BEFF9004                   STCM R15,B'1111',4(R9) SAVE R15
REP 000A2C 41100002                   LA   R1,2              INDICATED D
REP 000A30 0A0B                       SVC  11                TIME SVC
REP 000A32 BFFF9004                   ICM  R15,B'1111',4(R9) RESTORE R15
REP 000A36 BE0F9004                   STCM R0,B'1111',4(R9)  GET THE TIM
REP 000A3A D2089008CA86               MVC  8(9,R9),MASK2     MOVE IN EDI
REP 000A40 DE0890089004               ED   8(9,R9),4(R9)     EDIT TIME F
REP 000A46 927C9008                   MVI  8(R9),C'@'        MOVE IN EDI
REP 000A4A 926B9011                   MVI  17(R9),C','       MOVE IN EDI
REP 000A4E BE1F9004                   STCM R1,B'1111',4(R9)  SAVE R1 FOR
REP 000A52 D2069012CA7E               MVC  18(7,R9),MASK1    MOVE IN EDI
REP 000A58 DE0690129005               ED   18(7,R9),5(R9)    EDIT DATE F
REP 000A5E BF0F9000                   ICM  R0,B'1111',0(R9)  RESTORE R0
REP 000A62 5810C87E                   L    R1,DCBPTR         POINT TO DC
REP 000A66 5810102C                   L    R1,X'2C'(0,R1)    POINT TO DE
REP 000A6A 58101020                   L    R1,X'20'(0,R1)    POINT TO UC
REP 000A6E 92609000                   MVI  0(R9),C'-'        DELIMIT VOL
REP 000A72 D2059001101C               MVC  1(6,R9),X'1C'(R1) MOVE VOLSER
REP 000A78 92409007                   MVI  7(R9),C' '        CLEAN OUT R
REP 000A7C 47F0C46E                   B    PATCHRET          RETURN TO M
REP 000A80 4021204B20202040  MASK1    DC   X'4021204B20202040' EDIT MASK
REP 000A88 4021204B20204B20  MASK2    DC   X'4021204B20204B20' EDIT MASK
REP 000A90 2040                       DC   X'2040'             MORE OF E
REP 000A92 E6E2D9C3C3F0F840           DC   C'WSRCC08 '       MOD NAME
REP 000A9A F0F261F1F761F8F2           DC   C'02/17/82'       DATE OF MOD
*END      DS   0C           ADDRESS OF LAST BYTE
*LINE     DS   0C           FOR THE R3 USING

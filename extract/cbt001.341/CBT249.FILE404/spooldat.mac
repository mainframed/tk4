*          DATA SET AM009900   AT LEVEL 008 AS OF 03/16/76
         MACRO
         SPOOLDAT
.*             AUTHOR.   DON HIGGINS.
.*             DATE.     03/12/73.
.*             REMARKS.  DEFINE HASP 3.1 CHECKPOINT DATA AREAS ON 2314.
.*             REFERENCES.
.*                 1.    GY27-7255 HASP V4 PLM
.*                 2.    GC27-6992 HASP SYS. PGMR. GUIDE
.*                 3.    SEE GU019800 FOR SAMPLE PROGRAM USING THIS.
.*             REV1 01/28/74 - REVISE FOR 3330 DISKS.
.*             REV2 01/09/75 - REVISE FOR HASP V4.0 (VS2-R1.7)
*              REV3 /
*              REV3 03/15/76 DSH - MAKE CHECKPOINT MTTRS RELATIVE
*
*              THE FOLLOWING STATEMENTS MUST PRECEED THIS MACRO
*
*              COPY $GLOBAL
*              COPY $HASPGEN
*              $HASPCB JOT,PRC (OTHER CONTROL BLOCKS ARE OPTIONAL)
*
*              SEE GY27-7255 HASP PLM 7-49 FOR FURTHER INFO.
*
         GBLA  &MAXJOBS  MAXIMUM JOBS ALLOWED IN HASP SYSTEM AT ONCE
         GBLA  &NUMPRC   NUMBER OF PRINT/PUNCH CHECKPOINT RECORDS
         GBLA  &JITSIZE  JOB INFORMATION TABLE ELEMENT SIZE
*
*              CHECKPOINT MTTRS
*
*                   THESE MTTRS ARE CODED AS RELATIVE TRACK AND
*                   ARE CONVERTED TO ABSOLUTE TRACK BY HASPXDAP
*                   (GU019600) ON FIRST CALL.
*                   HIGH BIT ON INDICATES RELATIVE TRACK.
*
CKP1MTTR DC    X'80000001'    JOBQUE AND MISC. ON FIRST TRACK
CKP2MTTR DC    X'80000101'    JIT
CKP3MTTR DC    X'80000201'    JOT
*
*              CHECKPOINT RECORD AREAS
*
CKP1REC  DS    0D        JOB QUEUE AND MISC INFO
$JOBQUE  DC    (&MAXJOBS)XL16'00'
$SAVEBEG DS    0F
$JOBQPTR DC    A(*-*)    CORE ADDRESS OF HASP JOB QUEUE
$JQFREE  DC    A(*-*)    FREE QUEUE CHAIN
$JQENT   DC    A(*-*)    ACTIVE QUEUE CHAIN
$DATAKEY DC    F'0'      MASTER PERIPHERAL DATA SET KEY
$JOBNO   DC    H'0'      HASP JOB NUMBER
$MSGRPNO DC    H'0'      LAST CONSOLE MESSAGE TRACK GROUP
$DACKPT  DC    1XL6'0'   DA CHECKPOINT FOR WARM START
$SAVEEND EQU   *
$SAVELEN EQU   $SAVEEND-$SAVEBEG
$PRCRECS DC    (&NUMPRC)XL(PRCSIZE)'00'
CKP1LNG  EQU   *-CKP1REC
CKP2REC  DS    0D        JOB INFORMATION TABLE
$JIT     DC    (&MAXJOBS)XL(&JITSIZE)'00'
CKP2LNG  EQU   *-CKP2REC
CKP3REC  DS    0D        JOB OUTPUT TABLE
$JOTREC  DC    (JOTSIZE)X'00'
CKP3LNG  EQU   *-CKP3REC
         MEND

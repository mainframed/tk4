          MACRO
&LABEL    FPCWTO &MSGID=0,&RD=(14,6)
.*
.*   A MACRO TO LOCATE THE ADDRESS IN THE USER CVT OF THE FPC WTO
.*   ROUTINE AND PERFORM AN IMPLIED CALL TO THE ROUTINE TO OUTPUT
.*   THE DESIGNATED MESSAGE WITH A ROUTING AND DESCRIPTOR CODE
.*   TWO PARAMETERS ARE REQUIRED
.*       MSGID GIVES THE FPC MESSAGE NUMBER EITHER IN ABSOLUTE
.*             OR A REGISTER DESIGNATION WHICH CONTAINS THE NUMBER
.*       RD GIVES THE ROUTING AND DESCRIPTOR CODE FOR THE MESSAGE
.*   CHANGE ACTIVITY - WRITTEN 07/20/77 PWM
.*
          PUSH  USING
          LUCVT R1
          USING UCVTMAP,R1
          L     R15,UCVTFWTO            A (COMMON MSG WRITER ROUTINE)
          DROP  R1
          AIF   ('&MSGID'(1,1) NE '(').NOSTORE
          ST    &MSGID,MSG&SYSNDX       PUT MSG ID IN PARM LIST
.NOSTORE  ANOP
          BAL   R1,CALL&SYSNDX          BRANCH AROUND PARM LIST
MSG&SYSNDX  DC   CL4'&MSGID'            MSGID FIELD
            DC   H'&RD(1),&RD(2)'       ROUTE AND DESCRIPTOR CODES
CALL&SYSNDX BALR R14,R15                GO TO COMMON MSG WRITER ROUTINE
          POP   USING
          MEND

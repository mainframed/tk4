
 NAME IEANUC01 IRBMFDWP
 EXPAND IRBMFDWP(90)
*                            ORG   ZAPPED
VER 0210 982C,101C           LM    2,12,28(1)
*                   ZAPPED2  EQU   *
VER 0214 50D0,1004           ST    13,4(,1)
*                            ORG   PATCH
VER 08A8 0000,0000,0000,0000 DC    XL32'00'
VER 08B0 0000,0000,0000,0000
VER 08B8 0000,0000,0000,0000
VER 08C0 0000,0000,0000,0000
*                            ORG   ZAPPED2
REP 0214 47F0,C88C           B     PATCH
*                   RET      EQU   *
*                            ORG   PATCH
* THERE HAS TO BE SOMETHING EXCEPTIONAL ABOUT A GOOD ZAP
* THE NICE THINGS ABOUNT THIS ONE ARE:
*  1) WE HAVE TWO SAVE AREAS, ONE POINTED TO BY R13 THAT
*     HAS BEEN JUST STORED INTO, AND ONE POINTED TO BY
*     R1 WHICH R2-12 ARE BEING RESTORED FROM.  SO THERE
*     ARE LOTS OF REGISTERS TO USE.
*  2) IT IS JUST AFTER AN INTERNAL ENTRY POINT IN THE
*     MODULE AND WILL BE EASY TO RELOCATE AFTER MAINTENANCE
*  3) THIS ZAP HITS ONLY GENNED ASSEMBLER STATEMENTS, AN
*     ISLAND OF SANITY IN A SEA OF PLS.
REP 08A8 18A1                LR    10,1               SAVE FOR LATER
REP 08AA 9801,C8D0           LM    0,1,NAME           PARM TO LPA SRCH
REP 08AE 5830,0010           L     3,CVTPTR
REP 08B2 58F3,0160           L     15,CVTLPDSR-CVT(3) ADDR OF LPASRCH
REP 08B6 05EF                BALR  14,15              CALL IEAVVMSR
REP 08B8 47F0,C8A4           B     FOUND              NAME FOUND
REP 08BC 47F0,C8C2           B     RTNR               NAME NOT FOUND
*                   FOUND    EQU   *
REP 08C0 1810                LR    1,0                GET LPDE ADDR
REP 08C2 5811,0010           L     1,LPDENTP-LPDE(1) GET ENTRY POINT
REP 08C6 5801,0000           L     0,0(1)             GET STATWAMT VALUE
REP 08CA 1200                LTR   0,0                IS STATDIE UP?
REP 08CC 4780,C8C2           BZ    RTNR               NO, QUIT
REP 08D0 4110,0FFF           LA    1,4095             STATDIE GETS 4K BU
REP 08D4 582B,00B8           L     2,WAMTPTR(11)      GET LOCAL WAMT ADD
*                                 FROM GETMAIN DATA AREA
REP 08D8 5832,0004           L     3,4(2)             GET ITS SIZE
REP 08DC 0E02                MVCL  0,2                COPY WAMT
*                   RTNR     EQU   *
REP 08DE 181A                LR    1,10               RESTORE
REP 08E0 982C,101C           LM    2,12,28(1)         RELOAD REGS
REP 08E4 50D0,1004           ST    13,4(,1)
REP 08E8 47F0,C1FC           B     RET                GO BACK
*                   NAME     EQU   *
REP 08EC E2E3,C1E3,E6C1,D4E3 DC    CL8'STATWAMT'
* DECK PRODUCED BY THE ASMTOZAP UTILITY 77/05/21 093431

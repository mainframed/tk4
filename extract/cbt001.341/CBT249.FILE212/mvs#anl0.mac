*-------------------------------------------------------------------*
×   SMF DATA REDUCTION IN AN MVS/RMF II ENVIRONMENT                 ×
×                                                                   ×
×   THE PURPOSE OF THIS JOB IS TO UTILIZE SAS TO GENERATE A WEEKLY  ×
×   REPORT THAT SUMMARIZES INFORMATION CONCERNING MOST OF THE       ×
×   MORE COMMONLY UTILIZED FIELDS OF THE FOLLOWING SMF RECORD       ×
×   TYPES: 5,70,71,72,73,74.                                        ×
×                                                                   ×
×   THE REPORTS CREATED ARE EXTRACTED FROM THE FILE CALLED 'SMF',   ×
×   WHICH IS BUILT BY THE JOB MVS#COL1 DURING THE INITIAL           ×
×   EXTRACTION PHASE.                                               ×
×                                                                   ×
×   THIS PROGRAM IS CURRENTLY RUNNING IN AN RMF II, MVS-MP          ×
×   ENVIRONMENT AND CONTAINS NO CPU-DEPENDENT CODE. HOWEVER,        ×
×   IT IS STRONGLY SUGGESTED THAT ONE HAVE A THOROUGH UNDERSTANDING ×
×   OF THE PROGRAM BEFORE UTILIZING IT.  BECAUSE EACH INSTALLATION  ×
×   POSSESSES ITS OWN UNIQUE REQUIREMENTS, THIS PROGRAM IS PRIMARILY×
×   INTENDED TO DEMONSTRATE THE FLEXIBILITY AND CAPABILITY OF SAS   ×
×   IN THE ANALYSIS OF SMF DATA. RATHER THAN BEING UTILIZED IN ITS  ×
×   CURRENT FORM, IT BEST SERVES AS A STARTING POINT FOR THE        ×
×   DEVELOPMENT OF FACILITIES THAT BEST SUIT THE INDIVIDUAL         ×
×   INSTALLATION                                                    ×
×                                                                   ×
×   KENNETH C. TUCKER                                               ×
×   UNION CARBIDE CORPORATION                                       ×
×   P.O. BOX 8361                                                   ×
×   SOUTH CHARLESTON, W VA. 25303                                   ×
×                                                                   ×
*-------------------------------------------------------------------*
;
PROC SORT DATA=SMF.S5; BY DATE SMF5JICL;
PROC SORT DATA=SMF.S70; BY DATE SID TIME;
PROC SORT DATA=SMF.S71; BY DATE SID TIME;
PROC SORT DATA=SMF.S72; BY DATE SID PGN PERIOD;
PROC SORT DATA=SMF.S73; BY DATE SID CHAN_ID CPU_ID TIME;
PROC SORT DATA=SMF.S74; BY DATE SID DEV_ADDR VOLSER TIME;
DATA D;
INPUT CARD $CHAR72.;
CARDS4;
TERM           DEFINITION

REPORT NUMBER  1   CPU UTILIZATION SUMMARY REPORT
TIME           TIME THAT THE RMF MEASUREMENT INTERVAL STOPPED
CPU0_BUS       PERCENT OF TIME CPU0 WAS BUSY
SERIAL_1       SERIAL NUMBER FOR CPU 1
CPU1_BUS       PERCENT OF TIME CPU1 WAS BUSY
SERIAL_1       SERIAL NUMBER FOR CPU 1
AVE_BUSY       AVERAGE OF CPU0 BUSY AND CPU1 BUSY

REPORT NUMBER  2   PAGING ANALYSIS
TIME           TIME THAT THE RMF MEASUREMENT INTERVAL STOPPED
PAGERATE       TOTAL PAGE RATE PER SECOND
PG_FLTS        NON-VIO PAGEINS + RECLAIMS + SWAP PAGES IN PER SECOND
SYSIRATE       SWAP PLUS VIO PAGES PER SECOND
SWAPRATE       NUMBER OF ADDRESS SPACE SWAP SEQUENCES PER SECOND
SWPGRATE       PAGE SWAP RATE PER SECOND
AVGPGOUT       AVERAGE NUMBER OF PAGES SWAPPED PER SWAP OUT SEQUENCE
AVGPGIN        AVERAGE NUMBER OF PAGES SWAPPED PER SWAP IN SEQUENCE

REPORT NUMBER  3   MAIN STORAGE FRAME COUNT AND SWAP ANALYSIS
TIME           TIME THAT THE RMF MEASUREMENT INTERVAL STOPPED
SMF71AVF       AVERAGE NUMBER OF UNUSED PAGE FRAMES
SMF71AVP       AVERAGE NUMBER OF LPA/CSA PAGEABLE FRAMES
SMF71AVS       AVERAGE NUMBER OF PAGEABLE FRAMES IN THE PRIVATE
               ADDRESS SPACE
SMF71AVQ       AVERAGE NUMBER OF SQA FIXED FRAMES
SMF71AVC       AVERAGE NUMBER OF LPA/CSA FIXED FRAMES
SMF71AVR       AVERAGE NUMBER OF FIXED FRAMES IN THE PRIVATE
               ADDRESS SPACE
SMF71TIS       NUMBER OF SWAP OUTS DUE TO A TERMINAL WAITING FOR INPUT
SMF71LWS       NUMBER OF SWAP OUTS CAUSED BY USER REQUEST WAIT STATES
SMF71DWS       NUMBER OF SWAP OUTS OF USER ADDRESS SPACES THAT HAVE
               NOT ISSUED A WAIT,LONG=YES AND HAVE GONE WITHOUT
               EXECUTING FOR 8 SECONDS
SMF71ULS       NUMBER OF SWAP OUTS THAT OCCUR BECAUSE THE MPL FOR A
               DOMAIN BECAME HIGHER THAT THE TARGET
SMF71NRS       NUMBER OF SWAP OUTS REQUESTED BECAUCE OF V=R OR
               PPT ENTRY
SMF71ASS       NUMBER OF SWAP OUTS THAT OCCUR BECAUSE 70% OF ALL
               LOCAL PAGE SLOTS ARE ALLOCATED
SMF71RSS       NUMBER OF SWAP OUTS DUE TO A SHORTAGE OF REAL
               PAGEABLE FRAMES
SMF71EXS       NUMBER OF SWAP OUTS THAT OCCUR BECAUCE ONE USER IN A
               DOMAIN MUST BE SWAPPED OUT TO ALLOW SWAP IN OF A USER
               WITH A HIGHER WORKLOAD LEVEL
SMF71EES       NUMBER OF SWAP OUTS REQUIRED TO SWAP IN A USER THAT
               IS ENQUEUED ON A SYSTEM RESOURCE REQUIRED BY
               OTHER USERS
SMF71TOS       NUMBER OF SWAP OUTS DUE TO A TERMINAL WAITING FOR
               OUTPUT BUFFERS

REPORT NUMBER  4   WORKLOAD STATISTICS
SMF72TTX       NUMBER OF TRANSACTIONS TERMINATED
SMF72ACT       ACTIVE TIME OF ALL TRANSACTIONS, IN MINUTES
SMF72TTM       ELAPSED TIME ACCUMULATED BY ALL TRANSACTIONS,
               IN MINUTES
SMF72LEV       WORKLOAD LEVEL OF ALL TRANSACTIONS
SMF72MTS       MSO SERVICE UNITS
SMF72ITS       I/O SERVICE UNITS
SMF72CTS       CPU SERVICE UNITS
SMF72SER       SERVICE UNITS USED BY ALL TRANSACTIONS
SMF72TAT       TRANSACTION RESIDENCY TIME, IN MINUTES
SMF72SPP       TOTAL NUMBER OF SWAP SEQUENCES IN THE PERIOD

REPORT NUMBER  5   CHANNEL UTILIZATION SUMMARY
SIO            TOTAL NUMBER OF SUCCESSFUL START I/OS ISSUED TO THE
               CHANNEL
A_SIO          AVERAGE NUMBER OF SUCCESSFUL START I/OS ISSUED TO THE
               CHANNEL
A_BUSY         AVERAGE PERCENT OF THE TIME THE CHANNEL WAS IN BURST
               MODE
ABUSY_CW       AVERAGE PERCENT OF THE TIME THE CHANNEL WAS BUSY AND
               THE CPU WAS IN THE WAIT STATE
L_SIO          MIMIMUM NUMBER OF SUCCESSFUL START I/OS ISSUED TO THE
               CHANNEL
L_BUSY         MINIMUM PERCENT OF THE TIME THE CHANNEL WAS IN BURST
               MODE
LBUSY_CW       MIMIMUM PERCENT OF THE TIME THE CHANNEL WAS BUSY AND
               THE CPU WAS IN THE WAIT STATE
H_SIO          MAXIMUM NUMBER OF SUCCESSFUL START I/OS ISSUED TO THE
               CHANNEL
H_BUSY         MAXIMUM PERCENT OF THE TIME THE CHANNEL WAS IN BURST
               MODE
HBUSY_CW       MAXIMUM PERCENT OF THE TIME THE CHANNEL WAS BUSY AND
               THE CPU WAS IN THE WAIT STATE

REPORT NUMBER  6   CHANNEL EXCEPTIONS
SIO            NUMBER OF SUCCESSFUL START I/OS ISSUED TO THE CHANNEL
BUSY           PERCENT OF THE TIME THE CHANNEL WAS IN BURST MODE
BUSY_CW        PERCENT OF THE TIME THE CHANNEL WAS BUSY AND THE CPU
               WAS IN THE WAIT STATE

REPORT NUMBER  7   DISK VOLUME ACTIVITY
DEV_ADDR       DASD DEVICE ADDRESS
VOLSER         SERIAL NUMBER OF VOLUME ON THE DEVICE
IO             NUMBER OF I/O REQUESTS SERVICED ON THIS DEVICE
BUSY           PERCENTAGE OF TIME DURING THE INTERVAL WHEN THE DEVICE
               WAS BUSY AND THE CONTROL UNIT WAS NOT
QUED           TOTAL NUMBER OF I/O REQUESTS QUEUED DIVIDED BY THE
               NUMBER OF SAMPLES TAKEN
CU_DEL         PERCENTAGE OF TIME DURING THE INTERVAL WHEN THE CONTROL
               UNIT WAS BUSY AND COULD NOT TRANSFER DATA TO THE DEVICE
RESV_DEL       PERCENTAGE OF TIME DURING THE INTERVAL WHEN A SHARED
               DASD DEVICE WAS RESERVED BY ANOTHER PROCESSOR
DEV_RESV       PERCENTAGE OF TIME DURING THE INTERVAL WHEN A SHARED
               DASD DEVICE WAS RESERVED BY THIS PROCESSOR
DEV_ALC        PERCENTAGE OF TIME DURING THE INTERVAL THAT THE DEVICE
               WAS ALLOCATED

REPORT NUMBER  8   DISK VOLUME EXCEPTIONS
TIME           TIME THAT THE RMF MEASUREMENT INTERVAL STOPPED
DEV_ADDR       DASD DEVICE ADDRESS
VOLSER         SERIAL NUMBER OF VOLUME ON THE DEVICE
IO             NUMBER OF I/O REQUESTS SERVICED ON THIS DEVICE
BUSY           PERCENTAGE OF TIME DURING THE INTERVAL WHEN THE DEVICE
               WAS BUSY AND THE CONTROL UNIT WAS NOT
QUED           TOTAL NUMBER OF I/O REQUESTS QUEUED DIVIDED BY THE
               NUMBER OF SAMPLES TAKEN
CU_DEL         PERCENTAGE OF TIME DURING THE INTERVAL WHEN THE CONTROL
               UNIT WAS BUSY AND COULD NOT TRANSFER DATA TO THE DEVICE
RESV_DEL       PERCENTAGE OF TIME DURING THE INTERVAL WHEN A SHARED
               DASD DEVICE WAS RESERVED BY ANOTHER PROCESSOR
DEV_RESV       PERCENTAGE OF TIME DURING THE INTERVAL WHEN A SHARED
               DASD DEVICE WAS RESERVED BY THIS PROCESSOR
DEV_ALC        PERCENTAGE OF TIME DURING THE INTERVAL THAT THE DEVICE
               WAS ALLOCATED

REPORT NUMBER  9   JOB TOTALS BY JOB CLASS
SMF5JICL       JOB INPUT CLASS
NO_JOBS        NUMBER OF JOBS EXECUTED
Q_WAIT         TIME, IN HOURS, JOBS AWAITED EXECUTION
EX_TIME        TIME, IN HOURS, JOBS WERE IN EXECUTION
LAPSED         TOTAL OF Q_WAIT AND EX_TIME
SMF5JCPU       JOB TCB TIME IN MINUTES
SMF5SRBT       JOB SRB TIME IN MINUTES
CPU_TIME       TOTAL OF TCB AND SRB TIME IN MINUTES
SMF5TRAN       JOB TRANSACTION RESIDENCY TIME IN MINUTES
SMF5TTAT       JOB TRANSACTION ACTIVE TIME IN MINUTES

REPORT NUMBER  10  JOB AVERAGES BY JOB CLASS
SMF5JICL       JOB INPUT CLASS
NO_JOBS        NUMBER OF JOBS EXECUTED
Q_WAIT         AVERAGE TIME, IN MINUTES, A JOB AWAITED EXECUTION
EX_TIME        AVERAGE TIME, IN MINUTES, A JOB WAS IN EXECUTION
LAPSED         AVERAGE TOTAL OF Q_WAIT AND EX_TIME
SMF5JCPU       AVERAGE JOB TCB TIME IN MINUTES
SMF5SRBT       AVERAGE JOB SRB TIME IN MINUTES
CPU_TIME       AVERAGE TOTAL OF TCB AND SRB TIME IN MINUTES
SMF5TRAN       AVERAGE JOB TRANSACTION RESIDENCY TIME IN MINUTES
SMF5TTAT       AVERAGE JOB TRANSACTION ACTIVE TIME IN MINUTES

REPORT NUMBER  11  JOB AVERAGES BY COMPLETION TIME
RLAPSED        LAPSED TIME SEGMENTED IN 10 MINUTE INTERVALS
Q_WAIT         AVERAGE TIME, IN MINUTES, A JOB AWAITED EXECUTION
EX_TIME        AVERAGE TIME, IN MINUTES, A JOB WAS IN EXECUTION
LAPSED         AVERAGE TOTAL OF Q_WAIT AND EX_TIME
SMF5JCPU       AVERAGE JOB TCB TIME IN MINUTES
SMF5SRBT       AVERAGE JOB SRB TIME IN MINUTES
CPU_TIME       AVERAGE TOTAL OF TCB AND SRB TIME IN MINUTES
SMF5TRAN       AVERAGE JOB TRANSACTION RESIDENCY TIME IN MINUTES
SMF5TTAT       AVERAGE JOB TRANSACTION ACTIVE TIME IN MINUTES

REPORT NUMBER  12  JOB AVERAGES BY COMPLETION TIME AND CLASS
SMF5JICL       JOB INPUT CLASS
RLAPSED        LAPSED TIME SEGMENTED IN 10 MINUTE INTERVALS
Q_WAIT         AVERAGE TIME, IN MINUTES, A JOB AWAITED EXECUTION
EX_TIME        AVERAGE TIME, IN MINUTES, A JOB WAS IN EXECUTION
LAPSED         AVERAGE TOTAL OF Q_WAIT AND EX_TIME
SMF5JCPU       AVERAGE JOB TCB TIME IN MINUTES
SMF5SRBT       AVERAGE JOB SRB TIME IN MINUTES
CPU_TIME       AVERAGE TOTAL OF TCB AND SRB TIME IN MINUTES
SMF5TRAN       AVERAGE JOB TRANSACTION RESIDENCY TIME IN MINUTES
SMF5TTAT       AVERAGE JOB TRANSACTION ACTIVE TIME IN MINUTES
;;;;
PROC PRINT; ID CARD;
TITLE1 LIST OF TERMINOLOGY;
TITLE2 REPORT NUMBER 0;
PROC PRINT PAGE DATA=SMF.S70; BY DATE SID; ID TIME;
VARIABLES CPU0_BUS SERIAL_0 CPU1_BUS SERIAL_1 AVE_BUSY;
FORMAT CPU0_BUS 6.2 CPU1_BUS 6.2 AVE_BUSY 6.2 DATE DATE7.;
TITLE1 CPU UTILIZATION SUMMARY REPORT;
TITLE2 REPORT NUMBER 1;
PROC PRINT PAGE DATA=SMF.S71; BY DATE SID; ID TIME;
VAR PAGERATE PG_FLTS SYSIRATE SWAPRATE SWPGRATE
AVGPGOUT AVGPGIN;
FORMAT PAGERATE 6.2 PG_FLTS 6.2 SYSIRATE 6.2 SWAPRATE 6.4 SWPGRATE 6.2
AVGPGOUT 6.2 AVGPGIN 6.2 DATE DATE7.;
TITLE1 PAGING ANALYSIS;
TITLE2 REPORT NUMBER 2;
PROC PRINT PAGE DATA=SMF.S71; BY DATE SID; ID TIME;
VARIABLES SMF71AVF SMF71AVP SMF71AVS SMF71AVQ SMF71AVC SMF71AVR
          SMF71TIS SMF71LWS SMF71DWS SMF71ULS SMF71NRS SMF71ASS
          SMF71RSS SMF71EXS SMF71EES SMF71TOS;
FORMAT DATE DATE7.;
TITLE1 MAIN STORAGE FRAME COUNT AND SWAP ANALYSIS;
TITLE2 REPORT NUMBER 3;
PROC MEANS NOPRINT DATA=SMF.S72; BY DATE SID PGN;
VARIABLES SMF72TTX SMF72ACT SMF72TTM SMF72LEV
          SMF72MTS SMF72ITS SMF72CTS SMF72SER SMF72TAT SMF72SPP;
OUTPUT OUT=A1 N=NUMRECS
SUM= SMF72TTX SMF72ACT SMF72TTM SMF72LEV
     SMF72MTS SMF72ITS SMF72CTS SMF72SER SMF72TAT SMF72SPP;
PROC PRINT PAGE DATA=A1; BY DATE SID; ID PGN;
VARIABLES SMF72TTX SMF72ACT SMF72TTM SMF72LEV
          SMF72MTS SMF72ITS SMF72CTS SMF72SER SMF72TAT SMF72SPP;
FORMAT SMF72ACT 6.2 SMF72TTM 6.2 SMF72TAT 6.2 DATE DATE7.;
TITLE1 WORKLOAD STATISTICS;
TITLE2 REPORT NUMBER 4;
PROC MEANS NOPRINT DATA=SMF.S73 SUM MIN MAX MEAN;
BY DATE SID CHAN_ID CPU_ID TYPE;
VAR SIO BUSY BUSY_CW;
OUTPUT OUT=S73_1 (KEEP=SIO
                       A_SIO A_BUSY ABUSY_CW
                       L_SIO L_BUSY LBUSY_CW
                       H_SIO H_BUSY HBUSY_CW
                       DATE SID CHAN_ID CPU_ID TYPE)
SUM=SIO
MEAN=A_SIO A_BUSY ABUSY_CW
MIN=L_SIO L_BUSY LBUSY_CW
MAX=H_SIO H_BUSY HBUSY_CW
;
PROC PRINT PAGE DATA=S73_1; BY DATE SID; ID CHAN_ID;
VARIABLES CPU_ID SIO A_SIO A_BUSY ABUSY_CW
          L_SIO L_BUSY LBUSY_CW
          H_SIO H_BUSY HBUSY_CW;
FORMAT DATE DATE7. A_SIO 8. A_BUSY 5.2 ABUSY_CW 5.2
       L_BUSY 5.2 LBUSY_CW 5.2 H_BUSY HBUSY_CW;
TITLE1 CHANNEL UTILIZATION SUMMARY;
TITLE2 REPORT NUMBER 5;
DATA S73_2; SET SMF.S73;
IF (BUSY > 30 AND TYPE = 33)
OR (BUSY > 50 AND TYPE = 1);
*        TYPE 33 IS BMUX, TYPE 1 IS SELECTOR;
PROC PRINT PAGE DATA=S73_2; BY DATE SID; ID CHAN_ID;
VARIABLES CPU_ID TIME SIO BUSY BUSY_CW;
FORMAT DATE DATE7. BUSY 5.2 BUSY_CW 5.2;
TITLE1 CHANNEL EXCEPTIONS;
TITLE2 REPORT NUMBER 6;
PROC MEANS NOPRINT DATA=SMF.S74; BY DATE SID DEV_ADDR VOLSER;
VARIABLES IO BUSY QUED CU_DEL RESV_DEL DEV_RESV DEV_ALC;
OUTPUT OUT=S74A SUM=IO
MEAN= IODUMMY BUSY QUED CU_DEL RESV_DEL DEV_RESV DEV_ALC;
PROC MEANS NOPRINT DATA=SMF.S74; BY DATE SID;
VARIABLES IO BUSY QUED CU_DEL RESV_DEL DEV_RESV DEV_ALC;
OUTPUT OUT=S74B SUM=IO
MEAN= IODUMMY BUSY QUED CU_DEL RESV_DEL DEV_RESV DEV_ALC;
DATA S74C; SET S74A S74B;
IF DEV_ADDR=. THEN ID='TOTAL';
DROP IODUMMY;
PROC SORT; BY DATE SID ID DEV_ADDR VOLSER;
PROC PRINT PAGE DATA=S74C; BY DATE SID; ID ID;
VARIABLES DEV_ADDR VOLSER IO BUSY QUED
CU_DEL RESV_DEL DEV_RESV DEV_ALC;
FORMAT DEV_ADDR HEX4. IO 8. BUSY 4.2 QUED 4.2 CU_DEL 4.2
       RESV_DEL 4.2 DEV_RESV 4.2 DEV_ALC 4.2 DATE DATE7.;
TITLE1 DISK VOLUME ACTIVITY;
TITLE2 REPORT NUMBER 7;
DATA S74G; SET SMF.S74;
IF QUED >= .1 OR BUSY >=30;
PROC PRINT PAGE DATA=S74G; BY DATE SID; ID DEV_ADDR;
VARIABLES DEV_ADDR VOLSER TIME IO BUSY QUED
CU_DEL RESV_DEL DEV_RESV DEV_ALC;
FORMAT DEV_ADDR HEX4. IO 8. BUSY 4.2 QUED 4.2 CU_DEL 4.2
       RESV_DEL 4.2 DEV_RESV 4.2 DEV_ALC 4.2 DATE DATE7.;
TITLE1 DISK VOLUME EXCEPTIONS;
TITLE2 REPORT NUMBER 8;
PROC MEANS NOPRINT DATA=SMF.S5; BY DATE;
OUTPUT OUT=S5Y1 N=NO_JOBS;
DATA S5Y; SET S5Y1;
ID='TOTAL';
DATA S5Z; SET SMF.S5;
Q_WAIT=Q_WAIT/60;
EX_TIME=EX_TIME/60;
LAPSED=LAPSED/60;
PROC MEANS NOPRINT DATA=S5Z; BY DATE SMF5JICL;
VARIABLES Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
     SMF5TRAN SMF5TTAT;
OUTPUT OUT=S5A1 N=NO_JOBS
SUM= Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
     SMF5TRAN SMF5TTAT;
DATA S5A;SET S5A1;
ID='     ';
DATA S5D; MERGE S5A S5Y; BY DATE ID;
PROC PRINT PAGE DATA=S5D; BY DATE; ID ID;
FORMAT Q_WAIT 8. EX_TIME 8. LAPSED 8. SMF5JCPU 8.
       SMF5SRBT 8. CPU_TIME 8. SMF5TRAN 8. SMF5TTAT 8. DATE DATE7.;
TITLE1 JOB TOTALS BY JOB CLASS;
TITLE2 REPORT NUMBER 9;
PROC MEANS NOPRINT DATA=SMF.S5; BY DATE SMF5JICL;
VARIABLES Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
          SMF5TRAN SMF5TTAT;
OUTPUT OUT=S5B1 N=NO_JOBS
MEAN= Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
     SMF5TRAN SMF5TTAT;
DATA S5B; SET S5B1;
ID='     ';
DATA S5E; MERGE S5B S5Y; BY DATE ID;
PROC PRINT PAGE DATA=S5E; BY DATE; ID ID;
VARIABLES SMF5JICL NO_JOBS Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT
          CPU_TIME SMF5TRAN SMF5TTAT;
FORMAT Q_WAIT 7.2 EX_TIME 7.2 LAPSED 7.2 SMF5JCPU 6.2
       SMF5SRBT 6.2 CPU_TIME 6.2 SMF5TRAN 8.2 SMF5TTAT 8.2 DATE DATE7.;
TITLE1 JOB AVERAGES BY JOB CLASS;
TITLE2 REPORT NUMBER 10;
PROC SORT DATA=SMF.S5; BY DATE RLAPSED;
PROC MEANS NOPRINT DATA=SMF.S5; BY DATE RLAPSED;
VARIABLES Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
          SMF5TRAN SMF5TTAT;
OUTPUT OUT=S5C1 N=NO_JOBS
MEAN= Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
     SMF5TRAN SMF5TTAT;
DATA S5C; SET S5C1;
ID='     ';
DATA S5F; MERGE S5C S5Y; BY DATE ID;
PROC PRINT PAGE DATA=S5F; BY DATE; ID ID;
VARIABLES RLAPSED NO_JOBS Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT
          CPU_TIME SMF5TRAN SMF5TTAT;
FORMAT Q_WAIT 7.2 EX_TIME 7.2 LAPSED 7.2 SMF5JCPU 6.2
       SMF5SRBT 6.2 CPU_TIME 6.2 SMF5TRAN 8.2 SMF5TTAT 8.2 DATE DATE7.;
TITLE1 JOB AVERAGES BY COMPLETION TIME;
TITLE2 REPORT NUMBER 11;
PROC SORT DATA=SMF.S5; BY DATE SMF5JICL RLAPSED;
PROC MEANS NOPRINT DATA=SMF.S5; BY DATE SMF5JICL RLAPSED;
VARIABLES Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
          SMF5TRAN SMF5TTAT;
OUTPUT OUT=S5G N=NO_JOBS
MEAN= Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT CPU_TIME
     SMF5TRAN SMF5TTAT;
PROC PRINT PAGE DATA=S5G; BY DATE; ID SMF5JICL;
VARIABLES RLAPSED NO_JOBS Q_WAIT EX_TIME LAPSED SMF5JCPU SMF5SRBT
          CPU_TIME SMF5TRAN SMF5TTAT;
FORMAT Q_WAIT 7.2 EX_TIME 7.2 LAPSED 7.2 SMF5JCPU 6.2
       SMF5SRBT 6.2 CPU_TIME 6.2 SMF5TRAN 8.2 SMF5TTAT 8.2 DATE DATE7.;
TITLE1 JOB AVERAGES BY COMPLETION TIME AND CLASS;
TITLE2 REPORT NUMBER 12;

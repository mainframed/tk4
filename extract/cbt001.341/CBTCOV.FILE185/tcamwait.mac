TCAMWAIT $ENTER
*
*        THIS ROUTINE WAITS UNTIL TCAM IS IN THE SYSTEM,
*        THEN RETURNS.  IT MAY BE USED AS A PRIOR STEP
*        IN A JOB OR TASK WHICH STARTS A TCAM APPLICATION
*        TO PERMIT SUCH AN APPLICATION TO START AUTOMATICALLY
*        AT IPL WITHOUT THE DANGER OF ITS ABENDING AT QNAME
*        OPEN TIME BECAUSE TCAM HAS NOT FINISHED INITIALIZING.
*
         YREGS
LOOP     L     R1,CVTPTR
         ICM   R1,15,CVTAQAVT-CVT(R1)
         BNZ   FINI
         STIMER WAIT,BINTVL=SECS30
         B     LOOP
FINI     $EXIT ((14,12)),RC=0
SECS30   DC    A(30*100)
         LTORG
         PRINT NOGEN
         CVT   DSECT=YES,LIST=YES
         END

)TB 12
//&ZUSER&C!JOB '&JINFO   ',
//  TIME=2,MSGLEVEL=1,REGION=1024K,PRTY=7,
//  MSGCLASS=&MSG1,NOTIFY=&ZUSER
)SEL &GOGET = YES
//*ROUTE XEQ   &GLOC
)ENDSEL
<//*MAIN CLASS=&JCLASS×>
<//*MAIN ORG=&DEST1×>
//*MAIN USER=&ZUSER
)SEL &DSORG = PO
//UNLOAD   EXEC PGM=IEBCOPY               *** TRANSPDS ***
//SYSPRINT DD SYSOUT=*
//IN1      DD DSN=&DSNIN,DISP=SHR<,UNIT=&INUNIT,VOL=SER=&INVOLS×>
//OUT1     DD UNIT=SYSDA,DISP=(,PASS),SPACE=(CYL,(50,20),RLSE)
//SYSUT3   DD UNIT=SYSDA,SPACE=(CYL,(2,2))
//SYSUT4   DD UNIT=SYSDA,SPACE=(CYL,(2,2))
//SYSIN    DD *
 COPY OUTDD=OUT1,INDD=IN1
 <SELECT MEMBER=&MEMBER×>
)SEL &MEM1 ^= &Z && &NEW1 = &Z
 SELECT MEMBER=&MEM1
)ENDSEL
)SEL &MEM2 ^= &Z && &NEW2 = &Z
 SELECT MEMBER=&MEM2
)ENDSEL
)SEL &MEM3 ^= &Z && &NEW3 = &Z
 SELECT MEMBER=&MEM3
)ENDSEL
)SEL &MEM4 ^= &Z && &NEW4 = &Z
 SELECT MEMBER=&MEM4
)ENDSEL
)SEL &MEM5 ^= &Z && &NEW5 = &Z
 SELECT MEMBER=&MEM5
)ENDSEL
)SEL &MEM1 ^= &Z && &NEW1 ^= &Z
 SELECT MEMBER=((&MEM1,&NEW1))
)ENDSEL
)SEL &MEM2 ^= &Z && &NEW2 ^= &Z
 SELECT MEMBER=((&MEM2,&NEW2))
)ENDSEL
)SEL &MEM3 ^= &Z && &NEW3 ^= &Z
 SELECT MEMBER=((&MEM3,&NEW3))
)ENDSEL
)SEL &MEM4 ^= &Z && &NEW4 ^= &Z
 SELECT MEMBER=((&MEM4,&NEW4))
)ENDSEL
)SEL &MEM5 ^= &Z && &NEW5 ^= &Z
 SELECT MEMBER=((&MEM5,&NEW5))
)ENDSEL
)SEL &MOREMEM = YES
)DOT BDTTAB
)SEL &BDTMEM ^= &Z && &BDTNEWNM ^= &Z
 SELECT MEMBER=((&BDTMEM,&BDTNEWNM))
)ENDSEL
)SEL &BDTMEM ^= &Z && &BDTNEWNM = &Z
 SELECT MEMBER=&BDTMEM
)ENDSEL
)ENDDOT
)ENDSEL
)ENDSEL
//XMIT     EXEC PGM=BDTXMIT
//SYSPRINT DD SYSOUT=*
//INTRDR   DD SYSOUT=(A,INTRDR)
//JCL1     DD DATA
//&ZUSER&C!JOB '&JINFO   ',
//  TIME=2,MSGLEVEL=1,REGION=1024K,PRTY=7,
//  MSGCLASS=&MSG2,NOTIFY=&ZUSER
//*ROUTE XEQ   &LOC
<//*MAIN CLASS=&JCLASS×>
//*MAIN ORG=&DEST2,USER=&ZUSER
//RECEIVE  EXEC PGM=BDTRECV
//SYSPRINT DD SYSOUT=*
)SEL &DSORG = PO
//OUT1     DD UNIT=SYSDA,SPACE=(CYL,(5,20),RLSE),DISP=(,PASS)
)ENDSEL
)SEL &DSORG = PS
)SEL &DISP ^= NEW
//OUT1  DD DSN=&DSNOUT,DISP=&DISP
)ENDSEL
)SEL &DISP = NEW
//OUT1     DD DSN=&DSNOUT,
// DISP=(&DISP,CATLG,DELETE),
//  <VOL=REF=&VOLREF,×UNIT=&DEVTYPE,VOL=SER=&VOL,>
// DCB=(RECFM=&RECFM,LRECL=&LRECL,BLKSIZE=&BLKSIZE),
// SPACE=(&ALLOC,(&PRI,&SCALO),RLSE)
)ENDSEL
)ENDSEL
//INP1     DD *
/*
)SEL   &DSORG = PO
//INP1     DD DSN=*.UNLOAD.OUT1,DISP=(OLD,DELETE),
//         VOL=REF=*.UNLOAD.OUT1
)ENDSEL
)SEL   &DSORG = PS
//INP1     DD DSN=&DSNIN,DISP=SHR<,UNIT=&INUNIT,VOL=SER=&INVOLS×>
)ENDSEL
)SEL &DSORG = PO
//JCL2     DD DATA
)SEL &CLEAR = Y && &DISP ^= NEW
//RESET EXEC PGM=RESET
//STEPLIB  DD DSN=AOST.LOAD,DISP=SHR
//RESET   DD DSN=&DSNOUT,DISP=&DISP
//*****
)ENDSEL
//LOAD     EXEC PGM=IEBCOPY
//SYSPRINT DD SYSOUT=*
//IN2      DD DSN=*.RECEIVE.OUT1,DISP=(OLD,DELETE)
)SEL &DISP ^= NEW
//OUT2     DD DSN=&DSNOUT,DISP=&DISP
)ENDSEL
)SEL &DISP = NEW
//OUT2     DD DSN=&DSNOUT,
// DISP=(&DISP,CATLG,DELETE),
//  <VOL=REF=&VOLREF,×UNIT=&DEVTYPE,VOL=SER=&VOL,>
// DCB=(RECFM=&RECFM,LRECL=&LRECL,BLKSIZE=&BLKSIZE),
// SPACE=(&ALLOC,(&PRI,&SCALO,&DIRALLOC),RLSE)
)ENDSEL
//SYSUT3   DD UNIT=SYSDA,SPACE=(CYL,(2,2))
//SYSUT4   DD UNIT=SYSDA,SPACE=(CYL,(2,2))
//SYSIN    DD *
)SEL &REPL = NO
 COPY OUTDD=OUT2,INDD=IN2
/*
)ENDSEL
)SEL &REPL = YES
 COPY OUTDD=OUT2,INDD=((IN2,R))
/*
)ENDSEL
)ENDSEL

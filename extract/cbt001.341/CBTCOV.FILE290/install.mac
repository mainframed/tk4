//INSTALL JOB
//PLIXC   PROC RC=128K,WORK=SYSDA,PRINT=A,NAME=,PLIP=
//PLI     EXEC PGM=IEL0AA,REGION=&RC,PARM='INC,OPT(TIME),&PLIP'
//SYSLIB    DD DSN=UNB1.PDUMP.SOURCE,DISP=SHR
//SYSLIN    DD DSN=UNB1.PDUMP.OBJ(&NAME),DISP=SHR
//SYSPRINT  DD SYSOUT=&PRINT
//SYSTERM   DD SYSOUT=&PRINT
//SYSUT1    DD DSN=&&SYSUT1,UNIT=&WORK,
//          SPACE=(1024,(1500),,CONTIG,ROUND),DCB=BLKSIZE=1024
//SYSIN     DD DSN=UNB1.PDUMP.SOURCE(&NAME),DISP=SHR
//        PEND
//PLIXL   PROC RL=192K,WORK=SYSDA,PRINT=A
//LKED    EXEC PGM=IEWL,PARM='LIST,MAP',REGION=&RL
//SYSLIB    DD DSN=SYS1.PLIBASE,DISP=SHR
//SYSLIN    DD DDNAME=SYSIN
//SYSLMOD   DD DSN=UNB1.PDUMP.LOAD,DISP=SHR,SPACE=
//SYSPRINT  DD SYSOUT=&PRINT
//SYSUT1    DD DSN=&&SYSUT1,UNIT=&WORK,
//          SPACE=(1024,(1000),,CONTIG,ROUND),DCB=BLKSIZE=1024
//PLI       DD DSN=UNB1.PDUMP.OBJ,DISP=SHR
//        PEND
//ASMFC   PROC RC=128K
//ASM     EXEC PGM=IFOX00,REGION=&RC,PARM='NODECK,OBJECT'
//SYSLIB    DD DSN=SYS1.MACLIB,DISP=SHR
//          DD DSN=UNB1.PDUMP.SOURCE,DISP=SHR
//SYSUT1    DD UNIT=SYSDA,SPACE=(1700,(400,50))
//SYSUT2    DD UNIT=SYSDA,SPACE=(1700,(400,50))
//SYSUT3    DD UNIT=(SYSDA,SEP=(SYSUT2,SYSUT1,SYSLIB)),
//          SPACE=(1700,(400,50))
//SYSPRINT  DD SYSOUT=A
//SYSPUNCH  DD SYSOUT=B
//SYSGO     DD DSN=UNB1.PDUMP.OBJ(&NAME),DISP=SHR
//SYSIN     DD DSN=UNB1.PDUMP.SOURCE(&NAME),DISP=SHR
//        PEND
//*
//*    ASSEMBLE REQUIRED ROUTINES WITH OS/VS ASSEMBLER
//*
//ATTR      EXEC  ASMFC,NAME=ATTR
//BUFADD    EXEC  ASMFC,NAME=BUFADD
//CPPL      EXEC  ASMFC,NAME=CPPL
//DSCBF1    EXEC  ASMFC,NAME=DSCBF1
//FCBLOC    EXEC  ASMFC,NAME=FCBLOC
//FULLSCR   EXEC  ASMFC,NAME=FULLSCR
//HEXOUT    EXEC  ASMFC,NAME=HEXOUT
//PROFILE   EXEC  ASMFC,NAME=PROFILE
//RDDSCB    EXEC  ASMFC,NAME=RDDSCB
//SVC99     EXEC  ASMFC,NAME=SVC99
//TPUT      EXEC  ASMFC,NAME=TPUT
//TRANS32   EXEC  ASMFC,NAME=TRANS32
//TSOCP     EXEC  ASMFC,NAME=TSOCP
//*
//*    COMPILE REQUIRED ROUTINES WITH PL/1 OPTIMIZING COMPILER
//*
//BATCH     EXEC  PLIXC,NAME=BATCH
//IO3270    EXEC  PLIXC,NAME=IO3270
//PDUMVS    EXEC  PLIXC,NAME=PDUMVS,PLIP='INT'
//SCANNER   EXEC  PLIXC,NAME=SCANNER
//S99VAL    EXEC  PLIXC,NAME=S99VAL
//S99VCC    EXEC  PLIXC,NAME=S99VCC
//S99VDC    EXEC  PLIXC,NAME=S99VDC
//S99VIN    EXEC  PLIXC,NAME=S99VIN
//S99FREE   EXEC  PLIXC,NAME=S99FREE
//*
//*    LINK EDIT THE TSO COMMAND PROCESSOR
//*
//TSO       EXEC  PLIXL
//LKED.SYSLIB  DD  DSN=SYS1.PLITASK,DISP=SHR
//             DD  DSN=SYS1.PLIBASE,DISP=SHR
//LKED.SYSIN   DD  *
  INCLUDE  PLI(PDUMVS)
  INCLUDE  PLI(IO3270,SCANNER,S99VAL,S99VIN,S99FREE)
  INCLUDE  PLI(ATTR,BUFADD,CPPL,DSCBF1,FCBLOC,FULLSCR,HEXOUT)
  INCLUDE  PLI(PROFILE,RDDSCB,SVC99,TPUT,TSOCP)
  EXPAND   PLISTART(56)
  NAME     PDUMP(R)
/*
//*
//*    APPLY ZAP TO CSECT PLISTART TO SAVE CPPL AND PASS A NULL PARM
//*
//ZAPPER  EXEC  PGM=AMASPZAP
//SYSPRINT  DD  SYSOUT=*
//SYSLIB    DD  DSN=UNB1.PDUMP.LOAD,DISP=SHR
//SYSIN     DD  DSN=UNB1.PDUMP.SOURCE(ZAP),DISP=SHR
//*
//*    LINK EDIT THE BATCH VERSION
//*
//BATCH  EXEC  PLIXL
//LKED.SYSIN  DD  *
  INCLUDE  PLI(BATCH)
  INCLUDE  PLI(FCBLOC,HEXOUT,TRANS32,SCANNER)
  NAME     PDUMPB(R)
/*
//*
//*    BOTH VERSIONS OF PDUMP CAN BE TESTED WHILE RESIDING IN
//*    UNB1.PDUMP.LOAD BUT FOR A PRODUCTION ENVIRONMENT THE TSO VERSION
//*    SHOULD BE MOVED TO TSO CMDLIB AND THE BATCH VERSION TO A
//*    PRODUCTION LINKLIB. THEN THE SOURCE, OBJECT AND LOAD
//*    LIBRARIES CAN BE DELETED.
//*

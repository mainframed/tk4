IO3270 IS A PL/1 FULL SCREEN SUPPORT PACKAGE FOR 3270 TERMINALS UNDER
TSO VTAM OR TCAM. AN OPTIONAL PAGING FEATURE ALLOWS THE USER TO SAVE
SCREEN CONTENTS AS THEY ARE GENERATED THUS MAINTAINING A LOG OF ALL
TERMINAL ACTIVITY. PREVIOUS SCREEN CONTENTS ARE VIEWED BY ENTERING
SELECT MODE. TO ACTIVATE THE PAGING FEATURE SIMPLY ALLOCATE A FILE
TO DDNAME SYSPAGE PRIOR TO INVOCATION.
      EG.   ALLOC FI(SYSPAGE) SPACE(1) CYLINDERS
A PL/1 REGIONAL(1) FILE IS USED TO ACCESS THIS DATASET. ONE BLOCK OF
3276 BYTES IS STORED PER SCREEN REGARDLESS OF SCREEN SIZE. THERE
SHOULD BE SUFFICIENT SPACE TO HOLD THE NUMBER OF PAGES REQUESTED
IN IOXOPT. NOTE THAT ALTHOUGH THIS PACKAGE SUPPORTS TERMINALS WITH
A VARIABLE NUMBER OF ROWS (UP TO 43), THE ONLY SCREEN WIDTH SUPPORTED
IS 80 BYTES.

THE SCREEN IS FORMATTED AS FOLLOWS:
     1 - OUTPUT AREA (ALL ROWS EXCEPT LAST 4)
     2 - INFORMATION LINE (1 ROW)
     3 - INPUT AREA (2 ROWS) (THUS MAX INPUT MESSAGE IS 160 BYTES)
     4 - INFORMATION LINE (1 ROW)

IO3270 OPTIONS ARE DESCRIBED IN AN EXTERNAL STRUCTURE NAMED
IOXOPT WHICH MUST BE INITIALIZED BEFORE THE PACKAGE IS STARTED.
FOR MORE INFORMATION ON THE OPTIONS IN IOXOPT SEE THE COMMENTS
IN MEMBER IO3270.

CALLING SEQUENCE:
    DCL IO3270 EXTERNAL ENTRY(CHAR(*) VAR,FIXED BIN(15))
               RETURNS(FIXED BIN(15));
    DCL RC3270 FIXED BIN(15);  /* RETURN CODE */
    DCL 1 IOXOPT STATIC EXTERNAL,  /* IO3270 OPTIONS */
          2 ISTR CHAR(30) VAR,
          2 PFILE FILE VARIABLE,
          2 IFLAGS,
            3 TRANS BIT(1),
            3 ATTN  BIT(1),
            3 IFILL BIT(14),
          2 ROWS FIXED BIN(15),
          2 #PAGES FIXED BIN(15);
    DCL MSG CHAR(200) VAR;  /* INPUT OR OUTPUT MESSAGE */
    DCL OPT FIXED BIN(15);  /* OPTION (IO3270 COMMAND) */
    RC3270=IO3270(MSG,OPT);

VALID OPTIONS:
      0 - FORMAT/REFORMAT SCREEN (INITIALIZE)
      1 - WRITE TO OUTPUT AREA
      2 - SHUTDOWN
      3 - INPUT (NO REFLECT)
      4 - TURN OFF FULL SCREEN MODE VTAM
      5 - INPUT (REFLECT)
      6 - SET FULL SCREEN MODE VTAM

REFLECT MEANS PLACE A COPY OF THE INPUT MESSAGE IN THE OUTPUT AREA.
THE FIRST BYTE OF THE INPUT MESSAGE IS THE AID BYTE AS DESCRIBED
IN GA27-2749 IBM 3270 INFORMATION DISPLAY SYSTEM COMPONENT DESCRIPTION.

RETURN CODES ARE THOSE FROM TPUT. CODE 24 MEANS INVALID OPTION.

SELECT MODE IS ENTERED BY PRESSING PF1. FROM THIS MODE:
       PF3 - LEAVE SELECT MODE (RETURN TO INPUT MODE)
       PF4 - PRINT SCREEN IMAGE
       PF7 - PAGE BACK ONE PAGE
       PF8 - PAGE FORWARD ONE PAGE

SPECIAL KEYS AND THEIR FUNCTION:
       PA1 - ATTENTION INTERRUPT. ATTN IN IOXOPT IS SET TO '1'B
             AND CONTROL RETURNS TO CALLING PROGRAM.
       PA2 - RESHOW (REDISPLAY SCREEN CONTENTS).
             CONTROL REMAINS IN IO3270.
       PF1 - ENTER SELECT MODE. CONTROL REMAINS IN IO3270.
       CLEAR - CLEAR SCREEN AND OBTAIN A FRESH PAGE. CONTROL REMAINS
               IN IO3270. THE SWITCH IS ALSO MADE FROM SELECT MODE
               TO INPUT MODE IF IN SELECT MODE WHEN PRESSED.

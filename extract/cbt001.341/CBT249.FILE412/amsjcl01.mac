)ATTR
 ^ TYPE(TEXT) INTENS(LOW) SKIP(ON)
)BODY
%---------- ACCESS METHOD SERVICES (AMS) -- SAVE BATCH JCL -------------
+
+SPF LIBRARY:
+   PROJECT%===>_AMSPRO1 +             PRESS%END KEY+CANCEL SAVE REQUEST
+   LIBRARY%===>_AMSLIB1 +             PRESS%ENTER+TO CAUSE DATA TO BE S
+   TYPE   %===>_AMSTYP1 +
+   MEMBER %===>_AMSMBR1 +
+
+OTHER PARTITIONED OR SEQUENTIAL DATA SET:
+   DATASET NAME %===>_AMSDSN02
+
+
+
+
+IF MEMBER NAME SPECIFIED ALREADY EXISTS IN DATA SET IT WILL BE REPLACED
)INIT
  &A1 = ' '
  &A2 = ' '
  &A3 = ' '
  &ADSN = ' '
)PROC
  IF (&AMSDSN02 = ' ')
    VER (&AMSPRO1,NB,DSNAME)
    VER (&AMSLIB1,NB,DSNAME)
    VER (&AMSTYP1,NB,DSNAME)
    VER (&AMSMBR1,NAME)
    &ADSN = '&AMSPRO1..&AMSLIB1..&AMSTYP1'
 /* IF (&AMSMBR1  ^= ' ')             */    USE THESE LINES TO ADD THE
 /*    &ADSN = '&ADSN(&AMSMBR1)'      */    MEMBER NAME TO THE DSN
  IF (&AMSDSN02 ^= ' ')
      VER (&AMSDSN02,DSNAME)
      &A1 = TRUNC(&AMSDSN02,1)
      IF (&A1 ^= '''')
        &ADSN = '&ZPREFIX..&AMSDSN02'
      &A2 = .TRAIL
      IF (&A1 = '''')
          &ADSN = TRUNC(&A2,'''')
      &A1 = TRUNC(&ADSN,'(')         /* REMOVE MEMBER NAME IF PRESENT */
      &A2 = .TRAIL
      &A3 = TRUNC(&A2,')')
      &ADSN = &A1
  VER (&ADSN,DSNAME)
  IF (&A3 = ' ')
      &AMSMBR = &AMSMBR1
  IF (&A3 ^= ' ')
      &AMSMBR = &A3
)END

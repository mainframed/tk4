//BLDO JOB (CCP64,1B),'',REGION=512K,NOTIFY=CCP11
/*JOBPARM TIME=1929,TAPES=2,LINES=10K
/*ROUTE  PRINT LOCAL
//*
//* NOTE TO AUBURN:
//*
//* BEFORE TESTING THIS JCL AT AUBURN, CHANGE EVERY OCCURRENCE OF
//* 'CCP11.Q.' TO 'CCP11.QS.' AND EVERY OCCURRENCE OF 'CCP64.' TO
//* 'CCP64.QS.'.  CHANGE THE JOBPARM TIME TO 29 SECONDS.
//*
//*
//* FUNCTION:
//*
//* BLDO IS THE SECOND OF THE QUANDRY BUILDERS.  IT TAKES AS
//* INPUT THE QUANDRY ERIC FILE (CCP11.Q.E) AND BUILDS A FILE
//* OF OCCURRENCES OF MAJOR DESCRIPTORS AND MAJOR IDENTIFIERS
//* (CCP64.MAJOR) AND A FILE OF AUTHORS, MINOR DESCRIPTORS,
//* AND MINOR IDENTIFIERS (CCP64.MINOR). SEPARATE STEPS USE A
//* SORT UTILITY TO PREPARE THE FILES FOR THE FINAL BUILDER,
//* BLDX.
//*
//* JCL MODIFICATIONS:
//*
//* JOB CARDS, DEVICE TYPES, VOLUMES, AND SO FORTH MUST BE
//* MODIFIED TO CONFORM TO YOUR INSTALLATION AND REQUIREMENTS.
//* THE STEPS USING THE AUBURN UNIVERSITY UTILITY TAPEFILE MUST
//* BE REMOVED OR MODIFIED.  TAPEFILE REQUESTS THE OPERATOR TO
//* FILE A TAPE IN THE MASTER TAPE RACK OR UNCATALOGS A MASTER
//* TAPE AND REQUESTS THE OPERATOR TO RETURN IT TO THE SCRATCH
//* RACK.  SORT PARAMETERS ARE FOR SYNCSORT (TM) AND MUST BE
//* ALTERED FOR IBM SORT/MERGE.
//*
//* THE CPU TIME CAN BE REDUCED TO 29 SECONDS AND THE SORTWORK
//* FILES TO 2 CYLINDERS (3350) WHEN BUILDING THE TEST FILES.
//*
//* RESOURCE ESTIMATES:
//*
//* RUNNING ON A 158 MOD 1 WITH 3350'S ON ONE CHANNEL, BLDO TOOK
//* 5 MINUTES OF COMPUTER TIME, DID 19K TAPE OPERATIONS, AND DID
//* 175K DISK OPERATIONS.  THE SORT STEPS TOOK AN ADDITIONAL
//* 6 MINUTES OF COMPUTER TIME EACH, RUNNING WITH SIX 20 CYLINDER
//* SORTWORK DATASETS ON 3350'S (SYNCSORT).  CLOCK TIME TOTALLED
//* 1 HOUR, 50 MINUTES.  IN 175000 RECORDS, THERE WERE 1.86
//* MILLION OCCURRENCES.
//*
//* SAMPLE OUTPUT:
//*
//* THE CCP11.Q.E DATASET BUILT BY BLDE FROM THE SAMPLE DATA HAS
//* 1000 RECORDS.  THE OUTPUT FROM BLDO SHOULD BE:
//*
//* OCCURRENCES  0012401
//* RECORDS      0001000
//*
// EXEC TAPEFILE
//SYSIN DD *
 RETURN CCP64.MAJOR
 RETURN CCP64.MINOR
// EXEC ASMFCG
//SYSLIB DD DSNAME=SYS1.MACLIB,DISP=SHR
// DD DSNAME=CCP11.Q.ASM,DISP=SHR
//ASM.SYSIN DD DSNAME=CCP11.Q.ASM(BLDO),DISP=SHR
//GO.ERIC DD DSNAME=CCP11.Q.E,DISP=SHR,DCB=DSORG=PS
//GO.MAJOR DD DSNAME=CCP64.MAJOR,DISP=(NEW,CATLG),
// UNIT=3400-3,VOL=(,RETAIN)
//GO.MINOR DD DSNAME=CCP64.MINOR,DISP=(NEW,CATLG),
// UNIT=3400-3,VOL=(,RETAIN)
//GO.SYSUDUMP DD SYSOUT=A
//FILE EXEC TAPEFILE,COND=EVEN
//SYSIN DD *
 FILE CCP64.MAJOR
 FILE CCP64.MINOR
//SRTMAJOR EXEC SORTD,PARM='VSCORE=512000,CORE=MAX,OPT=D'
//SORTWK01 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK02 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK03 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK04 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK05 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK06 DD UNIT=3350,SPACE=(CYL,25)
//SORTIN   DD DSNAME=CCP64.MAJOR,DISP=OLD,VOL=(,RETAIN)
//SORTOUT  DD DSNAME=CCP64.MAJOR,DISP=OLD,UNIT=AFF=SORTIN
//SYSIN    DD *
 SORT FIELDS=(5,31,CH,A,1,4,CH,A),SIZE=E850000
//SRTMINOR EXEC SORTD,PARM='VSCORE=512000,CORE=MAX,OPT=D'
//SORTWK01 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK02 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK03 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK04 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK05 DD UNIT=3350,SPACE=(CYL,25)
//SORTWK06 DD UNIT=3350,SPACE=(CYL,25)
//SORTIN   DD DSNAME=CCP64.MINOR,DISP=OLD,VOL=(,RETAIN)
//SORTOUT  DD DSNAME=CCP64.MINOR,DISP=OLD,UNIT=AFF=SORTIN
//SYSIN    DD *
 SORT FIELDS=(5,31,CH,A,1,4,CH,A),SIZE=E1000000
//

         MACRO
         CBSEG &OFF=,&LEN=,&NAME='CTRL BLK'
         GBLC  &FIRST,&PREV,&CURR,&NEXT
         GBLA  &SEGOFF,&HEX
         LCLC  &SEGSTR
         AIF   (&FIRST EQ &NEXT).NF    SKIP IF FIRST SEG
         DC    AL2(0)                  END PREVIOUS SEGMENT
.NF      ANOP
&PREV    SETC  '&CURR'
&CURR    SETC  '&NEXT'
&NEXT    SETC  '&SYSNDX'
CB&CURR  DC    AL4(CB&PREV,CB&NEXT)    PREV AND NEXT SEG ADDRS
         CBCONV &OFF,OFF
&SEGOFF  SETA  &HEX
&SEGSTR  SETC  '&HEX' GET AROUND SIGN PROBLEMS WITH SETC
         AIF   (&HEX GE 0).NOSIGN
&SEGSTR SETC '-'.'&HEX'
.NOSIGN  ANOP
         CBCONV &LEN,LEN
         DC    FL2'&SEGSTR,&HEX'       SEGMENT DATA OFFSET AND LENGTH
         DC    CL8&NAME                SEGMENT NAME
.MEND    MEND

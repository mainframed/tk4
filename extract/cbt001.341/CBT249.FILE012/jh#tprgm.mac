PROC 0 PANEL() PANEL2() SKEL() MSGPFX()
 /*    RON MURA, TECHNICAL SERVICES                                  */
 /* 01/18/84 MURA - CHANGE COMPONENT NAMES                           */
 CONTROL NOFLUSH NOPROMPT
 SET &MSG =
SHOW: +
 ISPEXEC DISPLAY PANEL(&PANEL) MSG(&MSG)     /*              01/18/84*/
 IF &LASTCC^=0 THEN EXIT CODE(0)
 SET &MSG =
 IF &O ^= 4 THEN DO
         ISPEXEC DISPLAY PANEL(&PANEL2)     /*     VERIFICATION PANEL*/
         IF &LASTCC^=0 THEN GOTO SHOW
                 END

 CONTROL NOMSG
 FREE    F(SYSPRINT SYSIN DD1)
 CONTROL MSG

 ALLOC F(SYSPRINT) DA(*)             /* ALLOCATE SYSPRINT            */

 IF &O < 3 × &O > 4                  /* ALLOCATE VOLUME              */+
    THEN ALLOC F(DD1) UNIT(&TDEV) VOL(&TVOL) DA('&TDSN') SHR

 ISPEXEC FTOPEN TEMP
 ISPEXEC VGET ZTEMPF
 ISPEXEC FTINCL &SKEL
 ISPEXEC FTCLOSE
 ALLOC F(SYSIN) DA('&ZTEMPF') SHR

 CALL 'SYS1.LINKLIB(IEHPROGM)'
 SET &TRC = &LASTCC

 CONTROL NOMSG
 FREE    F(SYSIN DD1)
 CONTROL MSG
 ALLOC   F(SYSIN)      DA(*)

 SET &TFUNC2 = &STR(&TFUNC OF &TDSN &TVOL &TMEM..) /*        01/18/84*/
 SET &TFUNC = IEHPROGM               /*                      01/18/84*/
 ISPEXEC LOG MSG(JHA@M029)           /* WRITE MSG TO LOG             */
 SET &MSG = JHA@M001                 /* SET ERROR RETURN CODE MSG    */
 IF &TRC = 0 THEN SET &MSG = JHA@M000 /* UNLESS CC IS 0              */

 GOTO SHOW

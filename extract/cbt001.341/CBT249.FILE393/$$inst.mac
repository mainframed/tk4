
FOR FURTHER INFORMATION ON THIS VERSION OF THE QUEUE COMMAND CONTACT:

JACK SCHUDEL
NORTHEAST REGIONAL DATA CENTER
233 SSRB, UNIVERSITY OF FLORIDA
GAINESVILLE, FLORIDA  32611
(904) 392-4601
SHARE CODE - UF


THIS VERSION OF QUEUE WAS DERIVED FROM FILE 278 OF THE CBT MODS TAPE,
WHICH HAD BEEN OBTAINED FROM VERSION 18 OF THE SHARE JES2 PROJECT TAPE.
IT HAS BEEN RUN ON THE FOLLOWING VERSIONS OF JES2 (ASSUMING THAT THE
APPROPRIATE SYSPARM OPTIONS HAVE BEEN SET):

            JES2 4.1
            JES2 NJE 3.1
   HJE2226  MVS/SP-JES2 RELEASE 3
   HJE2329  MVS/SP-JES2 RELEASE 1.3.3  (XA 2.1.1)
   HJE2330  MVS/SP-JES2 RELEASE 1.3.4  (XA 2.1.2)

THE CURRENT NERDC ENVIRONMENT IS JES2 1.3.4, RUNNING UNDER BOTH
MVS/370 1.3.4 AND XA 2.1.2.

QUEUE SUPPORT FOR VERSIONS OF JES2 THAT ARE NO LONGER IN PRODUCTION
AT THE NERDC MAY NO LONGER WORK, SINCE IT IS NO LONGER POSSIBLE FOR
QUEUE TO BE TESTED IN THOSE ENVIRONMENTS.  AN EFFORT HAS BEEN MADE
TO MAINTAIN COMPATIBILITY WITH THE PREVIOUS RELEASES, BUT IT IS
POSSIBLE THAT SOME INCOMPATIBILITIES HAVE BEEN OVERLOOKED.

IN THE NERDC ENVIRONMENT, USE OF THE QUEUE COMMAND IS RESTRICTED TO
SYSTEMS PROGRAMMING PERSONNEL INVOLVED IN JES2 MAINTENANCE, AND THERE
HAVE BEEN SEVERAL COMMANDS ADDED FOR THIS USAGE.  AN ATTEMPT HAS BEEN
MADE TO REQUIRE THAT THE COMMANDS THAT ALLOW THE UNRESTRICTED ACCESS
TO SPOOL DATA AND CONTROL BLOCKS BE AVAILABLE TO ONLY AUTHORIZED USERS,
BUT THERE WERE ALSO CHANGES MADE TO ALLOW THOSE AUTHORIZED USERS FULL
ACCESS TO THE SYSTEM WITHOUT HAVING ANY NAMING CONVENTION RESTRICTIONS
IMPOSED UPON THEM.  IT IS THEREFORE NORMAL FOR AN AUTHORIZED USER
TO BE ABLE TO USE THE LIST COMMAND AGAINST ANY JOB IN THE SYSTEM
INSTEAD OF HAVING TO USE THE XD COMMAND.

THE COMMAND ONLY NEEDS TO RUN AUTHORIZED FOR THE FOLLOWING COMMANDS
CANCEL, REQUEUE, AND PURGE. IF YOU DO NOT MARK THE CODE AC=1, THESE
THREE COMMANDS WILL NOT FUNCTION.

========================================================================

INSTALLATION PROCEDURE FOR QUEUE:

     1. Q0 IS THE COMMON AREA.
        QCOMMON, QSTART, QSTOP, QTILT, AND $JQT ARE MACROS.
        OTHER MEMBERS NOT STARTING WITH $ OR # ARE RENT SOURCE MODULES
        (SEE MEMBER $NERJCLn FOR A COMPLETE LIST).
        (USERS OF THE OLD QUEUE COMMAND WILL NOTICE THAT ALL OF THE
         Q1 - QNN MODULES HAVE BEEN RENAMED TO MAKE LIFE EASIER ON ME.)
        #HELP IS THE TSO HELP MEMBER.
        $NERJCLn IS THE JCL TO ASSEMBLE AND LINK QUEUE.
        #TABLE IS A SAMPLE SMP JOB TO AUTHORIZE THE QUEUE COMMAND.

     2. EDIT MACRO QSTART CHANGING THE FOLLOWING PARAMETERS:

        &QDSPRFX  CORRESPONDS TO &DSNPRFX.
        &QCKPTV   IS ONLY REQUIRED IF SYS1.HASPCKPT IS NOT CATALOGUED.
        &QSID(n)  CORRESPOND  TO &Sn, AND MUST BE IN THE SAME ORDER.
        &Q1CMD    IS THE FIRST COMMAND ISSUED.
        &QPF(n)   ARE THE DEFAULT PFK SETTINGS.

        EDIT THE MACRO QSTART TO INDICATE THE OPTIONS DESIRED,
        OR SPECIFY THEM AS SYSPARM INPUT TO THE ASSEMBLER.
        IT IS USUALLY EASIEST TO SPECIFY THE OPTIONS AS SYSPARM
        INPUT TO THE ASSEMBLER, SINCE THIS WILL ENSURE THAT ANY
        COMPLEX OPTION DEPENDENCIES ARE RESOLVED.
        IT WILL BE NECESSARY TO LOOK AT THE MACRO FOR A DESCRIPTION
        OF THE OPTIONS AVAILABLE.
        INSTALLATION SPECIFIC OPTIONS SHOULD NOT BE SPECIFIED.
        THESE USUALLY DEPEND UPON MODIFICATIONS THAT ARE ONLY
        PRESENT AT THE NAMED INSTALLATION, AND ARE PROVIDED FOR
        THOSE INSTALLATIONS THAT HAVE PROVIDED ENHANCEMENTS TO THIS
        VERSION OF QUEUE.

        AT PRESENT THERE IS SUPPORT IN THE INITIALIZATION MODULE TO
        DYNAMICALLY ALLOCATE THE CHECKPOINT ON EITHER 3330, 3330-1,
        3350, OR 3380. IF YOU ARE FORTUNATE ENOUGH TO HAVE A DRUM OR
        SOMETHING ELSE YOU WILL HAVE TO MODIFY INIT TO ADD SUPPORT.

     3. EDIT MEMBER $NERJCLn TO CHANGE THE JCL TO FIT YOUR STANDARDS.
        DO NOT ALTER THE ORDER OF THE ASSEMBLY SYSLIBS AS THERE IS A
        CONFLICT ON THE MACRO QSTART.  THE DBCSYMED PROGRAM THAT IS USED
        AFTER THE ASSEMBLIES IS A PART OF THE YALE DBC PROGRAM PRODUCT
        AVAILABLE FROM CSR.  IT EDITS THE GENERATED SYM CARDS IN THE
        OBJECT DECK TO REMOVE NULL ENTRIES AND MOST OF THE DUPLICATE
        ONES.  IF THE PROGRAM IS NOT AVAILABLE, SIMPLY DELETE THE STEP
        AND CHANGE THE ASSEMBLER SYSPUNCH REFERENCE.

        THE SUPPLIED JCL GENERATES A SINGLE LOAD MODULE WHICH IS NOT
        REENTRANT.  THIS IS IDEAL FOR TESTING, BUT MAY NOT BE DESIRED IN
        A PRODUCTION ENVIRONMENT.  TO GENERATE A REENTRANT VERSION OF
        THE COMMAND, LINK ALL MODULES EXCEPT Q0 AS A SINGLE PROGRAM
        NAMED QUEUE (ALIAS Q) INTO SYS1.LPALIB.  IT WILL NEED AN
        AUTHORIZATION CODE OF 1 IF YOU DESIRE TO USE THE CANCEL,
        REQUEUE, AND PURGE COMMANDS.  THE LINKEDIT OF MODULE QUEUE WILL
        GENERATE AN UNRESOLVED EXTERNAL REFERENCE FOR MODULE QUEUECMN,
        WHICH IS NORMAL AND SHOULD BE IGNORED.  MODULE Q0 SHOULD THEN BE
        ASSEMBLED AND LINKED INTO SYS1.LINKLIB OR SYS1.CMDLIB WITH A
        NAME OF QUEUECMN.  IT MUST NOT BE LINKED WITH RENT.
        IF YOU WANT TO CHANGE THE NAME OF QUEUECMN, THE ONLY REFERENCE
        TO IT IS IN MEMBER INIT WHERE THE LINK IS ISSUED.

     4. IF THE CANCEL, REQUEUE, AND PURGE COMMANDS ARE DESIRED, ADD
        QUEUE (ALIAS Q) TO THE IKJEFTE2 MODULE WHICH IS THE TSO LIST
        OF AUTHORIZED COMMANDS. A SAMPLE SMP JOB IS PROVIDED IN THE
        MEMBER TABLE. QUEUE CAN BE RUN UNDER SPF BUT THE SUBCOMMANDS
        USING THE SUBSYSTEM INTERFACE (CANCEL, REQUEUE, AND DELETE)
        WILL BE INOPERABLE, ALL OTHER COMMANDS WILL FUNCTION NORMALLY.
        IF YOU DON'T MIND THE INTEGRITY PROBLEM YOU CAN ADD CODE TO
        QUEUE TO USE A SPECIAL SVC TO GET INTO SUPERVISOR STATE AND
        HAVE FULL FACILITY UNDER SPF.

SOME OF THE CODE MAY BE DEPENDENT ON ASSEMBLER H, BUT ALL THAT SHOULD
BE NEEDED IS TO MOVE SOME OF THE DSECTS AROUND TO GET THEM IN THE
PROPER ORDER FOR THE OTHER ASSEMBLERS.

FOR FURTHER INFORMATION ON THE SUPPORT FOR MVS/SP-JES2 RELEASE 2 AND
ABOVE, SEE MEMBER $SP.

TO MAKE IT EASIER TO ENTER CERTAIN COMMANDS, COMMAND NAMES MAY NOW
BE UP TO FOUR CHARACTERS.

MEMBER $LOG IS A CHRONOLOGICAL LIST OF THE CHANGES THAT HAVE BEEN MADE
TO THIS PROGRAM, AND SHOULD BE CONSULTED BY USERS WHO HAVE A PREVIOUS
VERSION AND WANT TO KNOW WHAT HAS BEEN CHANGED.

MEMBER $UFDOC IS A LIST OF THE INDIVIDUAL UF... MODIFICATIONS:



INTEL MODIFICATIONS TO THE QUEUE COMMAND

FOR FURTHER INFORMATION ON THESE MODIFICATIONS, PLEASE CONTACT:

        KEN TRUE
        INTEL CORPORATION
        1766 JUNCTION AVENUE
        SAN JOSE, CALIFORNIA 95112

        PHONE:  (408) - 987-5004

THIS VERSION OF QUEUE WAS DERIVED FROM FILE 307 OF THE CBT MODS TAPE
(VERSION 181).  THE UNIVERSITY OF FLORIDA HAD GENERATED THEIR MODS
FOR CBT FILE 307 FROM FILE 278 OF THE CBT MODS TAPE.  FILE 278 OF
THE MODS TAPE WAS OBTAINED FROM VERSION 18 OF THE SHARE JES2 PROJECT
TAPE.  (ARE YOU STILL WITH ME?)    ANYWAY,  YOU CAN ALWAYS USE
THE YALE COMPARE PROGRAM TO SEE HOW THIS HYBRID VERSION OF QUEUE
IS MODIFIED IN RELATION TO THE 'OFFICIAL' VERSION PROVIDED BY
THE AUTHORS AT TRW AND THE SHARE JES2 MODS TAPE.

THE QUEUE COMMAND HAS BEEN TESTED UNDER:
  MVS/SE2 (8101) WITH ACF/VTAM REL2     AND
  MVS/SP1.1 (8106) WITH ACF/VTAM REL3 AND TCAM10


THE FOLLOWING IS A SUMMARY OF AMENDMENTS TO QUEUE:


  SUPPORT FOR 3278/3279 MOD 3 ADDED.  THIS VERSION NOW SUPPORTS
  THE FOLLOWING TERMINALS:

      3278-2 -3 -4 -5
      3279-2A/2B
      3279-3A/3B

  ADDITIONAL DISPLAY SUPPORT PROVIDED:

    -  INSERT OF STFSMODE MACROS AT PROPER POINTS ENSURES THAT TSO
       SEND MESSAGES FROM OTHER USERS OR NOTIFY FROM JOBS WILL
       BE DISPLAYED WITH 'THREE BALLS' (***) FOR THE USER TO SEE.

    -  'NO-FLASH' SCREEN DISPLAY PROVIDED BY SOME MINOR CHANGES IN
       THE CODE NOW GENERATES A SCREEN DISPLAY WITH THE SAME 'FEEL'
       AS IN SPF OR ISPF. (E.G. - SMOOTH SCROLLING WITH NO 'FLASH')

    -  SUPPORT FOR 24 PFK OPERATION WAS BAGGED FROM CBT-FILE 308
       AND IS BASED ON THE MODS BY LANE BRYANT.


  PRINT SCREEN SUPPORT MODIFIED -
    - PRINT 2 SCREENS PER PAPER PAGE FOR -2 (24X80) AND -5 (27X132)
    - PRINT 1 SCREEN  PER PAPER PAGE FOR -3 (32X80) AND -4 (43X80)

  ACF2 SUPPORT ENHANCED -
    - IN 'FINDJOB' - ALLOW ACCESS IF USERID=JOBNAME OR JOBNAME WAS
      SUBMITTED BY USERID.
    - ADDED ACF2 CHECKING FOR 'CAN/REQ/DEL' COMMAND - REQUIRES
      ACF2 'ALLOC' AUTH TO DSN='SYSOUT.LOGONID.JOBNAME'

  COMMAND ENHANCEMENTS:

    -ST-   STATUS COMMAND NOW ACCEPTS A JOBMASK INSTEAD OF JUST A
           JOBNAME.  THE MASK IS COMPOSED OF A PARTIAL JOBNAME
           WITH '.', '*', OR '?' CHARACTERS USED AS "DON'T CARE"
           CHARACTERS.  (EG  'ST AB?DE.F'  WOULD FIND ALL JOBS THAT
           HAVE 'AB' AS THE FIRST 2 CHARS OF THE JOBNAME, 'DE' AS
           THE 4-5 CHARS, AND 'F' IN THE 7 CHAR.  ANYTHING IN CHAR
           3, 6 OR 8 WILL MATCH).

    -DF-   A 'HOWFULL' ROUTINE WAS ADDED TO SHOW PERCENTAGE OF
           SPOOL UTILIZATION.

    -DA-   MODIFIED TO SHOW JOBS ACTIVE ON DEVICES IN ADDITION TO
           JOBS IN EXECUTION.

    -SLOG- MODIFIED TO START DISPLAY AT COLUMN 6 (OMIT THE ROUTE/
           DESCRIPTOR CODES)

    -XI-   THE DISPLAY INITIATORS COMMAND HAS BEEN GIVEN AN ALIAS
           OF 'IN' AND EITHER OPERATOR PRIVLEDGE OR XP-PASSWORD
           USERS MAY DISPLAY INITIATORS.  THE DISPLAY HAS THE
           CURRENT JOBCLASS ADDED, AND MAKES USE OF THE NEW
           &MAXCLAS VARIABLE IN QSTART MACRO TO DETERMINE THE
           NUMBER OF CLASSES PER INITIATOR.

    -JH-   JOB HISTORY COMMAND ADDED TO SHOW DATA BASED ON JES2 JCT
           FOR THE JOB.  ALSO SHOWS ACF2 INFO ABOUT LOGONID, AND
 (NEW)     SOURCE OF THE JOB.  ACF2 INFO IS CONTROLED BY THE &QACF2
           GLOBAL FLAG IN QSTART MACRO.

    -HD-   THE HELD DETAIL COMMAND IS RESTRICTED TO USAGE BY TSO
           USERS WITH THE 'OPERATOR' AUTHORITY.  IT READS THE
           HELD SYSOUT QUEUE, AND FOR EACH ENTRY, ISSUES A JCT
 (NEW)     READ TO ALLOW YOU TO SEE THE NUMBER OF 'HIDDEN' LINES
           OF SYSOUT ON THE HOLD QUEUE.  LOTS OF I/O WITH THIS CMD,
           THAT'S WHY THE OPERATOR AUTHORITY RESTRICTION.

   -D...-  THE DISPLAY COMMANDS NOW PUT OUT A TRAILER LINE TO
           TOTAL THE NUMBER OF RECORDS IN THE QUEUE(S) YOU HAVE
           SELECTED.

   -JCL-   THE JCL COMMAND NOW HAS 2 OPTIONAL OPERANDS AFTER THE
           JOBID.

           JC * R    WILL FETCH THE 'RAW' JCL (UN-INTREPRETED)
           JC * I    WILL FETCH THE INTERNAL TEXT FOR THE JOB.

   -JLOG-  THE JOBLOG COMMAND NOW ALLOWS DISPLAY OF JOBLOG FOR JOBS
           CURRENTLY EXECUTING.  NOTE: AFTER THE JES2
           PERFORMANCE PTF (AZ44947), THE JOBLOG IS NOT WRITTEN EACH
           TIME A LINE IS READY, SO OUTPUT FOR THE CURRENT EXECUTING
           STEP MAY NOT BE VIEWABLE. JOBLOG FROM ALL PREVIOUS STEPS
           WILL BE AVAILABLE.

   -DD-    THE DISPLAY DATASETS COMMAND HAS BEEN MODIFIED TO
           SHOW STEPNAME AND PROCSTEP NAME (WHEN AVAILABLE).


 MODULE ENHANCEMENTS:


           A NEW VERSION OF 'FORMAT' (Q7) IS INCLUDED TO PROVIDE
           DIFFERENT OUTPUT FROM THE DISPLAY QUEUE COMMANDS
           DI,AI,HI,DO,HO,AO,ST,DJ.  IF YOU PREFER THE OLD WAY
           OF DISPLAYING OUTPUT, USE MEMBER Q7OLD FOR THE FORMAT
           FUNCTION.  THIS VERSION OF FORMAT IS BASED ON CODE FROM
           THE 'STATUS' COMMAND FROM THE SHARE JES2 MODS TAPE
           WRITTEN BY HUGHES AIRCRAFT.
           THE NEW FORMAT FOR MESSAGES IS :

    JES2 #    JOBNAME  # IN Q  STATUS
   TSU  NNNNN XXXXXXXX  NNNNN  SSSSSSSSSSSSSSSSSS ... YYYYYYYYYYYYYY

   WHERE STATUS IS:

           AWAITING XEQ CLASS A, PRT=RMT15, PUN=LOCAL

  (STC)    ACTIVE, SYS=XXXXXXXX
  (TSO)    LOGGED ON, SYS=XXXXXXXX
  (BAT)    EXECUTING CLASS X, SYS=XXXXXXXX

           OUT=X D=RMT15 F=FORM C=FCB1 T=UCS1 L=NNNNNNN

           ON PRINTER2, CLASS=A, LINES=NNNNN ,TO GO=NNNNN

           AWAITING OUTPUT OF NNN HELD SYSOUT(S)

 YYYYYYYYY IS  HOLD × PURGE × CANCEL × DUPLICATE









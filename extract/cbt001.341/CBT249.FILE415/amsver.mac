PROC 0
/*-------------------------------------------------------------------*/
/* REFER    : AMSVER       - AMS CLIST TO INVOKE THE VERIFY FEATURE  */
/* DATE     : DEC 1983                                               */
/* AUTHOR   : DAVE WEILERT                                           */
/*-------------------------------------------------------------------*/
SETCNTL: +
    ISPEXEC VGET DEBUG SHARED
    IF &DEBUG = &STR(DEBUG) THEN DO
        CONTROL MSG NOFLUSH LIST CONLIST SYMLIST PROMPT MAIN
    END DO
    ELSE DO
        CONTROL NOMSG NOFLUSH NOLIST NOCONLIST NOSYMLIST PROMPT MAIN
    END DO
    SET &MSGID =
INIT: +
    ISPEXEC CONTROL DISPLAY REFRESH
    ISPEXEC DISPLAY PANEL(AMSVER01) MSG(&MSGID)
    IF &LASTCC = &STR(8) THEN DO
        EXIT
    END DO
PROCESS: +
    IF &AMSMODE = &STR(B) THEN DO
        GOTO BATCH
    END DO
    CONTROL MSG
    VERIFY DS('&AMSDSN01')
    GOTO INIT
BATCH: +
    SET &AMSP1 = &STR(VERIFY DS('&AMSDSN01')  )
    SET &AMSP2 = &STR(   )
    SET &AMSP3 = &STR(   )
    SET &AMSP4 = &STR(   )
    SET &AMSP5 = &STR(   )
    SET &AMSP6 = &STR(   )
    SET &AMSFUNC = &STR(VERIFY)
    SET &AMSFILE = &STR(//*  )
    ISPEXEC VPUT (AMSP1 AMSP2 AMSP3 AMSP4 AMSP5 AMSP6 -
    AMSFUNC AMSFILE) SHARED
    %AMSSUBMT
    ISPEXEC VGET (AMSRC ADSN AMSMBR) SHARED
    IF &AMSRC = 0  THEN SET &MSGID = &STR(      )
    IF &AMSRC = 1  THEN SET &MSGID = &STR(AMS020)
    IF &AMSRC = 8  THEN SET &MSGID = &STR(AMS016)
    IF &AMSRC = 12 THEN SET &MSGID = &STR(AMS017)
    IF &AMSRC = 16 THEN SET &MSGID = &STR(AMS018)
    GOTO INIT

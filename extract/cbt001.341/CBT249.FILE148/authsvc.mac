//ASM1   EXEC  PGM=IFOX00,PARM='OBJ,NODECK,NORLD,RENT'
//SYSLIB   DD  DSN=SYS1.MACLIB,DISP=SHR
//SYSUT1   DD  UNIT=VIO,SPACE=(1700,(300,50))
//SYSUT2   DD  UNIT=VIO,SPACE=(1700,(200,50))
//SYSUT3   DD  UNIT=VIO,SPACE=(1700,(200,50))
//SYSPRINT DD  SYSOUT=*
//SYSGO    DD  UNIT=VIO,SPACE=(400,(50,50,5)),DISP=(,PASS),
//             DSN=&&X(IGC00235),DCB=BLKSIZE=400
//SYSIN    DD  *
IGC00235 CSECT
         USING *,BASE               SET BASE REG
         B     ENT0001
         DC    AL1(ENT0001-*),C'IGC0023E &SYSDATE &SYSTIME'
         SPACE ,
R0       EQU   0                    PARM REGISTER
WA       EQU   2                    WORK REGISTER
CVT      EQU   3                    POINTER TO CVT
TCB      EQU   4                    POINTER TO TCB
RB       EQU   5                    POINTER TO RB
BASE     EQU   6                    BASE REGISTER
R14      EQU   14                   LINK REGISTER
         SPACE 3
ENT0001  L     WA,28(,RB)           ADDRESS OF CALLERS RB TO WA
         CLC   21(3,WA),361(CVT)    CHECK RESUME PSW
         BL    RETURN               EXIT, CALLER NOT IN PLPA
         L     WA,180(,TCB)         ADDRESS OF JSCB TO WA
         BCT   R0,AUTHOFF           R0 ^= 1 REQUESTS AUTH OFF
AUTHON   OI    236(WA),X'01'        SET JSCBAUTH BIT
         B     RETURN
AUTHOFF  NI    236(WA),X'FE'        SET JFCBAUTH BIT OFF
RETURN   BR    R14
         END   IGC00235
//LKED   EXEC  PGM=IEWL,COND=(0,NE),REGION=768K,
//             PARM='LIST,MAP,NCAL,DC,RENT'
//SYSPRINT DD  SYSOUT=*
//SYSLMOD  DD  DSN=SYS1.LPALIB,DISP=SHR,UNIT=3350,VOL=SER=SYSRES
//SYSUT1   DD  UNIT=VIO,SPACE=(1024,200)
//SYSLIB   DD  DSN=&&X,DISP=(OLD,DELETE)
//SYSLIN   DD  *
  INCLUDE SYSLIB(IGC00235)
  NAME  IGC0023E(R)

//MONTHLY  JOB (U00000),SOFTWARE,CLASS=P,MSGCLASS=W
//JOBLIB  DD DSN=SYS1.PANLIB,DISP=SHR
/*
/*       BACK UP DATA PRIOR TO PROCESSING
/*
//STEP1       EXEC PGM=IEBGENER
//SYSPRINT     DD  SYSOUT=*
//SYSUDUMP     DD  SYSOUT=*
//SYSIN        DD  DUMMY
//SYSUT1       DD  DSN=PAN.ECGCOUNT,DISP=OLD
//SYSUT2       DD  DSN=PAN.MONTHEND,UNIT=TAPE,VOL=PRIVATE,
//             DISP=(NEW,KEEP,KEEP)
/*
/*       PRINT MONTHLY USAGE REPORT
/*
//STEP2       EXEC PGM=SFT8MVAD
//SYSPRINT     DD  SYSOUT=*
//SYSUDUMP     DD  SYSOUT=*
//COUNTER      DD  DSN=PAN.ECGCOUNT,DISP=OLD
//REPORT       DD  SYSOUT=*
//PREFIXTB     DD  DSN=EMMETT.PANSPOOL(PREFIXTB),DISP=SHR
/*
/*       RESET MONTHLY DATA SET TO START CLEAN
/*
//STEP3       EXEC PGM=IEBGENER
//SYSPRINT     DD  SYSOUT=*
//SYSUDUMP     DD  SYSOUT=*
//SYSIN        DD  DUMMY
//SYSUT1       DD  *
//SYSUT2       DD  DSN=PAN.ECGCOUNT,DISP=OLD
MONTHLY PANSPOOL RECORD COUNT FILE ***************************
/*
/*       PURGE DAILY JOB TO RUN ARCHIVER
/*
//STEP4    EXEC PGM=SFT8MV99,PARM='P PANSPOOL'
/*
/*       RESET EXPIRATION DATE ON MONTH END TAPE
/*
//STEP5    EXEC PGM=IEBGENER,COND=(0,LT)
//SYSPRINT  DD  SYSOUT=*
//SYSIN     DD  DUMMY
//SYSUT2    DD  UNIT=TAPE,DSN=PAN.SARCHIVE(0),
//     DCB=(RECFM=FB,LRECL=80,BLKSIZE=8000),LABEL=(2,SL,RETPD=390),
//     DISP=(OLD,KEEP,DELETE)
//SYSUT1    DD  *
START OF NEW PERIOD - RETAIN LAST DAILY ARCHIVE OF EACH MONTH 1 YEAR
/*
/*       LIST MONTH END DIRECTORY
/*
//STEP6    EXEC PGM=IEBGENER,COND=(0,LT)
//SYSPRINT  DD  SYSOUT=*
//SYSIN     DD  DUMMY
//SYSUT1    DD  DISP=OLD,DSN=PAN.SDIRECT(0)
//SYSUT2    DD  SYSOUT=*
/*
/*       WRITE FILE TO WORK AREA
/*
//STEP7       EXEC PGM=PAN#1,REGION=104K
//SYSPRINT     DD  SYSOUT=*
//PANDD1       DD  DSNAME=PAN.SPOOL,DISP=SHR
//PANDD2       DD  DSNAME=SFT.JCLWORK,DISP=(NEW,CATLG,KEEP),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4080),UNIT=SYSDA,
//             SPACE=(CYL,(50,25),RLSE)
//SYSIN        DD  *
++WRITE  WORK,*
/*
/*       PRODUCE DAILY FICHE
/*
//STEP8       EXEC PGM=SFT8MVAC,COND=(0,LT)
//SYSPRINT     DD  SYSOUT=*
//SYSUDUMP     DD  SYSOUT=*
//INPUT        DD  DSN=SFT.JCLWORK,DISP=OLD
//MONTH        DD  DSN=PAN.ECGCOUNT,DISP=(MOD,KEEP,KEEP)
//PREFIXTB     DD  DSN=EMMETT.PANSPOOL(PREFIXTB),DISP=SHR
//FICH1        DD  SYSOUT=F
//FICH2        DD  SYSOUT=(F,,F002)
//FICH3        DD  SUBSYS=(F,,F002)
/*
/*       ARCHIVE DAILY DATA TO TAPE
/*
//STEP9    EXEC PGM=JCLARCH,PARM='/123199,MONTHLY',COND=(0,LT),
//        REGION=1024K
//SYSPRINT  DD  SYSOUT=*
//SYSUDUMP  DD  SYSOUT=*
//PL1DUMP   DD  SYSOUT=*
//PANARCH   DD  SYSOUT=*,DCB=(RECFM=FBA,LRECL=133,BLKSIZE=1330)
//PANERRS   DD  SYSOUT=*,DCB=(RECFM=FBA,LRECL=133,BLKSIZE=1330)
//PANDD1    DD  DISP=SHR,DSN=PAN.SPOOL
//PANDD2    DD  UNIT=TAPE,VOL=PRIVATE,DSN=PAN.SARCHIVE(+1),
//          LABEL=(1,SL,EXPDT=99003),DISP=(,CATLG,UNCATLG)
//PANDD3    DD  UNIT=(TAPE,,DEFER),DSN=PAN.SARCHIVE(0),DISP=OLD
//TEMPFILE  DD  UNIT=SYSDA,SPACE=(CYL,(2,1)),DSN=PAN.SPOOLTEM,
//     DISP=(,KEEP)
//SYSOUT    DD  SYSOUT=*,DCB=(RECFM=FBA,LRECL=121,BLKSIZE=3146)
//SORTIN    DD  VOL=REF=*.TEMPFILE,DSN=PAN.SPOOLTEM,
//     DISP=(OLD,DELETE,DELETE)
//SORTOUT   DD  UNIT=TAPE,LABEL=(1,SL,EXPDT=99003),
//     DSN=PAN.SDIRECT(+1),
//     DISP=(,CATLG,UNCATLG)
//SORTWK01  DD  UNIT=SYSDA,SPACE=(CYL,(7,3))
//SORTWK02  DD  UNIT=SYSDA,SPACE=(CYL,(7,3))
//SORTWK03  DD  UNIT=SYSDA,SPACE=(CYL,(7,3))
/*
/*       RESTART DAILY RUN FOR NEXT 24 HOURS
/*
//STEP11      EXEC PGM=SFT8MV99,PARM='S PANSPOOL',COND=EVEN
/*

++USERMOD(ZP60013)                     /* COUNT SVC EVENTS */  .
++VER(Z038) FMID(FBB1221)
 /*
   PROBLEM DESCRIPTION:
     THE NUMBER OF SVCS ISSUED IS NOT ACCURATELY KNOWN.
       THE SYSTEM DOES NOT PROVIDE A METHOD FOR TRACKING THE
       FREQUENCY OF SUPERVISOR CALLS (SVC INSTRUCTIONS) WITHOUT
       A GTF TRACE.

       THIS USERMOD CHANGES THE SVC FIRST LEVEL INTERRUPT HANDLER
       TO MAINTAIN A FULLWORD COUNTER FOR EACH OF THE 256 SVC
       NUMBERS (0 TO 255) IN A CONTIGUOUS TABLE.  THIS TABLE IS
       AVAILABLE TO MONITORS FOR TRACKING SVC ACTIVITY.  ACCESS
       TO THE TABLE IS VIA THE SECOND WORD OF THE SVC NEW PSW
       FLCSNPSW WHICH POINTS TO THE SVC FLIH.  AFTER THE SYSTEM
       IS REIPLED WITH THIS SYSMOD APPLIED, THE TWELVE BYTES
       BEFORE THE SVC FLIH ENTRY POINT CONTAIN THE EIGHT-BYTE
       LITERAL 'SVCCTTBL' AND A FOUR-BYTE POINTER TO THE TABLE.
       THE PRESENCE OF THE LITERAL SHOULD BE VERIFIED BEFORE
       AN ATTEMPT IS MADE TO ACCESS THE TABLE.

       ADDITIONALLY THE SVC FLIH WILL ABEND (S0F8) ISSUERS OF
       THE SVC INSTRUCTION WHICH ARE IN CROSS-MEMORY MODE.

   SPECIAL CONDITIONS:
     ACTION:
       AN IPL MUST BE PERFORMED FOR THIS SYSMOD TO BECOME ACTIVE.

   COMMENTS:
     PRYCROFT SIX P/L PUBLIC DOMAIN USERMOD FOR MVS 3.8 NUMBER 13.

     THE FOLLOWING MODULES AND/OR MACROS ARE AFFECTED BY THIS USERMOD:
     MODULES:
       IEAVESVC
 */.
++MOD(IEAVESVC) DISTLIB(AOSC5).
ESD      
ESD      
ESD      
ESD      
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
RLD      
END                            15741SC103 020113274
  IDENTIFY IEAVESVC('ZP60013')

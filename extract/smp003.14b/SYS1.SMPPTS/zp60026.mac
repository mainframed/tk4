++USERMOD(ZP60026)       /* ADD REUSE OPERAND TO ALLOCATE */  .
++VER(Z038) FMID(EBB1102) PRE(UZ80347,UZ69512,UZ58132,UZ65229,UZ52701)
 /*
   PROBLEM DESCRIPTION:
     THERE IS NO WAY TO INFORM ALLOCATE TO REUSE A DDNAME IN USE.
       AN ALLOCATE COMMAND IS SOMETIMES ISSUED WHICH SPECIFIES A
       FILE OR DD NAME OF AN EXISTING ALLOCATION.  THERE IS NO
       METHOD OF SPECIFYING IN THE INITIAL REQUEST THAT ALLOCATE
       SHOULD FREE THE EXISTING ALLOCATION BEFORE PROCEDING WITH
       THE REQUESTED ALLOCATION.  SUCH A SCENARIO TRIGGERS A
       PROMPT FOR 'FREE' (TO PROCEED) OR 'END' (TO TERMINATE).
       CLISTS WHICH ALLOCATE SPECIFIC DDNAMES SHOULD ISSUE FREE
       COMMANDS FOR THOSE DDNAMES BEFORE THE ALLOCATE COMMANDS,
       WHICH CAN THEN TRIGGER UNWANTED MESSAGES WHICH ARE OFTEN
       SUPPRESSED WITH CLIST 'CONTROL NOMSG' STATEMENTS.

       THIS USERMOD ADDS A 'REUSE' KEYWORD OPERAND TO THE TSO
       ALLOCATE COMMAND.  THE USE OF THIS OPERAND ON AN ALLOCATE
       COMMAND CAUSES ALLOCATE TO BYPASS THE PROMPT FOR 'FREE' OR
       'END' AND TO PROCEED AS IF 'FREE' HAS BEEN ENTERED.

       THIS OPERAND IS COMPATIBLE WITH TSO/E.  CLISTS FROM TSO/E
       ENVIRONMENTS WILL NOT NEED EXTRA CONTROL/FREE/CONTROL
       STATEMENTS ADDED AND ALLOCATE 'REUSE' OPERANDS REMOVED IN
       ORDER TO RUN IN AN ENVIRONMENT WITH THIS USERMOD APPLIED.

   SPECIAL CONDITIONS:
     NONE.

   COMMENTS:
     PRYCROFT SIX P/L PUBLIC DOMAIN USERMOD FOR MVS 3.8 NUMBER 26.

     REWORK HISTORY:
       2010-02-27: UPDATE ALLOCATE TSO HELP MEMBER.

     THE FOLLOWING MODULES AND/OR MACROS ARE AFFECTED BY THIS USERMOD:
     MODULES:
       IKJEFD30
       IKJEFD31
       IKJEFD32
       IKJEFD33
       IKJEFD34
       IKJEFD35
       IKJEFD36
       IKJEFD37
     MACROS:
       ALLOCATE
 */.
++MACUPD(ALLOCATE) DISTLIB(AHELP).
./ CHANGE NAME=ALLOCATE
                    VSEQ('VOL-SEQ-NUMBER') ROUND  REUSE
))REUSE     -     FILE BEING ALLOCATED IS TO BE FREED AND RE-ALLOCATED
                  IF CURRENTLY IN USE.
++MOD(IKJEFD30) DISTLIB(AOST4).
ESD      
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
END 
  IDENTIFY IKJEFD30('ZP60026')
++MOD(IKJEFD31) DISTLIB(AOST4).
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
END                            15741SC103 020113274
  IDENTIFY IKJEFD31('ZP60026')
++MOD(IKJEFD32) DISTLIB(AOST4).
ESD      
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
END 
  IDENTIFY IKJEFD32('ZP60026')
++MOD(IKJEFD33) DISTLIB(AOST4).
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
END 
  IDENTIFY IKJEFD33('ZP60026')
++MOD(IKJEFD34) DISTLIB(AOST4).
ESD      
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
END 
  IDENTIFY IKJEFD34('ZP60026')
++MOD(IKJEFD35) DISTLIB(AOST4).
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
END 
  IDENTIFY IKJEFD35('ZP60026')
++MOD(IKJEFD36) DISTLIB(AOST4).
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
END 
  IDENTIFY IKJEFD36('ZP60026')
++MOD(IKJEFD37) DISTLIB(AOST4).
ESD      
ESD      
ESD      
ESD      
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
TXT 
RLD      
RLD      
RLD      
RLD      
END 
  IDENTIFY IKJEFD37('ZP60026')

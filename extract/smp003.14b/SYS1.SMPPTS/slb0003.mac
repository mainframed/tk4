++USERMOD(SLB0003)       /* TIMER/STIMER ROUTINE */ .
++VER(Z038) FMID(FBB1221) PRE(UZ35704)
 /*
   PROBLEM DESCRIPTION:
     CSDGDCC IS A FULL-WORD NUMERIC VALUE SET IN IEAVRTOD TO CONTAIN
       THE NUMBER OF WORKING CLOCK COMPARATORS IN THE COMPLEX. IN
       MVS 3.8 THIS WILL BE EITHER 1 (UP) OR 2 (AP/MP). COMMUNICATIONS
       TASK INITIALIZATION ISSUES STIMER REQUESTS WHICH DEPEND UPON
       THERE BEING WORKING CLOCK COMPARATORS IN THE COMPLEX (WHICH
       MEANS CSDGDCC > 0). TIMING ISSUES IN THE HERCULES ENVIRONMENT
       CAN SOMETIMES CAUSE CSDGDCC TO BE ZERO WHEN THE STIMER REQUEST
       IS ISSUED, AND RESULTS IN AN ABEND22F.

     THIS USER MODIFICATION MAKES THE ASSUMPTION THAT WHEN RUNNING
       UNDER HERCULES, THE CLOCK COMPARATOR WILL ALWAYS BE FUNCTIONAL.
       CONSEQUENTLY, THE STIMER ROUTINE IS MODIFIED TO IGNORE THE FACT
       THAT CSDGDCC IS CURRENTLY ZERO, AND TO SIMPLY CONTINUE PROCESSING
       THE STIMER REQUEST AND QUEUE THE NECESSARY TQE.

   SPECIAL CONDITIONS:
     ACTION:
       A "CLPA" MUST BE PERFORMED AT IPL TIME FOR THIS SYSMOD TO
       BECOME ACTIVE.

   COMMENTS:
     THIS USERMOD WAS WRITTEN AND PUBLISHED BY SHELBY BEACH.

     THE FOLLOWING MODULES AND/OR MACROS ARE AFFECTED BY THIS USERMOD:
     MODULES:
       IEAVRT00 (CSECT IGC0004F)
 */.
++ZAP(IEAVRT00) DISTLIB(AOSC5).
 NAME IGC0004F IGC0004F
 IDRDATA SLB0003
*
*  IGNORE NON-WORKING CLOCK COMPARATORS CONDITION
*
 VER 0972 47709956  BNZ   @RF00491 BRANCH IF GOOD CLOCK COMPARATOR
 REP 0972 47F09956  B     @RF00491 PROCEED WITH STIMER REQUEST
